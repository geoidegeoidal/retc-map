function ok(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const A=Object.getOwnPropertyDescriptor(n,s);A&&Object.defineProperty(e,s,A.get?A:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const A of s)if(A.type==="childList")for(const d of A.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&n(d)}).observe(document,{childList:!0,subtree:!0});function r(s){const A={};return s.integrity&&(A.integrity=s.integrity),s.referrerPolicy&&(A.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?A.credentials="include":s.crossOrigin==="anonymous"?A.credentials="omit":A.credentials="same-origin",A}function n(s){if(s.ep)return;s.ep=!0;const A=r(s);fetch(s.href,A)}})();var Vse=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Jb={exports:{}},n0={};var dS;function lk(){if(dS)return n0;dS=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,s,A){var d=null;if(A!==void 0&&(d=""+A),s.key!==void 0&&(d=""+s.key),"key"in s){A={};for(var l in s)l!=="key"&&(A[l]=s[l])}else A=s;return s=A.ref,{$$typeof:e,type:n,key:d,ref:s!==void 0?s:null,props:A}}return n0.Fragment=t,n0.jsx=r,n0.jsxs=r,n0}var pS;function Ak(){return pS||(pS=1,Jb.exports=lk()),Jb.exports}var De=Ak(),ew={exports:{}},Sn={};var gS;function uk(){if(gS)return Sn;gS=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),d=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),b=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),F=Symbol.iterator;function T(be){return be===null||typeof be!="object"?null:(be=F&&be[F]||be["@@iterator"],typeof be=="function"?be:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,K={};function q(be,ee,ye){this.props=be,this.context=ee,this.refs=K,this.updater=ye||z}q.prototype.isReactComponent={},q.prototype.setState=function(be,ee){if(typeof be!="object"&&typeof be!="function"&&be!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,be,ee,"setState")},q.prototype.forceUpdate=function(be){this.updater.enqueueForceUpdate(this,be,"forceUpdate")};function ne(){}ne.prototype=q.prototype;function W(be,ee,ye){this.props=be,this.context=ee,this.refs=K,this.updater=ye||z}var le=W.prototype=new ne;le.constructor=W,H(le,q.prototype),le.isPureReactComponent=!0;var ce=Array.isArray;function me(){}var Ee={H:null,A:null,T:null,S:null},Ie=Object.prototype.hasOwnProperty;function ge(be,ee,ye){var Te=ye.ref;return{$$typeof:e,type:be,key:ee,ref:Te!==void 0?Te:null,props:ye}}function je(be,ee){return ge(be.type,ee,be.props)}function ie(be){return typeof be=="object"&&be!==null&&be.$$typeof===e}function de(be){var ee={"=":"=0",":":"=2"};return"$"+be.replace(/[=:]/g,function(ye){return ee[ye]})}var Fe=/\/+/g;function Le(be,ee){return typeof be=="object"&&be!==null&&be.key!=null?de(""+be.key):ee.toString(36)}function it(be){switch(be.status){case"fulfilled":return be.value;case"rejected":throw be.reason;default:switch(typeof be.status=="string"?be.then(me,me):(be.status="pending",be.then(function(ee){be.status==="pending"&&(be.status="fulfilled",be.value=ee)},function(ee){be.status==="pending"&&(be.status="rejected",be.reason=ee)})),be.status){case"fulfilled":return be.value;case"rejected":throw be.reason}}throw be}function Pe(be,ee,ye,Te,Ne){var Ze=typeof be;(Ze==="undefined"||Ze==="boolean")&&(be=null);var et=!1;if(be===null)et=!0;else switch(Ze){case"bigint":case"string":case"number":et=!0;break;case"object":switch(be.$$typeof){case e:case t:et=!0;break;case w:return et=be._init,Pe(et(be._payload),ee,ye,Te,Ne)}}if(et)return Ne=Ne(be),et=Te===""?"."+Le(be,0):Te,ce(Ne)?(ye="",et!=null&&(ye=et.replace(Fe,"$&/")+"/"),Pe(Ne,ee,ye,"",function(pt){return pt})):Ne!=null&&(ie(Ne)&&(Ne=je(Ne,ye+(Ne.key==null||be&&be.key===Ne.key?"":(""+Ne.key).replace(Fe,"$&/")+"/")+et)),ee.push(Ne)),1;et=0;var gt=Te===""?".":Te+":";if(ce(be))for(var Ke=0;Ke<be.length;Ke++)Te=be[Ke],Ze=gt+Le(Te,Ke),et+=Pe(Te,ee,ye,Ze,Ne);else if(Ke=T(be),typeof Ke=="function")for(be=Ke.call(be),Ke=0;!(Te=be.next()).done;)Te=Te.value,Ze=gt+Le(Te,Ke++),et+=Pe(Te,ee,ye,Ze,Ne);else if(Ze==="object"){if(typeof be.then=="function")return Pe(it(be),ee,ye,Te,Ne);throw ee=String(be),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(be).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return et}function ke(be,ee,ye){if(be==null)return be;var Te=[],Ne=0;return Pe(be,Te,"","",function(Ze){return ee.call(ye,Ze,Ne++)}),Te}function Ge(be){if(be._status===-1){var ee=be._result;ee=ee(),ee.then(function(ye){(be._status===0||be._status===-1)&&(be._status=1,be._result=ye)},function(ye){(be._status===0||be._status===-1)&&(be._status=2,be._result=ye)}),be._status===-1&&(be._status=0,be._result=ee)}if(be._status===1)return be._result.default;throw be._result}var Oe=typeof reportError=="function"?reportError:function(be){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof be=="object"&&be!==null&&typeof be.message=="string"?String(be.message):String(be),error:be});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",be);return}console.error(be)},st={map:ke,forEach:function(be,ee,ye){ke(be,function(){ee.apply(this,arguments)},ye)},count:function(be){var ee=0;return ke(be,function(){ee++}),ee},toArray:function(be){return ke(be,function(ee){return ee})||[]},only:function(be){if(!ie(be))throw Error("React.Children.only expected to receive a single React element child.");return be}};return Sn.Activity=S,Sn.Children=st,Sn.Component=q,Sn.Fragment=r,Sn.Profiler=s,Sn.PureComponent=W,Sn.StrictMode=n,Sn.Suspense=y,Sn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ee,Sn.__COMPILER_RUNTIME={__proto__:null,c:function(be){return Ee.H.useMemoCache(be)}},Sn.cache=function(be){return function(){return be.apply(null,arguments)}},Sn.cacheSignal=function(){return null},Sn.cloneElement=function(be,ee,ye){if(be==null)throw Error("The argument must be a React element, but you passed "+be+".");var Te=H({},be.props),Ne=be.key;if(ee!=null)for(Ze in ee.key!==void 0&&(Ne=""+ee.key),ee)!Ie.call(ee,Ze)||Ze==="key"||Ze==="__self"||Ze==="__source"||Ze==="ref"&&ee.ref===void 0||(Te[Ze]=ee[Ze]);var Ze=arguments.length-2;if(Ze===1)Te.children=ye;else if(1<Ze){for(var et=Array(Ze),gt=0;gt<Ze;gt++)et[gt]=arguments[gt+2];Te.children=et}return ge(be.type,Ne,Te)},Sn.createContext=function(be){return be={$$typeof:d,_currentValue:be,_currentValue2:be,_threadCount:0,Provider:null,Consumer:null},be.Provider=be,be.Consumer={$$typeof:A,_context:be},be},Sn.createElement=function(be,ee,ye){var Te,Ne={},Ze=null;if(ee!=null)for(Te in ee.key!==void 0&&(Ze=""+ee.key),ee)Ie.call(ee,Te)&&Te!=="key"&&Te!=="__self"&&Te!=="__source"&&(Ne[Te]=ee[Te]);var et=arguments.length-2;if(et===1)Ne.children=ye;else if(1<et){for(var gt=Array(et),Ke=0;Ke<et;Ke++)gt[Ke]=arguments[Ke+2];Ne.children=gt}if(be&&be.defaultProps)for(Te in et=be.defaultProps,et)Ne[Te]===void 0&&(Ne[Te]=et[Te]);return ge(be,Ze,Ne)},Sn.createRef=function(){return{current:null}},Sn.forwardRef=function(be){return{$$typeof:l,render:be}},Sn.isValidElement=ie,Sn.lazy=function(be){return{$$typeof:w,_payload:{_status:-1,_result:be},_init:Ge}},Sn.memo=function(be,ee){return{$$typeof:b,type:be,compare:ee===void 0?null:ee}},Sn.startTransition=function(be){var ee=Ee.T,ye={};Ee.T=ye;try{var Te=be(),Ne=Ee.S;Ne!==null&&Ne(ye,Te),typeof Te=="object"&&Te!==null&&typeof Te.then=="function"&&Te.then(me,Oe)}catch(Ze){Oe(Ze)}finally{ee!==null&&ye.types!==null&&(ee.types=ye.types),Ee.T=ee}},Sn.unstable_useCacheRefresh=function(){return Ee.H.useCacheRefresh()},Sn.use=function(be){return Ee.H.use(be)},Sn.useActionState=function(be,ee,ye){return Ee.H.useActionState(be,ee,ye)},Sn.useCallback=function(be,ee){return Ee.H.useCallback(be,ee)},Sn.useContext=function(be){return Ee.H.useContext(be)},Sn.useDebugValue=function(){},Sn.useDeferredValue=function(be,ee){return Ee.H.useDeferredValue(be,ee)},Sn.useEffect=function(be,ee){return Ee.H.useEffect(be,ee)},Sn.useEffectEvent=function(be){return Ee.H.useEffectEvent(be)},Sn.useId=function(){return Ee.H.useId()},Sn.useImperativeHandle=function(be,ee,ye){return Ee.H.useImperativeHandle(be,ee,ye)},Sn.useInsertionEffect=function(be,ee){return Ee.H.useInsertionEffect(be,ee)},Sn.useLayoutEffect=function(be,ee){return Ee.H.useLayoutEffect(be,ee)},Sn.useMemo=function(be,ee){return Ee.H.useMemo(be,ee)},Sn.useOptimistic=function(be,ee){return Ee.H.useOptimistic(be,ee)},Sn.useReducer=function(be,ee,ye){return Ee.H.useReducer(be,ee,ye)},Sn.useRef=function(be){return Ee.H.useRef(be)},Sn.useState=function(be){return Ee.H.useState(be)},Sn.useSyncExternalStore=function(be,ee,ye){return Ee.H.useSyncExternalStore(be,ee,ye)},Sn.useTransition=function(){return Ee.H.useTransition()},Sn.version="19.2.0",Sn}var mS;function Xg(){return mS||(mS=1,ew.exports=uk()),ew.exports}var ae=Xg();const ck=bh(ae),hk=ok({__proto__:null,default:ck},[ae]);var tw={exports:{}},i0={},rw={exports:{}},nw={};var yS;function fk(){return yS||(yS=1,(function(e){function t(Pe,ke){var Ge=Pe.length;Pe.push(ke);e:for(;0<Ge;){var Oe=Ge-1>>>1,st=Pe[Oe];if(0<s(st,ke))Pe[Oe]=ke,Pe[Ge]=st,Ge=Oe;else break e}}function r(Pe){return Pe.length===0?null:Pe[0]}function n(Pe){if(Pe.length===0)return null;var ke=Pe[0],Ge=Pe.pop();if(Ge!==ke){Pe[0]=Ge;e:for(var Oe=0,st=Pe.length,be=st>>>1;Oe<be;){var ee=2*(Oe+1)-1,ye=Pe[ee],Te=ee+1,Ne=Pe[Te];if(0>s(ye,Ge))Te<st&&0>s(Ne,ye)?(Pe[Oe]=Ne,Pe[Te]=Ge,Oe=Te):(Pe[Oe]=ye,Pe[ee]=Ge,Oe=ee);else if(Te<st&&0>s(Ne,Ge))Pe[Oe]=Ne,Pe[Te]=Ge,Oe=Te;else break e}}return ke}function s(Pe,ke){var Ge=Pe.sortIndex-ke.sortIndex;return Ge!==0?Ge:Pe.id-ke.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var A=performance;e.unstable_now=function(){return A.now()}}else{var d=Date,l=d.now();e.unstable_now=function(){return d.now()-l}}var y=[],b=[],w=1,S=null,F=3,T=!1,z=!1,H=!1,K=!1,q=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function le(Pe){for(var ke=r(b);ke!==null;){if(ke.callback===null)n(b);else if(ke.startTime<=Pe)n(b),ke.sortIndex=ke.expirationTime,t(y,ke);else break;ke=r(b)}}function ce(Pe){if(H=!1,le(Pe),!z)if(r(y)!==null)z=!0,me||(me=!0,de());else{var ke=r(b);ke!==null&&it(ce,ke.startTime-Pe)}}var me=!1,Ee=-1,Ie=5,ge=-1;function je(){return K?!0:!(e.unstable_now()-ge<Ie)}function ie(){if(K=!1,me){var Pe=e.unstable_now();ge=Pe;var ke=!0;try{e:{z=!1,H&&(H=!1,ne(Ee),Ee=-1),T=!0;var Ge=F;try{t:{for(le(Pe),S=r(y);S!==null&&!(S.expirationTime>Pe&&je());){var Oe=S.callback;if(typeof Oe=="function"){S.callback=null,F=S.priorityLevel;var st=Oe(S.expirationTime<=Pe);if(Pe=e.unstable_now(),typeof st=="function"){S.callback=st,le(Pe),ke=!0;break t}S===r(y)&&n(y),le(Pe)}else n(y);S=r(y)}if(S!==null)ke=!0;else{var be=r(b);be!==null&&it(ce,be.startTime-Pe),ke=!1}}break e}finally{S=null,F=Ge,T=!1}ke=void 0}}finally{ke?de():me=!1}}}var de;if(typeof W=="function")de=function(){W(ie)};else if(typeof MessageChannel<"u"){var Fe=new MessageChannel,Le=Fe.port2;Fe.port1.onmessage=ie,de=function(){Le.postMessage(null)}}else de=function(){q(ie,0)};function it(Pe,ke){Ee=q(function(){Pe(e.unstable_now())},ke)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Pe){Pe.callback=null},e.unstable_forceFrameRate=function(Pe){0>Pe||125<Pe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ie=0<Pe?Math.floor(1e3/Pe):5},e.unstable_getCurrentPriorityLevel=function(){return F},e.unstable_next=function(Pe){switch(F){case 1:case 2:case 3:var ke=3;break;default:ke=F}var Ge=F;F=ke;try{return Pe()}finally{F=Ge}},e.unstable_requestPaint=function(){K=!0},e.unstable_runWithPriority=function(Pe,ke){switch(Pe){case 1:case 2:case 3:case 4:case 5:break;default:Pe=3}var Ge=F;F=Pe;try{return ke()}finally{F=Ge}},e.unstable_scheduleCallback=function(Pe,ke,Ge){var Oe=e.unstable_now();switch(typeof Ge=="object"&&Ge!==null?(Ge=Ge.delay,Ge=typeof Ge=="number"&&0<Ge?Oe+Ge:Oe):Ge=Oe,Pe){case 1:var st=-1;break;case 2:st=250;break;case 5:st=1073741823;break;case 4:st=1e4;break;default:st=5e3}return st=Ge+st,Pe={id:w++,callback:ke,priorityLevel:Pe,startTime:Ge,expirationTime:st,sortIndex:-1},Ge>Oe?(Pe.sortIndex=Ge,t(b,Pe),r(y)===null&&Pe===r(b)&&(H?(ne(Ee),Ee=-1):H=!0,it(ce,Ge-Oe))):(Pe.sortIndex=st,t(y,Pe),z||T||(z=!0,me||(me=!0,de()))),Pe},e.unstable_shouldYield=je,e.unstable_wrapCallback=function(Pe){var ke=F;return function(){var Ge=F;F=ke;try{return Pe.apply(this,arguments)}finally{F=Ge}}}})(nw)),nw}var vS;function dk(){return vS||(vS=1,rw.exports=fk()),rw.exports}var iw={exports:{}},Il={};var _S;function pk(){if(_S)return Il;_S=1;var e=Xg();function t(y){var b="https://react.dev/errors/"+y;if(1<arguments.length){b+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)b+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+y+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},s=Symbol.for("react.portal");function A(y,b,w){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:S==null?null:""+S,children:y,containerInfo:b,implementation:w}}var d=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(y,b){if(y==="font")return"";if(typeof b=="string")return b==="use-credentials"?b:""}return Il.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Il.createPortal=function(y,b){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11)throw Error(t(299));return A(y,b,null,w)},Il.flushSync=function(y){var b=d.T,w=n.p;try{if(d.T=null,n.p=2,y)return y()}finally{d.T=b,n.p=w,n.d.f()}},Il.preconnect=function(y,b){typeof y=="string"&&(b?(b=b.crossOrigin,b=typeof b=="string"?b==="use-credentials"?b:"":void 0):b=null,n.d.C(y,b))},Il.prefetchDNS=function(y){typeof y=="string"&&n.d.D(y)},Il.preinit=function(y,b){if(typeof y=="string"&&b&&typeof b.as=="string"){var w=b.as,S=l(w,b.crossOrigin),F=typeof b.integrity=="string"?b.integrity:void 0,T=typeof b.fetchPriority=="string"?b.fetchPriority:void 0;w==="style"?n.d.S(y,typeof b.precedence=="string"?b.precedence:void 0,{crossOrigin:S,integrity:F,fetchPriority:T}):w==="script"&&n.d.X(y,{crossOrigin:S,integrity:F,fetchPriority:T,nonce:typeof b.nonce=="string"?b.nonce:void 0})}},Il.preinitModule=function(y,b){if(typeof y=="string")if(typeof b=="object"&&b!==null){if(b.as==null||b.as==="script"){var w=l(b.as,b.crossOrigin);n.d.M(y,{crossOrigin:w,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0})}}else b==null&&n.d.M(y)},Il.preload=function(y,b){if(typeof y=="string"&&typeof b=="object"&&b!==null&&typeof b.as=="string"){var w=b.as,S=l(w,b.crossOrigin);n.d.L(y,w,{crossOrigin:S,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0,type:typeof b.type=="string"?b.type:void 0,fetchPriority:typeof b.fetchPriority=="string"?b.fetchPriority:void 0,referrerPolicy:typeof b.referrerPolicy=="string"?b.referrerPolicy:void 0,imageSrcSet:typeof b.imageSrcSet=="string"?b.imageSrcSet:void 0,imageSizes:typeof b.imageSizes=="string"?b.imageSizes:void 0,media:typeof b.media=="string"?b.media:void 0})}},Il.preloadModule=function(y,b){if(typeof y=="string")if(b){var w=l(b.as,b.crossOrigin);n.d.m(y,{as:typeof b.as=="string"&&b.as!=="script"?b.as:void 0,crossOrigin:w,integrity:typeof b.integrity=="string"?b.integrity:void 0})}else n.d.m(y)},Il.requestFormReset=function(y){n.d.r(y)},Il.unstable_batchedUpdates=function(y,b){return y(b)},Il.useFormState=function(y,b,w){return d.H.useFormState(y,b,w)},Il.useFormStatus=function(){return d.H.useHostTransitionStatus()},Il.version="19.2.0",Il}var bS;function tU(){if(bS)return iw.exports;bS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),iw.exports=pk(),iw.exports}var wS;function gk(){if(wS)return i0;wS=1;var e=dk(),t=Xg(),r=tU();function n(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)c+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function A(o){var c=o,g=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(g=c.return),o=c.return;while(o)}return c.tag===3?g:null}function d(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function l(o){if(o.tag===31){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function y(o){if(A(o)!==o)throw Error(n(188))}function b(o){var c=o.alternate;if(!c){if(c=A(o),c===null)throw Error(n(188));return c!==o?null:o}for(var g=o,C=c;;){var P=g.return;if(P===null)break;var R=P.alternate;if(R===null){if(C=P.return,C!==null){g=C;continue}break}if(P.child===R.child){for(R=P.child;R;){if(R===g)return y(P),o;if(R===C)return y(P),c;R=R.sibling}throw Error(n(188))}if(g.return!==C.return)g=P,C=R;else{for(var re=!1,Ce=P.child;Ce;){if(Ce===g){re=!0,g=P,C=R;break}if(Ce===C){re=!0,C=P,g=R;break}Ce=Ce.sibling}if(!re){for(Ce=R.child;Ce;){if(Ce===g){re=!0,g=R,C=P;break}if(Ce===C){re=!0,C=R,g=P;break}Ce=Ce.sibling}if(!re)throw Error(n(189))}}if(g.alternate!==C)throw Error(n(190))}if(g.tag!==3)throw Error(n(188));return g.stateNode.current===g?o:c}function w(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=w(o),c!==null)return c;o=o.sibling}return null}var S=Object.assign,F=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),ne=Symbol.for("react.consumer"),W=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),Ee=Symbol.for("react.memo"),Ie=Symbol.for("react.lazy"),ge=Symbol.for("react.activity"),je=Symbol.for("react.memo_cache_sentinel"),ie=Symbol.iterator;function de(o){return o===null||typeof o!="object"?null:(o=ie&&o[ie]||o["@@iterator"],typeof o=="function"?o:null)}var Fe=Symbol.for("react.client.reference");function Le(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===Fe?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case H:return"Fragment";case q:return"Profiler";case K:return"StrictMode";case ce:return"Suspense";case me:return"SuspenseList";case ge:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case z:return"Portal";case W:return o.displayName||"Context";case ne:return(o._context.displayName||"Context")+".Consumer";case le:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Ee:return c=o.displayName||null,c!==null?c:Le(o.type)||"Memo";case Ie:c=o._payload,o=o._init;try{return Le(o(c))}catch{}}return null}var it=Array.isArray,Pe=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ke=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ge={pending:!1,data:null,method:null,action:null},Oe=[],st=-1;function be(o){return{current:o}}function ee(o){0>st||(o.current=Oe[st],Oe[st]=null,st--)}function ye(o,c){st++,Oe[st]=o.current,o.current=c}var Te=be(null),Ne=be(null),Ze=be(null),et=be(null);function gt(o,c){switch(ye(Ze,c),ye(Ne,o),ye(Te,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?E(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=E(c),o=I(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}ee(Te),ye(Te,o)}function Ke(){ee(Te),ee(Ne),ee(Ze)}function pt(o){o.memoizedState!==null&&ye(et,o);var c=Te.current,g=I(c,o.type);c!==g&&(ye(Ne,o),ye(Te,g))}function Ct(o){Ne.current===o&&(ee(Te),ee(Ne)),et.current===o&&(ee(et),Xf._currentValue=Ge)}var ct,qt;function Xt(o){if(ct===void 0)try{throw Error()}catch(g){var c=g.stack.trim().match(/\n( *(at )?)/);ct=c&&c[1]||"",qt=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ct+o+qt}var Me=!1;function Ye(o,c){if(!o||Me)return"";Me=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var C={DetermineComponentFrameRoot:function(){try{if(c){var Ht=function(){throw Error()};if(Object.defineProperty(Ht.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ht,[])}catch(It){var xt=It}Reflect.construct(o,[],Ht)}else{try{Ht.call()}catch(It){xt=It}o.call(Ht.prototype)}}else{try{throw Error()}catch(It){xt=It}(Ht=o())&&typeof Ht.catch=="function"&&Ht.catch(function(){})}}catch(It){if(It&&xt&&typeof It.stack=="string")return[It.stack,xt.stack]}return[null,null]}};C.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var P=Object.getOwnPropertyDescriptor(C.DetermineComponentFrameRoot,"name");P&&P.configurable&&Object.defineProperty(C.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var R=C.DetermineComponentFrameRoot(),re=R[0],Ce=R[1];if(re&&Ce){var tt=re.split(`
`),bt=Ce.split(`
`);for(P=C=0;C<tt.length&&!tt[C].includes("DetermineComponentFrameRoot");)C++;for(;P<bt.length&&!bt[P].includes("DetermineComponentFrameRoot");)P++;if(C===tt.length||P===bt.length)for(C=tt.length-1,P=bt.length-1;1<=C&&0<=P&&tt[C]!==bt[P];)P--;for(;1<=C&&0<=P;C--,P--)if(tt[C]!==bt[P]){if(C!==1||P!==1)do if(C--,P--,0>P||tt[C]!==bt[P]){var Dt=`
`+tt[C].replace(" at new "," at ");return o.displayName&&Dt.includes("<anonymous>")&&(Dt=Dt.replace("<anonymous>",o.displayName)),Dt}while(1<=C&&0<=P);break}}}finally{Me=!1,Error.prepareStackTrace=g}return(g=o?o.displayName||o.name:"")?Xt(g):""}function Nr(o,c){switch(o.tag){case 26:case 27:case 5:return Xt(o.type);case 16:return Xt("Lazy");case 13:return o.child!==c&&c!==null?Xt("Suspense Fallback"):Xt("Suspense");case 19:return Xt("SuspenseList");case 0:case 15:return Ye(o.type,!1);case 11:return Ye(o.type.render,!1);case 1:return Ye(o.type,!0);case 31:return Xt("Activity");default:return""}}function Er(o){try{var c="",g=null;do c+=Nr(o,g),g=o,o=o.return;while(o);return c}catch(C){return`
Error generating stack: `+C.message+`
`+C.stack}}var Tt=Object.prototype.hasOwnProperty,nr=e.unstable_scheduleCallback,ur=e.unstable_cancelCallback,Tr=e.unstable_shouldYield,Br=e.unstable_requestPaint,rn=e.unstable_now,nn=e.unstable_getCurrentPriorityLevel,Jr=e.unstable_ImmediatePriority,yn=e.unstable_UserBlockingPriority,Ft=e.unstable_NormalPriority,cr=e.unstable_LowPriority,Pr=e.unstable_IdlePriority,fr=e.log,ri=e.unstable_setDisableYieldValue,Pt=null,Zt=null;function Gt(o){if(typeof fr=="function"&&ri(o),Zt&&typeof Zt.setStrictMode=="function")try{Zt.setStrictMode(Pt,o)}catch{}}var Xr=Math.clz32?Math.clz32:Ur,_r=Math.log,sr=Math.LN2;function Ur(o){return o>>>=0,o===0?32:31-(_r(o)/sr|0)|0}var Rr=256,kn=262144,Gr=4194304;function Ue(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function oe(o,c,g){var C=o.pendingLanes;if(C===0)return 0;var P=0,R=o.suspendedLanes,re=o.pingedLanes;o=o.warmLanes;var Ce=C&134217727;return Ce!==0?(C=Ce&~R,C!==0?P=Ue(C):(re&=Ce,re!==0?P=Ue(re):g||(g=Ce&~o,g!==0&&(P=Ue(g))))):(Ce=C&~R,Ce!==0?P=Ue(Ce):re!==0?P=Ue(re):g||(g=C&~o,g!==0&&(P=Ue(g)))),P===0?0:c!==0&&c!==P&&(c&R)===0&&(R=P&-P,g=c&-c,R>=g||R===32&&(g&4194048)!==0)?c:P}function Ae(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function _e(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Re(){var o=Gr;return Gr<<=1,(Gr&62914560)===0&&(Gr=4194304),o}function Je(o){for(var c=[],g=0;31>g;g++)c.push(o);return c}function Ve(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function lt(o,c,g,C,P,R){var re=o.pendingLanes;o.pendingLanes=g,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=g,o.entangledLanes&=g,o.errorRecoveryDisabledLanes&=g,o.shellSuspendCounter=0;var Ce=o.entanglements,tt=o.expirationTimes,bt=o.hiddenUpdates;for(g=re&~g;0<g;){var Dt=31-Xr(g),Ht=1<<Dt;Ce[Dt]=0,tt[Dt]=-1;var xt=bt[Dt];if(xt!==null)for(bt[Dt]=null,Dt=0;Dt<xt.length;Dt++){var It=xt[Dt];It!==null&&(It.lane&=-536870913)}g&=~Ht}C!==0&&We(o,C,0),R!==0&&P===0&&o.tag!==0&&(o.suspendedLanes|=R&~(re&~c))}function We(o,c,g){o.pendingLanes|=c,o.suspendedLanes&=~c;var C=31-Xr(c);o.entangledLanes|=c,o.entanglements[C]=o.entanglements[C]|1073741824|g&261930}function yt(o,c){var g=o.entangledLanes|=c;for(o=o.entanglements;g;){var C=31-Xr(g),P=1<<C;P&c|o[C]&c&&(o[C]|=c),g&=~P}}function Lt(o,c){var g=c&-c;return g=(g&42)!==0?1:ft(g),(g&(o.suspendedLanes|c))!==0?0:g}function ft(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Nt(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Jt(){var o=ke.p;return o!==0?o:(o=window.event,o===void 0?32:ks(o.type))}function dr(o,c){var g=ke.p;try{return ke.p=o,c()}finally{ke.p=g}}var Zr=Math.random().toString(36).slice(2),or="__reactFiber$"+Zr,Or="__reactProps$"+Zr,zr="__reactContainer$"+Zr,Kn="__reactEvents$"+Zr,Qn="__reactListeners$"+Zr,en="__reactHandles$"+Zr,vn="__reactResources$"+Zr,Pn="__reactMarker$"+Zr;function mi(o){delete o[or],delete o[Or],delete o[Kn],delete o[Qn],delete o[en]}function ai(o){var c=o[or];if(c)return c;for(var g=o.parentNode;g;){if(c=g[zr]||g[or]){if(g=c.alternate,c.child!==null||g!==null&&g.child!==null)for(o=Ar(o);o!==null;){if(g=o[or])return g;o=Ar(o)}return c}o=g,g=o.parentNode}return null}function yi(o){if(o=o[or]||o[zr]){var c=o.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return o}return null}function po(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(n(33))}function wn(o){var c=o[vn];return c||(c=o[vn]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Ui(o){o[Pn]=!0}var WA=new Set,vi={};function Li(o,c){zl(o,c),zl(o+"Capture",c)}function zl(o,c){for(vi[o]=c,o=0;o<c.length;o++)WA.add(c[o])}var qa=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ka={},nl={};function il(o){return Tt.call(nl,o)?!0:Tt.call(ka,o)?!1:qa.test(o)?nl[o]=!0:(ka[o]=!0,!1)}function Vn(o,c,g){if(il(c))if(g===null)o.removeAttribute(c);else{switch(typeof g){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var C=c.toLowerCase().slice(0,5);if(C!=="data-"&&C!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+g)}}function js(o,c,g){if(g===null)o.removeAttribute(c);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+g)}}function Xi(o,c,g,C){if(C===null)o.removeAttribute(g);else{switch(typeof C){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(g);return}o.setAttributeNS(c,g,""+C)}}function qr(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function pA(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function oa(o,c,g){var C=Object.getOwnPropertyDescriptor(o.constructor.prototype,c);if(!o.hasOwnProperty(c)&&typeof C<"u"&&typeof C.get=="function"&&typeof C.set=="function"){var P=C.get,R=C.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return P.call(this)},set:function(re){g=""+re,R.call(this,re)}}),Object.defineProperty(o,c,{enumerable:C.enumerable}),{getValue:function(){return g},setValue:function(re){g=""+re},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function al(o){if(!o._valueTracker){var c=pA(o)?"checked":"value";o._valueTracker=oa(o,c,""+o[c])}}function is(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var g=c.getValue(),C="";return o&&(C=pA(o)?o.checked?"true":"false":o.value),o=C,o!==g?(c.setValue(o),!0):!1}function as(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Ri=/[\n"\\]/g;function ui(o){return o.replace(Ri,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Ks(o,c,g,C,P,R,re,Ce){o.name="",re!=null&&typeof re!="function"&&typeof re!="symbol"&&typeof re!="boolean"?o.type=re:o.removeAttribute("type"),c!=null?re==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+qr(c)):o.value!==""+qr(c)&&(o.value=""+qr(c)):re!=="submit"&&re!=="reset"||o.removeAttribute("value"),c!=null?YA(o,re,qr(c)):g!=null?YA(o,re,qr(g)):C!=null&&o.removeAttribute("value"),P==null&&R!=null&&(o.defaultChecked=!!R),P!=null&&(o.checked=P&&typeof P!="function"&&typeof P!="symbol"),Ce!=null&&typeof Ce!="function"&&typeof Ce!="symbol"&&typeof Ce!="boolean"?o.name=""+qr(Ce):o.removeAttribute("name")}function Un(o,c,g,C,P,R,re,Ce){if(R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(o.type=R),c!=null||g!=null){if(!(R!=="submit"&&R!=="reset"||c!=null)){al(o);return}g=g!=null?""+qr(g):"",c=c!=null?""+qr(c):g,Ce||c===o.value||(o.value=c),o.defaultValue=c}C=C??P,C=typeof C!="function"&&typeof C!="symbol"&&!!C,o.checked=Ce?o.checked:!!C,o.defaultChecked=!!C,re!=null&&typeof re!="function"&&typeof re!="symbol"&&typeof re!="boolean"&&(o.name=re),al(o)}function YA(o,c,g){c==="number"&&as(o.ownerDocument)===o||o.defaultValue===""+g||(o.defaultValue=""+g)}function Qa(o,c,g,C){if(o=o.options,c){c={};for(var P=0;P<g.length;P++)c["$"+g[P]]=!0;for(g=0;g<o.length;g++)P=c.hasOwnProperty("$"+o[g].value),o[g].selected!==P&&(o[g].selected=P),P&&C&&(o[g].defaultSelected=!0)}else{for(g=""+qr(g),c=null,P=0;P<o.length;P++){if(o[P].value===g){o[P].selected=!0,C&&(o[P].defaultSelected=!0);return}c!==null||o[P].disabled||(c=o[P])}c!==null&&(c.selected=!0)}}function sl(o,c,g){if(c!=null&&(c=""+qr(c),c!==o.value&&(o.value=c),g==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=g!=null?""+qr(g):""}function JA(o,c,g,C){if(c==null){if(C!=null){if(g!=null)throw Error(n(92));if(it(C)){if(1<C.length)throw Error(n(93));C=C[0]}g=C}g==null&&(g=""),c=g}g=qr(c),o.defaultValue=g,C=o.textContent,C===g&&C!==""&&C!==null&&(o.value=C),al(o)}function Cs(o,c){if(c){var g=o.firstChild;if(g&&g===o.lastChild&&g.nodeType===3){g.nodeValue=c;return}}o.textContent=c}var Oo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function eu(o,c,g){var C=c.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?C?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":C?o.setProperty(c,g):typeof g!="number"||g===0||Oo.has(c)?c==="float"?o.cssFloat=g:o[c]=(""+g).trim():o[c]=g+"px"}function Hl(o,c,g){if(c!=null&&typeof c!="object")throw Error(n(62));if(o=o.style,g!=null){for(var C in g)!g.hasOwnProperty(C)||c!=null&&c.hasOwnProperty(C)||(C.indexOf("--")===0?o.setProperty(C,""):C==="float"?o.cssFloat="":o[C]="");for(var P in c)C=c[P],c.hasOwnProperty(P)&&g[P]!==C&&eu(o,P,C)}else for(var R in c)c.hasOwnProperty(R)&&eu(o,R,c[R])}function Eu(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ac=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ss(o){return Ac.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function Na(){}var Vs=null;function la(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Zi=null,jr=null;function tu(o){var c=yi(o);if(c&&(o=c.stateNode)){var g=o[Or]||null;e:switch(o=c.stateNode,c.type){case"input":if(Ks(o,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),c=g.name,g.type==="radio"&&c!=null){for(g=o;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+ui(""+c)+'"][type="radio"]'),c=0;c<g.length;c++){var C=g[c];if(C!==o&&C.form===o.form){var P=C[Or]||null;if(!P)throw Error(n(90));Ks(C,P.value,P.defaultValue,P.defaultValue,P.checked,P.defaultChecked,P.type,P.name)}}for(c=0;c<g.length;c++)C=g[c],C.form===o.form&&is(C)}break e;case"textarea":sl(o,g.value,g.defaultValue);break e;case"select":c=g.value,c!=null&&Qa(o,!!g.multiple,c,!1)}}}var gA=!1;function uc(o,c,g){if(gA)return o(c,g);gA=!0;try{var C=o(c);return C}finally{if(gA=!1,(Zi!==null||jr!==null)&&(qd(),Zi&&(c=Zi,o=jr,jr=Zi=null,tu(c),o)))for(c=0;c<o.length;c++)tu(o[c])}}function Sa(o,c){var g=o.stateNode;if(g===null)return null;var C=g[Or]||null;if(C===null)return null;g=C[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(C=!C.disabled)||(o=o.type,C=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!C;break e;default:o=!1}if(o)return null;if(g&&typeof g!="function")throw Error(n(231,c,typeof g));return g}var Ra=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tu=!1;if(Ra)try{var mA={};Object.defineProperty(mA,"passive",{get:function(){Tu=!0}}),window.addEventListener("test",mA,mA),window.removeEventListener("test",mA,mA)}catch{Tu=!1}var qs=null,ru=null,Do=null;function yA(){if(Do)return Do;var o,c=ru,g=c.length,C,P="value"in qs?qs.value:qs.textContent,R=P.length;for(o=0;o<g&&c[o]===P[o];o++);var re=g-o;for(C=1;C<=re&&c[g-C]===P[R-C];C++);return Do=P.slice(o,1<C?1-C:void 0)}function Es(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function jl(){return!0}function vA(){return!1}function Aa(o){function c(g,C,P,R,re){this._reactName=g,this._targetInst=P,this.type=C,this.nativeEvent=R,this.target=re,this.currentTarget=null;for(var Ce in o)o.hasOwnProperty(Ce)&&(g=o[Ce],this[Ce]=g?g(R):R[Ce]);return this.isDefaultPrevented=(R.defaultPrevented!=null?R.defaultPrevented:R.returnValue===!1)?jl:vA,this.isPropagationStopped=vA,this}return S(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=jl)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=jl)},persist:function(){},isPersistent:jl}),c}var pa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},go=Aa(pa),ko=S({},pa,{view:0,detail:0}),mo=Aa(ko),Ts,_n,yo,nu=S({},ko,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tn,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==yo&&(yo&&o.type==="mousemove"?(Ts=o.screenX-yo.screenX,_n=o.screenY-yo.screenY):_n=Ts=0,yo=o),Ts)},movementY:function(o){return"movementY"in o?o.movementY:_n}}),ol=Aa(nu),Kl=S({},nu,{dataTransfer:0}),ll=Aa(Kl),Nc=S({},ko,{relatedTarget:0}),Al=Aa(Nc),Iu=S({},pa,{animationName:0,elapsedTime:0,pseudoElement:0}),j=Aa(Iu),fe=S({},pa,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),ze=Aa(fe),rt=S({},pa,{data:0}),ut=Aa(rt),Ot={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function br(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=yr[o])?!!c[o]:!1}function tn(){return br}var An=S({},ko,{key:function(o){if(o.key){var c=Ot[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=Es(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?jt[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tn,charCode:function(o){return o.type==="keypress"?Es(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Es(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),zn=Aa(An),Mi=S({},nu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zi=Aa(Mi),si=S({},ko,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tn}),ua=Aa(si),Hi=S({},pa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ea=Aa(Hi),vo=S({},nu,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),ga=Aa(vo),Qo=S({},pa,{newState:0,oldState:0}),iu=Aa(Qo),_A=[9,13,27,32],Gs=Ra&&"CompositionEvent"in window,$s=null;Ra&&"documentMode"in document&&($s=document.documentMode);var Xs=Ra&&"TextEvent"in window&&!$s,No=Ra&&(!Gs||$s&&8<$s&&11>=$s),Ta=" ",ei=!1;function bA(o,c){switch(o){case"keyup":return _A.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ln(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Zs=!1;function gn(o,c){switch(o){case"compositionend":return ln(c);case"keypress":return c.which!==32?null:(ei=!0,Ta);case"textInput":return o=c.data,o===Ta&&ei?null:o;default:return null}}function Tn(o,c){if(Zs)return o==="compositionend"||!Gs&&bA(o,c)?(o=yA(),Do=ru=qs=null,Zs=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return No&&c.locale!=="ko"?null:c.data;default:return null}}var _o={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vl(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!_o[o.type]:c==="textarea"}function za(o,c,g,C){Zi?jr?jr.push(C):jr=[C]:Zi=C,c=Jd(c,"onChange"),0<c.length&&(g=new go("onChange","change",null,g,C),o.push({event:g,listeners:c}))}var Ws=null,ss=null;function ul(o){ng(o,0)}function ji(o){var c=po(o);if(is(c))return o}function cl(o,c){if(o==="change")return c}var Ga=!1;if(Ra){var Ha;if(Ra){var $a="oninput"in document;if(!$a){var Is=document.createElement("div");Is.setAttribute("oninput","return;"),$a=typeof Is.oninput=="function"}Ha=$a}else Ha=!1;Ga=Ha&&(!document.documentMode||9<document.documentMode)}function Ys(){Ws&&(Ws.detachEvent("onpropertychange",Ro),ss=Ws=null)}function Ro(o){if(o.propertyName==="value"&&ji(ss)){var c=[];za(c,ss,o,la(o)),uc(ul,c)}}function hl(o,c,g){o==="focusin"?(Ys(),Ws=c,ss=g,Ws.attachEvent("onpropertychange",Ro)):o==="focusout"&&Ys()}function Ci(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return ji(ss)}function ql(o,c){if(o==="click")return ji(c)}function os(o,c){if(o==="input"||o==="change")return ji(c)}function zo(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var ma=typeof Object.is=="function"?Object.is:zo;function dn(o,c){if(ma(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var g=Object.keys(o),C=Object.keys(c);if(g.length!==C.length)return!1;for(C=0;C<g.length;C++){var P=g[C];if(!Tt.call(c,P)||!ma(o[P],c[P]))return!1}return!0}function Gl(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Fu(o,c){var g=Gl(o);o=0;for(var C;g;){if(g.nodeType===3){if(C=o+g.textContent.length,o<=c&&C>=c)return{node:g,offset:c-o};o=C}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=Gl(g)}}function fl(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?fl(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function Fs(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=as(o.document);c instanceof o.HTMLIFrameElement;){try{var g=typeof c.contentWindow.location.href=="string"}catch{g=!1}if(g)o=c.contentWindow;else break;c=as(o.document)}return c}function Ho(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var dl=Ra&&"documentMode"in document&&11>=document.documentMode,Us=null,pl=null,ya=null,ls=!1;function Ln(o,c,g){var C=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;ls||Us==null||Us!==as(C)||(C=Us,"selectionStart"in C&&Ho(C)?C={start:C.selectionStart,end:C.selectionEnd}:(C=(C.ownerDocument&&C.ownerDocument.defaultView||window).getSelection(),C={anchorNode:C.anchorNode,anchorOffset:C.anchorOffset,focusNode:C.focusNode,focusOffset:C.focusOffset}),ya&&dn(ya,C)||(ya=C,C=Jd(pl,"onSelect"),0<C.length&&(c=new go("onSelect","select",null,c,g),o.push({event:c,listeners:C}),c.target=Us)))}function Bn(o,c){var g={};return g[o.toLowerCase()]=c.toLowerCase(),g["Webkit"+o]="webkit"+c,g["Moz"+o]="moz"+c,g}var Xn={animationend:Bn("Animation","AnimationEnd"),animationiteration:Bn("Animation","AnimationIteration"),animationstart:Bn("Animation","AnimationStart"),transitionrun:Bn("Transition","TransitionRun"),transitionstart:Bn("Transition","TransitionStart"),transitioncancel:Bn("Transition","TransitionCancel"),transitionend:Bn("Transition","TransitionEnd")},Pi={},As={};Ra&&(As=document.createElement("div").style,"AnimationEvent"in window||(delete Xn.animationend.animation,delete Xn.animationiteration.animation,delete Xn.animationstart.animation),"TransitionEvent"in window||delete Xn.transitionend.transition);function us(o){if(Pi[o])return Pi[o];if(!Xn[o])return o;var c=Xn[o],g;for(g in c)if(c.hasOwnProperty(g)&&g in As)return Pi[o]=c[g];return o}var gl=us("animationend"),wA=us("animationiteration"),cc=us("animationstart"),gf=us("transitionrun"),Ch=us("transitionstart"),hc=us("transitioncancel"),fc=us("transitionend"),au=new Map,jo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jo.push("scrollEnd");function oi(o,c){au.set(o,c),Li(c,[o])}var Ko=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},Ls=[],xA=0,_i=0;function cs(){for(var o=xA,c=_i=xA=0;c<o;){var g=Ls[c];Ls[c++]=null;var C=Ls[c];Ls[c++]=null;var P=Ls[c];Ls[c++]=null;var R=Ls[c];if(Ls[c++]=null,C!==null&&P!==null){var re=C.pending;re===null?P.next=P:(P.next=re.next,re.next=P),C.pending=P}R!==0&&CA(g,P,R)}}function ja(o,c,g,C){Ls[xA++]=o,Ls[xA++]=c,Ls[xA++]=g,Ls[xA++]=C,_i|=C,o.lanes|=C,o=o.alternate,o!==null&&(o.lanes|=C)}function BA(o,c,g,C){return ja(o,c,g,C),Wi(o)}function Vo(o,c){return ja(o,null,null,c),Wi(o)}function CA(o,c,g){o.lanes|=g;var C=o.alternate;C!==null&&(C.lanes|=g);for(var P=!1,R=o.return;R!==null;)R.childLanes|=g,C=R.alternate,C!==null&&(C.childLanes|=g),R.tag===22&&(o=R.stateNode,o===null||o._visibility&1||(P=!0)),o=R,R=R.return;return o.tag===3?(R=o.stateNode,P&&c!==null&&(P=31-Xr(g),o=R.hiddenUpdates,C=o[P],C===null?o[P]=[c]:C.push(c),c.lane=g|536870912),R):null}function Wi(o){if(50<rh)throw rh=0,Vd=null,Error(n(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var bi={};function Uu(o,c,g,C){this.tag=o,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function va(o,c,g,C){return new Uu(o,c,g,C)}function Lu(o){return o=o.prototype,!(!o||!o.isReactComponent)}function hs(o,c){var g=o.alternate;return g===null?(g=va(o.tag,c,o.key,o.mode),g.elementType=o.elementType,g.type=o.type,g.stateNode=o.stateNode,g.alternate=o,o.alternate=g):(g.pendingProps=c,g.type=o.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=o.flags&65011712,g.childLanes=o.childLanes,g.lanes=o.lanes,g.child=o.child,g.memoizedProps=o.memoizedProps,g.memoizedState=o.memoizedState,g.updateQueue=o.updateQueue,c=o.dependencies,g.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},g.sibling=o.sibling,g.index=o.index,g.ref=o.ref,g.refCleanup=o.refCleanup,g}function su(o,c){o.flags&=65011714;var g=o.alternate;return g===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=g.childLanes,o.lanes=g.lanes,o.child=g.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=g.memoizedProps,o.memoizedState=g.memoizedState,o.updateQueue=g.updateQueue,o.type=g.type,c=g.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function SA(o,c,g,C,P,R){var re=0;if(C=o,typeof o=="function")Lu(o)&&(re=1);else if(typeof o=="string")re=oA(o,g,Te.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case ge:return o=va(31,g,c,P),o.elementType=ge,o.lanes=R,o;case H:return Ms(g.children,P,R,c);case K:re=8,P|=24;break;case q:return o=va(12,g,c,P|2),o.elementType=q,o.lanes=R,o;case ce:return o=va(13,g,c,P),o.elementType=ce,o.lanes=R,o;case me:return o=va(19,g,c,P),o.elementType=me,o.lanes=R,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case W:re=10;break e;case ne:re=9;break e;case le:re=11;break e;case Ee:re=14;break e;case Ie:re=16,C=null;break e}re=29,g=Error(n(130,o===null?"null":typeof o,"")),C=null}return c=va(re,g,c,P),c.elementType=o,c.type=C,c.lanes=R,c}function Ms(o,c,g,C){return o=va(7,o,C,c),o.lanes=g,o}function EA(o,c,g){return o=va(6,o,null,c),o.lanes=g,o}function TA(o){var c=va(18,null,null,0);return c.stateNode=o,c}function IA(o,c,g){return c=va(4,o.children!==null?o.children:[],o.key,c),c.lanes=g,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var Mu=new WeakMap;function Ps(o,c){if(typeof o=="object"&&o!==null){var g=Mu.get(o);return g!==void 0?g:(c={value:o,source:c,stack:Er(c)},Mu.set(o,c),c)}return{value:o,source:c,stack:Er(c)}}var FA=[],ml=0,UA=null,Pu=0,Oi=[],Yi=0,yl=null,Ki=1,Ia="";function Js(o,c){FA[ml++]=Pu,FA[ml++]=UA,UA=o,Pu=c}function mf(o,c,g){Oi[Yi++]=Ki,Oi[Yi++]=Ia,Oi[Yi++]=yl,yl=o;var C=Ki;o=Ia;var P=32-Xr(C)-1;C&=~(1<<P),g+=1;var R=32-Xr(c)+P;if(30<R){var re=P-P%5;R=(C&(1<<re)-1).toString(32),C>>=re,P-=re,Ki=1<<32-Xr(c)+P|g<<P|C,Ia=R+o}else Ki=1<<R|g<<P|C,Ia=o}function Rc(o){o.return!==null&&(Js(o,1),mf(o,1,0))}function dc(o){for(;o===UA;)UA=FA[--ml],FA[ml]=null,Pu=FA[--ml],FA[ml]=null;for(;o===yl;)yl=Oi[--Yi],Oi[Yi]=null,Ia=Oi[--Yi],Oi[Yi]=null,Ki=Oi[--Yi],Oi[Yi]=null}function zc(o,c){Oi[Yi++]=Ki,Oi[Yi++]=Ia,Oi[Yi++]=yl,Ki=c.id,Ia=c.overflow,yl=o}var Vi=null,Mn=null,Rt=!1,Fa=null,Si=!1,bo=Error(n(519));function eo(o){var c=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw MA(Ps(c,o)),bo}function LA(o){var c=o.stateNode,g=o.type,C=o.memoizedProps;switch(c[or]=o,c[Or]=C,g){case"dialog":jn("cancel",c),jn("close",c);break;case"iframe":case"object":case"embed":jn("load",c);break;case"video":case"audio":for(g=0;g<Vf.length;g++)jn(Vf[g],c);break;case"source":jn("error",c);break;case"img":case"image":case"link":jn("error",c),jn("load",c);break;case"details":jn("toggle",c);break;case"input":jn("invalid",c),Un(c,C.value,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name,!0);break;case"select":jn("invalid",c);break;case"textarea":jn("invalid",c),JA(c,C.value,C.defaultValue,C.children)}g=C.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||c.textContent===""+g||C.suppressHydrationWarning===!0||qf(c.textContent,g)?(C.popover!=null&&(jn("beforetoggle",c),jn("toggle",c)),C.onScroll!=null&&jn("scroll",c),C.onScrollEnd!=null&&jn("scrollend",c),C.onClick!=null&&(c.onclick=Na),c=!0):c=!1,c||eo(o,!0)}function qo(o){for(Vi=o.return;Vi;)switch(Vi.tag){case 5:case 31:case 13:Si=!1;return;case 27:case 3:Si=!0;return;default:Vi=Vi.return}}function Hr(o){if(o!==Vi)return!1;if(!Rt)return qo(o),Rt=!0,!1;var c=o.tag,g;if((g=c!==3&&c!==27)&&((g=c===5)&&(g=o.type,g=!(g!=="form"&&g!=="button")||O(o.type,o.memoizedProps)),g=!g),g&&Mn&&eo(o),qo(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));Mn=pr(o)}else if(c===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));Mn=pr(o)}else c===27?(c=Mn,xe(o.type)?(o=Yt,Yt=null,Mn=o):Mn=c):Mn=Vi?Wt(o.stateNode.nextSibling):null;return!0}function $l(){Mn=Vi=null,Rt=!1}function Sh(){var o=Fa;return o!==null&&(Xo===null?Xo=o:Xo.push.apply(Xo,o),Fa=null),o}function MA(o){Fa===null?Fa=[o]:Fa.push(o)}var Hc=be(null),to=null,Go=null;function vl(o,c,g){ye(Hc,c._currentValue),c._currentValue=g}function ro(o){o._currentValue=Hc.current,ee(Hc)}function Ou(o,c,g){for(;o!==null;){var C=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,C!==null&&(C.childLanes|=c)):C!==null&&(C.childLanes&c)!==c&&(C.childLanes|=c),o===g)break;o=o.return}}function Xl(o,c,g,C){var P=o.child;for(P!==null&&(P.return=o);P!==null;){var R=P.dependencies;if(R!==null){var re=P.child;R=R.firstContext;e:for(;R!==null;){var Ce=R;R=P;for(var tt=0;tt<c.length;tt++)if(Ce.context===c[tt]){R.lanes|=g,Ce=R.alternate,Ce!==null&&(Ce.lanes|=g),Ou(R.return,g,o),C||(re=null);break e}R=Ce.next}}else if(P.tag===18){if(re=P.return,re===null)throw Error(n(341));re.lanes|=g,R=re.alternate,R!==null&&(R.lanes|=g),Ou(re,g,o),re=null}else re=P.child;if(re!==null)re.return=P;else for(re=P;re!==null;){if(re===o){re=null;break}if(P=re.sibling,P!==null){P.return=re.return,re=P;break}re=re.return}P=re}}function PA(o,c,g,C){o=null;for(var P=c,R=!1;P!==null;){if(!R){if((P.flags&524288)!==0)R=!0;else if((P.flags&262144)!==0)break}if(P.tag===10){var re=P.alternate;if(re===null)throw Error(n(387));if(re=re.memoizedProps,re!==null){var Ce=P.type;ma(P.pendingProps.value,re.value)||(o!==null?o.push(Ce):o=[Ce])}}else if(P===et.current){if(re=P.alternate,re===null)throw Error(n(387));re.memoizedState.memoizedState!==P.memoizedState.memoizedState&&(o!==null?o.push(Xf):o=[Xf])}P=P.return}o!==null&&Xl(c,o,g,C),c.flags|=262144}function jc(o){for(o=o.firstContext;o!==null;){if(!ma(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function ca(o){to=o,Go=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function pn(o){return pc(to,o)}function Zl(o,c){return to===null&&ca(o),pc(o,c)}function pc(o,c){var g=c._currentValue;if(c={context:c,memoizedValue:g,next:null},Go===null){if(o===null)throw Error(n(308));Go=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else Go=Go.next=c;return g}var Kc=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(g,C){o.push(C)}};this.abort=function(){c.aborted=!0,o.forEach(function(g){return g()})}},yf=e.unstable_scheduleCallback,gc=e.unstable_NormalPriority,wi={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fs(){return{controller:new Kc,data:new Map,refCount:0}}function Wl(o){o.refCount--,o.refCount===0&&yf(gc,function(){o.controller.abort()})}var lr=null,Cr=0,L=0,D=null;function X(o,c){if(lr===null){var g=lr=[];Cr=0,L=Kf(),D={status:"pending",value:void 0,then:function(C){g.push(C)}}}return Cr++,c.then(_,_),c}function _(){if(--Cr===0&&lr!==null){D!==null&&(D.status="fulfilled");var o=lr;lr=null,L=0,D=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function i(o,c){var g=[],C={status:"pending",value:null,reason:null,then:function(P){g.push(P)}};return o.then(function(){C.status="fulfilled",C.value=c;for(var P=0;P<g.length;P++)(0,g[P])(c)},function(P){for(C.status="rejected",C.reason=P,P=0;P<g.length;P++)(0,g[P])(void 0)}),C}var h=Pe.S;Pe.S=function(o,c){Yy=rn(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&X(o,c),h!==null&&h(o,c)};var p=be(null);function v(){var o=p.current;return o!==null?o:Ii.pooledCache}function x(o,c){c===null?ye(p,p.current):ye(p,c.pool)}function U(){var o=v();return o===null?null:{parent:wi._currentValue,pool:o}}var M=Error(n(460)),k=Error(n(474)),Q=Error(n(542)),G={then:function(){}};function $(o){return o=o.status,o==="fulfilled"||o==="rejected"}function J(o,c,g){switch(g=o[g],g===void 0?o.push(c):g!==c&&(c.then(Na,Na),c=g),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,Be(o),o;default:if(typeof c.status=="string")c.then(Na,Na);else{if(o=Ii,o!==null&&100<o.shellSuspendCounter)throw Error(n(482));o=c,o.status="pending",o.then(function(C){if(c.status==="pending"){var P=c;P.status="fulfilled",P.value=C}},function(C){if(c.status==="pending"){var P=c;P.status="rejected",P.reason=C}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,Be(o),o}throw ue=c,M}}function te(o){try{var c=o._init;return c(o._payload)}catch(g){throw g!==null&&typeof g=="object"&&typeof g.then=="function"?(ue=g,M):g}}var ue=null;function pe(){if(ue===null)throw Error(n(459));var o=ue;return ue=null,o}function Be(o){if(o===M||o===Q)throw Error(n(483))}var we=null,Qe=0;function Se(o){var c=Qe;return Qe+=1,we===null&&(we=[]),J(we,o,c)}function $e(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function qe(o,c){throw c.$$typeof===F?Error(n(525)):(o=Object.prototype.toString.call(c),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function at(o){function c(dt,ot){if(o){var vt=dt.deletions;vt===null?(dt.deletions=[ot],dt.flags|=16):vt.push(ot)}}function g(dt,ot){if(!o)return null;for(;ot!==null;)c(dt,ot),ot=ot.sibling;return null}function C(dt){for(var ot=new Map;dt!==null;)dt.key!==null?ot.set(dt.key,dt):ot.set(dt.index,dt),dt=dt.sibling;return ot}function P(dt,ot){return dt=hs(dt,ot),dt.index=0,dt.sibling=null,dt}function R(dt,ot,vt){return dt.index=vt,o?(vt=dt.alternate,vt!==null?(vt=vt.index,vt<ot?(dt.flags|=67108866,ot):vt):(dt.flags|=67108866,ot)):(dt.flags|=1048576,ot)}function re(dt){return o&&dt.alternate===null&&(dt.flags|=67108866),dt}function Ce(dt,ot,vt,kt){return ot===null||ot.tag!==6?(ot=EA(vt,dt.mode,kt),ot.return=dt,ot):(ot=P(ot,vt),ot.return=dt,ot)}function tt(dt,ot,vt,kt){var Wr=vt.type;return Wr===H?Dt(dt,ot,vt.props.children,kt,vt.key):ot!==null&&(ot.elementType===Wr||typeof Wr=="object"&&Wr!==null&&Wr.$$typeof===Ie&&te(Wr)===ot.type)?(ot=P(ot,vt.props),$e(ot,vt),ot.return=dt,ot):(ot=SA(vt.type,vt.key,vt.props,null,dt.mode,kt),$e(ot,vt),ot.return=dt,ot)}function bt(dt,ot,vt,kt){return ot===null||ot.tag!==4||ot.stateNode.containerInfo!==vt.containerInfo||ot.stateNode.implementation!==vt.implementation?(ot=IA(vt,dt.mode,kt),ot.return=dt,ot):(ot=P(ot,vt.children||[]),ot.return=dt,ot)}function Dt(dt,ot,vt,kt,Wr){return ot===null||ot.tag!==7?(ot=Ms(vt,dt.mode,kt,Wr),ot.return=dt,ot):(ot=P(ot,vt),ot.return=dt,ot)}function Ht(dt,ot,vt){if(typeof ot=="string"&&ot!==""||typeof ot=="number"||typeof ot=="bigint")return ot=EA(""+ot,dt.mode,vt),ot.return=dt,ot;if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case T:return vt=SA(ot.type,ot.key,ot.props,null,dt.mode,vt),$e(vt,ot),vt.return=dt,vt;case z:return ot=IA(ot,dt.mode,vt),ot.return=dt,ot;case Ie:return ot=te(ot),Ht(dt,ot,vt)}if(it(ot)||de(ot))return ot=Ms(ot,dt.mode,vt,null),ot.return=dt,ot;if(typeof ot.then=="function")return Ht(dt,Se(ot),vt);if(ot.$$typeof===W)return Ht(dt,Zl(dt,ot),vt);qe(dt,ot)}return null}function xt(dt,ot,vt,kt){var Wr=ot!==null?ot.key:null;if(typeof vt=="string"&&vt!==""||typeof vt=="number"||typeof vt=="bigint")return Wr!==null?null:Ce(dt,ot,""+vt,kt);if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case T:return vt.key===Wr?tt(dt,ot,vt,kt):null;case z:return vt.key===Wr?bt(dt,ot,vt,kt):null;case Ie:return vt=te(vt),xt(dt,ot,vt,kt)}if(it(vt)||de(vt))return Wr!==null?null:Dt(dt,ot,vt,kt,null);if(typeof vt.then=="function")return xt(dt,ot,Se(vt),kt);if(vt.$$typeof===W)return xt(dt,ot,Zl(dt,vt),kt);qe(dt,vt)}return null}function It(dt,ot,vt,kt,Wr){if(typeof kt=="string"&&kt!==""||typeof kt=="number"||typeof kt=="bigint")return dt=dt.get(vt)||null,Ce(ot,dt,""+kt,Wr);if(typeof kt=="object"&&kt!==null){switch(kt.$$typeof){case T:return dt=dt.get(kt.key===null?vt:kt.key)||null,tt(ot,dt,kt,Wr);case z:return dt=dt.get(kt.key===null?vt:kt.key)||null,bt(ot,dt,kt,Wr);case Ie:return kt=te(kt),It(dt,ot,vt,kt,Wr)}if(it(kt)||de(kt))return dt=dt.get(vt)||null,Dt(ot,dt,kt,Wr,null);if(typeof kt.then=="function")return It(dt,ot,vt,Se(kt),Wr);if(kt.$$typeof===W)return It(dt,ot,vt,Zl(ot,kt),Wr);qe(ot,kt)}return null}function Fr(dt,ot,vt,kt){for(var Wr=null,di=null,Qr=ot,Dn=ot=0,Yn=null;Qr!==null&&Dn<vt.length;Dn++){Qr.index>Dn?(Yn=Qr,Qr=null):Yn=Qr.sibling;var pi=xt(dt,Qr,vt[Dn],kt);if(pi===null){Qr===null&&(Qr=Yn);break}o&&Qr&&pi.alternate===null&&c(dt,Qr),ot=R(pi,ot,Dn),di===null?Wr=pi:di.sibling=pi,di=pi,Qr=Yn}if(Dn===vt.length)return g(dt,Qr),Rt&&Js(dt,Dn),Wr;if(Qr===null){for(;Dn<vt.length;Dn++)Qr=Ht(dt,vt[Dn],kt),Qr!==null&&(ot=R(Qr,ot,Dn),di===null?Wr=Qr:di.sibling=Qr,di=Qr);return Rt&&Js(dt,Dn),Wr}for(Qr=C(Qr);Dn<vt.length;Dn++)Yn=It(Qr,dt,Dn,vt[Dn],kt),Yn!==null&&(o&&Yn.alternate!==null&&Qr.delete(Yn.key===null?Dn:Yn.key),ot=R(Yn,ot,Dn),di===null?Wr=Yn:di.sibling=Yn,di=Yn);return o&&Qr.forEach(function(Wf){return c(dt,Wf)}),Rt&&Js(dt,Dn),Wr}function hn(dt,ot,vt,kt){if(vt==null)throw Error(n(151));for(var Wr=null,di=null,Qr=ot,Dn=ot=0,Yn=null,pi=vt.next();Qr!==null&&!pi.done;Dn++,pi=vt.next()){Qr.index>Dn?(Yn=Qr,Qr=null):Yn=Qr.sibling;var Wf=xt(dt,Qr,pi.value,kt);if(Wf===null){Qr===null&&(Qr=Yn);break}o&&Qr&&Wf.alternate===null&&c(dt,Qr),ot=R(Wf,ot,Dn),di===null?Wr=Wf:di.sibling=Wf,di=Wf,Qr=Yn}if(pi.done)return g(dt,Qr),Rt&&Js(dt,Dn),Wr;if(Qr===null){for(;!pi.done;Dn++,pi=vt.next())pi=Ht(dt,pi.value,kt),pi!==null&&(ot=R(pi,ot,Dn),di===null?Wr=pi:di.sibling=pi,di=pi);return Rt&&Js(dt,Dn),Wr}for(Qr=C(Qr);!pi.done;Dn++,pi=vt.next())pi=It(Qr,dt,Dn,pi.value,kt),pi!==null&&(o&&pi.alternate!==null&&Qr.delete(pi.key===null?Dn:pi.key),ot=R(pi,ot,Dn),di===null?Wr=pi:di.sibling=pi,di=pi);return o&&Qr.forEach(function(sk){return c(dt,sk)}),Rt&&Js(dt,Dn),Wr}function qi(dt,ot,vt,kt){if(typeof vt=="object"&&vt!==null&&vt.type===H&&vt.key===null&&(vt=vt.props.children),typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case T:e:{for(var Wr=vt.key;ot!==null;){if(ot.key===Wr){if(Wr=vt.type,Wr===H){if(ot.tag===7){g(dt,ot.sibling),kt=P(ot,vt.props.children),kt.return=dt,dt=kt;break e}}else if(ot.elementType===Wr||typeof Wr=="object"&&Wr!==null&&Wr.$$typeof===Ie&&te(Wr)===ot.type){g(dt,ot.sibling),kt=P(ot,vt.props),$e(kt,vt),kt.return=dt,dt=kt;break e}g(dt,ot);break}else c(dt,ot);ot=ot.sibling}vt.type===H?(kt=Ms(vt.props.children,dt.mode,kt,vt.key),kt.return=dt,dt=kt):(kt=SA(vt.type,vt.key,vt.props,null,dt.mode,kt),$e(kt,vt),kt.return=dt,dt=kt)}return re(dt);case z:e:{for(Wr=vt.key;ot!==null;){if(ot.key===Wr)if(ot.tag===4&&ot.stateNode.containerInfo===vt.containerInfo&&ot.stateNode.implementation===vt.implementation){g(dt,ot.sibling),kt=P(ot,vt.children||[]),kt.return=dt,dt=kt;break e}else{g(dt,ot);break}else c(dt,ot);ot=ot.sibling}kt=IA(vt,dt.mode,kt),kt.return=dt,dt=kt}return re(dt);case Ie:return vt=te(vt),qi(dt,ot,vt,kt)}if(it(vt))return Fr(dt,ot,vt,kt);if(de(vt)){if(Wr=de(vt),typeof Wr!="function")throw Error(n(150));return vt=Wr.call(vt),hn(dt,ot,vt,kt)}if(typeof vt.then=="function")return qi(dt,ot,Se(vt),kt);if(vt.$$typeof===W)return qi(dt,ot,Zl(dt,vt),kt);qe(dt,vt)}return typeof vt=="string"&&vt!==""||typeof vt=="number"||typeof vt=="bigint"?(vt=""+vt,ot!==null&&ot.tag===6?(g(dt,ot.sibling),kt=P(ot,vt),kt.return=dt,dt=kt):(g(dt,ot),kt=EA(vt,dt.mode,kt),kt.return=dt,dt=kt),re(dt)):g(dt,ot)}return function(dt,ot,vt,kt){try{Qe=0;var Wr=qi(dt,ot,vt,kt);return we=null,Wr}catch(Qr){if(Qr===M||Qr===Q)throw Qr;var di=va(29,Qr,null,dt.mode);return di.lanes=kt,di.return=dt,di}finally{}}}var wt=at(!0),St=at(!1),_t=!1;function mt(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qt(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Et(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function zt(o,c,g){var C=o.updateQueue;if(C===null)return null;if(C=C.shared,(ii&2)!==0){var P=C.pending;return P===null?c.next=c:(c.next=P.next,P.next=c),C.pending=c,c=Wi(o),CA(o,null,g),c}return ja(o,C,c,g),Wi(o)}function tr(o,c,g){if(c=c.updateQueue,c!==null&&(c=c.shared,(g&4194048)!==0)){var C=c.lanes;C&=o.pendingLanes,g|=C,c.lanes=g,yt(o,g)}}function Vt(o,c){var g=o.updateQueue,C=o.alternate;if(C!==null&&(C=C.updateQueue,g===C)){var P=null,R=null;if(g=g.firstBaseUpdate,g!==null){do{var re={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};R===null?P=R=re:R=R.next=re,g=g.next}while(g!==null);R===null?P=R=c:R=R.next=c}else P=R=c;g={baseState:C.baseState,firstBaseUpdate:P,lastBaseUpdate:R,shared:C.shared,callbacks:C.callbacks},o.updateQueue=g;return}o=g.lastBaseUpdate,o===null?g.firstBaseUpdate=c:o.next=c,g.lastBaseUpdate=c}var $t=!1;function rr(){if($t){var o=D;if(o!==null)throw o}}function un(o,c,g,C){$t=!1;var P=o.updateQueue;_t=!1;var R=P.firstBaseUpdate,re=P.lastBaseUpdate,Ce=P.shared.pending;if(Ce!==null){P.shared.pending=null;var tt=Ce,bt=tt.next;tt.next=null,re===null?R=bt:re.next=bt,re=tt;var Dt=o.alternate;Dt!==null&&(Dt=Dt.updateQueue,Ce=Dt.lastBaseUpdate,Ce!==re&&(Ce===null?Dt.firstBaseUpdate=bt:Ce.next=bt,Dt.lastBaseUpdate=tt))}if(R!==null){var Ht=P.baseState;re=0,Dt=bt=tt=null,Ce=R;do{var xt=Ce.lane&-536870913,It=xt!==Ce.lane;if(It?(Nn&xt)===xt:(C&xt)===xt){xt!==0&&xt===L&&($t=!0),Dt!==null&&(Dt=Dt.next={lane:0,tag:Ce.tag,payload:Ce.payload,callback:null,next:null});e:{var Fr=o,hn=Ce;xt=c;var qi=g;switch(hn.tag){case 1:if(Fr=hn.payload,typeof Fr=="function"){Ht=Fr.call(qi,Ht,xt);break e}Ht=Fr;break e;case 3:Fr.flags=Fr.flags&-65537|128;case 0:if(Fr=hn.payload,xt=typeof Fr=="function"?Fr.call(qi,Ht,xt):Fr,xt==null)break e;Ht=S({},Ht,xt);break e;case 2:_t=!0}}xt=Ce.callback,xt!==null&&(o.flags|=64,It&&(o.flags|=8192),It=P.callbacks,It===null?P.callbacks=[xt]:It.push(xt))}else It={lane:xt,tag:Ce.tag,payload:Ce.payload,callback:Ce.callback,next:null},Dt===null?(bt=Dt=It,tt=Ht):Dt=Dt.next=It,re|=xt;if(Ce=Ce.next,Ce===null){if(Ce=P.shared.pending,Ce===null)break;It=Ce,Ce=It.next,It.next=null,P.lastBaseUpdate=It,P.shared.pending=null}}while(!0);Dt===null&&(tt=Ht),P.baseState=tt,P.firstBaseUpdate=bt,P.lastBaseUpdate=Dt,R===null&&(P.shared.lanes=0),th|=re,o.lanes=re,o.memoizedState=Ht}}function Ir(o,c){if(typeof o!="function")throw Error(n(191,o));o.call(c)}function Lr(o,c){var g=o.callbacks;if(g!==null)for(o.callbacks=null,o=0;o<g.length;o++)Ir(g[o],c)}var wr=be(null),an=be(0);function Hn(o,c){o=jA,ye(an,o),ye(wr,c),jA=o|c.baseLanes}function Dr(){ye(an,jA),ye(wr,wr.current)}function qn(){jA=an.current,ee(wr),ee(an)}var In=be(null),sn=null;function On(o){var c=o.alternate;ye(fn,fn.current&1),ye(In,o),sn===null&&(c===null||wr.current!==null||c.memoizedState!==null)&&(sn=o)}function Cn(o){ye(fn,fn.current),ye(In,o),sn===null&&(sn=o)}function xi(o){o.tag===22?(ye(fn,fn.current),ye(In,o),sn===null&&(sn=o)):Di()}function Di(){ye(fn,fn.current),ye(In,In.current)}function Gn(o){ee(In),sn===o&&(sn=null),ee(fn)}var fn=be(0);function _a(o){for(var c=o;c!==null;){if(c.tag===13){var g=c.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||Kt(g)||er(g)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Ei=0,mr=null,vr=null,xn=null,Ti=!1,ni=!1,Wn=!1,$n=0,cn=0,Os=null,Yl=0;function Zn(){throw Error(n(321))}function Vc(o,c){if(c===null)return!1;for(var g=0;g<c.length&&g<o.length;g++)if(!ma(o[g],c[g]))return!1;return!0}function Eh(o,c,g,C,P,R){return Ei=R,mr=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Pe.H=o===null||o.memoizedState===null?Iy:gm,Wn=!1,R=g(C,P),Wn=!1,ni&&(R=Xa(c,g,C,P)),mc(o),R}function mc(o){Pe.H=Id;var c=vr!==null&&vr.next!==null;if(Ei=0,xn=vr=mr=null,Ti=!1,cn=0,Os=null,c)throw Error(n(300));o===null||ba||(o=o.dependencies,o!==null&&jc(o)&&(ba=!0))}function Xa(o,c,g,C){mr=o;var P=0;do{if(ni&&(Os=null),cn=0,ni=!1,25<=P)throw Error(n(301));if(P+=1,xn=vr=null,o.updateQueue!=null){var R=o.updateQueue;R.lastEffect=null,R.events=null,R.stores=null,R.memoCache!=null&&(R.memoCache.index=0)}Pe.H=mm,R=c(g,C)}while(ni);return R}function vf(){var o=Pe.H,c=o.useState()[0];return c=typeof c.then=="function"?eA(c):c,o=o.useState()[0],(vr!==null?vr.memoizedState:null)!==o&&(mr.flags|=1024),c}function Du(){var o=$n!==0;return $n=0,o}function ou(o,c,g){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~g}function lu(o){if(Ti){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}Ti=!1}Ei=0,xn=vr=mr=null,ni=!1,cn=$n=0,Os=null}function Ji(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xn===null?mr.memoizedState=xn=o:xn=xn.next=o,xn}function li(){if(vr===null){var o=mr.alternate;o=o!==null?o.memoizedState:null}else o=vr.next;var c=xn===null?mr.memoizedState:xn.next;if(c!==null)xn=c,vr=o;else{if(o===null)throw mr.alternate===null?Error(n(467)):Error(n(310));vr=o,o={memoizedState:vr.memoizedState,baseState:vr.baseState,baseQueue:vr.baseQueue,queue:vr.queue,next:null},xn===null?mr.memoizedState=xn=o:xn=xn.next=o}return xn}function Jl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function eA(o){var c=cn;return cn+=1,Os===null&&(Os=[]),o=J(Os,o,c),c=mr,(xn===null?c.memoizedState:xn.next)===null&&(c=c.alternate,Pe.H=c===null||c.memoizedState===null?Iy:gm),o}function yc(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return eA(o);if(o.$$typeof===W)return pn(o)}throw Error(n(438,String(o)))}function ku(o){var c=null,g=mr.updateQueue;if(g!==null&&(c=g.memoCache),c==null){var C=mr.alternate;C!==null&&(C=C.updateQueue,C!==null&&(C=C.memoCache,C!=null&&(c={data:C.data.map(function(P){return P.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),g===null&&(g=Jl(),mr.updateQueue=g),g.memoCache=c,g=c.data[c.index],g===void 0)for(g=c.data[c.index]=Array(o),C=0;C<o;C++)g[C]=je;return c.index++,g}function OA(o,c){return typeof c=="function"?c(o):c}function qc(o){var c=li();return DA(c,vr,o)}function DA(o,c,g){var C=o.queue;if(C===null)throw Error(n(311));C.lastRenderedReducer=g;var P=o.baseQueue,R=C.pending;if(R!==null){if(P!==null){var re=P.next;P.next=R.next,R.next=re}c.baseQueue=P=R,C.pending=null}if(R=o.baseState,P===null)o.memoizedState=R;else{c=P.next;var Ce=re=null,tt=null,bt=c,Dt=!1;do{var Ht=bt.lane&-536870913;if(Ht!==bt.lane?(Nn&Ht)===Ht:(Ei&Ht)===Ht){var xt=bt.revertLane;if(xt===0)tt!==null&&(tt=tt.next={lane:0,revertLane:0,gesture:null,action:bt.action,hasEagerState:bt.hasEagerState,eagerState:bt.eagerState,next:null}),Ht===L&&(Dt=!0);else if((Ei&xt)===xt){bt=bt.next,xt===L&&(Dt=!0);continue}else Ht={lane:0,revertLane:bt.revertLane,gesture:null,action:bt.action,hasEagerState:bt.hasEagerState,eagerState:bt.eagerState,next:null},tt===null?(Ce=tt=Ht,re=R):tt=tt.next=Ht,mr.lanes|=xt,th|=xt;Ht=bt.action,Wn&&g(R,Ht),R=bt.hasEagerState?bt.eagerState:g(R,Ht)}else xt={lane:Ht,revertLane:bt.revertLane,gesture:bt.gesture,action:bt.action,hasEagerState:bt.hasEagerState,eagerState:bt.eagerState,next:null},tt===null?(Ce=tt=xt,re=R):tt=tt.next=xt,mr.lanes|=Ht,th|=Ht;bt=bt.next}while(bt!==null&&bt!==c);if(tt===null?re=R:tt.next=Ce,!ma(R,o.memoizedState)&&(ba=!0,Dt&&(g=D,g!==null)))throw g;o.memoizedState=R,o.baseState=re,o.baseQueue=tt,C.lastRenderedState=R}return P===null&&(C.lanes=0),[o.memoizedState,C.dispatch]}function Au(o){var c=li(),g=c.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=o;var C=g.dispatch,P=g.pending,R=c.memoizedState;if(P!==null){g.pending=null;var re=P=P.next;do R=o(R,re.action),re=re.next;while(re!==P);ma(R,c.memoizedState)||(ba=!0),c.memoizedState=R,c.baseQueue===null&&(c.baseState=R),g.lastRenderedState=R}return[R,C]}function _l(o,c,g){var C=mr,P=li(),R=Rt;if(R){if(g===void 0)throw Error(n(407));g=g()}else g=c();var re=!ma((vr||P).memoizedState,g);if(re&&(P.memoizedState=g,ba=!0),P=P.queue,Th(_f.bind(null,C,P,o),[o]),P.getSnapshot!==c||re||xn!==null&&xn.memoizedState.tag&1){if(C.flags|=2048,fu(9,{destroy:void 0},kA.bind(null,C,P,g,c),null),Ii===null)throw Error(n(349));R||(Ei&127)!==0||Ka(C,c,g)}return g}function Ka(o,c,g){o.flags|=16384,o={getSnapshot:c,value:g},c=mr.updateQueue,c===null?(c=Jl(),mr.updateQueue=c,c.stores=[o]):(g=c.stores,g===null?c.stores=[o]:g.push(o))}function kA(o,c,g,C){c.value=g,c.getSnapshot=C,Qu(c)&&wd(o)}function _f(o,c,g){return g(function(){Qu(c)&&wd(o)})}function Qu(o){var c=o.getSnapshot;o=o.value;try{var g=c();return!ma(o,g)}catch{return!0}}function wd(o){var c=Vo(o,2);c!==null&&wo(c,o,2)}function uu(o){var c=Ji();if(typeof o=="function"){var g=o;if(o=g(),Wn){Gt(!0);try{g()}finally{Gt(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:OA,lastRenderedState:o},c}function ea(o,c,g,C){return o.baseState=g,DA(o,vr,typeof C=="function"?C:OA)}function bf(o,c,g,C,P){if(Qp(o))throw Error(n(485));if(o=c.action,o!==null){var R={payload:P,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(re){R.listeners.push(re)}};Pe.T!==null?g(!0):R.isTransition=!1,C(R),g=c.pending,g===null?(R.next=c.pending=R,xd(c,R)):(R.next=g.next,c.pending=g.next=R)}}function xd(o,c){var g=c.action,C=c.payload,P=o.state;if(c.isTransition){var R=Pe.T,re={};Pe.T=re;try{var Ce=g(P,C),tt=Pe.S;tt!==null&&tt(re,Ce),cu(o,c,Ce)}catch(bt){QA(o,c,bt)}finally{R!==null&&re.types!==null&&(R.types=re.types),Pe.T=R}}else try{R=g(P,C),cu(o,c,R)}catch(bt){QA(o,c,bt)}}function cu(o,c,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(C){Nu(o,c,C)},function(C){return QA(o,c,C)}):Nu(o,c,g)}function Nu(o,c,g){c.status="fulfilled",c.value=g,Gc(c),o.state=g,c=o.pending,c!==null&&(g=c.next,g===c?o.pending=null:(g=g.next,c.next=g,xd(o,g)))}function QA(o,c,g){var C=o.pending;if(o.pending=null,C!==null){C=C.next;do c.status="rejected",c.reason=g,Gc(c),c=c.next;while(c!==C)}o.action=null}function Gc(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function $c(o,c){return c}function NA(o,c){if(Rt){var g=Ii.formState;if(g!==null){e:{var C=mr;if(Rt){if(Mn){t:{for(var P=Mn,R=Si;P.nodeType!==8;){if(!R){P=null;break t}if(P=Wt(P.nextSibling),P===null){P=null;break t}}R=P.data,P=R==="F!"||R==="F"?P:null}if(P){Mn=Wt(P.nextSibling),C=P.data==="F!";break e}}eo(C)}C=!1}C&&(c=g[0])}}return g=Ji(),g.memoizedState=g.baseState=c,C={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$c,lastRenderedState:c},g.queue=C,g=bl.bind(null,mr,C),C.dispatch=g,C=uu(!1),R=Td.bind(null,mr,!1,C.queue),C=Ji(),P={state:c,dispatch:null,action:o,pending:null},C.queue=P,g=bf.bind(null,mr,P,R,g),P.dispatch=g,C.memoizedState=o,[c,g,!1]}function RA(o){var c=li();return hu(c,vr,o)}function hu(o,c,g){if(c=DA(o,c,$c)[0],o=qc(OA)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var C=eA(c)}catch(re){throw re===M?Q:re}else C=c;c=li();var P=c.queue,R=P.dispatch;return g!==c.memoizedState&&(mr.flags|=2048,fu(9,{destroy:void 0},Xc.bind(null,P,g),null)),[C,R,o]}function Xc(o,c){o.action=c}function wf(o){var c=li(),g=vr;if(g!==null)return hu(c,g,o);li(),c=c.memoizedState,g=li();var C=g.queue.dispatch;return g.memoizedState=o,[c,C,!1]}function fu(o,c,g,C){return o={tag:o,create:g,deps:C,inst:c,next:null},c=mr.updateQueue,c===null&&(c=Jl(),mr.updateQueue=c),g=c.lastEffect,g===null?c.lastEffect=o.next=o:(C=g.next,g.next=o,o.next=C,c.lastEffect=o),o}function Bd(){return li().memoizedState}function vc(o,c,g,C){var P=Ji();mr.flags|=o,P.memoizedState=fu(1|c,{destroy:void 0},g,C===void 0?null:C)}function tA(o,c,g,C){var P=li();C=C===void 0?null:C;var R=P.memoizedState.inst;vr!==null&&C!==null&&Vc(C,vr.memoizedState.deps)?P.memoizedState=fu(c,R,g,C):(mr.flags|=o,P.memoizedState=fu(1|c,R,g,C))}function Cy(o,c){vc(8390656,8,o,c)}function Th(o,c){tA(2048,8,o,c)}function Pp(o){mr.flags|=4;var c=mr.updateQueue;if(c===null)c=Jl(),mr.updateQueue=c,c.events=[o];else{var g=c.events;g===null?c.events=[o]:g.push(o)}}function Cd(o){var c=li().memoizedState;return Pp({ref:c,nextImpl:o}),function(){if((ii&2)!==0)throw Error(n(440));return c.impl.apply(void 0,arguments)}}function om(o,c){return tA(4,2,o,c)}function lm(o,c){return tA(4,4,o,c)}function Sy(o,c){if(typeof c=="function"){o=o();var g=c(o);return function(){typeof g=="function"?g():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function no(o,c,g){g=g!=null?g.concat([o]):null,tA(4,4,Sy.bind(null,c,o),g)}function Zc(){}function Op(o,c){var g=li();c=c===void 0?null:c;var C=g.memoizedState;return c!==null&&Vc(c,C[1])?C[0]:(g.memoizedState=[o,c],o)}function Am(o,c){var g=li();c=c===void 0?null:c;var C=g.memoizedState;if(c!==null&&Vc(c,C[1]))return C[0];if(C=o(),Wn){Gt(!0);try{o()}finally{Gt(!1)}}return g.memoizedState=[C,c],C}function Ih(o,c,g){return g===void 0||(Ei&1073741824)!==0&&(Nn&261930)===0?o.memoizedState=c:(o.memoizedState=g,o=Xp(),mr.lanes|=o,th|=o,g)}function Ey(o,c,g,C){return ma(g,c)?g:wr.current!==null?(o=Ih(o,g,C),ma(o,c)||(ba=!0),o):(Ei&42)===0||(Ei&1073741824)!==0&&(Nn&261930)===0?(ba=!0,o.memoizedState=g):(o=Xp(),mr.lanes|=o,th|=o,c)}function Sd(o,c,g,C,P){var R=ke.p;ke.p=R!==0&&8>R?R:8;var re=Pe.T,Ce={};Pe.T=Ce,Td(o,!1,c,g);try{var tt=P(),bt=Pe.S;if(bt!==null&&bt(Ce,tt),tt!==null&&typeof tt=="object"&&typeof tt.then=="function"){var Dt=i(tt,C);xf(o,c,Dt,iA(o))}else xf(o,c,C,iA(o))}catch(Ht){xf(o,c,{then:function(){},status:"rejected",reason:Ht},iA())}finally{ke.p=R,re!==null&&Ce.types!==null&&(re.types=Ce.types),Pe.T=re}}function zb(){}function Dp(o,c,g,C){if(o.tag!==5)throw Error(n(476));var P=um(o).queue;Sd(o,P,c,Ge,g===null?zb:function(){return cm(o),g(C)})}function um(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:Ge,baseState:Ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:OA,lastRenderedState:Ge},next:null};var g={};return c.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:OA,lastRenderedState:g},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function cm(o){var c=um(o);c.next===null&&(c=o.alternate.memoizedState),xf(o,c.next.queue,{},iA())}function hm(){return pn(Xf)}function kp(){return li().memoizedState}function fm(){return li().memoizedState}function dm(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var g=iA();o=Et(g);var C=zt(c,o,g);C!==null&&(wo(C,c,g),tr(C,c,g)),c={cache:fs()},o.payload=c;return}c=c.return}}function Ed(o,c,g){var C=iA();g={lane:C,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},Qp(o)?pm(c,g):(g=BA(o,c,g,C),g!==null&&(wo(g,o,C),Ty(g,c,C)))}function bl(o,c,g){var C=iA();xf(o,c,g,C)}function xf(o,c,g,C){var P={lane:C,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null};if(Qp(o))pm(c,P);else{var R=o.alternate;if(o.lanes===0&&(R===null||R.lanes===0)&&(R=c.lastRenderedReducer,R!==null))try{var re=c.lastRenderedState,Ce=R(re,g);if(P.hasEagerState=!0,P.eagerState=Ce,ma(Ce,re))return ja(o,c,P,0),Ii===null&&cs(),!1}catch{}finally{}if(g=BA(o,c,P,C),g!==null)return wo(g,o,C),Ty(g,c,C),!0}return!1}function Td(o,c,g,C){if(C={lane:2,revertLane:Kf(),gesture:null,action:C,hasEagerState:!1,eagerState:null,next:null},Qp(o)){if(c)throw Error(n(479))}else c=BA(o,g,C,2),c!==null&&wo(c,o,2)}function Qp(o){var c=o.alternate;return o===mr||c!==null&&c===mr}function pm(o,c){ni=Ti=!0;var g=o.pending;g===null?c.next=c:(c.next=g.next,g.next=c),o.pending=c}function Ty(o,c,g){if((g&4194048)!==0){var C=c.lanes;C&=o.pendingLanes,g|=C,c.lanes=g,yt(o,g)}}var Id={readContext:pn,use:yc,useCallback:Zn,useContext:Zn,useEffect:Zn,useImperativeHandle:Zn,useLayoutEffect:Zn,useInsertionEffect:Zn,useMemo:Zn,useReducer:Zn,useRef:Zn,useState:Zn,useDebugValue:Zn,useDeferredValue:Zn,useTransition:Zn,useSyncExternalStore:Zn,useId:Zn,useHostTransitionStatus:Zn,useFormState:Zn,useActionState:Zn,useOptimistic:Zn,useMemoCache:Zn,useCacheRefresh:Zn};Id.useEffectEvent=Zn;var Iy={readContext:pn,use:yc,useCallback:function(o,c){return Ji().memoizedState=[o,c===void 0?null:c],o},useContext:pn,useEffect:Cy,useImperativeHandle:function(o,c,g){g=g!=null?g.concat([o]):null,vc(4194308,4,Sy.bind(null,c,o),g)},useLayoutEffect:function(o,c){return vc(4194308,4,o,c)},useInsertionEffect:function(o,c){vc(4,2,o,c)},useMemo:function(o,c){var g=Ji();c=c===void 0?null:c;var C=o();if(Wn){Gt(!0);try{o()}finally{Gt(!1)}}return g.memoizedState=[C,c],C},useReducer:function(o,c,g){var C=Ji();if(g!==void 0){var P=g(c);if(Wn){Gt(!0);try{g(c)}finally{Gt(!1)}}}else P=c;return C.memoizedState=C.baseState=P,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:P},C.queue=o,o=o.dispatch=Ed.bind(null,mr,o),[C.memoizedState,o]},useRef:function(o){var c=Ji();return o={current:o},c.memoizedState=o},useState:function(o){o=uu(o);var c=o.queue,g=bl.bind(null,mr,c);return c.dispatch=g,[o.memoizedState,g]},useDebugValue:Zc,useDeferredValue:function(o,c){var g=Ji();return Ih(g,o,c)},useTransition:function(){var o=uu(!1);return o=Sd.bind(null,mr,o.queue,!0,!1),Ji().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,g){var C=mr,P=Ji();if(Rt){if(g===void 0)throw Error(n(407));g=g()}else{if(g=c(),Ii===null)throw Error(n(349));(Nn&127)!==0||Ka(C,c,g)}P.memoizedState=g;var R={value:g,getSnapshot:c};return P.queue=R,Cy(_f.bind(null,C,R,o),[o]),C.flags|=2048,fu(9,{destroy:void 0},kA.bind(null,C,R,g,c),null),g},useId:function(){var o=Ji(),c=Ii.identifierPrefix;if(Rt){var g=Ia,C=Ki;g=(C&~(1<<32-Xr(C)-1)).toString(32)+g,c="_"+c+"R_"+g,g=$n++,0<g&&(c+="H"+g.toString(32)),c+="_"}else g=Yl++,c="_"+c+"r_"+g.toString(32)+"_";return o.memoizedState=c},useHostTransitionStatus:hm,useFormState:NA,useActionState:NA,useOptimistic:function(o){var c=Ji();c.memoizedState=c.baseState=o;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=g,c=Td.bind(null,mr,!0,g),g.dispatch=c,[o,c]},useMemoCache:ku,useCacheRefresh:function(){return Ji().memoizedState=dm.bind(null,mr)},useEffectEvent:function(o){var c=Ji(),g={impl:o};return c.memoizedState=g,function(){if((ii&2)!==0)throw Error(n(440));return g.impl.apply(void 0,arguments)}}},gm={readContext:pn,use:yc,useCallback:Op,useContext:pn,useEffect:Th,useImperativeHandle:no,useInsertionEffect:om,useLayoutEffect:lm,useMemo:Am,useReducer:qc,useRef:Bd,useState:function(){return qc(OA)},useDebugValue:Zc,useDeferredValue:function(o,c){var g=li();return Ey(g,vr.memoizedState,o,c)},useTransition:function(){var o=qc(OA)[0],c=li().memoizedState;return[typeof o=="boolean"?o:eA(o),c]},useSyncExternalStore:_l,useId:kp,useHostTransitionStatus:hm,useFormState:RA,useActionState:RA,useOptimistic:function(o,c){var g=li();return ea(g,vr,o,c)},useMemoCache:ku,useCacheRefresh:fm};gm.useEffectEvent=Cd;var mm={readContext:pn,use:yc,useCallback:Op,useContext:pn,useEffect:Th,useImperativeHandle:no,useInsertionEffect:om,useLayoutEffect:lm,useMemo:Am,useReducer:Au,useRef:Bd,useState:function(){return Au(OA)},useDebugValue:Zc,useDeferredValue:function(o,c){var g=li();return vr===null?Ih(g,o,c):Ey(g,vr.memoizedState,o,c)},useTransition:function(){var o=Au(OA)[0],c=li().memoizedState;return[typeof o=="boolean"?o:eA(o),c]},useSyncExternalStore:_l,useId:kp,useHostTransitionStatus:hm,useFormState:wf,useActionState:wf,useOptimistic:function(o,c){var g=li();return vr!==null?ea(g,vr,o,c):(g.baseState=o,[o,g.queue.dispatch])},useMemoCache:ku,useCacheRefresh:fm};mm.useEffectEvent=Cd;function Np(o,c,g,C){c=o.memoizedState,g=g(C,c),g=g==null?c:S({},c,g),o.memoizedState=g,o.lanes===0&&(o.updateQueue.baseState=g)}var _c={enqueueSetState:function(o,c,g){o=o._reactInternals;var C=iA(),P=Et(C);P.payload=c,g!=null&&(P.callback=g),c=zt(o,P,C),c!==null&&(wo(c,o,C),tr(c,o,C))},enqueueReplaceState:function(o,c,g){o=o._reactInternals;var C=iA(),P=Et(C);P.tag=1,P.payload=c,g!=null&&(P.callback=g),c=zt(o,P,C),c!==null&&(wo(c,o,C),tr(c,o,C))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var g=iA(),C=Et(g);C.tag=2,c!=null&&(C.callback=c),c=zt(o,C,g),c!==null&&(wo(c,o,g),tr(c,o,g))}};function Bf(o,c,g,C,P,R,re){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(C,R,re):c.prototype&&c.prototype.isPureReactComponent?!dn(g,C)||!dn(P,R):!0}function Fy(o,c,g,C){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(g,C),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(g,C),c.state!==o&&_c.enqueueReplaceState(c,c.state,null)}function Fh(o,c){var g=c;if("ref"in c){g={};for(var C in c)C!=="ref"&&(g[C]=c[C])}if(o=o.defaultProps){g===c&&(g=S({},g));for(var P in o)g[P]===void 0&&(g[P]=o[P])}return g}function Uy(o){Ko(o)}function Ly(o){console.error(o)}function My(o){Ko(o)}function Rp(o,c){try{var g=o.onUncaughtError;g(c.value,{componentStack:c.stack})}catch(C){setTimeout(function(){throw C})}}function Py(o,c,g){try{var C=o.onCaughtError;C(g.value,{componentStack:g.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(P){setTimeout(function(){throw P})}}function Fd(o,c,g){return g=Et(g),g.tag=3,g.payload={element:null},g.callback=function(){Rp(o,c)},g}function Oy(o){return o=Et(o),o.tag=3,o}function Uh(o,c,g,C){var P=g.type.getDerivedStateFromError;if(typeof P=="function"){var R=C.value;o.payload=function(){return P(R)},o.callback=function(){Py(c,g,C)}}var re=g.stateNode;re!==null&&typeof re.componentDidCatch=="function"&&(o.callback=function(){Py(c,g,C),typeof P!="function"&&(Cc===null?Cc=new Set([this]):Cc.add(this));var Ce=C.stack;this.componentDidCatch(C.value,{componentStack:Ce!==null?Ce:""})})}function Hb(o,c,g,C,P){if(g.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){if(c=g.alternate,c!==null&&PA(c,g,P,!0),g=In.current,g!==null){switch(g.tag){case 31:case 13:return sn===null?Zp():g.alternate===null&&ia===0&&(ia=3),g.flags&=-257,g.flags|=65536,g.lanes=P,C===G?g.flags|=16384:(c=g.updateQueue,c===null?g.updateQueue=new Set([C]):c.add(C),Jp(o,C,P)),!1;case 22:return g.flags|=65536,C===G?g.flags|=16384:(c=g.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([C])},g.updateQueue=c):(g=c.retryQueue,g===null?c.retryQueue=new Set([C]):g.add(C)),Jp(o,C,P)),!1}throw Error(n(435,g.tag))}return Jp(o,C,P),Zp(),!1}if(Rt)return c=In.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=P,C!==bo&&(o=Error(n(422),{cause:C}),MA(Ps(o,g)))):(C!==bo&&(c=Error(n(423),{cause:C}),MA(Ps(c,g))),o=o.current.alternate,o.flags|=65536,P&=-P,o.lanes|=P,C=Ps(C,g),P=Fd(o.stateNode,C,P),Vt(o,P),ia!==4&&(ia=2)),!1;var R=Error(n(520),{cause:C});if(R=Ps(R,g),kf===null?kf=[R]:kf.push(R),ia!==4&&(ia=2),c===null)return!0;C=Ps(C,g),g=c;do{switch(g.tag){case 3:return g.flags|=65536,o=P&-P,g.lanes|=o,o=Fd(g.stateNode,C,o),Vt(g,o),!1;case 1:if(c=g.type,R=g.stateNode,(g.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(Cc===null||!Cc.has(R))))return g.flags|=65536,P&=-P,g.lanes|=P,P=Oy(P),Uh(P,o,g,C),Vt(g,P),!1}g=g.return}while(g!==null);return!1}var ta=Error(n(461)),ba=!1;function Ds(o,c,g,C){c.child=o===null?St(c,null,g,C):wt(c,o.child,g,C)}function Ud(o,c,g,C,P){g=g.render;var R=c.ref;if("ref"in C){var re={};for(var Ce in C)Ce!=="ref"&&(re[Ce]=C[Ce])}else re=C;return ca(c),C=Eh(o,c,g,re,R,P),Ce=Du(),o!==null&&!ba?(ou(o,c,P),Ru(o,c,P)):(Rt&&Ce&&Rc(c),c.flags|=1,Ds(o,c,C,P),c.child)}function Ld(o,c,g,C,P){if(o===null){var R=g.type;return typeof R=="function"&&!Lu(R)&&R.defaultProps===void 0&&g.compare===null?(c.tag=15,c.type=R,Cf(o,c,R,C,P)):(o=SA(g.type,null,C,c,c.mode,P),o.ref=c.ref,o.return=c,c.child=o)}if(R=o.child,!jp(o,P)){var re=R.memoizedProps;if(g=g.compare,g=g!==null?g:dn,g(re,C)&&o.ref===c.ref)return Ru(o,c,P)}return c.flags|=1,o=hs(R,C),o.ref=c.ref,o.return=c,c.child=o}function Cf(o,c,g,C,P){if(o!==null){var R=o.memoizedProps;if(dn(R,C)&&o.ref===c.ref)if(ba=!1,c.pendingProps=C=R,jp(o,P))(o.flags&131072)!==0&&(ba=!0);else return c.lanes=o.lanes,Ru(o,c,P)}return Hp(o,c,g,C,P)}function ym(o,c,g,C){var P=C.children,R=o!==null?o.memoizedState:null;if(o===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),C.mode==="hidden"){if((c.flags&128)!==0){if(R=R!==null?R.baseLanes|g:g,o!==null){for(C=c.child=o.child,P=0;C!==null;)P=P|C.lanes|C.childLanes,C=C.sibling;C=P&~R}else C=0,c.child=null;return Ef(o,c,R,g,C)}if((g&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&x(c,R!==null?R.cachePool:null),R!==null?Hn(c,R):Dr(),xi(c);else return C=c.lanes=536870912,Ef(o,c,R!==null?R.baseLanes|g:g,g,C)}else R!==null?(x(c,R.cachePool),Hn(c,R),Di(),c.memoizedState=null):(o!==null&&x(c,null),Dr(),Di());return Ds(o,c,P,g),c.child}function Sf(o,c){return o!==null&&o.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function Ef(o,c,g,C,P){var R=v();return R=R===null?null:{parent:wi._currentValue,pool:R},c.memoizedState={baseLanes:g,cachePool:R},o!==null&&x(c,null),Dr(),xi(c),o!==null&&PA(o,c,C,!0),c.childLanes=P,null}function Tf(o,c){return c=Md({mode:c.mode,children:c.children},o.mode),c.ref=o.ref,o.child=c,c.return=o,c}function zp(o,c,g){return wt(c,o.child,null,g),o=Tf(c,c.pendingProps),o.flags|=2,Gn(c),c.memoizedState=null,o}function vm(o,c,g){var C=c.pendingProps,P=(c.flags&128)!==0;if(c.flags&=-129,o===null){if(Rt){if(C.mode==="hidden")return o=Tf(c,C),c.lanes=536870912,Sf(null,o);if(Cn(c),(o=Mn)?(o=Bt(o,Si),o=o!==null&&o.data==="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:yl!==null?{id:Ki,overflow:Ia}:null,retryLane:536870912,hydrationErrors:null},g=TA(o),g.return=c,c.child=g,Vi=c,Mn=null)):o=null,o===null)throw eo(c);return c.lanes=536870912,null}return Tf(c,C)}var R=o.memoizedState;if(R!==null){var re=R.dehydrated;if(Cn(c),P)if(c.flags&256)c.flags&=-257,c=zp(o,c,g);else if(c.memoizedState!==null)c.child=o.child,c.flags|=128,c=null;else throw Error(n(558));else if(ba||PA(o,c,g,!1),P=(g&o.childLanes)!==0,ba||P){if(C=Ii,C!==null&&(re=Lt(C,g),re!==0&&re!==R.retryLane))throw R.retryLane=re,Vo(o,re),wo(C,o,re),ta;Zp(),c=zp(o,c,g)}else o=R.treeContext,Mn=Wt(re.nextSibling),Vi=c,Rt=!0,Fa=null,Si=!1,o!==null&&zc(c,o),c=Tf(c,C),c.flags|=4096;return c}return o=hs(o.child,{mode:C.mode,children:C.children}),o.ref=c.ref,c.child=o,o.return=c,o}function If(o,c){var g=c.ref;if(g===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof g!="function"&&typeof g!="object")throw Error(n(284));(o===null||o.ref!==g)&&(c.flags|=4194816)}}function Hp(o,c,g,C,P){return ca(c),g=Eh(o,c,g,C,void 0,P),C=Du(),o!==null&&!ba?(ou(o,c,P),Ru(o,c,P)):(Rt&&C&&Rc(c),c.flags|=1,Ds(o,c,g,P),c.child)}function _m(o,c,g,C,P,R){return ca(c),c.updateQueue=null,g=Xa(c,C,g,P),mc(o),C=Du(),o!==null&&!ba?(ou(o,c,R),Ru(o,c,R)):(Rt&&C&&Rc(c),c.flags|=1,Ds(o,c,g,R),c.child)}function Dy(o,c,g,C,P){if(ca(c),c.stateNode===null){var R=bi,re=g.contextType;typeof re=="object"&&re!==null&&(R=pn(re)),R=new g(C,R),c.memoizedState=R.state!==null&&R.state!==void 0?R.state:null,R.updater=_c,c.stateNode=R,R._reactInternals=c,R=c.stateNode,R.props=C,R.state=c.memoizedState,R.refs={},mt(c),re=g.contextType,R.context=typeof re=="object"&&re!==null?pn(re):bi,R.state=c.memoizedState,re=g.getDerivedStateFromProps,typeof re=="function"&&(Np(c,g,re,C),R.state=c.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof R.getSnapshotBeforeUpdate=="function"||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(re=R.state,typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount(),re!==R.state&&_c.enqueueReplaceState(R,R.state,null),un(c,C,R,P),rr(),R.state=c.memoizedState),typeof R.componentDidMount=="function"&&(c.flags|=4194308),C=!0}else if(o===null){R=c.stateNode;var Ce=c.memoizedProps,tt=Fh(g,Ce);R.props=tt;var bt=R.context,Dt=g.contextType;re=bi,typeof Dt=="object"&&Dt!==null&&(re=pn(Dt));var Ht=g.getDerivedStateFromProps;Dt=typeof Ht=="function"||typeof R.getSnapshotBeforeUpdate=="function",Ce=c.pendingProps!==Ce,Dt||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(Ce||bt!==re)&&Fy(c,R,C,re),_t=!1;var xt=c.memoizedState;R.state=xt,un(c,C,R,P),rr(),bt=c.memoizedState,Ce||xt!==bt||_t?(typeof Ht=="function"&&(Np(c,g,Ht,C),bt=c.memoizedState),(tt=_t||Bf(c,g,tt,C,xt,bt,re))?(Dt||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(c.flags|=4194308)):(typeof R.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=C,c.memoizedState=bt),R.props=C,R.state=bt,R.context=re,C=tt):(typeof R.componentDidMount=="function"&&(c.flags|=4194308),C=!1)}else{R=c.stateNode,Qt(o,c),re=c.memoizedProps,Dt=Fh(g,re),R.props=Dt,Ht=c.pendingProps,xt=R.context,bt=g.contextType,tt=bi,typeof bt=="object"&&bt!==null&&(tt=pn(bt)),Ce=g.getDerivedStateFromProps,(bt=typeof Ce=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(re!==Ht||xt!==tt)&&Fy(c,R,C,tt),_t=!1,xt=c.memoizedState,R.state=xt,un(c,C,R,P),rr();var It=c.memoizedState;re!==Ht||xt!==It||_t||o!==null&&o.dependencies!==null&&jc(o.dependencies)?(typeof Ce=="function"&&(Np(c,g,Ce,C),It=c.memoizedState),(Dt=_t||Bf(c,g,Dt,C,xt,It,tt)||o!==null&&o.dependencies!==null&&jc(o.dependencies))?(bt||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(C,It,tt),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(C,It,tt)),typeof R.componentDidUpdate=="function"&&(c.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof R.componentDidUpdate!="function"||re===o.memoizedProps&&xt===o.memoizedState||(c.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||re===o.memoizedProps&&xt===o.memoizedState||(c.flags|=1024),c.memoizedProps=C,c.memoizedState=It),R.props=C,R.state=It,R.context=tt,C=Dt):(typeof R.componentDidUpdate!="function"||re===o.memoizedProps&&xt===o.memoizedState||(c.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||re===o.memoizedProps&&xt===o.memoizedState||(c.flags|=1024),C=!1)}return R=C,If(o,c),C=(c.flags&128)!==0,R||C?(R=c.stateNode,g=C&&typeof g.getDerivedStateFromError!="function"?null:R.render(),c.flags|=1,o!==null&&C?(c.child=wt(c,o.child,null,P),c.child=wt(c,null,g,P)):Ds(o,c,g,P),c.memoizedState=R.state,o=c.child):o=Ru(o,c,P),o}function ky(o,c,g,C){return $l(),c.flags|=256,Ds(o,c,g,C),c.child}var bm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wm(o){return{baseLanes:o,cachePool:U()}}function xm(o,c,g){return o=o!==null?o.childLanes&~g:0,c&&(o|=Bl),o}function bc(o,c,g){var C=c.pendingProps,P=!1,R=(c.flags&128)!==0,re;if((re=R)||(re=o!==null&&o.memoizedState===null?!1:(fn.current&2)!==0),re&&(P=!0,c.flags&=-129),re=(c.flags&32)!==0,c.flags&=-33,o===null){if(Rt){if(P?On(c):Di(),(o=Mn)?(o=Bt(o,Si),o=o!==null&&o.data!=="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:yl!==null?{id:Ki,overflow:Ia}:null,retryLane:536870912,hydrationErrors:null},g=TA(o),g.return=c,c.child=g,Vi=c,Mn=null)):o=null,o===null)throw eo(c);return er(o)?c.lanes=32:c.lanes=536870912,null}var Ce=C.children;return C=C.fallback,P?(Di(),P=c.mode,Ce=Md({mode:"hidden",children:Ce},P),C=Ms(C,P,g,null),Ce.return=c,C.return=c,Ce.sibling=C,c.child=Ce,C=c.child,C.memoizedState=wm(g),C.childLanes=xm(o,re,g),c.memoizedState=bm,Sf(null,C)):(On(c),Bm(c,Ce))}var tt=o.memoizedState;if(tt!==null&&(Ce=tt.dehydrated,Ce!==null)){if(R)c.flags&256?(On(c),c.flags&=-257,c=Wc(o,c,g)):c.memoizedState!==null?(Di(),c.child=o.child,c.flags|=128,c=null):(Di(),Ce=C.fallback,P=c.mode,C=Md({mode:"visible",children:C.children},P),Ce=Ms(Ce,P,g,null),Ce.flags|=2,C.return=c,Ce.return=c,C.sibling=Ce,c.child=C,wt(c,o.child,null,g),C=c.child,C.memoizedState=wm(g),C.childLanes=xm(o,re,g),c.memoizedState=bm,c=Sf(null,C));else if(On(c),er(Ce)){if(re=Ce.nextSibling&&Ce.nextSibling.dataset,re)var bt=re.dgst;re=bt,C=Error(n(419)),C.stack="",C.digest=re,MA({value:C,source:null,stack:null}),c=Wc(o,c,g)}else if(ba||PA(o,c,g,!1),re=(g&o.childLanes)!==0,ba||re){if(re=Ii,re!==null&&(C=Lt(re,g),C!==0&&C!==tt.retryLane))throw tt.retryLane=C,Vo(o,C),wo(re,o,C),ta;Kt(Ce)||Zp(),c=Wc(o,c,g)}else Kt(Ce)?(c.flags|=192,c.child=o.child,c=null):(o=tt.treeContext,Mn=Wt(Ce.nextSibling),Vi=c,Rt=!0,Fa=null,Si=!1,o!==null&&zc(c,o),c=Bm(c,C.children),c.flags|=4096);return c}return P?(Di(),Ce=C.fallback,P=c.mode,tt=o.child,bt=tt.sibling,C=hs(tt,{mode:"hidden",children:C.children}),C.subtreeFlags=tt.subtreeFlags&65011712,bt!==null?Ce=hs(bt,Ce):(Ce=Ms(Ce,P,g,null),Ce.flags|=2),Ce.return=c,C.return=c,C.sibling=Ce,c.child=C,Sf(null,C),C=c.child,Ce=o.child.memoizedState,Ce===null?Ce=wm(g):(P=Ce.cachePool,P!==null?(tt=wi._currentValue,P=P.parent!==tt?{parent:tt,pool:tt}:P):P=U(),Ce={baseLanes:Ce.baseLanes|g,cachePool:P}),C.memoizedState=Ce,C.childLanes=xm(o,re,g),c.memoizedState=bm,Sf(o.child,C)):(On(c),g=o.child,o=g.sibling,g=hs(g,{mode:"visible",children:C.children}),g.return=c,g.sibling=null,o!==null&&(re=c.deletions,re===null?(c.deletions=[o],c.flags|=16):re.push(o)),c.child=g,c.memoizedState=null,g)}function Bm(o,c){return c=Md({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function Md(o,c){return o=va(22,o,null,c),o.lanes=0,o}function Wc(o,c,g){return wt(c,o.child,null,g),o=Bm(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function Qy(o,c,g){o.lanes|=c;var C=o.alternate;C!==null&&(C.lanes|=c),Ou(o.return,c,g)}function Cm(o,c,g,C,P,R){var re=o.memoizedState;re===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:C,tail:g,tailMode:P,treeForkCount:R}:(re.isBackwards=c,re.rendering=null,re.renderingStartTime=0,re.last=C,re.tail=g,re.tailMode=P,re.treeForkCount=R)}function Ny(o,c,g){var C=c.pendingProps,P=C.revealOrder,R=C.tail;C=C.children;var re=fn.current,Ce=(re&2)!==0;if(Ce?(re=re&1|2,c.flags|=128):re&=1,ye(fn,re),Ds(o,c,C,g),C=Rt?Pu:0,!Ce&&o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Qy(o,g,c);else if(o.tag===19)Qy(o,g,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(P){case"forwards":for(g=c.child,P=null;g!==null;)o=g.alternate,o!==null&&_a(o)===null&&(P=g),g=g.sibling;g=P,g===null?(P=c.child,c.child=null):(P=g.sibling,g.sibling=null),Cm(c,!1,P,g,R,C);break;case"backwards":case"unstable_legacy-backwards":for(g=null,P=c.child,c.child=null;P!==null;){if(o=P.alternate,o!==null&&_a(o)===null){c.child=P;break}o=P.sibling,P.sibling=g,g=P,P=o}Cm(c,!0,g,null,R,C);break;case"together":Cm(c,!1,null,null,void 0,C);break;default:c.memoizedState=null}return c.child}function Ru(o,c,g){if(o!==null&&(c.dependencies=o.dependencies),th|=c.lanes,(g&c.childLanes)===0)if(o!==null){if(PA(o,c,g,!1),(g&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(n(153));if(c.child!==null){for(o=c.child,g=hs(o,o.pendingProps),c.child=g,g.return=c;o.sibling!==null;)o=o.sibling,g=g.sibling=hs(o,o.pendingProps),g.return=c;g.sibling=null}return c.child}function jp(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&jc(o)))}function jb(o,c,g){switch(c.tag){case 3:gt(c,c.stateNode.containerInfo),vl(c,wi,o.memoizedState.cache),$l();break;case 27:case 5:pt(c);break;case 4:gt(c,c.stateNode.containerInfo);break;case 10:vl(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,Cn(c),null;break;case 13:var C=c.memoizedState;if(C!==null)return C.dehydrated!==null?(On(c),c.flags|=128,null):(g&c.child.childLanes)!==0?bc(o,c,g):(On(c),o=Ru(o,c,g),o!==null?o.sibling:null);On(c);break;case 19:var P=(o.flags&128)!==0;if(C=(g&c.childLanes)!==0,C||(PA(o,c,g,!1),C=(g&c.childLanes)!==0),P){if(C)return Ny(o,c,g);c.flags|=128}if(P=c.memoizedState,P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),ye(fn,fn.current),C)break;return null;case 22:return c.lanes=0,ym(o,c,g,c.pendingProps);case 24:vl(c,wi,o.memoizedState.cache)}return Ru(o,c,g)}function Ry(o,c,g){if(o!==null)if(o.memoizedProps!==c.pendingProps)ba=!0;else{if(!jp(o,g)&&(c.flags&128)===0)return ba=!1,jb(o,c,g);ba=(o.flags&131072)!==0}else ba=!1,Rt&&(c.flags&1048576)!==0&&mf(c,Pu,c.index);switch(c.lanes=0,c.tag){case 16:e:{var C=c.pendingProps;if(o=te(c.elementType),c.type=o,typeof o=="function")Lu(o)?(C=Fh(o,C),c.tag=1,c=Dy(null,c,o,C,g)):(c.tag=0,c=Hp(null,c,o,C,g));else{if(o!=null){var P=o.$$typeof;if(P===le){c.tag=11,c=Ud(null,c,o,C,g);break e}else if(P===Ee){c.tag=14,c=Ld(null,c,o,C,g);break e}}throw c=Le(o)||o,Error(n(306,c,""))}}return c;case 0:return Hp(o,c,c.type,c.pendingProps,g);case 1:return C=c.type,P=Fh(C,c.pendingProps),Dy(o,c,C,P,g);case 3:e:{if(gt(c,c.stateNode.containerInfo),o===null)throw Error(n(387));C=c.pendingProps;var R=c.memoizedState;P=R.element,Qt(o,c),un(c,C,null,g);var re=c.memoizedState;if(C=re.cache,vl(c,wi,C),C!==R.cache&&Xl(c,[wi],g,!0),rr(),C=re.element,R.isDehydrated)if(R={element:C,isDehydrated:!1,cache:re.cache},c.updateQueue.baseState=R,c.memoizedState=R,c.flags&256){c=ky(o,c,C,g);break e}else if(C!==P){P=Ps(Error(n(424)),c),MA(P),c=ky(o,c,C,g);break e}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Mn=Wt(o.firstChild),Vi=c,Rt=!0,Fa=null,Si=!0,g=St(c,null,C,g),c.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling}else{if($l(),C===P){c=Ru(o,c,g);break e}Ds(o,c,C,g)}c=c.child}return c;case 26:return If(o,c),o===null?(g=ms(c.type,null,c.pendingProps,null))?c.memoizedState=g:Rt||(g=c.type,o=c.pendingProps,C=B(Ze.current).createElement(g),C[or]=c,C[Or]=o,ps(C,g,o),Ui(C),c.stateNode=C):c.memoizedState=ms(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return pt(c),o===null&&Rt&&(C=c.stateNode=ir(c.type,c.pendingProps,Ze.current),Vi=c,Si=!0,P=Mn,xe(c.type)?(Yt=P,Mn=Wt(C.firstChild)):Mn=P),Ds(o,c,c.pendingProps.children,g),If(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&Rt&&((P=C=Mn)&&(C=nt(C,c.type,c.pendingProps,Si),C!==null?(c.stateNode=C,Vi=c,Mn=Wt(C.firstChild),Si=!1,P=!0):P=!1),P||eo(c)),pt(c),P=c.type,R=c.pendingProps,re=o!==null?o.memoizedProps:null,C=R.children,O(P,R)?C=null:re!==null&&O(P,re)&&(c.flags|=32),c.memoizedState!==null&&(P=Eh(o,c,vf,null,null,g),Xf._currentValue=P),If(o,c),Ds(o,c,C,g),c.child;case 6:return o===null&&Rt&&((o=g=Mn)&&(g=At(g,c.pendingProps,Si),g!==null?(c.stateNode=g,Vi=c,Mn=null,o=!0):o=!1),o||eo(c)),null;case 13:return bc(o,c,g);case 4:return gt(c,c.stateNode.containerInfo),C=c.pendingProps,o===null?c.child=wt(c,null,C,g):Ds(o,c,C,g),c.child;case 11:return Ud(o,c,c.type,c.pendingProps,g);case 7:return Ds(o,c,c.pendingProps,g),c.child;case 8:return Ds(o,c,c.pendingProps.children,g),c.child;case 12:return Ds(o,c,c.pendingProps.children,g),c.child;case 10:return C=c.pendingProps,vl(c,c.type,C.value),Ds(o,c,C.children,g),c.child;case 9:return P=c.type._context,C=c.pendingProps.children,ca(c),P=pn(P),C=C(P),c.flags|=1,Ds(o,c,C,g),c.child;case 14:return Ld(o,c,c.type,c.pendingProps,g);case 15:return Cf(o,c,c.type,c.pendingProps,g);case 19:return Ny(o,c,g);case 31:return vm(o,c,g);case 22:return ym(o,c,g,c.pendingProps);case 24:return ca(c),C=pn(wi),o===null?(P=v(),P===null&&(P=Ii,R=fs(),P.pooledCache=R,R.refCount++,R!==null&&(P.pooledCacheLanes|=g),P=R),c.memoizedState={parent:C,cache:P},mt(c),vl(c,wi,P)):((o.lanes&g)!==0&&(Qt(o,c),un(c,null,null,g),rr()),P=o.memoizedState,R=c.memoizedState,P.parent!==C?(P={parent:C,cache:C},c.memoizedState=P,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=P),vl(c,wi,C)):(C=R.cache,vl(c,wi,C),C!==P.cache&&Xl(c,[wi],g,!0))),Ds(o,c,c.pendingProps.children,g),c.child;case 29:throw c.pendingProps}throw Error(n(156,c.tag))}function wc(o){o.flags|=4}function Sm(o,c,g,C,P){if((c=(o.mode&32)!==0)&&(c=!1),c){if(o.flags|=16777216,(P&335544128)===P)if(o.stateNode.complete)o.flags|=8192;else if(rv())o.flags|=8192;else throw ue=G,k}else o.flags&=-16777217}function Kp(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!rs(c))if(rv())o.flags|=8192;else throw ue=G,k}function Yc(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?Re():536870912,o.lanes|=c,Df|=c)}function Lh(o,c){if(!Rt)switch(o.tailMode){case"hidden":c=o.tail;for(var g=null;c!==null;)c.alternate!==null&&(g=c),c=c.sibling;g===null?o.tail=null:g.sibling=null;break;case"collapsed":g=o.tail;for(var C=null;g!==null;)g.alternate!==null&&(C=g),g=g.sibling;C===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:C.sibling=null}}function ra(o){var c=o.alternate!==null&&o.alternate.child===o.child,g=0,C=0;if(c)for(var P=o.child;P!==null;)g|=P.lanes|P.childLanes,C|=P.subtreeFlags&65011712,C|=P.flags&65011712,P.return=o,P=P.sibling;else for(P=o.child;P!==null;)g|=P.lanes|P.childLanes,C|=P.subtreeFlags,C|=P.flags,P.return=o,P=P.sibling;return o.subtreeFlags|=C,o.childLanes=g,c}function Kb(o,c,g){var C=c.pendingProps;switch(dc(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ra(c),null;case 1:return ra(c),null;case 3:return g=c.stateNode,C=null,o!==null&&(C=o.memoizedState.cache),c.memoizedState.cache!==C&&(c.flags|=2048),ro(wi),Ke(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(o===null||o.child===null)&&(Hr(c)?wc(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Sh())),ra(c),null;case 26:var P=c.type,R=c.memoizedState;return o===null?(wc(c),R!==null?(ra(c),Kp(c,R)):(ra(c),Sm(c,P,null,C,g))):R?R!==o.memoizedState?(wc(c),ra(c),Kp(c,R)):(ra(c),c.flags&=-16777217):(o=o.memoizedProps,o!==C&&wc(c),ra(c),Sm(c,P,o,C,g)),null;case 27:if(Ct(c),g=Ze.current,P=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==C&&wc(c);else{if(!C){if(c.stateNode===null)throw Error(n(166));return ra(c),null}o=Te.current,Hr(c)?LA(c):(o=ir(P,C,g),c.stateNode=o,wc(c))}return ra(c),null;case 5:if(Ct(c),P=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==C&&wc(c);else{if(!C){if(c.stateNode===null)throw Error(n(166));return ra(c),null}if(R=Te.current,Hr(c))LA(c);else{var re=B(Ze.current);switch(R){case 1:R=re.createElementNS("http://www.w3.org/2000/svg",P);break;case 2:R=re.createElementNS("http://www.w3.org/1998/Math/MathML",P);break;default:switch(P){case"svg":R=re.createElementNS("http://www.w3.org/2000/svg",P);break;case"math":R=re.createElementNS("http://www.w3.org/1998/Math/MathML",P);break;case"script":R=re.createElement("div"),R.innerHTML="<script><\/script>",R=R.removeChild(R.firstChild);break;case"select":R=typeof C.is=="string"?re.createElement("select",{is:C.is}):re.createElement("select"),C.multiple?R.multiple=!0:C.size&&(R.size=C.size);break;default:R=typeof C.is=="string"?re.createElement(P,{is:C.is}):re.createElement(P)}}R[or]=c,R[Or]=C;e:for(re=c.child;re!==null;){if(re.tag===5||re.tag===6)R.appendChild(re.stateNode);else if(re.tag!==4&&re.tag!==27&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===c)break e;for(;re.sibling===null;){if(re.return===null||re.return===c)break e;re=re.return}re.sibling.return=re.return,re=re.sibling}c.stateNode=R;e:switch(ps(R,P,C),P){case"button":case"input":case"select":case"textarea":C=!!C.autoFocus;break e;case"img":C=!0;break e;default:C=!1}C&&wc(c)}}return ra(c),Sm(c,c.type,o===null?null:o.memoizedProps,c.pendingProps,g),null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==C&&wc(c);else{if(typeof C!="string"&&c.stateNode===null)throw Error(n(166));if(o=Ze.current,Hr(c)){if(o=c.stateNode,g=c.memoizedProps,C=null,P=Vi,P!==null)switch(P.tag){case 27:case 5:C=P.memoizedProps}o[or]=c,o=!!(o.nodeValue===g||C!==null&&C.suppressHydrationWarning===!0||qf(o.nodeValue,g)),o||eo(c,!0)}else o=B(o).createTextNode(C),o[or]=c,c.stateNode=o}return ra(c),null;case 31:if(g=c.memoizedState,o===null||o.memoizedState!==null){if(C=Hr(c),g!==null){if(o===null){if(!C)throw Error(n(318));if(o=c.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(557));o[or]=c}else $l(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;ra(c),o=!1}else g=Sh(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=g),o=!0;if(!o)return c.flags&256?(Gn(c),c):(Gn(c),null);if((c.flags&128)!==0)throw Error(n(558))}return ra(c),null;case 13:if(C=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(P=Hr(c),C!==null&&C.dehydrated!==null){if(o===null){if(!P)throw Error(n(318));if(P=c.memoizedState,P=P!==null?P.dehydrated:null,!P)throw Error(n(317));P[or]=c}else $l(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;ra(c),P=!1}else P=Sh(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=P),P=!0;if(!P)return c.flags&256?(Gn(c),c):(Gn(c),null)}return Gn(c),(c.flags&128)!==0?(c.lanes=g,c):(g=C!==null,o=o!==null&&o.memoizedState!==null,g&&(C=c.child,P=null,C.alternate!==null&&C.alternate.memoizedState!==null&&C.alternate.memoizedState.cachePool!==null&&(P=C.alternate.memoizedState.cachePool.pool),R=null,C.memoizedState!==null&&C.memoizedState.cachePool!==null&&(R=C.memoizedState.cachePool.pool),R!==P&&(C.flags|=2048)),g!==o&&g&&(c.child.flags|=8192),Yc(c,c.updateQueue),ra(c),null);case 4:return Ke(),o===null&&Xm(c.stateNode.containerInfo),ra(c),null;case 10:return ro(c.type),ra(c),null;case 19:if(ee(fn),C=c.memoizedState,C===null)return ra(c),null;if(P=(c.flags&128)!==0,R=C.rendering,R===null)if(P)Lh(C,!1);else{if(ia!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(R=_a(o),R!==null){for(c.flags|=128,Lh(C,!1),o=R.updateQueue,c.updateQueue=o,Yc(c,o),c.subtreeFlags=0,o=g,g=c.child;g!==null;)su(g,o),g=g.sibling;return ye(fn,fn.current&1|2),Rt&&Js(c,C.treeForkCount),c.child}o=o.sibling}C.tail!==null&&rn()>$p&&(c.flags|=128,P=!0,Lh(C,!1),c.lanes=4194304)}else{if(!P)if(o=_a(R),o!==null){if(c.flags|=128,P=!0,o=o.updateQueue,c.updateQueue=o,Yc(c,o),Lh(C,!0),C.tail===null&&C.tailMode==="hidden"&&!R.alternate&&!Rt)return ra(c),null}else 2*rn()-C.renderingStartTime>$p&&g!==536870912&&(c.flags|=128,P=!0,Lh(C,!1),c.lanes=4194304);C.isBackwards?(R.sibling=c.child,c.child=R):(o=C.last,o!==null?o.sibling=R:c.child=R,C.last=R)}return C.tail!==null?(o=C.tail,C.rendering=o,C.tail=o.sibling,C.renderingStartTime=rn(),o.sibling=null,g=fn.current,ye(fn,P?g&1|2:g&1),Rt&&Js(c,C.treeForkCount),o):(ra(c),null);case 22:case 23:return Gn(c),qn(),C=c.memoizedState!==null,o!==null?o.memoizedState!==null!==C&&(c.flags|=8192):C&&(c.flags|=8192),C?(g&536870912)!==0&&(c.flags&128)===0&&(ra(c),c.subtreeFlags&6&&(c.flags|=8192)):ra(c),g=c.updateQueue,g!==null&&Yc(c,g.retryQueue),g=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(g=o.memoizedState.cachePool.pool),C=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(C=c.memoizedState.cachePool.pool),C!==g&&(c.flags|=2048),o!==null&&ee(p),null;case 24:return g=null,o!==null&&(g=o.memoizedState.cache),c.memoizedState.cache!==g&&(c.flags|=2048),ro(wi),ra(c),null;case 25:return null;case 30:return null}throw Error(n(156,c.tag))}function zy(o,c){switch(dc(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return ro(wi),Ke(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return Ct(c),null;case 31:if(c.memoizedState!==null){if(Gn(c),c.alternate===null)throw Error(n(340));$l()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 13:if(Gn(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(n(340));$l()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return ee(fn),null;case 4:return Ke(),null;case 10:return ro(c.type),null;case 22:case 23:return Gn(c),qn(),o!==null&&ee(p),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return ro(wi),null;case 25:return null;default:return null}}function Hy(o,c){switch(dc(c),c.tag){case 3:ro(wi),Ke();break;case 26:case 27:case 5:Ct(c);break;case 4:Ke();break;case 31:c.memoizedState!==null&&Gn(c);break;case 13:Gn(c);break;case 19:ee(fn);break;case 10:ro(c.type);break;case 22:case 23:Gn(c),qn(),o!==null&&ee(p);break;case 24:ro(wi)}}function Pd(o,c){try{var g=c.updateQueue,C=g!==null?g.lastEffect:null;if(C!==null){var P=C.next;g=P;do{if((g.tag&o)===o){C=void 0;var R=g.create,re=g.inst;C=R(),re.destroy=C}g=g.next}while(g!==P)}}catch(Ce){hi(c,c.return,Ce)}}function zA(o,c,g){try{var C=c.updateQueue,P=C!==null?C.lastEffect:null;if(P!==null){var R=P.next;C=R;do{if((C.tag&o)===o){var re=C.inst,Ce=re.destroy;if(Ce!==void 0){re.destroy=void 0,P=c;var tt=g,bt=Ce;try{bt()}catch(Dt){hi(P,tt,Dt)}}}C=C.next}while(C!==R)}}catch(Dt){hi(c,c.return,Dt)}}function Em(o){var c=o.updateQueue;if(c!==null){var g=o.stateNode;try{Lr(c,g)}catch(C){hi(o,o.return,C)}}}function jy(o,c,g){g.props=Fh(o.type,o.memoizedProps),g.state=o.memoizedState;try{g.componentWillUnmount()}catch(C){hi(o,c,C)}}function Od(o,c){try{var g=o.ref;if(g!==null){switch(o.tag){case 26:case 27:case 5:var C=o.stateNode;break;case 30:C=o.stateNode;break;default:C=o.stateNode}typeof g=="function"?o.refCleanup=g(C):g.current=C}}catch(P){hi(o,c,P)}}function zu(o,c){var g=o.ref,C=o.refCleanup;if(g!==null)if(typeof C=="function")try{C()}catch(P){hi(o,c,P)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(P){hi(o,c,P)}else g.current=null}function Ky(o){var c=o.type,g=o.memoizedProps,C=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":g.autoFocus&&C.focus();break e;case"img":g.src?C.src=g.src:g.srcSet&&(C.srcset=g.srcSet)}}catch(P){hi(o,o.return,P)}}function Tm(o,c,g){try{var C=o.stateNode;Wb(C,o.type,g,c),C[Or]=c}catch(P){hi(o,o.return,P)}}function Vy(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&xe(o.type)||o.tag===4}function Vp(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Vy(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&xe(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Dd(o,c,g){var C=o.tag;if(C===5||C===6)o=o.stateNode,c?(g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g).insertBefore(o,c):(c=g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g,c.appendChild(o),g=g._reactRootContainer,g!=null||c.onclick!==null||(c.onclick=Na));else if(C!==4&&(C===27&&xe(o.type)&&(g=o.stateNode,c=null),o=o.child,o!==null))for(Dd(o,c,g),o=o.sibling;o!==null;)Dd(o,c,g),o=o.sibling}function kd(o,c,g){var C=o.tag;if(C===5||C===6)o=o.stateNode,c?g.insertBefore(o,c):g.appendChild(o);else if(C!==4&&(C===27&&xe(o.type)&&(g=o.stateNode),o=o.child,o!==null))for(kd(o,c,g),o=o.sibling;o!==null;)kd(o,c,g),o=o.sibling}function Im(o){var c=o.stateNode,g=o.memoizedProps;try{for(var C=o.type,P=c.attributes;P.length;)c.removeAttributeNode(P[0]);ps(c,C,g),c[or]=o,c[Or]=g}catch(R){hi(o,o.return,R)}}var Hu=!1,Za=!1,Ff=!1,qy=typeof WeakSet=="function"?WeakSet:Set,ds=null;function Vb(o,c){if(o=o.containerInfo,f=sg,o=Fs(o),Ho(o)){if("selectionStart"in o)var g={start:o.selectionStart,end:o.selectionEnd};else e:{g=(g=o.ownerDocument)&&g.defaultView||window;var C=g.getSelection&&g.getSelection();if(C&&C.rangeCount!==0){g=C.anchorNode;var P=C.anchorOffset,R=C.focusNode;C=C.focusOffset;try{g.nodeType,R.nodeType}catch{g=null;break e}var re=0,Ce=-1,tt=-1,bt=0,Dt=0,Ht=o,xt=null;t:for(;;){for(var It;Ht!==g||P!==0&&Ht.nodeType!==3||(Ce=re+P),Ht!==R||C!==0&&Ht.nodeType!==3||(tt=re+C),Ht.nodeType===3&&(re+=Ht.nodeValue.length),(It=Ht.firstChild)!==null;)xt=Ht,Ht=It;for(;;){if(Ht===o)break t;if(xt===g&&++bt===P&&(Ce=re),xt===R&&++Dt===C&&(tt=re),(It=Ht.nextSibling)!==null)break;Ht=xt,xt=Ht.parentNode}Ht=It}g=Ce===-1||tt===-1?null:{start:Ce,end:tt}}else g=null}g=g||{start:0,end:0}}else g=null;for(m={focusedElem:o,selectionRange:g},sg=!1,ds=c;ds!==null;)if(c=ds,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,ds=o;else for(;ds!==null;){switch(c=ds,R=c.alternate,o=c.flags,c.tag){case 0:if((o&4)!==0&&(o=c.updateQueue,o=o!==null?o.events:null,o!==null))for(g=0;g<o.length;g++)P=o[g],P.ref.impl=P.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&R!==null){o=void 0,g=c,P=R.memoizedProps,R=R.memoizedState,C=g.stateNode;try{var Fr=Fh(g.type,P);o=C.getSnapshotBeforeUpdate(Fr,R),C.__reactInternalSnapshotBeforeUpdate=o}catch(hn){hi(g,g.return,hn)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,g=o.nodeType,g===9)ht(o);else if(g===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":ht(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(n(163))}if(o=c.sibling,o!==null){o.return=c.return,ds=o;break}ds=c.return}}function Gy(o,c,g){var C=g.flags;switch(g.tag){case 0:case 11:case 15:xl(o,g),C&4&&Pd(5,g);break;case 1:if(xl(o,g),C&4)if(o=g.stateNode,c===null)try{o.componentDidMount()}catch(re){hi(g,g.return,re)}else{var P=Fh(g.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(P,c,o.__reactInternalSnapshotBeforeUpdate)}catch(re){hi(g,g.return,re)}}C&64&&Em(g),C&512&&Od(g,g.return);break;case 3:if(xl(o,g),C&64&&(o=g.updateQueue,o!==null)){if(c=null,g.child!==null)switch(g.child.tag){case 27:case 5:c=g.child.stateNode;break;case 1:c=g.child.stateNode}try{Lr(o,c)}catch(re){hi(g,g.return,re)}}break;case 27:c===null&&C&4&&Im(g);case 26:case 5:xl(o,g),c===null&&C&4&&Ky(g),C&512&&Od(g,g.return);break;case 12:xl(o,g);break;case 31:xl(o,g),C&4&&Ua(o,g);break;case 13:xl(o,g),C&4&&Fm(o,g),C&64&&(o=g.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(g=av.bind(null,g),kr(o,g))));break;case 22:if(C=g.memoizedState!==null||Hu,!C){c=c!==null&&c.memoizedState!==null||Za,P=Hu;var R=Za;Hu=C,(Za=c)&&!R?Bc(o,g,(g.subtreeFlags&8772)!==0):xl(o,g),Hu=P,Za=R}break;case 30:break;default:xl(o,g)}}function $y(o){var c=o.alternate;c!==null&&(o.alternate=null,$y(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&mi(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var na=null,wl=!1;function xc(o,c,g){for(g=g.child;g!==null;)Uf(o,c,g),g=g.sibling}function Uf(o,c,g){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(Pt,g)}catch{}switch(g.tag){case 26:Za||zu(g,c),xc(o,c,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:Za||zu(g,c);var C=na,P=wl;xe(g.type)&&(na=g.stateNode,wl=!1),xc(o,c,g),Ut(g.stateNode),na=C,wl=P;break;case 5:Za||zu(g,c);case 6:if(C=na,P=wl,na=null,xc(o,c,g),na=C,wl=P,na!==null)if(wl)try{(na.nodeType===9?na.body:na.nodeName==="HTML"?na.ownerDocument.body:na).removeChild(g.stateNode)}catch(R){hi(g,c,R)}else try{na.removeChild(g.stateNode)}catch(R){hi(g,c,R)}break;case 18:na!==null&&(wl?(o=na,He(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,g.stateNode),ug(o)):He(na,g.stateNode));break;case 4:C=na,P=wl,na=g.stateNode.containerInfo,wl=!0,xc(o,c,g),na=C,wl=P;break;case 0:case 11:case 14:case 15:zA(2,g,c),Za||zA(4,g,c),xc(o,c,g);break;case 1:Za||(zu(g,c),C=g.stateNode,typeof C.componentWillUnmount=="function"&&jy(g,c,C)),xc(o,c,g);break;case 21:xc(o,c,g);break;case 22:Za=(C=Za)||g.memoizedState!==null,xc(o,c,g),Za=C;break;default:xc(o,c,g)}}function Ua(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{ug(o)}catch(g){hi(c,c.return,g)}}}function Fm(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{ug(o)}catch(g){hi(c,c.return,g)}}function Xy(o){switch(o.tag){case 31:case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new qy),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new qy),c;default:throw Error(n(435,o.tag))}}function Qd(o,c){var g=Xy(o);c.forEach(function(C){if(!g.has(C)){g.add(C);var P=Xb.bind(null,o,C);C.then(P,P)}})}function bn(o,c){var g=c.deletions;if(g!==null)for(var C=0;C<g.length;C++){var P=g[C],R=o,re=c,Ce=re;e:for(;Ce!==null;){switch(Ce.tag){case 27:if(xe(Ce.type)){na=Ce.stateNode,wl=!1;break e}break;case 5:na=Ce.stateNode,wl=!1;break e;case 3:case 4:na=Ce.stateNode.containerInfo,wl=!0;break e}Ce=Ce.return}if(na===null)throw Error(n(160));Uf(R,re,P),na=null,wl=!1,R=P.alternate,R!==null&&(R.return=null),P.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)Um(c,o),c=c.sibling}var rA=null;function Um(o,c){var g=o.alternate,C=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:bn(c,o),$o(o),C&4&&(zA(3,o,o.return),Pd(3,o),zA(5,o,o.return));break;case 1:bn(c,o),$o(o),C&512&&(Za||g===null||zu(g,g.return)),C&64&&Hu&&(o=o.updateQueue,o!==null&&(C=o.callbacks,C!==null&&(g=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=g===null?C:g.concat(C))));break;case 26:var P=rA;if(bn(c,o),$o(o),C&512&&(Za||g===null||zu(g,g.return)),C&4){var R=g!==null?g.memoizedState:null;if(C=o.memoizedState,g===null)if(C===null)if(o.stateNode===null){e:{C=o.type,g=o.memoizedProps,P=P.ownerDocument||P;t:switch(C){case"title":R=P.getElementsByTagName("title")[0],(!R||R[Pn]||R[or]||R.namespaceURI==="http://www.w3.org/2000/svg"||R.hasAttribute("itemprop"))&&(R=P.createElement(C),P.head.insertBefore(R,P.querySelector("head > title"))),ps(R,C,g),R[or]=o,Ui(R),C=R;break e;case"link":var re=gu("link","href",P).get(C+(g.href||""));if(re){for(var Ce=0;Ce<re.length;Ce++)if(R=re[Ce],R.getAttribute("href")===(g.href==null||g.href===""?null:g.href)&&R.getAttribute("rel")===(g.rel==null?null:g.rel)&&R.getAttribute("title")===(g.title==null?null:g.title)&&R.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){re.splice(Ce,1);break t}}R=P.createElement(C),ps(R,C,g),P.head.appendChild(R);break;case"meta":if(re=gu("meta","content",P).get(C+(g.content||""))){for(Ce=0;Ce<re.length;Ce++)if(R=re[Ce],R.getAttribute("content")===(g.content==null?null:""+g.content)&&R.getAttribute("name")===(g.name==null?null:g.name)&&R.getAttribute("property")===(g.property==null?null:g.property)&&R.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&R.getAttribute("charset")===(g.charSet==null?null:g.charSet)){re.splice(Ce,1);break t}}R=P.createElement(C),ps(R,C,g),P.head.appendChild(R);break;default:throw Error(n(468,C))}R[or]=o,Ui(R),C=R}o.stateNode=C}else sA(P,o.type,o.stateNode);else o.stateNode=Bi(P,C,o.memoizedProps);else R!==C?(R===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):R.count--,C===null?sA(P,o.type,o.stateNode):Bi(P,C,o.memoizedProps)):C===null&&o.stateNode!==null&&Tm(o,o.memoizedProps,g.memoizedProps)}break;case 27:bn(c,o),$o(o),C&512&&(Za||g===null||zu(g,g.return)),g!==null&&C&4&&Tm(o,o.memoizedProps,g.memoizedProps);break;case 5:if(bn(c,o),$o(o),C&512&&(Za||g===null||zu(g,g.return)),o.flags&32){P=o.stateNode;try{Cs(P,"")}catch(Fr){hi(o,o.return,Fr)}}C&4&&o.stateNode!=null&&(P=o.memoizedProps,Tm(o,P,g!==null?g.memoizedProps:P)),C&1024&&(Ff=!0);break;case 6:if(bn(c,o),$o(o),C&4){if(o.stateNode===null)throw Error(n(162));C=o.memoizedProps,g=o.stateNode;try{g.nodeValue=C}catch(Fr){hi(o,o.return,Fr)}}break;case 3:if(aA=null,P=rA,rA=Kr(c.containerInfo),bn(c,o),rA=P,$o(o),C&4&&g!==null&&g.memoizedState.isDehydrated)try{ug(c.containerInfo)}catch(Fr){hi(o,o.return,Fr)}Ff&&(Ff=!1,ju(o));break;case 4:C=rA,rA=Kr(o.stateNode.containerInfo),bn(c,o),$o(o),rA=C;break;case 12:bn(c,o),$o(o);break;case 31:bn(c,o),$o(o),C&4&&(C=o.updateQueue,C!==null&&(o.updateQueue=null,Qd(o,C)));break;case 13:bn(c,o),$o(o),o.child.flags&8192&&o.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(Qf=rn()),C&4&&(C=o.updateQueue,C!==null&&(o.updateQueue=null,Qd(o,C)));break;case 22:P=o.memoizedState!==null;var tt=g!==null&&g.memoizedState!==null,bt=Hu,Dt=Za;if(Hu=bt||P,Za=Dt||tt,bn(c,o),Za=Dt,Hu=bt,$o(o),C&8192)e:for(c=o.stateNode,c._visibility=P?c._visibility&-2:c._visibility|1,P&&(g===null||tt||Hu||Za||Jc(o)),g=null,c=o;;){if(c.tag===5||c.tag===26){if(g===null){tt=g=c;try{if(R=tt.stateNode,P)re=R.style,typeof re.setProperty=="function"?re.setProperty("display","none","important"):re.display="none";else{Ce=tt.stateNode;var Ht=tt.memoizedProps.style,xt=Ht!=null&&Ht.hasOwnProperty("display")?Ht.display:null;Ce.style.display=xt==null||typeof xt=="boolean"?"":(""+xt).trim()}}catch(Fr){hi(tt,tt.return,Fr)}}}else if(c.tag===6){if(g===null){tt=c;try{tt.stateNode.nodeValue=P?"":tt.memoizedProps}catch(Fr){hi(tt,tt.return,Fr)}}}else if(c.tag===18){if(g===null){tt=c;try{var It=tt.stateNode;P?Xe(It,!0):Xe(tt.stateNode,!1)}catch(Fr){hi(tt,tt.return,Fr)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;g===c&&(g=null),c=c.return}g===c&&(g=null),c.sibling.return=c.return,c=c.sibling}C&4&&(C=o.updateQueue,C!==null&&(g=C.retryQueue,g!==null&&(C.retryQueue=null,Qd(o,g))));break;case 19:bn(c,o),$o(o),C&4&&(C=o.updateQueue,C!==null&&(o.updateQueue=null,Qd(o,C)));break;case 30:break;case 21:break;default:bn(c,o),$o(o)}}function $o(o){var c=o.flags;if(c&2){try{for(var g,C=o.return;C!==null;){if(Vy(C)){g=C;break}C=C.return}if(g==null)throw Error(n(160));switch(g.tag){case 27:var P=g.stateNode,R=Vp(o);kd(o,R,P);break;case 5:var re=g.stateNode;g.flags&32&&(Cs(re,""),g.flags&=-33);var Ce=Vp(o);kd(o,Ce,re);break;case 3:case 4:var tt=g.stateNode.containerInfo,bt=Vp(o);Dd(o,bt,tt);break;default:throw Error(n(161))}}catch(Dt){hi(o,o.return,Dt)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function ju(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;ju(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function xl(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)Gy(o,c.alternate,c),c=c.sibling}function Jc(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:zA(4,c,c.return),Jc(c);break;case 1:zu(c,c.return);var g=c.stateNode;typeof g.componentWillUnmount=="function"&&jy(c,c.return,g),Jc(c);break;case 27:Ut(c.stateNode);case 26:case 5:zu(c,c.return),Jc(c);break;case 22:c.memoizedState===null&&Jc(c);break;case 30:Jc(c);break;default:Jc(c)}o=o.sibling}}function Bc(o,c,g){for(g=g&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var C=c.alternate,P=o,R=c,re=R.flags;switch(R.tag){case 0:case 11:case 15:Bc(P,R,g),Pd(4,R);break;case 1:if(Bc(P,R,g),C=R,P=C.stateNode,typeof P.componentDidMount=="function")try{P.componentDidMount()}catch(bt){hi(C,C.return,bt)}if(C=R,P=C.updateQueue,P!==null){var Ce=C.stateNode;try{var tt=P.shared.hiddenCallbacks;if(tt!==null)for(P.shared.hiddenCallbacks=null,P=0;P<tt.length;P++)Ir(tt[P],Ce)}catch(bt){hi(C,C.return,bt)}}g&&re&64&&Em(R),Od(R,R.return);break;case 27:Im(R);case 26:case 5:Bc(P,R,g),g&&C===null&&re&4&&Ky(R),Od(R,R.return);break;case 12:Bc(P,R,g);break;case 31:Bc(P,R,g),g&&re&4&&Ua(P,R);break;case 13:Bc(P,R,g),g&&re&4&&Fm(P,R);break;case 22:R.memoizedState===null&&Bc(P,R,g),Od(R,R.return);break;case 30:break;default:Bc(P,R,g)}c=c.sibling}}function Lm(o,c){var g=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(g=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==g&&(o!=null&&o.refCount++,g!=null&&Wl(g))}function Mm(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Wl(o))}function du(o,c,g,C){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)Zy(o,c,g,C),c=c.sibling}function Zy(o,c,g,C){var P=c.flags;switch(c.tag){case 0:case 11:case 15:du(o,c,g,C),P&2048&&Pd(9,c);break;case 1:du(o,c,g,C);break;case 3:du(o,c,g,C),P&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Wl(o)));break;case 12:if(P&2048){du(o,c,g,C),o=c.stateNode;try{var R=c.memoizedProps,re=R.id,Ce=R.onPostCommit;typeof Ce=="function"&&Ce(re,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(tt){hi(c,c.return,tt)}}else du(o,c,g,C);break;case 31:du(o,c,g,C);break;case 13:du(o,c,g,C);break;case 23:break;case 22:R=c.stateNode,re=c.alternate,c.memoizedState!==null?R._visibility&2?du(o,c,g,C):Nd(o,c):R._visibility&2?du(o,c,g,C):(R._visibility|=2,Lf(o,c,g,C,(c.subtreeFlags&10256)!==0||!1)),P&2048&&Lm(re,c);break;case 24:du(o,c,g,C),P&2048&&Mm(c.alternate,c);break;default:du(o,c,g,C)}}function Lf(o,c,g,C,P){for(P=P&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var R=o,re=c,Ce=g,tt=C,bt=re.flags;switch(re.tag){case 0:case 11:case 15:Lf(R,re,Ce,tt,P),Pd(8,re);break;case 23:break;case 22:var Dt=re.stateNode;re.memoizedState!==null?Dt._visibility&2?Lf(R,re,Ce,tt,P):Nd(R,re):(Dt._visibility|=2,Lf(R,re,Ce,tt,P)),P&&bt&2048&&Lm(re.alternate,re);break;case 24:Lf(R,re,Ce,tt,P),P&&bt&2048&&Mm(re.alternate,re);break;default:Lf(R,re,Ce,tt,P)}c=c.sibling}}function Nd(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var g=o,C=c,P=C.flags;switch(C.tag){case 22:Nd(g,C),P&2048&&Lm(C.alternate,C);break;case 24:Nd(g,C),P&2048&&Mm(C.alternate,C);break;default:Nd(g,C)}c=c.sibling}}var Rd=8192;function Mf(o,c,g){if(o.subtreeFlags&Rd)for(o=o.child;o!==null;)zd(o,c,g),o=o.sibling}function zd(o,c,g){switch(o.tag){case 26:Mf(o,c,g),o.flags&Rd&&o.memoizedState!==null&&Sc(g,rA,o.memoizedState,o.memoizedProps);break;case 5:Mf(o,c,g);break;case 3:case 4:var C=rA;rA=Kr(o.stateNode.containerInfo),Mf(o,c,g),rA=C;break;case 22:o.memoizedState===null&&(C=o.alternate,C!==null&&C.memoizedState!==null?(C=Rd,Rd=16777216,Mf(o,c,g),Rd=C):Mf(o,c,g));break;default:Mf(o,c,g)}}function Mh(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function Pf(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var g=0;g<c.length;g++){var C=c[g];ds=C,Wy(C,o)}Mh(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)qp(o),o=o.sibling}function qp(o){switch(o.tag){case 0:case 11:case 15:Pf(o),o.flags&2048&&zA(9,o,o.return);break;case 3:Pf(o);break;case 12:Pf(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,Of(o)):Pf(o);break;default:Pf(o)}}function Of(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var g=0;g<c.length;g++){var C=c[g];ds=C,Wy(C,o)}Mh(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:zA(8,c,c.return),Of(c);break;case 22:g=c.stateNode,g._visibility&2&&(g._visibility&=-3,Of(c));break;default:Of(c)}o=o.sibling}}function Wy(o,c){for(;ds!==null;){var g=ds;switch(g.tag){case 0:case 11:case 15:zA(8,g,c);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var C=g.memoizedState.cachePool.pool;C!=null&&C.refCount++}break;case 24:Wl(g.memoizedState.cache)}if(C=g.child,C!==null)C.return=g,ds=C;else e:for(g=o;ds!==null;){C=ds;var P=C.sibling,R=C.return;if($y(C),C===g){ds=null;break e}if(P!==null){P.return=R,ds=P;break e}ds=R}}}var qb={getCacheForType:function(o){var c=pn(wi),g=c.data.get(o);return g===void 0&&(g=o(),c.data.set(o,g)),g},cacheSignal:function(){return pn(wi).controller.signal}},Gb=typeof WeakMap=="function"?WeakMap:Map,ii=0,Ii=null,on=null,Nn=0,ci=0,Wa=null,HA=!1,Ku=!1,eh=!1,jA=0,ia=0,th=0,Ph=0,Gp=0,Bl=0,Df=0,kf=null,Xo=null,Hd=!1,Qf=0,Yy=0,$p=1/0,jd=null,Cc=null,wa=0,io=null,nA=null,Vu=0,Kd=0,Pm=null,Jy=null,rh=0,Vd=null;function iA(){return(ii&2)!==0&&Nn!==0?Nn&-Nn:Pe.T!==null?Kf():Jt()}function Xp(){if(Bl===0)if((Nn&536870912)===0||Rt){var o=kn;kn<<=1,(kn&3932160)===0&&(kn=262144),Bl=o}else Bl=536870912;return o=In.current,o!==null&&(o.flags|=32),Bl}function wo(o,c,g){(o===Ii&&(ci===2||ci===9)||o.cancelPendingCommit!==null)&&(Dh(o,0),qu(o,Nn,Bl,!1)),Ve(o,g),((ii&2)===0||o!==Ii)&&(o===Ii&&((ii&2)===0&&(Ph|=g),ia===4&&qu(o,Nn,Bl,!1)),Gu(o))}function Oh(o,c,g){if((ii&6)!==0)throw Error(n(327));var C=!g&&(c&127)===0&&(c&o.expiredLanes)===0||Ae(o,c),P=C?Qm(o,c):km(o,c,!0),R=C;do{if(P===0){Ku&&!C&&qu(o,c,0,!1);break}else{if(g=o.current.alternate,R&&!ev(g)){P=km(o,c,!1),R=!1;continue}if(P===2){if(R=c,o.errorRecoveryDisabledLanes&R)var re=0;else re=o.pendingLanes&-536870913,re=re!==0?re:re&536870912?536870912:0;if(re!==0){c=re;e:{var Ce=o;P=kf;var tt=Ce.current.memoizedState.isDehydrated;if(tt&&(Dh(Ce,re).flags|=256),re=km(Ce,re,!1),re!==2){if(eh&&!tt){Ce.errorRecoveryDisabledLanes|=R,Ph|=R,P=4;break e}R=Xo,Xo=P,R!==null&&(Xo===null?Xo=R:Xo.push.apply(Xo,R))}P=re}if(R=!1,P!==2)continue}}if(P===1){Dh(o,0),qu(o,c,0,!0);break}e:{switch(C=o,R=P,R){case 0:case 1:throw Error(n(345));case 4:if((c&4194048)!==c)break;case 6:qu(C,c,Bl,!HA);break e;case 2:Xo=null;break;case 3:case 5:break;default:throw Error(n(329))}if((c&62914560)===c&&(P=Qf+300-rn(),10<P)){if(qu(C,c,Bl,!HA),oe(C,0,!0)!==0)break e;Vu=c,C.timeoutHandle=Z(Om.bind(null,C,g,Xo,jd,Hd,c,Bl,Ph,Df,HA,R,"Throttled",-0,0),P);break e}Om(C,g,Xo,jd,Hd,c,Bl,Ph,Df,HA,R,null,-0,0)}}break}while(!0);Gu(o)}function Om(o,c,g,C,P,R,re,Ce,tt,bt,Dt,Ht,xt,It){if(o.timeoutHandle=-1,Ht=c.subtreeFlags,Ht&8192||(Ht&16785408)===16785408){Ht={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Na},zd(c,R,Ht);var Fr=(R&62914560)===R?Qf-rn():(R&4194048)===R?Yy-rn():0;if(Fr=cv(Ht,Fr),Fr!==null){Vu=R,o.cancelPendingCommit=Fr(Wp.bind(null,o,c,R,g,C,P,re,Ce,tt,Dt,Ht,null,xt,It)),qu(o,R,re,!bt);return}}Wp(o,c,R,g,C,P,re,Ce,tt)}function ev(o){for(var c=o;;){var g=c.tag;if((g===0||g===11||g===15)&&c.flags&16384&&(g=c.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var C=0;C<g.length;C++){var P=g[C],R=P.getSnapshot;P=P.value;try{if(!ma(R(),P))return!1}catch{return!1}}if(g=c.child,c.subtreeFlags&16384&&g!==null)g.return=c,c=g;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function qu(o,c,g,C){c&=~Gp,c&=~Ph,o.suspendedLanes|=c,o.pingedLanes&=~c,C&&(o.warmLanes|=c),C=o.expirationTimes;for(var P=c;0<P;){var R=31-Xr(P),re=1<<R;C[R]=-1,P&=~re}g!==0&&We(o,g,c)}function qd(){return(ii&6)===0?(Hf(0),!1):!0}function Nf(){if(on!==null){if(ci===0)var o=on.return;else o=on,Go=to=null,lu(o),we=null,Qe=0,o=on;for(;o!==null;)Hy(o.alternate,o),o=o.return;on=null}}function Dh(o,c){var g=o.timeoutHandle;g!==-1&&(o.timeoutHandle=-1,Y(g)),g=o.cancelPendingCommit,g!==null&&(o.cancelPendingCommit=null,g()),Vu=0,Nf(),Ii=o,on=g=hs(o.current,null),Nn=c,ci=0,Wa=null,HA=!1,Ku=Ae(o,c),eh=!1,Df=Bl=Gp=Ph=th=ia=0,Xo=kf=null,Hd=!1,(c&8)!==0&&(c|=c&32);var C=o.entangledLanes;if(C!==0)for(o=o.entanglements,C&=c;0<C;){var P=31-Xr(C),R=1<<P;c|=o[P],C&=~R}return jA=c,cs(),g}function tv(o,c){mr=null,Pe.H=Id,c===M||c===Q?(c=pe(),ci=3):c===k?(c=pe(),ci=4):ci=c===ta?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Wa=c,on===null&&(ia=1,Rp(o,Ps(c,o.current)))}function rv(){var o=In.current;return o===null?!0:(Nn&4194048)===Nn?sn===null:(Nn&62914560)===Nn||(Nn&536870912)!==0?o===sn:!1}function Dm(){var o=Pe.H;return Pe.H=Id,o===null?Id:o}function nv(){var o=Pe.A;return Pe.A=qb,o}function Zp(){ia=4,HA||(Nn&4194048)!==Nn&&In.current!==null||(Ku=!0),(th&134217727)===0&&(Ph&134217727)===0||Ii===null||qu(Ii,Nn,Bl,!1)}function km(o,c,g){var C=ii;ii|=2;var P=Dm(),R=nv();(Ii!==o||Nn!==c)&&(jd=null,Dh(o,c)),c=!1;var re=ia;e:do try{if(ci!==0&&on!==null){var Ce=on,tt=Wa;switch(ci){case 8:Nf(),re=6;break e;case 3:case 2:case 9:case 6:In.current===null&&(c=!0);var bt=ci;if(ci=0,Wa=null,kh(o,Ce,tt,bt),g&&Ku){re=0;break e}break;default:bt=ci,ci=0,Wa=null,kh(o,Ce,tt,bt)}}$b(),re=ia;break}catch(Dt){tv(o,Dt)}while(!0);return c&&o.shellSuspendCounter++,Go=to=null,ii=C,Pe.H=P,Pe.A=R,on===null&&(Ii=null,Nn=0,cs()),re}function $b(){for(;on!==null;)Nm(on)}function Qm(o,c){var g=ii;ii|=2;var C=Dm(),P=nv();Ii!==o||Nn!==c?(jd=null,$p=rn()+500,Dh(o,c)):Ku=Ae(o,c);e:do try{if(ci!==0&&on!==null){c=on;var R=Wa;t:switch(ci){case 1:ci=0,Wa=null,kh(o,c,R,1);break;case 2:case 9:if($(R)){ci=0,Wa=null,Rm(c);break}c=function(){ci!==2&&ci!==9||Ii!==o||(ci=7),Gu(o)},R.then(c,c);break e;case 3:ci=7;break e;case 4:ci=5;break e;case 7:$(R)?(ci=0,Wa=null,Rm(c)):(ci=0,Wa=null,kh(o,c,R,7));break;case 5:var re=null;switch(on.tag){case 26:re=on.memoizedState;case 5:case 27:var Ce=on;if(re?rs(re):Ce.stateNode.complete){ci=0,Wa=null;var tt=Ce.sibling;if(tt!==null)on=tt;else{var bt=Ce.return;bt!==null?(on=bt,Gd(bt)):on=null}break t}}ci=0,Wa=null,kh(o,c,R,5);break;case 6:ci=0,Wa=null,kh(o,c,R,6);break;case 8:Nf(),ia=6;break e;default:throw Error(n(462))}}nh();break}catch(Dt){tv(o,Dt)}while(!0);return Go=to=null,Pe.H=C,Pe.A=P,ii=g,on!==null?0:(Ii=null,Nn=0,cs(),ia)}function nh(){for(;on!==null&&!Tr();)Nm(on)}function Nm(o){var c=Ry(o.alternate,o,jA);o.memoizedProps=o.pendingProps,c===null?Gd(o):on=c}function Rm(o){var c=o,g=c.alternate;switch(c.tag){case 15:case 0:c=_m(g,c,c.pendingProps,c.type,void 0,Nn);break;case 11:c=_m(g,c,c.pendingProps,c.type.render,c.ref,Nn);break;case 5:lu(c);default:Hy(g,c),c=on=su(c,jA),c=Ry(g,c,jA)}o.memoizedProps=o.pendingProps,c===null?Gd(o):on=c}function kh(o,c,g,C){Go=to=null,lu(c),we=null,Qe=0;var P=c.return;try{if(Hb(o,P,c,g,Nn)){ia=1,Rp(o,Ps(g,o.current)),on=null;return}}catch(R){if(P!==null)throw on=P,R;ia=1,Rp(o,Ps(g,o.current)),on=null;return}c.flags&32768?(Rt||C===1?o=!0:Ku||(Nn&536870912)!==0?o=!1:(HA=o=!0,(C===2||C===9||C===3||C===6)&&(C=In.current,C!==null&&C.tag===13&&(C.flags|=16384))),zm(c,o)):Gd(c)}function Gd(o){var c=o;do{if((c.flags&32768)!==0){zm(c,HA);return}o=c.return;var g=Kb(c.alternate,c,jA);if(g!==null){on=g;return}if(c=c.sibling,c!==null){on=c;return}on=c=o}while(c!==null);ia===0&&(ia=5)}function zm(o,c){do{var g=zy(o.alternate,o);if(g!==null){g.flags&=32767,on=g;return}if(g=o.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!c&&(o=o.sibling,o!==null)){on=o;return}on=o=g}while(o!==null);ia=6,on=null}function Wp(o,c,g,C,P,R,re,Ce,tt){o.cancelPendingCommit=null;do xo();while(wa!==0);if((ii&6)!==0)throw Error(n(327));if(c!==null){if(c===o.current)throw Error(n(177));if(R=c.lanes|c.childLanes,R|=_i,lt(o,g,R,re,Ce,tt),o===Ii&&(on=Ii=null,Nn=0),nA=c,io=o,Vu=g,Kd=R,Pm=P,Jy=C,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,sv(Ft,function(){return zf(),null})):(o.callbackNode=null,o.callbackPriority=0),C=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||C){C=Pe.T,Pe.T=null,P=ke.p,ke.p=2,re=ii,ii|=4;try{Vb(o,c,g)}finally{ii=re,ke.p=P,Pe.T=C}}wa=1,Rf(),Hm(),Yp()}}function Rf(){if(wa===1){wa=0;var o=io,c=nA,g=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||g){g=Pe.T,Pe.T=null;var C=ke.p;ke.p=2;var P=ii;ii|=4;try{Um(c,o);var R=m,re=Fs(o.containerInfo),Ce=R.focusedElem,tt=R.selectionRange;if(re!==Ce&&Ce&&Ce.ownerDocument&&fl(Ce.ownerDocument.documentElement,Ce)){if(tt!==null&&Ho(Ce)){var bt=tt.start,Dt=tt.end;if(Dt===void 0&&(Dt=bt),"selectionStart"in Ce)Ce.selectionStart=bt,Ce.selectionEnd=Math.min(Dt,Ce.value.length);else{var Ht=Ce.ownerDocument||document,xt=Ht&&Ht.defaultView||window;if(xt.getSelection){var It=xt.getSelection(),Fr=Ce.textContent.length,hn=Math.min(tt.start,Fr),qi=tt.end===void 0?hn:Math.min(tt.end,Fr);!It.extend&&hn>qi&&(re=qi,qi=hn,hn=re);var dt=Fu(Ce,hn),ot=Fu(Ce,qi);if(dt&&ot&&(It.rangeCount!==1||It.anchorNode!==dt.node||It.anchorOffset!==dt.offset||It.focusNode!==ot.node||It.focusOffset!==ot.offset)){var vt=Ht.createRange();vt.setStart(dt.node,dt.offset),It.removeAllRanges(),hn>qi?(It.addRange(vt),It.extend(ot.node,ot.offset)):(vt.setEnd(ot.node,ot.offset),It.addRange(vt))}}}}for(Ht=[],It=Ce;It=It.parentNode;)It.nodeType===1&&Ht.push({element:It,left:It.scrollLeft,top:It.scrollTop});for(typeof Ce.focus=="function"&&Ce.focus(),Ce=0;Ce<Ht.length;Ce++){var kt=Ht[Ce];kt.element.scrollLeft=kt.left,kt.element.scrollTop=kt.top}}sg=!!f,m=f=null}finally{ii=P,ke.p=C,Pe.T=g}}o.current=c,wa=2}}function Hm(){if(wa===2){wa=0;var o=io,c=nA,g=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||g){g=Pe.T,Pe.T=null;var C=ke.p;ke.p=2;var P=ii;ii|=4;try{Gy(o,c.alternate,c)}finally{ii=P,ke.p=C,Pe.T=g}}wa=3}}function Yp(){if(wa===4||wa===3){wa=0,Br();var o=io,c=nA,g=Vu,C=Jy;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?wa=5:(wa=0,nA=io=null,jm(o,o.pendingLanes));var P=o.pendingLanes;if(P===0&&(Cc=null),Nt(g),c=c.stateNode,Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(Pt,c,void 0,(c.current.flags&128)===128)}catch{}if(C!==null){c=Pe.T,P=ke.p,ke.p=2,Pe.T=null;try{for(var R=o.onRecoverableError,re=0;re<C.length;re++){var Ce=C[re];R(Ce.value,{componentStack:Ce.stack})}}finally{Pe.T=c,ke.p=P}}(Vu&3)!==0&&xo(),Gu(o),P=o.pendingLanes,(g&261930)!==0&&(P&42)!==0?o===Vd?rh++:(rh=0,Vd=o):rh=0,Hf(0)}}function jm(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,Wl(c)))}function xo(){return Rf(),Hm(),Yp(),zf()}function zf(){if(wa!==5)return!1;var o=io,c=Kd;Kd=0;var g=Nt(Vu),C=Pe.T,P=ke.p;try{ke.p=32>g?32:g,Pe.T=null,g=Pm,Pm=null;var R=io,re=Vu;if(wa=0,nA=io=null,Vu=0,(ii&6)!==0)throw Error(n(331));var Ce=ii;if(ii|=4,qp(R.current),Zy(R,R.current,re,g),ii=Ce,Hf(0,!1),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(Pt,R)}catch{}return!0}finally{ke.p=P,Pe.T=C,jm(o,c)}}function Km(o,c,g){c=Ps(g,c),c=Fd(o.stateNode,c,2),o=zt(o,c,2),o!==null&&(Ve(o,2),Gu(o))}function hi(o,c,g){if(o.tag===3)Km(o,o,g);else for(;c!==null;){if(c.tag===3){Km(c,o,g);break}else if(c.tag===1){var C=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&(Cc===null||!Cc.has(C))){o=Ps(g,o),g=Oy(2),C=zt(c,g,2),C!==null&&(Uh(g,C,c,o),Ve(C,2),Gu(C));break}}c=c.return}}function Jp(o,c,g){var C=o.pingCache;if(C===null){C=o.pingCache=new Gb;var P=new Set;C.set(c,P)}else P=C.get(c),P===void 0&&(P=new Set,C.set(c,P));P.has(g)||(eh=!0,P.add(g),o=iv.bind(null,o,c,g),c.then(o,o))}function iv(o,c,g){var C=o.pingCache;C!==null&&C.delete(c),o.pingedLanes|=o.suspendedLanes&g,o.warmLanes&=~g,Ii===o&&(Nn&g)===g&&(ia===4||ia===3&&(Nn&62914560)===Nn&&300>rn()-Qf?(ii&2)===0&&Dh(o,0):Gp|=g,Df===Nn&&(Df=0)),Gu(o)}function Vm(o,c){c===0&&(c=Re()),o=Vo(o,c),o!==null&&(Ve(o,c),Gu(o))}function av(o){var c=o.memoizedState,g=0;c!==null&&(g=c.retryLane),Vm(o,g)}function Xb(o,c){var g=0;switch(o.tag){case 31:case 13:var C=o.stateNode,P=o.memoizedState;P!==null&&(g=P.retryLane);break;case 19:C=o.stateNode;break;case 22:C=o.stateNode._retryCache;break;default:throw Error(n(314))}C!==null&&C.delete(c),Vm(o,g)}function sv(o,c){return nr(o,c)}var pu=null,Qh=null,eg=!1,$d=!1,tg=!1,ih=0;function Gu(o){o!==Qh&&o.next===null&&(Qh===null?pu=Qh=o:Qh=Qh.next=o),$d=!0,eg||(eg=!0,rg())}function Hf(o,c){if(!tg&&$d){tg=!0;do for(var g=!1,C=pu;C!==null;){if(o!==0){var P=C.pendingLanes;if(P===0)var R=0;else{var re=C.suspendedLanes,Ce=C.pingedLanes;R=(1<<31-Xr(42|o)+1)-1,R&=P&~(re&~Ce),R=R&201326741?R&201326741|1:R?R|2:0}R!==0&&(g=!0,Zd(C,R))}else R=Nn,R=oe(C,C===Ii?R:0,C.cancelPendingCommit!==null||C.timeoutHandle!==-1),(R&3)===0||Ae(C,R)||(g=!0,Zd(C,R));C=C.next}while(g);tg=!1}}function jf(){qm()}function qm(){$d=eg=!1;var o=0;ih!==0&&V()&&(o=ih);for(var c=rn(),g=null,C=pu;C!==null;){var P=C.next,R=Xd(C,c);R===0?(C.next=null,g===null?pu=P:g.next=P,P===null&&(Qh=g)):(g=C,(o!==0||(R&3)!==0)&&($d=!0)),C=P}wa!==0&&wa!==5||Hf(o),ih!==0&&(ih=0)}function Xd(o,c){for(var g=o.suspendedLanes,C=o.pingedLanes,P=o.expirationTimes,R=o.pendingLanes&-62914561;0<R;){var re=31-Xr(R),Ce=1<<re,tt=P[re];tt===-1?((Ce&g)===0||(Ce&C)!==0)&&(P[re]=_e(Ce,c)):tt<=c&&(o.expiredLanes|=Ce),R&=~Ce}if(c=Ii,g=Nn,g=oe(o,o===c?g:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),C=o.callbackNode,g===0||o===c&&(ci===2||ci===9)||o.cancelPendingCommit!==null)return C!==null&&C!==null&&ur(C),o.callbackNode=null,o.callbackPriority=0;if((g&3)===0||Ae(o,g)){if(c=g&-g,c===o.callbackPriority)return c;switch(C!==null&&ur(C),Nt(g)){case 2:case 8:g=yn;break;case 32:g=Ft;break;case 268435456:g=Pr;break;default:g=Ft}return C=Gm.bind(null,o),g=nr(g,C),o.callbackPriority=c,o.callbackNode=g,c}return C!==null&&C!==null&&ur(C),o.callbackPriority=2,o.callbackNode=null,2}function Gm(o,c){if(wa!==0&&wa!==5)return o.callbackNode=null,o.callbackPriority=0,null;var g=o.callbackNode;if(xo()&&o.callbackNode!==g)return null;var C=Nn;return C=oe(o,o===Ii?C:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),C===0?null:(Oh(o,C,c),Xd(o,rn()),o.callbackNode!=null&&o.callbackNode===g?Gm.bind(null,o):null)}function Zd(o,c){if(xo())return null;Oh(o,c,!0)}function rg(){he(function(){(ii&6)!==0?nr(Jr,jf):qm()})}function Kf(){if(ih===0){var o=L;o===0&&(o=Rr,Rr<<=1,(Rr&261888)===0&&(Rr=256)),ih=o}return ih}function ov(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Ss(""+o)}function lv(o,c){var g=c.ownerDocument.createElement("input");return g.name=c.name,g.value=c.value,o.id&&g.setAttribute("form",o.id),c.parentNode.insertBefore(g,c),o=new FormData(o),g.parentNode.removeChild(g),o}function Zb(o,c,g,C,P){if(c==="submit"&&g&&g.stateNode===P){var R=ov((P[Or]||null).action),re=C.submitter;re&&(c=(c=re[Or]||null)?ov(c.formAction):re.getAttribute("formAction"),c!==null&&(R=c,re=null));var Ce=new go("action","action",null,C,P);o.push({event:Ce,listeners:[{instance:null,listener:function(){if(C.defaultPrevented){if(ih!==0){var tt=re?lv(P,re):new FormData(P);Dp(g,{pending:!0,data:tt,method:P.method,action:R},null,tt)}}else typeof R=="function"&&(Ce.preventDefault(),tt=re?lv(P,re):new FormData(P),Dp(g,{pending:!0,data:tt,method:P.method,action:R},R,tt))},currentTarget:P}]})}}for(var ah=0;ah<jo.length;ah++){var Ya=jo[ah],sh=Ya.toLowerCase(),$m=Ya[0].toUpperCase()+Ya.slice(1);oi(sh,"on"+$m)}oi(gl,"onAnimationEnd"),oi(wA,"onAnimationIteration"),oi(cc,"onAnimationStart"),oi("dblclick","onDoubleClick"),oi("focusin","onFocus"),oi("focusout","onBlur"),oi(gf,"onTransitionRun"),oi(Ch,"onTransitionStart"),oi(hc,"onTransitionCancel"),oi(fc,"onTransitionEnd"),zl("onMouseEnter",["mouseout","mouseover"]),zl("onMouseLeave",["mouseout","mouseover"]),zl("onPointerEnter",["pointerout","pointerover"]),zl("onPointerLeave",["pointerout","pointerover"]),Li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Li("onBeforeInput",["compositionend","keypress","textInput","paste"]),Li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Av=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vf));function ng(o,c){c=(c&4)!==0;for(var g=0;g<o.length;g++){var C=o[g],P=C.event;C=C.listeners;e:{var R=void 0;if(c)for(var re=C.length-1;0<=re;re--){var Ce=C[re],tt=Ce.instance,bt=Ce.currentTarget;if(Ce=Ce.listener,tt!==R&&P.isPropagationStopped())break e;R=Ce,P.currentTarget=bt;try{R(P)}catch(Dt){Ko(Dt)}P.currentTarget=null,R=tt}else for(re=0;re<C.length;re++){if(Ce=C[re],tt=Ce.instance,bt=Ce.currentTarget,Ce=Ce.listener,tt!==R&&P.isPropagationStopped())break e;R=Ce,P.currentTarget=bt;try{R(P)}catch(Dt){Ko(Dt)}P.currentTarget=null,R=tt}}}}function jn(o,c){var g=c[Kn];g===void 0&&(g=c[Kn]=new Set);var C=o+"__bubble";g.has(C)||(Zm(c,o,2,!1),g.add(C))}function ig(o,c,g){var C=0;c&&(C|=4),Zm(g,o,C,c)}var Wd="_reactListening"+Math.random().toString(36).slice(2);function Xm(o){if(!o[Wd]){o[Wd]=!0,WA.forEach(function(g){g!=="selectionchange"&&(Av.has(g)||ig(g,!1,o),ig(g,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[Wd]||(c[Wd]=!0,ig("selectionchange",!1,c))}}function Zm(o,c,g,C){switch(ks(c)){case 2:var P=mu;break;case 8:P=og;break;default:P=lg}g=P.bind(null,c,g,o),P=void 0,!Tu||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(P=!0),C?P!==void 0?o.addEventListener(c,g,{capture:!0,passive:P}):o.addEventListener(c,g,!0):P!==void 0?o.addEventListener(c,g,{passive:P}):o.addEventListener(c,g,!1)}function Yd(o,c,g,C,P){var R=C;if((c&1)===0&&(c&2)===0&&C!==null)e:for(;;){if(C===null)return;var re=C.tag;if(re===3||re===4){var Ce=C.stateNode.containerInfo;if(Ce===P)break;if(re===4)for(re=C.return;re!==null;){var tt=re.tag;if((tt===3||tt===4)&&re.stateNode.containerInfo===P)return;re=re.return}for(;Ce!==null;){if(re=ai(Ce),re===null)return;if(tt=re.tag,tt===5||tt===6||tt===26||tt===27){C=R=re;continue e}Ce=Ce.parentNode}}C=C.return}uc(function(){var bt=R,Dt=la(g),Ht=[];e:{var xt=au.get(o);if(xt!==void 0){var It=go,Fr=o;switch(o){case"keypress":if(Es(g)===0)break e;case"keydown":case"keyup":It=zn;break;case"focusin":Fr="focus",It=Al;break;case"focusout":Fr="blur",It=Al;break;case"beforeblur":case"afterblur":It=Al;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":It=ol;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":It=ll;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":It=ua;break;case gl:case wA:case cc:It=j;break;case fc:It=Ea;break;case"scroll":case"scrollend":It=mo;break;case"wheel":It=ga;break;case"copy":case"cut":case"paste":It=ze;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":It=zi;break;case"toggle":case"beforetoggle":It=iu}var hn=(c&4)!==0,qi=!hn&&(o==="scroll"||o==="scrollend"),dt=hn?xt!==null?xt+"Capture":null:xt;hn=[];for(var ot=bt,vt;ot!==null;){var kt=ot;if(vt=kt.stateNode,kt=kt.tag,kt!==5&&kt!==26&&kt!==27||vt===null||dt===null||(kt=Sa(ot,dt),kt!=null&&hn.push(Nh(ot,kt,vt))),qi)break;ot=ot.return}0<hn.length&&(xt=new It(xt,Fr,null,g,Dt),Ht.push({event:xt,listeners:hn}))}}if((c&7)===0){e:{if(xt=o==="mouseover"||o==="pointerover",It=o==="mouseout"||o==="pointerout",xt&&g!==Vs&&(Fr=g.relatedTarget||g.fromElement)&&(ai(Fr)||Fr[zr]))break e;if((It||xt)&&(xt=Dt.window===Dt?Dt:(xt=Dt.ownerDocument)?xt.defaultView||xt.parentWindow:window,It?(Fr=g.relatedTarget||g.toElement,It=bt,Fr=Fr?ai(Fr):null,Fr!==null&&(qi=A(Fr),hn=Fr.tag,Fr!==qi||hn!==5&&hn!==27&&hn!==6)&&(Fr=null)):(It=null,Fr=bt),It!==Fr)){if(hn=ol,kt="onMouseLeave",dt="onMouseEnter",ot="mouse",(o==="pointerout"||o==="pointerover")&&(hn=zi,kt="onPointerLeave",dt="onPointerEnter",ot="pointer"),qi=It==null?xt:po(It),vt=Fr==null?xt:po(Fr),xt=new hn(kt,ot+"leave",It,g,Dt),xt.target=qi,xt.relatedTarget=vt,kt=null,ai(Dt)===bt&&(hn=new hn(dt,ot+"enter",Fr,g,Dt),hn.target=vt,hn.relatedTarget=qi,kt=hn),qi=kt,It&&Fr)t:{for(hn=ep,dt=It,ot=Fr,vt=0,kt=dt;kt;kt=hn(kt))vt++;kt=0;for(var Wr=ot;Wr;Wr=hn(Wr))kt++;for(;0<vt-kt;)dt=hn(dt),vt--;for(;0<kt-vt;)ot=hn(ot),kt--;for(;vt--;){if(dt===ot||ot!==null&&dt===ot.alternate){hn=dt;break t}dt=hn(dt),ot=hn(ot)}hn=null}else hn=null;It!==null&&ag(Ht,xt,It,hn,!1),Fr!==null&&qi!==null&&ag(Ht,qi,Fr,hn,!0)}}e:{if(xt=bt?po(bt):window,It=xt.nodeName&&xt.nodeName.toLowerCase(),It==="select"||It==="input"&&xt.type==="file")var di=cl;else if(Vl(xt))if(Ga)di=os;else{di=Ci;var Qr=hl}else It=xt.nodeName,!It||It.toLowerCase()!=="input"||xt.type!=="checkbox"&&xt.type!=="radio"?bt&&Eu(bt.elementType)&&(di=cl):di=ql;if(di&&(di=di(o,bt))){za(Ht,di,g,Dt);break e}Qr&&Qr(o,xt,bt),o==="focusout"&&bt&&xt.type==="number"&&bt.memoizedProps.value!=null&&YA(xt,"number",xt.value)}switch(Qr=bt?po(bt):window,o){case"focusin":(Vl(Qr)||Qr.contentEditable==="true")&&(Us=Qr,pl=bt,ya=null);break;case"focusout":ya=pl=Us=null;break;case"mousedown":ls=!0;break;case"contextmenu":case"mouseup":case"dragend":ls=!1,Ln(Ht,g,Dt);break;case"selectionchange":if(dl)break;case"keydown":case"keyup":Ln(Ht,g,Dt)}var Dn;if(Gs)e:{switch(o){case"compositionstart":var Yn="onCompositionStart";break e;case"compositionend":Yn="onCompositionEnd";break e;case"compositionupdate":Yn="onCompositionUpdate";break e}Yn=void 0}else Zs?bA(o,g)&&(Yn="onCompositionEnd"):o==="keydown"&&g.keyCode===229&&(Yn="onCompositionStart");Yn&&(No&&g.locale!=="ko"&&(Zs||Yn!=="onCompositionStart"?Yn==="onCompositionEnd"&&Zs&&(Dn=yA()):(qs=Dt,ru="value"in qs?qs.value:qs.textContent,Zs=!0)),Qr=Jd(bt,Yn),0<Qr.length&&(Yn=new ut(Yn,o,null,g,Dt),Ht.push({event:Yn,listeners:Qr}),Dn?Yn.data=Dn:(Dn=ln(g),Dn!==null&&(Yn.data=Dn)))),(Dn=Xs?gn(o,g):Tn(o,g))&&(Yn=Jd(bt,"onBeforeInput"),0<Yn.length&&(Qr=new ut("onBeforeInput","beforeinput",null,g,Dt),Ht.push({event:Qr,listeners:Yn}),Qr.data=Dn)),Zb(Ht,o,bt,g,Dt)}ng(Ht,c)})}function Nh(o,c,g){return{instance:o,listener:c,currentTarget:g}}function Jd(o,c){for(var g=c+"Capture",C=[];o!==null;){var P=o,R=P.stateNode;if(P=P.tag,P!==5&&P!==26&&P!==27||R===null||(P=Sa(o,g),P!=null&&C.unshift(Nh(o,P,R)),P=Sa(o,c),P!=null&&C.push(Nh(o,P,R))),o.tag===3)return C;o=o.return}return[]}function ep(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function ag(o,c,g,C,P){for(var R=c._reactName,re=[];g!==null&&g!==C;){var Ce=g,tt=Ce.alternate,bt=Ce.stateNode;if(Ce=Ce.tag,tt!==null&&tt===C)break;Ce!==5&&Ce!==26&&Ce!==27||bt===null||(tt=bt,P?(bt=Sa(g,R),bt!=null&&re.unshift(Nh(g,bt,tt))):P||(bt=Sa(g,R),bt!=null&&re.push(Nh(g,bt,tt)))),g=g.return}re.length!==0&&o.push({event:c,listeners:re})}var uv=/\r\n?/g,Wm=/\u0000|\uFFFD/g;function tp(o){return(typeof o=="string"?o:""+o).replace(uv,`
`).replace(Wm,"")}function qf(o,c){return c=tp(c),tp(o)===c}function fi(o,c,g,C,P,R){switch(g){case"children":typeof C=="string"?c==="body"||c==="textarea"&&C===""||Cs(o,C):(typeof C=="number"||typeof C=="bigint")&&c!=="body"&&Cs(o,""+C);break;case"className":js(o,"class",C);break;case"tabIndex":js(o,"tabindex",C);break;case"dir":case"role":case"viewBox":case"width":case"height":js(o,g,C);break;case"style":Hl(o,C,R);break;case"data":if(c!=="object"){js(o,"data",C);break}case"src":case"href":if(C===""&&(c!=="a"||g!=="href")){o.removeAttribute(g);break}if(C==null||typeof C=="function"||typeof C=="symbol"||typeof C=="boolean"){o.removeAttribute(g);break}C=Ss(""+C),o.setAttribute(g,C);break;case"action":case"formAction":if(typeof C=="function"){o.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof R=="function"&&(g==="formAction"?(c!=="input"&&fi(o,c,"name",P.name,P,null),fi(o,c,"formEncType",P.formEncType,P,null),fi(o,c,"formMethod",P.formMethod,P,null),fi(o,c,"formTarget",P.formTarget,P,null)):(fi(o,c,"encType",P.encType,P,null),fi(o,c,"method",P.method,P,null),fi(o,c,"target",P.target,P,null)));if(C==null||typeof C=="symbol"||typeof C=="boolean"){o.removeAttribute(g);break}C=Ss(""+C),o.setAttribute(g,C);break;case"onClick":C!=null&&(o.onclick=Na);break;case"onScroll":C!=null&&jn("scroll",o);break;case"onScrollEnd":C!=null&&jn("scrollend",o);break;case"dangerouslySetInnerHTML":if(C!=null){if(typeof C!="object"||!("__html"in C))throw Error(n(61));if(g=C.__html,g!=null){if(P.children!=null)throw Error(n(60));o.innerHTML=g}}break;case"multiple":o.multiple=C&&typeof C!="function"&&typeof C!="symbol";break;case"muted":o.muted=C&&typeof C!="function"&&typeof C!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(C==null||typeof C=="function"||typeof C=="boolean"||typeof C=="symbol"){o.removeAttribute("xlink:href");break}g=Ss(""+C),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":C!=null&&typeof C!="function"&&typeof C!="symbol"?o.setAttribute(g,""+C):o.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":C&&typeof C!="function"&&typeof C!="symbol"?o.setAttribute(g,""):o.removeAttribute(g);break;case"capture":case"download":C===!0?o.setAttribute(g,""):C!==!1&&C!=null&&typeof C!="function"&&typeof C!="symbol"?o.setAttribute(g,C):o.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":C!=null&&typeof C!="function"&&typeof C!="symbol"&&!isNaN(C)&&1<=C?o.setAttribute(g,C):o.removeAttribute(g);break;case"rowSpan":case"start":C==null||typeof C=="function"||typeof C=="symbol"||isNaN(C)?o.removeAttribute(g):o.setAttribute(g,C);break;case"popover":jn("beforetoggle",o),jn("toggle",o),Vn(o,"popover",C);break;case"xlinkActuate":Xi(o,"http://www.w3.org/1999/xlink","xlink:actuate",C);break;case"xlinkArcrole":Xi(o,"http://www.w3.org/1999/xlink","xlink:arcrole",C);break;case"xlinkRole":Xi(o,"http://www.w3.org/1999/xlink","xlink:role",C);break;case"xlinkShow":Xi(o,"http://www.w3.org/1999/xlink","xlink:show",C);break;case"xlinkTitle":Xi(o,"http://www.w3.org/1999/xlink","xlink:title",C);break;case"xlinkType":Xi(o,"http://www.w3.org/1999/xlink","xlink:type",C);break;case"xmlBase":Xi(o,"http://www.w3.org/XML/1998/namespace","xml:base",C);break;case"xmlLang":Xi(o,"http://www.w3.org/XML/1998/namespace","xml:lang",C);break;case"xmlSpace":Xi(o,"http://www.w3.org/XML/1998/namespace","xml:space",C);break;case"is":Vn(o,"is",C);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=lc.get(g)||g,Vn(o,g,C))}}function rp(o,c,g,C,P,R){switch(g){case"style":Hl(o,C,R);break;case"dangerouslySetInnerHTML":if(C!=null){if(typeof C!="object"||!("__html"in C))throw Error(n(61));if(g=C.__html,g!=null){if(P.children!=null)throw Error(n(60));o.innerHTML=g}}break;case"children":typeof C=="string"?Cs(o,C):(typeof C=="number"||typeof C=="bigint")&&Cs(o,""+C);break;case"onScroll":C!=null&&jn("scroll",o);break;case"onScrollEnd":C!=null&&jn("scrollend",o);break;case"onClick":C!=null&&(o.onclick=Na);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vi.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(P=g.endsWith("Capture"),c=g.slice(2,P?g.length-7:void 0),R=o[Or]||null,R=R!=null?R[g]:null,typeof R=="function"&&o.removeEventListener(c,R,P),typeof C=="function")){typeof R!="function"&&R!==null&&(g in o?o[g]=null:o.hasAttribute(g)&&o.removeAttribute(g)),o.addEventListener(c,C,P);break e}g in o?o[g]=C:C===!0?o.setAttribute(g,""):Vn(o,g,C)}}}function ps(o,c,g){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":jn("error",o),jn("load",o);var C=!1,P=!1,R;for(R in g)if(g.hasOwnProperty(R)){var re=g[R];if(re!=null)switch(R){case"src":C=!0;break;case"srcSet":P=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:fi(o,c,R,re,g,null)}}P&&fi(o,c,"srcSet",g.srcSet,g,null),C&&fi(o,c,"src",g.src,g,null);return;case"input":jn("invalid",o);var Ce=R=re=P=null,tt=null,bt=null;for(C in g)if(g.hasOwnProperty(C)){var Dt=g[C];if(Dt!=null)switch(C){case"name":P=Dt;break;case"type":re=Dt;break;case"checked":tt=Dt;break;case"defaultChecked":bt=Dt;break;case"value":R=Dt;break;case"defaultValue":Ce=Dt;break;case"children":case"dangerouslySetInnerHTML":if(Dt!=null)throw Error(n(137,c));break;default:fi(o,c,C,Dt,g,null)}}Un(o,R,Ce,tt,bt,re,P,!1);return;case"select":jn("invalid",o),C=re=R=null;for(P in g)if(g.hasOwnProperty(P)&&(Ce=g[P],Ce!=null))switch(P){case"value":R=Ce;break;case"defaultValue":re=Ce;break;case"multiple":C=Ce;default:fi(o,c,P,Ce,g,null)}c=R,g=re,o.multiple=!!C,c!=null?Qa(o,!!C,c,!1):g!=null&&Qa(o,!!C,g,!0);return;case"textarea":jn("invalid",o),R=P=C=null;for(re in g)if(g.hasOwnProperty(re)&&(Ce=g[re],Ce!=null))switch(re){case"value":C=Ce;break;case"defaultValue":P=Ce;break;case"children":R=Ce;break;case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(n(91));break;default:fi(o,c,re,Ce,g,null)}JA(o,C,P,R);return;case"option":for(tt in g)if(g.hasOwnProperty(tt)&&(C=g[tt],C!=null))switch(tt){case"selected":o.selected=C&&typeof C!="function"&&typeof C!="symbol";break;default:fi(o,c,tt,C,g,null)}return;case"dialog":jn("beforetoggle",o),jn("toggle",o),jn("cancel",o),jn("close",o);break;case"iframe":case"object":jn("load",o);break;case"video":case"audio":for(C=0;C<Vf.length;C++)jn(Vf[C],o);break;case"image":jn("error",o),jn("load",o);break;case"details":jn("toggle",o);break;case"embed":case"source":case"link":jn("error",o),jn("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(bt in g)if(g.hasOwnProperty(bt)&&(C=g[bt],C!=null))switch(bt){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:fi(o,c,bt,C,g,null)}return;default:if(Eu(c)){for(Dt in g)g.hasOwnProperty(Dt)&&(C=g[Dt],C!==void 0&&rp(o,c,Dt,C,g,void 0));return}}for(Ce in g)g.hasOwnProperty(Ce)&&(C=g[Ce],C!=null&&fi(o,c,Ce,C,g,null))}function Wb(o,c,g,C){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var P=null,R=null,re=null,Ce=null,tt=null,bt=null,Dt=null;for(It in g){var Ht=g[It];if(g.hasOwnProperty(It)&&Ht!=null)switch(It){case"checked":break;case"value":break;case"defaultValue":tt=Ht;default:C.hasOwnProperty(It)||fi(o,c,It,null,C,Ht)}}for(var xt in C){var It=C[xt];if(Ht=g[xt],C.hasOwnProperty(xt)&&(It!=null||Ht!=null))switch(xt){case"type":R=It;break;case"name":P=It;break;case"checked":bt=It;break;case"defaultChecked":Dt=It;break;case"value":re=It;break;case"defaultValue":Ce=It;break;case"children":case"dangerouslySetInnerHTML":if(It!=null)throw Error(n(137,c));break;default:It!==Ht&&fi(o,c,xt,It,C,Ht)}}Ks(o,re,Ce,tt,bt,Dt,R,P);return;case"select":It=re=Ce=xt=null;for(R in g)if(tt=g[R],g.hasOwnProperty(R)&&tt!=null)switch(R){case"value":break;case"multiple":It=tt;default:C.hasOwnProperty(R)||fi(o,c,R,null,C,tt)}for(P in C)if(R=C[P],tt=g[P],C.hasOwnProperty(P)&&(R!=null||tt!=null))switch(P){case"value":xt=R;break;case"defaultValue":Ce=R;break;case"multiple":re=R;default:R!==tt&&fi(o,c,P,R,C,tt)}c=Ce,g=re,C=It,xt!=null?Qa(o,!!g,xt,!1):!!C!=!!g&&(c!=null?Qa(o,!!g,c,!0):Qa(o,!!g,g?[]:"",!1));return;case"textarea":It=xt=null;for(Ce in g)if(P=g[Ce],g.hasOwnProperty(Ce)&&P!=null&&!C.hasOwnProperty(Ce))switch(Ce){case"value":break;case"children":break;default:fi(o,c,Ce,null,C,P)}for(re in C)if(P=C[re],R=g[re],C.hasOwnProperty(re)&&(P!=null||R!=null))switch(re){case"value":xt=P;break;case"defaultValue":It=P;break;case"children":break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(n(91));break;default:P!==R&&fi(o,c,re,P,C,R)}sl(o,xt,It);return;case"option":for(var Fr in g)if(xt=g[Fr],g.hasOwnProperty(Fr)&&xt!=null&&!C.hasOwnProperty(Fr))switch(Fr){case"selected":o.selected=!1;break;default:fi(o,c,Fr,null,C,xt)}for(tt in C)if(xt=C[tt],It=g[tt],C.hasOwnProperty(tt)&&xt!==It&&(xt!=null||It!=null))switch(tt){case"selected":o.selected=xt&&typeof xt!="function"&&typeof xt!="symbol";break;default:fi(o,c,tt,xt,C,It)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var hn in g)xt=g[hn],g.hasOwnProperty(hn)&&xt!=null&&!C.hasOwnProperty(hn)&&fi(o,c,hn,null,C,xt);for(bt in C)if(xt=C[bt],It=g[bt],C.hasOwnProperty(bt)&&xt!==It&&(xt!=null||It!=null))switch(bt){case"children":case"dangerouslySetInnerHTML":if(xt!=null)throw Error(n(137,c));break;default:fi(o,c,bt,xt,C,It)}return;default:if(Eu(c)){for(var qi in g)xt=g[qi],g.hasOwnProperty(qi)&&xt!==void 0&&!C.hasOwnProperty(qi)&&rp(o,c,qi,void 0,C,xt);for(Dt in C)xt=C[Dt],It=g[Dt],!C.hasOwnProperty(Dt)||xt===It||xt===void 0&&It===void 0||rp(o,c,Dt,xt,C,It);return}}for(var dt in g)xt=g[dt],g.hasOwnProperty(dt)&&xt!=null&&!C.hasOwnProperty(dt)&&fi(o,c,dt,null,C,xt);for(Ht in C)xt=C[Ht],It=g[Ht],!C.hasOwnProperty(Ht)||xt===It||xt==null&&It==null||fi(o,c,Ht,xt,C,It)}function u(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function a(){if(typeof performance.getEntriesByType=="function"){for(var o=0,c=0,g=performance.getEntriesByType("resource"),C=0;C<g.length;C++){var P=g[C],R=P.transferSize,re=P.initiatorType,Ce=P.duration;if(R&&Ce&&u(re)){for(re=0,Ce=P.responseEnd,C+=1;C<g.length;C++){var tt=g[C],bt=tt.startTime;if(bt>Ce)break;var Dt=tt.transferSize,Ht=tt.initiatorType;Dt&&u(Ht)&&(tt=tt.responseEnd,re+=Dt*(tt<Ce?1:(Ce-bt)/(tt-bt)))}if(--C,c+=8*(R+re)/(P.duration/1e3),o++,10<o)break}}if(0<o)return c/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var f=null,m=null;function B(o){return o.nodeType===9?o:o.ownerDocument}function E(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function I(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function O(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var N=null;function V(){var o=window.event;return o&&o.type==="popstate"?o===N?!1:(N=o,!0):(N=null,!1)}var Z=typeof setTimeout=="function"?setTimeout:void 0,Y=typeof clearTimeout=="function"?clearTimeout:void 0,se=typeof Promise=="function"?Promise:void 0,he=typeof queueMicrotask=="function"?queueMicrotask:typeof se<"u"?function(o){return se.resolve(null).then(o).catch(ve)}:Z;function ve(o){setTimeout(function(){throw o})}function xe(o){return o==="head"}function He(o,c){var g=c,C=0;do{var P=g.nextSibling;if(o.removeChild(g),P&&P.nodeType===8)if(g=P.data,g==="/$"||g==="/&"){if(C===0){o.removeChild(P),ug(c);return}C--}else if(g==="$"||g==="$?"||g==="$~"||g==="$!"||g==="&")C++;else if(g==="html")Ut(o.ownerDocument.documentElement);else if(g==="head"){g=o.ownerDocument.head,Ut(g);for(var R=g.firstChild;R;){var re=R.nextSibling,Ce=R.nodeName;R[Pn]||Ce==="SCRIPT"||Ce==="STYLE"||Ce==="LINK"&&R.rel.toLowerCase()==="stylesheet"||g.removeChild(R),R=re}}else g==="body"&&Ut(o.ownerDocument.body);g=P}while(g);ug(c)}function Xe(o,c){var g=o;o=0;do{var C=g.nextSibling;if(g.nodeType===1?c?(g._stashedDisplay=g.style.display,g.style.display="none"):(g.style.display=g._stashedDisplay||"",g.getAttribute("style")===""&&g.removeAttribute("style")):g.nodeType===3&&(c?(g._stashedText=g.nodeValue,g.nodeValue=""):g.nodeValue=g._stashedText||""),C&&C.nodeType===8)if(g=C.data,g==="/$"){if(o===0)break;o--}else g!=="$"&&g!=="$?"&&g!=="$~"&&g!=="$!"||o++;g=C}while(g)}function ht(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var g=c;switch(c=c.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":ht(g),mi(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}o.removeChild(g)}}function nt(o,c,g,C){for(;o.nodeType===1;){var P=g;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!C&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(C){if(!o[Pn])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(R=o.getAttribute("rel"),R==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(R!==P.rel||o.getAttribute("href")!==(P.href==null||P.href===""?null:P.href)||o.getAttribute("crossorigin")!==(P.crossOrigin==null?null:P.crossOrigin)||o.getAttribute("title")!==(P.title==null?null:P.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(R=o.getAttribute("src"),(R!==(P.src==null?null:P.src)||o.getAttribute("type")!==(P.type==null?null:P.type)||o.getAttribute("crossorigin")!==(P.crossOrigin==null?null:P.crossOrigin))&&R&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var R=P.name==null?null:""+P.name;if(P.type==="hidden"&&o.getAttribute("name")===R)return o}else return o;if(o=Wt(o.nextSibling),o===null)break}return null}function At(o,c,g){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!g||(o=Wt(o.nextSibling),o===null))return null;return o}function Bt(o,c){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!c||(o=Wt(o.nextSibling),o===null))return null;return o}function Kt(o){return o.data==="$?"||o.data==="$~"}function er(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function kr(o,c){var g=o.ownerDocument;if(o.data==="$~")o._reactRetry=c;else if(o.data!=="$?"||g.readyState!=="loading")c();else{var C=function(){c(),g.removeEventListener("DOMContentLoaded",C)};g.addEventListener("DOMContentLoaded",C),o._reactRetry=C}}function Wt(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return o}var Yt=null;function pr(o){o=o.nextSibling;for(var c=0;o;){if(o.nodeType===8){var g=o.data;if(g==="/$"||g==="/&"){if(c===0)return Wt(o.nextSibling);c--}else g!=="$"&&g!=="$!"&&g!=="$?"&&g!=="$~"&&g!=="&"||c++}o=o.nextSibling}return null}function Ar(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var g=o.data;if(g==="$"||g==="$!"||g==="$?"||g==="$~"||g==="&"){if(c===0)return o;c--}else g!=="/$"&&g!=="/&"||c++}o=o.previousSibling}return null}function ir(o,c,g){switch(c=B(g),o){case"html":if(o=c.documentElement,!o)throw Error(n(452));return o;case"head":if(o=c.head,!o)throw Error(n(453));return o;case"body":if(o=c.body,!o)throw Error(n(454));return o;default:throw Error(n(451))}}function Ut(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);mi(o)}var ar=new Map,hr=new Set;function Kr(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Rn=ke.d;ke.d={f:Ai,r:Ja,D:es,C:Bo,L:Co,m:So,X:ts,S:ha,M:so};function Ai(){var o=Rn.f(),c=qd();return o||c}function Ja(o){var c=yi(o);c!==null&&c.tag===5&&c.type==="form"?cm(c):Rn.r(o)}var ao=typeof document>"u"?null:document;function gs(o,c,g){var C=ao;if(C&&typeof c=="string"&&c){var P=ui(c);P='link[rel="'+o+'"][href="'+P+'"]',typeof g=="string"&&(P+='[crossorigin="'+g+'"]'),hr.has(P)||(hr.add(P),o={rel:o,crossOrigin:g,href:c},C.querySelector(P)===null&&(c=C.createElement("link"),ps(c,"link",o),Ui(c),C.head.appendChild(c)))}}function es(o){Rn.D(o),gs("dns-prefetch",o,null)}function Bo(o,c){Rn.C(o,c),gs("preconnect",o,c)}function Co(o,c,g){Rn.L(o,c,g);var C=ao;if(C&&o&&c){var P='link[rel="preload"][as="'+ui(c)+'"]';c==="image"&&g&&g.imageSrcSet?(P+='[imagesrcset="'+ui(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(P+='[imagesizes="'+ui(g.imageSizes)+'"]')):P+='[href="'+ui(o)+'"]';var R=P;switch(c){case"style":R=Va(o);break;case"script":R=Fn(o)}ar.has(R)||(o=S({rel:"preload",href:c==="image"&&g&&g.imageSrcSet?void 0:o,as:c},g),ar.set(R,o),C.querySelector(P)!==null||c==="style"&&C.querySelector(La(R))||c==="script"&&C.querySelector(ti(R))||(c=C.createElement("link"),ps(c,"link",o),Ui(c),C.head.appendChild(c)))}}function So(o,c){Rn.m(o,c);var g=ao;if(g&&o){var C=c&&typeof c.as=="string"?c.as:"script",P='link[rel="modulepreload"][as="'+ui(C)+'"][href="'+ui(o)+'"]',R=P;switch(C){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":R=Fn(o)}if(!ar.has(R)&&(o=S({rel:"modulepreload",href:o},c),ar.set(R,o),g.querySelector(P)===null)){switch(C){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(ti(R)))return}C=g.createElement("link"),ps(C,"link",o),Ui(C),g.head.appendChild(C)}}}function ha(o,c,g){Rn.S(o,c,g);var C=ao;if(C&&o){var P=wn(C).hoistableStyles,R=Va(o);c=c||"default";var re=P.get(R);if(!re){var Ce={loading:0,preload:null};if(re=C.querySelector(La(R)))Ce.loading=5;else{o=S({rel:"stylesheet",href:o,"data-precedence":c},g),(g=ar.get(R))&&ki(o,g);var tt=re=C.createElement("link");Ui(tt),ps(tt,"link",o),tt._p=new Promise(function(bt,Dt){tt.onload=bt,tt.onerror=Dt}),tt.addEventListener("load",function(){Ce.loading|=1}),tt.addEventListener("error",function(){Ce.loading|=2}),Ce.loading|=4,oo(re,c,C)}re={type:"stylesheet",instance:re,count:1,state:Ce},P.set(R,re)}}}function ts(o,c){Rn.X(o,c);var g=ao;if(g&&o){var C=wn(g).hoistableScripts,P=Fn(o),R=C.get(P);R||(R=g.querySelector(ti(P)),R||(o=S({src:o,async:!0},c),(c=ar.get(P))&&oh(o,c),R=g.createElement("script"),Ui(R),ps(R,"link",o),g.head.appendChild(R)),R={type:"script",instance:R,count:1,state:null},C.set(P,R))}}function so(o,c){Rn.M(o,c);var g=ao;if(g&&o){var C=wn(g).hoistableScripts,P=Fn(o),R=C.get(P);R||(R=g.querySelector(ti(P)),R||(o=S({src:o,async:!0,type:"module"},c),(c=ar.get(P))&&oh(o,c),R=g.createElement("script"),Ui(R),ps(R,"link",o),g.head.appendChild(R)),R={type:"script",instance:R,count:1,state:null},C.set(P,R))}}function ms(o,c,g,C){var P=(P=Ze.current)?Kr(P):null;if(!P)throw Error(n(446));switch(o){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(c=Va(g.href),g=wn(P).hoistableStyles,C=g.get(c),C||(C={type:"style",instance:null,count:0,state:null},g.set(c,C)),C):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){o=Va(g.href);var R=wn(P).hoistableStyles,re=R.get(o);if(re||(P=P.ownerDocument||P,re={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},R.set(o,re),(R=P.querySelector(La(o)))&&!R._p&&(re.instance=R,re.state.loading=5),ar.has(o)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},ar.set(o,g),R||Zo(P,o,g,re.state))),c&&C===null)throw Error(n(528,""));return re}if(c&&C!==null)throw Error(n(529,""));return null;case"script":return c=g.async,g=g.src,typeof g=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Fn(g),g=wn(P).hoistableScripts,C=g.get(c),C||(C={type:"script",instance:null,count:0,state:null},g.set(c,C)),C):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,o))}}function Va(o){return'href="'+ui(o)+'"'}function La(o){return'link[rel="stylesheet"]['+o+"]"}function Cl(o){return S({},o,{"data-precedence":o.precedence,precedence:null})}function Zo(o,c,g,C){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?C.loading=1:(c=o.createElement("link"),C.preload=c,c.addEventListener("load",function(){return C.loading|=1}),c.addEventListener("error",function(){return C.loading|=2}),ps(c,"link",g),Ui(c),o.head.appendChild(c))}function Fn(o){return'[src="'+ui(o)+'"]'}function ti(o){return"script[async]"+o}function Bi(o,c,g){if(c.count++,c.instance===null)switch(c.type){case"style":var C=o.querySelector('style[data-href~="'+ui(g.href)+'"]');if(C)return c.instance=C,Ui(C),C;var P=S({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return C=(o.ownerDocument||o).createElement("style"),Ui(C),ps(C,"style",P),oo(C,g.precedence,o),c.instance=C;case"stylesheet":P=Va(g.href);var R=o.querySelector(La(P));if(R)return c.state.loading|=4,c.instance=R,Ui(R),R;C=Cl(g),(P=ar.get(P))&&ki(C,P),R=(o.ownerDocument||o).createElement("link"),Ui(R);var re=R;return re._p=new Promise(function(Ce,tt){re.onload=Ce,re.onerror=tt}),ps(R,"link",C),c.state.loading|=4,oo(R,g.precedence,o),c.instance=R;case"script":return R=Fn(g.src),(P=o.querySelector(ti(R)))?(c.instance=P,Ui(P),P):(C=g,(P=ar.get(R))&&(C=S({},g),oh(C,P)),o=o.ownerDocument||o,P=o.createElement("script"),Ui(P),ps(P,"link",C),o.head.appendChild(P),c.instance=P);case"void":return null;default:throw Error(n(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(C=c.instance,c.state.loading|=4,oo(C,g.precedence,o));return c.instance}function oo(o,c,g){for(var C=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),P=C.length?C[C.length-1]:null,R=P,re=0;re<C.length;re++){var Ce=C[re];if(Ce.dataset.precedence===c)R=Ce;else if(R!==P)break}R?R.parentNode.insertBefore(o,R.nextSibling):(c=g.nodeType===9?g.head:g,c.insertBefore(o,c.firstChild))}function ki(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function oh(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var aA=null;function gu(o,c,g){if(aA===null){var C=new Map,P=aA=new Map;P.set(g,C)}else P=aA,C=P.get(g),C||(C=new Map,P.set(g,C));if(C.has(o))return C;for(C.set(o,null),g=g.getElementsByTagName(o),P=0;P<g.length;P++){var R=g[P];if(!(R[Pn]||R[or]||o==="link"&&R.getAttribute("rel")==="stylesheet")&&R.namespaceURI!=="http://www.w3.org/2000/svg"){var re=R.getAttribute(c)||"";re=o+re;var Ce=C.get(re);Ce?Ce.push(R):C.set(re,[R])}}return C}function sA(o,c,g){o=o.ownerDocument||o,o.head.insertBefore(g,c==="title"?o.querySelector("head > title"):null)}function oA(o,c,g){if(g===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function rs(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function Sc(o,c,g,C){if(g.type==="stylesheet"&&(typeof C.media!="string"||matchMedia(C.media).matches!==!1)&&(g.state.loading&4)===0){if(g.instance===null){var P=Va(C.href),R=c.querySelector(La(P));if(R){c=R._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(o.count++,o=np.bind(o),c.then(o,o)),g.state.loading|=4,g.instance=R,Ui(R);return}R=c.ownerDocument||c,C=Cl(C),(P=ar.get(P))&&ki(C,P),R=R.createElement("link"),Ui(R);var re=R;re._p=new Promise(function(Ce,tt){re.onload=Ce,re.onerror=tt}),ps(R,"link",C),g.instance=R}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(g,c),(c=g.state.preload)&&(g.state.loading&3)===0&&(o.count++,g=np.bind(o),c.addEventListener("load",g),c.addEventListener("error",g))}}var Rh=0;function cv(o,c){return o.stylesheets&&o.count===0&&$f(o,o.stylesheets),0<o.count||0<o.imgCount?function(g){var C=setTimeout(function(){if(o.stylesheets&&$f(o,o.stylesheets),o.unsuspend){var R=o.unsuspend;o.unsuspend=null,R()}},6e4+c);0<o.imgBytes&&Rh===0&&(Rh=62500*a());var P=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&$f(o,o.stylesheets),o.unsuspend)){var R=o.unsuspend;o.unsuspend=null,R()}},(o.imgBytes>Rh?50:800)+c);return o.unsuspend=g,function(){o.unsuspend=null,clearTimeout(C),clearTimeout(P)}}:null}function np(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)$f(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Gf=null;function $f(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Gf=new Map,c.forEach(Ec,o),Gf=null,np.call(o))}function Ec(o,c){if(!(c.state.loading&4)){var g=Gf.get(o);if(g)var C=g.get(null);else{g=new Map,Gf.set(o,g);for(var P=o.querySelectorAll("link[data-precedence],style[data-precedence]"),R=0;R<P.length;R++){var re=P[R];(re.nodeName==="LINK"||re.getAttribute("media")!=="not all")&&(g.set(re.dataset.precedence,re),C=re)}C&&g.set(null,C)}P=c.instance,re=P.getAttribute("data-precedence"),R=g.get(re)||C,R===C&&g.set(null,P),g.set(re,P),this.count++,C=np.bind(this),P.addEventListener("load",C),P.addEventListener("error",C),R?R.parentNode.insertBefore(P,R.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(P,o.firstChild)),c.state.loading|=4}}var Xf={$$typeof:W,Provider:null,Consumer:null,_currentValue:Ge,_currentValue2:Ge,_threadCount:0};function hv(o,c,g,C,P,R,re,Ce,tt){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Je(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Je(0),this.hiddenUpdates=Je(null),this.identifierPrefix=C,this.onUncaughtError=P,this.onCaughtError=R,this.onRecoverableError=re,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=tt,this.incompleteTransitions=new Map}function fv(o,c,g,C,P,R,re,Ce,tt,bt,Dt,Ht){return o=new hv(o,c,g,re,tt,bt,Dt,Ht,Ce),c=1,R===!0&&(c|=24),R=va(3,null,null,c),o.current=R,R.stateNode=o,c=fs(),c.refCount++,o.pooledCache=c,c.refCount++,R.memoizedState={element:C,isDehydrated:g,cache:c},mt(R),o}function dv(o){return o?(o=bi,o):bi}function pv(o,c,g,C,P,R){P=dv(P),C.context===null?C.context=P:C.pendingContext=P,C=Et(c),C.payload={element:g},R=R===void 0?null:R,R!==null&&(C.callback=R),g=zt(o,C,c),g!==null&&(wo(g,o,c),tr(g,o,c))}function gv(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var g=o.retryLane;o.retryLane=g!==0&&g<c?g:c}}function Ym(o,c){gv(o,c),(o=o.alternate)&&gv(o,c)}function mv(o){if(o.tag===13||o.tag===31){var c=Vo(o,67108864);c!==null&&wo(c,o,67108864),Ym(o,67108864)}}function yv(o){if(o.tag===13||o.tag===31){var c=iA();c=ft(c);var g=Vo(o,c);g!==null&&wo(g,o,c),Ym(o,c)}}var sg=!0;function mu(o,c,g,C){var P=Pe.T;Pe.T=null;var R=ke.p;try{ke.p=2,lg(o,c,g,C)}finally{ke.p=R,Pe.T=P}}function og(o,c,g,C){var P=Pe.T;Pe.T=null;var R=ke.p;try{ke.p=8,lg(o,c,g,C)}finally{ke.p=R,Pe.T=P}}function lg(o,c,g,C){if(sg){var P=Jm(C);if(P===null)Yd(o,c,C,Ag,g),lS(o,C);else if(nk(P,o,c,g,C))C.stopPropagation();else if(lS(o,C),c&4&&-1<rk.indexOf(o)){for(;P!==null;){var R=yi(P);if(R!==null)switch(R.tag){case 3:if(R=R.stateNode,R.current.memoizedState.isDehydrated){var re=Ue(R.pendingLanes);if(re!==0){var Ce=R;for(Ce.pendingLanes|=2,Ce.entangledLanes|=2;re;){var tt=1<<31-Xr(re);Ce.entanglements[1]|=tt,re&=~tt}Gu(R),(ii&6)===0&&($p=rn()+500,Hf(0))}}break;case 31:case 13:Ce=Vo(R,2),Ce!==null&&wo(Ce,R,2),qd(),Ym(R,2)}if(R=Jm(C),R===null&&Yd(o,c,C,Ag,g),R===P)break;P=R}P!==null&&C.stopPropagation()}else Yd(o,c,C,null,g)}}function Jm(o){return o=la(o),e0(o)}var Ag=null;function e0(o){if(Ag=null,o=ai(o),o!==null){var c=A(o);if(c===null)o=null;else{var g=c.tag;if(g===13){if(o=d(c),o!==null)return o;o=null}else if(g===31){if(o=l(c),o!==null)return o;o=null}else if(g===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return Ag=o,null}function ks(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nn()){case Jr:return 2;case yn:return 8;case Ft:case cr:return 32;case Pr:return 268435456;default:return 32}default:return 32}}var Wo=!1,Sl=null,Qs=null,El=null,Tl=new Map,t0=new Map,Zf=[],rk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lS(o,c){switch(o){case"focusin":case"focusout":Sl=null;break;case"dragenter":case"dragleave":Qs=null;break;case"mouseover":case"mouseout":El=null;break;case"pointerover":case"pointerout":Tl.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":t0.delete(c.pointerId)}}function r0(o,c,g,C,P,R){return o===null||o.nativeEvent!==R?(o={blockedOn:c,domEventName:g,eventSystemFlags:C,nativeEvent:R,targetContainers:[P]},c!==null&&(c=yi(c),c!==null&&mv(c)),o):(o.eventSystemFlags|=C,c=o.targetContainers,P!==null&&c.indexOf(P)===-1&&c.push(P),o)}function nk(o,c,g,C,P){switch(c){case"focusin":return Sl=r0(Sl,o,c,g,C,P),!0;case"dragenter":return Qs=r0(Qs,o,c,g,C,P),!0;case"mouseover":return El=r0(El,o,c,g,C,P),!0;case"pointerover":var R=P.pointerId;return Tl.set(R,r0(Tl.get(R)||null,o,c,g,C,P)),!0;case"gotpointercapture":return R=P.pointerId,t0.set(R,r0(t0.get(R)||null,o,c,g,C,P)),!0}return!1}function AS(o){var c=ai(o.target);if(c!==null){var g=A(c);if(g!==null){if(c=g.tag,c===13){if(c=d(g),c!==null){o.blockedOn=c,dr(o.priority,function(){yv(g)});return}}else if(c===31){if(c=l(g),c!==null){o.blockedOn=c,dr(o.priority,function(){yv(g)});return}}else if(c===3&&g.stateNode.current.memoizedState.isDehydrated){o.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}o.blockedOn=null}function vv(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var g=Jm(o.nativeEvent);if(g===null){g=o.nativeEvent;var C=new g.constructor(g.type,g);Vs=C,g.target.dispatchEvent(C),Vs=null}else return c=yi(g),c!==null&&mv(c),o.blockedOn=g,!1;c.shift()}return!0}function uS(o,c,g){vv(o)&&g.delete(c)}function ik(){Wo=!1,Sl!==null&&vv(Sl)&&(Sl=null),Qs!==null&&vv(Qs)&&(Qs=null),El!==null&&vv(El)&&(El=null),Tl.forEach(uS),t0.forEach(uS)}function _v(o,c){o.blockedOn===c&&(o.blockedOn=null,Wo||(Wo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ik)))}var bv=null;function cS(o){bv!==o&&(bv=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){bv===o&&(bv=null);for(var c=0;c<o.length;c+=3){var g=o[c],C=o[c+1],P=o[c+2];if(typeof C!="function"){if(e0(C||g)===null)continue;break}var R=yi(g);R!==null&&(o.splice(c,3),c-=3,Dp(R,{pending:!0,data:P,method:g.method,action:C},C,P))}}))}function ug(o){function c(tt){return _v(tt,o)}Sl!==null&&_v(Sl,o),Qs!==null&&_v(Qs,o),El!==null&&_v(El,o),Tl.forEach(c),t0.forEach(c);for(var g=0;g<Zf.length;g++){var C=Zf[g];C.blockedOn===o&&(C.blockedOn=null)}for(;0<Zf.length&&(g=Zf[0],g.blockedOn===null);)AS(g),g.blockedOn===null&&Zf.shift();if(g=(o.ownerDocument||o).$$reactFormReplay,g!=null)for(C=0;C<g.length;C+=3){var P=g[C],R=g[C+1],re=P[Or]||null;if(typeof R=="function")re||cS(g);else if(re){var Ce=null;if(R&&R.hasAttribute("formAction")){if(P=R,re=R[Or]||null)Ce=re.formAction;else if(e0(P)!==null)continue}else Ce=re.action;typeof Ce=="function"?g[C+1]=Ce:(g.splice(C,3),C-=3),cS(g)}}}function hS(){function o(R){R.canIntercept&&R.info==="react-transition"&&R.intercept({handler:function(){return new Promise(function(re){return P=re})},focusReset:"manual",scroll:"manual"})}function c(){P!==null&&(P(),P=null),C||setTimeout(g,20)}function g(){if(!C&&!navigation.transition){var R=navigation.currentEntry;R&&R.url!=null&&navigation.navigate(R.url,{state:R.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var C=!1,P=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(g,100),function(){C=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),P!==null&&(P(),P=null)}}}function Yb(o){this._internalRoot=o}wv.prototype.render=Yb.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(n(409));var g=c.current,C=iA();pv(g,C,o,c,null,null)},wv.prototype.unmount=Yb.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;pv(o.current,2,null,o,null,null),qd(),c[zr]=null}};function wv(o){this._internalRoot=o}wv.prototype.unstable_scheduleHydration=function(o){if(o){var c=Jt();o={blockedOn:null,target:o,priority:c};for(var g=0;g<Zf.length&&c!==0&&c<Zf[g].priority;g++);Zf.splice(g,0,o),g===0&&AS(o)}};var fS=t.version;if(fS!=="19.2.0")throw Error(n(527,fS,"19.2.0"));ke.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=b(c),o=o!==null?w(o):null,o=o===null?null:o.stateNode,o};var ak={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Pe,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xv.isDisabled&&xv.supportsFiber)try{Pt=xv.inject(ak),Zt=xv}catch{}}return i0.createRoot=function(o,c){if(!s(o))throw Error(n(299));var g=!1,C="",P=Uy,R=Ly,re=My;return c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(C=c.identifierPrefix),c.onUncaughtError!==void 0&&(P=c.onUncaughtError),c.onCaughtError!==void 0&&(R=c.onCaughtError),c.onRecoverableError!==void 0&&(re=c.onRecoverableError)),c=fv(o,1,!1,null,null,g,C,null,P,R,re,hS),o[zr]=c.current,Xm(o),new Yb(c)},i0.hydrateRoot=function(o,c,g){if(!s(o))throw Error(n(299));var C=!1,P="",R=Uy,re=Ly,Ce=My,tt=null;return g!=null&&(g.unstable_strictMode===!0&&(C=!0),g.identifierPrefix!==void 0&&(P=g.identifierPrefix),g.onUncaughtError!==void 0&&(R=g.onUncaughtError),g.onCaughtError!==void 0&&(re=g.onCaughtError),g.onRecoverableError!==void 0&&(Ce=g.onRecoverableError),g.formState!==void 0&&(tt=g.formState)),c=fv(o,1,!0,c,g??null,C,P,tt,R,re,Ce,hS),c.context=dv(null),g=c.current,C=iA(),C=ft(C),P=Et(C),P.callback=null,zt(g,P,C),g=C,c.current.lanes=g,Ve(c,g),Gu(c),o[zr]=c.current,Xm(o),new wv(c)},i0.version="19.2.0",i0}var xS;function mk(){if(xS)return tw.exports;xS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),tw.exports=gk(),tw.exports}var yk=mk(),v1={exports:{}};var vk=v1.exports,BS;function _k(){return BS||(BS=1,(function(e,t){(function(r,n){e.exports=n()})(vk,(function(){var r={},n={};function s(d,l,y){if(n[d]=y,d==="index"){var b="var sharedModule = {}; ("+n.shared+")(sharedModule); ("+n.worker+")(sharedModule);",w={};return n.shared(w),n.index(r,w),typeof window<"u"&&r.setWorkerUrl(window.URL.createObjectURL(new Blob([b],{type:"text/javascript"}))),r}}s("shared",["exports"],(function(d){function l(u,a,f,m){return new(f||(f=Promise))((function(B,E){function I(V){try{N(m.next(V))}catch(Z){E(Z)}}function O(V){try{N(m.throw(V))}catch(Z){E(Z)}}function N(V){var Z;V.done?B(V.value):(Z=V.value,Z instanceof f?Z:new f((function(Y){Y(Z)}))).then(I,O)}N((m=m.apply(u,a||[])).next())}))}function y(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}typeof SuppressedError=="function"&&SuppressedError;var b=w;function w(u,a){this.x=u,this.y=a}w.prototype={clone:function(){return new w(this.x,this.y)},add:function(u){return this.clone()._add(u)},sub:function(u){return this.clone()._sub(u)},multByPoint:function(u){return this.clone()._multByPoint(u)},divByPoint:function(u){return this.clone()._divByPoint(u)},mult:function(u){return this.clone()._mult(u)},div:function(u){return this.clone()._div(u)},rotate:function(u){return this.clone()._rotate(u)},rotateAround:function(u,a){return this.clone()._rotateAround(u,a)},matMult:function(u){return this.clone()._matMult(u)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(u){return this.x===u.x&&this.y===u.y},dist:function(u){return Math.sqrt(this.distSqr(u))},distSqr:function(u){var a=u.x-this.x,f=u.y-this.y;return a*a+f*f},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(u){return Math.atan2(this.y-u.y,this.x-u.x)},angleWith:function(u){return this.angleWithSep(u.x,u.y)},angleWithSep:function(u,a){return Math.atan2(this.x*a-this.y*u,this.x*u+this.y*a)},_matMult:function(u){var a=u[2]*this.x+u[3]*this.y;return this.x=u[0]*this.x+u[1]*this.y,this.y=a,this},_add:function(u){return this.x+=u.x,this.y+=u.y,this},_sub:function(u){return this.x-=u.x,this.y-=u.y,this},_mult:function(u){return this.x*=u,this.y*=u,this},_div:function(u){return this.x/=u,this.y/=u,this},_multByPoint:function(u){return this.x*=u.x,this.y*=u.y,this},_divByPoint:function(u){return this.x/=u.x,this.y/=u.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var u=this.y;return this.y=this.x,this.x=-u,this},_rotate:function(u){var a=Math.cos(u),f=Math.sin(u),m=f*this.x+a*this.y;return this.x=a*this.x-f*this.y,this.y=m,this},_rotateAround:function(u,a){var f=Math.cos(u),m=Math.sin(u),B=a.y+m*(this.x-a.x)+f*(this.y-a.y);return this.x=a.x+f*(this.x-a.x)-m*(this.y-a.y),this.y=B,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},w.convert=function(u){return u instanceof w?u:Array.isArray(u)?new w(u[0],u[1]):u};var S=y(b),F=T;function T(u,a,f,m){this.cx=3*u,this.bx=3*(f-u)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*a,this.by=3*(m-a)-this.cy,this.ay=1-this.cy-this.by,this.p1x=u,this.p1y=a,this.p2x=f,this.p2y=m}T.prototype={sampleCurveX:function(u){return((this.ax*u+this.bx)*u+this.cx)*u},sampleCurveY:function(u){return((this.ay*u+this.by)*u+this.cy)*u},sampleCurveDerivativeX:function(u){return(3*this.ax*u+2*this.bx)*u+this.cx},solveCurveX:function(u,a){if(a===void 0&&(a=1e-6),u<0)return 0;if(u>1)return 1;for(var f=u,m=0;m<8;m++){var B=this.sampleCurveX(f)-u;if(Math.abs(B)<a)return f;var E=this.sampleCurveDerivativeX(f);if(Math.abs(E)<1e-6)break;f-=B/E}var I=0,O=1;for(f=u,m=0;m<20&&(B=this.sampleCurveX(f),!(Math.abs(B-u)<a));m++)u>B?I=f:O=f,f=.5*(O-I)+I;return f},solve:function(u,a){return this.sampleCurveY(this.solveCurveX(u,a))}};var z=y(F);let H,K;function q(){return H==null&&(H=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),H}function ne(){if(K==null&&(K=!1,q())){const a=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(a){for(let m=0;m<25;m++){const B=4*m;a.fillStyle=`rgb(${B},${B+1},${B+2})`,a.fillRect(m%5,Math.floor(m/5),1,1)}const f=a.getImageData(0,0,5,5).data;for(let m=0;m<100;m++)if(m%4!=3&&f[m]!==m){K=!0;break}}}return K||!1}function W(u,a,f,m){const B=new z(u,a,f,m);return E=>B.solve(E)}const le=W(.25,.1,.25,1);function ce(u,a,f){return Math.min(f,Math.max(a,u))}function me(u,a,f){const m=f-a,B=((u-a)%m+m)%m+a;return B===a?f:B}function Ee(u,...a){for(const f of a)for(const m in f)u[m]=f[m];return u}let Ie=1;function ge(u,a,f){const m={};for(const B in u)m[B]=a.call(this,u[B],B,u);return m}function je(u,a,f){const m={};for(const B in u)a.call(this,u[B],B,u)&&(m[B]=u[B]);return m}function ie(u){return Array.isArray(u)?u.map(ie):typeof u=="object"&&u?ge(u,ie):u}const de={};function Fe(u){de[u]||(typeof console<"u"&&console.warn(u),de[u]=!0)}function Le(u,a,f){return(f.y-u.y)*(a.x-u.x)>(a.y-u.y)*(f.x-u.x)}function it(u){return typeof WorkerGlobalScope<"u"&&u!==void 0&&u instanceof WorkerGlobalScope}let Pe=null;function ke(u){return typeof ImageBitmap<"u"&&u instanceof ImageBitmap}const Ge="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function Oe(u,a,f,m,B){return l(this,void 0,void 0,(function*(){if(typeof VideoFrame>"u")throw new Error("VideoFrame not supported");const E=new VideoFrame(u,{timestamp:0});try{const I=E?.format;if(!I||!I.startsWith("BGR")&&!I.startsWith("RGB"))throw new Error(`Unrecognized format ${I}`);const O=I.startsWith("BGR"),N=new Uint8ClampedArray(m*B*4);if(yield E.copyTo(N,(function(V,Z,Y,se,he){const ve=4*Math.max(-Z,0),xe=(Math.max(0,Y)-Y)*se*4+ve,He=4*se,Xe=Math.max(0,Z),ht=Math.max(0,Y);return{rect:{x:Xe,y:ht,width:Math.min(V.width,Z+se)-Xe,height:Math.min(V.height,Y+he)-ht},layout:[{offset:xe,stride:He}]}})(u,a,f,m,B)),O)for(let V=0;V<N.length;V+=4){const Z=N[V];N[V]=N[V+2],N[V+2]=Z}return N}finally{E.close()}}))}let st,be;const ee="AbortError";function ye(){return new Error(ee)}const Te={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};function Ne(u){return Te.REGISTERED_PROTOCOLS[u.substring(0,u.indexOf("://"))]}const Ze="global-dispatcher";class et extends Error{constructor(a,f,m,B){super(`AJAXError: ${f} (${a}): ${m}`),this.status=a,this.statusText=f,this.url=m,this.body=B}}const gt=()=>it(self)?self.worker&&self.worker.referrer:(window.location.protocol==="blob:"?window.parent:window).location.href,Ke=function(u,a){if(/:\/\//.test(u.url)&&!/^https?:|^file:/.test(u.url)){const m=Ne(u.url);if(m)return m(u,a);if(it(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:u,targetMapId:Ze},a)}if(!(/^file:/.test(f=u.url)||/^file:/.test(gt())&&!/^\w+:/.test(f))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return(function(m,B){return l(this,void 0,void 0,(function*(){const E=new Request(m.url,{method:m.method||"GET",body:m.body,credentials:m.credentials,headers:m.headers,cache:m.cache,referrer:gt(),signal:B.signal});m.type!=="json"||E.headers.has("Accept")||E.headers.set("Accept","application/json");const I=yield fetch(E);if(!I.ok){const V=yield I.blob();throw new et(I.status,I.statusText,m.url,V)}let O;O=m.type==="arrayBuffer"||m.type==="image"?I.arrayBuffer():m.type==="json"?I.json():I.text();const N=yield O;if(B.signal.aborted)throw ye();return{data:N,cacheControl:I.headers.get("Cache-Control"),expires:I.headers.get("Expires")}}))})(u,a);if(it(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:u,mustQueue:!0,targetMapId:Ze},a)}var f;return(function(m,B){return new Promise(((E,I)=>{var O;const N=new XMLHttpRequest;N.open(m.method||"GET",m.url,!0),m.type!=="arrayBuffer"&&m.type!=="image"||(N.responseType="arraybuffer");for(const V in m.headers)N.setRequestHeader(V,m.headers[V]);m.type==="json"&&(N.responseType="text",!((O=m.headers)===null||O===void 0)&&O.Accept||N.setRequestHeader("Accept","application/json")),N.withCredentials=m.credentials==="include",N.onerror=()=>{I(new Error(N.statusText))},N.onload=()=>{if(!B.signal.aborted)if((N.status>=200&&N.status<300||N.status===0)&&N.response!==null){let V=N.response;if(m.type==="json")try{V=JSON.parse(N.response)}catch(Z){return void I(Z)}E({data:V,cacheControl:N.getResponseHeader("Cache-Control"),expires:N.getResponseHeader("Expires")})}else{const V=new Blob([N.response],{type:N.getResponseHeader("Content-Type")});I(new et(N.status,N.statusText,m.url,V))}},B.signal.addEventListener("abort",(()=>{N.abort(),I(ye())})),N.send(m.body)}))})(u,a)};function pt(u){if(!u||u.indexOf("://")<=0||u.indexOf("data:image/")===0||u.indexOf("blob:")===0)return!0;const a=new URL(u),f=window.location;return a.protocol===f.protocol&&a.host===f.host}function Ct(u,a,f){f[u]&&f[u].indexOf(a)!==-1||(f[u]=f[u]||[],f[u].push(a))}function ct(u,a,f){if(f&&f[u]){const m=f[u].indexOf(a);m!==-1&&f[u].splice(m,1)}}class qt{constructor(a,f={}){Ee(this,f),this.type=a}}class Xt extends qt{constructor(a,f={}){super("error",Ee({error:a},f))}}class Me{on(a,f){return this._listeners=this._listeners||{},Ct(a,f,this._listeners),this}off(a,f){return ct(a,f,this._listeners),ct(a,f,this._oneTimeListeners),this}once(a,f){return f?(this._oneTimeListeners=this._oneTimeListeners||{},Ct(a,f,this._oneTimeListeners),this):new Promise((m=>this.once(a,m)))}fire(a,f){typeof a=="string"&&(a=new qt(a,f||{}));const m=a.type;if(this.listens(m)){a.target=this;const B=this._listeners&&this._listeners[m]?this._listeners[m].slice():[];for(const O of B)O.call(this,a);const E=this._oneTimeListeners&&this._oneTimeListeners[m]?this._oneTimeListeners[m].slice():[];for(const O of E)ct(m,O,this._oneTimeListeners),O.call(this,a);const I=this._eventedParent;I&&(Ee(a,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),I.fire(a))}else a instanceof Xt&&console.error(a.error);return this}listens(a){return this._listeners&&this._listeners[a]&&this._listeners[a].length>0||this._oneTimeListeners&&this._oneTimeListeners[a]&&this._oneTimeListeners[a].length>0||this._eventedParent&&this._eventedParent.listens(a)}setEventedParent(a,f){return this._eventedParent=a,this._eventedParentData=f,this}}var Ye={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sky:{type:"sky"},projection:{type:"projection"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},sky:{"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},projection:{type:{type:"enum",default:"mercator",values:{mercator:{},globe:{}}}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const Nr=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function Er(u,a){const f={};for(const m in u)m!=="ref"&&(f[m]=u[m]);return Nr.forEach((m=>{m in a&&(f[m]=a[m])})),f}function Tt(u,a){if(Array.isArray(u)){if(!Array.isArray(a)||u.length!==a.length)return!1;for(let f=0;f<u.length;f++)if(!Tt(u[f],a[f]))return!1;return!0}if(typeof u=="object"&&u!==null&&a!==null){if(typeof a!="object"||Object.keys(u).length!==Object.keys(a).length)return!1;for(const f in u)if(!Tt(u[f],a[f]))return!1;return!0}return u===a}function nr(u,a){u.push(a)}function ur(u,a,f){nr(f,{command:"addSource",args:[u,a[u]]})}function Tr(u,a,f){nr(a,{command:"removeSource",args:[u]}),f[u]=!0}function Br(u,a,f,m){Tr(u,f,m),ur(u,a,f)}function rn(u,a,f){let m;for(m in u[f])if(Object.prototype.hasOwnProperty.call(u[f],m)&&m!=="data"&&!Tt(u[f][m],a[f][m]))return!1;for(m in a[f])if(Object.prototype.hasOwnProperty.call(a[f],m)&&m!=="data"&&!Tt(u[f][m],a[f][m]))return!1;return!0}function nn(u,a,f,m,B,E){u=u||{},a=a||{};for(const I in u)Object.prototype.hasOwnProperty.call(u,I)&&(Tt(u[I],a[I])||f.push({command:E,args:[m,I,a[I],B]}));for(const I in a)Object.prototype.hasOwnProperty.call(a,I)&&!Object.prototype.hasOwnProperty.call(u,I)&&(Tt(u[I],a[I])||f.push({command:E,args:[m,I,a[I],B]}))}function Jr(u){return u.id}function yn(u,a){return u[a.id]=a,u}class Ft{constructor(a,f,m,B){this.message=(a?`${a}: `:"")+m,B&&(this.identifier=B),f!=null&&f.__line__&&(this.line=f.__line__)}}function cr(u,...a){for(const f of a)for(const m in f)u[m]=f[m];return u}class Pr extends Error{constructor(a,f){super(f),this.message=f,this.key=a}}class fr{constructor(a,f=[]){this.parent=a,this.bindings={};for(const[m,B]of f)this.bindings[m]=B}concat(a){return new fr(this,a)}get(a){if(this.bindings[a])return this.bindings[a];if(this.parent)return this.parent.get(a);throw new Error(`${a} not found in scope.`)}has(a){return!!this.bindings[a]||!!this.parent&&this.parent.has(a)}}const ri={kind:"null"},Pt={kind:"number"},Zt={kind:"string"},Gt={kind:"boolean"},Xr={kind:"color"},_r={kind:"object"},sr={kind:"value"},Ur={kind:"collator"},Rr={kind:"formatted"},kn={kind:"padding"},Gr={kind:"resolvedImage"},Ue={kind:"variableAnchorOffsetCollection"};function oe(u,a){return{kind:"array",itemType:u,N:a}}function Ae(u){if(u.kind==="array"){const a=Ae(u.itemType);return typeof u.N=="number"?`array<${a}, ${u.N}>`:u.itemType.kind==="value"?"array":`array<${a}>`}return u.kind}const _e=[ri,Pt,Zt,Gt,Xr,Rr,_r,oe(sr),kn,Gr,Ue];function Re(u,a){if(a.kind==="error")return null;if(u.kind==="array"){if(a.kind==="array"&&(a.N===0&&a.itemType.kind==="value"||!Re(u.itemType,a.itemType))&&(typeof u.N!="number"||u.N===a.N))return null}else{if(u.kind===a.kind)return null;if(u.kind==="value"){for(const f of _e)if(!Re(f,a))return null}}return`Expected ${Ae(u)} but found ${Ae(a)} instead.`}function Je(u,a){return a.some((f=>f.kind===u.kind))}function Ve(u,a){return a.some((f=>f==="null"?u===null:f==="array"?Array.isArray(u):f==="object"?u&&!Array.isArray(u)&&typeof u=="object":f===typeof u))}function lt(u,a){return u.kind==="array"&&a.kind==="array"?u.itemType.kind===a.itemType.kind&&typeof u.N=="number":u.kind===a.kind}const We=.96422,yt=.82521,Lt=4/29,ft=6/29,Nt=3*ft*ft,Jt=ft*ft*ft,dr=Math.PI/180,Zr=180/Math.PI;function or(u){return(u%=360)<0&&(u+=360),u}function Or([u,a,f,m]){let B,E;const I=Kn((.2225045*(u=zr(u))+.7168786*(a=zr(a))+.0606169*(f=zr(f)))/1);u===a&&a===f?B=E=I:(B=Kn((.4360747*u+.3850649*a+.1430804*f)/We),E=Kn((.0139322*u+.0971045*a+.7141733*f)/yt));const O=116*I-16;return[O<0?0:O,500*(B-I),200*(I-E),m]}function zr(u){return u<=.04045?u/12.92:Math.pow((u+.055)/1.055,2.4)}function Kn(u){return u>Jt?Math.pow(u,1/3):u/Nt+Lt}function Qn([u,a,f,m]){let B=(u+16)/116,E=isNaN(a)?B:B+a/500,I=isNaN(f)?B:B-f/200;return B=1*vn(B),E=We*vn(E),I=yt*vn(I),[en(3.1338561*E-1.6168667*B-.4906146*I),en(-.9787684*E+1.9161415*B+.033454*I),en(.0719453*E-.2289914*B+1.4052427*I),m]}function en(u){return(u=u<=.00304?12.92*u:1.055*Math.pow(u,1/2.4)-.055)<0?0:u>1?1:u}function vn(u){return u>ft?u*u*u:Nt*(u-Lt)}function Pn(u){return parseInt(u.padEnd(2,u),16)/255}function mi(u,a){return ai(a?u/100:u,0,1)}function ai(u,a,f){return Math.min(Math.max(a,u),f)}function yi(u){return!u.some(Number.isNaN)}const po={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};class wn{constructor(a,f,m,B=1,E=!0){this.r=a,this.g=f,this.b=m,this.a=B,E||(this.r*=B,this.g*=B,this.b*=B,B||this.overwriteGetter("rgb",[a,f,m,B]))}static parse(a){if(a instanceof wn)return a;if(typeof a!="string")return;const f=(function(m){if((m=m.toLowerCase().trim())==="transparent")return[0,0,0,0];const B=po[m];if(B){const[I,O,N]=B;return[I/255,O/255,N/255,1]}if(m.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(m)){const I=m.length<6?1:2;let O=1;return[Pn(m.slice(O,O+=I)),Pn(m.slice(O,O+=I)),Pn(m.slice(O,O+=I)),Pn(m.slice(O,O+I)||"ff")]}if(m.startsWith("rgb")){const I=m.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(I){const[O,N,V,Z,Y,se,he,ve,xe,He,Xe,ht]=I,nt=[Z||" ",he||" ",He].join("");if(nt==="  "||nt==="  /"||nt===",,"||nt===",,,"){const At=[V,se,xe].join(""),Bt=At==="%%%"?100:At===""?255:0;if(Bt){const Kt=[ai(+N/Bt,0,1),ai(+Y/Bt,0,1),ai(+ve/Bt,0,1),Xe?mi(+Xe,ht):1];if(yi(Kt))return Kt}}return}}const E=m.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(E){const[I,O,N,V,Z,Y,se,he,ve]=E,xe=[N||" ",Z||" ",se].join("");if(xe==="  "||xe==="  /"||xe===",,"||xe===",,,"){const He=[+O,ai(+V,0,100),ai(+Y,0,100),he?mi(+he,ve):1];if(yi(He))return(function([Xe,ht,nt,At]){function Bt(Kt){const er=(Kt+Xe/30)%12,kr=ht*Math.min(nt,1-nt);return nt-kr*Math.max(-1,Math.min(er-3,9-er,1))}return Xe=or(Xe),ht/=100,nt/=100,[Bt(0),Bt(8),Bt(4),At]})(He)}}})(a);return f?new wn(...f,!1):void 0}get rgb(){const{r:a,g:f,b:m,a:B}=this,E=B||1/0;return this.overwriteGetter("rgb",[a/E,f/E,m/E,B])}get hcl(){return this.overwriteGetter("hcl",(function(a){const[f,m,B,E]=Or(a),I=Math.sqrt(m*m+B*B);return[Math.round(1e4*I)?or(Math.atan2(B,m)*Zr):NaN,I,f,E]})(this.rgb))}get lab(){return this.overwriteGetter("lab",Or(this.rgb))}overwriteGetter(a,f){return Object.defineProperty(this,a,{value:f}),f}toString(){const[a,f,m,B]=this.rgb;return`rgba(${[a,f,m].map((E=>Math.round(255*E))).join(",")},${B})`}}wn.black=new wn(0,0,0,1),wn.white=new wn(1,1,1,1),wn.transparent=new wn(0,0,0,0),wn.red=new wn(1,0,0,1);class Ui{constructor(a,f,m){this.sensitivity=a?f?"variant":"case":f?"accent":"base",this.locale=m,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(a,f){return this.collator.compare(a,f)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class WA{constructor(a,f,m,B,E){this.text=a,this.image=f,this.scale=m,this.fontStack=B,this.textColor=E}}class vi{constructor(a){this.sections=a}static fromString(a){return new vi([new WA(a,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some((a=>a.text.length!==0||a.image&&a.image.name.length!==0))}static factory(a){return a instanceof vi?a:vi.fromString(a)}toString(){return this.sections.length===0?"":this.sections.map((a=>a.text)).join("")}}class Li{constructor(a){this.values=a.slice()}static parse(a){if(a instanceof Li)return a;if(typeof a=="number")return new Li([a,a,a,a]);if(Array.isArray(a)&&!(a.length<1||a.length>4)){for(const f of a)if(typeof f!="number")return;switch(a.length){case 1:a=[a[0],a[0],a[0],a[0]];break;case 2:a=[a[0],a[1],a[0],a[1]];break;case 3:a=[a[0],a[1],a[2],a[1]]}return new Li(a)}}toString(){return JSON.stringify(this.values)}}const zl=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class qa{constructor(a){this.values=a.slice()}static parse(a){if(a instanceof qa)return a;if(Array.isArray(a)&&!(a.length<1)&&a.length%2==0){for(let f=0;f<a.length;f+=2){const m=a[f],B=a[f+1];if(typeof m!="string"||!zl.has(m)||!Array.isArray(B)||B.length!==2||typeof B[0]!="number"||typeof B[1]!="number")return}return new qa(a)}}toString(){return JSON.stringify(this.values)}}class ka{constructor(a){this.name=a.name,this.available=a.available}toString(){return this.name}static fromString(a){return a?new ka({name:a,available:!1}):null}}function nl(u,a,f,m){return typeof u=="number"&&u>=0&&u<=255&&typeof a=="number"&&a>=0&&a<=255&&typeof f=="number"&&f>=0&&f<=255?m===void 0||typeof m=="number"&&m>=0&&m<=1?null:`Invalid rgba value [${[u,a,f,m].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof m=="number"?[u,a,f,m]:[u,a,f]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function il(u){if(u===null||typeof u=="string"||typeof u=="boolean"||typeof u=="number"||u instanceof wn||u instanceof Ui||u instanceof vi||u instanceof Li||u instanceof qa||u instanceof ka)return!0;if(Array.isArray(u)){for(const a of u)if(!il(a))return!1;return!0}if(typeof u=="object"){for(const a in u)if(!il(u[a]))return!1;return!0}return!1}function Vn(u){if(u===null)return ri;if(typeof u=="string")return Zt;if(typeof u=="boolean")return Gt;if(typeof u=="number")return Pt;if(u instanceof wn)return Xr;if(u instanceof Ui)return Ur;if(u instanceof vi)return Rr;if(u instanceof Li)return kn;if(u instanceof qa)return Ue;if(u instanceof ka)return Gr;if(Array.isArray(u)){const a=u.length;let f;for(const m of u){const B=Vn(m);if(f){if(f===B)continue;f=sr;break}f=B}return oe(f||sr,a)}return _r}function js(u){const a=typeof u;return u===null?"":a==="string"||a==="number"||a==="boolean"?String(u):u instanceof wn||u instanceof vi||u instanceof Li||u instanceof qa||u instanceof ka?u.toString():JSON.stringify(u)}class Xi{constructor(a,f){this.type=a,this.value=f}static parse(a,f){if(a.length!==2)return f.error(`'literal' expression requires exactly one argument, but found ${a.length-1} instead.`);if(!il(a[1]))return f.error("invalid value");const m=a[1];let B=Vn(m);const E=f.expectedType;return B.kind!=="array"||B.N!==0||!E||E.kind!=="array"||typeof E.N=="number"&&E.N!==0||(B=E),new Xi(B,m)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class qr{constructor(a){this.name="ExpressionEvaluationError",this.message=a}toJSON(){return this.message}}const pA={string:Zt,number:Pt,boolean:Gt,object:_r};class oa{constructor(a,f){this.type=a,this.args=f}static parse(a,f){if(a.length<2)return f.error("Expected at least one argument.");let m,B=1;const E=a[0];if(E==="array"){let O,N;if(a.length>2){const V=a[1];if(typeof V!="string"||!(V in pA)||V==="object")return f.error('The item type argument of "array" must be one of string, number, boolean',1);O=pA[V],B++}else O=sr;if(a.length>3){if(a[2]!==null&&(typeof a[2]!="number"||a[2]<0||a[2]!==Math.floor(a[2])))return f.error('The length argument to "array" must be a positive integer literal',2);N=a[2],B++}m=oe(O,N)}else{if(!pA[E])throw new Error(`Types doesn't contain name = ${E}`);m=pA[E]}const I=[];for(;B<a.length;B++){const O=f.parse(a[B],B,sr);if(!O)return null;I.push(O)}return new oa(m,I)}evaluate(a){for(let f=0;f<this.args.length;f++){const m=this.args[f].evaluate(a);if(!Re(this.type,Vn(m)))return m;if(f===this.args.length-1)throw new qr(`Expected value to be of type ${Ae(this.type)}, but found ${Ae(Vn(m))} instead.`)}throw new Error}eachChild(a){this.args.forEach(a)}outputDefined(){return this.args.every((a=>a.outputDefined()))}}const al={"to-boolean":Gt,"to-color":Xr,"to-number":Pt,"to-string":Zt};class is{constructor(a,f){this.type=a,this.args=f}static parse(a,f){if(a.length<2)return f.error("Expected at least one argument.");const m=a[0];if(!al[m])throw new Error(`Can't parse ${m} as it is not part of the known types`);if((m==="to-boolean"||m==="to-string")&&a.length!==2)return f.error("Expected one argument.");const B=al[m],E=[];for(let I=1;I<a.length;I++){const O=f.parse(a[I],I,sr);if(!O)return null;E.push(O)}return new is(B,E)}evaluate(a){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(a);case"color":{let f,m;for(const B of this.args){if(f=B.evaluate(a),m=null,f instanceof wn)return f;if(typeof f=="string"){const E=a.parseColor(f);if(E)return E}else if(Array.isArray(f)&&(m=f.length<3||f.length>4?`Invalid rbga value ${JSON.stringify(f)}: expected an array containing either three or four numeric values.`:nl(f[0],f[1],f[2],f[3]),!m))return new wn(f[0]/255,f[1]/255,f[2]/255,f[3])}throw new qr(m||`Could not parse color from value '${typeof f=="string"?f:JSON.stringify(f)}'`)}case"padding":{let f;for(const m of this.args){f=m.evaluate(a);const B=Li.parse(f);if(B)return B}throw new qr(`Could not parse padding from value '${typeof f=="string"?f:JSON.stringify(f)}'`)}case"variableAnchorOffsetCollection":{let f;for(const m of this.args){f=m.evaluate(a);const B=qa.parse(f);if(B)return B}throw new qr(`Could not parse variableAnchorOffsetCollection from value '${typeof f=="string"?f:JSON.stringify(f)}'`)}case"number":{let f=null;for(const m of this.args){if(f=m.evaluate(a),f===null)return 0;const B=Number(f);if(!isNaN(B))return B}throw new qr(`Could not convert ${JSON.stringify(f)} to number.`)}case"formatted":return vi.fromString(js(this.args[0].evaluate(a)));case"resolvedImage":return ka.fromString(js(this.args[0].evaluate(a)));default:return js(this.args[0].evaluate(a))}}eachChild(a){this.args.forEach(a)}outputDefined(){return this.args.every((a=>a.outputDefined()))}}const as=["Unknown","Point","LineString","Polygon"];class Ri{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?as[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(a){let f=this._parseColorCache[a];return f||(f=this._parseColorCache[a]=wn.parse(a)),f}}class ui{constructor(a,f,m=[],B,E=new fr,I=[]){this.registry=a,this.path=m,this.key=m.map((O=>`[${O}]`)).join(""),this.scope=E,this.errors=I,this.expectedType=B,this._isConstant=f}parse(a,f,m,B,E={}){return f?this.concat(f,m,B)._parse(a,E):this._parse(a,E)}_parse(a,f){function m(B,E,I){return I==="assert"?new oa(E,[B]):I==="coerce"?new is(E,[B]):B}if(a!==null&&typeof a!="string"&&typeof a!="boolean"&&typeof a!="number"||(a=["literal",a]),Array.isArray(a)){if(a.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const B=a[0];if(typeof B!="string")return this.error(`Expression name must be a string, but found ${typeof B} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const E=this.registry[B];if(E){let I=E.parse(a,this);if(!I)return null;if(this.expectedType){const O=this.expectedType,N=I.type;if(O.kind!=="string"&&O.kind!=="number"&&O.kind!=="boolean"&&O.kind!=="object"&&O.kind!=="array"||N.kind!=="value")if(O.kind!=="color"&&O.kind!=="formatted"&&O.kind!=="resolvedImage"||N.kind!=="value"&&N.kind!=="string")if(O.kind!=="padding"||N.kind!=="value"&&N.kind!=="number"&&N.kind!=="array")if(O.kind!=="variableAnchorOffsetCollection"||N.kind!=="value"&&N.kind!=="array"){if(this.checkSubtype(O,N))return null}else I=m(I,O,f.typeAnnotation||"coerce");else I=m(I,O,f.typeAnnotation||"coerce");else I=m(I,O,f.typeAnnotation||"coerce");else I=m(I,O,f.typeAnnotation||"assert")}if(!(I instanceof Xi)&&I.type.kind!=="resolvedImage"&&this._isConstant(I)){const O=new Ri;try{I=new Xi(I.type,I.evaluate(O))}catch(N){return this.error(N.message),null}}return I}return this.error(`Unknown expression "${B}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(a===void 0?"'undefined' value invalid. Use null instead.":typeof a=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof a} instead.`)}concat(a,f,m){const B=typeof a=="number"?this.path.concat(a):this.path,E=m?this.scope.concat(m):this.scope;return new ui(this.registry,this._isConstant,B,f||null,E,this.errors)}error(a,...f){const m=`${this.key}${f.map((B=>`[${B}]`)).join("")}`;this.errors.push(new Pr(m,a))}checkSubtype(a,f){const m=Re(a,f);return m&&this.error(m),m}}class Ks{constructor(a,f){this.type=f.type,this.bindings=[].concat(a),this.result=f}evaluate(a){return this.result.evaluate(a)}eachChild(a){for(const f of this.bindings)a(f[1]);a(this.result)}static parse(a,f){if(a.length<4)return f.error(`Expected at least 3 arguments, but found ${a.length-1} instead.`);const m=[];for(let E=1;E<a.length-1;E+=2){const I=a[E];if(typeof I!="string")return f.error(`Expected string, but found ${typeof I} instead.`,E);if(/[^a-zA-Z0-9_]/.test(I))return f.error("Variable names must contain only alphanumeric characters or '_'.",E);const O=f.parse(a[E+1],E+1);if(!O)return null;m.push([I,O])}const B=f.parse(a[a.length-1],a.length-1,f.expectedType,m);return B?new Ks(m,B):null}outputDefined(){return this.result.outputDefined()}}class Un{constructor(a,f){this.type=f.type,this.name=a,this.boundExpression=f}static parse(a,f){if(a.length!==2||typeof a[1]!="string")return f.error("'var' expression requires exactly one string literal argument.");const m=a[1];return f.scope.has(m)?new Un(m,f.scope.get(m)):f.error(`Unknown variable "${m}". Make sure "${m}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(a){return this.boundExpression.evaluate(a)}eachChild(){}outputDefined(){return!1}}class YA{constructor(a,f,m){this.type=a,this.index=f,this.input=m}static parse(a,f){if(a.length!==3)return f.error(`Expected 2 arguments, but found ${a.length-1} instead.`);const m=f.parse(a[1],1,Pt),B=f.parse(a[2],2,oe(f.expectedType||sr));return m&&B?new YA(B.type.itemType,m,B):null}evaluate(a){const f=this.index.evaluate(a),m=this.input.evaluate(a);if(f<0)throw new qr(`Array index out of bounds: ${f} < 0.`);if(f>=m.length)throw new qr(`Array index out of bounds: ${f} > ${m.length-1}.`);if(f!==Math.floor(f))throw new qr(`Array index must be an integer, but found ${f} instead.`);return m[f]}eachChild(a){a(this.index),a(this.input)}outputDefined(){return!1}}class Qa{constructor(a,f){this.type=Gt,this.needle=a,this.haystack=f}static parse(a,f){if(a.length!==3)return f.error(`Expected 2 arguments, but found ${a.length-1} instead.`);const m=f.parse(a[1],1,sr),B=f.parse(a[2],2,sr);return m&&B?Je(m.type,[Gt,Zt,Pt,ri,sr])?new Qa(m,B):f.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ae(m.type)} instead`):null}evaluate(a){const f=this.needle.evaluate(a),m=this.haystack.evaluate(a);if(!m)return!1;if(!Ve(f,["boolean","string","number","null"]))throw new qr(`Expected first argument to be of type boolean, string, number or null, but found ${Ae(Vn(f))} instead.`);if(!Ve(m,["string","array"]))throw new qr(`Expected second argument to be of type array or string, but found ${Ae(Vn(m))} instead.`);return m.indexOf(f)>=0}eachChild(a){a(this.needle),a(this.haystack)}outputDefined(){return!0}}class sl{constructor(a,f,m){this.type=Pt,this.needle=a,this.haystack=f,this.fromIndex=m}static parse(a,f){if(a.length<=2||a.length>=5)return f.error(`Expected 3 or 4 arguments, but found ${a.length-1} instead.`);const m=f.parse(a[1],1,sr),B=f.parse(a[2],2,sr);if(!m||!B)return null;if(!Je(m.type,[Gt,Zt,Pt,ri,sr]))return f.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ae(m.type)} instead`);if(a.length===4){const E=f.parse(a[3],3,Pt);return E?new sl(m,B,E):null}return new sl(m,B)}evaluate(a){const f=this.needle.evaluate(a),m=this.haystack.evaluate(a);if(!Ve(f,["boolean","string","number","null"]))throw new qr(`Expected first argument to be of type boolean, string, number or null, but found ${Ae(Vn(f))} instead.`);let B;if(this.fromIndex&&(B=this.fromIndex.evaluate(a)),Ve(m,["string"])){const E=m.indexOf(f,B);return E===-1?-1:[...m.slice(0,E)].length}if(Ve(m,["array"]))return m.indexOf(f,B);throw new qr(`Expected second argument to be of type array or string, but found ${Ae(Vn(m))} instead.`)}eachChild(a){a(this.needle),a(this.haystack),this.fromIndex&&a(this.fromIndex)}outputDefined(){return!1}}class JA{constructor(a,f,m,B,E,I){this.inputType=a,this.type=f,this.input=m,this.cases=B,this.outputs=E,this.otherwise=I}static parse(a,f){if(a.length<5)return f.error(`Expected at least 4 arguments, but found only ${a.length-1}.`);if(a.length%2!=1)return f.error("Expected an even number of arguments.");let m,B;f.expectedType&&f.expectedType.kind!=="value"&&(B=f.expectedType);const E={},I=[];for(let V=2;V<a.length-1;V+=2){let Z=a[V];const Y=a[V+1];Array.isArray(Z)||(Z=[Z]);const se=f.concat(V);if(Z.length===0)return se.error("Expected at least one branch label.");for(const ve of Z){if(typeof ve!="number"&&typeof ve!="string")return se.error("Branch labels must be numbers or strings.");if(typeof ve=="number"&&Math.abs(ve)>Number.MAX_SAFE_INTEGER)return se.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof ve=="number"&&Math.floor(ve)!==ve)return se.error("Numeric branch labels must be integer values.");if(m){if(se.checkSubtype(m,Vn(ve)))return null}else m=Vn(ve);if(E[String(ve)]!==void 0)return se.error("Branch labels must be unique.");E[String(ve)]=I.length}const he=f.parse(Y,V,B);if(!he)return null;B=B||he.type,I.push(he)}const O=f.parse(a[1],1,sr);if(!O)return null;const N=f.parse(a[a.length-1],a.length-1,B);return N?O.type.kind!=="value"&&f.concat(1).checkSubtype(m,O.type)?null:new JA(m,B,O,E,I,N):null}evaluate(a){const f=this.input.evaluate(a);return(Vn(f)===this.inputType&&this.outputs[this.cases[f]]||this.otherwise).evaluate(a)}eachChild(a){a(this.input),this.outputs.forEach(a),a(this.otherwise)}outputDefined(){return this.outputs.every((a=>a.outputDefined()))&&this.otherwise.outputDefined()}}class Cs{constructor(a,f,m){this.type=a,this.branches=f,this.otherwise=m}static parse(a,f){if(a.length<4)return f.error(`Expected at least 3 arguments, but found only ${a.length-1}.`);if(a.length%2!=0)return f.error("Expected an odd number of arguments.");let m;f.expectedType&&f.expectedType.kind!=="value"&&(m=f.expectedType);const B=[];for(let I=1;I<a.length-1;I+=2){const O=f.parse(a[I],I,Gt);if(!O)return null;const N=f.parse(a[I+1],I+1,m);if(!N)return null;B.push([O,N]),m=m||N.type}const E=f.parse(a[a.length-1],a.length-1,m);if(!E)return null;if(!m)throw new Error("Can't infer output type");return new Cs(m,B,E)}evaluate(a){for(const[f,m]of this.branches)if(f.evaluate(a))return m.evaluate(a);return this.otherwise.evaluate(a)}eachChild(a){for(const[f,m]of this.branches)a(f),a(m);a(this.otherwise)}outputDefined(){return this.branches.every((([a,f])=>f.outputDefined()))&&this.otherwise.outputDefined()}}class Oo{constructor(a,f,m,B){this.type=a,this.input=f,this.beginIndex=m,this.endIndex=B}static parse(a,f){if(a.length<=2||a.length>=5)return f.error(`Expected 3 or 4 arguments, but found ${a.length-1} instead.`);const m=f.parse(a[1],1,sr),B=f.parse(a[2],2,Pt);if(!m||!B)return null;if(!Je(m.type,[oe(sr),Zt,sr]))return f.error(`Expected first argument to be of type array or string, but found ${Ae(m.type)} instead`);if(a.length===4){const E=f.parse(a[3],3,Pt);return E?new Oo(m.type,m,B,E):null}return new Oo(m.type,m,B)}evaluate(a){const f=this.input.evaluate(a),m=this.beginIndex.evaluate(a);let B;if(this.endIndex&&(B=this.endIndex.evaluate(a)),Ve(f,["string"]))return[...f].slice(m,B).join("");if(Ve(f,["array"]))return f.slice(m,B);throw new qr(`Expected first argument to be of type array or string, but found ${Ae(Vn(f))} instead.`)}eachChild(a){a(this.input),a(this.beginIndex),this.endIndex&&a(this.endIndex)}outputDefined(){return!1}}function eu(u,a){const f=u.length-1;let m,B,E=0,I=f,O=0;for(;E<=I;)if(O=Math.floor((E+I)/2),m=u[O],B=u[O+1],m<=a){if(O===f||a<B)return O;E=O+1}else{if(!(m>a))throw new qr("Input is not a number.");I=O-1}return 0}class Hl{constructor(a,f,m){this.type=a,this.input=f,this.labels=[],this.outputs=[];for(const[B,E]of m)this.labels.push(B),this.outputs.push(E)}static parse(a,f){if(a.length-1<4)return f.error(`Expected at least 4 arguments, but found only ${a.length-1}.`);if((a.length-1)%2!=0)return f.error("Expected an even number of arguments.");const m=f.parse(a[1],1,Pt);if(!m)return null;const B=[];let E=null;f.expectedType&&f.expectedType.kind!=="value"&&(E=f.expectedType);for(let I=1;I<a.length;I+=2){const O=I===1?-1/0:a[I],N=a[I+1],V=I,Z=I+1;if(typeof O!="number")return f.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',V);if(B.length&&B[B.length-1][0]>=O)return f.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',V);const Y=f.parse(N,Z,E);if(!Y)return null;E=E||Y.type,B.push([O,Y])}return new Hl(E,m,B)}evaluate(a){const f=this.labels,m=this.outputs;if(f.length===1)return m[0].evaluate(a);const B=this.input.evaluate(a);if(B<=f[0])return m[0].evaluate(a);const E=f.length;return B>=f[E-1]?m[E-1].evaluate(a):m[eu(f,B)].evaluate(a)}eachChild(a){a(this.input);for(const f of this.outputs)a(f)}outputDefined(){return this.outputs.every((a=>a.outputDefined()))}}function Eu(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var lc=Ac;function Ac(u,a,f,m){this.cx=3*u,this.bx=3*(f-u)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*a,this.by=3*(m-a)-this.cy,this.ay=1-this.cy-this.by,this.p1x=u,this.p1y=a,this.p2x=f,this.p2y=m}Ac.prototype={sampleCurveX:function(u){return((this.ax*u+this.bx)*u+this.cx)*u},sampleCurveY:function(u){return((this.ay*u+this.by)*u+this.cy)*u},sampleCurveDerivativeX:function(u){return(3*this.ax*u+2*this.bx)*u+this.cx},solveCurveX:function(u,a){if(a===void 0&&(a=1e-6),u<0)return 0;if(u>1)return 1;for(var f=u,m=0;m<8;m++){var B=this.sampleCurveX(f)-u;if(Math.abs(B)<a)return f;var E=this.sampleCurveDerivativeX(f);if(Math.abs(E)<1e-6)break;f-=B/E}var I=0,O=1;for(f=u,m=0;m<20&&(B=this.sampleCurveX(f),!(Math.abs(B-u)<a));m++)u>B?I=f:O=f,f=.5*(O-I)+I;return f},solve:function(u,a){return this.sampleCurveY(this.solveCurveX(u,a))}};var Ss=Eu(lc);function Na(u,a,f){return u+f*(a-u)}function Vs(u,a,f){return u.map(((m,B)=>Na(m,a[B],f)))}const la={number:Na,color:function(u,a,f,m="rgb"){switch(m){case"rgb":{const[B,E,I,O]=Vs(u.rgb,a.rgb,f);return new wn(B,E,I,O,!1)}case"hcl":{const[B,E,I,O]=u.hcl,[N,V,Z,Y]=a.hcl;let se,he;if(isNaN(B)||isNaN(N))isNaN(B)?isNaN(N)?se=NaN:(se=N,I!==1&&I!==0||(he=V)):(se=B,Z!==1&&Z!==0||(he=E));else{let ht=N-B;N>B&&ht>180?ht-=360:N<B&&B-N>180&&(ht+=360),se=B+f*ht}const[ve,xe,He,Xe]=(function([ht,nt,At,Bt]){return ht=isNaN(ht)?0:ht*dr,Qn([At,Math.cos(ht)*nt,Math.sin(ht)*nt,Bt])})([se,he??Na(E,V,f),Na(I,Z,f),Na(O,Y,f)]);return new wn(ve,xe,He,Xe,!1)}case"lab":{const[B,E,I,O]=Qn(Vs(u.lab,a.lab,f));return new wn(B,E,I,O,!1)}}},array:Vs,padding:function(u,a,f){return new Li(Vs(u.values,a.values,f))},variableAnchorOffsetCollection:function(u,a,f){const m=u.values,B=a.values;if(m.length!==B.length)throw new qr(`Cannot interpolate values of different length. from: ${u.toString()}, to: ${a.toString()}`);const E=[];for(let I=0;I<m.length;I+=2){if(m[I]!==B[I])throw new qr(`Cannot interpolate values containing mismatched anchors. from[${I}]: ${m[I]}, to[${I}]: ${B[I]}`);E.push(m[I]);const[O,N]=m[I+1],[V,Z]=B[I+1];E.push([Na(O,V,f),Na(N,Z,f)])}return new qa(E)}};class Zi{constructor(a,f,m,B,E){this.type=a,this.operator=f,this.interpolation=m,this.input=B,this.labels=[],this.outputs=[];for(const[I,O]of E)this.labels.push(I),this.outputs.push(O)}static interpolationFactor(a,f,m,B){let E=0;if(a.name==="exponential")E=jr(f,a.base,m,B);else if(a.name==="linear")E=jr(f,1,m,B);else if(a.name==="cubic-bezier"){const I=a.controlPoints;E=new Ss(I[0],I[1],I[2],I[3]).solve(jr(f,1,m,B))}return E}static parse(a,f){let[m,B,E,...I]=a;if(!Array.isArray(B)||B.length===0)return f.error("Expected an interpolation type expression.",1);if(B[0]==="linear")B={name:"linear"};else if(B[0]==="exponential"){const V=B[1];if(typeof V!="number")return f.error("Exponential interpolation requires a numeric base.",1,1);B={name:"exponential",base:V}}else{if(B[0]!=="cubic-bezier")return f.error(`Unknown interpolation type ${String(B[0])}`,1,0);{const V=B.slice(1);if(V.length!==4||V.some((Z=>typeof Z!="number"||Z<0||Z>1)))return f.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);B={name:"cubic-bezier",controlPoints:V}}}if(a.length-1<4)return f.error(`Expected at least 4 arguments, but found only ${a.length-1}.`);if((a.length-1)%2!=0)return f.error("Expected an even number of arguments.");if(E=f.parse(E,2,Pt),!E)return null;const O=[];let N=null;m==="interpolate-hcl"||m==="interpolate-lab"?N=Xr:f.expectedType&&f.expectedType.kind!=="value"&&(N=f.expectedType);for(let V=0;V<I.length;V+=2){const Z=I[V],Y=I[V+1],se=V+3,he=V+4;if(typeof Z!="number")return f.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',se);if(O.length&&O[O.length-1][0]>=Z)return f.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',se);const ve=f.parse(Y,he,N);if(!ve)return null;N=N||ve.type,O.push([Z,ve])}return lt(N,Pt)||lt(N,Xr)||lt(N,kn)||lt(N,Ue)||lt(N,oe(Pt))?new Zi(N,m,B,E,O):f.error(`Type ${Ae(N)} is not interpolatable.`)}evaluate(a){const f=this.labels,m=this.outputs;if(f.length===1)return m[0].evaluate(a);const B=this.input.evaluate(a);if(B<=f[0])return m[0].evaluate(a);const E=f.length;if(B>=f[E-1])return m[E-1].evaluate(a);const I=eu(f,B),O=Zi.interpolationFactor(this.interpolation,B,f[I],f[I+1]),N=m[I].evaluate(a),V=m[I+1].evaluate(a);switch(this.operator){case"interpolate":return la[this.type.kind](N,V,O);case"interpolate-hcl":return la.color(N,V,O,"hcl");case"interpolate-lab":return la.color(N,V,O,"lab")}}eachChild(a){a(this.input);for(const f of this.outputs)a(f)}outputDefined(){return this.outputs.every((a=>a.outputDefined()))}}function jr(u,a,f,m){const B=m-f,E=u-f;return B===0?0:a===1?E/B:(Math.pow(a,E)-1)/(Math.pow(a,B)-1)}class tu{constructor(a,f){this.type=a,this.args=f}static parse(a,f){if(a.length<2)return f.error("Expectected at least one argument.");let m=null;const B=f.expectedType;B&&B.kind!=="value"&&(m=B);const E=[];for(const O of a.slice(1)){const N=f.parse(O,1+E.length,m,void 0,{typeAnnotation:"omit"});if(!N)return null;m=m||N.type,E.push(N)}if(!m)throw new Error("No output type");const I=B&&E.some((O=>Re(B,O.type)));return new tu(I?sr:m,E)}evaluate(a){let f,m=null,B=0;for(const E of this.args)if(B++,m=E.evaluate(a),m&&m instanceof ka&&!m.available&&(f||(f=m.name),m=null,B===this.args.length&&(m=f)),m!==null)break;return m}eachChild(a){this.args.forEach(a)}outputDefined(){return this.args.every((a=>a.outputDefined()))}}function gA(u,a){return u==="=="||u==="!="?a.kind==="boolean"||a.kind==="string"||a.kind==="number"||a.kind==="null"||a.kind==="value":a.kind==="string"||a.kind==="number"||a.kind==="value"}function uc(u,a,f,m){return m.compare(a,f)===0}function Sa(u,a,f){const m=u!=="=="&&u!=="!=";return class rU{constructor(E,I,O){this.type=Gt,this.lhs=E,this.rhs=I,this.collator=O,this.hasUntypedArgument=E.type.kind==="value"||I.type.kind==="value"}static parse(E,I){if(E.length!==3&&E.length!==4)return I.error("Expected two or three arguments.");const O=E[0];let N=I.parse(E[1],1,sr);if(!N)return null;if(!gA(O,N.type))return I.concat(1).error(`"${O}" comparisons are not supported for type '${Ae(N.type)}'.`);let V=I.parse(E[2],2,sr);if(!V)return null;if(!gA(O,V.type))return I.concat(2).error(`"${O}" comparisons are not supported for type '${Ae(V.type)}'.`);if(N.type.kind!==V.type.kind&&N.type.kind!=="value"&&V.type.kind!=="value")return I.error(`Cannot compare types '${Ae(N.type)}' and '${Ae(V.type)}'.`);m&&(N.type.kind==="value"&&V.type.kind!=="value"?N=new oa(V.type,[N]):N.type.kind!=="value"&&V.type.kind==="value"&&(V=new oa(N.type,[V])));let Z=null;if(E.length===4){if(N.type.kind!=="string"&&V.type.kind!=="string"&&N.type.kind!=="value"&&V.type.kind!=="value")return I.error("Cannot use collator to compare non-string types.");if(Z=I.parse(E[3],3,Ur),!Z)return null}return new rU(N,V,Z)}evaluate(E){const I=this.lhs.evaluate(E),O=this.rhs.evaluate(E);if(m&&this.hasUntypedArgument){const N=Vn(I),V=Vn(O);if(N.kind!==V.kind||N.kind!=="string"&&N.kind!=="number")throw new qr(`Expected arguments for "${u}" to be (string, string) or (number, number), but found (${N.kind}, ${V.kind}) instead.`)}if(this.collator&&!m&&this.hasUntypedArgument){const N=Vn(I),V=Vn(O);if(N.kind!=="string"||V.kind!=="string")return a(E,I,O)}return this.collator?f(E,I,O,this.collator.evaluate(E)):a(E,I,O)}eachChild(E){E(this.lhs),E(this.rhs),this.collator&&E(this.collator)}outputDefined(){return!0}}}const Ra=Sa("==",(function(u,a,f){return a===f}),uc),Tu=Sa("!=",(function(u,a,f){return a!==f}),(function(u,a,f,m){return!uc(0,a,f,m)})),mA=Sa("<",(function(u,a,f){return a<f}),(function(u,a,f,m){return m.compare(a,f)<0})),qs=Sa(">",(function(u,a,f){return a>f}),(function(u,a,f,m){return m.compare(a,f)>0})),ru=Sa("<=",(function(u,a,f){return a<=f}),(function(u,a,f,m){return m.compare(a,f)<=0})),Do=Sa(">=",(function(u,a,f){return a>=f}),(function(u,a,f,m){return m.compare(a,f)>=0}));class yA{constructor(a,f,m){this.type=Ur,this.locale=m,this.caseSensitive=a,this.diacriticSensitive=f}static parse(a,f){if(a.length!==2)return f.error("Expected one argument.");const m=a[1];if(typeof m!="object"||Array.isArray(m))return f.error("Collator options argument must be an object.");const B=f.parse(m["case-sensitive"]!==void 0&&m["case-sensitive"],1,Gt);if(!B)return null;const E=f.parse(m["diacritic-sensitive"]!==void 0&&m["diacritic-sensitive"],1,Gt);if(!E)return null;let I=null;return m.locale&&(I=f.parse(m.locale,1,Zt),!I)?null:new yA(B,E,I)}evaluate(a){return new Ui(this.caseSensitive.evaluate(a),this.diacriticSensitive.evaluate(a),this.locale?this.locale.evaluate(a):null)}eachChild(a){a(this.caseSensitive),a(this.diacriticSensitive),this.locale&&a(this.locale)}outputDefined(){return!1}}class Es{constructor(a,f,m,B,E){this.type=Zt,this.number=a,this.locale=f,this.currency=m,this.minFractionDigits=B,this.maxFractionDigits=E}static parse(a,f){if(a.length!==3)return f.error("Expected two arguments.");const m=f.parse(a[1],1,Pt);if(!m)return null;const B=a[2];if(typeof B!="object"||Array.isArray(B))return f.error("NumberFormat options argument must be an object.");let E=null;if(B.locale&&(E=f.parse(B.locale,1,Zt),!E))return null;let I=null;if(B.currency&&(I=f.parse(B.currency,1,Zt),!I))return null;let O=null;if(B["min-fraction-digits"]&&(O=f.parse(B["min-fraction-digits"],1,Pt),!O))return null;let N=null;return B["max-fraction-digits"]&&(N=f.parse(B["max-fraction-digits"],1,Pt),!N)?null:new Es(m,E,I,O,N)}evaluate(a){return new Intl.NumberFormat(this.locale?this.locale.evaluate(a):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(a):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(a):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(a):void 0}).format(this.number.evaluate(a))}eachChild(a){a(this.number),this.locale&&a(this.locale),this.currency&&a(this.currency),this.minFractionDigits&&a(this.minFractionDigits),this.maxFractionDigits&&a(this.maxFractionDigits)}outputDefined(){return!1}}class jl{constructor(a){this.type=Rr,this.sections=a}static parse(a,f){if(a.length<2)return f.error("Expected at least one argument.");const m=a[1];if(!Array.isArray(m)&&typeof m=="object")return f.error("First argument must be an image or text section.");const B=[];let E=!1;for(let I=1;I<=a.length-1;++I){const O=a[I];if(E&&typeof O=="object"&&!Array.isArray(O)){E=!1;let N=null;if(O["font-scale"]&&(N=f.parse(O["font-scale"],1,Pt),!N))return null;let V=null;if(O["text-font"]&&(V=f.parse(O["text-font"],1,oe(Zt)),!V))return null;let Z=null;if(O["text-color"]&&(Z=f.parse(O["text-color"],1,Xr),!Z))return null;const Y=B[B.length-1];Y.scale=N,Y.font=V,Y.textColor=Z}else{const N=f.parse(a[I],1,sr);if(!N)return null;const V=N.type.kind;if(V!=="string"&&V!=="value"&&V!=="null"&&V!=="resolvedImage")return f.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");E=!0,B.push({content:N,scale:null,font:null,textColor:null})}}return new jl(B)}evaluate(a){return new vi(this.sections.map((f=>{const m=f.content.evaluate(a);return Vn(m)===Gr?new WA("",m,null,null,null):new WA(js(m),null,f.scale?f.scale.evaluate(a):null,f.font?f.font.evaluate(a).join(","):null,f.textColor?f.textColor.evaluate(a):null)})))}eachChild(a){for(const f of this.sections)a(f.content),f.scale&&a(f.scale),f.font&&a(f.font),f.textColor&&a(f.textColor)}outputDefined(){return!1}}class vA{constructor(a){this.type=Gr,this.input=a}static parse(a,f){if(a.length!==2)return f.error("Expected two arguments.");const m=f.parse(a[1],1,Zt);return m?new vA(m):f.error("No image name provided.")}evaluate(a){const f=this.input.evaluate(a),m=ka.fromString(f);return m&&a.availableImages&&(m.available=a.availableImages.indexOf(f)>-1),m}eachChild(a){a(this.input)}outputDefined(){return!1}}class Aa{constructor(a){this.type=Pt,this.input=a}static parse(a,f){if(a.length!==2)return f.error(`Expected 1 argument, but found ${a.length-1} instead.`);const m=f.parse(a[1],1);return m?m.type.kind!=="array"&&m.type.kind!=="string"&&m.type.kind!=="value"?f.error(`Expected argument of type string or array, but found ${Ae(m.type)} instead.`):new Aa(m):null}evaluate(a){const f=this.input.evaluate(a);if(typeof f=="string")return[...f].length;if(Array.isArray(f))return f.length;throw new qr(`Expected value to be of type string or array, but found ${Ae(Vn(f))} instead.`)}eachChild(a){a(this.input)}outputDefined(){return!1}}const pa=8192;function go(u,a){const f=(180+u[0])/360,m=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+u[1]*Math.PI/360)))/360,B=Math.pow(2,a.z);return[Math.round(f*B*pa),Math.round(m*B*pa)]}function ko(u,a){const f=Math.pow(2,a.z);return[(B=(u[0]/pa+a.x)/f,360*B-180),(m=(u[1]/pa+a.y)/f,360/Math.PI*Math.atan(Math.exp((180-360*m)*Math.PI/180))-90)];var m,B}function mo(u,a){u[0]=Math.min(u[0],a[0]),u[1]=Math.min(u[1],a[1]),u[2]=Math.max(u[2],a[0]),u[3]=Math.max(u[3],a[1])}function Ts(u,a){return!(u[0]<=a[0]||u[2]>=a[2]||u[1]<=a[1]||u[3]>=a[3])}function _n(u,a,f){const m=u[0]-a[0],B=u[1]-a[1],E=u[0]-f[0],I=u[1]-f[1];return m*I-E*B==0&&m*E<=0&&B*I<=0}function yo(u,a,f,m){return(B=[m[0]-f[0],m[1]-f[1]])[0]*(E=[a[0]-u[0],a[1]-u[1]])[1]-B[1]*E[0]!=0&&!(!Al(u,a,f,m)||!Al(f,m,u,a));var B,E}function nu(u,a,f){for(const m of f)for(let B=0;B<m.length-1;++B)if(yo(u,a,m[B],m[B+1]))return!0;return!1}function ol(u,a,f=!1){let m=!1;for(const O of a)for(let N=0;N<O.length-1;N++){if(_n(u,O[N],O[N+1]))return f;(E=O[N])[1]>(B=u)[1]!=(I=O[N+1])[1]>B[1]&&B[0]<(I[0]-E[0])*(B[1]-E[1])/(I[1]-E[1])+E[0]&&(m=!m)}var B,E,I;return m}function Kl(u,a){for(const f of a)if(ol(u,f))return!0;return!1}function ll(u,a){for(const f of u)if(!ol(f,a))return!1;for(let f=0;f<u.length-1;++f)if(nu(u[f],u[f+1],a))return!1;return!0}function Nc(u,a){for(const f of a)if(ll(u,f))return!0;return!1}function Al(u,a,f,m){const B=m[0]-f[0],E=m[1]-f[1],I=(u[0]-f[0])*E-B*(u[1]-f[1]),O=(a[0]-f[0])*E-B*(a[1]-f[1]);return I>0&&O<0||I<0&&O>0}function Iu(u,a,f){const m=[];for(let B=0;B<u.length;B++){const E=[];for(let I=0;I<u[B].length;I++){const O=go(u[B][I],f);mo(a,O),E.push(O)}m.push(E)}return m}function j(u,a,f){const m=[];for(let B=0;B<u.length;B++){const E=Iu(u[B],a,f);m.push(E)}return m}function fe(u,a,f,m){if(u[0]<f[0]||u[0]>f[2]){const B=.5*m;let E=u[0]-f[0]>B?-m:f[0]-u[0]>B?m:0;E===0&&(E=u[0]-f[2]>B?-m:f[2]-u[0]>B?m:0),u[0]+=E}mo(a,u)}function ze(u,a,f,m){const B=Math.pow(2,m.z)*pa,E=[m.x*pa,m.y*pa],I=[];for(const O of u)for(const N of O){const V=[N.x+E[0],N.y+E[1]];fe(V,a,f,B),I.push(V)}return I}function rt(u,a,f,m){const B=Math.pow(2,m.z)*pa,E=[m.x*pa,m.y*pa],I=[];for(const N of u){const V=[];for(const Z of N){const Y=[Z.x+E[0],Z.y+E[1]];mo(a,Y),V.push(Y)}I.push(V)}if(a[2]-a[0]<=B/2){(O=a)[0]=O[1]=1/0,O[2]=O[3]=-1/0;for(const N of I)for(const V of N)fe(V,a,f,B)}var O;return I}class ut{constructor(a,f){this.type=Gt,this.geojson=a,this.geometries=f}static parse(a,f){if(a.length!==2)return f.error(`'within' expression requires exactly one argument, but found ${a.length-1} instead.`);if(il(a[1])){const m=a[1];if(m.type==="FeatureCollection"){const B=[];for(const E of m.features){const{type:I,coordinates:O}=E.geometry;I==="Polygon"&&B.push(O),I==="MultiPolygon"&&B.push(...O)}if(B.length)return new ut(m,{type:"MultiPolygon",coordinates:B})}else if(m.type==="Feature"){const B=m.geometry.type;if(B==="Polygon"||B==="MultiPolygon")return new ut(m,m.geometry)}else if(m.type==="Polygon"||m.type==="MultiPolygon")return new ut(m,m)}return f.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(a){if(a.geometry()!=null&&a.canonicalID()!=null){if(a.geometryType()==="Point")return(function(f,m){const B=[1/0,1/0,-1/0,-1/0],E=[1/0,1/0,-1/0,-1/0],I=f.canonicalID();if(m.type==="Polygon"){const O=Iu(m.coordinates,E,I),N=ze(f.geometry(),B,E,I);if(!Ts(B,E))return!1;for(const V of N)if(!ol(V,O))return!1}if(m.type==="MultiPolygon"){const O=j(m.coordinates,E,I),N=ze(f.geometry(),B,E,I);if(!Ts(B,E))return!1;for(const V of N)if(!Kl(V,O))return!1}return!0})(a,this.geometries);if(a.geometryType()==="LineString")return(function(f,m){const B=[1/0,1/0,-1/0,-1/0],E=[1/0,1/0,-1/0,-1/0],I=f.canonicalID();if(m.type==="Polygon"){const O=Iu(m.coordinates,E,I),N=rt(f.geometry(),B,E,I);if(!Ts(B,E))return!1;for(const V of N)if(!ll(V,O))return!1}if(m.type==="MultiPolygon"){const O=j(m.coordinates,E,I),N=rt(f.geometry(),B,E,I);if(!Ts(B,E))return!1;for(const V of N)if(!Nc(V,O))return!1}return!0})(a,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}let Ot=class{constructor(u=[],a=((f,m)=>f<m?-1:f>m?1:0)){if(this.data=u,this.length=this.data.length,this.compare=a,this.length>0)for(let f=(this.length>>1)-1;f>=0;f--)this._down(f)}push(u){this.data.push(u),this._up(this.length++)}pop(){if(this.length===0)return;const u=this.data[0],a=this.data.pop();return--this.length>0&&(this.data[0]=a,this._down(0)),u}peek(){return this.data[0]}_up(u){const{data:a,compare:f}=this,m=a[u];for(;u>0;){const B=u-1>>1,E=a[B];if(f(m,E)>=0)break;a[u]=E,u=B}a[u]=m}_down(u){const{data:a,compare:f}=this,m=this.length>>1,B=a[u];for(;u<m;){let E=1+(u<<1);const I=E+1;if(I<this.length&&f(a[I],a[E])<0&&(E=I),f(a[E],B)>=0)break;a[u]=a[E],u=E}a[u]=B}};function jt(u,a,f,m,B){yr(u,a,f,m||u.length-1,B||tn)}function yr(u,a,f,m,B){for(;m>f;){if(m-f>600){var E=m-f+1,I=a-f+1,O=Math.log(E),N=.5*Math.exp(2*O/3),V=.5*Math.sqrt(O*N*(E-N)/E)*(I-E/2<0?-1:1);yr(u,a,Math.max(f,Math.floor(a-I*N/E+V)),Math.min(m,Math.floor(a+(E-I)*N/E+V)),B)}var Z=u[a],Y=f,se=m;for(br(u,f,a),B(u[m],Z)>0&&br(u,f,m);Y<se;){for(br(u,Y,se),Y++,se--;B(u[Y],Z)<0;)Y++;for(;B(u[se],Z)>0;)se--}B(u[f],Z)===0?br(u,f,se):br(u,++se,m),se<=a&&(f=se+1),a<=se&&(m=se-1)}}function br(u,a,f){var m=u[a];u[a]=u[f],u[f]=m}function tn(u,a){return u<a?-1:u>a?1:0}function An(u,a){if(u.length<=1)return[u];const f=[];let m,B;for(const E of u){const I=Mi(E);I!==0&&(E.area=Math.abs(I),B===void 0&&(B=I<0),B===I<0?(m&&f.push(m),m=[E]):m.push(E))}if(m&&f.push(m),a>1)for(let E=0;E<f.length;E++)f[E].length<=a||(jt(f[E],a,1,f[E].length-1,zn),f[E]=f[E].slice(0,a));return f}function zn(u,a){return a.area-u.area}function Mi(u){let a=0;for(let f,m,B=0,E=u.length,I=E-1;B<E;I=B++)f=u[B],m=u[I],a+=(m.x-f.x)*(f.y+m.y);return a}const zi=1/298.257223563,si=zi*(2-zi),ua=Math.PI/180;class Hi{constructor(a){const f=6378.137*ua*1e3,m=Math.cos(a*ua),B=1/(1-si*(1-m*m)),E=Math.sqrt(B);this.kx=f*E*m,this.ky=f*E*B*(1-si)}distance(a,f){const m=this.wrap(a[0]-f[0])*this.kx,B=(a[1]-f[1])*this.ky;return Math.sqrt(m*m+B*B)}pointOnLine(a,f){let m,B,E,I,O=1/0;for(let N=0;N<a.length-1;N++){let V=a[N][0],Z=a[N][1],Y=this.wrap(a[N+1][0]-V)*this.kx,se=(a[N+1][1]-Z)*this.ky,he=0;Y===0&&se===0||(he=(this.wrap(f[0]-V)*this.kx*Y+(f[1]-Z)*this.ky*se)/(Y*Y+se*se),he>1?(V=a[N+1][0],Z=a[N+1][1]):he>0&&(V+=Y/this.kx*he,Z+=se/this.ky*he)),Y=this.wrap(f[0]-V)*this.kx,se=(f[1]-Z)*this.ky;const ve=Y*Y+se*se;ve<O&&(O=ve,m=V,B=Z,E=N,I=he)}return{point:[m,B],index:E,t:Math.max(0,Math.min(1,I))}}wrap(a){for(;a<-180;)a+=360;for(;a>180;)a-=360;return a}}function Ea(u,a){return a[0]-u[0]}function vo(u){return u[1]-u[0]+1}function ga(u,a){return u[1]>=u[0]&&u[1]<a}function Qo(u,a){if(u[0]>u[1])return[null,null];const f=vo(u);if(a){if(f===2)return[u,null];const B=Math.floor(f/2);return[[u[0],u[0]+B],[u[0]+B,u[1]]]}if(f===1)return[u,null];const m=Math.floor(f/2)-1;return[[u[0],u[0]+m],[u[0]+m+1,u[1]]]}function iu(u,a){if(!ga(a,u.length))return[1/0,1/0,-1/0,-1/0];const f=[1/0,1/0,-1/0,-1/0];for(let m=a[0];m<=a[1];++m)mo(f,u[m]);return f}function _A(u){const a=[1/0,1/0,-1/0,-1/0];for(const f of u)for(const m of f)mo(a,m);return a}function Gs(u){return u[0]!==-1/0&&u[1]!==-1/0&&u[2]!==1/0&&u[3]!==1/0}function $s(u,a,f){if(!Gs(u)||!Gs(a))return NaN;let m=0,B=0;return u[2]<a[0]&&(m=a[0]-u[2]),u[0]>a[2]&&(m=u[0]-a[2]),u[1]>a[3]&&(B=u[1]-a[3]),u[3]<a[1]&&(B=a[1]-u[3]),f.distance([0,0],[m,B])}function Xs(u,a,f){const m=f.pointOnLine(a,u);return f.distance(u,m.point)}function No(u,a,f,m,B){const E=Math.min(Xs(u,[f,m],B),Xs(a,[f,m],B)),I=Math.min(Xs(f,[u,a],B),Xs(m,[u,a],B));return Math.min(E,I)}function Ta(u,a,f,m,B){if(!ga(a,u.length)||!ga(m,f.length))return 1/0;let E=1/0;for(let I=a[0];I<a[1];++I){const O=u[I],N=u[I+1];for(let V=m[0];V<m[1];++V){const Z=f[V],Y=f[V+1];if(yo(O,N,Z,Y))return 0;E=Math.min(E,No(O,N,Z,Y,B))}}return E}function ei(u,a,f,m,B){if(!ga(a,u.length)||!ga(m,f.length))return NaN;let E=1/0;for(let I=a[0];I<=a[1];++I)for(let O=m[0];O<=m[1];++O)if(E=Math.min(E,B.distance(u[I],f[O])),E===0)return E;return E}function bA(u,a,f){if(ol(u,a,!0))return 0;let m=1/0;for(const B of a){const E=B[0],I=B[B.length-1];if(E!==I&&(m=Math.min(m,Xs(u,[I,E],f)),m===0))return m;const O=f.pointOnLine(B,u);if(m=Math.min(m,f.distance(u,O.point)),m===0)return m}return m}function ln(u,a,f,m){if(!ga(a,u.length))return NaN;for(let E=a[0];E<=a[1];++E)if(ol(u[E],f,!0))return 0;let B=1/0;for(let E=a[0];E<a[1];++E){const I=u[E],O=u[E+1];for(const N of f)for(let V=0,Z=N.length,Y=Z-1;V<Z;Y=V++){const se=N[Y],he=N[V];if(yo(I,O,se,he))return 0;B=Math.min(B,No(I,O,se,he,m))}}return B}function Zs(u,a){for(const f of u)for(const m of f)if(ol(m,a,!0))return!0;return!1}function gn(u,a,f,m=1/0){const B=_A(u),E=_A(a);if(m!==1/0&&$s(B,E,f)>=m)return m;if(Ts(B,E)){if(Zs(u,a))return 0}else if(Zs(a,u))return 0;let I=1/0;for(const O of u)for(let N=0,V=O.length,Z=V-1;N<V;Z=N++){const Y=O[Z],se=O[N];for(const he of a)for(let ve=0,xe=he.length,He=xe-1;ve<xe;He=ve++){const Xe=he[He],ht=he[ve];if(yo(Y,se,Xe,ht))return 0;I=Math.min(I,No(Y,se,Xe,ht,f))}}return I}function Tn(u,a,f,m,B,E){if(!E)return;const I=$s(iu(m,E),B,f);I<a&&u.push([I,E,[0,0]])}function _o(u,a,f,m,B,E,I){if(!E||!I)return;const O=$s(iu(m,E),iu(B,I),f);O<a&&u.push([O,E,I])}function Vl(u,a,f,m,B=1/0){let E=Math.min(m.distance(u[0],f[0][0]),B);if(E===0)return E;const I=new Ot([[0,[0,u.length-1],[0,0]]],Ea),O=_A(f);for(;I.length>0;){const N=I.pop();if(N[0]>=E)continue;const V=N[1],Z=a?50:100;if(vo(V)<=Z){if(!ga(V,u.length))return NaN;if(a){const Y=ln(u,V,f,m);if(isNaN(Y)||Y===0)return Y;E=Math.min(E,Y)}else for(let Y=V[0];Y<=V[1];++Y){const se=bA(u[Y],f,m);if(E=Math.min(E,se),E===0)return 0}}else{const Y=Qo(V,a);Tn(I,E,m,u,O,Y[0]),Tn(I,E,m,u,O,Y[1])}}return E}function za(u,a,f,m,B,E=1/0){let I=Math.min(E,B.distance(u[0],f[0]));if(I===0)return I;const O=new Ot([[0,[0,u.length-1],[0,f.length-1]]],Ea);for(;O.length>0;){const N=O.pop();if(N[0]>=I)continue;const V=N[1],Z=N[2],Y=a?50:100,se=m?50:100;if(vo(V)<=Y&&vo(Z)<=se){if(!ga(V,u.length)&&ga(Z,f.length))return NaN;let he;if(a&&m)he=Ta(u,V,f,Z,B),I=Math.min(I,he);else if(a&&!m){const ve=u.slice(V[0],V[1]+1);for(let xe=Z[0];xe<=Z[1];++xe)if(he=Xs(f[xe],ve,B),I=Math.min(I,he),I===0)return I}else if(!a&&m){const ve=f.slice(Z[0],Z[1]+1);for(let xe=V[0];xe<=V[1];++xe)if(he=Xs(u[xe],ve,B),I=Math.min(I,he),I===0)return I}else he=ei(u,V,f,Z,B),I=Math.min(I,he)}else{const he=Qo(V,a),ve=Qo(Z,m);_o(O,I,B,u,f,he[0],ve[0]),_o(O,I,B,u,f,he[0],ve[1]),_o(O,I,B,u,f,he[1],ve[0]),_o(O,I,B,u,f,he[1],ve[1])}}return I}function Ws(u){return u.type==="MultiPolygon"?u.coordinates.map((a=>({type:"Polygon",coordinates:a}))):u.type==="MultiLineString"?u.coordinates.map((a=>({type:"LineString",coordinates:a}))):u.type==="MultiPoint"?u.coordinates.map((a=>({type:"Point",coordinates:a}))):[u]}class ss{constructor(a,f){this.type=Pt,this.geojson=a,this.geometries=f}static parse(a,f){if(a.length!==2)return f.error(`'distance' expression requires exactly one argument, but found ${a.length-1} instead.`);if(il(a[1])){const m=a[1];if(m.type==="FeatureCollection")return new ss(m,m.features.map((B=>Ws(B.geometry))).flat());if(m.type==="Feature")return new ss(m,Ws(m.geometry));if("type"in m&&"coordinates"in m)return new ss(m,Ws(m))}return f.error("'distance' expression requires valid geojson object that contains polygon geometry type.")}evaluate(a){if(a.geometry()!=null&&a.canonicalID()!=null){if(a.geometryType()==="Point")return(function(f,m){const B=f.geometry(),E=B.flat().map((N=>ko([N.x,N.y],f.canonical)));if(B.length===0)return NaN;const I=new Hi(E[0][1]);let O=1/0;for(const N of m){switch(N.type){case"Point":O=Math.min(O,za(E,!1,[N.coordinates],!1,I,O));break;case"LineString":O=Math.min(O,za(E,!1,N.coordinates,!0,I,O));break;case"Polygon":O=Math.min(O,Vl(E,!1,N.coordinates,I,O))}if(O===0)return O}return O})(a,this.geometries);if(a.geometryType()==="LineString")return(function(f,m){const B=f.geometry(),E=B.flat().map((N=>ko([N.x,N.y],f.canonical)));if(B.length===0)return NaN;const I=new Hi(E[0][1]);let O=1/0;for(const N of m){switch(N.type){case"Point":O=Math.min(O,za(E,!0,[N.coordinates],!1,I,O));break;case"LineString":O=Math.min(O,za(E,!0,N.coordinates,!0,I,O));break;case"Polygon":O=Math.min(O,Vl(E,!0,N.coordinates,I,O))}if(O===0)return O}return O})(a,this.geometries);if(a.geometryType()==="Polygon")return(function(f,m){const B=f.geometry();if(B.length===0||B[0].length===0)return NaN;const E=An(B,0).map((N=>N.map((V=>V.map((Z=>ko([Z.x,Z.y],f.canonical))))))),I=new Hi(E[0][0][0][1]);let O=1/0;for(const N of m)for(const V of E){switch(N.type){case"Point":O=Math.min(O,Vl([N.coordinates],!1,V,I,O));break;case"LineString":O=Math.min(O,Vl(N.coordinates,!0,V,I,O));break;case"Polygon":O=Math.min(O,gn(V,N.coordinates,I,O))}if(O===0)return O}return O})(a,this.geometries)}return NaN}eachChild(){}outputDefined(){return!0}}const ul={"==":Ra,"!=":Tu,">":qs,"<":mA,">=":Do,"<=":ru,array:oa,at:YA,boolean:oa,case:Cs,coalesce:tu,collator:yA,format:jl,image:vA,in:Qa,"index-of":sl,interpolate:Zi,"interpolate-hcl":Zi,"interpolate-lab":Zi,length:Aa,let:Ks,literal:Xi,match:JA,number:oa,"number-format":Es,object:oa,slice:Oo,step:Hl,string:oa,"to-boolean":is,"to-color":is,"to-number":is,"to-string":is,var:Un,within:ut,distance:ss};class ji{constructor(a,f,m,B){this.name=a,this.type=f,this._evaluate=m,this.args=B}evaluate(a){return this._evaluate(a,this.args)}eachChild(a){this.args.forEach(a)}outputDefined(){return!1}static parse(a,f){const m=a[0],B=ji.definitions[m];if(!B)return f.error(`Unknown expression "${m}". If you wanted a literal array, use ["literal", [...]].`,0);const E=Array.isArray(B)?B[0]:B.type,I=Array.isArray(B)?[[B[1],B[2]]]:B.overloads,O=I.filter((([V])=>!Array.isArray(V)||V.length===a.length-1));let N=null;for(const[V,Z]of O){N=new ui(f.registry,Is,f.path,null,f.scope);const Y=[];let se=!1;for(let he=1;he<a.length;he++){const ve=a[he],xe=Array.isArray(V)?V[he-1]:V.type,He=N.parse(ve,1+Y.length,xe);if(!He){se=!0;break}Y.push(He)}if(!se)if(Array.isArray(V)&&V.length!==Y.length)N.error(`Expected ${V.length} arguments, but found ${Y.length} instead.`);else{for(let he=0;he<Y.length;he++){const ve=Array.isArray(V)?V[he]:V.type,xe=Y[he];N.concat(he+1).checkSubtype(ve,xe.type)}if(N.errors.length===0)return new ji(m,E,Z,Y)}}if(O.length===1)f.errors.push(...N.errors);else{const V=(O.length?O:I).map((([Y])=>{return se=Y,Array.isArray(se)?`(${se.map(Ae).join(", ")})`:`(${Ae(se.type)}...)`;var se})).join(" | "),Z=[];for(let Y=1;Y<a.length;Y++){const se=f.parse(a[Y],1+Z.length);if(!se)return null;Z.push(Ae(se.type))}f.error(`Expected arguments of type ${V}, but found (${Z.join(", ")}) instead.`)}return null}static register(a,f){ji.definitions=f;for(const m in f)a[m]=ji}}function cl(u,[a,f,m,B]){a=a.evaluate(u),f=f.evaluate(u),m=m.evaluate(u);const E=B?B.evaluate(u):1,I=nl(a,f,m,E);if(I)throw new qr(I);return new wn(a/255,f/255,m/255,E,!1)}function Ga(u,a){return u in a}function Ha(u,a){const f=a[u];return f===void 0?null:f}function $a(u){return{type:u}}function Is(u){if(u instanceof Un)return Is(u.boundExpression);if(u instanceof ji&&u.name==="error"||u instanceof yA||u instanceof ut||u instanceof ss)return!1;const a=u instanceof is||u instanceof oa;let f=!0;return u.eachChild((m=>{f=a?f&&Is(m):f&&m instanceof Xi})),!!f&&Ys(u)&&hl(u,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function Ys(u){if(u instanceof ji&&(u.name==="get"&&u.args.length===1||u.name==="feature-state"||u.name==="has"&&u.args.length===1||u.name==="properties"||u.name==="geometry-type"||u.name==="id"||/^filter-/.test(u.name))||u instanceof ut||u instanceof ss)return!1;let a=!0;return u.eachChild((f=>{a&&!Ys(f)&&(a=!1)})),a}function Ro(u){if(u instanceof ji&&u.name==="feature-state")return!1;let a=!0;return u.eachChild((f=>{a&&!Ro(f)&&(a=!1)})),a}function hl(u,a){if(u instanceof ji&&a.indexOf(u.name)>=0)return!1;let f=!0;return u.eachChild((m=>{f&&!hl(m,a)&&(f=!1)})),f}function Ci(u){return{result:"success",value:u}}function ql(u){return{result:"error",value:u}}function os(u){return u["property-type"]==="data-driven"||u["property-type"]==="cross-faded-data-driven"}function zo(u){return!!u.expression&&u.expression.parameters.indexOf("zoom")>-1}function ma(u){return!!u.expression&&u.expression.interpolated}function dn(u){return u instanceof Number?"number":u instanceof String?"string":u instanceof Boolean?"boolean":Array.isArray(u)?"array":u===null?"null":typeof u}function Gl(u){return typeof u=="object"&&u!==null&&!Array.isArray(u)}function Fu(u){return u}function fl(u,a){const f=a.type==="color",m=u.stops&&typeof u.stops[0][0]=="object",B=m||!(m||u.property!==void 0),E=u.type||(ma(a)?"exponential":"interval");if(f||a.type==="padding"){const Z=f?wn.parse:Li.parse;(u=cr({},u)).stops&&(u.stops=u.stops.map((Y=>[Y[0],Z(Y[1])]))),u.default=Z(u.default?u.default:a.default)}if(u.colorSpace&&(I=u.colorSpace)!=="rgb"&&I!=="hcl"&&I!=="lab")throw new Error(`Unknown color space: "${u.colorSpace}"`);var I;let O,N,V;if(E==="exponential")O=Us;else if(E==="interval")O=dl;else if(E==="categorical"){O=Ho,N=Object.create(null);for(const Z of u.stops)N[Z[0]]=Z[1];V=typeof u.stops[0][0]}else{if(E!=="identity")throw new Error(`Unknown function type "${E}"`);O=pl}if(m){const Z={},Y=[];for(let ve=0;ve<u.stops.length;ve++){const xe=u.stops[ve],He=xe[0].zoom;Z[He]===void 0&&(Z[He]={zoom:He,type:u.type,property:u.property,default:u.default,stops:[]},Y.push(He)),Z[He].stops.push([xe[0].value,xe[1]])}const se=[];for(const ve of Y)se.push([Z[ve].zoom,fl(Z[ve],a)]);const he={name:"linear"};return{kind:"composite",interpolationType:he,interpolationFactor:Zi.interpolationFactor.bind(void 0,he),zoomStops:se.map((ve=>ve[0])),evaluate:({zoom:ve},xe)=>Us({stops:se,base:u.base},a,ve).evaluate(ve,xe)}}if(B){const Z=E==="exponential"?{name:"exponential",base:u.base!==void 0?u.base:1}:null;return{kind:"camera",interpolationType:Z,interpolationFactor:Zi.interpolationFactor.bind(void 0,Z),zoomStops:u.stops.map((Y=>Y[0])),evaluate:({zoom:Y})=>O(u,a,Y,N,V)}}return{kind:"source",evaluate(Z,Y){const se=Y&&Y.properties?Y.properties[u.property]:void 0;return se===void 0?Fs(u.default,a.default):O(u,a,se,N,V)}}}function Fs(u,a,f){return u!==void 0?u:a!==void 0?a:f!==void 0?f:void 0}function Ho(u,a,f,m,B){return Fs(typeof f===B?m[f]:void 0,u.default,a.default)}function dl(u,a,f){if(dn(f)!=="number")return Fs(u.default,a.default);const m=u.stops.length;if(m===1||f<=u.stops[0][0])return u.stops[0][1];if(f>=u.stops[m-1][0])return u.stops[m-1][1];const B=eu(u.stops.map((E=>E[0])),f);return u.stops[B][1]}function Us(u,a,f){const m=u.base!==void 0?u.base:1;if(dn(f)!=="number")return Fs(u.default,a.default);const B=u.stops.length;if(B===1||f<=u.stops[0][0])return u.stops[0][1];if(f>=u.stops[B-1][0])return u.stops[B-1][1];const E=eu(u.stops.map((Z=>Z[0])),f),I=(function(Z,Y,se,he){const ve=he-se,xe=Z-se;return ve===0?0:Y===1?xe/ve:(Math.pow(Y,xe)-1)/(Math.pow(Y,ve)-1)})(f,m,u.stops[E][0],u.stops[E+1][0]),O=u.stops[E][1],N=u.stops[E+1][1],V=la[a.type]||Fu;return typeof O.evaluate=="function"?{evaluate(...Z){const Y=O.evaluate.apply(void 0,Z),se=N.evaluate.apply(void 0,Z);if(Y!==void 0&&se!==void 0)return V(Y,se,I,u.colorSpace)}}:V(O,N,I,u.colorSpace)}function pl(u,a,f){switch(a.type){case"color":f=wn.parse(f);break;case"formatted":f=vi.fromString(f.toString());break;case"resolvedImage":f=ka.fromString(f.toString());break;case"padding":f=Li.parse(f);break;default:dn(f)===a.type||a.type==="enum"&&a.values[f]||(f=void 0)}return Fs(f,u.default,a.default)}ji.register(ul,{error:[{kind:"error"},[Zt],(u,[a])=>{throw new qr(a.evaluate(u))}],typeof:[Zt,[sr],(u,[a])=>Ae(Vn(a.evaluate(u)))],"to-rgba":[oe(Pt,4),[Xr],(u,[a])=>{const[f,m,B,E]=a.evaluate(u).rgb;return[255*f,255*m,255*B,E]}],rgb:[Xr,[Pt,Pt,Pt],cl],rgba:[Xr,[Pt,Pt,Pt,Pt],cl],has:{type:Gt,overloads:[[[Zt],(u,[a])=>Ga(a.evaluate(u),u.properties())],[[Zt,_r],(u,[a,f])=>Ga(a.evaluate(u),f.evaluate(u))]]},get:{type:sr,overloads:[[[Zt],(u,[a])=>Ha(a.evaluate(u),u.properties())],[[Zt,_r],(u,[a,f])=>Ha(a.evaluate(u),f.evaluate(u))]]},"feature-state":[sr,[Zt],(u,[a])=>Ha(a.evaluate(u),u.featureState||{})],properties:[_r,[],u=>u.properties()],"geometry-type":[Zt,[],u=>u.geometryType()],id:[sr,[],u=>u.id()],zoom:[Pt,[],u=>u.globals.zoom],"heatmap-density":[Pt,[],u=>u.globals.heatmapDensity||0],"line-progress":[Pt,[],u=>u.globals.lineProgress||0],accumulated:[sr,[],u=>u.globals.accumulated===void 0?null:u.globals.accumulated],"+":[Pt,$a(Pt),(u,a)=>{let f=0;for(const m of a)f+=m.evaluate(u);return f}],"*":[Pt,$a(Pt),(u,a)=>{let f=1;for(const m of a)f*=m.evaluate(u);return f}],"-":{type:Pt,overloads:[[[Pt,Pt],(u,[a,f])=>a.evaluate(u)-f.evaluate(u)],[[Pt],(u,[a])=>-a.evaluate(u)]]},"/":[Pt,[Pt,Pt],(u,[a,f])=>a.evaluate(u)/f.evaluate(u)],"%":[Pt,[Pt,Pt],(u,[a,f])=>a.evaluate(u)%f.evaluate(u)],ln2:[Pt,[],()=>Math.LN2],pi:[Pt,[],()=>Math.PI],e:[Pt,[],()=>Math.E],"^":[Pt,[Pt,Pt],(u,[a,f])=>Math.pow(a.evaluate(u),f.evaluate(u))],sqrt:[Pt,[Pt],(u,[a])=>Math.sqrt(a.evaluate(u))],log10:[Pt,[Pt],(u,[a])=>Math.log(a.evaluate(u))/Math.LN10],ln:[Pt,[Pt],(u,[a])=>Math.log(a.evaluate(u))],log2:[Pt,[Pt],(u,[a])=>Math.log(a.evaluate(u))/Math.LN2],sin:[Pt,[Pt],(u,[a])=>Math.sin(a.evaluate(u))],cos:[Pt,[Pt],(u,[a])=>Math.cos(a.evaluate(u))],tan:[Pt,[Pt],(u,[a])=>Math.tan(a.evaluate(u))],asin:[Pt,[Pt],(u,[a])=>Math.asin(a.evaluate(u))],acos:[Pt,[Pt],(u,[a])=>Math.acos(a.evaluate(u))],atan:[Pt,[Pt],(u,[a])=>Math.atan(a.evaluate(u))],min:[Pt,$a(Pt),(u,a)=>Math.min(...a.map((f=>f.evaluate(u))))],max:[Pt,$a(Pt),(u,a)=>Math.max(...a.map((f=>f.evaluate(u))))],abs:[Pt,[Pt],(u,[a])=>Math.abs(a.evaluate(u))],round:[Pt,[Pt],(u,[a])=>{const f=a.evaluate(u);return f<0?-Math.round(-f):Math.round(f)}],floor:[Pt,[Pt],(u,[a])=>Math.floor(a.evaluate(u))],ceil:[Pt,[Pt],(u,[a])=>Math.ceil(a.evaluate(u))],"filter-==":[Gt,[Zt,sr],(u,[a,f])=>u.properties()[a.value]===f.value],"filter-id-==":[Gt,[sr],(u,[a])=>u.id()===a.value],"filter-type-==":[Gt,[Zt],(u,[a])=>u.geometryType()===a.value],"filter-<":[Gt,[Zt,sr],(u,[a,f])=>{const m=u.properties()[a.value],B=f.value;return typeof m==typeof B&&m<B}],"filter-id-<":[Gt,[sr],(u,[a])=>{const f=u.id(),m=a.value;return typeof f==typeof m&&f<m}],"filter->":[Gt,[Zt,sr],(u,[a,f])=>{const m=u.properties()[a.value],B=f.value;return typeof m==typeof B&&m>B}],"filter-id->":[Gt,[sr],(u,[a])=>{const f=u.id(),m=a.value;return typeof f==typeof m&&f>m}],"filter-<=":[Gt,[Zt,sr],(u,[a,f])=>{const m=u.properties()[a.value],B=f.value;return typeof m==typeof B&&m<=B}],"filter-id-<=":[Gt,[sr],(u,[a])=>{const f=u.id(),m=a.value;return typeof f==typeof m&&f<=m}],"filter->=":[Gt,[Zt,sr],(u,[a,f])=>{const m=u.properties()[a.value],B=f.value;return typeof m==typeof B&&m>=B}],"filter-id->=":[Gt,[sr],(u,[a])=>{const f=u.id(),m=a.value;return typeof f==typeof m&&f>=m}],"filter-has":[Gt,[sr],(u,[a])=>a.value in u.properties()],"filter-has-id":[Gt,[],u=>u.id()!==null&&u.id()!==void 0],"filter-type-in":[Gt,[oe(Zt)],(u,[a])=>a.value.indexOf(u.geometryType())>=0],"filter-id-in":[Gt,[oe(sr)],(u,[a])=>a.value.indexOf(u.id())>=0],"filter-in-small":[Gt,[Zt,oe(sr)],(u,[a,f])=>f.value.indexOf(u.properties()[a.value])>=0],"filter-in-large":[Gt,[Zt,oe(sr)],(u,[a,f])=>(function(m,B,E,I){for(;E<=I;){const O=E+I>>1;if(B[O]===m)return!0;B[O]>m?I=O-1:E=O+1}return!1})(u.properties()[a.value],f.value,0,f.value.length-1)],all:{type:Gt,overloads:[[[Gt,Gt],(u,[a,f])=>a.evaluate(u)&&f.evaluate(u)],[$a(Gt),(u,a)=>{for(const f of a)if(!f.evaluate(u))return!1;return!0}]]},any:{type:Gt,overloads:[[[Gt,Gt],(u,[a,f])=>a.evaluate(u)||f.evaluate(u)],[$a(Gt),(u,a)=>{for(const f of a)if(f.evaluate(u))return!0;return!1}]]},"!":[Gt,[Gt],(u,[a])=>!a.evaluate(u)],"is-supported-script":[Gt,[Zt],(u,[a])=>{const f=u.globals&&u.globals.isSupportedScript;return!f||f(a.evaluate(u))}],upcase:[Zt,[Zt],(u,[a])=>a.evaluate(u).toUpperCase()],downcase:[Zt,[Zt],(u,[a])=>a.evaluate(u).toLowerCase()],concat:[Zt,$a(sr),(u,a)=>a.map((f=>js(f.evaluate(u)))).join("")],"resolved-locale":[Zt,[Ur],(u,[a])=>a.evaluate(u).resolvedLocale()]});class ya{constructor(a,f){var m;this.expression=a,this._warningHistory={},this._evaluator=new Ri,this._defaultValue=f?(m=f).type==="color"&&Gl(m.default)?new wn(0,0,0,0):m.type==="color"?wn.parse(m.default)||null:m.type==="padding"?Li.parse(m.default)||null:m.type==="variableAnchorOffsetCollection"?qa.parse(m.default)||null:m.default===void 0?null:m.default:null,this._enumValues=f&&f.type==="enum"?f.values:null}evaluateWithoutErrorHandling(a,f,m,B,E,I){return this._evaluator.globals=a,this._evaluator.feature=f,this._evaluator.featureState=m,this._evaluator.canonical=B,this._evaluator.availableImages=E||null,this._evaluator.formattedSection=I,this.expression.evaluate(this._evaluator)}evaluate(a,f,m,B,E,I){this._evaluator.globals=a,this._evaluator.feature=f||null,this._evaluator.featureState=m||null,this._evaluator.canonical=B,this._evaluator.availableImages=E||null,this._evaluator.formattedSection=I||null;try{const O=this.expression.evaluate(this._evaluator);if(O==null||typeof O=="number"&&O!=O)return this._defaultValue;if(this._enumValues&&!(O in this._enumValues))throw new qr(`Expected value to be one of ${Object.keys(this._enumValues).map((N=>JSON.stringify(N))).join(", ")}, but found ${JSON.stringify(O)} instead.`);return O}catch(O){return this._warningHistory[O.message]||(this._warningHistory[O.message]=!0,typeof console<"u"&&console.warn(O.message)),this._defaultValue}}}function ls(u){return Array.isArray(u)&&u.length>0&&typeof u[0]=="string"&&u[0]in ul}function Ln(u,a){const f=new ui(ul,Is,[],a?(function(B){const E={color:Xr,string:Zt,number:Pt,enum:Zt,boolean:Gt,formatted:Rr,padding:kn,resolvedImage:Gr,variableAnchorOffsetCollection:Ue};return B.type==="array"?oe(E[B.value]||sr,B.length):E[B.type]})(a):void 0),m=f.parse(u,void 0,void 0,void 0,a&&a.type==="string"?{typeAnnotation:"coerce"}:void 0);return m?Ci(new ya(m,a)):ql(f.errors)}class Bn{constructor(a,f){this.kind=a,this._styleExpression=f,this.isStateDependent=a!=="constant"&&!Ro(f.expression)}evaluateWithoutErrorHandling(a,f,m,B,E,I){return this._styleExpression.evaluateWithoutErrorHandling(a,f,m,B,E,I)}evaluate(a,f,m,B,E,I){return this._styleExpression.evaluate(a,f,m,B,E,I)}}class Xn{constructor(a,f,m,B){this.kind=a,this.zoomStops=m,this._styleExpression=f,this.isStateDependent=a!=="camera"&&!Ro(f.expression),this.interpolationType=B}evaluateWithoutErrorHandling(a,f,m,B,E,I){return this._styleExpression.evaluateWithoutErrorHandling(a,f,m,B,E,I)}evaluate(a,f,m,B,E,I){return this._styleExpression.evaluate(a,f,m,B,E,I)}interpolationFactor(a,f,m){return this.interpolationType?Zi.interpolationFactor(this.interpolationType,a,f,m):0}}function Pi(u,a){const f=Ln(u,a);if(f.result==="error")return f;const m=f.value.expression,B=Ys(m);if(!B&&!os(a))return ql([new Pr("","data expressions not supported")]);const E=hl(m,["zoom"]);if(!E&&!zo(a))return ql([new Pr("","zoom expressions not supported")]);const I=us(m);return I||E?I instanceof Pr?ql([I]):I instanceof Zi&&!ma(a)?ql([new Pr("",'"interpolate" expressions cannot be used with this property')]):Ci(I?new Xn(B?"camera":"composite",f.value,I.labels,I instanceof Zi?I.interpolation:void 0):new Bn(B?"constant":"source",f.value)):ql([new Pr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class As{constructor(a,f){this._parameters=a,this._specification=f,cr(this,fl(this._parameters,this._specification))}static deserialize(a){return new As(a._parameters,a._specification)}static serialize(a){return{_parameters:a._parameters,_specification:a._specification}}}function us(u){let a=null;if(u instanceof Ks)a=us(u.result);else if(u instanceof tu){for(const f of u.args)if(a=us(f),a)break}else(u instanceof Hl||u instanceof Zi)&&u.input instanceof ji&&u.input.name==="zoom"&&(a=u);return a instanceof Pr||u.eachChild((f=>{const m=us(f);m instanceof Pr?a=m:!a&&m?a=new Pr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):a&&m&&a!==m&&(a=new Pr("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),a}function gl(u){if(u===!0||u===!1)return!0;if(!Array.isArray(u)||u.length===0)return!1;switch(u[0]){case"has":return u.length>=2&&u[1]!=="$id"&&u[1]!=="$type";case"in":return u.length>=3&&(typeof u[1]!="string"||Array.isArray(u[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return u.length!==3||Array.isArray(u[1])||Array.isArray(u[2]);case"any":case"all":for(const a of u.slice(1))if(!gl(a)&&typeof a!="boolean")return!1;return!0;default:return!0}}const wA={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function cc(u){if(u==null)return{filter:()=>!0,needGeometry:!1};gl(u)||(u=hc(u));const a=Ln(u,wA);if(a.result==="error")throw new Error(a.value.map((f=>`${f.key}: ${f.message}`)).join(", "));return{filter:(f,m,B)=>a.value.evaluate(f,m,{},B),needGeometry:Ch(u)}}function gf(u,a){return u<a?-1:u>a?1:0}function Ch(u){if(!Array.isArray(u))return!1;if(u[0]==="within"||u[0]==="distance")return!0;for(let a=1;a<u.length;a++)if(Ch(u[a]))return!0;return!1}function hc(u){if(!u)return!0;const a=u[0];return u.length<=1?a!=="any":a==="=="?fc(u[1],u[2],"=="):a==="!="?oi(fc(u[1],u[2],"==")):a==="<"||a===">"||a==="<="||a===">="?fc(u[1],u[2],a):a==="any"?(f=u.slice(1),["any"].concat(f.map(hc))):a==="all"?["all"].concat(u.slice(1).map(hc)):a==="none"?["all"].concat(u.slice(1).map(hc).map(oi)):a==="in"?au(u[1],u.slice(2)):a==="!in"?oi(au(u[1],u.slice(2))):a==="has"?jo(u[1]):a!=="!has"||oi(jo(u[1]));var f}function fc(u,a,f){switch(u){case"$type":return[`filter-type-${f}`,a];case"$id":return[`filter-id-${f}`,a];default:return[`filter-${f}`,u,a]}}function au(u,a){if(a.length===0)return!1;switch(u){case"$type":return["filter-type-in",["literal",a]];case"$id":return["filter-id-in",["literal",a]];default:return a.length>200&&!a.some((f=>typeof f!=typeof a[0]))?["filter-in-large",u,["literal",a.sort(gf)]]:["filter-in-small",u,["literal",a]]}}function jo(u){switch(u){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",u]}}function oi(u){return["!",u]}function Ko(u){const a=typeof u;if(a==="number"||a==="boolean"||a==="string"||u==null)return JSON.stringify(u);if(Array.isArray(u)){let B="[";for(const E of u)B+=`${Ko(E)},`;return`${B}]`}const f=Object.keys(u).sort();let m="{";for(let B=0;B<f.length;B++)m+=`${JSON.stringify(f[B])}:${Ko(u[f[B]])},`;return`${m}}`}function Ls(u){let a="";for(const f of Nr)a+=`/${Ko(u[f])}`;return a}function xA(u){const a=u.value;return a?[new Ft(u.key,a,"constants have been deprecated as of v8")]:[]}function _i(u){return u instanceof Number||u instanceof String||u instanceof Boolean?u.valueOf():u}function cs(u){if(Array.isArray(u))return u.map(cs);if(u instanceof Object&&!(u instanceof Number||u instanceof String||u instanceof Boolean)){const a={};for(const f in u)a[f]=cs(u[f]);return a}return _i(u)}function ja(u){const a=u.key,f=u.value,m=u.valueSpec||{},B=u.objectElementValidators||{},E=u.style,I=u.styleSpec,O=u.validateSpec;let N=[];const V=dn(f);if(V!=="object")return[new Ft(a,f,`object expected, ${V} found`)];for(const Z in f){const Y=Z.split(".")[0],se=m[Y]||m["*"];let he;if(B[Y])he=B[Y];else if(m[Y])he=O;else if(B["*"])he=B["*"];else{if(!m["*"]){N.push(new Ft(a,f[Z],`unknown property "${Z}"`));continue}he=O}N=N.concat(he({key:(a&&`${a}.`)+Z,value:f[Z],valueSpec:se,style:E,styleSpec:I,object:f,objectKey:Z,validateSpec:O},f))}for(const Z in m)B[Z]||m[Z].required&&m[Z].default===void 0&&f[Z]===void 0&&N.push(new Ft(a,f,`missing required property "${Z}"`));return N}function BA(u){const a=u.value,f=u.valueSpec,m=u.style,B=u.styleSpec,E=u.key,I=u.arrayElementValidator||u.validateSpec;if(dn(a)!=="array")return[new Ft(E,a,`array expected, ${dn(a)} found`)];if(f.length&&a.length!==f.length)return[new Ft(E,a,`array length ${f.length} expected, length ${a.length} found`)];if(f["min-length"]&&a.length<f["min-length"])return[new Ft(E,a,`array length at least ${f["min-length"]} expected, length ${a.length} found`)];let O={type:f.value,values:f.values};B.$version<7&&(O.function=f.function),dn(f.value)==="object"&&(O=f.value);let N=[];for(let V=0;V<a.length;V++)N=N.concat(I({array:a,arrayIndex:V,value:a[V],valueSpec:O,validateSpec:u.validateSpec,style:m,styleSpec:B,key:`${E}[${V}]`}));return N}function Vo(u){const a=u.key,f=u.value,m=u.valueSpec;let B=dn(f);return B==="number"&&f!=f&&(B="NaN"),B!=="number"?[new Ft(a,f,`number expected, ${B} found`)]:"minimum"in m&&f<m.minimum?[new Ft(a,f,`${f} is less than the minimum value ${m.minimum}`)]:"maximum"in m&&f>m.maximum?[new Ft(a,f,`${f} is greater than the maximum value ${m.maximum}`)]:[]}function CA(u){const a=u.valueSpec,f=_i(u.value.type);let m,B,E,I={};const O=f!=="categorical"&&u.value.property===void 0,N=!O,V=dn(u.value.stops)==="array"&&dn(u.value.stops[0])==="array"&&dn(u.value.stops[0][0])==="object",Z=ja({key:u.key,value:u.value,valueSpec:u.styleSpec.function,validateSpec:u.validateSpec,style:u.style,styleSpec:u.styleSpec,objectElementValidators:{stops:function(he){if(f==="identity")return[new Ft(he.key,he.value,'identity function may not have a "stops" property')];let ve=[];const xe=he.value;return ve=ve.concat(BA({key:he.key,value:xe,valueSpec:he.valueSpec,validateSpec:he.validateSpec,style:he.style,styleSpec:he.styleSpec,arrayElementValidator:Y})),dn(xe)==="array"&&xe.length===0&&ve.push(new Ft(he.key,xe,"array must have at least one stop")),ve},default:function(he){return he.validateSpec({key:he.key,value:he.value,valueSpec:a,validateSpec:he.validateSpec,style:he.style,styleSpec:he.styleSpec})}}});return f==="identity"&&O&&Z.push(new Ft(u.key,u.value,'missing required property "property"')),f==="identity"||u.value.stops||Z.push(new Ft(u.key,u.value,'missing required property "stops"')),f==="exponential"&&u.valueSpec.expression&&!ma(u.valueSpec)&&Z.push(new Ft(u.key,u.value,"exponential functions not supported")),u.styleSpec.$version>=8&&(N&&!os(u.valueSpec)?Z.push(new Ft(u.key,u.value,"property functions not supported")):O&&!zo(u.valueSpec)&&Z.push(new Ft(u.key,u.value,"zoom functions not supported"))),f!=="categorical"&&!V||u.value.property!==void 0||Z.push(new Ft(u.key,u.value,'"property" property is required')),Z;function Y(he){let ve=[];const xe=he.value,He=he.key;if(dn(xe)!=="array")return[new Ft(He,xe,`array expected, ${dn(xe)} found`)];if(xe.length!==2)return[new Ft(He,xe,`array length 2 expected, length ${xe.length} found`)];if(V){if(dn(xe[0])!=="object")return[new Ft(He,xe,`object expected, ${dn(xe[0])} found`)];if(xe[0].zoom===void 0)return[new Ft(He,xe,"object stop key must have zoom")];if(xe[0].value===void 0)return[new Ft(He,xe,"object stop key must have value")];if(E&&E>_i(xe[0].zoom))return[new Ft(He,xe[0].zoom,"stop zoom values must appear in ascending order")];_i(xe[0].zoom)!==E&&(E=_i(xe[0].zoom),B=void 0,I={}),ve=ve.concat(ja({key:`${He}[0]`,value:xe[0],valueSpec:{zoom:{}},validateSpec:he.validateSpec,style:he.style,styleSpec:he.styleSpec,objectElementValidators:{zoom:Vo,value:se}}))}else ve=ve.concat(se({key:`${He}[0]`,value:xe[0],validateSpec:he.validateSpec,style:he.style,styleSpec:he.styleSpec},xe));return ls(cs(xe[1]))?ve.concat([new Ft(`${He}[1]`,xe[1],"expressions are not allowed in function stops.")]):ve.concat(he.validateSpec({key:`${He}[1]`,value:xe[1],valueSpec:a,validateSpec:he.validateSpec,style:he.style,styleSpec:he.styleSpec}))}function se(he,ve){const xe=dn(he.value),He=_i(he.value),Xe=he.value!==null?he.value:ve;if(m){if(xe!==m)return[new Ft(he.key,Xe,`${xe} stop domain type must match previous stop domain type ${m}`)]}else m=xe;if(xe!=="number"&&xe!=="string"&&xe!=="boolean")return[new Ft(he.key,Xe,"stop domain value must be a number, string, or boolean")];if(xe!=="number"&&f!=="categorical"){let ht=`number expected, ${xe} found`;return os(a)&&f===void 0&&(ht+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Ft(he.key,Xe,ht)]}return f!=="categorical"||xe!=="number"||isFinite(He)&&Math.floor(He)===He?f!=="categorical"&&xe==="number"&&B!==void 0&&He<B?[new Ft(he.key,Xe,"stop domain values must appear in ascending order")]:(B=He,f==="categorical"&&He in I?[new Ft(he.key,Xe,"stop domain values must be unique")]:(I[He]=!0,[])):[new Ft(he.key,Xe,`integer expected, found ${He}`)]}}function Wi(u){const a=(u.expressionContext==="property"?Pi:Ln)(cs(u.value),u.valueSpec);if(a.result==="error")return a.value.map((m=>new Ft(`${u.key}${m.key}`,u.value,m.message)));const f=a.value.expression||a.value._styleExpression.expression;if(u.expressionContext==="property"&&u.propertyKey==="text-font"&&!f.outputDefined())return[new Ft(u.key,u.value,`Invalid data expression for "${u.propertyKey}". Output values must be contained as literals within the expression.`)];if(u.expressionContext==="property"&&u.propertyType==="layout"&&!Ro(f))return[new Ft(u.key,u.value,'"feature-state" data expressions are not supported with layout properties.')];if(u.expressionContext==="filter"&&!Ro(f))return[new Ft(u.key,u.value,'"feature-state" data expressions are not supported with filters.')];if(u.expressionContext&&u.expressionContext.indexOf("cluster")===0){if(!hl(f,["zoom","feature-state"]))return[new Ft(u.key,u.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(u.expressionContext==="cluster-initial"&&!Ys(f))return[new Ft(u.key,u.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function bi(u){const a=u.key,f=u.value,m=u.valueSpec,B=[];return Array.isArray(m.values)?m.values.indexOf(_i(f))===-1&&B.push(new Ft(a,f,`expected one of [${m.values.join(", ")}], ${JSON.stringify(f)} found`)):Object.keys(m.values).indexOf(_i(f))===-1&&B.push(new Ft(a,f,`expected one of [${Object.keys(m.values).join(", ")}], ${JSON.stringify(f)} found`)),B}function Uu(u){return gl(cs(u.value))?Wi(cr({},u,{expressionContext:"filter",valueSpec:{value:"boolean"}})):va(u)}function va(u){const a=u.value,f=u.key;if(dn(a)!=="array")return[new Ft(f,a,`array expected, ${dn(a)} found`)];const m=u.styleSpec;let B,E=[];if(a.length<1)return[new Ft(f,a,"filter array must have at least 1 element")];switch(E=E.concat(bi({key:`${f}[0]`,value:a[0],valueSpec:m.filter_operator,style:u.style,styleSpec:u.styleSpec})),_i(a[0])){case"<":case"<=":case">":case">=":a.length>=2&&_i(a[1])==="$type"&&E.push(new Ft(f,a,`"$type" cannot be use with operator "${a[0]}"`));case"==":case"!=":a.length!==3&&E.push(new Ft(f,a,`filter array for operator "${a[0]}" must have 3 elements`));case"in":case"!in":a.length>=2&&(B=dn(a[1]),B!=="string"&&E.push(new Ft(`${f}[1]`,a[1],`string expected, ${B} found`)));for(let I=2;I<a.length;I++)B=dn(a[I]),_i(a[1])==="$type"?E=E.concat(bi({key:`${f}[${I}]`,value:a[I],valueSpec:m.geometry_type,style:u.style,styleSpec:u.styleSpec})):B!=="string"&&B!=="number"&&B!=="boolean"&&E.push(new Ft(`${f}[${I}]`,a[I],`string, number, or boolean expected, ${B} found`));break;case"any":case"all":case"none":for(let I=1;I<a.length;I++)E=E.concat(va({key:`${f}[${I}]`,value:a[I],style:u.style,styleSpec:u.styleSpec}));break;case"has":case"!has":B=dn(a[1]),a.length!==2?E.push(new Ft(f,a,`filter array for "${a[0]}" operator must have 2 elements`)):B!=="string"&&E.push(new Ft(`${f}[1]`,a[1],`string expected, ${B} found`))}return E}function Lu(u,a){const f=u.key,m=u.validateSpec,B=u.style,E=u.styleSpec,I=u.value,O=u.objectKey,N=E[`${a}_${u.layerType}`];if(!N)return[];const V=O.match(/^(.*)-transition$/);if(a==="paint"&&V&&N[V[1]]&&N[V[1]].transition)return m({key:f,value:I,valueSpec:E.transition,style:B,styleSpec:E});const Z=u.valueSpec||N[O];if(!Z)return[new Ft(f,I,`unknown property "${O}"`)];let Y;if(dn(I)==="string"&&os(Z)&&!Z.tokens&&(Y=/^{([^}]+)}$/.exec(I)))return[new Ft(f,I,`"${O}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(Y[1])} }\`.`)];const se=[];return u.layerType==="symbol"&&(O==="text-field"&&B&&!B.glyphs&&se.push(new Ft(f,I,'use of "text-field" requires a style "glyphs" property')),O==="text-font"&&Gl(cs(I))&&_i(I.type)==="identity"&&se.push(new Ft(f,I,'"text-font" does not support identity functions'))),se.concat(m({key:u.key,value:I,valueSpec:Z,style:B,styleSpec:E,expressionContext:"property",propertyType:a,propertyKey:O}))}function hs(u){return Lu(u,"paint")}function su(u){return Lu(u,"layout")}function SA(u){let a=[];const f=u.value,m=u.key,B=u.style,E=u.styleSpec;f.type||f.ref||a.push(new Ft(m,f,'either "type" or "ref" is required'));let I=_i(f.type);const O=_i(f.ref);if(f.id){const N=_i(f.id);for(let V=0;V<u.arrayIndex;V++){const Z=B.layers[V];_i(Z.id)===N&&a.push(new Ft(m,f.id,`duplicate layer id "${f.id}", previously used at line ${Z.id.__line__}`))}}if("ref"in f){let N;["type","source","source-layer","filter","layout"].forEach((V=>{V in f&&a.push(new Ft(m,f[V],`"${V}" is prohibited for ref layers`))})),B.layers.forEach((V=>{_i(V.id)===O&&(N=V)})),N?N.ref?a.push(new Ft(m,f.ref,"ref cannot reference another ref layer")):I=_i(N.type):a.push(new Ft(m,f.ref,`ref layer "${O}" not found`))}else if(I!=="background")if(f.source){const N=B.sources&&B.sources[f.source],V=N&&_i(N.type);N?V==="vector"&&I==="raster"?a.push(new Ft(m,f.source,`layer "${f.id}" requires a raster source`)):V!=="raster-dem"&&I==="hillshade"?a.push(new Ft(m,f.source,`layer "${f.id}" requires a raster-dem source`)):V==="raster"&&I!=="raster"?a.push(new Ft(m,f.source,`layer "${f.id}" requires a vector source`)):V!=="vector"||f["source-layer"]?V==="raster-dem"&&I!=="hillshade"?a.push(new Ft(m,f.source,"raster-dem source can only be used with layer type 'hillshade'.")):I!=="line"||!f.paint||!f.paint["line-gradient"]||V==="geojson"&&N.lineMetrics||a.push(new Ft(m,f,`layer "${f.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):a.push(new Ft(m,f,`layer "${f.id}" must specify a "source-layer"`)):a.push(new Ft(m,f.source,`source "${f.source}" not found`))}else a.push(new Ft(m,f,'missing required property "source"'));return a=a.concat(ja({key:m,value:f,valueSpec:E.layer,style:u.style,styleSpec:u.styleSpec,validateSpec:u.validateSpec,objectElementValidators:{"*":()=>[],type:()=>u.validateSpec({key:`${m}.type`,value:f.type,valueSpec:E.layer.type,style:u.style,styleSpec:u.styleSpec,validateSpec:u.validateSpec,object:f,objectKey:"type"}),filter:Uu,layout:N=>ja({layer:f,key:N.key,value:N.value,style:N.style,styleSpec:N.styleSpec,validateSpec:N.validateSpec,objectElementValidators:{"*":V=>su(cr({layerType:I},V))}}),paint:N=>ja({layer:f,key:N.key,value:N.value,style:N.style,styleSpec:N.styleSpec,validateSpec:N.validateSpec,objectElementValidators:{"*":V=>hs(cr({layerType:I},V))}})}})),a}function Ms(u){const a=u.value,f=u.key,m=dn(a);return m!=="string"?[new Ft(f,a,`string expected, ${m} found`)]:[]}const EA={promoteId:function({key:u,value:a}){if(dn(a)==="string")return Ms({key:u,value:a});{const f=[];for(const m in a)f.push(...Ms({key:`${u}.${m}`,value:a[m]}));return f}}};function TA(u){const a=u.value,f=u.key,m=u.styleSpec,B=u.style,E=u.validateSpec;if(!a.type)return[new Ft(f,a,'"type" is required')];const I=_i(a.type);let O;switch(I){case"vector":case"raster":return O=ja({key:f,value:a,valueSpec:m[`source_${I.replace("-","_")}`],style:u.style,styleSpec:m,objectElementValidators:EA,validateSpec:E}),O;case"raster-dem":return O=(function(N){var V;const Z=(V=N.sourceName)!==null&&V!==void 0?V:"",Y=N.value,se=N.styleSpec,he=se.source_raster_dem,ve=N.style;let xe=[];const He=dn(Y);if(Y===void 0)return xe;if(He!=="object")return xe.push(new Ft("source_raster_dem",Y,`object expected, ${He} found`)),xe;const Xe=_i(Y.encoding)==="custom",ht=["redFactor","greenFactor","blueFactor","baseShift"],nt=N.value.encoding?`"${N.value.encoding}"`:"Default";for(const At in Y)!Xe&&ht.includes(At)?xe.push(new Ft(At,Y[At],`In "${Z}": "${At}" is only valid when "encoding" is set to "custom". ${nt} encoding found`)):he[At]?xe=xe.concat(N.validateSpec({key:At,value:Y[At],valueSpec:he[At],validateSpec:N.validateSpec,style:ve,styleSpec:se})):xe.push(new Ft(At,Y[At],`unknown property "${At}"`));return xe})({sourceName:f,value:a,style:u.style,styleSpec:m,validateSpec:E}),O;case"geojson":if(O=ja({key:f,value:a,valueSpec:m.source_geojson,style:B,styleSpec:m,validateSpec:E,objectElementValidators:EA}),a.cluster)for(const N in a.clusterProperties){const[V,Z]=a.clusterProperties[N],Y=typeof V=="string"?[V,["accumulated"],["get",N]]:V;O.push(...Wi({key:`${f}.${N}.map`,value:Z,expressionContext:"cluster-map"})),O.push(...Wi({key:`${f}.${N}.reduce`,value:Y,expressionContext:"cluster-reduce"}))}return O;case"video":return ja({key:f,value:a,valueSpec:m.source_video,style:B,validateSpec:E,styleSpec:m});case"image":return ja({key:f,value:a,valueSpec:m.source_image,style:B,validateSpec:E,styleSpec:m});case"canvas":return[new Ft(f,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return bi({key:`${f}.type`,value:a.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]}})}}function IA(u){const a=u.value,f=u.styleSpec,m=f.light,B=u.style;let E=[];const I=dn(a);if(a===void 0)return E;if(I!=="object")return E=E.concat([new Ft("light",a,`object expected, ${I} found`)]),E;for(const O in a){const N=O.match(/^(.*)-transition$/);E=E.concat(N&&m[N[1]]&&m[N[1]].transition?u.validateSpec({key:O,value:a[O],valueSpec:f.transition,validateSpec:u.validateSpec,style:B,styleSpec:f}):m[O]?u.validateSpec({key:O,value:a[O],valueSpec:m[O],validateSpec:u.validateSpec,style:B,styleSpec:f}):[new Ft(O,a[O],`unknown property "${O}"`)])}return E}function Mu(u){const a=u.value,f=u.styleSpec,m=f.sky,B=u.style,E=dn(a);if(a===void 0)return[];if(E!=="object")return[new Ft("sky",a,`object expected, ${E} found`)];let I=[];for(const O in a)I=I.concat(m[O]?u.validateSpec({key:O,value:a[O],valueSpec:m[O],style:B,styleSpec:f}):[new Ft(O,a[O],`unknown property "${O}"`)]);return I}function Ps(u){const a=u.value,f=u.styleSpec,m=f.terrain,B=u.style;let E=[];const I=dn(a);if(a===void 0)return E;if(I!=="object")return E=E.concat([new Ft("terrain",a,`object expected, ${I} found`)]),E;for(const O in a)E=E.concat(m[O]?u.validateSpec({key:O,value:a[O],valueSpec:m[O],validateSpec:u.validateSpec,style:B,styleSpec:f}):[new Ft(O,a[O],`unknown property "${O}"`)]);return E}function FA(u){let a=[];const f=u.value,m=u.key;if(Array.isArray(f)){const B=[],E=[];for(const I in f)f[I].id&&B.includes(f[I].id)&&a.push(new Ft(m,f,`all the sprites' ids must be unique, but ${f[I].id} is duplicated`)),B.push(f[I].id),f[I].url&&E.includes(f[I].url)&&a.push(new Ft(m,f,`all the sprites' URLs must be unique, but ${f[I].url} is duplicated`)),E.push(f[I].url),a=a.concat(ja({key:`${m}[${I}]`,value:f[I],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:u.validateSpec}));return a}return Ms({key:m,value:f})}const ml={"*":()=>[],array:BA,boolean:function(u){const a=u.value,f=u.key,m=dn(a);return m!=="boolean"?[new Ft(f,a,`boolean expected, ${m} found`)]:[]},number:Vo,color:function(u){const a=u.key,f=u.value,m=dn(f);return m!=="string"?[new Ft(a,f,`color expected, ${m} found`)]:wn.parse(String(f))?[]:[new Ft(a,f,`color expected, "${f}" found`)]},constants:xA,enum:bi,filter:Uu,function:CA,layer:SA,object:ja,source:TA,light:IA,sky:Mu,terrain:Ps,projection:function(u){const a=u.value,f=u.styleSpec,m=f.projection,B=u.style,E=dn(a);if(a===void 0)return[];if(E!=="object")return[new Ft("projection",a,`object expected, ${E} found`)];let I=[];for(const O in a)I=I.concat(m[O]?u.validateSpec({key:O,value:a[O],valueSpec:m[O],style:B,styleSpec:f}):[new Ft(O,a[O],`unknown property "${O}"`)]);return I},string:Ms,formatted:function(u){return Ms(u).length===0?[]:Wi(u)},resolvedImage:function(u){return Ms(u).length===0?[]:Wi(u)},padding:function(u){const a=u.key,f=u.value;if(dn(f)==="array"){if(f.length<1||f.length>4)return[new Ft(a,f,`padding requires 1 to 4 values; ${f.length} values found`)];const m={type:"number"};let B=[];for(let E=0;E<f.length;E++)B=B.concat(u.validateSpec({key:`${a}[${E}]`,value:f[E],validateSpec:u.validateSpec,valueSpec:m}));return B}return Vo({key:a,value:f,valueSpec:{}})},variableAnchorOffsetCollection:function(u){const a=u.key,f=u.value,m=dn(f),B=u.styleSpec;if(m!=="array"||f.length<1||f.length%2!=0)return[new Ft(a,f,"variableAnchorOffsetCollection requires a non-empty array of even length")];let E=[];for(let I=0;I<f.length;I+=2)E=E.concat(bi({key:`${a}[${I}]`,value:f[I],valueSpec:B.layout_symbol["text-anchor"]})),E=E.concat(BA({key:`${a}[${I+1}]`,value:f[I+1],valueSpec:{length:2,value:"number"},validateSpec:u.validateSpec,style:u.style,styleSpec:B}));return E},sprite:FA};function UA(u){const a=u.value,f=u.valueSpec,m=u.styleSpec;return u.validateSpec=UA,f.expression&&Gl(_i(a))?CA(u):f.expression&&ls(cs(a))?Wi(u):f.type&&ml[f.type]?ml[f.type](u):ja(cr({},u,{valueSpec:f.type?m[f.type]:f}))}function Pu(u){const a=u.value,f=u.key,m=Ms(u);return m.length||(a.indexOf("{fontstack}")===-1&&m.push(new Ft(f,a,'"glyphs" url must include a "{fontstack}" token')),a.indexOf("{range}")===-1&&m.push(new Ft(f,a,'"glyphs" url must include a "{range}" token'))),m}function Oi(u,a=Ye){let f=[];return f=f.concat(UA({key:"",value:u,valueSpec:a.$root,styleSpec:a,style:u,validateSpec:UA,objectElementValidators:{glyphs:Pu,"*":()=>[]}})),u.constants&&(f=f.concat(xA({key:"constants",value:u.constants}))),yl(f)}function Yi(u){return function(a){return u({...a,validateSpec:UA})}}function yl(u){return[].concat(u).sort(((a,f)=>a.line-f.line))}function Ki(u){return function(...a){return yl(u.apply(this,a))}}Oi.source=Ki(Yi(TA)),Oi.sprite=Ki(Yi(FA)),Oi.glyphs=Ki(Yi(Pu)),Oi.light=Ki(Yi(IA)),Oi.sky=Ki(Yi(Mu)),Oi.terrain=Ki(Yi(Ps)),Oi.layer=Ki(Yi(SA)),Oi.filter=Ki(Yi(Uu)),Oi.paintProperty=Ki(Yi(hs)),Oi.layoutProperty=Ki(Yi(su));const Ia=Oi,Js=Ia.light,mf=Ia.sky,Rc=Ia.paintProperty,dc=Ia.layoutProperty;function zc(u,a){let f=!1;if(a&&a.length)for(const m of a)u.fire(new Xt(new Error(m.message))),f=!0;return f}class Vi{constructor(a,f,m){const B=this.cells=[];if(a instanceof ArrayBuffer){this.arrayBuffer=a;const I=new Int32Array(this.arrayBuffer);a=I[0],this.d=(f=I[1])+2*(m=I[2]);for(let N=0;N<this.d*this.d;N++){const V=I[3+N],Z=I[3+N+1];B.push(V===Z?null:I.subarray(V,Z))}const O=I[3+B.length+1];this.keys=I.subarray(I[3+B.length],O),this.bboxes=I.subarray(O),this.insert=this._insertReadonly}else{this.d=f+2*m;for(let I=0;I<this.d*this.d;I++)B.push([]);this.keys=[],this.bboxes=[]}this.n=f,this.extent=a,this.padding=m,this.scale=f/a,this.uid=0;const E=m/f*a;this.min=-E,this.max=a+E}insert(a,f,m,B,E){this._forEachCell(f,m,B,E,this._insertCell,this.uid++,void 0,void 0),this.keys.push(a),this.bboxes.push(f),this.bboxes.push(m),this.bboxes.push(B),this.bboxes.push(E)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(a,f,m,B,E,I){this.cells[E].push(I)}query(a,f,m,B,E){const I=this.min,O=this.max;if(a<=I&&f<=I&&O<=m&&O<=B&&!E)return Array.prototype.slice.call(this.keys);{const N=[];return this._forEachCell(a,f,m,B,this._queryCell,N,{},E),N}}_queryCell(a,f,m,B,E,I,O,N){const V=this.cells[E];if(V!==null){const Z=this.keys,Y=this.bboxes;for(let se=0;se<V.length;se++){const he=V[se];if(O[he]===void 0){const ve=4*he;(N?N(Y[ve+0],Y[ve+1],Y[ve+2],Y[ve+3]):a<=Y[ve+2]&&f<=Y[ve+3]&&m>=Y[ve+0]&&B>=Y[ve+1])?(O[he]=!0,I.push(Z[he])):O[he]=!1}}}}_forEachCell(a,f,m,B,E,I,O,N){const V=this._convertToCellCoord(a),Z=this._convertToCellCoord(f),Y=this._convertToCellCoord(m),se=this._convertToCellCoord(B);for(let he=V;he<=Y;he++)for(let ve=Z;ve<=se;ve++){const xe=this.d*ve+he;if((!N||N(this._convertFromCellCoord(he),this._convertFromCellCoord(ve),this._convertFromCellCoord(he+1),this._convertFromCellCoord(ve+1)))&&E.call(this,a,f,m,B,xe,I,O,N))return}}_convertFromCellCoord(a){return(a-this.padding)/this.scale}_convertToCellCoord(a){return Math.max(0,Math.min(this.d-1,Math.floor(a*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const a=this.cells,f=3+this.cells.length+1+1;let m=0;for(let I=0;I<this.cells.length;I++)m+=this.cells[I].length;const B=new Int32Array(f+m+this.keys.length+this.bboxes.length);B[0]=this.extent,B[1]=this.n,B[2]=this.padding;let E=f;for(let I=0;I<a.length;I++){const O=a[I];B[3+I]=E,B.set(O,E),E+=O.length}return B[3+a.length]=E,B.set(this.keys,E),E+=this.keys.length,B[3+a.length+1]=E,B.set(this.bboxes,E),E+=this.bboxes.length,B.buffer}static serialize(a,f){const m=a.toArrayBuffer();return f&&f.push(m),{buffer:m}}static deserialize(a){return new Vi(a.buffer)}}const Mn={};function Rt(u,a,f={}){if(Mn[u])throw new Error(`${u} is already registered.`);Object.defineProperty(a,"_classRegistryKey",{value:u,writeable:!1}),Mn[u]={klass:a,omit:f.omit||[],shallow:f.shallow||[]}}Rt("Object",Object),Rt("TransferableGridIndex",Vi),Rt("Color",wn),Rt("Error",Error),Rt("AJAXError",et),Rt("ResolvedImage",ka),Rt("StylePropertyFunction",As),Rt("StyleExpression",ya,{omit:["_evaluator"]}),Rt("ZoomDependentExpression",Xn),Rt("ZoomConstantExpression",Bn),Rt("CompoundExpression",ji,{omit:["_evaluate"]});for(const u in ul)ul[u]._classRegistryKey||Rt(`Expression_${u}`,ul[u]);function Fa(u){return u&&typeof ArrayBuffer<"u"&&(u instanceof ArrayBuffer||u.constructor&&u.constructor.name==="ArrayBuffer")}function Si(u){return u.$name||u.constructor._classRegistryKey}function bo(u){return!(function(a){if(a===null||typeof a!="object")return!1;const f=Si(a);return!(!f||f==="Object")})(u)&&(u==null||typeof u=="boolean"||typeof u=="number"||typeof u=="string"||u instanceof Boolean||u instanceof Number||u instanceof String||u instanceof Date||u instanceof RegExp||u instanceof Blob||u instanceof Error||Fa(u)||ke(u)||ArrayBuffer.isView(u)||u instanceof ImageData)}function eo(u,a){if(bo(u))return(Fa(u)||ke(u))&&a&&a.push(u),ArrayBuffer.isView(u)&&a&&a.push(u.buffer),u instanceof ImageData&&a&&a.push(u.data.buffer),u;if(Array.isArray(u)){const E=[];for(const I of u)E.push(eo(I,a));return E}if(typeof u!="object")throw new Error("can't serialize object of type "+typeof u);const f=Si(u);if(!f)throw new Error(`can't serialize object of unregistered class ${u.constructor.name}`);if(!Mn[f])throw new Error(`${f} is not registered.`);const{klass:m}=Mn[f],B=m.serialize?m.serialize(u,a):{};if(m.serialize){if(a&&B===a[a.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const E in u){if(!u.hasOwnProperty(E)||Mn[f].omit.indexOf(E)>=0)continue;const I=u[E];B[E]=Mn[f].shallow.indexOf(E)>=0?I:eo(I,a)}u instanceof Error&&(B.message=u.message)}if(B.$name)throw new Error("$name property is reserved for worker serialization logic.");return f!=="Object"&&(B.$name=f),B}function LA(u){if(bo(u))return u;if(Array.isArray(u))return u.map(LA);if(typeof u!="object")throw new Error("can't deserialize object of type "+typeof u);const a=Si(u)||"Object";if(!Mn[a])throw new Error(`can't deserialize unregistered class ${a}`);const{klass:f}=Mn[a];if(!f)throw new Error(`can't deserialize unregistered class ${a}`);if(f.deserialize)return f.deserialize(u);const m=Object.create(f.prototype);for(const B of Object.keys(u)){if(B==="$name")continue;const E=u[B];m[B]=Mn[a].shallow.indexOf(B)>=0?E:LA(E)}return m}class qo{constructor(){this.first=!0}update(a,f){const m=Math.floor(a);return this.first?(this.first=!1,this.lastIntegerZoom=m,this.lastIntegerZoomTime=0,this.lastZoom=a,this.lastFloorZoom=m,!0):(this.lastFloorZoom>m?(this.lastIntegerZoom=m+1,this.lastIntegerZoomTime=f):this.lastFloorZoom<m&&(this.lastIntegerZoom=m,this.lastIntegerZoomTime=f),a!==this.lastZoom&&(this.lastZoom=a,this.lastFloorZoom=m,!0))}}const Hr={"Latin-1 Supplement":u=>u>=128&&u<=255,"Hangul Jamo":u=>u>=4352&&u<=4607,Khmer:u=>u>=6016&&u<=6143,"General Punctuation":u=>u>=8192&&u<=8303,"Letterlike Symbols":u=>u>=8448&&u<=8527,"Number Forms":u=>u>=8528&&u<=8591,"Miscellaneous Technical":u=>u>=8960&&u<=9215,"Control Pictures":u=>u>=9216&&u<=9279,"Optical Character Recognition":u=>u>=9280&&u<=9311,"Enclosed Alphanumerics":u=>u>=9312&&u<=9471,"Geometric Shapes":u=>u>=9632&&u<=9727,"Miscellaneous Symbols":u=>u>=9728&&u<=9983,"Miscellaneous Symbols and Arrows":u=>u>=11008&&u<=11263,"Ideographic Description Characters":u=>u>=12272&&u<=12287,"CJK Symbols and Punctuation":u=>u>=12288&&u<=12351,Katakana:u=>u>=12448&&u<=12543,Kanbun:u=>u>=12688&&u<=12703,"CJK Strokes":u=>u>=12736&&u<=12783,"Enclosed CJK Letters and Months":u=>u>=12800&&u<=13055,"CJK Compatibility":u=>u>=13056&&u<=13311,"Yijing Hexagram Symbols":u=>u>=19904&&u<=19967,"Private Use Area":u=>u>=57344&&u<=63743,"Vertical Forms":u=>u>=65040&&u<=65055,"CJK Compatibility Forms":u=>u>=65072&&u<=65103,"Small Form Variants":u=>u>=65104&&u<=65135,"Halfwidth and Fullwidth Forms":u=>u>=65280&&u<=65519};function $l(u){for(const a of u)if(vl(a.charCodeAt(0)))return!0;return!1}function Sh(u){for(const a of u)if(!to(a.charCodeAt(0)))return!1;return!0}function MA(u){const a=u.map((f=>{try{return new RegExp(`\\p{sc=${f}}`,"u").source}catch{return null}})).filter((f=>f));return new RegExp(a.join("|"),"u")}const Hc=MA(["Arab","Dupl","Mong","Ougr","Syrc"]);function to(u){return!Hc.test(String.fromCodePoint(u))}const Go=MA(["Bopo","Hani","Hira","Kana","Kits","Nshu","Tang","Yiii"]);function vl(u){return!(u!==746&&u!==747&&(u<4352||!(Hr["CJK Compatibility Forms"](u)&&!(u>=65097&&u<=65103)||Hr["CJK Compatibility"](u)||Hr["CJK Strokes"](u)||!(!Hr["CJK Symbols and Punctuation"](u)||u>=12296&&u<=12305||u>=12308&&u<=12319||u===12336)||Hr["Enclosed CJK Letters and Months"](u)||Hr["Ideographic Description Characters"](u)||Hr.Kanbun(u)||Hr.Katakana(u)&&u!==12540||!(!Hr["Halfwidth and Fullwidth Forms"](u)||u===65288||u===65289||u===65293||u>=65306&&u<=65310||u===65339||u===65341||u===65343||u>=65371&&u<=65503||u===65507||u>=65512&&u<=65519)||!(!Hr["Small Form Variants"](u)||u>=65112&&u<=65118||u>=65123&&u<=65126)||Hr["Vertical Forms"](u)||Hr["Yijing Hexagram Symbols"](u)||new RegExp("\\p{sc=Cans}","u").test(String.fromCodePoint(u))||new RegExp("\\p{sc=Hang}","u").test(String.fromCodePoint(u))||Go.test(String.fromCodePoint(u)))))}function ro(u){return!(vl(u)||(function(a){return!!(Hr["Latin-1 Supplement"](a)&&(a===167||a===169||a===174||a===177||a===188||a===189||a===190||a===215||a===247)||Hr["General Punctuation"](a)&&(a===8214||a===8224||a===8225||a===8240||a===8241||a===8251||a===8252||a===8258||a===8263||a===8264||a===8265||a===8273)||Hr["Letterlike Symbols"](a)||Hr["Number Forms"](a)||Hr["Miscellaneous Technical"](a)&&(a>=8960&&a<=8967||a>=8972&&a<=8991||a>=8996&&a<=9e3||a===9003||a>=9085&&a<=9114||a>=9150&&a<=9165||a===9167||a>=9169&&a<=9179||a>=9186&&a<=9215)||Hr["Control Pictures"](a)&&a!==9251||Hr["Optical Character Recognition"](a)||Hr["Enclosed Alphanumerics"](a)||Hr["Geometric Shapes"](a)||Hr["Miscellaneous Symbols"](a)&&!(a>=9754&&a<=9759)||Hr["Miscellaneous Symbols and Arrows"](a)&&(a>=11026&&a<=11055||a>=11088&&a<=11097||a>=11192&&a<=11243)||Hr["CJK Symbols and Punctuation"](a)||Hr.Katakana(a)||Hr["Private Use Area"](a)||Hr["CJK Compatibility Forms"](a)||Hr["Small Form Variants"](a)||Hr["Halfwidth and Fullwidth Forms"](a)||a===8734||a===8756||a===8757||a>=9984&&a<=10087||a>=10102&&a<=10131||a===65532||a===65533)})(u))}const Ou=MA(["Adlm","Arab","Armi","Avst","Chrs","Cprt","Egyp","Elym","Gara","Hatr","Hebr","Hung","Khar","Lydi","Mand","Mani","Mend","Merc","Mero","Narb","Nbat","Nkoo","Orkh","Palm","Phli","Phlp","Phnx","Prti","Rohg","Samr","Sarb","Sogo","Syrc","Thaa","Todr","Yezi"]);function Xl(u){return Ou.test(String.fromCodePoint(u))}function PA(u,a){return!(!a&&Xl(u)||u>=2304&&u<=3583||u>=3840&&u<=4255||Hr.Khmer(u))}function jc(u){for(const a of u)if(Xl(a.charCodeAt(0)))return!0;return!1}const ca=new class{constructor(){this.applyArabicShaping=null,this.processBidirectionalText=null,this.processStyledBidirectionalText=null,this.pluginStatus="unavailable",this.pluginURL=null}setState(u){this.pluginStatus=u.pluginStatus,this.pluginURL=u.pluginURL}getState(){return{pluginStatus:this.pluginStatus,pluginURL:this.pluginURL}}setMethods(u){this.applyArabicShaping=u.applyArabicShaping,this.processBidirectionalText=u.processBidirectionalText,this.processStyledBidirectionalText=u.processStyledBidirectionalText}isParsed(){return this.applyArabicShaping!=null&&this.processBidirectionalText!=null&&this.processStyledBidirectionalText!=null}getPluginURL(){return this.pluginURL}getRTLTextPluginStatus(){return this.pluginStatus}};class pn{constructor(a,f){this.zoom=a,f?(this.now=f.now,this.fadeDuration=f.fadeDuration,this.zoomHistory=f.zoomHistory,this.transition=f.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new qo,this.transition={})}isSupportedScript(a){return(function(f,m){for(const B of f)if(!PA(B.charCodeAt(0),m))return!1;return!0})(a,ca.getRTLTextPluginStatus()==="loaded")}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const a=this.zoom,f=a-Math.floor(a),m=this.crossFadingFactor();return a>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:f+(1-f)*m}:{fromScale:.5,toScale:1,t:1-(1-m)*f}}}class Zl{constructor(a,f){this.property=a,this.value=f,this.expression=(function(m,B){if(Gl(m))return new As(m,B);if(ls(m)){const E=Pi(m,B);if(E.result==="error")throw new Error(E.value.map((I=>`${I.key}: ${I.message}`)).join(", "));return E.value}{let E=m;return B.type==="color"&&typeof m=="string"?E=wn.parse(m):B.type!=="padding"||typeof m!="number"&&!Array.isArray(m)?B.type==="variableAnchorOffsetCollection"&&Array.isArray(m)&&(E=qa.parse(m)):E=Li.parse(m),{kind:"constant",evaluate:()=>E}}})(f===void 0?a.specification.default:f,a.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(a,f,m){return this.property.possiblyEvaluate(this,a,f,m)}}class pc{constructor(a){this.property=a,this.value=new Zl(a,void 0)}transitioned(a,f){return new yf(this.property,this.value,f,Ee({},a.transition,this.transition),a.now)}untransitioned(){return new yf(this.property,this.value,null,{},0)}}class Kc{constructor(a){this._properties=a,this._values=Object.create(a.defaultTransitionablePropertyValues)}getValue(a){return ie(this._values[a].value.value)}setValue(a,f){Object.prototype.hasOwnProperty.call(this._values,a)||(this._values[a]=new pc(this._values[a].property)),this._values[a].value=new Zl(this._values[a].property,f===null?void 0:ie(f))}getTransition(a){return ie(this._values[a].transition)}setTransition(a,f){Object.prototype.hasOwnProperty.call(this._values,a)||(this._values[a]=new pc(this._values[a].property)),this._values[a].transition=ie(f)||void 0}serialize(){const a={};for(const f of Object.keys(this._values)){const m=this.getValue(f);m!==void 0&&(a[f]=m);const B=this.getTransition(f);B!==void 0&&(a[`${f}-transition`]=B)}return a}transitioned(a,f){const m=new gc(this._properties);for(const B of Object.keys(this._values))m._values[B]=this._values[B].transitioned(a,f._values[B]);return m}untransitioned(){const a=new gc(this._properties);for(const f of Object.keys(this._values))a._values[f]=this._values[f].untransitioned();return a}}class yf{constructor(a,f,m,B,E){this.property=a,this.value=f,this.begin=E+B.delay||0,this.end=this.begin+B.duration||0,a.specification.transition&&(B.delay||B.duration)&&(this.prior=m)}possiblyEvaluate(a,f,m){const B=a.now||0,E=this.value.possiblyEvaluate(a,f,m),I=this.prior;if(I){if(B>this.end)return this.prior=null,E;if(this.value.isDataDriven())return this.prior=null,E;if(B<this.begin)return I.possiblyEvaluate(a,f,m);{const O=(B-this.begin)/(this.end-this.begin);return this.property.interpolate(I.possiblyEvaluate(a,f,m),E,(function(N){if(N<=0)return 0;if(N>=1)return 1;const V=N*N,Z=V*N;return 4*(N<.5?Z:3*(N-V)+Z-.75)})(O))}}return E}}class gc{constructor(a){this._properties=a,this._values=Object.create(a.defaultTransitioningPropertyValues)}possiblyEvaluate(a,f,m){const B=new Wl(this._properties);for(const E of Object.keys(this._values))B._values[E]=this._values[E].possiblyEvaluate(a,f,m);return B}hasTransition(){for(const a of Object.keys(this._values))if(this._values[a].prior)return!0;return!1}}class wi{constructor(a){this._properties=a,this._values=Object.create(a.defaultPropertyValues)}hasValue(a){return this._values[a].value!==void 0}getValue(a){return ie(this._values[a].value)}setValue(a,f){this._values[a]=new Zl(this._values[a].property,f===null?void 0:ie(f))}serialize(){const a={};for(const f of Object.keys(this._values)){const m=this.getValue(f);m!==void 0&&(a[f]=m)}return a}possiblyEvaluate(a,f,m){const B=new Wl(this._properties);for(const E of Object.keys(this._values))B._values[E]=this._values[E].possiblyEvaluate(a,f,m);return B}}class fs{constructor(a,f,m){this.property=a,this.value=f,this.parameters=m}isConstant(){return this.value.kind==="constant"}constantOr(a){return this.value.kind==="constant"?this.value.value:a}evaluate(a,f,m,B){return this.property.evaluate(this.value,this.parameters,a,f,m,B)}}class Wl{constructor(a){this._properties=a,this._values=Object.create(a.defaultPossiblyEvaluatedValues)}get(a){return this._values[a]}}class lr{constructor(a){this.specification=a}possiblyEvaluate(a,f){if(a.isDataDriven())throw new Error("Value should not be data driven");return a.expression.evaluate(f)}interpolate(a,f,m){const B=la[this.specification.type];return B?B(a,f,m):a}}class Cr{constructor(a,f){this.specification=a,this.overrides=f}possiblyEvaluate(a,f,m,B){return new fs(this,a.expression.kind==="constant"||a.expression.kind==="camera"?{kind:"constant",value:a.expression.evaluate(f,null,{},m,B)}:a.expression,f)}interpolate(a,f,m){if(a.value.kind!=="constant"||f.value.kind!=="constant")return a;if(a.value.value===void 0||f.value.value===void 0)return new fs(this,{kind:"constant",value:void 0},a.parameters);const B=la[this.specification.type];if(B){const E=B(a.value.value,f.value.value,m);return new fs(this,{kind:"constant",value:E},a.parameters)}return a}evaluate(a,f,m,B,E,I){return a.kind==="constant"?a.value:a.evaluate(f,m,B,E,I)}}class L extends Cr{possiblyEvaluate(a,f,m,B){if(a.value===void 0)return new fs(this,{kind:"constant",value:void 0},f);if(a.expression.kind==="constant"){const E=a.expression.evaluate(f,null,{},m,B),I=a.property.specification.type==="resolvedImage"&&typeof E!="string"?E.name:E,O=this._calculate(I,I,I,f);return new fs(this,{kind:"constant",value:O},f)}if(a.expression.kind==="camera"){const E=this._calculate(a.expression.evaluate({zoom:f.zoom-1}),a.expression.evaluate({zoom:f.zoom}),a.expression.evaluate({zoom:f.zoom+1}),f);return new fs(this,{kind:"constant",value:E},f)}return new fs(this,a.expression,f)}evaluate(a,f,m,B,E,I){if(a.kind==="source"){const O=a.evaluate(f,m,B,E,I);return this._calculate(O,O,O,f)}return a.kind==="composite"?this._calculate(a.evaluate({zoom:Math.floor(f.zoom)-1},m,B),a.evaluate({zoom:Math.floor(f.zoom)},m,B),a.evaluate({zoom:Math.floor(f.zoom)+1},m,B),f):a.value}_calculate(a,f,m,B){return B.zoom>B.zoomHistory.lastIntegerZoom?{from:a,to:f}:{from:m,to:f}}interpolate(a){return a}}class D{constructor(a){this.specification=a}possiblyEvaluate(a,f,m,B){if(a.value!==void 0){if(a.expression.kind==="constant"){const E=a.expression.evaluate(f,null,{},m,B);return this._calculate(E,E,E,f)}return this._calculate(a.expression.evaluate(new pn(Math.floor(f.zoom-1),f)),a.expression.evaluate(new pn(Math.floor(f.zoom),f)),a.expression.evaluate(new pn(Math.floor(f.zoom+1),f)),f)}}_calculate(a,f,m,B){return B.zoom>B.zoomHistory.lastIntegerZoom?{from:a,to:f}:{from:m,to:f}}interpolate(a){return a}}class X{constructor(a){this.specification=a}possiblyEvaluate(a,f,m,B){return!!a.expression.evaluate(f,null,{},m,B)}interpolate(){return!1}}class _{constructor(a){this.properties=a,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const f in a){const m=a[f];m.specification.overridable&&this.overridableProperties.push(f);const B=this.defaultPropertyValues[f]=new Zl(m,void 0),E=this.defaultTransitionablePropertyValues[f]=new pc(m);this.defaultTransitioningPropertyValues[f]=E.untransitioned(),this.defaultPossiblyEvaluatedValues[f]=B.possiblyEvaluate({})}}}Rt("DataDrivenProperty",Cr),Rt("DataConstantProperty",lr),Rt("CrossFadedDataDrivenProperty",L),Rt("CrossFadedProperty",D),Rt("ColorRampProperty",X);const i="-transition";class h extends Me{constructor(a,f){if(super(),this.id=a.id,this.type=a.type,this._featureFilter={filter:()=>!0,needGeometry:!1},a.type!=="custom"&&(this.metadata=a.metadata,this.minzoom=a.minzoom,this.maxzoom=a.maxzoom,a.type!=="background"&&(this.source=a.source,this.sourceLayer=a["source-layer"],this.filter=a.filter),f.layout&&(this._unevaluatedLayout=new wi(f.layout)),f.paint)){this._transitionablePaint=new Kc(f.paint);for(const m in a.paint)this.setPaintProperty(m,a.paint[m],{validate:!1});for(const m in a.layout)this.setLayoutProperty(m,a.layout[m],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Wl(f.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(a){return a==="visibility"?this.visibility:this._unevaluatedLayout.getValue(a)}setLayoutProperty(a,f,m={}){f!=null&&this._validate(dc,`layers.${this.id}.layout.${a}`,a,f,m)||(a!=="visibility"?this._unevaluatedLayout.setValue(a,f):this.visibility=f)}getPaintProperty(a){return a.endsWith(i)?this._transitionablePaint.getTransition(a.slice(0,-11)):this._transitionablePaint.getValue(a)}setPaintProperty(a,f,m={}){if(f!=null&&this._validate(Rc,`layers.${this.id}.paint.${a}`,a,f,m))return!1;if(a.endsWith(i))return this._transitionablePaint.setTransition(a.slice(0,-11),f||void 0),!1;{const B=this._transitionablePaint._values[a],E=B.property.specification["property-type"]==="cross-faded-data-driven",I=B.value.isDataDriven(),O=B.value;this._transitionablePaint.setValue(a,f),this._handleSpecialPaintPropertyUpdate(a);const N=this._transitionablePaint._values[a].value;return N.isDataDriven()||I||E||this._handleOverridablePaintPropertyUpdate(a,O,N)}}_handleSpecialPaintPropertyUpdate(a){}_handleOverridablePaintPropertyUpdate(a,f,m){return!1}isHidden(a){return!!(this.minzoom&&a<this.minzoom)||!!(this.maxzoom&&a>=this.maxzoom)||this.visibility==="none"}updateTransitions(a){this._transitioningPaint=this._transitionablePaint.transitioned(a,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(a,f){a.getCrossfadeParameters&&(this._crossfadeParameters=a.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(a,void 0,f)),this.paint=this._transitioningPaint.possiblyEvaluate(a,void 0,f)}serialize(){const a={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(a.layout=a.layout||{},a.layout.visibility=this.visibility),je(a,((f,m)=>!(f===void 0||m==="layout"&&!Object.keys(f).length||m==="paint"&&!Object.keys(f).length)))}_validate(a,f,m,B,E={}){return(!E||E.validate!==!1)&&zc(this,a.call(Ia,{key:f,layerType:this.type,objectKey:m,value:B,styleSpec:Ye,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const a in this.paint._values){const f=this.paint.get(a);if(f instanceof fs&&os(f.property.specification)&&(f.value.kind==="source"||f.value.kind==="composite")&&f.value.isStateDependent)return!0}return!1}}const p={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class v{constructor(a,f){this._structArray=a,this._pos1=f*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class x{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(a,f){return a._trim(),f&&(a.isTransferred=!0,f.push(a.arrayBuffer)),{length:a.length,arrayBuffer:a.arrayBuffer}}static deserialize(a){const f=Object.create(this.prototype);return f.arrayBuffer=a.arrayBuffer,f.length=a.length,f.capacity=a.arrayBuffer.byteLength/f.bytesPerElement,f._refreshViews(),f}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(a){this.reserve(a),this.length=a}reserve(a){if(a>this.capacity){this.capacity=Math.max(a,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const f=this.uint8;this._refreshViews(),f&&this.uint8.set(f)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function U(u,a=1){let f=0,m=0;return{members:u.map((B=>{const E=p[B.type].BYTES_PER_ELEMENT,I=f=M(f,Math.max(a,E)),O=B.components||1;return m=Math.max(m,E),f+=E*O,{name:B.name,type:B.type,components:O,offset:I}})),size:M(f,Math.max(m,a)),alignment:a}}function M(u,a){return Math.ceil(u/a)*a}class k extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,f){const m=this.length;return this.resize(m+1),this.emplace(m,a,f)}emplace(a,f,m){const B=2*a;return this.int16[B+0]=f,this.int16[B+1]=m,a}}k.prototype.bytesPerElement=4,Rt("StructArrayLayout2i4",k);class Q extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,f,m){const B=this.length;return this.resize(B+1),this.emplace(B,a,f,m)}emplace(a,f,m,B){const E=3*a;return this.int16[E+0]=f,this.int16[E+1]=m,this.int16[E+2]=B,a}}Q.prototype.bytesPerElement=6,Rt("StructArrayLayout3i6",Q);class G extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,f,m,B){const E=this.length;return this.resize(E+1),this.emplace(E,a,f,m,B)}emplace(a,f,m,B,E){const I=4*a;return this.int16[I+0]=f,this.int16[I+1]=m,this.int16[I+2]=B,this.int16[I+3]=E,a}}G.prototype.bytesPerElement=8,Rt("StructArrayLayout4i8",G);class $ extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,f,m,B,E,I){const O=this.length;return this.resize(O+1),this.emplace(O,a,f,m,B,E,I)}emplace(a,f,m,B,E,I,O){const N=6*a;return this.int16[N+0]=f,this.int16[N+1]=m,this.int16[N+2]=B,this.int16[N+3]=E,this.int16[N+4]=I,this.int16[N+5]=O,a}}$.prototype.bytesPerElement=12,Rt("StructArrayLayout2i4i12",$);class J extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,f,m,B,E,I){const O=this.length;return this.resize(O+1),this.emplace(O,a,f,m,B,E,I)}emplace(a,f,m,B,E,I,O){const N=4*a,V=8*a;return this.int16[N+0]=f,this.int16[N+1]=m,this.uint8[V+4]=B,this.uint8[V+5]=E,this.uint8[V+6]=I,this.uint8[V+7]=O,a}}J.prototype.bytesPerElement=8,Rt("StructArrayLayout2i4ub8",J);class te extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,f){const m=this.length;return this.resize(m+1),this.emplace(m,a,f)}emplace(a,f,m){const B=2*a;return this.float32[B+0]=f,this.float32[B+1]=m,a}}te.prototype.bytesPerElement=8,Rt("StructArrayLayout2f8",te);class ue extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,f,m,B,E,I,O,N,V,Z){const Y=this.length;return this.resize(Y+1),this.emplace(Y,a,f,m,B,E,I,O,N,V,Z)}emplace(a,f,m,B,E,I,O,N,V,Z,Y){const se=10*a;return this.uint16[se+0]=f,this.uint16[se+1]=m,this.uint16[se+2]=B,this.uint16[se+3]=E,this.uint16[se+4]=I,this.uint16[se+5]=O,this.uint16[se+6]=N,this.uint16[se+7]=V,this.uint16[se+8]=Z,this.uint16[se+9]=Y,a}}ue.prototype.bytesPerElement=20,Rt("StructArrayLayout10ui20",ue);class pe extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,f,m,B,E,I,O,N,V,Z,Y,se){const he=this.length;return this.resize(he+1),this.emplace(he,a,f,m,B,E,I,O,N,V,Z,Y,se)}emplace(a,f,m,B,E,I,O,N,V,Z,Y,se,he){const ve=12*a;return this.int16[ve+0]=f,this.int16[ve+1]=m,this.int16[ve+2]=B,this.int16[ve+3]=E,this.uint16[ve+4]=I,this.uint16[ve+5]=O,this.uint16[ve+6]=N,this.uint16[ve+7]=V,this.int16[ve+8]=Z,this.int16[ve+9]=Y,this.int16[ve+10]=se,this.int16[ve+11]=he,a}}pe.prototype.bytesPerElement=24,Rt("StructArrayLayout4i4ui4i24",pe);class Be extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,f,m){const B=this.length;return this.resize(B+1),this.emplace(B,a,f,m)}emplace(a,f,m,B){const E=3*a;return this.float32[E+0]=f,this.float32[E+1]=m,this.float32[E+2]=B,a}}Be.prototype.bytesPerElement=12,Rt("StructArrayLayout3f12",Be);class we extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(a){const f=this.length;return this.resize(f+1),this.emplace(f,a)}emplace(a,f){return this.uint32[1*a+0]=f,a}}we.prototype.bytesPerElement=4,Rt("StructArrayLayout1ul4",we);class Qe extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,f,m,B,E,I,O,N,V){const Z=this.length;return this.resize(Z+1),this.emplace(Z,a,f,m,B,E,I,O,N,V)}emplace(a,f,m,B,E,I,O,N,V,Z){const Y=10*a,se=5*a;return this.int16[Y+0]=f,this.int16[Y+1]=m,this.int16[Y+2]=B,this.int16[Y+3]=E,this.int16[Y+4]=I,this.int16[Y+5]=O,this.uint32[se+3]=N,this.uint16[Y+8]=V,this.uint16[Y+9]=Z,a}}Qe.prototype.bytesPerElement=20,Rt("StructArrayLayout6i1ul2ui20",Qe);class Se extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,f,m,B,E,I){const O=this.length;return this.resize(O+1),this.emplace(O,a,f,m,B,E,I)}emplace(a,f,m,B,E,I,O){const N=6*a;return this.int16[N+0]=f,this.int16[N+1]=m,this.int16[N+2]=B,this.int16[N+3]=E,this.int16[N+4]=I,this.int16[N+5]=O,a}}Se.prototype.bytesPerElement=12,Rt("StructArrayLayout2i2i2i12",Se);class $e extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,f,m,B,E){const I=this.length;return this.resize(I+1),this.emplace(I,a,f,m,B,E)}emplace(a,f,m,B,E,I){const O=4*a,N=8*a;return this.float32[O+0]=f,this.float32[O+1]=m,this.float32[O+2]=B,this.int16[N+6]=E,this.int16[N+7]=I,a}}$e.prototype.bytesPerElement=16,Rt("StructArrayLayout2f1f2i16",$e);class qe extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,f,m,B,E,I){const O=this.length;return this.resize(O+1),this.emplace(O,a,f,m,B,E,I)}emplace(a,f,m,B,E,I,O){const N=16*a,V=4*a,Z=8*a;return this.uint8[N+0]=f,this.uint8[N+1]=m,this.float32[V+1]=B,this.float32[V+2]=E,this.int16[Z+6]=I,this.int16[Z+7]=O,a}}qe.prototype.bytesPerElement=16,Rt("StructArrayLayout2ub2f2i16",qe);class at extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,f,m){const B=this.length;return this.resize(B+1),this.emplace(B,a,f,m)}emplace(a,f,m,B){const E=3*a;return this.uint16[E+0]=f,this.uint16[E+1]=m,this.uint16[E+2]=B,a}}at.prototype.bytesPerElement=6,Rt("StructArrayLayout3ui6",at);class wt extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,f,m,B,E,I,O,N,V,Z,Y,se,he,ve,xe,He,Xe){const ht=this.length;return this.resize(ht+1),this.emplace(ht,a,f,m,B,E,I,O,N,V,Z,Y,se,he,ve,xe,He,Xe)}emplace(a,f,m,B,E,I,O,N,V,Z,Y,se,he,ve,xe,He,Xe,ht){const nt=24*a,At=12*a,Bt=48*a;return this.int16[nt+0]=f,this.int16[nt+1]=m,this.uint16[nt+2]=B,this.uint16[nt+3]=E,this.uint32[At+2]=I,this.uint32[At+3]=O,this.uint32[At+4]=N,this.uint16[nt+10]=V,this.uint16[nt+11]=Z,this.uint16[nt+12]=Y,this.float32[At+7]=se,this.float32[At+8]=he,this.uint8[Bt+36]=ve,this.uint8[Bt+37]=xe,this.uint8[Bt+38]=He,this.uint32[At+10]=Xe,this.int16[nt+22]=ht,a}}wt.prototype.bytesPerElement=48,Rt("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",wt);class St extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,f,m,B,E,I,O,N,V,Z,Y,se,he,ve,xe,He,Xe,ht,nt,At,Bt,Kt,er,kr,Wt,Yt,pr,Ar){const ir=this.length;return this.resize(ir+1),this.emplace(ir,a,f,m,B,E,I,O,N,V,Z,Y,se,he,ve,xe,He,Xe,ht,nt,At,Bt,Kt,er,kr,Wt,Yt,pr,Ar)}emplace(a,f,m,B,E,I,O,N,V,Z,Y,se,he,ve,xe,He,Xe,ht,nt,At,Bt,Kt,er,kr,Wt,Yt,pr,Ar,ir){const Ut=32*a,ar=16*a;return this.int16[Ut+0]=f,this.int16[Ut+1]=m,this.int16[Ut+2]=B,this.int16[Ut+3]=E,this.int16[Ut+4]=I,this.int16[Ut+5]=O,this.int16[Ut+6]=N,this.int16[Ut+7]=V,this.uint16[Ut+8]=Z,this.uint16[Ut+9]=Y,this.uint16[Ut+10]=se,this.uint16[Ut+11]=he,this.uint16[Ut+12]=ve,this.uint16[Ut+13]=xe,this.uint16[Ut+14]=He,this.uint16[Ut+15]=Xe,this.uint16[Ut+16]=ht,this.uint16[Ut+17]=nt,this.uint16[Ut+18]=At,this.uint16[Ut+19]=Bt,this.uint16[Ut+20]=Kt,this.uint16[Ut+21]=er,this.uint16[Ut+22]=kr,this.uint32[ar+12]=Wt,this.float32[ar+13]=Yt,this.float32[ar+14]=pr,this.uint16[Ut+30]=Ar,this.uint16[Ut+31]=ir,a}}St.prototype.bytesPerElement=64,Rt("StructArrayLayout8i15ui1ul2f2ui64",St);class _t extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a){const f=this.length;return this.resize(f+1),this.emplace(f,a)}emplace(a,f){return this.float32[1*a+0]=f,a}}_t.prototype.bytesPerElement=4,Rt("StructArrayLayout1f4",_t);class mt extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,f,m){const B=this.length;return this.resize(B+1),this.emplace(B,a,f,m)}emplace(a,f,m,B){const E=3*a;return this.uint16[6*a+0]=f,this.float32[E+1]=m,this.float32[E+2]=B,a}}mt.prototype.bytesPerElement=12,Rt("StructArrayLayout1ui2f12",mt);class Qt extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,f,m){const B=this.length;return this.resize(B+1),this.emplace(B,a,f,m)}emplace(a,f,m,B){const E=4*a;return this.uint32[2*a+0]=f,this.uint16[E+2]=m,this.uint16[E+3]=B,a}}Qt.prototype.bytesPerElement=8,Rt("StructArrayLayout1ul2ui8",Qt);class Et extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,f){const m=this.length;return this.resize(m+1),this.emplace(m,a,f)}emplace(a,f,m){const B=2*a;return this.uint16[B+0]=f,this.uint16[B+1]=m,a}}Et.prototype.bytesPerElement=4,Rt("StructArrayLayout2ui4",Et);class zt extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a){const f=this.length;return this.resize(f+1),this.emplace(f,a)}emplace(a,f){return this.uint16[1*a+0]=f,a}}zt.prototype.bytesPerElement=2,Rt("StructArrayLayout1ui2",zt);class tr extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,f,m,B){const E=this.length;return this.resize(E+1),this.emplace(E,a,f,m,B)}emplace(a,f,m,B,E){const I=4*a;return this.float32[I+0]=f,this.float32[I+1]=m,this.float32[I+2]=B,this.float32[I+3]=E,a}}tr.prototype.bytesPerElement=16,Rt("StructArrayLayout4f16",tr);class Vt extends v{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new S(this.anchorPointX,this.anchorPointY)}}Vt.prototype.size=20;class $t extends Qe{get(a){return new Vt(this,a)}}Rt("CollisionBoxArray",$t);class rr extends v{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(a){this._structArray.uint8[this._pos1+37]=a}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(a){this._structArray.uint8[this._pos1+38]=a}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(a){this._structArray.uint32[this._pos4+10]=a}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}rr.prototype.size=48;class un extends wt{get(a){return new rr(this,a)}}Rt("PlacedSymbolArray",un);class Ir extends v{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(a){this._structArray.uint32[this._pos4+12]=a}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}Ir.prototype.size=64;class Lr extends St{get(a){return new Ir(this,a)}}Rt("SymbolInstanceArray",Lr);class wr extends _t{getoffsetX(a){return this.float32[1*a+0]}}Rt("GlyphOffsetArray",wr);class an extends Q{getx(a){return this.int16[3*a+0]}gety(a){return this.int16[3*a+1]}gettileUnitDistanceFromAnchor(a){return this.int16[3*a+2]}}Rt("SymbolLineVertexArray",an);class Hn extends v{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}Hn.prototype.size=12;class Dr extends mt{get(a){return new Hn(this,a)}}Rt("TextAnchorOffsetArray",Dr);class qn extends v{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}qn.prototype.size=8;class In extends Qt{get(a){return new qn(this,a)}}Rt("FeatureIndexArray",In);class sn extends k{}class On extends k{}class Cn extends k{}class xi extends ${}class Di extends J{}class Gn extends te{}class fn extends ue{}class _a extends pe{}class Ei extends Be{}class mr extends we{}class vr extends Se{}class xn extends qe{}class Ti extends at{}class ni extends Et{}const Wn=U([{name:"a_pos",components:2,type:"Int16"}],4),{members:$n}=Wn;class cn{constructor(a=[]){this.segments=a}prepareSegment(a,f,m,B){let E=this.segments[this.segments.length-1];return a>cn.MAX_VERTEX_ARRAY_LENGTH&&Fe(`Max vertices per segment is ${cn.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${a}`),(!E||E.vertexLength+a>cn.MAX_VERTEX_ARRAY_LENGTH||E.sortKey!==B)&&(E={vertexOffset:f.length,primitiveOffset:m.length,vertexLength:0,primitiveLength:0},B!==void 0&&(E.sortKey=B),this.segments.push(E)),E}get(){return this.segments}destroy(){for(const a of this.segments)for(const f in a.vaos)a.vaos[f].destroy()}static simpleSegment(a,f,m,B){return new cn([{vertexOffset:a,primitiveOffset:f,vertexLength:m,primitiveLength:B,vaos:{},sortKey:0}])}}function Os(u,a){return 256*(u=ce(Math.floor(u),0,255))+ce(Math.floor(a),0,255)}cn.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Rt("SegmentVector",cn);const Yl=U([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var Zn={exports:{}},Vc={exports:{}};Vc.exports=function(u,a){var f,m,B,E,I,O,N,V;for(m=u.length-(f=3&u.length),B=a,I=3432918353,O=461845907,V=0;V<m;)N=255&u.charCodeAt(V)|(255&u.charCodeAt(++V))<<8|(255&u.charCodeAt(++V))<<16|(255&u.charCodeAt(++V))<<24,++V,B=27492+(65535&(E=5*(65535&(B=(B^=N=(65535&(N=(N=(65535&N)*I+(((N>>>16)*I&65535)<<16)&4294967295)<<15|N>>>17))*O+(((N>>>16)*O&65535)<<16)&4294967295)<<13|B>>>19))+((5*(B>>>16)&65535)<<16)&4294967295))+((58964+(E>>>16)&65535)<<16);switch(N=0,f){case 3:N^=(255&u.charCodeAt(V+2))<<16;case 2:N^=(255&u.charCodeAt(V+1))<<8;case 1:B^=N=(65535&(N=(N=(65535&(N^=255&u.charCodeAt(V)))*I+(((N>>>16)*I&65535)<<16)&4294967295)<<15|N>>>17))*O+(((N>>>16)*O&65535)<<16)&4294967295}return B^=u.length,B=2246822507*(65535&(B^=B>>>16))+((2246822507*(B>>>16)&65535)<<16)&4294967295,B=3266489909*(65535&(B^=B>>>13))+((3266489909*(B>>>16)&65535)<<16)&4294967295,(B^=B>>>16)>>>0};var Eh=Vc.exports,mc={exports:{}};mc.exports=function(u,a){for(var f,m=u.length,B=a^m,E=0;m>=4;)f=1540483477*(65535&(f=255&u.charCodeAt(E)|(255&u.charCodeAt(++E))<<8|(255&u.charCodeAt(++E))<<16|(255&u.charCodeAt(++E))<<24))+((1540483477*(f>>>16)&65535)<<16),B=1540483477*(65535&B)+((1540483477*(B>>>16)&65535)<<16)^(f=1540483477*(65535&(f^=f>>>24))+((1540483477*(f>>>16)&65535)<<16)),m-=4,++E;switch(m){case 3:B^=(255&u.charCodeAt(E+2))<<16;case 2:B^=(255&u.charCodeAt(E+1))<<8;case 1:B=1540483477*(65535&(B^=255&u.charCodeAt(E)))+((1540483477*(B>>>16)&65535)<<16)}return B=1540483477*(65535&(B^=B>>>13))+((1540483477*(B>>>16)&65535)<<16),(B^=B>>>15)>>>0};var Xa=Eh,vf=mc.exports;Zn.exports=Xa,Zn.exports.murmur3=Xa,Zn.exports.murmur2=vf;var Du=y(Zn.exports);class ou{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(a,f,m,B){this.ids.push(lu(a)),this.positions.push(f,m,B)}getPositions(a){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const f=lu(a);let m=0,B=this.ids.length-1;for(;m<B;){const I=m+B>>1;this.ids[I]>=f?B=I:m=I+1}const E=[];for(;this.ids[m]===f;)E.push({index:this.positions[3*m],start:this.positions[3*m+1],end:this.positions[3*m+2]}),m++;return E}static serialize(a,f){const m=new Float64Array(a.ids),B=new Uint32Array(a.positions);return Ji(m,B,0,m.length-1),f&&f.push(m.buffer,B.buffer),{ids:m,positions:B}}static deserialize(a){const f=new ou;return f.ids=a.ids,f.positions=a.positions,f.indexed=!0,f}}function lu(u){const a=+u;return!isNaN(a)&&a<=Number.MAX_SAFE_INTEGER?a:Du(String(u))}function Ji(u,a,f,m){for(;f<m;){const B=u[f+m>>1];let E=f-1,I=m+1;for(;;){do E++;while(u[E]<B);do I--;while(u[I]>B);if(E>=I)break;li(u,E,I),li(a,3*E,3*I),li(a,3*E+1,3*I+1),li(a,3*E+2,3*I+2)}I-f<m-I?(Ji(u,a,f,I),f=I+1):(Ji(u,a,I+1,m),m=I)}}function li(u,a,f){const m=u[a];u[a]=u[f],u[f]=m}Rt("FeaturePositionMap",ou);class Jl{constructor(a,f){this.gl=a.gl,this.location=f}}class eA extends Jl{constructor(a,f){super(a,f),this.current=0}set(a){this.current!==a&&(this.current=a,this.gl.uniform1f(this.location,a))}}class yc extends Jl{constructor(a,f){super(a,f),this.current=[0,0,0,0]}set(a){a[0]===this.current[0]&&a[1]===this.current[1]&&a[2]===this.current[2]&&a[3]===this.current[3]||(this.current=a,this.gl.uniform4f(this.location,a[0],a[1],a[2],a[3]))}}class ku extends Jl{constructor(a,f){super(a,f),this.current=wn.transparent}set(a){a.r===this.current.r&&a.g===this.current.g&&a.b===this.current.b&&a.a===this.current.a||(this.current=a,this.gl.uniform4f(this.location,a.r,a.g,a.b,a.a))}}const OA=new Float32Array(16);function qc(u){return[Os(255*u.r,255*u.g),Os(255*u.b,255*u.a)]}class DA{constructor(a,f,m){this.value=a,this.uniformNames=f.map((B=>`u_${B}`)),this.type=m}setUniform(a,f,m){a.set(m.constantOr(this.value))}getBinding(a,f,m){return this.type==="color"?new ku(a,f):new eA(a,f)}}class Au{constructor(a,f){this.uniformNames=f.map((m=>`u_${m}`)),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(a,f){this.pixelRatioFrom=f.pixelRatio,this.pixelRatioTo=a.pixelRatio,this.patternFrom=f.tlbr,this.patternTo=a.tlbr}setUniform(a,f,m,B){const E=B==="u_pattern_to"?this.patternTo:B==="u_pattern_from"?this.patternFrom:B==="u_pixel_ratio_to"?this.pixelRatioTo:B==="u_pixel_ratio_from"?this.pixelRatioFrom:null;E&&a.set(E)}getBinding(a,f,m){return m.substr(0,9)==="u_pattern"?new yc(a,f):new eA(a,f)}}class _l{constructor(a,f,m,B){this.expression=a,this.type=m,this.maxValue=0,this.paintVertexAttributes=f.map((E=>({name:`a_${E}`,type:"Float32",components:m==="color"?2:1,offset:0}))),this.paintVertexArray=new B}populatePaintArray(a,f,m,B,E){const I=this.paintVertexArray.length,O=this.expression.evaluate(new pn(0),f,{},B,[],E);this.paintVertexArray.resize(a),this._setPaintValue(I,a,O)}updatePaintArray(a,f,m,B){const E=this.expression.evaluate({zoom:0},m,B);this._setPaintValue(a,f,E)}_setPaintValue(a,f,m){if(this.type==="color"){const B=qc(m);for(let E=a;E<f;E++)this.paintVertexArray.emplace(E,B[0],B[1])}else{for(let B=a;B<f;B++)this.paintVertexArray.emplace(B,m);this.maxValue=Math.max(this.maxValue,Math.abs(m))}}upload(a){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=a.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Ka{constructor(a,f,m,B,E,I){this.expression=a,this.uniformNames=f.map((O=>`u_${O}_t`)),this.type=m,this.useIntegerZoom=B,this.zoom=E,this.maxValue=0,this.paintVertexAttributes=f.map((O=>({name:`a_${O}`,type:"Float32",components:m==="color"?4:2,offset:0}))),this.paintVertexArray=new I}populatePaintArray(a,f,m,B,E){const I=this.expression.evaluate(new pn(this.zoom),f,{},B,[],E),O=this.expression.evaluate(new pn(this.zoom+1),f,{},B,[],E),N=this.paintVertexArray.length;this.paintVertexArray.resize(a),this._setPaintValue(N,a,I,O)}updatePaintArray(a,f,m,B){const E=this.expression.evaluate({zoom:this.zoom},m,B),I=this.expression.evaluate({zoom:this.zoom+1},m,B);this._setPaintValue(a,f,E,I)}_setPaintValue(a,f,m,B){if(this.type==="color"){const E=qc(m),I=qc(B);for(let O=a;O<f;O++)this.paintVertexArray.emplace(O,E[0],E[1],I[0],I[1])}else{for(let E=a;E<f;E++)this.paintVertexArray.emplace(E,m,B);this.maxValue=Math.max(this.maxValue,Math.abs(m),Math.abs(B))}}upload(a){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=a.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(a,f){const m=this.useIntegerZoom?Math.floor(f.zoom):f.zoom,B=ce(this.expression.interpolationFactor(m,this.zoom,this.zoom+1),0,1);a.set(B)}getBinding(a,f,m){return new eA(a,f)}}class kA{constructor(a,f,m,B,E,I){this.expression=a,this.type=f,this.useIntegerZoom=m,this.zoom=B,this.layerId=I,this.zoomInPaintVertexArray=new E,this.zoomOutPaintVertexArray=new E}populatePaintArray(a,f,m){const B=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(a),this.zoomOutPaintVertexArray.resize(a),this._setPaintValues(B,a,f.patterns&&f.patterns[this.layerId],m)}updatePaintArray(a,f,m,B,E){this._setPaintValues(a,f,m.patterns&&m.patterns[this.layerId],E)}_setPaintValues(a,f,m,B){if(!B||!m)return;const{min:E,mid:I,max:O}=m,N=B[E],V=B[I],Z=B[O];if(N&&V&&Z)for(let Y=a;Y<f;Y++)this.zoomInPaintVertexArray.emplace(Y,V.tl[0],V.tl[1],V.br[0],V.br[1],N.tl[0],N.tl[1],N.br[0],N.br[1],V.pixelRatio,N.pixelRatio),this.zoomOutPaintVertexArray.emplace(Y,V.tl[0],V.tl[1],V.br[0],V.br[1],Z.tl[0],Z.tl[1],Z.br[0],Z.br[1],V.pixelRatio,Z.pixelRatio)}upload(a){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=a.createVertexBuffer(this.zoomInPaintVertexArray,Yl.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=a.createVertexBuffer(this.zoomOutPaintVertexArray,Yl.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class _f{constructor(a,f,m){this.binders={},this._buffers=[];const B=[];for(const E in a.paint._values){if(!m(E))continue;const I=a.paint.get(E);if(!(I instanceof fs&&os(I.property.specification)))continue;const O=wd(E,a.type),N=I.value,V=I.property.specification.type,Z=I.property.useIntegerZoom,Y=I.property.specification["property-type"],se=Y==="cross-faded"||Y==="cross-faded-data-driven";if(N.kind==="constant")this.binders[E]=se?new Au(N.value,O):new DA(N.value,O,V),B.push(`/u_${E}`);else if(N.kind==="source"||se){const he=uu(E,V,"source");this.binders[E]=se?new kA(N,V,Z,f,he,a.id):new _l(N,O,V,he),B.push(`/a_${E}`)}else{const he=uu(E,V,"composite");this.binders[E]=new Ka(N,O,V,Z,f,he),B.push(`/z_${E}`)}}this.cacheKey=B.sort().join("")}getMaxValue(a){const f=this.binders[a];return f instanceof _l||f instanceof Ka?f.maxValue:0}populatePaintArrays(a,f,m,B,E){for(const I in this.binders){const O=this.binders[I];(O instanceof _l||O instanceof Ka||O instanceof kA)&&O.populatePaintArray(a,f,m,B,E)}}setConstantPatternPositions(a,f){for(const m in this.binders){const B=this.binders[m];B instanceof Au&&B.setConstantPatternPositions(a,f)}}updatePaintArrays(a,f,m,B,E){let I=!1;for(const O in a){const N=f.getPositions(O);for(const V of N){const Z=m.feature(V.index);for(const Y in this.binders){const se=this.binders[Y];if((se instanceof _l||se instanceof Ka||se instanceof kA)&&se.expression.isStateDependent===!0){const he=B.paint.get(Y);se.expression=he.value,se.updatePaintArray(V.start,V.end,Z,a[O],E),I=!0}}}}return I}defines(){const a=[];for(const f in this.binders){const m=this.binders[f];(m instanceof DA||m instanceof Au)&&a.push(...m.uniformNames.map((B=>`#define HAS_UNIFORM_${B}`)))}return a}getBinderAttributes(){const a=[];for(const f in this.binders){const m=this.binders[f];if(m instanceof _l||m instanceof Ka)for(let B=0;B<m.paintVertexAttributes.length;B++)a.push(m.paintVertexAttributes[B].name);else if(m instanceof kA)for(let B=0;B<Yl.members.length;B++)a.push(Yl.members[B].name)}return a}getBinderUniforms(){const a=[];for(const f in this.binders){const m=this.binders[f];if(m instanceof DA||m instanceof Au||m instanceof Ka)for(const B of m.uniformNames)a.push(B)}return a}getPaintVertexBuffers(){return this._buffers}getUniforms(a,f){const m=[];for(const B in this.binders){const E=this.binders[B];if(E instanceof DA||E instanceof Au||E instanceof Ka){for(const I of E.uniformNames)if(f[I]){const O=E.getBinding(a,f[I],I);m.push({name:I,property:B,binding:O})}}}return m}setUniforms(a,f,m,B){for(const{name:E,property:I,binding:O}of f)this.binders[I].setUniform(O,B,m.get(I),E)}updatePaintBuffers(a){this._buffers=[];for(const f in this.binders){const m=this.binders[f];if(a&&m instanceof kA){const B=a.fromScale===2?m.zoomInPaintVertexBuffer:m.zoomOutPaintVertexBuffer;B&&this._buffers.push(B)}else(m instanceof _l||m instanceof Ka)&&m.paintVertexBuffer&&this._buffers.push(m.paintVertexBuffer)}}upload(a){for(const f in this.binders){const m=this.binders[f];(m instanceof _l||m instanceof Ka||m instanceof kA)&&m.upload(a)}this.updatePaintBuffers()}destroy(){for(const a in this.binders){const f=this.binders[a];(f instanceof _l||f instanceof Ka||f instanceof kA)&&f.destroy()}}}class Qu{constructor(a,f,m=(()=>!0)){this.programConfigurations={};for(const B of a)this.programConfigurations[B.id]=new _f(B,f,m);this.needsUpload=!1,this._featureMap=new ou,this._bufferOffset=0}populatePaintArrays(a,f,m,B,E,I){for(const O in this.programConfigurations)this.programConfigurations[O].populatePaintArrays(a,f,B,E,I);f.id!==void 0&&this._featureMap.add(f.id,m,this._bufferOffset,a),this._bufferOffset=a,this.needsUpload=!0}updatePaintArrays(a,f,m,B){for(const E of m)this.needsUpload=this.programConfigurations[E.id].updatePaintArrays(a,this._featureMap,f,E,B)||this.needsUpload}get(a){return this.programConfigurations[a]}upload(a){if(this.needsUpload){for(const f in this.programConfigurations)this.programConfigurations[f].upload(a);this.needsUpload=!1}}destroy(){for(const a in this.programConfigurations)this.programConfigurations[a].destroy()}}function wd(u,a){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[u]||[u.replace(`${a}-`,"").replace(/-/g,"_")]}function uu(u,a,f){const m={color:{source:te,composite:tr},number:{source:_t,composite:te}},B=(function(E){return{"line-pattern":{source:fn,composite:fn},"fill-pattern":{source:fn,composite:fn},"fill-extrusion-pattern":{source:fn,composite:fn}}[E]})(u);return B&&B[f]||m[a][f]}Rt("ConstantBinder",DA),Rt("CrossFadedConstantBinder",Au),Rt("SourceExpressionBinder",_l),Rt("CrossFadedCompositeBinder",kA),Rt("CompositeExpressionBinder",Ka),Rt("ProgramConfiguration",_f,{omit:["_buffers"]}),Rt("ProgramConfigurationSet",Qu);const ea=8192,bf=Math.pow(2,14)-1,xd=-bf-1;function cu(u){const a=ea/u.extent,f=u.loadGeometry();for(let m=0;m<f.length;m++){const B=f[m];for(let E=0;E<B.length;E++){const I=B[E],O=Math.round(I.x*a),N=Math.round(I.y*a);I.x=ce(O,xd,bf),I.y=ce(N,xd,bf),(O<I.x||O>I.x+1||N<I.y||N>I.y+1)&&Fe("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return f}function Nu(u,a){return{type:u.type,id:u.id,properties:u.properties,geometry:a?cu(u):[]}}function QA(u,a,f,m,B){u.emplaceBack(2*a+(m+1)/2,2*f+(B+1)/2)}class Gc{constructor(a){this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map((f=>f.id)),this.index=a.index,this.hasPattern=!1,this.layoutVertexArray=new On,this.indexArray=new Ti,this.segments=new cn,this.programConfigurations=new Qu(a.layers,a.zoom),this.stateDependentLayerIds=this.layers.filter((f=>f.isStateDependent())).map((f=>f.id))}populate(a,f,m){const B=this.layers[0],E=[];let I=null,O=!1;B.type==="circle"&&(I=B.layout.get("circle-sort-key"),O=!I.isConstant());for(const{feature:N,id:V,index:Z,sourceLayerIndex:Y}of a){const se=this.layers[0]._featureFilter.needGeometry,he=Nu(N,se);if(!this.layers[0]._featureFilter.filter(new pn(this.zoom),he,m))continue;const ve=O?I.evaluate(he,{},m):void 0,xe={id:V,properties:N.properties,type:N.type,sourceLayerIndex:Y,index:Z,geometry:se?he.geometry:cu(N),patterns:{},sortKey:ve};E.push(xe)}O&&E.sort(((N,V)=>N.sortKey-V.sortKey));for(const N of E){const{geometry:V,index:Z,sourceLayerIndex:Y}=N,se=a[Z].feature;this.addFeature(N,V,Z,m),f.featureIndex.insert(se,V,Z,Y,this.index)}}update(a,f,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(a,f,this.stateDependentLayers,m)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(a){this.uploaded||(this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,$n),this.indexBuffer=a.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(a),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(a,f,m,B){for(const E of f)for(const I of E){const O=I.x,N=I.y;if(O<0||O>=ea||N<0||N>=ea)continue;const V=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,a.sortKey),Z=V.vertexLength;QA(this.layoutVertexArray,O,N,-1,-1),QA(this.layoutVertexArray,O,N,1,-1),QA(this.layoutVertexArray,O,N,1,1),QA(this.layoutVertexArray,O,N,-1,1),this.indexArray.emplaceBack(Z,Z+1,Z+2),this.indexArray.emplaceBack(Z,Z+3,Z+2),V.vertexLength+=4,V.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,a,m,{},B)}}function $c(u,a){for(let f=0;f<u.length;f++)if(tA(a,u[f]))return!0;for(let f=0;f<a.length;f++)if(tA(u,a[f]))return!0;return!!Xc(u,a)}function NA(u,a,f){return!!tA(u,a)||!!fu(a,u,f)}function RA(u,a){if(u.length===1)return vc(a,u[0]);for(let f=0;f<a.length;f++){const m=a[f];for(let B=0;B<m.length;B++)if(tA(u,m[B]))return!0}for(let f=0;f<u.length;f++)if(vc(a,u[f]))return!0;for(let f=0;f<a.length;f++)if(Xc(u,a[f]))return!0;return!1}function hu(u,a,f){if(u.length>1){if(Xc(u,a))return!0;for(let m=0;m<a.length;m++)if(fu(a[m],u,f))return!0}for(let m=0;m<u.length;m++)if(fu(u[m],a,f))return!0;return!1}function Xc(u,a){if(u.length===0||a.length===0)return!1;for(let f=0;f<u.length-1;f++){const m=u[f],B=u[f+1];for(let E=0;E<a.length-1;E++)if(wf(m,B,a[E],a[E+1]))return!0}return!1}function wf(u,a,f,m){return Le(u,f,m)!==Le(a,f,m)&&Le(u,a,f)!==Le(u,a,m)}function fu(u,a,f){const m=f*f;if(a.length===1)return u.distSqr(a[0])<m;for(let B=1;B<a.length;B++)if(Bd(u,a[B-1],a[B])<m)return!0;return!1}function Bd(u,a,f){const m=a.distSqr(f);if(m===0)return u.distSqr(a);const B=((u.x-a.x)*(f.x-a.x)+(u.y-a.y)*(f.y-a.y))/m;return u.distSqr(B<0?a:B>1?f:f.sub(a)._mult(B)._add(a))}function vc(u,a){let f,m,B,E=!1;for(let I=0;I<u.length;I++){f=u[I];for(let O=0,N=f.length-1;O<f.length;N=O++)m=f[O],B=f[N],m.y>a.y!=B.y>a.y&&a.x<(B.x-m.x)*(a.y-m.y)/(B.y-m.y)+m.x&&(E=!E)}return E}function tA(u,a){let f=!1;for(let m=0,B=u.length-1;m<u.length;B=m++){const E=u[m],I=u[B];E.y>a.y!=I.y>a.y&&a.x<(I.x-E.x)*(a.y-E.y)/(I.y-E.y)+E.x&&(f=!f)}return f}function Cy(u,a,f){const m=f[0],B=f[2];if(u.x<m.x&&a.x<m.x||u.x>B.x&&a.x>B.x||u.y<m.y&&a.y<m.y||u.y>B.y&&a.y>B.y)return!1;const E=Le(u,a,f[0]);return E!==Le(u,a,f[1])||E!==Le(u,a,f[2])||E!==Le(u,a,f[3])}function Th(u,a,f){const m=a.paint.get(u).value;return m.kind==="constant"?m.value:f.programConfigurations.get(a.id).getMaxValue(u)}function Pp(u){return Math.sqrt(u[0]*u[0]+u[1]*u[1])}function Cd(u,a,f,m,B){if(!a[0]&&!a[1])return u;const E=S.convert(a)._mult(B);f==="viewport"&&E._rotate(-m);const I=[];for(let O=0;O<u.length;O++)I.push(u[O].sub(E));return I}let om,lm;Rt("CircleBucket",Gc,{omit:["layers"]});var Sy={get paint(){return lm=lm||new _({"circle-radius":new Cr(Ye.paint_circle["circle-radius"]),"circle-color":new Cr(Ye.paint_circle["circle-color"]),"circle-blur":new Cr(Ye.paint_circle["circle-blur"]),"circle-opacity":new Cr(Ye.paint_circle["circle-opacity"]),"circle-translate":new lr(Ye.paint_circle["circle-translate"]),"circle-translate-anchor":new lr(Ye.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new lr(Ye.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new lr(Ye.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Cr(Ye.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Cr(Ye.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Cr(Ye.paint_circle["circle-stroke-opacity"])})},get layout(){return om=om||new _({"circle-sort-key":new Cr(Ye.layout_circle["circle-sort-key"])})}},no=1e-6,Zc=typeof Float32Array<"u"?Float32Array:Array;function Op(u){return u[0]=1,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=1,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=1,u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u}function Am(u,a,f){var m=a[0],B=a[1],E=a[2],I=a[3],O=a[4],N=a[5],V=a[6],Z=a[7],Y=a[8],se=a[9],he=a[10],ve=a[11],xe=a[12],He=a[13],Xe=a[14],ht=a[15],nt=f[0],At=f[1],Bt=f[2],Kt=f[3];return u[0]=nt*m+At*O+Bt*Y+Kt*xe,u[1]=nt*B+At*N+Bt*se+Kt*He,u[2]=nt*E+At*V+Bt*he+Kt*Xe,u[3]=nt*I+At*Z+Bt*ve+Kt*ht,u[4]=(nt=f[4])*m+(At=f[5])*O+(Bt=f[6])*Y+(Kt=f[7])*xe,u[5]=nt*B+At*N+Bt*se+Kt*He,u[6]=nt*E+At*V+Bt*he+Kt*Xe,u[7]=nt*I+At*Z+Bt*ve+Kt*ht,u[8]=(nt=f[8])*m+(At=f[9])*O+(Bt=f[10])*Y+(Kt=f[11])*xe,u[9]=nt*B+At*N+Bt*se+Kt*He,u[10]=nt*E+At*V+Bt*he+Kt*Xe,u[11]=nt*I+At*Z+Bt*ve+Kt*ht,u[12]=(nt=f[12])*m+(At=f[13])*O+(Bt=f[14])*Y+(Kt=f[15])*xe,u[13]=nt*B+At*N+Bt*se+Kt*He,u[14]=nt*E+At*V+Bt*he+Kt*Xe,u[15]=nt*I+At*Z+Bt*ve+Kt*ht,u}Math.hypot||(Math.hypot=function(){for(var u=0,a=arguments.length;a--;)u+=arguments[a]*arguments[a];return Math.sqrt(u)});var Ih,Ey=Am;function Sd(u,a,f){var m=a[0],B=a[1],E=a[2],I=a[3];return u[0]=f[0]*m+f[4]*B+f[8]*E+f[12]*I,u[1]=f[1]*m+f[5]*B+f[9]*E+f[13]*I,u[2]=f[2]*m+f[6]*B+f[10]*E+f[14]*I,u[3]=f[3]*m+f[7]*B+f[11]*E+f[15]*I,u}Ih=new Zc(4),Zc!=Float32Array&&(Ih[0]=0,Ih[1]=0,Ih[2]=0,Ih[3]=0);class zb extends h{constructor(a){super(a,Sy)}createBucket(a){return new Gc(a)}queryRadius(a){const f=a;return Th("circle-radius",this,f)+Th("circle-stroke-width",this,f)+Pp(this.paint.get("circle-translate"))}queryIntersectsFeature(a,f,m,B,E,I,O,N){const V=Cd(a,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),I.angle,O),Z=this.paint.get("circle-radius").evaluate(f,m)+this.paint.get("circle-stroke-width").evaluate(f,m),Y=this.paint.get("circle-pitch-alignment")==="map",se=Y?V:(function(ve,xe){return ve.map((He=>Dp(He,xe)))})(V,N),he=Y?Z*O:Z;for(const ve of B)for(const xe of ve){const He=Y?xe:Dp(xe,N);let Xe=he;const ht=Sd([],[xe.x,xe.y,0,1],N);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?Xe*=ht[3]/I.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(Xe*=I.cameraToCenterDistance/ht[3]),NA(se,He,Xe))return!0}return!1}}function Dp(u,a){const f=Sd([],[u.x,u.y,0,1],a);return new S(f[0]/f[3],f[1]/f[3])}class um extends Gc{}let cm;Rt("HeatmapBucket",um,{omit:["layers"]});var hm={get paint(){return cm=cm||new _({"heatmap-radius":new Cr(Ye.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Cr(Ye.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new lr(Ye.paint_heatmap["heatmap-intensity"]),"heatmap-color":new X(Ye.paint_heatmap["heatmap-color"]),"heatmap-opacity":new lr(Ye.paint_heatmap["heatmap-opacity"])})}};function kp(u,{width:a,height:f},m,B){if(B){if(B instanceof Uint8ClampedArray)B=new Uint8Array(B.buffer);else if(B.length!==a*f*m)throw new RangeError(`mismatched image size. expected: ${B.length} but got: ${a*f*m}`)}else B=new Uint8Array(a*f*m);return u.width=a,u.height=f,u.data=B,u}function fm(u,{width:a,height:f},m){if(a===u.width&&f===u.height)return;const B=kp({},{width:a,height:f},m);dm(u,B,{x:0,y:0},{x:0,y:0},{width:Math.min(u.width,a),height:Math.min(u.height,f)},m),u.width=a,u.height=f,u.data=B.data}function dm(u,a,f,m,B,E){if(B.width===0||B.height===0)return a;if(B.width>u.width||B.height>u.height||f.x>u.width-B.width||f.y>u.height-B.height)throw new RangeError("out of range source coordinates for image copy");if(B.width>a.width||B.height>a.height||m.x>a.width-B.width||m.y>a.height-B.height)throw new RangeError("out of range destination coordinates for image copy");const I=u.data,O=a.data;if(I===O)throw new Error("srcData equals dstData, so image is already copied");for(let N=0;N<B.height;N++){const V=((f.y+N)*u.width+f.x)*E,Z=((m.y+N)*a.width+m.x)*E;for(let Y=0;Y<B.width*E;Y++)O[Z+Y]=I[V+Y]}return a}class Ed{constructor(a,f){kp(this,a,1,f)}resize(a){fm(this,a,1)}clone(){return new Ed({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(a,f,m,B,E){dm(a,f,m,B,E,1)}}class bl{constructor(a,f){kp(this,a,4,f)}resize(a){fm(this,a,4)}replace(a,f){f?this.data.set(a):this.data=a instanceof Uint8ClampedArray?new Uint8Array(a.buffer):a}clone(){return new bl({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(a,f,m,B,E){dm(a,f,m,B,E,4)}}function xf(u){const a={},f=u.resolution||256,m=u.clips?u.clips.length:1,B=u.image||new bl({width:f,height:m});if(Math.log(f)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${f}`);const E=(I,O,N)=>{a[u.evaluationKey]=N;const V=u.expression.evaluate(a);B.data[I+O+0]=Math.floor(255*V.r/V.a),B.data[I+O+1]=Math.floor(255*V.g/V.a),B.data[I+O+2]=Math.floor(255*V.b/V.a),B.data[I+O+3]=Math.floor(255*V.a)};if(u.clips)for(let I=0,O=0;I<m;++I,O+=4*f)for(let N=0,V=0;N<f;N++,V+=4){const Z=N/(f-1),{start:Y,end:se}=u.clips[I];E(O,V,Y*(1-Z)+se*Z)}else for(let I=0,O=0;I<f;I++,O+=4)E(0,O,I/(f-1));return B}Rt("AlphaImage",Ed),Rt("RGBAImage",bl);const Td="big-fb";class Qp extends h{createBucket(a){return new um(a)}constructor(a){super(a,hm),this.heatmapFbos=new Map,this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(a){a==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=xf({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbos.has(Td)&&this.heatmapFbos.delete(Td)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}}let pm;var Ty={get paint(){return pm=pm||new _({"hillshade-illumination-direction":new lr(Ye.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new lr(Ye.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new lr(Ye.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new lr(Ye.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new lr(Ye.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new lr(Ye.paint_hillshade["hillshade-accent-color"])})}};class Id extends h{constructor(a){super(a,Ty)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}}const Iy=U([{name:"a_pos",components:2,type:"Int16"}],4),{members:gm}=Iy;function mm(u,a,f=2){const m=a&&a.length,B=m?a[0]*f:u.length;let E=Np(u,0,B,f,!0);const I=[];if(!E||E.next===E.prev)return I;let O,N,V;if(m&&(E=(function(Z,Y,se,he){const ve=[];for(let xe=0,He=Y.length;xe<He;xe++){const Xe=Np(Z,Y[xe]*he,xe<He-1?Y[xe+1]*he:Z.length,he,!1);Xe===Xe.next&&(Xe.steiner=!0),ve.push(Oy(Xe))}ve.sort(My);for(let xe=0;xe<ve.length;xe++)se=Rp(ve[xe],se);return se})(u,a,E,f)),u.length>80*f){O=1/0,N=1/0;let Z=-1/0,Y=-1/0;for(let se=f;se<B;se+=f){const he=u[se],ve=u[se+1];he<O&&(O=he),ve<N&&(N=ve),he>Z&&(Z=he),ve>Y&&(Y=ve)}V=Math.max(Z-O,Y-N),V=V!==0?32767/V:0}return Bf(E,I,f,O,N,V,0),I}function Np(u,a,f,m,B){let E;if(B===(function(I,O,N,V){let Z=0;for(let Y=O,se=N-V;Y<N;Y+=V)Z+=(I[se]-I[Y])*(I[Y+1]+I[se+1]),se=Y;return Z})(u,a,f,m)>0)for(let I=a;I<f;I+=m)E=Sf(I/m|0,u[I],u[I+1],E);else for(let I=f-m;I>=a;I-=m)E=Sf(I/m|0,u[I],u[I+1],E);return E&&ba(E,E.next)&&(Ef(E),E=E.next),E}function _c(u,a){if(!u)return u;a||(a=u);let f,m=u;do if(f=!1,m.steiner||!ba(m,m.next)&&ta(m.prev,m,m.next)!==0)m=m.next;else{if(Ef(m),m=a=m.prev,m===m.next)break;f=!0}while(f||m!==a);return a}function Bf(u,a,f,m,B,E,I){if(!u)return;!I&&E&&(function(N,V,Z,Y){let se=N;do se.z===0&&(se.z=Fd(se.x,se.y,V,Z,Y)),se.prevZ=se.prev,se.nextZ=se.next,se=se.next;while(se!==N);se.prevZ.nextZ=null,se.prevZ=null,(function(he){let ve,xe=1;do{let He,Xe=he;he=null;let ht=null;for(ve=0;Xe;){ve++;let nt=Xe,At=0;for(let Kt=0;Kt<xe&&(At++,nt=nt.nextZ,nt);Kt++);let Bt=xe;for(;At>0||Bt>0&&nt;)At!==0&&(Bt===0||!nt||Xe.z<=nt.z)?(He=Xe,Xe=Xe.nextZ,At--):(He=nt,nt=nt.nextZ,Bt--),ht?ht.nextZ=He:he=He,He.prevZ=ht,ht=He;Xe=nt}ht.nextZ=null,xe*=2}while(ve>1)})(se)})(u,m,B,E);let O=u;for(;u.prev!==u.next;){const N=u.prev,V=u.next;if(E?Fh(u,m,B,E):Fy(u))a.push(N.i,u.i,V.i),Ef(u),u=V.next,O=V.next;else if((u=V)===O){I?I===1?Bf(u=Uy(_c(u),a),a,f,m,B,E,2):I===2&&Ly(u,a,f,m,B,E):Bf(_c(u),a,f,m,B,E,1);break}}}function Fy(u){const a=u.prev,f=u,m=u.next;if(ta(a,f,m)>=0)return!1;const B=a.x,E=f.x,I=m.x,O=a.y,N=f.y,V=m.y,Z=B<E?B<I?B:I:E<I?E:I,Y=O<N?O<V?O:V:N<V?N:V,se=B>E?B>I?B:I:E>I?E:I,he=O>N?O>V?O:V:N>V?N:V;let ve=m.next;for(;ve!==a;){if(ve.x>=Z&&ve.x<=se&&ve.y>=Y&&ve.y<=he&&Uh(B,O,E,N,I,V,ve.x,ve.y)&&ta(ve.prev,ve,ve.next)>=0)return!1;ve=ve.next}return!0}function Fh(u,a,f,m){const B=u.prev,E=u,I=u.next;if(ta(B,E,I)>=0)return!1;const O=B.x,N=E.x,V=I.x,Z=B.y,Y=E.y,se=I.y,he=O<N?O<V?O:V:N<V?N:V,ve=Z<Y?Z<se?Z:se:Y<se?Y:se,xe=O>N?O>V?O:V:N>V?N:V,He=Z>Y?Z>se?Z:se:Y>se?Y:se,Xe=Fd(he,ve,a,f,m),ht=Fd(xe,He,a,f,m);let nt=u.prevZ,At=u.nextZ;for(;nt&&nt.z>=Xe&&At&&At.z<=ht;){if(nt.x>=he&&nt.x<=xe&&nt.y>=ve&&nt.y<=He&&nt!==B&&nt!==I&&Uh(O,Z,N,Y,V,se,nt.x,nt.y)&&ta(nt.prev,nt,nt.next)>=0||(nt=nt.prevZ,At.x>=he&&At.x<=xe&&At.y>=ve&&At.y<=He&&At!==B&&At!==I&&Uh(O,Z,N,Y,V,se,At.x,At.y)&&ta(At.prev,At,At.next)>=0))return!1;At=At.nextZ}for(;nt&&nt.z>=Xe;){if(nt.x>=he&&nt.x<=xe&&nt.y>=ve&&nt.y<=He&&nt!==B&&nt!==I&&Uh(O,Z,N,Y,V,se,nt.x,nt.y)&&ta(nt.prev,nt,nt.next)>=0)return!1;nt=nt.prevZ}for(;At&&At.z<=ht;){if(At.x>=he&&At.x<=xe&&At.y>=ve&&At.y<=He&&At!==B&&At!==I&&Uh(O,Z,N,Y,V,se,At.x,At.y)&&ta(At.prev,At,At.next)>=0)return!1;At=At.nextZ}return!0}function Uy(u,a){let f=u;do{const m=f.prev,B=f.next.next;!ba(m,B)&&Ds(m,f,f.next,B)&&Cf(m,B)&&Cf(B,m)&&(a.push(m.i,f.i,B.i),Ef(f),Ef(f.next),f=u=B),f=f.next}while(f!==u);return _c(f)}function Ly(u,a,f,m,B,E){let I=u;do{let O=I.next.next;for(;O!==I.prev;){if(I.i!==O.i&&Hb(I,O)){let N=ym(I,O);return I=_c(I,I.next),N=_c(N,N.next),Bf(I,a,f,m,B,E,0),void Bf(N,a,f,m,B,E,0)}O=O.next}I=I.next}while(I!==u)}function My(u,a){return u.x-a.x}function Rp(u,a){const f=(function(B,E){let I=E;const O=B.x,N=B.y;let V,Z=-1/0;do{if(N<=I.y&&N>=I.next.y&&I.next.y!==I.y){const xe=I.x+(N-I.y)*(I.next.x-I.x)/(I.next.y-I.y);if(xe<=O&&xe>Z&&(Z=xe,V=I.x<I.next.x?I:I.next,xe===O))return V}I=I.next}while(I!==E);if(!V)return null;const Y=V,se=V.x,he=V.y;let ve=1/0;I=V;do{if(O>=I.x&&I.x>=se&&O!==I.x&&Uh(N<he?O:Z,N,se,he,N<he?Z:O,N,I.x,I.y)){const xe=Math.abs(N-I.y)/(O-I.x);Cf(I,B)&&(xe<ve||xe===ve&&(I.x>V.x||I.x===V.x&&Py(V,I)))&&(V=I,ve=xe)}I=I.next}while(I!==Y);return V})(u,a);if(!f)return a;const m=ym(f,u);return _c(m,m.next),_c(f,f.next)}function Py(u,a){return ta(u.prev,u,a.prev)<0&&ta(a.next,u,u.next)<0}function Fd(u,a,f,m,B){return(u=1431655765&((u=858993459&((u=252645135&((u=16711935&((u=(u-f)*B|0)|u<<8))|u<<4))|u<<2))|u<<1))|(a=1431655765&((a=858993459&((a=252645135&((a=16711935&((a=(a-m)*B|0)|a<<8))|a<<4))|a<<2))|a<<1))<<1}function Oy(u){let a=u,f=u;do(a.x<f.x||a.x===f.x&&a.y<f.y)&&(f=a),a=a.next;while(a!==u);return f}function Uh(u,a,f,m,B,E,I,O){return(B-I)*(a-O)>=(u-I)*(E-O)&&(u-I)*(m-O)>=(f-I)*(a-O)&&(f-I)*(E-O)>=(B-I)*(m-O)}function Hb(u,a){return u.next.i!==a.i&&u.prev.i!==a.i&&!(function(f,m){let B=f;do{if(B.i!==f.i&&B.next.i!==f.i&&B.i!==m.i&&B.next.i!==m.i&&Ds(B,B.next,f,m))return!0;B=B.next}while(B!==f);return!1})(u,a)&&(Cf(u,a)&&Cf(a,u)&&(function(f,m){let B=f,E=!1;const I=(f.x+m.x)/2,O=(f.y+m.y)/2;do B.y>O!=B.next.y>O&&B.next.y!==B.y&&I<(B.next.x-B.x)*(O-B.y)/(B.next.y-B.y)+B.x&&(E=!E),B=B.next;while(B!==f);return E})(u,a)&&(ta(u.prev,u,a.prev)||ta(u,a.prev,a))||ba(u,a)&&ta(u.prev,u,u.next)>0&&ta(a.prev,a,a.next)>0)}function ta(u,a,f){return(a.y-u.y)*(f.x-a.x)-(a.x-u.x)*(f.y-a.y)}function ba(u,a){return u.x===a.x&&u.y===a.y}function Ds(u,a,f,m){const B=Ld(ta(u,a,f)),E=Ld(ta(u,a,m)),I=Ld(ta(f,m,u)),O=Ld(ta(f,m,a));return B!==E&&I!==O||!(B!==0||!Ud(u,f,a))||!(E!==0||!Ud(u,m,a))||!(I!==0||!Ud(f,u,m))||!(O!==0||!Ud(f,a,m))}function Ud(u,a,f){return a.x<=Math.max(u.x,f.x)&&a.x>=Math.min(u.x,f.x)&&a.y<=Math.max(u.y,f.y)&&a.y>=Math.min(u.y,f.y)}function Ld(u){return u>0?1:u<0?-1:0}function Cf(u,a){return ta(u.prev,u,u.next)<0?ta(u,a,u.next)>=0&&ta(u,u.prev,a)>=0:ta(u,a,u.prev)<0||ta(u,u.next,a)<0}function ym(u,a){const f=Tf(u.i,u.x,u.y),m=Tf(a.i,a.x,a.y),B=u.next,E=a.prev;return u.next=a,a.prev=u,f.next=B,B.prev=f,m.next=f,f.prev=m,E.next=m,m.prev=E,m}function Sf(u,a,f,m){const B=Tf(u,a,f);return m?(B.next=m.next,B.prev=m,m.next.prev=B,m.next=B):(B.prev=B,B.next=B),B}function Ef(u){u.next.prev=u.prev,u.prev.next=u.next,u.prevZ&&(u.prevZ.nextZ=u.nextZ),u.nextZ&&(u.nextZ.prevZ=u.prevZ)}function Tf(u,a,f){return{i:u,x:a,y:f,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function zp(u,a,f){const m=f.patternDependencies;let B=!1;for(const E of a){const I=E.paint.get(`${u}-pattern`);I.isConstant()||(B=!0);const O=I.constantOr(null);O&&(B=!0,m[O.to]=!0,m[O.from]=!0)}return B}function vm(u,a,f,m,B){const E=B.patternDependencies;for(const I of a){const O=I.paint.get(`${u}-pattern`).value;if(O.kind!=="constant"){let N=O.evaluate({zoom:m-1},f,{},B.availableImages),V=O.evaluate({zoom:m},f,{},B.availableImages),Z=O.evaluate({zoom:m+1},f,{},B.availableImages);N=N&&N.name?N.name:N,V=V&&V.name?V.name:V,Z=Z&&Z.name?Z.name:Z,E[N]=!0,E[V]=!0,E[Z]=!0,f.patterns[I.id]={min:N,mid:V,max:Z}}}return f}class If{constructor(a){this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map((f=>f.id)),this.index=a.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Cn,this.indexArray=new Ti,this.indexArray2=new ni,this.programConfigurations=new Qu(a.layers,a.zoom),this.segments=new cn,this.segments2=new cn,this.stateDependentLayerIds=this.layers.filter((f=>f.isStateDependent())).map((f=>f.id))}populate(a,f,m){this.hasPattern=zp("fill",this.layers,f);const B=this.layers[0].layout.get("fill-sort-key"),E=!B.isConstant(),I=[];for(const{feature:O,id:N,index:V,sourceLayerIndex:Z}of a){const Y=this.layers[0]._featureFilter.needGeometry,se=Nu(O,Y);if(!this.layers[0]._featureFilter.filter(new pn(this.zoom),se,m))continue;const he=E?B.evaluate(se,{},m,f.availableImages):void 0,ve={id:N,properties:O.properties,type:O.type,sourceLayerIndex:Z,index:V,geometry:Y?se.geometry:cu(O),patterns:{},sortKey:he};I.push(ve)}E&&I.sort(((O,N)=>O.sortKey-N.sortKey));for(const O of I){const{geometry:N,index:V,sourceLayerIndex:Z}=O;if(this.hasPattern){const Y=vm("fill",this.layers,O,this.zoom,f);this.patternFeatures.push(Y)}else this.addFeature(O,N,V,m,{});f.featureIndex.insert(a[V].feature,N,V,Z,this.index)}}update(a,f,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(a,f,this.stateDependentLayers,m)}addFeatures(a,f,m){for(const B of this.patternFeatures)this.addFeature(B,B.geometry,B.index,f,m)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(a){this.uploaded||(this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,gm),this.indexBuffer=a.createIndexBuffer(this.indexArray),this.indexBuffer2=a.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(a),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(a,f,m,B,E){for(const I of An(f,500)){let O=0;for(const he of I)O+=he.length;const N=this.segments.prepareSegment(O,this.layoutVertexArray,this.indexArray),V=N.vertexLength,Z=[],Y=[];for(const he of I){if(he.length===0)continue;he!==I[0]&&Y.push(Z.length/2);const ve=this.segments2.prepareSegment(he.length,this.layoutVertexArray,this.indexArray2),xe=ve.vertexLength;this.layoutVertexArray.emplaceBack(he[0].x,he[0].y),this.indexArray2.emplaceBack(xe+he.length-1,xe),Z.push(he[0].x),Z.push(he[0].y);for(let He=1;He<he.length;He++)this.layoutVertexArray.emplaceBack(he[He].x,he[He].y),this.indexArray2.emplaceBack(xe+He-1,xe+He),Z.push(he[He].x),Z.push(he[He].y);ve.vertexLength+=he.length,ve.primitiveLength+=he.length}const se=mm(Z,Y);for(let he=0;he<se.length;he+=3)this.indexArray.emplaceBack(V+se[he],V+se[he+1],V+se[he+2]);N.vertexLength+=O,N.primitiveLength+=se.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,a,m,E,B)}}let Hp,_m;Rt("FillBucket",If,{omit:["layers","patternFeatures"]});var Dy={get paint(){return _m=_m||new _({"fill-antialias":new lr(Ye.paint_fill["fill-antialias"]),"fill-opacity":new Cr(Ye.paint_fill["fill-opacity"]),"fill-color":new Cr(Ye.paint_fill["fill-color"]),"fill-outline-color":new Cr(Ye.paint_fill["fill-outline-color"]),"fill-translate":new lr(Ye.paint_fill["fill-translate"]),"fill-translate-anchor":new lr(Ye.paint_fill["fill-translate-anchor"]),"fill-pattern":new L(Ye.paint_fill["fill-pattern"])})},get layout(){return Hp=Hp||new _({"fill-sort-key":new Cr(Ye.layout_fill["fill-sort-key"])})}};class ky extends h{constructor(a){super(a,Dy)}recalculate(a,f){super.recalculate(a,f);const m=this.paint._values["fill-outline-color"];m.value.kind==="constant"&&m.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(a){return new If(a)}queryRadius(){return Pp(this.paint.get("fill-translate"))}queryIntersectsFeature(a,f,m,B,E,I,O){return RA(Cd(a,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),I.angle,O),B)}isTileClipped(){return!0}}const bm=U([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),wm=U([{name:"a_centroid",components:2,type:"Int16"}],4),{members:xm}=bm;var bc={},Bm=b,Md=Wc;function Wc(u,a,f,m,B){this.properties={},this.extent=f,this.type=0,this._pbf=u,this._geometry=-1,this._keys=m,this._values=B,u.readFields(Qy,this,a)}function Qy(u,a,f){u==1?a.id=f.readVarint():u==2?(function(m,B){for(var E=m.readVarint()+m.pos;m.pos<E;){var I=B._keys[m.readVarint()],O=B._values[m.readVarint()];B.properties[I]=O}})(f,a):u==3?a.type=f.readVarint():u==4&&(a._geometry=f.pos)}function Cm(u){for(var a,f,m=0,B=0,E=u.length,I=E-1;B<E;I=B++)m+=((f=u[I]).x-(a=u[B]).x)*(a.y+f.y);return m}Wc.types=["Unknown","Point","LineString","Polygon"],Wc.prototype.loadGeometry=function(){var u=this._pbf;u.pos=this._geometry;for(var a,f=u.readVarint()+u.pos,m=1,B=0,E=0,I=0,O=[];u.pos<f;){if(B<=0){var N=u.readVarint();m=7&N,B=N>>3}if(B--,m===1||m===2)E+=u.readSVarint(),I+=u.readSVarint(),m===1&&(a&&O.push(a),a=[]),a.push(new Bm(E,I));else{if(m!==7)throw new Error("unknown command "+m);a&&a.push(a[0].clone())}}return a&&O.push(a),O},Wc.prototype.bbox=function(){var u=this._pbf;u.pos=this._geometry;for(var a=u.readVarint()+u.pos,f=1,m=0,B=0,E=0,I=1/0,O=-1/0,N=1/0,V=-1/0;u.pos<a;){if(m<=0){var Z=u.readVarint();f=7&Z,m=Z>>3}if(m--,f===1||f===2)(B+=u.readSVarint())<I&&(I=B),B>O&&(O=B),(E+=u.readSVarint())<N&&(N=E),E>V&&(V=E);else if(f!==7)throw new Error("unknown command "+f)}return[I,N,O,V]},Wc.prototype.toGeoJSON=function(u,a,f){var m,B,E=this.extent*Math.pow(2,f),I=this.extent*u,O=this.extent*a,N=this.loadGeometry(),V=Wc.types[this.type];function Z(he){for(var ve=0;ve<he.length;ve++){var xe=he[ve];he[ve]=[360*(xe.x+I)/E-180,360/Math.PI*Math.atan(Math.exp((180-360*(xe.y+O)/E)*Math.PI/180))-90]}}switch(this.type){case 1:var Y=[];for(m=0;m<N.length;m++)Y[m]=N[m][0];Z(N=Y);break;case 2:for(m=0;m<N.length;m++)Z(N[m]);break;case 3:for(N=(function(he){var ve=he.length;if(ve<=1)return[he];for(var xe,He,Xe=[],ht=0;ht<ve;ht++){var nt=Cm(he[ht]);nt!==0&&(He===void 0&&(He=nt<0),He===nt<0?(xe&&Xe.push(xe),xe=[he[ht]]):xe.push(he[ht]))}return xe&&Xe.push(xe),Xe})(N),m=0;m<N.length;m++)for(B=0;B<N[m].length;B++)Z(N[m][B])}N.length===1?N=N[0]:V="Multi"+V;var se={type:"Feature",geometry:{type:V,coordinates:N},properties:this.properties};return"id"in this&&(se.id=this.id),se};var Ny=Md,Ru=jp;function jp(u,a){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=u,this._keys=[],this._values=[],this._features=[],u.readFields(jb,this,a),this.length=this._features.length}function jb(u,a,f){u===15?a.version=f.readVarint():u===1?a.name=f.readString():u===5?a.extent=f.readVarint():u===2?a._features.push(f.pos):u===3?a._keys.push(f.readString()):u===4&&a._values.push((function(m){for(var B=null,E=m.readVarint()+m.pos;m.pos<E;){var I=m.readVarint()>>3;B=I===1?m.readString():I===2?m.readFloat():I===3?m.readDouble():I===4?m.readVarint64():I===5?m.readVarint():I===6?m.readSVarint():I===7?m.readBoolean():null}return B})(f))}jp.prototype.feature=function(u){if(u<0||u>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[u];var a=this._pbf.readVarint()+this._pbf.pos;return new Ny(this._pbf,a,this.extent,this._keys,this._values)};var Ry=Ru;function wc(u,a,f){if(u===3){var m=new Ry(f,f.readVarint()+f.pos);m.length&&(a[m.name]=m)}}bc.VectorTile=function(u,a){this.layers=u.readFields(wc,{},a)},bc.VectorTileFeature=Md,bc.VectorTileLayer=Ru;const Sm=bc.VectorTileFeature.types,Kp=Math.pow(2,13);function Yc(u,a,f,m,B,E,I,O){u.emplaceBack(a,f,2*Math.floor(m*Kp)+I,B*Kp*2,E*Kp*2,Math.round(O))}class Lh{constructor(a){this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map((f=>f.id)),this.index=a.index,this.hasPattern=!1,this.layoutVertexArray=new xi,this.centroidVertexArray=new sn,this.indexArray=new Ti,this.programConfigurations=new Qu(a.layers,a.zoom),this.segments=new cn,this.stateDependentLayerIds=this.layers.filter((f=>f.isStateDependent())).map((f=>f.id))}populate(a,f,m){this.features=[],this.hasPattern=zp("fill-extrusion",this.layers,f);for(const{feature:B,id:E,index:I,sourceLayerIndex:O}of a){const N=this.layers[0]._featureFilter.needGeometry,V=Nu(B,N);if(!this.layers[0]._featureFilter.filter(new pn(this.zoom),V,m))continue;const Z={id:E,sourceLayerIndex:O,index:I,geometry:N?V.geometry:cu(B),properties:B.properties,type:B.type,patterns:{}};this.hasPattern?this.features.push(vm("fill-extrusion",this.layers,Z,this.zoom,f)):this.addFeature(Z,Z.geometry,I,m,{}),f.featureIndex.insert(B,Z.geometry,I,O,this.index,!0)}}addFeatures(a,f,m){for(const B of this.features){const{geometry:E}=B;this.addFeature(B,E,B.index,f,m)}}update(a,f,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(a,f,this.stateDependentLayers,m)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(a){this.uploaded||(this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,xm),this.centroidVertexBuffer=a.createVertexBuffer(this.centroidVertexArray,wm.members,!0),this.indexBuffer=a.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(a),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(a,f,m,B,E){for(const I of An(f,500)){const O={x:0,y:0,vertexCount:0};let N=0;for(const ve of I)N+=ve.length;let V=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const ve of I){if(ve.length===0||Kb(ve))continue;let xe=0;for(let He=0;He<ve.length;He++){const Xe=ve[He];if(He>=1){const ht=ve[He-1];if(!ra(Xe,ht)){V.vertexLength+4>cn.MAX_VERTEX_ARRAY_LENGTH&&(V=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const nt=Xe.sub(ht)._perp()._unit(),At=ht.dist(Xe);xe+At>32768&&(xe=0),Yc(this.layoutVertexArray,Xe.x,Xe.y,nt.x,nt.y,0,0,xe),Yc(this.layoutVertexArray,Xe.x,Xe.y,nt.x,nt.y,0,1,xe),O.x+=2*Xe.x,O.y+=2*Xe.y,O.vertexCount+=2,xe+=At,Yc(this.layoutVertexArray,ht.x,ht.y,nt.x,nt.y,0,0,xe),Yc(this.layoutVertexArray,ht.x,ht.y,nt.x,nt.y,0,1,xe),O.x+=2*ht.x,O.y+=2*ht.y,O.vertexCount+=2;const Bt=V.vertexLength;this.indexArray.emplaceBack(Bt,Bt+2,Bt+1),this.indexArray.emplaceBack(Bt+1,Bt+2,Bt+3),V.vertexLength+=4,V.primitiveLength+=2}}}}if(V.vertexLength+N>cn.MAX_VERTEX_ARRAY_LENGTH&&(V=this.segments.prepareSegment(N,this.layoutVertexArray,this.indexArray)),Sm[a.type]!=="Polygon")continue;const Z=[],Y=[],se=V.vertexLength;for(const ve of I)if(ve.length!==0){ve!==I[0]&&Y.push(Z.length/2);for(let xe=0;xe<ve.length;xe++){const He=ve[xe];Yc(this.layoutVertexArray,He.x,He.y,0,0,1,1,0),O.x+=He.x,O.y+=He.y,O.vertexCount+=1,Z.push(He.x),Z.push(He.y)}}const he=mm(Z,Y);for(let ve=0;ve<he.length;ve+=3)this.indexArray.emplaceBack(se+he[ve],se+he[ve+2],se+he[ve+1]);V.primitiveLength+=he.length/3,V.vertexLength+=N;for(let ve=0;ve<O.vertexCount;ve++){const xe=Math.floor(O.x/O.vertexCount),He=Math.floor(O.y/O.vertexCount);this.centroidVertexArray.emplaceBack(xe,He)}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,a,m,E,B)}}function ra(u,a){return u.x===a.x&&(u.x<0||u.x>ea)||u.y===a.y&&(u.y<0||u.y>ea)}function Kb(u){return u.every((a=>a.x<0))||u.every((a=>a.x>ea))||u.every((a=>a.y<0))||u.every((a=>a.y>ea))}let zy;Rt("FillExtrusionBucket",Lh,{omit:["layers","features"]});var Hy={get paint(){return zy=zy||new _({"fill-extrusion-opacity":new lr(Ye["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Cr(Ye["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new lr(Ye["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new lr(Ye["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new L(Ye["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Cr(Ye["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Cr(Ye["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new lr(Ye["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class Pd extends h{constructor(a){super(a,Hy)}createBucket(a){return new Lh(a)}queryRadius(){return Pp(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(a,f,m,B,E,I,O,N){const V=Cd(a,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),I.angle,O),Z=this.paint.get("fill-extrusion-height").evaluate(f,m),Y=this.paint.get("fill-extrusion-base").evaluate(f,m),se=(function(ve,xe,He,Xe){const ht=[];for(const nt of ve){const At=[nt.x,nt.y,0,1];Sd(At,At,xe),ht.push(new S(At[0]/At[3],At[1]/At[3]))}return ht})(V,N),he=(function(ve,xe,He,Xe){const ht=[],nt=[],At=Xe[8]*xe,Bt=Xe[9]*xe,Kt=Xe[10]*xe,er=Xe[11]*xe,kr=Xe[8]*He,Wt=Xe[9]*He,Yt=Xe[10]*He,pr=Xe[11]*He;for(const Ar of ve){const ir=[],Ut=[];for(const ar of Ar){const hr=ar.x,Kr=ar.y,Rn=Xe[0]*hr+Xe[4]*Kr+Xe[12],Ai=Xe[1]*hr+Xe[5]*Kr+Xe[13],Ja=Xe[2]*hr+Xe[6]*Kr+Xe[14],ao=Xe[3]*hr+Xe[7]*Kr+Xe[15],gs=Ja+Kt,es=ao+er,Bo=Rn+kr,Co=Ai+Wt,So=Ja+Yt,ha=ao+pr,ts=new S((Rn+At)/es,(Ai+Bt)/es);ts.z=gs/es,ir.push(ts);const so=new S(Bo/ha,Co/ha);so.z=So/ha,Ut.push(so)}ht.push(ir),nt.push(Ut)}return[ht,nt]})(B,Y,Z,N);return(function(ve,xe,He){let Xe=1/0;RA(He,xe)&&(Xe=Em(He,xe[0]));for(let ht=0;ht<xe.length;ht++){const nt=xe[ht],At=ve[ht];for(let Bt=0;Bt<nt.length-1;Bt++){const Kt=nt[Bt],er=[Kt,nt[Bt+1],At[Bt+1],At[Bt],Kt];$c(He,er)&&(Xe=Math.min(Xe,Em(He,er)))}}return Xe!==1/0&&Xe})(he[0],he[1],se)}}function zA(u,a){return u.x*a.x+u.y*a.y}function Em(u,a){if(u.length===1){let f=0;const m=a[f++];let B;for(;!B||m.equals(B);)if(B=a[f++],!B)return 1/0;for(;f<a.length;f++){const E=a[f],I=u[0],O=B.sub(m),N=E.sub(m),V=I.sub(m),Z=zA(O,O),Y=zA(O,N),se=zA(N,N),he=zA(V,O),ve=zA(V,N),xe=Z*se-Y*Y,He=(se*he-Y*ve)/xe,Xe=(Z*ve-Y*he)/xe,ht=m.z*(1-He-Xe)+B.z*He+E.z*Xe;if(isFinite(ht))return ht}return 1/0}{let f=1/0;for(const m of a)f=Math.min(f,m.z);return f}}const jy=U([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:Od}=jy,zu=U([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:Ky}=zu,Tm=bc.VectorTileFeature.types,Vy=Math.cos(Math.PI/180*37.5),Vp=Math.pow(2,14)/.5;class Dd{constructor(a){this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map((f=>f.id)),this.index=a.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach((f=>{this.gradients[f.id]={}})),this.layoutVertexArray=new Di,this.layoutVertexArray2=new Gn,this.indexArray=new Ti,this.programConfigurations=new Qu(a.layers,a.zoom),this.segments=new cn,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter((f=>f.isStateDependent())).map((f=>f.id))}populate(a,f,m){this.hasPattern=zp("line",this.layers,f);const B=this.layers[0].layout.get("line-sort-key"),E=!B.isConstant(),I=[];for(const{feature:O,id:N,index:V,sourceLayerIndex:Z}of a){const Y=this.layers[0]._featureFilter.needGeometry,se=Nu(O,Y);if(!this.layers[0]._featureFilter.filter(new pn(this.zoom),se,m))continue;const he=E?B.evaluate(se,{},m):void 0,ve={id:N,properties:O.properties,type:O.type,sourceLayerIndex:Z,index:V,geometry:Y?se.geometry:cu(O),patterns:{},sortKey:he};I.push(ve)}E&&I.sort(((O,N)=>O.sortKey-N.sortKey));for(const O of I){const{geometry:N,index:V,sourceLayerIndex:Z}=O;if(this.hasPattern){const Y=vm("line",this.layers,O,this.zoom,f);this.patternFeatures.push(Y)}else this.addFeature(O,N,V,m,{});f.featureIndex.insert(a[V].feature,N,V,Z,this.index)}}update(a,f,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(a,f,this.stateDependentLayers,m)}addFeatures(a,f,m){for(const B of this.patternFeatures)this.addFeature(B,B.geometry,B.index,f,m)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(a){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=a.createVertexBuffer(this.layoutVertexArray2,Ky)),this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,Od),this.indexBuffer=a.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(a),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(a){if(a.properties&&Object.prototype.hasOwnProperty.call(a.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(a.properties,"mapbox_clip_end"))return{start:+a.properties.mapbox_clip_start,end:+a.properties.mapbox_clip_end}}addFeature(a,f,m,B,E){const I=this.layers[0].layout,O=I.get("line-join").evaluate(a,{}),N=I.get("line-cap"),V=I.get("line-miter-limit"),Z=I.get("line-round-limit");this.lineClips=this.lineFeatureClips(a);for(const Y of f)this.addLine(Y,a,O,N,V,Z);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,a,m,E,B)}addLine(a,f,m,B,E,I){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let Xe=0;Xe<a.length-1;Xe++)this.totalDistance+=a[Xe].dist(a[Xe+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const O=Tm[f.type]==="Polygon";let N=a.length;for(;N>=2&&a[N-1].equals(a[N-2]);)N--;let V=0;for(;V<N-1&&a[V].equals(a[V+1]);)V++;if(N<(O?3:2))return;m==="bevel"&&(E=1.05);const Z=this.overscaling<=16?15*ea/(512*this.overscaling):0,Y=this.segments.prepareSegment(10*N,this.layoutVertexArray,this.indexArray);let se,he,ve,xe,He;this.e1=this.e2=-1,O&&(se=a[N-2],He=a[V].sub(se)._unit()._perp());for(let Xe=V;Xe<N;Xe++){if(ve=Xe===N-1?O?a[V+1]:void 0:a[Xe+1],ve&&a[Xe].equals(ve))continue;He&&(xe=He),se&&(he=se),se=a[Xe],He=ve?ve.sub(se)._unit()._perp():xe,xe=xe||He;let ht=xe.add(He);ht.x===0&&ht.y===0||ht._unit();const nt=xe.x*He.x+xe.y*He.y,At=ht.x*He.x+ht.y*He.y,Bt=At!==0?1/At:1/0,Kt=2*Math.sqrt(2-2*At),er=At<Vy&&he&&ve,kr=xe.x*He.y-xe.y*He.x>0;if(er&&Xe>V){const pr=se.dist(he);if(pr>2*Z){const Ar=se.sub(se.sub(he)._mult(Z/pr)._round());this.updateDistance(he,Ar),this.addCurrentVertex(Ar,xe,0,0,Y),he=Ar}}const Wt=he&&ve;let Yt=Wt?m:O?"butt":B;if(Wt&&Yt==="round"&&(Bt<I?Yt="miter":Bt<=2&&(Yt="fakeround")),Yt==="miter"&&Bt>E&&(Yt="bevel"),Yt==="bevel"&&(Bt>2&&(Yt="flipbevel"),Bt<E&&(Yt="miter")),he&&this.updateDistance(he,se),Yt==="miter")ht._mult(Bt),this.addCurrentVertex(se,ht,0,0,Y);else if(Yt==="flipbevel"){if(Bt>100)ht=He.mult(-1);else{const pr=Bt*xe.add(He).mag()/xe.sub(He).mag();ht._perp()._mult(pr*(kr?-1:1))}this.addCurrentVertex(se,ht,0,0,Y),this.addCurrentVertex(se,ht.mult(-1),0,0,Y)}else if(Yt==="bevel"||Yt==="fakeround"){const pr=-Math.sqrt(Bt*Bt-1),Ar=kr?pr:0,ir=kr?0:pr;if(he&&this.addCurrentVertex(se,xe,Ar,ir,Y),Yt==="fakeround"){const Ut=Math.round(180*Kt/Math.PI/20);for(let ar=1;ar<Ut;ar++){let hr=ar/Ut;if(hr!==.5){const Rn=hr-.5;hr+=hr*Rn*(hr-1)*((1.0904+nt*(nt*(3.55645-1.43519*nt)-3.2452))*Rn*Rn+(.848013+nt*(.215638*nt-1.06021)))}const Kr=He.sub(xe)._mult(hr)._add(xe)._unit()._mult(kr?-1:1);this.addHalfVertex(se,Kr.x,Kr.y,!1,kr,0,Y)}}ve&&this.addCurrentVertex(se,He,-Ar,-ir,Y)}else if(Yt==="butt")this.addCurrentVertex(se,ht,0,0,Y);else if(Yt==="square"){const pr=he?1:-1;this.addCurrentVertex(se,ht,pr,pr,Y)}else Yt==="round"&&(he&&(this.addCurrentVertex(se,xe,0,0,Y),this.addCurrentVertex(se,xe,1,1,Y,!0)),ve&&(this.addCurrentVertex(se,He,-1,-1,Y,!0),this.addCurrentVertex(se,He,0,0,Y)));if(er&&Xe<N-1){const pr=se.dist(ve);if(pr>2*Z){const Ar=se.add(ve.sub(se)._mult(Z/pr)._round());this.updateDistance(se,Ar),this.addCurrentVertex(Ar,He,0,0,Y),se=Ar}}}}addCurrentVertex(a,f,m,B,E,I=!1){const O=f.y*B-f.x,N=-f.y-f.x*B;this.addHalfVertex(a,f.x+f.y*m,f.y-f.x*m,I,!1,m,E),this.addHalfVertex(a,O,N,I,!0,-B,E),this.distance>Vp/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(a,f,m,B,E,I))}addHalfVertex({x:a,y:f},m,B,E,I,O,N){const V=.5*(this.lineClips?this.scaledDistance*(Vp-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((a<<1)+(E?1:0),(f<<1)+(I?1:0),Math.round(63*m)+128,Math.round(63*B)+128,1+(O===0?0:O<0?-1:1)|(63&V)<<2,V>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const Z=N.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,Z),N.primitiveLength++),I?this.e2=Z:this.e1=Z}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(a,f){this.distance+=a.dist(f),this.updateScaledDistance()}}let kd,Im;Rt("LineBucket",Dd,{omit:["layers","patternFeatures"]});var Hu={get paint(){return Im=Im||new _({"line-opacity":new Cr(Ye.paint_line["line-opacity"]),"line-color":new Cr(Ye.paint_line["line-color"]),"line-translate":new lr(Ye.paint_line["line-translate"]),"line-translate-anchor":new lr(Ye.paint_line["line-translate-anchor"]),"line-width":new Cr(Ye.paint_line["line-width"]),"line-gap-width":new Cr(Ye.paint_line["line-gap-width"]),"line-offset":new Cr(Ye.paint_line["line-offset"]),"line-blur":new Cr(Ye.paint_line["line-blur"]),"line-dasharray":new D(Ye.paint_line["line-dasharray"]),"line-pattern":new L(Ye.paint_line["line-pattern"]),"line-gradient":new X(Ye.paint_line["line-gradient"])})},get layout(){return kd=kd||new _({"line-cap":new lr(Ye.layout_line["line-cap"]),"line-join":new Cr(Ye.layout_line["line-join"]),"line-miter-limit":new lr(Ye.layout_line["line-miter-limit"]),"line-round-limit":new lr(Ye.layout_line["line-round-limit"]),"line-sort-key":new Cr(Ye.layout_line["line-sort-key"])})}};class Za extends Cr{possiblyEvaluate(a,f){return f=new pn(Math.floor(f.zoom),{now:f.now,fadeDuration:f.fadeDuration,zoomHistory:f.zoomHistory,transition:f.transition}),super.possiblyEvaluate(a,f)}evaluate(a,f,m,B){return f=Ee({},f,{zoom:Math.floor(f.zoom)}),super.evaluate(a,f,m,B)}}let Ff;class qy extends h{constructor(a){super(a,Hu),this.gradientVersion=0,Ff||(Ff=new Za(Hu.paint.properties["line-width"].specification),Ff.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(a){if(a==="line-gradient"){const f=this.gradientExpression();this.stepInterpolant=!!(function(m){return m._styleExpression!==void 0})(f)&&f._styleExpression.expression instanceof Hl,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(a,f){super.recalculate(a,f),this.paint._values["line-floorwidth"]=Ff.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,a)}createBucket(a){return new Dd(a)}queryRadius(a){const f=a,m=ds(Th("line-width",this,f),Th("line-gap-width",this,f)),B=Th("line-offset",this,f);return m/2+Math.abs(B)+Pp(this.paint.get("line-translate"))}queryIntersectsFeature(a,f,m,B,E,I,O){const N=Cd(a,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),I.angle,O),V=O/2*ds(this.paint.get("line-width").evaluate(f,m),this.paint.get("line-gap-width").evaluate(f,m)),Z=this.paint.get("line-offset").evaluate(f,m);return Z&&(B=(function(Y,se){const he=[];for(let ve=0;ve<Y.length;ve++){const xe=Y[ve],He=[];for(let Xe=0;Xe<xe.length;Xe++){const ht=xe[Xe-1],nt=xe[Xe],At=xe[Xe+1],Bt=Xe===0?new S(0,0):nt.sub(ht)._unit()._perp(),Kt=Xe===xe.length-1?new S(0,0):At.sub(nt)._unit()._perp(),er=Bt._add(Kt)._unit(),kr=er.x*Kt.x+er.y*Kt.y;kr!==0&&er._mult(1/kr),He.push(er._mult(se)._add(nt))}he.push(He)}return he})(B,Z*O)),(function(Y,se,he){for(let ve=0;ve<se.length;ve++){const xe=se[ve];if(Y.length>=3){for(let He=0;He<xe.length;He++)if(tA(Y,xe[He]))return!0}if(hu(Y,xe,he))return!0}return!1})(N,B,V)}isTileClipped(){return!0}}function ds(u,a){return a>0?a+2*u:u}const Vb=U([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Gy=U([{name:"a_projected_pos",components:3,type:"Float32"}],4);U([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const $y=U([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"},{name:"a_box_real",components:2,type:"Int16"}]);U([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const na=U([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),wl=U([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function xc(u,a,f){return u.sections.forEach((m=>{m.text=(function(B,E,I){const O=E.layout.get("text-transform").evaluate(I,{});return O==="uppercase"?B=B.toLocaleUpperCase():O==="lowercase"&&(B=B.toLocaleLowerCase()),ca.applyArabicShaping&&(B=ca.applyArabicShaping(B)),B})(m.text,a,f)})),u}U([{name:"triangle",components:3,type:"Uint16"}]),U([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),U([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),U([{type:"Float32",name:"offsetX"}]),U([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),U([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const Uf={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};var Ua=24,Fm=bn,Xy=function(u,a,f,m,B){var E,I,O=8*B-m-1,N=(1<<O)-1,V=N>>1,Z=-7,Y=B-1,se=-1,he=u[a+Y];for(Y+=se,E=he&(1<<-Z)-1,he>>=-Z,Z+=O;Z>0;E=256*E+u[a+Y],Y+=se,Z-=8);for(I=E&(1<<-Z)-1,E>>=-Z,Z+=m;Z>0;I=256*I+u[a+Y],Y+=se,Z-=8);if(E===0)E=1-V;else{if(E===N)return I?NaN:1/0*(he?-1:1);I+=Math.pow(2,m),E-=V}return(he?-1:1)*I*Math.pow(2,E-m)},Qd=function(u,a,f,m,B,E){var I,O,N,V=8*E-B-1,Z=(1<<V)-1,Y=Z>>1,se=B===23?Math.pow(2,-24)-Math.pow(2,-77):0,he=0,ve=1,xe=a<0||a===0&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(O=isNaN(a)?1:0,I=Z):(I=Math.floor(Math.log(a)/Math.LN2),a*(N=Math.pow(2,-I))<1&&(I--,N*=2),(a+=I+Y>=1?se/N:se*Math.pow(2,1-Y))*N>=2&&(I++,N/=2),I+Y>=Z?(O=0,I=Z):I+Y>=1?(O=(a*N-1)*Math.pow(2,B),I+=Y):(O=a*Math.pow(2,Y-1)*Math.pow(2,B),I=0));B>=8;u[f+he]=255&O,he+=ve,O/=256,B-=8);for(I=I<<B|O,V+=B;V>0;u[f+he]=255&I,he+=ve,I/=256,V-=8);u[f+he-ve]|=128*xe};function bn(u){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(u)?u:new Uint8Array(u||0),this.pos=0,this.type=0,this.length=this.buf.length}bn.Varint=0,bn.Fixed64=1,bn.Bytes=2,bn.Fixed32=5;var rA=4294967296,Um=1/rA,$o=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");function ju(u){return u.type===bn.Bytes?u.readVarint()+u.pos:u.pos+1}function xl(u,a,f){return f?4294967296*a+(u>>>0):4294967296*(a>>>0)+(u>>>0)}function Jc(u,a,f){var m=a<=16383?1:a<=2097151?2:a<=268435455?3:Math.floor(Math.log(a)/(7*Math.LN2));f.realloc(m);for(var B=f.pos-1;B>=u;B--)f.buf[B+m]=f.buf[B]}function Bc(u,a){for(var f=0;f<u.length;f++)a.writeVarint(u[f])}function Lm(u,a){for(var f=0;f<u.length;f++)a.writeSVarint(u[f])}function Mm(u,a){for(var f=0;f<u.length;f++)a.writeFloat(u[f])}function du(u,a){for(var f=0;f<u.length;f++)a.writeDouble(u[f])}function Zy(u,a){for(var f=0;f<u.length;f++)a.writeBoolean(u[f])}function Lf(u,a){for(var f=0;f<u.length;f++)a.writeFixed32(u[f])}function Nd(u,a){for(var f=0;f<u.length;f++)a.writeSFixed32(u[f])}function Rd(u,a){for(var f=0;f<u.length;f++)a.writeFixed64(u[f])}function Mf(u,a){for(var f=0;f<u.length;f++)a.writeSFixed64(u[f])}function zd(u,a){return(u[a]|u[a+1]<<8|u[a+2]<<16)+16777216*u[a+3]}function Mh(u,a,f){u[f]=a,u[f+1]=a>>>8,u[f+2]=a>>>16,u[f+3]=a>>>24}function Pf(u,a){return(u[a]|u[a+1]<<8|u[a+2]<<16)+(u[a+3]<<24)}bn.prototype={destroy:function(){this.buf=null},readFields:function(u,a,f){for(f=f||this.length;this.pos<f;){var m=this.readVarint(),B=m>>3,E=this.pos;this.type=7&m,u(B,a,this),this.pos===E&&this.skip(m)}return a},readMessage:function(u,a){return this.readFields(u,a,this.readVarint()+this.pos)},readFixed32:function(){var u=zd(this.buf,this.pos);return this.pos+=4,u},readSFixed32:function(){var u=Pf(this.buf,this.pos);return this.pos+=4,u},readFixed64:function(){var u=zd(this.buf,this.pos)+zd(this.buf,this.pos+4)*rA;return this.pos+=8,u},readSFixed64:function(){var u=zd(this.buf,this.pos)+Pf(this.buf,this.pos+4)*rA;return this.pos+=8,u},readFloat:function(){var u=Xy(this.buf,this.pos,!0,23,4);return this.pos+=4,u},readDouble:function(){var u=Xy(this.buf,this.pos,!0,52,8);return this.pos+=8,u},readVarint:function(u){var a,f,m=this.buf;return a=127&(f=m[this.pos++]),f<128?a:(a|=(127&(f=m[this.pos++]))<<7,f<128?a:(a|=(127&(f=m[this.pos++]))<<14,f<128?a:(a|=(127&(f=m[this.pos++]))<<21,f<128?a:(function(B,E,I){var O,N,V=I.buf;if(O=(112&(N=V[I.pos++]))>>4,N<128||(O|=(127&(N=V[I.pos++]))<<3,N<128)||(O|=(127&(N=V[I.pos++]))<<10,N<128)||(O|=(127&(N=V[I.pos++]))<<17,N<128)||(O|=(127&(N=V[I.pos++]))<<24,N<128)||(O|=(1&(N=V[I.pos++]))<<31,N<128))return xl(B,O,E);throw new Error("Expected varint not more than 10 bytes")})(a|=(15&(f=m[this.pos]))<<28,u,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var u=this.readVarint();return u%2==1?(u+1)/-2:u/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var u=this.readVarint()+this.pos,a=this.pos;return this.pos=u,u-a>=12&&$o?(function(f,m,B){return $o.decode(f.subarray(m,B))})(this.buf,a,u):(function(f,m,B){for(var E="",I=m;I<B;){var O,N,V,Z=f[I],Y=null,se=Z>239?4:Z>223?3:Z>191?2:1;if(I+se>B)break;se===1?Z<128&&(Y=Z):se===2?(192&(O=f[I+1]))==128&&(Y=(31&Z)<<6|63&O)<=127&&(Y=null):se===3?(N=f[I+2],(192&(O=f[I+1]))==128&&(192&N)==128&&((Y=(15&Z)<<12|(63&O)<<6|63&N)<=2047||Y>=55296&&Y<=57343)&&(Y=null)):se===4&&(N=f[I+2],V=f[I+3],(192&(O=f[I+1]))==128&&(192&N)==128&&(192&V)==128&&((Y=(15&Z)<<18|(63&O)<<12|(63&N)<<6|63&V)<=65535||Y>=1114112)&&(Y=null)),Y===null?(Y=65533,se=1):Y>65535&&(Y-=65536,E+=String.fromCharCode(Y>>>10&1023|55296),Y=56320|1023&Y),E+=String.fromCharCode(Y),I+=se}return E})(this.buf,a,u)},readBytes:function(){var u=this.readVarint()+this.pos,a=this.buf.subarray(this.pos,u);return this.pos=u,a},readPackedVarint:function(u,a){if(this.type!==bn.Bytes)return u.push(this.readVarint(a));var f=ju(this);for(u=u||[];this.pos<f;)u.push(this.readVarint(a));return u},readPackedSVarint:function(u){if(this.type!==bn.Bytes)return u.push(this.readSVarint());var a=ju(this);for(u=u||[];this.pos<a;)u.push(this.readSVarint());return u},readPackedBoolean:function(u){if(this.type!==bn.Bytes)return u.push(this.readBoolean());var a=ju(this);for(u=u||[];this.pos<a;)u.push(this.readBoolean());return u},readPackedFloat:function(u){if(this.type!==bn.Bytes)return u.push(this.readFloat());var a=ju(this);for(u=u||[];this.pos<a;)u.push(this.readFloat());return u},readPackedDouble:function(u){if(this.type!==bn.Bytes)return u.push(this.readDouble());var a=ju(this);for(u=u||[];this.pos<a;)u.push(this.readDouble());return u},readPackedFixed32:function(u){if(this.type!==bn.Bytes)return u.push(this.readFixed32());var a=ju(this);for(u=u||[];this.pos<a;)u.push(this.readFixed32());return u},readPackedSFixed32:function(u){if(this.type!==bn.Bytes)return u.push(this.readSFixed32());var a=ju(this);for(u=u||[];this.pos<a;)u.push(this.readSFixed32());return u},readPackedFixed64:function(u){if(this.type!==bn.Bytes)return u.push(this.readFixed64());var a=ju(this);for(u=u||[];this.pos<a;)u.push(this.readFixed64());return u},readPackedSFixed64:function(u){if(this.type!==bn.Bytes)return u.push(this.readSFixed64());var a=ju(this);for(u=u||[];this.pos<a;)u.push(this.readSFixed64());return u},skip:function(u){var a=7&u;if(a===bn.Varint)for(;this.buf[this.pos++]>127;);else if(a===bn.Bytes)this.pos=this.readVarint()+this.pos;else if(a===bn.Fixed32)this.pos+=4;else{if(a!==bn.Fixed64)throw new Error("Unimplemented type: "+a);this.pos+=8}},writeTag:function(u,a){this.writeVarint(u<<3|a)},realloc:function(u){for(var a=this.length||16;a<this.pos+u;)a*=2;if(a!==this.length){var f=new Uint8Array(a);f.set(this.buf),this.buf=f,this.length=a}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(u){this.realloc(4),Mh(this.buf,u,this.pos),this.pos+=4},writeSFixed32:function(u){this.realloc(4),Mh(this.buf,u,this.pos),this.pos+=4},writeFixed64:function(u){this.realloc(8),Mh(this.buf,-1&u,this.pos),Mh(this.buf,Math.floor(u*Um),this.pos+4),this.pos+=8},writeSFixed64:function(u){this.realloc(8),Mh(this.buf,-1&u,this.pos),Mh(this.buf,Math.floor(u*Um),this.pos+4),this.pos+=8},writeVarint:function(u){(u=+u||0)>268435455||u<0?(function(a,f){var m,B;if(a>=0?(m=a%4294967296|0,B=a/4294967296|0):(B=~(-a/4294967296),4294967295^(m=~(-a%4294967296))?m=m+1|0:(m=0,B=B+1|0)),a>=18446744073709552e3||a<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");f.realloc(10),(function(E,I,O){O.buf[O.pos++]=127&E|128,E>>>=7,O.buf[O.pos++]=127&E|128,E>>>=7,O.buf[O.pos++]=127&E|128,E>>>=7,O.buf[O.pos++]=127&E|128,O.buf[O.pos]=127&(E>>>=7)})(m,0,f),(function(E,I){var O=(7&E)<<4;I.buf[I.pos++]|=O|((E>>>=3)?128:0),E&&(I.buf[I.pos++]=127&E|((E>>>=7)?128:0),E&&(I.buf[I.pos++]=127&E|((E>>>=7)?128:0),E&&(I.buf[I.pos++]=127&E|((E>>>=7)?128:0),E&&(I.buf[I.pos++]=127&E|((E>>>=7)?128:0),E&&(I.buf[I.pos++]=127&E)))))})(B,f)})(u,this):(this.realloc(4),this.buf[this.pos++]=127&u|(u>127?128:0),u<=127||(this.buf[this.pos++]=127&(u>>>=7)|(u>127?128:0),u<=127||(this.buf[this.pos++]=127&(u>>>=7)|(u>127?128:0),u<=127||(this.buf[this.pos++]=u>>>7&127))))},writeSVarint:function(u){this.writeVarint(u<0?2*-u-1:2*u)},writeBoolean:function(u){this.writeVarint(!!u)},writeString:function(u){u=String(u),this.realloc(4*u.length),this.pos++;var a=this.pos;this.pos=(function(m,B,E){for(var I,O,N=0;N<B.length;N++){if((I=B.charCodeAt(N))>55295&&I<57344){if(!O){I>56319||N+1===B.length?(m[E++]=239,m[E++]=191,m[E++]=189):O=I;continue}if(I<56320){m[E++]=239,m[E++]=191,m[E++]=189,O=I;continue}I=O-55296<<10|I-56320|65536,O=null}else O&&(m[E++]=239,m[E++]=191,m[E++]=189,O=null);I<128?m[E++]=I:(I<2048?m[E++]=I>>6|192:(I<65536?m[E++]=I>>12|224:(m[E++]=I>>18|240,m[E++]=I>>12&63|128),m[E++]=I>>6&63|128),m[E++]=63&I|128)}return E})(this.buf,u,this.pos);var f=this.pos-a;f>=128&&Jc(a,f,this),this.pos=a-1,this.writeVarint(f),this.pos+=f},writeFloat:function(u){this.realloc(4),Qd(this.buf,u,this.pos,!0,23,4),this.pos+=4},writeDouble:function(u){this.realloc(8),Qd(this.buf,u,this.pos,!0,52,8),this.pos+=8},writeBytes:function(u){var a=u.length;this.writeVarint(a),this.realloc(a);for(var f=0;f<a;f++)this.buf[this.pos++]=u[f]},writeRawMessage:function(u,a){this.pos++;var f=this.pos;u(a,this);var m=this.pos-f;m>=128&&Jc(f,m,this),this.pos=f-1,this.writeVarint(m),this.pos+=m},writeMessage:function(u,a,f){this.writeTag(u,bn.Bytes),this.writeRawMessage(a,f)},writePackedVarint:function(u,a){a.length&&this.writeMessage(u,Bc,a)},writePackedSVarint:function(u,a){a.length&&this.writeMessage(u,Lm,a)},writePackedBoolean:function(u,a){a.length&&this.writeMessage(u,Zy,a)},writePackedFloat:function(u,a){a.length&&this.writeMessage(u,Mm,a)},writePackedDouble:function(u,a){a.length&&this.writeMessage(u,du,a)},writePackedFixed32:function(u,a){a.length&&this.writeMessage(u,Lf,a)},writePackedSFixed32:function(u,a){a.length&&this.writeMessage(u,Nd,a)},writePackedFixed64:function(u,a){a.length&&this.writeMessage(u,Rd,a)},writePackedSFixed64:function(u,a){a.length&&this.writeMessage(u,Mf,a)},writeBytesField:function(u,a){this.writeTag(u,bn.Bytes),this.writeBytes(a)},writeFixed32Field:function(u,a){this.writeTag(u,bn.Fixed32),this.writeFixed32(a)},writeSFixed32Field:function(u,a){this.writeTag(u,bn.Fixed32),this.writeSFixed32(a)},writeFixed64Field:function(u,a){this.writeTag(u,bn.Fixed64),this.writeFixed64(a)},writeSFixed64Field:function(u,a){this.writeTag(u,bn.Fixed64),this.writeSFixed64(a)},writeVarintField:function(u,a){this.writeTag(u,bn.Varint),this.writeVarint(a)},writeSVarintField:function(u,a){this.writeTag(u,bn.Varint),this.writeSVarint(a)},writeStringField:function(u,a){this.writeTag(u,bn.Bytes),this.writeString(a)},writeFloatField:function(u,a){this.writeTag(u,bn.Fixed32),this.writeFloat(a)},writeDoubleField:function(u,a){this.writeTag(u,bn.Fixed64),this.writeDouble(a)},writeBooleanField:function(u,a){this.writeVarintField(u,!!a)}};var qp=y(Fm);const Of=3;function Wy(u,a,f){u===1&&f.readMessage(qb,a)}function qb(u,a,f){if(u===3){const{id:m,bitmap:B,width:E,height:I,left:O,top:N,advance:V}=f.readMessage(Gb,{});a.push({id:m,bitmap:new Ed({width:E+2*Of,height:I+2*Of},B),metrics:{width:E,height:I,left:O,top:N,advance:V}})}}function Gb(u,a,f){u===1?a.id=f.readVarint():u===2?a.bitmap=f.readBytes():u===3?a.width=f.readVarint():u===4?a.height=f.readVarint():u===5?a.left=f.readSVarint():u===6?a.top=f.readSVarint():u===7&&(a.advance=f.readVarint())}const ii=Of;function Ii(u){let a=0,f=0;for(const I of u)a+=I.w*I.h,f=Math.max(f,I.w);u.sort(((I,O)=>O.h-I.h));const m=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(a/.95)),f),h:1/0}];let B=0,E=0;for(const I of u)for(let O=m.length-1;O>=0;O--){const N=m[O];if(!(I.w>N.w||I.h>N.h)){if(I.x=N.x,I.y=N.y,E=Math.max(E,I.y+I.h),B=Math.max(B,I.x+I.w),I.w===N.w&&I.h===N.h){const V=m.pop();O<m.length&&(m[O]=V)}else I.h===N.h?(N.x+=I.w,N.w-=I.w):I.w===N.w?(N.y+=I.h,N.h-=I.h):(m.push({x:N.x+I.w,y:N.y,w:N.w-I.w,h:I.h}),N.y+=I.h,N.h-=I.h);break}}return{w:B,h:E,fill:a/(B*E)||0}}const on=1;class Nn{constructor(a,{pixelRatio:f,version:m,stretchX:B,stretchY:E,content:I,textFitWidth:O,textFitHeight:N}){this.paddedRect=a,this.pixelRatio=f,this.stretchX=B,this.stretchY=E,this.content=I,this.version=m,this.textFitWidth=O,this.textFitHeight=N}get tl(){return[this.paddedRect.x+on,this.paddedRect.y+on]}get br(){return[this.paddedRect.x+this.paddedRect.w-on,this.paddedRect.y+this.paddedRect.h-on]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2*on)/this.pixelRatio,(this.paddedRect.h-2*on)/this.pixelRatio]}}class ci{constructor(a,f){const m={},B={};this.haveRenderCallbacks=[];const E=[];this.addImages(a,m,E),this.addImages(f,B,E);const{w:I,h:O}=Ii(E),N=new bl({width:I||1,height:O||1});for(const V in a){const Z=a[V],Y=m[V].paddedRect;bl.copy(Z.data,N,{x:0,y:0},{x:Y.x+on,y:Y.y+on},Z.data)}for(const V in f){const Z=f[V],Y=B[V].paddedRect,se=Y.x+on,he=Y.y+on,ve=Z.data.width,xe=Z.data.height;bl.copy(Z.data,N,{x:0,y:0},{x:se,y:he},Z.data),bl.copy(Z.data,N,{x:0,y:xe-1},{x:se,y:he-1},{width:ve,height:1}),bl.copy(Z.data,N,{x:0,y:0},{x:se,y:he+xe},{width:ve,height:1}),bl.copy(Z.data,N,{x:ve-1,y:0},{x:se-1,y:he},{width:1,height:xe}),bl.copy(Z.data,N,{x:0,y:0},{x:se+ve,y:he},{width:1,height:xe})}this.image=N,this.iconPositions=m,this.patternPositions=B}addImages(a,f,m){for(const B in a){const E=a[B],I={x:0,y:0,w:E.data.width+2*on,h:E.data.height+2*on};m.push(I),f[B]=new Nn(I,E),E.hasRenderCallback&&this.haveRenderCallbacks.push(B)}}patchUpdatedImages(a,f){a.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const m in a.updatedImages)this.patchUpdatedImage(this.iconPositions[m],a.getImage(m),f),this.patchUpdatedImage(this.patternPositions[m],a.getImage(m),f)}patchUpdatedImage(a,f,m){if(!a||!f||a.version===f.version)return;a.version=f.version;const[B,E]=a.tl;m.update(f.data,void 0,{x:B,y:E})}}var Wa;Rt("ImagePosition",Nn),Rt("ImageAtlas",ci),d.ah=void 0,(Wa=d.ah||(d.ah={}))[Wa.none=0]="none",Wa[Wa.horizontal=1]="horizontal",Wa[Wa.vertical=2]="vertical",Wa[Wa.horizontalOnly=3]="horizontalOnly";const HA=-17;class Ku{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(a,f){const m=new Ku;return m.scale=a||1,m.fontStack=f,m}static forImage(a){const f=new Ku;return f.imageName=a,f}}class eh{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(a,f){const m=new eh;for(let B=0;B<a.sections.length;B++){const E=a.sections[B];E.image?m.addImageSection(E):m.addTextSection(E,f)}return m}length(){return this.text.length}getSection(a){return this.sections[this.sectionIndex[a]]}getSectionIndex(a){return this.sectionIndex[a]}getCharCode(a){return this.text.charCodeAt(a)}verticalizePunctuation(){this.text=(function(a){let f="";for(let m=0;m<a.length;m++){const B=a.charCodeAt(m+1)||null,E=a.charCodeAt(m-1)||null;f+=B&&ro(B)&&!Uf[a[m+1]]||E&&ro(E)&&!Uf[a[m-1]]||!Uf[a[m]]?a[m]:Uf[a[m]]}return f})(this.text)}trim(){let a=0;for(let m=0;m<this.text.length&&ia[this.text.charCodeAt(m)];m++)a++;let f=this.text.length;for(let m=this.text.length-1;m>=0&&m>=a&&ia[this.text.charCodeAt(m)];m--)f--;this.text=this.text.substring(a,f),this.sectionIndex=this.sectionIndex.slice(a,f)}substring(a,f){const m=new eh;return m.text=this.text.substring(a,f),m.sectionIndex=this.sectionIndex.slice(a,f),m.sections=this.sections,m}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce(((a,f)=>Math.max(a,this.sections[f].scale)),0)}addTextSection(a,f){this.text+=a.text,this.sections.push(Ku.forText(a.scale,a.fontStack||f));const m=this.sections.length-1;for(let B=0;B<a.text.length;++B)this.sectionIndex.push(m)}addImageSection(a){const f=a.image?a.image.name:"";if(f.length===0)return void Fe("Can't add FormattedSection with an empty image.");const m=this.getNextImageSectionCharCode();m?(this.text+=String.fromCharCode(m),this.sections.push(Ku.forImage(f)),this.sectionIndex.push(this.sections.length-1)):Fe("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function jA(u,a,f,m,B,E,I,O,N,V,Z,Y,se,he,ve){const xe=eh.fromFeature(u,B);let He;Y===d.ah.vertical&&xe.verticalizePunctuation();const{processBidirectionalText:Xe,processStyledBidirectionalText:ht}=ca;if(Xe&&xe.sections.length===1){He=[];const Bt=Xe(xe.toString(),Hd(xe,V,E,a,m,he));for(const Kt of Bt){const er=new eh;er.text=Kt,er.sections=xe.sections;for(let kr=0;kr<Kt.length;kr++)er.sectionIndex.push(0);He.push(er)}}else if(ht){He=[];const Bt=ht(xe.text,xe.sectionIndex,Hd(xe,V,E,a,m,he));for(const Kt of Bt){const er=new eh;er.text=Kt[0],er.sectionIndex=Kt[1],er.sections=xe.sections,He.push(er)}}else He=(function(Bt,Kt){const er=[],kr=Bt.text;let Wt=0;for(const Yt of Kt)er.push(Bt.substring(Wt,Yt)),Wt=Yt;return Wt<kr.length&&er.push(Bt.substring(Wt,kr.length)),er})(xe,Hd(xe,V,E,a,m,he));const nt=[],At={positionedLines:nt,text:xe.toString(),top:Z[1],bottom:Z[1],left:Z[0],right:Z[0],writingMode:Y,iconsInText:!1,verticalizable:!1};return(function(Bt,Kt,er,kr,Wt,Yt,pr,Ar,ir,Ut,ar,hr){let Kr=0,Rn=HA,Ai=0,Ja=0;const ao=Ar==="right"?1:Ar==="left"?0:.5;let gs=0;for(const ha of Wt){ha.trim();const ts=ha.getMaxScale(),so=(ts-1)*Ua,ms={positionedGlyphs:[],lineOffset:0};Bt.positionedLines[gs]=ms;const Va=ms.positionedGlyphs;let La=0;if(!ha.length()){Rn+=Yt,++gs;continue}for(let Zo=0;Zo<ha.length();Zo++){const Fn=ha.getSection(Zo),ti=ha.getSectionIndex(Zo),Bi=ha.getCharCode(Zo);let oo=0,ki=null,oh=null,aA=null,gu=Ua;const sA=!(ir===d.ah.horizontal||!ar&&!vl(Bi)||ar&&(ia[Bi]||(es=Bi,new RegExp("\\p{sc=Arab}","u").test(String.fromCodePoint(es)))));if(Fn.imageName){const oA=kr[Fn.imageName];if(!oA)continue;aA=Fn.imageName,Bt.iconsInText=Bt.iconsInText||!0,oh=oA.paddedRect;const rs=oA.displaySize;Fn.scale=Fn.scale*Ua/hr,ki={width:rs[0],height:rs[1],left:on,top:-ii,advance:sA?rs[1]:rs[0]},oo=so+(Ua-rs[1]*Fn.scale),gu=ki.advance;const Sc=sA?rs[0]*Fn.scale-Ua*ts:rs[1]*Fn.scale-Ua*ts;Sc>0&&Sc>La&&(La=Sc)}else{const oA=er[Fn.fontStack],rs=oA&&oA[Bi];if(rs&&rs.rect)oh=rs.rect,ki=rs.metrics;else{const Sc=Kt[Fn.fontStack],Rh=Sc&&Sc[Bi];if(!Rh)continue;ki=Rh.metrics}oo=(ts-Fn.scale)*Ua}sA?(Bt.verticalizable=!0,Va.push({glyph:Bi,imageName:aA,x:Kr,y:Rn+oo,vertical:sA,scale:Fn.scale,fontStack:Fn.fontStack,sectionIndex:ti,metrics:ki,rect:oh}),Kr+=gu*Fn.scale+Ut):(Va.push({glyph:Bi,imageName:aA,x:Kr,y:Rn+oo,vertical:sA,scale:Fn.scale,fontStack:Fn.fontStack,sectionIndex:ti,metrics:ki,rect:oh}),Kr+=ki.advance*Fn.scale+Ut)}Va.length!==0&&(Ai=Math.max(Kr-Ut,Ai),Yy(Va,0,Va.length-1,ao,La)),Kr=0;const Cl=Yt*ts+La;ms.lineOffset=Math.max(La,so),Rn+=Cl,Ja=Math.max(Cl,Ja),++gs}var es;const Bo=Rn-HA,{horizontalAlign:Co,verticalAlign:So}=Qf(pr);(function(ha,ts,so,ms,Va,La,Cl,Zo,Fn){const ti=(ts-so)*Va;let Bi=0;Bi=La!==Cl?-Zo*ms-HA:(-ms*Fn+.5)*Cl;for(const oo of ha)for(const ki of oo.positionedGlyphs)ki.x+=ti,ki.y+=Bi})(Bt.positionedLines,ao,Co,So,Ai,Ja,Yt,Bo,Wt.length),Bt.top+=-So*Bo,Bt.bottom=Bt.top+Bo,Bt.left+=-Co*Ai,Bt.right=Bt.left+Ai})(At,a,f,m,He,I,O,N,Y,V,se,ve),!(function(Bt){for(const Kt of Bt)if(Kt.positionedGlyphs.length!==0)return!1;return!0})(nt)&&At}const ia={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},th={10:!0,32:!0,38:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0},Ph={40:!0};function Gp(u,a,f,m,B,E){if(a.imageName){const I=m[a.imageName];return I?I.displaySize[0]*a.scale*Ua/E+B:0}{const I=f[a.fontStack],O=I&&I[u];return O?O.metrics.advance*a.scale+B:0}}function Bl(u,a,f,m){const B=Math.pow(u-a,2);return m?u<a?B/2:2*B:B+Math.abs(f)*f}function Df(u,a,f){let m=0;return u===10&&(m-=1e4),f&&(m+=150),u!==40&&u!==65288||(m+=50),a!==41&&a!==65289||(m+=50),m}function kf(u,a,f,m,B,E){let I=null,O=Bl(a,f,B,E);for(const N of m){const V=Bl(a-N.x,f,B,E)+N.badness;V<=O&&(I=N,O=V)}return{index:u,x:a,priorBreak:I,badness:O}}function Xo(u){return u?Xo(u.priorBreak).concat(u.index):[]}function Hd(u,a,f,m,B,E){if(!u)return[];const I=[],O=(function(Y,se,he,ve,xe,He){let Xe=0;for(let ht=0;ht<Y.length();ht++){const nt=Y.getSection(ht);Xe+=Gp(Y.getCharCode(ht),nt,ve,xe,se,He)}return Xe/Math.max(1,Math.ceil(Xe/he))})(u,a,f,m,B,E),N=u.text.indexOf("")>=0;let V=0;for(let Y=0;Y<u.length();Y++){const se=u.getSection(Y),he=u.getCharCode(Y);if(ia[he]||(V+=Gp(he,se,m,B,a,E)),Y<u.length()-1){const ve=!((Z=he)<11904)&&(!!Hr["CJK Compatibility Forms"](Z)||!!Hr["CJK Compatibility"](Z)||!!Hr["CJK Strokes"](Z)||!!Hr["CJK Symbols and Punctuation"](Z)||!!Hr["Enclosed CJK Letters and Months"](Z)||!!Hr["Halfwidth and Fullwidth Forms"](Z)||!!Hr["Ideographic Description Characters"](Z)||!!Hr["Vertical Forms"](Z)||Go.test(String.fromCodePoint(Z)));(th[he]||ve||se.imageName||Y!==u.length()-2&&Ph[u.getCharCode(Y+1)])&&I.push(kf(Y+1,V,O,I,Df(he,u.getCharCode(Y+1),ve&&N),!1))}}var Z;return Xo(kf(u.length(),V,O,I,0,!0))}function Qf(u){let a=.5,f=.5;switch(u){case"right":case"top-right":case"bottom-right":a=1;break;case"left":case"top-left":case"bottom-left":a=0}switch(u){case"bottom":case"bottom-right":case"bottom-left":f=1;break;case"top":case"top-right":case"top-left":f=0}return{horizontalAlign:a,verticalAlign:f}}function Yy(u,a,f,m,B){if(!m&&!B)return;const E=u[f],I=(u[f].x+E.metrics.advance*E.scale)*m;for(let O=a;O<=f;O++)u[O].x-=I,u[O].y+=B}function $p(u,a,f){const{horizontalAlign:m,verticalAlign:B}=Qf(f),E=a[0]-u.displaySize[0]*m,I=a[1]-u.displaySize[1]*B;return{image:u,top:I,bottom:I+u.displaySize[1],left:E,right:E+u.displaySize[0]}}function jd(u){var a,f;let m=u.left,B=u.top,E=u.right-m,I=u.bottom-B;const O=(a=u.image.textFitWidth)!==null&&a!==void 0?a:"stretchOrShrink",N=(f=u.image.textFitHeight)!==null&&f!==void 0?f:"stretchOrShrink",V=(u.image.content[2]-u.image.content[0])/(u.image.content[3]-u.image.content[1]);if(N==="proportional"){if(O==="stretchOnly"&&E/I<V||O==="proportional"){const Z=Math.ceil(I*V);m*=Z/E,E=Z}}else if(O==="proportional"&&N==="stretchOnly"&&V!==0&&E/I>V){const Z=Math.ceil(E/V);B*=Z/I,I=Z}return{x1:m,y1:B,x2:m+E,y2:B+I}}function Cc(u,a,f,m,B,E){const I=u.image;let O;if(I.content){const He=I.content,Xe=I.pixelRatio||1;O=[He[0]/Xe,He[1]/Xe,I.displaySize[0]-He[2]/Xe,I.displaySize[1]-He[3]/Xe]}const N=a.left*E,V=a.right*E;let Z,Y,se,he;f==="width"||f==="both"?(he=B[0]+N-m[3],Y=B[0]+V+m[1]):(he=B[0]+(N+V-I.displaySize[0])/2,Y=he+I.displaySize[0]);const ve=a.top*E,xe=a.bottom*E;return f==="height"||f==="both"?(Z=B[1]+ve-m[0],se=B[1]+xe+m[2]):(Z=B[1]+(ve+xe-I.displaySize[1])/2,se=Z+I.displaySize[1]),{image:I,top:Z,right:Y,bottom:se,left:he,collisionPadding:O}}const wa=255,io=128,nA=wa*io;function Vu(u,a){const{expression:f}=a;if(f.kind==="constant")return{kind:"constant",layoutSize:f.evaluate(new pn(u+1))};if(f.kind==="source")return{kind:"source"};{const{zoomStops:m,interpolationType:B}=f;let E=0;for(;E<m.length&&m[E]<=u;)E++;E=Math.max(0,E-1);let I=E;for(;I<m.length&&m[I]<u+1;)I++;I=Math.min(m.length-1,I);const O=m[E],N=m[I];return f.kind==="composite"?{kind:"composite",minZoom:O,maxZoom:N,interpolationType:B}:{kind:"camera",minZoom:O,maxZoom:N,minSize:f.evaluate(new pn(O)),maxSize:f.evaluate(new pn(N)),interpolationType:B}}}function Kd(u,a,f){let m="never";const B=u.get(a);return B?m=B:u.get(f)&&(m="always"),m}const Pm=bc.VectorTileFeature.types,Jy=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function rh(u,a,f,m,B,E,I,O,N,V,Z,Y,se){const he=O?Math.min(nA,Math.round(O[0])):0,ve=O?Math.min(nA,Math.round(O[1])):0;u.emplaceBack(a,f,Math.round(32*m),Math.round(32*B),E,I,(he<<1)+(N?1:0),ve,16*V,16*Z,256*Y,256*se)}function Vd(u,a,f){u.emplaceBack(a.x,a.y,f),u.emplaceBack(a.x,a.y,f),u.emplaceBack(a.x,a.y,f),u.emplaceBack(a.x,a.y,f)}function iA(u){for(const a of u.sections)if(jc(a.text))return!0;return!1}class Xp{constructor(a){this.layoutVertexArray=new _a,this.indexArray=new Ti,this.programConfigurations=a,this.segments=new cn,this.dynamicLayoutVertexArray=new Ei,this.opacityVertexArray=new mr,this.hasVisibleVertices=!1,this.placedSymbolArray=new un}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(a,f,m,B){this.isEmpty()||(m&&(this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,Vb.members),this.indexBuffer=a.createIndexBuffer(this.indexArray,f),this.dynamicLayoutVertexBuffer=a.createVertexBuffer(this.dynamicLayoutVertexArray,Gy.members,!0),this.opacityVertexBuffer=a.createVertexBuffer(this.opacityVertexArray,Jy,!0),this.opacityVertexBuffer.itemSize=1),(m||B)&&this.programConfigurations.upload(a))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}Rt("SymbolBuffers",Xp);class wo{constructor(a,f,m){this.layoutVertexArray=new a,this.layoutAttributes=f,this.indexArray=new m,this.segments=new cn,this.collisionVertexArray=new xn}upload(a){this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=a.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=a.createVertexBuffer(this.collisionVertexArray,$y.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}Rt("CollisionBuffers",wo);class Oh{constructor(a){this.collisionBoxArray=a.collisionBoxArray,this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map((I=>I.id)),this.index=a.index,this.pixelRatio=a.pixelRatio,this.sourceLayerIndex=a.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Op([]),this.placementViewportMatrix=Op([]);const f=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Vu(this.zoom,f["text-size"]),this.iconSizeData=Vu(this.zoom,f["icon-size"]);const m=this.layers[0].layout,B=m.get("symbol-sort-key"),E=m.get("symbol-z-order");this.canOverlap=Kd(m,"text-overlap","text-allow-overlap")!=="never"||Kd(m,"icon-overlap","icon-allow-overlap")!=="never"||m.get("text-ignore-placement")||m.get("icon-ignore-placement"),this.sortFeaturesByKey=E!=="viewport-y"&&!B.isConstant(),this.sortFeaturesByY=(E==="viewport-y"||E==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,m.get("symbol-placement")==="point"&&(this.writingModes=m.get("text-writing-mode").map((I=>d.ah[I]))),this.stateDependentLayerIds=this.layers.filter((I=>I.isStateDependent())).map((I=>I.id)),this.sourceID=a.sourceID}createArrays(){this.text=new Xp(new Qu(this.layers,this.zoom,(a=>/^text/.test(a)))),this.icon=new Xp(new Qu(this.layers,this.zoom,(a=>/^icon/.test(a)))),this.glyphOffsetArray=new wr,this.lineVertexArray=new an,this.symbolInstances=new Lr,this.textAnchorOffsets=new Dr}calculateGlyphDependencies(a,f,m,B,E){for(let I=0;I<a.length;I++)if(f[a.charCodeAt(I)]=!0,(m||B)&&E){const O=Uf[a.charAt(I)];O&&(f[O.charCodeAt(0)]=!0)}}populate(a,f,m){const B=this.layers[0],E=B.layout,I=E.get("text-font"),O=E.get("text-field"),N=E.get("icon-image"),V=(O.value.kind!=="constant"||O.value.value instanceof vi&&!O.value.value.isEmpty()||O.value.value.toString().length>0)&&(I.value.kind!=="constant"||I.value.value.length>0),Z=N.value.kind!=="constant"||!!N.value.value||Object.keys(N.parameters).length>0,Y=E.get("symbol-sort-key");if(this.features=[],!V&&!Z)return;const se=f.iconDependencies,he=f.glyphDependencies,ve=f.availableImages,xe=new pn(this.zoom);for(const{feature:He,id:Xe,index:ht,sourceLayerIndex:nt}of a){const At=B._featureFilter.needGeometry,Bt=Nu(He,At);if(!B._featureFilter.filter(xe,Bt,m))continue;let Kt,er;if(At||(Bt.geometry=cu(He)),V){const Wt=B.getValueAndResolveTokens("text-field",Bt,m,ve),Yt=vi.factory(Wt),pr=this.hasRTLText=this.hasRTLText||iA(Yt);(!pr||ca.getRTLTextPluginStatus()==="unavailable"||pr&&ca.isParsed())&&(Kt=xc(Yt,B,Bt))}if(Z){const Wt=B.getValueAndResolveTokens("icon-image",Bt,m,ve);er=Wt instanceof ka?Wt:ka.fromString(Wt)}if(!Kt&&!er)continue;const kr=this.sortFeaturesByKey?Y.evaluate(Bt,{},m):void 0;if(this.features.push({id:Xe,text:Kt,icon:er,index:ht,sourceLayerIndex:nt,geometry:Bt.geometry,properties:He.properties,type:Pm[He.type],sortKey:kr}),er&&(se[er.name]=!0),Kt){const Wt=I.evaluate(Bt,{},m).join(","),Yt=E.get("text-rotation-alignment")!=="viewport"&&E.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(d.ah.vertical)>=0;for(const pr of Kt.sections)if(pr.image)se[pr.image.name]=!0;else{const Ar=$l(Kt.toString()),ir=pr.fontStack||Wt,Ut=he[ir]=he[ir]||{};this.calculateGlyphDependencies(pr.text,Ut,Yt,this.allowVerticalPlacement,Ar)}}}E.get("symbol-placement")==="line"&&(this.features=(function(He){const Xe={},ht={},nt=[];let At=0;function Bt(Wt){nt.push(He[Wt]),At++}function Kt(Wt,Yt,pr){const Ar=ht[Wt];return delete ht[Wt],ht[Yt]=Ar,nt[Ar].geometry[0].pop(),nt[Ar].geometry[0]=nt[Ar].geometry[0].concat(pr[0]),Ar}function er(Wt,Yt,pr){const Ar=Xe[Yt];return delete Xe[Yt],Xe[Wt]=Ar,nt[Ar].geometry[0].shift(),nt[Ar].geometry[0]=pr[0].concat(nt[Ar].geometry[0]),Ar}function kr(Wt,Yt,pr){const Ar=pr?Yt[0][Yt[0].length-1]:Yt[0][0];return`${Wt}:${Ar.x}:${Ar.y}`}for(let Wt=0;Wt<He.length;Wt++){const Yt=He[Wt],pr=Yt.geometry,Ar=Yt.text?Yt.text.toString():null;if(!Ar){Bt(Wt);continue}const ir=kr(Ar,pr),Ut=kr(Ar,pr,!0);if(ir in ht&&Ut in Xe&&ht[ir]!==Xe[Ut]){const ar=er(ir,Ut,pr),hr=Kt(ir,Ut,nt[ar].geometry);delete Xe[ir],delete ht[Ut],ht[kr(Ar,nt[hr].geometry,!0)]=hr,nt[ar].geometry=null}else ir in ht?Kt(ir,Ut,pr):Ut in Xe?er(ir,Ut,pr):(Bt(Wt),Xe[ir]=At-1,ht[Ut]=At-1)}return nt.filter((Wt=>Wt.geometry))})(this.features)),this.sortFeaturesByKey&&this.features.sort(((He,Xe)=>He.sortKey-Xe.sortKey))}update(a,f,m){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(a,f,this.layers,m),this.icon.programConfigurations.updatePaintArrays(a,f,this.layers,m))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(a){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(a),this.iconCollisionBox.upload(a)),this.text.upload(a,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(a,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(a,f){const m=this.lineVertexArray.length;if(a.segment!==void 0){let B=a.dist(f[a.segment+1]),E=a.dist(f[a.segment]);const I={};for(let O=a.segment+1;O<f.length;O++)I[O]={x:f[O].x,y:f[O].y,tileUnitDistanceFromAnchor:B},O<f.length-1&&(B+=f[O+1].dist(f[O]));for(let O=a.segment||0;O>=0;O--)I[O]={x:f[O].x,y:f[O].y,tileUnitDistanceFromAnchor:E},O>0&&(E+=f[O-1].dist(f[O]));for(let O=0;O<f.length;O++){const N=I[O];this.lineVertexArray.emplaceBack(N.x,N.y,N.tileUnitDistanceFromAnchor)}}return{lineStartIndex:m,lineLength:this.lineVertexArray.length-m}}addSymbols(a,f,m,B,E,I,O,N,V,Z,Y,se){const he=a.indexArray,ve=a.layoutVertexArray,xe=a.segments.prepareSegment(4*f.length,ve,he,this.canOverlap?I.sortKey:void 0),He=this.glyphOffsetArray.length,Xe=xe.vertexLength,ht=this.allowVerticalPlacement&&O===d.ah.vertical?Math.PI/2:0,nt=I.text&&I.text.sections;for(let At=0;At<f.length;At++){const{tl:Bt,tr:Kt,bl:er,br:kr,tex:Wt,pixelOffsetTL:Yt,pixelOffsetBR:pr,minFontScaleX:Ar,minFontScaleY:ir,glyphOffset:Ut,isSDF:ar,sectionIndex:hr}=f[At],Kr=xe.vertexLength,Rn=Ut[1];rh(ve,N.x,N.y,Bt.x,Rn+Bt.y,Wt.x,Wt.y,m,ar,Yt.x,Yt.y,Ar,ir),rh(ve,N.x,N.y,Kt.x,Rn+Kt.y,Wt.x+Wt.w,Wt.y,m,ar,pr.x,Yt.y,Ar,ir),rh(ve,N.x,N.y,er.x,Rn+er.y,Wt.x,Wt.y+Wt.h,m,ar,Yt.x,pr.y,Ar,ir),rh(ve,N.x,N.y,kr.x,Rn+kr.y,Wt.x+Wt.w,Wt.y+Wt.h,m,ar,pr.x,pr.y,Ar,ir),Vd(a.dynamicLayoutVertexArray,N,ht),he.emplaceBack(Kr,Kr+1,Kr+2),he.emplaceBack(Kr+1,Kr+2,Kr+3),xe.vertexLength+=4,xe.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Ut[0]),At!==f.length-1&&hr===f[At+1].sectionIndex||a.programConfigurations.populatePaintArrays(ve.length,I,I.index,{},se,nt&&nt[hr])}a.placedSymbolArray.emplaceBack(N.x,N.y,He,this.glyphOffsetArray.length-He,Xe,V,Z,N.segment,m?m[0]:0,m?m[1]:0,B[0],B[1],O,0,!1,0,Y)}_addCollisionDebugVertex(a,f,m,B,E,I){return f.emplaceBack(0,0),a.emplaceBack(m.x,m.y,B,E,Math.round(I.x),Math.round(I.y))}addCollisionDebugVertices(a,f,m,B,E,I,O){const N=E.segments.prepareSegment(4,E.layoutVertexArray,E.indexArray),V=N.vertexLength,Z=E.layoutVertexArray,Y=E.collisionVertexArray,se=O.anchorX,he=O.anchorY;this._addCollisionDebugVertex(Z,Y,I,se,he,new S(a,f)),this._addCollisionDebugVertex(Z,Y,I,se,he,new S(m,f)),this._addCollisionDebugVertex(Z,Y,I,se,he,new S(m,B)),this._addCollisionDebugVertex(Z,Y,I,se,he,new S(a,B)),N.vertexLength+=4;const ve=E.indexArray;ve.emplaceBack(V,V+1),ve.emplaceBack(V+1,V+2),ve.emplaceBack(V+2,V+3),ve.emplaceBack(V+3,V),N.primitiveLength+=4}addDebugCollisionBoxes(a,f,m,B){for(let E=a;E<f;E++){const I=this.collisionBoxArray.get(E);this.addCollisionDebugVertices(I.x1,I.y1,I.x2,I.y2,B?this.textCollisionBox:this.iconCollisionBox,I.anchorPoint,m)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new wo(vr,na.members,ni),this.iconCollisionBox=new wo(vr,na.members,ni);for(let a=0;a<this.symbolInstances.length;a++){const f=this.symbolInstances.get(a);this.addDebugCollisionBoxes(f.textBoxStartIndex,f.textBoxEndIndex,f,!0),this.addDebugCollisionBoxes(f.verticalTextBoxStartIndex,f.verticalTextBoxEndIndex,f,!0),this.addDebugCollisionBoxes(f.iconBoxStartIndex,f.iconBoxEndIndex,f,!1),this.addDebugCollisionBoxes(f.verticalIconBoxStartIndex,f.verticalIconBoxEndIndex,f,!1)}}_deserializeCollisionBoxesForSymbol(a,f,m,B,E,I,O,N,V){const Z={};for(let Y=f;Y<m;Y++){const se=a.get(Y);Z.textBox={x1:se.x1,y1:se.y1,x2:se.x2,y2:se.y2,anchorPointX:se.anchorPointX,anchorPointY:se.anchorPointY},Z.textFeatureIndex=se.featureIndex;break}for(let Y=B;Y<E;Y++){const se=a.get(Y);Z.verticalTextBox={x1:se.x1,y1:se.y1,x2:se.x2,y2:se.y2,anchorPointX:se.anchorPointX,anchorPointY:se.anchorPointY},Z.verticalTextFeatureIndex=se.featureIndex;break}for(let Y=I;Y<O;Y++){const se=a.get(Y);Z.iconBox={x1:se.x1,y1:se.y1,x2:se.x2,y2:se.y2,anchorPointX:se.anchorPointX,anchorPointY:se.anchorPointY},Z.iconFeatureIndex=se.featureIndex;break}for(let Y=N;Y<V;Y++){const se=a.get(Y);Z.verticalIconBox={x1:se.x1,y1:se.y1,x2:se.x2,y2:se.y2,anchorPointX:se.anchorPointX,anchorPointY:se.anchorPointY},Z.verticalIconFeatureIndex=se.featureIndex;break}return Z}deserializeCollisionBoxes(a){this.collisionArrays=[];for(let f=0;f<this.symbolInstances.length;f++){const m=this.symbolInstances.get(f);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(a,m.textBoxStartIndex,m.textBoxEndIndex,m.verticalTextBoxStartIndex,m.verticalTextBoxEndIndex,m.iconBoxStartIndex,m.iconBoxEndIndex,m.verticalIconBoxStartIndex,m.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(a,f){const m=a.placedSymbolArray.get(f),B=m.vertexStartIndex+4*m.numGlyphs;for(let E=m.vertexStartIndex;E<B;E+=4)a.indexArray.emplaceBack(E,E+1,E+2),a.indexArray.emplaceBack(E+1,E+2,E+3)}getSortedSymbolIndexes(a){if(this.sortedAngle===a&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const f=Math.sin(a),m=Math.cos(a),B=[],E=[],I=[];for(let O=0;O<this.symbolInstances.length;++O){I.push(O);const N=this.symbolInstances.get(O);B.push(0|Math.round(f*N.anchorX+m*N.anchorY)),E.push(N.featureIndex)}return I.sort(((O,N)=>B[O]-B[N]||E[N]-E[O])),I}addToSortKeyRanges(a,f){const m=this.sortKeyRanges[this.sortKeyRanges.length-1];m&&m.sortKey===f?m.symbolInstanceEnd=a+1:this.sortKeyRanges.push({sortKey:f,symbolInstanceStart:a,symbolInstanceEnd:a+1})}sortFeatures(a){if(this.sortFeaturesByY&&this.sortedAngle!==a&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(a),this.sortedAngle=a,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const f of this.symbolInstanceIndexes){const m=this.symbolInstances.get(f);this.featureSortOrder.push(m.featureIndex),[m.rightJustifiedTextSymbolIndex,m.centerJustifiedTextSymbolIndex,m.leftJustifiedTextSymbolIndex].forEach(((B,E,I)=>{B>=0&&I.indexOf(B)===E&&this.addIndicesForPlacedSymbol(this.text,B)})),m.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,m.verticalPlacedTextSymbolIndex),m.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,m.placedIconSymbolIndex),m.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,m.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let Om,ev;Rt("SymbolBucket",Oh,{omit:["layers","collisionBoxArray","features","compareText"]}),Oh.MAX_GLYPHS=65535,Oh.addDynamicAttributes=Vd;var qu={get paint(){return ev=ev||new _({"icon-opacity":new Cr(Ye.paint_symbol["icon-opacity"]),"icon-color":new Cr(Ye.paint_symbol["icon-color"]),"icon-halo-color":new Cr(Ye.paint_symbol["icon-halo-color"]),"icon-halo-width":new Cr(Ye.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Cr(Ye.paint_symbol["icon-halo-blur"]),"icon-translate":new lr(Ye.paint_symbol["icon-translate"]),"icon-translate-anchor":new lr(Ye.paint_symbol["icon-translate-anchor"]),"text-opacity":new Cr(Ye.paint_symbol["text-opacity"]),"text-color":new Cr(Ye.paint_symbol["text-color"],{runtimeType:Xr,getOverride:u=>u.textColor,hasOverride:u=>!!u.textColor}),"text-halo-color":new Cr(Ye.paint_symbol["text-halo-color"]),"text-halo-width":new Cr(Ye.paint_symbol["text-halo-width"]),"text-halo-blur":new Cr(Ye.paint_symbol["text-halo-blur"]),"text-translate":new lr(Ye.paint_symbol["text-translate"]),"text-translate-anchor":new lr(Ye.paint_symbol["text-translate-anchor"])})},get layout(){return Om=Om||new _({"symbol-placement":new lr(Ye.layout_symbol["symbol-placement"]),"symbol-spacing":new lr(Ye.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new lr(Ye.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Cr(Ye.layout_symbol["symbol-sort-key"]),"symbol-z-order":new lr(Ye.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new lr(Ye.layout_symbol["icon-allow-overlap"]),"icon-overlap":new lr(Ye.layout_symbol["icon-overlap"]),"icon-ignore-placement":new lr(Ye.layout_symbol["icon-ignore-placement"]),"icon-optional":new lr(Ye.layout_symbol["icon-optional"]),"icon-rotation-alignment":new lr(Ye.layout_symbol["icon-rotation-alignment"]),"icon-size":new Cr(Ye.layout_symbol["icon-size"]),"icon-text-fit":new lr(Ye.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new lr(Ye.layout_symbol["icon-text-fit-padding"]),"icon-image":new Cr(Ye.layout_symbol["icon-image"]),"icon-rotate":new Cr(Ye.layout_symbol["icon-rotate"]),"icon-padding":new Cr(Ye.layout_symbol["icon-padding"]),"icon-keep-upright":new lr(Ye.layout_symbol["icon-keep-upright"]),"icon-offset":new Cr(Ye.layout_symbol["icon-offset"]),"icon-anchor":new Cr(Ye.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new lr(Ye.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new lr(Ye.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new lr(Ye.layout_symbol["text-rotation-alignment"]),"text-field":new Cr(Ye.layout_symbol["text-field"]),"text-font":new Cr(Ye.layout_symbol["text-font"]),"text-size":new Cr(Ye.layout_symbol["text-size"]),"text-max-width":new Cr(Ye.layout_symbol["text-max-width"]),"text-line-height":new lr(Ye.layout_symbol["text-line-height"]),"text-letter-spacing":new Cr(Ye.layout_symbol["text-letter-spacing"]),"text-justify":new Cr(Ye.layout_symbol["text-justify"]),"text-radial-offset":new Cr(Ye.layout_symbol["text-radial-offset"]),"text-variable-anchor":new lr(Ye.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new Cr(Ye.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new Cr(Ye.layout_symbol["text-anchor"]),"text-max-angle":new lr(Ye.layout_symbol["text-max-angle"]),"text-writing-mode":new lr(Ye.layout_symbol["text-writing-mode"]),"text-rotate":new Cr(Ye.layout_symbol["text-rotate"]),"text-padding":new lr(Ye.layout_symbol["text-padding"]),"text-keep-upright":new lr(Ye.layout_symbol["text-keep-upright"]),"text-transform":new Cr(Ye.layout_symbol["text-transform"]),"text-offset":new Cr(Ye.layout_symbol["text-offset"]),"text-allow-overlap":new lr(Ye.layout_symbol["text-allow-overlap"]),"text-overlap":new lr(Ye.layout_symbol["text-overlap"]),"text-ignore-placement":new lr(Ye.layout_symbol["text-ignore-placement"]),"text-optional":new lr(Ye.layout_symbol["text-optional"])})}};class qd{constructor(a){if(a.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=a.property.overrides?a.property.overrides.runtimeType:ri,this.defaultValue=a}evaluate(a){if(a.formattedSection){const f=this.defaultValue.property.overrides;if(f&&f.hasOverride(a.formattedSection))return f.getOverride(a.formattedSection)}return a.feature&&a.featureState?this.defaultValue.evaluate(a.feature,a.featureState):this.defaultValue.property.specification.default}eachChild(a){this.defaultValue.isConstant()||a(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Rt("FormatSectionOverride",qd,{omit:["defaultValue"]});class Nf extends h{constructor(a){super(a,qu)}recalculate(a,f){if(super.recalculate(a,f),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const m=this.layout.get("text-writing-mode");if(m){const B=[];for(const E of m)B.indexOf(E)<0&&B.push(E);this.layout._values["text-writing-mode"]=B}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(a,f,m,B){const E=this.layout.get(a).evaluate(f,{},m,B),I=this._unevaluatedLayout._values[a];return I.isDataDriven()||ls(I.value)||!E?E:(function(O,N){return N.replace(/{([^{}]+)}/g,((V,Z)=>O&&Z in O?String(O[Z]):""))})(f.properties,E)}createBucket(a){return new Oh(a)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const a of qu.paint.overridableProperties){if(!Nf.hasPaintOverride(this.layout,a))continue;const f=this.paint.get(a),m=new qd(f),B=new ya(m,f.property.specification);let E=null;E=f.value.kind==="constant"||f.value.kind==="source"?new Bn("source",B):new Xn("composite",B,f.value.zoomStops),this.paint._values[a]=new fs(f.property,E,f.parameters)}}_handleOverridablePaintPropertyUpdate(a,f,m){return!(!this.layout||f.isDataDriven()||m.isDataDriven())&&Nf.hasPaintOverride(this.layout,a)}static hasPaintOverride(a,f){const m=a.get("text-field"),B=qu.paint.properties[f];let E=!1;const I=O=>{for(const N of O)if(B.overrides&&B.overrides.hasOverride(N))return void(E=!0)};if(m.value.kind==="constant"&&m.value.value instanceof vi)I(m.value.value.sections);else if(m.value.kind==="source"){const O=V=>{E||(V instanceof Xi&&Vn(V.value)===Rr?I(V.value.sections):V instanceof jl?I(V.sections):V.eachChild(O))},N=m.value;N._styleExpression&&O(N._styleExpression.expression)}return E}}let Dh;var tv={get paint(){return Dh=Dh||new _({"background-color":new lr(Ye.paint_background["background-color"]),"background-pattern":new D(Ye.paint_background["background-pattern"]),"background-opacity":new lr(Ye.paint_background["background-opacity"])})}};class rv extends h{constructor(a){super(a,tv)}}let Dm;var nv={get paint(){return Dm=Dm||new _({"raster-opacity":new lr(Ye.paint_raster["raster-opacity"]),"raster-hue-rotate":new lr(Ye.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new lr(Ye.paint_raster["raster-brightness-min"]),"raster-brightness-max":new lr(Ye.paint_raster["raster-brightness-max"]),"raster-saturation":new lr(Ye.paint_raster["raster-saturation"]),"raster-contrast":new lr(Ye.paint_raster["raster-contrast"]),"raster-resampling":new lr(Ye.paint_raster["raster-resampling"]),"raster-fade-duration":new lr(Ye.paint_raster["raster-fade-duration"])})}};class Zp extends h{constructor(a){super(a,nv)}}class km extends h{constructor(a){super(a,{}),this.onAdd=f=>{this.implementation.onAdd&&this.implementation.onAdd(f,f.painter.context.gl)},this.onRemove=f=>{this.implementation.onRemove&&this.implementation.onRemove(f,f.painter.context.gl)},this.implementation=a}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class $b{constructor(a){this._methodToThrottle=a,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._methodToThrottle()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((()=>{this._triggered=!1,this._methodToThrottle()}),0))}remove(){delete this._channel,this._methodToThrottle=()=>{}}}const Qm=63710088e-1;class nh{constructor(a,f){if(isNaN(a)||isNaN(f))throw new Error(`Invalid LngLat object: (${a}, ${f})`);if(this.lng=+a,this.lat=+f,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new nh(me(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(a){const f=Math.PI/180,m=this.lat*f,B=a.lat*f,E=Math.sin(m)*Math.sin(B)+Math.cos(m)*Math.cos(B)*Math.cos((a.lng-this.lng)*f);return Qm*Math.acos(Math.min(E,1))}static convert(a){if(a instanceof nh)return a;if(Array.isArray(a)&&(a.length===2||a.length===3))return new nh(Number(a[0]),Number(a[1]));if(!Array.isArray(a)&&typeof a=="object"&&a!==null)return new nh(Number("lng"in a?a.lng:a.lon),Number(a.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const Nm=2*Math.PI*Qm;function Rm(u){return Nm*Math.cos(u*Math.PI/180)}function kh(u){return(180+u)/360}function Gd(u){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+u*Math.PI/360)))/360}function zm(u,a){return u/Rm(a)}function Wp(u){return 360/Math.PI*Math.atan(Math.exp((180-360*u)*Math.PI/180))-90}class Rf{constructor(a,f,m=0){this.x=+a,this.y=+f,this.z=+m}static fromLngLat(a,f=0){const m=nh.convert(a);return new Rf(kh(m.lng),Gd(m.lat),zm(f,m.lat))}toLngLat(){return new nh(360*this.x-180,Wp(this.y))}toAltitude(){return this.z*Rm(Wp(this.y))}meterInMercatorCoordinateUnits(){return 1/Nm*(a=Wp(this.y),1/Math.cos(a*Math.PI/180));var a}}function Hm(u,a,f){var m=2*Math.PI*6378137/256/Math.pow(2,f);return[u*m-2*Math.PI*6378137/2,a*m-2*Math.PI*6378137/2]}class Yp{constructor(a,f,m){if(!(function(B,E,I){return!(B<0||B>25||I<0||I>=Math.pow(2,B)||E<0||E>=Math.pow(2,B))})(a,f,m))throw new Error(`x=${f}, y=${m}, z=${a} outside of bounds. 0<=x<${Math.pow(2,a)}, 0<=y<${Math.pow(2,a)} 0<=z<=25 `);this.z=a,this.x=f,this.y=m,this.key=zf(0,a,a,f,m)}equals(a){return this.z===a.z&&this.x===a.x&&this.y===a.y}url(a,f,m){const B=(I=this.y,O=this.z,N=Hm(256*(E=this.x),256*(I=Math.pow(2,O)-I-1),O),V=Hm(256*(E+1),256*(I+1),O),N[0]+","+N[1]+","+V[0]+","+V[1]);var E,I,O,N,V;const Z=(function(Y,se,he){let ve,xe="";for(let He=Y;He>0;He--)ve=1<<He-1,xe+=(se&ve?1:0)+(he&ve?2:0);return xe})(this.z,this.x,this.y);return a[(this.x+this.y)%a.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(m==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,f>1?"@2x":"").replace(/{quadkey}/g,Z).replace(/{bbox-epsg-3857}/g,B)}isChildOf(a){const f=this.z-a.z;return f>0&&a.x===this.x>>f&&a.y===this.y>>f}getTilePoint(a){const f=Math.pow(2,this.z);return new S((a.x*f-this.x)*ea,(a.y*f-this.y)*ea)}toString(){return`${this.z}/${this.x}/${this.y}`}}class jm{constructor(a,f){this.wrap=a,this.canonical=f,this.key=zf(a,f.z,f.z,f.x,f.y)}}class xo{constructor(a,f,m,B,E){if(a<m)throw new Error(`overscaledZ should be >= z; overscaledZ = ${a}; z = ${m}`);this.overscaledZ=a,this.wrap=f,this.canonical=new Yp(m,+B,+E),this.key=zf(f,a,m,B,E)}clone(){return new xo(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(a){return this.overscaledZ===a.overscaledZ&&this.wrap===a.wrap&&this.canonical.equals(a.canonical)}scaledTo(a){if(a>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${a}; overscaledZ = ${this.overscaledZ}`);const f=this.canonical.z-a;return a>this.canonical.z?new xo(a,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new xo(a,this.wrap,a,this.canonical.x>>f,this.canonical.y>>f)}calculateScaledKey(a,f){if(a>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${a}; overscaledZ = ${this.overscaledZ}`);const m=this.canonical.z-a;return a>this.canonical.z?zf(this.wrap*+f,a,this.canonical.z,this.canonical.x,this.canonical.y):zf(this.wrap*+f,a,a,this.canonical.x>>m,this.canonical.y>>m)}isChildOf(a){if(a.wrap!==this.wrap)return!1;const f=this.canonical.z-a.canonical.z;return a.overscaledZ===0||a.overscaledZ<this.overscaledZ&&a.canonical.x===this.canonical.x>>f&&a.canonical.y===this.canonical.y>>f}children(a){if(this.overscaledZ>=a)return[new xo(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const f=this.canonical.z+1,m=2*this.canonical.x,B=2*this.canonical.y;return[new xo(f,this.wrap,f,m,B),new xo(f,this.wrap,f,m+1,B),new xo(f,this.wrap,f,m,B+1),new xo(f,this.wrap,f,m+1,B+1)]}isLessThan(a){return this.wrap<a.wrap||!(this.wrap>a.wrap)&&(this.overscaledZ<a.overscaledZ||!(this.overscaledZ>a.overscaledZ)&&(this.canonical.x<a.canonical.x||!(this.canonical.x>a.canonical.x)&&this.canonical.y<a.canonical.y))}wrapped(){return new xo(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(a){return new xo(this.overscaledZ,a,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new jm(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(a){return this.canonical.getTilePoint(new Rf(a.x-this.wrap,a.y))}}function zf(u,a,f,m,B){(u*=2)<0&&(u=-1*u-1);const E=1<<f;return(E*E*u+E*B+m).toString(36)+f.toString(36)+a.toString(36)}Rt("CanonicalTileID",Yp),Rt("OverscaledTileID",xo,{omit:["posMatrix"]});class Km{constructor(a,f,m,B=1,E=1,I=1,O=0){if(this.uid=a,f.height!==f.width)throw new RangeError("DEM tiles must be square");if(m&&!["mapbox","terrarium","custom"].includes(m))return void Fe(`"${m}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=f.height;const N=this.dim=f.height-2;switch(this.data=new Uint32Array(f.data.buffer),m){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=B,this.greenFactor=E,this.blueFactor=I,this.baseShift=O;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let V=0;V<N;V++)this.data[this._idx(-1,V)]=this.data[this._idx(0,V)],this.data[this._idx(N,V)]=this.data[this._idx(N-1,V)],this.data[this._idx(V,-1)]=this.data[this._idx(V,0)],this.data[this._idx(V,N)]=this.data[this._idx(V,N-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(N,-1)]=this.data[this._idx(N-1,0)],this.data[this._idx(-1,N)]=this.data[this._idx(0,N-1)],this.data[this._idx(N,N)]=this.data[this._idx(N-1,N-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let V=0;V<N;V++)for(let Z=0;Z<N;Z++){const Y=this.get(V,Z);Y>this.max&&(this.max=Y),Y<this.min&&(this.min=Y)}}get(a,f){const m=new Uint8Array(this.data.buffer),B=4*this._idx(a,f);return this.unpack(m[B],m[B+1],m[B+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(a,f){if(a<-1||a>=this.dim+1||f<-1||f>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(f+1)*this.stride+(a+1)}unpack(a,f,m){return a*this.redFactor+f*this.greenFactor+m*this.blueFactor-this.baseShift}getPixels(){return new bl({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(a,f,m){if(this.dim!==a.dim)throw new Error("dem dimension mismatch");let B=f*this.dim,E=f*this.dim+this.dim,I=m*this.dim,O=m*this.dim+this.dim;switch(f){case-1:B=E-1;break;case 1:E=B+1}switch(m){case-1:I=O-1;break;case 1:O=I+1}const N=-f*this.dim,V=-m*this.dim;for(let Z=I;Z<O;Z++)for(let Y=B;Y<E;Y++)this.data[this._idx(Y,Z)]=a.data[this._idx(Y+N,Z+V)]}}Rt("DEMData",Km);class hi{constructor(a){this._stringToNumber={},this._numberToString=[];for(let f=0;f<a.length;f++){const m=a[f];this._stringToNumber[m]=f,this._numberToString[f]=m}}encode(a){return this._stringToNumber[a]}decode(a){if(a>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${a} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[a]}}class Jp{constructor(a,f,m,B,E){this.type="Feature",this._vectorTileFeature=a,a._z=f,a._x=m,a._y=B,this.properties=a.properties,this.id=E}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(a){this._geometry=a}toJSON(){const a={geometry:this.geometry};for(const f in this)f!=="_geometry"&&f!=="_vectorTileFeature"&&(a[f]=this[f]);return a}}class iv{constructor(a,f){this.tileID=a,this.x=a.canonical.x,this.y=a.canonical.y,this.z=a.canonical.z,this.grid=new Vi(ea,16,0),this.grid3D=new Vi(ea,16,0),this.featureIndexArray=new In,this.promoteId=f}insert(a,f,m,B,E,I){const O=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(m,B,E);const N=I?this.grid3D:this.grid;for(let V=0;V<f.length;V++){const Z=f[V],Y=[1/0,1/0,-1/0,-1/0];for(let se=0;se<Z.length;se++){const he=Z[se];Y[0]=Math.min(Y[0],he.x),Y[1]=Math.min(Y[1],he.y),Y[2]=Math.max(Y[2],he.x),Y[3]=Math.max(Y[3],he.y)}Y[0]<ea&&Y[1]<ea&&Y[2]>=0&&Y[3]>=0&&N.insert(O,Y[0],Y[1],Y[2],Y[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new bc.VectorTile(new qp(this.rawTileData)).layers,this.sourceLayerCoder=new hi(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(a,f,m,B){this.loadVTLayers();const E=a.params||{},I=ea/a.tileSize/a.scale,O=cc(E.filter),N=a.queryGeometry,V=a.queryPadding*I,Z=av(N),Y=this.grid.query(Z.minX-V,Z.minY-V,Z.maxX+V,Z.maxY+V),se=av(a.cameraQueryGeometry),he=this.grid3D.query(se.minX-V,se.minY-V,se.maxX+V,se.maxY+V,((He,Xe,ht,nt)=>(function(At,Bt,Kt,er,kr){for(const Yt of At)if(Bt<=Yt.x&&Kt<=Yt.y&&er>=Yt.x&&kr>=Yt.y)return!0;const Wt=[new S(Bt,Kt),new S(Bt,kr),new S(er,kr),new S(er,Kt)];if(At.length>2){for(const Yt of Wt)if(tA(At,Yt))return!0}for(let Yt=0;Yt<At.length-1;Yt++)if(Cy(At[Yt],At[Yt+1],Wt))return!0;return!1})(a.cameraQueryGeometry,He-V,Xe-V,ht+V,nt+V)));for(const He of he)Y.push(He);Y.sort(Xb);const ve={};let xe;for(let He=0;He<Y.length;He++){const Xe=Y[He];if(Xe===xe)continue;xe=Xe;const ht=this.featureIndexArray.get(Xe);let nt=null;this.loadMatchingFeature(ve,ht.bucketIndex,ht.sourceLayerIndex,ht.featureIndex,O,E.layers,E.availableImages,f,m,B,((At,Bt,Kt)=>(nt||(nt=cu(At)),Bt.queryIntersectsFeature(N,At,Kt,nt,this.z,a.transform,I,a.pixelPosMatrix))))}return ve}loadMatchingFeature(a,f,m,B,E,I,O,N,V,Z,Y){const se=this.bucketLayerIDs[f];if(I&&!(function(He,Xe){for(let ht=0;ht<He.length;ht++)if(Xe.indexOf(He[ht])>=0)return!0;return!1})(I,se))return;const he=this.sourceLayerCoder.decode(m),ve=this.vtLayers[he].feature(B);if(E.needGeometry){const He=Nu(ve,!0);if(!E.filter(new pn(this.tileID.overscaledZ),He,this.tileID.canonical))return}else if(!E.filter(new pn(this.tileID.overscaledZ),ve))return;const xe=this.getId(ve,he);for(let He=0;He<se.length;He++){const Xe=se[He];if(I&&I.indexOf(Xe)<0)continue;const ht=N[Xe];if(!ht)continue;let nt={};xe&&Z&&(nt=Z.getState(ht.sourceLayer||"_geojsonTileLayer",xe));const At=Ee({},V[Xe]);At.paint=Vm(At.paint,ht.paint,ve,nt,O),At.layout=Vm(At.layout,ht.layout,ve,nt,O);const Bt=!Y||Y(ve,ht,nt);if(!Bt)continue;const Kt=new Jp(ve,this.z,this.x,this.y,xe);Kt.layer=At;let er=a[Xe];er===void 0&&(er=a[Xe]=[]),er.push({featureIndex:B,feature:Kt,intersectionZ:Bt})}}lookupSymbolFeatures(a,f,m,B,E,I,O,N){const V={};this.loadVTLayers();const Z=cc(E);for(const Y of a)this.loadMatchingFeature(V,m,B,Y,Z,I,O,N,f);return V}hasLayer(a){for(const f of this.bucketLayerIDs)for(const m of f)if(a===m)return!0;return!1}getId(a,f){let m=a.id;return this.promoteId&&(m=a.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[f]],typeof m=="boolean"&&(m=Number(m))),m}}function Vm(u,a,f,m,B){return ge(u,((E,I)=>{const O=a instanceof Wl?a.get(I):null;return O&&O.evaluate?O.evaluate(f,m,B):O}))}function av(u){let a=1/0,f=1/0,m=-1/0,B=-1/0;for(const E of u)a=Math.min(a,E.x),f=Math.min(f,E.y),m=Math.max(m,E.x),B=Math.max(B,E.y);return{minX:a,minY:f,maxX:m,maxY:B}}function Xb(u,a){return a-u}function sv(u,a,f,m,B){const E=[];for(let I=0;I<u.length;I++){const O=u[I];let N;for(let V=0;V<O.length-1;V++){let Z=O[V],Y=O[V+1];Z.x<a&&Y.x<a||(Z.x<a?Z=new S(a,Z.y+(a-Z.x)/(Y.x-Z.x)*(Y.y-Z.y))._round():Y.x<a&&(Y=new S(a,Z.y+(a-Z.x)/(Y.x-Z.x)*(Y.y-Z.y))._round()),Z.y<f&&Y.y<f||(Z.y<f?Z=new S(Z.x+(f-Z.y)/(Y.y-Z.y)*(Y.x-Z.x),f)._round():Y.y<f&&(Y=new S(Z.x+(f-Z.y)/(Y.y-Z.y)*(Y.x-Z.x),f)._round()),Z.x>=m&&Y.x>=m||(Z.x>=m?Z=new S(m,Z.y+(m-Z.x)/(Y.x-Z.x)*(Y.y-Z.y))._round():Y.x>=m&&(Y=new S(m,Z.y+(m-Z.x)/(Y.x-Z.x)*(Y.y-Z.y))._round()),Z.y>=B&&Y.y>=B||(Z.y>=B?Z=new S(Z.x+(B-Z.y)/(Y.y-Z.y)*(Y.x-Z.x),B)._round():Y.y>=B&&(Y=new S(Z.x+(B-Z.y)/(Y.y-Z.y)*(Y.x-Z.x),B)._round()),N&&Z.equals(N[N.length-1])||(N=[Z],E.push(N)),N.push(Y)))))}}return E}Rt("FeatureIndex",iv,{omit:["rawTileData","sourceLayerCoder"]});class pu extends S{constructor(a,f,m,B){super(a,f),this.angle=m,B!==void 0&&(this.segment=B)}clone(){return new pu(this.x,this.y,this.angle,this.segment)}}function Qh(u,a,f,m,B){if(a.segment===void 0||f===0)return!0;let E=a,I=a.segment+1,O=0;for(;O>-f/2;){if(I--,I<0)return!1;O-=u[I].dist(E),E=u[I]}O+=u[I].dist(u[I+1]),I++;const N=[];let V=0;for(;O<f/2;){const Z=u[I],Y=u[I+1];if(!Y)return!1;let se=u[I-1].angleTo(Z)-Z.angleTo(Y);for(se=Math.abs((se+3*Math.PI)%(2*Math.PI)-Math.PI),N.push({distance:O,angleDelta:se}),V+=se;O-N[0].distance>m;)V-=N.shift().angleDelta;if(V>B)return!1;I++,O+=Z.dist(Y)}return!0}function eg(u){let a=0;for(let f=0;f<u.length-1;f++)a+=u[f].dist(u[f+1]);return a}function $d(u,a,f){return u?.6*a*f:0}function tg(u,a){return Math.max(u?u.right-u.left:0,a?a.right-a.left:0)}function ih(u,a,f,m,B,E){const I=$d(f,B,E),O=tg(f,m)*E;let N=0;const V=eg(u)/2;for(let Z=0;Z<u.length-1;Z++){const Y=u[Z],se=u[Z+1],he=Y.dist(se);if(N+he>V){const ve=(V-N)/he,xe=la.number(Y.x,se.x,ve),He=la.number(Y.y,se.y,ve),Xe=new pu(xe,He,se.angleTo(Y),Z);return Xe._round(),!I||Qh(u,Xe,O,I,a)?Xe:void 0}N+=he}}function Gu(u,a,f,m,B,E,I,O,N){const V=$d(m,E,I),Z=tg(m,B),Y=Z*I,se=u[0].x===0||u[0].x===N||u[0].y===0||u[0].y===N;return a-Y<a/4&&(a=Y+a/4),Hf(u,se?a/2*O%a:(Z/2+2*E)*I*O%a,a,V,f,Y,se,!1,N)}function Hf(u,a,f,m,B,E,I,O,N){const V=E/2,Z=eg(u);let Y=0,se=a-f,he=[];for(let ve=0;ve<u.length-1;ve++){const xe=u[ve],He=u[ve+1],Xe=xe.dist(He),ht=He.angleTo(xe);for(;se+f<Y+Xe;){se+=f;const nt=(se-Y)/Xe,At=la.number(xe.x,He.x,nt),Bt=la.number(xe.y,He.y,nt);if(At>=0&&At<N&&Bt>=0&&Bt<N&&se-V>=0&&se+V<=Z){const Kt=new pu(At,Bt,ht,ve);Kt._round(),m&&!Qh(u,Kt,E,m,B)||he.push(Kt)}}Y+=Xe}return O||he.length||I||(he=Hf(u,Y/2,f,m,B,E,I,!0,N)),he}Rt("Anchor",pu);const jf=on;function qm(u,a,f,m){const B=[],E=u.image,I=E.pixelRatio,O=E.paddedRect.w-2*jf,N=E.paddedRect.h-2*jf;let V={x1:u.left,y1:u.top,x2:u.right,y2:u.bottom};const Z=E.stretchX||[[0,O]],Y=E.stretchY||[[0,N]],se=(Ut,ar)=>Ut+ar[1]-ar[0],he=Z.reduce(se,0),ve=Y.reduce(se,0),xe=O-he,He=N-ve;let Xe=0,ht=he,nt=0,At=ve,Bt=0,Kt=xe,er=0,kr=He;if(E.content&&m){const Ut=E.content,ar=Ut[2]-Ut[0],hr=Ut[3]-Ut[1];(E.textFitWidth||E.textFitHeight)&&(V=jd(u)),Xe=Xd(Z,0,Ut[0]),nt=Xd(Y,0,Ut[1]),ht=Xd(Z,Ut[0],Ut[2]),At=Xd(Y,Ut[1],Ut[3]),Bt=Ut[0]-Xe,er=Ut[1]-nt,Kt=ar-ht,kr=hr-At}const Wt=V.x1,Yt=V.y1,pr=V.x2-Wt,Ar=V.y2-Yt,ir=(Ut,ar,hr,Kr)=>{const Rn=Zd(Ut.stretch-Xe,ht,pr,Wt),Ai=rg(Ut.fixed-Bt,Kt,Ut.stretch,he),Ja=Zd(ar.stretch-nt,At,Ar,Yt),ao=rg(ar.fixed-er,kr,ar.stretch,ve),gs=Zd(hr.stretch-Xe,ht,pr,Wt),es=rg(hr.fixed-Bt,Kt,hr.stretch,he),Bo=Zd(Kr.stretch-nt,At,Ar,Yt),Co=rg(Kr.fixed-er,kr,Kr.stretch,ve),So=new S(Rn,Ja),ha=new S(gs,Ja),ts=new S(gs,Bo),so=new S(Rn,Bo),ms=new S(Ai/I,ao/I),Va=new S(es/I,Co/I),La=a*Math.PI/180;if(La){const Fn=Math.sin(La),ti=Math.cos(La),Bi=[ti,-Fn,Fn,ti];So._matMult(Bi),ha._matMult(Bi),so._matMult(Bi),ts._matMult(Bi)}const Cl=Ut.stretch+Ut.fixed,Zo=ar.stretch+ar.fixed;return{tl:So,tr:ha,bl:so,br:ts,tex:{x:E.paddedRect.x+jf+Cl,y:E.paddedRect.y+jf+Zo,w:hr.stretch+hr.fixed-Cl,h:Kr.stretch+Kr.fixed-Zo},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:ms,pixelOffsetBR:Va,minFontScaleX:Kt/I/pr,minFontScaleY:kr/I/Ar,isSDF:f}};if(m&&(E.stretchX||E.stretchY)){const Ut=Gm(Z,xe,he),ar=Gm(Y,He,ve);for(let hr=0;hr<Ut.length-1;hr++){const Kr=Ut[hr],Rn=Ut[hr+1];for(let Ai=0;Ai<ar.length-1;Ai++)B.push(ir(Kr,ar[Ai],Rn,ar[Ai+1]))}}else B.push(ir({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:O+1},{fixed:0,stretch:N+1}));return B}function Xd(u,a,f){let m=0;for(const B of u)m+=Math.max(a,Math.min(f,B[1]))-Math.max(a,Math.min(f,B[0]));return m}function Gm(u,a,f){const m=[{fixed:-jf,stretch:0}];for(const[B,E]of u){const I=m[m.length-1];m.push({fixed:B-I.stretch,stretch:I.stretch}),m.push({fixed:B-I.stretch,stretch:I.stretch+(E-B)})}return m.push({fixed:a+jf,stretch:f}),m}function Zd(u,a,f,m){return u/a*f+m}function rg(u,a,f,m){return u-a*f/m}class Kf{constructor(a,f,m,B,E,I,O,N,V,Z){var Y;if(this.boxStartIndex=a.length,V){let se=I.top,he=I.bottom;const ve=I.collisionPadding;ve&&(se-=ve[1],he+=ve[3]);let xe=he-se;xe>0&&(xe=Math.max(10,xe),this.circleDiameter=xe)}else{const se=!((Y=I.image)===null||Y===void 0)&&Y.content&&(I.image.textFitWidth||I.image.textFitHeight)?jd(I):{x1:I.left,y1:I.top,x2:I.right,y2:I.bottom};se.y1=se.y1*O-N[0],se.y2=se.y2*O+N[2],se.x1=se.x1*O-N[3],se.x2=se.x2*O+N[1];const he=I.collisionPadding;if(he&&(se.x1-=he[0]*O,se.y1-=he[1]*O,se.x2+=he[2]*O,se.y2+=he[3]*O),Z){const ve=new S(se.x1,se.y1),xe=new S(se.x2,se.y1),He=new S(se.x1,se.y2),Xe=new S(se.x2,se.y2),ht=Z*Math.PI/180;ve._rotate(ht),xe._rotate(ht),He._rotate(ht),Xe._rotate(ht),se.x1=Math.min(ve.x,xe.x,He.x,Xe.x),se.x2=Math.max(ve.x,xe.x,He.x,Xe.x),se.y1=Math.min(ve.y,xe.y,He.y,Xe.y),se.y2=Math.max(ve.y,xe.y,He.y,Xe.y)}a.emplaceBack(f.x,f.y,se.x1,se.y1,se.x2,se.y2,m,B,E)}this.boxEndIndex=a.length}}class ov{constructor(a=[],f=((m,B)=>m<B?-1:m>B?1:0)){if(this.data=a,this.length=this.data.length,this.compare=f,this.length>0)for(let m=(this.length>>1)-1;m>=0;m--)this._down(m)}push(a){this.data.push(a),this._up(this.length++)}pop(){if(this.length===0)return;const a=this.data[0],f=this.data.pop();return--this.length>0&&(this.data[0]=f,this._down(0)),a}peek(){return this.data[0]}_up(a){const{data:f,compare:m}=this,B=f[a];for(;a>0;){const E=a-1>>1,I=f[E];if(m(B,I)>=0)break;f[a]=I,a=E}f[a]=B}_down(a){const{data:f,compare:m}=this,B=this.length>>1,E=f[a];for(;a<B;){let I=1+(a<<1);const O=I+1;if(O<this.length&&m(f[O],f[I])<0&&(I=O),m(f[I],E)>=0)break;f[a]=f[I],a=I}f[a]=E}}function lv(u,a=1,f=!1){let m=1/0,B=1/0,E=-1/0,I=-1/0;const O=u[0];for(let he=0;he<O.length;he++){const ve=O[he];(!he||ve.x<m)&&(m=ve.x),(!he||ve.y<B)&&(B=ve.y),(!he||ve.x>E)&&(E=ve.x),(!he||ve.y>I)&&(I=ve.y)}const N=Math.min(E-m,I-B);let V=N/2;const Z=new ov([],Zb);if(N===0)return new S(m,B);for(let he=m;he<E;he+=N)for(let ve=B;ve<I;ve+=N)Z.push(new ah(he+V,ve+V,V,u));let Y=(function(he){let ve=0,xe=0,He=0;const Xe=he[0];for(let ht=0,nt=Xe.length,At=nt-1;ht<nt;At=ht++){const Bt=Xe[ht],Kt=Xe[At],er=Bt.x*Kt.y-Kt.x*Bt.y;xe+=(Bt.x+Kt.x)*er,He+=(Bt.y+Kt.y)*er,ve+=3*er}return new ah(xe/ve,He/ve,0,he)})(u),se=Z.length;for(;Z.length;){const he=Z.pop();(he.d>Y.d||!Y.d)&&(Y=he,f&&console.log("found best %d after %d probes",Math.round(1e4*he.d)/1e4,se)),he.max-Y.d<=a||(V=he.h/2,Z.push(new ah(he.p.x-V,he.p.y-V,V,u)),Z.push(new ah(he.p.x+V,he.p.y-V,V,u)),Z.push(new ah(he.p.x-V,he.p.y+V,V,u)),Z.push(new ah(he.p.x+V,he.p.y+V,V,u)),se+=4)}return f&&(console.log(`num probes: ${se}`),console.log(`best distance: ${Y.d}`)),Y.p}function Zb(u,a){return a.max-u.max}function ah(u,a,f,m){this.p=new S(u,a),this.h=f,this.d=(function(B,E){let I=!1,O=1/0;for(let N=0;N<E.length;N++){const V=E[N];for(let Z=0,Y=V.length,se=Y-1;Z<Y;se=Z++){const he=V[Z],ve=V[se];he.y>B.y!=ve.y>B.y&&B.x<(ve.x-he.x)*(B.y-he.y)/(ve.y-he.y)+he.x&&(I=!I),O=Math.min(O,Bd(B,he,ve))}}return(I?1:-1)*Math.sqrt(O)})(this.p,m),this.max=this.d+this.h*Math.SQRT2}var Ya;d.aq=void 0,(Ya=d.aq||(d.aq={}))[Ya.center=1]="center",Ya[Ya.left=2]="left",Ya[Ya.right=3]="right",Ya[Ya.top=4]="top",Ya[Ya.bottom=5]="bottom",Ya[Ya["top-left"]=6]="top-left",Ya[Ya["top-right"]=7]="top-right",Ya[Ya["bottom-left"]=8]="bottom-left",Ya[Ya["bottom-right"]=9]="bottom-right";const sh=7,$m=Number.POSITIVE_INFINITY;function Vf(u,a){return a[1]!==$m?(function(f,m,B){let E=0,I=0;switch(m=Math.abs(m),B=Math.abs(B),f){case"top-right":case"top-left":case"top":I=B-sh;break;case"bottom-right":case"bottom-left":case"bottom":I=-B+sh}switch(f){case"top-right":case"bottom-right":case"right":E=-m;break;case"top-left":case"bottom-left":case"left":E=m}return[E,I]})(u,a[0],a[1]):(function(f,m){let B=0,E=0;m<0&&(m=0);const I=m/Math.SQRT2;switch(f){case"top-right":case"top-left":E=I-sh;break;case"bottom-right":case"bottom-left":E=-I+sh;break;case"bottom":E=-m+sh;break;case"top":E=m-sh}switch(f){case"top-right":case"bottom-right":B=-I;break;case"top-left":case"bottom-left":B=I;break;case"left":B=m;break;case"right":B=-m}return[B,E]})(u,a[0])}function Av(u,a,f){var m;const B=u.layout,E=(m=B.get("text-variable-anchor-offset"))===null||m===void 0?void 0:m.evaluate(a,{},f);if(E){const O=E.values,N=[];for(let V=0;V<O.length;V+=2){const Z=N[V]=O[V],Y=O[V+1].map((se=>se*Ua));Z.startsWith("top")?Y[1]-=sh:Z.startsWith("bottom")&&(Y[1]+=sh),N[V+1]=Y}return new qa(N)}const I=B.get("text-variable-anchor");if(I){let O;O=u._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[B.get("text-radial-offset").evaluate(a,{},f)*Ua,$m]:B.get("text-offset").evaluate(a,{},f).map((V=>V*Ua));const N=[];for(const V of I)N.push(V,Vf(V,O));return new qa(N)}return null}function ng(u){switch(u){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function jn(u,a,f,m,B,E,I,O,N,V,Z){let Y=E.textMaxSize.evaluate(a,{});Y===void 0&&(Y=I);const se=u.layers[0].layout,he=se.get("icon-offset").evaluate(a,{},Z),ve=Wd(f.horizontal),xe=I/24,He=u.tilePixelRatio*xe,Xe=u.tilePixelRatio*Y/24,ht=u.tilePixelRatio*O,nt=u.tilePixelRatio*se.get("symbol-spacing"),At=se.get("text-padding")*u.tilePixelRatio,Bt=(function(Ut,ar,hr,Kr=1){const Rn=Ut.get("icon-padding").evaluate(ar,{},hr),Ai=Rn&&Rn.values;return[Ai[0]*Kr,Ai[1]*Kr,Ai[2]*Kr,Ai[3]*Kr]})(se,a,Z,u.tilePixelRatio),Kt=se.get("text-max-angle")/180*Math.PI,er=se.get("text-rotation-alignment")!=="viewport"&&se.get("symbol-placement")!=="point",kr=se.get("icon-rotation-alignment")==="map"&&se.get("symbol-placement")!=="point",Wt=se.get("symbol-placement"),Yt=nt/2,pr=se.get("icon-text-fit");let Ar;m&&pr!=="none"&&(u.allowVerticalPlacement&&f.vertical&&(Ar=Cc(m,f.vertical,pr,se.get("icon-text-fit-padding"),he,xe)),ve&&(m=Cc(m,ve,pr,se.get("icon-text-fit-padding"),he,xe)));const ir=(Ut,ar)=>{ar.x<0||ar.x>=ea||ar.y<0||ar.y>=ea||(function(hr,Kr,Rn,Ai,Ja,ao,gs,es,Bo,Co,So,ha,ts,so,ms,Va,La,Cl,Zo,Fn,ti,Bi,oo,ki,oh){const aA=hr.addToLineVertexArray(Kr,Rn);let gu,sA,oA,rs,Sc=0,Rh=0,cv=0,np=0,Gf=-1,$f=-1;const Ec={};let Xf=Du("");if(hr.allowVerticalPlacement&&Ai.vertical){const ks=es.layout.get("text-rotate").evaluate(ti,{},ki)+90;oA=new Kf(Bo,Kr,Co,So,ha,Ai.vertical,ts,so,ms,ks),gs&&(rs=new Kf(Bo,Kr,Co,So,ha,gs,La,Cl,ms,ks))}if(Ja){const ks=es.layout.get("icon-rotate").evaluate(ti,{}),Wo=es.layout.get("icon-text-fit")!=="none",Sl=qm(Ja,ks,oo,Wo),Qs=gs?qm(gs,ks,oo,Wo):void 0;sA=new Kf(Bo,Kr,Co,So,ha,Ja,La,Cl,!1,ks),Sc=4*Sl.length;const El=hr.iconSizeData;let Tl=null;El.kind==="source"?(Tl=[io*es.layout.get("icon-size").evaluate(ti,{})],Tl[0]>nA&&Fe(`${hr.layerIds[0]}: Value for "icon-size" is >= ${wa}. Reduce your "icon-size".`)):El.kind==="composite"&&(Tl=[io*Bi.compositeIconSizes[0].evaluate(ti,{},ki),io*Bi.compositeIconSizes[1].evaluate(ti,{},ki)],(Tl[0]>nA||Tl[1]>nA)&&Fe(`${hr.layerIds[0]}: Value for "icon-size" is >= ${wa}. Reduce your "icon-size".`)),hr.addSymbols(hr.icon,Sl,Tl,Fn,Zo,ti,d.ah.none,Kr,aA.lineStartIndex,aA.lineLength,-1,ki),Gf=hr.icon.placedSymbolArray.length-1,Qs&&(Rh=4*Qs.length,hr.addSymbols(hr.icon,Qs,Tl,Fn,Zo,ti,d.ah.vertical,Kr,aA.lineStartIndex,aA.lineLength,-1,ki),$f=hr.icon.placedSymbolArray.length-1)}const hv=Object.keys(Ai.horizontal);for(const ks of hv){const Wo=Ai.horizontal[ks];if(!gu){Xf=Du(Wo.text);const Qs=es.layout.get("text-rotate").evaluate(ti,{},ki);gu=new Kf(Bo,Kr,Co,So,ha,Wo,ts,so,ms,Qs)}const Sl=Wo.positionedLines.length===1;if(cv+=ig(hr,Kr,Wo,ao,es,ms,ti,Va,aA,Ai.vertical?d.ah.horizontal:d.ah.horizontalOnly,Sl?hv:[ks],Ec,Gf,Bi,ki),Sl)break}Ai.vertical&&(np+=ig(hr,Kr,Ai.vertical,ao,es,ms,ti,Va,aA,d.ah.vertical,["vertical"],Ec,$f,Bi,ki));const fv=gu?gu.boxStartIndex:hr.collisionBoxArray.length,dv=gu?gu.boxEndIndex:hr.collisionBoxArray.length,pv=oA?oA.boxStartIndex:hr.collisionBoxArray.length,gv=oA?oA.boxEndIndex:hr.collisionBoxArray.length,Ym=sA?sA.boxStartIndex:hr.collisionBoxArray.length,mv=sA?sA.boxEndIndex:hr.collisionBoxArray.length,yv=rs?rs.boxStartIndex:hr.collisionBoxArray.length,sg=rs?rs.boxEndIndex:hr.collisionBoxArray.length;let mu=-1;const og=(ks,Wo)=>ks&&ks.circleDiameter?Math.max(ks.circleDiameter,Wo):Wo;mu=og(gu,mu),mu=og(oA,mu),mu=og(sA,mu),mu=og(rs,mu);const lg=mu>-1?1:0;lg&&(mu*=oh/Ua),hr.glyphOffsetArray.length>=Oh.MAX_GLYPHS&&Fe("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),ti.sortKey!==void 0&&hr.addToSortKeyRanges(hr.symbolInstances.length,ti.sortKey);const Jm=Av(es,ti,ki),[Ag,e0]=(function(ks,Wo){const Sl=ks.length,Qs=Wo?.values;if(Qs?.length>0)for(let El=0;El<Qs.length;El+=2){const Tl=Qs[El+1];ks.emplaceBack(d.aq[Qs[El]],Tl[0],Tl[1])}return[Sl,ks.length]})(hr.textAnchorOffsets,Jm);hr.symbolInstances.emplaceBack(Kr.x,Kr.y,Ec.right>=0?Ec.right:-1,Ec.center>=0?Ec.center:-1,Ec.left>=0?Ec.left:-1,Ec.vertical||-1,Gf,$f,Xf,fv,dv,pv,gv,Ym,mv,yv,sg,Co,cv,np,Sc,Rh,lg,0,ts,mu,Ag,e0)})(u,ar,Ut,f,m,B,Ar,u.layers[0],u.collisionBoxArray,a.index,a.sourceLayerIndex,u.index,He,[At,At,At,At],er,N,ht,Bt,kr,he,a,E,V,Z,I)};if(Wt==="line")for(const Ut of sv(a.geometry,0,0,ea,ea)){const ar=Gu(Ut,nt,Kt,f.vertical||ve,m,24,Xe,u.overscaling,ea);for(const hr of ar)ve&&Xm(u,ve.text,Yt,hr)||ir(Ut,hr)}else if(Wt==="line-center"){for(const Ut of a.geometry)if(Ut.length>1){const ar=ih(Ut,Kt,f.vertical||ve,m,24,Xe);ar&&ir(Ut,ar)}}else if(a.type==="Polygon")for(const Ut of An(a.geometry,0)){const ar=lv(Ut,16);ir(Ut[0],new pu(ar.x,ar.y,0))}else if(a.type==="LineString")for(const Ut of a.geometry)ir(Ut,new pu(Ut[0].x,Ut[0].y,0));else if(a.type==="Point")for(const Ut of a.geometry)for(const ar of Ut)ir([ar],new pu(ar.x,ar.y,0))}function ig(u,a,f,m,B,E,I,O,N,V,Z,Y,se,he,ve){const xe=(function(ht,nt,At,Bt,Kt,er,kr,Wt){const Yt=Bt.layout.get("text-rotate").evaluate(er,{})*Math.PI/180,pr=[];for(const Ar of nt.positionedLines)for(const ir of Ar.positionedGlyphs){if(!ir.rect)continue;const Ut=ir.rect||{};let ar=ii+1,hr=!0,Kr=1,Rn=0;const Ai=(Kt||Wt)&&ir.vertical,Ja=ir.metrics.advance*ir.scale/2;if(Wt&&nt.verticalizable&&(Rn=Ar.lineOffset/2-(ir.imageName?-(Ua-ir.metrics.width*ir.scale)/2:(ir.scale-1)*Ua)),ir.imageName){const Fn=kr[ir.imageName];hr=Fn.sdf,Kr=Fn.pixelRatio,ar=on/Kr}const ao=Kt?[ir.x+Ja,ir.y]:[0,0];let gs=Kt?[0,0]:[ir.x+Ja+At[0],ir.y+At[1]-Rn],es=[0,0];Ai&&(es=gs,gs=[0,0]);const Bo=ir.metrics.isDoubleResolution?2:1,Co=(ir.metrics.left-ar)*ir.scale-Ja+gs[0],So=(-ir.metrics.top-ar)*ir.scale+gs[1],ha=Co+Ut.w/Bo*ir.scale/Kr,ts=So+Ut.h/Bo*ir.scale/Kr,so=new S(Co,So),ms=new S(ha,So),Va=new S(Co,ts),La=new S(ha,ts);if(Ai){const Fn=new S(-Ja,Ja-HA),ti=-Math.PI/2,Bi=Ua/2-Ja,oo=new S(5-HA-Bi,-(ir.imageName?Bi:0)),ki=new S(...es);so._rotateAround(ti,Fn)._add(oo)._add(ki),ms._rotateAround(ti,Fn)._add(oo)._add(ki),Va._rotateAround(ti,Fn)._add(oo)._add(ki),La._rotateAround(ti,Fn)._add(oo)._add(ki)}if(Yt){const Fn=Math.sin(Yt),ti=Math.cos(Yt),Bi=[ti,-Fn,Fn,ti];so._matMult(Bi),ms._matMult(Bi),Va._matMult(Bi),La._matMult(Bi)}const Cl=new S(0,0),Zo=new S(0,0);pr.push({tl:so,tr:ms,bl:Va,br:La,tex:Ut,writingMode:nt.writingMode,glyphOffset:ao,sectionIndex:ir.sectionIndex,isSDF:hr,pixelOffsetTL:Cl,pixelOffsetBR:Zo,minFontScaleX:0,minFontScaleY:0})}return pr})(0,f,O,B,E,I,m,u.allowVerticalPlacement),He=u.textSizeData;let Xe=null;He.kind==="source"?(Xe=[io*B.layout.get("text-size").evaluate(I,{})],Xe[0]>nA&&Fe(`${u.layerIds[0]}: Value for "text-size" is >= ${wa}. Reduce your "text-size".`)):He.kind==="composite"&&(Xe=[io*he.compositeTextSizes[0].evaluate(I,{},ve),io*he.compositeTextSizes[1].evaluate(I,{},ve)],(Xe[0]>nA||Xe[1]>nA)&&Fe(`${u.layerIds[0]}: Value for "text-size" is >= ${wa}. Reduce your "text-size".`)),u.addSymbols(u.text,xe,Xe,O,E,I,V,a,N.lineStartIndex,N.lineLength,se,ve);for(const ht of Z)Y[ht]=u.text.placedSymbolArray.length-1;return 4*xe.length}function Wd(u){for(const a in u)return u[a];return null}function Xm(u,a,f,m){const B=u.compareText;if(a in B){const E=B[a];for(let I=E.length-1;I>=0;I--)if(m.dist(E[I])<f)return!0}else B[a]=[];return B[a].push(m),!1}const Zm=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class Yd{static from(a){if(!(a instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[f,m]=new Uint8Array(a,0,2);if(f!==219)throw new Error("Data does not appear to be in a KDBush format.");const B=m>>4;if(B!==1)throw new Error(`Got v${B} data when expected v1.`);const E=Zm[15&m];if(!E)throw new Error("Unrecognized array type.");const[I]=new Uint16Array(a,2,1),[O]=new Uint32Array(a,4,1);return new Yd(O,I,E,a)}constructor(a,f=64,m=Float64Array,B){if(isNaN(a)||a<0)throw new Error(`Unpexpected numItems value: ${a}.`);this.numItems=+a,this.nodeSize=Math.min(Math.max(+f,2),65535),this.ArrayType=m,this.IndexArrayType=a<65536?Uint16Array:Uint32Array;const E=Zm.indexOf(this.ArrayType),I=2*a*this.ArrayType.BYTES_PER_ELEMENT,O=a*this.IndexArrayType.BYTES_PER_ELEMENT,N=(8-O%8)%8;if(E<0)throw new Error(`Unexpected typed array class: ${m}.`);B&&B instanceof ArrayBuffer?(this.data=B,this.ids=new this.IndexArrayType(this.data,8,a),this.coords=new this.ArrayType(this.data,8+O+N,2*a),this._pos=2*a,this._finished=!0):(this.data=new ArrayBuffer(8+I+O+N),this.ids=new this.IndexArrayType(this.data,8,a),this.coords=new this.ArrayType(this.data,8+O+N,2*a),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+E]),new Uint16Array(this.data,2,1)[0]=f,new Uint32Array(this.data,4,1)[0]=a)}add(a,f){const m=this._pos>>1;return this.ids[m]=m,this.coords[this._pos++]=a,this.coords[this._pos++]=f,m}finish(){const a=this._pos>>1;if(a!==this.numItems)throw new Error(`Added ${a} items when expected ${this.numItems}.`);return Nh(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(a,f,m,B){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:E,coords:I,nodeSize:O}=this,N=[0,E.length-1,0],V=[];for(;N.length;){const Z=N.pop()||0,Y=N.pop()||0,se=N.pop()||0;if(Y-se<=O){for(let He=se;He<=Y;He++){const Xe=I[2*He],ht=I[2*He+1];Xe>=a&&Xe<=m&&ht>=f&&ht<=B&&V.push(E[He])}continue}const he=se+Y>>1,ve=I[2*he],xe=I[2*he+1];ve>=a&&ve<=m&&xe>=f&&xe<=B&&V.push(E[he]),(Z===0?a<=ve:f<=xe)&&(N.push(se),N.push(he-1),N.push(1-Z)),(Z===0?m>=ve:B>=xe)&&(N.push(he+1),N.push(Y),N.push(1-Z))}return V}within(a,f,m){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:B,coords:E,nodeSize:I}=this,O=[0,B.length-1,0],N=[],V=m*m;for(;O.length;){const Z=O.pop()||0,Y=O.pop()||0,se=O.pop()||0;if(Y-se<=I){for(let He=se;He<=Y;He++)uv(E[2*He],E[2*He+1],a,f)<=V&&N.push(B[He]);continue}const he=se+Y>>1,ve=E[2*he],xe=E[2*he+1];uv(ve,xe,a,f)<=V&&N.push(B[he]),(Z===0?a-m<=ve:f-m<=xe)&&(O.push(se),O.push(he-1),O.push(1-Z)),(Z===0?a+m>=ve:f+m>=xe)&&(O.push(he+1),O.push(Y),O.push(1-Z))}return N}}function Nh(u,a,f,m,B,E){if(B-m<=f)return;const I=m+B>>1;Jd(u,a,I,m,B,E),Nh(u,a,f,m,I-1,1-E),Nh(u,a,f,I+1,B,1-E)}function Jd(u,a,f,m,B,E){for(;B>m;){if(B-m>600){const V=B-m+1,Z=f-m+1,Y=Math.log(V),se=.5*Math.exp(2*Y/3),he=.5*Math.sqrt(Y*se*(V-se)/V)*(Z-V/2<0?-1:1);Jd(u,a,f,Math.max(m,Math.floor(f-Z*se/V+he)),Math.min(B,Math.floor(f+(V-Z)*se/V+he)),E)}const I=a[2*f+E];let O=m,N=B;for(ep(u,a,m,f),a[2*B+E]>I&&ep(u,a,m,B);O<N;){for(ep(u,a,O,N),O++,N--;a[2*O+E]<I;)O++;for(;a[2*N+E]>I;)N--}a[2*m+E]===I?ep(u,a,m,N):(N++,ep(u,a,N,B)),N<=f&&(m=N+1),f<=N&&(B=N-1)}}function ep(u,a,f,m){ag(u,f,m),ag(a,2*f,2*m),ag(a,2*f+1,2*m+1)}function ag(u,a,f){const m=u[a];u[a]=u[f],u[f]=m}function uv(u,a,f,m){const B=u-f,E=a-m;return B*B+E*E}var Wm;d.bg=void 0,(Wm=d.bg||(d.bg={})).create="create",Wm.load="load",Wm.fullLoad="fullLoad";let tp=null,qf=[];const fi=1e3/60,rp="loadTime",ps="fullLoadTime",Wb={mark(u){performance.mark(u)},frame(u){const a=u;tp!=null&&qf.push(a-tp),tp=a},clearMetrics(){tp=null,qf=[],performance.clearMeasures(rp),performance.clearMeasures(ps);for(const u in d.bg)performance.clearMarks(d.bg[u])},getPerformanceMetrics(){performance.measure(rp,d.bg.create,d.bg.load),performance.measure(ps,d.bg.create,d.bg.fullLoad);const u=performance.getEntriesByName(rp)[0].duration,a=performance.getEntriesByName(ps)[0].duration,f=qf.length,m=1/(qf.reduce(((E,I)=>E+I),0)/f/1e3),B=qf.filter((E=>E>fi)).reduce(((E,I)=>E+(I-fi)/fi),0);return{loadTime:u,fullLoadTime:a,fps:m,percentDroppedFrames:B/(f+B)*100,totalFrames:f}}};d.$=class extends G{},d.A=Zc,d.B=mf,d.C=function(u){if(Pe==null){const a=u.navigator?u.navigator.userAgent:null;Pe=!!u.safari||!(!a||!(/\b(iPad|iPhone|iPod)\b/.test(a)||a.match("Safari")&&!a.match("Chrome")))}return Pe},d.D=lr,d.E=Me,d.F=class{constructor(u,a){this.target=u,this.mapId=a,this.resolveRejects={},this.tasks={},this.taskQueue=[],this.abortControllers={},this.messageHandlers={},this.invoker=new $b((()=>this.process())),this.subscription=(function(f,m,B,E){return f.addEventListener(m,B,!1),{unsubscribe:()=>{f.removeEventListener(m,B,!1)}}})(this.target,"message",(f=>this.receive(f))),this.globalScope=it(self)?u:window}registerMessageHandler(u,a){this.messageHandlers[u]=a}sendAsync(u,a){return new Promise(((f,m)=>{const B=Math.round(1e18*Math.random()).toString(36).substring(0,10);this.resolveRejects[B]={resolve:f,reject:m},a&&a.signal.addEventListener("abort",(()=>{delete this.resolveRejects[B];const O={id:B,type:"<cancel>",origin:location.origin,targetMapId:u.targetMapId,sourceMapId:this.mapId};this.target.postMessage(O)}),{once:!0});const E=[],I=Object.assign(Object.assign({},u),{id:B,sourceMapId:this.mapId,origin:location.origin,data:eo(u.data,E)});this.target.postMessage(I,{transfer:E})}))}receive(u){const a=u.data,f=a.id;if(!(a.origin!=="file://"&&location.origin!=="file://"&&a.origin!=="resource://android"&&location.origin!=="resource://android"&&a.origin!==location.origin||a.targetMapId&&this.mapId!==a.targetMapId)){if(a.type==="<cancel>"){delete this.tasks[f];const m=this.abortControllers[f];return delete this.abortControllers[f],void(m&&m.abort())}if(it(self)||a.mustQueue)return this.tasks[f]=a,this.taskQueue.push(f),void this.invoker.trigger();this.processTask(f,a)}}process(){if(this.taskQueue.length===0)return;const u=this.taskQueue.shift(),a=this.tasks[u];delete this.tasks[u],this.taskQueue.length>0&&this.invoker.trigger(),a&&this.processTask(u,a)}processTask(u,a){return l(this,void 0,void 0,(function*(){if(a.type==="<response>"){const B=this.resolveRejects[u];return delete this.resolveRejects[u],B?void(a.error?B.reject(LA(a.error)):B.resolve(LA(a.data))):void 0}if(!this.messageHandlers[a.type])return void this.completeTask(u,new Error(`Could not find a registered handler for ${a.type}, map ID: ${this.mapId}, available handlers: ${Object.keys(this.messageHandlers).join(", ")}`));const f=LA(a.data),m=new AbortController;this.abortControllers[u]=m;try{const B=yield this.messageHandlers[a.type](a.sourceMapId,f,m);this.completeTask(u,null,B)}catch(B){this.completeTask(u,B)}}))}completeTask(u,a,f){const m=[];delete this.abortControllers[u];const B={id:u,type:"<response>",sourceMapId:this.mapId,origin:location.origin,error:a?eo(a):null,data:eo(f,m)};this.target.postMessage(B,{transfer:m})}remove(){this.invoker.remove(),this.subscription.unsubscribe()}},d.G=Ze,d.H=function(){var u=new Zc(16);return Zc!=Float32Array&&(u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[11]=0,u[12]=0,u[13]=0,u[14]=0),u[0]=1,u[5]=1,u[10]=1,u[15]=1,u},d.I=Nn,d.J=function(u,a,f){var m,B,E,I,O,N,V,Z,Y,se,he,ve,xe=f[0],He=f[1],Xe=f[2];return a===u?(u[12]=a[0]*xe+a[4]*He+a[8]*Xe+a[12],u[13]=a[1]*xe+a[5]*He+a[9]*Xe+a[13],u[14]=a[2]*xe+a[6]*He+a[10]*Xe+a[14],u[15]=a[3]*xe+a[7]*He+a[11]*Xe+a[15]):(B=a[1],E=a[2],I=a[3],O=a[4],N=a[5],V=a[6],Z=a[7],Y=a[8],se=a[9],he=a[10],ve=a[11],u[0]=m=a[0],u[1]=B,u[2]=E,u[3]=I,u[4]=O,u[5]=N,u[6]=V,u[7]=Z,u[8]=Y,u[9]=se,u[10]=he,u[11]=ve,u[12]=m*xe+O*He+Y*Xe+a[12],u[13]=B*xe+N*He+se*Xe+a[13],u[14]=E*xe+V*He+he*Xe+a[14],u[15]=I*xe+Z*He+ve*Xe+a[15]),u},d.K=function(u,a,f){var m=f[0],B=f[1],E=f[2];return u[0]=a[0]*m,u[1]=a[1]*m,u[2]=a[2]*m,u[3]=a[3]*m,u[4]=a[4]*B,u[5]=a[5]*B,u[6]=a[6]*B,u[7]=a[7]*B,u[8]=a[8]*E,u[9]=a[9]*E,u[10]=a[10]*E,u[11]=a[11]*E,u[12]=a[12],u[13]=a[13],u[14]=a[14],u[15]=a[15],u},d.L=Am,d.M=function(u,a){const f={};for(let m=0;m<a.length;m++){const B=a[m];B in u&&(f[B]=u[B])}return f},d.N=nh,d.O=kh,d.P=S,d.Q=Gd,d.R=bl,d.S=xo,d.T=Kc,d.U=q,d.V=ne,d.W=Oe,d.X=ea,d.Y=U,d.Z=Rf,d._=l,d.a=Te,d.a$=function(u,a){var f=u[0],m=u[1],B=u[2],E=u[3],I=u[4],O=u[5],N=u[6],V=u[7],Z=u[8],Y=u[9],se=u[10],he=u[11],ve=u[12],xe=u[13],He=u[14],Xe=u[15],ht=a[0],nt=a[1],At=a[2],Bt=a[3],Kt=a[4],er=a[5],kr=a[6],Wt=a[7],Yt=a[8],pr=a[9],Ar=a[10],ir=a[11],Ut=a[12],ar=a[13],hr=a[14],Kr=a[15];return Math.abs(f-ht)<=no*Math.max(1,Math.abs(f),Math.abs(ht))&&Math.abs(m-nt)<=no*Math.max(1,Math.abs(m),Math.abs(nt))&&Math.abs(B-At)<=no*Math.max(1,Math.abs(B),Math.abs(At))&&Math.abs(E-Bt)<=no*Math.max(1,Math.abs(E),Math.abs(Bt))&&Math.abs(I-Kt)<=no*Math.max(1,Math.abs(I),Math.abs(Kt))&&Math.abs(O-er)<=no*Math.max(1,Math.abs(O),Math.abs(er))&&Math.abs(N-kr)<=no*Math.max(1,Math.abs(N),Math.abs(kr))&&Math.abs(V-Wt)<=no*Math.max(1,Math.abs(V),Math.abs(Wt))&&Math.abs(Z-Yt)<=no*Math.max(1,Math.abs(Z),Math.abs(Yt))&&Math.abs(Y-pr)<=no*Math.max(1,Math.abs(Y),Math.abs(pr))&&Math.abs(se-Ar)<=no*Math.max(1,Math.abs(se),Math.abs(Ar))&&Math.abs(he-ir)<=no*Math.max(1,Math.abs(he),Math.abs(ir))&&Math.abs(ve-Ut)<=no*Math.max(1,Math.abs(ve),Math.abs(Ut))&&Math.abs(xe-ar)<=no*Math.max(1,Math.abs(xe),Math.abs(ar))&&Math.abs(He-hr)<=no*Math.max(1,Math.abs(He),Math.abs(hr))&&Math.abs(Xe-Kr)<=no*Math.max(1,Math.abs(Xe),Math.abs(Kr))},d.a0=cn,d.a1=Yp,d.a2=Ft,d.a3=u=>{const a=window.document.createElement("video");return a.muted=!0,new Promise((f=>{a.onloadstart=()=>{f(a)};for(const m of u){const B=window.document.createElement("source");pt(m)||(a.crossOrigin="Anonymous"),B.src=m,a.appendChild(B)}}))},d.a4=function(){return Ie++},d.a5=$t,d.a6=Oh,d.a7=cc,d.a8=Nu,d.a9=Jp,d.aA=function(u){if(u.type==="custom")return new km(u);switch(u.type){case"background":return new rv(u);case"circle":return new zb(u);case"fill":return new ky(u);case"fill-extrusion":return new Pd(u);case"heatmap":return new Qp(u);case"hillshade":return new Id(u);case"line":return new qy(u);case"raster":return new Zp(u);case"symbol":return new Nf(u)}},d.aB=ie,d.aC=function(u,a){if(!u)return[{command:"setStyle",args:[a]}];let f=[];try{if(!Tt(u.version,a.version))return[{command:"setStyle",args:[a]}];Tt(u.center,a.center)||f.push({command:"setCenter",args:[a.center]}),Tt(u.zoom,a.zoom)||f.push({command:"setZoom",args:[a.zoom]}),Tt(u.bearing,a.bearing)||f.push({command:"setBearing",args:[a.bearing]}),Tt(u.pitch,a.pitch)||f.push({command:"setPitch",args:[a.pitch]}),Tt(u.sprite,a.sprite)||f.push({command:"setSprite",args:[a.sprite]}),Tt(u.glyphs,a.glyphs)||f.push({command:"setGlyphs",args:[a.glyphs]}),Tt(u.transition,a.transition)||f.push({command:"setTransition",args:[a.transition]}),Tt(u.light,a.light)||f.push({command:"setLight",args:[a.light]}),Tt(u.terrain,a.terrain)||f.push({command:"setTerrain",args:[a.terrain]}),Tt(u.sky,a.sky)||f.push({command:"setSky",args:[a.sky]}),Tt(u.projection,a.projection)||f.push({command:"setProjection",args:[a.projection]});const m={},B=[];(function(I,O,N,V){let Z;for(Z in O=O||{},I=I||{})Object.prototype.hasOwnProperty.call(I,Z)&&(Object.prototype.hasOwnProperty.call(O,Z)||Tr(Z,N,V));for(Z in O)Object.prototype.hasOwnProperty.call(O,Z)&&(Object.prototype.hasOwnProperty.call(I,Z)?Tt(I[Z],O[Z])||(I[Z].type==="geojson"&&O[Z].type==="geojson"&&rn(I,O,Z)?nr(N,{command:"setGeoJSONSourceData",args:[Z,O[Z].data]}):Br(Z,O,N,V)):ur(Z,O,N))})(u.sources,a.sources,B,m);const E=[];u.layers&&u.layers.forEach((I=>{"source"in I&&m[I.source]?f.push({command:"removeLayer",args:[I.id]}):E.push(I)})),f=f.concat(B),(function(I,O,N){O=O||[];const V=(I=I||[]).map(Jr),Z=O.map(Jr),Y=I.reduce(yn,{}),se=O.reduce(yn,{}),he=V.slice(),ve=Object.create(null);let xe,He,Xe,ht,nt;for(let At=0,Bt=0;At<V.length;At++)xe=V[At],Object.prototype.hasOwnProperty.call(se,xe)?Bt++:(nr(N,{command:"removeLayer",args:[xe]}),he.splice(he.indexOf(xe,Bt),1));for(let At=0,Bt=0;At<Z.length;At++)xe=Z[Z.length-1-At],he[he.length-1-At]!==xe&&(Object.prototype.hasOwnProperty.call(Y,xe)?(nr(N,{command:"removeLayer",args:[xe]}),he.splice(he.lastIndexOf(xe,he.length-Bt),1)):Bt++,ht=he[he.length-At],nr(N,{command:"addLayer",args:[se[xe],ht]}),he.splice(he.length-At,0,xe),ve[xe]=!0);for(let At=0;At<Z.length;At++)if(xe=Z[At],He=Y[xe],Xe=se[xe],!ve[xe]&&!Tt(He,Xe))if(Tt(He.source,Xe.source)&&Tt(He["source-layer"],Xe["source-layer"])&&Tt(He.type,Xe.type)){for(nt in nn(He.layout,Xe.layout,N,xe,null,"setLayoutProperty"),nn(He.paint,Xe.paint,N,xe,null,"setPaintProperty"),Tt(He.filter,Xe.filter)||nr(N,{command:"setFilter",args:[xe,Xe.filter]}),Tt(He.minzoom,Xe.minzoom)&&Tt(He.maxzoom,Xe.maxzoom)||nr(N,{command:"setLayerZoomRange",args:[xe,Xe.minzoom,Xe.maxzoom]}),He)Object.prototype.hasOwnProperty.call(He,nt)&&nt!=="layout"&&nt!=="paint"&&nt!=="filter"&&nt!=="metadata"&&nt!=="minzoom"&&nt!=="maxzoom"&&(nt.indexOf("paint.")===0?nn(He[nt],Xe[nt],N,xe,nt.slice(6),"setPaintProperty"):Tt(He[nt],Xe[nt])||nr(N,{command:"setLayerProperty",args:[xe,nt,Xe[nt]]}));for(nt in Xe)Object.prototype.hasOwnProperty.call(Xe,nt)&&!Object.prototype.hasOwnProperty.call(He,nt)&&nt!=="layout"&&nt!=="paint"&&nt!=="filter"&&nt!=="metadata"&&nt!=="minzoom"&&nt!=="maxzoom"&&(nt.indexOf("paint.")===0?nn(He[nt],Xe[nt],N,xe,nt.slice(6),"setPaintProperty"):Tt(He[nt],Xe[nt])||nr(N,{command:"setLayerProperty",args:[xe,nt,Xe[nt]]}))}else nr(N,{command:"removeLayer",args:[xe]}),ht=he[he.lastIndexOf(xe)+1],nr(N,{command:"addLayer",args:[Xe,ht]})})(E,a.layers,f)}catch(m){console.warn("Unable to compute style diff:",m),f=[{command:"setStyle",args:[a]}]}return f},d.aD=function(u){const a=[],f=u.id;return f===void 0&&a.push({message:`layers.${f}: missing required property "id"`}),u.render===void 0&&a.push({message:`layers.${f}: missing required method "render"`}),u.renderingMode&&u.renderingMode!=="2d"&&u.renderingMode!=="3d"&&a.push({message:`layers.${f}: property "renderingMode" must be either "2d" or "3d"`}),a},d.aE=function u(a,f){if(Array.isArray(a)){if(!Array.isArray(f)||a.length!==f.length)return!1;for(let m=0;m<a.length;m++)if(!u(a[m],f[m]))return!1;return!0}if(typeof a=="object"&&a!==null&&f!==null){if(typeof f!="object"||Object.keys(a).length!==Object.keys(f).length)return!1;for(const m in a)if(!u(a[m],f[m]))return!1;return!0}return a===f},d.aF=ge,d.aG=je,d.aH=class extends Jl{constructor(u,a){super(u,a),this.current=0}set(u){this.current!==u&&(this.current=u,this.gl.uniform1i(this.location,u))}},d.aI=eA,d.aJ=class extends Jl{constructor(u,a){super(u,a),this.current=OA}set(u){if(u[12]!==this.current[12]||u[0]!==this.current[0])return this.current=u,void this.gl.uniformMatrix4fv(this.location,!1,u);for(let a=1;a<16;a++)if(u[a]!==this.current[a]){this.current=u,this.gl.uniformMatrix4fv(this.location,!1,u);break}}},d.aK=yc,d.aL=ku,d.aM=wn,d.aN=class extends Jl{constructor(u,a){super(u,a),this.current=[0,0,0]}set(u){u[0]===this.current[0]&&u[1]===this.current[1]&&u[2]===this.current[2]||(this.current=u,this.gl.uniform3f(this.location,u[0],u[1],u[2]))}},d.aO=class extends Jl{constructor(u,a){super(u,a),this.current=[0,0]}set(u){u[0]===this.current[0]&&u[1]===this.current[1]||(this.current=u,this.gl.uniform2f(this.location,u[0],u[1]))}},d.aP=function(u,a,f,m,B,E,I){var O=1/(a-f),N=1/(m-B),V=1/(E-I);return u[0]=-2*O,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=-2*N,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=2*V,u[11]=0,u[12]=(a+f)*O,u[13]=(B+m)*N,u[14]=(I+E)*V,u[15]=1,u},d.aQ=Ey,d.aR=class extends $e{},d.aS=wl,d.aT=class extends at{},d.aU=Td,d.aV=function(u){return u<=1?1:Math.pow(2,Math.ceil(Math.log(u)/Math.LN2))},d.aW=xf,d.aX=sn,d.aY=Ti,d.aZ=class extends zt{},d.a_=function(u,a){return u[0]===a[0]&&u[1]===a[1]&&u[2]===a[2]&&u[3]===a[3]&&u[4]===a[4]&&u[5]===a[5]&&u[6]===a[6]&&u[7]===a[7]&&u[8]===a[8]&&u[9]===a[9]&&u[10]===a[10]&&u[11]===a[11]&&u[12]===a[12]&&u[13]===a[13]&&u[14]===a[14]&&u[15]===a[15]},d.aa=function(u){const a={};if(u.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,((f,m,B,E)=>{const I=B||E;return a[m]=!I||I.toLowerCase(),""})),a["max-age"]){const f=parseInt(a["max-age"],10);isNaN(f)?delete a["max-age"]:a["max-age"]=f}return a},d.ab=function(u,a){const f=[];for(const m in u)m in a||f.push(m);return f},d.ac=ce,d.ad=function(u,a,f){var m=Math.sin(f),B=Math.cos(f),E=a[0],I=a[1],O=a[2],N=a[3],V=a[4],Z=a[5],Y=a[6],se=a[7];return a!==u&&(u[8]=a[8],u[9]=a[9],u[10]=a[10],u[11]=a[11],u[12]=a[12],u[13]=a[13],u[14]=a[14],u[15]=a[15]),u[0]=E*B+V*m,u[1]=I*B+Z*m,u[2]=O*B+Y*m,u[3]=N*B+se*m,u[4]=V*B-E*m,u[5]=Z*B-I*m,u[6]=Y*B-O*m,u[7]=se*B-N*m,u},d.ae=function(u){var a=new Zc(16);return a[0]=u[0],a[1]=u[1],a[2]=u[2],a[3]=u[3],a[4]=u[4],a[5]=u[5],a[6]=u[6],a[7]=u[7],a[8]=u[8],a[9]=u[9],a[10]=u[10],a[11]=u[11],a[12]=u[12],a[13]=u[13],a[14]=u[14],a[15]=u[15],a},d.af=Sd,d.ag=function(u,a){let f=0,m=0;if(u.kind==="constant")m=u.layoutSize;else if(u.kind!=="source"){const{interpolationType:B,minZoom:E,maxZoom:I}=u,O=B?ce(Zi.interpolationFactor(B,a,E,I),0,1):0;u.kind==="camera"?m=la.number(u.minSize,u.maxSize,O):f=O}return{uSizeT:f,uSize:m}},d.ai=function(u,{uSize:a,uSizeT:f},{lowerSize:m,upperSize:B}){return u.kind==="source"?m/io:u.kind==="composite"?la.number(m/io,B/io,f):a},d.aj=Vd,d.ak=function(u,a,f,m){const B=a.y-u.y,E=a.x-u.x,I=m.y-f.y,O=m.x-f.x,N=I*E-O*B;if(N===0)return null;const V=(O*(u.y-f.y)-I*(u.x-f.x))/N;return new S(u.x+V*E,u.y+V*B)},d.al=sv,d.am=$c,d.an=Op,d.ao=function(u){let a=1/0,f=1/0,m=-1/0,B=-1/0;for(const E of u)a=Math.min(a,E.x),f=Math.min(f,E.y),m=Math.max(m,E.x),B=Math.max(B,E.y);return[a,f,m,B]},d.ap=Ua,d.ar=Kd,d.as=function(u,a){var f=a[0],m=a[1],B=a[2],E=a[3],I=a[4],O=a[5],N=a[6],V=a[7],Z=a[8],Y=a[9],se=a[10],he=a[11],ve=a[12],xe=a[13],He=a[14],Xe=a[15],ht=f*O-m*I,nt=f*N-B*I,At=f*V-E*I,Bt=m*N-B*O,Kt=m*V-E*O,er=B*V-E*N,kr=Z*xe-Y*ve,Wt=Z*He-se*ve,Yt=Z*Xe-he*ve,pr=Y*He-se*xe,Ar=Y*Xe-he*xe,ir=se*Xe-he*He,Ut=ht*ir-nt*Ar+At*pr+Bt*Yt-Kt*Wt+er*kr;return Ut?(u[0]=(O*ir-N*Ar+V*pr)*(Ut=1/Ut),u[1]=(B*Ar-m*ir-E*pr)*Ut,u[2]=(xe*er-He*Kt+Xe*Bt)*Ut,u[3]=(se*Kt-Y*er-he*Bt)*Ut,u[4]=(N*Yt-I*ir-V*Wt)*Ut,u[5]=(f*ir-B*Yt+E*Wt)*Ut,u[6]=(He*At-ve*er-Xe*nt)*Ut,u[7]=(Z*er-se*At+he*nt)*Ut,u[8]=(I*Ar-O*Yt+V*kr)*Ut,u[9]=(m*Yt-f*Ar-E*kr)*Ut,u[10]=(ve*Kt-xe*At+Xe*ht)*Ut,u[11]=(Y*At-Z*Kt-he*ht)*Ut,u[12]=(O*Wt-I*pr-N*kr)*Ut,u[13]=(f*pr-m*Wt+B*kr)*Ut,u[14]=(xe*nt-ve*Bt-He*ht)*Ut,u[15]=(Z*Bt-Y*nt+se*ht)*Ut,u):null},d.at=ng,d.au=Qf,d.av=Yd,d.aw=function(){const u={},a=Ye.$version;for(const f in Ye.$root){const m=Ye.$root[f];if(m.required){let B=null;B=f==="version"?a:m.type==="array"?[]:{},B!=null&&(u[f]=B)}}return u},d.ax=qo,d.ay=gt,d.az=function(u){u=u.slice();const a=Object.create(null);for(let f=0;f<u.length;f++)a[u[f].id]=u[f];for(let f=0;f<u.length;f++)"ref"in u[f]&&(u[f]=Er(u[f],a[u[f].ref]));return u},d.b=ke,d.b0=function(u,a){return u[0]=a[0],u[1]=a[1],u[2]=a[2],u[3]=a[3],u[4]=a[4],u[5]=a[5],u[6]=a[6],u[7]=a[7],u[8]=a[8],u[9]=a[9],u[10]=a[10],u[11]=a[11],u[12]=a[12],u[13]=a[13],u[14]=a[14],u[15]=a[15],u},d.b1=function(u,a,f){return u[0]=a[0]*f[0],u[1]=a[1]*f[1],u[2]=a[2]*f[2],u[3]=a[3]*f[3],u},d.b2=function(u,a){return u[0]*a[0]+u[1]*a[1]+u[2]*a[2]+u[3]*a[3]},d.b3=me,d.b4=jm,d.b5=zm,d.b6=function(u,a,f,m,B){var E,I=1/Math.tan(a/2);return u[0]=I/f,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=I,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[11]=-1,u[12]=0,u[13]=0,u[15]=0,B!=null&&B!==1/0?(u[10]=(B+m)*(E=1/(m-B)),u[14]=2*B*m*E):(u[10]=-1,u[14]=-2*m),u},d.b7=function(u,a,f){var m=Math.sin(f),B=Math.cos(f),E=a[4],I=a[5],O=a[6],N=a[7],V=a[8],Z=a[9],Y=a[10],se=a[11];return a!==u&&(u[0]=a[0],u[1]=a[1],u[2]=a[2],u[3]=a[3],u[12]=a[12],u[13]=a[13],u[14]=a[14],u[15]=a[15]),u[4]=E*B+V*m,u[5]=I*B+Z*m,u[6]=O*B+Y*m,u[7]=N*B+se*m,u[8]=V*B-E*m,u[9]=Z*B-I*m,u[10]=Y*B-O*m,u[11]=se*B-N*m,u},d.b8=W,d.b9=le,d.bA=Fm,d.bB=function(u){return u.message===ee},d.bC=Ln,d.bD=ca,d.ba=function(u){return u*Math.PI/180},d.bb=function(u,a){const{x:f,y:m}=Rf.fromLngLat(a);return!(u<0||u>25||m<0||m>=1||f<0||f>=1)},d.bc=function(u,a){return u[0]=a[0],u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=a[1],u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=a[2],u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u},d.bd=class extends Q{},d.be=Qm,d.bf=Wb,d.bh=et,d.bi=function(u,a){Te.REGISTERED_PROTOCOLS[u]=a},d.bj=function(u){delete Te.REGISTERED_PROTOCOLS[u]},d.bk=function(u,a){const f={};for(let B=0;B<u.length;B++){const E=a&&a[u[B].id]||Ls(u[B]);a&&(a[u[B].id]=E);let I=f[E];I||(I=f[E]=[]),I.push(u[B])}const m=[];for(const B in f)m.push(f[B]);return m},d.bl=Rt,d.bm=hi,d.bn=iv,d.bo=ci,d.bp=function(u){u.bucket.createArrays(),u.bucket.tilePixelRatio=ea/(512*u.bucket.overscaling),u.bucket.compareText={},u.bucket.iconsNeedLinear=!1;const a=u.bucket.layers[0],f=a.layout,m=a._unevaluatedLayout._values,B={layoutIconSize:m["icon-size"].possiblyEvaluate(new pn(u.bucket.zoom+1),u.canonical),layoutTextSize:m["text-size"].possiblyEvaluate(new pn(u.bucket.zoom+1),u.canonical),textMaxSize:m["text-size"].possiblyEvaluate(new pn(18))};if(u.bucket.textSizeData.kind==="composite"){const{minZoom:V,maxZoom:Z}=u.bucket.textSizeData;B.compositeTextSizes=[m["text-size"].possiblyEvaluate(new pn(V),u.canonical),m["text-size"].possiblyEvaluate(new pn(Z),u.canonical)]}if(u.bucket.iconSizeData.kind==="composite"){const{minZoom:V,maxZoom:Z}=u.bucket.iconSizeData;B.compositeIconSizes=[m["icon-size"].possiblyEvaluate(new pn(V),u.canonical),m["icon-size"].possiblyEvaluate(new pn(Z),u.canonical)]}const E=f.get("text-line-height")*Ua,I=f.get("text-rotation-alignment")!=="viewport"&&f.get("symbol-placement")!=="point",O=f.get("text-keep-upright"),N=f.get("text-size");for(const V of u.bucket.features){const Z=f.get("text-font").evaluate(V,{},u.canonical).join(","),Y=N.evaluate(V,{},u.canonical),se=B.layoutTextSize.evaluate(V,{},u.canonical),he=B.layoutIconSize.evaluate(V,{},u.canonical),ve={horizontal:{},vertical:void 0},xe=V.text;let He,Xe=[0,0];if(xe){const At=xe.toString(),Bt=f.get("text-letter-spacing").evaluate(V,{},u.canonical)*Ua,Kt=Sh(At)?Bt:0,er=f.get("text-anchor").evaluate(V,{},u.canonical),kr=Av(a,V,u.canonical);if(!kr){const Ar=f.get("text-radial-offset").evaluate(V,{},u.canonical);Xe=Ar?Vf(er,[Ar*Ua,$m]):f.get("text-offset").evaluate(V,{},u.canonical).map((ir=>ir*Ua))}let Wt=I?"center":f.get("text-justify").evaluate(V,{},u.canonical);const Yt=f.get("symbol-placement")==="point"?f.get("text-max-width").evaluate(V,{},u.canonical)*Ua:1/0,pr=()=>{u.bucket.allowVerticalPlacement&&$l(At)&&(ve.vertical=jA(xe,u.glyphMap,u.glyphPositions,u.imagePositions,Z,Yt,E,er,"left",Kt,Xe,d.ah.vertical,!0,se,Y))};if(!I&&kr){const Ar=new Set;if(Wt==="auto")for(let Ut=0;Ut<kr.values.length;Ut+=2)Ar.add(ng(kr.values[Ut]));else Ar.add(Wt);let ir=!1;for(const Ut of Ar)if(!ve.horizontal[Ut])if(ir)ve.horizontal[Ut]=ve.horizontal[0];else{const ar=jA(xe,u.glyphMap,u.glyphPositions,u.imagePositions,Z,Yt,E,"center",Ut,Kt,Xe,d.ah.horizontal,!1,se,Y);ar&&(ve.horizontal[Ut]=ar,ir=ar.positionedLines.length===1)}pr()}else{Wt==="auto"&&(Wt=ng(er));const Ar=jA(xe,u.glyphMap,u.glyphPositions,u.imagePositions,Z,Yt,E,er,Wt,Kt,Xe,d.ah.horizontal,!1,se,Y);Ar&&(ve.horizontal[Wt]=Ar),pr(),$l(At)&&I&&O&&(ve.vertical=jA(xe,u.glyphMap,u.glyphPositions,u.imagePositions,Z,Yt,E,er,Wt,Kt,Xe,d.ah.vertical,!1,se,Y))}}let ht=!1;if(V.icon&&V.icon.name){const At=u.imageMap[V.icon.name];At&&(He=$p(u.imagePositions[V.icon.name],f.get("icon-offset").evaluate(V,{},u.canonical),f.get("icon-anchor").evaluate(V,{},u.canonical)),ht=!!At.sdf,u.bucket.sdfIcons===void 0?u.bucket.sdfIcons=ht:u.bucket.sdfIcons!==ht&&Fe("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(At.pixelRatio!==u.bucket.pixelRatio||f.get("icon-rotate").constantOr(1)!==0)&&(u.bucket.iconsNeedLinear=!0))}const nt=Wd(ve.horizontal)||ve.vertical;u.bucket.iconsInText=!!nt&&nt.iconsInText,(nt||He)&&jn(u.bucket,V,ve,He,u.imageMap,B,se,he,Xe,ht,u.canonical)}u.showCollisionBoxes&&u.bucket.generateCollisionDebugBuffers()},d.bq=Dd,d.br=If,d.bs=Lh,d.bt=bc,d.bu=qp,d.bv=class{constructor(u){this._marks={start:[u.url,"start"].join("#"),end:[u.url,"end"].join("#"),measure:u.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let u=performance.getEntriesByName(this._marks.measure);return u.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),u=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),u}},d.bw=function(u,a,f,m,B){return l(this,void 0,void 0,(function*(){if(ne())try{return yield Oe(u,a,f,m,B)}catch{}return(function(E,I,O,N,V){const Z=E.width,Y=E.height;st&&be||(st=new OffscreenCanvas(Z,Y),be=st.getContext("2d",{willReadFrequently:!0})),st.width=Z,st.height=Y,be.drawImage(E,0,0,Z,Y);const se=be.getImageData(I,O,N,V);return be.clearRect(0,0,Z,Y),se.data})(u,a,f,m,B)}))},d.bx=Km,d.by=y,d.bz=b,d.c=ye,d.d=u=>l(void 0,void 0,void 0,(function*(){if(u.byteLength===0)return createImageBitmap(new ImageData(1,1));const a=new Blob([new Uint8Array(u)],{type:"image/png"});try{return createImageBitmap(a)}catch(f){throw new Error(`Could not load image because of ${f.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`)}})),d.e=Ee,d.f=u=>new Promise(((a,f)=>{const m=new Image;m.onload=()=>{a(m),URL.revokeObjectURL(m.src),m.onload=null,window.requestAnimationFrame((()=>{m.src=Ge}))},m.onerror=()=>f(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const B=new Blob([new Uint8Array(u)],{type:"image/png"});m.src=u.byteLength?URL.createObjectURL(B):Ge})),d.g=Ne,d.h=(u,a)=>Ke(Ee(u,{type:"json"}),a),d.i=it,d.j=Xt,d.k=qt,d.l=(u,a)=>Ke(Ee(u,{type:"arrayBuffer"}),a),d.m=Ke,d.n=function(u){return new qp(u).readFields(Wy,[])},d.o=Ed,d.p=Ii,d.q=_,d.r=Js,d.s=pt,d.t=zc,d.u=Ia,d.v=Ye,d.w=Fe,d.x=function([u,a,f]){return a+=90,a*=Math.PI/180,f*=Math.PI/180,{x:u*Math.cos(a)*Math.sin(f),y:u*Math.sin(a)*Math.sin(f),z:u*Math.cos(f)}},d.y=la,d.z=pn})),s("worker",["./shared"],(function(d){class l{constructor(oe){this.keyCache={},oe&&this.replace(oe)}replace(oe){this._layerConfigs={},this._layers={},this.update(oe,[])}update(oe,Ae){for(const Re of oe){this._layerConfigs[Re.id]=Re;const Je=this._layers[Re.id]=d.aA(Re);Je._featureFilter=d.a7(Je.filter),this.keyCache[Re.id]&&delete this.keyCache[Re.id]}for(const Re of Ae)delete this.keyCache[Re],delete this._layerConfigs[Re],delete this._layers[Re];this.familiesBySource={};const _e=d.bk(Object.values(this._layerConfigs),this.keyCache);for(const Re of _e){const Je=Re.map((ft=>this._layers[ft.id])),Ve=Je[0];if(Ve.visibility==="none")continue;const lt=Ve.source||"";let We=this.familiesBySource[lt];We||(We=this.familiesBySource[lt]={});const yt=Ve.sourceLayer||"_geojsonTileLayer";let Lt=We[yt];Lt||(Lt=We[yt]=[]),Lt.push(Je)}}}class y{constructor(oe){const Ae={},_e=[];for(const lt in oe){const We=oe[lt],yt=Ae[lt]={};for(const Lt in We){const ft=We[+Lt];if(!ft||ft.bitmap.width===0||ft.bitmap.height===0)continue;const Nt={x:0,y:0,w:ft.bitmap.width+2,h:ft.bitmap.height+2};_e.push(Nt),yt[Lt]={rect:Nt,metrics:ft.metrics}}}const{w:Re,h:Je}=d.p(_e),Ve=new d.o({width:Re||1,height:Je||1});for(const lt in oe){const We=oe[lt];for(const yt in We){const Lt=We[+yt];if(!Lt||Lt.bitmap.width===0||Lt.bitmap.height===0)continue;const ft=Ae[lt][yt].rect;d.o.copy(Lt.bitmap,Ve,{x:0,y:0},{x:ft.x+1,y:ft.y+1},Lt.bitmap)}}this.image=Ve,this.positions=Ae}}d.bl("GlyphAtlas",y);class b{constructor(oe){this.tileID=new d.S(oe.tileID.overscaledZ,oe.tileID.wrap,oe.tileID.canonical.z,oe.tileID.canonical.x,oe.tileID.canonical.y),this.uid=oe.uid,this.zoom=oe.zoom,this.pixelRatio=oe.pixelRatio,this.tileSize=oe.tileSize,this.source=oe.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=oe.showCollisionBoxes,this.collectResourceTiming=!!oe.collectResourceTiming,this.returnDependencies=!!oe.returnDependencies,this.promoteId=oe.promoteId,this.inFlightDependencies=[]}parse(oe,Ae,_e,Re){return d._(this,void 0,void 0,(function*(){this.status="parsing",this.data=oe,this.collisionBoxArray=new d.a5;const Je=new d.bm(Object.keys(oe.layers).sort()),Ve=new d.bn(this.tileID,this.promoteId);Ve.bucketLayerIDs=[];const lt={},We={featureIndex:Ve,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:_e},yt=Ae.familiesBySource[this.source];for(const en in yt){const vn=oe.layers[en];if(!vn)continue;vn.version===1&&d.w(`Vector tile source "${this.source}" layer "${en}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Pn=Je.encode(en),mi=[];for(let ai=0;ai<vn.length;ai++){const yi=vn.feature(ai),po=Ve.getId(yi,en);mi.push({feature:yi,id:po,index:ai,sourceLayerIndex:Pn})}for(const ai of yt[en]){const yi=ai[0];yi.source!==this.source&&d.w(`layer.source = ${yi.source} does not equal this.source = ${this.source}`),yi.minzoom&&this.zoom<Math.floor(yi.minzoom)||yi.maxzoom&&this.zoom>=yi.maxzoom||yi.visibility!=="none"&&(w(ai,this.zoom,_e),(lt[yi.id]=yi.createBucket({index:Ve.bucketLayerIDs.length,layers:ai,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Pn,sourceID:this.source})).populate(mi,We,this.tileID.canonical),Ve.bucketLayerIDs.push(ai.map((po=>po.id))))}}const Lt=d.aF(We.glyphDependencies,(en=>Object.keys(en).map(Number)));this.inFlightDependencies.forEach((en=>en?.abort())),this.inFlightDependencies=[];let ft=Promise.resolve({});if(Object.keys(Lt).length){const en=new AbortController;this.inFlightDependencies.push(en),ft=Re.sendAsync({type:"GG",data:{stacks:Lt,source:this.source,tileID:this.tileID,type:"glyphs"}},en)}const Nt=Object.keys(We.iconDependencies);let Jt=Promise.resolve({});if(Nt.length){const en=new AbortController;this.inFlightDependencies.push(en),Jt=Re.sendAsync({type:"GI",data:{icons:Nt,source:this.source,tileID:this.tileID,type:"icons"}},en)}const dr=Object.keys(We.patternDependencies);let Zr=Promise.resolve({});if(dr.length){const en=new AbortController;this.inFlightDependencies.push(en),Zr=Re.sendAsync({type:"GI",data:{icons:dr,source:this.source,tileID:this.tileID,type:"patterns"}},en)}const[or,Or,zr]=yield Promise.all([ft,Jt,Zr]),Kn=new y(or),Qn=new d.bo(Or,zr);for(const en in lt){const vn=lt[en];vn instanceof d.a6?(w(vn.layers,this.zoom,_e),d.bp({bucket:vn,glyphMap:or,glyphPositions:Kn.positions,imageMap:Or,imagePositions:Qn.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):vn.hasPattern&&(vn instanceof d.bq||vn instanceof d.br||vn instanceof d.bs)&&(w(vn.layers,this.zoom,_e),vn.addFeatures(We,this.tileID.canonical,Qn.patternPositions))}return this.status="done",{buckets:Object.values(lt).filter((en=>!en.isEmpty())),featureIndex:Ve,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Kn.image,imageAtlas:Qn,glyphMap:this.returnDependencies?or:null,iconMap:this.returnDependencies?Or:null,glyphPositions:this.returnDependencies?Kn.positions:null}}))}}function w(Ue,oe,Ae){const _e=new d.z(oe);for(const Re of Ue)Re.recalculate(_e,Ae)}class S{constructor(oe,Ae,_e){this.actor=oe,this.layerIndex=Ae,this.availableImages=_e,this.fetching={},this.loading={},this.loaded={}}loadVectorTile(oe,Ae){return d._(this,void 0,void 0,(function*(){const _e=yield d.l(oe.request,Ae);try{return{vectorTile:new d.bt.VectorTile(new d.bu(_e.data)),rawData:_e.data,cacheControl:_e.cacheControl,expires:_e.expires}}catch(Re){const Je=new Uint8Array(_e.data);let Ve=`Unable to parse the tile at ${oe.request.url}, `;throw Ve+=Je[0]===31&&Je[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${Re.message}`,new Error(Ve)}}))}loadTile(oe){return d._(this,void 0,void 0,(function*(){const Ae=oe.uid,_e=!!(oe&&oe.request&&oe.request.collectResourceTiming)&&new d.bv(oe.request),Re=new b(oe);this.loading[Ae]=Re;const Je=new AbortController;Re.abort=Je;try{const Ve=yield this.loadVectorTile(oe,Je);if(delete this.loading[Ae],!Ve)return null;const lt=Ve.rawData,We={};Ve.expires&&(We.expires=Ve.expires),Ve.cacheControl&&(We.cacheControl=Ve.cacheControl);const yt={};if(_e){const ft=_e.finish();ft&&(yt.resourceTiming=JSON.parse(JSON.stringify(ft)))}Re.vectorTile=Ve.vectorTile;const Lt=Re.parse(Ve.vectorTile,this.layerIndex,this.availableImages,this.actor);this.loaded[Ae]=Re,this.fetching[Ae]={rawTileData:lt,cacheControl:We,resourceTiming:yt};try{const ft=yield Lt;return d.e({rawTileData:lt.slice(0)},ft,We,yt)}finally{delete this.fetching[Ae]}}catch(Ve){throw delete this.loading[Ae],Re.status="done",this.loaded[Ae]=Re,Ve}}))}reloadTile(oe){return d._(this,void 0,void 0,(function*(){const Ae=oe.uid;if(!this.loaded||!this.loaded[Ae])throw new Error("Should not be trying to reload a tile that was never loaded or has been removed");const _e=this.loaded[Ae];if(_e.showCollisionBoxes=oe.showCollisionBoxes,_e.status==="parsing"){const Re=yield _e.parse(_e.vectorTile,this.layerIndex,this.availableImages,this.actor);let Je;if(this.fetching[Ae]){const{rawTileData:Ve,cacheControl:lt,resourceTiming:We}=this.fetching[Ae];delete this.fetching[Ae],Je=d.e({rawTileData:Ve.slice(0)},Re,lt,We)}else Je=Re;return Je}if(_e.status==="done"&&_e.vectorTile)return _e.parse(_e.vectorTile,this.layerIndex,this.availableImages,this.actor)}))}abortTile(oe){return d._(this,void 0,void 0,(function*(){const Ae=this.loading,_e=oe.uid;Ae&&Ae[_e]&&Ae[_e].abort&&(Ae[_e].abort.abort(),delete Ae[_e])}))}removeTile(oe){return d._(this,void 0,void 0,(function*(){this.loaded&&this.loaded[oe.uid]&&delete this.loaded[oe.uid]}))}}class F{constructor(){this.loaded={}}loadTile(oe){return d._(this,void 0,void 0,(function*(){const{uid:Ae,encoding:_e,rawImageData:Re,redFactor:Je,greenFactor:Ve,blueFactor:lt,baseShift:We}=oe,yt=Re.width+2,Lt=Re.height+2,ft=d.b(Re)?new d.R({width:yt,height:Lt},yield d.bw(Re,-1,-1,yt,Lt)):Re,Nt=new d.bx(Ae,ft,_e,Je,Ve,lt,We);return this.loaded=this.loaded||{},this.loaded[Ae]=Nt,Nt}))}removeTile(oe){const Ae=this.loaded,_e=oe.uid;Ae&&Ae[_e]&&delete Ae[_e]}}function T(Ue,oe){if(Ue.length!==0){z(Ue[0],oe);for(var Ae=1;Ae<Ue.length;Ae++)z(Ue[Ae],!oe)}}function z(Ue,oe){for(var Ae=0,_e=0,Re=0,Je=Ue.length,Ve=Je-1;Re<Je;Ve=Re++){var lt=(Ue[Re][0]-Ue[Ve][0])*(Ue[Ve][1]+Ue[Re][1]),We=Ae+lt;_e+=Math.abs(Ae)>=Math.abs(lt)?Ae-We+lt:lt-We+Ae,Ae=We}Ae+_e>=0!=!!oe&&Ue.reverse()}var H=d.by((function Ue(oe,Ae){var _e,Re=oe&&oe.type;if(Re==="FeatureCollection")for(_e=0;_e<oe.features.length;_e++)Ue(oe.features[_e],Ae);else if(Re==="GeometryCollection")for(_e=0;_e<oe.geometries.length;_e++)Ue(oe.geometries[_e],Ae);else if(Re==="Feature")Ue(oe.geometry,Ae);else if(Re==="Polygon")T(oe.coordinates,Ae);else if(Re==="MultiPolygon")for(_e=0;_e<oe.coordinates.length;_e++)T(oe.coordinates[_e],Ae);return oe}));const K=d.bt.VectorTileFeature.prototype.toGeoJSON;var q={exports:{}},ne=d.bz,W=d.bt.VectorTileFeature,le=ce;function ce(Ue,oe){this.options=oe||{},this.features=Ue,this.length=Ue.length}function me(Ue,oe){this.id=typeof Ue.id=="number"?Ue.id:void 0,this.type=Ue.type,this.rawGeometry=Ue.type===1?[Ue.geometry]:Ue.geometry,this.properties=Ue.tags,this.extent=oe||4096}ce.prototype.feature=function(Ue){return new me(this.features[Ue],this.options.extent)},me.prototype.loadGeometry=function(){var Ue=this.rawGeometry;this.geometry=[];for(var oe=0;oe<Ue.length;oe++){for(var Ae=Ue[oe],_e=[],Re=0;Re<Ae.length;Re++)_e.push(new ne(Ae[Re][0],Ae[Re][1]));this.geometry.push(_e)}return this.geometry},me.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var Ue=this.geometry,oe=1/0,Ae=-1/0,_e=1/0,Re=-1/0,Je=0;Je<Ue.length;Je++)for(var Ve=Ue[Je],lt=0;lt<Ve.length;lt++){var We=Ve[lt];oe=Math.min(oe,We.x),Ae=Math.max(Ae,We.x),_e=Math.min(_e,We.y),Re=Math.max(Re,We.y)}return[oe,_e,Ae,Re]},me.prototype.toGeoJSON=W.prototype.toGeoJSON;var Ee=d.bA,Ie=le;function ge(Ue){var oe=new Ee;return(function(Ae,_e){for(var Re in Ae.layers)_e.writeMessage(3,je,Ae.layers[Re])})(Ue,oe),oe.finish()}function je(Ue,oe){var Ae;oe.writeVarintField(15,Ue.version||1),oe.writeStringField(1,Ue.name||""),oe.writeVarintField(5,Ue.extent||4096);var _e={keys:[],values:[],keycache:{},valuecache:{}};for(Ae=0;Ae<Ue.length;Ae++)_e.feature=Ue.feature(Ae),oe.writeMessage(2,ie,_e);var Re=_e.keys;for(Ae=0;Ae<Re.length;Ae++)oe.writeStringField(3,Re[Ae]);var Je=_e.values;for(Ae=0;Ae<Je.length;Ae++)oe.writeMessage(4,Pe,Je[Ae])}function ie(Ue,oe){var Ae=Ue.feature;Ae.id!==void 0&&oe.writeVarintField(1,Ae.id),oe.writeMessage(2,de,Ue),oe.writeVarintField(3,Ae.type),oe.writeMessage(4,it,Ae)}function de(Ue,oe){var Ae=Ue.feature,_e=Ue.keys,Re=Ue.values,Je=Ue.keycache,Ve=Ue.valuecache;for(var lt in Ae.properties){var We=Ae.properties[lt],yt=Je[lt];if(We!==null){yt===void 0&&(_e.push(lt),Je[lt]=yt=_e.length-1),oe.writeVarint(yt);var Lt=typeof We;Lt!=="string"&&Lt!=="boolean"&&Lt!=="number"&&(We=JSON.stringify(We));var ft=Lt+":"+We,Nt=Ve[ft];Nt===void 0&&(Re.push(We),Ve[ft]=Nt=Re.length-1),oe.writeVarint(Nt)}}}function Fe(Ue,oe){return(oe<<3)+(7&Ue)}function Le(Ue){return Ue<<1^Ue>>31}function it(Ue,oe){for(var Ae=Ue.loadGeometry(),_e=Ue.type,Re=0,Je=0,Ve=Ae.length,lt=0;lt<Ve;lt++){var We=Ae[lt],yt=1;_e===1&&(yt=We.length),oe.writeVarint(Fe(1,yt));for(var Lt=_e===3?We.length-1:We.length,ft=0;ft<Lt;ft++){ft===1&&_e!==1&&oe.writeVarint(Fe(2,Lt-1));var Nt=We[ft].x-Re,Jt=We[ft].y-Je;oe.writeVarint(Le(Nt)),oe.writeVarint(Le(Jt)),Re+=Nt,Je+=Jt}_e===3&&oe.writeVarint(Fe(7,1))}}function Pe(Ue,oe){var Ae=typeof Ue;Ae==="string"?oe.writeStringField(1,Ue):Ae==="boolean"?oe.writeBooleanField(7,Ue):Ae==="number"&&(Ue%1!=0?oe.writeDoubleField(3,Ue):Ue<0?oe.writeSVarintField(6,Ue):oe.writeVarintField(5,Ue))}q.exports=ge,q.exports.fromVectorTileJs=ge,q.exports.fromGeojsonVt=function(Ue,oe){oe=oe||{};var Ae={};for(var _e in Ue)Ae[_e]=new Ie(Ue[_e].features,oe),Ae[_e].name=_e,Ae[_e].version=oe.version,Ae[_e].extent=oe.extent;return ge({layers:Ae})},q.exports.GeoJSONWrapper=Ie;var ke=d.by(q.exports);const Ge={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:Ue=>Ue},Oe=Math.fround||(st=new Float32Array(1),Ue=>(st[0]=+Ue,st[0]));var st;const be=3,ee=5,ye=6;class Te{constructor(oe){this.options=Object.assign(Object.create(Ge),oe),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(oe){const{log:Ae,minZoom:_e,maxZoom:Re}=this.options;Ae&&console.time("total time");const Je=`prepare ${oe.length} points`;Ae&&console.time(Je),this.points=oe;const Ve=[];for(let We=0;We<oe.length;We++){const yt=oe[We];if(!yt.geometry)continue;const[Lt,ft]=yt.geometry.coordinates,Nt=Oe(et(Lt)),Jt=Oe(gt(ft));Ve.push(Nt,Jt,1/0,We,-1,1),this.options.reduce&&Ve.push(0)}let lt=this.trees[Re+1]=this._createTree(Ve);Ae&&console.timeEnd(Je);for(let We=Re;We>=_e;We--){const yt=+Date.now();lt=this.trees[We]=this._createTree(this._cluster(lt,We)),Ae&&console.log("z%d: %d clusters in %dms",We,lt.numItems,+Date.now()-yt)}return Ae&&console.timeEnd("total time"),this}getClusters(oe,Ae){let _e=((oe[0]+180)%360+360)%360-180;const Re=Math.max(-90,Math.min(90,oe[1]));let Je=oe[2]===180?180:((oe[2]+180)%360+360)%360-180;const Ve=Math.max(-90,Math.min(90,oe[3]));if(oe[2]-oe[0]>=360)_e=-180,Je=180;else if(_e>Je){const ft=this.getClusters([_e,Re,180,Ve],Ae),Nt=this.getClusters([-180,Re,Je,Ve],Ae);return ft.concat(Nt)}const lt=this.trees[this._limitZoom(Ae)],We=lt.range(et(_e),gt(Ve),et(Je),gt(Re)),yt=lt.data,Lt=[];for(const ft of We){const Nt=this.stride*ft;Lt.push(yt[Nt+ee]>1?Ne(yt,Nt,this.clusterProps):this.points[yt[Nt+be]])}return Lt}getChildren(oe){const Ae=this._getOriginId(oe),_e=this._getOriginZoom(oe),Re="No cluster with the specified id.",Je=this.trees[_e];if(!Je)throw new Error(Re);const Ve=Je.data;if(Ae*this.stride>=Ve.length)throw new Error(Re);const lt=this.options.radius/(this.options.extent*Math.pow(2,_e-1)),We=Je.within(Ve[Ae*this.stride],Ve[Ae*this.stride+1],lt),yt=[];for(const Lt of We){const ft=Lt*this.stride;Ve[ft+4]===oe&&yt.push(Ve[ft+ee]>1?Ne(Ve,ft,this.clusterProps):this.points[Ve[ft+be]])}if(yt.length===0)throw new Error(Re);return yt}getLeaves(oe,Ae,_e){const Re=[];return this._appendLeaves(Re,oe,Ae=Ae||10,_e=_e||0,0),Re}getTile(oe,Ae,_e){const Re=this.trees[this._limitZoom(oe)],Je=Math.pow(2,oe),{extent:Ve,radius:lt}=this.options,We=lt/Ve,yt=(_e-We)/Je,Lt=(_e+1+We)/Je,ft={features:[]};return this._addTileFeatures(Re.range((Ae-We)/Je,yt,(Ae+1+We)/Je,Lt),Re.data,Ae,_e,Je,ft),Ae===0&&this._addTileFeatures(Re.range(1-We/Je,yt,1,Lt),Re.data,Je,_e,Je,ft),Ae===Je-1&&this._addTileFeatures(Re.range(0,yt,We/Je,Lt),Re.data,-1,_e,Je,ft),ft.features.length?ft:null}getClusterExpansionZoom(oe){let Ae=this._getOriginZoom(oe)-1;for(;Ae<=this.options.maxZoom;){const _e=this.getChildren(oe);if(Ae++,_e.length!==1)break;oe=_e[0].properties.cluster_id}return Ae}_appendLeaves(oe,Ae,_e,Re,Je){const Ve=this.getChildren(Ae);for(const lt of Ve){const We=lt.properties;if(We&&We.cluster?Je+We.point_count<=Re?Je+=We.point_count:Je=this._appendLeaves(oe,We.cluster_id,_e,Re,Je):Je<Re?Je++:oe.push(lt),oe.length===_e)break}return Je}_createTree(oe){const Ae=new d.av(oe.length/this.stride|0,this.options.nodeSize,Float32Array);for(let _e=0;_e<oe.length;_e+=this.stride)Ae.add(oe[_e],oe[_e+1]);return Ae.finish(),Ae.data=oe,Ae}_addTileFeatures(oe,Ae,_e,Re,Je,Ve){for(const lt of oe){const We=lt*this.stride,yt=Ae[We+ee]>1;let Lt,ft,Nt;if(yt)Lt=Ze(Ae,We,this.clusterProps),ft=Ae[We],Nt=Ae[We+1];else{const Zr=this.points[Ae[We+be]];Lt=Zr.properties;const[or,Or]=Zr.geometry.coordinates;ft=et(or),Nt=gt(Or)}const Jt={type:1,geometry:[[Math.round(this.options.extent*(ft*Je-_e)),Math.round(this.options.extent*(Nt*Je-Re))]],tags:Lt};let dr;dr=yt||this.options.generateId?Ae[We+be]:this.points[Ae[We+be]].id,dr!==void 0&&(Jt.id=dr),Ve.features.push(Jt)}}_limitZoom(oe){return Math.max(this.options.minZoom,Math.min(Math.floor(+oe),this.options.maxZoom+1))}_cluster(oe,Ae){const{radius:_e,extent:Re,reduce:Je,minPoints:Ve}=this.options,lt=_e/(Re*Math.pow(2,Ae)),We=oe.data,yt=[],Lt=this.stride;for(let ft=0;ft<We.length;ft+=Lt){if(We[ft+2]<=Ae)continue;We[ft+2]=Ae;const Nt=We[ft],Jt=We[ft+1],dr=oe.within(We[ft],We[ft+1],lt),Zr=We[ft+ee];let or=Zr;for(const Or of dr){const zr=Or*Lt;We[zr+2]>Ae&&(or+=We[zr+ee])}if(or>Zr&&or>=Ve){let Or,zr=Nt*Zr,Kn=Jt*Zr,Qn=-1;const en=((ft/Lt|0)<<5)+(Ae+1)+this.points.length;for(const vn of dr){const Pn=vn*Lt;if(We[Pn+2]<=Ae)continue;We[Pn+2]=Ae;const mi=We[Pn+ee];zr+=We[Pn]*mi,Kn+=We[Pn+1]*mi,We[Pn+4]=en,Je&&(Or||(Or=this._map(We,ft,!0),Qn=this.clusterProps.length,this.clusterProps.push(Or)),Je(Or,this._map(We,Pn)))}We[ft+4]=en,yt.push(zr/or,Kn/or,1/0,en,-1,or),Je&&yt.push(Qn)}else{for(let Or=0;Or<Lt;Or++)yt.push(We[ft+Or]);if(or>1)for(const Or of dr){const zr=Or*Lt;if(!(We[zr+2]<=Ae)){We[zr+2]=Ae;for(let Kn=0;Kn<Lt;Kn++)yt.push(We[zr+Kn])}}}}return yt}_getOriginId(oe){return oe-this.points.length>>5}_getOriginZoom(oe){return(oe-this.points.length)%32}_map(oe,Ae,_e){if(oe[Ae+ee]>1){const Ve=this.clusterProps[oe[Ae+ye]];return _e?Object.assign({},Ve):Ve}const Re=this.points[oe[Ae+be]].properties,Je=this.options.map(Re);return _e&&Je===Re?Object.assign({},Je):Je}}function Ne(Ue,oe,Ae){return{type:"Feature",id:Ue[oe+be],properties:Ze(Ue,oe,Ae),geometry:{type:"Point",coordinates:[(_e=Ue[oe],360*(_e-.5)),Ke(Ue[oe+1])]}};var _e}function Ze(Ue,oe,Ae){const _e=Ue[oe+ee],Re=_e>=1e4?`${Math.round(_e/1e3)}k`:_e>=1e3?Math.round(_e/100)/10+"k":_e,Je=Ue[oe+ye],Ve=Je===-1?{}:Object.assign({},Ae[Je]);return Object.assign(Ve,{cluster:!0,cluster_id:Ue[oe+be],point_count:_e,point_count_abbreviated:Re})}function et(Ue){return Ue/360+.5}function gt(Ue){const oe=Math.sin(Ue*Math.PI/180),Ae=.5-.25*Math.log((1+oe)/(1-oe))/Math.PI;return Ae<0?0:Ae>1?1:Ae}function Ke(Ue){const oe=(180-360*Ue)*Math.PI/180;return 360*Math.atan(Math.exp(oe))/Math.PI-90}function pt(Ue,oe,Ae,_e){let Re=_e;const Je=oe+(Ae-oe>>1);let Ve,lt=Ae-oe;const We=Ue[oe],yt=Ue[oe+1],Lt=Ue[Ae],ft=Ue[Ae+1];for(let Nt=oe+3;Nt<Ae;Nt+=3){const Jt=Ct(Ue[Nt],Ue[Nt+1],We,yt,Lt,ft);if(Jt>Re)Ve=Nt,Re=Jt;else if(Jt===Re){const dr=Math.abs(Nt-Je);dr<lt&&(Ve=Nt,lt=dr)}}Re>_e&&(Ve-oe>3&&pt(Ue,oe,Ve,_e),Ue[Ve+2]=Re,Ae-Ve>3&&pt(Ue,Ve,Ae,_e))}function Ct(Ue,oe,Ae,_e,Re,Je){let Ve=Re-Ae,lt=Je-_e;if(Ve!==0||lt!==0){const We=((Ue-Ae)*Ve+(oe-_e)*lt)/(Ve*Ve+lt*lt);We>1?(Ae=Re,_e=Je):We>0&&(Ae+=Ve*We,_e+=lt*We)}return Ve=Ue-Ae,lt=oe-_e,Ve*Ve+lt*lt}function ct(Ue,oe,Ae,_e){const Re={id:Ue??null,type:oe,geometry:Ae,tags:_e,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};if(oe==="Point"||oe==="MultiPoint"||oe==="LineString")qt(Re,Ae);else if(oe==="Polygon")qt(Re,Ae[0]);else if(oe==="MultiLineString")for(const Je of Ae)qt(Re,Je);else if(oe==="MultiPolygon")for(const Je of Ae)qt(Re,Je[0]);return Re}function qt(Ue,oe){for(let Ae=0;Ae<oe.length;Ae+=3)Ue.minX=Math.min(Ue.minX,oe[Ae]),Ue.minY=Math.min(Ue.minY,oe[Ae+1]),Ue.maxX=Math.max(Ue.maxX,oe[Ae]),Ue.maxY=Math.max(Ue.maxY,oe[Ae+1])}function Xt(Ue,oe,Ae,_e){if(!oe.geometry)return;const Re=oe.geometry.coordinates;if(Re&&Re.length===0)return;const Je=oe.geometry.type,Ve=Math.pow(Ae.tolerance/((1<<Ae.maxZoom)*Ae.extent),2);let lt=[],We=oe.id;if(Ae.promoteId?We=oe.properties[Ae.promoteId]:Ae.generateId&&(We=_e||0),Je==="Point")Me(Re,lt);else if(Je==="MultiPoint")for(const yt of Re)Me(yt,lt);else if(Je==="LineString")Ye(Re,lt,Ve,!1);else if(Je==="MultiLineString"){if(Ae.lineMetrics){for(const yt of Re)lt=[],Ye(yt,lt,Ve,!1),Ue.push(ct(We,"LineString",lt,oe.properties));return}Nr(Re,lt,Ve,!1)}else if(Je==="Polygon")Nr(Re,lt,Ve,!0);else{if(Je!=="MultiPolygon"){if(Je==="GeometryCollection"){for(const yt of oe.geometry.geometries)Xt(Ue,{id:We,geometry:yt,properties:oe.properties},Ae,_e);return}throw new Error("Input data is not a valid GeoJSON object.")}for(const yt of Re){const Lt=[];Nr(yt,Lt,Ve,!0),lt.push(Lt)}}Ue.push(ct(We,Je,lt,oe.properties))}function Me(Ue,oe){oe.push(Er(Ue[0]),Tt(Ue[1]),0)}function Ye(Ue,oe,Ae,_e){let Re,Je,Ve=0;for(let We=0;We<Ue.length;We++){const yt=Er(Ue[We][0]),Lt=Tt(Ue[We][1]);oe.push(yt,Lt,0),We>0&&(Ve+=_e?(Re*Lt-yt*Je)/2:Math.sqrt(Math.pow(yt-Re,2)+Math.pow(Lt-Je,2))),Re=yt,Je=Lt}const lt=oe.length-3;oe[2]=1,pt(oe,0,lt,Ae),oe[lt+2]=1,oe.size=Math.abs(Ve),oe.start=0,oe.end=oe.size}function Nr(Ue,oe,Ae,_e){for(let Re=0;Re<Ue.length;Re++){const Je=[];Ye(Ue[Re],Je,Ae,_e),oe.push(Je)}}function Er(Ue){return Ue/360+.5}function Tt(Ue){const oe=Math.sin(Ue*Math.PI/180),Ae=.5-.25*Math.log((1+oe)/(1-oe))/Math.PI;return Ae<0?0:Ae>1?1:Ae}function nr(Ue,oe,Ae,_e,Re,Je,Ve,lt){if(_e/=oe,Je>=(Ae/=oe)&&Ve<_e)return Ue;if(Ve<Ae||Je>=_e)return null;const We=[];for(const yt of Ue){const Lt=yt.geometry;let ft=yt.type;const Nt=Re===0?yt.minX:yt.minY,Jt=Re===0?yt.maxX:yt.maxY;if(Nt>=Ae&&Jt<_e){We.push(yt);continue}if(Jt<Ae||Nt>=_e)continue;let dr=[];if(ft==="Point"||ft==="MultiPoint")ur(Lt,dr,Ae,_e,Re);else if(ft==="LineString")Tr(Lt,dr,Ae,_e,Re,!1,lt.lineMetrics);else if(ft==="MultiLineString")rn(Lt,dr,Ae,_e,Re,!1);else if(ft==="Polygon")rn(Lt,dr,Ae,_e,Re,!0);else if(ft==="MultiPolygon")for(const Zr of Lt){const or=[];rn(Zr,or,Ae,_e,Re,!0),or.length&&dr.push(or)}if(dr.length){if(lt.lineMetrics&&ft==="LineString"){for(const Zr of dr)We.push(ct(yt.id,ft,Zr,yt.tags));continue}ft!=="LineString"&&ft!=="MultiLineString"||(dr.length===1?(ft="LineString",dr=dr[0]):ft="MultiLineString"),ft!=="Point"&&ft!=="MultiPoint"||(ft=dr.length===3?"Point":"MultiPoint"),We.push(ct(yt.id,ft,dr,yt.tags))}}return We.length?We:null}function ur(Ue,oe,Ae,_e,Re){for(let Je=0;Je<Ue.length;Je+=3){const Ve=Ue[Je+Re];Ve>=Ae&&Ve<=_e&&nn(oe,Ue[Je],Ue[Je+1],Ue[Je+2])}}function Tr(Ue,oe,Ae,_e,Re,Je,Ve){let lt=Br(Ue);const We=Re===0?Jr:yn;let yt,Lt,ft=Ue.start;for(let or=0;or<Ue.length-3;or+=3){const Or=Ue[or],zr=Ue[or+1],Kn=Ue[or+2],Qn=Ue[or+3],en=Ue[or+4],vn=Re===0?Or:zr,Pn=Re===0?Qn:en;let mi=!1;Ve&&(yt=Math.sqrt(Math.pow(Or-Qn,2)+Math.pow(zr-en,2))),vn<Ae?Pn>Ae&&(Lt=We(lt,Or,zr,Qn,en,Ae),Ve&&(lt.start=ft+yt*Lt)):vn>_e?Pn<_e&&(Lt=We(lt,Or,zr,Qn,en,_e),Ve&&(lt.start=ft+yt*Lt)):nn(lt,Or,zr,Kn),Pn<Ae&&vn>=Ae&&(Lt=We(lt,Or,zr,Qn,en,Ae),mi=!0),Pn>_e&&vn<=_e&&(Lt=We(lt,Or,zr,Qn,en,_e),mi=!0),!Je&&mi&&(Ve&&(lt.end=ft+yt*Lt),oe.push(lt),lt=Br(Ue)),Ve&&(ft+=yt)}let Nt=Ue.length-3;const Jt=Ue[Nt],dr=Ue[Nt+1],Zr=Re===0?Jt:dr;Zr>=Ae&&Zr<=_e&&nn(lt,Jt,dr,Ue[Nt+2]),Nt=lt.length-3,Je&&Nt>=3&&(lt[Nt]!==lt[0]||lt[Nt+1]!==lt[1])&&nn(lt,lt[0],lt[1],lt[2]),lt.length&&oe.push(lt)}function Br(Ue){const oe=[];return oe.size=Ue.size,oe.start=Ue.start,oe.end=Ue.end,oe}function rn(Ue,oe,Ae,_e,Re,Je){for(const Ve of Ue)Tr(Ve,oe,Ae,_e,Re,Je,!1)}function nn(Ue,oe,Ae,_e){Ue.push(oe,Ae,_e)}function Jr(Ue,oe,Ae,_e,Re,Je){const Ve=(Je-oe)/(_e-oe);return nn(Ue,Je,Ae+(Re-Ae)*Ve,1),Ve}function yn(Ue,oe,Ae,_e,Re,Je){const Ve=(Je-Ae)/(Re-Ae);return nn(Ue,oe+(_e-oe)*Ve,Je,1),Ve}function Ft(Ue,oe){const Ae=[];for(let _e=0;_e<Ue.length;_e++){const Re=Ue[_e],Je=Re.type;let Ve;if(Je==="Point"||Je==="MultiPoint"||Je==="LineString")Ve=cr(Re.geometry,oe);else if(Je==="MultiLineString"||Je==="Polygon"){Ve=[];for(const lt of Re.geometry)Ve.push(cr(lt,oe))}else if(Je==="MultiPolygon"){Ve=[];for(const lt of Re.geometry){const We=[];for(const yt of lt)We.push(cr(yt,oe));Ve.push(We)}}Ae.push(ct(Re.id,Je,Ve,Re.tags))}return Ae}function cr(Ue,oe){const Ae=[];Ae.size=Ue.size,Ue.start!==void 0&&(Ae.start=Ue.start,Ae.end=Ue.end);for(let _e=0;_e<Ue.length;_e+=3)Ae.push(Ue[_e]+oe,Ue[_e+1],Ue[_e+2]);return Ae}function Pr(Ue,oe){if(Ue.transformed)return Ue;const Ae=1<<Ue.z,_e=Ue.x,Re=Ue.y;for(const Je of Ue.features){const Ve=Je.geometry,lt=Je.type;if(Je.geometry=[],lt===1)for(let We=0;We<Ve.length;We+=2)Je.geometry.push(fr(Ve[We],Ve[We+1],oe,Ae,_e,Re));else for(let We=0;We<Ve.length;We++){const yt=[];for(let Lt=0;Lt<Ve[We].length;Lt+=2)yt.push(fr(Ve[We][Lt],Ve[We][Lt+1],oe,Ae,_e,Re));Je.geometry.push(yt)}}return Ue.transformed=!0,Ue}function fr(Ue,oe,Ae,_e,Re,Je){return[Math.round(Ae*(Ue*_e-Re)),Math.round(Ae*(oe*_e-Je))]}function ri(Ue,oe,Ae,_e,Re){const Je=oe===Re.maxZoom?0:Re.tolerance/((1<<oe)*Re.extent),Ve={features:[],numPoints:0,numSimplified:0,numFeatures:Ue.length,source:null,x:Ae,y:_e,z:oe,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0};for(const lt of Ue)Pt(Ve,lt,Je,Re);return Ve}function Pt(Ue,oe,Ae,_e){const Re=oe.geometry,Je=oe.type,Ve=[];if(Ue.minX=Math.min(Ue.minX,oe.minX),Ue.minY=Math.min(Ue.minY,oe.minY),Ue.maxX=Math.max(Ue.maxX,oe.maxX),Ue.maxY=Math.max(Ue.maxY,oe.maxY),Je==="Point"||Je==="MultiPoint")for(let lt=0;lt<Re.length;lt+=3)Ve.push(Re[lt],Re[lt+1]),Ue.numPoints++,Ue.numSimplified++;else if(Je==="LineString")Zt(Ve,Re,Ue,Ae,!1,!1);else if(Je==="MultiLineString"||Je==="Polygon")for(let lt=0;lt<Re.length;lt++)Zt(Ve,Re[lt],Ue,Ae,Je==="Polygon",lt===0);else if(Je==="MultiPolygon")for(let lt=0;lt<Re.length;lt++){const We=Re[lt];for(let yt=0;yt<We.length;yt++)Zt(Ve,We[yt],Ue,Ae,!0,yt===0)}if(Ve.length){let lt=oe.tags||null;if(Je==="LineString"&&_e.lineMetrics){lt={};for(const yt in oe.tags)lt[yt]=oe.tags[yt];lt.mapbox_clip_start=Re.start/Re.size,lt.mapbox_clip_end=Re.end/Re.size}const We={geometry:Ve,type:Je==="Polygon"||Je==="MultiPolygon"?3:Je==="LineString"||Je==="MultiLineString"?2:1,tags:lt};oe.id!==null&&(We.id=oe.id),Ue.features.push(We)}}function Zt(Ue,oe,Ae,_e,Re,Je){const Ve=_e*_e;if(_e>0&&oe.size<(Re?Ve:_e))return void(Ae.numPoints+=oe.length/3);const lt=[];for(let We=0;We<oe.length;We+=3)(_e===0||oe[We+2]>Ve)&&(Ae.numSimplified++,lt.push(oe[We],oe[We+1])),Ae.numPoints++;Re&&(function(We,yt){let Lt=0;for(let ft=0,Nt=We.length,Jt=Nt-2;ft<Nt;Jt=ft,ft+=2)Lt+=(We[ft]-We[Jt])*(We[ft+1]+We[Jt+1]);if(Lt>0===yt)for(let ft=0,Nt=We.length;ft<Nt/2;ft+=2){const Jt=We[ft],dr=We[ft+1];We[ft]=We[Nt-2-ft],We[ft+1]=We[Nt-1-ft],We[Nt-2-ft]=Jt,We[Nt-1-ft]=dr}})(lt,Je),Ue.push(lt)}const Gt={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0};class Xr{constructor(oe,Ae){const _e=(Ae=this.options=(function(Je,Ve){for(const lt in Ve)Je[lt]=Ve[lt];return Je})(Object.create(Gt),Ae)).debug;if(_e&&console.time("preprocess data"),Ae.maxZoom<0||Ae.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(Ae.promoteId&&Ae.generateId)throw new Error("promoteId and generateId cannot be used together.");let Re=(function(Je,Ve){const lt=[];if(Je.type==="FeatureCollection")for(let We=0;We<Je.features.length;We++)Xt(lt,Je.features[We],Ve,We);else Xt(lt,Je.type==="Feature"?Je:{geometry:Je},Ve);return lt})(oe,Ae);this.tiles={},this.tileCoords=[],_e&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",Ae.indexMaxZoom,Ae.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Re=(function(Je,Ve){const lt=Ve.buffer/Ve.extent;let We=Je;const yt=nr(Je,1,-1-lt,lt,0,-1,2,Ve),Lt=nr(Je,1,1-lt,2+lt,0,-1,2,Ve);return(yt||Lt)&&(We=nr(Je,1,-lt,1+lt,0,-1,2,Ve)||[],yt&&(We=Ft(yt,1).concat(We)),Lt&&(We=We.concat(Ft(Lt,-1)))),We})(Re,Ae),Re.length&&this.splitTile(Re,0,0,0),_e&&(Re.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}splitTile(oe,Ae,_e,Re,Je,Ve,lt){const We=[oe,Ae,_e,Re],yt=this.options,Lt=yt.debug;for(;We.length;){Re=We.pop(),_e=We.pop(),Ae=We.pop(),oe=We.pop();const ft=1<<Ae,Nt=_r(Ae,_e,Re);let Jt=this.tiles[Nt];if(!Jt&&(Lt>1&&console.time("creation"),Jt=this.tiles[Nt]=ri(oe,Ae,_e,Re,yt),this.tileCoords.push({z:Ae,x:_e,y:Re}),Lt)){Lt>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",Ae,_e,Re,Jt.numFeatures,Jt.numPoints,Jt.numSimplified),console.timeEnd("creation"));const mi=`z${Ae}`;this.stats[mi]=(this.stats[mi]||0)+1,this.total++}if(Jt.source=oe,Je==null){if(Ae===yt.indexMaxZoom||Jt.numPoints<=yt.indexMaxPoints)continue}else{if(Ae===yt.maxZoom||Ae===Je)continue;if(Je!=null){const mi=Je-Ae;if(_e!==Ve>>mi||Re!==lt>>mi)continue}}if(Jt.source=null,oe.length===0)continue;Lt>1&&console.time("clipping");const dr=.5*yt.buffer/yt.extent,Zr=.5-dr,or=.5+dr,Or=1+dr;let zr=null,Kn=null,Qn=null,en=null,vn=nr(oe,ft,_e-dr,_e+or,0,Jt.minX,Jt.maxX,yt),Pn=nr(oe,ft,_e+Zr,_e+Or,0,Jt.minX,Jt.maxX,yt);oe=null,vn&&(zr=nr(vn,ft,Re-dr,Re+or,1,Jt.minY,Jt.maxY,yt),Kn=nr(vn,ft,Re+Zr,Re+Or,1,Jt.minY,Jt.maxY,yt),vn=null),Pn&&(Qn=nr(Pn,ft,Re-dr,Re+or,1,Jt.minY,Jt.maxY,yt),en=nr(Pn,ft,Re+Zr,Re+Or,1,Jt.minY,Jt.maxY,yt),Pn=null),Lt>1&&console.timeEnd("clipping"),We.push(zr||[],Ae+1,2*_e,2*Re),We.push(Kn||[],Ae+1,2*_e,2*Re+1),We.push(Qn||[],Ae+1,2*_e+1,2*Re),We.push(en||[],Ae+1,2*_e+1,2*Re+1)}}getTile(oe,Ae,_e){oe=+oe,Ae=+Ae,_e=+_e;const Re=this.options,{extent:Je,debug:Ve}=Re;if(oe<0||oe>24)return null;const lt=1<<oe,We=_r(oe,Ae=Ae+lt&lt-1,_e);if(this.tiles[We])return Pr(this.tiles[We],Je);Ve>1&&console.log("drilling down to z%d-%d-%d",oe,Ae,_e);let yt,Lt=oe,ft=Ae,Nt=_e;for(;!yt&&Lt>0;)Lt--,ft>>=1,Nt>>=1,yt=this.tiles[_r(Lt,ft,Nt)];return yt&&yt.source?(Ve>1&&(console.log("found parent tile z%d-%d-%d",Lt,ft,Nt),console.time("drilling down")),this.splitTile(yt.source,Lt,ft,Nt,oe,Ae,_e),Ve>1&&console.timeEnd("drilling down"),this.tiles[We]?Pr(this.tiles[We],Je):null):null}}function _r(Ue,oe,Ae){return 32*((1<<Ue)*Ae+oe)+Ue}function sr(Ue,oe){return oe?Ue.properties[oe]:Ue.id}function Ur(Ue,oe){if(Ue==null)return!0;if(Ue.type==="Feature")return sr(Ue,oe)!=null;if(Ue.type==="FeatureCollection"){const Ae=new Set;for(const _e of Ue.features){const Re=sr(_e,oe);if(Re==null||Ae.has(Re))return!1;Ae.add(Re)}return!0}return!1}function Rr(Ue,oe){const Ae=new Map;if(Ue!=null)if(Ue.type==="Feature")Ae.set(sr(Ue,oe),Ue);else for(const _e of Ue.features)Ae.set(sr(_e,oe),_e);return Ae}class kn extends S{constructor(){super(...arguments),this._dataUpdateable=new Map}loadVectorTile(oe,Ae){return d._(this,void 0,void 0,(function*(){const _e=oe.tileID.canonical;if(!this._geoJSONIndex)throw new Error("Unable to parse the data into a cluster or geojson");const Re=this._geoJSONIndex.getTile(_e.z,_e.x,_e.y);if(!Re)return null;const Je=new class{constructor(lt){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=d.X,this.length=lt.length,this._features=lt}feature(lt){return new class{constructor(We){this._feature=We,this.extent=d.X,this.type=We.type,this.properties=We.tags,"id"in We&&!isNaN(We.id)&&(this.id=parseInt(We.id,10))}loadGeometry(){if(this._feature.type===1){const We=[];for(const yt of this._feature.geometry)We.push([new d.P(yt[0],yt[1])]);return We}{const We=[];for(const yt of this._feature.geometry){const Lt=[];for(const ft of yt)Lt.push(new d.P(ft[0],ft[1]));We.push(Lt)}return We}}toGeoJSON(We,yt,Lt){return K.call(this,We,yt,Lt)}}(this._features[lt])}}(Re.features);let Ve=ke(Je);return Ve.byteOffset===0&&Ve.byteLength===Ve.buffer.byteLength||(Ve=new Uint8Array(Ve)),{vectorTile:Je,rawData:Ve.buffer}}))}loadData(oe){return d._(this,void 0,void 0,(function*(){var Ae;(Ae=this._pendingRequest)===null||Ae===void 0||Ae.abort();const _e=!!(oe&&oe.request&&oe.request.collectResourceTiming)&&new d.bv(oe.request);this._pendingRequest=new AbortController;try{this._pendingData=this.loadAndProcessGeoJSON(oe,this._pendingRequest),this._geoJSONIndex=oe.cluster?new Te((function({superclusterOptions:Ve,clusterProperties:lt}){if(!lt||!Ve)return Ve;const We={},yt={},Lt={accumulated:null,zoom:0},ft={properties:null},Nt=Object.keys(lt);for(const Jt of Nt){const[dr,Zr]=lt[Jt],or=d.bC(Zr),Or=d.bC(typeof dr=="string"?[dr,["accumulated"],["get",Jt]]:dr);We[Jt]=or.value,yt[Jt]=Or.value}return Ve.map=Jt=>{ft.properties=Jt;const dr={};for(const Zr of Nt)dr[Zr]=We[Zr].evaluate(Lt,ft);return dr},Ve.reduce=(Jt,dr)=>{ft.properties=dr;for(const Zr of Nt)Lt.accumulated=Jt[Zr],Jt[Zr]=yt[Zr].evaluate(Lt,ft)},Ve})(oe)).load((yield this._pendingData).features):(Re=yield this._pendingData,new Xr(Re,oe.geojsonVtOptions)),this.loaded={};const Je={};if(_e){const Ve=_e.finish();Ve&&(Je.resourceTiming={},Je.resourceTiming[oe.source]=JSON.parse(JSON.stringify(Ve)))}return Je}catch(Je){if(delete this._pendingRequest,d.bB(Je))return{abandoned:!0};throw Je}var Re}))}getData(){return d._(this,void 0,void 0,(function*(){return this._pendingData}))}reloadTile(oe){const Ae=this.loaded;return Ae&&Ae[oe.uid]?super.reloadTile(oe):this.loadTile(oe)}loadAndProcessGeoJSON(oe,Ae){return d._(this,void 0,void 0,(function*(){let _e=yield this.loadGeoJSON(oe,Ae);if(delete this._pendingRequest,typeof _e!="object")throw new Error(`Input data given to '${oe.source}' is not a valid GeoJSON object.`);if(H(_e,!0),oe.filter){const Re=d.bC(oe.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(Re.result==="error")throw new Error(Re.value.map((Ve=>`${Ve.key}: ${Ve.message}`)).join(", "));_e={type:"FeatureCollection",features:_e.features.filter((Ve=>Re.value.evaluate({zoom:0},Ve)))}}return _e}))}loadGeoJSON(oe,Ae){return d._(this,void 0,void 0,(function*(){const{promoteId:_e}=oe;if(oe.request){const Re=yield d.h(oe.request,Ae);return this._dataUpdateable=Ur(Re.data,_e)?Rr(Re.data,_e):void 0,Re.data}if(typeof oe.data=="string")try{const Re=JSON.parse(oe.data);return this._dataUpdateable=Ur(Re,_e)?Rr(Re,_e):void 0,Re}catch{throw new Error(`Input data given to '${oe.source}' is not a valid GeoJSON object.`)}if(!oe.dataDiff)throw new Error(`Input data given to '${oe.source}' is not a valid GeoJSON object.`);if(!this._dataUpdateable)throw new Error(`Cannot update existing geojson data in ${oe.source}`);return(function(Re,Je,Ve){var lt,We,yt,Lt;if(Je.removeAll&&Re.clear(),Je.remove)for(const ft of Je.remove)Re.delete(ft);if(Je.add)for(const ft of Je.add){const Nt=sr(ft,Ve);Nt!=null&&Re.set(Nt,ft)}if(Je.update)for(const ft of Je.update){let Nt=Re.get(ft.id);if(Nt==null)continue;const Jt=!ft.removeAllProperties&&(((lt=ft.removeProperties)===null||lt===void 0?void 0:lt.length)>0||((We=ft.addOrUpdateProperties)===null||We===void 0?void 0:We.length)>0);if((ft.newGeometry||ft.removeAllProperties||Jt)&&(Nt=Object.assign({},Nt),Re.set(ft.id,Nt),Jt&&(Nt.properties=Object.assign({},Nt.properties))),ft.newGeometry&&(Nt.geometry=ft.newGeometry),ft.removeAllProperties)Nt.properties={};else if(((yt=ft.removeProperties)===null||yt===void 0?void 0:yt.length)>0)for(const dr of ft.removeProperties)Object.prototype.hasOwnProperty.call(Nt.properties,dr)&&delete Nt.properties[dr];if(((Lt=ft.addOrUpdateProperties)===null||Lt===void 0?void 0:Lt.length)>0)for(const{key:dr,value:Zr}of ft.addOrUpdateProperties)Nt.properties[dr]=Zr}})(this._dataUpdateable,oe.dataDiff,_e),{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())}}))}removeSource(oe){return d._(this,void 0,void 0,(function*(){this._pendingRequest&&this._pendingRequest.abort()}))}getClusterExpansionZoom(oe){return this._geoJSONIndex.getClusterExpansionZoom(oe.clusterId)}getClusterChildren(oe){return this._geoJSONIndex.getChildren(oe.clusterId)}getClusterLeaves(oe){return this._geoJSONIndex.getLeaves(oe.clusterId,oe.limit,oe.offset)}}class Gr{constructor(oe){this.self=oe,this.actor=new d.F(oe),this.layerIndexes={},this.availableImages={},this.workerSources={},this.demWorkerSources={},this.externalWorkerSourceTypes={},this.self.registerWorkerSource=(Ae,_e)=>{if(this.externalWorkerSourceTypes[Ae])throw new Error(`Worker source with name "${Ae}" already registered.`);this.externalWorkerSourceTypes[Ae]=_e},this.self.addProtocol=d.bi,this.self.removeProtocol=d.bj,this.self.registerRTLTextPlugin=Ae=>{if(d.bD.isParsed())throw new Error("RTL text plugin already registered.");d.bD.setMethods(Ae)},this.actor.registerMessageHandler("LDT",((Ae,_e)=>this._getDEMWorkerSource(Ae,_e.source).loadTile(_e))),this.actor.registerMessageHandler("RDT",((Ae,_e)=>d._(this,void 0,void 0,(function*(){this._getDEMWorkerSource(Ae,_e.source).removeTile(_e)})))),this.actor.registerMessageHandler("GCEZ",((Ae,_e)=>d._(this,void 0,void 0,(function*(){return this._getWorkerSource(Ae,_e.type,_e.source).getClusterExpansionZoom(_e)})))),this.actor.registerMessageHandler("GCC",((Ae,_e)=>d._(this,void 0,void 0,(function*(){return this._getWorkerSource(Ae,_e.type,_e.source).getClusterChildren(_e)})))),this.actor.registerMessageHandler("GCL",((Ae,_e)=>d._(this,void 0,void 0,(function*(){return this._getWorkerSource(Ae,_e.type,_e.source).getClusterLeaves(_e)})))),this.actor.registerMessageHandler("LD",((Ae,_e)=>this._getWorkerSource(Ae,_e.type,_e.source).loadData(_e))),this.actor.registerMessageHandler("GD",((Ae,_e)=>this._getWorkerSource(Ae,_e.type,_e.source).getData())),this.actor.registerMessageHandler("LT",((Ae,_e)=>this._getWorkerSource(Ae,_e.type,_e.source).loadTile(_e))),this.actor.registerMessageHandler("RT",((Ae,_e)=>this._getWorkerSource(Ae,_e.type,_e.source).reloadTile(_e))),this.actor.registerMessageHandler("AT",((Ae,_e)=>this._getWorkerSource(Ae,_e.type,_e.source).abortTile(_e))),this.actor.registerMessageHandler("RMT",((Ae,_e)=>this._getWorkerSource(Ae,_e.type,_e.source).removeTile(_e))),this.actor.registerMessageHandler("RS",((Ae,_e)=>d._(this,void 0,void 0,(function*(){if(!this.workerSources[Ae]||!this.workerSources[Ae][_e.type]||!this.workerSources[Ae][_e.type][_e.source])return;const Re=this.workerSources[Ae][_e.type][_e.source];delete this.workerSources[Ae][_e.type][_e.source],Re.removeSource!==void 0&&Re.removeSource(_e)})))),this.actor.registerMessageHandler("RM",(Ae=>d._(this,void 0,void 0,(function*(){delete this.layerIndexes[Ae],delete this.availableImages[Ae],delete this.workerSources[Ae],delete this.demWorkerSources[Ae]})))),this.actor.registerMessageHandler("SR",((Ae,_e)=>d._(this,void 0,void 0,(function*(){this.referrer=_e})))),this.actor.registerMessageHandler("SRPS",((Ae,_e)=>this._syncRTLPluginState(Ae,_e))),this.actor.registerMessageHandler("IS",((Ae,_e)=>d._(this,void 0,void 0,(function*(){this.self.importScripts(_e)})))),this.actor.registerMessageHandler("SI",((Ae,_e)=>this._setImages(Ae,_e))),this.actor.registerMessageHandler("UL",((Ae,_e)=>d._(this,void 0,void 0,(function*(){this._getLayerIndex(Ae).update(_e.layers,_e.removedIds)})))),this.actor.registerMessageHandler("SL",((Ae,_e)=>d._(this,void 0,void 0,(function*(){this._getLayerIndex(Ae).replace(_e)}))))}_setImages(oe,Ae){return d._(this,void 0,void 0,(function*(){this.availableImages[oe]=Ae;for(const _e in this.workerSources[oe]){const Re=this.workerSources[oe][_e];for(const Je in Re)Re[Je].availableImages=Ae}}))}_syncRTLPluginState(oe,Ae){return d._(this,void 0,void 0,(function*(){if(d.bD.isParsed())return d.bD.getState();if(Ae.pluginStatus!=="loading")return d.bD.setState(Ae),Ae;const _e=Ae.pluginURL;if(this.self.importScripts(_e),d.bD.isParsed()){const Re={pluginStatus:"loaded",pluginURL:_e};return d.bD.setState(Re),Re}throw d.bD.setState({pluginStatus:"error",pluginURL:""}),new Error(`RTL Text Plugin failed to import scripts from ${_e}`)}))}_getAvailableImages(oe){let Ae=this.availableImages[oe];return Ae||(Ae=[]),Ae}_getLayerIndex(oe){let Ae=this.layerIndexes[oe];return Ae||(Ae=this.layerIndexes[oe]=new l),Ae}_getWorkerSource(oe,Ae,_e){if(this.workerSources[oe]||(this.workerSources[oe]={}),this.workerSources[oe][Ae]||(this.workerSources[oe][Ae]={}),!this.workerSources[oe][Ae][_e]){const Re={sendAsync:(Je,Ve)=>(Je.targetMapId=oe,this.actor.sendAsync(Je,Ve))};switch(Ae){case"vector":this.workerSources[oe][Ae][_e]=new S(Re,this._getLayerIndex(oe),this._getAvailableImages(oe));break;case"geojson":this.workerSources[oe][Ae][_e]=new kn(Re,this._getLayerIndex(oe),this._getAvailableImages(oe));break;default:this.workerSources[oe][Ae][_e]=new this.externalWorkerSourceTypes[Ae](Re,this._getLayerIndex(oe),this._getAvailableImages(oe))}}return this.workerSources[oe][Ae][_e]}_getDEMWorkerSource(oe,Ae){return this.demWorkerSources[oe]||(this.demWorkerSources[oe]={}),this.demWorkerSources[oe][Ae]||(this.demWorkerSources[oe][Ae]=new F),this.demWorkerSources[oe][Ae]}}return d.i(self)&&(self.worker=new Gr(self)),Gr})),s("index",["exports","./shared"],(function(d,l){var y="4.7.1";let b,w;const S={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frameAsync:_=>new Promise(((i,h)=>{const p=requestAnimationFrame(i);_.signal.addEventListener("abort",(()=>{cancelAnimationFrame(p),h(l.c())}))})),getImageData(_,i=0){return this.getImageCanvasContext(_).getImageData(-i,-i,_.width+2*i,_.height+2*i)},getImageCanvasContext(_){const i=window.document.createElement("canvas"),h=i.getContext("2d",{willReadFrequently:!0});if(!h)throw new Error("failed to create canvas 2d context");return i.width=_.width,i.height=_.height,h.drawImage(_,0,0,_.width,_.height),h},resolveURL:_=>(b||(b=document.createElement("a")),b.href=_,b.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(w==null&&(w=matchMedia("(prefers-reduced-motion: reduce)")),w.matches)}};class F{static testProp(i){if(!F.docStyle)return i[0];for(let h=0;h<i.length;h++)if(i[h]in F.docStyle)return i[h];return i[0]}static create(i,h,p){const v=window.document.createElement(i);return h!==void 0&&(v.className=h),p&&p.appendChild(v),v}static createNS(i,h){return window.document.createElementNS(i,h)}static disableDrag(){F.docStyle&&F.selectProp&&(F.userSelect=F.docStyle[F.selectProp],F.docStyle[F.selectProp]="none")}static enableDrag(){F.docStyle&&F.selectProp&&(F.docStyle[F.selectProp]=F.userSelect)}static setTransform(i,h){i.style[F.transformProp]=h}static addEventListener(i,h,p,v={}){i.addEventListener(h,p,"passive"in v?v:v.capture)}static removeEventListener(i,h,p,v={}){i.removeEventListener(h,p,"passive"in v?v:v.capture)}static suppressClickInternal(i){i.preventDefault(),i.stopPropagation(),window.removeEventListener("click",F.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",F.suppressClickInternal,!0),window.setTimeout((()=>{window.removeEventListener("click",F.suppressClickInternal,!0)}),0)}static getScale(i){const h=i.getBoundingClientRect();return{x:h.width/i.offsetWidth||1,y:h.height/i.offsetHeight||1,boundingClientRect:h}}static getPoint(i,h,p){const v=h.boundingClientRect;return new l.P((p.clientX-v.left)/h.x-i.clientLeft,(p.clientY-v.top)/h.y-i.clientTop)}static mousePos(i,h){const p=F.getScale(i);return F.getPoint(i,p,h)}static touchPos(i,h){const p=[],v=F.getScale(i);for(let x=0;x<h.length;x++)p.push(F.getPoint(i,v,h[x]));return p}static mouseButton(i){return i.button}static remove(i){i.parentNode&&i.parentNode.removeChild(i)}}F.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,F.selectProp=F.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),F.transformProp=F.testProp(["transform","WebkitTransform"]);const T={supported:!1,testSupport:function(_){!K&&H&&(q?ne(_):z=_)}};let z,H,K=!1,q=!1;function ne(_){const i=_.createTexture();_.bindTexture(_.TEXTURE_2D,i);try{if(_.texImage2D(_.TEXTURE_2D,0,_.RGBA,_.RGBA,_.UNSIGNED_BYTE,H),_.isContextLost())return;T.supported=!0}catch{}_.deleteTexture(i),K=!0}var W;typeof document<"u"&&(H=document.createElement("img"),H.onload=()=>{z&&ne(z),z=null,q=!0},H.onerror=()=>{K=!0,z=null},H.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),(function(_){let i,h,p,v;_.resetRequestQueue=()=>{i=[],h=0,p=0,v={}},_.addThrottleControl=k=>{const Q=p++;return v[Q]=k,Q},_.removeThrottleControl=k=>{delete v[k],U()},_.getImage=(k,Q,G=!0)=>new Promise((($,J)=>{T.supported&&(k.headers||(k.headers={}),k.headers.accept="image/webp,*/*"),l.e(k,{type:"image"}),i.push({abortController:Q,requestParameters:k,supportImageRefresh:G,state:"queued",onError:te=>{J(te)},onSuccess:te=>{$(te)}}),U()}));const x=k=>l._(this,void 0,void 0,(function*(){k.state="running";const{requestParameters:Q,supportImageRefresh:G,onError:$,onSuccess:J,abortController:te}=k,ue=G===!1&&!l.i(self)&&!l.g(Q.url)&&(!Q.headers||Object.keys(Q.headers).reduce(((we,Qe)=>we&&Qe==="accept"),!0));h++;const pe=ue?M(Q,te):l.m(Q,te);try{const we=yield pe;delete k.abortController,k.state="completed",we.data instanceof HTMLImageElement||l.b(we.data)?J(we):we.data&&J({data:yield(Be=we.data,typeof createImageBitmap=="function"?l.d(Be):l.f(Be)),cacheControl:we.cacheControl,expires:we.expires})}catch(we){delete k.abortController,$(we)}finally{h--,U()}var Be})),U=()=>{const k=(()=>{for(const Q of Object.keys(v))if(v[Q]())return!0;return!1})()?l.a.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:l.a.MAX_PARALLEL_IMAGE_REQUESTS;for(let Q=h;Q<k&&i.length>0;Q++){const G=i.shift();G.abortController.signal.aborted?Q--:x(G)}},M=(k,Q)=>new Promise(((G,$)=>{const J=new Image,te=k.url,ue=k.credentials;ue&&ue==="include"?J.crossOrigin="use-credentials":(ue&&ue==="same-origin"||!l.s(te))&&(J.crossOrigin="anonymous"),Q.signal.addEventListener("abort",(()=>{J.src="",$(l.c())})),J.fetchPriority="high",J.onload=()=>{J.onerror=J.onload=null,G({data:J})},J.onerror=()=>{J.onerror=J.onload=null,Q.signal.aborted||$(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))},J.src=te}))})(W||(W={})),W.resetRequestQueue();class le{constructor(i){this._transformRequestFn=i}transformRequest(i,h){return this._transformRequestFn&&this._transformRequestFn(i,h)||{url:i}}setTransformRequest(i){this._transformRequestFn=i}}function ce(_){var i=new l.A(3);return i[0]=_[0],i[1]=_[1],i[2]=_[2],i}var me,Ee=function(_,i,h){return _[0]=i[0]-h[0],_[1]=i[1]-h[1],_[2]=i[2]-h[2],_};me=new l.A(3),l.A!=Float32Array&&(me[0]=0,me[1]=0,me[2]=0);var Ie=function(_){var i=_[0],h=_[1];return i*i+h*h};function ge(_){const i=[];if(typeof _=="string")i.push({id:"default",url:_});else if(_&&_.length>0){const h=[];for(const{id:p,url:v}of _){const x=`${p}${v}`;h.indexOf(x)===-1&&(h.push(x),i.push({id:p,url:v}))}}return i}function je(_,i,h){const p=_.split("?");return p[0]+=`${i}${h}`,p.join("?")}(function(){var _=new l.A(2);l.A!=Float32Array&&(_[0]=0,_[1]=0)})();class ie{constructor(i,h,p,v){this.context=i,this.format=p,this.texture=i.gl.createTexture(),this.update(h,v)}update(i,h,p){const{width:v,height:x}=i,U=!(this.size&&this.size[0]===v&&this.size[1]===x||p),{context:M}=this,{gl:k}=M;if(this.useMipmap=!!(h&&h.useMipmap),k.bindTexture(k.TEXTURE_2D,this.texture),M.pixelStoreUnpackFlipY.set(!1),M.pixelStoreUnpack.set(1),M.pixelStoreUnpackPremultiplyAlpha.set(this.format===k.RGBA&&(!h||h.premultiply!==!1)),U)this.size=[v,x],i instanceof HTMLImageElement||i instanceof HTMLCanvasElement||i instanceof HTMLVideoElement||i instanceof ImageData||l.b(i)?k.texImage2D(k.TEXTURE_2D,0,this.format,this.format,k.UNSIGNED_BYTE,i):k.texImage2D(k.TEXTURE_2D,0,this.format,v,x,0,this.format,k.UNSIGNED_BYTE,i.data);else{const{x:Q,y:G}=p||{x:0,y:0};i instanceof HTMLImageElement||i instanceof HTMLCanvasElement||i instanceof HTMLVideoElement||i instanceof ImageData||l.b(i)?k.texSubImage2D(k.TEXTURE_2D,0,Q,G,k.RGBA,k.UNSIGNED_BYTE,i):k.texSubImage2D(k.TEXTURE_2D,0,Q,G,v,x,k.RGBA,k.UNSIGNED_BYTE,i.data)}this.useMipmap&&this.isSizePowerOfTwo()&&k.generateMipmap(k.TEXTURE_2D)}bind(i,h,p){const{context:v}=this,{gl:x}=v;x.bindTexture(x.TEXTURE_2D,this.texture),p!==x.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(p=x.LINEAR),i!==this.filter&&(x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MAG_FILTER,i),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MIN_FILTER,p||i),this.filter=i),h!==this.wrap&&(x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_S,h),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_T,h),this.wrap=h)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:i}=this.context;i.deleteTexture(this.texture),this.texture=null}}function de(_){const{userImage:i}=_;return!!(i&&i.render&&i.render())&&(_.data.replace(new Uint8Array(i.data.buffer)),!0)}class Fe extends l.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new l.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(i){if(this.loaded!==i&&(this.loaded=i,i)){for(const{ids:h,promiseResolve:p}of this.requestors)p(this._getImagesForIds(h));this.requestors=[]}}getImage(i){const h=this.images[i];if(h&&!h.data&&h.spriteData){const p=h.spriteData;h.data=new l.R({width:p.width,height:p.height},p.context.getImageData(p.x,p.y,p.width,p.height).data),h.spriteData=null}return h}addImage(i,h){if(this.images[i])throw new Error(`Image id ${i} already exist, use updateImage instead`);this._validate(i,h)&&(this.images[i]=h)}_validate(i,h){let p=!0;const v=h.data||h.spriteData;return this._validateStretch(h.stretchX,v&&v.width)||(this.fire(new l.j(new Error(`Image "${i}" has invalid "stretchX" value`))),p=!1),this._validateStretch(h.stretchY,v&&v.height)||(this.fire(new l.j(new Error(`Image "${i}" has invalid "stretchY" value`))),p=!1),this._validateContent(h.content,h)||(this.fire(new l.j(new Error(`Image "${i}" has invalid "content" value`))),p=!1),p}_validateStretch(i,h){if(!i)return!0;let p=0;for(const v of i){if(v[0]<p||v[1]<v[0]||h<v[1])return!1;p=v[1]}return!0}_validateContent(i,h){if(!i)return!0;if(i.length!==4)return!1;const p=h.spriteData,v=p&&p.width||h.data.width,x=p&&p.height||h.data.height;return!(i[0]<0||v<i[0]||i[1]<0||x<i[1]||i[2]<0||v<i[2]||i[3]<0||x<i[3]||i[2]<i[0]||i[3]<i[1])}updateImage(i,h,p=!0){const v=this.getImage(i);if(p&&(v.data.width!==h.data.width||v.data.height!==h.data.height))throw new Error(`size mismatch between old image (${v.data.width}x${v.data.height}) and new image (${h.data.width}x${h.data.height}).`);h.version=v.version+1,this.images[i]=h,this.updatedImages[i]=!0}removeImage(i){const h=this.images[i];delete this.images[i],delete this.patterns[i],h.userImage&&h.userImage.onRemove&&h.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(i){return new Promise(((h,p)=>{let v=!0;if(!this.isLoaded())for(const x of i)this.images[x]||(v=!1);this.isLoaded()||v?h(this._getImagesForIds(i)):this.requestors.push({ids:i,promiseResolve:h})}))}_getImagesForIds(i){const h={};for(const p of i){let v=this.getImage(p);v||(this.fire(new l.k("styleimagemissing",{id:p})),v=this.getImage(p)),v?h[p]={data:v.data.clone(),pixelRatio:v.pixelRatio,sdf:v.sdf,version:v.version,stretchX:v.stretchX,stretchY:v.stretchY,content:v.content,textFitWidth:v.textFitWidth,textFitHeight:v.textFitHeight,hasRenderCallback:!!(v.userImage&&v.userImage.render)}:l.w(`Image "${p}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}return h}getPixelSize(){const{width:i,height:h}=this.atlasImage;return{width:i,height:h}}getPattern(i){const h=this.patterns[i],p=this.getImage(i);if(!p)return null;if(h&&h.position.version===p.version)return h.position;if(h)h.position.version=p.version;else{const v={w:p.data.width+2,h:p.data.height+2,x:0,y:0},x=new l.I(v,p);this.patterns[i]={bin:v,position:x}}return this._updatePatternAtlas(),this.patterns[i].position}bind(i){const h=i.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new ie(i,this.atlasImage,h.RGBA),this.atlasTexture.bind(h.LINEAR,h.CLAMP_TO_EDGE)}_updatePatternAtlas(){const i=[];for(const x in this.patterns)i.push(this.patterns[x].bin);const{w:h,h:p}=l.p(i),v=this.atlasImage;v.resize({width:h||1,height:p||1});for(const x in this.patterns){const{bin:U}=this.patterns[x],M=U.x+1,k=U.y+1,Q=this.getImage(x).data,G=Q.width,$=Q.height;l.R.copy(Q,v,{x:0,y:0},{x:M,y:k},{width:G,height:$}),l.R.copy(Q,v,{x:0,y:$-1},{x:M,y:k-1},{width:G,height:1}),l.R.copy(Q,v,{x:0,y:0},{x:M,y:k+$},{width:G,height:1}),l.R.copy(Q,v,{x:G-1,y:0},{x:M-1,y:k},{width:1,height:$}),l.R.copy(Q,v,{x:0,y:0},{x:M+G,y:k},{width:1,height:$})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(i){for(const h of i){if(this.callbackDispatchedThisFrame[h])continue;this.callbackDispatchedThisFrame[h]=!0;const p=this.getImage(h);p||l.w(`Image with ID: "${h}" was not found`),de(p)&&this.updateImage(h,p)}}}const Le=1e20;function it(_,i,h,p,v,x,U,M,k){for(let Q=i;Q<i+p;Q++)Pe(_,h*x+Q,x,v,U,M,k);for(let Q=h;Q<h+v;Q++)Pe(_,Q*x+i,1,p,U,M,k)}function Pe(_,i,h,p,v,x,U){x[0]=0,U[0]=-Le,U[1]=Le,v[0]=_[i];for(let M=1,k=0,Q=0;M<p;M++){v[M]=_[i+M*h];const G=M*M;do{const $=x[k];Q=(v[M]-v[$]+G-$*$)/(M-$)/2}while(Q<=U[k]&&--k>-1);k++,x[k]=M,U[k]=Q,U[k+1]=Le}for(let M=0,k=0;M<p;M++){for(;U[k+1]<M;)k++;const Q=x[k],G=M-Q;_[i+M*h]=v[Q]+G*G}}class ke{constructor(i,h){this.requestManager=i,this.localIdeographFontFamily=h,this.entries={}}setURL(i){this.url=i}getGlyphs(i){return l._(this,void 0,void 0,(function*(){const h=[];for(const x in i)for(const U of i[x])h.push(this._getAndCacheGlyphsPromise(x,U));const p=yield Promise.all(h),v={};for(const{stack:x,id:U,glyph:M}of p)v[x]||(v[x]={}),v[x][U]=M&&{id:M.id,bitmap:M.bitmap.clone(),metrics:M.metrics};return v}))}_getAndCacheGlyphsPromise(i,h){return l._(this,void 0,void 0,(function*(){let p=this.entries[i];p||(p=this.entries[i]={glyphs:{},requests:{},ranges:{}});let v=p.glyphs[h];if(v!==void 0)return{stack:i,id:h,glyph:v};if(v=this._tinySDF(p,i,h),v)return p.glyphs[h]=v,{stack:i,id:h,glyph:v};const x=Math.floor(h/256);if(256*x>65535)throw new Error("glyphs > 65535 not supported");if(p.ranges[x])return{stack:i,id:h,glyph:v};if(!this.url)throw new Error("glyphsUrl is not set");if(!p.requests[x]){const M=ke.loadGlyphRange(i,x,this.url,this.requestManager);p.requests[x]=M}const U=yield p.requests[x];for(const M in U)this._doesCharSupportLocalGlyph(+M)||(p.glyphs[+M]=U[+M]);return p.ranges[x]=!0,{stack:i,id:h,glyph:U[h]||null}}))}_doesCharSupportLocalGlyph(i){return!!this.localIdeographFontFamily&&new RegExp("\\p{Ideo}|\\p{sc=Hang}|\\p{sc=Hira}|\\p{sc=Kana}","u").test(String.fromCodePoint(i))}_tinySDF(i,h,p){const v=this.localIdeographFontFamily;if(!v||!this._doesCharSupportLocalGlyph(p))return;let x=i.tinySDF;if(!x){let M="400";/bold/i.test(h)?M="900":/medium/i.test(h)?M="500":/light/i.test(h)&&(M="200"),x=i.tinySDF=new ke.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:v,fontWeight:M})}const U=x.draw(String.fromCharCode(p));return{id:p,bitmap:new l.o({width:U.width||60,height:U.height||60},U.data),metrics:{width:U.glyphWidth/2||24,height:U.glyphHeight/2||24,left:U.glyphLeft/2+.5||0,top:U.glyphTop/2-27.5||-8,advance:U.glyphAdvance/2||24,isDoubleResolution:!0}}}}ke.loadGlyphRange=function(_,i,h,p){return l._(this,void 0,void 0,(function*(){const v=256*i,x=v+255,U=p.transformRequest(h.replace("{fontstack}",_).replace("{range}",`${v}-${x}`),"Glyphs"),M=yield l.l(U,new AbortController);if(!M||!M.data)throw new Error(`Could not load glyph range. range: ${i}, ${v}-${x}`);const k={};for(const Q of l.n(M.data))k[Q.id]=Q;return k}))},ke.TinySDF=class{constructor({fontSize:_=24,buffer:i=3,radius:h=8,cutoff:p=.25,fontFamily:v="sans-serif",fontWeight:x="normal",fontStyle:U="normal"}={}){this.buffer=i,this.cutoff=p,this.radius=h;const M=this.size=_+4*i,k=this._createCanvas(M),Q=this.ctx=k.getContext("2d",{willReadFrequently:!0});Q.font=`${U} ${x} ${_}px ${v}`,Q.textBaseline="alphabetic",Q.textAlign="left",Q.fillStyle="black",this.gridOuter=new Float64Array(M*M),this.gridInner=new Float64Array(M*M),this.f=new Float64Array(M),this.z=new Float64Array(M+1),this.v=new Uint16Array(M)}_createCanvas(_){const i=document.createElement("canvas");return i.width=i.height=_,i}draw(_){const{width:i,actualBoundingBoxAscent:h,actualBoundingBoxDescent:p,actualBoundingBoxLeft:v,actualBoundingBoxRight:x}=this.ctx.measureText(_),U=Math.ceil(h),M=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(x-v))),k=Math.min(this.size-this.buffer,U+Math.ceil(p)),Q=M+2*this.buffer,G=k+2*this.buffer,$=Math.max(Q*G,0),J=new Uint8ClampedArray($),te={data:J,width:Q,height:G,glyphWidth:M,glyphHeight:k,glyphTop:U,glyphLeft:0,glyphAdvance:i};if(M===0||k===0)return te;const{ctx:ue,buffer:pe,gridInner:Be,gridOuter:we}=this;ue.clearRect(pe,pe,M,k),ue.fillText(_,pe,pe+U);const Qe=ue.getImageData(pe,pe,M,k);we.fill(Le,0,$),Be.fill(0,0,$);for(let Se=0;Se<k;Se++)for(let $e=0;$e<M;$e++){const qe=Qe.data[4*(Se*M+$e)+3]/255;if(qe===0)continue;const at=(Se+pe)*Q+$e+pe;if(qe===1)we[at]=0,Be[at]=Le;else{const wt=.5-qe;we[at]=wt>0?wt*wt:0,Be[at]=wt<0?wt*wt:0}}it(we,0,0,Q,G,Q,this.f,this.v,this.z),it(Be,pe,pe,M,k,Q,this.f,this.v,this.z);for(let Se=0;Se<$;Se++){const $e=Math.sqrt(we[Se])-Math.sqrt(Be[Se]);J[Se]=Math.round(255-255*($e/this.radius+this.cutoff))}return te}};class Ge{constructor(){this.specification=l.v.light.position}possiblyEvaluate(i,h){return l.x(i.expression.evaluate(h))}interpolate(i,h,p){return{x:l.y.number(i.x,h.x,p),y:l.y.number(i.y,h.y,p),z:l.y.number(i.z,h.z,p)}}}let Oe;class st extends l.E{constructor(i){super(),Oe=Oe||new l.q({anchor:new l.D(l.v.light.anchor),position:new Ge,color:new l.D(l.v.light.color),intensity:new l.D(l.v.light.intensity)}),this._transitionable=new l.T(Oe),this.setLight(i),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(i,h={}){if(!this._validate(l.r,i,h))for(const p in i){const v=i[p];p.endsWith("-transition")?this._transitionable.setTransition(p.slice(0,-11),v):this._transitionable.setValue(p,v)}}updateTransitions(i){this._transitioning=this._transitionable.transitioned(i,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(i){this.properties=this._transitioning.possiblyEvaluate(i)}_validate(i,h,p){return(!p||p.validate!==!1)&&l.t(this,i.call(l.u,{value:h,style:{glyphs:!0,sprite:!0},styleSpec:l.v}))}}const be=new l.q({"sky-color":new l.D(l.v.sky["sky-color"]),"horizon-color":new l.D(l.v.sky["horizon-color"]),"fog-color":new l.D(l.v.sky["fog-color"]),"fog-ground-blend":new l.D(l.v.sky["fog-ground-blend"]),"horizon-fog-blend":new l.D(l.v.sky["horizon-fog-blend"]),"sky-horizon-blend":new l.D(l.v.sky["sky-horizon-blend"]),"atmosphere-blend":new l.D(l.v.sky["atmosphere-blend"])});class ee extends l.E{constructor(i){super(),this._transitionable=new l.T(be),this.setSky(i),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new l.z(0))}setSky(i,h={}){if(!this._validate(l.B,i,h)){i||(i={"sky-color":"transparent","horizon-color":"transparent","fog-color":"transparent","fog-ground-blend":1,"atmosphere-blend":0});for(const p in i){const v=i[p];p.endsWith("-transition")?this._transitionable.setTransition(p.slice(0,-11),v):this._transitionable.setValue(p,v)}}}getSky(){return this._transitionable.serialize()}updateTransitions(i){this._transitioning=this._transitionable.transitioned(i,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(i){this.properties=this._transitioning.possiblyEvaluate(i)}_validate(i,h,p={}){return p?.validate!==!1&&l.t(this,i.call(l.u,l.e({value:h,style:{glyphs:!0,sprite:!0},styleSpec:l.v})))}calculateFogBlendOpacity(i){return i<60?0:i<70?(i-60)/10:1}}class ye{constructor(i,h){this.width=i,this.height=h,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(i,h){const p=i.join(",")+String(h);return this.dashEntry[p]||(this.dashEntry[p]=this.addDash(i,h)),this.dashEntry[p]}getDashRanges(i,h,p){const v=[];let x=i.length%2==1?-i[i.length-1]*p:0,U=i[0]*p,M=!0;v.push({left:x,right:U,isDash:M,zeroLength:i[0]===0});let k=i[0];for(let Q=1;Q<i.length;Q++){M=!M;const G=i[Q];x=k*p,k+=G,U=k*p,v.push({left:x,right:U,isDash:M,zeroLength:G===0})}return v}addRoundDash(i,h,p){const v=h/2;for(let x=-p;x<=p;x++){const U=this.width*(this.nextRow+p+x);let M=0,k=i[M];for(let Q=0;Q<this.width;Q++){Q/k.right>1&&(k=i[++M]);const G=Math.abs(Q-k.left),$=Math.abs(Q-k.right),J=Math.min(G,$);let te;const ue=x/p*(v+1);if(k.isDash){const pe=v-Math.abs(ue);te=Math.sqrt(J*J+pe*pe)}else te=v-Math.sqrt(J*J+ue*ue);this.data[U+Q]=Math.max(0,Math.min(255,te+128))}}}addRegularDash(i){for(let M=i.length-1;M>=0;--M){const k=i[M],Q=i[M+1];k.zeroLength?i.splice(M,1):Q&&Q.isDash===k.isDash&&(Q.left=k.left,i.splice(M,1))}const h=i[0],p=i[i.length-1];h.isDash===p.isDash&&(h.left=p.left-this.width,p.right=h.right+this.width);const v=this.width*this.nextRow;let x=0,U=i[x];for(let M=0;M<this.width;M++){M/U.right>1&&(U=i[++x]);const k=Math.abs(M-U.left),Q=Math.abs(M-U.right),G=Math.min(k,Q);this.data[v+M]=Math.max(0,Math.min(255,(U.isDash?G:-G)+128))}}addDash(i,h){const p=h?7:0,v=2*p+1;if(this.nextRow+v>this.height)return l.w("LineAtlas out of space"),null;let x=0;for(let M=0;M<i.length;M++)x+=i[M];if(x!==0){const M=this.width/x,k=this.getDashRanges(i,this.width,M);h?this.addRoundDash(k,M,p):this.addRegularDash(k)}const U={y:(this.nextRow+p+.5)/this.height,height:2*p/this.height,width:x};return this.nextRow+=v,this.dirty=!0,U}bind(i){const h=i.gl;this.texture?(h.bindTexture(h.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,h.texSubImage2D(h.TEXTURE_2D,0,0,0,this.width,this.height,h.ALPHA,h.UNSIGNED_BYTE,this.data))):(this.texture=h.createTexture(),h.bindTexture(h.TEXTURE_2D,this.texture),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.REPEAT),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.REPEAT),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.LINEAR),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.LINEAR),h.texImage2D(h.TEXTURE_2D,0,h.ALPHA,this.width,this.height,0,h.ALPHA,h.UNSIGNED_BYTE,this.data))}}const Te="maplibre_preloaded_worker_pool";class Ne{constructor(){this.active={}}acquire(i){if(!this.workers)for(this.workers=[];this.workers.length<Ne.workerCount;)this.workers.push(new Worker(l.a.WORKER_URL));return this.active[i]=!0,this.workers.slice()}release(i){delete this.active[i],this.numActive()===0&&(this.workers.forEach((h=>{h.terminate()})),this.workers=null)}isPreloaded(){return!!this.active[Te]}numActive(){return Object.keys(this.active).length}}const Ze=Math.floor(S.hardwareConcurrency/2);let et,gt;function Ke(){return et||(et=new Ne),et}Ne.workerCount=l.C(globalThis)?Math.max(Math.min(Ze,3),1):1;class pt{constructor(i,h){this.workerPool=i,this.actors=[],this.currentActor=0,this.id=h;const p=this.workerPool.acquire(h);for(let v=0;v<p.length;v++){const x=new l.F(p[v],h);x.name=`Worker ${v}`,this.actors.push(x)}if(!this.actors.length)throw new Error("No actors found")}broadcast(i,h){const p=[];for(const v of this.actors)p.push(v.sendAsync({type:i,data:h}));return Promise.all(p)}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(i=!0){this.actors.forEach((h=>{h.remove()})),this.actors=[],i&&this.workerPool.release(this.id)}registerMessageHandler(i,h){for(const p of this.actors)p.registerMessageHandler(i,h)}}function Ct(){return gt||(gt=new pt(Ke(),l.G),gt.registerMessageHandler("GR",((_,i,h)=>l.m(i,h)))),gt}function ct(_,i){const h=l.H();return l.J(h,h,[1,1,0]),l.K(h,h,[.5*_.width,.5*_.height,1]),l.L(h,h,_.calculatePosMatrix(i.toUnwrapped()))}function qt(_,i,h,p,v,x){const U=(function($,J,te){if($)for(const ue of $){const pe=J[ue];if(pe&&pe.source===te&&pe.type==="fill-extrusion")return!0}else for(const ue in J){const pe=J[ue];if(pe.source===te&&pe.type==="fill-extrusion")return!0}return!1})(v&&v.layers,i,_.id),M=x.maxPitchScaleFactor(),k=_.tilesIn(p,M,U);k.sort(Xt);const Q=[];for(const $ of k)Q.push({wrappedTileID:$.tileID.wrapped().key,queryResults:$.tile.queryRenderedFeatures(i,h,_._state,$.queryGeometry,$.cameraQueryGeometry,$.scale,v,x,M,ct(_.transform,$.tileID))});const G=(function($){const J={},te={};for(const ue of $){const pe=ue.queryResults,Be=ue.wrappedTileID,we=te[Be]=te[Be]||{};for(const Qe in pe){const Se=pe[Qe],$e=we[Qe]=we[Qe]||{},qe=J[Qe]=J[Qe]||[];for(const at of Se)$e[at.featureIndex]||($e[at.featureIndex]=!0,qe.push(at))}}return J})(Q);for(const $ in G)G[$].forEach((J=>{const te=J.feature,ue=_.getFeatureState(te.layer["source-layer"],te.id);te.source=te.layer.source,te.layer["source-layer"]&&(te.sourceLayer=te.layer["source-layer"]),te.state=ue}));return G}function Xt(_,i){const h=_.tileID,p=i.tileID;return h.overscaledZ-p.overscaledZ||h.canonical.y-p.canonical.y||h.wrap-p.wrap||h.canonical.x-p.canonical.x}function Me(_,i,h){return l._(this,void 0,void 0,(function*(){let p=_;if(_.url?p=(yield l.h(i.transformRequest(_.url,"Source"),h)).data:yield S.frameAsync(h),!p)return null;const v=l.M(l.e(p,_),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);return"vector_layers"in p&&p.vector_layers&&(v.vectorLayerIds=p.vector_layers.map((x=>x.id))),v}))}class Ye{constructor(i,h){i&&(h?this.setSouthWest(i).setNorthEast(h):Array.isArray(i)&&(i.length===4?this.setSouthWest([i[0],i[1]]).setNorthEast([i[2],i[3]]):this.setSouthWest(i[0]).setNorthEast(i[1])))}setNorthEast(i){return this._ne=i instanceof l.N?new l.N(i.lng,i.lat):l.N.convert(i),this}setSouthWest(i){return this._sw=i instanceof l.N?new l.N(i.lng,i.lat):l.N.convert(i),this}extend(i){const h=this._sw,p=this._ne;let v,x;if(i instanceof l.N)v=i,x=i;else{if(!(i instanceof Ye))return Array.isArray(i)?i.length===4||i.every(Array.isArray)?this.extend(Ye.convert(i)):this.extend(l.N.convert(i)):i&&("lng"in i||"lon"in i)&&"lat"in i?this.extend(l.N.convert(i)):this;if(v=i._sw,x=i._ne,!v||!x)return this}return h||p?(h.lng=Math.min(v.lng,h.lng),h.lat=Math.min(v.lat,h.lat),p.lng=Math.max(x.lng,p.lng),p.lat=Math.max(x.lat,p.lat)):(this._sw=new l.N(v.lng,v.lat),this._ne=new l.N(x.lng,x.lat)),this}getCenter(){return new l.N((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new l.N(this.getWest(),this.getNorth())}getSouthEast(){return new l.N(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(i){const{lng:h,lat:p}=l.N.convert(i);let v=this._sw.lng<=h&&h<=this._ne.lng;return this._sw.lng>this._ne.lng&&(v=this._sw.lng>=h&&h>=this._ne.lng),this._sw.lat<=p&&p<=this._ne.lat&&v}static convert(i){return i instanceof Ye?i:i&&new Ye(i)}static fromLngLat(i,h=0){const p=360*h/40075017,v=p/Math.cos(Math.PI/180*i.lat);return new Ye(new l.N(i.lng-v,i.lat-p),new l.N(i.lng+v,i.lat+p))}adjustAntiMeridian(){const i=new l.N(this._sw.lng,this._sw.lat),h=new l.N(this._ne.lng,this._ne.lat);return new Ye(i,i.lng>h.lng?new l.N(h.lng+360,h.lat):h)}}class Nr{constructor(i,h,p){this.bounds=Ye.convert(this.validateBounds(i)),this.minzoom=h||0,this.maxzoom=p||24}validateBounds(i){return Array.isArray(i)&&i.length===4?[Math.max(-180,i[0]),Math.max(-90,i[1]),Math.min(180,i[2]),Math.min(90,i[3])]:[-180,-90,180,90]}contains(i){const h=Math.pow(2,i.z),p=Math.floor(l.O(this.bounds.getWest())*h),v=Math.floor(l.Q(this.bounds.getNorth())*h),x=Math.ceil(l.O(this.bounds.getEast())*h),U=Math.ceil(l.Q(this.bounds.getSouth())*h);return i.x>=p&&i.x<x&&i.y>=v&&i.y<U}}class Er extends l.E{constructor(i,h,p,v){if(super(),this.id=i,this.dispatcher=p,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,l.e(this,l.M(h,["url","scheme","tileSize","promoteId"])),this._options=l.e({type:"vector"},h),this._collectResourceTiming=h.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(v)}load(){return l._(this,void 0,void 0,(function*(){this._loaded=!1,this.fire(new l.k("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const i=yield Me(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),i&&(l.e(this,i),i.bounds&&(this.tileBounds=new Nr(i.bounds,this.minzoom,this.maxzoom)),this.fire(new l.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new l.k("data",{dataType:"source",sourceDataType:"content"})))}catch(i){this._tileJSONRequest=null,this.fire(new l.j(i))}}))}loaded(){return this._loaded}hasTile(i){return!this.tileBounds||this.tileBounds.contains(i.canonical)}onAdd(i){this.map=i,this.load()}setSourceProperty(i){this._tileJSONRequest&&this._tileJSONRequest.abort(),i(),this.load()}setTiles(i){return this.setSourceProperty((()=>{this._options.tiles=i})),this}setUrl(i){return this.setSourceProperty((()=>{this.url=i,this._options.url=i})),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}serialize(){return l.e({},this._options)}loadTile(i){return l._(this,void 0,void 0,(function*(){const h=i.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),p={request:this.map._requestManager.transformRequest(h,"Tile"),uid:i.uid,tileID:i.tileID,zoom:i.tileID.overscaledZ,tileSize:this.tileSize*i.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};p.request.collectResourceTiming=this._collectResourceTiming;let v="RT";if(i.actor&&i.state!=="expired"){if(i.state==="loading")return new Promise(((x,U)=>{i.reloadPromise={resolve:x,reject:U}}))}else i.actor=this.dispatcher.getActor(),v="LT";i.abortController=new AbortController;try{const x=yield i.actor.sendAsync({type:v,data:p},i.abortController);if(delete i.abortController,i.aborted)return;this._afterTileLoadWorkerResponse(i,x)}catch(x){if(delete i.abortController,i.aborted)return;if(x&&x.status!==404)throw x;this._afterTileLoadWorkerResponse(i,null)}}))}_afterTileLoadWorkerResponse(i,h){if(h&&h.resourceTiming&&(i.resourceTiming=h.resourceTiming),h&&this.map._refreshExpiredTiles&&i.setExpiryData(h),i.loadVectorData(h,this.map.painter),i.reloadPromise){const p=i.reloadPromise;i.reloadPromise=null,this.loadTile(i).then(p.resolve).catch(p.reject)}}abortTile(i){return l._(this,void 0,void 0,(function*(){i.abortController&&(i.abortController.abort(),delete i.abortController),i.actor&&(yield i.actor.sendAsync({type:"AT",data:{uid:i.uid,type:this.type,source:this.id}}))}))}unloadTile(i){return l._(this,void 0,void 0,(function*(){i.unloadVectorData(),i.actor&&(yield i.actor.sendAsync({type:"RMT",data:{uid:i.uid,type:this.type,source:this.id}}))}))}hasTransition(){return!1}}class Tt extends l.E{constructor(i,h,p,v){super(),this.id=i,this.dispatcher=p,this.setEventedParent(v),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=l.e({type:"raster"},h),l.e(this,l.M(h,["url","scheme","tileSize"]))}load(){return l._(this,void 0,void 0,(function*(){this._loaded=!1,this.fire(new l.k("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const i=yield Me(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,i&&(l.e(this,i),i.bounds&&(this.tileBounds=new Nr(i.bounds,this.minzoom,this.maxzoom)),this.fire(new l.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new l.k("data",{dataType:"source",sourceDataType:"content"})))}catch(i){this._tileJSONRequest=null,this.fire(new l.j(i))}}))}loaded(){return this._loaded}onAdd(i){this.map=i,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}setSourceProperty(i){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null),i(),this.load()}setTiles(i){return this.setSourceProperty((()=>{this._options.tiles=i})),this}setUrl(i){return this.setSourceProperty((()=>{this.url=i,this._options.url=i})),this}serialize(){return l.e({},this._options)}hasTile(i){return!this.tileBounds||this.tileBounds.contains(i.canonical)}loadTile(i){return l._(this,void 0,void 0,(function*(){const h=i.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);i.abortController=new AbortController;try{const p=yield W.getImage(this.map._requestManager.transformRequest(h,"Tile"),i.abortController,this.map._refreshExpiredTiles);if(delete i.abortController,i.aborted)return void(i.state="unloaded");if(p&&p.data){this.map._refreshExpiredTiles&&p.cacheControl&&p.expires&&i.setExpiryData({cacheControl:p.cacheControl,expires:p.expires});const v=this.map.painter.context,x=v.gl,U=p.data;i.texture=this.map.painter.getTileTexture(U.width),i.texture?i.texture.update(U,{useMipmap:!0}):(i.texture=new ie(v,U,x.RGBA,{useMipmap:!0}),i.texture.bind(x.LINEAR,x.CLAMP_TO_EDGE,x.LINEAR_MIPMAP_NEAREST)),i.state="loaded"}}catch(p){if(delete i.abortController,i.aborted)i.state="unloaded";else if(p)throw i.state="errored",p}}))}abortTile(i){return l._(this,void 0,void 0,(function*(){i.abortController&&(i.abortController.abort(),delete i.abortController)}))}unloadTile(i){return l._(this,void 0,void 0,(function*(){i.texture&&this.map.painter.saveTileTexture(i.texture)}))}hasTransition(){return!1}}class nr extends Tt{constructor(i,h,p,v){super(i,h,p,v),this.type="raster-dem",this.maxzoom=22,this._options=l.e({type:"raster-dem"},h),this.encoding=h.encoding||"mapbox",this.redFactor=h.redFactor,this.greenFactor=h.greenFactor,this.blueFactor=h.blueFactor,this.baseShift=h.baseShift}loadTile(i){return l._(this,void 0,void 0,(function*(){const h=i.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),p=this.map._requestManager.transformRequest(h,"Tile");i.neighboringTiles=this._getNeighboringTiles(i.tileID),i.abortController=new AbortController;try{const v=yield W.getImage(p,i.abortController,this.map._refreshExpiredTiles);if(delete i.abortController,i.aborted)return void(i.state="unloaded");if(v&&v.data){const x=v.data;this.map._refreshExpiredTiles&&v.cacheControl&&v.expires&&i.setExpiryData({cacheControl:v.cacheControl,expires:v.expires});const U=l.b(x)&&l.U()?x:yield this.readImageNow(x),M={type:this.type,uid:i.uid,source:this.id,rawImageData:U,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};if(!i.actor||i.state==="expired"){i.actor=this.dispatcher.getActor();const k=yield i.actor.sendAsync({type:"LDT",data:M});i.dem=k,i.needsHillshadePrepare=!0,i.needsTerrainPrepare=!0,i.state="loaded"}}}catch(v){if(delete i.abortController,i.aborted)i.state="unloaded";else if(v)throw i.state="errored",v}}))}readImageNow(i){return l._(this,void 0,void 0,(function*(){if(typeof VideoFrame<"u"&&l.V()){const h=i.width+2,p=i.height+2;try{return new l.R({width:h,height:p},yield l.W(i,-1,-1,h,p))}catch{}}return S.getImageData(i,1)}))}_getNeighboringTiles(i){const h=i.canonical,p=Math.pow(2,h.z),v=(h.x-1+p)%p,x=h.x===0?i.wrap-1:i.wrap,U=(h.x+1+p)%p,M=h.x+1===p?i.wrap+1:i.wrap,k={};return k[new l.S(i.overscaledZ,x,h.z,v,h.y).key]={backfilled:!1},k[new l.S(i.overscaledZ,M,h.z,U,h.y).key]={backfilled:!1},h.y>0&&(k[new l.S(i.overscaledZ,x,h.z,v,h.y-1).key]={backfilled:!1},k[new l.S(i.overscaledZ,i.wrap,h.z,h.x,h.y-1).key]={backfilled:!1},k[new l.S(i.overscaledZ,M,h.z,U,h.y-1).key]={backfilled:!1}),h.y+1<p&&(k[new l.S(i.overscaledZ,x,h.z,v,h.y+1).key]={backfilled:!1},k[new l.S(i.overscaledZ,i.wrap,h.z,h.x,h.y+1).key]={backfilled:!1},k[new l.S(i.overscaledZ,M,h.z,U,h.y+1).key]={backfilled:!1}),k}unloadTile(i){return l._(this,void 0,void 0,(function*(){i.demTexture&&this.map.painter.saveTileTexture(i.demTexture),i.fbo&&(i.fbo.destroy(),delete i.fbo),i.dem&&delete i.dem,delete i.neighboringTiles,i.state="unloaded",i.actor&&(yield i.actor.sendAsync({type:"RDT",data:{type:this.type,uid:i.uid,source:this.id}}))}))}}class ur extends l.E{constructor(i,h,p,v){super(),this.id=i,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=p.getActor(),this.setEventedParent(v),this._data=h.data,this._options=l.e({},h),this._collectResourceTiming=h.collectResourceTiming,h.maxzoom!==void 0&&(this.maxzoom=h.maxzoom),h.type&&(this.type=h.type),h.attribution&&(this.attribution=h.attribution),this.promoteId=h.promoteId;const x=l.X/this.tileSize;h.clusterMaxZoom!==void 0&&this.maxzoom<=h.clusterMaxZoom&&l.w(`The maxzoom value "${this.maxzoom}" is expected to be greater than the clusterMaxZoom value "${h.clusterMaxZoom}".`),this.workerOptions=l.e({source:this.id,cluster:h.cluster||!1,geojsonVtOptions:{buffer:(h.buffer!==void 0?h.buffer:128)*x,tolerance:(h.tolerance!==void 0?h.tolerance:.375)*x,extent:l.X,maxZoom:this.maxzoom,lineMetrics:h.lineMetrics||!1,generateId:h.generateId||!1},superclusterOptions:{maxZoom:h.clusterMaxZoom!==void 0?h.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,h.clusterMinPoints||2),extent:l.X,radius:(h.clusterRadius||50)*x,log:!1,generateId:h.generateId||!1},clusterProperties:h.clusterProperties,filter:h.filter},h.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}load(){return l._(this,void 0,void 0,(function*(){yield this._updateWorkerData()}))}onAdd(i){this.map=i,this.load()}setData(i){return this._data=i,this._updateWorkerData(),this}updateData(i){return this._updateWorkerData(i),this}getData(){return l._(this,void 0,void 0,(function*(){const i=l.e({type:this.type},this.workerOptions);return this.actor.sendAsync({type:"GD",data:i})}))}setClusterOptions(i){return this.workerOptions.cluster=i.cluster,i&&(i.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=i.clusterRadius),i.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=i.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(i){return this.actor.sendAsync({type:"GCEZ",data:{type:this.type,clusterId:i,source:this.id}})}getClusterChildren(i){return this.actor.sendAsync({type:"GCC",data:{type:this.type,clusterId:i,source:this.id}})}getClusterLeaves(i,h,p){return this.actor.sendAsync({type:"GCL",data:{type:this.type,source:this.id,clusterId:i,limit:h,offset:p}})}_updateWorkerData(i){return l._(this,void 0,void 0,(function*(){const h=l.e({type:this.type},this.workerOptions);i?h.dataDiff=i:typeof this._data=="string"?(h.request=this.map._requestManager.transformRequest(S.resolveURL(this._data),"Source"),h.request.collectResourceTiming=this._collectResourceTiming):h.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new l.k("dataloading",{dataType:"source"}));try{const p=yield this.actor.sendAsync({type:"LD",data:h});if(this._pendingLoads--,this._removed||p.abandoned)return void this.fire(new l.k("dataabort",{dataType:"source"}));let v=null;p.resourceTiming&&p.resourceTiming[this.id]&&(v=p.resourceTiming[this.id].slice(0));const x={dataType:"source"};this._collectResourceTiming&&v&&v.length>0&&l.e(x,{resourceTiming:v}),this.fire(new l.k("data",Object.assign(Object.assign({},x),{sourceDataType:"metadata"}))),this.fire(new l.k("data",Object.assign(Object.assign({},x),{sourceDataType:"content"})))}catch(p){if(this._pendingLoads--,this._removed)return void this.fire(new l.k("dataabort",{dataType:"source"}));this.fire(new l.j(p))}}))}loaded(){return this._pendingLoads===0}loadTile(i){return l._(this,void 0,void 0,(function*(){const h=i.actor?"RT":"LT";i.actor=this.actor;const p={type:this.type,uid:i.uid,tileID:i.tileID,zoom:i.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};i.abortController=new AbortController;const v=yield this.actor.sendAsync({type:h,data:p},i.abortController);delete i.abortController,i.unloadVectorData(),i.aborted||i.loadVectorData(v,this.map.painter,h==="RT")}))}abortTile(i){return l._(this,void 0,void 0,(function*(){i.abortController&&(i.abortController.abort(),delete i.abortController),i.aborted=!0}))}unloadTile(i){return l._(this,void 0,void 0,(function*(){i.unloadVectorData(),yield this.actor.sendAsync({type:"RMT",data:{uid:i.uid,type:this.type,source:this.id}})}))}onRemove(){this._removed=!0,this.actor.sendAsync({type:"RS",data:{type:this.type,source:this.id}})}serialize(){return l.e({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}}var Tr=l.Y([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class Br extends l.E{constructor(i,h,p,v){super(),this.id=i,this.dispatcher=p,this.coordinates=h.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(v),this.options=h}load(i){return l._(this,void 0,void 0,(function*(){this._loaded=!1,this.fire(new l.k("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=new AbortController;try{const h=yield W.getImage(this.map._requestManager.transformRequest(this.url,"Image"),this._request);this._request=null,this._loaded=!0,h&&h.data&&(this.image=h.data,i&&(this.coordinates=i),this._finishLoading())}catch(h){this._request=null,this._loaded=!0,this.fire(new l.j(h))}}))}loaded(){return this._loaded}updateImage(i){return i.url?(this._request&&(this._request.abort(),this._request=null),this.options.url=i.url,this.load(i.coordinates).finally((()=>{this.texture=null})),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new l.k("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(i){this.map=i,this.load()}onRemove(){this._request&&(this._request.abort(),this._request=null)}setCoordinates(i){this.coordinates=i;const h=i.map(l.Z.fromLngLat);this.tileID=(function(v){let x=1/0,U=1/0,M=-1/0,k=-1/0;for(const J of v)x=Math.min(x,J.x),U=Math.min(U,J.y),M=Math.max(M,J.x),k=Math.max(k,J.y);const Q=Math.max(M-x,k-U),G=Math.max(0,Math.floor(-Math.log(Q)/Math.LN2)),$=Math.pow(2,G);return new l.a1(G,Math.floor((x+M)/2*$),Math.floor((U+k)/2*$))})(h),this.minzoom=this.maxzoom=this.tileID.z;const p=h.map((v=>this.tileID.getTilePoint(v)._round()));return this._boundsArray=new l.$,this._boundsArray.emplaceBack(p[0].x,p[0].y,0,0),this._boundsArray.emplaceBack(p[1].x,p[1].y,l.X,0),this._boundsArray.emplaceBack(p[3].x,p[3].y,0,l.X),this._boundsArray.emplaceBack(p[2].x,p[2].y,l.X,l.X),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new l.k("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const i=this.map.painter.context,h=i.gl;this.boundsBuffer||(this.boundsBuffer=i.createVertexBuffer(this._boundsArray,Tr.members)),this.boundsSegments||(this.boundsSegments=l.a0.simpleSegment(0,0,4,2)),this.texture||(this.texture=new ie(i,this.image,h.RGBA),this.texture.bind(h.LINEAR,h.CLAMP_TO_EDGE));let p=!1;for(const v in this.tiles){const x=this.tiles[v];x.state!=="loaded"&&(x.state="loaded",x.texture=this.texture,p=!0)}p&&this.fire(new l.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}loadTile(i){return l._(this,void 0,void 0,(function*(){this.tileID&&this.tileID.equals(i.tileID.canonical)?(this.tiles[String(i.tileID.wrap)]=i,i.buckets={}):i.state="errored"}))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}class rn extends Br{constructor(i,h,p,v){super(i,h,p,v),this.roundZoom=!0,this.type="video",this.options=h}load(){return l._(this,void 0,void 0,(function*(){this._loaded=!1;const i=this.options;this.urls=[];for(const h of i.urls)this.urls.push(this.map._requestManager.transformRequest(h,"Source").url);try{const h=yield l.a3(this.urls);if(this._loaded=!0,!h)return;this.video=h,this.video.loop=!0,this.video.addEventListener("playing",(()=>{this.map.triggerRepaint()})),this.map&&this.video.play(),this._finishLoading()}catch(h){this.fire(new l.j(h))}}))}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(i){if(this.video){const h=this.video.seekable;i<h.start(0)||i>h.end(0)?this.fire(new l.j(new l.a2(`sources.${this.id}`,null,`Playback for this video can be set only between the ${h.start(0)} and ${h.end(0)}-second mark.`))):this.video.currentTime=i}}getVideo(){return this.video}onAdd(i){this.map||(this.map=i,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const i=this.map.painter.context,h=i.gl;this.boundsBuffer||(this.boundsBuffer=i.createVertexBuffer(this._boundsArray,Tr.members)),this.boundsSegments||(this.boundsSegments=l.a0.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(h.LINEAR,h.CLAMP_TO_EDGE),h.texSubImage2D(h.TEXTURE_2D,0,0,0,h.RGBA,h.UNSIGNED_BYTE,this.video)):(this.texture=new ie(i,this.video,h.RGBA),this.texture.bind(h.LINEAR,h.CLAMP_TO_EDGE));let p=!1;for(const v in this.tiles){const x=this.tiles[v];x.state!=="loaded"&&(x.state="loaded",x.texture=this.texture,p=!0)}p&&this.fire(new l.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class nn extends Br{constructor(i,h,p,v){super(i,h,p,v),h.coordinates?Array.isArray(h.coordinates)&&h.coordinates.length===4&&!h.coordinates.some((x=>!Array.isArray(x)||x.length!==2||x.some((U=>typeof U!="number"))))||this.fire(new l.j(new l.a2(`sources.${i}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new l.j(new l.a2(`sources.${i}`,null,'missing required property "coordinates"'))),h.animate&&typeof h.animate!="boolean"&&this.fire(new l.j(new l.a2(`sources.${i}`,null,'optional "animate" property must be a boolean value'))),h.canvas?typeof h.canvas=="string"||h.canvas instanceof HTMLCanvasElement||this.fire(new l.j(new l.a2(`sources.${i}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new l.j(new l.a2(`sources.${i}`,null,'missing required property "canvas"'))),this.options=h,this.animate=h.animate===void 0||h.animate}load(){return l._(this,void 0,void 0,(function*(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new l.j(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}))}getCanvas(){return this.canvas}onAdd(i){this.map=i,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let i=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,i=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,i=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const h=this.map.painter.context,p=h.gl;this.boundsBuffer||(this.boundsBuffer=h.createVertexBuffer(this._boundsArray,Tr.members)),this.boundsSegments||(this.boundsSegments=l.a0.simpleSegment(0,0,4,2)),this.texture?(i||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new ie(h,this.canvas,p.RGBA,{premultiply:!0});let v=!1;for(const x in this.tiles){const U=this.tiles[x];U.state!=="loaded"&&(U.state="loaded",U.texture=this.texture,v=!0)}v&&this.fire(new l.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const i of[this.canvas.width,this.canvas.height])if(isNaN(i)||i<=0)return!0;return!1}}const Jr={},yn=_=>{switch(_){case"geojson":return ur;case"image":return Br;case"raster":return Tt;case"raster-dem":return nr;case"vector":return Er;case"video":return rn;case"canvas":return nn}return Jr[_]},Ft="RTLPluginLoaded";class cr extends l.E{constructor(){super(...arguments),this.status="unavailable",this.url=null,this.dispatcher=Ct()}_syncState(i){return this.status=i,this.dispatcher.broadcast("SRPS",{pluginStatus:i,pluginURL:this.url}).catch((h=>{throw this.status="error",h}))}getRTLTextPluginStatus(){return this.status}clearRTLTextPlugin(){this.status="unavailable",this.url=null}setRTLTextPlugin(i){return l._(this,arguments,void 0,(function*(h,p=!1){if(this.url)throw new Error("setRTLTextPlugin cannot be called multiple times.");if(this.url=S.resolveURL(h),!this.url)throw new Error(`requested url ${h} is invalid`);if(this.status==="unavailable"){if(!p)return this._requestImport();this.status="deferred",this._syncState(this.status)}else if(this.status==="requested")return this._requestImport()}))}_requestImport(){return l._(this,void 0,void 0,(function*(){yield this._syncState("loading"),this.status="loaded",this.fire(new l.k(Ft))}))}lazyLoad(){this.status==="unavailable"?this.status="requested":this.status==="deferred"&&this._requestImport()}}let Pr=null;function fr(){return Pr||(Pr=new cr),Pr}class ri{constructor(i,h){this.timeAdded=0,this.fadeEndTime=0,this.tileID=i,this.uid=l.a4(),this.uses=0,this.tileSize=h,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(i){const h=i+this.timeAdded;h<this.fadeEndTime||(this.fadeEndTime=h)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(i){this.demTexture&&i.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(i,h,p){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",i){i.featureIndex&&(this.latestFeatureIndex=i.featureIndex,i.rawTileData?(this.latestRawTileData=i.rawTileData,this.latestFeatureIndex.rawTileData=i.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=i.collisionBoxArray,this.buckets=(function(v,x){const U={};if(!x)return U;for(const M of v){const k=M.layerIds.map((Q=>x.getLayer(Q))).filter(Boolean);if(k.length!==0){M.layers=k,M.stateDependentLayerIds&&(M.stateDependentLayers=M.stateDependentLayerIds.map((Q=>k.filter((G=>G.id===Q))[0])));for(const Q of k)U[Q.id]=M}}return U})(i.buckets,h.style),this.hasSymbolBuckets=!1;for(const v in this.buckets){const x=this.buckets[v];if(x instanceof l.a6){if(this.hasSymbolBuckets=!0,!p)break;x.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const v in this.buckets){const x=this.buckets[v];if(x instanceof l.a6&&x.hasRTLText){this.hasRTLText=!0,fr().lazyLoad();break}}this.queryPadding=0;for(const v in this.buckets){const x=this.buckets[v];this.queryPadding=Math.max(this.queryPadding,h.style.getLayer(v).queryRadius(x))}i.imageAtlas&&(this.imageAtlas=i.imageAtlas),i.glyphAtlasImage&&(this.glyphAtlasImage=i.glyphAtlasImage)}else this.collisionBoxArray=new l.a5}unloadVectorData(){for(const i in this.buckets)this.buckets[i].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(i){return this.buckets[i.id]}upload(i){for(const p in this.buckets){const v=this.buckets[p];v.uploadPending()&&v.upload(i)}const h=i.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new ie(i,this.imageAtlas.image,h.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new ie(i,this.glyphAtlasImage,h.ALPHA),this.glyphAtlasImage=null)}prepare(i){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(i,this.imageAtlasTexture)}queryRenderedFeatures(i,h,p,v,x,U,M,k,Q,G){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:v,cameraQueryGeometry:x,scale:U,tileSize:this.tileSize,pixelPosMatrix:G,transform:k,params:M,queryPadding:this.queryPadding*Q},i,h,p):{}}querySourceFeatures(i,h){const p=this.latestFeatureIndex;if(!p||!p.rawTileData)return;const v=p.loadVTLayers(),x=h&&h.sourceLayer?h.sourceLayer:"",U=v._geojsonTileLayer||v[x];if(!U)return;const M=l.a7(h&&h.filter),{z:k,x:Q,y:G}=this.tileID.canonical,$={z:k,x:Q,y:G};for(let J=0;J<U.length;J++){const te=U.feature(J);if(M.needGeometry){const Be=l.a8(te,!0);if(!M.filter(new l.z(this.tileID.overscaledZ),Be,this.tileID.canonical))continue}else if(!M.filter(new l.z(this.tileID.overscaledZ),te))continue;const ue=p.getId(te,x),pe=new l.a9(te,k,Q,G,ue);pe.tile=$,i.push(pe)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(i){const h=this.expirationTime;if(i.cacheControl){const p=l.aa(i.cacheControl);p["max-age"]&&(this.expirationTime=Date.now()+1e3*p["max-age"])}else i.expires&&(this.expirationTime=new Date(i.expires).getTime());if(this.expirationTime){const p=Date.now();let v=!1;if(this.expirationTime>p)v=!1;else if(h)if(this.expirationTime<h)v=!0;else{const x=this.expirationTime-h;x?this.expirationTime=p+Math.max(x,3e4):v=!0}else v=!0;v?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(i,h){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(i).length===0)return;const p=this.latestFeatureIndex.loadVTLayers();for(const v in this.buckets){if(!h.style.hasLayer(v))continue;const x=this.buckets[v],U=x.layers[0].sourceLayer||"_geojsonTileLayer",M=p[U],k=i[U];if(!M||!k||Object.keys(k).length===0)continue;x.update(k,M,this.imageAtlas&&this.imageAtlas.patternPositions||{});const Q=h&&h.style&&h.style.getLayer(v);Q&&(this.queryPadding=Math.max(this.queryPadding,Q.queryRadius(x)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<S.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(i){this.symbolFadeHoldUntil=S.now()+i}setDependencies(i,h){const p={};for(const v of h)p[v]=!0;this.dependencies[i]=p}hasDependency(i,h){for(const p of i){const v=this.dependencies[p];if(v){for(const x of h)if(v[x])return!0}}return!1}}class Pt{constructor(i,h){this.max=i,this.onRemove=h,this.reset()}reset(){for(const i in this.data)for(const h of this.data[i])h.timeout&&clearTimeout(h.timeout),this.onRemove(h.value);return this.data={},this.order=[],this}add(i,h,p){const v=i.wrapped().key;this.data[v]===void 0&&(this.data[v]=[]);const x={value:h,timeout:void 0};if(p!==void 0&&(x.timeout=setTimeout((()=>{this.remove(i,x)}),p)),this.data[v].push(x),this.order.push(v),this.order.length>this.max){const U=this._getAndRemoveByKey(this.order[0]);U&&this.onRemove(U)}return this}has(i){return i.wrapped().key in this.data}getAndRemove(i){return this.has(i)?this._getAndRemoveByKey(i.wrapped().key):null}_getAndRemoveByKey(i){const h=this.data[i].shift();return h.timeout&&clearTimeout(h.timeout),this.data[i].length===0&&delete this.data[i],this.order.splice(this.order.indexOf(i),1),h.value}getByKey(i){const h=this.data[i];return h?h[0].value:null}get(i){return this.has(i)?this.data[i.wrapped().key][0].value:null}remove(i,h){if(!this.has(i))return this;const p=i.wrapped().key,v=h===void 0?0:this.data[p].indexOf(h),x=this.data[p][v];return this.data[p].splice(v,1),x.timeout&&clearTimeout(x.timeout),this.data[p].length===0&&delete this.data[p],this.onRemove(x.value),this.order.splice(this.order.indexOf(p),1),this}setMaxSize(i){for(this.max=i;this.order.length>this.max;){const h=this._getAndRemoveByKey(this.order[0]);h&&this.onRemove(h)}return this}filter(i){const h=[];for(const p in this.data)for(const v of this.data[p])i(v.value)||h.push(v);for(const p of h)this.remove(p.value.tileID,p)}}class Zt{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(i,h,p){const v=String(h);if(this.stateChanges[i]=this.stateChanges[i]||{},this.stateChanges[i][v]=this.stateChanges[i][v]||{},l.e(this.stateChanges[i][v],p),this.deletedStates[i]===null){this.deletedStates[i]={};for(const x in this.state[i])x!==v&&(this.deletedStates[i][x]=null)}else if(this.deletedStates[i]&&this.deletedStates[i][v]===null){this.deletedStates[i][v]={};for(const x in this.state[i][v])p[x]||(this.deletedStates[i][v][x]=null)}else for(const x in p)this.deletedStates[i]&&this.deletedStates[i][v]&&this.deletedStates[i][v][x]===null&&delete this.deletedStates[i][v][x]}removeFeatureState(i,h,p){if(this.deletedStates[i]===null)return;const v=String(h);if(this.deletedStates[i]=this.deletedStates[i]||{},p&&h!==void 0)this.deletedStates[i][v]!==null&&(this.deletedStates[i][v]=this.deletedStates[i][v]||{},this.deletedStates[i][v][p]=null);else if(h!==void 0)if(this.stateChanges[i]&&this.stateChanges[i][v])for(p in this.deletedStates[i][v]={},this.stateChanges[i][v])this.deletedStates[i][v][p]=null;else this.deletedStates[i][v]=null;else this.deletedStates[i]=null}getState(i,h){const p=String(h),v=l.e({},(this.state[i]||{})[p],(this.stateChanges[i]||{})[p]);if(this.deletedStates[i]===null)return{};if(this.deletedStates[i]){const x=this.deletedStates[i][h];if(x===null)return{};for(const U in x)delete v[U]}return v}initializeTileState(i,h){i.setFeatureState(this.state,h)}coalesceChanges(i,h){const p={};for(const v in this.stateChanges){this.state[v]=this.state[v]||{};const x={};for(const U in this.stateChanges[v])this.state[v][U]||(this.state[v][U]={}),l.e(this.state[v][U],this.stateChanges[v][U]),x[U]=this.state[v][U];p[v]=x}for(const v in this.deletedStates){this.state[v]=this.state[v]||{};const x={};if(this.deletedStates[v]===null)for(const U in this.state[v])x[U]={},this.state[v][U]={};else for(const U in this.deletedStates[v]){if(this.deletedStates[v][U]===null)this.state[v][U]={};else for(const M of Object.keys(this.deletedStates[v][U]))delete this.state[v][U][M];x[U]=this.state[v][U]}p[v]=p[v]||{},l.e(p[v],x)}if(this.stateChanges={},this.deletedStates={},Object.keys(p).length!==0)for(const v in i)i[v].setFeatureState(p,h)}}class Gt extends l.E{constructor(i,h,p){super(),this.id=i,this.dispatcher=p,this.on("data",(v=>this._dataHandler(v))),this.on("dataloading",(()=>{this._sourceErrored=!1})),this.on("error",(()=>{this._sourceErrored=this._source.loaded()})),this._source=((v,x,U,M)=>{const k=new(yn(x.type))(v,x,U,M);if(k.id!==v)throw new Error(`Expected Source id to be ${v} instead of ${k.id}`);return k})(i,h,p,this),this._tiles={},this._cache=new Pt(0,(v=>this._unloadTile(v))),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new Zt,this._didEmitContent=!1,this._updated=!1}onAdd(i){this.map=i,this._maxTileCacheSize=i?i._maxTileCacheSize:null,this._maxTileCacheZoomLevels=i?i._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(i)}onRemove(i){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(i)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const i in this._tiles){const h=this._tiles[i];if(h.state!=="loaded"&&h.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const i=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,i&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(i,h,p){return l._(this,void 0,void 0,(function*(){try{yield this._source.loadTile(i),this._tileLoaded(i,h,p)}catch(v){i.state="errored",v.status!==404?this._source.fire(new l.j(v,{tile:i})):this.update(this.transform,this.terrain)}}))}_unloadTile(i){this._source.unloadTile&&this._source.unloadTile(i)}_abortTile(i){this._source.abortTile&&this._source.abortTile(i),this._source.fire(new l.k("dataabort",{tile:i,coord:i.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(i){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const h in this._tiles){const p=this._tiles[h];p.upload(i),p.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map((i=>i.tileID)).sort(Xr).map((i=>i.key))}getRenderableIds(i){const h=[];for(const p in this._tiles)this._isIdRenderable(p,i)&&h.push(this._tiles[p]);return i?h.sort(((p,v)=>{const x=p.tileID,U=v.tileID,M=new l.P(x.canonical.x,x.canonical.y)._rotate(this.transform.angle),k=new l.P(U.canonical.x,U.canonical.y)._rotate(this.transform.angle);return x.overscaledZ-U.overscaledZ||k.y-M.y||k.x-M.x})).map((p=>p.tileID.key)):h.map((p=>p.tileID)).sort(Xr).map((p=>p.key))}hasRenderableParent(i){const h=this.findLoadedParent(i,0);return!!h&&this._isIdRenderable(h.tileID.key)}_isIdRenderable(i,h){return this._tiles[i]&&this._tiles[i].hasData()&&!this._coveredTiles[i]&&(h||!this._tiles[i].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const i in this._tiles)this._tiles[i].state!=="errored"&&this._reloadTile(i,"reloading")}}_reloadTile(i,h){return l._(this,void 0,void 0,(function*(){const p=this._tiles[i];p&&(p.state!=="loading"&&(p.state=h),yield this._loadTile(p,i,h))}))}_tileLoaded(i,h,p){i.timeAdded=S.now(),p==="expired"&&(i.refreshedUponExpiration=!0),this._setTileReloadTimer(h,i),this.getSource().type==="raster-dem"&&i.dem&&this._backfillDEM(i),this._state.initializeTileState(i,this.map?this.map.painter:null),i.aborted||this._source.fire(new l.k("data",{dataType:"source",tile:i,coord:i.tileID}))}_backfillDEM(i){const h=this.getRenderableIds();for(let v=0;v<h.length;v++){const x=h[v];if(i.neighboringTiles&&i.neighboringTiles[x]){const U=this.getTileByID(x);p(i,U),p(U,i)}}function p(v,x){v.needsHillshadePrepare=!0,v.needsTerrainPrepare=!0;let U=x.tileID.canonical.x-v.tileID.canonical.x;const M=x.tileID.canonical.y-v.tileID.canonical.y,k=Math.pow(2,v.tileID.canonical.z),Q=x.tileID.key;U===0&&M===0||Math.abs(M)>1||(Math.abs(U)>1&&(Math.abs(U+k)===1?U+=k:Math.abs(U-k)===1&&(U-=k)),x.dem&&v.dem&&(v.dem.backfillBorder(x.dem,U,M),v.neighboringTiles&&v.neighboringTiles[Q]&&(v.neighboringTiles[Q].backfilled=!0)))}}getTile(i){return this.getTileByID(i.key)}getTileByID(i){return this._tiles[i]}_retainLoadedChildren(i,h,p,v){for(const x in this._tiles){let U=this._tiles[x];if(v[x]||!U.hasData()||U.tileID.overscaledZ<=h||U.tileID.overscaledZ>p)continue;let M=U.tileID;for(;U&&U.tileID.overscaledZ>h+1;){const Q=U.tileID.scaledTo(U.tileID.overscaledZ-1);U=this._tiles[Q.key],U&&U.hasData()&&(M=Q)}let k=M;for(;k.overscaledZ>h;)if(k=k.scaledTo(k.overscaledZ-1),i[k.key]){v[M.key]=M;break}}}findLoadedParent(i,h){if(i.key in this._loadedParentTiles){const p=this._loadedParentTiles[i.key];return p&&p.tileID.overscaledZ>=h?p:null}for(let p=i.overscaledZ-1;p>=h;p--){const v=i.scaledTo(p),x=this._getLoadedTile(v);if(x)return x}}findLoadedSibling(i){return this._getLoadedTile(i)}_getLoadedTile(i){const h=this._tiles[i.key];return h&&h.hasData()?h:this._cache.getByKey(i.wrapped().key)}updateCacheSize(i){const h=Math.ceil(i.width/this._source.tileSize)+1,p=Math.ceil(i.height/this._source.tileSize)+1,v=Math.floor(h*p*(this._maxTileCacheZoomLevels===null?l.a.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),x=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,v):v;this._cache.setMaxSize(x)}handleWrapJump(i){const h=Math.round((i-(this._prevLng===void 0?i:this._prevLng))/360);if(this._prevLng=i,h){const p={};for(const v in this._tiles){const x=this._tiles[v];x.tileID=x.tileID.unwrapTo(x.tileID.wrap+h),p[x.tileID.key]=x}this._tiles=p;for(const v in this._timers)clearTimeout(this._timers[v]),delete this._timers[v];for(const v in this._tiles)this._setTileReloadTimer(v,this._tiles[v])}}_updateCoveredAndRetainedTiles(i,h,p,v,x,U){const M={},k={},Q=Object.keys(i),G=S.now();for(const $ of Q){const J=i[$],te=this._tiles[$];if(!te||te.fadeEndTime!==0&&te.fadeEndTime<=G)continue;const ue=this.findLoadedParent(J,h),pe=this.findLoadedSibling(J),Be=ue||pe||null;Be&&(this._addTile(Be.tileID),M[Be.tileID.key]=Be.tileID),k[$]=J}this._retainLoadedChildren(k,v,p,i);for(const $ in M)i[$]||(this._coveredTiles[$]=!0,i[$]=M[$]);if(U){const $={},J={};for(const te of x)this._tiles[te.key].hasData()?$[te.key]=te:J[te.key]=te;for(const te in J){const ue=J[te].children(this._source.maxzoom);this._tiles[ue[0].key]&&this._tiles[ue[1].key]&&this._tiles[ue[2].key]&&this._tiles[ue[3].key]&&($[ue[0].key]=i[ue[0].key]=ue[0],$[ue[1].key]=i[ue[1].key]=ue[1],$[ue[2].key]=i[ue[2].key]=ue[2],$[ue[3].key]=i[ue[3].key]=ue[3],delete J[te])}for(const te in J){const ue=J[te],pe=this.findLoadedParent(ue,this._source.minzoom),Be=this.findLoadedSibling(ue),we=pe||Be||null;if(we){$[we.tileID.key]=i[we.tileID.key]=we.tileID;for(const Qe in $)$[Qe].isChildOf(we.tileID)&&delete $[Qe]}}for(const te in this._tiles)$[te]||(this._coveredTiles[te]=!0)}}update(i,h){if(!this._sourceLoaded||this._paused)return;let p;this.transform=i,this.terrain=h,this.updateCacheSize(i),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?p=i.getVisibleUnwrappedCoordinates(this._source.tileID).map((G=>new l.S(G.canonical.z,G.wrap,G.canonical.z,G.canonical.x,G.canonical.y))):(p=i.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:h}),this._source.hasTile&&(p=p.filter((G=>this._source.hasTile(G))))):p=[];const v=i.coveringZoomLevel(this._source),x=Math.max(v-Gt.maxOverzooming,this._source.minzoom),U=Math.max(v+Gt.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const G={};for(const $ of p)if($.canonical.z>this._source.minzoom){const J=$.scaledTo($.canonical.z-1);G[J.key]=J;const te=$.scaledTo(Math.max(this._source.minzoom,Math.min($.canonical.z,5)));G[te.key]=te}p=p.concat(Object.values(G))}const M=p.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,M&&this.fire(new l.k("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const k=this._updateRetainedTiles(p,v);_r(this._source.type)&&this._updateCoveredAndRetainedTiles(k,x,U,v,p,h);for(const G in k)this._tiles[G].clearFadeHold();const Q=l.ab(this._tiles,k);for(const G of Q){const $=this._tiles[G];$.hasSymbolBuckets&&!$.holdingForFade()?$.setHoldDuration(this.map._fadeDuration):$.hasSymbolBuckets&&!$.symbolFadeFinished()||this._removeTile(G)}this._updateLoadedParentTileCache(),this._updateLoadedSiblingTileCache()}releaseSymbolFadeTiles(){for(const i in this._tiles)this._tiles[i].holdingForFade()&&this._removeTile(i)}_updateRetainedTiles(i,h){var p;const v={},x={},U=Math.max(h-Gt.maxOverzooming,this._source.minzoom),M=Math.max(h+Gt.maxUnderzooming,this._source.minzoom),k={};for(const Q of i){const G=this._addTile(Q);v[Q.key]=Q,G.hasData()||h<this._source.maxzoom&&(k[Q.key]=Q)}this._retainLoadedChildren(k,h,M,v);for(const Q of i){let G=this._tiles[Q.key];if(G.hasData())continue;if(h+1>this._source.maxzoom){const J=Q.children(this._source.maxzoom)[0],te=this.getTile(J);if(te&&te.hasData()){v[J.key]=J;continue}}else{const J=Q.children(this._source.maxzoom);if(v[J[0].key]&&v[J[1].key]&&v[J[2].key]&&v[J[3].key])continue}let $=G.wasRequested();for(let J=Q.overscaledZ-1;J>=U;--J){const te=Q.scaledTo(J);if(x[te.key])break;if(x[te.key]=!0,G=this.getTile(te),!G&&$&&(G=this._addTile(te)),G){const ue=G.hasData();if((ue||!(!((p=this.map)===null||p===void 0)&&p.cancelPendingTileRequestsWhileZooming)||$)&&(v[te.key]=te),$=G.wasRequested(),ue)break}}}return v}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const i in this._tiles){const h=[];let p,v=this._tiles[i].tileID;for(;v.overscaledZ>0;){if(v.key in this._loadedParentTiles){p=this._loadedParentTiles[v.key];break}h.push(v.key);const x=v.scaledTo(v.overscaledZ-1);if(p=this._getLoadedTile(x),p)break;v=x}for(const x of h)this._loadedParentTiles[x]=p}}_updateLoadedSiblingTileCache(){this._loadedSiblingTiles={};for(const i in this._tiles){const h=this._tiles[i].tileID,p=this._getLoadedTile(h);this._loadedSiblingTiles[h.key]=p}}_addTile(i){let h=this._tiles[i.key];if(h)return h;h=this._cache.getAndRemove(i),h&&(this._setTileReloadTimer(i.key,h),h.tileID=i,this._state.initializeTileState(h,this.map?this.map.painter:null),this._cacheTimers[i.key]&&(clearTimeout(this._cacheTimers[i.key]),delete this._cacheTimers[i.key],this._setTileReloadTimer(i.key,h)));const p=h;return h||(h=new ri(i,this._source.tileSize*i.overscaleFactor()),this._loadTile(h,i.key,h.state)),h.uses++,this._tiles[i.key]=h,p||this._source.fire(new l.k("dataloading",{tile:h,coord:h.tileID,dataType:"source"})),h}_setTileReloadTimer(i,h){i in this._timers&&(clearTimeout(this._timers[i]),delete this._timers[i]);const p=h.getExpiryTimeout();p&&(this._timers[i]=setTimeout((()=>{this._reloadTile(i,"expired"),delete this._timers[i]}),p))}_removeTile(i){const h=this._tiles[i];h&&(h.uses--,delete this._tiles[i],this._timers[i]&&(clearTimeout(this._timers[i]),delete this._timers[i]),h.uses>0||(h.hasData()&&h.state!=="reloading"?this._cache.add(h.tileID,h,h.getExpiryTimeout()):(h.aborted=!0,this._abortTile(h),this._unloadTile(h))))}_dataHandler(i){const h=i.sourceDataType;i.dataType==="source"&&h==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&i.dataType==="source"&&h==="content"&&(this.reload(),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const i in this._tiles)this._removeTile(i);this._cache.reset()}tilesIn(i,h,p){const v=[],x=this.transform;if(!x)return v;const U=p?x.getCameraQueryGeometry(i):i,M=i.map((ue=>x.pointCoordinate(ue,this.terrain))),k=U.map((ue=>x.pointCoordinate(ue,this.terrain))),Q=this.getIds();let G=1/0,$=1/0,J=-1/0,te=-1/0;for(const ue of k)G=Math.min(G,ue.x),$=Math.min($,ue.y),J=Math.max(J,ue.x),te=Math.max(te,ue.y);for(let ue=0;ue<Q.length;ue++){const pe=this._tiles[Q[ue]];if(pe.holdingForFade())continue;const Be=pe.tileID,we=Math.pow(2,x.zoom-pe.tileID.overscaledZ),Qe=h*pe.queryPadding*l.X/pe.tileSize/we,Se=[Be.getTilePoint(new l.Z(G,$)),Be.getTilePoint(new l.Z(J,te))];if(Se[0].x-Qe<l.X&&Se[0].y-Qe<l.X&&Se[1].x+Qe>=0&&Se[1].y+Qe>=0){const $e=M.map((at=>Be.getTilePoint(at))),qe=k.map((at=>Be.getTilePoint(at)));v.push({tile:pe,tileID:Be,queryGeometry:$e,cameraQueryGeometry:qe,scale:we})}}return v}getVisibleCoordinates(i){const h=this.getRenderableIds(i).map((p=>this._tiles[p].tileID));for(const p of h)p.posMatrix=this.transform.calculatePosMatrix(p.toUnwrapped());return h}hasTransition(){if(this._source.hasTransition())return!0;if(_r(this._source.type)){const i=S.now();for(const h in this._tiles)if(this._tiles[h].fadeEndTime>=i)return!0}return!1}setFeatureState(i,h,p){this._state.updateState(i=i||"_geojsonTileLayer",h,p)}removeFeatureState(i,h,p){this._state.removeFeatureState(i=i||"_geojsonTileLayer",h,p)}getFeatureState(i,h){return this._state.getState(i=i||"_geojsonTileLayer",h)}setDependencies(i,h,p){const v=this._tiles[i];v&&v.setDependencies(h,p)}reloadTilesForDependencies(i,h){for(const p in this._tiles)this._tiles[p].hasDependency(i,h)&&this._reloadTile(p,"reloading");this._cache.filter((p=>!p.hasDependency(i,h)))}}function Xr(_,i){const h=Math.abs(2*_.wrap)-+(_.wrap<0),p=Math.abs(2*i.wrap)-+(i.wrap<0);return _.overscaledZ-i.overscaledZ||p-h||i.canonical.y-_.canonical.y||i.canonical.x-_.canonical.x}function _r(_){return _==="raster"||_==="image"||_==="video"}Gt.maxOverzooming=10,Gt.maxUnderzooming=3;class sr{constructor(i,h){this.reset(i,h)}reset(i,h){this.points=i||[],this._distances=[0];for(let p=1;p<this.points.length;p++)this._distances[p]=this._distances[p-1]+this.points[p].dist(this.points[p-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(h||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(i){if(this.points.length===1)return this.points[0];i=l.ac(i,0,1);let h=1,p=this._distances[h];const v=i*this.paddedLength+this.padding;for(;p<v&&h<this._distances.length;)p=this._distances[++h];const x=h-1,U=this._distances[x],M=p-U,k=M>0?(v-U)/M:0;return this.points[x].mult(1-k).add(this.points[h].mult(k))}}function Ur(_,i){let h=!0;return _==="always"||_!=="never"&&i!=="never"||(h=!1),h}class Rr{constructor(i,h,p){const v=this.boxCells=[],x=this.circleCells=[];this.xCellCount=Math.ceil(i/p),this.yCellCount=Math.ceil(h/p);for(let U=0;U<this.xCellCount*this.yCellCount;U++)v.push([]),x.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=i,this.height=h,this.xScale=this.xCellCount/i,this.yScale=this.yCellCount/h,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(i,h,p,v,x){this._forEachCell(h,p,v,x,this._insertBoxCell,this.boxUid++),this.boxKeys.push(i),this.bboxes.push(h),this.bboxes.push(p),this.bboxes.push(v),this.bboxes.push(x)}insertCircle(i,h,p,v){this._forEachCell(h-v,p-v,h+v,p+v,this._insertCircleCell,this.circleUid++),this.circleKeys.push(i),this.circles.push(h),this.circles.push(p),this.circles.push(v)}_insertBoxCell(i,h,p,v,x,U){this.boxCells[x].push(U)}_insertCircleCell(i,h,p,v,x,U){this.circleCells[x].push(U)}_query(i,h,p,v,x,U,M){if(p<0||i>this.width||v<0||h>this.height)return[];const k=[];if(i<=0&&h<=0&&this.width<=p&&this.height<=v){if(x)return[{key:null,x1:i,y1:h,x2:p,y2:v}];for(let Q=0;Q<this.boxKeys.length;Q++)k.push({key:this.boxKeys[Q],x1:this.bboxes[4*Q],y1:this.bboxes[4*Q+1],x2:this.bboxes[4*Q+2],y2:this.bboxes[4*Q+3]});for(let Q=0;Q<this.circleKeys.length;Q++){const G=this.circles[3*Q],$=this.circles[3*Q+1],J=this.circles[3*Q+2];k.push({key:this.circleKeys[Q],x1:G-J,y1:$-J,x2:G+J,y2:$+J})}}else this._forEachCell(i,h,p,v,this._queryCell,k,{hitTest:x,overlapMode:U,seenUids:{box:{},circle:{}}},M);return k}query(i,h,p,v){return this._query(i,h,p,v,!1,null)}hitTest(i,h,p,v,x,U){return this._query(i,h,p,v,!0,x,U).length>0}hitTestCircle(i,h,p,v,x){const U=i-p,M=i+p,k=h-p,Q=h+p;if(M<0||U>this.width||Q<0||k>this.height)return!1;const G=[];return this._forEachCell(U,k,M,Q,this._queryCellCircle,G,{hitTest:!0,overlapMode:v,circle:{x:i,y:h,radius:p},seenUids:{box:{},circle:{}}},x),G.length>0}_queryCell(i,h,p,v,x,U,M,k){const{seenUids:Q,hitTest:G,overlapMode:$}=M,J=this.boxCells[x];if(J!==null){const ue=this.bboxes;for(const pe of J)if(!Q.box[pe]){Q.box[pe]=!0;const Be=4*pe,we=this.boxKeys[pe];if(i<=ue[Be+2]&&h<=ue[Be+3]&&p>=ue[Be+0]&&v>=ue[Be+1]&&(!k||k(we))&&(!G||!Ur($,we.overlapMode))&&(U.push({key:we,x1:ue[Be],y1:ue[Be+1],x2:ue[Be+2],y2:ue[Be+3]}),G))return!0}}const te=this.circleCells[x];if(te!==null){const ue=this.circles;for(const pe of te)if(!Q.circle[pe]){Q.circle[pe]=!0;const Be=3*pe,we=this.circleKeys[pe];if(this._circleAndRectCollide(ue[Be],ue[Be+1],ue[Be+2],i,h,p,v)&&(!k||k(we))&&(!G||!Ur($,we.overlapMode))){const Qe=ue[Be],Se=ue[Be+1],$e=ue[Be+2];if(U.push({key:we,x1:Qe-$e,y1:Se-$e,x2:Qe+$e,y2:Se+$e}),G)return!0}}}return!1}_queryCellCircle(i,h,p,v,x,U,M,k){const{circle:Q,seenUids:G,overlapMode:$}=M,J=this.boxCells[x];if(J!==null){const ue=this.bboxes;for(const pe of J)if(!G.box[pe]){G.box[pe]=!0;const Be=4*pe,we=this.boxKeys[pe];if(this._circleAndRectCollide(Q.x,Q.y,Q.radius,ue[Be+0],ue[Be+1],ue[Be+2],ue[Be+3])&&(!k||k(we))&&!Ur($,we.overlapMode))return U.push(!0),!0}}const te=this.circleCells[x];if(te!==null){const ue=this.circles;for(const pe of te)if(!G.circle[pe]){G.circle[pe]=!0;const Be=3*pe,we=this.circleKeys[pe];if(this._circlesCollide(ue[Be],ue[Be+1],ue[Be+2],Q.x,Q.y,Q.radius)&&(!k||k(we))&&!Ur($,we.overlapMode))return U.push(!0),!0}}}_forEachCell(i,h,p,v,x,U,M,k){const Q=this._convertToXCellCoord(i),G=this._convertToYCellCoord(h),$=this._convertToXCellCoord(p),J=this._convertToYCellCoord(v);for(let te=Q;te<=$;te++)for(let ue=G;ue<=J;ue++)if(x.call(this,i,h,p,v,this.xCellCount*ue+te,U,M,k))return}_convertToXCellCoord(i){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(i*this.xScale)))}_convertToYCellCoord(i){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(i*this.yScale)))}_circlesCollide(i,h,p,v,x,U){const M=v-i,k=x-h,Q=p+U;return Q*Q>M*M+k*k}_circleAndRectCollide(i,h,p,v,x,U,M){const k=(U-v)/2,Q=Math.abs(i-(v+k));if(Q>k+p)return!1;const G=(M-x)/2,$=Math.abs(h-(x+G));if($>G+p)return!1;if(Q<=k||$<=G)return!0;const J=Q-k,te=$-G;return J*J+te*te<=p*p}}function kn(_,i,h,p,v){const x=l.H();return i?(l.K(x,x,[1/v,1/v,1]),h||l.ad(x,x,p.angle)):l.L(x,p.labelPlaneMatrix,_),x}function Gr(_,i,h,p,v){if(i){const x=l.ae(_);return l.K(x,x,[v,v,1]),h||l.ad(x,x,-p.angle),x}return p.glCoordMatrix}function Ue(_,i,h,p){let v;p?(v=[_,i,p(_,i),1],l.af(v,v,h)):(v=[_,i,0,1],Zr(v,v,h));const x=v[3];return{point:new l.P(v[0]/x,v[1]/x),signedDistanceFromCamera:x,isOccluded:!1}}function oe(_,i){return .5+_/i*.5}function Ae(_,i){return _.x>=-i[0]&&_.x<=i[0]&&_.y>=-i[1]&&_.y<=i[1]}function _e(_,i,h,p,v,x,U,M,k,Q,G,$,J,te,ue){const pe=p?_.textSizeData:_.iconSizeData,Be=l.ag(pe,h.transform.zoom),we=[256/h.width*2+1,256/h.height*2+1],Qe=p?_.text.dynamicLayoutVertexArray:_.icon.dynamicLayoutVertexArray;Qe.clear();const Se=_.lineVertexArray,$e=p?_.text.placedSymbolArray:_.icon.placedSymbolArray,qe=h.transform.width/h.transform.height;let at=!1;for(let wt=0;wt<$e.length;wt++){const St=$e.get(wt);if(St.hidden||St.writingMode===l.ah.vertical&&!at){dr(St.numGlyphs,Qe);continue}at=!1;const _t=Ue(St.anchorX,St.anchorY,i,ue);if(!Ae(_t.point,we)){dr(St.numGlyphs,Qe);continue}const mt=oe(h.transform.cameraToCenterDistance,_t.signedDistanceFromCamera),Qt=l.ai(pe,Be,St),Et=U?Qt/mt:Qt*mt,zt={getElevation:ue,labelPlaneMatrix:v,lineVertexArray:Se,pitchWithMap:U,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},projection:Q,tileAnchorPoint:new l.P(St.anchorX,St.anchorY),unwrappedTileID:G,width:$,height:J,translation:te},tr=Ve(zt,St,Et,!1,M,i,x,_.glyphOffsetArray,Qe,qe,k);at=tr.useVertical,(tr.notEnoughRoom||at||tr.needsFlipping&&Ve(zt,St,Et,!0,M,i,x,_.glyphOffsetArray,Qe,qe,k).notEnoughRoom)&&dr(St.numGlyphs,Qe)}p?_.text.dynamicLayoutVertexBuffer.updateData(Qe):_.icon.dynamicLayoutVertexBuffer.updateData(Qe)}function Re(_,i,h,p,v,x,U,M){const k=x.glyphStartIndex+x.numGlyphs,Q=x.lineStartIndex,G=x.lineStartIndex+x.lineLength,$=i.getoffsetX(x.glyphStartIndex),J=i.getoffsetX(k-1),te=Nt(_*$,h,p,v,x.segment,Q,G,M,U);if(!te)return null;const ue=Nt(_*J,h,p,v,x.segment,Q,G,M,U);return ue?M.projectionCache.anyProjectionOccluded?null:{first:te,last:ue}:null}function Je(_,i,h,p){return _===l.ah.horizontal&&Math.abs(h.y-i.y)>Math.abs(h.x-i.x)*p?{useVertical:!0}:(_===l.ah.vertical?i.y<h.y:i.x>h.x)?{needsFlipping:!0}:null}function Ve(_,i,h,p,v,x,U,M,k,Q,G){const $=h/24,J=i.lineOffsetX*$,te=i.lineOffsetY*$;let ue;if(i.numGlyphs>1){const pe=i.glyphStartIndex+i.numGlyphs,Be=i.lineStartIndex,we=i.lineStartIndex+i.lineLength,Qe=Re($,M,J,te,p,i,G,_);if(!Qe)return{notEnoughRoom:!0};const Se=Ue(Qe.first.point.x,Qe.first.point.y,U,_.getElevation).point,$e=Ue(Qe.last.point.x,Qe.last.point.y,U,_.getElevation).point;if(v&&!p){const qe=Je(i.writingMode,Se,$e,Q);if(qe)return qe}ue=[Qe.first];for(let qe=i.glyphStartIndex+1;qe<pe-1;qe++)ue.push(Nt($*M.getoffsetX(qe),J,te,p,i.segment,Be,we,_,G));ue.push(Qe.last)}else{if(v&&!p){const Be=Ue(_.tileAnchorPoint.x,_.tileAnchorPoint.y,x,_.getElevation).point,we=i.lineStartIndex+i.segment+1,Qe=new l.P(_.lineVertexArray.getx(we),_.lineVertexArray.gety(we)),Se=Ue(Qe.x,Qe.y,x,_.getElevation),$e=Se.signedDistanceFromCamera>0?Se.point:(function(at,wt,St,_t,mt,Qt){return lt(at,wt,St,1,mt,Qt)})(_.tileAnchorPoint,Qe,Be,0,x,_),qe=Je(i.writingMode,Be,$e,Q);if(qe)return qe}const pe=Nt($*M.getoffsetX(i.glyphStartIndex),J,te,p,i.segment,i.lineStartIndex,i.lineStartIndex+i.lineLength,_,G);if(!pe||_.projectionCache.anyProjectionOccluded)return{notEnoughRoom:!0};ue=[pe]}for(const pe of ue)l.aj(k,pe.point,pe.angle);return{}}function lt(_,i,h,p,v,x){const U=_.add(_.sub(i)._unit()),M=v!==void 0?Ue(U.x,U.y,v,x.getElevation).point:yt(U.x,U.y,x).point,k=h.sub(M);return h.add(k._mult(p/k.mag()))}function We(_,i,h){const p=i.projectionCache;if(p.projections[_])return p.projections[_];const v=new l.P(i.lineVertexArray.getx(_),i.lineVertexArray.gety(_)),x=yt(v.x,v.y,i);if(x.signedDistanceFromCamera>0)return p.projections[_]=x.point,p.anyProjectionOccluded=p.anyProjectionOccluded||x.isOccluded,x.point;const U=_-h.direction;return(function(M,k,Q,G,$){return lt(M,k,Q,G,void 0,$)})(h.distanceFromAnchor===0?i.tileAnchorPoint:new l.P(i.lineVertexArray.getx(U),i.lineVertexArray.gety(U)),v,h.previousVertex,h.absOffsetX-h.distanceFromAnchor+1,i)}function yt(_,i,h){const p=_+h.translation[0],v=i+h.translation[1];let x;return!h.pitchWithMap&&h.projection.useSpecialProjectionForSymbols?(x=h.projection.projectTileCoordinates(p,v,h.unwrappedTileID,h.getElevation),x.point.x=(.5*x.point.x+.5)*h.width,x.point.y=(.5*-x.point.y+.5)*h.height):(x=Ue(p,v,h.labelPlaneMatrix,h.getElevation),x.isOccluded=!1),x}function Lt(_,i,h){return _._unit()._perp()._mult(i*h)}function ft(_,i,h,p,v,x,U,M,k){if(M.projectionCache.offsets[_])return M.projectionCache.offsets[_];const Q=h.add(i);if(_+k.direction<p||_+k.direction>=v)return M.projectionCache.offsets[_]=Q,Q;const G=We(_+k.direction,M,k),$=Lt(G.sub(h),U,k.direction),J=h.add($),te=G.add($);return M.projectionCache.offsets[_]=l.ak(x,Q,J,te)||Q,M.projectionCache.offsets[_]}function Nt(_,i,h,p,v,x,U,M,k){const Q=p?_-i:_+i;let G=Q>0?1:-1,$=0;p&&(G*=-1,$=Math.PI),G<0&&($+=Math.PI);let J,te=G>0?x+v:x+v+1;M.projectionCache.cachedAnchorPoint?J=M.projectionCache.cachedAnchorPoint:(J=yt(M.tileAnchorPoint.x,M.tileAnchorPoint.y,M).point,M.projectionCache.cachedAnchorPoint=J);let ue,pe,Be=J,we=J,Qe=0,Se=0;const $e=Math.abs(Q),qe=[];let at;for(;Qe+Se<=$e;){if(te+=G,te<x||te>=U)return null;Qe+=Se,we=Be,pe=ue;const _t={absOffsetX:$e,direction:G,distanceFromAnchor:Qe,previousVertex:we};if(Be=We(te,M,_t),h===0)qe.push(we),at=Be.sub(we);else{let mt;const Qt=Be.sub(we);mt=Qt.mag()===0?Lt(We(te+G,M,_t).sub(Be),h,G):Lt(Qt,h,G),pe||(pe=we.add(mt)),ue=ft(te,mt,Be,x,U,pe,h,M,_t),qe.push(pe),at=ue.sub(pe)}Se=at.mag()}const wt=at._mult(($e-Qe)/Se)._add(pe||we),St=$+Math.atan2(Be.y-we.y,Be.x-we.x);return qe.push(wt),{point:wt,angle:k?St:0,path:qe}}const Jt=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function dr(_,i){for(let h=0;h<_;h++){const p=i.length;i.resize(p+4),i.float32.set(Jt,3*p)}}function Zr(_,i,h){const p=i[0],v=i[1];return _[0]=h[0]*p+h[4]*v+h[12],_[1]=h[1]*p+h[5]*v+h[13],_[3]=h[3]*p+h[7]*v+h[15],_}const or=100;class Or{constructor(i,h,p=new Rr(i.width+200,i.height+200,25),v=new Rr(i.width+200,i.height+200,25)){this.transform=i,this.mapProjection=h,this.grid=p,this.ignoredGrid=v,this.pitchFactor=Math.cos(i._pitch)*i.cameraToCenterDistance,this.screenRightBoundary=i.width+or,this.screenBottomBoundary=i.height+or,this.gridRightBoundary=i.width+200,this.gridBottomBoundary=i.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(i,h,p,v,x,U,M,k,Q,G,$){const J=i.anchorPointX+k[0],te=i.anchorPointY+k[1],ue=this.projectAndGetPerspectiveRatio(v,J,te,x,G),pe=p*ue.perspectiveRatio;let Be;if(U||M)Be=this._projectCollisionBox(i,pe,v,x,U,M,k,ue,G,$);else{const qe=ue.point.x+($?$.x*pe:0),at=ue.point.y+($?$.y*pe:0);Be={allPointsOccluded:!1,box:[qe+i.x1*pe,at+i.y1*pe,qe+i.x2*pe,at+i.y2*pe]}}const[we,Qe,Se,$e]=Be.box;return this.mapProjection.useSpecialProjectionForSymbols&&(U?Be.allPointsOccluded:this.mapProjection.isOccluded(J,te,x))||ue.perspectiveRatio<this.perspectiveRatioCutoff||!this.isInsideGrid(we,Qe,Se,$e)||h!=="always"&&this.grid.hitTest(we,Qe,Se,$e,h,Q)?{box:[we,Qe,Se,$e],placeable:!1,offscreen:!1}:{box:[we,Qe,Se,$e],placeable:!0,offscreen:this.isOffscreen(we,Qe,Se,$e)}}placeCollisionCircles(i,h,p,v,x,U,M,k,Q,G,$,J,te,ue,pe,Be){const we=[],Qe=new l.P(h.anchorX,h.anchorY),Se=this.getPerspectiveRatio(U,Qe.x,Qe.y,M,Be),$e=($?x/Se:x*Se)/l.ap,qe={getElevation:Be,labelPlaneMatrix:k,lineVertexArray:p,pitchWithMap:$,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},projection:this.mapProjection,tileAnchorPoint:Qe,unwrappedTileID:M,width:this.transform.width,height:this.transform.height,translation:pe},at=Re($e,v,h.lineOffsetX*$e,h.lineOffsetY*$e,!1,h,!1,qe);let wt=!1,St=!1,_t=!0;if(at){const mt=.5*te*Se+ue,Qt=new l.P(-100,-100),Et=new l.P(this.screenRightBoundary,this.screenBottomBoundary),zt=new sr,tr=at.first,Vt=at.last;let $t=[];for(let Ir=tr.path.length-1;Ir>=1;Ir--)$t.push(tr.path[Ir]);for(let Ir=1;Ir<Vt.path.length;Ir++)$t.push(Vt.path[Ir]);const rr=2.5*mt;if(Q){const Ir=this.projectPathToScreenSpace($t,qe,Q);$t=Ir.some((Lr=>Lr.signedDistanceFromCamera<=0))?[]:Ir.map((Lr=>Lr.point))}let un=[];if($t.length>0){const Ir=$t[0].clone(),Lr=$t[0].clone();for(let wr=1;wr<$t.length;wr++)Ir.x=Math.min(Ir.x,$t[wr].x),Ir.y=Math.min(Ir.y,$t[wr].y),Lr.x=Math.max(Lr.x,$t[wr].x),Lr.y=Math.max(Lr.y,$t[wr].y);un=Ir.x>=Qt.x&&Lr.x<=Et.x&&Ir.y>=Qt.y&&Lr.y<=Et.y?[$t]:Lr.x<Qt.x||Ir.x>Et.x||Lr.y<Qt.y||Ir.y>Et.y?[]:l.al([$t],Qt.x,Qt.y,Et.x,Et.y)}for(const Ir of un){zt.reset(Ir,.25*mt);let Lr=0;Lr=zt.length<=.5*mt?1:Math.ceil(zt.paddedLength/rr)+1;for(let wr=0;wr<Lr;wr++){const an=wr/Math.max(Lr-1,1),Hn=zt.lerp(an),Dr=Hn.x+or,qn=Hn.y+or;we.push(Dr,qn,mt,0);const In=Dr-mt,sn=qn-mt,On=Dr+mt,Cn=qn+mt;if(_t=_t&&this.isOffscreen(In,sn,On,Cn),St=St||this.isInsideGrid(In,sn,On,Cn),i!=="always"&&this.grid.hitTestCircle(Dr,qn,mt,i,J)&&(wt=!0,!G))return{circles:[],offscreen:!1,collisionDetected:wt}}}}return{circles:!G&&wt||!St||Se<this.perspectiveRatioCutoff?[]:we,offscreen:_t,collisionDetected:wt}}projectPathToScreenSpace(i,h,p){return i.map((v=>Ue(v.x,v.y,p,h.getElevation)))}queryRenderedSymbols(i){if(i.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const h=[];let p=1/0,v=1/0,x=-1/0,U=-1/0;for(const G of i){const $=new l.P(G.x+or,G.y+or);p=Math.min(p,$.x),v=Math.min(v,$.y),x=Math.max(x,$.x),U=Math.max(U,$.y),h.push($)}const M=this.grid.query(p,v,x,U).concat(this.ignoredGrid.query(p,v,x,U)),k={},Q={};for(const G of M){const $=G.key;if(k[$.bucketInstanceId]===void 0&&(k[$.bucketInstanceId]={}),k[$.bucketInstanceId][$.featureIndex])continue;const J=[new l.P(G.x1,G.y1),new l.P(G.x2,G.y1),new l.P(G.x2,G.y2),new l.P(G.x1,G.y2)];l.am(h,J)&&(k[$.bucketInstanceId][$.featureIndex]=!0,Q[$.bucketInstanceId]===void 0&&(Q[$.bucketInstanceId]=[]),Q[$.bucketInstanceId].push($.featureIndex))}return Q}insertCollisionBox(i,h,p,v,x,U){(p?this.ignoredGrid:this.grid).insert({bucketInstanceId:v,featureIndex:x,collisionGroupID:U,overlapMode:h},i[0],i[1],i[2],i[3])}insertCollisionCircles(i,h,p,v,x,U){const M=p?this.ignoredGrid:this.grid,k={bucketInstanceId:v,featureIndex:x,collisionGroupID:U,overlapMode:h};for(let Q=0;Q<i.length;Q+=4)M.insertCircle(k,i[Q],i[Q+1],i[Q+2])}projectAndGetPerspectiveRatio(i,h,p,v,x){let U;x?(U=[h,p,x(h,p),1],l.af(U,U,i)):(U=[h,p,0,1],Zr(U,U,i));const M=U[3];return{point:new l.P((U[0]/M+1)/2*this.transform.width+or,(-U[1]/M+1)/2*this.transform.height+or),perspectiveRatio:.5+this.transform.cameraToCenterDistance/M*.5,isOccluded:!1,signedDistanceFromCamera:M}}getPerspectiveRatio(i,h,p,v,x){const U=this.mapProjection.useSpecialProjectionForSymbols?this.mapProjection.projectTileCoordinates(h,p,v,x):Ue(h,p,i,x);return .5+this.transform.cameraToCenterDistance/U.signedDistanceFromCamera*.5}isOffscreen(i,h,p,v){return p<or||i>=this.screenRightBoundary||v<or||h>this.screenBottomBoundary}isInsideGrid(i,h,p,v){return p>=0&&i<this.gridRightBoundary&&v>=0&&h<this.gridBottomBoundary}getViewportMatrix(){const i=l.an([]);return l.J(i,i,[-100,-100,0]),i}_projectCollisionBox(i,h,p,v,x,U,M,k,Q,G){let $=new l.P(1,0),J=new l.P(0,1);const te=new l.P(i.anchorPointX+M[0],i.anchorPointY+M[1]);if(U&&!x){const _t=this.projectAndGetPerspectiveRatio(p,te.x+1,te.y,v,Q).point.sub(k.point).unit(),mt=Math.atan(_t.y/_t.x)+(_t.x<0?Math.PI:0),Qt=Math.sin(mt),Et=Math.cos(mt);$=new l.P(Et,Qt),J=new l.P(-Qt,Et)}else if(!U&&x){const _t=-this.transform.angle,mt=Math.sin(_t),Qt=Math.cos(_t);$=new l.P(Qt,mt),J=new l.P(-mt,Qt)}let ue=k.point,pe=h;if(x){ue=te;const _t=this.transform.zoom-Math.floor(this.transform.zoom);pe=Math.pow(2,-_t),pe*=this.mapProjection.getPitchedTextCorrection(this.transform,te,v),G||(pe*=l.ac(.5+k.signedDistanceFromCamera/this.transform.cameraToCenterDistance*.5,0,4))}G&&(ue=ue.add($.mult(G.x*pe)).add(J.mult(G.y*pe)));const Be=i.x1*pe,we=i.x2*pe,Qe=(Be+we)/2,Se=i.y1*pe,$e=i.y2*pe,qe=(Se+$e)/2,at=[{offsetX:Be,offsetY:Se},{offsetX:Qe,offsetY:Se},{offsetX:we,offsetY:Se},{offsetX:we,offsetY:qe},{offsetX:we,offsetY:$e},{offsetX:Qe,offsetY:$e},{offsetX:Be,offsetY:$e},{offsetX:Be,offsetY:qe}];let wt=[];for(const{offsetX:_t,offsetY:mt}of at)wt.push(new l.P(ue.x+$.x*_t+J.x*mt,ue.y+$.y*_t+J.y*mt));let St=!1;if(x){const _t=wt.map((mt=>this.projectAndGetPerspectiveRatio(p,mt.x,mt.y,v,Q)));St=_t.some((mt=>!mt.isOccluded)),wt=_t.map((mt=>mt.point))}else St=!0;return{box:l.ao(wt),allPointsOccluded:!St}}}function zr(_,i,h){return i*(l.X/(_.tileSize*Math.pow(2,h-_.tileID.overscaledZ)))}class Kn{constructor(i,h,p,v){this.opacity=i?Math.max(0,Math.min(1,i.opacity+(i.placed?h:-h))):v&&p?1:0,this.placed=p}isHidden(){return this.opacity===0&&!this.placed}}class Qn{constructor(i,h,p,v,x){this.text=new Kn(i?i.text:null,h,p,x),this.icon=new Kn(i?i.icon:null,h,v,x)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class en{constructor(i,h,p){this.text=i,this.icon=h,this.skipFade=p}}class vn{constructor(){this.invProjMatrix=l.H(),this.viewportMatrix=l.H(),this.circles=[]}}class Pn{constructor(i,h,p,v,x){this.bucketInstanceId=i,this.featureIndex=h,this.sourceLayerIndex=p,this.bucketIndex=v,this.tileID=x}}class mi{constructor(i){this.crossSourceCollisions=i,this.maxGroupID=0,this.collisionGroups={}}get(i){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[i]){const h=++this.maxGroupID;this.collisionGroups[i]={ID:h,predicate:p=>p.collisionGroupID===h}}return this.collisionGroups[i]}}function ai(_,i,h,p,v){const{horizontalAlign:x,verticalAlign:U}=l.au(_);return new l.P(-(x-.5)*i+p[0]*v,-(U-.5)*h+p[1]*v)}class yi{constructor(i,h,p,v,x,U){this.transform=i.clone(),this.terrain=p,this.collisionIndex=new Or(this.transform,h),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=v,this.retainedQueryData={},this.collisionGroups=new mi(x),this.collisionCircleArrays={},this.collisionBoxArrays=new Map,this.prevPlacement=U,U&&(U.prevPlacement=void 0),this.placedOrientations={}}_getTerrainElevationFunc(i){const h=this.terrain;return h?(p,v)=>h.getElevation(i,p,v):null}getBucketParts(i,h,p,v){const x=p.getBucket(h),U=p.latestFeatureIndex;if(!x||!U||h.id!==x.layerIds[0])return;const M=p.collisionBoxArray,k=x.layers[0].layout,Q=x.layers[0].paint,G=Math.pow(2,this.transform.zoom-p.tileID.overscaledZ),$=p.tileSize/l.X,J=p.tileID.toUnwrapped(),te=this.transform.calculatePosMatrix(J),ue=k.get("text-pitch-alignment")==="map",pe=k.get("text-rotation-alignment")==="map",Be=zr(p,1,this.transform.zoom),we=this.collisionIndex.mapProjection.translatePosition(this.transform,p,Q.get("text-translate"),Q.get("text-translate-anchor")),Qe=this.collisionIndex.mapProjection.translatePosition(this.transform,p,Q.get("icon-translate"),Q.get("icon-translate-anchor")),Se=kn(te,ue,pe,this.transform,Be);let $e=null;if(ue){const at=Gr(te,ue,pe,this.transform,Be);$e=l.L([],this.transform.labelPlaneMatrix,at)}this.retainedQueryData[x.bucketInstanceId]=new Pn(x.bucketInstanceId,U,x.sourceLayerIndex,x.index,p.tileID);const qe={bucket:x,layout:k,translationText:we,translationIcon:Qe,posMatrix:te,unwrappedTileID:J,textLabelPlaneMatrix:Se,labelToScreenMatrix:$e,scale:G,textPixelRatio:$,holdingForFade:p.holdingForFade(),collisionBoxArray:M,partiallyEvaluatedTextSize:l.ag(x.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(x.sourceID)};if(v)for(const at of x.sortKeyRanges){const{sortKey:wt,symbolInstanceStart:St,symbolInstanceEnd:_t}=at;i.push({sortKey:wt,symbolInstanceStart:St,symbolInstanceEnd:_t,parameters:qe})}else i.push({symbolInstanceStart:0,symbolInstanceEnd:x.symbolInstances.length,parameters:qe})}attemptAnchorPlacement(i,h,p,v,x,U,M,k,Q,G,$,J,te,ue,pe,Be,we,Qe,Se){const $e=l.aq[i.textAnchor],qe=[i.textOffset0,i.textOffset1],at=ai($e,p,v,qe,x),wt=this.collisionIndex.placeCollisionBox(h,J,k,Q,G,M,U,Be,$.predicate,Se,at);if((!Qe||this.collisionIndex.placeCollisionBox(Qe,J,k,Q,G,M,U,we,$.predicate,Se,at).placeable)&&wt.placeable){let St;if(this.prevPlacement&&this.prevPlacement.variableOffsets[te.crossTileID]&&this.prevPlacement.placements[te.crossTileID]&&this.prevPlacement.placements[te.crossTileID].text&&(St=this.prevPlacement.variableOffsets[te.crossTileID].anchor),te.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[te.crossTileID]={textOffset:qe,width:p,height:v,anchor:$e,textBoxScale:x,prevAnchor:St},this.markUsedJustification(ue,$e,te,pe),ue.allowVerticalPlacement&&(this.markUsedOrientation(ue,pe,te),this.placedOrientations[te.crossTileID]=pe),{shift:at,placedGlyphBoxes:wt}}}placeLayerBucketPart(i,h,p){const{bucket:v,layout:x,translationText:U,translationIcon:M,posMatrix:k,unwrappedTileID:Q,textLabelPlaneMatrix:G,labelToScreenMatrix:$,textPixelRatio:J,holdingForFade:te,collisionBoxArray:ue,partiallyEvaluatedTextSize:pe,collisionGroup:Be}=i.parameters,we=x.get("text-optional"),Qe=x.get("icon-optional"),Se=l.ar(x,"text-overlap","text-allow-overlap"),$e=Se==="always",qe=l.ar(x,"icon-overlap","icon-allow-overlap"),at=qe==="always",wt=x.get("text-rotation-alignment")==="map",St=x.get("text-pitch-alignment")==="map",_t=x.get("icon-text-fit")!=="none",mt=x.get("symbol-z-order")==="viewport-y",Qt=$e&&(at||!v.hasIconData()||Qe),Et=at&&($e||!v.hasTextData()||we);!v.collisionArrays&&ue&&v.deserializeCollisionBoxes(ue);const zt=this._getTerrainElevationFunc(this.retainedQueryData[v.bucketInstanceId].tileID),tr=(Vt,$t,rr)=>{var un,Ir;if(h[Vt.crossTileID])return;if(te)return void(this.placements[Vt.crossTileID]=new en(!1,!1,!1));let Lr=!1,wr=!1,an=!0,Hn=null,Dr={box:null,placeable:!1,offscreen:null},qn={placeable:!1},In=null,sn=null,On=null,Cn=0,xi=0,Di=0;$t.textFeatureIndex?Cn=$t.textFeatureIndex:Vt.useRuntimeCollisionCircles&&(Cn=Vt.featureIndex),$t.verticalTextFeatureIndex&&(xi=$t.verticalTextFeatureIndex);const Gn=$t.textBox;if(Gn){const mr=ni=>{let Wn=l.ah.horizontal;if(v.allowVerticalPlacement&&!ni&&this.prevPlacement){const $n=this.prevPlacement.placedOrientations[Vt.crossTileID];$n&&(this.placedOrientations[Vt.crossTileID]=$n,Wn=$n,this.markUsedOrientation(v,Wn,Vt))}return Wn},vr=(ni,Wn)=>{if(v.allowVerticalPlacement&&Vt.numVerticalGlyphVertices>0&&$t.verticalTextBox){for(const $n of v.writingModes)if($n===l.ah.vertical?(Dr=Wn(),qn=Dr):Dr=ni(),Dr&&Dr.placeable)break}else Dr=ni()},xn=Vt.textAnchorOffsetStartIndex,Ti=Vt.textAnchorOffsetEndIndex;if(Ti===xn){const ni=(Wn,$n)=>{const cn=this.collisionIndex.placeCollisionBox(Wn,Se,J,k,Q,St,wt,U,Be.predicate,zt);return cn&&cn.placeable&&(this.markUsedOrientation(v,$n,Vt),this.placedOrientations[Vt.crossTileID]=$n),cn};vr((()=>ni(Gn,l.ah.horizontal)),(()=>{const Wn=$t.verticalTextBox;return v.allowVerticalPlacement&&Vt.numVerticalGlyphVertices>0&&Wn?ni(Wn,l.ah.vertical):{box:null,offscreen:null}})),mr(Dr&&Dr.placeable)}else{let ni=l.aq[(Ir=(un=this.prevPlacement)===null||un===void 0?void 0:un.variableOffsets[Vt.crossTileID])===null||Ir===void 0?void 0:Ir.anchor];const Wn=(cn,Os,Yl)=>{const Zn=cn.x2-cn.x1,Vc=cn.y2-cn.y1,Eh=Vt.textBoxScale,mc=_t&&qe==="never"?Os:null;let Xa=null,vf=Se==="never"?1:2,Du="never";ni&&vf++;for(let ou=0;ou<vf;ou++){for(let lu=xn;lu<Ti;lu++){const Ji=v.textAnchorOffsets.get(lu);if(ni&&Ji.textAnchor!==ni)continue;const li=this.attemptAnchorPlacement(Ji,cn,Zn,Vc,Eh,wt,St,J,k,Q,Be,Du,Vt,v,Yl,U,M,mc,zt);if(li&&(Xa=li.placedGlyphBoxes,Xa&&Xa.placeable))return Lr=!0,Hn=li.shift,Xa}ni?ni=null:Du=Se}return p&&!Xa&&(Xa={box:this.collisionIndex.placeCollisionBox(Gn,"always",J,k,Q,St,wt,U,Be.predicate,zt,new l.P(0,0)).box,offscreen:!1,placeable:!1}),Xa};vr((()=>Wn(Gn,$t.iconBox,l.ah.horizontal)),(()=>{const cn=$t.verticalTextBox;return v.allowVerticalPlacement&&(!Dr||!Dr.placeable)&&Vt.numVerticalGlyphVertices>0&&cn?Wn(cn,$t.verticalIconBox,l.ah.vertical):{box:null,occluded:!0,offscreen:null}})),Dr&&(Lr=Dr.placeable,an=Dr.offscreen);const $n=mr(Dr&&Dr.placeable);if(!Lr&&this.prevPlacement){const cn=this.prevPlacement.variableOffsets[Vt.crossTileID];cn&&(this.variableOffsets[Vt.crossTileID]=cn,this.markUsedJustification(v,cn.anchor,Vt,$n))}}}if(In=Dr,Lr=In&&In.placeable,an=In&&In.offscreen,Vt.useRuntimeCollisionCircles){const mr=v.text.placedSymbolArray.get(Vt.centerJustifiedTextSymbolIndex),vr=l.ai(v.textSizeData,pe,mr),xn=x.get("text-padding");sn=this.collisionIndex.placeCollisionCircles(Se,mr,v.lineVertexArray,v.glyphOffsetArray,vr,k,Q,G,$,p,St,Be.predicate,Vt.collisionCircleDiameter,xn,U,zt),sn.circles.length&&sn.collisionDetected&&!p&&l.w("Collisions detected, but collision boxes are not shown"),Lr=$e||sn.circles.length>0&&!sn.collisionDetected,an=an&&sn.offscreen}if($t.iconFeatureIndex&&(Di=$t.iconFeatureIndex),$t.iconBox){const mr=vr=>this.collisionIndex.placeCollisionBox(vr,qe,J,k,Q,St,wt,M,Be.predicate,zt,_t&&Hn?Hn:void 0);qn&&qn.placeable&&$t.verticalIconBox?(On=mr($t.verticalIconBox),wr=On.placeable):(On=mr($t.iconBox),wr=On.placeable),an=an&&On.offscreen}const fn=we||Vt.numHorizontalGlyphVertices===0&&Vt.numVerticalGlyphVertices===0,_a=Qe||Vt.numIconVertices===0;fn||_a?_a?fn||(wr=wr&&Lr):Lr=wr&&Lr:wr=Lr=wr&&Lr;const Ei=wr&&On.placeable;if(Lr&&In.placeable&&this.collisionIndex.insertCollisionBox(In.box,Se,x.get("text-ignore-placement"),v.bucketInstanceId,qn&&qn.placeable&&xi?xi:Cn,Be.ID),Ei&&this.collisionIndex.insertCollisionBox(On.box,qe,x.get("icon-ignore-placement"),v.bucketInstanceId,Di,Be.ID),sn&&Lr&&this.collisionIndex.insertCollisionCircles(sn.circles,Se,x.get("text-ignore-placement"),v.bucketInstanceId,Cn,Be.ID),p&&this.storeCollisionData(v.bucketInstanceId,rr,$t,In,On,sn),Vt.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(v.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[Vt.crossTileID]=new en(Lr||Qt,wr||Et,an||v.justReloaded),h[Vt.crossTileID]=!0};if(mt){if(i.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const Vt=v.getSortedSymbolIndexes(this.transform.angle);for(let $t=Vt.length-1;$t>=0;--$t){const rr=Vt[$t];tr(v.symbolInstances.get(rr),v.collisionArrays[rr],rr)}}else for(let Vt=i.symbolInstanceStart;Vt<i.symbolInstanceEnd;Vt++)tr(v.symbolInstances.get(Vt),v.collisionArrays[Vt],Vt);if(p&&v.bucketInstanceId in this.collisionCircleArrays){const Vt=this.collisionCircleArrays[v.bucketInstanceId];l.as(Vt.invProjMatrix,k),Vt.viewportMatrix=this.collisionIndex.getViewportMatrix()}v.justReloaded=!1}storeCollisionData(i,h,p,v,x,U){if(p.textBox||p.iconBox){let M,k;this.collisionBoxArrays.has(i)?M=this.collisionBoxArrays.get(i):(M=new Map,this.collisionBoxArrays.set(i,M)),M.has(h)?k=M.get(h):(k={text:null,icon:null},M.set(h,k)),p.textBox&&(k.text=v.box),p.iconBox&&(k.icon=x.box)}if(U){let M=this.collisionCircleArrays[i];M===void 0&&(M=this.collisionCircleArrays[i]=new vn);for(let k=0;k<U.circles.length;k+=4)M.circles.push(U.circles[k+0]),M.circles.push(U.circles[k+1]),M.circles.push(U.circles[k+2]),M.circles.push(U.collisionDetected?1:0)}}markUsedJustification(i,h,p,v){let x;x=v===l.ah.vertical?p.verticalPlacedTextSymbolIndex:{left:p.leftJustifiedTextSymbolIndex,center:p.centerJustifiedTextSymbolIndex,right:p.rightJustifiedTextSymbolIndex}[l.at(h)];const U=[p.leftJustifiedTextSymbolIndex,p.centerJustifiedTextSymbolIndex,p.rightJustifiedTextSymbolIndex,p.verticalPlacedTextSymbolIndex];for(const M of U)M>=0&&(i.text.placedSymbolArray.get(M).crossTileID=x>=0&&M!==x?0:p.crossTileID)}markUsedOrientation(i,h,p){const v=h===l.ah.horizontal||h===l.ah.horizontalOnly?h:0,x=h===l.ah.vertical?h:0,U=[p.leftJustifiedTextSymbolIndex,p.centerJustifiedTextSymbolIndex,p.rightJustifiedTextSymbolIndex];for(const M of U)i.text.placedSymbolArray.get(M).placedOrientation=v;p.verticalPlacedTextSymbolIndex&&(i.text.placedSymbolArray.get(p.verticalPlacedTextSymbolIndex).placedOrientation=x)}commit(i){this.commitTime=i,this.zoomAtLastRecencyCheck=this.transform.zoom;const h=this.prevPlacement;let p=!1;this.prevZoomAdjustment=h?h.zoomAdjustment(this.transform.zoom):0;const v=h?h.symbolFadeChange(i):1,x=h?h.opacities:{},U=h?h.variableOffsets:{},M=h?h.placedOrientations:{};for(const k in this.placements){const Q=this.placements[k],G=x[k];G?(this.opacities[k]=new Qn(G,v,Q.text,Q.icon),p=p||Q.text!==G.text.placed||Q.icon!==G.icon.placed):(this.opacities[k]=new Qn(null,v,Q.text,Q.icon,Q.skipFade),p=p||Q.text||Q.icon)}for(const k in x){const Q=x[k];if(!this.opacities[k]){const G=new Qn(Q,v,!1,!1);G.isHidden()||(this.opacities[k]=G,p=p||Q.text.placed||Q.icon.placed)}}for(const k in U)this.variableOffsets[k]||!this.opacities[k]||this.opacities[k].isHidden()||(this.variableOffsets[k]=U[k]);for(const k in M)this.placedOrientations[k]||!this.opacities[k]||this.opacities[k].isHidden()||(this.placedOrientations[k]=M[k]);if(h&&h.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");p?this.lastPlacementChangeTime=i:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=h?h.lastPlacementChangeTime:i)}updateLayerOpacities(i,h){const p={};for(const v of h){const x=v.getBucket(i);x&&v.latestFeatureIndex&&i.id===x.layerIds[0]&&this.updateBucketOpacities(x,v.tileID,p,v.collisionBoxArray)}}updateBucketOpacities(i,h,p,v){i.hasTextData()&&(i.text.opacityVertexArray.clear(),i.text.hasVisibleVertices=!1),i.hasIconData()&&(i.icon.opacityVertexArray.clear(),i.icon.hasVisibleVertices=!1),i.hasIconCollisionBoxData()&&i.iconCollisionBox.collisionVertexArray.clear(),i.hasTextCollisionBoxData()&&i.textCollisionBox.collisionVertexArray.clear();const x=i.layers[0],U=x.layout,M=new Qn(null,0,!1,!1,!0),k=U.get("text-allow-overlap"),Q=U.get("icon-allow-overlap"),G=x._unevaluatedLayout.hasValue("text-variable-anchor")||x._unevaluatedLayout.hasValue("text-variable-anchor-offset"),$=U.get("text-rotation-alignment")==="map",J=U.get("text-pitch-alignment")==="map",te=U.get("icon-text-fit")!=="none",ue=new Qn(null,0,k&&(Q||!i.hasIconData()||U.get("icon-optional")),Q&&(k||!i.hasTextData()||U.get("text-optional")),!0);!i.collisionArrays&&v&&(i.hasIconCollisionBoxData()||i.hasTextCollisionBoxData())&&i.deserializeCollisionBoxes(v);const pe=(we,Qe,Se)=>{for(let $e=0;$e<Qe/4;$e++)we.opacityVertexArray.emplaceBack(Se);we.hasVisibleVertices=we.hasVisibleVertices||Se!==nl},Be=this.collisionBoxArrays.get(i.bucketInstanceId);for(let we=0;we<i.symbolInstances.length;we++){const Qe=i.symbolInstances.get(we),{numHorizontalGlyphVertices:Se,numVerticalGlyphVertices:$e,crossTileID:qe}=Qe;let at=this.opacities[qe];p[qe]?at=M:at||(at=ue,this.opacities[qe]=at),p[qe]=!0;const wt=Qe.numIconVertices>0,St=this.placedOrientations[Qe.crossTileID],_t=St===l.ah.vertical,mt=St===l.ah.horizontal||St===l.ah.horizontalOnly;if(Se>0||$e>0){const Et=ka(at.text);pe(i.text,Se,_t?nl:Et),pe(i.text,$e,mt?nl:Et);const zt=at.text.isHidden();[Qe.rightJustifiedTextSymbolIndex,Qe.centerJustifiedTextSymbolIndex,Qe.leftJustifiedTextSymbolIndex].forEach(($t=>{$t>=0&&(i.text.placedSymbolArray.get($t).hidden=zt||_t?1:0)})),Qe.verticalPlacedTextSymbolIndex>=0&&(i.text.placedSymbolArray.get(Qe.verticalPlacedTextSymbolIndex).hidden=zt||mt?1:0);const tr=this.variableOffsets[Qe.crossTileID];tr&&this.markUsedJustification(i,tr.anchor,Qe,St);const Vt=this.placedOrientations[Qe.crossTileID];Vt&&(this.markUsedJustification(i,"left",Qe,Vt),this.markUsedOrientation(i,Vt,Qe))}if(wt){const Et=ka(at.icon),zt=!(te&&Qe.verticalPlacedIconSymbolIndex&&_t);Qe.placedIconSymbolIndex>=0&&(pe(i.icon,Qe.numIconVertices,zt?Et:nl),i.icon.placedSymbolArray.get(Qe.placedIconSymbolIndex).hidden=at.icon.isHidden()),Qe.verticalPlacedIconSymbolIndex>=0&&(pe(i.icon,Qe.numVerticalIconVertices,zt?nl:Et),i.icon.placedSymbolArray.get(Qe.verticalPlacedIconSymbolIndex).hidden=at.icon.isHidden())}const Qt=Be&&Be.has(we)?Be.get(we):{text:null,icon:null};if(i.hasIconCollisionBoxData()||i.hasTextCollisionBoxData()){const Et=i.collisionArrays[we];if(Et){let zt=new l.P(0,0);if(Et.textBox||Et.verticalTextBox){let tr=!0;if(G){const Vt=this.variableOffsets[qe];Vt?(zt=ai(Vt.anchor,Vt.width,Vt.height,Vt.textOffset,Vt.textBoxScale),$&&zt._rotate(J?this.transform.angle:-this.transform.angle)):tr=!1}if(Et.textBox||Et.verticalTextBox){let Vt;Et.textBox&&(Vt=_t),Et.verticalTextBox&&(Vt=mt),po(i.textCollisionBox.collisionVertexArray,at.text.placed,!tr||Vt,Qt.text,zt.x,zt.y)}}if(Et.iconBox||Et.verticalIconBox){const tr=!!(!mt&&Et.verticalIconBox);let Vt;Et.iconBox&&(Vt=tr),Et.verticalIconBox&&(Vt=!tr),po(i.iconCollisionBox.collisionVertexArray,at.icon.placed,Vt,Qt.icon,te?zt.x:0,te?zt.y:0)}}}}if(i.sortFeatures(this.transform.angle),this.retainedQueryData[i.bucketInstanceId]&&(this.retainedQueryData[i.bucketInstanceId].featureSortOrder=i.featureSortOrder),i.hasTextData()&&i.text.opacityVertexBuffer&&i.text.opacityVertexBuffer.updateData(i.text.opacityVertexArray),i.hasIconData()&&i.icon.opacityVertexBuffer&&i.icon.opacityVertexBuffer.updateData(i.icon.opacityVertexArray),i.hasIconCollisionBoxData()&&i.iconCollisionBox.collisionVertexBuffer&&i.iconCollisionBox.collisionVertexBuffer.updateData(i.iconCollisionBox.collisionVertexArray),i.hasTextCollisionBoxData()&&i.textCollisionBox.collisionVertexBuffer&&i.textCollisionBox.collisionVertexBuffer.updateData(i.textCollisionBox.collisionVertexArray),i.text.opacityVertexArray.length!==i.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${i.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${i.text.layoutVertexArray.length}) / 4`);if(i.icon.opacityVertexArray.length!==i.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${i.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${i.icon.layoutVertexArray.length}) / 4`);if(i.bucketInstanceId in this.collisionCircleArrays){const we=this.collisionCircleArrays[i.bucketInstanceId];i.placementInvProjMatrix=we.invProjMatrix,i.placementViewportMatrix=we.viewportMatrix,i.collisionCircleArray=we.circles,delete this.collisionCircleArrays[i.bucketInstanceId]}}symbolFadeChange(i){return this.fadeDuration===0?1:(i-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(i){return Math.max(0,(this.transform.zoom-i)/1.5)}hasTransitions(i){return this.stale||i-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(i,h){const p=this.zoomAtLastRecencyCheck===h?1-this.zoomAdjustment(h):1;return this.zoomAtLastRecencyCheck=h,this.commitTime+this.fadeDuration*p>i}setStale(){this.stale=!0}}function po(_,i,h,p,v,x){p&&p.length!==0||(p=[0,0,0,0]);const U=p[0]-or,M=p[1]-or,k=p[2]-or,Q=p[3]-or;_.emplaceBack(i?1:0,h?1:0,v||0,x||0,U,M),_.emplaceBack(i?1:0,h?1:0,v||0,x||0,k,M),_.emplaceBack(i?1:0,h?1:0,v||0,x||0,k,Q),_.emplaceBack(i?1:0,h?1:0,v||0,x||0,U,Q)}const wn=Math.pow(2,25),Ui=Math.pow(2,24),WA=Math.pow(2,17),vi=Math.pow(2,16),Li=Math.pow(2,9),zl=Math.pow(2,8),qa=Math.pow(2,1);function ka(_){if(_.opacity===0&&!_.placed)return 0;if(_.opacity===1&&_.placed)return 4294967295;const i=_.placed?1:0,h=Math.floor(127*_.opacity);return h*wn+i*Ui+h*WA+i*vi+h*Li+i*zl+h*qa+i}const nl=0;function il(){return{isOccluded:(_,i,h)=>!1,getPitchedTextCorrection:(_,i,h)=>1,get useSpecialProjectionForSymbols(){return!1},projectTileCoordinates(_,i,h,p){throw new Error("Not implemented.")},translatePosition:(_,i,h,p)=>(function(v,x,U,M,k=!1){if(!U[0]&&!U[1])return[0,0];const Q=k?M==="map"?v.angle:0:M==="viewport"?-v.angle:0;if(Q){const G=Math.sin(Q),$=Math.cos(Q);U=[U[0]*$-U[1]*G,U[0]*G+U[1]*$]}return[k?U[0]:zr(x,U[0],v.zoom),k?U[1]:zr(x,U[1],v.zoom)]})(_,i,h,p),getCircleRadiusCorrection:_=>1}}class Vn{constructor(i){this._sortAcrossTiles=i.layout.get("symbol-z-order")!=="viewport-y"&&!i.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(i,h,p,v,x){const U=this._bucketParts;for(;this._currentTileIndex<i.length;)if(h.getBucketParts(U,v,i[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,x())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,U.sort(((M,k)=>M.sortKey-k.sortKey)));this._currentPartIndex<U.length;)if(h.placeLayerBucketPart(U[this._currentPartIndex],this._seenCrossTileIDs,p),this._currentPartIndex++,x())return!0;return!1}}class js{constructor(i,h,p,v,x,U,M,k){this.placement=new yi(i,il(),h,U,M,k),this._currentPlacementIndex=p.length-1,this._forceFullPlacement=v,this._showCollisionBoxes=x,this._done=!1}isDone(){return this._done}continuePlacement(i,h,p){const v=S.now(),x=()=>!this._forceFullPlacement&&S.now()-v>2;for(;this._currentPlacementIndex>=0;){const U=h[i[this._currentPlacementIndex]],M=this.placement.collisionIndex.transform.zoom;if(U.type==="symbol"&&(!U.minzoom||U.minzoom<=M)&&(!U.maxzoom||U.maxzoom>M)){if(this._inProgressLayer||(this._inProgressLayer=new Vn(U)),this._inProgressLayer.continuePlacement(p[U.source],this.placement,this._showCollisionBoxes,U,x))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(i){return this.placement.commit(i),this.placement}}const Xi=512/l.X/2;class qr{constructor(i,h,p){this.tileID=i,this.bucketInstanceId=p,this._symbolsByKey={};const v=new Map;for(let x=0;x<h.length;x++){const U=h.get(x),M=U.key,k=v.get(M);k?k.push(U):v.set(M,[U])}for(const[x,U]of v){const M={positions:U.map((k=>({x:Math.floor(k.anchorX*Xi),y:Math.floor(k.anchorY*Xi)}))),crossTileIDs:U.map((k=>k.crossTileID))};if(M.positions.length>128){const k=new l.av(M.positions.length,16,Uint16Array);for(const{x:Q,y:G}of M.positions)k.add(Q,G);k.finish(),delete M.positions,M.index=k}this._symbolsByKey[x]=M}}getScaledCoordinates(i,h){const{x:p,y:v,z:x}=this.tileID.canonical,{x:U,y:M,z:k}=h.canonical,Q=Xi/Math.pow(2,k-x),G=(M*l.X+i.anchorY)*Q,$=v*l.X*Xi;return{x:Math.floor((U*l.X+i.anchorX)*Q-p*l.X*Xi),y:Math.floor(G-$)}}findMatches(i,h,p){const v=this.tileID.canonical.z<h.canonical.z?1:Math.pow(2,this.tileID.canonical.z-h.canonical.z);for(let x=0;x<i.length;x++){const U=i.get(x);if(U.crossTileID)continue;const M=this._symbolsByKey[U.key];if(!M)continue;const k=this.getScaledCoordinates(U,h);if(M.index){const Q=M.index.range(k.x-v,k.y-v,k.x+v,k.y+v).sort();for(const G of Q){const $=M.crossTileIDs[G];if(!p[$]){p[$]=!0,U.crossTileID=$;break}}}else if(M.positions)for(let Q=0;Q<M.positions.length;Q++){const G=M.positions[Q],$=M.crossTileIDs[Q];if(Math.abs(G.x-k.x)<=v&&Math.abs(G.y-k.y)<=v&&!p[$]){p[$]=!0,U.crossTileID=$;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map((({crossTileIDs:i})=>i))}}class pA{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class oa{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(i){const h=Math.round((i-this.lng)/360);if(h!==0)for(const p in this.indexes){const v=this.indexes[p],x={};for(const U in v){const M=v[U];M.tileID=M.tileID.unwrapTo(M.tileID.wrap+h),x[M.tileID.key]=M}this.indexes[p]=x}this.lng=i}addBucket(i,h,p){if(this.indexes[i.overscaledZ]&&this.indexes[i.overscaledZ][i.key]){if(this.indexes[i.overscaledZ][i.key].bucketInstanceId===h.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(i.overscaledZ,this.indexes[i.overscaledZ][i.key])}for(let x=0;x<h.symbolInstances.length;x++)h.symbolInstances.get(x).crossTileID=0;this.usedCrossTileIDs[i.overscaledZ]||(this.usedCrossTileIDs[i.overscaledZ]={});const v=this.usedCrossTileIDs[i.overscaledZ];for(const x in this.indexes){const U=this.indexes[x];if(Number(x)>i.overscaledZ)for(const M in U){const k=U[M];k.tileID.isChildOf(i)&&k.findMatches(h.symbolInstances,i,v)}else{const M=U[i.scaledTo(Number(x)).key];M&&M.findMatches(h.symbolInstances,i,v)}}for(let x=0;x<h.symbolInstances.length;x++){const U=h.symbolInstances.get(x);U.crossTileID||(U.crossTileID=p.generate(),v[U.crossTileID]=!0)}return this.indexes[i.overscaledZ]===void 0&&(this.indexes[i.overscaledZ]={}),this.indexes[i.overscaledZ][i.key]=new qr(i,h.symbolInstances,h.bucketInstanceId),!0}removeBucketCrossTileIDs(i,h){for(const p of h.getCrossTileIDsLists())for(const v of p)delete this.usedCrossTileIDs[i][v]}removeStaleBuckets(i){let h=!1;for(const p in this.indexes){const v=this.indexes[p];for(const x in v)i[v[x].bucketInstanceId]||(this.removeBucketCrossTileIDs(p,v[x]),delete v[x],h=!0)}return h}}class al{constructor(){this.layerIndexes={},this.crossTileIDs=new pA,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(i,h,p){let v=this.layerIndexes[i.id];v===void 0&&(v=this.layerIndexes[i.id]=new oa);let x=!1;const U={};v.handleWrapJump(p);for(const M of h){const k=M.getBucket(i);k&&i.id===k.layerIds[0]&&(k.bucketInstanceId||(k.bucketInstanceId=++this.maxBucketInstanceId),v.addBucket(M.tileID,k,this.crossTileIDs)&&(x=!0),U[k.bucketInstanceId]=!0)}return v.removeStaleBuckets(U)&&(x=!0),x}pruneUnusedLayers(i){const h={};i.forEach((p=>{h[p]=!0}));for(const p in this.layerIndexes)h[p]||delete this.layerIndexes[p]}}const is=(_,i)=>l.t(_,i&&i.filter((h=>h.identifier!=="source.canvas"))),as=l.aw();class Ri extends l.E{constructor(i,h={}){super(),this._rtlPluginLoaded=()=>{for(const p in this.sourceCaches){const v=this.sourceCaches[p].getSource().type;v!=="vector"&&v!=="geojson"||this.sourceCaches[p].reload()}},this.map=i,this.dispatcher=new pt(Ke(),i._getMapId()),this.dispatcher.registerMessageHandler("GG",((p,v)=>this.getGlyphs(p,v))),this.dispatcher.registerMessageHandler("GI",((p,v)=>this.getImages(p,v))),this.imageManager=new Fe,this.imageManager.setEventedParent(this),this.glyphManager=new ke(i._requestManager,h.localIdeographFontFamily),this.lineAtlas=new ye(256,512),this.crossTileSymbolIndex=new al,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new l.ax,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("SR",l.ay()),fr().on(Ft,this._rtlPluginLoaded),this.on("data",(p=>{if(p.dataType!=="source"||p.sourceDataType!=="metadata")return;const v=this.sourceCaches[p.sourceId];if(!v)return;const x=v.getSource();if(x&&x.vectorLayerIds)for(const U in this._layers){const M=this._layers[U];M.source===x.id&&this._validateLayer(M)}}))}loadURL(i,h={},p){this.fire(new l.k("dataloading",{dataType:"style"})),h.validate=typeof h.validate!="boolean"||h.validate;const v=this.map._requestManager.transformRequest(i,"Style");this._loadStyleRequest=new AbortController;const x=this._loadStyleRequest;l.h(v,this._loadStyleRequest).then((U=>{this._loadStyleRequest=null,this._load(U.data,h,p)})).catch((U=>{this._loadStyleRequest=null,U&&!x.signal.aborted&&this.fire(new l.j(U))}))}loadJSON(i,h={},p){this.fire(new l.k("dataloading",{dataType:"style"})),this._frameRequest=new AbortController,S.frameAsync(this._frameRequest).then((()=>{this._frameRequest=null,h.validate=h.validate!==!1,this._load(i,h,p)})).catch((()=>{}))}loadEmpty(){this.fire(new l.k("dataloading",{dataType:"style"})),this._load(as,{validate:!1})}_load(i,h,p){var v;const x=h.transformStyle?h.transformStyle(p,i):i;if(!h.validate||!is(this,l.u(x))){this._loaded=!0,this.stylesheet=x;for(const U in x.sources)this.addSource(U,x.sources[U],{validate:!1});x.sprite?this._loadSprite(x.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(x.glyphs),this._createLayers(),this.light=new st(this.stylesheet.light),this.sky=new ee(this.stylesheet.sky),this.map.setTerrain((v=this.stylesheet.terrain)!==null&&v!==void 0?v:null),this.fire(new l.k("data",{dataType:"style"})),this.fire(new l.k("style.load"))}}_createLayers(){const i=l.az(this.stylesheet.layers);this.dispatcher.broadcast("SL",i),this._order=i.map((h=>h.id)),this._layers={},this._serializedLayers=null;for(const h of i){const p=l.aA(h);p.setEventedParent(this,{layer:{id:h.id}}),this._layers[h.id]=p}}_loadSprite(i,h=!1,p=void 0){let v;this.imageManager.setLoaded(!1),this._spriteRequest=new AbortController,(function(x,U,M,k){return l._(this,void 0,void 0,(function*(){const Q=ge(x),G=M>1?"@2x":"",$={},J={};for(const{id:te,url:ue}of Q){const pe=U.transformRequest(je(ue,G,".json"),"SpriteJSON");$[te]=l.h(pe,k);const Be=U.transformRequest(je(ue,G,".png"),"SpriteImage");J[te]=W.getImage(Be,k)}return yield Promise.all([...Object.values($),...Object.values(J)]),(function(te,ue){return l._(this,void 0,void 0,(function*(){const pe={};for(const Be in te){pe[Be]={};const we=S.getImageCanvasContext((yield ue[Be]).data),Qe=(yield te[Be]).data;for(const Se in Qe){const{width:$e,height:qe,x:at,y:wt,sdf:St,pixelRatio:_t,stretchX:mt,stretchY:Qt,content:Et,textFitWidth:zt,textFitHeight:tr}=Qe[Se];pe[Be][Se]={data:null,pixelRatio:_t,sdf:St,stretchX:mt,stretchY:Qt,content:Et,textFitWidth:zt,textFitHeight:tr,spriteData:{width:$e,height:qe,x:at,y:wt,context:we}}}}return pe}))})($,J)}))})(i,this.map._requestManager,this.map.getPixelRatio(),this._spriteRequest).then((x=>{if(this._spriteRequest=null,x)for(const U in x){this._spritesImagesIds[U]=[];const M=this._spritesImagesIds[U]?this._spritesImagesIds[U].filter((k=>!(k in x))):[];for(const k of M)this.imageManager.removeImage(k),this._changedImages[k]=!0;for(const k in x[U]){const Q=U==="default"?k:`${U}:${k}`;this._spritesImagesIds[U].push(Q),Q in this.imageManager.images?this.imageManager.updateImage(Q,x[U][k],!1):this.imageManager.addImage(Q,x[U][k]),h&&(this._changedImages[Q]=!0)}}})).catch((x=>{this._spriteRequest=null,v=x,this.fire(new l.j(v))})).finally((()=>{this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),h&&(this._changed=!0),this.dispatcher.broadcast("SI",this._availableImages),this.fire(new l.k("data",{dataType:"style"})),p&&p(v)}))}_unloadSprite(){for(const i of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(i),this._changedImages[i]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new l.k("data",{dataType:"style"}))}_validateLayer(i){const h=this.sourceCaches[i.source];if(!h)return;const p=i.sourceLayer;if(!p)return;const v=h.getSource();(v.type==="geojson"||v.vectorLayerIds&&v.vectorLayerIds.indexOf(p)===-1)&&this.fire(new l.j(new Error(`Source layer "${p}" does not exist on source "${v.id}" as specified by style layer "${i.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const i in this.sourceCaches)if(!this.sourceCaches[i].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(i,h=!1){const p=this._serializedAllLayers();if(!i||i.length===0)return Object.values(h?l.aB(p):p);const v=[];for(const x of i)if(p[x]){const U=h?l.aB(p[x]):p[x];v.push(U)}return v}_serializedAllLayers(){let i=this._serializedLayers;if(i)return i;i=this._serializedLayers={};const h=Object.keys(this._layers);for(const p of h){const v=this._layers[p];v.type!=="custom"&&(i[p]=v.serialize())}return i}hasTransitions(){if(this.light&&this.light.hasTransition()||this.sky&&this.sky.hasTransition())return!0;for(const i in this.sourceCaches)if(this.sourceCaches[i].hasTransition())return!0;for(const i in this._layers)if(this._layers[i].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(i){if(!this._loaded)return;const h=this._changed;if(h){const v=Object.keys(this._updatedLayers),x=Object.keys(this._removedLayers);(v.length||x.length)&&this._updateWorkerLayers(v,x);for(const U in this._updatedSources){const M=this._updatedSources[U];if(M==="reload")this._reloadSource(U);else{if(M!=="clear")throw new Error(`Invalid action ${M}`);this._clearSource(U)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const U in this._updatedPaintProps)this._layers[U].updateTransitions(i);this.light.updateTransitions(i),this.sky.updateTransitions(i),this._resetUpdates()}const p={};for(const v in this.sourceCaches){const x=this.sourceCaches[v];p[v]=x.used,x.used=!1}for(const v of this._order){const x=this._layers[v];x.recalculate(i,this._availableImages),!x.isHidden(i.zoom)&&x.source&&(this.sourceCaches[x.source].used=!0)}for(const v in p){const x=this.sourceCaches[v];!!p[v]!=!!x.used&&x.fire(new l.k("data",{sourceDataType:"visibility",dataType:"source",sourceId:v}))}this.light.recalculate(i),this.sky.recalculate(i),this.z=i.zoom,h&&this.fire(new l.k("data",{dataType:"style"}))}_updateTilesForChangedImages(){const i=Object.keys(this._changedImages);if(i.length){for(const h in this.sourceCaches)this.sourceCaches[h].reloadTilesForDependencies(["icons","patterns"],i);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const i in this.sourceCaches)this.sourceCaches[i].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(i,h){this.dispatcher.broadcast("UL",{layers:this._serializeByIds(i,!1),removedIds:h})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(i,h={}){var p;this._checkLoaded();const v=this.serialize();if(i=h.transformStyle?h.transformStyle(v,i):i,((p=h.validate)===null||p===void 0||p)&&is(this,l.u(i)))return!1;(i=l.aB(i)).layers=l.az(i.layers);const x=l.aC(v,i),U=this._getOperationsToPerform(x);if(U.unimplemented.length>0)throw new Error(`Unimplemented: ${U.unimplemented.join(", ")}.`);if(U.operations.length===0)return!1;for(const M of U.operations)M();return this.stylesheet=i,this._serializedLayers=null,!0}_getOperationsToPerform(i){const h=[],p=[];for(const v of i)switch(v.command){case"setCenter":case"setZoom":case"setBearing":case"setPitch":continue;case"addLayer":h.push((()=>this.addLayer.apply(this,v.args)));break;case"removeLayer":h.push((()=>this.removeLayer.apply(this,v.args)));break;case"setPaintProperty":h.push((()=>this.setPaintProperty.apply(this,v.args)));break;case"setLayoutProperty":h.push((()=>this.setLayoutProperty.apply(this,v.args)));break;case"setFilter":h.push((()=>this.setFilter.apply(this,v.args)));break;case"addSource":h.push((()=>this.addSource.apply(this,v.args)));break;case"removeSource":h.push((()=>this.removeSource.apply(this,v.args)));break;case"setLayerZoomRange":h.push((()=>this.setLayerZoomRange.apply(this,v.args)));break;case"setLight":h.push((()=>this.setLight.apply(this,v.args)));break;case"setGeoJSONSourceData":h.push((()=>this.setGeoJSONSourceData.apply(this,v.args)));break;case"setGlyphs":h.push((()=>this.setGlyphs.apply(this,v.args)));break;case"setSprite":h.push((()=>this.setSprite.apply(this,v.args)));break;case"setSky":h.push((()=>this.setSky.apply(this,v.args)));break;case"setTerrain":h.push((()=>this.map.setTerrain.apply(this,v.args)));break;case"setTransition":h.push((()=>{}));break;default:p.push(v.command)}return{operations:h,unimplemented:p}}addImage(i,h){if(this.getImage(i))return this.fire(new l.j(new Error(`An image named "${i}" already exists.`)));this.imageManager.addImage(i,h),this._afterImageUpdated(i)}updateImage(i,h){this.imageManager.updateImage(i,h)}getImage(i){return this.imageManager.getImage(i)}removeImage(i){if(!this.getImage(i))return this.fire(new l.j(new Error(`An image named "${i}" does not exist.`)));this.imageManager.removeImage(i),this._afterImageUpdated(i)}_afterImageUpdated(i){this._availableImages=this.imageManager.listImages(),this._changedImages[i]=!0,this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new l.k("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(i,h,p={}){if(this._checkLoaded(),this.sourceCaches[i]!==void 0)throw new Error(`Source "${i}" already exists.`);if(!h.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(h).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(h.type)>=0&&this._validate(l.u.source,`sources.${i}`,h,null,p))return;this.map&&this.map._collectResourceTiming&&(h.collectResourceTiming=!0);const v=this.sourceCaches[i]=new Gt(i,h,this.dispatcher);v.style=this,v.setEventedParent(this,(()=>({isSourceLoaded:v.loaded(),source:v.serialize(),sourceId:i}))),v.onAdd(this.map),this._changed=!0}removeSource(i){if(this._checkLoaded(),this.sourceCaches[i]===void 0)throw new Error("There is no source with this ID");for(const p in this._layers)if(this._layers[p].source===i)return this.fire(new l.j(new Error(`Source "${i}" cannot be removed while layer "${p}" is using it.`)));const h=this.sourceCaches[i];delete this.sourceCaches[i],delete this._updatedSources[i],h.fire(new l.k("data",{sourceDataType:"metadata",dataType:"source",sourceId:i})),h.setEventedParent(null),h.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(i,h){if(this._checkLoaded(),this.sourceCaches[i]===void 0)throw new Error(`There is no source with this ID=${i}`);const p=this.sourceCaches[i].getSource();if(p.type!=="geojson")throw new Error(`geojsonSource.type is ${p.type}, which is !== 'geojson`);p.setData(h),this._changed=!0}getSource(i){return this.sourceCaches[i]&&this.sourceCaches[i].getSource()}addLayer(i,h,p={}){this._checkLoaded();const v=i.id;if(this.getLayer(v))return void this.fire(new l.j(new Error(`Layer "${v}" already exists on this map.`)));let x;if(i.type==="custom"){if(is(this,l.aD(i)))return;x=l.aA(i)}else{if("source"in i&&typeof i.source=="object"&&(this.addSource(v,i.source),i=l.aB(i),i=l.e(i,{source:v})),this._validate(l.u.layer,`layers.${v}`,i,{arrayIndex:-1},p))return;x=l.aA(i),this._validateLayer(x),x.setEventedParent(this,{layer:{id:v}})}const U=h?this._order.indexOf(h):this._order.length;if(h&&U===-1)this.fire(new l.j(new Error(`Cannot add layer "${v}" before non-existing layer "${h}".`)));else{if(this._order.splice(U,0,v),this._layerOrderChanged=!0,this._layers[v]=x,this._removedLayers[v]&&x.source&&x.type!=="custom"){const M=this._removedLayers[v];delete this._removedLayers[v],M.type!==x.type?this._updatedSources[x.source]="clear":(this._updatedSources[x.source]="reload",this.sourceCaches[x.source].pause())}this._updateLayer(x),x.onAdd&&x.onAdd(this.map)}}moveLayer(i,h){if(this._checkLoaded(),this._changed=!0,!this._layers[i])return void this.fire(new l.j(new Error(`The layer '${i}' does not exist in the map's style and cannot be moved.`)));if(i===h)return;const p=this._order.indexOf(i);this._order.splice(p,1);const v=h?this._order.indexOf(h):this._order.length;h&&v===-1?this.fire(new l.j(new Error(`Cannot move layer "${i}" before non-existing layer "${h}".`))):(this._order.splice(v,0,i),this._layerOrderChanged=!0)}removeLayer(i){this._checkLoaded();const h=this._layers[i];if(!h)return void this.fire(new l.j(new Error(`Cannot remove non-existing layer "${i}".`)));h.setEventedParent(null);const p=this._order.indexOf(i);this._order.splice(p,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[i]=h,delete this._layers[i],this._serializedLayers&&delete this._serializedLayers[i],delete this._updatedLayers[i],delete this._updatedPaintProps[i],h.onRemove&&h.onRemove(this.map)}getLayer(i){return this._layers[i]}getLayersOrder(){return[...this._order]}hasLayer(i){return i in this._layers}setLayerZoomRange(i,h,p){this._checkLoaded();const v=this.getLayer(i);v?v.minzoom===h&&v.maxzoom===p||(h!=null&&(v.minzoom=h),p!=null&&(v.maxzoom=p),this._updateLayer(v)):this.fire(new l.j(new Error(`Cannot set the zoom range of non-existing layer "${i}".`)))}setFilter(i,h,p={}){this._checkLoaded();const v=this.getLayer(i);if(v){if(!l.aE(v.filter,h))return h==null?(v.filter=void 0,void this._updateLayer(v)):void(this._validate(l.u.filter,`layers.${v.id}.filter`,h,null,p)||(v.filter=l.aB(h),this._updateLayer(v)))}else this.fire(new l.j(new Error(`Cannot filter non-existing layer "${i}".`)))}getFilter(i){return l.aB(this.getLayer(i).filter)}setLayoutProperty(i,h,p,v={}){this._checkLoaded();const x=this.getLayer(i);x?l.aE(x.getLayoutProperty(h),p)||(x.setLayoutProperty(h,p,v),this._updateLayer(x)):this.fire(new l.j(new Error(`Cannot style non-existing layer "${i}".`)))}getLayoutProperty(i,h){const p=this.getLayer(i);if(p)return p.getLayoutProperty(h);this.fire(new l.j(new Error(`Cannot get style of non-existing layer "${i}".`)))}setPaintProperty(i,h,p,v={}){this._checkLoaded();const x=this.getLayer(i);x?l.aE(x.getPaintProperty(h),p)||(x.setPaintProperty(h,p,v)&&this._updateLayer(x),this._changed=!0,this._updatedPaintProps[i]=!0,this._serializedLayers=null):this.fire(new l.j(new Error(`Cannot style non-existing layer "${i}".`)))}getPaintProperty(i,h){return this.getLayer(i).getPaintProperty(h)}setFeatureState(i,h){this._checkLoaded();const p=i.source,v=i.sourceLayer,x=this.sourceCaches[p];if(x===void 0)return void this.fire(new l.j(new Error(`The source '${p}' does not exist in the map's style.`)));const U=x.getSource().type;U==="geojson"&&v?this.fire(new l.j(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):U!=="vector"||v?(i.id===void 0&&this.fire(new l.j(new Error("The feature id parameter must be provided."))),x.setFeatureState(v,i.id,h)):this.fire(new l.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(i,h){this._checkLoaded();const p=i.source,v=this.sourceCaches[p];if(v===void 0)return void this.fire(new l.j(new Error(`The source '${p}' does not exist in the map's style.`)));const x=v.getSource().type,U=x==="vector"?i.sourceLayer:void 0;x!=="vector"||U?h&&typeof i.id!="string"&&typeof i.id!="number"?this.fire(new l.j(new Error("A feature id is required to remove its specific state property."))):v.removeFeatureState(U,i.id,h):this.fire(new l.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(i){this._checkLoaded();const h=i.source,p=i.sourceLayer,v=this.sourceCaches[h];if(v!==void 0)return v.getSource().type!=="vector"||p?(i.id===void 0&&this.fire(new l.j(new Error("The feature id parameter must be provided."))),v.getFeatureState(p,i.id)):void this.fire(new l.j(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new l.j(new Error(`The source '${h}' does not exist in the map's style.`)))}getTransition(){return l.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const i=l.aF(this.sourceCaches,(x=>x.serialize())),h=this._serializeByIds(this._order,!0),p=this.map.getTerrain()||void 0,v=this.stylesheet;return l.aG({version:v.version,name:v.name,metadata:v.metadata,light:v.light,sky:v.sky,center:v.center,zoom:v.zoom,bearing:v.bearing,pitch:v.pitch,sprite:v.sprite,glyphs:v.glyphs,transition:v.transition,sources:i,layers:h,terrain:p},(x=>x!==void 0))}_updateLayer(i){this._updatedLayers[i.id]=!0,i.source&&!this._updatedSources[i.source]&&this.sourceCaches[i.source].getSource().type!=="raster"&&(this._updatedSources[i.source]="reload",this.sourceCaches[i.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(i){const h=U=>this._layers[U].type==="fill-extrusion",p={},v=[];for(let U=this._order.length-1;U>=0;U--){const M=this._order[U];if(h(M)){p[M]=U;for(const k of i){const Q=k[M];if(Q)for(const G of Q)v.push(G)}}}v.sort(((U,M)=>M.intersectionZ-U.intersectionZ));const x=[];for(let U=this._order.length-1;U>=0;U--){const M=this._order[U];if(h(M))for(let k=v.length-1;k>=0;k--){const Q=v[k].feature;if(p[Q.layer.id]<U)break;x.push(Q),v.pop()}else for(const k of i){const Q=k[M];if(Q)for(const G of Q)x.push(G.feature)}}return x}queryRenderedFeatures(i,h,p){h&&h.filter&&this._validate(l.u.filter,"queryRenderedFeatures.filter",h.filter,null,h);const v={};if(h&&h.layers){if(!Array.isArray(h.layers))return this.fire(new l.j(new Error("parameters.layers must be an Array."))),[];for(const M of h.layers){const k=this._layers[M];if(!k)return this.fire(new l.j(new Error(`The layer '${M}' does not exist in the map's style and cannot be queried for features.`))),[];v[k.source]=!0}}const x=[];h.availableImages=this._availableImages;const U=this._serializedAllLayers();for(const M in this.sourceCaches)h.layers&&!v[M]||x.push(qt(this.sourceCaches[M],this._layers,U,i,h,p));return this.placement&&x.push((function(M,k,Q,G,$,J,te){const ue={},pe=J.queryRenderedSymbols(G),Be=[];for(const we of Object.keys(pe).map(Number))Be.push(te[we]);Be.sort(Xt);for(const we of Be){const Qe=we.featureIndex.lookupSymbolFeatures(pe[we.bucketInstanceId],k,we.bucketIndex,we.sourceLayerIndex,$.filter,$.layers,$.availableImages,M);for(const Se in Qe){const $e=ue[Se]=ue[Se]||[],qe=Qe[Se];qe.sort(((at,wt)=>{const St=we.featureSortOrder;if(St){const _t=St.indexOf(at.featureIndex);return St.indexOf(wt.featureIndex)-_t}return wt.featureIndex-at.featureIndex}));for(const at of qe)$e.push(at)}}for(const we in ue)ue[we].forEach((Qe=>{const Se=Qe.feature,$e=Q[M[we].source].getFeatureState(Se.layer["source-layer"],Se.id);Se.source=Se.layer.source,Se.layer["source-layer"]&&(Se.sourceLayer=Se.layer["source-layer"]),Se.state=$e}));return ue})(this._layers,U,this.sourceCaches,i,h,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(x)}querySourceFeatures(i,h){h&&h.filter&&this._validate(l.u.filter,"querySourceFeatures.filter",h.filter,null,h);const p=this.sourceCaches[i];return p?(function(v,x){const U=v.getRenderableIds().map((Q=>v.getTileByID(Q))),M=[],k={};for(let Q=0;Q<U.length;Q++){const G=U[Q],$=G.tileID.canonical.key;k[$]||(k[$]=!0,G.querySourceFeatures(M,x))}return M})(p,h):[]}getLight(){return this.light.getLight()}setLight(i,h={}){this._checkLoaded();const p=this.light.getLight();let v=!1;for(const U in i)if(!l.aE(i[U],p[U])){v=!0;break}if(!v)return;const x={now:S.now(),transition:l.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(i,h),this.light.updateTransitions(x)}getSky(){var i;return(i=this.stylesheet)===null||i===void 0?void 0:i.sky}setSky(i,h={}){const p=this.getSky();let v=!1;if(!i&&!p)return;if(i&&!p)v=!0;else if(!i&&p)v=!0;else for(const U in i)if(!l.aE(i[U],p[U])){v=!0;break}if(!v)return;const x={now:S.now(),transition:l.e({duration:300,delay:0},this.stylesheet.transition)};this.stylesheet.sky=i,this.sky.setSky(i,h),this.sky.updateTransitions(x)}_validate(i,h,p,v,x={}){return(!x||x.validate!==!1)&&is(this,i.call(l.u,l.e({key:h,style:this.serialize(),value:p,styleSpec:l.v},v)))}_remove(i=!0){this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null),fr().off(Ft,this._rtlPluginLoaded);for(const h in this._layers)this._layers[h].setEventedParent(null);for(const h in this.sourceCaches){const p=this.sourceCaches[h];p.setEventedParent(null),p.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),i&&this.dispatcher.broadcast("RM",void 0),this.dispatcher.remove(i)}_clearSource(i){this.sourceCaches[i].clearTiles()}_reloadSource(i){this.sourceCaches[i].resume(),this.sourceCaches[i].reload()}_updateSources(i){for(const h in this.sourceCaches)this.sourceCaches[h].update(i,this.map.terrain)}_generateCollisionBoxes(){for(const i in this.sourceCaches)this._reloadSource(i)}_updatePlacement(i,h,p,v,x=!1){let U=!1,M=!1;const k={};for(const Q of this._order){const G=this._layers[Q];if(G.type!=="symbol")continue;if(!k[G.source]){const J=this.sourceCaches[G.source];k[G.source]=J.getRenderableIds(!0).map((te=>J.getTileByID(te))).sort(((te,ue)=>ue.tileID.overscaledZ-te.tileID.overscaledZ||(te.tileID.isLessThan(ue.tileID)?-1:1)))}const $=this.crossTileSymbolIndex.addLayer(G,k[G.source],i.center.lng);U=U||$}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((x=x||this._layerOrderChanged||p===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(S.now(),i.zoom))&&(this.pauseablePlacement=new js(i,this.map.terrain,this._order,x,h,p,v,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,k),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(S.now()),M=!0),U&&this.pauseablePlacement.placement.setStale()),M||U)for(const Q of this._order){const G=this._layers[Q];G.type==="symbol"&&this.placement.updateLayerOpacities(G,k[G.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(S.now())}_releaseSymbolFadeTiles(){for(const i in this.sourceCaches)this.sourceCaches[i].releaseSymbolFadeTiles()}getImages(i,h){return l._(this,void 0,void 0,(function*(){const p=yield this.imageManager.getImages(h.icons);this._updateTilesForChangedImages();const v=this.sourceCaches[h.source];return v&&v.setDependencies(h.tileID.key,h.type,h.icons),p}))}getGlyphs(i,h){return l._(this,void 0,void 0,(function*(){const p=yield this.glyphManager.getGlyphs(h.stacks),v=this.sourceCaches[h.source];return v&&v.setDependencies(h.tileID.key,h.type,[""]),p}))}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(i,h={}){this._checkLoaded(),i&&this._validate(l.u.glyphs,"glyphs",i,null,h)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=i,this.glyphManager.entries={},this.glyphManager.setURL(i))}addSprite(i,h,p={},v){this._checkLoaded();const x=[{id:i,url:h}],U=[...ge(this.stylesheet.sprite),...x];this._validate(l.u.sprite,"sprite",U,null,p)||(this.stylesheet.sprite=U,this._loadSprite(x,!0,v))}removeSprite(i){this._checkLoaded();const h=ge(this.stylesheet.sprite);if(h.find((p=>p.id===i))){if(this._spritesImagesIds[i])for(const p of this._spritesImagesIds[i])this.imageManager.removeImage(p),this._changedImages[p]=!0;h.splice(h.findIndex((p=>p.id===i)),1),this.stylesheet.sprite=h.length>0?h:void 0,delete this._spritesImagesIds[i],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new l.k("data",{dataType:"style"}))}else this.fire(new l.j(new Error(`Sprite "${i}" doesn't exists on this map.`)))}getSprite(){return ge(this.stylesheet.sprite)}setSprite(i,h={},p){this._checkLoaded(),i&&this._validate(l.u.sprite,"sprite",i,null,h)||(this.stylesheet.sprite=i,i?this._loadSprite(i,!0,p):(this._unloadSprite(),p&&p(null)))}}var ui=l.Y([{name:"a_pos",type:"Int16",components:2}]);const Ks={prelude:Un(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}`),background:Un(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:Un(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:Un(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);float antialiased_blur=v_data.z;float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}float antialiasblur=-max(1.0/u_device_pixel_ratio/(radius+stroke_width),blur);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:Un("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:Un(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,get_elevation(floor(a_pos*0.5)),1);gl_Position=u_matrix*pos;}`),heatmapTexture:Un(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:Un("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_anchor_pos;attribute vec2 a_placed;attribute vec2 a_box_real;uniform mat4 u_matrix;uniform vec2 u_pixel_extrude_scale;varying float v_placed;varying float v_notUsed;vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_matrix*vec4(posInTile,elevation,1.0);}void main() {gl_Position=projectTileWithElevation(a_anchor_pos,get_elevation(a_anchor_pos));gl_Position.xy=((a_box_real+0.5)*u_pixel_extrude_scale*2.0-1.0)*vec2(1.0,-1.0)*gl_Position.w;if (gl_Position.z/gl_Position.w < 1.1) {gl_Position.z=0.5;}v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:Un("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:Un("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:Un(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),fillOutline:Un(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillOutlinePattern:Un(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillPattern:Un(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:Un(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:Un(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:Un(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Un(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:Un(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:Un(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:Un(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:Un(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:Un(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:Un(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;varying vec2 v_tex;varying float v_fade_opacity;vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_matrix*vec4(posInTile,elevation,1.0);}
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}gl_Position=finalPos;v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:Un(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_translation;uniform float u_pitched_scale;varying vec2 v_data0;varying vec3 v_data1;vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_matrix*vec4(posInTile,elevation,1.0);}
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:Un(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;varying vec4 v_data0;varying vec4 v_data1;vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_matrix*vec4(posInTile,elevation,1.0);}
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:Un("uniform sampler2D u_texture;uniform vec4 u_fog_color;uniform vec4 u_horizon_color;uniform float u_fog_ground_blend;uniform float u_fog_ground_blend_opacity;uniform float u_horizon_fog_blend;varying vec2 v_texture_pos;varying float v_fog_depth;const float gamma=2.2;vec4 gammaToLinear(vec4 color) {return pow(color,vec4(gamma));}vec4 linearToGamma(vec4 color) {return pow(color,vec4(1.0/gamma));}void main() {vec4 surface_color=texture2D(u_texture,v_texture_pos);if (v_fog_depth > u_fog_ground_blend) {vec4 surface_color_linear=gammaToLinear(surface_color);float blend_color=smoothstep(0.0,1.0,max((v_fog_depth-u_horizon_fog_blend)/(1.0-u_horizon_fog_blend),0.0));vec4 fog_horizon_color_linear=mix(gammaToLinear(u_fog_color),gammaToLinear(u_horizon_color),blend_color);float factor_fog=max(v_fog_depth-u_fog_ground_blend,0.0)/(1.0-u_fog_ground_blend);gl_FragColor=linearToGamma(mix(surface_color_linear,fog_horizon_color_linear,pow(factor_fog,2.0)*u_fog_ground_blend_opacity));} else {gl_FragColor=surface_color;}}","attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform mat4 u_fog_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;varying float v_fog_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=u_matrix*vec4(a_pos3d.xy,ele-ele_delta,1.0);vec4 pos=u_fog_matrix*vec4(a_pos3d.xy,ele,1.0);v_fog_depth=pos.z/pos.w*0.5+0.5;}"),terrainDepth:Un("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}","attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying float v_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;gl_Position=u_matrix*vec4(a_pos3d.xy,ele-ele_delta,1.0);v_depth=gl_Position.z/gl_Position.w;}"),terrainCoords:Un("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}","attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=u_matrix*vec4(a_pos3d.xy,ele-ele_delta,1.0);}"),sky:Un("uniform vec4 u_sky_color;uniform vec4 u_horizon_color;uniform float u_horizon;uniform float u_sky_horizon_blend;void main() {float y=gl_FragCoord.y;if (y > u_horizon) {float blend=y-u_horizon;if (blend < u_sky_horizon_blend) {gl_FragColor=mix(u_sky_color,u_horizon_color,pow(1.0-blend/u_sky_horizon_blend,2.0));} else {gl_FragColor=u_sky_color;}}}","attribute vec2 a_pos;void main() {gl_Position=vec4(a_pos,1.0,1.0);}")};function Un(_,i){const h=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,p=i.match(/attribute ([\w]+) ([\w]+)/g),v=_.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),x=i.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),U=x?x.concat(v):v,M={};return{fragmentSource:_=_.replace(h,((k,Q,G,$,J)=>(M[J]=!0,Q==="define"?`
#ifndef HAS_UNIFORM_u_${J}
varying ${G} ${$} ${J};
#else
uniform ${G} ${$} u_${J};
#endif
`:`
#ifdef HAS_UNIFORM_u_${J}
    ${G} ${$} ${J} = u_${J};
#endif
`))),vertexSource:i=i.replace(h,((k,Q,G,$,J)=>{const te=$==="float"?"vec2":"vec4",ue=J.match(/color/)?"color":te;return M[J]?Q==="define"?`
#ifndef HAS_UNIFORM_u_${J}
uniform lowp float u_${J}_t;
attribute ${G} ${te} a_${J};
varying ${G} ${$} ${J};
#else
uniform ${G} ${$} u_${J};
#endif
`:ue==="vec4"?`
#ifndef HAS_UNIFORM_u_${J}
    ${J} = a_${J};
#else
    ${G} ${$} ${J} = u_${J};
#endif
`:`
#ifndef HAS_UNIFORM_u_${J}
    ${J} = unpack_mix_${ue}(a_${J}, u_${J}_t);
#else
    ${G} ${$} ${J} = u_${J};
#endif
`:Q==="define"?`
#ifndef HAS_UNIFORM_u_${J}
uniform lowp float u_${J}_t;
attribute ${G} ${te} a_${J};
#else
uniform ${G} ${$} u_${J};
#endif
`:ue==="vec4"?`
#ifndef HAS_UNIFORM_u_${J}
    ${G} ${$} ${J} = a_${J};
#else
    ${G} ${$} ${J} = u_${J};
#endif
`:`
#ifndef HAS_UNIFORM_u_${J}
    ${G} ${$} ${J} = unpack_mix_${ue}(a_${J}, u_${J}_t);
#else
    ${G} ${$} ${J} = u_${J};
#endif
`})),staticAttributes:p,staticUniforms:U}}class YA{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(i,h,p,v,x,U,M,k,Q){this.context=i;let G=this.boundPaintVertexBuffers.length!==v.length;for(let $=0;!G&&$<v.length;$++)this.boundPaintVertexBuffers[$]!==v[$]&&(G=!0);!this.vao||this.boundProgram!==h||this.boundLayoutVertexBuffer!==p||G||this.boundIndexBuffer!==x||this.boundVertexOffset!==U||this.boundDynamicVertexBuffer!==M||this.boundDynamicVertexBuffer2!==k||this.boundDynamicVertexBuffer3!==Q?this.freshBind(h,p,v,x,U,M,k,Q):(i.bindVertexArray.set(this.vao),M&&M.bind(),x&&x.dynamicDraw&&x.bind(),k&&k.bind(),Q&&Q.bind())}freshBind(i,h,p,v,x,U,M,k){const Q=i.numAttributes,G=this.context,$=G.gl;this.vao&&this.destroy(),this.vao=G.createVertexArray(),G.bindVertexArray.set(this.vao),this.boundProgram=i,this.boundLayoutVertexBuffer=h,this.boundPaintVertexBuffers=p,this.boundIndexBuffer=v,this.boundVertexOffset=x,this.boundDynamicVertexBuffer=U,this.boundDynamicVertexBuffer2=M,this.boundDynamicVertexBuffer3=k,h.enableAttributes($,i);for(const J of p)J.enableAttributes($,i);U&&U.enableAttributes($,i),M&&M.enableAttributes($,i),k&&k.enableAttributes($,i),h.bind(),h.setVertexAttribPointers($,i,x);for(const J of p)J.bind(),J.setVertexAttribPointers($,i,x);U&&(U.bind(),U.setVertexAttribPointers($,i,x)),v&&v.bind(),M&&(M.bind(),M.setVertexAttribPointers($,i,x)),k&&(k.bind(),k.setVertexAttribPointers($,i,x)),G.currentNumAttributes=Q}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}const Qa=(_,i,h,p,v)=>({u_matrix:_,u_texture:0,u_ele_delta:i,u_fog_matrix:h,u_fog_color:p?p.properties.get("fog-color"):l.aM.white,u_fog_ground_blend:p?p.properties.get("fog-ground-blend"):1,u_fog_ground_blend_opacity:p?p.calculateFogBlendOpacity(v):0,u_horizon_color:p?p.properties.get("horizon-color"):l.aM.white,u_horizon_fog_blend:p?p.properties.get("horizon-fog-blend"):1});function sl(_){const i=[];for(let h=0;h<_.length;h++){if(_[h]===null)continue;const p=_[h].split(" ");i.push(p.pop())}return i}class JA{constructor(i,h,p,v,x,U){const M=i.gl;this.program=M.createProgram();const k=sl(h.staticAttributes),Q=p?p.getBinderAttributes():[],G=k.concat(Q),$=Ks.prelude.staticUniforms?sl(Ks.prelude.staticUniforms):[],J=h.staticUniforms?sl(h.staticUniforms):[],te=p?p.getBinderUniforms():[],ue=$.concat(J).concat(te),pe=[];for(const at of ue)pe.indexOf(at)<0&&pe.push(at);const Be=p?p.defines():[];x&&Be.push("#define OVERDRAW_INSPECTOR;"),U&&Be.push("#define TERRAIN3D;");const we=Be.concat(Ks.prelude.fragmentSource,h.fragmentSource).join(`
`),Qe=Be.concat(Ks.prelude.vertexSource,h.vertexSource).join(`
`),Se=M.createShader(M.FRAGMENT_SHADER);if(M.isContextLost())return void(this.failedToCreate=!0);if(M.shaderSource(Se,we),M.compileShader(Se),!M.getShaderParameter(Se,M.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${M.getShaderInfoLog(Se)}`);M.attachShader(this.program,Se);const $e=M.createShader(M.VERTEX_SHADER);if(M.isContextLost())return void(this.failedToCreate=!0);if(M.shaderSource($e,Qe),M.compileShader($e),!M.getShaderParameter($e,M.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${M.getShaderInfoLog($e)}`);M.attachShader(this.program,$e),this.attributes={};const qe={};this.numAttributes=G.length;for(let at=0;at<this.numAttributes;at++)G[at]&&(M.bindAttribLocation(this.program,at,G[at]),this.attributes[G[at]]=at);if(M.linkProgram(this.program),!M.getProgramParameter(this.program,M.LINK_STATUS))throw new Error(`Program failed to link: ${M.getProgramInfoLog(this.program)}`);M.deleteShader($e),M.deleteShader(Se);for(let at=0;at<pe.length;at++){const wt=pe[at];if(wt&&!qe[wt]){const St=M.getUniformLocation(this.program,wt);St&&(qe[wt]=St)}}this.fixedUniforms=v(i,qe),this.terrainUniforms=((at,wt)=>({u_depth:new l.aH(at,wt.u_depth),u_terrain:new l.aH(at,wt.u_terrain),u_terrain_dim:new l.aI(at,wt.u_terrain_dim),u_terrain_matrix:new l.aJ(at,wt.u_terrain_matrix),u_terrain_unpack:new l.aK(at,wt.u_terrain_unpack),u_terrain_exaggeration:new l.aI(at,wt.u_terrain_exaggeration)}))(i,qe),this.binderUniforms=p?p.getUniforms(i,qe):[]}draw(i,h,p,v,x,U,M,k,Q,G,$,J,te,ue,pe,Be,we,Qe){const Se=i.gl;if(this.failedToCreate)return;if(i.program.set(this.program),i.setDepthMode(p),i.setStencilMode(v),i.setColorMode(x),i.setCullFace(U),k){i.activeTexture.set(Se.TEXTURE2),Se.bindTexture(Se.TEXTURE_2D,k.depthTexture),i.activeTexture.set(Se.TEXTURE3),Se.bindTexture(Se.TEXTURE_2D,k.texture);for(const qe in this.terrainUniforms)this.terrainUniforms[qe].set(k[qe])}for(const qe in this.fixedUniforms)this.fixedUniforms[qe].set(M[qe]);pe&&pe.setUniforms(i,this.binderUniforms,te,{zoom:ue});let $e=0;switch(h){case Se.LINES:$e=2;break;case Se.TRIANGLES:$e=3;break;case Se.LINE_STRIP:$e=1}for(const qe of J.get()){const at=qe.vaos||(qe.vaos={});(at[Q]||(at[Q]=new YA)).bind(i,this,G,pe?pe.getPaintVertexBuffers():[],$,qe.vertexOffset,Be,we,Qe),Se.drawElements(h,qe.primitiveLength*$e,Se.UNSIGNED_SHORT,qe.primitiveOffset*$e*2)}}}function Cs(_,i,h){const p=1/zr(h,1,i.transform.tileZoom),v=Math.pow(2,h.tileID.overscaledZ),x=h.tileSize*Math.pow(2,i.transform.tileZoom)/v,U=x*(h.tileID.canonical.x+h.tileID.wrap*v),M=x*h.tileID.canonical.y;return{u_image:0,u_texsize:h.imageAtlasTexture.size,u_scale:[p,_.fromScale,_.toScale],u_fade:_.t,u_pixel_coord_upper:[U>>16,M>>16],u_pixel_coord_lower:[65535&U,65535&M]}}const Oo=(_,i,h,p)=>{const v=i.style.light,x=v.properties.get("position"),U=[x.x,x.y,x.z],M=(function(){var Q=new l.A(9);return l.A!=Float32Array&&(Q[1]=0,Q[2]=0,Q[3]=0,Q[5]=0,Q[6]=0,Q[7]=0),Q[0]=1,Q[4]=1,Q[8]=1,Q})();v.properties.get("anchor")==="viewport"&&(function(Q,G){var $=Math.sin(G),J=Math.cos(G);Q[0]=J,Q[1]=$,Q[2]=0,Q[3]=-$,Q[4]=J,Q[5]=0,Q[6]=0,Q[7]=0,Q[8]=1})(M,-i.transform.angle),(function(Q,G,$){var J=G[0],te=G[1],ue=G[2];Q[0]=J*$[0]+te*$[3]+ue*$[6],Q[1]=J*$[1]+te*$[4]+ue*$[7],Q[2]=J*$[2]+te*$[5]+ue*$[8]})(U,U,M);const k=v.properties.get("color");return{u_matrix:_,u_lightpos:U,u_lightintensity:v.properties.get("intensity"),u_lightcolor:[k.r,k.g,k.b],u_vertical_gradient:+h,u_opacity:p}},eu=(_,i,h,p,v,x,U)=>l.e(Oo(_,i,h,p),Cs(x,i,U),{u_height_factor:-Math.pow(2,v.overscaledZ)/U.tileSize/8}),Hl=_=>({u_matrix:_}),Eu=(_,i,h,p)=>l.e(Hl(_),Cs(h,i,p)),lc=(_,i)=>({u_matrix:_,u_world:i}),Ac=(_,i,h,p,v)=>l.e(Eu(_,i,h,p),{u_world:v}),Ss=(_,i,h,p)=>{const v=_.transform;let x,U;if(p.paint.get("circle-pitch-alignment")==="map"){const M=zr(h,1,v.zoom);x=!0,U=[M,M]}else x=!1,U=v.pixelsToGLUnits;return{u_camera_to_center_distance:v.cameraToCenterDistance,u_scale_with_map:+(p.paint.get("circle-pitch-scale")==="map"),u_matrix:_.translatePosMatrix(i.posMatrix,h,p.paint.get("circle-translate"),p.paint.get("circle-translate-anchor")),u_pitch_with_map:+x,u_device_pixel_ratio:_.pixelRatio,u_extrude_scale:U}},Na=(_,i,h)=>({u_matrix:_,u_inv_matrix:i,u_camera_to_center_distance:h.cameraToCenterDistance,u_viewport_size:[h.width,h.height]}),Vs=(_,i,h=1)=>({u_matrix:_,u_color:i,u_overlay:0,u_overlay_scale:h}),la=_=>({u_matrix:_}),Zi=(_,i,h,p)=>({u_matrix:_,u_extrude_scale:zr(i,1,h),u_intensity:p}),jr=(_,i,h,p)=>{const v=l.H();l.aP(v,0,_.width,_.height,0,0,1);const x=_.context.gl;return{u_matrix:v,u_world:[x.drawingBufferWidth,x.drawingBufferHeight],u_image:h,u_color_ramp:p,u_opacity:i.paint.get("heatmap-opacity")}};function tu(_,i){const h=Math.pow(2,i.canonical.z),p=i.canonical.y;return[new l.Z(0,p/h).toLngLat().lat,new l.Z(0,(p+1)/h).toLngLat().lat]}const gA=(_,i,h,p)=>{const v=_.transform;return{u_matrix:mA(_,i,h,p),u_ratio:1/zr(i,1,v.zoom),u_device_pixel_ratio:_.pixelRatio,u_units_to_pixels:[1/v.pixelsToGLUnits[0],1/v.pixelsToGLUnits[1]]}},uc=(_,i,h,p,v)=>l.e(gA(_,i,h,v),{u_image:0,u_image_height:p}),Sa=(_,i,h,p,v)=>{const x=_.transform,U=Tu(i,x);return{u_matrix:mA(_,i,h,v),u_texsize:i.imageAtlasTexture.size,u_ratio:1/zr(i,1,x.zoom),u_device_pixel_ratio:_.pixelRatio,u_image:0,u_scale:[U,p.fromScale,p.toScale],u_fade:p.t,u_units_to_pixels:[1/x.pixelsToGLUnits[0],1/x.pixelsToGLUnits[1]]}},Ra=(_,i,h,p,v,x)=>{const U=_.lineAtlas,M=Tu(i,_.transform),k=h.layout.get("line-cap")==="round",Q=U.getDash(p.from,k),G=U.getDash(p.to,k),$=Q.width*v.fromScale,J=G.width*v.toScale;return l.e(gA(_,i,h,x),{u_patternscale_a:[M/$,-Q.height/2],u_patternscale_b:[M/J,-G.height/2],u_sdfgamma:U.width/(256*Math.min($,J)*_.pixelRatio)/2,u_image:0,u_tex_y_a:Q.y,u_tex_y_b:G.y,u_mix:v.t})};function Tu(_,i){return 1/zr(_,1,i.tileZoom)}function mA(_,i,h,p){return _.translatePosMatrix(p?p.posMatrix:i.tileID.posMatrix,i,h.paint.get("line-translate"),h.paint.get("line-translate-anchor"))}const qs=(_,i,h,p,v)=>{return{u_matrix:_,u_tl_parent:i,u_scale_parent:h,u_buffer_scale:1,u_fade_t:p.mix,u_opacity:p.opacity*v.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:v.paint.get("raster-brightness-min"),u_brightness_high:v.paint.get("raster-brightness-max"),u_saturation_factor:(U=v.paint.get("raster-saturation"),U>0?1-1/(1.001-U):-U),u_contrast_factor:(x=v.paint.get("raster-contrast"),x>0?1/(1-x):1+x),u_spin_weights:ru(v.paint.get("raster-hue-rotate"))};var x,U};function ru(_){_*=Math.PI/180;const i=Math.sin(_),h=Math.cos(_);return[(2*h+1)/3,(-Math.sqrt(3)*i-h+1)/3,(Math.sqrt(3)*i-h+1)/3]}const Do=(_,i,h,p,v,x,U,M,k,Q,G,$,J,te)=>{const ue=U.transform;return{u_is_size_zoom_constant:+(_==="constant"||_==="source"),u_is_size_feature_constant:+(_==="constant"||_==="camera"),u_size_t:i?i.uSizeT:0,u_size:i?i.uSize:0,u_camera_to_center_distance:ue.cameraToCenterDistance,u_pitch:ue.pitch/360*2*Math.PI,u_rotate_symbol:+h,u_aspect_ratio:ue.width/ue.height,u_fade_change:U.options.fadeDuration?U.symbolFadeChange:1,u_matrix:M,u_label_plane_matrix:k,u_coord_matrix:Q,u_is_text:+$,u_pitch_with_map:+p,u_is_along_line:v,u_is_variable_anchor:x,u_texsize:J,u_texture:0,u_translation:G,u_pitched_scale:te}},yA=(_,i,h,p,v,x,U,M,k,Q,G,$,J,te,ue)=>{const pe=U.transform;return l.e(Do(_,i,h,p,v,x,U,M,k,Q,G,$,J,ue),{u_gamma_scale:p?Math.cos(pe._pitch)*pe.cameraToCenterDistance:1,u_device_pixel_ratio:U.pixelRatio,u_is_halo:1})},Es=(_,i,h,p,v,x,U,M,k,Q,G,$,J,te)=>l.e(yA(_,i,h,p,v,x,U,M,k,Q,G,!0,$,!0,te),{u_texsize_icon:J,u_texture_icon:1}),jl=(_,i,h)=>({u_matrix:_,u_opacity:i,u_color:h}),vA=(_,i,h,p,v,x)=>l.e((function(U,M,k,Q){const G=k.imageManager.getPattern(U.from.toString()),$=k.imageManager.getPattern(U.to.toString()),{width:J,height:te}=k.imageManager.getPixelSize(),ue=Math.pow(2,Q.tileID.overscaledZ),pe=Q.tileSize*Math.pow(2,k.transform.tileZoom)/ue,Be=pe*(Q.tileID.canonical.x+Q.tileID.wrap*ue),we=pe*Q.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:G.tl,u_pattern_br_a:G.br,u_pattern_tl_b:$.tl,u_pattern_br_b:$.br,u_texsize:[J,te],u_mix:M.t,u_pattern_size_a:G.displaySize,u_pattern_size_b:$.displaySize,u_scale_a:M.fromScale,u_scale_b:M.toScale,u_tile_units_to_pixels:1/zr(Q,1,k.transform.tileZoom),u_pixel_coord_upper:[Be>>16,we>>16],u_pixel_coord_lower:[65535&Be,65535&we]}})(p,x,h,v),{u_matrix:_,u_opacity:i}),Aa={fillExtrusion:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix),u_lightpos:new l.aN(_,i.u_lightpos),u_lightintensity:new l.aI(_,i.u_lightintensity),u_lightcolor:new l.aN(_,i.u_lightcolor),u_vertical_gradient:new l.aI(_,i.u_vertical_gradient),u_opacity:new l.aI(_,i.u_opacity)}),fillExtrusionPattern:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix),u_lightpos:new l.aN(_,i.u_lightpos),u_lightintensity:new l.aI(_,i.u_lightintensity),u_lightcolor:new l.aN(_,i.u_lightcolor),u_vertical_gradient:new l.aI(_,i.u_vertical_gradient),u_height_factor:new l.aI(_,i.u_height_factor),u_image:new l.aH(_,i.u_image),u_texsize:new l.aO(_,i.u_texsize),u_pixel_coord_upper:new l.aO(_,i.u_pixel_coord_upper),u_pixel_coord_lower:new l.aO(_,i.u_pixel_coord_lower),u_scale:new l.aN(_,i.u_scale),u_fade:new l.aI(_,i.u_fade),u_opacity:new l.aI(_,i.u_opacity)}),fill:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix)}),fillPattern:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix),u_image:new l.aH(_,i.u_image),u_texsize:new l.aO(_,i.u_texsize),u_pixel_coord_upper:new l.aO(_,i.u_pixel_coord_upper),u_pixel_coord_lower:new l.aO(_,i.u_pixel_coord_lower),u_scale:new l.aN(_,i.u_scale),u_fade:new l.aI(_,i.u_fade)}),fillOutline:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix),u_world:new l.aO(_,i.u_world)}),fillOutlinePattern:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix),u_world:new l.aO(_,i.u_world),u_image:new l.aH(_,i.u_image),u_texsize:new l.aO(_,i.u_texsize),u_pixel_coord_upper:new l.aO(_,i.u_pixel_coord_upper),u_pixel_coord_lower:new l.aO(_,i.u_pixel_coord_lower),u_scale:new l.aN(_,i.u_scale),u_fade:new l.aI(_,i.u_fade)}),circle:(_,i)=>({u_camera_to_center_distance:new l.aI(_,i.u_camera_to_center_distance),u_scale_with_map:new l.aH(_,i.u_scale_with_map),u_pitch_with_map:new l.aH(_,i.u_pitch_with_map),u_extrude_scale:new l.aO(_,i.u_extrude_scale),u_device_pixel_ratio:new l.aI(_,i.u_device_pixel_ratio),u_matrix:new l.aJ(_,i.u_matrix)}),collisionBox:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix),u_pixel_extrude_scale:new l.aO(_,i.u_pixel_extrude_scale)}),collisionCircle:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix),u_inv_matrix:new l.aJ(_,i.u_inv_matrix),u_camera_to_center_distance:new l.aI(_,i.u_camera_to_center_distance),u_viewport_size:new l.aO(_,i.u_viewport_size)}),debug:(_,i)=>({u_color:new l.aL(_,i.u_color),u_matrix:new l.aJ(_,i.u_matrix),u_overlay:new l.aH(_,i.u_overlay),u_overlay_scale:new l.aI(_,i.u_overlay_scale)}),clippingMask:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix)}),heatmap:(_,i)=>({u_extrude_scale:new l.aI(_,i.u_extrude_scale),u_intensity:new l.aI(_,i.u_intensity),u_matrix:new l.aJ(_,i.u_matrix)}),heatmapTexture:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix),u_world:new l.aO(_,i.u_world),u_image:new l.aH(_,i.u_image),u_color_ramp:new l.aH(_,i.u_color_ramp),u_opacity:new l.aI(_,i.u_opacity)}),hillshade:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix),u_image:new l.aH(_,i.u_image),u_latrange:new l.aO(_,i.u_latrange),u_light:new l.aO(_,i.u_light),u_shadow:new l.aL(_,i.u_shadow),u_highlight:new l.aL(_,i.u_highlight),u_accent:new l.aL(_,i.u_accent)}),hillshadePrepare:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix),u_image:new l.aH(_,i.u_image),u_dimension:new l.aO(_,i.u_dimension),u_zoom:new l.aI(_,i.u_zoom),u_unpack:new l.aK(_,i.u_unpack)}),line:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix),u_ratio:new l.aI(_,i.u_ratio),u_device_pixel_ratio:new l.aI(_,i.u_device_pixel_ratio),u_units_to_pixels:new l.aO(_,i.u_units_to_pixels)}),lineGradient:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix),u_ratio:new l.aI(_,i.u_ratio),u_device_pixel_ratio:new l.aI(_,i.u_device_pixel_ratio),u_units_to_pixels:new l.aO(_,i.u_units_to_pixels),u_image:new l.aH(_,i.u_image),u_image_height:new l.aI(_,i.u_image_height)}),linePattern:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix),u_texsize:new l.aO(_,i.u_texsize),u_ratio:new l.aI(_,i.u_ratio),u_device_pixel_ratio:new l.aI(_,i.u_device_pixel_ratio),u_image:new l.aH(_,i.u_image),u_units_to_pixels:new l.aO(_,i.u_units_to_pixels),u_scale:new l.aN(_,i.u_scale),u_fade:new l.aI(_,i.u_fade)}),lineSDF:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix),u_ratio:new l.aI(_,i.u_ratio),u_device_pixel_ratio:new l.aI(_,i.u_device_pixel_ratio),u_units_to_pixels:new l.aO(_,i.u_units_to_pixels),u_patternscale_a:new l.aO(_,i.u_patternscale_a),u_patternscale_b:new l.aO(_,i.u_patternscale_b),u_sdfgamma:new l.aI(_,i.u_sdfgamma),u_image:new l.aH(_,i.u_image),u_tex_y_a:new l.aI(_,i.u_tex_y_a),u_tex_y_b:new l.aI(_,i.u_tex_y_b),u_mix:new l.aI(_,i.u_mix)}),raster:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix),u_tl_parent:new l.aO(_,i.u_tl_parent),u_scale_parent:new l.aI(_,i.u_scale_parent),u_buffer_scale:new l.aI(_,i.u_buffer_scale),u_fade_t:new l.aI(_,i.u_fade_t),u_opacity:new l.aI(_,i.u_opacity),u_image0:new l.aH(_,i.u_image0),u_image1:new l.aH(_,i.u_image1),u_brightness_low:new l.aI(_,i.u_brightness_low),u_brightness_high:new l.aI(_,i.u_brightness_high),u_saturation_factor:new l.aI(_,i.u_saturation_factor),u_contrast_factor:new l.aI(_,i.u_contrast_factor),u_spin_weights:new l.aN(_,i.u_spin_weights)}),symbolIcon:(_,i)=>({u_is_size_zoom_constant:new l.aH(_,i.u_is_size_zoom_constant),u_is_size_feature_constant:new l.aH(_,i.u_is_size_feature_constant),u_size_t:new l.aI(_,i.u_size_t),u_size:new l.aI(_,i.u_size),u_camera_to_center_distance:new l.aI(_,i.u_camera_to_center_distance),u_pitch:new l.aI(_,i.u_pitch),u_rotate_symbol:new l.aH(_,i.u_rotate_symbol),u_aspect_ratio:new l.aI(_,i.u_aspect_ratio),u_fade_change:new l.aI(_,i.u_fade_change),u_matrix:new l.aJ(_,i.u_matrix),u_label_plane_matrix:new l.aJ(_,i.u_label_plane_matrix),u_coord_matrix:new l.aJ(_,i.u_coord_matrix),u_is_text:new l.aH(_,i.u_is_text),u_pitch_with_map:new l.aH(_,i.u_pitch_with_map),u_is_along_line:new l.aH(_,i.u_is_along_line),u_is_variable_anchor:new l.aH(_,i.u_is_variable_anchor),u_texsize:new l.aO(_,i.u_texsize),u_texture:new l.aH(_,i.u_texture),u_translation:new l.aO(_,i.u_translation),u_pitched_scale:new l.aI(_,i.u_pitched_scale)}),symbolSDF:(_,i)=>({u_is_size_zoom_constant:new l.aH(_,i.u_is_size_zoom_constant),u_is_size_feature_constant:new l.aH(_,i.u_is_size_feature_constant),u_size_t:new l.aI(_,i.u_size_t),u_size:new l.aI(_,i.u_size),u_camera_to_center_distance:new l.aI(_,i.u_camera_to_center_distance),u_pitch:new l.aI(_,i.u_pitch),u_rotate_symbol:new l.aH(_,i.u_rotate_symbol),u_aspect_ratio:new l.aI(_,i.u_aspect_ratio),u_fade_change:new l.aI(_,i.u_fade_change),u_matrix:new l.aJ(_,i.u_matrix),u_label_plane_matrix:new l.aJ(_,i.u_label_plane_matrix),u_coord_matrix:new l.aJ(_,i.u_coord_matrix),u_is_text:new l.aH(_,i.u_is_text),u_pitch_with_map:new l.aH(_,i.u_pitch_with_map),u_is_along_line:new l.aH(_,i.u_is_along_line),u_is_variable_anchor:new l.aH(_,i.u_is_variable_anchor),u_texsize:new l.aO(_,i.u_texsize),u_texture:new l.aH(_,i.u_texture),u_gamma_scale:new l.aI(_,i.u_gamma_scale),u_device_pixel_ratio:new l.aI(_,i.u_device_pixel_ratio),u_is_halo:new l.aH(_,i.u_is_halo),u_translation:new l.aO(_,i.u_translation),u_pitched_scale:new l.aI(_,i.u_pitched_scale)}),symbolTextAndIcon:(_,i)=>({u_is_size_zoom_constant:new l.aH(_,i.u_is_size_zoom_constant),u_is_size_feature_constant:new l.aH(_,i.u_is_size_feature_constant),u_size_t:new l.aI(_,i.u_size_t),u_size:new l.aI(_,i.u_size),u_camera_to_center_distance:new l.aI(_,i.u_camera_to_center_distance),u_pitch:new l.aI(_,i.u_pitch),u_rotate_symbol:new l.aH(_,i.u_rotate_symbol),u_aspect_ratio:new l.aI(_,i.u_aspect_ratio),u_fade_change:new l.aI(_,i.u_fade_change),u_matrix:new l.aJ(_,i.u_matrix),u_label_plane_matrix:new l.aJ(_,i.u_label_plane_matrix),u_coord_matrix:new l.aJ(_,i.u_coord_matrix),u_is_text:new l.aH(_,i.u_is_text),u_pitch_with_map:new l.aH(_,i.u_pitch_with_map),u_is_along_line:new l.aH(_,i.u_is_along_line),u_is_variable_anchor:new l.aH(_,i.u_is_variable_anchor),u_texsize:new l.aO(_,i.u_texsize),u_texsize_icon:new l.aO(_,i.u_texsize_icon),u_texture:new l.aH(_,i.u_texture),u_texture_icon:new l.aH(_,i.u_texture_icon),u_gamma_scale:new l.aI(_,i.u_gamma_scale),u_device_pixel_ratio:new l.aI(_,i.u_device_pixel_ratio),u_is_halo:new l.aH(_,i.u_is_halo),u_translation:new l.aO(_,i.u_translation),u_pitched_scale:new l.aI(_,i.u_pitched_scale)}),background:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix),u_opacity:new l.aI(_,i.u_opacity),u_color:new l.aL(_,i.u_color)}),backgroundPattern:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix),u_opacity:new l.aI(_,i.u_opacity),u_image:new l.aH(_,i.u_image),u_pattern_tl_a:new l.aO(_,i.u_pattern_tl_a),u_pattern_br_a:new l.aO(_,i.u_pattern_br_a),u_pattern_tl_b:new l.aO(_,i.u_pattern_tl_b),u_pattern_br_b:new l.aO(_,i.u_pattern_br_b),u_texsize:new l.aO(_,i.u_texsize),u_mix:new l.aI(_,i.u_mix),u_pattern_size_a:new l.aO(_,i.u_pattern_size_a),u_pattern_size_b:new l.aO(_,i.u_pattern_size_b),u_scale_a:new l.aI(_,i.u_scale_a),u_scale_b:new l.aI(_,i.u_scale_b),u_pixel_coord_upper:new l.aO(_,i.u_pixel_coord_upper),u_pixel_coord_lower:new l.aO(_,i.u_pixel_coord_lower),u_tile_units_to_pixels:new l.aI(_,i.u_tile_units_to_pixels)}),terrain:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix),u_texture:new l.aH(_,i.u_texture),u_ele_delta:new l.aI(_,i.u_ele_delta),u_fog_matrix:new l.aJ(_,i.u_fog_matrix),u_fog_color:new l.aL(_,i.u_fog_color),u_fog_ground_blend:new l.aI(_,i.u_fog_ground_blend),u_fog_ground_blend_opacity:new l.aI(_,i.u_fog_ground_blend_opacity),u_horizon_color:new l.aL(_,i.u_horizon_color),u_horizon_fog_blend:new l.aI(_,i.u_horizon_fog_blend)}),terrainDepth:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix),u_ele_delta:new l.aI(_,i.u_ele_delta)}),terrainCoords:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix),u_texture:new l.aH(_,i.u_texture),u_terrain_coords_id:new l.aI(_,i.u_terrain_coords_id),u_ele_delta:new l.aI(_,i.u_ele_delta)}),sky:(_,i)=>({u_sky_color:new l.aL(_,i.u_sky_color),u_horizon_color:new l.aL(_,i.u_horizon_color),u_horizon:new l.aI(_,i.u_horizon),u_sky_horizon_blend:new l.aI(_,i.u_sky_horizon_blend)})};class pa{constructor(i,h,p){this.context=i;const v=i.gl;this.buffer=v.createBuffer(),this.dynamicDraw=!!p,this.context.unbindVAO(),i.bindElementBuffer.set(this.buffer),v.bufferData(v.ELEMENT_ARRAY_BUFFER,h.arrayBuffer,this.dynamicDraw?v.DYNAMIC_DRAW:v.STATIC_DRAW),this.dynamicDraw||delete h.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(i){const h=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),h.bufferSubData(h.ELEMENT_ARRAY_BUFFER,0,i.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const go={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class ko{constructor(i,h,p,v){this.length=h.length,this.attributes=p,this.itemSize=h.bytesPerElement,this.dynamicDraw=v,this.context=i;const x=i.gl;this.buffer=x.createBuffer(),i.bindVertexBuffer.set(this.buffer),x.bufferData(x.ARRAY_BUFFER,h.arrayBuffer,this.dynamicDraw?x.DYNAMIC_DRAW:x.STATIC_DRAW),this.dynamicDraw||delete h.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(i){if(i.length!==this.length)throw new Error(`Length of new data is ${i.length}, which doesn't match current length of ${this.length}`);const h=this.context.gl;this.bind(),h.bufferSubData(h.ARRAY_BUFFER,0,i.arrayBuffer)}enableAttributes(i,h){for(let p=0;p<this.attributes.length;p++){const v=h.attributes[this.attributes[p].name];v!==void 0&&i.enableVertexAttribArray(v)}}setVertexAttribPointers(i,h,p){for(let v=0;v<this.attributes.length;v++){const x=this.attributes[v],U=h.attributes[x.name];U!==void 0&&i.vertexAttribPointer(U,x.components,i[go[x.type]],!1,this.itemSize,x.offset+this.itemSize*(p||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const mo=new WeakMap;function Ts(_){var i;if(mo.has(_))return mo.get(_);{const h=(i=_.getParameter(_.VERSION))===null||i===void 0?void 0:i.startsWith("WebGL 2.0");return mo.set(_,h),h}}class _n{constructor(i){this.gl=i.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(i){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class yo extends _n{getDefault(){return l.aM.transparent}set(i){const h=this.current;(i.r!==h.r||i.g!==h.g||i.b!==h.b||i.a!==h.a||this.dirty)&&(this.gl.clearColor(i.r,i.g,i.b,i.a),this.current=i,this.dirty=!1)}}class nu extends _n{getDefault(){return 1}set(i){(i!==this.current||this.dirty)&&(this.gl.clearDepth(i),this.current=i,this.dirty=!1)}}class ol extends _n{getDefault(){return 0}set(i){(i!==this.current||this.dirty)&&(this.gl.clearStencil(i),this.current=i,this.dirty=!1)}}class Kl extends _n{getDefault(){return[!0,!0,!0,!0]}set(i){const h=this.current;(i[0]!==h[0]||i[1]!==h[1]||i[2]!==h[2]||i[3]!==h[3]||this.dirty)&&(this.gl.colorMask(i[0],i[1],i[2],i[3]),this.current=i,this.dirty=!1)}}class ll extends _n{getDefault(){return!0}set(i){(i!==this.current||this.dirty)&&(this.gl.depthMask(i),this.current=i,this.dirty=!1)}}class Nc extends _n{getDefault(){return 255}set(i){(i!==this.current||this.dirty)&&(this.gl.stencilMask(i),this.current=i,this.dirty=!1)}}class Al extends _n{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(i){const h=this.current;(i.func!==h.func||i.ref!==h.ref||i.mask!==h.mask||this.dirty)&&(this.gl.stencilFunc(i.func,i.ref,i.mask),this.current=i,this.dirty=!1)}}class Iu extends _n{getDefault(){const i=this.gl;return[i.KEEP,i.KEEP,i.KEEP]}set(i){const h=this.current;(i[0]!==h[0]||i[1]!==h[1]||i[2]!==h[2]||this.dirty)&&(this.gl.stencilOp(i[0],i[1],i[2]),this.current=i,this.dirty=!1)}}class j extends _n{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const h=this.gl;i?h.enable(h.STENCIL_TEST):h.disable(h.STENCIL_TEST),this.current=i,this.dirty=!1}}class fe extends _n{getDefault(){return[0,1]}set(i){const h=this.current;(i[0]!==h[0]||i[1]!==h[1]||this.dirty)&&(this.gl.depthRange(i[0],i[1]),this.current=i,this.dirty=!1)}}class ze extends _n{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const h=this.gl;i?h.enable(h.DEPTH_TEST):h.disable(h.DEPTH_TEST),this.current=i,this.dirty=!1}}class rt extends _n{getDefault(){return this.gl.LESS}set(i){(i!==this.current||this.dirty)&&(this.gl.depthFunc(i),this.current=i,this.dirty=!1)}}class ut extends _n{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const h=this.gl;i?h.enable(h.BLEND):h.disable(h.BLEND),this.current=i,this.dirty=!1}}class Ot extends _n{getDefault(){const i=this.gl;return[i.ONE,i.ZERO]}set(i){const h=this.current;(i[0]!==h[0]||i[1]!==h[1]||this.dirty)&&(this.gl.blendFunc(i[0],i[1]),this.current=i,this.dirty=!1)}}class jt extends _n{getDefault(){return l.aM.transparent}set(i){const h=this.current;(i.r!==h.r||i.g!==h.g||i.b!==h.b||i.a!==h.a||this.dirty)&&(this.gl.blendColor(i.r,i.g,i.b,i.a),this.current=i,this.dirty=!1)}}class yr extends _n{getDefault(){return this.gl.FUNC_ADD}set(i){(i!==this.current||this.dirty)&&(this.gl.blendEquation(i),this.current=i,this.dirty=!1)}}class br extends _n{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const h=this.gl;i?h.enable(h.CULL_FACE):h.disable(h.CULL_FACE),this.current=i,this.dirty=!1}}class tn extends _n{getDefault(){return this.gl.BACK}set(i){(i!==this.current||this.dirty)&&(this.gl.cullFace(i),this.current=i,this.dirty=!1)}}class An extends _n{getDefault(){return this.gl.CCW}set(i){(i!==this.current||this.dirty)&&(this.gl.frontFace(i),this.current=i,this.dirty=!1)}}class zn extends _n{getDefault(){return null}set(i){(i!==this.current||this.dirty)&&(this.gl.useProgram(i),this.current=i,this.dirty=!1)}}class Mi extends _n{getDefault(){return this.gl.TEXTURE0}set(i){(i!==this.current||this.dirty)&&(this.gl.activeTexture(i),this.current=i,this.dirty=!1)}}class zi extends _n{getDefault(){const i=this.gl;return[0,0,i.drawingBufferWidth,i.drawingBufferHeight]}set(i){const h=this.current;(i[0]!==h[0]||i[1]!==h[1]||i[2]!==h[2]||i[3]!==h[3]||this.dirty)&&(this.gl.viewport(i[0],i[1],i[2],i[3]),this.current=i,this.dirty=!1)}}class si extends _n{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const h=this.gl;h.bindFramebuffer(h.FRAMEBUFFER,i),this.current=i,this.dirty=!1}}class ua extends _n{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const h=this.gl;h.bindRenderbuffer(h.RENDERBUFFER,i),this.current=i,this.dirty=!1}}class Hi extends _n{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const h=this.gl;h.bindTexture(h.TEXTURE_2D,i),this.current=i,this.dirty=!1}}class Ea extends _n{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const h=this.gl;h.bindBuffer(h.ARRAY_BUFFER,i),this.current=i,this.dirty=!1}}class vo extends _n{getDefault(){return null}set(i){const h=this.gl;h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,i),this.current=i,this.dirty=!1}}class ga extends _n{getDefault(){return null}set(i){var h;if(i===this.current&&!this.dirty)return;const p=this.gl;Ts(p)?p.bindVertexArray(i):(h=p.getExtension("OES_vertex_array_object"))===null||h===void 0||h.bindVertexArrayOES(i),this.current=i,this.dirty=!1}}class Qo extends _n{getDefault(){return 4}set(i){if(i===this.current&&!this.dirty)return;const h=this.gl;h.pixelStorei(h.UNPACK_ALIGNMENT,i),this.current=i,this.dirty=!1}}class iu extends _n{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const h=this.gl;h.pixelStorei(h.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i),this.current=i,this.dirty=!1}}class _A extends _n{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const h=this.gl;h.pixelStorei(h.UNPACK_FLIP_Y_WEBGL,i),this.current=i,this.dirty=!1}}class Gs extends _n{constructor(i,h){super(i),this.context=i,this.parent=h}getDefault(){return null}}class $s extends Gs{setDirty(){this.dirty=!0}set(i){if(i===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const h=this.gl;h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,i,0),this.current=i,this.dirty=!1}}class Xs extends Gs{set(i){if(i===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const h=this.gl;h.framebufferRenderbuffer(h.FRAMEBUFFER,h.DEPTH_ATTACHMENT,h.RENDERBUFFER,i),this.current=i,this.dirty=!1}}class No extends Gs{set(i){if(i===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const h=this.gl;h.framebufferRenderbuffer(h.FRAMEBUFFER,h.DEPTH_STENCIL_ATTACHMENT,h.RENDERBUFFER,i),this.current=i,this.dirty=!1}}class Ta{constructor(i,h,p,v,x){this.context=i,this.width=h,this.height=p;const U=i.gl,M=this.framebuffer=U.createFramebuffer();if(this.colorAttachment=new $s(i,M),v)this.depthAttachment=x?new No(i,M):new Xs(i,M);else if(x)throw new Error("Stencil cannot be set without depth");if(U.checkFramebufferStatus(U.FRAMEBUFFER)!==U.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){const i=this.context.gl,h=this.colorAttachment.get();if(h&&i.deleteTexture(h),this.depthAttachment){const p=this.depthAttachment.get();p&&i.deleteRenderbuffer(p)}i.deleteFramebuffer(this.framebuffer)}}class ei{constructor(i,h,p){this.blendFunction=i,this.blendColor=h,this.mask=p}}ei.Replace=[1,0],ei.disabled=new ei(ei.Replace,l.aM.transparent,[!1,!1,!1,!1]),ei.unblended=new ei(ei.Replace,l.aM.transparent,[!0,!0,!0,!0]),ei.alphaBlended=new ei([1,771],l.aM.transparent,[!0,!0,!0,!0]);class bA{constructor(i){var h,p;if(this.gl=i,this.clearColor=new yo(this),this.clearDepth=new nu(this),this.clearStencil=new ol(this),this.colorMask=new Kl(this),this.depthMask=new ll(this),this.stencilMask=new Nc(this),this.stencilFunc=new Al(this),this.stencilOp=new Iu(this),this.stencilTest=new j(this),this.depthRange=new fe(this),this.depthTest=new ze(this),this.depthFunc=new rt(this),this.blend=new ut(this),this.blendFunc=new Ot(this),this.blendColor=new jt(this),this.blendEquation=new yr(this),this.cullFace=new br(this),this.cullFaceSide=new tn(this),this.frontFace=new An(this),this.program=new zn(this),this.activeTexture=new Mi(this),this.viewport=new zi(this),this.bindFramebuffer=new si(this),this.bindRenderbuffer=new ua(this),this.bindTexture=new Hi(this),this.bindVertexBuffer=new Ea(this),this.bindElementBuffer=new vo(this),this.bindVertexArray=new ga(this),this.pixelStoreUnpack=new Qo(this),this.pixelStoreUnpackPremultiplyAlpha=new iu(this),this.pixelStoreUnpackFlipY=new _A(this),this.extTextureFilterAnisotropic=i.getExtension("EXT_texture_filter_anisotropic")||i.getExtension("MOZ_EXT_texture_filter_anisotropic")||i.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=i.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=i.getParameter(i.MAX_TEXTURE_SIZE),Ts(i)){this.HALF_FLOAT=i.HALF_FLOAT;const v=i.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(h=i.RGBA16F)!==null&&h!==void 0?h:v?.RGBA16F_EXT,this.RGB16F=(p=i.RGB16F)!==null&&p!==void 0?p:v?.RGB16F_EXT,i.getExtension("EXT_color_buffer_float")}else{i.getExtension("EXT_color_buffer_half_float"),i.getExtension("OES_texture_half_float_linear");const v=i.getExtension("OES_texture_half_float");this.HALF_FLOAT=v?.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(i,h){return new pa(this,i,h)}createVertexBuffer(i,h,p){return new ko(this,i,h,p)}createRenderbuffer(i,h,p){const v=this.gl,x=v.createRenderbuffer();return this.bindRenderbuffer.set(x),v.renderbufferStorage(v.RENDERBUFFER,i,h,p),this.bindRenderbuffer.set(null),x}createFramebuffer(i,h,p,v){return new Ta(this,i,h,p,v)}clear({color:i,depth:h,stencil:p}){const v=this.gl;let x=0;i&&(x|=v.COLOR_BUFFER_BIT,this.clearColor.set(i),this.colorMask.set([!0,!0,!0,!0])),h!==void 0&&(x|=v.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(h),this.depthMask.set(!0)),p!==void 0&&(x|=v.STENCIL_BUFFER_BIT,this.clearStencil.set(p),this.stencilMask.set(255)),v.clear(x)}setCullFace(i){i.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(i.mode),this.frontFace.set(i.frontFace))}setDepthMode(i){i.func!==this.gl.ALWAYS||i.mask?(this.depthTest.set(!0),this.depthFunc.set(i.func),this.depthMask.set(i.mask),this.depthRange.set(i.range)):this.depthTest.set(!1)}setStencilMode(i){i.test.func!==this.gl.ALWAYS||i.mask?(this.stencilTest.set(!0),this.stencilMask.set(i.mask),this.stencilOp.set([i.fail,i.depthFail,i.pass]),this.stencilFunc.set({func:i.test.func,ref:i.ref,mask:i.test.mask})):this.stencilTest.set(!1)}setColorMode(i){l.aE(i.blendFunction,ei.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(i.blendFunction),this.blendColor.set(i.blendColor)),this.colorMask.set(i.mask)}createVertexArray(){var i;return Ts(this.gl)?this.gl.createVertexArray():(i=this.gl.getExtension("OES_vertex_array_object"))===null||i===void 0?void 0:i.createVertexArrayOES()}deleteVertexArray(i){var h;return Ts(this.gl)?this.gl.deleteVertexArray(i):(h=this.gl.getExtension("OES_vertex_array_object"))===null||h===void 0?void 0:h.deleteVertexArrayOES(i)}unbindVAO(){this.bindVertexArray.set(null)}}class ln{constructor(i,h,p){this.func=i,this.mask=h,this.range=p}}ln.ReadOnly=!1,ln.ReadWrite=!0,ln.disabled=new ln(519,ln.ReadOnly,[0,1]);const Zs=7680;class gn{constructor(i,h,p,v,x,U){this.test=i,this.ref=h,this.mask=p,this.fail=v,this.depthFail=x,this.pass=U}}gn.disabled=new gn({func:519,mask:0},0,0,Zs,Zs,Zs);class Tn{constructor(i,h,p){this.enable=i,this.mode=h,this.frontFace=p}}let _o;function Vl(_,i,h,p,v){const x=_.context,U=x.gl,M=_.useProgram("collisionBox"),k=[];let Q=0,G=0;for(let we=0;we<p.length;we++){const Qe=p[we],Se=i.getTile(Qe).getBucket(h);if(!Se)continue;const $e=v?Se.textCollisionBox:Se.iconCollisionBox,qe=Se.collisionCircleArray;if(qe.length>0){const at=l.H();l.aQ(at,Se.placementInvProjMatrix,_.transform.glCoordMatrix),l.aQ(at,at,Se.placementViewportMatrix),k.push({circleArray:qe,circleOffset:G,transform:Qe.posMatrix,invTransform:at,coord:Qe}),Q+=qe.length/4,G=Q}$e&&M.draw(x,U.LINES,ln.disabled,gn.disabled,_.colorModeForRenderPass(),Tn.disabled,{u_matrix:Qe.posMatrix,u_pixel_extrude_scale:[1/($=_.transform).width,1/$.height]},_.style.map.terrain&&_.style.map.terrain.getTerrainData(Qe),h.id,$e.layoutVertexBuffer,$e.indexBuffer,$e.segments,null,_.transform.zoom,null,null,$e.collisionVertexBuffer)}var $;if(!v||!k.length)return;const J=_.useProgram("collisionCircle"),te=new l.aR;te.resize(4*Q),te._trim();let ue=0;for(const we of k)for(let Qe=0;Qe<we.circleArray.length/4;Qe++){const Se=4*Qe,$e=we.circleArray[Se+0],qe=we.circleArray[Se+1],at=we.circleArray[Se+2],wt=we.circleArray[Se+3];te.emplace(ue++,$e,qe,at,wt,0),te.emplace(ue++,$e,qe,at,wt,1),te.emplace(ue++,$e,qe,at,wt,2),te.emplace(ue++,$e,qe,at,wt,3)}(!_o||_o.length<2*Q)&&(_o=(function(we){const Qe=2*we,Se=new l.aT;Se.resize(Qe),Se._trim();for(let $e=0;$e<Qe;$e++){const qe=6*$e;Se.uint16[qe+0]=4*$e+0,Se.uint16[qe+1]=4*$e+1,Se.uint16[qe+2]=4*$e+2,Se.uint16[qe+3]=4*$e+2,Se.uint16[qe+4]=4*$e+3,Se.uint16[qe+5]=4*$e+0}return Se})(Q));const pe=x.createIndexBuffer(_o,!0),Be=x.createVertexBuffer(te,l.aS.members,!0);for(const we of k){const Qe=Na(we.transform,we.invTransform,_.transform);J.draw(x,U.TRIANGLES,ln.disabled,gn.disabled,_.colorModeForRenderPass(),Tn.disabled,Qe,_.style.map.terrain&&_.style.map.terrain.getTerrainData(we.coord),h.id,Be,pe,l.a0.simpleSegment(0,2*we.circleOffset,we.circleArray.length,we.circleArray.length/2),null,_.transform.zoom,null,null,null)}Be.destroy(),pe.destroy()}Tn.disabled=new Tn(!1,1029,2305),Tn.backCCW=new Tn(!0,1029,2305);const za=l.an(new Float32Array(16));function Ws(_,i,h,p,v,x){const{horizontalAlign:U,verticalAlign:M}=l.au(_);return new l.P((-(U-.5)*i/v+p[0])*x,(-(M-.5)*h/v+p[1])*x)}function ss(_,i,h,p,v,x){const U=i.tileAnchorPoint.add(new l.P(i.translation[0],i.translation[1]));if(i.pitchWithMap){let M=p.mult(x);h||(M=M.rotate(-v));const k=U.add(M);return Ue(k.x,k.y,i.labelPlaneMatrix,i.getElevation).point}if(h){const M=yt(i.tileAnchorPoint.x+1,i.tileAnchorPoint.y,i).point.sub(_),k=Math.atan(M.y/M.x)+(M.x<0?Math.PI:0);return _.add(p.rotate(k))}return _.add(p)}function ul(_,i,h,p,v,x,U,M,k,Q,G,$,J,te){const ue=_.text.placedSymbolArray,pe=_.text.dynamicLayoutVertexArray,Be=_.icon.dynamicLayoutVertexArray,we={};pe.clear();for(let Qe=0;Qe<ue.length;Qe++){const Se=ue.get(Qe),$e=Se.hidden||!Se.crossTileID||_.allowVerticalPlacement&&!Se.placedOrientation?null:p[Se.crossTileID];if($e){const qe=new l.P(Se.anchorX,Se.anchorY),at={getElevation:te,width:v.width,height:v.height,labelPlaneMatrix:x,pitchWithMap:h,projection:G,tileAnchorPoint:qe,translation:$,unwrappedTileID:J},wt=h?Ue(qe.x,qe.y,U,te):yt(qe.x,qe.y,at),St=oe(v.cameraToCenterDistance,wt.signedDistanceFromCamera);let _t=l.ai(_.textSizeData,k,Se)*St/l.ap;h&&(_t*=_.tilePixelRatio/M);const{width:mt,height:Qt,anchor:Et,textOffset:zt,textBoxScale:tr}=$e,Vt=Ws(Et,mt,Qt,zt,tr,_t),$t=G.getPitchedTextCorrection(v,qe.add(new l.P($[0],$[1])),J),rr=ss(wt.point,at,i,Vt,v.angle,$t),un=_.allowVerticalPlacement&&Se.placedOrientation===l.ah.vertical?Math.PI/2:0;for(let Ir=0;Ir<Se.numGlyphs;Ir++)l.aj(pe,rr,un);Q&&Se.associatedIconIndex>=0&&(we[Se.associatedIconIndex]={shiftedAnchor:rr,angle:un})}else dr(Se.numGlyphs,pe)}if(Q){Be.clear();const Qe=_.icon.placedSymbolArray;for(let Se=0;Se<Qe.length;Se++){const $e=Qe.get(Se);if($e.hidden)dr($e.numGlyphs,Be);else{const qe=we[Se];if(qe)for(let at=0;at<$e.numGlyphs;at++)l.aj(Be,qe.shiftedAnchor,qe.angle);else dr($e.numGlyphs,Be)}}_.icon.dynamicLayoutVertexBuffer.updateData(Be)}_.text.dynamicLayoutVertexBuffer.updateData(pe)}function ji(_,i,h){return h.iconsInText&&i?"symbolTextAndIcon":_?"symbolSDF":"symbolIcon"}function cl(_,i,h,p,v,x,U,M,k,Q,G,$){const J=_.context,te=J.gl,ue=_.transform,pe=il(),Be=M==="map",we=k==="map",Qe=M!=="viewport"&&h.layout.get("symbol-placement")!=="point",Se=Be&&!we&&!Qe,$e=!we&&Qe,qe=!h.layout.get("symbol-sort-key").isConstant();let at=!1;const wt=_.depthModeForSublayer(0,ln.ReadOnly),St=h._unevaluatedLayout.hasValue("text-variable-anchor")||h._unevaluatedLayout.hasValue("text-variable-anchor-offset"),_t=[],mt=pe.getCircleRadiusCorrection(ue);for(const Qt of p){const Et=i.getTile(Qt),zt=Et.getBucket(h);if(!zt)continue;const tr=v?zt.text:zt.icon;if(!tr||!tr.segments.get().length||!tr.hasVisibleVertices)continue;const Vt=tr.programConfigurations.get(h.id),$t=v||zt.sdfIcons,rr=v?zt.textSizeData:zt.iconSizeData,un=we||ue.pitch!==0,Ir=_.useProgram(ji($t,v,zt),Vt),Lr=l.ag(rr,ue.zoom),wr=_.style.map.terrain&&_.style.map.terrain.getTerrainData(Qt);let an,Hn,Dr,qn,In=[0,0],sn=null;if(v)Hn=Et.glyphAtlasTexture,Dr=te.LINEAR,an=Et.glyphAtlasTexture.size,zt.iconsInText&&(In=Et.imageAtlasTexture.size,sn=Et.imageAtlasTexture,qn=un||_.options.rotating||_.options.zooming||rr.kind==="composite"||rr.kind==="camera"?te.LINEAR:te.NEAREST);else{const cn=h.layout.get("icon-size").constantOr(0)!==1||zt.iconsNeedLinear;Hn=Et.imageAtlasTexture,Dr=$t||_.options.rotating||_.options.zooming||cn||un?te.LINEAR:te.NEAREST,an=Et.imageAtlasTexture.size}const On=zr(Et,1,_.transform.zoom),Cn=$e?Qt.posMatrix:za,xi=kn(Cn,we,Be,_.transform,On),Di=Gr(Cn,we,Be,_.transform,On),Gn=Gr(Qt.posMatrix,we,Be,_.transform,On),fn=pe.translatePosition(_.transform,Et,x,U),_a=St&&zt.hasTextData(),Ei=h.layout.get("icon-text-fit")!=="none"&&_a&&zt.hasIconData();if(Qe){const cn=_.style.map.terrain?(Yl,Zn)=>_.style.map.terrain.getElevation(Qt,Yl,Zn):null,Os=h.layout.get("text-rotation-alignment")==="map";_e(zt,Qt.posMatrix,_,v,xi,Gn,we,Q,Os,pe,Qt.toUnwrapped(),ue.width,ue.height,fn,cn)}const mr=Qt.posMatrix,vr=v&&St||Ei,xn=Qe||vr?za:xi,Ti=Di,ni=$t&&h.paint.get(v?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let Wn;Wn=$t?zt.iconsInText?Es(rr.kind,Lr,Se,we,Qe,vr,_,mr,xn,Ti,fn,an,In,mt):yA(rr.kind,Lr,Se,we,Qe,vr,_,mr,xn,Ti,fn,v,an,!0,mt):Do(rr.kind,Lr,Se,we,Qe,vr,_,mr,xn,Ti,fn,v,an,mt);const $n={program:Ir,buffers:tr,uniformValues:Wn,atlasTexture:Hn,atlasTextureIcon:sn,atlasInterpolation:Dr,atlasInterpolationIcon:qn,isSDF:$t,hasHalo:ni};if(qe&&zt.canOverlap){at=!0;const cn=tr.segments.get();for(const Os of cn)_t.push({segments:new l.a0([Os]),sortKey:Os.sortKey,state:$n,terrainData:wr})}else _t.push({segments:tr.segments,sortKey:0,state:$n,terrainData:wr})}at&&_t.sort(((Qt,Et)=>Qt.sortKey-Et.sortKey));for(const Qt of _t){const Et=Qt.state;if(J.activeTexture.set(te.TEXTURE0),Et.atlasTexture.bind(Et.atlasInterpolation,te.CLAMP_TO_EDGE),Et.atlasTextureIcon&&(J.activeTexture.set(te.TEXTURE1),Et.atlasTextureIcon&&Et.atlasTextureIcon.bind(Et.atlasInterpolationIcon,te.CLAMP_TO_EDGE)),Et.isSDF){const zt=Et.uniformValues;Et.hasHalo&&(zt.u_is_halo=1,Ga(Et.buffers,Qt.segments,h,_,Et.program,wt,G,$,zt,Qt.terrainData)),zt.u_is_halo=0}Ga(Et.buffers,Qt.segments,h,_,Et.program,wt,G,$,Et.uniformValues,Qt.terrainData)}}function Ga(_,i,h,p,v,x,U,M,k,Q){const G=p.context;v.draw(G,G.gl.TRIANGLES,x,U,M,Tn.disabled,k,Q,h.id,_.layoutVertexBuffer,_.indexBuffer,i,h.paint,p.transform.zoom,_.programConfigurations.get(h.id),_.dynamicLayoutVertexBuffer,_.opacityVertexBuffer)}function Ha(_,i,h,p){const v=_.context,x=v.gl,U=gn.disabled,M=new ei([x.ONE,x.ONE],l.aM.transparent,[!0,!0,!0,!0]),k=i.getBucket(h);if(!k)return;const Q=p.key;let G=h.heatmapFbos.get(Q);G||(G=Is(v,i.tileSize,i.tileSize),h.heatmapFbos.set(Q,G)),v.bindFramebuffer.set(G.framebuffer),v.viewport.set([0,0,i.tileSize,i.tileSize]),v.clear({color:l.aM.transparent});const $=k.programConfigurations.get(h.id),J=_.useProgram("heatmap",$),te=_.style.map.terrain.getTerrainData(p);J.draw(v,x.TRIANGLES,ln.disabled,U,M,Tn.disabled,Zi(p.posMatrix,i,_.transform.zoom,h.paint.get("heatmap-intensity")),te,h.id,k.layoutVertexBuffer,k.indexBuffer,k.segments,h.paint,_.transform.zoom,$)}function $a(_,i,h){const p=_.context,v=p.gl;p.setColorMode(_.colorModeForRenderPass());const x=Ys(p,i),U=h.key,M=i.heatmapFbos.get(U);M&&(p.activeTexture.set(v.TEXTURE0),v.bindTexture(v.TEXTURE_2D,M.colorAttachment.get()),p.activeTexture.set(v.TEXTURE1),x.bind(v.LINEAR,v.CLAMP_TO_EDGE),_.useProgram("heatmapTexture").draw(p,v.TRIANGLES,ln.disabled,gn.disabled,_.colorModeForRenderPass(),Tn.disabled,jr(_,i,0,1),null,i.id,_.rasterBoundsBuffer,_.quadTriangleIndexBuffer,_.rasterBoundsSegments,i.paint,_.transform.zoom),M.destroy(),i.heatmapFbos.delete(U))}function Is(_,i,h){var p,v;const x=_.gl,U=x.createTexture();x.bindTexture(x.TEXTURE_2D,U),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_S,x.CLAMP_TO_EDGE),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_T,x.CLAMP_TO_EDGE),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MIN_FILTER,x.LINEAR),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MAG_FILTER,x.LINEAR);const M=(p=_.HALF_FLOAT)!==null&&p!==void 0?p:x.UNSIGNED_BYTE,k=(v=_.RGBA16F)!==null&&v!==void 0?v:x.RGBA;x.texImage2D(x.TEXTURE_2D,0,k,i,h,0,x.RGBA,M,null);const Q=_.createFramebuffer(i,h,!1,!1);return Q.colorAttachment.set(U),Q}function Ys(_,i){return i.colorRampTexture||(i.colorRampTexture=new ie(_,i.colorRamp,_.gl.RGBA)),i.colorRampTexture}function Ro(_,i,h,p,v){if(!h||!p||!p.imageAtlas)return;const x=p.imageAtlas.patternPositions;let U=x[h.to.toString()],M=x[h.from.toString()];if(!U&&M&&(U=M),!M&&U&&(M=U),!U||!M){const k=v.getPaintProperty(i);U=x[k],M=x[k]}U&&M&&_.setConstantPatternPositions(U,M)}function hl(_,i,h,p,v,x,U){const M=_.context.gl,k="fill-pattern",Q=h.paint.get(k),G=Q&&Q.constantOr(1),$=h.getCrossfadeParameters();let J,te,ue,pe,Be;U?(te=G&&!h.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",J=M.LINES):(te=G?"fillPattern":"fill",J=M.TRIANGLES);const we=Q.constantOr(null);for(const Qe of p){const Se=i.getTile(Qe);if(G&&!Se.patternsLoaded())continue;const $e=Se.getBucket(h);if(!$e)continue;const qe=$e.programConfigurations.get(h.id),at=_.useProgram(te,qe),wt=_.style.map.terrain&&_.style.map.terrain.getTerrainData(Qe);G&&(_.context.activeTexture.set(M.TEXTURE0),Se.imageAtlasTexture.bind(M.LINEAR,M.CLAMP_TO_EDGE),qe.updatePaintBuffers($)),Ro(qe,k,we,Se,h);const St=wt?Qe:null,_t=_.translatePosMatrix(St?St.posMatrix:Qe.posMatrix,Se,h.paint.get("fill-translate"),h.paint.get("fill-translate-anchor"));if(U){pe=$e.indexBuffer2,Be=$e.segments2;const mt=[M.drawingBufferWidth,M.drawingBufferHeight];ue=te==="fillOutlinePattern"&&G?Ac(_t,_,$,Se,mt):lc(_t,mt)}else pe=$e.indexBuffer,Be=$e.segments,ue=G?Eu(_t,_,$,Se):Hl(_t);at.draw(_.context,J,v,_.stencilModeForClipping(Qe),x,Tn.disabled,ue,wt,h.id,$e.layoutVertexBuffer,pe,Be,h.paint,_.transform.zoom,qe)}}function Ci(_,i,h,p,v,x,U){const M=_.context,k=M.gl,Q="fill-extrusion-pattern",G=h.paint.get(Q),$=G.constantOr(1),J=h.getCrossfadeParameters(),te=h.paint.get("fill-extrusion-opacity"),ue=G.constantOr(null);for(const pe of p){const Be=i.getTile(pe),we=Be.getBucket(h);if(!we)continue;const Qe=_.style.map.terrain&&_.style.map.terrain.getTerrainData(pe),Se=we.programConfigurations.get(h.id),$e=_.useProgram($?"fillExtrusionPattern":"fillExtrusion",Se);$&&(_.context.activeTexture.set(k.TEXTURE0),Be.imageAtlasTexture.bind(k.LINEAR,k.CLAMP_TO_EDGE),Se.updatePaintBuffers(J)),Ro(Se,Q,ue,Be,h);const qe=_.translatePosMatrix(pe.posMatrix,Be,h.paint.get("fill-extrusion-translate"),h.paint.get("fill-extrusion-translate-anchor")),at=h.paint.get("fill-extrusion-vertical-gradient"),wt=$?eu(qe,_,at,te,pe,J,Be):Oo(qe,_,at,te);$e.draw(M,M.gl.TRIANGLES,v,x,U,Tn.backCCW,wt,Qe,h.id,we.layoutVertexBuffer,we.indexBuffer,we.segments,h.paint,_.transform.zoom,Se,_.style.map.terrain&&we.centroidVertexBuffer)}}function ql(_,i,h,p,v,x,U){const M=_.context,k=M.gl,Q=h.fbo;if(!Q)return;const G=_.useProgram("hillshade"),$=_.style.map.terrain&&_.style.map.terrain.getTerrainData(i);M.activeTexture.set(k.TEXTURE0),k.bindTexture(k.TEXTURE_2D,Q.colorAttachment.get()),G.draw(M,k.TRIANGLES,v,x,U,Tn.disabled,((J,te,ue,pe)=>{const Be=ue.paint.get("hillshade-shadow-color"),we=ue.paint.get("hillshade-highlight-color"),Qe=ue.paint.get("hillshade-accent-color");let Se=ue.paint.get("hillshade-illumination-direction")*(Math.PI/180);ue.paint.get("hillshade-illumination-anchor")==="viewport"&&(Se-=J.transform.angle);const $e=!J.options.moving;return{u_matrix:pe?pe.posMatrix:J.transform.calculatePosMatrix(te.tileID.toUnwrapped(),$e),u_image:0,u_latrange:tu(0,te.tileID),u_light:[ue.paint.get("hillshade-exaggeration"),Se],u_shadow:Be,u_highlight:we,u_accent:Qe}})(_,h,p,$?i:null),$,p.id,_.rasterBoundsBuffer,_.quadTriangleIndexBuffer,_.rasterBoundsSegments)}function os(_,i,h,p,v,x){const U=_.context,M=U.gl,k=i.dem;if(k&&k.data){const Q=k.dim,G=k.stride,$=k.getPixels();if(U.activeTexture.set(M.TEXTURE1),U.pixelStoreUnpackPremultiplyAlpha.set(!1),i.demTexture=i.demTexture||_.getTileTexture(G),i.demTexture){const te=i.demTexture;te.update($,{premultiply:!1}),te.bind(M.NEAREST,M.CLAMP_TO_EDGE)}else i.demTexture=new ie(U,$,M.RGBA,{premultiply:!1}),i.demTexture.bind(M.NEAREST,M.CLAMP_TO_EDGE);U.activeTexture.set(M.TEXTURE0);let J=i.fbo;if(!J){const te=new ie(U,{width:Q,height:Q,data:null},M.RGBA);te.bind(M.LINEAR,M.CLAMP_TO_EDGE),J=i.fbo=U.createFramebuffer(Q,Q,!0,!1),J.colorAttachment.set(te.texture)}U.bindFramebuffer.set(J.framebuffer),U.viewport.set([0,0,Q,Q]),_.useProgram("hillshadePrepare").draw(U,M.TRIANGLES,p,v,x,Tn.disabled,((te,ue)=>{const pe=ue.stride,Be=l.H();return l.aP(Be,0,l.X,-l.X,0,0,1),l.J(Be,Be,[0,-l.X,0]),{u_matrix:Be,u_image:1,u_dimension:[pe,pe],u_zoom:te.overscaledZ,u_unpack:ue.getUnpackVector()}})(i.tileID,k),null,h.id,_.rasterBoundsBuffer,_.quadTriangleIndexBuffer,_.rasterBoundsSegments),i.needsHillshadePrepare=!1}}function zo(_,i,h,p,v,x){const U=p.paint.get("raster-fade-duration");if(!x&&U>0){const M=S.now(),k=(M-_.timeAdded)/U,Q=i?(M-i.timeAdded)/U:-1,G=h.getSource(),$=v.coveringZoomLevel({tileSize:G.tileSize,roundZoom:G.roundZoom}),J=!i||Math.abs(i.tileID.overscaledZ-$)>Math.abs(_.tileID.overscaledZ-$),te=J&&_.refreshedUponExpiration?1:l.ac(J?k:1-Q,0,1);return _.refreshedUponExpiration&&k>=1&&(_.refreshedUponExpiration=!1),i?{opacity:1,mix:1-te}:{opacity:te,mix:0}}return{opacity:1,mix:0}}const ma=new l.aM(1,0,0,1),dn=new l.aM(0,1,0,1),Gl=new l.aM(0,0,1,1),Fu=new l.aM(1,0,1,1),fl=new l.aM(0,1,1,1);function Fs(_,i,h,p){dl(_,0,i+h/2,_.transform.width,h,p)}function Ho(_,i,h,p){dl(_,i-h/2,0,h,_.transform.height,p)}function dl(_,i,h,p,v,x){const U=_.context,M=U.gl;M.enable(M.SCISSOR_TEST),M.scissor(i*_.pixelRatio,h*_.pixelRatio,p*_.pixelRatio,v*_.pixelRatio),U.clear({color:x}),M.disable(M.SCISSOR_TEST)}function Us(_,i,h){const p=_.context,v=p.gl,x=h.posMatrix,U=_.useProgram("debug"),M=ln.disabled,k=gn.disabled,Q=_.colorModeForRenderPass(),G="$debug",$=_.style.map.terrain&&_.style.map.terrain.getTerrainData(h);p.activeTexture.set(v.TEXTURE0);const J=i.getTileByID(h.key).latestRawTileData,te=Math.floor((J&&J.byteLength||0)/1024),ue=i.getTile(h).tileSize,pe=512/Math.min(ue,512)*(h.overscaledZ/_.transform.zoom)*.5;let Be=h.canonical.toString();h.overscaledZ!==h.canonical.z&&(Be+=` => ${h.overscaledZ}`),(function(we,Qe){we.initDebugOverlayCanvas();const Se=we.debugOverlayCanvas,$e=we.context.gl,qe=we.debugOverlayCanvas.getContext("2d");qe.clearRect(0,0,Se.width,Se.height),qe.shadowColor="white",qe.shadowBlur=2,qe.lineWidth=1.5,qe.strokeStyle="white",qe.textBaseline="top",qe.font="bold 36px Open Sans, sans-serif",qe.fillText(Qe,5,5),qe.strokeText(Qe,5,5),we.debugOverlayTexture.update(Se),we.debugOverlayTexture.bind($e.LINEAR,$e.CLAMP_TO_EDGE)})(_,`${Be} ${te}kB`),U.draw(p,v.TRIANGLES,M,k,ei.alphaBlended,Tn.disabled,Vs(x,l.aM.transparent,pe),null,G,_.debugBuffer,_.quadTriangleIndexBuffer,_.debugSegments),U.draw(p,v.LINE_STRIP,M,k,Q,Tn.disabled,Vs(x,l.aM.red),$,G,_.debugBuffer,_.tileBorderIndexBuffer,_.debugSegments)}function pl(_,i,h){const p=_.context,v=p.gl,x=_.colorModeForRenderPass(),U=new ln(v.LEQUAL,ln.ReadWrite,_.depthRangeFor3D),M=_.useProgram("terrain"),k=i.getTerrainMesh();p.bindFramebuffer.set(null),p.viewport.set([0,0,_.width,_.height]);for(const Q of h){const G=_.renderToTexture.getTexture(Q),$=i.getTerrainData(Q.tileID);p.activeTexture.set(v.TEXTURE0),v.bindTexture(v.TEXTURE_2D,G.texture);const J=_.transform.calculatePosMatrix(Q.tileID.toUnwrapped()),te=i.getMeshFrameDelta(_.transform.zoom),ue=_.transform.calculateFogMatrix(Q.tileID.toUnwrapped()),pe=Qa(J,te,ue,_.style.sky,_.transform.pitch);M.draw(p,v.TRIANGLES,U,gn.disabled,x,Tn.backCCW,pe,$,"terrain",k.vertexBuffer,k.indexBuffer,k.segments)}}class ya{constructor(i,h,p){this.vertexBuffer=i,this.indexBuffer=h,this.segments=p}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.vertexBuffer=null,this.indexBuffer=null,this.segments=null}}class ls{constructor(i,h){this.context=new bA(i),this.transform=h,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:l.an(new Float64Array(16)),renderTime:0},this.setup(),this.numSublayers=Gt.maxUnderzooming+Gt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new al}resize(i,h,p){if(this.width=Math.floor(i*p),this.height=Math.floor(h*p),this.pixelRatio=p,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const v of this.style._order)this.style._layers[v].resize()}setup(){const i=this.context,h=new l.aX;h.emplaceBack(0,0),h.emplaceBack(l.X,0),h.emplaceBack(0,l.X),h.emplaceBack(l.X,l.X),this.tileExtentBuffer=i.createVertexBuffer(h,ui.members),this.tileExtentSegments=l.a0.simpleSegment(0,0,4,2);const p=new l.aX;p.emplaceBack(0,0),p.emplaceBack(l.X,0),p.emplaceBack(0,l.X),p.emplaceBack(l.X,l.X),this.debugBuffer=i.createVertexBuffer(p,ui.members),this.debugSegments=l.a0.simpleSegment(0,0,4,5);const v=new l.$;v.emplaceBack(0,0,0,0),v.emplaceBack(l.X,0,l.X,0),v.emplaceBack(0,l.X,0,l.X),v.emplaceBack(l.X,l.X,l.X,l.X),this.rasterBoundsBuffer=i.createVertexBuffer(v,Tr.members),this.rasterBoundsSegments=l.a0.simpleSegment(0,0,4,2);const x=new l.aX;x.emplaceBack(0,0),x.emplaceBack(1,0),x.emplaceBack(0,1),x.emplaceBack(1,1),this.viewportBuffer=i.createVertexBuffer(x,ui.members),this.viewportSegments=l.a0.simpleSegment(0,0,4,2);const U=new l.aZ;U.emplaceBack(0),U.emplaceBack(1),U.emplaceBack(3),U.emplaceBack(2),U.emplaceBack(0),this.tileBorderIndexBuffer=i.createIndexBuffer(U);const M=new l.aY;M.emplaceBack(0,1,2),M.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=i.createIndexBuffer(M);const k=this.context.gl;this.stencilClearMode=new gn({func:k.ALWAYS,mask:0},0,255,k.ZERO,k.ZERO,k.ZERO)}clearStencil(){const i=this.context,h=i.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const p=l.H();l.aP(p,0,this.width,this.height,0,0,1),l.K(p,p,[h.drawingBufferWidth,h.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(i,h.TRIANGLES,ln.disabled,this.stencilClearMode,ei.disabled,Tn.disabled,la(p),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(i,h){if(this.currentStencilSource===i.source||!i.isTileClipped()||!h||!h.length)return;this.currentStencilSource=i.source;const p=this.context,v=p.gl;this.nextStencilID+h.length>256&&this.clearStencil(),p.setColorMode(ei.disabled),p.setDepthMode(ln.disabled);const x=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const U of h){const M=this._tileClippingMaskIDs[U.key]=this.nextStencilID++,k=this.style.map.terrain&&this.style.map.terrain.getTerrainData(U);x.draw(p,v.TRIANGLES,ln.disabled,new gn({func:v.ALWAYS,mask:0},M,255,v.KEEP,v.KEEP,v.REPLACE),ei.disabled,Tn.disabled,la(U.posMatrix),k,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const i=this.nextStencilID++,h=this.context.gl;return new gn({func:h.NOTEQUAL,mask:255},i,255,h.KEEP,h.KEEP,h.REPLACE)}stencilModeForClipping(i){const h=this.context.gl;return new gn({func:h.EQUAL,mask:255},this._tileClippingMaskIDs[i.key],0,h.KEEP,h.KEEP,h.REPLACE)}stencilConfigForOverlap(i){const h=this.context.gl,p=i.sort(((U,M)=>M.overscaledZ-U.overscaledZ)),v=p[p.length-1].overscaledZ,x=p[0].overscaledZ-v+1;if(x>1){this.currentStencilSource=void 0,this.nextStencilID+x>256&&this.clearStencil();const U={};for(let M=0;M<x;M++)U[M+v]=new gn({func:h.GEQUAL,mask:255},M+this.nextStencilID,255,h.KEEP,h.KEEP,h.REPLACE);return this.nextStencilID+=x,[U,p]}return[{[v]:gn.disabled},p]}colorModeForRenderPass(){const i=this.context.gl;return this._showOverdrawInspector?new ei([i.CONSTANT_COLOR,i.ONE],new l.aM(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?ei.unblended:ei.alphaBlended}depthModeForSublayer(i,h,p){if(!this.opaquePassEnabledForLayer())return ln.disabled;const v=1-((1+this.currentLayer)*this.numSublayers+i)*this.depthEpsilon;return new ln(p||this.context.gl.LEQUAL,h,[v,v])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(i,h){this.style=i,this.options=h,this.lineAtlas=i.lineAtlas,this.imageManager=i.imageManager,this.glyphManager=i.glyphManager,this.symbolFadeChange=i.placement.symbolFadeChange(S.now()),this.imageManager.beginFrame();const p=this.style._order,v=this.style.sourceCaches,x={},U={},M={};for(const k in v){const Q=v[k];Q.used&&Q.prepare(this.context),x[k]=Q.getVisibleCoordinates(),U[k]=x[k].slice().reverse(),M[k]=Q.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let k=0;k<p.length;k++)if(this.style._layers[p[k]].is3D()){this.opaquePassCutoff=k;break}this.maybeDrawDepthAndCoords(!1),this.renderToTexture&&(this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0),this.renderPass="offscreen";for(const k of p){const Q=this.style._layers[k];if(!Q.hasOffscreenPass()||Q.isHidden(this.transform.zoom))continue;const G=U[Q.source];(Q.type==="custom"||G.length)&&this.renderLayer(this,v[Q.source],Q,G)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:h.showOverdrawInspector?l.aM.black:l.aM.transparent,depth:1}),this.clearStencil(),this.style.sky&&(function(k,Q){const G=k.context,$=G.gl,J=((we,Qe,Se)=>({u_sky_color:we.properties.get("sky-color"),u_horizon_color:we.properties.get("horizon-color"),u_horizon:(Qe.height/2+Qe.getHorizon())*Se,u_sky_horizon_blend:we.properties.get("sky-horizon-blend")*Qe.height/2*Se}))(Q,k.style.map.transform,k.pixelRatio),te=new ln($.LEQUAL,ln.ReadWrite,[0,1]),ue=gn.disabled,pe=k.colorModeForRenderPass(),Be=k.useProgram("sky");if(!Q.mesh){const we=new l.aX;we.emplaceBack(-1,-1),we.emplaceBack(1,-1),we.emplaceBack(1,1),we.emplaceBack(-1,1);const Qe=new l.aY;Qe.emplaceBack(0,1,2),Qe.emplaceBack(0,2,3),Q.mesh=new ya(G.createVertexBuffer(we,ui.members),G.createIndexBuffer(Qe),l.a0.simpleSegment(0,0,we.length,Qe.length))}Be.draw(G,$.TRIANGLES,te,ue,pe,Tn.disabled,J,void 0,"sky",Q.mesh.vertexBuffer,Q.mesh.indexBuffer,Q.mesh.segments)})(this,this.style.sky),this._showOverdrawInspector=h.showOverdrawInspector,this.depthRangeFor3D=[0,1-(i._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=p.length-1;this.currentLayer>=0;this.currentLayer--){const k=this.style._layers[p[this.currentLayer]],Q=v[k.source],G=x[k.source];this._renderTileClippingMasks(k,G),this.renderLayer(this,Q,k,G)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<p.length;this.currentLayer++){const k=this.style._layers[p[this.currentLayer]],Q=v[k.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(k))continue;const G=(k.type==="symbol"?M:U)[k.source];this._renderTileClippingMasks(k,x[k.source]),this.renderLayer(this,Q,k,G)}if(this.options.showTileBoundaries){const k=(function(Q,G){let $=null;const J=Object.values(Q._layers).flatMap((Be=>Be.source&&!Be.isHidden(G)?[Q.sourceCaches[Be.source]]:[])),te=J.filter((Be=>Be.getSource().type==="vector")),ue=J.filter((Be=>Be.getSource().type!=="vector")),pe=Be=>{(!$||$.getSource().maxzoom<Be.getSource().maxzoom)&&($=Be)};return te.forEach((Be=>pe(Be))),$||ue.forEach((Be=>pe(Be))),$})(this.style,this.transform.zoom);k&&(function(Q,G,$){for(let J=0;J<$.length;J++)Us(Q,G,$[J])})(this,k,k.getVisibleCoordinates())}this.options.showPadding&&(function(k){const Q=k.transform.padding;Fs(k,k.transform.height-(Q.top||0),3,ma),Fs(k,Q.bottom||0,3,dn),Ho(k,Q.left||0,3,Gl),Ho(k,k.transform.width-(Q.right||0),3,Fu);const G=k.transform.centerPoint;(function($,J,te,ue){dl($,J-1,te-10,2,20,ue),dl($,J-10,te-1,20,2,ue)})(k,G.x,k.transform.height-G.y,fl)})(this),this.context.setDefault()}maybeDrawDepthAndCoords(i){if(!this.style||!this.style.map||!this.style.map.terrain)return;const h=this.terrainFacilitator.matrix,p=this.transform.modelViewProjectionMatrix;let v=this.terrainFacilitator.dirty;v||(v=i?!l.a_(h,p):!l.a$(h,p)),v||(v=this.style.map.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime).length>0),v&&(l.b0(h,p),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,(function(x,U){const M=x.context,k=M.gl,Q=ei.unblended,G=new ln(k.LEQUAL,ln.ReadWrite,[0,1]),$=U.getTerrainMesh(),J=U.sourceCache.getRenderableTiles(),te=x.useProgram("terrainDepth");M.bindFramebuffer.set(U.getFramebuffer("depth").framebuffer),M.viewport.set([0,0,x.width/devicePixelRatio,x.height/devicePixelRatio]),M.clear({color:l.aM.transparent,depth:1});for(const ue of J){const pe=U.getTerrainData(ue.tileID),Be={u_matrix:x.transform.calculatePosMatrix(ue.tileID.toUnwrapped()),u_ele_delta:U.getMeshFrameDelta(x.transform.zoom)};te.draw(M,k.TRIANGLES,G,gn.disabled,Q,Tn.backCCW,Be,pe,"terrain",$.vertexBuffer,$.indexBuffer,$.segments)}M.bindFramebuffer.set(null),M.viewport.set([0,0,x.width,x.height])})(this,this.style.map.terrain),(function(x,U){const M=x.context,k=M.gl,Q=ei.unblended,G=new ln(k.LEQUAL,ln.ReadWrite,[0,1]),$=U.getTerrainMesh(),J=U.getCoordsTexture(),te=U.sourceCache.getRenderableTiles(),ue=x.useProgram("terrainCoords");M.bindFramebuffer.set(U.getFramebuffer("coords").framebuffer),M.viewport.set([0,0,x.width/devicePixelRatio,x.height/devicePixelRatio]),M.clear({color:l.aM.transparent,depth:1}),U.coordsIndex=[];for(const pe of te){const Be=U.getTerrainData(pe.tileID);M.activeTexture.set(k.TEXTURE0),k.bindTexture(k.TEXTURE_2D,J.texture);const we={u_matrix:x.transform.calculatePosMatrix(pe.tileID.toUnwrapped()),u_terrain_coords_id:(255-U.coordsIndex.length)/255,u_texture:0,u_ele_delta:U.getMeshFrameDelta(x.transform.zoom)};ue.draw(M,k.TRIANGLES,G,gn.disabled,Q,Tn.backCCW,we,Be,"terrain",$.vertexBuffer,$.indexBuffer,$.segments),U.coordsIndex.push(pe.tileID.key)}M.bindFramebuffer.set(null),M.viewport.set([0,0,x.width,x.height])})(this,this.style.map.terrain))}renderLayer(i,h,p,v){if(!p.isHidden(this.transform.zoom)&&(p.type==="background"||p.type==="custom"||(v||[]).length))switch(this.id=p.id,p.type){case"symbol":(function(x,U,M,k,Q){if(x.renderPass!=="translucent")return;const G=gn.disabled,$=x.colorModeForRenderPass();(M._unevaluatedLayout.hasValue("text-variable-anchor")||M._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&(function(J,te,ue,pe,Be,we,Qe,Se,$e){const qe=te.transform,at=il(),wt=Be==="map",St=we==="map";for(const _t of J){const mt=pe.getTile(_t),Qt=mt.getBucket(ue);if(!Qt||!Qt.text||!Qt.text.segments.get().length)continue;const Et=l.ag(Qt.textSizeData,qe.zoom),zt=zr(mt,1,te.transform.zoom),tr=kn(_t.posMatrix,St,wt,te.transform,zt),Vt=ue.layout.get("icon-text-fit")!=="none"&&Qt.hasIconData();if(Et){const $t=Math.pow(2,qe.zoom-mt.tileID.overscaledZ),rr=te.style.map.terrain?(Ir,Lr)=>te.style.map.terrain.getElevation(_t,Ir,Lr):null,un=at.translatePosition(qe,mt,Qe,Se);ul(Qt,wt,St,$e,qe,tr,_t.posMatrix,$t,Et,Vt,at,un,_t.toUnwrapped(),rr)}}})(k,x,M,U,M.layout.get("text-rotation-alignment"),M.layout.get("text-pitch-alignment"),M.paint.get("text-translate"),M.paint.get("text-translate-anchor"),Q),M.paint.get("icon-opacity").constantOr(1)!==0&&cl(x,U,M,k,!1,M.paint.get("icon-translate"),M.paint.get("icon-translate-anchor"),M.layout.get("icon-rotation-alignment"),M.layout.get("icon-pitch-alignment"),M.layout.get("icon-keep-upright"),G,$),M.paint.get("text-opacity").constantOr(1)!==0&&cl(x,U,M,k,!0,M.paint.get("text-translate"),M.paint.get("text-translate-anchor"),M.layout.get("text-rotation-alignment"),M.layout.get("text-pitch-alignment"),M.layout.get("text-keep-upright"),G,$),U.map.showCollisionBoxes&&(Vl(x,U,M,k,!0),Vl(x,U,M,k,!1))})(i,h,p,v,this.style.placement.variableOffsets);break;case"circle":(function(x,U,M,k){if(x.renderPass!=="translucent")return;const Q=M.paint.get("circle-opacity"),G=M.paint.get("circle-stroke-width"),$=M.paint.get("circle-stroke-opacity"),J=!M.layout.get("circle-sort-key").isConstant();if(Q.constantOr(1)===0&&(G.constantOr(1)===0||$.constantOr(1)===0))return;const te=x.context,ue=te.gl,pe=x.depthModeForSublayer(0,ln.ReadOnly),Be=gn.disabled,we=x.colorModeForRenderPass(),Qe=[];for(let Se=0;Se<k.length;Se++){const $e=k[Se],qe=U.getTile($e),at=qe.getBucket(M);if(!at)continue;const wt=at.programConfigurations.get(M.id),St=x.useProgram("circle",wt),_t=at.layoutVertexBuffer,mt=at.indexBuffer,Qt=x.style.map.terrain&&x.style.map.terrain.getTerrainData($e),Et={programConfiguration:wt,program:St,layoutVertexBuffer:_t,indexBuffer:mt,uniformValues:Ss(x,$e,qe,M),terrainData:Qt};if(J){const zt=at.segments.get();for(const tr of zt)Qe.push({segments:new l.a0([tr]),sortKey:tr.sortKey,state:Et})}else Qe.push({segments:at.segments,sortKey:0,state:Et})}J&&Qe.sort(((Se,$e)=>Se.sortKey-$e.sortKey));for(const Se of Qe){const{programConfiguration:$e,program:qe,layoutVertexBuffer:at,indexBuffer:wt,uniformValues:St,terrainData:_t}=Se.state;qe.draw(te,ue.TRIANGLES,pe,Be,we,Tn.disabled,St,_t,M.id,at,wt,Se.segments,M.paint,x.transform.zoom,$e)}})(i,h,p,v);break;case"heatmap":(function(x,U,M,k){if(M.paint.get("heatmap-opacity")===0)return;const Q=x.context;if(x.style.map.terrain){for(const G of k){const $=U.getTile(G);U.hasRenderableParent(G)||(x.renderPass==="offscreen"?Ha(x,$,M,G):x.renderPass==="translucent"&&$a(x,M,G))}Q.viewport.set([0,0,x.width,x.height])}else x.renderPass==="offscreen"?(function(G,$,J,te){const ue=G.context,pe=ue.gl,Be=gn.disabled,we=new ei([pe.ONE,pe.ONE],l.aM.transparent,[!0,!0,!0,!0]);(function(Qe,Se,$e){const qe=Qe.gl;Qe.activeTexture.set(qe.TEXTURE1),Qe.viewport.set([0,0,Se.width/4,Se.height/4]);let at=$e.heatmapFbos.get(l.aU);at?(qe.bindTexture(qe.TEXTURE_2D,at.colorAttachment.get()),Qe.bindFramebuffer.set(at.framebuffer)):(at=Is(Qe,Se.width/4,Se.height/4),$e.heatmapFbos.set(l.aU,at))})(ue,G,J),ue.clear({color:l.aM.transparent});for(let Qe=0;Qe<te.length;Qe++){const Se=te[Qe];if($.hasRenderableParent(Se))continue;const $e=$.getTile(Se),qe=$e.getBucket(J);if(!qe)continue;const at=qe.programConfigurations.get(J.id),wt=G.useProgram("heatmap",at),{zoom:St}=G.transform;wt.draw(ue,pe.TRIANGLES,ln.disabled,Be,we,Tn.disabled,Zi(Se.posMatrix,$e,St,J.paint.get("heatmap-intensity")),null,J.id,qe.layoutVertexBuffer,qe.indexBuffer,qe.segments,J.paint,G.transform.zoom,at)}ue.viewport.set([0,0,G.width,G.height])})(x,U,M,k):x.renderPass==="translucent"&&(function(G,$){const J=G.context,te=J.gl;J.setColorMode(G.colorModeForRenderPass());const ue=$.heatmapFbos.get(l.aU);ue&&(J.activeTexture.set(te.TEXTURE0),te.bindTexture(te.TEXTURE_2D,ue.colorAttachment.get()),J.activeTexture.set(te.TEXTURE1),Ys(J,$).bind(te.LINEAR,te.CLAMP_TO_EDGE),G.useProgram("heatmapTexture").draw(J,te.TRIANGLES,ln.disabled,gn.disabled,G.colorModeForRenderPass(),Tn.disabled,jr(G,$,0,1),null,$.id,G.viewportBuffer,G.quadTriangleIndexBuffer,G.viewportSegments,$.paint,G.transform.zoom))})(x,M)})(i,h,p,v);break;case"line":(function(x,U,M,k){if(x.renderPass!=="translucent")return;const Q=M.paint.get("line-opacity"),G=M.paint.get("line-width");if(Q.constantOr(1)===0||G.constantOr(1)===0)return;const $=x.depthModeForSublayer(0,ln.ReadOnly),J=x.colorModeForRenderPass(),te=M.paint.get("line-dasharray"),ue=M.paint.get("line-pattern"),pe=ue.constantOr(1),Be=M.paint.get("line-gradient"),we=M.getCrossfadeParameters(),Qe=pe?"linePattern":te?"lineSDF":Be?"lineGradient":"line",Se=x.context,$e=Se.gl;let qe=!0;for(const at of k){const wt=U.getTile(at);if(pe&&!wt.patternsLoaded())continue;const St=wt.getBucket(M);if(!St)continue;const _t=St.programConfigurations.get(M.id),mt=x.context.program.get(),Qt=x.useProgram(Qe,_t),Et=qe||Qt.program!==mt,zt=x.style.map.terrain&&x.style.map.terrain.getTerrainData(at),tr=ue.constantOr(null);if(tr&&wt.imageAtlas){const rr=wt.imageAtlas,un=rr.patternPositions[tr.to.toString()],Ir=rr.patternPositions[tr.from.toString()];un&&Ir&&_t.setConstantPatternPositions(un,Ir)}const Vt=zt?at:null,$t=pe?Sa(x,wt,M,we,Vt):te?Ra(x,wt,M,te,we,Vt):Be?uc(x,wt,M,St.lineClipsArray.length,Vt):gA(x,wt,M,Vt);if(pe)Se.activeTexture.set($e.TEXTURE0),wt.imageAtlasTexture.bind($e.LINEAR,$e.CLAMP_TO_EDGE),_t.updatePaintBuffers(we);else if(te&&(Et||x.lineAtlas.dirty))Se.activeTexture.set($e.TEXTURE0),x.lineAtlas.bind(Se);else if(Be){const rr=St.gradients[M.id];let un=rr.texture;if(M.gradientVersion!==rr.version){let Ir=256;if(M.stepInterpolant){const Lr=U.getSource().maxzoom,wr=at.canonical.z===Lr?Math.ceil(1<<x.transform.maxZoom-at.canonical.z):1;Ir=l.ac(l.aV(St.maxLineLength/l.X*1024*wr),256,Se.maxTextureSize)}rr.gradient=l.aW({expression:M.gradientExpression(),evaluationKey:"lineProgress",resolution:Ir,image:rr.gradient||void 0,clips:St.lineClipsArray}),rr.texture?rr.texture.update(rr.gradient):rr.texture=new ie(Se,rr.gradient,$e.RGBA),rr.version=M.gradientVersion,un=rr.texture}Se.activeTexture.set($e.TEXTURE0),un.bind(M.stepInterpolant?$e.NEAREST:$e.LINEAR,$e.CLAMP_TO_EDGE)}Qt.draw(Se,$e.TRIANGLES,$,x.stencilModeForClipping(at),J,Tn.disabled,$t,zt,M.id,St.layoutVertexBuffer,St.indexBuffer,St.segments,M.paint,x.transform.zoom,_t,St.layoutVertexBuffer2),qe=!1}})(i,h,p,v);break;case"fill":(function(x,U,M,k){const Q=M.paint.get("fill-color"),G=M.paint.get("fill-opacity");if(G.constantOr(1)===0)return;const $=x.colorModeForRenderPass(),J=M.paint.get("fill-pattern"),te=x.opaquePassEnabledForLayer()&&!J.constantOr(1)&&Q.constantOr(l.aM.transparent).a===1&&G.constantOr(0)===1?"opaque":"translucent";if(x.renderPass===te){const ue=x.depthModeForSublayer(1,x.renderPass==="opaque"?ln.ReadWrite:ln.ReadOnly);hl(x,U,M,k,ue,$,!1)}if(x.renderPass==="translucent"&&M.paint.get("fill-antialias")){const ue=x.depthModeForSublayer(M.getPaintProperty("fill-outline-color")?2:0,ln.ReadOnly);hl(x,U,M,k,ue,$,!0)}})(i,h,p,v);break;case"fill-extrusion":(function(x,U,M,k){const Q=M.paint.get("fill-extrusion-opacity");if(Q!==0&&x.renderPass==="translucent"){const G=new ln(x.context.gl.LEQUAL,ln.ReadWrite,x.depthRangeFor3D);if(Q!==1||M.paint.get("fill-extrusion-pattern").constantOr(1))Ci(x,U,M,k,G,gn.disabled,ei.disabled),Ci(x,U,M,k,G,x.stencilModeFor3D(),x.colorModeForRenderPass());else{const $=x.colorModeForRenderPass();Ci(x,U,M,k,G,gn.disabled,$)}}})(i,h,p,v);break;case"hillshade":(function(x,U,M,k){if(x.renderPass!=="offscreen"&&x.renderPass!=="translucent")return;const Q=x.context,G=x.depthModeForSublayer(0,ln.ReadOnly),$=x.colorModeForRenderPass(),[J,te]=x.renderPass==="translucent"?x.stencilConfigForOverlap(k):[{},k];for(const ue of te){const pe=U.getTile(ue);pe.needsHillshadePrepare!==void 0&&pe.needsHillshadePrepare&&x.renderPass==="offscreen"?os(x,pe,M,G,gn.disabled,$):x.renderPass==="translucent"&&ql(x,ue,pe,M,G,J[ue.overscaledZ],$)}Q.viewport.set([0,0,x.width,x.height])})(i,h,p,v);break;case"raster":(function(x,U,M,k){if(x.renderPass!=="translucent"||M.paint.get("raster-opacity")===0||!k.length)return;const Q=x.context,G=Q.gl,$=U.getSource(),J=x.useProgram("raster"),te=x.colorModeForRenderPass(),[ue,pe]=$ instanceof Br?[{},k]:x.stencilConfigForOverlap(k),Be=pe[pe.length-1].overscaledZ,we=!x.options.moving;for(const Qe of pe){const Se=x.depthModeForSublayer(Qe.overscaledZ-Be,M.paint.get("raster-opacity")===1?ln.ReadWrite:ln.ReadOnly,G.LESS),$e=U.getTile(Qe);$e.registerFadeDuration(M.paint.get("raster-fade-duration"));const qe=U.findLoadedParent(Qe,0),at=U.findLoadedSibling(Qe),wt=zo($e,qe||at||null,U,M,x.transform,x.style.map.terrain);let St,_t;const mt=M.paint.get("raster-resampling")==="nearest"?G.NEAREST:G.LINEAR;Q.activeTexture.set(G.TEXTURE0),$e.texture.bind(mt,G.CLAMP_TO_EDGE,G.LINEAR_MIPMAP_NEAREST),Q.activeTexture.set(G.TEXTURE1),qe?(qe.texture.bind(mt,G.CLAMP_TO_EDGE,G.LINEAR_MIPMAP_NEAREST),St=Math.pow(2,qe.tileID.overscaledZ-$e.tileID.overscaledZ),_t=[$e.tileID.canonical.x*St%1,$e.tileID.canonical.y*St%1]):$e.texture.bind(mt,G.CLAMP_TO_EDGE,G.LINEAR_MIPMAP_NEAREST),$e.texture.useMipmap&&Q.extTextureFilterAnisotropic&&x.transform.pitch>20&&G.texParameterf(G.TEXTURE_2D,Q.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,Q.extTextureFilterAnisotropicMax);const Qt=x.style.map.terrain&&x.style.map.terrain.getTerrainData(Qe),Et=Qt?Qe:null,zt=Et?Et.posMatrix:x.transform.calculatePosMatrix(Qe.toUnwrapped(),we),tr=qs(zt,_t||[0,0],St||1,wt,M);$ instanceof Br?J.draw(Q,G.TRIANGLES,Se,gn.disabled,te,Tn.disabled,tr,Qt,M.id,$.boundsBuffer,x.quadTriangleIndexBuffer,$.boundsSegments):J.draw(Q,G.TRIANGLES,Se,ue[Qe.overscaledZ],te,Tn.disabled,tr,Qt,M.id,x.rasterBoundsBuffer,x.quadTriangleIndexBuffer,x.rasterBoundsSegments)}})(i,h,p,v);break;case"background":(function(x,U,M,k){const Q=M.paint.get("background-color"),G=M.paint.get("background-opacity");if(G===0)return;const $=x.context,J=$.gl,te=x.transform,ue=te.tileSize,pe=M.paint.get("background-pattern");if(x.isPatternMissing(pe))return;const Be=!pe&&Q.a===1&&G===1&&x.opaquePassEnabledForLayer()?"opaque":"translucent";if(x.renderPass!==Be)return;const we=gn.disabled,Qe=x.depthModeForSublayer(0,Be==="opaque"?ln.ReadWrite:ln.ReadOnly),Se=x.colorModeForRenderPass(),$e=x.useProgram(pe?"backgroundPattern":"background"),qe=k||te.coveringTiles({tileSize:ue,terrain:x.style.map.terrain});pe&&($.activeTexture.set(J.TEXTURE0),x.imageManager.bind(x.context));const at=M.getCrossfadeParameters();for(const wt of qe){const St=k?wt.posMatrix:x.transform.calculatePosMatrix(wt.toUnwrapped()),_t=pe?vA(St,G,x,pe,{tileID:wt,tileSize:ue},at):jl(St,G,Q),mt=x.style.map.terrain&&x.style.map.terrain.getTerrainData(wt);$e.draw($,J.TRIANGLES,Qe,we,Se,Tn.disabled,_t,mt,M.id,x.tileExtentBuffer,x.quadTriangleIndexBuffer,x.tileExtentSegments)}})(i,0,p,v);break;case"custom":(function(x,U,M){const k=x.context,Q=M.implementation;if(x.renderPass==="offscreen"){const G=Q.prerender;G&&(x.setCustomLayerDefaults(),k.setColorMode(x.colorModeForRenderPass()),G.call(Q,k.gl,x.transform.customLayerMatrix()),k.setDirty(),x.setBaseState())}else if(x.renderPass==="translucent"){x.setCustomLayerDefaults(),k.setColorMode(x.colorModeForRenderPass()),k.setStencilMode(gn.disabled);const G=Q.renderingMode==="3d"?new ln(x.context.gl.LEQUAL,ln.ReadWrite,x.depthRangeFor3D):x.depthModeForSublayer(0,ln.ReadOnly);k.setDepthMode(G),Q.render(k.gl,x.transform.customLayerMatrix(),{farZ:x.transform.farZ,nearZ:x.transform.nearZ,fov:x.transform._fov,modelViewProjectionMatrix:x.transform.modelViewProjectionMatrix,projectionMatrix:x.transform.projectionMatrix}),k.setDirty(),x.setBaseState(),k.bindFramebuffer.set(null)}})(i,0,p)}}translatePosMatrix(i,h,p,v,x){if(!p[0]&&!p[1])return i;const U=x?v==="map"?this.transform.angle:0:v==="viewport"?-this.transform.angle:0;if(U){const Q=Math.sin(U),G=Math.cos(U);p=[p[0]*G-p[1]*Q,p[0]*Q+p[1]*G]}const M=[x?p[0]:zr(h,p[0],this.transform.zoom),x?p[1]:zr(h,p[1],this.transform.zoom),0],k=new Float32Array(16);return l.J(k,i,M),k}saveTileTexture(i){const h=this._tileTextures[i.size[0]];h?h.push(i):this._tileTextures[i.size[0]]=[i]}getTileTexture(i){const h=this._tileTextures[i];return h&&h.length>0?h.pop():null}isPatternMissing(i){if(!i)return!1;if(!i.from||!i.to)return!0;const h=this.imageManager.getPattern(i.from.toString()),p=this.imageManager.getPattern(i.to.toString());return!h||!p}useProgram(i,h){this.cache=this.cache||{};const p=i+(h?h.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.map.terrain?"/terrain":"");return this.cache[p]||(this.cache[p]=new JA(this.context,Ks[i],h,Aa[i],this._showOverdrawInspector,this.style.map.terrain)),this.cache[p]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const i=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(i.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new ie(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){const{drawingBufferWidth:i,drawingBufferHeight:h}=this.context.gl;return this.width!==i||this.height!==h}}class Ln{constructor(i,h){this.points=i,this.planes=h}static fromInvProjectionMatrix(i,h,p){const v=Math.pow(2,p),x=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((M=>{const k=1/(M=l.af([],M,i))[3]/h*v;return l.b1(M,M,[k,k,1/M[3],k])})),U=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map((M=>{const k=(function(J,te){var ue=te[0],pe=te[1],Be=te[2],we=ue*ue+pe*pe+Be*Be;return we>0&&(we=1/Math.sqrt(we)),J[0]=te[0]*we,J[1]=te[1]*we,J[2]=te[2]*we,J})([],(function(J,te,ue){var pe=te[0],Be=te[1],we=te[2],Qe=ue[0],Se=ue[1],$e=ue[2];return J[0]=Be*$e-we*Se,J[1]=we*Qe-pe*$e,J[2]=pe*Se-Be*Qe,J})([],Ee([],x[M[0]],x[M[1]]),Ee([],x[M[2]],x[M[1]]))),Q=-((G=k)[0]*($=x[M[1]])[0]+G[1]*$[1]+G[2]*$[2]);var G,$;return k.concat(Q)}));return new Ln(x,U)}}class Bn{constructor(i,h){this.min=i,this.max=h,this.center=(function(p,v,x){return p[0]=.5*v[0],p[1]=.5*v[1],p[2]=.5*v[2],p})([],(function(p,v,x){return p[0]=v[0]+x[0],p[1]=v[1]+x[1],p[2]=v[2]+x[2],p})([],this.min,this.max))}quadrant(i){const h=[i%2==0,i<2],p=ce(this.min),v=ce(this.max);for(let x=0;x<h.length;x++)p[x]=h[x]?this.min[x]:this.center[x],v[x]=h[x]?this.center[x]:this.max[x];return v[2]=this.max[2],new Bn(p,v)}distanceX(i){return Math.max(Math.min(this.max[0],i[0]),this.min[0])-i[0]}distanceY(i){return Math.max(Math.min(this.max[1],i[1]),this.min[1])-i[1]}intersects(i){const h=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let p=!0;for(let v=0;v<i.planes.length;v++){const x=i.planes[v];let U=0;for(let M=0;M<h.length;M++)l.b2(x,h[M])>=0&&U++;if(U===0)return 0;U!==h.length&&(p=!1)}if(p)return 2;for(let v=0;v<3;v++){let x=Number.MAX_VALUE,U=-Number.MAX_VALUE;for(let M=0;M<i.points.length;M++){const k=i.points[M][v]-this.min[v];x=Math.min(x,k),U=Math.max(U,k)}if(U<0||x>this.max[v]-this.min[v])return 0}return 1}}class Xn{constructor(i=0,h=0,p=0,v=0){if(isNaN(i)||i<0||isNaN(h)||h<0||isNaN(p)||p<0||isNaN(v)||v<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=i,this.bottom=h,this.left=p,this.right=v}interpolate(i,h,p){return h.top!=null&&i.top!=null&&(this.top=l.y.number(i.top,h.top,p)),h.bottom!=null&&i.bottom!=null&&(this.bottom=l.y.number(i.bottom,h.bottom,p)),h.left!=null&&i.left!=null&&(this.left=l.y.number(i.left,h.left,p)),h.right!=null&&i.right!=null&&(this.right=l.y.number(i.right,h.right,p)),this}getCenter(i,h){const p=l.ac((this.left+i-this.right)/2,0,i),v=l.ac((this.top+h-this.bottom)/2,0,h);return new l.P(p,v)}equals(i){return this.top===i.top&&this.bottom===i.bottom&&this.left===i.left&&this.right===i.right}clone(){return new Xn(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}const Pi=85.051129;class As{constructor(i,h,p,v,x){this.tileSize=512,this._renderWorldCopies=x===void 0||!!x,this._minZoom=i||0,this._maxZoom=h||22,this._minPitch=p??0,this._maxPitch=v??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new l.N(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new Xn,this._posMatrixCache={},this._alignedPosMatrixCache={},this._fogMatrixCache={},this.minElevationForCurrentTile=0}clone(){const i=new As(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return i.apply(this),i}apply(i){this.tileSize=i.tileSize,this.latRange=i.latRange,this.lngRange=i.lngRange,this.width=i.width,this.height=i.height,this._center=i._center,this._elevation=i._elevation,this.minElevationForCurrentTile=i.minElevationForCurrentTile,this.zoom=i.zoom,this.angle=i.angle,this._fov=i._fov,this._pitch=i._pitch,this._unmodified=i._unmodified,this._edgeInsets=i._edgeInsets.clone(),this._calcMatrices()}get minZoom(){return this._minZoom}set minZoom(i){this._minZoom!==i&&(this._minZoom=i,this.zoom=Math.max(this.zoom,i))}get maxZoom(){return this._maxZoom}set maxZoom(i){this._maxZoom!==i&&(this._maxZoom=i,this.zoom=Math.min(this.zoom,i))}get minPitch(){return this._minPitch}set minPitch(i){this._minPitch!==i&&(this._minPitch=i,this.pitch=Math.max(this.pitch,i))}get maxPitch(){return this._maxPitch}set maxPitch(i){this._maxPitch!==i&&(this._maxPitch=i,this.pitch=Math.min(this.pitch,i))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(i){i===void 0?i=!0:i===null&&(i=!1),this._renderWorldCopies=i}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new l.P(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(i){const h=-l.b3(i,-180,180)*Math.PI/180;this.angle!==h&&(this._unmodified=!1,this.angle=h,this._calcMatrices(),this.rotationMatrix=(function(){var p=new l.A(4);return l.A!=Float32Array&&(p[1]=0,p[2]=0),p[0]=1,p[3]=1,p})(),(function(p,v,x){var U=v[0],M=v[1],k=v[2],Q=v[3],G=Math.sin(x),$=Math.cos(x);p[0]=U*$+k*G,p[1]=M*$+Q*G,p[2]=U*-G+k*$,p[3]=M*-G+Q*$})(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(i){const h=l.ac(i,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==h&&(this._unmodified=!1,this._pitch=h,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(i){i=Math.max(.01,Math.min(60,i)),this._fov!==i&&(this._unmodified=!1,this._fov=i/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(i){const h=Math.min(Math.max(i,this.minZoom),this.maxZoom);this._zoom!==h&&(this._unmodified=!1,this._zoom=h,this.tileZoom=Math.max(0,Math.floor(h)),this.scale=this.zoomScale(h),this._constrain(),this._calcMatrices())}get center(){return this._center}set center(i){i.lat===this._center.lat&&i.lng===this._center.lng||(this._unmodified=!1,this._center=i,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(i){i!==this._elevation&&(this._elevation=i,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(i){this._edgeInsets.equals(i)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,i,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(i){return this._edgeInsets.equals(i)}interpolatePadding(i,h,p){this._unmodified=!1,this._edgeInsets.interpolate(i,h,p),this._constrain(),this._calcMatrices()}coveringZoomLevel(i){const h=(i.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/i.tileSize));return Math.max(0,h)}getVisibleUnwrappedCoordinates(i){const h=[new l.b4(0,i)];if(this._renderWorldCopies){const p=this.pointCoordinate(new l.P(0,0)),v=this.pointCoordinate(new l.P(this.width,0)),x=this.pointCoordinate(new l.P(this.width,this.height)),U=this.pointCoordinate(new l.P(0,this.height)),M=Math.floor(Math.min(p.x,v.x,x.x,U.x)),k=Math.floor(Math.max(p.x,v.x,x.x,U.x)),Q=1;for(let G=M-Q;G<=k+Q;G++)G!==0&&h.push(new l.b4(G,i))}return h}coveringTiles(i){var h,p;let v=this.coveringZoomLevel(i);const x=v;if(i.minzoom!==void 0&&v<i.minzoom)return[];i.maxzoom!==void 0&&v>i.maxzoom&&(v=i.maxzoom);const U=this.pointCoordinate(this.getCameraPoint()),M=l.Z.fromLngLat(this.center),k=Math.pow(2,v),Q=[k*U.x,k*U.y,0],G=[k*M.x,k*M.y,0],$=Ln.fromInvProjectionMatrix(this.invModelViewProjectionMatrix,this.worldSize,v);let J=i.minzoom||0;!i.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(J=v);const te=i.terrain?2/Math.min(this.tileSize,i.tileSize)*this.tileSize:3,ue=Se=>({aabb:new Bn([Se*k,0,0],[(Se+1)*k,k,0]),zoom:0,x:0,y:0,wrap:Se,fullyVisible:!1}),pe=[],Be=[],we=v,Qe=i.reparseOverscaled?x:v;if(this._renderWorldCopies)for(let Se=1;Se<=3;Se++)pe.push(ue(-Se)),pe.push(ue(Se));for(pe.push(ue(0));pe.length>0;){const Se=pe.pop(),$e=Se.x,qe=Se.y;let at=Se.fullyVisible;if(!at){const Qt=Se.aabb.intersects($);if(Qt===0)continue;at=Qt===2}const wt=i.terrain?Q:G,St=Se.aabb.distanceX(wt),_t=Se.aabb.distanceY(wt),mt=Math.max(Math.abs(St),Math.abs(_t));if(Se.zoom===we||mt>te+(1<<we-Se.zoom)-2&&Se.zoom>=J){const Qt=we-Se.zoom,Et=Q[0]-.5-($e<<Qt),zt=Q[1]-.5-(qe<<Qt);Be.push({tileID:new l.S(Se.zoom===we?Qe:Se.zoom,Se.wrap,Se.zoom,$e,qe),distanceSq:Ie([G[0]-.5-$e,G[1]-.5-qe]),tileDistanceToCamera:Math.sqrt(Et*Et+zt*zt)})}else for(let Qt=0;Qt<4;Qt++){const Et=($e<<1)+Qt%2,zt=(qe<<1)+(Qt>>1),tr=Se.zoom+1;let Vt=Se.aabb.quadrant(Qt);if(i.terrain){const $t=new l.S(tr,Se.wrap,tr,Et,zt),rr=i.terrain.getMinMaxElevation($t),un=(h=rr.minElevation)!==null&&h!==void 0?h:this.elevation,Ir=(p=rr.maxElevation)!==null&&p!==void 0?p:this.elevation;Vt=new Bn([Vt.min[0],Vt.min[1],un],[Vt.max[0],Vt.max[1],Ir])}pe.push({aabb:Vt,zoom:tr,x:Et,y:zt,wrap:Se.wrap,fullyVisible:at})}}return Be.sort(((Se,$e)=>Se.distanceSq-$e.distanceSq)).map((Se=>Se.tileID))}resize(i,h){this.width=i,this.height=h,this.pixelsToGLUnits=[2/i,-2/h],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(i){return Math.pow(2,i)}scaleZoom(i){return Math.log(i)/Math.LN2}project(i){const h=l.ac(i.lat,-85.051129,Pi);return new l.P(l.O(i.lng)*this.worldSize,l.Q(h)*this.worldSize)}unproject(i){return new l.Z(i.x/this.worldSize,i.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(i){const h=this.elevation,p=Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter,v=this.pointLocation(this.centerPoint,i),x=i.getElevationForLngLatZoom(v,this.tileZoom);if(!(this.elevation-x))return;const U=p+h-x,M=Math.cos(this._pitch)*this.cameraToCenterDistance/U/l.b5(1,v.lat),k=this.scaleZoom(M/this.tileSize);this._elevation=x,this._center=v,this.zoom=k}setLocationAtPoint(i,h){const p=this.pointCoordinate(h),v=this.pointCoordinate(this.centerPoint),x=this.locationCoordinate(i),U=new l.Z(x.x-(p.x-v.x),x.y-(p.y-v.y));this.center=this.coordinateLocation(U),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(i,h){return h?this.coordinatePoint(this.locationCoordinate(i),h.getElevationForLngLatZoom(i,this.tileZoom),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(i))}pointLocation(i,h){return this.coordinateLocation(this.pointCoordinate(i,h))}locationCoordinate(i){return l.Z.fromLngLat(i)}coordinateLocation(i){return i&&i.toLngLat()}pointCoordinate(i,h){if(h){const J=h.pointCoordinate(i);if(J!=null)return J}const p=[i.x,i.y,0,1],v=[i.x,i.y,1,1];l.af(p,p,this.pixelMatrixInverse),l.af(v,v,this.pixelMatrixInverse);const x=p[3],U=v[3],M=p[1]/x,k=v[1]/U,Q=p[2]/x,G=v[2]/U,$=Q===G?0:(0-Q)/(G-Q);return new l.Z(l.y.number(p[0]/x,v[0]/U,$)/this.worldSize,l.y.number(M,k,$)/this.worldSize)}coordinatePoint(i,h=0,p=this.pixelMatrix){const v=[i.x*this.worldSize,i.y*this.worldSize,h,1];return l.af(v,v,p),new l.P(v[0]/v[3],v[1]/v[3])}getBounds(){const i=Math.max(0,this.height/2-this.getHorizon());return new Ye().extend(this.pointLocation(new l.P(0,i))).extend(this.pointLocation(new l.P(this.width,i))).extend(this.pointLocation(new l.P(this.width,this.height))).extend(this.pointLocation(new l.P(0,this.height)))}getMaxBounds(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new Ye([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(i){i?(this.lngRange=[i.getWest(),i.getEast()],this.latRange=[i.getSouth(),i.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-85.051129,Pi])}calculateTileMatrix(i){const h=i.canonical,p=this.worldSize/this.zoomScale(h.z),v=h.x+Math.pow(2,h.z)*i.wrap,x=l.an(new Float64Array(16));return l.J(x,x,[v*p,h.y*p,0]),l.K(x,x,[p/l.X,p/l.X,1]),x}calculatePosMatrix(i,h=!1){const p=i.key,v=h?this._alignedPosMatrixCache:this._posMatrixCache;if(v[p])return v[p];const x=this.calculateTileMatrix(i);return l.L(x,h?this.alignedModelViewProjectionMatrix:this.modelViewProjectionMatrix,x),v[p]=new Float32Array(x),v[p]}calculateFogMatrix(i){const h=i.key,p=this._fogMatrixCache;if(p[h])return p[h];const v=this.calculateTileMatrix(i);return l.L(v,this.fogMatrix,v),p[h]=new Float32Array(v),p[h]}customLayerMatrix(){return this.mercatorMatrix.slice()}getConstrained(i,h){h=l.ac(+h,this.minZoom,this.maxZoom);const p={center:new l.N(i.lng,i.lat),zoom:h};let v=this.lngRange;if(!this._renderWorldCopies&&v===null){const Se=179.9999999999;v=[-Se,Se]}const x=this.tileSize*this.zoomScale(p.zoom);let U=0,M=x,k=0,Q=x,G=0,$=0;const{x:J,y:te}=this.size;if(this.latRange){const Se=this.latRange;U=l.Q(Se[1])*x,M=l.Q(Se[0])*x,M-U<te&&(G=te/(M-U))}v&&(k=l.b3(l.O(v[0])*x,0,x),Q=l.b3(l.O(v[1])*x,0,x),Q<k&&(Q+=x),Q-k<J&&($=J/(Q-k)));const{x:ue,y:pe}=this.project.call({worldSize:x},i);let Be,we;const Qe=Math.max($||0,G||0);if(Qe){const Se=new l.P($?(Q+k)/2:ue,G?(M+U)/2:pe);return p.center=this.unproject.call({worldSize:x},Se).wrap(),p.zoom+=this.scaleZoom(Qe),p}if(this.latRange){const Se=te/2;pe-Se<U&&(we=U+Se),pe+Se>M&&(we=M-Se)}if(v){const Se=(k+Q)/2;let $e=ue;this._renderWorldCopies&&($e=l.b3(ue,Se-x/2,Se+x/2));const qe=J/2;$e-qe<k&&(Be=k+qe),$e+qe>Q&&(Be=Q-qe)}if(Be!==void 0||we!==void 0){const Se=new l.P(Be??ue,we??pe);p.center=this.unproject.call({worldSize:x},Se).wrap()}return p}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const i=this._unmodified,{center:h,zoom:p}=this.getConstrained(this.center,this.zoom);this.center=h,this.zoom=p,this._unmodified=i,this._constraining=!1}_calcMatrices(){if(!this.height)return;const i=this.centerOffset,h=this.point.x,p=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=l.b5(1,this.center.lat)*this.worldSize;let v=l.an(new Float64Array(16));l.K(v,v,[this.width/2,-this.height/2,1]),l.J(v,v,[1,-1,0]),this.labelPlaneMatrix=v,v=l.an(new Float64Array(16)),l.K(v,v,[1,-1,1]),l.J(v,v,[-1,-1,0]),l.K(v,v,[2/this.width,2/this.height,1]),this.glCoordMatrix=v;const x=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch),U=Math.min(this.elevation,this.minElevationForCurrentTile),M=x-U*this._pixelPerMeter/Math.cos(this._pitch),k=U<0?M:x,Q=Math.PI/2+this._pitch,G=this._fov*(.5+i.y/this.height),$=Math.sin(G)*k/Math.sin(l.ac(Math.PI-Q-G,.01,Math.PI-.01)),J=this.getHorizon(),te=2*Math.atan(J/this.cameraToCenterDistance)*(.5+i.y/(2*J)),ue=Math.sin(te)*k/Math.sin(l.ac(Math.PI-Q-te,.01,Math.PI-.01)),pe=Math.min($,ue);this.farZ=1.01*(Math.cos(Math.PI/2-this._pitch)*pe+k),this.nearZ=this.height/50,v=new Float64Array(16),l.b6(v,this._fov,this.width/this.height,this.nearZ,this.farZ),v[8]=2*-i.x/this.width,v[9]=2*i.y/this.height,this.projectionMatrix=l.ae(v),l.K(v,v,[1,-1,1]),l.J(v,v,[0,0,-this.cameraToCenterDistance]),l.b7(v,v,this._pitch),l.ad(v,v,this.angle),l.J(v,v,[-h,-p,0]),this.mercatorMatrix=l.K([],v,[this.worldSize,this.worldSize,this.worldSize]),l.K(v,v,[1,1,this._pixelPerMeter]),this.pixelMatrix=l.L(new Float64Array(16),this.labelPlaneMatrix,v),l.J(v,v,[0,0,-this.elevation]),this.modelViewProjectionMatrix=v,this.invModelViewProjectionMatrix=l.as([],v),this.fogMatrix=new Float64Array(16),l.b6(this.fogMatrix,this._fov,this.width/this.height,x,this.farZ),this.fogMatrix[8]=2*-i.x/this.width,this.fogMatrix[9]=2*i.y/this.height,l.K(this.fogMatrix,this.fogMatrix,[1,-1,1]),l.J(this.fogMatrix,this.fogMatrix,[0,0,-this.cameraToCenterDistance]),l.b7(this.fogMatrix,this.fogMatrix,this._pitch),l.ad(this.fogMatrix,this.fogMatrix,this.angle),l.J(this.fogMatrix,this.fogMatrix,[-h,-p,0]),l.K(this.fogMatrix,this.fogMatrix,[1,1,this._pixelPerMeter]),l.J(this.fogMatrix,this.fogMatrix,[0,0,-this.elevation]),this.pixelMatrix3D=l.L(new Float64Array(16),this.labelPlaneMatrix,v);const Be=this.width%2/2,we=this.height%2/2,Qe=Math.cos(this.angle),Se=Math.sin(this.angle),$e=h-Math.round(h)+Qe*Be+Se*we,qe=p-Math.round(p)+Qe*we+Se*Be,at=new Float64Array(v);if(l.J(at,at,[$e>.5?$e-1:$e,qe>.5?qe-1:qe,0]),this.alignedModelViewProjectionMatrix=at,v=l.as(new Float64Array(16),this.pixelMatrix),!v)throw new Error("failed to invert matrix");this.pixelMatrixInverse=v,this._posMatrixCache={},this._alignedPosMatrixCache={},this._fogMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;const i=this.pointCoordinate(new l.P(0,0)),h=[i.x*this.worldSize,i.y*this.worldSize,0,1];return l.af(h,h,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){const i=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new l.P(0,i))}getCameraQueryGeometry(i){const h=this.getCameraPoint();if(i.length===1)return[i[0],h];{let p=h.x,v=h.y,x=h.x,U=h.y;for(const M of i)p=Math.min(p,M.x),v=Math.min(v,M.y),x=Math.max(x,M.x),U=Math.max(U,M.y);return[new l.P(p,v),new l.P(x,v),new l.P(x,U),new l.P(p,U),new l.P(p,v)]}}lngLatToCameraDepth(i,h){const p=this.locationCoordinate(i),v=[p.x*this.worldSize,p.y*this.worldSize,h,1];return l.af(v,v,this.modelViewProjectionMatrix),v[2]/v[3]}}function us(_,i){let h,p=!1,v=null,x=null;const U=()=>{v=null,p&&(_.apply(x,h),v=setTimeout(U,i),p=!1)};return(...M)=>(p=!0,x=this,h=M,v||U(),v)}class gl{constructor(i){this._getCurrentHash=()=>{const h=window.location.hash.replace("#","");if(this._hashName){let p;return h.split("&").map((v=>v.split("="))).forEach((v=>{v[0]===this._hashName&&(p=v)})),(p&&p[1]||"").split("/")}return h.split("/")},this._onHashChange=()=>{const h=this._getCurrentHash();if(h.length>=3&&!h.some((p=>isNaN(p)))){const p=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(h[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+h[2],+h[1]],zoom:+h[0],bearing:p,pitch:+(h[4]||0)}),!0}return!1},this._updateHashUnthrottled=()=>{const h=window.location.href.replace(/(#.*)?$/,this.getHashString());window.history.replaceState(window.history.state,null,h)},this._removeHash=()=>{const h=this._getCurrentHash();if(h.length===0)return;const p=h.join("/");let v=p;v.split("&").length>0&&(v=v.split("&")[0]),this._hashName&&(v=`${this._hashName}=${p}`);let x=window.location.hash.replace(v,"");x.startsWith("#&")?x=x.slice(0,1)+x.slice(2):x==="#"&&(x="");let U=window.location.href.replace(/(#.+)?$/,x);U=U.replace("&&","&"),window.history.replaceState(window.history.state,null,U)},this._updateHash=us(this._updateHashUnthrottled,300),this._hashName=i&&encodeURIComponent(i)}addTo(i){return this._map=i,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),this._removeHash(),delete this._map,this}getHashString(i){const h=this._map.getCenter(),p=Math.round(100*this._map.getZoom())/100,v=Math.ceil((p*Math.LN2+Math.log(512/360/.5))/Math.LN10),x=Math.pow(10,v),U=Math.round(h.lng*x)/x,M=Math.round(h.lat*x)/x,k=this._map.getBearing(),Q=this._map.getPitch();let G="";if(G+=i?`/${U}/${M}/${p}`:`${p}/${M}/${U}`,(k||Q)&&(G+="/"+Math.round(10*k)/10),Q&&(G+=`/${Math.round(Q)}`),this._hashName){const $=this._hashName;let J=!1;const te=window.location.hash.slice(1).split("&").map((ue=>{const pe=ue.split("=")[0];return pe===$?(J=!0,`${pe}=${G}`):ue})).filter((ue=>ue));return J||te.push(`${$}=${G}`),`#${te.join("&")}`}return`#${G}`}}const wA={linearity:.3,easing:l.b8(0,0,.3,1)},cc=l.e({deceleration:2500,maxSpeed:1400},wA),gf=l.e({deceleration:20,maxSpeed:1400},wA),Ch=l.e({deceleration:1e3,maxSpeed:360},wA),hc=l.e({deceleration:1e3,maxSpeed:90},wA);class fc{constructor(i){this._map=i,this.clear()}clear(){this._inertiaBuffer=[]}record(i){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:S.now(),settings:i})}_drainInertiaBuffer(){const i=this._inertiaBuffer,h=S.now();for(;i.length>0&&h-i[0].time>160;)i.shift()}_onMoveEnd(i){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const h={zoom:0,bearing:0,pitch:0,pan:new l.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:x}of this._inertiaBuffer)h.zoom+=x.zoomDelta||0,h.bearing+=x.bearingDelta||0,h.pitch+=x.pitchDelta||0,x.panDelta&&h.pan._add(x.panDelta),x.around&&(h.around=x.around),x.pinchAround&&(h.pinchAround=x.pinchAround);const p=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,v={};if(h.pan.mag()){const x=jo(h.pan.mag(),p,l.e({},cc,i||{}));v.offset=h.pan.mult(x.amount/h.pan.mag()),v.center=this._map.transform.center,au(v,x)}if(h.zoom){const x=jo(h.zoom,p,gf);v.zoom=this._map.transform.zoom+x.amount,au(v,x)}if(h.bearing){const x=jo(h.bearing,p,Ch);v.bearing=this._map.transform.bearing+l.ac(x.amount,-179,179),au(v,x)}if(h.pitch){const x=jo(h.pitch,p,hc);v.pitch=this._map.transform.pitch+x.amount,au(v,x)}if(v.zoom||v.bearing){const x=h.pinchAround===void 0?h.around:h.pinchAround;v.around=x?this._map.unproject(x):this._map.getCenter()}return this.clear(),l.e(v,{noMoveStart:!0})}}function au(_,i){(!_.duration||_.duration<i.duration)&&(_.duration=i.duration,_.easing=i.easing)}function jo(_,i,h){const{maxSpeed:p,linearity:v,deceleration:x}=h,U=l.ac(_*v/(i/1e3),-p,p),M=Math.abs(U)/(x*v);return{easing:h.easing,duration:1e3*M,amount:U*(M/2)}}class oi extends l.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(i,h,p,v={}){const x=F.mousePos(h.getCanvas(),p),U=h.unproject(x);super(i,l.e({point:x,lngLat:U,originalEvent:p},v)),this._defaultPrevented=!1,this.target=h}}class Ko extends l.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(i,h,p){const v=i==="touchend"?p.changedTouches:p.touches,x=F.touchPos(h.getCanvasContainer(),v),U=x.map((k=>h.unproject(k))),M=x.reduce(((k,Q,G,$)=>k.add(Q.div($.length))),new l.P(0,0));super(i,{points:x,point:M,lngLats:U,lngLat:h.unproject(M),originalEvent:p}),this._defaultPrevented=!1}}class Ls extends l.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(i,h,p){super(i,{originalEvent:p}),this._defaultPrevented=!1}}class xA{constructor(i,h){this._map=i,this._clickTolerance=h.clickTolerance}reset(){delete this._mousedownPos}wheel(i){return this._firePreventable(new Ls(i.type,this._map,i))}mousedown(i,h){return this._mousedownPos=h,this._firePreventable(new oi(i.type,this._map,i))}mouseup(i){this._map.fire(new oi(i.type,this._map,i))}click(i,h){this._mousedownPos&&this._mousedownPos.dist(h)>=this._clickTolerance||this._map.fire(new oi(i.type,this._map,i))}dblclick(i){return this._firePreventable(new oi(i.type,this._map,i))}mouseover(i){this._map.fire(new oi(i.type,this._map,i))}mouseout(i){this._map.fire(new oi(i.type,this._map,i))}touchstart(i){return this._firePreventable(new Ko(i.type,this._map,i))}touchmove(i){this._map.fire(new Ko(i.type,this._map,i))}touchend(i){this._map.fire(new Ko(i.type,this._map,i))}touchcancel(i){this._map.fire(new Ko(i.type,this._map,i))}_firePreventable(i){if(this._map.fire(i),i.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class _i{constructor(i){this._map=i}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(i){this._map.fire(new oi(i.type,this._map,i))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new oi("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(i){this._delayContextMenu?this._contextMenuEvent=i:this._ignoreContextMenu||this._map.fire(new oi(i.type,this._map,i)),this._map.listens("contextmenu")&&i.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class cs{constructor(i){this._map=i}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(i){return this.transform.pointLocation(l.P.convert(i),this._map.terrain)}}class ja{constructor(i,h){this._map=i,this._tr=new cs(i),this._el=i.getCanvasContainer(),this._container=i.getContainer(),this._clickTolerance=h.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(i,h){this.isEnabled()&&i.shiftKey&&i.button===0&&(F.disableDrag(),this._startPos=this._lastPos=h,this._active=!0)}mousemoveWindow(i,h){if(!this._active)return;const p=h;if(this._lastPos.equals(p)||!this._box&&p.dist(this._startPos)<this._clickTolerance)return;const v=this._startPos;this._lastPos=p,this._box||(this._box=F.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",i));const x=Math.min(v.x,p.x),U=Math.max(v.x,p.x),M=Math.min(v.y,p.y),k=Math.max(v.y,p.y);F.setTransform(this._box,`translate(${x}px,${M}px)`),this._box.style.width=U-x+"px",this._box.style.height=k-M+"px"}mouseupWindow(i,h){if(!this._active||i.button!==0)return;const p=this._startPos,v=h;if(this.reset(),F.suppressClick(),p.x!==v.x||p.y!==v.y)return this._map.fire(new l.k("boxzoomend",{originalEvent:i})),{cameraAnimation:x=>x.fitScreenCoordinates(p,v,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",i)}keydown(i){this._active&&i.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",i))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(F.remove(this._box),this._box=null),F.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(i,h){return this._map.fire(new l.k(i,{originalEvent:h}))}}function BA(_,i){if(_.length!==i.length)throw new Error(`The number of touches and points are not equal - touches ${_.length}, points ${i.length}`);const h={};for(let p=0;p<_.length;p++)h[_[p].identifier]=i[p];return h}class Vo{constructor(i){this.reset(),this.numTouches=i.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(i,h,p){(this.centroid||p.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=i.timeStamp),p.length===this.numTouches&&(this.centroid=(function(v){const x=new l.P(0,0);for(const U of v)x._add(U);return x.div(v.length)})(h),this.touches=BA(p,h)))}touchmove(i,h,p){if(this.aborted||!this.centroid)return;const v=BA(p,h);for(const x in this.touches){const U=v[x];(!U||U.dist(this.touches[x])>30)&&(this.aborted=!0)}}touchend(i,h,p){if((!this.centroid||i.timeStamp-this.startTime>500)&&(this.aborted=!0),p.length===0){const v=!this.aborted&&this.centroid;if(this.reset(),v)return v}}}class CA{constructor(i){this.singleTap=new Vo(i),this.numTaps=i.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(i,h,p){this.singleTap.touchstart(i,h,p)}touchmove(i,h,p){this.singleTap.touchmove(i,h,p)}touchend(i,h,p){const v=this.singleTap.touchend(i,h,p);if(v){const x=i.timeStamp-this.lastTime<500,U=!this.lastTap||this.lastTap.dist(v)<30;if(x&&U||this.reset(),this.count++,this.lastTime=i.timeStamp,this.lastTap=v,this.count===this.numTaps)return this.reset(),v}}}class Wi{constructor(i){this._tr=new cs(i),this._zoomIn=new CA({numTouches:1,numTaps:2}),this._zoomOut=new CA({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(i,h,p){this._zoomIn.touchstart(i,h,p),this._zoomOut.touchstart(i,h,p)}touchmove(i,h,p){this._zoomIn.touchmove(i,h,p),this._zoomOut.touchmove(i,h,p)}touchend(i,h,p){const v=this._zoomIn.touchend(i,h,p),x=this._zoomOut.touchend(i,h,p),U=this._tr;return v?(this._active=!0,i.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:M=>M.easeTo({duration:300,zoom:U.zoom+1,around:U.unproject(v)},{originalEvent:i})}):x?(this._active=!0,i.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:M=>M.easeTo({duration:300,zoom:U.zoom-1,around:U.unproject(x)},{originalEvent:i})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class bi{constructor(i){this._enabled=!!i.enable,this._moveStateManager=i.moveStateManager,this._clickTolerance=i.clickTolerance||1,this._moveFunction=i.move,this._activateOnStart=!!i.activateOnStart,i.assignEvents(this),this.reset()}reset(i){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(i)}_move(...i){const h=this._moveFunction(...i);if(h.bearingDelta||h.pitchDelta||h.around||h.panDelta)return this._active=!0,h}dragStart(i,h){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(i)&&(this._moveStateManager.startMove(i),this._lastPoint=h.length?h[0]:h,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(i,h){if(!this.isEnabled())return;const p=this._lastPoint;if(!p)return;if(i.preventDefault(),!this._moveStateManager.isValidMoveEvent(i))return void this.reset(i);const v=h.length?h[0]:h;return!this._moved&&v.dist(p)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=v,this._move(p,v))}dragEnd(i){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(i)&&(this._moved&&F.suppressClick(),this.reset(i))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const Uu={0:1,2:2};class va{constructor(i){this._correctEvent=i.checkCorrectEvent}startMove(i){const h=F.mouseButton(i);this._eventButton=h}endMove(i){delete this._eventButton}isValidStartEvent(i){return this._correctEvent(i)}isValidMoveEvent(i){return!(function(h,p){const v=Uu[p];return h.buttons===void 0||(h.buttons&v)!==v})(i,this._eventButton)}isValidEndEvent(i){return F.mouseButton(i)===this._eventButton}}class Lu{constructor(){this._firstTouch=void 0}_isOneFingerTouch(i){return i.targetTouches.length===1}_isSameTouchEvent(i){return i.targetTouches[0].identifier===this._firstTouch}startMove(i){this._firstTouch=i.targetTouches[0].identifier}endMove(i){delete this._firstTouch}isValidStartEvent(i){return this._isOneFingerTouch(i)}isValidMoveEvent(i){return this._isOneFingerTouch(i)&&this._isSameTouchEvent(i)}isValidEndEvent(i){return this._isOneFingerTouch(i)&&this._isSameTouchEvent(i)}}const hs=_=>{_.mousedown=_.dragStart,_.mousemoveWindow=_.dragMove,_.mouseup=_.dragEnd,_.contextmenu=i=>{i.preventDefault()}},su=({enable:_,clickTolerance:i,bearingDegreesPerPixelMoved:h=.8})=>{const p=new va({checkCorrectEvent:v=>F.mouseButton(v)===0&&v.ctrlKey||F.mouseButton(v)===2});return new bi({clickTolerance:i,move:(v,x)=>({bearingDelta:(x.x-v.x)*h}),moveStateManager:p,enable:_,assignEvents:hs})},SA=({enable:_,clickTolerance:i,pitchDegreesPerPixelMoved:h=-.5})=>{const p=new va({checkCorrectEvent:v=>F.mouseButton(v)===0&&v.ctrlKey||F.mouseButton(v)===2});return new bi({clickTolerance:i,move:(v,x)=>({pitchDelta:(x.y-v.y)*h}),moveStateManager:p,enable:_,assignEvents:hs})};class Ms{constructor(i,h){this._clickTolerance=i.clickTolerance||1,this._map=h,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new l.P(0,0)}_shouldBePrevented(i){return i<(this._map.cooperativeGestures.isEnabled()?2:1)}touchstart(i,h,p){return this._calculateTransform(i,h,p)}touchmove(i,h,p){if(this._active){if(!this._shouldBePrevented(p.length))return i.preventDefault(),this._calculateTransform(i,h,p);this._map.cooperativeGestures.notifyGestureBlocked("touch_pan",i)}}touchend(i,h,p){this._calculateTransform(i,h,p),this._active&&this._shouldBePrevented(p.length)&&this.reset()}touchcancel(){this.reset()}_calculateTransform(i,h,p){p.length>0&&(this._active=!0);const v=BA(p,h),x=new l.P(0,0),U=new l.P(0,0);let M=0;for(const Q in v){const G=v[Q],$=this._touches[Q];$&&(x._add(G),U._add(G.sub($)),M++,v[Q]=G)}if(this._touches=v,this._shouldBePrevented(M)||!U.mag())return;const k=U.div(M);return this._sum._add(k),this._sum.mag()<this._clickTolerance?void 0:{around:x.div(M),panDelta:k}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class EA{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(i,h,p){this._firstTwoTouches||p.length<2||(this._firstTwoTouches=[p[0].identifier,p[1].identifier],this._start([h[0],h[1]]))}touchmove(i,h,p){if(!this._firstTwoTouches)return;i.preventDefault();const[v,x]=this._firstTwoTouches,U=TA(p,h,v),M=TA(p,h,x);if(!U||!M)return;const k=this._aroundCenter?null:U.add(M).div(2);return this._move([U,M],k,i)}touchend(i,h,p){if(!this._firstTwoTouches)return;const[v,x]=this._firstTwoTouches,U=TA(p,h,v),M=TA(p,h,x);U&&M||(this._active&&F.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(i){this._enabled=!0,this._aroundCenter=!!i&&i.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}}function TA(_,i,h){for(let p=0;p<_.length;p++)if(_[p].identifier===h)return i[p]}function IA(_,i){return Math.log(_/i)/Math.LN2}class Mu extends EA{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(i){this._startDistance=this._distance=i[0].dist(i[1])}_move(i,h){const p=this._distance;if(this._distance=i[0].dist(i[1]),this._active||!(Math.abs(IA(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:IA(this._distance,p),pinchAround:h}}}function Ps(_,i){return 180*_.angleWith(i)/Math.PI}class FA extends EA{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(i){this._startVector=this._vector=i[0].sub(i[1]),this._minDiameter=i[0].dist(i[1])}_move(i,h,p){const v=this._vector;if(this._vector=i[0].sub(i[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Ps(this._vector,v),pinchAround:h}}_isBelowThreshold(i){this._minDiameter=Math.min(this._minDiameter,i.mag());const h=25/(Math.PI*this._minDiameter)*360,p=Ps(i,this._startVector);return Math.abs(p)<h}}function ml(_){return Math.abs(_.y)>Math.abs(_.x)}class UA extends EA{constructor(i){super(),this._currentTouchCount=0,this._map=i}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(i,h,p){super.touchstart(i,h,p),this._currentTouchCount=p.length}_start(i){this._lastPoints=i,ml(i[0].sub(i[1]))&&(this._valid=!1)}_move(i,h,p){if(this._map.cooperativeGestures.isEnabled()&&this._currentTouchCount<3)return;const v=i[0].sub(this._lastPoints[0]),x=i[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(v,x,p.timeStamp),this._valid?(this._lastPoints=i,this._active=!0,{pitchDelta:(v.y+x.y)/2*-.5}):void 0}gestureBeginsVertically(i,h,p){if(this._valid!==void 0)return this._valid;const v=i.mag()>=2,x=h.mag()>=2;if(!v&&!x)return;if(!v||!x)return this._firstMove===void 0&&(this._firstMove=p),p-this._firstMove<100&&void 0;const U=i.y>0==h.y>0;return ml(i)&&ml(h)&&U}}const Pu={panStep:100,bearingStep:15,pitchStep:10};class Oi{constructor(i){this._tr=new cs(i);const h=Pu;this._panStep=h.panStep,this._bearingStep=h.bearingStep,this._pitchStep=h.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(i){if(i.altKey||i.ctrlKey||i.metaKey)return;let h=0,p=0,v=0,x=0,U=0;switch(i.keyCode){case 61:case 107:case 171:case 187:h=1;break;case 189:case 109:case 173:h=-1;break;case 37:i.shiftKey?p=-1:(i.preventDefault(),x=-1);break;case 39:i.shiftKey?p=1:(i.preventDefault(),x=1);break;case 38:i.shiftKey?v=1:(i.preventDefault(),U=-1);break;case 40:i.shiftKey?v=-1:(i.preventDefault(),U=1);break;default:return}return this._rotationDisabled&&(p=0,v=0),{cameraAnimation:M=>{const k=this._tr;M.easeTo({duration:300,easeId:"keyboardHandler",easing:Yi,zoom:h?Math.round(k.zoom)+h*(i.shiftKey?2:1):k.zoom,bearing:k.bearing+p*this._bearingStep,pitch:k.pitch+v*this._pitchStep,offset:[-x*this._panStep,-U*this._panStep],center:k.center},{originalEvent:i})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Yi(_){return _*(2-_)}const yl=4.000244140625;class Ki{constructor(i,h){this._onTimeout=p=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(p)},this._map=i,this._tr=new cs(i),this._triggerRenderFrame=h,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222}setZoomRate(i){this._defaultZoomRate=i}setWheelZoomRate(i){this._wheelZoomRate=i}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(i){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!i&&i.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}_shouldBePrevented(i){return!!this._map.cooperativeGestures.isEnabled()&&!(i.ctrlKey||this._map.cooperativeGestures.isBypassed(i))}wheel(i){if(!this.isEnabled())return;if(this._shouldBePrevented(i))return void this._map.cooperativeGestures.notifyGestureBlocked("wheel_zoom",i);let h=i.deltaMode===WheelEvent.DOM_DELTA_LINE?40*i.deltaY:i.deltaY;const p=S.now(),v=p-(this._lastWheelEventTime||0);this._lastWheelEventTime=p,h!==0&&h%yl==0?this._type="wheel":h!==0&&Math.abs(h)<4?this._type="trackpad":v>400?(this._type=null,this._lastValue=h,this._timeout=setTimeout(this._onTimeout,40,i)):this._type||(this._type=Math.abs(v*h)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,h+=this._lastValue)),i.shiftKey&&h&&(h/=4),this._type&&(this._lastWheelEvent=i,this._delta-=h,this._active||this._start(i)),i.preventDefault()}_start(i){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const h=F.mousePos(this._map.getCanvas(),i),p=this._tr;this._around=h.y>p.transform.height/2-p.transform.getHorizon()?l.N.convert(this._aroundCenter?p.center:p.unproject(h)):l.N.convert(p.center),this._aroundPoint=p.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const i=this._tr.transform;if(this._delta!==0){const k=this._type==="wheel"&&Math.abs(this._delta)>yl?this._wheelZoomRate:this._defaultZoomRate;let Q=2/(1+Math.exp(-Math.abs(this._delta*k)));this._delta<0&&Q!==0&&(Q=1/Q);const G=typeof this._targetZoom=="number"?i.zoomScale(this._targetZoom):i.scale;this._targetZoom=Math.min(i.maxZoom,Math.max(i.minZoom,i.scaleZoom(G*Q))),this._type==="wheel"&&(this._startZoom=i.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const h=typeof this._targetZoom=="number"?this._targetZoom:i.zoom,p=this._startZoom,v=this._easing;let x,U=!1;const M=S.now()-this._lastWheelEventTime;if(this._type==="wheel"&&p&&v&&M){const k=Math.min(M/200,1),Q=v(k);x=l.y.number(p,h,Q),k<1?this._frameId||(this._frameId=!0):U=!0}else x=h,U=!0;return this._active=!0,U&&(this._active=!1,this._finishTimeout=setTimeout((()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout}),200)),{noInertia:!0,needsRenderFrame:!U,zoomDelta:x-i.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(i){let h=l.b9;if(this._prevEase){const p=this._prevEase,v=(S.now()-p.start)/p.duration,x=p.easing(v+.01)-p.easing(v),U=.27/Math.sqrt(x*x+1e-4)*.01,M=Math.sqrt(.0729-U*U);h=l.b8(U,M,.25,1)}return this._prevEase={start:S.now(),duration:i,easing:h},h}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class Ia{constructor(i,h){this._clickZoom=i,this._tapZoom=h}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Js{constructor(i){this._tr=new cs(i),this.reset()}reset(){this._active=!1}dblclick(i,h){return i.preventDefault(),{cameraAnimation:p=>{p.easeTo({duration:300,zoom:this._tr.zoom+(i.shiftKey?-1:1),around:this._tr.unproject(h)},{originalEvent:i})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class mf{constructor(){this._tap=new CA({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(i,h,p){if(!this._swipePoint)if(this._tapTime){const v=h[0],x=i.timeStamp-this._tapTime<500,U=this._tapPoint.dist(v)<30;x&&U?p.length>0&&(this._swipePoint=v,this._swipeTouch=p[0].identifier):this.reset()}else this._tap.touchstart(i,h,p)}touchmove(i,h,p){if(this._tapTime){if(this._swipePoint){if(p[0].identifier!==this._swipeTouch)return;const v=h[0],x=v.y-this._swipePoint.y;return this._swipePoint=v,i.preventDefault(),this._active=!0,{zoomDelta:x/128}}}else this._tap.touchmove(i,h,p)}touchend(i,h,p){if(this._tapTime)this._swipePoint&&p.length===0&&this.reset();else{const v=this._tap.touchend(i,h,p);v&&(this._tapTime=i.timeStamp,this._tapPoint=v)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Rc{constructor(i,h,p){this._el=i,this._mousePan=h,this._touchPan=p}enable(i){this._inertiaOptions=i||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class dc{constructor(i,h,p){this._pitchWithRotate=i.pitchWithRotate,this._mouseRotate=h,this._mousePitch=p}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class zc{constructor(i,h,p,v){this._el=i,this._touchZoom=h,this._touchRotate=p,this._tapDragZoom=v,this._rotationDisabled=!1,this._enabled=!0}enable(i){this._touchZoom.enable(i),this._rotationDisabled||this._touchRotate.enable(i),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}class Vi{constructor(i,h){this._bypassKey=navigator.userAgent.indexOf("Mac")!==-1?"metaKey":"ctrlKey",this._map=i,this._options=h,this._enabled=!1}isActive(){return!1}reset(){}_setupUI(){if(this._container)return;const i=this._map.getCanvasContainer();i.classList.add("maplibregl-cooperative-gestures"),this._container=F.create("div","maplibregl-cooperative-gesture-screen",i);let h=this._map._getUIString("CooperativeGesturesHandler.WindowsHelpText");this._bypassKey==="metaKey"&&(h=this._map._getUIString("CooperativeGesturesHandler.MacHelpText"));const p=this._map._getUIString("CooperativeGesturesHandler.MobileHelpText"),v=document.createElement("div");v.className="maplibregl-desktop-message",v.textContent=h,this._container.appendChild(v);const x=document.createElement("div");x.className="maplibregl-mobile-message",x.textContent=p,this._container.appendChild(x),this._container.setAttribute("aria-hidden","true")}_destroyUI(){this._container&&(F.remove(this._container),this._map.getCanvasContainer().classList.remove("maplibregl-cooperative-gestures")),delete this._container}enable(){this._setupUI(),this._enabled=!0}disable(){this._enabled=!1,this._destroyUI()}isEnabled(){return this._enabled}isBypassed(i){return i[this._bypassKey]}notifyGestureBlocked(i,h){this._enabled&&(this._map.fire(new l.k("cooperativegestureprevented",{gestureType:i,originalEvent:h})),this._container.classList.add("maplibregl-show"),setTimeout((()=>{this._container.classList.remove("maplibregl-show")}),100))}}const Mn=_=>_.zoom||_.drag||_.pitch||_.rotate;class Rt extends l.k{}function Fa(_){return _.panDelta&&_.panDelta.mag()||_.zoomDelta||_.bearingDelta||_.pitchDelta}class Si{constructor(i,h){this.handleWindowEvent=v=>{this.handleEvent(v,`${v.type}Window`)},this.handleEvent=(v,x)=>{if(v.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const U=v.type==="renderFrame"?void 0:v,M={needsRenderFrame:!1},k={},Q={},G=v.touches,$=G?this._getMapTouches(G):void 0,J=$?F.touchPos(this._map.getCanvas(),$):F.mousePos(this._map.getCanvas(),v);for(const{handlerName:pe,handler:Be,allowed:we}of this._handlers){if(!Be.isEnabled())continue;let Qe;this._blockedByActive(Q,we,pe)?Be.reset():Be[x||v.type]&&(Qe=Be[x||v.type](v,J,$),this.mergeHandlerResult(M,k,Qe,pe,U),Qe&&Qe.needsRenderFrame&&this._triggerRenderFrame()),(Qe||Be.isActive())&&(Q[pe]=Be)}const te={};for(const pe in this._previousActiveHandlers)Q[pe]||(te[pe]=U);this._previousActiveHandlers=Q,(Object.keys(te).length||Fa(M))&&(this._changes.push([M,k,te]),this._triggerRenderFrame()),(Object.keys(Q).length||Fa(M))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:ue}=M;ue&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],ue(this._map))},this._map=i,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new fc(i),this._bearingSnap=h.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(h);const p=this._el;this._listeners=[[p,"touchstart",{passive:!0}],[p,"touchmove",{passive:!1}],[p,"touchend",void 0],[p,"touchcancel",void 0],[p,"mousedown",void 0],[p,"mousemove",void 0],[p,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[p,"mouseover",void 0],[p,"mouseout",void 0],[p,"dblclick",void 0],[p,"click",void 0],[p,"keydown",{capture:!1}],[p,"keyup",void 0],[p,"wheel",{passive:!1}],[p,"contextmenu",void 0],[window,"blur",void 0]];for(const[v,x,U]of this._listeners)F.addEventListener(v,x,v===document?this.handleWindowEvent:this.handleEvent,U)}destroy(){for(const[i,h,p]of this._listeners)F.removeEventListener(i,h,i===document?this.handleWindowEvent:this.handleEvent,p)}_addDefaultHandlers(i){const h=this._map,p=h.getCanvasContainer();this._add("mapEvent",new xA(h,i));const v=h.boxZoom=new ja(h,i);this._add("boxZoom",v),i.interactive&&i.boxZoom&&v.enable();const x=h.cooperativeGestures=new Vi(h,i.cooperativeGestures);this._add("cooperativeGestures",x),i.cooperativeGestures&&x.enable();const U=new Wi(h),M=new Js(h);h.doubleClickZoom=new Ia(M,U),this._add("tapZoom",U),this._add("clickZoom",M),i.interactive&&i.doubleClickZoom&&h.doubleClickZoom.enable();const k=new mf;this._add("tapDragZoom",k);const Q=h.touchPitch=new UA(h);this._add("touchPitch",Q),i.interactive&&i.touchPitch&&h.touchPitch.enable(i.touchPitch);const G=su(i),$=SA(i);h.dragRotate=new dc(i,G,$),this._add("mouseRotate",G,["mousePitch"]),this._add("mousePitch",$,["mouseRotate"]),i.interactive&&i.dragRotate&&h.dragRotate.enable();const J=(({enable:Qe,clickTolerance:Se})=>{const $e=new va({checkCorrectEvent:qe=>F.mouseButton(qe)===0&&!qe.ctrlKey});return new bi({clickTolerance:Se,move:(qe,at)=>({around:at,panDelta:at.sub(qe)}),activateOnStart:!0,moveStateManager:$e,enable:Qe,assignEvents:hs})})(i),te=new Ms(i,h);h.dragPan=new Rc(p,J,te),this._add("mousePan",J),this._add("touchPan",te,["touchZoom","touchRotate"]),i.interactive&&i.dragPan&&h.dragPan.enable(i.dragPan);const ue=new FA,pe=new Mu;h.touchZoomRotate=new zc(p,pe,ue,k),this._add("touchRotate",ue,["touchPan","touchZoom"]),this._add("touchZoom",pe,["touchPan","touchRotate"]),i.interactive&&i.touchZoomRotate&&h.touchZoomRotate.enable(i.touchZoomRotate);const Be=h.scrollZoom=new Ki(h,(()=>this._triggerRenderFrame()));this._add("scrollZoom",Be,["mousePan"]),i.interactive&&i.scrollZoom&&h.scrollZoom.enable(i.scrollZoom);const we=h.keyboard=new Oi(h);this._add("keyboard",we),i.interactive&&i.keyboard&&h.keyboard.enable(),this._add("blockableMapEvent",new _i(h))}_add(i,h,p){this._handlers.push({handlerName:i,handler:h,allowed:p}),this._handlersById[i]=h}stop(i){if(!this._updatingCamera){for(const{handler:h}of this._handlers)h.reset();this._inertia.clear(),this._fireEvents({},{},i),this._changes=[]}}isActive(){for(const{handler:i}of this._handlers)if(i.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Mn(this._eventsInProgress)||this.isZooming()}_blockedByActive(i,h,p){for(const v in i)if(v!==p&&(!h||h.indexOf(v)<0))return!0;return!1}_getMapTouches(i){const h=[];for(const p of i)this._el.contains(p.target)&&h.push(p);return h}mergeHandlerResult(i,h,p,v,x){if(!p)return;l.e(i,p);const U={handlerName:v,originalEvent:p.originalEvent||x};p.zoomDelta!==void 0&&(h.zoom=U),p.panDelta!==void 0&&(h.drag=U),p.pitchDelta!==void 0&&(h.pitch=U),p.bearingDelta!==void 0&&(h.rotate=U)}_applyChanges(){const i={},h={},p={};for(const[v,x,U]of this._changes)v.panDelta&&(i.panDelta=(i.panDelta||new l.P(0,0))._add(v.panDelta)),v.zoomDelta&&(i.zoomDelta=(i.zoomDelta||0)+v.zoomDelta),v.bearingDelta&&(i.bearingDelta=(i.bearingDelta||0)+v.bearingDelta),v.pitchDelta&&(i.pitchDelta=(i.pitchDelta||0)+v.pitchDelta),v.around!==void 0&&(i.around=v.around),v.pinchAround!==void 0&&(i.pinchAround=v.pinchAround),v.noInertia&&(i.noInertia=v.noInertia),l.e(h,x),l.e(p,U);this._updateMapTransform(i,h,p),this._changes=[]}_updateMapTransform(i,h,p){const v=this._map,x=v._getTransformForUpdate(),U=v.terrain;if(!(Fa(i)||U&&this._terrainMovement))return this._fireEvents(h,p,!0);let{panDelta:M,zoomDelta:k,bearingDelta:Q,pitchDelta:G,around:$,pinchAround:J}=i;J!==void 0&&($=J),v._stop(!0),$=$||v.transform.centerPoint;const te=x.pointLocation(M?$.sub(M):$);Q&&(x.bearing+=Q),G&&(x.pitch+=G),k&&(x.zoom+=k),U?this._terrainMovement||!h.drag&&!h.zoom?h.drag&&this._terrainMovement?x.center=x.pointLocation(x.centerPoint.sub(M)):x.setLocationAtPoint(te,$):(this._terrainMovement=!0,this._map._elevationFreeze=!0,x.setLocationAtPoint(te,$)):x.setLocationAtPoint(te,$),v._applyUpdatedTransform(x),this._map._update(),i.noInertia||this._inertia.record(i),this._fireEvents(h,p,!0)}_fireEvents(i,h,p){const v=Mn(this._eventsInProgress),x=Mn(i),U={};for(const $ in i){const{originalEvent:J}=i[$];this._eventsInProgress[$]||(U[`${$}start`]=J),this._eventsInProgress[$]=i[$]}!v&&x&&this._fireEvent("movestart",x.originalEvent);for(const $ in U)this._fireEvent($,U[$]);x&&this._fireEvent("move",x.originalEvent);for(const $ in i){const{originalEvent:J}=i[$];this._fireEvent($,J)}const M={};let k;for(const $ in this._eventsInProgress){const{handlerName:J,originalEvent:te}=this._eventsInProgress[$];this._handlersById[J].isActive()||(delete this._eventsInProgress[$],k=h[J]||te,M[`${$}end`]=k)}for(const $ in M)this._fireEvent($,M[$]);const Q=Mn(this._eventsInProgress),G=(v||x)&&!Q;if(G&&this._terrainMovement){this._map._elevationFreeze=!1,this._terrainMovement=!1;const $=this._map._getTransformForUpdate();$.recalculateZoom(this._map.terrain),this._map._applyUpdatedTransform($)}if(p&&G){this._updatingCamera=!0;const $=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),J=te=>te!==0&&-this._bearingSnap<te&&te<this._bearingSnap;!$||!$.essential&&S.prefersReducedMotion?(this._map.fire(new l.k("moveend",{originalEvent:k})),J(this._map.getBearing())&&this._map.resetNorth()):(J($.bearing||this._map.getBearing())&&($.bearing=0),$.freezeElevation=!0,this._map.easeTo($,{originalEvent:k})),this._updatingCamera=!1}}_fireEvent(i,h){this._map.fire(new l.k(i,h?{originalEvent:h}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add((i=>{delete this._frameId,this.handleEvent(new Rt("renderFrame",{timeStamp:i})),this._applyChanges()}))}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class bo extends l.E{constructor(i,h){super(),this._renderFrameCallback=()=>{const p=Math.min((S.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(p)),p<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=i,this._bearingSnap=h.bearingSnap,this.on("moveend",(()=>{delete this._requestedCameraState}))}getCenter(){return new l.N(this.transform.center.lng,this.transform.center.lat)}setCenter(i,h){return this.jumpTo({center:i},h)}panBy(i,h,p){return i=l.P.convert(i).mult(-1),this.panTo(this.transform.center,l.e({offset:i},h),p)}panTo(i,h,p){return this.easeTo(l.e({center:i},h),p)}getZoom(){return this.transform.zoom}setZoom(i,h){return this.jumpTo({zoom:i},h),this}zoomTo(i,h,p){return this.easeTo(l.e({zoom:i},h),p)}zoomIn(i,h){return this.zoomTo(this.getZoom()+1,i,h),this}zoomOut(i,h){return this.zoomTo(this.getZoom()-1,i,h),this}getBearing(){return this.transform.bearing}setBearing(i,h){return this.jumpTo({bearing:i},h),this}getPadding(){return this.transform.padding}setPadding(i,h){return this.jumpTo({padding:i},h),this}rotateTo(i,h,p){return this.easeTo(l.e({bearing:i},h),p)}resetNorth(i,h){return this.rotateTo(0,l.e({duration:1e3},i),h),this}resetNorthPitch(i,h){return this.easeTo(l.e({bearing:0,pitch:0,duration:1e3},i),h),this}snapToNorth(i,h){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(i,h):this}getPitch(){return this.transform.pitch}setPitch(i,h){return this.jumpTo({pitch:i},h),this}cameraForBounds(i,h){i=Ye.convert(i).adjustAntiMeridian();const p=h&&h.bearing||0;return this._cameraForBoxAndBearing(i.getNorthWest(),i.getSouthEast(),p,h)}_cameraForBoxAndBearing(i,h,p,v){const x={top:0,bottom:0,right:0,left:0};if(typeof(v=l.e({padding:x,offset:[0,0],maxZoom:this.transform.maxZoom},v)).padding=="number"){const Qt=v.padding;v.padding={top:Qt,bottom:Qt,right:Qt,left:Qt}}v.padding=l.e(x,v.padding);const U=this.transform,M=U.padding,k=new Ye(i,h),Q=U.project(k.getNorthWest()),G=U.project(k.getNorthEast()),$=U.project(k.getSouthEast()),J=U.project(k.getSouthWest()),te=l.ba(-p),ue=Q.rotate(te),pe=G.rotate(te),Be=$.rotate(te),we=J.rotate(te),Qe=new l.P(Math.max(ue.x,pe.x,we.x,Be.x),Math.max(ue.y,pe.y,we.y,Be.y)),Se=new l.P(Math.min(ue.x,pe.x,we.x,Be.x),Math.min(ue.y,pe.y,we.y,Be.y)),$e=Qe.sub(Se),qe=(U.width-(M.left+M.right+v.padding.left+v.padding.right))/$e.x,at=(U.height-(M.top+M.bottom+v.padding.top+v.padding.bottom))/$e.y;if(at<0||qe<0)return void l.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const wt=Math.min(U.scaleZoom(U.scale*Math.min(qe,at)),v.maxZoom),St=l.P.convert(v.offset),_t=new l.P((v.padding.left-v.padding.right)/2,(v.padding.top-v.padding.bottom)/2).rotate(l.ba(p)),mt=St.add(_t).mult(U.scale/U.zoomScale(wt));return{center:U.unproject(Q.add($).div(2).sub(mt)),zoom:wt,bearing:p}}fitBounds(i,h,p){return this._fitInternal(this.cameraForBounds(i,h),h,p)}fitScreenCoordinates(i,h,p,v,x){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(l.P.convert(i)),this.transform.pointLocation(l.P.convert(h)),p,v),v,x)}_fitInternal(i,h,p){return i?(delete(h=l.e(i,h)).padding,h.linear?this.easeTo(h,p):this.flyTo(h,p)):this}jumpTo(i,h){this.stop();const p=this._getTransformForUpdate();let v=!1,x=!1,U=!1;return"zoom"in i&&p.zoom!==+i.zoom&&(v=!0,p.zoom=+i.zoom),i.center!==void 0&&(p.center=l.N.convert(i.center)),"bearing"in i&&p.bearing!==+i.bearing&&(x=!0,p.bearing=+i.bearing),"pitch"in i&&p.pitch!==+i.pitch&&(U=!0,p.pitch=+i.pitch),i.padding==null||p.isPaddingEqual(i.padding)||(p.padding=i.padding),this._applyUpdatedTransform(p),this.fire(new l.k("movestart",h)).fire(new l.k("move",h)),v&&this.fire(new l.k("zoomstart",h)).fire(new l.k("zoom",h)).fire(new l.k("zoomend",h)),x&&this.fire(new l.k("rotatestart",h)).fire(new l.k("rotate",h)).fire(new l.k("rotateend",h)),U&&this.fire(new l.k("pitchstart",h)).fire(new l.k("pitch",h)).fire(new l.k("pitchend",h)),this.fire(new l.k("moveend",h))}calculateCameraOptionsFromTo(i,h,p,v=0){const x=l.Z.fromLngLat(i,h),U=l.Z.fromLngLat(p,v),M=U.x-x.x,k=U.y-x.y,Q=U.z-x.z,G=Math.hypot(M,k,Q);if(G===0)throw new Error("Can't calculate camera options with same From and To");const $=Math.hypot(M,k),J=this.transform.scaleZoom(this.transform.cameraToCenterDistance/G/this.transform.tileSize),te=180*Math.atan2(M,-k)/Math.PI;let ue=180*Math.acos($/G)/Math.PI;return ue=Q<0?90-ue:90+ue,{center:U.toLngLat(),zoom:J,pitch:ue,bearing:te}}easeTo(i,h){var p;this._stop(!1,i.easeId),((i=l.e({offset:[0,0],duration:500,easing:l.b9},i)).animate===!1||!i.essential&&S.prefersReducedMotion)&&(i.duration=0);const v=this._getTransformForUpdate(),x=v.zoom,U=v.bearing,M=v.pitch,k=v.padding,Q="bearing"in i?this._normalizeBearing(i.bearing,U):U,G="pitch"in i?+i.pitch:M,$="padding"in i?i.padding:v.padding,J=l.P.convert(i.offset);let te=v.centerPoint.add(J);const ue=v.pointLocation(te),{center:pe,zoom:Be}=v.getConstrained(l.N.convert(i.center||ue),(p=i.zoom)!==null&&p!==void 0?p:x);this._normalizeCenter(pe,v);const we=v.project(ue),Qe=v.project(pe).sub(we),Se=v.zoomScale(Be-x);let $e,qe;i.around&&($e=l.N.convert(i.around),qe=v.locationPoint($e));const at={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||Be!==x,this._rotating=this._rotating||U!==Q,this._pitching=this._pitching||G!==M,this._padding=!v.isPaddingEqual($),this._easeId=i.easeId,this._prepareEase(h,i.noMoveStart,at),this.terrain&&this._prepareElevation(pe),this._ease((wt=>{if(this._zooming&&(v.zoom=l.y.number(x,Be,wt)),this._rotating&&(v.bearing=l.y.number(U,Q,wt)),this._pitching&&(v.pitch=l.y.number(M,G,wt)),this._padding&&(v.interpolatePadding(k,$,wt),te=v.centerPoint.add(J)),this.terrain&&!i.freezeElevation&&this._updateElevation(wt),$e)v.setLocationAtPoint($e,qe);else{const St=v.zoomScale(v.zoom-x),_t=Be>x?Math.min(2,Se):Math.max(.5,Se),mt=Math.pow(_t,1-wt),Qt=v.unproject(we.add(Qe.mult(wt*mt)).mult(St));v.setLocationAtPoint(v.renderWorldCopies?Qt.wrap():Qt,te)}this._applyUpdatedTransform(v),this._fireMoveEvents(h)}),(wt=>{this.terrain&&i.freezeElevation&&this._finalizeElevation(),this._afterEase(h,wt)}),i),this}_prepareEase(i,h,p={}){this._moving=!0,h||p.moving||this.fire(new l.k("movestart",i)),this._zooming&&!p.zooming&&this.fire(new l.k("zoomstart",i)),this._rotating&&!p.rotating&&this.fire(new l.k("rotatestart",i)),this._pitching&&!p.pitching&&this.fire(new l.k("pitchstart",i))}_prepareElevation(i){this._elevationCenter=i,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(i,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(i){this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);const h=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(i<1&&h!==this._elevationTarget){const p=this._elevationTarget-this._elevationStart;this._elevationStart+=i*(p-(h-(p*i+this._elevationStart))/(1-i)),this._elevationTarget=h}this.transform.elevation=l.y.number(this._elevationStart,this._elevationTarget,i)}_finalizeElevation(){this._elevationFreeze=!1,this.transform.recalculateZoom(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate||this.terrain?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_elevateCameraIfInsideTerrain(i){const h=i.getCameraPosition(),p=this.terrain.getElevationForLngLatZoom(h.lngLat,i.zoom);if(h.altitude<p){const v=this.calculateCameraOptionsFromTo(h.lngLat,p,i.center,i.elevation);return{pitch:v.pitch,zoom:v.zoom}}return{}}_applyUpdatedTransform(i){const h=[];if(this.terrain&&h.push((v=>this._elevateCameraIfInsideTerrain(v))),this.transformCameraUpdate&&h.push((v=>this.transformCameraUpdate(v))),!h.length)return;const p=i.clone();for(const v of h){const x=p.clone(),{center:U,zoom:M,pitch:k,bearing:Q,elevation:G}=v(x);U&&(x.center=U),M!==void 0&&(x.zoom=M),k!==void 0&&(x.pitch=k),Q!==void 0&&(x.bearing=Q),G!==void 0&&(x.elevation=G),p.apply(x)}this.transform.apply(p)}_fireMoveEvents(i){this.fire(new l.k("move",i)),this._zooming&&this.fire(new l.k("zoom",i)),this._rotating&&this.fire(new l.k("rotate",i)),this._pitching&&this.fire(new l.k("pitch",i))}_afterEase(i,h){if(this._easeId&&h&&this._easeId===h)return;delete this._easeId;const p=this._zooming,v=this._rotating,x=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,p&&this.fire(new l.k("zoomend",i)),v&&this.fire(new l.k("rotateend",i)),x&&this.fire(new l.k("pitchend",i)),this.fire(new l.k("moveend",i))}flyTo(i,h){var p;if(!i.essential&&S.prefersReducedMotion){const $t=l.M(i,["center","zoom","bearing","pitch","around"]);return this.jumpTo($t,h)}this.stop(),i=l.e({offset:[0,0],speed:1.2,curve:1.42,easing:l.b9},i);const v=this._getTransformForUpdate(),x=v.zoom,U=v.bearing,M=v.pitch,k=v.padding,Q="bearing"in i?this._normalizeBearing(i.bearing,U):U,G="pitch"in i?+i.pitch:M,$="padding"in i?i.padding:v.padding,J=l.P.convert(i.offset);let te=v.centerPoint.add(J);const ue=v.pointLocation(te),{center:pe,zoom:Be}=v.getConstrained(l.N.convert(i.center||ue),(p=i.zoom)!==null&&p!==void 0?p:x);this._normalizeCenter(pe,v);const we=v.zoomScale(Be-x),Qe=v.project(ue),Se=v.project(pe).sub(Qe);let $e=i.curve;const qe=Math.max(v.width,v.height),at=qe/we,wt=Se.mag();if("minZoom"in i){const $t=l.ac(Math.min(i.minZoom,x,Be),v.minZoom,v.maxZoom),rr=qe/v.zoomScale($t-x);$e=Math.sqrt(rr/wt*2)}const St=$e*$e;function _t($t){const rr=(at*at-qe*qe+($t?-1:1)*St*St*wt*wt)/(2*($t?at:qe)*St*wt);return Math.log(Math.sqrt(rr*rr+1)-rr)}function mt($t){return(Math.exp($t)-Math.exp(-$t))/2}function Qt($t){return(Math.exp($t)+Math.exp(-$t))/2}const Et=_t(!1);let zt=function($t){return Qt(Et)/Qt(Et+$e*$t)},tr=function($t){return qe*((Qt(Et)*(mt(rr=Et+$e*$t)/Qt(rr))-mt(Et))/St)/wt;var rr},Vt=(_t(!0)-Et)/$e;if(Math.abs(wt)<1e-6||!isFinite(Vt)){if(Math.abs(qe-at)<1e-6)return this.easeTo(i,h);const $t=at<qe?-1:1;Vt=Math.abs(Math.log(at/qe))/$e,tr=()=>0,zt=rr=>Math.exp($t*$e*rr)}return i.duration="duration"in i?+i.duration:1e3*Vt/("screenSpeed"in i?+i.screenSpeed/$e:+i.speed),i.maxDuration&&i.duration>i.maxDuration&&(i.duration=0),this._zooming=!0,this._rotating=U!==Q,this._pitching=G!==M,this._padding=!v.isPaddingEqual($),this._prepareEase(h,!1),this.terrain&&this._prepareElevation(pe),this._ease(($t=>{const rr=$t*Vt,un=1/zt(rr);v.zoom=$t===1?Be:x+v.scaleZoom(un),this._rotating&&(v.bearing=l.y.number(U,Q,$t)),this._pitching&&(v.pitch=l.y.number(M,G,$t)),this._padding&&(v.interpolatePadding(k,$,$t),te=v.centerPoint.add(J)),this.terrain&&!i.freezeElevation&&this._updateElevation($t);const Ir=$t===1?pe:v.unproject(Qe.add(Se.mult(tr(rr))).mult(un));v.setLocationAtPoint(v.renderWorldCopies?Ir.wrap():Ir,te),this._applyUpdatedTransform(v),this._fireMoveEvents(h)}),(()=>{this.terrain&&i.freezeElevation&&this._finalizeElevation(),this._afterEase(h)}),i),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(i,h){var p;if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const v=this._onEaseEnd;delete this._onEaseEnd,v.call(this,h)}return i||(p=this.handlers)===null||p===void 0||p.stop(!1),this}_ease(i,h,p){p.animate===!1||p.duration===0?(i(1),h()):(this._easeStart=S.now(),this._easeOptions=p,this._onEaseFrame=i,this._onEaseEnd=h,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(i,h){i=l.b3(i,-180,180);const p=Math.abs(i-h);return Math.abs(i-360-h)<p&&(i-=360),Math.abs(i+360-h)<p&&(i+=360),i}_normalizeCenter(i,h){if(!h.renderWorldCopies||h.lngRange)return;const p=i.lng-h.center.lng;i.lng+=p>180?-360:p<-180?360:0}queryTerrainElevation(i){return this.terrain?this.terrain.getElevationForLngLatZoom(l.N.convert(i),this.transform.tileZoom)-this.transform.elevation:null}}const eo={compact:!0,customAttribution:'<a href="https://maplibre.org/" target="_blank">MapLibre</a>'};class LA{constructor(i=eo){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=h=>{!h||h.sourceDataType!=="metadata"&&h.sourceDataType!=="visibility"&&h.dataType!=="style"&&h.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=i}getDefaultPosition(){return"bottom-right"}onAdd(i){return this._map=i,this._compact=this.options.compact,this._container=F.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=F.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=F.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){F.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(i,h){const p=this._map._getUIString(`AttributionControl.${h}`);i.title=p,i.setAttribute("aria-label",p)}_updateAttributions(){if(!this._map.style)return;let i=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?i=i.concat(this.options.customAttribution.map((v=>typeof v!="string"?"":v))):typeof this.options.customAttribution=="string"&&i.push(this.options.customAttribution)),this._map.style.stylesheet){const v=this._map.style.stylesheet;this.styleOwner=v.owner,this.styleId=v.id}const h=this._map.style.sourceCaches;for(const v in h){const x=h[v];if(x.used||x.usedForTerrain){const U=x.getSource();U.attribution&&i.indexOf(U.attribution)<0&&i.push(U.attribution)}}i=i.filter((v=>String(v).trim())),i.sort(((v,x)=>v.length-x.length)),i=i.filter(((v,x)=>{for(let U=x+1;U<i.length;U++)if(i[U].indexOf(v)>=0)return!1;return!0}));const p=i.join(" | ");p!==this._attribHTML&&(this._attribHTML=p,i.length?(this._innerContainer.innerHTML=p,this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class qo{constructor(i={}){this._updateCompact=()=>{const h=this._container.children;if(h.length){const p=h[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&p.classList.add("maplibregl-compact"):p.classList.remove("maplibregl-compact")}},this.options=i}getDefaultPosition(){return"bottom-left"}onAdd(i){this._map=i,this._compact=this.options&&this.options.compact,this._container=F.create("div","maplibregl-ctrl");const h=F.create("a","maplibregl-ctrl-logo");return h.target="_blank",h.rel="noopener nofollow",h.href="https://maplibre.org/",h.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),h.setAttribute("rel","noopener nofollow"),this._container.appendChild(h),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){F.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class Hr{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(i){const h=++this._id;return this._queue.push({callback:i,id:h,cancelled:!1}),h}remove(i){const h=this._currentlyRunning,p=h?this._queue.concat(h):this._queue;for(const v of p)if(v.id===i)return void(v.cancelled=!0)}run(i=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const h=this._currentlyRunning=this._queue;this._queue=[];for(const p of h)if(!p.cancelled&&(p.callback(i),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}var $l=l.Y([{name:"a_pos3d",type:"Int16",components:3}]);class Sh extends l.E{constructor(i){super(),this.sourceCache=i,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,i.usedForTerrain=!0,i.tileSize=this.tileSize*2**this.deltaZoom}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(i,h){this.sourceCache.update(i,h),this._renderableTilesKeys=[];const p={};for(const v of i.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:h}))p[v.key]=!0,this._renderableTilesKeys.push(v.key),this._tiles[v.key]||(v.posMatrix=new Float64Array(16),l.aP(v.posMatrix,0,l.X,0,l.X,0,1),this._tiles[v.key]=new ri(v,this.tileSize));for(const v in this._tiles)p[v]||delete this._tiles[v]}freeRtt(i){for(const h in this._tiles){const p=this._tiles[h];(!i||p.tileID.equals(i)||p.tileID.isChildOf(i)||i.isChildOf(p.tileID))&&(p.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map((i=>this.getTileByID(i)))}getTileByID(i){return this._tiles[i]}getTerrainCoords(i){const h={};for(const p of this._renderableTilesKeys){const v=this._tiles[p].tileID;if(v.canonical.equals(i.canonical)){const x=i.clone();x.posMatrix=new Float64Array(16),l.aP(x.posMatrix,0,l.X,0,l.X,0,1),h[p]=x}else if(v.canonical.isChildOf(i.canonical)){const x=i.clone();x.posMatrix=new Float64Array(16);const U=v.canonical.z-i.canonical.z,M=v.canonical.x-(v.canonical.x>>U<<U),k=v.canonical.y-(v.canonical.y>>U<<U),Q=l.X>>U;l.aP(x.posMatrix,0,Q,0,Q,0,1),l.J(x.posMatrix,x.posMatrix,[-M*Q,-k*Q,0]),h[p]=x}else if(i.canonical.isChildOf(v.canonical)){const x=i.clone();x.posMatrix=new Float64Array(16);const U=i.canonical.z-v.canonical.z,M=i.canonical.x-(i.canonical.x>>U<<U),k=i.canonical.y-(i.canonical.y>>U<<U),Q=l.X>>U;l.aP(x.posMatrix,0,l.X,0,l.X,0,1),l.J(x.posMatrix,x.posMatrix,[M*Q,k*Q,0]),l.K(x.posMatrix,x.posMatrix,[1/2**U,1/2**U,0]),h[p]=x}}return h}getSourceTile(i,h){const p=this.sourceCache._source;let v=i.overscaledZ-this.deltaZoom;if(v>p.maxzoom&&(v=p.maxzoom),v<p.minzoom)return null;this._sourceTileCache[i.key]||(this._sourceTileCache[i.key]=i.scaledTo(v).key);let x=this.sourceCache.getTileByID(this._sourceTileCache[i.key]);if((!x||!x.dem)&&h)for(;v>=p.minzoom&&(!x||!x.dem);)x=this.sourceCache.getTileByID(i.scaledTo(v--).key);return x}tilesAfterTime(i=Date.now()){return Object.values(this._tiles).filter((h=>h.timeAdded>=i))}}class MA{constructor(i,h,p){this.painter=i,this.sourceCache=new Sh(h),this.options=p,this.exaggeration=typeof p.exaggeration=="number"?p.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(i,h,p,v=l.X){var x;if(!(h>=0&&h<v&&p>=0&&p<v))return 0;const U=this.getTerrainData(i),M=(x=U.tile)===null||x===void 0?void 0:x.dem;if(!M)return 0;const k=(function(ue,pe,Be){var we=pe[0],Qe=pe[1];return ue[0]=Be[0]*we+Be[4]*Qe+Be[12],ue[1]=Be[1]*we+Be[5]*Qe+Be[13],ue})([],[h/v*l.X,p/v*l.X],U.u_terrain_matrix),Q=[k[0]*M.dim,k[1]*M.dim],G=Math.floor(Q[0]),$=Math.floor(Q[1]),J=Q[0]-G,te=Q[1]-$;return M.get(G,$)*(1-J)*(1-te)+M.get(G+1,$)*J*(1-te)+M.get(G,$+1)*(1-J)*te+M.get(G+1,$+1)*J*te}getElevationForLngLatZoom(i,h){if(!l.bb(h,i.wrap()))return 0;const{tileID:p,mercatorX:v,mercatorY:x}=this._getOverscaledTileIDFromLngLatZoom(i,h);return this.getElevation(p,v%l.X,x%l.X,l.X)}getElevation(i,h,p,v=l.X){return this.getDEMElevation(i,h,p,v)*this.exaggeration}getTerrainData(i){if(!this._emptyDemTexture){const v=this.painter.context,x=new l.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new ie(v,x,v.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new ie(v,new l.R({width:1,height:1}),v.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(v.gl.NEAREST,v.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=l.an([])}const h=this.sourceCache.getSourceTile(i,!0);if(h&&h.dem&&(!h.demTexture||h.needsTerrainPrepare)){const v=this.painter.context;h.demTexture=this.painter.getTileTexture(h.dem.stride),h.demTexture?h.demTexture.update(h.dem.getPixels(),{premultiply:!1}):h.demTexture=new ie(v,h.dem.getPixels(),v.gl.RGBA,{premultiply:!1}),h.demTexture.bind(v.gl.NEAREST,v.gl.CLAMP_TO_EDGE),h.needsTerrainPrepare=!1}const p=h&&h+h.tileID.key+i.key;if(p&&!this._demMatrixCache[p]){const v=this.sourceCache.sourceCache._source.maxzoom;let x=i.canonical.z-h.tileID.canonical.z;i.overscaledZ>i.canonical.z&&(i.canonical.z>=v?x=i.canonical.z-v:l.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const U=i.canonical.x-(i.canonical.x>>x<<x),M=i.canonical.y-(i.canonical.y>>x<<x),k=l.bc(new Float64Array(16),[1/(l.X<<x),1/(l.X<<x),0]);l.J(k,k,[U*l.X,M*l.X,0]),this._demMatrixCache[i.key]={matrix:k,coord:i}}return{u_depth:2,u_terrain:3,u_terrain_dim:h&&h.dem&&h.dem.dim||1,u_terrain_matrix:p?this._demMatrixCache[i.key].matrix:this._emptyDemMatrix,u_terrain_unpack:h&&h.dem&&h.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(h&&h.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:h}}getFramebuffer(i){const h=this.painter,p=h.width/devicePixelRatio,v=h.height/devicePixelRatio;return!this._fbo||this._fbo.width===p&&this._fbo.height===v||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new ie(h.context,{width:p,height:v,data:null},h.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(h.context.gl.NEAREST,h.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new ie(h.context,{width:p,height:v,data:null},h.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(h.context.gl.NEAREST,h.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=h.context.createFramebuffer(p,v,!0,!1),this._fbo.depthAttachment.set(h.context.createRenderbuffer(h.context.gl.DEPTH_COMPONENT16,p,v))),this._fbo.colorAttachment.set(i==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const i=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const h=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let x=0,U=0;x<this._coordsTextureSize;x++)for(let M=0;M<this._coordsTextureSize;M++,U+=4)h[U+0]=255&M,h[U+1]=255&x,h[U+2]=M>>8<<4|x>>8,h[U+3]=0;const p=new l.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(h.buffer)),v=new ie(i,p,i.gl.RGBA,{premultiply:!1});return v.bind(i.gl.NEAREST,i.gl.CLAMP_TO_EDGE),this._coordsTexture=v,v}pointCoordinate(i){this.painter.maybeDrawDepthAndCoords(!0);const h=new Uint8Array(4),p=this.painter.context,v=p.gl,x=Math.round(i.x*this.painter.pixelRatio/devicePixelRatio),U=Math.round(i.y*this.painter.pixelRatio/devicePixelRatio),M=Math.round(this.painter.height/devicePixelRatio);p.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),v.readPixels(x,M-U-1,1,1,v.RGBA,v.UNSIGNED_BYTE,h),p.bindFramebuffer.set(null);const k=h[0]+(h[2]>>4<<8),Q=h[1]+((15&h[2])<<8),G=this.coordsIndex[255-h[3]],$=G&&this.sourceCache.getTileByID(G);if(!$)return null;const J=this._coordsTextureSize,te=(1<<$.tileID.canonical.z)*J;return new l.Z(($.tileID.canonical.x*J+k)/te+$.tileID.wrap,($.tileID.canonical.y*J+Q)/te,this.getElevation($.tileID,k,Q,J))}depthAtPoint(i){const h=new Uint8Array(4),p=this.painter.context,v=p.gl;return p.bindFramebuffer.set(this.getFramebuffer("depth").framebuffer),v.readPixels(i.x,this.painter.height/devicePixelRatio-i.y-1,1,1,v.RGBA,v.UNSIGNED_BYTE,h),p.bindFramebuffer.set(null),(h[0]/16777216+h[1]/65536+h[2]/256+h[3])/256}getTerrainMesh(){if(this._mesh)return this._mesh;const i=this.painter.context,h=new l.bd,p=new l.aY,v=this.meshSize,x=l.X/v,U=v*v;for(let $=0;$<=v;$++)for(let J=0;J<=v;J++)h.emplaceBack(J*x,$*x,0);for(let $=0;$<U;$+=v+1)for(let J=0;J<v;J++)p.emplaceBack(J+$,v+J+$+1,v+J+$+2),p.emplaceBack(J+$,v+J+$+2,J+$+1);const M=h.length,k=M+2*(v+1);for(const $ of[0,1])for(let J=0;J<=v;J++)for(const te of[0,1])h.emplaceBack(J*x,$*l.X,te);for(let $=0;$<2*v;$+=2)p.emplaceBack(k+$,k+$+1,k+$+3),p.emplaceBack(k+$,k+$+3,k+$+2),p.emplaceBack(M+$,M+$+3,M+$+1),p.emplaceBack(M+$,M+$+2,M+$+3);const Q=h.length,G=Q+2*(v+1);for(const $ of[0,1])for(let J=0;J<=v;J++)for(const te of[0,1])h.emplaceBack($*l.X,J*x,te);for(let $=0;$<2*v;$+=2)p.emplaceBack(Q+$,Q+$+1,Q+$+3),p.emplaceBack(Q+$,Q+$+3,Q+$+2),p.emplaceBack(G+$,G+$+3,G+$+1),p.emplaceBack(G+$,G+$+2,G+$+3);return this._mesh=new ya(i.createVertexBuffer(h,$l.members),i.createIndexBuffer(p),l.a0.simpleSegment(0,0,h.length,p.length)),this._mesh}getMeshFrameDelta(i){return 2*Math.PI*l.be/Math.pow(2,i)/5}getMinTileElevationForLngLatZoom(i,h){var p;const{tileID:v}=this._getOverscaledTileIDFromLngLatZoom(i,h);return(p=this.getMinMaxElevation(v).minElevation)!==null&&p!==void 0?p:0}getMinMaxElevation(i){const h=this.getTerrainData(i).tile,p={minElevation:null,maxElevation:null};return h&&h.dem&&(p.minElevation=h.dem.min*this.exaggeration,p.maxElevation=h.dem.max*this.exaggeration),p}_getOverscaledTileIDFromLngLatZoom(i,h){const p=l.Z.fromLngLat(i.wrap()),v=(1<<h)*l.X,x=p.x*v,U=p.y*v,M=Math.floor(x/l.X),k=Math.floor(U/l.X);return{tileID:new l.S(h,0,h,M,k),mercatorX:x,mercatorY:U}}}class Hc{constructor(i,h,p){this._context=i,this._size=h,this._tileSize=p,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const i of this._objects)i.texture.destroy(),i.fbo.destroy()}_createObject(i){const h=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),p=new ie(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return p.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),h.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),h.colorAttachment.set(p.texture),{id:i,fbo:h,texture:p,stamp:-1,inUse:!1}}getObjectForId(i){return this._objects[i]}useObject(i){i.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter((h=>i.id!==h)),this._recentlyUsed.push(i.id)}stampObject(i){i.stamp=++this._stamp}getOrCreateFreeObject(){for(const h of this._recentlyUsed)if(!this._objects[h].inUse)return this._objects[h];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const i=this._createObject(this._objects.length);return this._objects.push(i),i}freeObject(i){i.inUse=!1}freeAllObjects(){for(const i of this._objects)this.freeObject(i)}isFull(){return!(this._objects.length<this._size)&&this._objects.some((i=>!i.inUse))===!1}}const to={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class Go{constructor(i,h){this.painter=i,this.terrain=h,this.pool=new Hc(i.context,30,h.sourceCache.tileSize*h.qualityFactor)}destruct(){this.pool.destruct()}getTexture(i){return this.pool.getObjectForId(i.rtt[this._stacks.length-1].id).texture}prepareForRender(i,h){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=i._order.filter((p=>!i._layers[p].isHidden(h))),this._coordsDescendingInv={};for(const p in i.sourceCaches){this._coordsDescendingInv[p]={};const v=i.sourceCaches[p].getVisibleCoordinates();for(const x of v){const U=this.terrain.sourceCache.getTerrainCoords(x);for(const M in U)this._coordsDescendingInv[p][M]||(this._coordsDescendingInv[p][M]=[]),this._coordsDescendingInv[p][M].push(U[M])}}this._coordsDescendingInvStr={};for(const p of i._order){const v=i._layers[p],x=v.source;if(to[v.type]&&!this._coordsDescendingInvStr[x]){this._coordsDescendingInvStr[x]={};for(const U in this._coordsDescendingInv[x])this._coordsDescendingInvStr[x][U]=this._coordsDescendingInv[x][U].map((M=>M.key)).sort().join()}}for(const p of this._renderableTiles)for(const v in this._coordsDescendingInvStr){const x=this._coordsDescendingInvStr[v][p.tileID.key];x&&x!==p.rttCoords[v]&&(p.rtt=[])}}renderLayer(i){if(i.isHidden(this.painter.transform.zoom))return!1;const h=i.type,p=this.painter,v=this._renderableLayerIds[this._renderableLayerIds.length-1]===i.id;if(to[h]&&(this._prevType&&to[this._prevType]||this._stacks.push([]),this._prevType=h,this._stacks[this._stacks.length-1].push(i.id),!v))return!0;if(to[this._prevType]||to[h]&&v){this._prevType=h;const x=this._stacks.length-1,U=this._stacks[x]||[];for(const M of this._renderableTiles){if(this.pool.isFull()&&(pl(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(M),M.rtt[x]){const Q=this.pool.getObjectForId(M.rtt[x].id);if(Q.stamp===M.rtt[x].stamp){this.pool.useObject(Q);continue}}const k=this.pool.getOrCreateFreeObject();this.pool.useObject(k),this.pool.stampObject(k),M.rtt[x]={id:k.id,stamp:k.stamp},p.context.bindFramebuffer.set(k.fbo.framebuffer),p.context.clear({color:l.aM.transparent,stencil:0}),p.currentStencilSource=void 0;for(let Q=0;Q<U.length;Q++){const G=p.style._layers[U[Q]],$=G.source?this._coordsDescendingInv[G.source][M.tileID.key]:[M.tileID];p.context.viewport.set([0,0,k.fbo.width,k.fbo.height]),p._renderTileClippingMasks(G,$),p.renderLayer(p,p.style.sourceCaches[G.source],G,$),G.source&&(M.rttCoords[G.source]=this._coordsDescendingInvStr[G.source][M.tileID.key])}}return pl(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects(),to[h]}return!1}}const vl={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"MapLibre logo","Map.Title":"Map","Marker.Title":"Map marker","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","Popup.Close":"Close popup","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.Enable":"Enable terrain","TerrainControl.Disable":"Disable terrain","CooperativeGesturesHandler.WindowsHelpText":"Use Ctrl + scroll to zoom the map","CooperativeGesturesHandler.MacHelpText":"Use  + scroll to zoom the map","CooperativeGesturesHandler.MobileHelpText":"Use two fingers to move the map"},ro=y,Ou={hash:!1,interactive:!0,bearingSnap:7,attributionControl:eo,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,refreshExpiredTiles:!0,scrollZoom:!0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,trackResize:!0,center:[0,0],zoom:0,bearing:0,pitch:0,renderWorldCopies:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:l.a.MAX_TILE_CACHE_ZOOM_LEVELS,transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,clickTolerance:3,localIdeographFontFamily:"sans-serif",pitchWithRotate:!0,validateStyle:!0,maxCanvasSize:[4096,4096],cancelPendingTileRequestsWhileZooming:!0},Xl=_=>{_.touchstart=_.dragStart,_.touchmoveWindow=_.dragMove,_.touchend=_.dragEnd},PA={showCompass:!0,showZoom:!0,visualizePitch:!1};class jc{constructor(i,h,p=!1){this.mousedown=U=>{this.startMouse(l.e({},U,{ctrlKey:!0,preventDefault:()=>U.preventDefault()}),F.mousePos(this.element,U)),F.addEventListener(window,"mousemove",this.mousemove),F.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=U=>{this.moveMouse(U,F.mousePos(this.element,U))},this.mouseup=U=>{this.mouseRotate.dragEnd(U),this.mousePitch&&this.mousePitch.dragEnd(U),this.offTemp()},this.touchstart=U=>{U.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=F.touchPos(this.element,U.targetTouches)[0],this.startTouch(U,this._startPos),F.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),F.addEventListener(window,"touchend",this.touchend))},this.touchmove=U=>{U.targetTouches.length!==1?this.reset():(this._lastPos=F.touchPos(this.element,U.targetTouches)[0],this.moveTouch(U,this._lastPos))},this.touchend=U=>{U.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),this.touchRotate.reset(),this.touchPitch&&this.touchPitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10;const v=i.dragRotate._mouseRotate.getClickTolerance(),x=i.dragRotate._mousePitch.getClickTolerance();this.element=h,this.mouseRotate=su({clickTolerance:v,enable:!0}),this.touchRotate=(({enable:U,clickTolerance:M,bearingDegreesPerPixelMoved:k=.8})=>{const Q=new Lu;return new bi({clickTolerance:M,move:(G,$)=>({bearingDelta:($.x-G.x)*k}),moveStateManager:Q,enable:U,assignEvents:Xl})})({clickTolerance:v,enable:!0}),this.map=i,p&&(this.mousePitch=SA({clickTolerance:x,enable:!0}),this.touchPitch=(({enable:U,clickTolerance:M,pitchDegreesPerPixelMoved:k=-.5})=>{const Q=new Lu;return new bi({clickTolerance:M,move:(G,$)=>({pitchDelta:($.y-G.y)*k}),moveStateManager:Q,enable:U,assignEvents:Xl})})({clickTolerance:x,enable:!0})),F.addEventListener(h,"mousedown",this.mousedown),F.addEventListener(h,"touchstart",this.touchstart,{passive:!1}),F.addEventListener(h,"touchcancel",this.reset)}startMouse(i,h){this.mouseRotate.dragStart(i,h),this.mousePitch&&this.mousePitch.dragStart(i,h),F.disableDrag()}startTouch(i,h){this.touchRotate.dragStart(i,h),this.touchPitch&&this.touchPitch.dragStart(i,h),F.disableDrag()}moveMouse(i,h){const p=this.map,{bearingDelta:v}=this.mouseRotate.dragMove(i,h)||{};if(v&&p.setBearing(p.getBearing()+v),this.mousePitch){const{pitchDelta:x}=this.mousePitch.dragMove(i,h)||{};x&&p.setPitch(p.getPitch()+x)}}moveTouch(i,h){const p=this.map,{bearingDelta:v}=this.touchRotate.dragMove(i,h)||{};if(v&&p.setBearing(p.getBearing()+v),this.touchPitch){const{pitchDelta:x}=this.touchPitch.dragMove(i,h)||{};x&&p.setPitch(p.getPitch()+x)}}off(){const i=this.element;F.removeEventListener(i,"mousedown",this.mousedown),F.removeEventListener(i,"touchstart",this.touchstart,{passive:!1}),F.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),F.removeEventListener(window,"touchend",this.touchend),F.removeEventListener(i,"touchcancel",this.reset),this.offTemp()}offTemp(){F.enableDrag(),F.removeEventListener(window,"mousemove",this.mousemove),F.removeEventListener(window,"mouseup",this.mouseup),F.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),F.removeEventListener(window,"touchend",this.touchend)}}let ca;function pn(_,i,h){const p=new l.N(_.lng,_.lat);if(_=new l.N(_.lng,_.lat),i){const v=new l.N(_.lng-360,_.lat),x=new l.N(_.lng+360,_.lat),U=h.locationPoint(_).distSqr(i);h.locationPoint(v).distSqr(i)<U?_=v:h.locationPoint(x).distSqr(i)<U&&(_=x)}for(;Math.abs(_.lng-h.center.lng)>180;){const v=h.locationPoint(_);if(v.x>=0&&v.y>=0&&v.x<=h.width&&v.y<=h.height)break;_.lng>h.center.lng?_.lng-=360:_.lng+=360}return _.lng!==p.lng&&h.locationPoint(_).y>h.height/2-h.getHorizon()?_:p}const Zl={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function pc(_,i,h){const p=_.classList;for(const v in Zl)p.remove(`maplibregl-${h}-anchor-${v}`);p.add(`maplibregl-${h}-anchor-${i}`)}class Kc extends l.E{constructor(i){if(super(),this._onKeyPress=h=>{const p=h.code,v=h.charCode||h.keyCode;p!=="Space"&&p!=="Enter"&&v!==32&&v!==13||this.togglePopup()},this._onMapClick=h=>{const p=h.originalEvent.target,v=this._element;this._popup&&(p===v||v.contains(p))&&this.togglePopup()},this._update=h=>{var p;if(!this._map)return;const v=this._map.loaded()&&!this._map.isMoving();(h?.type==="terrain"||h?.type==="render"&&!v)&&this._map.once("render",this._update),this._lngLat=this._map.transform.renderWorldCopies?pn(this._lngLat,this._flatPos,this._map.transform):(p=this._lngLat)===null||p===void 0?void 0:p.wrap(),this._flatPos=this._pos=this._map.project(this._lngLat)._add(this._offset),this._map.terrain&&(this._flatPos=this._map.transform.locationPoint(this._lngLat)._add(this._offset));let x="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?x=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(x=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let U="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?U="rotateX(0deg)":this._pitchAlignment==="map"&&(U=`rotateX(${this._map.getPitch()}deg)`),this._subpixelPositioning||h&&h.type!=="moveend"||(this._pos=this._pos.round()),F.setTransform(this._element,`${Zl[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${U} ${x}`),S.frameAsync(new AbortController).then((()=>{this._updateOpacity(h&&h.type==="moveend")})).catch((()=>{}))},this._onMove=h=>{if(!this._isDragging){const p=this._clickTolerance||this._map._clickTolerance;this._isDragging=h.point.dist(this._pointerdownPos)>=p}this._isDragging&&(this._pos=h.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new l.k("dragstart"))),this.fire(new l.k("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new l.k("dragend")),this._state="inactive"},this._addDragHandler=h=>{this._element.contains(h.originalEvent.target)&&(h.preventDefault(),this._positionDelta=h.point.sub(this._pos).add(this._offset),this._pointerdownPos=h.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=i&&i.anchor||"center",this._color=i&&i.color||"#3FB1CE",this._scale=i&&i.scale||1,this._draggable=i&&i.draggable||!1,this._clickTolerance=i&&i.clickTolerance||0,this._subpixelPositioning=i&&i.subpixelPositioning||!1,this._isDragging=!1,this._state="inactive",this._rotation=i&&i.rotation||0,this._rotationAlignment=i&&i.rotationAlignment||"auto",this._pitchAlignment=i&&i.pitchAlignment&&i.pitchAlignment!=="auto"?i.pitchAlignment:this._rotationAlignment,this.setOpacity(),this.setOpacity(i?.opacity,i?.opacityWhenCovered),i&&i.element)this._element=i.element,this._offset=l.P.convert(i&&i.offset||[0,0]);else{this._defaultMarker=!0,this._element=F.create("div");const h=F.createNS("http://www.w3.org/2000/svg","svg"),p=41,v=27;h.setAttributeNS(null,"display","block"),h.setAttributeNS(null,"height",`${p}px`),h.setAttributeNS(null,"width",`${v}px`),h.setAttributeNS(null,"viewBox",`0 0 ${v} ${p}`);const x=F.createNS("http://www.w3.org/2000/svg","g");x.setAttributeNS(null,"stroke","none"),x.setAttributeNS(null,"stroke-width","1"),x.setAttributeNS(null,"fill","none"),x.setAttributeNS(null,"fill-rule","evenodd");const U=F.createNS("http://www.w3.org/2000/svg","g");U.setAttributeNS(null,"fill-rule","nonzero");const M=F.createNS("http://www.w3.org/2000/svg","g");M.setAttributeNS(null,"transform","translate(3.0, 29.0)"),M.setAttributeNS(null,"fill","#000000");const k=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const we of k){const Qe=F.createNS("http://www.w3.org/2000/svg","ellipse");Qe.setAttributeNS(null,"opacity","0.04"),Qe.setAttributeNS(null,"cx","10.5"),Qe.setAttributeNS(null,"cy","5.80029008"),Qe.setAttributeNS(null,"rx",we.rx),Qe.setAttributeNS(null,"ry",we.ry),M.appendChild(Qe)}const Q=F.createNS("http://www.w3.org/2000/svg","g");Q.setAttributeNS(null,"fill",this._color);const G=F.createNS("http://www.w3.org/2000/svg","path");G.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),Q.appendChild(G);const $=F.createNS("http://www.w3.org/2000/svg","g");$.setAttributeNS(null,"opacity","0.25"),$.setAttributeNS(null,"fill","#000000");const J=F.createNS("http://www.w3.org/2000/svg","path");J.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),$.appendChild(J);const te=F.createNS("http://www.w3.org/2000/svg","g");te.setAttributeNS(null,"transform","translate(6.0, 7.0)"),te.setAttributeNS(null,"fill","#FFFFFF");const ue=F.createNS("http://www.w3.org/2000/svg","g");ue.setAttributeNS(null,"transform","translate(8.0, 8.0)");const pe=F.createNS("http://www.w3.org/2000/svg","circle");pe.setAttributeNS(null,"fill","#000000"),pe.setAttributeNS(null,"opacity","0.25"),pe.setAttributeNS(null,"cx","5.5"),pe.setAttributeNS(null,"cy","5.5"),pe.setAttributeNS(null,"r","5.4999962");const Be=F.createNS("http://www.w3.org/2000/svg","circle");Be.setAttributeNS(null,"fill","#FFFFFF"),Be.setAttributeNS(null,"cx","5.5"),Be.setAttributeNS(null,"cy","5.5"),Be.setAttributeNS(null,"r","5.4999962"),ue.appendChild(pe),ue.appendChild(Be),U.appendChild(M),U.appendChild(Q),U.appendChild($),U.appendChild(te),U.appendChild(ue),h.appendChild(U),h.setAttributeNS(null,"height",p*this._scale+"px"),h.setAttributeNS(null,"width",v*this._scale+"px"),this._element.appendChild(h),this._offset=l.P.convert(i&&i.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",(h=>{h.preventDefault()})),this._element.addEventListener("mousedown",(h=>{h.preventDefault()})),pc(this._element,this._anchor,"marker"),i&&i.className)for(const h of i.className.split(" "))this._element.classList.add(h);this._popup=null}addTo(i){return this.remove(),this._map=i,this._element.setAttribute("aria-label",i._getUIString("Marker.Title")),i.getCanvasContainer().appendChild(this._element),i.on("move",this._update),i.on("moveend",this._update),i.on("terrain",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("terrain",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),F.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(i){return this._lngLat=l.N.convert(i),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(i){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),i){if(!("offset"in i.options)){const v=Math.abs(13.5)/Math.SQRT2;i.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[v,-1*(38.1-13.5+v)],"bottom-right":[-v,-1*(38.1-13.5+v)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=i,this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}setSubpixelPositioning(i){return this._subpixelPositioning=i,this}getPopup(){return this._popup}togglePopup(){const i=this._popup;return this._element.style.opacity===this._opacityWhenCovered?this:i?(i.isOpen()?i.remove():(i.setLngLat(this._lngLat),i.addTo(this._map)),this):this}_updateOpacity(i=!1){var h,p;if(!(!((h=this._map)===null||h===void 0)&&h.terrain))return void(this._element.style.opacity!==this._opacity&&(this._element.style.opacity=this._opacity));if(i)this._opacityTimeout=null;else{if(this._opacityTimeout)return;this._opacityTimeout=setTimeout((()=>{this._opacityTimeout=null}),100)}const v=this._map,x=v.terrain.depthAtPoint(this._pos),U=v.terrain.getElevationForLngLatZoom(this._lngLat,v.transform.tileZoom);if(v.transform.lngLatToCameraDepth(this._lngLat,U)-x<.006)return void(this._element.style.opacity=this._opacity);const M=-this._offset.y/v.transform._pixelPerMeter,k=Math.sin(v.getPitch()*Math.PI/180)*M,Q=v.terrain.depthAtPoint(new l.P(this._pos.x,this._pos.y-this._offset.y)),G=v.transform.lngLatToCameraDepth(this._lngLat,U+k)-Q>.006;!((p=this._popup)===null||p===void 0)&&p.isOpen()&&G&&this._popup.remove(),this._element.style.opacity=G?this._opacityWhenCovered:this._opacity}getOffset(){return this._offset}setOffset(i){return this._offset=l.P.convert(i),this._update(),this}addClassName(i){this._element.classList.add(i)}removeClassName(i){this._element.classList.remove(i)}toggleClassName(i){return this._element.classList.toggle(i)}setDraggable(i){return this._draggable=!!i,this._map&&(i?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(i){return this._rotation=i||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(i){return this._rotationAlignment=i||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(i){return this._pitchAlignment=i&&i!=="auto"?i:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}setOpacity(i,h){return i===void 0&&h===void 0&&(this._opacity="1",this._opacityWhenCovered="0.2"),i!==void 0&&(this._opacity=i),h!==void 0&&(this._opacityWhenCovered=h),this._map&&this._updateOpacity(!0),this}}const yf={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let gc=0,wi=!1;const fs={maxWidth:100,unit:"metric"};function Wl(_,i,h){const p=h&&h.maxWidth||100,v=_._container.clientHeight/2,x=_.unproject([0,v]),U=_.unproject([p,v]),M=x.distanceTo(U);if(h&&h.unit==="imperial"){const k=3.2808*M;k>5280?lr(i,p,k/5280,_._getUIString("ScaleControl.Miles")):lr(i,p,k,_._getUIString("ScaleControl.Feet"))}else h&&h.unit==="nautical"?lr(i,p,M/1852,_._getUIString("ScaleControl.NauticalMiles")):M>=1e3?lr(i,p,M/1e3,_._getUIString("ScaleControl.Kilometers")):lr(i,p,M,_._getUIString("ScaleControl.Meters"))}function lr(_,i,h,p){const v=(function(x){const U=Math.pow(10,`${Math.floor(x)}`.length-1);let M=x/U;return M=M>=10?10:M>=5?5:M>=3?3:M>=2?2:M>=1?1:(function(k){const Q=Math.pow(10,Math.ceil(-Math.log(k)/Math.LN10));return Math.round(k*Q)/Q})(M),U*M})(h);_.style.width=i*(v/h)+"px",_.innerHTML=`${v}&nbsp;${p}`}const Cr={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px",subpixelPositioning:!1},L=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function D(_){if(_){if(typeof _=="number"){const i=Math.round(Math.abs(_)/Math.SQRT2);return{center:new l.P(0,0),top:new l.P(0,_),"top-left":new l.P(i,i),"top-right":new l.P(-i,i),bottom:new l.P(0,-_),"bottom-left":new l.P(i,-i),"bottom-right":new l.P(-i,-i),left:new l.P(_,0),right:new l.P(-_,0)}}if(_ instanceof l.P||Array.isArray(_)){const i=l.P.convert(_);return{center:i,top:i,"top-left":i,"top-right":i,bottom:i,"bottom-left":i,"bottom-right":i,left:i,right:i}}return{center:l.P.convert(_.center||[0,0]),top:l.P.convert(_.top||[0,0]),"top-left":l.P.convert(_["top-left"]||[0,0]),"top-right":l.P.convert(_["top-right"]||[0,0]),bottom:l.P.convert(_.bottom||[0,0]),"bottom-left":l.P.convert(_["bottom-left"]||[0,0]),"bottom-right":l.P.convert(_["bottom-right"]||[0,0]),left:l.P.convert(_.left||[0,0]),right:l.P.convert(_.right||[0,0])}}return D(new l.P(0,0))}const X=y;d.AJAXError=l.bh,d.Evented=l.E,d.LngLat=l.N,d.MercatorCoordinate=l.Z,d.Point=l.P,d.addProtocol=l.bi,d.config=l.a,d.removeProtocol=l.bj,d.AttributionControl=LA,d.BoxZoomHandler=ja,d.CanvasSource=nn,d.CooperativeGesturesHandler=Vi,d.DoubleClickZoomHandler=Ia,d.DragPanHandler=Rc,d.DragRotateHandler=dc,d.EdgeInsets=Xn,d.FullscreenControl=class extends l.E{constructor(_={}){super(),this._onFullscreenChange=()=>{var i;let h=window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement;for(;!((i=h?.shadowRoot)===null||i===void 0)&&i.fullscreenElement;)h=h.shadowRoot.fullscreenElement;h===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,_&&_.container&&(_.container instanceof HTMLElement?this._container=_.container:l.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(_){return this._map=_,this._container||(this._container=this._map.getContainer()),this._controlContainer=F.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){F.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const _=this._fullscreenButton=F.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);F.create("span","maplibregl-ctrl-icon",_).setAttribute("aria-hidden","true"),_.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const _=this._getTitle();this._fullscreenButton.setAttribute("aria-label",_),this._fullscreenButton.title=_}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new l.k("fullscreenstart")),this._prevCooperativeGesturesEnabled=this._map.cooperativeGestures.isEnabled(),this._map.cooperativeGestures.disable()):(this.fire(new l.k("fullscreenend")),this._prevCooperativeGesturesEnabled&&this._map.cooperativeGestures.enable())}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},d.GeoJSONSource=ur,d.GeolocateControl=class extends l.E{constructor(_){super(),this._onSuccess=i=>{if(this._map){if(this._isOutOfMapMaxBounds(i))return this._setErrorState(),this.fire(new l.k("outofmaxbounds",i)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=i,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(i),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(i),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new l.k("geolocate",i)),this._finish()}},this._updateCamera=i=>{const h=new l.N(i.coords.longitude,i.coords.latitude),p=i.coords.accuracy,v=this._map.getBearing(),x=l.e({bearing:v},this.options.fitBoundsOptions),U=Ye.fromLngLat(h,p);this._map.fitBounds(U,x,{geolocateSource:!0})},this._updateMarker=i=>{if(i){const h=new l.N(i.coords.longitude,i.coords.latitude);this._accuracyCircleMarker.setLngLat(h).addTo(this._map),this._userLocationDotMarker.setLngLat(h).addTo(this._map),this._accuracy=i.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=i=>{if(this._map){if(this.options.trackUserLocation)if(i.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const h=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=h,this._geolocateButton.setAttribute("aria-label",h),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(i.code===3&&wi)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new l.k("error",i)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=()=>{this._map&&(this._container.addEventListener("contextmenu",(i=>i.preventDefault())),this._geolocateButton=F.create("button","maplibregl-ctrl-geolocate",this._container),F.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",this._geolocateButton.disabled=!0)},this._finishSetupUI=i=>{if(this._map){if(i===!1){l.w("Geolocation support is not available so the GeolocateControl will be disabled.");const h=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=h,this._geolocateButton.setAttribute("aria-label",h)}else{const h=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.disabled=!1,this._geolocateButton.title=h,this._geolocateButton.setAttribute("aria-label",h)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=F.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new Kc({element:this._dotElement}),this._circleElement=F.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Kc({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",(()=>this.trigger())),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(h=>{h.geolocateSource||this._watchState!=="ACTIVE_LOCK"||h.originalEvent&&h.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new l.k("trackuserlocationend")),this.fire(new l.k("userlocationlostfocus")))}))}},this.options=l.e({},yf,_)}onAdd(_){return this._map=_,this._container=F.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),(function(){return l._(this,arguments,void 0,(function*(i=!1){if(ca!==void 0&&!i)return ca;if(window.navigator.permissions===void 0)return ca=!!window.navigator.geolocation,ca;try{ca=(yield window.navigator.permissions.query({name:"geolocation"})).state!=="denied"}catch{ca=!!window.navigator.geolocation}return ca}))})().then((i=>this._finishSetupUI(i))),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),F.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,gc=0,wi=!1}_isOutOfMapMaxBounds(_){const i=this._map.getMaxBounds(),h=_.coords;return i&&(h.longitude<i.getWest()||h.longitude>i.getEast()||h.latitude<i.getSouth()||h.latitude>i.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadius(){const _=this._map.getBounds(),i=_.getSouthEast(),h=_.getNorthEast(),p=i.distanceTo(h),v=Math.ceil(this._accuracy/(p/this._map._container.clientHeight)*2);this._circleElement.style.width=`${v}px`,this._circleElement.style.height=`${v}px`}trigger(){if(!this._setup)return l.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new l.k("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":gc--,wi=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new l.k("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new l.k("trackuserlocationstart")),this.fire(new l.k("userlocationfocus"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let _;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),gc++,gc>1?(_={maximumAge:6e5,timeout:0},wi=!0):(_=this.options.positionOptions,wi=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,_)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},d.Hash=gl,d.ImageSource=Br,d.KeyboardHandler=Oi,d.LngLatBounds=Ye,d.LogoControl=qo,d.Map=class extends bo{constructor(_){l.bf.mark(l.bg.create);const i=Object.assign(Object.assign({},Ou),_);if(i.minZoom!=null&&i.maxZoom!=null&&i.minZoom>i.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(i.minPitch!=null&&i.maxPitch!=null&&i.minPitch>i.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(i.minPitch!=null&&i.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(i.maxPitch!=null&&i.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new As(i.minZoom,i.maxZoom,i.minPitch,i.maxPitch,i.renderWorldCopies),{bearingSnap:i.bearingSnap}),this._idleTriggered=!1,this._crossFadingFactor=1,this._renderTaskQueue=new Hr,this._controls=[],this._mapId=l.a4(),this._contextLost=h=>{h.preventDefault(),this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this.fire(new l.k("webglcontextlost",{originalEvent:h}))},this._contextRestored=h=>{this._setupPainter(),this.resize(),this._update(),this.fire(new l.k("webglcontextrestored",{originalEvent:h}))},this._onMapScroll=h=>{if(h.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=i.interactive,this._maxTileCacheSize=i.maxTileCacheSize,this._maxTileCacheZoomLevels=i.maxTileCacheZoomLevels,this._failIfMajorPerformanceCaveat=i.failIfMajorPerformanceCaveat===!0,this._preserveDrawingBuffer=i.preserveDrawingBuffer===!0,this._antialias=i.antialias===!0,this._trackResize=i.trackResize===!0,this._bearingSnap=i.bearingSnap,this._refreshExpiredTiles=i.refreshExpiredTiles===!0,this._fadeDuration=i.fadeDuration,this._crossSourceCollisions=i.crossSourceCollisions===!0,this._collectResourceTiming=i.collectResourceTiming===!0,this._locale=Object.assign(Object.assign({},vl),i.locale),this._clickTolerance=i.clickTolerance,this._overridePixelRatio=i.pixelRatio,this._maxCanvasSize=i.maxCanvasSize,this.transformCameraUpdate=i.transformCameraUpdate,this.cancelPendingTileRequestsWhileZooming=i.cancelPendingTileRequestsWhileZooming===!0,this._imageQueueHandle=W.addThrottleControl((()=>this.isMoving())),this._requestManager=new le(i.transformRequest),typeof i.container=="string"){if(this._container=document.getElementById(i.container),!this._container)throw new Error(`Container '${i.container}' not found.`)}else{if(!(i.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=i.container}if(i.maxBounds&&this.setMaxBounds(i.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",(()=>this._update(!1))).on("moveend",(()=>this._update(!1))).on("zoom",(()=>this._update(!0))).on("terrain",(()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)})).once("idle",(()=>{this._idleTriggered=!0})),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let h=!1;const p=us((v=>{this._trackResize&&!this._removed&&(this.resize(v),this.redraw())}),50);this._resizeObserver=new ResizeObserver((v=>{h?p(v):h=!0})),this._resizeObserver.observe(this._container)}this.handlers=new Si(this,i),this._hash=i.hash&&new gl(typeof i.hash=="string"&&i.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:i.center,zoom:i.zoom,bearing:i.bearing,pitch:i.pitch}),i.bounds&&(this.resize(),this.fitBounds(i.bounds,l.e({},i.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=i.localIdeographFontFamily,this._validateStyle=i.validateStyle,i.style&&this.setStyle(i.style,{localIdeographFontFamily:i.localIdeographFontFamily}),i.attributionControl&&this.addControl(new LA(typeof i.attributionControl=="boolean"?void 0:i.attributionControl)),i.maplibreLogo&&this.addControl(new qo,i.logoPosition),this.on("style.load",(()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)})),this.on("data",(h=>{this._update(h.dataType==="style"),this.fire(new l.k(`${h.dataType}data`,h))})),this.on("dataloading",(h=>{this.fire(new l.k(`${h.dataType}dataloading`,h))})),this.on("dataabort",(h=>{this.fire(new l.k("sourcedataabort",h))}))}_getMapId(){return this._mapId}addControl(_,i){if(i===void 0&&(i=_.getDefaultPosition?_.getDefaultPosition():"top-right"),!_||!_.onAdd)return this.fire(new l.j(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const h=_.onAdd(this);this._controls.push(_);const p=this._controlPositions[i];return i.indexOf("bottom")!==-1?p.insertBefore(h,p.firstChild):p.appendChild(h),this}removeControl(_){if(!_||!_.onRemove)return this.fire(new l.j(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const i=this._controls.indexOf(_);return i>-1&&this._controls.splice(i,1),_.onRemove(this),this}hasControl(_){return this._controls.indexOf(_)>-1}calculateCameraOptionsFromTo(_,i,h,p){return p==null&&this.terrain&&(p=this.terrain.getElevationForLngLatZoom(h,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(_,i,h,p)}resize(_){var i;const h=this._containerDimensions(),p=h[0],v=h[1],x=this._getClampedPixelRatio(p,v);if(this._resizeCanvas(p,v,x),this.painter.resize(p,v,x),this.painter.overLimit()){const M=this.painter.context.gl;this._maxCanvasSize=[M.drawingBufferWidth,M.drawingBufferHeight];const k=this._getClampedPixelRatio(p,v);this._resizeCanvas(p,v,k),this.painter.resize(p,v,k)}this.transform.resize(p,v),(i=this._requestedCameraState)===null||i===void 0||i.resize(p,v);const U=!this._moving;return U&&(this.stop(),this.fire(new l.k("movestart",_)).fire(new l.k("move",_))),this.fire(new l.k("resize",_)),U&&this.fire(new l.k("moveend",_)),this}_getClampedPixelRatio(_,i){const{0:h,1:p}=this._maxCanvasSize,v=this.getPixelRatio(),x=_*v,U=i*v;return Math.min(x>h?h/x:1,U>p?p/U:1)*v}getPixelRatio(){var _;return(_=this._overridePixelRatio)!==null&&_!==void 0?_:devicePixelRatio}setPixelRatio(_){this._overridePixelRatio=_,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(_){return this.transform.setMaxBounds(Ye.convert(_)),this._update()}setMinZoom(_){if((_=_??-2)>=-2&&_<=this.transform.maxZoom)return this.transform.minZoom=_,this._update(),this.getZoom()<_&&this.setZoom(_),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(_){if((_=_??22)>=this.transform.minZoom)return this.transform.maxZoom=_,this._update(),this.getZoom()>_&&this.setZoom(_),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(_){if((_=_??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(_>=0&&_<=this.transform.maxPitch)return this.transform.minPitch=_,this._update(),this.getPitch()<_&&this.setPitch(_),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(_){if((_=_??60)>85)throw new Error("maxPitch must be less than or equal to 85");if(_>=this.transform.minPitch)return this.transform.maxPitch=_,this._update(),this.getPitch()>_&&this.setPitch(_),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(_){return this.transform.renderWorldCopies=_,this._update()}project(_){return this.transform.locationPoint(l.N.convert(_),this.style&&this.terrain)}unproject(_){return this.transform.pointLocation(l.P.convert(_),this.terrain)}isMoving(){var _;return this._moving||((_=this.handlers)===null||_===void 0?void 0:_.isMoving())}isZooming(){var _;return this._zooming||((_=this.handlers)===null||_===void 0?void 0:_.isZooming())}isRotating(){var _;return this._rotating||((_=this.handlers)===null||_===void 0?void 0:_.isRotating())}_createDelegatedListener(_,i,h){if(_==="mouseenter"||_==="mouseover"){let p=!1;return{layers:i,listener:h,delegates:{mousemove:x=>{const U=i.filter((k=>this.getLayer(k))),M=U.length!==0?this.queryRenderedFeatures(x.point,{layers:U}):[];M.length?p||(p=!0,h.call(this,new oi(_,this,x.originalEvent,{features:M}))):p=!1},mouseout:()=>{p=!1}}}}if(_==="mouseleave"||_==="mouseout"){let p=!1;return{layers:i,listener:h,delegates:{mousemove:U=>{const M=i.filter((k=>this.getLayer(k)));(M.length!==0?this.queryRenderedFeatures(U.point,{layers:M}):[]).length?p=!0:p&&(p=!1,h.call(this,new oi(_,this,U.originalEvent)))},mouseout:U=>{p&&(p=!1,h.call(this,new oi(_,this,U.originalEvent)))}}}}{const p=v=>{const x=i.filter((M=>this.getLayer(M))),U=x.length!==0?this.queryRenderedFeatures(v.point,{layers:x}):[];U.length&&(v.features=U,h.call(this,v),delete v.features)};return{layers:i,listener:h,delegates:{[_]:p}}}}_saveDelegatedListener(_,i){this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[_]=this._delegatedListeners[_]||[],this._delegatedListeners[_].push(i)}_removeDelegatedListener(_,i,h){if(!this._delegatedListeners||!this._delegatedListeners[_])return;const p=this._delegatedListeners[_];for(let v=0;v<p.length;v++){const x=p[v];if(x.listener===h&&x.layers.length===i.length&&x.layers.every((U=>i.includes(U)))){for(const U in x.delegates)this.off(U,x.delegates[U]);return void p.splice(v,1)}}}on(_,i,h){if(h===void 0)return super.on(_,i);const p=this._createDelegatedListener(_,typeof i=="string"?[i]:i,h);this._saveDelegatedListener(_,p);for(const v in p.delegates)this.on(v,p.delegates[v]);return this}once(_,i,h){if(h===void 0)return super.once(_,i);const p=typeof i=="string"?[i]:i,v=this._createDelegatedListener(_,p,h);for(const x in v.delegates){const U=v.delegates[x];v.delegates[x]=(...M)=>{this._removeDelegatedListener(_,p,h),U(...M)}}this._saveDelegatedListener(_,v);for(const x in v.delegates)this.once(x,v.delegates[x]);return this}off(_,i,h){return h===void 0?super.off(_,i):(this._removeDelegatedListener(_,typeof i=="string"?[i]:i,h),this)}queryRenderedFeatures(_,i){if(!this.style)return[];let h;const p=_ instanceof l.P||Array.isArray(_),v=p?_:[[0,0],[this.transform.width,this.transform.height]];if(i=i||(p?{}:_)||{},v instanceof l.P||typeof v[0]=="number")h=[l.P.convert(v)];else{const x=l.P.convert(v[0]),U=l.P.convert(v[1]);h=[x,new l.P(U.x,x.y),U,new l.P(x.x,U.y),x]}return this.style.queryRenderedFeatures(h,i,this.transform)}querySourceFeatures(_,i){return this.style.querySourceFeatures(_,i)}setStyle(_,i){return(i=l.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},i)).diff!==!1&&i.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&_?(this._diffStyle(_,i),this):(this._localIdeographFontFamily=i.localIdeographFontFamily,this._updateStyle(_,i))}setTransformRequest(_){return this._requestManager.setTransformRequest(_),this}_getUIString(_){const i=this._locale[_];if(i==null)throw new Error(`Missing UI string '${_}'`);return i}_updateStyle(_,i){if(i.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",(()=>this._updateStyle(_,i)));const h=this.style&&i.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!_)),_?(this.style=new Ri(this,i||{}),this.style.setEventedParent(this,{style:this.style}),typeof _=="string"?this.style.loadURL(_,i,h):this.style.loadJSON(_,i,h),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new Ri(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(_,i){if(typeof _=="string"){const h=this._requestManager.transformRequest(_,"Style");l.h(h,new AbortController).then((p=>{this._updateDiff(p.data,i)})).catch((p=>{p&&this.fire(new l.j(p))}))}else typeof _=="object"&&this._updateDiff(_,i)}_updateDiff(_,i){try{this.style.setState(_,i)&&this._update(!0)}catch(h){l.w(`Unable to perform style diff: ${h.message||h.error||h}.  Rebuilding the style from scratch.`),this._updateStyle(_,i)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():l.w("There is no style added to the map.")}addSource(_,i){return this._lazyInitEmptyStyle(),this.style.addSource(_,i),this._update(!0)}isSourceLoaded(_){const i=this.style&&this.style.sourceCaches[_];if(i!==void 0)return i.loaded();this.fire(new l.j(new Error(`There is no source with ID '${_}'`)))}setTerrain(_){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),_){const i=this.style.sourceCaches[_.source];if(!i)throw new Error(`cannot load terrain, because there exists no source with ID: ${_.source}`);this.terrain===null&&i.reload();for(const h in this.style._layers){const p=this.style._layers[h];p.type==="hillshade"&&p.source===_.source&&l.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new MA(this.painter,i,_),this.painter.renderToTexture=new Go(this.painter,this.terrain),this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._terrainDataCallback=h=>{h.dataType==="style"?this.terrain.sourceCache.freeRtt():h.dataType==="source"&&h.tile&&(h.sourceId!==_.source||this._elevationFreeze||(this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.terrain.sourceCache.freeRtt(h.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform.minElevationForCurrentTile=0,this.transform.elevation=0;return this.fire(new l.k("terrain",{terrain:_})),this}getTerrain(){var _,i;return(i=(_=this.terrain)===null||_===void 0?void 0:_.options)!==null&&i!==void 0?i:null}areTilesLoaded(){const _=this.style&&this.style.sourceCaches;for(const i in _){const h=_[i]._tiles;for(const p in h){const v=h[p];if(v.state!=="loaded"&&v.state!=="errored")return!1}}return!0}removeSource(_){return this.style.removeSource(_),this._update(!0)}getSource(_){return this.style.getSource(_)}addImage(_,i,h={}){const{pixelRatio:p=1,sdf:v=!1,stretchX:x,stretchY:U,content:M,textFitWidth:k,textFitHeight:Q}=h;if(this._lazyInitEmptyStyle(),!(i instanceof HTMLImageElement||l.b(i))){if(i.width===void 0||i.height===void 0)return this.fire(new l.j(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:G,height:$,data:J}=i,te=i;return this.style.addImage(_,{data:new l.R({width:G,height:$},new Uint8Array(J)),pixelRatio:p,stretchX:x,stretchY:U,content:M,textFitWidth:k,textFitHeight:Q,sdf:v,version:0,userImage:te}),te.onAdd&&te.onAdd(this,_),this}}{const{width:G,height:$,data:J}=S.getImageData(i);this.style.addImage(_,{data:new l.R({width:G,height:$},J),pixelRatio:p,stretchX:x,stretchY:U,content:M,textFitWidth:k,textFitHeight:Q,sdf:v,version:0})}}updateImage(_,i){const h=this.style.getImage(_);if(!h)return this.fire(new l.j(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const p=i instanceof HTMLImageElement||l.b(i)?S.getImageData(i):i,{width:v,height:x,data:U}=p;if(v===void 0||x===void 0)return this.fire(new l.j(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(v!==h.data.width||x!==h.data.height)return this.fire(new l.j(new Error("The width and height of the updated image must be that same as the previous version of the image")));const M=!(i instanceof HTMLImageElement||l.b(i));return h.data.replace(U,M),this.style.updateImage(_,h),this}getImage(_){return this.style.getImage(_)}hasImage(_){return _?!!this.style.getImage(_):(this.fire(new l.j(new Error("Missing required image id"))),!1)}removeImage(_){this.style.removeImage(_)}loadImage(_){return W.getImage(this._requestManager.transformRequest(_,"Image"),new AbortController)}listImages(){return this.style.listImages()}addLayer(_,i){return this._lazyInitEmptyStyle(),this.style.addLayer(_,i),this._update(!0)}moveLayer(_,i){return this.style.moveLayer(_,i),this._update(!0)}removeLayer(_){return this.style.removeLayer(_),this._update(!0)}getLayer(_){return this.style.getLayer(_)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(_,i,h){return this.style.setLayerZoomRange(_,i,h),this._update(!0)}setFilter(_,i,h={}){return this.style.setFilter(_,i,h),this._update(!0)}getFilter(_){return this.style.getFilter(_)}setPaintProperty(_,i,h,p={}){return this.style.setPaintProperty(_,i,h,p),this._update(!0)}getPaintProperty(_,i){return this.style.getPaintProperty(_,i)}setLayoutProperty(_,i,h,p={}){return this.style.setLayoutProperty(_,i,h,p),this._update(!0)}getLayoutProperty(_,i){return this.style.getLayoutProperty(_,i)}setGlyphs(_,i={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(_,i),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(_,i,h={}){return this._lazyInitEmptyStyle(),this.style.addSprite(_,i,h,(p=>{p||this._update(!0)})),this}removeSprite(_){return this._lazyInitEmptyStyle(),this.style.removeSprite(_),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(_,i={}){return this._lazyInitEmptyStyle(),this.style.setSprite(_,i,(h=>{h||this._update(!0)})),this}setLight(_,i={}){return this._lazyInitEmptyStyle(),this.style.setLight(_,i),this._update(!0)}getLight(){return this.style.getLight()}setSky(_){return this._lazyInitEmptyStyle(),this.style.setSky(_),this._update(!0)}getSky(){return this.style.getSky()}setFeatureState(_,i){return this.style.setFeatureState(_,i),this._update()}removeFeatureState(_,i){return this.style.removeFeatureState(_,i),this._update()}getFeatureState(_){return this.style.getFeatureState(_)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let _=0,i=0;return this._container&&(_=this._container.clientWidth||400,i=this._container.clientHeight||300),[_,i]}_setupContainer(){const _=this._container;_.classList.add("maplibregl-map");const i=this._canvasContainer=F.create("div","maplibregl-canvas-container",_);this._interactive&&i.classList.add("maplibregl-interactive"),this._canvas=F.create("canvas","maplibregl-canvas",i),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex",this._interactive?"0":"-1"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region");const h=this._containerDimensions(),p=this._getClampedPixelRatio(h[0],h[1]);this._resizeCanvas(h[0],h[1],p);const v=this._controlContainer=F.create("div","maplibregl-control-container",_),x=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((U=>{x[U]=F.create("div",`maplibregl-ctrl-${U} `,v)})),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(_,i,h){this._canvas.width=Math.floor(h*_),this._canvas.height=Math.floor(h*i),this._canvas.style.width=`${_}px`,this._canvas.style.height=`${i}px`}_setupPainter(){const _={alpha:!0,stencil:!0,depth:!0,failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1};let i=null;this._canvas.addEventListener("webglcontextcreationerror",(p=>{i={requestedAttributes:_},p&&(i.statusMessage=p.statusMessage,i.type=p.type)}),{once:!0});const h=this._canvas.getContext("webgl2",_)||this._canvas.getContext("webgl",_);if(!h){const p="Failed to initialize WebGL";throw i?(i.message=p,new Error(JSON.stringify(i))):new Error(p)}this.painter=new ls(h,this.transform),T.testSupport(h)}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(_){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||_,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(_){return this._update(),this._renderTaskQueue.add(_)}_cancelRenderFrame(_){this._renderTaskQueue.remove(_)}_render(_){const i=this._idleTriggered?this._fadeDuration:0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(_),this._removed)return;let h=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const v=this.transform.zoom,x=S.now();this.style.zoomHistory.update(v,x);const U=new l.z(v,{now:x,fadeDuration:i,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),M=U.crossFadingFactor();M===1&&M===this._crossFadingFactor||(h=!0,this._crossFadingFactor=M),this.style.update(U)}this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._elevationFreeze||(this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform.minElevationForCurrentTile=0,this.transform.elevation=0),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,i,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:i,showPadding:this.showPadding}),this.fire(new l.k("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,l.bf.mark(l.bg.load),this.fire(new l.k("load"))),this.style&&(this.style.hasTransitions()||h)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const p=this._sourcesDirty||this._styleDirty||this._placementDirty;return p||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new l.k("idle")),!this._loaded||this._fullyLoaded||p||(this._fullyLoaded=!0,l.bf.mark(l.bg.fullLoad)),this}redraw(){return this.style&&(this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._render(0)),this}remove(){var _;this._hash&&this._hash.remove();for(const h of this._controls)h.onRemove(this);this._controls=[],this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),W.removeThrottleControl(this._imageQueueHandle),(_=this._resizeObserver)===null||_===void 0||_.disconnect();const i=this.painter.context.gl.getExtension("WEBGL_lose_context");i?.loseContext&&i.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),F.remove(this._canvasContainer),F.remove(this._controlContainer),this._container.classList.remove("maplibregl-map"),l.bf.clearMetrics(),this._removed=!0,this.fire(new l.k("remove"))}triggerRepaint(){this.style&&!this._frameRequest&&(this._frameRequest=new AbortController,S.frameAsync(this._frameRequest).then((_=>{l.bf.frame(_),this._frameRequest=null,this._render(_)})).catch((()=>{})))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(_){this._showTileBoundaries!==_&&(this._showTileBoundaries=_,this._update())}get showPadding(){return!!this._showPadding}set showPadding(_){this._showPadding!==_&&(this._showPadding=_,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(_){this._showCollisionBoxes!==_&&(this._showCollisionBoxes=_,_?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(_){this._showOverdrawInspector!==_&&(this._showOverdrawInspector=_,this._update())}get repaint(){return!!this._repaint}set repaint(_){this._repaint!==_&&(this._repaint=_,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(_){this._vertices=_,this._update()}get version(){return ro}getCameraTargetElevation(){return this.transform.elevation}},d.MapMouseEvent=oi,d.MapTouchEvent=Ko,d.MapWheelEvent=Ls,d.Marker=Kc,d.NavigationControl=class{constructor(_){this._updateZoomButtons=()=>{const i=this._map.getZoom(),h=i===this._map.getMaxZoom(),p=i===this._map.getMinZoom();this._zoomInButton.disabled=h,this._zoomOutButton.disabled=p,this._zoomInButton.setAttribute("aria-disabled",h.toString()),this._zoomOutButton.setAttribute("aria-disabled",p.toString())},this._rotateCompassArrow=()=>{const i=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=i},this._setButtonTitle=(i,h)=>{const p=this._map._getUIString(`NavigationControl.${h}`);i.title=p,i.setAttribute("aria-label",p)},this.options=l.e({},PA,_),this._container=F.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",(i=>i.preventDefault())),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",(i=>this._map.zoomIn({},{originalEvent:i}))),F.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",(i=>this._map.zoomOut({},{originalEvent:i}))),F.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",(i=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:i}):this._map.resetNorth({},{originalEvent:i})})),this._compassIcon=F.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(_){return this._map=_,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new jc(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){F.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(_,i){const h=F.create("button",_,this._container);return h.type="button",h.addEventListener("click",i),h}},d.Popup=class extends l.E{constructor(_){super(),this.remove=()=>(this._content&&F.remove(this._content),this._container&&(F.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),this._map._canvasContainer.classList.remove("maplibregl-track-pointer"),delete this._map,this.fire(new l.k("close"))),this),this._onMouseUp=i=>{this._update(i.point)},this._onMouseMove=i=>{this._update(i.point)},this._onDrag=i=>{this._update(i.point)},this._update=i=>{var h;if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=F.create("div","maplibregl-popup",this._map.getContainer()),this._tip=F.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const M of this.options.className.split(" "))this._container.classList.add(M);this._closeButton&&this._closeButton.setAttribute("aria-label",this._map._getUIString("Popup.Close")),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._lngLat=this._map.transform.renderWorldCopies&&!this._trackPointer?pn(this._lngLat,this._flatPos,this._map.transform):(h=this._lngLat)===null||h===void 0?void 0:h.wrap(),this._trackPointer&&!i)return;const p=this._flatPos=this._pos=this._trackPointer&&i?i:this._map.project(this._lngLat);this._map.terrain&&(this._flatPos=this._trackPointer&&i?i:this._map.transform.locationPoint(this._lngLat));let v=this.options.anchor;const x=D(this.options.offset);if(!v){const M=this._container.offsetWidth,k=this._container.offsetHeight;let Q;Q=p.y+x.bottom.y<k?["top"]:p.y>this._map.transform.height-k?["bottom"]:[],p.x<M/2?Q.push("left"):p.x>this._map.transform.width-M/2&&Q.push("right"),v=Q.length===0?"bottom":Q.join("-")}let U=p.add(x[v]);this.options.subpixelPositioning||(U=U.round()),F.setTransform(this._container,`${Zl[v]} translate(${U.x}px,${U.y}px)`),pc(this._container,v,"popup")},this._onClose=()=>{this.remove()},this.options=l.e(Object.create(Cr),_)}addTo(_){return this._map&&this.remove(),this._map=_,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new l.k("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(_){return this._lngLat=l.N.convert(_),this._pos=null,this._flatPos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._flatPos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(_){return this.setDOMContent(document.createTextNode(_))}setHTML(_){const i=document.createDocumentFragment(),h=document.createElement("body");let p;for(h.innerHTML=_;p=h.firstChild,p;)i.appendChild(p);return this.setDOMContent(i)}getMaxWidth(){var _;return(_=this._container)===null||_===void 0?void 0:_.style.maxWidth}setMaxWidth(_){return this.options.maxWidth=_,this._update(),this}setDOMContent(_){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=F.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(_),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(_){return this._container&&this._container.classList.add(_),this}removeClassName(_){return this._container&&this._container.classList.remove(_),this}setOffset(_){return this.options.offset=_,this._update(),this}toggleClassName(_){if(this._container)return this._container.classList.toggle(_)}setSubpixelPositioning(_){this.options.subpixelPositioning=_}_createCloseButton(){this.options.closeButton&&(this._closeButton=F.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const _=this._container.querySelector(L);_&&_.focus()}},d.RasterDEMTileSource=nr,d.RasterTileSource=Tt,d.ScaleControl=class{constructor(_){this._onMove=()=>{Wl(this._map,this._container,this.options)},this.setUnit=i=>{this.options.unit=i,Wl(this._map,this._container,this.options)},this.options=Object.assign(Object.assign({},fs),_)}getDefaultPosition(){return"bottom-left"}onAdd(_){return this._map=_,this._container=F.create("div","maplibregl-ctrl maplibregl-ctrl-scale",_.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){F.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},d.ScrollZoomHandler=Ki,d.Style=Ri,d.TerrainControl=class{constructor(_){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"))},this.options=_}onAdd(_){return this._map=_,this._container=F.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=F.create("button","maplibregl-ctrl-terrain",this._container),F.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){F.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},d.TwoFingersTouchPitchHandler=UA,d.TwoFingersTouchRotateHandler=FA,d.TwoFingersTouchZoomHandler=Mu,d.TwoFingersTouchZoomRotateHandler=zc,d.VectorTileSource=Er,d.VideoSource=rn,d.addSourceType=(_,i)=>l._(void 0,void 0,void 0,(function*(){if(yn(_))throw new Error(`A source type called "${_}" already exists.`);((h,p)=>{Jr[h]=p})(_,i)})),d.clearPrewarmedResources=function(){const _=et;_&&(_.isPreloaded()&&_.numActive()===1?(_.release(Te),et=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},d.getMaxParallelImageRequests=function(){return l.a.MAX_PARALLEL_IMAGE_REQUESTS},d.getRTLTextPluginStatus=function(){return fr().getRTLTextPluginStatus()},d.getVersion=function(){return X},d.getWorkerCount=function(){return Ne.workerCount},d.getWorkerUrl=function(){return l.a.WORKER_URL},d.importScriptInWorkers=function(_){return Ct().broadcast("IS",_)},d.prewarm=function(){Ke().acquire(Te)},d.setMaxParallelImageRequests=function(_){l.a.MAX_PARALLEL_IMAGE_REQUESTS=_},d.setRTLTextPlugin=function(_,i){return fr().setRTLTextPlugin(_,i)},d.setWorkerCount=function(_){Ne.workerCount=_},d.setWorkerUrl=function(_){l.a.WORKER_URL=_}}));var A=r;return A}))})(v1)),v1.exports}var bk=_k();const Bv=bh(bk);var yu=63710088e-1,nU={centimeters:yu*100,centimetres:yu*100,degrees:360/(2*Math.PI),feet:yu*3.28084,inches:yu*39.37,kilometers:yu/1e3,kilometres:yu/1e3,meters:yu,metres:yu,miles:yu/1609.344,millimeters:yu*1e3,millimetres:yu*1e3,nauticalmiles:yu/1852,radians:1,yards:yu*1.0936};function H_(e,t,r={}){const n={type:"Feature"};return(r.id===0||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function E2(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!SS(e[0])||!SS(e[1]))throw new Error("coordinates must contain numbers");return H_({type:"Point",coordinates:e},t,r)}function wk(e,t,r={}){for(const s of e){if(s.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(s[s.length-1].length!==s[0].length)throw new Error("First and last Position are not equivalent.");for(let A=0;A<s[s.length-1].length;A++)if(s[s.length-1][A]!==s[0][A])throw new Error("First and last Position are not equivalent.")}return H_({type:"Polygon",coordinates:e},t,r)}function xk(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return H_({type:"LineString",coordinates:e},t,r)}function Bk(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function Ck(e,t,r={}){return H_({type:"MultiPoint",coordinates:e},t,r)}function Sk(e,t="kilometers"){const r=nU[t];if(!r)throw new Error(t+" units is invalid");return e*r}function Ek(e,t="kilometers"){const r=nU[t];if(!r)throw new Error(t+" units is invalid");return e/r}function CS(e){return e%(2*Math.PI)*180/Math.PI}function cp(e){return e%360*Math.PI/180}function SS(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}function O1(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if(e.type==="Feature"&&e.geometry!==null&&e.geometry.type==="Point")return[...e.geometry.coordinates];if(e.type==="Point")return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function Tk(e){return e.type==="Feature"?e.geometry:e}function Ik(e,t,r,n={}){const s=O1(e),A=cp(s[0]),d=cp(s[1]),l=cp(r),y=Ek(t,n.units),b=Math.asin(Math.sin(d)*Math.cos(y)+Math.cos(d)*Math.sin(y)*Math.cos(l)),w=A+Math.atan2(Math.sin(l)*Math.sin(y)*Math.cos(d),Math.cos(y)-Math.sin(d)*Math.sin(b)),S=CS(w),F=CS(b);return s[2]!==void 0?E2([S,F,s[2]],n.properties):E2([S,F],n.properties)}function iU(e,t,r={}){var n=O1(e),s=O1(t),A=cp(s[1]-n[1]),d=cp(s[0]-n[0]),l=cp(n[1]),y=cp(s[1]),b=Math.pow(Math.sin(A/2),2)+Math.pow(Math.sin(d/2),2)*Math.cos(l)*Math.cos(y);return Sk(2*Math.atan2(Math.sqrt(b),Math.sqrt(1-b)),r.units)}function aU(e,t,r){if(e!==null)for(var n,s,A,d,l,y,b,w=0,S=0,F,T=e.type,z=T==="FeatureCollection",H=T==="Feature",K=z?e.features.length:1,q=0;q<K;q++){b=z?e.features[q].geometry:H?e.geometry:e,F=b?b.type==="GeometryCollection":!1,l=F?b.geometries.length:1;for(var ne=0;ne<l;ne++){var W=0,le=0;if(d=F?b.geometries[ne]:b,d!==null){y=d.coordinates;var ce=d.type;switch(w=0,ce){case null:break;case"Point":if(t(y,S,q,W,le)===!1)return!1;S++,W++;break;case"LineString":case"MultiPoint":for(n=0;n<y.length;n++){if(t(y[n],S,q,W,le)===!1)return!1;S++,ce==="MultiPoint"&&W++}ce==="LineString"&&W++;break;case"Polygon":case"MultiLineString":for(n=0;n<y.length;n++){for(s=0;s<y[n].length-w;s++){if(t(y[n][s],S,q,W,le)===!1)return!1;S++}ce==="MultiLineString"&&W++,ce==="Polygon"&&le++}ce==="Polygon"&&W++;break;case"MultiPolygon":for(n=0;n<y.length;n++){for(le=0,s=0;s<y[n].length;s++){for(A=0;A<y[n][s].length-w;A++){if(t(y[n][s][A],S,q,W,le)===!1)return!1;S++}le++}W++}break;case"GeometryCollection":for(n=0;n<d.geometries.length;n++)if(aU(d.geometries[n],t)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Fk(e,t){if(e.type==="Feature")t(e,0);else if(e.type==="FeatureCollection")for(var r=0;r<e.features.length&&t(e.features[r],r)!==!1;r++);}function ES(e,t){var r,n,s,A,d,l,y,b,w,S,F=0,T=e.type==="FeatureCollection",z=e.type==="Feature",H=T?e.features.length:1;for(r=0;r<H;r++){for(l=T?e.features[r].geometry:z?e.geometry:e,b=T?e.features[r].properties:z?e.properties:{},w=T?e.features[r].bbox:z?e.bbox:void 0,S=T?e.features[r].id:z?e.id:void 0,y=l?l.type==="GeometryCollection":!1,d=y?l.geometries.length:1,s=0;s<d;s++){if(A=y?l.geometries[s]:l,A===null){if(t(null,F,b,w,S)===!1)return!1;continue}switch(A.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(t(A,F,b,w,S)===!1)return!1;break}case"GeometryCollection":{for(n=0;n<A.geometries.length;n++)if(t(A.geometries[n],F,b,w,S)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}F++}}const Wh=11102230246251565e-32,Fl=134217729,Uk=(3+8*Wh)*Wh;function aw(e,t,r,n,s){let A,d,l,y,b=t[0],w=n[0],S=0,F=0;w>b==w>-b?(A=b,b=t[++S]):(A=w,w=n[++F]);let T=0;if(S<e&&F<r)for(w>b==w>-b?(d=b+A,l=A-(d-b),b=t[++S]):(d=w+A,l=A-(d-w),w=n[++F]),A=d,l!==0&&(s[T++]=l);S<e&&F<r;)w>b==w>-b?(d=A+b,y=d-A,l=A-(d-y)+(b-y),b=t[++S]):(d=A+w,y=d-A,l=A-(d-y)+(w-y),w=n[++F]),A=d,l!==0&&(s[T++]=l);for(;S<e;)d=A+b,y=d-A,l=A-(d-y)+(b-y),b=t[++S],A=d,l!==0&&(s[T++]=l);for(;F<r;)d=A+w,y=d-A,l=A-(d-y)+(w-y),w=n[++F],A=d,l!==0&&(s[T++]=l);return(A!==0||T===0)&&(s[T++]=A),T}function Lk(e,t){let r=t[0];for(let n=1;n<e;n++)r+=t[n];return r}function ry(e){return new Float64Array(e)}const Mk=(3+16*Wh)*Wh,Pk=(2+12*Wh)*Wh,Ok=(9+64*Wh)*Wh*Wh,cg=ry(4),TS=ry(8),IS=ry(12),FS=ry(16),lA=ry(4);function Dk(e,t,r,n,s,A,d){let l,y,b,w,S,F,T,z,H,K,q,ne,W,le,ce,me,Ee,Ie;const ge=e-s,je=r-s,ie=t-A,de=n-A;le=ge*de,F=Fl*ge,T=F-(F-ge),z=ge-T,F=Fl*de,H=F-(F-de),K=de-H,ce=z*K-(le-T*H-z*H-T*K),me=ie*je,F=Fl*ie,T=F-(F-ie),z=ie-T,F=Fl*je,H=F-(F-je),K=je-H,Ee=z*K-(me-T*H-z*H-T*K),q=ce-Ee,S=ce-q,cg[0]=ce-(q+S)+(S-Ee),ne=le+q,S=ne-le,W=le-(ne-S)+(q-S),q=W-me,S=W-q,cg[1]=W-(q+S)+(S-me),Ie=ne+q,S=Ie-ne,cg[2]=ne-(Ie-S)+(q-S),cg[3]=Ie;let Fe=Lk(4,cg),Le=Pk*d;if(Fe>=Le||-Fe>=Le||(S=e-ge,l=e-(ge+S)+(S-s),S=r-je,b=r-(je+S)+(S-s),S=t-ie,y=t-(ie+S)+(S-A),S=n-de,w=n-(de+S)+(S-A),l===0&&y===0&&b===0&&w===0)||(Le=Ok*d+Uk*Math.abs(Fe),Fe+=ge*w+de*l-(ie*b+je*y),Fe>=Le||-Fe>=Le))return Fe;le=l*de,F=Fl*l,T=F-(F-l),z=l-T,F=Fl*de,H=F-(F-de),K=de-H,ce=z*K-(le-T*H-z*H-T*K),me=y*je,F=Fl*y,T=F-(F-y),z=y-T,F=Fl*je,H=F-(F-je),K=je-H,Ee=z*K-(me-T*H-z*H-T*K),q=ce-Ee,S=ce-q,lA[0]=ce-(q+S)+(S-Ee),ne=le+q,S=ne-le,W=le-(ne-S)+(q-S),q=W-me,S=W-q,lA[1]=W-(q+S)+(S-me),Ie=ne+q,S=Ie-ne,lA[2]=ne-(Ie-S)+(q-S),lA[3]=Ie;const it=aw(4,cg,4,lA,TS);le=ge*w,F=Fl*ge,T=F-(F-ge),z=ge-T,F=Fl*w,H=F-(F-w),K=w-H,ce=z*K-(le-T*H-z*H-T*K),me=ie*b,F=Fl*ie,T=F-(F-ie),z=ie-T,F=Fl*b,H=F-(F-b),K=b-H,Ee=z*K-(me-T*H-z*H-T*K),q=ce-Ee,S=ce-q,lA[0]=ce-(q+S)+(S-Ee),ne=le+q,S=ne-le,W=le-(ne-S)+(q-S),q=W-me,S=W-q,lA[1]=W-(q+S)+(S-me),Ie=ne+q,S=Ie-ne,lA[2]=ne-(Ie-S)+(q-S),lA[3]=Ie;const Pe=aw(it,TS,4,lA,IS);le=l*w,F=Fl*l,T=F-(F-l),z=l-T,F=Fl*w,H=F-(F-w),K=w-H,ce=z*K-(le-T*H-z*H-T*K),me=y*b,F=Fl*y,T=F-(F-y),z=y-T,F=Fl*b,H=F-(F-b),K=b-H,Ee=z*K-(me-T*H-z*H-T*K),q=ce-Ee,S=ce-q,lA[0]=ce-(q+S)+(S-Ee),ne=le+q,S=ne-le,W=le-(ne-S)+(q-S),q=W-me,S=W-q,lA[1]=W-(q+S)+(S-me),Ie=ne+q,S=Ie-ne,lA[2]=ne-(Ie-S)+(q-S),lA[3]=Ie;const ke=aw(Pe,IS,4,lA,FS);return FS[ke-1]}function kk(e,t,r,n,s,A){const d=(t-A)*(r-s),l=(e-s)*(n-A),y=d-l,b=Math.abs(d+l);return Math.abs(y)>=Mk*b?y:-Dk(e,t,r,n,s,A,b)}function Qk(e,t){var r,n,s=0,A,d,l,y,b,w,S,F=e[0],T=e[1],z=t.length;for(r=0;r<z;r++){n=0;var H=t[r],K=H.length-1;if(w=H[0],w[0]!==H[K][0]&&w[1]!==H[K][1])throw new Error("First and last coordinates in a ring must be the same");for(d=w[0]-F,l=w[1]-T,n;n<K;n++){if(S=H[n+1],y=S[0]-F,b=S[1]-T,l===0&&b===0){if(y<=0&&d>=0||d<=0&&y>=0)return 0}else if(b>=0&&l<=0||b<=0&&l>=0){if(A=kk(d,y,l,b,0,0),A===0)return 0;(A>0&&b>0&&l<=0||A<0&&b<=0&&l>0)&&s++}w=S,l=b,d=y}}return s%2!==0}function US(e,t,r={}){if(!e)throw new Error("point is required");if(!t)throw new Error("polygon is required");const n=O1(e),s=Tk(t),A=s.type,d=t.bbox;let l=s.coordinates;if(d&&Nk(n,d)===!1)return!1;A==="Polygon"&&(l=[l]);let y=!1;for(var b=0;b<l.length;++b){const w=Qk(n,l[b]);if(w===0)return!r.ignoreBoundary;w&&(y=!0)}return y}function Nk(e,t){return t[0]<=e[0]&&t[1]<=e[1]&&t[2]>=e[0]&&t[3]>=e[1]}function Rk(e,t,r={}){const n=r.steps||64,s=r.properties?r.properties:!Array.isArray(e)&&e.type==="Feature"&&e.properties?e.properties:{},A=[];for(let d=0;d<n;d++)A.push(Ik(e,t,d*-360/n,r).geometry.coordinates);return A.push(A[0]),wk([A],s)}function zk(e,t){const r=[];return Fk(e,function(n){let s=!1;if(n.geometry.type==="Point")ES(t,function(d){US(n,d)&&(s=!0)}),s&&r.push(n);else if(n.geometry.type==="MultiPoint"){var A=[];ES(t,function(d){aU(n,function(l){US(l,d)&&(s=!0,A.push(l))})}),s&&r.push(Ck(A,n.properties))}else throw new Error("Input geometry must be a Point or MultiPoint")}),Bk(r)}function sU(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=sU(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function $i(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=sU(e))&&(n&&(n+=" "),n+=t);return n}var Hk=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function s5(e){if(typeof e!="string")return!1;var t=Hk;return t.includes(e)}var jk=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Kk=new Set(jk);function oU(e){return typeof e!="string"?!1:Kk.has(e)}function lU(e){return typeof e=="string"&&e.startsWith("data-")}function ph(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(oU(r)||lU(r))&&(t[r]=e[r]);return t}function j_(e){if(e==null)return null;if(ae.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return ph(t)}return typeof e=="object"&&!Array.isArray(e)?ph(e):null}function hA(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(oU(r)||lU(r)||s5(r))&&(t[r]=e[r]);return t}function Vk(e){return e==null?null:ae.isValidElement(e)?hA(e.props):typeof e=="object"&&!Array.isArray(e)?hA(e):null}var qk=["children","width","height","viewBox","className","style","title","desc"];function T2(){return T2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T2.apply(null,arguments)}function Gk(e,t){if(e==null)return{};var r,n,s=$k(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function $k(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var o5=ae.forwardRef((e,t)=>{var{children:r,width:n,height:s,viewBox:A,className:d,style:l,title:y,desc:b}=e,w=Gk(e,qk),S=A||{width:n,height:s,x:0,y:0},F=$i("recharts-surface",d);return ae.createElement("svg",T2({},hA(w),{className:F,width:n,height:s,style:l,viewBox:"".concat(S.x," ").concat(S.y," ").concat(S.width," ").concat(S.height),ref:t}),ae.createElement("title",null,y),ae.createElement("desc",null,b),r)}),Xk=["children","className"];function I2(){return I2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I2.apply(null,arguments)}function Zk(e,t){if(e==null)return{};var r,n,s=Wk(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Wk(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var fd=ae.forwardRef((e,t)=>{var{children:r,className:n}=e,s=Zk(e,Xk),A=$i("recharts-layer",n);return ae.createElement("g",I2({className:A},hA(s),{ref:t}),r)}),l5=tU(),AU=ae.createContext(null),Yk=()=>ae.useContext(AU);function fa(e){return function(){return e}}const uU=Math.cos,D1=Math.sin,Oc=Math.sqrt,k1=Math.PI,K_=2*k1,F2=Math.PI,U2=2*F2,ap=1e-6,Jk=U2-ap;function cU(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function eQ(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return cU;const r=10**t;return function(n){this._+=n[0];for(let s=1,A=n.length;s<A;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class tQ{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?cU:eQ(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,A,d){this._append`C${+t},${+r},${+n},${+s},${this._x1=+A},${this._y1=+d}`}arcTo(t,r,n,s,A){if(t=+t,r=+r,n=+n,s=+s,A=+A,A<0)throw new Error(`negative radius: ${A}`);let d=this._x1,l=this._y1,y=n-t,b=s-r,w=d-t,S=l-r,F=w*w+S*S;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(F>ap)if(!(Math.abs(S*y-b*w)>ap)||!A)this._append`L${this._x1=t},${this._y1=r}`;else{let T=n-d,z=s-l,H=y*y+b*b,K=T*T+z*z,q=Math.sqrt(H),ne=Math.sqrt(F),W=A*Math.tan((F2-Math.acos((H+F-K)/(2*q*ne)))/2),le=W/ne,ce=W/q;Math.abs(le-1)>ap&&this._append`L${t+le*w},${r+le*S}`,this._append`A${A},${A},0,0,${+(S*T>w*z)},${this._x1=t+ce*y},${this._y1=r+ce*b}`}}arc(t,r,n,s,A,d){if(t=+t,r=+r,n=+n,d=!!d,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),y=n*Math.sin(s),b=t+l,w=r+y,S=1^d,F=d?s-A:A-s;this._x1===null?this._append`M${b},${w}`:(Math.abs(this._x1-b)>ap||Math.abs(this._y1-w)>ap)&&this._append`L${b},${w}`,n&&(F<0&&(F=F%U2+U2),F>Jk?this._append`A${n},${n},0,1,${S},${t-l},${r-y}A${n},${n},0,1,${S},${this._x1=b},${this._y1=w}`:F>ap&&this._append`A${n},${n},0,${+(F>=F2)},${S},${this._x1=t+n*Math.cos(A)},${this._y1=r+n*Math.sin(A)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function A5(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new tQ(t)}function u5(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function hU(e){this._context=e}hU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function V_(e){return new hU(e)}function fU(e){return e[0]}function dU(e){return e[1]}function pU(e,t){var r=fa(!0),n=null,s=V_,A=null,d=A5(l);e=typeof e=="function"?e:e===void 0?fU:fa(e),t=typeof t=="function"?t:t===void 0?dU:fa(t);function l(y){var b,w=(y=u5(y)).length,S,F=!1,T;for(n==null&&(A=s(T=d())),b=0;b<=w;++b)!(b<w&&r(S=y[b],b,y))===F&&((F=!F)?A.lineStart():A.lineEnd()),F&&A.point(+e(S,b,y),+t(S,b,y));if(T)return A=null,T+""||null}return l.x=function(y){return arguments.length?(e=typeof y=="function"?y:fa(+y),l):e},l.y=function(y){return arguments.length?(t=typeof y=="function"?y:fa(+y),l):t},l.defined=function(y){return arguments.length?(r=typeof y=="function"?y:fa(!!y),l):r},l.curve=function(y){return arguments.length?(s=y,n!=null&&(A=s(n)),l):s},l.context=function(y){return arguments.length?(y==null?n=A=null:A=s(n=y),l):n},l}function Cv(e,t,r){var n=null,s=fa(!0),A=null,d=V_,l=null,y=A5(b);e=typeof e=="function"?e:e===void 0?fU:fa(+e),t=typeof t=="function"?t:fa(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?dU:fa(+r);function b(S){var F,T,z,H=(S=u5(S)).length,K,q=!1,ne,W=new Array(H),le=new Array(H);for(A==null&&(l=d(ne=y())),F=0;F<=H;++F){if(!(F<H&&s(K=S[F],F,S))===q)if(q=!q)T=F,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),z=F-1;z>=T;--z)l.point(W[z],le[z]);l.lineEnd(),l.areaEnd()}q&&(W[F]=+e(K,F,S),le[F]=+t(K,F,S),l.point(n?+n(K,F,S):W[F],r?+r(K,F,S):le[F]))}if(ne)return l=null,ne+""||null}function w(){return pU().defined(s).curve(d).context(A)}return b.x=function(S){return arguments.length?(e=typeof S=="function"?S:fa(+S),n=null,b):e},b.x0=function(S){return arguments.length?(e=typeof S=="function"?S:fa(+S),b):e},b.x1=function(S){return arguments.length?(n=S==null?null:typeof S=="function"?S:fa(+S),b):n},b.y=function(S){return arguments.length?(t=typeof S=="function"?S:fa(+S),r=null,b):t},b.y0=function(S){return arguments.length?(t=typeof S=="function"?S:fa(+S),b):t},b.y1=function(S){return arguments.length?(r=S==null?null:typeof S=="function"?S:fa(+S),b):r},b.lineX0=b.lineY0=function(){return w().x(e).y(t)},b.lineY1=function(){return w().x(e).y(r)},b.lineX1=function(){return w().x(n).y(t)},b.defined=function(S){return arguments.length?(s=typeof S=="function"?S:fa(!!S),b):s},b.curve=function(S){return arguments.length?(d=S,A!=null&&(l=d(A)),b):d},b.context=function(S){return arguments.length?(S==null?A=l=null:l=d(A=S),b):A},b}class gU{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function rQ(e){return new gU(e,!0)}function nQ(e){return new gU(e,!1)}const c5={draw(e,t){const r=Oc(t/k1);e.moveTo(r,0),e.arc(0,0,r,0,K_)}},iQ={draw(e,t){const r=Oc(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},mU=Oc(1/3),aQ=mU*2,sQ={draw(e,t){const r=Oc(t/aQ),n=r*mU;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},oQ={draw(e,t){const r=Oc(t),n=-r/2;e.rect(n,n,r,r)}},lQ=.8908130915292852,yU=D1(k1/10)/D1(7*k1/10),AQ=D1(K_/10)*yU,uQ=-uU(K_/10)*yU,cQ={draw(e,t){const r=Oc(t*lQ),n=AQ*r,s=uQ*r;e.moveTo(0,-r),e.lineTo(n,s);for(let A=1;A<5;++A){const d=K_*A/5,l=uU(d),y=D1(d);e.lineTo(y*r,-l*r),e.lineTo(l*n-y*s,y*n+l*s)}e.closePath()}},sw=Oc(3),hQ={draw(e,t){const r=-Oc(t/(sw*3));e.moveTo(0,r*2),e.lineTo(-sw*r,-r),e.lineTo(sw*r,-r),e.closePath()}},$u=-.5,Xu=Oc(3)/2,L2=1/Oc(12),fQ=(L2/2+1)*3,dQ={draw(e,t){const r=Oc(t/fQ),n=r/2,s=r*L2,A=n,d=r*L2+r,l=-A,y=d;e.moveTo(n,s),e.lineTo(A,d),e.lineTo(l,y),e.lineTo($u*n-Xu*s,Xu*n+$u*s),e.lineTo($u*A-Xu*d,Xu*A+$u*d),e.lineTo($u*l-Xu*y,Xu*l+$u*y),e.lineTo($u*n+Xu*s,$u*s-Xu*n),e.lineTo($u*A+Xu*d,$u*d-Xu*A),e.lineTo($u*l+Xu*y,$u*y-Xu*l),e.closePath()}};function pQ(e,t){let r=null,n=A5(s);e=typeof e=="function"?e:fa(e||c5),t=typeof t=="function"?t:fa(t===void 0?64:+t);function s(){let A;if(r||(r=A=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),A)return r=null,A+""||null}return s.type=function(A){return arguments.length?(e=typeof A=="function"?A:fa(A),s):e},s.size=function(A){return arguments.length?(t=typeof A=="function"?A:fa(+A),s):t},s.context=function(A){return arguments.length?(r=A??null,s):r},s}function Q1(){}function N1(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function vU(e){this._context=e}vU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:N1(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:N1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function gQ(e){return new vU(e)}function _U(e){this._context=e}_U.prototype={areaStart:Q1,areaEnd:Q1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:N1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function mQ(e){return new _U(e)}function bU(e){this._context=e}bU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:N1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function yQ(e){return new bU(e)}function wU(e){this._context=e}wU.prototype={areaStart:Q1,areaEnd:Q1,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function vQ(e){return new wU(e)}function LS(e){return e<0?-1:1}function MS(e,t,r){var n=e._x1-e._x0,s=t-e._x1,A=(e._y1-e._y0)/(n||s<0&&-0),d=(r-e._y1)/(s||n<0&&-0),l=(A*s+d*n)/(n+s);return(LS(A)+LS(d))*Math.min(Math.abs(A),Math.abs(d),.5*Math.abs(l))||0}function PS(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function ow(e,t,r){var n=e._x0,s=e._y0,A=e._x1,d=e._y1,l=(A-n)/3;e._context.bezierCurveTo(n+l,s+l*t,A-l,d-l*r,A,d)}function R1(e){this._context=e}R1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ow(this,this._t0,PS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ow(this,PS(this,r=MS(this,e,t)),r);break;default:ow(this,this._t0,r=MS(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function xU(e){this._context=new BU(e)}(xU.prototype=Object.create(R1.prototype)).point=function(e,t){R1.prototype.point.call(this,t,e)};function BU(e){this._context=e}BU.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,A){this._context.bezierCurveTo(t,e,n,r,A,s)}};function _Q(e){return new R1(e)}function bQ(e){return new xU(e)}function CU(e){this._context=e}CU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=OS(e),s=OS(t),A=0,d=1;d<r;++A,++d)this._context.bezierCurveTo(n[0][A],s[0][A],n[1][A],s[1][A],e[d],t[d]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function OS(e){var t,r=e.length-1,n,s=new Array(r),A=new Array(r),d=new Array(r);for(s[0]=0,A[0]=2,d[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,A[t]=4,d[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,A[r-1]=7,d[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/A[t-1],A[t]-=n,d[t]-=n*d[t-1];for(s[r-1]=d[r-1]/A[r-1],t=r-2;t>=0;--t)s[t]=(d[t]-s[t+1])/A[t];for(A[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)A[t]=2*e[t+1]-s[t+1];return[s,A]}function wQ(e){return new CU(e)}function q_(e,t){this._context=e,this._t=t}q_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function xQ(e){return new q_(e,.5)}function BQ(e){return new q_(e,0)}function CQ(e){return new q_(e,1)}function Rg(e,t){if((d=e.length)>1)for(var r=1,n,s,A=e[t[0]],d,l=A.length;r<d;++r)for(s=A,A=e[t[r]],n=0;n<l;++n)A[n][1]+=A[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function M2(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function SQ(e,t){return e[t]}function EQ(e){const t=[];return t.key=e,t}function TQ(){var e=fa([]),t=M2,r=Rg,n=SQ;function s(A){var d=Array.from(e.apply(this,arguments),EQ),l,y=d.length,b=-1,w;for(const S of A)for(l=0,++b;l<y;++l)(d[l][b]=[0,+n(S,d[l].key,b,A)]).data=S;for(l=0,w=u5(t(d));l<y;++l)d[w[l]].index=l;return r(d,w),d}return s.keys=function(A){return arguments.length?(e=typeof A=="function"?A:fa(Array.from(A)),s):e},s.value=function(A){return arguments.length?(n=typeof A=="function"?A:fa(+A),s):n},s.order=function(A){return arguments.length?(t=A==null?M2:typeof A=="function"?A:fa(Array.from(A)),s):t},s.offset=function(A){return arguments.length?(r=A??Rg,s):r},s}function IQ(e,t){if((n=e.length)>0){for(var r,n,s=0,A=e[0].length,d;s<A;++s){for(d=r=0;r<n;++r)d+=e[r][s][1]||0;if(d)for(r=0;r<n;++r)e[r][s][1]/=d}Rg(e,t)}}function FQ(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,A=n.length;r<A;++r){for(var d=0,l=0;d<s;++d)l+=e[d][r][1]||0;n[r][1]+=n[r][0]=-l/2}Rg(e,t)}}function UQ(e,t){if(!(!((d=e.length)>0)||!((A=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,A,d;n<A;++n){for(var l=0,y=0,b=0;l<d;++l){for(var w=e[t[l]],S=w[n][1]||0,F=w[n-1][1]||0,T=(S-F)/2,z=0;z<l;++z){var H=e[t[z]],K=H[n][1]||0,q=H[n-1][1]||0;T+=K-q}y+=S,b+=T*S}s[n-1][1]+=s[n-1][0]=r,y&&(r-=b/y)}s[n-1][1]+=s[n-1][0]=r,Rg(e,t)}}var lw={},Aw={},DS;function LQ(){return DS||(DS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(Aw)),Aw}var uw={},kS;function SU(){return kS||(kS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(uw)),uw}var cw={},QS;function h5(){return QS||(QS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(cw)),cw}var hw={},fw={},NS;function MQ(){return NS||(NS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(fw)),fw}var RS;function f5(){return RS||(RS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MQ(),r=h5();function n(s){if(Array.isArray(s))return s.map(r.toKey);if(typeof s=="symbol")return[s];s=t.toString(s);const A=[],d=s.length;if(d===0)return A;let l=0,y="",b="",w=!1;for(s.charCodeAt(0)===46&&(A.push(""),l++);l<d;){const S=s[l];b?S==="\\"&&l+1<d?(l++,y+=s[l]):S===b?b="":y+=S:w?S==='"'||S==="'"?b=S:S==="]"?(w=!1,A.push(y),y=""):y+=S:S==="["?(w=!0,y&&(A.push(y),y="")):S==="."?y&&(A.push(y),y=""):y+=S,l++}return y&&A.push(y),A}e.toPath=n})(hw)),hw}var zS;function d5(){return zS||(zS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LQ(),r=SU(),n=h5(),s=f5();function A(l,y,b){if(l==null)return b;switch(typeof y){case"string":{if(t.isUnsafeProperty(y))return b;const w=l[y];return w===void 0?r.isDeepKey(y)?A(l,s.toPath(y),b):b:w}case"number":case"symbol":{typeof y=="number"&&(y=n.toKey(y));const w=l[y];return w===void 0?b:w}default:{if(Array.isArray(y))return d(l,y,b);if(Object.is(y?.valueOf(),-0)?y="-0":y=String(y),t.isUnsafeProperty(y))return b;const w=l[y];return w===void 0?b:w}}}function d(l,y,b){if(y.length===0)return b;let w=l;for(let S=0;S<y.length;S++){if(w==null||t.isUnsafeProperty(y[S]))return b;w=w[y[S]]}return w===void 0?b:w}e.get=A})(lw)),lw}var dw,HS;function PQ(){return HS||(HS=1,dw=d5().get),dw}var OQ=PQ();const G_=bh(OQ);var ec=e=>e===0?0:e>0?1:-1,gh=e=>typeof e=="number"&&e!=+e,tf=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Yr=e=>(typeof e=="number"||e instanceof Number)&&!gh(e),mh=e=>Yr(e)||typeof e=="string",DQ=0,O0=e=>{var t=++DQ;return"".concat(e||"").concat(t)},dd=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Yr(t)&&typeof t!="string")return n;var A;if(tf(t)){if(r==null)return n;var d=t.indexOf("%");A=r*parseFloat(t.slice(0,d))/100}else A=+t;return gh(A)&&(A=n),s&&r!=null&&A>r&&(A=r),A},EU=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function qA(e,t,r){return Yr(e)&&Yr(t)?e+r*(t-e):t}function TU(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):G_(n,t))===r)}var Lo=e=>e===null||typeof e>"u",ny=e=>Lo(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function kQ(e){return e!=null}function iy(){}var QQ=["type","size","sizeType"];function P2(){return P2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P2.apply(null,arguments)}function jS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function KS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jS(Object(r),!0).forEach(function(n){NQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NQ(e,t,r){return(t=RQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RQ(e){var t=zQ(e,"string");return typeof t=="symbol"?t:t+""}function zQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HQ(e,t){if(e==null)return{};var r,n,s=jQ(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function jQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var IU={symbolCircle:c5,symbolCross:iQ,symbolDiamond:sQ,symbolSquare:oQ,symbolStar:cQ,symbolTriangle:hQ,symbolWye:dQ},KQ=Math.PI/180,VQ=e=>{var t="symbol".concat(ny(e));return IU[t]||c5},qQ=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*KQ;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},GQ=(e,t)=>{IU["symbol".concat(ny(e))]=t},p5=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,s=HQ(e,QQ),A=KS(KS({},s),{},{type:t,size:r,sizeType:n}),d="circle";typeof t=="string"&&(d=t);var l=()=>{var F=VQ(d),T=pQ().type(F).size(qQ(r,n,d)),z=T();if(z!==null)return z},{className:y,cx:b,cy:w}=A,S=hA(A);return Yr(b)&&Yr(w)&&Yr(r)?ae.createElement("path",P2({},S,{className:$i("recharts-symbols",y),transform:"translate(".concat(b,", ").concat(w,")"),d:l()})):null};p5.registerSymbol=GQ;var FU=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,g5=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(ae.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(s=>{s5(s)&&(n[s]=(A=>r[s](r,A)))}),n},$Q=(e,t,r)=>n=>(e(t,r,n),null),UU=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(s=>{var A=e[s];s5(s)&&typeof A=="function"&&(n||(n={}),n[s]=$Q(A,t,r))}),n};function VS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function XQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VS(Object(r),!0).forEach(function(n){ZQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZQ(e,t,r){return(t=WQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WQ(e){var t=YQ(e,"string");return typeof t=="symbol"?t:t+""}function YQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rl(e,t){var r=XQ({},e),n=t,s=Object.keys(t),A=s.reduce((d,l)=>(d[l]===void 0&&n[l]!==void 0&&(d[l]=n[l]),d),r);return A}function z1(){return z1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},z1.apply(null,arguments)}function qS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function JQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qS(Object(r),!0).forEach(function(n){eN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eN(e,t,r){return(t=tN(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tN(e){var t=rN(e,"string");return typeof t=="symbol"?t:t+""}function rN(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wu=32,nN={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function iN(e){var{data:t,iconType:r,inactiveColor:n}=e,s=Wu/2,A=Wu/6,d=Wu/3,l=t.inactive?n:t.color,y=r??t.type;if(y==="none")return null;if(y==="plainline"){var b;return ae.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:(b=t.payload)===null||b===void 0?void 0:b.strokeDasharray,x1:0,y1:s,x2:Wu,y2:s,className:"recharts-legend-icon"})}if(y==="line")return ae.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(s,"h").concat(d,`
            A`).concat(A,",").concat(A,",0,1,1,").concat(2*d,",").concat(s,`
            H`).concat(Wu,"M").concat(2*d,",").concat(s,`
            A`).concat(A,",").concat(A,",0,1,1,").concat(d,",").concat(s),className:"recharts-legend-icon"});if(y==="rect")return ae.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Wu/8,"h").concat(Wu,"v").concat(Wu*3/4,"h").concat(-Wu,"z"),className:"recharts-legend-icon"});if(ae.isValidElement(t.legendIcon)){var w=JQ({},t);return delete w.legendIcon,ae.cloneElement(t.legendIcon,w)}return ae.createElement(p5,{fill:l,cx:s,cy:s,size:Wu,sizeType:"diameter",type:y})}function aN(e){var{payload:t,iconSize:r,layout:n,formatter:s,inactiveColor:A,iconType:d}=e,l={x:0,y:0,width:Wu,height:Wu},y={display:n==="horizontal"?"inline-block":"block",marginRight:10},b={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((w,S)=>{var F=w.formatter||s,T=$i({"recharts-legend-item":!0,["legend-item-".concat(S)]:!0,inactive:w.inactive});if(w.type==="none")return null;var z=w.inactive?A:w.color,H=F?F(w.value,w,S):w.value;return ae.createElement("li",z1({className:T,style:y,key:"legend-item-".concat(S)},UU(e,w,S)),ae.createElement(o5,{width:r,height:r,viewBox:l,style:b,"aria-label":"".concat(H," legend icon")},ae.createElement(iN,{data:w,iconType:d,inactiveColor:A})),ae.createElement("span",{className:"recharts-legend-item-text",style:{color:z}},H))})}var sN=e=>{var t=Rl(e,nN),{payload:r,layout:n,align:s}=t;if(!r||!r.length)return null;var A={padding:0,margin:0,textAlign:n==="horizontal"?s:"left"};return ae.createElement("ul",{className:"recharts-default-legend",style:A},ae.createElement(aN,z1({},t,{payload:r})))},pw={},gw={},GS;function oN(){return GS||(GS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const s=new Map;for(let A=0;A<r.length;A++){const d=r[A],l=n(d);s.has(l)||s.set(l,d)}return Array.from(s.values())}e.uniqBy=t})(gw)),gw}var mw={},$S;function LU(){return $S||($S=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(mw)),mw}var yw={},vw={},_w={},XS;function lN(){return XS||(XS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(_w)),_w}var ZS;function m5(){return ZS||(ZS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lN();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(vw)),vw}var bw={},WS;function AN(){return WS||(WS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(bw)),bw}var YS;function uN(){return YS||(YS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=m5(),r=AN();function n(s){return r.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=n})(yw)),yw}var ww={},xw={},JS;function cN(){return JS||(JS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=d5();function r(n){return function(s){return t.get(s,n)}}e.property=r})(xw)),xw}var Bw={},Cw={},Sw={},Ew={},eE;function MU(){return eE||(eE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Ew)),Ew}var Tw={},tE;function PU(){return tE||(tE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Tw)),Tw}var Iw={},rE;function OU(){return rE||(rE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(Iw)),Iw}var nE;function hN(){return nE||(nE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MU(),r=PU(),n=OU();function s(w,S,F){return typeof F!="function"?s(w,S,()=>{}):A(w,S,function T(z,H,K,q,ne,W){const le=F(z,H,K,q,ne,W);return le!==void 0?!!le:A(z,H,T,W)},new Map)}function A(w,S,F,T){if(S===w)return!0;switch(typeof S){case"object":return d(w,S,F,T);case"function":return Object.keys(S).length>0?A(w,{...S},F,T):n.eq(w,S);default:return t.isObject(w)?typeof S=="string"?S==="":!0:n.eq(w,S)}}function d(w,S,F,T){if(S==null)return!0;if(Array.isArray(S))return y(w,S,F,T);if(S instanceof Map)return l(w,S,F,T);if(S instanceof Set)return b(w,S,F,T);const z=Object.keys(S);if(w==null)return z.length===0;if(z.length===0)return!0;if(T?.has(S))return T.get(S)===w;T?.set(S,w);try{for(let H=0;H<z.length;H++){const K=z[H];if(!r.isPrimitive(w)&&!(K in w)||S[K]===void 0&&w[K]!==void 0||S[K]===null&&w[K]!==null||!F(w[K],S[K],K,w,S,T))return!1}return!0}finally{T?.delete(S)}}function l(w,S,F,T){if(S.size===0)return!0;if(!(w instanceof Map))return!1;for(const[z,H]of S.entries()){const K=w.get(z);if(F(K,H,z,w,S,T)===!1)return!1}return!0}function y(w,S,F,T){if(S.length===0)return!0;if(!Array.isArray(w))return!1;const z=new Set;for(let H=0;H<S.length;H++){const K=S[H];let q=!1;for(let ne=0;ne<w.length;ne++){if(z.has(ne))continue;const W=w[ne];let le=!1;if(F(W,K,H,w,S,T)&&(le=!0),le){z.add(ne),q=!0;break}}if(!q)return!1}return!0}function b(w,S,F,T){return S.size===0?!0:w instanceof Set?y([...w],[...S],F,T):!1}e.isMatchWith=s,e.isSetMatch=b})(Sw)),Sw}var iE;function DU(){return iE||(iE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hN();function r(n,s){return t.isMatchWith(n,s,()=>{})}e.isMatch=r})(Cw)),Cw}var Fw={},Uw={},Lw={},aE;function fN(){return aE||(aE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(Lw)),Lw}var Mw={},sE;function kU(){return sE||(sE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Mw)),Mw}var Pw={},oE;function QU(){return oE||(oE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",s="[object Boolean]",A="[object Arguments]",d="[object Symbol]",l="[object Date]",y="[object Map]",b="[object Set]",w="[object Array]",S="[object Function]",F="[object ArrayBuffer]",T="[object Object]",z="[object Error]",H="[object DataView]",K="[object Uint8Array]",q="[object Uint8ClampedArray]",ne="[object Uint16Array]",W="[object Uint32Array]",le="[object BigUint64Array]",ce="[object Int8Array]",me="[object Int16Array]",Ee="[object Int32Array]",Ie="[object BigInt64Array]",ge="[object Float32Array]",je="[object Float64Array]";e.argumentsTag=A,e.arrayBufferTag=F,e.arrayTag=w,e.bigInt64ArrayTag=Ie,e.bigUint64ArrayTag=le,e.booleanTag=s,e.dataViewTag=H,e.dateTag=l,e.errorTag=z,e.float32ArrayTag=ge,e.float64ArrayTag=je,e.functionTag=S,e.int16ArrayTag=me,e.int32ArrayTag=Ee,e.int8ArrayTag=ce,e.mapTag=y,e.numberTag=n,e.objectTag=T,e.regexpTag=t,e.setTag=b,e.stringTag=r,e.symbolTag=d,e.uint16ArrayTag=ne,e.uint32ArrayTag=W,e.uint8ArrayTag=K,e.uint8ClampedArrayTag=q})(Pw)),Pw}var Ow={},lE;function dN(){return lE||(lE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(Ow)),Ow}var AE;function NU(){return AE||(AE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fN(),r=kU(),n=QU(),s=PU(),A=dN();function d(w,S){return l(w,void 0,w,new Map,S)}function l(w,S,F,T=new Map,z=void 0){const H=z?.(w,S,F,T);if(H!==void 0)return H;if(s.isPrimitive(w))return w;if(T.has(w))return T.get(w);if(Array.isArray(w)){const K=new Array(w.length);T.set(w,K);for(let q=0;q<w.length;q++)K[q]=l(w[q],q,F,T,z);return Object.hasOwn(w,"index")&&(K.index=w.index),Object.hasOwn(w,"input")&&(K.input=w.input),K}if(w instanceof Date)return new Date(w.getTime());if(w instanceof RegExp){const K=new RegExp(w.source,w.flags);return K.lastIndex=w.lastIndex,K}if(w instanceof Map){const K=new Map;T.set(w,K);for(const[q,ne]of w)K.set(q,l(ne,q,F,T,z));return K}if(w instanceof Set){const K=new Set;T.set(w,K);for(const q of w)K.add(l(q,void 0,F,T,z));return K}if(typeof Buffer<"u"&&Buffer.isBuffer(w))return w.subarray();if(A.isTypedArray(w)){const K=new(Object.getPrototypeOf(w)).constructor(w.length);T.set(w,K);for(let q=0;q<w.length;q++)K[q]=l(w[q],q,F,T,z);return K}if(w instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&w instanceof SharedArrayBuffer)return w.slice(0);if(w instanceof DataView){const K=new DataView(w.buffer.slice(0),w.byteOffset,w.byteLength);return T.set(w,K),y(K,w,F,T,z),K}if(typeof File<"u"&&w instanceof File){const K=new File([w],w.name,{type:w.type});return T.set(w,K),y(K,w,F,T,z),K}if(typeof Blob<"u"&&w instanceof Blob){const K=new Blob([w],{type:w.type});return T.set(w,K),y(K,w,F,T,z),K}if(w instanceof Error){const K=new w.constructor;return T.set(w,K),K.message=w.message,K.name=w.name,K.stack=w.stack,K.cause=w.cause,y(K,w,F,T,z),K}if(w instanceof Boolean){const K=new Boolean(w.valueOf());return T.set(w,K),y(K,w,F,T,z),K}if(w instanceof Number){const K=new Number(w.valueOf());return T.set(w,K),y(K,w,F,T,z),K}if(w instanceof String){const K=new String(w.valueOf());return T.set(w,K),y(K,w,F,T,z),K}if(typeof w=="object"&&b(w)){const K=Object.create(Object.getPrototypeOf(w));return T.set(w,K),y(K,w,F,T,z),K}return w}function y(w,S,F=w,T,z){const H=[...Object.keys(S),...t.getSymbols(S)];for(let K=0;K<H.length;K++){const q=H[K],ne=Object.getOwnPropertyDescriptor(w,q);(ne==null||ne.writable)&&(w[q]=l(S[q],q,F,T,z))}}function b(w){switch(r.getTag(w)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=d,e.cloneDeepWithImpl=l,e.copyProperties=y})(Uw)),Uw}var uE;function pN(){return uE||(uE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NU();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(Fw)),Fw}var cE;function gN(){return cE||(cE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DU(),r=pN();function n(s){return s=r.cloneDeep(s),A=>t.isMatch(A,s)}e.matches=n})(Bw)),Bw}var Dw={},kw={},Qw={},hE;function mN(){return hE||(hE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NU(),r=QU();function n(s,A){return t.cloneDeepWith(s,(d,l,y,b)=>{const w=A?.(d,l,y,b);if(w!==void 0)return w;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case r.numberTag:case r.stringTag:case r.booleanTag:{const S=new s.constructor(s?.valueOf());return t.copyProperties(S,s),S}case r.argumentsTag:{const S={};return t.copyProperties(S,s),S.length=s.length,S[Symbol.iterator]=s[Symbol.iterator],S}default:return}})}e.cloneDeepWith=n})(Qw)),Qw}var fE;function yN(){return fE||(fE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mN();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(kw)),kw}var Nw={},Rw={},dE;function RU(){return dE||(dE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,s=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<s;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Rw)),Rw}var zw={},pE;function vN(){return pE||(pE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kU();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(zw)),zw}var gE;function _N(){return gE||(gE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SU(),r=RU(),n=vN(),s=f5();function A(d,l){let y;if(Array.isArray(l)?y=l:typeof l=="string"&&t.isDeepKey(l)&&d?.[l]==null?y=s.toPath(l):y=[l],y.length===0)return!1;let b=d;for(let w=0;w<y.length;w++){const S=y[w];if((b==null||!Object.hasOwn(b,S))&&!((Array.isArray(b)||n.isArguments(b))&&r.isIndex(S)&&S<b.length))return!1;b=b[S]}return!0}e.has=A})(Nw)),Nw}var mE;function bN(){return mE||(mE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DU(),r=h5(),n=yN(),s=d5(),A=_N();function d(l,y){switch(typeof l){case"object":{Object.is(l?.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return y=n.cloneDeep(y),function(b){const w=s.get(b,l);return w===void 0?A.has(b,l):y===void 0?w===void 0:t.isMatch(w,y)}}e.matchesProperty=d})(Dw)),Dw}var yE;function wN(){return yE||(yE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LU(),r=cN(),n=gN(),s=bN();function A(d){if(d==null)return t.identity;switch(typeof d){case"function":return d;case"object":return Array.isArray(d)&&d.length===2?s.matchesProperty(d[0],d[1]):n.matches(d);case"string":case"symbol":case"number":return r.property(d)}}e.iteratee=A})(ww)),ww}var vE;function xN(){return vE||(vE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oN(),r=LU(),n=uN(),s=wN();function A(d,l=r.identity){return n.isArrayLikeObject(d)?t.uniqBy(Array.from(d),s.iteratee(l)):[]}e.uniqBy=A})(pw)),pw}var Hw,_E;function BN(){return _E||(_E=1,Hw=xN().uniqBy),Hw}var CN=BN();const bE=bh(CN);function zU(e,t,r){return t===!0?bE(e,r):typeof t=="function"?bE(e,t):e}var jw={exports:{}},Kw={},Vw={exports:{}},qw={};var wE;function SN(){if(wE)return qw;wE=1;var e=Xg();function t(S,F){return S===F&&(S!==0||1/S===1/F)||S!==S&&F!==F}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,s=e.useEffect,A=e.useLayoutEffect,d=e.useDebugValue;function l(S,F){var T=F(),z=n({inst:{value:T,getSnapshot:F}}),H=z[0].inst,K=z[1];return A(function(){H.value=T,H.getSnapshot=F,y(H)&&K({inst:H})},[S,T,F]),s(function(){return y(H)&&K({inst:H}),S(function(){y(H)&&K({inst:H})})},[S]),d(T),T}function y(S){var F=S.getSnapshot;S=S.value;try{var T=F();return!r(S,T)}catch{return!0}}function b(S,F){return F()}var w=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?b:l;return qw.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:w,qw}var xE;function EN(){return xE||(xE=1,Vw.exports=SN()),Vw.exports}var BE;function TN(){if(BE)return Kw;BE=1;var e=Xg(),t=EN();function r(b,w){return b===w&&(b!==0||1/b===1/w)||b!==b&&w!==w}var n=typeof Object.is=="function"?Object.is:r,s=t.useSyncExternalStore,A=e.useRef,d=e.useEffect,l=e.useMemo,y=e.useDebugValue;return Kw.useSyncExternalStoreWithSelector=function(b,w,S,F,T){var z=A(null);if(z.current===null){var H={hasValue:!1,value:null};z.current=H}else H=z.current;z=l(function(){function q(me){if(!ne){if(ne=!0,W=me,me=F(me),T!==void 0&&H.hasValue){var Ee=H.value;if(T(Ee,me))return le=Ee}return le=me}if(Ee=le,n(W,me))return Ee;var Ie=F(me);return T!==void 0&&T(Ee,Ie)?(W=me,Ee):(W=me,le=Ie)}var ne=!1,W,le,ce=S===void 0?null:S;return[function(){return q(w())},ce===null?void 0:function(){return q(ce())}]},[w,S,F,T]);var K=s(b,z[0],z[1]);return d(function(){H.hasValue=!0,H.value=K},[K]),y(K),K},Kw}var CE;function IN(){return CE||(CE=1,jw.exports=TN()),jw.exports}var FN=IN(),y5=ae.createContext(null),UN=e=>e,Hs=()=>{var e=ae.useContext(y5);return e?e.store.dispatch:UN},_1=()=>{},LN=()=>_1,MN=(e,t)=>e===t;function $r(e){var t=ae.useContext(y5);return FN.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:LN,t?t.store.getState:_1,t?t.store.getState:_1,t?e:_1,MN)}function PN(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function ON(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function DN(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var SE=e=>Array.isArray(e)?e:[e];function kN(e){const t=Array.isArray(e[0])?e[0]:e;return DN(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function QN(e,t){const r=[],{length:n}=e;for(let s=0;s<n;s++)r.push(e[s].apply(null,t));return r}var NN=class{constructor(e){this.value=e}deref(){return this.value}},RN=typeof WeakRef<"u"?WeakRef:NN,zN=0,EE=1;function Sv(){return{s:zN,v:void 0,o:null,p:null}}function HU(e,t={}){let r=Sv();const{resultEqualityCheck:n}=t;let s,A=0;function d(){let l=r;const{length:y}=arguments;for(let S=0,F=y;S<F;S++){const T=arguments[S];if(typeof T=="function"||typeof T=="object"&&T!==null){let z=l.o;z===null&&(l.o=z=new WeakMap);const H=z.get(T);H===void 0?(l=Sv(),z.set(T,l)):l=H}else{let z=l.p;z===null&&(l.p=z=new Map);const H=z.get(T);H===void 0?(l=Sv(),z.set(T,l)):l=H}}const b=l;let w;if(l.s===EE)w=l.v;else if(w=e.apply(null,arguments),A++,n){const S=s?.deref?.()??s;S!=null&&n(S,w)&&(w=S,A!==0&&A--),s=typeof w=="object"&&w!==null||typeof w=="function"?new RN(w):w}return b.s=EE,b.v=w,w}return d.clearCache=()=>{r=Sv(),d.resetResultsCount()},d.resultsCount=()=>A,d.resetResultsCount=()=>{A=0},d}function HN(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...s)=>{let A=0,d=0,l,y={},b=s.pop();typeof b=="object"&&(y=b,b=s.pop()),PN(b,`createSelector expects an output function after the inputs, but received: [${typeof b}]`);const w={...r,...y},{memoize:S,memoizeOptions:F=[],argsMemoize:T=HU,argsMemoizeOptions:z=[]}=w,H=SE(F),K=SE(z),q=kN(s),ne=S(function(){return A++,b.apply(null,arguments)},...H),W=T(function(){d++;const ce=QN(q,arguments);return l=ne.apply(null,ce),l},...K);return Object.assign(W,{resultFunc:b,memoizedResultFunc:ne,dependencies:q,dependencyRecomputations:()=>d,resetDependencyRecomputations:()=>{d=0},lastResult:()=>l,recomputations:()=>A,resetRecomputations:()=>{A=0},memoize:S,argsMemoize:T})};return Object.assign(n,{withTypes:()=>n}),n}var Mt=HN(HU),jN=Object.assign((e,t=Mt)=>{ON(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(A=>e[A]);return t(n,(...A)=>A.reduce((d,l,y)=>(d[r[y]]=l,d),{}))},{withTypes:()=>jN}),Gw={},$w={},Xw={},TE;function KN(){return TE||(TE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,s,A)=>{if(n!==s){const d=t(n),l=t(s);if(d===l&&d===0){if(n<s)return A==="desc"?1:-1;if(n>s)return A==="desc"?-1:1}return A==="desc"?l-d:d-l}return 0};e.compareValues=r})(Xw)),Xw}var Zw={},Ww={},IE;function jU(){return IE||(IE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Ww)),Ww}var FE;function VN(){return FE||(FE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jU(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function s(A,d){return Array.isArray(A)?!1:typeof A=="number"||typeof A=="boolean"||A==null||t.isSymbol(A)?!0:typeof A=="string"&&(n.test(A)||!r.test(A))||d!=null&&Object.hasOwn(d,A)}e.isKey=s})(Zw)),Zw}var UE;function qN(){return UE||(UE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KN(),r=VN(),n=f5();function s(A,d,l,y){if(A==null)return[];l=y?void 0:l,Array.isArray(A)||(A=Object.values(A)),Array.isArray(d)||(d=d==null?[null]:[d]),d.length===0&&(d=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(T=>String(T));const b=(T,z)=>{let H=T;for(let K=0;K<z.length&&H!=null;++K)H=H[z[K]];return H},w=(T,z)=>z==null||T==null?z:typeof T=="object"&&"key"in T?Object.hasOwn(z,T.key)?z[T.key]:b(z,T.path):typeof T=="function"?T(z):Array.isArray(T)?b(z,T):typeof z=="object"?z[T]:z,S=d.map(T=>(Array.isArray(T)&&T.length===1&&(T=T[0]),T==null||typeof T=="function"||Array.isArray(T)||r.isKey(T)?T:{key:T,path:n.toPath(T)}));return A.map(T=>({original:T,criteria:S.map(z=>w(z,T))})).slice().sort((T,z)=>{for(let H=0;H<S.length;H++){const K=t.compareValues(T.criteria[H],z.criteria[H],l[H]);if(K!==0)return K}return 0}).map(T=>T.original)}e.orderBy=s})($w)),$w}var Yw={},LE;function GN(){return LE||(LE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const s=[],A=Math.floor(n),d=(l,y)=>{for(let b=0;b<l.length;b++){const w=l[b];Array.isArray(w)&&y<A?d(w,y+1):s.push(w)}};return d(r,0),s}e.flatten=t})(Yw)),Yw}var Jw={},ME;function KU(){return ME||(ME=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RU(),r=m5(),n=MU(),s=OU();function A(d,l,y){return n.isObject(y)&&(typeof l=="number"&&r.isArrayLike(y)&&t.isIndex(l)&&l<y.length||typeof l=="string"&&l in y)?s.eq(y[l],d):!1}e.isIterateeCall=A})(Jw)),Jw}var PE;function $N(){return PE||(PE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qN(),r=GN(),n=KU();function s(A,...d){const l=d.length;return l>1&&n.isIterateeCall(A,d[0],d[1])?d=[]:l>2&&n.isIterateeCall(d[0],d[1],d[2])&&(d=[d[0]]),t.orderBy(A,r.flatten(d),["asc"])}e.sortBy=s})(Gw)),Gw}var ex,OE;function XN(){return OE||(OE=1,ex=$N().sortBy),ex}var ZN=XN();const $_=bh(ZN);var VU=e=>e.legend.settings,WN=e=>e.legend.size,YN=e=>e.legend.payload,JN=Mt([YN,VU],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?$_(n,r):n});function e8(){return $r(JN)}var Ev=1;function qU(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=ae.useState({height:0,left:0,top:0,width:0}),n=ae.useCallback(s=>{if(s!=null){var A=s.getBoundingClientRect(),d={height:A.height,left:A.left,top:A.top,width:A.width};(Math.abs(d.height-t.height)>Ev||Math.abs(d.left-t.left)>Ev||Math.abs(d.top-t.top)>Ev||Math.abs(d.width-t.width)>Ev)&&r({height:d.height,left:d.left,top:d.top,width:d.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Yo(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var t8=typeof Symbol=="function"&&Symbol.observable||"@@observable",DE=t8,tx=()=>Math.random().toString(36).substring(7).split("").join("."),r8={INIT:`@@redux/INIT${tx()}`,REPLACE:`@@redux/REPLACE${tx()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${tx()}`},H1=r8;function v5(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function GU(e,t,r){if(typeof e!="function")throw new Error(Yo(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Yo(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Yo(1));return r(GU)(e,t)}let n=e,s=t,A=new Map,d=A,l=0,y=!1;function b(){d===A&&(d=new Map,A.forEach((K,q)=>{d.set(q,K)}))}function w(){if(y)throw new Error(Yo(3));return s}function S(K){if(typeof K!="function")throw new Error(Yo(4));if(y)throw new Error(Yo(5));let q=!0;b();const ne=l++;return d.set(ne,K),function(){if(q){if(y)throw new Error(Yo(6));q=!1,b(),d.delete(ne),A=null}}}function F(K){if(!v5(K))throw new Error(Yo(7));if(typeof K.type>"u")throw new Error(Yo(8));if(typeof K.type!="string")throw new Error(Yo(17));if(y)throw new Error(Yo(9));try{y=!0,s=n(s,K)}finally{y=!1}return(A=d).forEach(ne=>{ne()}),K}function T(K){if(typeof K!="function")throw new Error(Yo(10));n=K,F({type:H1.REPLACE})}function z(){const K=S;return{subscribe(q){if(typeof q!="object"||q===null)throw new Error(Yo(11));function ne(){const le=q;le.next&&le.next(w())}return ne(),{unsubscribe:K(ne)}},[DE](){return this}}}return F({type:H1.INIT}),{dispatch:F,subscribe:S,getState:w,replaceReducer:T,[DE]:z}}function n8(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:H1.INIT})>"u")throw new Error(Yo(12));if(typeof r(void 0,{type:H1.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Yo(13))})}function $U(e){const t=Object.keys(e),r={};for(let A=0;A<t.length;A++){const d=t[A];typeof e[d]=="function"&&(r[d]=e[d])}const n=Object.keys(r);let s;try{n8(r)}catch(A){s=A}return function(d={},l){if(s)throw s;let y=!1;const b={};for(let w=0;w<n.length;w++){const S=n[w],F=r[S],T=d[S],z=F(T,l);if(typeof z>"u")throw l&&l.type,new Error(Yo(14));b[S]=z,y=y||z!==T}return y=y||n.length!==Object.keys(d).length,y?b:d}}function j1(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function i8(...e){return t=>(r,n)=>{const s=t(r,n);let A=()=>{throw new Error(Yo(15))};const d={getState:s.getState,dispatch:(y,...b)=>A(y,...b)},l=e.map(y=>y(d));return A=j1(...l)(s.dispatch),{...s,dispatch:A}}}function XU(e){return v5(e)&&"type"in e&&typeof e.type=="string"}var ZU=Symbol.for("immer-nothing"),kE=Symbol.for("immer-draftable"),fA=Symbol.for("immer-state");function Fc(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var xu=Object,zg=xu.getPrototypeOf,K1="constructor",X_="prototype",O2="configurable",V1="enumerable",b1="writable",D0="value",rf=e=>!!e&&!!e[fA];function yh(e){return e?WU(e)||Z_(e)||!!e[kE]||!!e[K1]?.[kE]||W_(e)||Y_(e):!1}var a8=xu[X_][K1].toString(),QE=new WeakMap;function WU(e){if(!e||!_5(e))return!1;const t=zg(e);if(t===null||t===xu[X_])return!0;const r=xu.hasOwnProperty.call(t,K1)&&t[K1];if(r===Object)return!0;if(!Bg(r))return!1;let n=QE.get(r);return n===void 0&&(n=Function.toString.call(r),QE.set(r,n)),n===a8}function ay(e,t,r=!0){sy(e)===0?(r?Reflect.ownKeys(e):xu.keys(e)).forEach(s=>{t(s,e[s],e)}):e.forEach((n,s)=>t(s,n,e))}function sy(e){const t=e[fA];return t?t.type_:Z_(e)?1:W_(e)?2:Y_(e)?3:0}var NE=(e,t,r=sy(e))=>r===2?e.has(t):xu[X_].hasOwnProperty.call(e,t),D2=(e,t,r=sy(e))=>r===2?e.get(t):e[t],q1=(e,t,r,n=sy(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function s8(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Z_=Array.isArray,W_=e=>e instanceof Map,Y_=e=>e instanceof Set,_5=e=>typeof e=="object",Bg=e=>typeof e=="function",rx=e=>typeof e=="boolean",Vh=e=>e.copy_||e.base_,b5=e=>e.modified_?e.copy_:e.base_;function k2(e,t){if(W_(e))return new Map(e);if(Y_(e))return new Set(e);if(Z_(e))return Array[X_].slice.call(e);const r=WU(e);if(t===!0||t==="class_only"&&!r){const n=xu.getOwnPropertyDescriptors(e);delete n[fA];let s=Reflect.ownKeys(n);for(let A=0;A<s.length;A++){const d=s[A],l=n[d];l[b1]===!1&&(l[b1]=!0,l[O2]=!0),(l.get||l.set)&&(n[d]={[O2]:!0,[b1]:!0,[V1]:l[V1],[D0]:e[d]})}return xu.create(zg(e),n)}else{const n=zg(e);if(n!==null&&r)return{...e};const s=xu.create(n);return xu.assign(s,e)}}function w5(e,t=!1){return J_(e)||rf(e)||(sy(e)>1&&xu.defineProperties(e,{set:Tv,add:Tv,clear:Tv,delete:Tv}),xu.freeze(e),t&&ay(e,(r,n)=>{w5(n,!0)},!1)),e}function o8(){Fc(2)}var Tv={[D0]:o8};function J_(e){return e===null||!_5(e)?!0:xu.isFrozen(e)}var G1="MapSet",Q2="Patches",YU={};function Hg(e){const t=YU[e];return t||Fc(0,e),t}var l8=e=>!!YU[e],k0,JU=()=>k0,A8=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:l8(G1)?Hg(G1):void 0});function RE(e,t){t&&(e.patchPlugin_=Hg(Q2),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function N2(e){R2(e),e.drafts_.forEach(u8),e.drafts_=null}function R2(e){e===k0&&(k0=e.parent_)}var zE=e=>k0=A8(k0,e);function u8(e){const t=e[fA];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function HE(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[fA].modified_&&(N2(t),Fc(4)),yh(e)&&(e=jE(t,e));const{patchPlugin_:s}=t;s&&s.generateReplacementPatches_(r[fA].base_,e,t)}else e=jE(t,r);return c8(t,e,!0),N2(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==ZU?e:void 0}function jE(e,t){if(J_(t))return t;const r=t[fA];if(!r)return x5(t,e.handledSet_,e);if(!eb(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);rL(r,e)}return r.copy_}function c8(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&w5(t,r)}function eL(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var eb=(e,t)=>e.scope_===t,h8=[];function tL(e,t,r,n){const s=Vh(e),A=e.type_;if(n!==void 0&&D2(s,n,A)===t){q1(s,n,r,A);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;ay(s,(y,b)=>{if(rf(b)){const w=l.get(b)||[];w.push(y),l.set(b,w)}})}const d=e.draftLocations_.get(t)??h8;for(const l of d)q1(s,l,r,A)}function f8(e,t,r){e.callbacks_.push(function(s){const A=t;if(!A||!eb(A,s))return;s.mapSetPlugin_?.fixSetContents(A);const d=b5(A);tL(e,A.draft_??A,d,r),rL(A,s)})}function rL(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||(e.assigned_?.size??0)>0)){const{patchPlugin_:n}=t;if(n){const s=n.getPath(e);s&&n.generatePatches_(e,s,t)}eL(e)}}function d8(e,t,r){const{scope_:n}=e;if(rf(r)){const s=r[fA];eb(s,n)&&s.callbacks_.push(function(){w1(e);const d=b5(s);tL(e,r,d,t)})}else yh(r)&&e.callbacks_.push(function(){const A=Vh(e);D2(A,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&x5(D2(e.copy_,t,e.type_),n.handledSet_,n)})}function x5(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||rf(e)||t.has(e)||!yh(e)||J_(e)||(t.add(e),ay(e,(n,s)=>{if(rf(s)){const A=s[fA];if(eb(A,r)){const d=b5(A);q1(e,n,d,e.type_),eL(A)}}else yh(s)&&x5(s,t,r)})),e}function p8(e,t){const r=Z_(e),n={type_:r?1:0,scope_:t?t.scope_:JU(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let s=n,A=B5;r&&(s=[n],A=Q0);const{revoke:d,proxy:l}=Proxy.revocable(s,A);return n.draft_=l,n.revoke_=d,[l,n]}var B5={get(e,t){if(t===fA)return e;const r=Vh(e);if(!NE(r,t,e.type_))return g8(e,r,t);const n=r[t];if(e.finalized_||!yh(n))return n;if(n===nx(e.base_,t)){w1(e);const s=e.type_===1?+t:t,A=H2(e.scope_,n,e,s);return e.copy_[s]=A}return n},has(e,t){return t in Vh(e)},ownKeys(e){return Reflect.ownKeys(Vh(e))},set(e,t,r){const n=nL(Vh(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const s=nx(Vh(e),t),A=s?.[fA];if(A&&A.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(s8(r,s)&&(r!==void 0||NE(e.base_,t,e.type_)))return!0;w1(e),z2(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),d8(e,t,r)),!0},deleteProperty(e,t){return w1(e),nx(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),z2(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Vh(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[b1]:!0,[O2]:e.type_!==1||t!=="length",[V1]:n[V1],[D0]:r[t]}},defineProperty(){Fc(11)},getPrototypeOf(e){return zg(e.base_)},setPrototypeOf(){Fc(12)}},Q0={};ay(B5,(e,t)=>{Q0[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});Q0.deleteProperty=function(e,t){return Q0.set.call(this,e,t,void 0)};Q0.set=function(e,t,r){return B5.set.call(this,e[0],t,r,e[0])};function nx(e,t){const r=e[fA];return(r?Vh(r):e)[t]}function g8(e,t,r){const n=nL(t,r);return n?D0 in n?n[D0]:n.get?.call(e.draft_):void 0}function nL(e,t){if(!(t in e))return;let r=zg(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=zg(r)}}function z2(e){e.modified_||(e.modified_=!0,e.parent_&&z2(e.parent_))}function w1(e){e.copy_||(e.assigned_=new Map,e.copy_=k2(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var m8=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,s)=>{if(Bg(r)&&!Bg(n)){const d=n;n=r;const l=this;return function(b=d,...w){return l.produce(b,S=>n.call(this,S,...w))}}Bg(n)||Fc(6),s!==void 0&&!Bg(s)&&Fc(7);let A;if(yh(r)){const d=zE(this),l=H2(d,r,void 0);let y=!0;try{A=n(l),y=!1}finally{y?N2(d):R2(d)}return RE(d,s),HE(A,d)}else if(!r||!_5(r)){if(A=n(r),A===void 0&&(A=r),A===ZU&&(A=void 0),this.autoFreeze_&&w5(A,!0),s){const d=[],l=[];Hg(Q2).generateReplacementPatches_(r,A,{patches_:d,inversePatches_:l}),s(d,l)}return A}else Fc(1,r)},this.produceWithPatches=(r,n)=>{if(Bg(r))return(l,...y)=>this.produceWithPatches(l,b=>r(b,...y));let s,A;return[this.produce(r,n,(l,y)=>{s=l,A=y}),s,A]},rx(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),rx(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),rx(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){yh(t)||Fc(8),rf(t)&&(t=Mc(t));const r=zE(this),n=H2(r,t,void 0);return n[fA].isManual_=!0,R2(r),n}finishDraft(t,r){const n=t&&t[fA];(!n||!n.isManual_)&&Fc(9);const{scope_:s}=n;return RE(s,r),HE(void 0,s)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const A=r[n];if(A.path.length===0&&A.op==="replace"){t=A.value;break}}n>-1&&(r=r.slice(n+1));const s=Hg(Q2).applyPatches_;return rf(t)?s(t,r):this.produce(t,A=>s(A,r))}};function H2(e,t,r,n){const[s,A]=W_(t)?Hg(G1).proxyMap_(t,r):Y_(t)?Hg(G1).proxySet_(t,r):p8(t,r);return(r?.scope_??JU()).drafts_.push(s),A.callbacks_=r?.callbacks_??[],A.key_=n,r&&n!==void 0?f8(r,A,n):A.callbacks_.push(function(y){y.mapSetPlugin_?.fixSetContents(A);const{patchPlugin_:b}=y;A.modified_&&b&&b.generatePatches_(A,[],y)}),s}function Mc(e){return rf(e)||Fc(10,e),iL(e)}function iL(e){if(!yh(e)||J_(e))return e;const t=e[fA];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=k2(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=k2(e,!0);return ay(r,(s,A)=>{q1(r,s,iL(A))},n),t&&(t.finalized_=!1),r}var y8=new m8,aL=y8.produce;function sL(e){return({dispatch:r,getState:n})=>s=>A=>typeof A=="function"?A(r,n,e):s(A)}var v8=sL(),_8=sL,b8=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?j1:j1.apply(null,arguments)};function ic(e,t){function r(...n){if(t){let s=t(...n);if(!s)throw new Error(Cu(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>XU(n)&&n.type===e,r}var oL=class y0 extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,y0.prototype)}static get[Symbol.species](){return y0}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new y0(...t[0].concat(this)):new y0(...t.concat(this))}};function KE(e){return yh(e)?aL(e,()=>{}):e}function Iv(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function w8(e){return typeof e=="boolean"}var x8=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:s=!0,actionCreatorCheck:A=!0}=t??{};let d=new oL;return r&&(w8(r)?d.push(v8):d.push(_8(r.extraArgument))),d},lL="RTK_autoBatch",Oa=()=>e=>({payload:e,meta:{[lL]:!0}}),VE=e=>t=>{setTimeout(t,e)},AL=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let s=!0,A=!1,d=!1;const l=new Set,y=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:VE(10):e.type==="callback"?e.queueNotification:VE(e.timeout),b=()=>{d=!1,A&&(A=!1,l.forEach(w=>w()))};return Object.assign({},n,{subscribe(w){const S=()=>s&&w(),F=n.subscribe(S);return l.add(w),()=>{F(),l.delete(w)}},dispatch(w){try{return s=!w?.meta?.[lL],A=!s,A&&(d||(d=!0,y(b))),n.dispatch(w)}finally{s=!0}}})},B8=e=>function(r){const{autoBatch:n=!0}=r??{};let s=new oL(e);return n&&s.push(AL(typeof n=="object"?n:void 0)),s};function C8(e){const t=x8(),{reducer:r=void 0,middleware:n,devTools:s=!0,preloadedState:A=void 0,enhancers:d=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(v5(r))l=$U(r);else throw new Error(Cu(1));let y;typeof n=="function"?y=n(t):y=t();let b=j1;s&&(b=b8({trace:!1,...typeof s=="object"&&s}));const w=i8(...y),S=B8(w);let F=typeof d=="function"?d(S):S();const T=b(...F);return GU(l,A,T)}function uL(e){const t={},r=[];let n;const s={addCase(A,d){const l=typeof A=="string"?A:A.type;if(!l)throw new Error(Cu(28));if(l in t)throw new Error(Cu(29));return t[l]=d,s},addAsyncThunk(A,d){return d.pending&&(t[A.pending.type]=d.pending),d.rejected&&(t[A.rejected.type]=d.rejected),d.fulfilled&&(t[A.fulfilled.type]=d.fulfilled),d.settled&&r.push({matcher:A.settled,reducer:d.settled}),s},addMatcher(A,d){return r.push({matcher:A,reducer:d}),s},addDefaultCase(A){return n=A,s}};return e(s),[t,r,n]}function S8(e){return typeof e=="function"}function E8(e,t){let[r,n,s]=uL(t),A;if(S8(e))A=()=>KE(e());else{const l=KE(e);A=()=>l}function d(l=A(),y){let b=[r[y.type],...n.filter(({matcher:w})=>w(y)).map(({reducer:w})=>w)];return b.filter(w=>!!w).length===0&&(b=[s]),b.reduce((w,S)=>{if(S)if(rf(w)){const T=S(w,y);return T===void 0?w:T}else{if(yh(w))return aL(w,F=>S(F,y));{const F=S(w,y);if(F===void 0){if(w===null)return w;throw Error("A case reducer on a non-draftable value must not return undefined")}return F}}return w},l)}return d.getInitialState=A,d}var T8="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",I8=(e=21)=>{let t="",r=e;for(;r--;)t+=T8[Math.random()*64|0];return t},F8=Symbol.for("rtk-slice-createasyncthunk");function U8(e,t){return`${e}/${t}`}function L8({creators:e}={}){const t=e?.asyncThunk?.[F8];return function(n){const{name:s,reducerPath:A=s}=n;if(!s)throw new Error(Cu(11));const d=(typeof n.reducers=="function"?n.reducers(P8()):n.reducers)||{},l=Object.keys(d),y={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},b={addCase(W,le){const ce=typeof W=="string"?W:W.type;if(!ce)throw new Error(Cu(12));if(ce in y.sliceCaseReducersByType)throw new Error(Cu(13));return y.sliceCaseReducersByType[ce]=le,b},addMatcher(W,le){return y.sliceMatchers.push({matcher:W,reducer:le}),b},exposeAction(W,le){return y.actionCreators[W]=le,b},exposeCaseReducer(W,le){return y.sliceCaseReducersByName[W]=le,b}};l.forEach(W=>{const le=d[W],ce={reducerName:W,type:U8(s,W),createNotation:typeof n.reducers=="function"};D8(le)?Q8(ce,le,b,t):O8(ce,le,b)});function w(){const[W={},le=[],ce=void 0]=typeof n.extraReducers=="function"?uL(n.extraReducers):[n.extraReducers],me={...W,...y.sliceCaseReducersByType};return E8(n.initialState,Ee=>{for(let Ie in me)Ee.addCase(Ie,me[Ie]);for(let Ie of y.sliceMatchers)Ee.addMatcher(Ie.matcher,Ie.reducer);for(let Ie of le)Ee.addMatcher(Ie.matcher,Ie.reducer);ce&&Ee.addDefaultCase(ce)})}const S=W=>W,F=new Map,T=new WeakMap;let z;function H(W,le){return z||(z=w()),z(W,le)}function K(){return z||(z=w()),z.getInitialState()}function q(W,le=!1){function ce(Ee){let Ie=Ee[W];return typeof Ie>"u"&&le&&(Ie=Iv(T,ce,K)),Ie}function me(Ee=S){const Ie=Iv(F,le,()=>new WeakMap);return Iv(Ie,Ee,()=>{const ge={};for(const[je,ie]of Object.entries(n.selectors??{}))ge[je]=M8(ie,Ee,()=>Iv(T,Ee,K),le);return ge})}return{reducerPath:W,getSelectors:me,get selectors(){return me(ce)},selectSlice:ce}}const ne={name:s,reducer:H,actions:y.actionCreators,caseReducers:y.sliceCaseReducersByName,getInitialState:K,...q(A),injectInto(W,{reducerPath:le,...ce}={}){const me=le??A;return W.inject({reducerPath:me,reducer:H},ce),{...ne,...q(me,!0)}}};return ne}}function M8(e,t,r,n){function s(A,...d){let l=t(A);return typeof l>"u"&&n&&(l=r()),e(l,...d)}return s.unwrapped=e,s}var $A=L8();function P8(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function O8({type:e,reducerName:t,createNotation:r},n,s){let A,d;if("reducer"in n){if(r&&!k8(n))throw new Error(Cu(17));A=n.reducer,d=n.prepare}else A=n;s.addCase(e,A).exposeCaseReducer(t,A).exposeAction(t,d?ic(e,d):ic(e))}function D8(e){return e._reducerDefinitionType==="asyncThunk"}function k8(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Q8({type:e,reducerName:t},r,n,s){if(!s)throw new Error(Cu(18));const{payloadCreator:A,fulfilled:d,pending:l,rejected:y,settled:b,options:w}=r,S=s(e,A,w);n.exposeAction(t,S),d&&n.addCase(S.fulfilled,d),l&&n.addCase(S.pending,l),y&&n.addCase(S.rejected,y),b&&n.addMatcher(S.settled,b),n.exposeCaseReducer(t,{fulfilled:d||Fv,pending:l||Fv,rejected:y||Fv,settled:b||Fv})}function Fv(){}var N8="task",cL="listener",hL="completed",C5="cancelled",R8=`task-${C5}`,z8=`task-${hL}`,j2=`${cL}-${C5}`,H8=`${cL}-${hL}`,tb=class{constructor(e){this.code=e,this.message=`${N8} ${C5} (reason: ${e})`}name="TaskAbortError";message},S5=(e,t)=>{if(typeof e!="function")throw new TypeError(Cu(32))},$1=()=>{},fL=(e,t=$1)=>(e.catch(t),e),dL=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),gp=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},mp=e=>{if(e.aborted){const{reason:t}=e;throw new tb(t)}};function pL(e,t){let r=$1;return new Promise((n,s)=>{const A=()=>s(new tb(e.reason));if(e.aborted){A();return}r=dL(e,A),t.finally(()=>r()).then(n,s)}).finally(()=>{r=$1})}var j8=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof tb?"cancelled":"rejected",error:r}}finally{t?.()}},X1=e=>t=>fL(pL(e,t).then(r=>(mp(e),r))),gL=e=>{const t=X1(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Mg}=Object,qE={},rb="listenerMiddleware",K8=(e,t)=>{const r=n=>dL(e,()=>gp(n,e.reason));return(n,s)=>{S5(n);const A=new AbortController;r(A);const d=j8(async()=>{mp(e),mp(A.signal);const l=await n({pause:X1(A.signal),delay:gL(A.signal),signal:A.signal});return mp(A.signal),l},()=>gp(A,z8));return s?.autoJoin&&t.push(d.catch($1)),{result:X1(e)(d),cancel(){gp(A,R8)}}}},V8=(e,t)=>{const r=async(n,s)=>{mp(t);let A=()=>{};const l=[new Promise((y,b)=>{let w=e({predicate:n,effect:(S,F)=>{F.unsubscribe(),y([S,F.getState(),F.getOriginalState()])}});A=()=>{w(),b()}})];s!=null&&l.push(new Promise(y=>setTimeout(y,s,null)));try{const y=await pL(t,Promise.race(l));return mp(t),y}finally{A()}};return(n,s)=>fL(r(n,s))},mL=e=>{let{type:t,actionCreator:r,matcher:n,predicate:s,effect:A}=e;if(t)s=ic(t).match;else if(r)t=r.type,s=r.match;else if(n)s=n;else if(!s)throw new Error(Cu(21));return S5(A),{predicate:s,type:t,effect:A}},yL=Mg(e=>{const{type:t,predicate:r,effect:n}=mL(e);return{id:I8(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Cu(22))}}},{withTypes:()=>yL}),GE=(e,t)=>{const{type:r,effect:n,predicate:s}=mL(t);return Array.from(e.values()).find(A=>(typeof r=="string"?A.type===r:A.predicate===s)&&A.effect===n)},K2=e=>{e.pending.forEach(t=>{gp(t,j2)})},q8=(e,t)=>()=>{for(const r of t.keys())K2(r);e.clear()},$E=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},vL=Mg(ic(`${rb}/add`),{withTypes:()=>vL}),G8=ic(`${rb}/removeAll`),_L=Mg(ic(`${rb}/remove`),{withTypes:()=>_L}),$8=(...e)=>{console.error(`${rb}/error`,...e)},oy=(e={})=>{const t=new Map,r=new Map,n=T=>{const z=r.get(T)??0;r.set(T,z+1)},s=T=>{const z=r.get(T)??1;z===1?r.delete(T):r.set(T,z-1)},{extra:A,onError:d=$8}=e;S5(d);const l=T=>(T.unsubscribe=()=>t.delete(T.id),t.set(T.id,T),z=>{T.unsubscribe(),z?.cancelActive&&K2(T)}),y=T=>{const z=GE(t,T)??yL(T);return l(z)};Mg(y,{withTypes:()=>y});const b=T=>{const z=GE(t,T);return z&&(z.unsubscribe(),T.cancelActive&&K2(z)),!!z};Mg(b,{withTypes:()=>b});const w=async(T,z,H,K)=>{const q=new AbortController,ne=V8(y,q.signal),W=[];try{T.pending.add(q),n(T),await Promise.resolve(T.effect(z,Mg({},H,{getOriginalState:K,condition:(le,ce)=>ne(le,ce).then(Boolean),take:ne,delay:gL(q.signal),pause:X1(q.signal),extra:A,signal:q.signal,fork:K8(q.signal,W),unsubscribe:T.unsubscribe,subscribe:()=>{t.set(T.id,T)},cancelActiveListeners:()=>{T.pending.forEach((le,ce,me)=>{le!==q&&(gp(le,j2),me.delete(le))})},cancel:()=>{gp(q,j2),T.pending.delete(q)},throwIfCancelled:()=>{mp(q.signal)}})))}catch(le){le instanceof tb||$E(d,le,{raisedBy:"effect"})}finally{await Promise.all(W),gp(q,H8),s(T),T.pending.delete(q)}},S=q8(t,r);return{middleware:T=>z=>H=>{if(!XU(H))return z(H);if(vL.match(H))return y(H.payload);if(G8.match(H)){S();return}if(_L.match(H))return b(H.payload);let K=T.getState();const q=()=>{if(K===qE)throw new Error(Cu(23));return K};let ne;try{if(ne=z(H),t.size>0){const W=T.getState(),le=Array.from(t.values());for(const ce of le){let me=!1;try{me=ce.predicate(H,W,K)}catch(Ee){me=!1,$E(d,Ee,{raisedBy:"predicate"})}me&&w(ce,H,T,q)}}}finally{K=qE}return ne},startListening:y,stopListening:b,clearListeners:S}};function Cu(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var X8={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},bL=$A({name:"chartLayout",initialState:X8,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,s,A;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(s=t.payload.bottom)!==null&&s!==void 0?s:0,e.margin.left=(A=t.payload.left)!==null&&A!==void 0?A:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Z8,setLayout:W8,setChartSize:Y8,setScale:J8}=bL.actions,eR=bL.reducer;function wL(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function XE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ig(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XE(Object(r),!0).forEach(function(n){tR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tR(e,t,r){return(t=rR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rR(e){var t=nR(e,"string");return typeof t=="symbol"?t:t+""}function nR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nl(e,t,r){return Lo(e)||Lo(t)?r:mh(t)?G_(e,t,r):typeof t=="function"?t(e):r}var iR=(e,t,r)=>{if(t&&r){var{width:n,height:s}=r,{align:A,verticalAlign:d,layout:l}=t;if((l==="vertical"||l==="horizontal"&&d==="middle")&&A!=="center"&&Yr(e[A]))return Ig(Ig({},e),{},{[A]:e[A]+(n||0)});if((l==="horizontal"||l==="vertical"&&A==="center")&&d!=="middle"&&Yr(e[d]))return Ig(Ig({},e),{},{[d]:e[d]+(s||0)})}return e},yd=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",xL=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var s,A,d=e.map(l=>(l.coordinate===t&&(s=!0),l.coordinate===r&&(A=!0),l.coordinate));return s||d.push(t),A||d.push(r),d},BL=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:s,range:A,scale:d,realScaleType:l,isCategorical:y,categoricalDomain:b,tickCount:w,ticks:S,niceTicks:F,axisType:T}=e;if(!d)return null;var z=l==="scaleBand"&&d.bandwidth?d.bandwidth()/2:2,H=s==="category"&&d.bandwidth?d.bandwidth()/z:0;if(H=T==="angleAxis"&&A&&A.length>=2?ec(A[0]-A[1])*2*H:H,S||F){var K=(S||F||[]).map((q,ne)=>{var W=n?n.indexOf(q):q;return{coordinate:d(W)+H,value:q,offset:H,index:ne}});return K.filter(q=>!gh(q.coordinate))}return y&&b?b.map((q,ne)=>({coordinate:d(q)+H,value:q,index:ne,offset:H})):d.ticks&&w!=null?d.ticks(w).map((q,ne)=>({coordinate:d(q)+H,value:q,offset:H,index:ne})):d.domain().map((q,ne)=>({coordinate:d(q)+H,value:n?n[q]:q,index:ne,offset:H}))},ZE=1e-4,aR=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),s=Math.min(n[0],n[1])-ZE,A=Math.max(n[0],n[1])+ZE,d=e(t[0]),l=e(t[r-1]);(d<s||d>A||l<s||l>A)&&e.domain([t[0],t[r-1]])}},sR=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,A=0,d=0;d<t;++d){var l=gh(e[d][r][1])?e[d][r][0]:e[d][r][1];l>=0?(e[d][r][0]=s,e[d][r][1]=s+l,s=e[d][r][1]):(e[d][r][0]=A,e[d][r][1]=A+l,A=e[d][r][1])}},oR=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,A=0;A<t;++A){var d=gh(e[A][r][1])?e[A][r][0]:e[A][r][1];d>=0?(e[A][r][0]=s,e[A][r][1]=s+d,s=e[A][r][1]):(e[A][r][0]=0,e[A][r][1]=0)}},lR={sign:sR,expand:IQ,none:Rg,silhouette:FQ,wiggle:UQ,positive:oR},AR=(e,t,r)=>{var n=lR[r],s=TQ().keys(t).value((A,d)=>Number(Nl(A,d,0))).order(M2).offset(n);return s(e)};function WE(e){var{axis:t,ticks:r,bandSize:n,entry:s,index:A,dataKey:d}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Lo(s[t.dataKey])){var l=TU(r,"value",s[t.dataKey]);if(l)return l.coordinate+n/2}return r[A]?r[A].coordinate+n/2:null}var y=Nl(s,Lo(d)?t.dataKey:d);return Lo(y)?null:t.scale(y)}var uR=e=>{var t=e.flat(2).filter(Yr);return[Math.min(...t),Math.max(...t)]},cR=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],hR=(e,t,r)=>{if(e!=null)return cR(Object.keys(e).reduce((n,s)=>{var A=e[s],{stackedData:d}=A,l=d.reduce((y,b)=>{var w=wL(b,t,r),S=uR(w);return[Math.min(y[0],S[0]),Math.max(y[1],S[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},YE=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,JE=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Z1=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var s=$_(t,w=>w.coordinate),A=1/0,d=1,l=s.length;d<l;d++){var y=s[d],b=s[d-1];A=Math.min((y.coordinate||0)-(b.coordinate||0),A)}return A===1/0?0:A}return r?void 0:0};function e4(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:s,name:A}=e;return Ig(Ig({},t),{},{dataKey:r,payload:n,value:s,name:A})}function CL(e,t){if(e)return String(e);if(typeof t=="string")return t}var fR=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},dR=(e,t)=>t==="centric"?e.angle:e.radius,Af=e=>e.layout.width,uf=e=>e.layout.height,pR=e=>e.layout.scale,SL=e=>e.layout.margin,nb=Mt(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),ib=Mt(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),gR="data-recharts-item-index",mR="data-recharts-item-data-key",ly=60;function t4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Uv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t4(Object(r),!0).forEach(function(n){yR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yR(e,t,r){return(t=vR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vR(e){var t=_R(e,"string");return typeof t=="symbol"?t:t+""}function _R(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bR=e=>e.brush.height;function wR(e){var t=ib(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var s=typeof n.width=="number"?n.width:ly;return r+s}return r},0)}function xR(e){var t=ib(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var s=typeof n.width=="number"?n.width:ly;return r+s}return r},0)}function BR(e){var t=nb(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function CR(e){var t=nb(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var rl=Mt([Af,uf,SL,bR,wR,xR,BR,CR,VU,WN],(e,t,r,n,s,A,d,l,y,b)=>{var w={left:(r.left||0)+s,right:(r.right||0)+A},S={top:(r.top||0)+d,bottom:(r.bottom||0)+l},F=Uv(Uv({},S),w),T=F.bottom;F.bottom+=n,F=iR(F,y,b);var z=e-F.left-F.right,H=t-F.top-F.bottom;return Uv(Uv({brushBottom:T},F),{},{width:Math.max(z,0),height:Math.max(H,0)})}),SR=Mt(rl,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),EL=Mt(Af,uf,(e,t)=>({x:0,y:0,width:e,height:t})),ER=ae.createContext(null),XA=()=>ae.useContext(ER)!=null,ab=e=>e.brush,sb=Mt([ab,rl,SL],(e,t,r)=>({height:e.height,x:Yr(e.x)?e.x:t.left,y:Yr(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:Yr(e.width)?e.width:t.width})),ix={},ax={},sx={},r4;function TR(){return r4||(r4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:s,edges:A}={}){let d,l=null;const y=A!=null&&A.includes("leading"),b=A==null||A.includes("trailing"),w=()=>{l!==null&&(r.apply(d,l),d=void 0,l=null)},S=()=>{b&&w(),H()};let F=null;const T=()=>{F!=null&&clearTimeout(F),F=setTimeout(()=>{F=null,S()},n)},z=()=>{F!==null&&(clearTimeout(F),F=null)},H=()=>{z(),d=void 0,l=null},K=()=>{w()},q=function(...ne){if(s?.aborted)return;d=this,l=ne;const W=F==null;T(),y&&W&&w()};return q.schedule=T,q.cancel=H,q.flush=K,s?.addEventListener("abort",H,{once:!0}),q}e.debounce=t})(sx)),sx}var n4;function IR(){return n4||(n4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TR();function r(n,s=0,A={}){typeof A!="object"&&(A={});const{leading:d=!1,trailing:l=!0,maxWait:y}=A,b=Array(2);d&&(b[0]="leading"),l&&(b[1]="trailing");let w,S=null;const F=t.debounce(function(...H){w=n.apply(this,H),S=null},s,{edges:b}),T=function(...H){return y!=null&&(S===null&&(S=Date.now()),Date.now()-S>=y)?(w=n.apply(this,H),S=Date.now(),F.cancel(),F.schedule(),w):(F.apply(this,H),w)},z=()=>(F.flush(),w);return T.cancel=F.cancel,T.flush=z,T}e.debounce=r})(ax)),ax}var i4;function FR(){return i4||(i4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IR();function r(n,s=0,A={}){const{leading:d=!0,trailing:l=!0}=A;return t.debounce(n,s,{leading:d,maxWait:s,trailing:l})}e.throttle=r})(ix)),ix}var ox,a4;function UR(){return a4||(a4=1,ox=FR().throttle),ox}var LR=UR();const MR=bh(LR);var W1=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),A=2;A<n;A++)s[A-2]=arguments[A];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=0;console.warn(r.replace(/%s/g,()=>s[d++]))}},TL=(e,t,r)=>{var{width:n="100%",height:s="100%",aspect:A,maxHeight:d}=r,l=tf(n)?e:Number(n),y=tf(s)?t:Number(s);return A&&A>0&&(l?y=l/A:y&&(l=y*A),d&&y!=null&&y>d&&(y=d)),{calculatedWidth:l,calculatedHeight:y}},PR={width:0,height:0,overflow:"visible"},OR={width:0,overflowX:"visible"},DR={height:0,overflowY:"visible"},kR={},QR=e=>{var{width:t,height:r}=e,n=tf(t),s=tf(r);return n&&s?PR:n?OR:s?DR:kR};function NR(e){var{width:t,height:r,aspect:n}=e,s=t,A=r;return s===void 0&&A===void 0?(s="100%",A="100%"):s===void 0?s=n&&n>0?void 0:"100%":A===void 0&&(A=n&&n>0?void 0:"100%"),{width:s,height:A}}function Mo(e){return Number.isFinite(e)}function vh(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function V2(){return V2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},V2.apply(null,arguments)}function s4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function o4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s4(Object(r),!0).forEach(function(n){RR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RR(e,t,r){return(t=zR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zR(e){var t=HR(e,"string");return typeof t=="symbol"?t:t+""}function HR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IL=ae.createContext({width:-1,height:-1});function jR(e){return vh(e.width)&&vh(e.height)}function FL(e){var{children:t,width:r,height:n}=e,s=ae.useMemo(()=>({width:r,height:n}),[r,n]);return jR(s)?ae.createElement(IL.Provider,{value:s},t):null}var E5=()=>ae.useContext(IL),KR=ae.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:s,height:A,minWidth:d=0,minHeight:l,maxHeight:y,children:b,debounce:w=0,id:S,className:F,onResize:T,style:z={}}=e,H=ae.useRef(null),K=ae.useRef();K.current=T,ae.useImperativeHandle(t,()=>H.current);var[q,ne]=ae.useState({containerWidth:n.width,containerHeight:n.height}),W=ae.useCallback((Ie,ge)=>{ne(je=>{var ie=Math.round(Ie),de=Math.round(ge);return je.containerWidth===ie&&je.containerHeight===de?je:{containerWidth:ie,containerHeight:de}})},[]);ae.useEffect(()=>{if(H.current==null||typeof ResizeObserver>"u")return iy;var Ie=de=>{var Fe,{width:Le,height:it}=de[0].contentRect;W(Le,it),(Fe=K.current)===null||Fe===void 0||Fe.call(K,Le,it)};w>0&&(Ie=MR(Ie,w,{trailing:!0,leading:!1}));var ge=new ResizeObserver(Ie),{width:je,height:ie}=H.current.getBoundingClientRect();return W(je,ie),ge.observe(H.current),()=>{ge.disconnect()}},[W,w]);var{containerWidth:le,containerHeight:ce}=q;W1(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:me,calculatedHeight:Ee}=TL(le,ce,{width:s,height:A,aspect:r,maxHeight:y});return W1(me!=null&&me>0||Ee!=null&&Ee>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,me,Ee,s,A,d,l,r),ae.createElement("div",{id:S?"".concat(S):void 0,className:$i("recharts-responsive-container",F),style:o4(o4({},z),{},{width:s,height:A,minWidth:d,minHeight:l,maxHeight:y}),ref:H},ae.createElement("div",{style:QR({width:s,height:A})},ae.createElement(FL,{width:me,height:Ee},b)))}),UL=ae.forwardRef((e,t)=>{var r=E5();if(vh(r.width)&&vh(r.height))return e.children;var{width:n,height:s}=NR({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:A,calculatedHeight:d}=TL(void 0,void 0,{width:n,height:s,aspect:e.aspect,maxHeight:e.maxHeight});return Yr(A)&&Yr(d)?ae.createElement(FL,{width:A,height:d},e.children):ae.createElement(KR,V2({},e,{width:n,height:s,ref:t}))});function LL(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var ob=()=>{var e,t=XA(),r=$r(SR),n=$r(sb),s=(e=$r(ab))===null||e===void 0?void 0:e.padding;return!t||!n||!s?r:{width:n.width-s.left-s.right,height:n.height-s.top-s.bottom,x:s.left,y:s.top}},VR={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},ML=()=>{var e;return(e=$r(rl))!==null&&e!==void 0?e:VR},T5=()=>$r(Af),I5=()=>$r(uf),qR=()=>$r(e=>e.layout.margin),Ca=e=>e.layout.layoutType,lb=()=>$r(Ca),GR=()=>{var e=lb();return e!==void 0},Ab=e=>{var t=Hs(),r=XA(),{width:n,height:s}=e,A=E5(),d=n,l=s;return A&&(d=A.width>0?A.width:n,l=A.height>0?A.height:s),ae.useEffect(()=>{!r&&vh(d)&&vh(l)&&t(Y8({width:d,height:l}))},[t,r,d,l]),null},PL=Symbol.for("immer-nothing"),l4=Symbol.for("immer-draftable"),Su=Symbol.for("immer-state");function Uc(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var N0=Object.getPrototypeOf;function jg(e){return!!e&&!!e[Su]}function xp(e){return e?OL(e)||Array.isArray(e)||!!e[l4]||!!e.constructor?.[l4]||Ay(e)||cb(e):!1}var $R=Object.prototype.constructor.toString(),A4=new WeakMap;function OL(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=A4.get(r);return n===void 0&&(n=Function.toString.call(r),A4.set(r,n)),n===$R}function Y1(e,t,r=!0){ub(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(s=>{t(s,e[s],e)}):e.forEach((n,s)=>t(s,n,e))}function ub(e){const t=e[Su];return t?t.type_:Array.isArray(e)?1:Ay(e)?2:cb(e)?3:0}function q2(e,t){return ub(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function DL(e,t,r){const n=ub(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function XR(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Ay(e){return e instanceof Map}function cb(e){return e instanceof Set}function sp(e){return e.copy_||e.base_}function G2(e,t){if(Ay(e))return new Map(e);if(cb(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=OL(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Su];let s=Reflect.ownKeys(n);for(let A=0;A<s.length;A++){const d=s[A],l=n[d];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[d]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[d]})}return Object.create(N0(e),n)}else{const n=N0(e);if(n!==null&&r)return{...e};const s=Object.create(n);return Object.assign(s,e)}}function F5(e,t=!1){return hb(e)||jg(e)||!xp(e)||(ub(e)>1&&Object.defineProperties(e,{set:Lv,add:Lv,clear:Lv,delete:Lv}),Object.freeze(e),t&&Object.values(e).forEach(r=>F5(r,!0))),e}function ZR(){Uc(2)}var Lv={value:ZR};function hb(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var WR={};function Bp(e){const t=WR[e];return t||Uc(0,e),t}var R0;function kL(){return R0}function YR(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function u4(e,t){t&&(Bp("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function $2(e){X2(e),e.drafts_.forEach(JR),e.drafts_=null}function X2(e){e===R0&&(R0=e.parent_)}function c4(e){return R0=YR(R0,e)}function JR(e){const t=e[Su];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function h4(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Su].modified_&&($2(t),Uc(4)),xp(e)&&(e=J1(t,e),t.parent_||e_(t,e)),t.patches_&&Bp("Patches").generateReplacementPatches_(r[Su].base_,e,t.patches_,t.inversePatches_)):e=J1(t,r,[]),$2(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==PL?e:void 0}function J1(e,t,r){if(hb(t))return t;const n=e.immer_.shouldUseStrictIteration(),s=t[Su];if(!s)return Y1(t,(A,d)=>f4(e,s,t,A,d,r),n),t;if(s.scope_!==e)return t;if(!s.modified_)return e_(e,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const A=s.copy_;let d=A,l=!1;s.type_===3&&(d=new Set(A),A.clear(),l=!0),Y1(d,(y,b)=>f4(e,s,A,y,b,r,l),n),e_(e,A,!1),r&&e.patches_&&Bp("Patches").generatePatches_(s,r,e.patches_,e.inversePatches_)}return s.copy_}function f4(e,t,r,n,s,A,d){if(s==null||typeof s!="object"&&!d)return;const l=hb(s);if(!(l&&!d)){if(jg(s)){const y=A&&t&&t.type_!==3&&!q2(t.assigned_,n)?A.concat(n):void 0,b=J1(e,s,y);if(DL(r,n,b),jg(b))e.canAutoFreeze_=!1;else return}else d&&r.add(s);if(xp(s)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===s&&l)return;J1(e,s),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Ay(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&e_(e,s)}}}function e_(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&F5(t,r)}function ez(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:kL(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=n,A=U5;r&&(s=[n],A=z0);const{revoke:d,proxy:l}=Proxy.revocable(s,A);return n.draft_=l,n.revoke_=d,l}var U5={get(e,t){if(t===Su)return e;const r=sp(e);if(!q2(r,t))return tz(e,r,t);const n=r[t];return e.finalized_||!xp(n)?n:n===lx(e.base_,t)?(Ax(e),e.copy_[t]=W2(n,e)):n},has(e,t){return t in sp(e)},ownKeys(e){return Reflect.ownKeys(sp(e))},set(e,t,r){const n=QL(sp(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const s=lx(sp(e),t),A=s?.[Su];if(A&&A.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(XR(r,s)&&(r!==void 0||q2(e.base_,t)))return!0;Ax(e),Z2(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return lx(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Ax(e),Z2(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=sp(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Uc(11)},getPrototypeOf(e){return N0(e.base_)},setPrototypeOf(){Uc(12)}},z0={};Y1(U5,(e,t)=>{z0[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});z0.deleteProperty=function(e,t){return z0.set.call(this,e,t,void 0)};z0.set=function(e,t,r){return U5.set.call(this,e[0],t,r,e[0])};function lx(e,t){const r=e[Su];return(r?sp(r):e)[t]}function tz(e,t,r){const n=QL(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function QL(e,t){if(!(t in e))return;let r=N0(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=N0(r)}}function Z2(e){e.modified_||(e.modified_=!0,e.parent_&&Z2(e.parent_))}function Ax(e){e.copy_||(e.copy_=G2(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var rz=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const A=r;r=t;const d=this;return function(y=A,...b){return d.produce(y,w=>r.call(this,w,...b))}}typeof r!="function"&&Uc(6),n!==void 0&&typeof n!="function"&&Uc(7);let s;if(xp(t)){const A=c4(this),d=W2(t,void 0);let l=!0;try{s=r(d),l=!1}finally{l?$2(A):X2(A)}return u4(A,n),h4(s,A)}else if(!t||typeof t!="object"){if(s=r(t),s===void 0&&(s=t),s===PL&&(s=void 0),this.autoFreeze_&&F5(s,!0),n){const A=[],d=[];Bp("Patches").generateReplacementPatches_(t,s,A,d),n(A,d)}return s}else Uc(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(d,...l)=>this.produceWithPatches(d,y=>t(y,...l));let n,s;return[this.produce(t,r,(d,l)=>{n=d,s=l}),n,s]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){xp(e)||Uc(8),jg(e)&&(e=nz(e));const t=c4(this),r=W2(e,void 0);return r[Su].isManual_=!0,X2(t),r}finishDraft(e,t){const r=e&&e[Su];(!r||!r.isManual_)&&Uc(9);const{scope_:n}=r;return u4(n,t),h4(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const s=t[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(t=t.slice(r+1));const n=Bp("Patches").applyPatches_;return jg(e)?n(e,t):this.produce(e,s=>n(s,t))}};function W2(e,t){const r=Ay(e)?Bp("MapSet").proxyMap_(e,t):cb(e)?Bp("MapSet").proxySet_(e,t):ez(e,t);return(t?t.scope_:kL()).drafts_.push(r),r}function nz(e){return jg(e)||Uc(10,e),NL(e)}function NL(e){if(!xp(e)||hb(e))return e;const t=e[Su];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=G2(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=G2(e,!0);return Y1(r,(s,A)=>{DL(r,s,NL(A))},n),t&&(t.finalized_=!1),r}var iz=new rz;iz.produce;var az={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},RL=$A({name:"legend",initialState:az,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Oa()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,s=Mc(e).payload.indexOf(r);s>-1&&(e.payload[s]=n)},prepare:Oa()},removeLegendPayload:{reducer(e,t){var r=Mc(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Oa()}}}),{setLegendSize:d4,setLegendSettings:sz,addLegendPayload:oz,replaceLegendPayload:lz,removeLegendPayload:Az}=RL.actions,uz=RL.reducer,cz=["contextPayload"];function Y2(){return Y2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Y2.apply(null,arguments)}function p4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Kg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p4(Object(r),!0).forEach(function(n){hz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hz(e,t,r){return(t=fz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fz(e){var t=dz(e,"string");return typeof t=="symbol"?t:t+""}function dz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pz(e,t){if(e==null)return{};var r,n,s=gz(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function gz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function mz(e){return e.value}function yz(e){var{contextPayload:t}=e,r=pz(e,cz),n=zU(t,e.payloadUniqBy,mz),s=Kg(Kg({},r),{},{payload:n});return ae.isValidElement(e.content)?ae.cloneElement(e.content,s):typeof e.content=="function"?ae.createElement(e.content,s):ae.createElement(sN,s)}function vz(e,t,r,n,s,A){var{layout:d,align:l,verticalAlign:y}=t,b,w;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&d==="vertical"?b={left:((n||0)-A.width)/2}:b=l==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(y==="middle"?w={top:((s||0)-A.height)/2}:w=y==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Kg(Kg({},b),w)}function _z(e){var t=Hs();return ae.useEffect(()=>{t(sz(e))},[t,e]),null}function bz(e){var t=Hs();return ae.useEffect(()=>(t(d4(e)),()=>{t(d4({width:0,height:0}))}),[t,e]),null}function wz(e,t,r,n){return e==="vertical"&&Yr(t)?{height:t}:e==="horizontal"?{width:r||n}:null}var xz={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function zL(e){var t=Rl(e,xz),r=e8(),n=Yk(),s=qR(),{width:A,height:d,wrapperStyle:l,portal:y}=t,[b,w]=qU([r]),S=T5(),F=I5();if(S==null||F==null)return null;var T=S-(s?.left||0)-(s?.right||0),z=wz(t.layout,d,A,T),H=y?l:Kg(Kg({position:"absolute",width:z?.width||A||"auto",height:z?.height||d||"auto"},vz(l,t,s,S,F,b)),l),K=y??n;if(K==null||r==null)return null;var q=ae.createElement("div",{className:"recharts-legend-wrapper",style:H,ref:w},ae.createElement(_z,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!y&&ae.createElement(bz,{width:b.width,height:b.height}),ae.createElement(yz,Y2({},t,z,{margin:s,chartWidth:S,chartHeight:F,contextPayload:r})));return l5.createPortal(q,K)}zL.displayName="Legend";function J2(){return J2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},J2.apply(null,arguments)}function g4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ux(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g4(Object(r),!0).forEach(function(n){Bz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bz(e,t,r){return(t=Cz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cz(e){var t=Sz(e,"string");return typeof t=="symbol"?t:t+""}function Sz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ez(e){return Array.isArray(e)&&mh(e[0])&&mh(e[1])?e.join(" ~ "):e}var Tz=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:s={},payload:A,formatter:d,itemSorter:l,wrapperClassName:y,labelClassName:b,label:w,labelFormatter:S,accessibilityLayer:F=!1}=e,T=()=>{if(A&&A.length){var ce={padding:0,margin:0},me=(l?$_(A,l):A).map((Ee,Ie)=>{if(Ee.type==="none")return null;var ge=Ee.formatter||d||Ez,{value:je,name:ie}=Ee,de=je,Fe=ie;if(ge){var Le=ge(je,ie,Ee,Ie,A);if(Array.isArray(Le))[de,Fe]=Le;else if(Le!=null)de=Le;else return null}var it=ux({display:"block",paddingTop:4,paddingBottom:4,color:Ee.color||"#000"},n);return ae.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Ie),style:it},mh(Fe)?ae.createElement("span",{className:"recharts-tooltip-item-name"},Fe):null,mh(Fe)?ae.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,ae.createElement("span",{className:"recharts-tooltip-item-value"},de),ae.createElement("span",{className:"recharts-tooltip-item-unit"},Ee.unit||""))});return ae.createElement("ul",{className:"recharts-tooltip-item-list",style:ce},me)}return null},z=ux({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),H=ux({margin:0},s),K=!Lo(w),q=K?w:"",ne=$i("recharts-default-tooltip",y),W=$i("recharts-tooltip-label",b);K&&S&&A!==void 0&&A!==null&&(q=S(w,A));var le=F?{role:"status","aria-live":"assertive"}:{};return ae.createElement("div",J2({className:ne,style:z},le),ae.createElement("p",{className:W,style:H},ae.isValidElement(q)?q:"".concat(q)),T())},a0="recharts-tooltip-wrapper",Iz={visibility:"hidden"};function Fz(e){var{coordinate:t,translateX:r,translateY:n}=e;return $i(a0,{["".concat(a0,"-right")]:Yr(r)&&t&&Yr(t.x)&&r>=t.x,["".concat(a0,"-left")]:Yr(r)&&t&&Yr(t.x)&&r<t.x,["".concat(a0,"-bottom")]:Yr(n)&&t&&Yr(t.y)&&n>=t.y,["".concat(a0,"-top")]:Yr(n)&&t&&Yr(t.y)&&n<t.y})}function m4(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:s,position:A,reverseDirection:d,tooltipDimension:l,viewBox:y,viewBoxDimension:b}=e;if(A&&Yr(A[n]))return A[n];var w=r[n]-l-(s>0?s:0),S=r[n]+s;if(t[n])return d[n]?w:S;var F=y[n];if(F==null)return 0;if(d[n]){var T=w,z=F;return T<z?Math.max(S,F):Math.max(w,F)}if(b==null)return 0;var H=S+l,K=F+b;return H>K?Math.max(w,F):Math.max(S,F)}function Uz(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Lz(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:s,reverseDirection:A,tooltipBox:d,useTranslate3d:l,viewBox:y}=e,b,w,S;return d.height>0&&d.width>0&&r?(w=m4({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:A,tooltipDimension:d.width,viewBox:y,viewBoxDimension:y.width}),S=m4({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:A,tooltipDimension:d.height,viewBox:y,viewBoxDimension:y.height}),b=Uz({translateX:w,translateY:S,useTranslate3d:l})):b=Iz,{cssProperties:b,cssClasses:Fz({translateX:w,translateY:S,coordinate:r})}}function y4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Mv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y4(Object(r),!0).forEach(function(n){eB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eB(e,t,r){return(t=Mz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mz(e){var t=Pz(e,"string");return typeof t=="symbol"?t:t+""}function Pz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Oz extends ae.PureComponent{constructor(){super(...arguments),eB(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),eB(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,s,A;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(s=(A=this.props.coordinate)===null||A===void 0?void 0:A.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:s,children:A,coordinate:d,hasPayload:l,isAnimationActive:y,offset:b,position:w,reverseDirection:S,useTranslate3d:F,viewBox:T,wrapperStyle:z,lastBoundingBox:H,innerRef:K,hasPortalFromProps:q}=this.props,{cssClasses:ne,cssProperties:W}=Lz({allowEscapeViewBox:r,coordinate:d,offsetTopLeft:b,position:w,reverseDirection:S,tooltipBox:{height:H.height,width:H.width},useTranslate3d:F,viewBox:T}),le=q?{}:Mv(Mv({transition:y&&t?"transform ".concat(n,"ms ").concat(s):void 0},W),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),ce=Mv(Mv({},le),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},z);return ae.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:ne,style:ce,ref:K},A)}}var Dz=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Zg={devToolsEnabled:!1,isSsr:Dz()},HL=()=>{var e;return(e=$r(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function tB(){return tB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tB.apply(null,arguments)}function v4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function _4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v4(Object(r),!0).forEach(function(n){kz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kz(e,t,r){return(t=Qz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qz(e){var t=Nz(e,"string");return typeof t=="symbol"?t:t+""}function Nz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var b4={curveBasisClosed:mQ,curveBasisOpen:yQ,curveBasis:gQ,curveBumpX:rQ,curveBumpY:nQ,curveLinearClosed:vQ,curveLinear:V_,curveMonotoneX:_Q,curveMonotoneY:bQ,curveNatural:wQ,curveStep:xQ,curveStepAfter:CQ,curveStepBefore:BQ},t_=e=>Mo(e.x)&&Mo(e.y),w4=e=>e.base!=null&&t_(e.base)&&t_(e),s0=e=>e.x,o0=e=>e.y,Rz=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(ny(e));return(r==="curveMonotone"||r==="curveBump")&&t?b4["".concat(r).concat(t==="vertical"?"Y":"X")]:b4[r]||V_},zz=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:s,connectNulls:A=!1}=e,d=Rz(t,s),l=A?r.filter(t_):r,y;if(Array.isArray(n)){var b=r.map((T,z)=>_4(_4({},T),{},{base:n[z]}));s==="vertical"?y=Cv().y(o0).x1(s0).x0(T=>T.base.x):y=Cv().x(s0).y1(o0).y0(T=>T.base.y);var w=y.defined(w4).curve(d),S=A?b.filter(w4):b;return w(S)}s==="vertical"&&Yr(n)?y=Cv().y(o0).x1(s0).x0(n):Yr(n)?y=Cv().x(s0).y1(o0).y0(n):y=pU().x(s0).y(o0);var F=y.defined(t_).curve(d);return F(l)},jL=e=>{var{className:t,points:r,path:n,pathRef:s}=e;if((!r||!r.length)&&!n)return null;var A=r&&r.length?zz(e):n;return ae.createElement("path",tB({},ph(e),g5(e),{className:$i("recharts-curve",t),d:A===null?void 0:A,ref:s}))},Hz=["x","y","top","left","width","height","className"];function rB(){return rB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rB.apply(null,arguments)}function x4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function jz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x4(Object(r),!0).forEach(function(n){Kz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kz(e,t,r){return(t=Vz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vz(e){var t=qz(e,"string");return typeof t=="symbol"?t:t+""}function qz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gz(e,t){if(e==null)return{};var r,n,s=$z(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function $z(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Xz=(e,t,r,n,s,A)=>"M".concat(e,",").concat(s,"v").concat(n,"M").concat(A,",").concat(t,"h").concat(r),Zz=e=>{var{x:t=0,y:r=0,top:n=0,left:s=0,width:A=0,height:d=0,className:l}=e,y=Gz(e,Hz),b=jz({x:t,y:r,top:n,left:s,width:A,height:d},y);return!Yr(t)||!Yr(r)||!Yr(A)||!Yr(d)||!Yr(n)||!Yr(s)?null:ae.createElement("path",rB({},hA(b),{className:$i("recharts-cross",l),d:Xz(t,r,A,d,n,s)}))};function Wz(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function B4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function C4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B4(Object(r),!0).forEach(function(n){Yz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yz(e,t,r){return(t=Jz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jz(e){var t=eH(e,"string");return typeof t=="symbol"?t:t+""}function eH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tH=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),KL=(e,t,r)=>e.map(n=>"".concat(tH(n)," ").concat(t,"ms ").concat(r)).join(","),rH=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(s=>n.includes(s))),H0=(e,t)=>Object.keys(t).reduce((r,n)=>C4(C4({},r),{},{[n]:e(n,t[n])}),{});function S4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function lo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S4(Object(r),!0).forEach(function(n){nH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nH(e,t,r){return(t=iH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iH(e){var t=aH(e,"string");return typeof t=="symbol"?t:t+""}function aH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var r_=(e,t,r)=>e+(t-e)*r,nB=e=>{var{from:t,to:r}=e;return t!==r},VL=(e,t,r)=>{var n=H0((s,A)=>{if(nB(A)){var[d,l]=e(A.from,A.to,A.velocity);return lo(lo({},A),{},{from:d,velocity:l})}return A},t);return r<1?H0((s,A)=>nB(A)?lo(lo({},A),{},{velocity:r_(A.velocity,n[s].velocity,r),from:r_(A.from,n[s].from,r)}):A,t):VL(e,n,r-1)};function sH(e,t,r,n,s,A){var d,l=n.reduce((F,T)=>lo(lo({},F),{},{[T]:{from:e[T],velocity:0,to:t[T]}}),{}),y=()=>H0((F,T)=>T.from,l),b=()=>!Object.values(l).filter(nB).length,w=null,S=F=>{d||(d=F);var T=F-d,z=T/r.dt;l=VL(r,l,z),s(lo(lo(lo({},e),t),y())),d=F,b()||(w=A.setTimeout(S))};return()=>(w=A.setTimeout(S),()=>{var F;(F=w)===null||F===void 0||F()})}function oH(e,t,r,n,s,A,d){var l=null,y=s.reduce((S,F)=>lo(lo({},S),{},{[F]:[e[F],t[F]]}),{}),b,w=S=>{b||(b=S);var F=(S-b)/n,T=H0((H,K)=>r_(...K,r(F)),y);if(A(lo(lo(lo({},e),t),T)),F<1)l=d.setTimeout(w);else{var z=H0((H,K)=>r_(...K,r(1)),y);A(lo(lo(lo({},e),t),z))}};return()=>(l=d.setTimeout(w),()=>{var S;(S=l)===null||S===void 0||S()})}const lH=(e,t,r,n,s,A)=>{var d=rH(e,t);return r==null?()=>(s(lo(lo({},e),t)),()=>{}):r.isStepper===!0?sH(e,t,r,d,s,A):oH(e,t,r,n,d,s,A)};var n_=1e-4,qL=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],GL=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),E4=(e,t)=>r=>{var n=qL(e,t);return GL(n,r)},AH=(e,t)=>r=>{var n=qL(e,t),s=[...n.map((A,d)=>A*d).slice(1),0];return GL(s,r)},uH=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var s,A=r[0].split("(");if(A[0]==="cubic-bezier"&&((s=A[1])===null||s===void 0?void 0:s.split(")")[0].split(",").length)===4){var d=A[1].split(")")[0].split(",").map(l=>parseFloat(l));return[d[0],d[1],d[2],d[3]]}}}return r.length===4?r:[0,0,1,1]},cH=(e,t,r,n)=>{var s=E4(e,r),A=E4(t,n),d=AH(e,r),l=b=>b>1?1:b<0?0:b,y=b=>{for(var w=b>1?1:b,S=w,F=0;F<8;++F){var T=s(S)-w,z=d(S);if(Math.abs(T-w)<n_||z<n_)return A(S);S=l(S-T/z)}return A(S)};return y.isStepper=!1,y},T4=function(){return cH(...uH(...arguments))},hH=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:s=17}=t,A=(d,l,y)=>{var b=-(d-l)*r,w=y*n,S=y+(b-w)*s/1e3,F=y*s/1e3+d;return Math.abs(F-l)<n_&&Math.abs(S)<n_?[l,0]:[F,S]};return A.isStepper=!0,A.dt=s,A},fH=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return T4(e);case"spring":return hH();default:if(e.split("(")[0]==="cubic-bezier")return T4(e)}return typeof e=="function"?e:null};function dH(e){var t,r=()=>null,n=!1,s=null,A=d=>{if(!n){if(Array.isArray(d)){if(!d.length)return;var l=d,[y,...b]=l;if(typeof y=="number"){s=e.setTimeout(A.bind(null,b),y);return}A(y),s=e.setTimeout(A.bind(null,b));return}typeof d=="string"&&(t=d,r(t)),typeof d=="object"&&(t=d,r(t)),typeof d=="function"&&d()}};return{stop:()=>{n=!0},start:d=>{n=!1,s&&(s(),s=null),A(d)},subscribe:d=>(r=d,()=>{r=()=>null}),getTimeoutController:()=>e}}class pH{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),s=null,A=d=>{d-n>=r?t(d):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(A))};return s=requestAnimationFrame(A),()=>{s!=null&&cancelAnimationFrame(s)}}}function gH(){return dH(new pH)}var mH=ae.createContext(gH);function yH(e,t){var r=ae.useContext(mH);return ae.useMemo(()=>t??r(e),[e,t,r])}var vH={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},I4={t:0},cx={t:1};function L5(e){var t=Rl(e,vH),{isActive:r,canBegin:n,duration:s,easing:A,begin:d,onAnimationEnd:l,onAnimationStart:y,children:b}=t,w=r==="auto"?!Zg.isSsr:r,S=yH(t.animationId,t.animationManager),[F,T]=ae.useState(w?I4:cx),z=ae.useRef(null);return ae.useEffect(()=>{w||T(cx)},[w]),ae.useEffect(()=>{if(!w||!n)return iy;var H=lH(I4,cx,fH(A),s,T,S.getTimeoutController()),K=()=>{z.current=H()};return S.start([y,d,K,s,l]),()=>{S.stop(),z.current&&z.current(),l()}},[w,n,s,A,d,y,l,S]),b(F.t)}function M5(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=ae.useRef(O0(t)),n=ae.useRef(e);return n.current!==e&&(r.current=O0(t),n.current=e),r.current}var _H=["radius"],bH=["radius"];function F4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function U4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F4(Object(r),!0).forEach(function(n){wH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wH(e,t,r){return(t=xH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xH(e){var t=BH(e,"string");return typeof t=="symbol"?t:t+""}function BH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function i_(){return i_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i_.apply(null,arguments)}function L4(e,t){if(e==null)return{};var r,n,s=CH(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function CH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var M4=(e,t,r,n,s)=>{var A=Math.min(Math.abs(r)/2,Math.abs(n)/2),d=n>=0?1:-1,l=r>=0?1:-1,y=n>=0&&r>=0||n<0&&r<0?1:0,b;if(A>0&&s instanceof Array){for(var w=[0,0,0,0],S=0,F=4;S<F;S++)w[S]=s[S]>A?A:s[S];b="M".concat(e,",").concat(t+d*w[0]),w[0]>0&&(b+="A ".concat(w[0],",").concat(w[0],",0,0,").concat(y,",").concat(e+l*w[0],",").concat(t)),b+="L ".concat(e+r-l*w[1],",").concat(t),w[1]>0&&(b+="A ".concat(w[1],",").concat(w[1],",0,0,").concat(y,`,
        `).concat(e+r,",").concat(t+d*w[1])),b+="L ".concat(e+r,",").concat(t+n-d*w[2]),w[2]>0&&(b+="A ".concat(w[2],",").concat(w[2],",0,0,").concat(y,`,
        `).concat(e+r-l*w[2],",").concat(t+n)),b+="L ".concat(e+l*w[3],",").concat(t+n),w[3]>0&&(b+="A ".concat(w[3],",").concat(w[3],",0,0,").concat(y,`,
        `).concat(e,",").concat(t+n-d*w[3])),b+="Z"}else if(A>0&&s===+s&&s>0){var T=Math.min(A,s);b="M ".concat(e,",").concat(t+d*T,`
            A `).concat(T,",").concat(T,",0,0,").concat(y,",").concat(e+l*T,",").concat(t,`
            L `).concat(e+r-l*T,",").concat(t,`
            A `).concat(T,",").concat(T,",0,0,").concat(y,",").concat(e+r,",").concat(t+d*T,`
            L `).concat(e+r,",").concat(t+n-d*T,`
            A `).concat(T,",").concat(T,",0,0,").concat(y,",").concat(e+r-l*T,",").concat(t+n,`
            L `).concat(e+l*T,",").concat(t+n,`
            A `).concat(T,",").concat(T,",0,0,").concat(y,",").concat(e,",").concat(t+n-d*T," Z")}else b="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return b},P4={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},$L=e=>{var t=Rl(e,P4),r=ae.useRef(null),[n,s]=ae.useState(-1);ae.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var ke=r.current.getTotalLength();ke&&s(ke)}catch{}},[]);var{x:A,y:d,width:l,height:y,radius:b,className:w}=t,{animationEasing:S,animationDuration:F,animationBegin:T,isAnimationActive:z,isUpdateAnimationActive:H}=t,K=ae.useRef(l),q=ae.useRef(y),ne=ae.useRef(A),W=ae.useRef(d),le=ae.useMemo(()=>({x:A,y:d,width:l,height:y,radius:b}),[A,d,l,y,b]),ce=M5(le,"rectangle-");if(A!==+A||d!==+d||l!==+l||y!==+y||l===0||y===0)return null;var me=$i("recharts-rectangle",w);if(!H){var Ee=hA(t),{radius:Ie}=Ee,ge=L4(Ee,_H);return ae.createElement("path",i_({},ge,{radius:typeof b=="number"?b:void 0,className:me,d:M4(A,d,l,y,b)}))}var je=K.current,ie=q.current,de=ne.current,Fe=W.current,Le="0px ".concat(n===-1?1:n,"px"),it="".concat(n,"px 0px"),Pe=KL(["strokeDasharray"],F,typeof S=="string"?S:P4.animationEasing);return ae.createElement(L5,{animationId:ce,key:ce,canBegin:n>0,duration:F,easing:S,isActive:H,begin:T},ke=>{var Ge=qA(je,l,ke),Oe=qA(ie,y,ke),st=qA(de,A,ke),be=qA(Fe,d,ke);r.current&&(K.current=Ge,q.current=Oe,ne.current=st,W.current=be);var ee;z?ke>0?ee={transition:Pe,strokeDasharray:it}:ee={strokeDasharray:Le}:ee={strokeDasharray:it};var ye=hA(t),{radius:Te}=ye,Ne=L4(ye,bH);return ae.createElement("path",i_({},Ne,{radius:typeof b=="number"?b:void 0,className:me,d:M4(st,be,Ge,Oe,b),ref:r,style:U4(U4({},ee),t.style)}))})};function O4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function D4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O4(Object(r),!0).forEach(function(n){SH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SH(e,t,r){return(t=EH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EH(e){var t=TH(e,"string");return typeof t=="symbol"?t:t+""}function TH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var a_=Math.PI/180,IH=e=>e*180/Math.PI,el=(e,t,r,n)=>({x:e+Math.cos(-a_*n)*r,y:t+Math.sin(-a_*n)*r}),FH=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},UH=(e,t)=>{var{x:r,y:n}=e,{x:s,y:A}=t;return Math.sqrt((r-s)**2+(n-A)**2)},LH=(e,t)=>{var{x:r,y:n}=e,{cx:s,cy:A}=t,d=UH({x:r,y:n},{x:s,y:A});if(d<=0)return{radius:d,angle:0};var l=(r-s)/d,y=Math.acos(l);return n>A&&(y=2*Math.PI-y),{radius:d,angle:IH(y),angleInRadian:y}},MH=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),s=Math.floor(r/360),A=Math.min(n,s);return{startAngle:t-A*360,endAngle:r-A*360}},PH=(e,t)=>{var{startAngle:r,endAngle:n}=t,s=Math.floor(r/360),A=Math.floor(n/360),d=Math.min(s,A);return e+d*360},OH=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:s,angle:A}=LH({x:r,y:n},t),{innerRadius:d,outerRadius:l}=t;if(s<d||s>l||s===0)return null;var{startAngle:y,endAngle:b}=MH(t),w=A,S;if(y<=b){for(;w>b;)w-=360;for(;w<y;)w+=360;S=w>=y&&w<=b}else{for(;w>y;)w-=360;for(;w<b;)w+=360;S=w>=b&&w<=y}return S?D4(D4({},t),{},{radius:s,angle:PH(w,t)}):null};function XL(e){var{cx:t,cy:r,radius:n,startAngle:s,endAngle:A}=e,d=el(t,r,n,s),l=el(t,r,n,A);return{points:[d,l],cx:t,cy:r,radius:n,startAngle:s,endAngle:A}}function iB(){return iB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iB.apply(null,arguments)}var DH=(e,t)=>{var r=ec(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Pv=e=>{var{cx:t,cy:r,radius:n,angle:s,sign:A,isExternal:d,cornerRadius:l,cornerIsExternal:y}=e,b=l*(d?1:-1)+n,w=Math.asin(l/b)/a_,S=y?s:s+A*w,F=el(t,r,b,S),T=el(t,r,n,S),z=y?s-A*w:s,H=el(t,r,b*Math.cos(w*a_),z);return{center:F,circleTangency:T,lineTangency:H,theta:w}},ZL=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:A,endAngle:d}=e,l=DH(A,d),y=A+l,b=el(t,r,s,A),w=el(t,r,s,y),S="M ".concat(b.x,",").concat(b.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(A>y),`,
    `).concat(w.x,",").concat(w.y,`
  `);if(n>0){var F=el(t,r,n,A),T=el(t,r,n,y);S+="L ".concat(T.x,",").concat(T.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(A<=y),`,
            `).concat(F.x,",").concat(F.y," Z")}else S+="L ".concat(t,",").concat(r," Z");return S},kH=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,cornerRadius:A,forceCornerRadius:d,cornerIsExternal:l,startAngle:y,endAngle:b}=e,w=ec(b-y),{circleTangency:S,lineTangency:F,theta:T}=Pv({cx:t,cy:r,radius:s,angle:y,sign:w,cornerRadius:A,cornerIsExternal:l}),{circleTangency:z,lineTangency:H,theta:K}=Pv({cx:t,cy:r,radius:s,angle:b,sign:-w,cornerRadius:A,cornerIsExternal:l}),q=l?Math.abs(y-b):Math.abs(y-b)-T-K;if(q<0)return d?"M ".concat(F.x,",").concat(F.y,`
        a`).concat(A,",").concat(A,",0,0,1,").concat(A*2,`,0
        a`).concat(A,",").concat(A,",0,0,1,").concat(-A*2,`,0
      `):ZL({cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:y,endAngle:b});var ne="M ".concat(F.x,",").concat(F.y,`
    A`).concat(A,",").concat(A,",0,0,").concat(+(w<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(q>180),",").concat(+(w<0),",").concat(z.x,",").concat(z.y,`
    A`).concat(A,",").concat(A,",0,0,").concat(+(w<0),",").concat(H.x,",").concat(H.y,`
  `);if(n>0){var{circleTangency:W,lineTangency:le,theta:ce}=Pv({cx:t,cy:r,radius:n,angle:y,sign:w,isExternal:!0,cornerRadius:A,cornerIsExternal:l}),{circleTangency:me,lineTangency:Ee,theta:Ie}=Pv({cx:t,cy:r,radius:n,angle:b,sign:-w,isExternal:!0,cornerRadius:A,cornerIsExternal:l}),ge=l?Math.abs(y-b):Math.abs(y-b)-ce-Ie;if(ge<0&&A===0)return"".concat(ne,"L").concat(t,",").concat(r,"Z");ne+="L".concat(Ee.x,",").concat(Ee.y,`
      A`).concat(A,",").concat(A,",0,0,").concat(+(w<0),",").concat(me.x,",").concat(me.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(ge>180),",").concat(+(w>0),",").concat(W.x,",").concat(W.y,`
      A`).concat(A,",").concat(A,",0,0,").concat(+(w<0),",").concat(le.x,",").concat(le.y,"Z")}else ne+="L".concat(t,",").concat(r,"Z");return ne},QH={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},WL=e=>{var t=Rl(e,QH),{cx:r,cy:n,innerRadius:s,outerRadius:A,cornerRadius:d,forceCornerRadius:l,cornerIsExternal:y,startAngle:b,endAngle:w,className:S}=t;if(A<s||b===w)return null;var F=$i("recharts-sector",S),T=A-s,z=dd(d,T,0,!0),H;return z>0&&Math.abs(b-w)<360?H=kH({cx:r,cy:n,innerRadius:s,outerRadius:A,cornerRadius:Math.min(z,T/2),forceCornerRadius:l,cornerIsExternal:y,startAngle:b,endAngle:w}):H=ZL({cx:r,cy:n,innerRadius:s,outerRadius:A,startAngle:b,endAngle:w}),ae.createElement("path",iB({},hA(t),{className:F,d:H}))};function NH(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(FU(t)){if(e==="centric"){var{cx:n,cy:s,innerRadius:A,outerRadius:d,angle:l}=t,y=el(n,s,A,l),b=el(n,s,d,l);return[{x:y.x,y:y.y},{x:b.x,y:b.y}]}return XL(t)}}var hx={},fx={},dx={},k4;function RH(){return k4||(k4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jU();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(dx)),dx}var Q4;function zH(){return Q4||(Q4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RH();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(fx)),fx}var N4;function HH(){return N4||(N4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KU(),r=zH();function n(s,A,d){d&&typeof d!="number"&&t.isIterateeCall(s,A,d)&&(A=d=void 0),s=r.toFinite(s),A===void 0?(A=s,s=0):A=r.toFinite(A),d=d===void 0?s<A?1:-1:r.toFinite(d);const l=Math.max(Math.ceil((A-s)/(d||1)),0),y=new Array(l);for(let b=0;b<l;b++)y[b]=s,s+=d;return y}e.range=n})(hx)),hx}var px,R4;function jH(){return R4||(R4=1,px=HH().range),px}var KH=jH();const YL=bh(KH);function ud(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function VH(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function P5(e){let t,r,n;e.length!==2?(t=ud,r=(l,y)=>ud(e(l),y),n=(l,y)=>e(l)-y):(t=e===ud||e===VH?e:qH,r=e,n=e);function s(l,y,b=0,w=l.length){if(b<w){if(t(y,y)!==0)return w;do{const S=b+w>>>1;r(l[S],y)<0?b=S+1:w=S}while(b<w)}return b}function A(l,y,b=0,w=l.length){if(b<w){if(t(y,y)!==0)return w;do{const S=b+w>>>1;r(l[S],y)<=0?b=S+1:w=S}while(b<w)}return b}function d(l,y,b=0,w=l.length){const S=s(l,y,b,w-1);return S>b&&n(l[S-1],y)>-n(l[S],y)?S-1:S}return{left:s,center:d,right:A}}function qH(){return 0}function JL(e){return e===null?NaN:+e}function*GH(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const $H=P5(ud),uy=$H.right;P5(JL).center;class z4 extends Map{constructor(t,r=WH){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(H4(this,t))}has(t){return super.has(H4(this,t))}set(t,r){return super.set(XH(this,t),r)}delete(t){return super.delete(ZH(this,t))}}function H4({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function XH({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function ZH({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function WH(e){return e!==null&&typeof e=="object"?e.valueOf():e}function YH(e=ud){if(e===ud)return eM;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function eM(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const JH=Math.sqrt(50),ej=Math.sqrt(10),tj=Math.sqrt(2);function s_(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),A=n/Math.pow(10,s),d=A>=JH?10:A>=ej?5:A>=tj?2:1;let l,y,b;return s<0?(b=Math.pow(10,-s)/d,l=Math.round(e*b),y=Math.round(t*b),l/b<e&&++l,y/b>t&&--y,b=-b):(b=Math.pow(10,s)*d,l=Math.round(e/b),y=Math.round(t/b),l*b<e&&++l,y*b>t&&--y),y<l&&.5<=r&&r<2?s_(e,t,r*2):[l,y,b]}function aB(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,A,d]=n?s_(t,e,r):s_(e,t,r);if(!(A>=s))return[];const l=A-s+1,y=new Array(l);if(n)if(d<0)for(let b=0;b<l;++b)y[b]=(A-b)/-d;else for(let b=0;b<l;++b)y[b]=(A-b)*d;else if(d<0)for(let b=0;b<l;++b)y[b]=(s+b)/-d;else for(let b=0;b<l;++b)y[b]=(s+b)*d;return y}function sB(e,t,r){return t=+t,e=+e,r=+r,s_(e,t,r)[2]}function oB(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?sB(t,e,r):sB(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function j4(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function K4(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function tM(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?eM:YH(s);n>r;){if(n-r>600){const y=n-r+1,b=t-r+1,w=Math.log(y),S=.5*Math.exp(2*w/3),F=.5*Math.sqrt(w*S*(y-S)/y)*(b-y/2<0?-1:1),T=Math.max(r,Math.floor(t-b*S/y+F)),z=Math.min(n,Math.floor(t+(y-b)*S/y+F));tM(e,t,T,z,s)}const A=e[t];let d=r,l=n;for(l0(e,r,t),s(e[n],A)>0&&l0(e,r,n);d<l;){for(l0(e,d,l),++d,--l;s(e[d],A)<0;)++d;for(;s(e[l],A)>0;)--l}s(e[r],A)===0?l0(e,r,l):(++l,l0(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function l0(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function rj(e,t,r){if(e=Float64Array.from(GH(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return K4(e);if(t>=1)return j4(e);var n,s=(n-1)*t,A=Math.floor(s),d=j4(tM(e,A).subarray(0,A+1)),l=K4(e.subarray(A+1));return d+(l-d)*(s-A)}}function nj(e,t,r=JL){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,A=Math.floor(s),d=+r(e[A],A,e),l=+r(e[A+1],A+1,e);return d+(l-d)*(s-A)}}function ij(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,A=new Array(s);++n<s;)A[n]=e+n*r;return A}function oc(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function cf(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const lB=Symbol("implicit");function O5(){var e=new z4,t=[],r=[],n=lB;function s(A){let d=e.get(A);if(d===void 0){if(n!==lB)return n;e.set(A,d=t.push(A)-1)}return r[d%r.length]}return s.domain=function(A){if(!arguments.length)return t.slice();t=[],e=new z4;for(const d of A)e.has(d)||e.set(d,t.push(d)-1);return s},s.range=function(A){return arguments.length?(r=Array.from(A),s):r.slice()},s.unknown=function(A){return arguments.length?(n=A,s):n},s.copy=function(){return O5(t,r).unknown(n)},oc.apply(s,arguments),s}function D5(){var e=O5().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,A,d,l=!1,y=0,b=0,w=.5;delete e.unknown;function S(){var F=t().length,T=s<n,z=T?s:n,H=T?n:s;A=(H-z)/Math.max(1,F-y+b*2),l&&(A=Math.floor(A)),z+=(H-z-A*(F-y))*w,d=A*(1-y),l&&(z=Math.round(z),d=Math.round(d));var K=ij(F).map(function(q){return z+A*q});return r(T?K.reverse():K)}return e.domain=function(F){return arguments.length?(t(F),S()):t()},e.range=function(F){return arguments.length?([n,s]=F,n=+n,s=+s,S()):[n,s]},e.rangeRound=function(F){return[n,s]=F,n=+n,s=+s,l=!0,S()},e.bandwidth=function(){return d},e.step=function(){return A},e.round=function(F){return arguments.length?(l=!!F,S()):l},e.padding=function(F){return arguments.length?(y=Math.min(1,b=+F),S()):y},e.paddingInner=function(F){return arguments.length?(y=Math.min(1,F),S()):y},e.paddingOuter=function(F){return arguments.length?(b=+F,S()):b},e.align=function(F){return arguments.length?(w=Math.max(0,Math.min(1,F)),S()):w},e.copy=function(){return D5(t(),[n,s]).round(l).paddingInner(y).paddingOuter(b).align(w)},oc.apply(S(),arguments)}function rM(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return rM(t())},e}function aj(){return rM(D5.apply(null,arguments).paddingInner(1))}function k5(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function nM(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function cy(){}var j0=.7,o_=1/j0,Pg="\\s*([+-]?\\d+)\\s*",K0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",dh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",sj=/^#([0-9a-f]{3,8})$/,oj=new RegExp(`^rgb\\(${Pg},${Pg},${Pg}\\)$`),lj=new RegExp(`^rgb\\(${dh},${dh},${dh}\\)$`),Aj=new RegExp(`^rgba\\(${Pg},${Pg},${Pg},${K0}\\)$`),uj=new RegExp(`^rgba\\(${dh},${dh},${dh},${K0}\\)$`),cj=new RegExp(`^hsl\\(${K0},${dh},${dh}\\)$`),hj=new RegExp(`^hsla\\(${K0},${dh},${dh},${K0}\\)$`),V4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};k5(cy,V0,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:q4,formatHex:q4,formatHex8:fj,formatHsl:dj,formatRgb:G4,toString:G4});function q4(){return this.rgb().formatHex()}function fj(){return this.rgb().formatHex8()}function dj(){return iM(this).formatHsl()}function G4(){return this.rgb().formatRgb()}function V0(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=sj.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?$4(t):r===3?new GA(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Ov(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Ov(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=oj.exec(e))?new GA(t[1],t[2],t[3],1):(t=lj.exec(e))?new GA(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Aj.exec(e))?Ov(t[1],t[2],t[3],t[4]):(t=uj.exec(e))?Ov(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=cj.exec(e))?W4(t[1],t[2]/100,t[3]/100,1):(t=hj.exec(e))?W4(t[1],t[2]/100,t[3]/100,t[4]):V4.hasOwnProperty(e)?$4(V4[e]):e==="transparent"?new GA(NaN,NaN,NaN,0):null}function $4(e){return new GA(e>>16&255,e>>8&255,e&255,1)}function Ov(e,t,r,n){return n<=0&&(e=t=r=NaN),new GA(e,t,r,n)}function pj(e){return e instanceof cy||(e=V0(e)),e?(e=e.rgb(),new GA(e.r,e.g,e.b,e.opacity)):new GA}function AB(e,t,r,n){return arguments.length===1?pj(e):new GA(e,t,r,n??1)}function GA(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}k5(GA,AB,nM(cy,{brighter(e){return e=e==null?o_:Math.pow(o_,e),new GA(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?j0:Math.pow(j0,e),new GA(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new GA(yp(this.r),yp(this.g),yp(this.b),l_(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:X4,formatHex:X4,formatHex8:gj,formatRgb:Z4,toString:Z4}));function X4(){return`#${hp(this.r)}${hp(this.g)}${hp(this.b)}`}function gj(){return`#${hp(this.r)}${hp(this.g)}${hp(this.b)}${hp((isNaN(this.opacity)?1:this.opacity)*255)}`}function Z4(){const e=l_(this.opacity);return`${e===1?"rgb(":"rgba("}${yp(this.r)}, ${yp(this.g)}, ${yp(this.b)}${e===1?")":`, ${e})`}`}function l_(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function yp(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function hp(e){return e=yp(e),(e<16?"0":"")+e.toString(16)}function W4(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Lc(e,t,r,n)}function iM(e){if(e instanceof Lc)return new Lc(e.h,e.s,e.l,e.opacity);if(e instanceof cy||(e=V0(e)),!e)return new Lc;if(e instanceof Lc)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),A=Math.max(t,r,n),d=NaN,l=A-s,y=(A+s)/2;return l?(t===A?d=(r-n)/l+(r<n)*6:r===A?d=(n-t)/l+2:d=(t-r)/l+4,l/=y<.5?A+s:2-A-s,d*=60):l=y>0&&y<1?0:d,new Lc(d,l,y,e.opacity)}function mj(e,t,r,n){return arguments.length===1?iM(e):new Lc(e,t,r,n??1)}function Lc(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}k5(Lc,mj,nM(cy,{brighter(e){return e=e==null?o_:Math.pow(o_,e),new Lc(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?j0:Math.pow(j0,e),new Lc(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new GA(gx(e>=240?e-240:e+120,s,n),gx(e,s,n),gx(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new Lc(Y4(this.h),Dv(this.s),Dv(this.l),l_(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=l_(this.opacity);return`${e===1?"hsl(":"hsla("}${Y4(this.h)}, ${Dv(this.s)*100}%, ${Dv(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Y4(e){return e=(e||0)%360,e<0?e+360:e}function Dv(e){return Math.max(0,Math.min(1,e||0))}function gx(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Q5=e=>()=>e;function yj(e,t){return function(r){return e+r*t}}function vj(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function _j(e){return(e=+e)==1?aM:function(t,r){return r-t?vj(t,r,e):Q5(isNaN(t)?r:t)}}function aM(e,t){var r=t-e;return r?yj(e,r):Q5(isNaN(e)?t:e)}const J4=(function e(t){var r=_j(t);function n(s,A){var d=r((s=AB(s)).r,(A=AB(A)).r),l=r(s.g,A.g),y=r(s.b,A.b),b=aM(s.opacity,A.opacity);return function(w){return s.r=d(w),s.g=l(w),s.b=y(w),s.opacity=b(w),s+""}}return n.gamma=e,n})(1);function bj(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(A){for(s=0;s<r;++s)n[s]=e[s]*(1-A)+t[s]*A;return n}}function wj(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function xj(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),A=new Array(r),d;for(d=0;d<n;++d)s[d]=Wg(e[d],t[d]);for(;d<r;++d)A[d]=t[d];return function(l){for(d=0;d<n;++d)A[d]=s[d](l);return A}}function Bj(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function A_(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Cj(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=Wg(e[s],t[s]):n[s]=t[s];return function(A){for(s in r)n[s]=r[s](A);return n}}var uB=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,mx=new RegExp(uB.source,"g");function Sj(e){return function(){return e}}function Ej(e){return function(t){return e(t)+""}}function Tj(e,t){var r=uB.lastIndex=mx.lastIndex=0,n,s,A,d=-1,l=[],y=[];for(e=e+"",t=t+"";(n=uB.exec(e))&&(s=mx.exec(t));)(A=s.index)>r&&(A=t.slice(r,A),l[d]?l[d]+=A:l[++d]=A),(n=n[0])===(s=s[0])?l[d]?l[d]+=s:l[++d]=s:(l[++d]=null,y.push({i:d,x:A_(n,s)})),r=mx.lastIndex;return r<t.length&&(A=t.slice(r),l[d]?l[d]+=A:l[++d]=A),l.length<2?y[0]?Ej(y[0].x):Sj(t):(t=y.length,function(b){for(var w=0,S;w<t;++w)l[(S=y[w]).i]=S.x(b);return l.join("")})}function Wg(e,t){var r=typeof t,n;return t==null||r==="boolean"?Q5(t):(r==="number"?A_:r==="string"?(n=V0(t))?(t=n,J4):Tj:t instanceof V0?J4:t instanceof Date?Bj:wj(t)?bj:Array.isArray(t)?xj:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Cj:A_)(e,t)}function N5(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Ij(e,t){t===void 0&&(t=e,e=Wg);for(var r=0,n=t.length-1,s=t[0],A=new Array(n<0?0:n);r<n;)A[r]=e(s,s=t[++r]);return function(d){var l=Math.max(0,Math.min(n-1,Math.floor(d*=n)));return A[l](d-l)}}function Fj(e){return function(){return e}}function u_(e){return+e}var e3=[0,1];function uA(e){return e}function cB(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Fj(isNaN(t)?NaN:.5)}function Uj(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Lj(e,t,r){var n=e[0],s=e[1],A=t[0],d=t[1];return s<n?(n=cB(s,n),A=r(d,A)):(n=cB(n,s),A=r(A,d)),function(l){return A(n(l))}}function Mj(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),A=new Array(n),d=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++d<n;)s[d]=cB(e[d],e[d+1]),A[d]=r(t[d],t[d+1]);return function(l){var y=uy(e,l,1,n)-1;return A[y](s[y](l))}}function hy(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function fb(){var e=e3,t=e3,r=Wg,n,s,A,d=uA,l,y,b;function w(){var F=Math.min(e.length,t.length);return d!==uA&&(d=Uj(e[0],e[F-1])),l=F>2?Mj:Lj,y=b=null,S}function S(F){return F==null||isNaN(F=+F)?A:(y||(y=l(e.map(n),t,r)))(n(d(F)))}return S.invert=function(F){return d(s((b||(b=l(t,e.map(n),A_)))(F)))},S.domain=function(F){return arguments.length?(e=Array.from(F,u_),w()):e.slice()},S.range=function(F){return arguments.length?(t=Array.from(F),w()):t.slice()},S.rangeRound=function(F){return t=Array.from(F),r=N5,w()},S.clamp=function(F){return arguments.length?(d=F?!0:uA,w()):d!==uA},S.interpolate=function(F){return arguments.length?(r=F,w()):r},S.unknown=function(F){return arguments.length?(A=F,S):A},function(F,T){return n=F,s=T,w()}}function R5(){return fb()(uA,uA)}function Pj(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function c_(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Vg(e){return e=c_(Math.abs(e)),e?e[1]:NaN}function Oj(e,t){return function(r,n){for(var s=r.length,A=[],d=0,l=e[0],y=0;s>0&&l>0&&(y+l+1>n&&(l=Math.max(1,n-y)),A.push(r.substring(s-=l,s+l)),!((y+=l+1)>n));)l=e[d=(d+1)%e.length];return A.reverse().join(t)}}function Dj(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var kj=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function q0(e){if(!(t=kj.exec(e)))throw new Error("invalid format: "+e);var t;return new z5({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}q0.prototype=z5.prototype;function z5(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}z5.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Qj(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var sM;function Nj(e,t){var r=c_(e,t);if(!r)return e+"";var n=r[0],s=r[1],A=s-(sM=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,d=n.length;return A===d?n:A>d?n+new Array(A-d+1).join("0"):A>0?n.slice(0,A)+"."+n.slice(A):"0."+new Array(1-A).join("0")+c_(e,Math.max(0,t+A-1))[0]}function t3(e,t){var r=c_(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const r3={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Pj,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>t3(e*100,t),r:t3,s:Nj,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function n3(e){return e}var i3=Array.prototype.map,a3=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Rj(e){var t=e.grouping===void 0||e.thousands===void 0?n3:Oj(i3.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",A=e.numerals===void 0?n3:Dj(i3.call(e.numerals,String)),d=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",y=e.nan===void 0?"NaN":e.nan+"";function b(S){S=q0(S);var F=S.fill,T=S.align,z=S.sign,H=S.symbol,K=S.zero,q=S.width,ne=S.comma,W=S.precision,le=S.trim,ce=S.type;ce==="n"?(ne=!0,ce="g"):r3[ce]||(W===void 0&&(W=12),le=!0,ce="g"),(K||F==="0"&&T==="=")&&(K=!0,F="0",T="=");var me=H==="$"?r:H==="#"&&/[boxX]/.test(ce)?"0"+ce.toLowerCase():"",Ee=H==="$"?n:/[%p]/.test(ce)?d:"",Ie=r3[ce],ge=/[defgprs%]/.test(ce);W=W===void 0?6:/[gprs]/.test(ce)?Math.max(1,Math.min(21,W)):Math.max(0,Math.min(20,W));function je(ie){var de=me,Fe=Ee,Le,it,Pe;if(ce==="c")Fe=Ie(ie)+Fe,ie="";else{ie=+ie;var ke=ie<0||1/ie<0;if(ie=isNaN(ie)?y:Ie(Math.abs(ie),W),le&&(ie=Qj(ie)),ke&&+ie==0&&z!=="+"&&(ke=!1),de=(ke?z==="("?z:l:z==="-"||z==="("?"":z)+de,Fe=(ce==="s"?a3[8+sM/3]:"")+Fe+(ke&&z==="("?")":""),ge){for(Le=-1,it=ie.length;++Le<it;)if(Pe=ie.charCodeAt(Le),48>Pe||Pe>57){Fe=(Pe===46?s+ie.slice(Le+1):ie.slice(Le))+Fe,ie=ie.slice(0,Le);break}}}ne&&!K&&(ie=t(ie,1/0));var Ge=de.length+ie.length+Fe.length,Oe=Ge<q?new Array(q-Ge+1).join(F):"";switch(ne&&K&&(ie=t(Oe+ie,Oe.length?q-Fe.length:1/0),Oe=""),T){case"<":ie=de+ie+Fe+Oe;break;case"=":ie=de+Oe+ie+Fe;break;case"^":ie=Oe.slice(0,Ge=Oe.length>>1)+de+ie+Fe+Oe.slice(Ge);break;default:ie=Oe+de+ie+Fe;break}return A(ie)}return je.toString=function(){return S+""},je}function w(S,F){var T=b((S=q0(S),S.type="f",S)),z=Math.max(-8,Math.min(8,Math.floor(Vg(F)/3)))*3,H=Math.pow(10,-z),K=a3[8+z/3];return function(q){return T(H*q)+K}}return{format:b,formatPrefix:w}}var kv,H5,oM;zj({thousands:",",grouping:[3],currency:["$",""]});function zj(e){return kv=Rj(e),H5=kv.format,oM=kv.formatPrefix,kv}function Hj(e){return Math.max(0,-Vg(Math.abs(e)))}function jj(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Vg(t)/3)))*3-Vg(Math.abs(e)))}function Kj(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Vg(t)-Vg(e))+1}function lM(e,t,r,n){var s=oB(e,t,r),A;switch(n=q0(n??",f"),n.type){case"s":{var d=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(A=jj(s,d))&&(n.precision=A),oM(n,d)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(A=Kj(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=A-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(A=Hj(s))&&(n.precision=A-(n.type==="%")*2);break}}return H5(n)}function vd(e){var t=e.domain;return e.ticks=function(r){var n=t();return aB(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return lM(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,A=n.length-1,d=n[s],l=n[A],y,b,w=10;for(l<d&&(b=d,d=l,l=b,b=s,s=A,A=b);w-- >0;){if(b=sB(d,l,r),b===y)return n[s]=d,n[A]=l,t(n);if(b>0)d=Math.floor(d/b)*b,l=Math.ceil(l/b)*b;else if(b<0)d=Math.ceil(d*b)/b,l=Math.floor(l*b)/b;else break;y=b}return e},e}function AM(){var e=R5();return e.copy=function(){return hy(e,AM())},oc.apply(e,arguments),vd(e)}function uM(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,u_),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return uM(e).unknown(t)},e=arguments.length?Array.from(e,u_):[0,1],vd(r)}function cM(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],A=e[n],d;return A<s&&(d=r,r=n,n=d,d=s,s=A,A=d),e[r]=t.floor(s),e[n]=t.ceil(A),e}function s3(e){return Math.log(e)}function o3(e){return Math.exp(e)}function Vj(e){return-Math.log(-e)}function qj(e){return-Math.exp(-e)}function Gj(e){return isFinite(e)?+("1e"+e):e<0?0:e}function $j(e){return e===10?Gj:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Xj(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function l3(e){return(t,r)=>-e(-t,r)}function j5(e){const t=e(s3,o3),r=t.domain;let n=10,s,A;function d(){return s=Xj(n),A=$j(n),r()[0]<0?(s=l3(s),A=l3(A),e(Vj,qj)):e(s3,o3),t}return t.base=function(l){return arguments.length?(n=+l,d()):n},t.domain=function(l){return arguments.length?(r(l),d()):r()},t.ticks=l=>{const y=r();let b=y[0],w=y[y.length-1];const S=w<b;S&&([b,w]=[w,b]);let F=s(b),T=s(w),z,H;const K=l==null?10:+l;let q=[];if(!(n%1)&&T-F<K){if(F=Math.floor(F),T=Math.ceil(T),b>0){for(;F<=T;++F)for(z=1;z<n;++z)if(H=F<0?z/A(-F):z*A(F),!(H<b)){if(H>w)break;q.push(H)}}else for(;F<=T;++F)for(z=n-1;z>=1;--z)if(H=F>0?z/A(-F):z*A(F),!(H<b)){if(H>w)break;q.push(H)}q.length*2<K&&(q=aB(b,w,K))}else q=aB(F,T,Math.min(T-F,K)).map(A);return S?q.reverse():q},t.tickFormat=(l,y)=>{if(l==null&&(l=10),y==null&&(y=n===10?"s":","),typeof y!="function"&&(!(n%1)&&(y=q0(y)).precision==null&&(y.trim=!0),y=H5(y)),l===1/0)return y;const b=Math.max(1,n*l/t.ticks().length);return w=>{let S=w/A(Math.round(s(w)));return S*n<n-.5&&(S*=n),S<=b?y(w):""}},t.nice=()=>r(cM(r(),{floor:l=>A(Math.floor(s(l))),ceil:l=>A(Math.ceil(s(l)))})),t}function hM(){const e=j5(fb()).domain([1,10]);return e.copy=()=>hy(e,hM()).base(e.base()),oc.apply(e,arguments),e}function A3(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function u3(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function K5(e){var t=1,r=e(A3(t),u3(t));return r.constant=function(n){return arguments.length?e(A3(t=+n),u3(t)):t},vd(r)}function fM(){var e=K5(fb());return e.copy=function(){return hy(e,fM()).constant(e.constant())},oc.apply(e,arguments)}function c3(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Zj(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Wj(e){return e<0?-e*e:e*e}function V5(e){var t=e(uA,uA),r=1;function n(){return r===1?e(uA,uA):r===.5?e(Zj,Wj):e(c3(r),c3(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},vd(t)}function q5(){var e=V5(fb());return e.copy=function(){return hy(e,q5()).exponent(e.exponent())},oc.apply(e,arguments),e}function Yj(){return q5.apply(null,arguments).exponent(.5)}function h3(e){return Math.sign(e)*e*e}function Jj(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function dM(){var e=R5(),t=[0,1],r=!1,n;function s(A){var d=Jj(e(A));return isNaN(d)?n:r?Math.round(d):d}return s.invert=function(A){return e.invert(h3(A))},s.domain=function(A){return arguments.length?(e.domain(A),s):e.domain()},s.range=function(A){return arguments.length?(e.range((t=Array.from(A,u_)).map(h3)),s):t.slice()},s.rangeRound=function(A){return s.range(A).round(!0)},s.round=function(A){return arguments.length?(r=!!A,s):r},s.clamp=function(A){return arguments.length?(e.clamp(A),s):e.clamp()},s.unknown=function(A){return arguments.length?(n=A,s):n},s.copy=function(){return dM(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},oc.apply(s,arguments),vd(s)}function pM(){var e=[],t=[],r=[],n;function s(){var d=0,l=Math.max(1,t.length);for(r=new Array(l-1);++d<l;)r[d-1]=nj(e,d/l);return A}function A(d){return d==null||isNaN(d=+d)?n:t[uy(r,d)]}return A.invertExtent=function(d){var l=t.indexOf(d);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},A.domain=function(d){if(!arguments.length)return e.slice();e=[];for(let l of d)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(ud),s()},A.range=function(d){return arguments.length?(t=Array.from(d),s()):t.slice()},A.unknown=function(d){return arguments.length?(n=d,A):n},A.quantiles=function(){return r.slice()},A.copy=function(){return pM().domain(e).range(t).unknown(n)},oc.apply(A,arguments)}function gM(){var e=0,t=1,r=1,n=[.5],s=[0,1],A;function d(y){return y!=null&&y<=y?s[uy(n,y,0,r)]:A}function l(){var y=-1;for(n=new Array(r);++y<r;)n[y]=((y+1)*t-(y-r)*e)/(r+1);return d}return d.domain=function(y){return arguments.length?([e,t]=y,e=+e,t=+t,l()):[e,t]},d.range=function(y){return arguments.length?(r=(s=Array.from(y)).length-1,l()):s.slice()},d.invertExtent=function(y){var b=s.indexOf(y);return b<0?[NaN,NaN]:b<1?[e,n[0]]:b>=r?[n[r-1],t]:[n[b-1],n[b]]},d.unknown=function(y){return arguments.length&&(A=y),d},d.thresholds=function(){return n.slice()},d.copy=function(){return gM().domain([e,t]).range(s).unknown(A)},oc.apply(vd(d),arguments)}function mM(){var e=[.5],t=[0,1],r,n=1;function s(A){return A!=null&&A<=A?t[uy(e,A,0,n)]:r}return s.domain=function(A){return arguments.length?(e=Array.from(A),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(A){return arguments.length?(t=Array.from(A),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(A){var d=t.indexOf(A);return[e[d-1],e[d]]},s.unknown=function(A){return arguments.length?(r=A,s):r},s.copy=function(){return mM().domain(e).range(t).unknown(r)},oc.apply(s,arguments)}const yx=new Date,vx=new Date;function uo(e,t,r,n){function s(A){return e(A=arguments.length===0?new Date:new Date(+A)),A}return s.floor=A=>(e(A=new Date(+A)),A),s.ceil=A=>(e(A=new Date(A-1)),t(A,1),e(A),A),s.round=A=>{const d=s(A),l=s.ceil(A);return A-d<l-A?d:l},s.offset=(A,d)=>(t(A=new Date(+A),d==null?1:Math.floor(d)),A),s.range=(A,d,l)=>{const y=[];if(A=s.ceil(A),l=l==null?1:Math.floor(l),!(A<d)||!(l>0))return y;let b;do y.push(b=new Date(+A)),t(A,l),e(A);while(b<A&&A<d);return y},s.filter=A=>uo(d=>{if(d>=d)for(;e(d),!A(d);)d.setTime(d-1)},(d,l)=>{if(d>=d)if(l<0)for(;++l<=0;)for(;t(d,-1),!A(d););else for(;--l>=0;)for(;t(d,1),!A(d););}),r&&(s.count=(A,d)=>(yx.setTime(+A),vx.setTime(+d),e(yx),e(vx),Math.floor(r(yx,vx))),s.every=A=>(A=Math.floor(A),!isFinite(A)||!(A>0)?null:A>1?s.filter(n?d=>n(d)%A===0:d=>s.count(0,d)%A===0):s)),s}const h_=uo(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);h_.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?uo(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):h_);h_.range;const Xh=1e3,tc=Xh*60,Zh=tc*60,nf=Zh*24,G5=nf*7,f3=nf*30,_x=nf*365,fp=uo(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Xh)},(e,t)=>(t-e)/Xh,e=>e.getUTCSeconds());fp.range;const $5=uo(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Xh)},(e,t)=>{e.setTime(+e+t*tc)},(e,t)=>(t-e)/tc,e=>e.getMinutes());$5.range;const X5=uo(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*tc)},(e,t)=>(t-e)/tc,e=>e.getUTCMinutes());X5.range;const Z5=uo(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Xh-e.getMinutes()*tc)},(e,t)=>{e.setTime(+e+t*Zh)},(e,t)=>(t-e)/Zh,e=>e.getHours());Z5.range;const W5=uo(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Zh)},(e,t)=>(t-e)/Zh,e=>e.getUTCHours());W5.range;const fy=uo(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*tc)/nf,e=>e.getDate()-1);fy.range;const db=uo(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/nf,e=>e.getUTCDate()-1);db.range;const yM=uo(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/nf,e=>Math.floor(e/nf));yM.range;function Fp(e){return uo(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*tc)/G5)}const pb=Fp(0),f_=Fp(1),e7=Fp(2),t7=Fp(3),qg=Fp(4),r7=Fp(5),n7=Fp(6);pb.range;f_.range;e7.range;t7.range;qg.range;r7.range;n7.range;function Up(e){return uo(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/G5)}const gb=Up(0),d_=Up(1),i7=Up(2),a7=Up(3),Gg=Up(4),s7=Up(5),o7=Up(6);gb.range;d_.range;i7.range;a7.range;Gg.range;s7.range;o7.range;const Y5=uo(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Y5.range;const J5=uo(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());J5.range;const af=uo(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());af.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:uo(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});af.range;const sf=uo(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());sf.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:uo(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});sf.range;function vM(e,t,r,n,s,A){const d=[[fp,1,Xh],[fp,5,5*Xh],[fp,15,15*Xh],[fp,30,30*Xh],[A,1,tc],[A,5,5*tc],[A,15,15*tc],[A,30,30*tc],[s,1,Zh],[s,3,3*Zh],[s,6,6*Zh],[s,12,12*Zh],[n,1,nf],[n,2,2*nf],[r,1,G5],[t,1,f3],[t,3,3*f3],[e,1,_x]];function l(b,w,S){const F=w<b;F&&([b,w]=[w,b]);const T=S&&typeof S.range=="function"?S:y(b,w,S),z=T?T.range(b,+w+1):[];return F?z.reverse():z}function y(b,w,S){const F=Math.abs(w-b)/S,T=P5(([,,K])=>K).right(d,F);if(T===d.length)return e.every(oB(b/_x,w/_x,S));if(T===0)return h_.every(Math.max(oB(b,w,S),1));const[z,H]=d[F/d[T-1][2]<d[T][2]/F?T-1:T];return z.every(H)}return[l,y]}const[l7,A7]=vM(sf,J5,gb,yM,W5,X5),[u7,c7]=vM(af,Y5,pb,fy,Z5,$5);function bx(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function wx(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function A0(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function h7(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,A=e.days,d=e.shortDays,l=e.months,y=e.shortMonths,b=u0(s),w=c0(s),S=u0(A),F=c0(A),T=u0(d),z=c0(d),H=u0(l),K=c0(l),q=u0(y),ne=c0(y),W={a:ke,A:Ge,b:Oe,B:st,c:null,d:v3,e:v3,f:O7,g:V7,G:G7,H:L7,I:M7,j:P7,L:_M,m:D7,M:k7,p:be,q:ee,Q:w3,s:x3,S:Q7,u:N7,U:R7,V:z7,w:H7,W:j7,x:null,X:null,y:K7,Y:q7,Z:$7,"%":b3},le={a:ye,A:Te,b:Ne,B:Ze,c:null,d:_3,e:_3,f:Y7,g:l9,G:u9,H:X7,I:Z7,j:W7,L:wM,m:J7,M:e9,p:et,q:gt,Q:w3,s:x3,S:t9,u:r9,U:n9,V:i9,w:a9,W:s9,x:null,X:null,y:o9,Y:A9,Z:c9,"%":b3},ce={a:je,A:ie,b:de,B:Fe,c:Le,d:m3,e:m3,f:T7,g:g3,G:p3,H:y3,I:y3,j:B7,L:E7,m:x7,M:C7,p:ge,q:w7,Q:F7,s:U7,S:S7,u:m7,U:y7,V:v7,w:g7,W:_7,x:it,X:Pe,y:g3,Y:p3,Z:b7,"%":I7};W.x=me(r,W),W.X=me(n,W),W.c=me(t,W),le.x=me(r,le),le.X=me(n,le),le.c=me(t,le);function me(Ke,pt){return function(Ct){var ct=[],qt=-1,Xt=0,Me=Ke.length,Ye,Nr,Er;for(Ct instanceof Date||(Ct=new Date(+Ct));++qt<Me;)Ke.charCodeAt(qt)===37&&(ct.push(Ke.slice(Xt,qt)),(Nr=d3[Ye=Ke.charAt(++qt)])!=null?Ye=Ke.charAt(++qt):Nr=Ye==="e"?" ":"0",(Er=pt[Ye])&&(Ye=Er(Ct,Nr)),ct.push(Ye),Xt=qt+1);return ct.push(Ke.slice(Xt,qt)),ct.join("")}}function Ee(Ke,pt){return function(Ct){var ct=A0(1900,void 0,1),qt=Ie(ct,Ke,Ct+="",0),Xt,Me;if(qt!=Ct.length)return null;if("Q"in ct)return new Date(ct.Q);if("s"in ct)return new Date(ct.s*1e3+("L"in ct?ct.L:0));if(pt&&!("Z"in ct)&&(ct.Z=0),"p"in ct&&(ct.H=ct.H%12+ct.p*12),ct.m===void 0&&(ct.m="q"in ct?ct.q:0),"V"in ct){if(ct.V<1||ct.V>53)return null;"w"in ct||(ct.w=1),"Z"in ct?(Xt=wx(A0(ct.y,0,1)),Me=Xt.getUTCDay(),Xt=Me>4||Me===0?d_.ceil(Xt):d_(Xt),Xt=db.offset(Xt,(ct.V-1)*7),ct.y=Xt.getUTCFullYear(),ct.m=Xt.getUTCMonth(),ct.d=Xt.getUTCDate()+(ct.w+6)%7):(Xt=bx(A0(ct.y,0,1)),Me=Xt.getDay(),Xt=Me>4||Me===0?f_.ceil(Xt):f_(Xt),Xt=fy.offset(Xt,(ct.V-1)*7),ct.y=Xt.getFullYear(),ct.m=Xt.getMonth(),ct.d=Xt.getDate()+(ct.w+6)%7)}else("W"in ct||"U"in ct)&&("w"in ct||(ct.w="u"in ct?ct.u%7:"W"in ct?1:0),Me="Z"in ct?wx(A0(ct.y,0,1)).getUTCDay():bx(A0(ct.y,0,1)).getDay(),ct.m=0,ct.d="W"in ct?(ct.w+6)%7+ct.W*7-(Me+5)%7:ct.w+ct.U*7-(Me+6)%7);return"Z"in ct?(ct.H+=ct.Z/100|0,ct.M+=ct.Z%100,wx(ct)):bx(ct)}}function Ie(Ke,pt,Ct,ct){for(var qt=0,Xt=pt.length,Me=Ct.length,Ye,Nr;qt<Xt;){if(ct>=Me)return-1;if(Ye=pt.charCodeAt(qt++),Ye===37){if(Ye=pt.charAt(qt++),Nr=ce[Ye in d3?pt.charAt(qt++):Ye],!Nr||(ct=Nr(Ke,Ct,ct))<0)return-1}else if(Ye!=Ct.charCodeAt(ct++))return-1}return ct}function ge(Ke,pt,Ct){var ct=b.exec(pt.slice(Ct));return ct?(Ke.p=w.get(ct[0].toLowerCase()),Ct+ct[0].length):-1}function je(Ke,pt,Ct){var ct=T.exec(pt.slice(Ct));return ct?(Ke.w=z.get(ct[0].toLowerCase()),Ct+ct[0].length):-1}function ie(Ke,pt,Ct){var ct=S.exec(pt.slice(Ct));return ct?(Ke.w=F.get(ct[0].toLowerCase()),Ct+ct[0].length):-1}function de(Ke,pt,Ct){var ct=q.exec(pt.slice(Ct));return ct?(Ke.m=ne.get(ct[0].toLowerCase()),Ct+ct[0].length):-1}function Fe(Ke,pt,Ct){var ct=H.exec(pt.slice(Ct));return ct?(Ke.m=K.get(ct[0].toLowerCase()),Ct+ct[0].length):-1}function Le(Ke,pt,Ct){return Ie(Ke,t,pt,Ct)}function it(Ke,pt,Ct){return Ie(Ke,r,pt,Ct)}function Pe(Ke,pt,Ct){return Ie(Ke,n,pt,Ct)}function ke(Ke){return d[Ke.getDay()]}function Ge(Ke){return A[Ke.getDay()]}function Oe(Ke){return y[Ke.getMonth()]}function st(Ke){return l[Ke.getMonth()]}function be(Ke){return s[+(Ke.getHours()>=12)]}function ee(Ke){return 1+~~(Ke.getMonth()/3)}function ye(Ke){return d[Ke.getUTCDay()]}function Te(Ke){return A[Ke.getUTCDay()]}function Ne(Ke){return y[Ke.getUTCMonth()]}function Ze(Ke){return l[Ke.getUTCMonth()]}function et(Ke){return s[+(Ke.getUTCHours()>=12)]}function gt(Ke){return 1+~~(Ke.getUTCMonth()/3)}return{format:function(Ke){var pt=me(Ke+="",W);return pt.toString=function(){return Ke},pt},parse:function(Ke){var pt=Ee(Ke+="",!1);return pt.toString=function(){return Ke},pt},utcFormat:function(Ke){var pt=me(Ke+="",le);return pt.toString=function(){return Ke},pt},utcParse:function(Ke){var pt=Ee(Ke+="",!0);return pt.toString=function(){return Ke},pt}}}var d3={"-":"",_:" ",0:"0"},Po=/^\s*\d+/,f7=/^%/,d7=/[\\^$*+?|[\]().{}]/g;function gi(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",A=s.length;return n+(A<r?new Array(r-A+1).join(t)+s:s)}function p7(e){return e.replace(d7,"\\$&")}function u0(e){return new RegExp("^(?:"+e.map(p7).join("|")+")","i")}function c0(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function g7(e,t,r){var n=Po.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function m7(e,t,r){var n=Po.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function y7(e,t,r){var n=Po.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function v7(e,t,r){var n=Po.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function _7(e,t,r){var n=Po.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function p3(e,t,r){var n=Po.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function g3(e,t,r){var n=Po.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function b7(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function w7(e,t,r){var n=Po.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function x7(e,t,r){var n=Po.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function m3(e,t,r){var n=Po.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function B7(e,t,r){var n=Po.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function y3(e,t,r){var n=Po.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function C7(e,t,r){var n=Po.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function S7(e,t,r){var n=Po.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function E7(e,t,r){var n=Po.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function T7(e,t,r){var n=Po.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function I7(e,t,r){var n=f7.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function F7(e,t,r){var n=Po.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function U7(e,t,r){var n=Po.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function v3(e,t){return gi(e.getDate(),t,2)}function L7(e,t){return gi(e.getHours(),t,2)}function M7(e,t){return gi(e.getHours()%12||12,t,2)}function P7(e,t){return gi(1+fy.count(af(e),e),t,3)}function _M(e,t){return gi(e.getMilliseconds(),t,3)}function O7(e,t){return _M(e,t)+"000"}function D7(e,t){return gi(e.getMonth()+1,t,2)}function k7(e,t){return gi(e.getMinutes(),t,2)}function Q7(e,t){return gi(e.getSeconds(),t,2)}function N7(e){var t=e.getDay();return t===0?7:t}function R7(e,t){return gi(pb.count(af(e)-1,e),t,2)}function bM(e){var t=e.getDay();return t>=4||t===0?qg(e):qg.ceil(e)}function z7(e,t){return e=bM(e),gi(qg.count(af(e),e)+(af(e).getDay()===4),t,2)}function H7(e){return e.getDay()}function j7(e,t){return gi(f_.count(af(e)-1,e),t,2)}function K7(e,t){return gi(e.getFullYear()%100,t,2)}function V7(e,t){return e=bM(e),gi(e.getFullYear()%100,t,2)}function q7(e,t){return gi(e.getFullYear()%1e4,t,4)}function G7(e,t){var r=e.getDay();return e=r>=4||r===0?qg(e):qg.ceil(e),gi(e.getFullYear()%1e4,t,4)}function $7(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+gi(t/60|0,"0",2)+gi(t%60,"0",2)}function _3(e,t){return gi(e.getUTCDate(),t,2)}function X7(e,t){return gi(e.getUTCHours(),t,2)}function Z7(e,t){return gi(e.getUTCHours()%12||12,t,2)}function W7(e,t){return gi(1+db.count(sf(e),e),t,3)}function wM(e,t){return gi(e.getUTCMilliseconds(),t,3)}function Y7(e,t){return wM(e,t)+"000"}function J7(e,t){return gi(e.getUTCMonth()+1,t,2)}function e9(e,t){return gi(e.getUTCMinutes(),t,2)}function t9(e,t){return gi(e.getUTCSeconds(),t,2)}function r9(e){var t=e.getUTCDay();return t===0?7:t}function n9(e,t){return gi(gb.count(sf(e)-1,e),t,2)}function xM(e){var t=e.getUTCDay();return t>=4||t===0?Gg(e):Gg.ceil(e)}function i9(e,t){return e=xM(e),gi(Gg.count(sf(e),e)+(sf(e).getUTCDay()===4),t,2)}function a9(e){return e.getUTCDay()}function s9(e,t){return gi(d_.count(sf(e)-1,e),t,2)}function o9(e,t){return gi(e.getUTCFullYear()%100,t,2)}function l9(e,t){return e=xM(e),gi(e.getUTCFullYear()%100,t,2)}function A9(e,t){return gi(e.getUTCFullYear()%1e4,t,4)}function u9(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Gg(e):Gg.ceil(e),gi(e.getUTCFullYear()%1e4,t,4)}function c9(){return"+0000"}function b3(){return"%"}function w3(e){return+e}function x3(e){return Math.floor(+e/1e3)}var hg,BM,CM;h9({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function h9(e){return hg=h7(e),BM=hg.format,hg.parse,CM=hg.utcFormat,hg.utcParse,hg}function f9(e){return new Date(e)}function d9(e){return e instanceof Date?+e:+new Date(+e)}function eC(e,t,r,n,s,A,d,l,y,b){var w=R5(),S=w.invert,F=w.domain,T=b(".%L"),z=b(":%S"),H=b("%I:%M"),K=b("%I %p"),q=b("%a %d"),ne=b("%b %d"),W=b("%B"),le=b("%Y");function ce(me){return(y(me)<me?T:l(me)<me?z:d(me)<me?H:A(me)<me?K:n(me)<me?s(me)<me?q:ne:r(me)<me?W:le)(me)}return w.invert=function(me){return new Date(S(me))},w.domain=function(me){return arguments.length?F(Array.from(me,d9)):F().map(f9)},w.ticks=function(me){var Ee=F();return e(Ee[0],Ee[Ee.length-1],me??10)},w.tickFormat=function(me,Ee){return Ee==null?ce:b(Ee)},w.nice=function(me){var Ee=F();return(!me||typeof me.range!="function")&&(me=t(Ee[0],Ee[Ee.length-1],me??10)),me?F(cM(Ee,me)):w},w.copy=function(){return hy(w,eC(e,t,r,n,s,A,d,l,y,b))},w}function p9(){return oc.apply(eC(u7,c7,af,Y5,pb,fy,Z5,$5,fp,BM).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function g9(){return oc.apply(eC(l7,A7,sf,J5,gb,db,W5,X5,fp,CM).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function mb(){var e=0,t=1,r,n,s,A,d=uA,l=!1,y;function b(S){return S==null||isNaN(S=+S)?y:d(s===0?.5:(S=(A(S)-r)*s,l?Math.max(0,Math.min(1,S)):S))}b.domain=function(S){return arguments.length?([e,t]=S,r=A(e=+e),n=A(t=+t),s=r===n?0:1/(n-r),b):[e,t]},b.clamp=function(S){return arguments.length?(l=!!S,b):l},b.interpolator=function(S){return arguments.length?(d=S,b):d};function w(S){return function(F){var T,z;return arguments.length?([T,z]=F,d=S(T,z),b):[d(0),d(1)]}}return b.range=w(Wg),b.rangeRound=w(N5),b.unknown=function(S){return arguments.length?(y=S,b):y},function(S){return A=S,r=S(e),n=S(t),s=r===n?0:1/(n-r),b}}function _d(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function SM(){var e=vd(mb()(uA));return e.copy=function(){return _d(e,SM())},cf.apply(e,arguments)}function EM(){var e=j5(mb()).domain([1,10]);return e.copy=function(){return _d(e,EM()).base(e.base())},cf.apply(e,arguments)}function TM(){var e=K5(mb());return e.copy=function(){return _d(e,TM()).constant(e.constant())},cf.apply(e,arguments)}function tC(){var e=V5(mb());return e.copy=function(){return _d(e,tC()).exponent(e.exponent())},cf.apply(e,arguments)}function m9(){return tC.apply(null,arguments).exponent(.5)}function IM(){var e=[],t=uA;function r(n){if(n!=null&&!isNaN(n=+n))return t((uy(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(ud),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,A)=>rj(e,A/n))},r.copy=function(){return IM(t).domain(e)},cf.apply(r,arguments)}function yb(){var e=0,t=.5,r=1,n=1,s,A,d,l,y,b=uA,w,S=!1,F;function T(H){return isNaN(H=+H)?F:(H=.5+((H=+w(H))-A)*(n*H<n*A?l:y),b(S?Math.max(0,Math.min(1,H)):H))}T.domain=function(H){return arguments.length?([e,t,r]=H,s=w(e=+e),A=w(t=+t),d=w(r=+r),l=s===A?0:.5/(A-s),y=A===d?0:.5/(d-A),n=A<s?-1:1,T):[e,t,r]},T.clamp=function(H){return arguments.length?(S=!!H,T):S},T.interpolator=function(H){return arguments.length?(b=H,T):b};function z(H){return function(K){var q,ne,W;return arguments.length?([q,ne,W]=K,b=Ij(H,[q,ne,W]),T):[b(0),b(.5),b(1)]}}return T.range=z(Wg),T.rangeRound=z(N5),T.unknown=function(H){return arguments.length?(F=H,T):F},function(H){return w=H,s=H(e),A=H(t),d=H(r),l=s===A?0:.5/(A-s),y=A===d?0:.5/(d-A),n=A<s?-1:1,T}}function FM(){var e=vd(yb()(uA));return e.copy=function(){return _d(e,FM())},cf.apply(e,arguments)}function UM(){var e=j5(yb()).domain([.1,1,10]);return e.copy=function(){return _d(e,UM()).base(e.base())},cf.apply(e,arguments)}function LM(){var e=K5(yb());return e.copy=function(){return _d(e,LM()).constant(e.constant())},cf.apply(e,arguments)}function rC(){var e=V5(yb());return e.copy=function(){return _d(e,rC()).exponent(e.exponent())},cf.apply(e,arguments)}function y9(){return rC.apply(null,arguments).exponent(.5)}const v0=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:D5,scaleDiverging:FM,scaleDivergingLog:UM,scaleDivergingPow:rC,scaleDivergingSqrt:y9,scaleDivergingSymlog:LM,scaleIdentity:uM,scaleImplicit:lB,scaleLinear:AM,scaleLog:hM,scaleOrdinal:O5,scalePoint:aj,scalePow:q5,scaleQuantile:pM,scaleQuantize:gM,scaleRadial:dM,scaleSequential:SM,scaleSequentialLog:EM,scaleSequentialPow:tC,scaleSequentialQuantile:IM,scaleSequentialSqrt:m9,scaleSequentialSymlog:TM,scaleSqrt:Yj,scaleSymlog:fM,scaleThreshold:mM,scaleTime:p9,scaleUtc:g9,tickFormat:lM},Symbol.toStringTag,{value:"Module"}));var bd=e=>e.chartData,v9=Mt([bd],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),nC=(e,t,r,n)=>n?v9(e):bd(e);function pd(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Mo(t)&&Mo(r))return!0}return!1}function B3(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function MM(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,s,A;if(Mo(r))s=r;else if(typeof r=="function")return;if(Mo(n))A=n;else if(typeof n=="function")return;var d=[s,A];if(pd(d))return d}}function _9(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(pd(n))return B3(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[s,A]=e,d,l;if(s==="auto")t!=null&&(d=Math.min(...t));else if(Yr(s))d=s;else if(typeof s=="function")try{t!=null&&(d=s(t?.[0]))}catch{}else if(typeof s=="string"&&YE.test(s)){var y=YE.exec(s);if(y==null||t==null)d=void 0;else{var b=+y[1];d=t[0]-b}}else d=t?.[0];if(A==="auto")t!=null&&(l=Math.max(...t));else if(Yr(A))l=A;else if(typeof A=="function")try{t!=null&&(l=A(t?.[1]))}catch{}else if(typeof A=="string"&&JE.test(A)){var w=JE.exec(A);if(w==null||t==null)l=void 0;else{var S=+w[1];l=t[1]+S}}else l=t?.[1];var F=[d,l];if(pd(F))return t==null?F:B3(F,t,r)}}}var Yg=1e9,b9={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},aC,Da=!0,ac="[DecimalError] ",vp=ac+"Invalid argument: ",iC=ac+"Exponent out of range: ",Jg=Math.floor,op=Math.pow,w9=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,wu,Fo=1e7,xa=7,PM=9007199254740991,p_=Jg(PM/xa),Sr={};Sr.absoluteValue=Sr.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Sr.comparedTo=Sr.cmp=function(e){var t,r,n,s,A=this;if(e=new A.constructor(e),A.s!==e.s)return A.s||-e.s;if(A.e!==e.e)return A.e>e.e^A.s<0?1:-1;for(n=A.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(A.d[t]!==e.d[t])return A.d[t]>e.d[t]^A.s<0?1:-1;return n===s?0:n>s^A.s<0?1:-1};Sr.decimalPlaces=Sr.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*xa;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Sr.dividedBy=Sr.div=function(e){return Yh(this,new this.constructor(e))};Sr.dividedToIntegerBy=Sr.idiv=function(e){var t=this,r=t.constructor;return sa(Yh(t,new r(e),0,1),r.precision)};Sr.equals=Sr.eq=function(e){return!this.cmp(e)};Sr.exponent=function(){return zs(this)};Sr.greaterThan=Sr.gt=function(e){return this.cmp(e)>0};Sr.greaterThanOrEqualTo=Sr.gte=function(e){return this.cmp(e)>=0};Sr.isInteger=Sr.isint=function(){return this.e>this.d.length-2};Sr.isNegative=Sr.isneg=function(){return this.s<0};Sr.isPositive=Sr.ispos=function(){return this.s>0};Sr.isZero=function(){return this.s===0};Sr.lessThan=Sr.lt=function(e){return this.cmp(e)<0};Sr.lessThanOrEqualTo=Sr.lte=function(e){return this.cmp(e)<1};Sr.logarithm=Sr.log=function(e){var t,r=this,n=r.constructor,s=n.precision,A=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(wu))throw Error(ac+"NaN");if(r.s<1)throw Error(ac+(r.s?"NaN":"-Infinity"));return r.eq(wu)?new n(0):(Da=!1,t=Yh(G0(r,A),G0(e,A),A),Da=!0,sa(t,s))};Sr.minus=Sr.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?kM(t,e):OM(t,(e.s=-e.s,e))};Sr.modulo=Sr.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(ac+"NaN");return r.s?(Da=!1,t=Yh(r,e,0,1).times(e),Da=!0,r.minus(t)):sa(new n(r),s)};Sr.naturalExponential=Sr.exp=function(){return DM(this)};Sr.naturalLogarithm=Sr.ln=function(){return G0(this)};Sr.negated=Sr.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Sr.plus=Sr.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?OM(t,e):kM(t,(e.s=-e.s,e))};Sr.precision=Sr.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(vp+e);if(t=zs(s)+1,n=s.d.length-1,r=n*xa+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Sr.squareRoot=Sr.sqrt=function(){var e,t,r,n,s,A,d,l=this,y=l.constructor;if(l.s<1){if(!l.s)return new y(0);throw Error(ac+"NaN")}for(e=zs(l),Da=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=hh(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Jg((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new y(t)):n=new y(s.toString()),r=y.precision,s=d=r+3;;)if(A=n,n=A.plus(Yh(l,A,d+2)).times(.5),hh(A.d).slice(0,d)===(t=hh(n.d)).slice(0,d)){if(t=t.slice(d-3,d+1),s==d&&t=="4999"){if(sa(A,r+1,0),A.times(A).eq(l)){n=A;break}}else if(t!="9999")break;d+=4}return Da=!0,sa(n,r)};Sr.times=Sr.mul=function(e){var t,r,n,s,A,d,l,y,b,w=this,S=w.constructor,F=w.d,T=(e=new S(e)).d;if(!w.s||!e.s)return new S(0);for(e.s*=w.s,r=w.e+e.e,y=F.length,b=T.length,y<b&&(A=F,F=T,T=A,d=y,y=b,b=d),A=[],d=y+b,n=d;n--;)A.push(0);for(n=b;--n>=0;){for(t=0,s=y+n;s>n;)l=A[s]+T[n]*F[s-n-1]+t,A[s--]=l%Fo|0,t=l/Fo|0;A[s]=(A[s]+t)%Fo|0}for(;!A[--d];)A.pop();return t?++r:A.shift(),e.d=A,e.e=r,Da?sa(e,S.precision):e};Sr.toDecimalPlaces=Sr.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(_h(e,0,Yg),t===void 0?t=n.rounding:_h(t,0,8),sa(r,e+zs(r)+1,t))};Sr.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=Cp(n,!0):(_h(e,0,Yg),t===void 0?t=s.rounding:_h(t,0,8),n=sa(new s(n),e+1,t),r=Cp(n,!0,e+1)),r};Sr.toFixed=function(e,t){var r,n,s=this,A=s.constructor;return e===void 0?Cp(s):(_h(e,0,Yg),t===void 0?t=A.rounding:_h(t,0,8),n=sa(new A(s),e+zs(s)+1,t),r=Cp(n.abs(),!1,e+zs(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};Sr.toInteger=Sr.toint=function(){var e=this,t=e.constructor;return sa(new t(e),zs(e)+1,t.rounding)};Sr.toNumber=function(){return+this};Sr.toPower=Sr.pow=function(e){var t,r,n,s,A,d,l=this,y=l.constructor,b=12,w=+(e=new y(e));if(!e.s)return new y(wu);if(l=new y(l),!l.s){if(e.s<1)throw Error(ac+"Infinity");return l}if(l.eq(wu))return l;if(n=y.precision,e.eq(wu))return sa(l,n);if(t=e.e,r=e.d.length-1,d=t>=r,A=l.s,d){if((r=w<0?-w:w)<=PM){for(s=new y(wu),t=Math.ceil(n/xa+4),Da=!1;r%2&&(s=s.times(l),S3(s.d,t)),r=Jg(r/2),r!==0;)l=l.times(l),S3(l.d,t);return Da=!0,e.s<0?new y(wu).div(s):sa(s,n)}}else if(A<0)throw Error(ac+"NaN");return A=A<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Da=!1,s=e.times(G0(l,n+b)),Da=!0,s=DM(s),s.s=A,s};Sr.toPrecision=function(e,t){var r,n,s=this,A=s.constructor;return e===void 0?(r=zs(s),n=Cp(s,r<=A.toExpNeg||r>=A.toExpPos)):(_h(e,1,Yg),t===void 0?t=A.rounding:_h(t,0,8),s=sa(new A(s),e,t),r=zs(s),n=Cp(s,e<=r||r<=A.toExpNeg,e)),n};Sr.toSignificantDigits=Sr.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(_h(e,1,Yg),t===void 0?t=n.rounding:_h(t,0,8)),sa(new n(r),e,t)};Sr.toString=Sr.valueOf=Sr.val=Sr.toJSON=Sr[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=zs(e),r=e.constructor;return Cp(e,t<=r.toExpNeg||t>=r.toExpPos)};function OM(e,t){var r,n,s,A,d,l,y,b,w=e.constructor,S=w.precision;if(!e.s||!t.s)return t.s||(t=new w(e)),Da?sa(t,S):t;if(y=e.d,b=t.d,d=e.e,s=t.e,y=y.slice(),A=d-s,A){for(A<0?(n=y,A=-A,l=b.length):(n=b,s=d,l=y.length),d=Math.ceil(S/xa),l=d>l?d+1:l+1,A>l&&(A=l,n.length=1),n.reverse();A--;)n.push(0);n.reverse()}for(l=y.length,A=b.length,l-A<0&&(A=l,n=b,b=y,y=n),r=0;A;)r=(y[--A]=y[A]+b[A]+r)/Fo|0,y[A]%=Fo;for(r&&(y.unshift(r),++s),l=y.length;y[--l]==0;)y.pop();return t.d=y,t.e=s,Da?sa(t,S):t}function _h(e,t,r){if(e!==~~e||e<t||e>r)throw Error(vp+e)}function hh(e){var t,r,n,s=e.length-1,A="",d=e[0];if(s>0){for(A+=d,t=1;t<s;t++)n=e[t]+"",r=xa-n.length,r&&(A+=rd(r)),A+=n;d=e[t],n=d+"",r=xa-n.length,r&&(A+=rd(r))}else if(d===0)return"0";for(;d%10===0;)d/=10;return A+d}var Yh=(function(){function e(n,s){var A,d=0,l=n.length;for(n=n.slice();l--;)A=n[l]*s+d,n[l]=A%Fo|0,d=A/Fo|0;return d&&n.unshift(d),n}function t(n,s,A,d){var l,y;if(A!=d)y=A>d?1:-1;else for(l=y=0;l<A;l++)if(n[l]!=s[l]){y=n[l]>s[l]?1:-1;break}return y}function r(n,s,A){for(var d=0;A--;)n[A]-=d,d=n[A]<s[A]?1:0,n[A]=d*Fo+n[A]-s[A];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,A,d){var l,y,b,w,S,F,T,z,H,K,q,ne,W,le,ce,me,Ee,Ie,ge=n.constructor,je=n.s==s.s?1:-1,ie=n.d,de=s.d;if(!n.s)return new ge(n);if(!s.s)throw Error(ac+"Division by zero");for(y=n.e-s.e,Ee=de.length,ce=ie.length,T=new ge(je),z=T.d=[],b=0;de[b]==(ie[b]||0);)++b;if(de[b]>(ie[b]||0)&&--y,A==null?ne=A=ge.precision:d?ne=A+(zs(n)-zs(s))+1:ne=A,ne<0)return new ge(0);if(ne=ne/xa+2|0,b=0,Ee==1)for(w=0,de=de[0],ne++;(b<ce||w)&&ne--;b++)W=w*Fo+(ie[b]||0),z[b]=W/de|0,w=W%de|0;else{for(w=Fo/(de[0]+1)|0,w>1&&(de=e(de,w),ie=e(ie,w),Ee=de.length,ce=ie.length),le=Ee,H=ie.slice(0,Ee),K=H.length;K<Ee;)H[K++]=0;Ie=de.slice(),Ie.unshift(0),me=de[0],de[1]>=Fo/2&&++me;do w=0,l=t(de,H,Ee,K),l<0?(q=H[0],Ee!=K&&(q=q*Fo+(H[1]||0)),w=q/me|0,w>1?(w>=Fo&&(w=Fo-1),S=e(de,w),F=S.length,K=H.length,l=t(S,H,F,K),l==1&&(w--,r(S,Ee<F?Ie:de,F))):(w==0&&(l=w=1),S=de.slice()),F=S.length,F<K&&S.unshift(0),r(H,S,K),l==-1&&(K=H.length,l=t(de,H,Ee,K),l<1&&(w++,r(H,Ee<K?Ie:de,K))),K=H.length):l===0&&(w++,H=[0]),z[b++]=w,l&&H[0]?H[K++]=ie[le]||0:(H=[ie[le]],K=1);while((le++<ce||H[0]!==void 0)&&ne--)}return z[0]||z.shift(),T.e=y,sa(T,d?A+zs(T)+1:A)}})();function DM(e,t){var r,n,s,A,d,l,y=0,b=0,w=e.constructor,S=w.precision;if(zs(e)>16)throw Error(iC+zs(e));if(!e.s)return new w(wu);for(Da=!1,l=S,d=new w(.03125);e.abs().gte(.1);)e=e.times(d),b+=5;for(n=Math.log(op(2,b))/Math.LN10*2+5|0,l+=n,r=s=A=new w(wu),w.precision=l;;){if(s=sa(s.times(e),l),r=r.times(++y),d=A.plus(Yh(s,r,l)),hh(d.d).slice(0,l)===hh(A.d).slice(0,l)){for(;b--;)A=sa(A.times(A),l);return w.precision=S,t==null?(Da=!0,sa(A,S)):A}A=d}}function zs(e){for(var t=e.e*xa,r=e.d[0];r>=10;r/=10)t++;return t}function xx(e,t,r){if(t>e.LN10.sd())throw Da=!0,r&&(e.precision=r),Error(ac+"LN10 precision limit exceeded");return sa(new e(e.LN10),t)}function rd(e){for(var t="";e--;)t+="0";return t}function G0(e,t){var r,n,s,A,d,l,y,b,w,S=1,F=10,T=e,z=T.d,H=T.constructor,K=H.precision;if(T.s<1)throw Error(ac+(T.s?"NaN":"-Infinity"));if(T.eq(wu))return new H(0);if(t==null?(Da=!1,b=K):b=t,T.eq(10))return t==null&&(Da=!0),xx(H,b);if(b+=F,H.precision=b,r=hh(z),n=r.charAt(0),A=zs(T),Math.abs(A)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)T=T.times(e),r=hh(T.d),n=r.charAt(0),S++;A=zs(T),n>1?(T=new H("0."+r),A++):T=new H(n+"."+r.slice(1))}else return y=xx(H,b+2,K).times(A+""),T=G0(new H(n+"."+r.slice(1)),b-F).plus(y),H.precision=K,t==null?(Da=!0,sa(T,K)):T;for(l=d=T=Yh(T.minus(wu),T.plus(wu),b),w=sa(T.times(T),b),s=3;;){if(d=sa(d.times(w),b),y=l.plus(Yh(d,new H(s),b)),hh(y.d).slice(0,b)===hh(l.d).slice(0,b))return l=l.times(2),A!==0&&(l=l.plus(xx(H,b+2,K).times(A+""))),l=Yh(l,new H(S),b),H.precision=K,t==null?(Da=!0,sa(l,K)):l;l=y,s+=2}}function C3(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=Jg(r/xa),e.d=[],n=(r+1)%xa,r<0&&(n+=xa),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=xa;n<s;)e.d.push(+t.slice(n,n+=xa));t=t.slice(n),n=xa-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),Da&&(e.e>p_||e.e<-p_))throw Error(iC+r)}else e.s=0,e.e=0,e.d=[0];return e}function sa(e,t,r){var n,s,A,d,l,y,b,w,S=e.d;for(d=1,A=S[0];A>=10;A/=10)d++;if(n=t-d,n<0)n+=xa,s=t,b=S[w=0];else{if(w=Math.ceil((n+1)/xa),A=S.length,w>=A)return e;for(b=A=S[w],d=1;A>=10;A/=10)d++;n%=xa,s=n-xa+d}if(r!==void 0&&(A=op(10,d-s-1),l=b/A%10|0,y=t<0||S[w+1]!==void 0||b%A,y=r<4?(l||y)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||y||r==6&&(n>0?s>0?b/op(10,d-s):0:S[w-1])%10&1||r==(e.s<0?8:7))),t<1||!S[0])return y?(A=zs(e),S.length=1,t=t-A-1,S[0]=op(10,(xa-t%xa)%xa),e.e=Jg(-t/xa)||0):(S.length=1,S[0]=e.e=e.s=0),e;if(n==0?(S.length=w,A=1,w--):(S.length=w+1,A=op(10,xa-n),S[w]=s>0?(b/op(10,d-s)%op(10,s)|0)*A:0),y)for(;;)if(w==0){(S[0]+=A)==Fo&&(S[0]=1,++e.e);break}else{if(S[w]+=A,S[w]!=Fo)break;S[w--]=0,A=1}for(n=S.length;S[--n]===0;)S.pop();if(Da&&(e.e>p_||e.e<-p_))throw Error(iC+zs(e));return e}function kM(e,t){var r,n,s,A,d,l,y,b,w,S,F=e.constructor,T=F.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new F(e),Da?sa(t,T):t;if(y=e.d,S=t.d,n=t.e,b=e.e,y=y.slice(),d=b-n,d){for(w=d<0,w?(r=y,d=-d,l=S.length):(r=S,n=b,l=y.length),s=Math.max(Math.ceil(T/xa),l)+2,d>s&&(d=s,r.length=1),r.reverse(),s=d;s--;)r.push(0);r.reverse()}else{for(s=y.length,l=S.length,w=s<l,w&&(l=s),s=0;s<l;s++)if(y[s]!=S[s]){w=y[s]<S[s];break}d=0}for(w&&(r=y,y=S,S=r,t.s=-t.s),l=y.length,s=S.length-l;s>0;--s)y[l++]=0;for(s=S.length;s>d;){if(y[--s]<S[s]){for(A=s;A&&y[--A]===0;)y[A]=Fo-1;--y[A],y[s]+=Fo}y[s]-=S[s]}for(;y[--l]===0;)y.pop();for(;y[0]===0;y.shift())--n;return y[0]?(t.d=y,t.e=n,Da?sa(t,T):t):new F(0)}function Cp(e,t,r){var n,s=zs(e),A=hh(e.d),d=A.length;return t?(r&&(n=r-d)>0?A=A.charAt(0)+"."+A.slice(1)+rd(n):d>1&&(A=A.charAt(0)+"."+A.slice(1)),A=A+(s<0?"e":"e+")+s):s<0?(A="0."+rd(-s-1)+A,r&&(n=r-d)>0&&(A+=rd(n))):s>=d?(A+=rd(s+1-d),r&&(n=r-s-1)>0&&(A=A+"."+rd(n))):((n=s+1)<d&&(A=A.slice(0,n)+"."+A.slice(n)),r&&(n=r-d)>0&&(s+1===d&&(A+="."),A+=rd(n))),e.s<0?"-"+A:A}function S3(e,t){if(e.length>t)return e.length=t,!0}function QM(e){var t,r,n;function s(A){var d=this;if(!(d instanceof s))return new s(A);if(d.constructor=s,A instanceof s){d.s=A.s,d.e=A.e,d.d=(A=A.d)?A.slice():A;return}if(typeof A=="number"){if(A*0!==0)throw Error(vp+A);if(A>0)d.s=1;else if(A<0)A=-A,d.s=-1;else{d.s=0,d.e=0,d.d=[0];return}if(A===~~A&&A<1e7){d.e=0,d.d=[A];return}return C3(d,A.toString())}else if(typeof A!="string")throw Error(vp+A);if(A.charCodeAt(0)===45?(A=A.slice(1),d.s=-1):d.s=1,w9.test(A))C3(d,A);else throw Error(vp+A)}if(s.prototype=Sr,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=QM,s.config=s.set=x9,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function x9(e){if(!e||typeof e!="object")throw Error(ac+"Object expected");var t,r,n,s=["precision",1,Yg,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(Jg(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(vp+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(vp+r+": "+n);return this}var aC=QM(b9);wu=new aC(1);const Qi=aC;var B9=e=>e,NM={},RM=e=>e===NM,E3=e=>function t(){return arguments.length===0||arguments.length===1&&RM(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},zM=(e,t)=>e===1?t:E3(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];var A=n.filter(d=>d!==NM).length;return A>=e?t(...n):zM(e-A,E3(function(){for(var d=arguments.length,l=new Array(d),y=0;y<d;y++)l[y]=arguments[y];var b=n.map(w=>RM(w)?l.shift():w);return t(...b,...l)}))}),C9=e=>zM(e.length,e),hB=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},S9=C9((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),E9=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return B9;var s=r.reverse(),A=s[0],d=s.slice(1);return function(){return d.reduce((l,y)=>y(l),A(...arguments))}},fB=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function HM(e){var t;return e===0?t=1:t=Math.floor(new Qi(e).abs().log(10).toNumber())+1,t}function jM(e,t,r){for(var n=new Qi(e),s=0,A=[];n.lt(t)&&s<1e5;)A.push(n.toNumber()),n=n.add(r),s++;return A}var KM=e=>{var[t,r]=e,[n,s]=[t,r];return t>r&&([n,s]=[r,t]),[n,s]},VM=(e,t,r)=>{if(e.lte(0))return new Qi(0);var n=HM(e.toNumber()),s=new Qi(10).pow(n),A=e.div(s),d=n!==1?.05:.1,l=new Qi(Math.ceil(A.div(d).toNumber())).add(r).mul(d),y=l.mul(s);return t?new Qi(y.toNumber()):new Qi(Math.ceil(y.toNumber()))},T9=(e,t,r)=>{var n=new Qi(1),s=new Qi(e);if(!s.isint()&&r){var A=Math.abs(e);A<1?(n=new Qi(10).pow(HM(e)-1),s=new Qi(Math.floor(s.div(n).toNumber())).mul(n)):A>1&&(s=new Qi(Math.floor(e)))}else e===0?s=new Qi(Math.floor((t-1)/2)):r||(s=new Qi(Math.floor(e)));var d=Math.floor((t-1)/2),l=E9(S9(y=>s.add(new Qi(y-d).mul(n)).toNumber()),hB);return l(0,t)},qM=function(t,r,n,s){var A=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Qi(0),tickMin:new Qi(0),tickMax:new Qi(0)};var d=VM(new Qi(r).sub(t).div(n-1),s,A),l;t<=0&&r>=0?l=new Qi(0):(l=new Qi(t).add(r).div(2),l=l.sub(new Qi(l).mod(d)));var y=Math.ceil(l.sub(t).div(d).toNumber()),b=Math.ceil(new Qi(r).sub(l).div(d).toNumber()),w=y+b+1;return w>n?qM(t,r,n,s,A+1):(w<n&&(b=r>0?b+(n-w):b,y=r>0?y:y+(n-w)),{step:d,tickMin:l.sub(new Qi(y).mul(d)),tickMax:l.add(new Qi(b).mul(d))})},I9=function(t){var[r,n]=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,d=Math.max(s,2),[l,y]=KM([r,n]);if(l===-1/0||y===1/0){var b=y===1/0?[l,...hB(0,s-1).map(()=>1/0)]:[...hB(0,s-1).map(()=>-1/0),y];return r>n?fB(b):b}if(l===y)return T9(l,s,A);var{step:w,tickMin:S,tickMax:F}=qM(l,y,d,A,0),T=jM(S,F.add(new Qi(.1).mul(w)),w);return r>n?fB(T):T},F9=function(t,r){var[n,s]=t,A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[d,l]=KM([n,s]);if(d===-1/0||l===1/0)return[n,s];if(d===l)return[d];var y=Math.max(r,2),b=VM(new Qi(l).sub(d).div(y-1),A,0),w=[...jM(new Qi(d),new Qi(l),b),l];return A===!1&&(w=w.map(S=>Math.round(S))),n>s?fB(w):w},U9=e=>e.rootProps.barCategoryGap,vb=e=>e.rootProps.stackOffset,GM=e=>e.rootProps.reverseStackOrder,sC=e=>e.options.chartName,oC=e=>e.rootProps.syncId,$M=e=>e.rootProps.syncMethod,lC=e=>e.options.eventEmitter,cA={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Gh={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},bu={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},_b=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},L9={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Gh.angleAxisId,includeHidden:!1,name:void 0,reversed:Gh.reversed,scale:Gh.scale,tick:Gh.tick,tickCount:void 0,ticks:void 0,type:Gh.type,unit:void 0},M9={allowDataOverflow:bu.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:bu.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:bu.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:bu.scale,tick:bu.tick,tickCount:bu.tickCount,ticks:void 0,type:bu.type,unit:void 0},P9={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Gh.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Gh.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Gh.scale,tick:Gh.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},O9={allowDataOverflow:bu.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:bu.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:bu.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:bu.scale,tick:bu.tick,tickCount:bu.tickCount,ticks:void 0,type:"category",unit:void 0},AC=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?P9:L9,uC=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?O9:M9,bb=e=>e.polarOptions,cC=Mt([Af,uf,rl],FH),XM=Mt([bb,cC],(e,t)=>{if(e!=null)return dd(e.innerRadius,t,0)}),ZM=Mt([bb,cC],(e,t)=>{if(e!=null)return dd(e.outerRadius,t,t*.8)}),D9=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},WM=Mt([bb],D9);Mt([AC,WM],_b);var YM=Mt([cC,XM,ZM],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});Mt([uC,YM],_b);var JM=Mt([Ca,bb,XM,ZM,Af,uf],(e,t,r,n,s,A)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:d,cy:l,startAngle:y,endAngle:b}=t;return{cx:dd(d,s,s/2),cy:dd(l,A,A/2),innerRadius:r,outerRadius:n,startAngle:y,endAngle:b,clockWise:!1}}}),co=(e,t)=>t,wb=(e,t,r)=>r;function eP(e){return e?.id}function tP(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:s,dataKey:A}=r,d=new Map;return e.forEach(l=>{var y,b=(y=l.data)!==null&&y!==void 0?y:n;if(!(b==null||b.length===0)){var w=eP(l);b.forEach((S,F)=>{var T=A==null||s?F:String(Nl(S,A,null)),z=Nl(S,l.dataKey,0),H;d.has(T)?H=d.get(T):H={},Object.assign(H,{[w]:z}),d.set(T,H)})}}),Array.from(d.values())}function hC(e){return e.stackId!=null&&e.dataKey!=null}var xb=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Bb(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function k9(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var ho=e=>{var t=Ca(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},em=e=>e.tooltip.settings.axisId;function T3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function g_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T3(Object(r),!0).forEach(function(n){Q9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q9(e,t,r){return(t=N9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N9(e){var t=R9(e,"string");return typeof t=="symbol"?t:t+""}function R9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dB=[0,"auto"],To={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},rP=(e,t)=>e.cartesianAxis.xAxis[t],hf=(e,t)=>{var r=rP(e,t);return r??To},Io={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:dB,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:ly},nP=(e,t)=>e.cartesianAxis.yAxis[t],ff=(e,t)=>{var r=nP(e,t);return r??Io},z9={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},fC=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??z9},dA=(e,t,r)=>{switch(t){case"xAxis":return hf(e,r);case"yAxis":return ff(e,r);case"zAxis":return fC(e,r);case"angleAxis":return AC(e,r);case"radiusAxis":return uC(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},H9=(e,t,r)=>{switch(t){case"xAxis":return hf(e,r);case"yAxis":return ff(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},dy=(e,t,r)=>{switch(t){case"xAxis":return hf(e,r);case"yAxis":return ff(e,r);case"angleAxis":return AC(e,r);case"radiusAxis":return uC(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},iP=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function aP(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var sP=e=>e.graphicalItems.cartesianItems,j9=Mt([co,wb],aP),oP=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),py=Mt([sP,dA,j9],oP,{memoizeOptions:{resultEqualityCheck:Bb}}),lP=Mt([py],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(hC)),AP=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),K9=Mt([py],AP),uP=e=>e.map(t=>t.data).filter(Boolean).flat(1),V9=Mt([py],uP,{memoizeOptions:{resultEqualityCheck:Bb}}),cP=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:s}=t;return e.length>0?e:r.slice(n,s+1)},dC=Mt([V9,nC],cP),hP=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:Nl(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(s=>({value:Nl(s,n)}))):e.map(n=>({value:n})),Cb=Mt([dC,dA,py],hP);function fP(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function x1(e){if(mh(e)||e instanceof Date){var t=Number(e);if(Mo(t))return t}}function I3(e){if(Array.isArray(e)){var t=[x1(e[0]),x1(e[1])];return pd(t)?t:void 0}var r=x1(e);if(r!=null)return[r,r]}function of(e){return e.map(x1).filter(kQ)}function q9(e,t,r){return!r||typeof t!="number"||gh(t)?[]:r.length?of(r.flatMap(n=>{var s=Nl(e,n.dataKey),A,d;if(Array.isArray(s)?[A,d]=s:A=d=s,!(!Mo(A)||!Mo(d)))return[t-A,t+d]})):[]}var fo=e=>{var t=ho(e),r=em(e);return dy(e,t,r)},gy=Mt([fo],e=>e?.dataKey),G9=Mt([lP,nC,fo],tP),dP=(e,t,r,n)=>{var s={},A=t.reduce((d,l)=>(l.stackId==null||(d[l.stackId]==null&&(d[l.stackId]=[]),d[l.stackId].push(l)),d),s);return Object.fromEntries(Object.entries(A).map(d=>{var[l,y]=d,b=n?[...y].reverse():y,w=b.map(eP);return[l,{stackedData:AR(e,w,r),graphicalItems:b}]}))},$9=Mt([G9,lP,vb,GM],dP),pP=(e,t,r,n)=>{var{dataStartIndex:s,dataEndIndex:A}=t;if(n==null&&r!=="zAxis"){var d=hR(e,s,A);if(!(d!=null&&d[0]===0&&d[1]===0))return d}},X9=Mt([dA],e=>e.allowDataOverflow),pC=e=>{var t;if(e==null||!("domain"in e))return dB;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=of(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:dB},gP=Mt([dA],pC),mP=Mt([gP,X9],MM),Z9=Mt([$9,bd,co,mP],pP,{memoizeOptions:{resultEqualityCheck:xb}}),gC=e=>e.errorBars,W9=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>fP(r,n)),m_=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r.filter(Boolean);if(s.length!==0){var A=s.flat(),d=Math.min(...A),l=Math.max(...A);return[d,l]}},yP=(e,t,r,n,s)=>{var A,d;if(r.length>0&&e.forEach(l=>{r.forEach(y=>{var b,w,S=(b=n[y.id])===null||b===void 0?void 0:b.filter(q=>fP(s,q)),F=Nl(l,(w=t.dataKey)!==null&&w!==void 0?w:y.dataKey),T=q9(l,F,S);if(T.length>=2){var z=Math.min(...T),H=Math.max(...T);(A==null||z<A)&&(A=z),(d==null||H>d)&&(d=H)}var K=I3(F);K!=null&&(A=A==null?K[0]:Math.min(A,K[0]),d=d==null?K[1]:Math.max(d,K[1]))})}),t?.dataKey!=null&&e.forEach(l=>{var y=I3(Nl(l,t.dataKey));y!=null&&(A=A==null?y[0]:Math.min(A,y[0]),d=d==null?y[1]:Math.max(d,y[1]))}),Mo(A)&&Mo(d))return[A,d]},Y9=Mt([dC,dA,K9,gC,co],yP,{memoizeOptions:{resultEqualityCheck:xb}});function J9(e){var{value:t}=e;if(mh(t)||t instanceof Date)return t}var eK=(e,t,r)=>{var n=e.map(J9).filter(s=>s!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&EU(n))?YL(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},vP=e=>e.referenceElements.dots,tm=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),tK=Mt([vP,co,wb],tm),_P=e=>e.referenceElements.areas,rK=Mt([_P,co,wb],tm),bP=e=>e.referenceElements.lines,nK=Mt([bP,co,wb],tm),wP=(e,t)=>{var r=of(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},iK=Mt(tK,co,wP),xP=(e,t)=>{var r=of(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},aK=Mt([rK,co],xP);function sK(e){var t;if(e.x!=null)return of([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:of(r)}function oK(e){var t;if(e.y!=null)return of([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:of(r)}var BP=(e,t)=>{var r=e.flatMap(n=>t==="xAxis"?sK(n):oK(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},lK=Mt([nK,co],BP),AK=Mt(iK,lK,aK,(e,t,r)=>m_(e,r,t)),CP=(e,t,r,n,s,A,d,l)=>{if(r!=null)return r;var y=d==="vertical"&&l==="xAxis"||d==="horizontal"&&l==="yAxis",b=y?m_(n,A,s):m_(A,s);return _9(t,b,e.allowDataOverflow)},uK=Mt([dA,gP,mP,Z9,Y9,AK,Ca,co],CP,{memoizeOptions:{resultEqualityCheck:xb}}),cK=[0,1],SP=(e,t,r,n,s,A,d)=>{if(!((e==null||r==null||r.length===0)&&d===void 0)){var{dataKey:l,type:y}=e,b=yd(t,A);if(b&&l==null){var w;return YL(0,(w=r?.length)!==null&&w!==void 0?w:0)}return y==="category"?eK(n,e,b):s==="expand"?cK:d}},mC=Mt([dA,Ca,dC,Cb,vb,co,uK],SP),EP=(e,t,r,n,s)=>{if(e!=null){var{scale:A,type:d}=e;if(A==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":d==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":d==="category"?"band":"linear";if(typeof A=="string"){var l="scale".concat(ny(A));return l in v0?l:"point"}}},my=Mt([dA,Ca,iP,sC,co],EP);function hK(e){if(e!=null){if(e in v0)return v0[e]();var t="scale".concat(ny(e));if(t in v0)return v0[t]()}}function yC(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var s=hK(t);if(s!=null){var A=s.domain(r).range(n);return aR(A),A}}}var TP=(e,t,r)=>{var n=pC(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&pd(e))return I9(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&pd(e))return F9(e,t.tickCount,t.allowDecimals)}},vC=Mt([mC,dy,my],TP),IP=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&pd(t)&&Array.isArray(r)&&r.length>0){var s=t[0],A=r[0],d=t[1],l=r[r.length-1];return[Math.min(s,A),Math.max(d,l)]}return t},fK=Mt([dA,mC,vC,co],IP),dK=Mt(Cb,dA,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(of(e.map(l=>l.value))).sort((l,y)=>l-y);if(n.length<2)return 1/0;var s=n[n.length-1]-n[0];if(s===0)return 1/0;for(var A=0;A<n.length-1;A++){var d=n[A+1]-n[A];r=Math.min(r,d)}return r/s}}),FP=Mt(dK,Ca,U9,rl,(e,t,r,n)=>n,(e,t,r,n,s)=>{if(!Mo(e))return 0;var A=t==="vertical"?n.height:n.width;if(s==="gap")return e*A/2;if(s==="no-gap"){var d=dd(r,e*A),l=e*A/2;return l-d-(l-d)/A*d}return 0}),pK=(e,t)=>{var r=hf(e,t);return r==null||typeof r.padding!="string"?0:FP(e,"xAxis",t,r.padding)},gK=(e,t)=>{var r=ff(e,t);return r==null||typeof r.padding!="string"?0:FP(e,"yAxis",t,r.padding)},mK=Mt(hf,pK,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((r=s.left)!==null&&r!==void 0?r:0)+t,right:((n=s.right)!==null&&n!==void 0?n:0)+t}}),yK=Mt(ff,gK,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((r=s.top)!==null&&r!==void 0?r:0)+t,bottom:((n=s.bottom)!==null&&n!==void 0?n:0)+t}}),vK=Mt([rl,mK,sb,ab,(e,t,r)=>r],(e,t,r,n,s)=>{var{padding:A}=n;return s?[A.left,r.width-A.right]:[e.left+t.left,e.left+e.width-t.right]}),_K=Mt([rl,Ca,yK,sb,ab,(e,t,r)=>r],(e,t,r,n,s,A)=>{var{padding:d}=s;return A?[n.height-d.bottom,d.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),yy=(e,t,r,n)=>{var s;switch(t){case"xAxis":return vK(e,r,n);case"yAxis":return _K(e,r,n);case"zAxis":return(s=fC(e,r))===null||s===void 0?void 0:s.range;case"angleAxis":return WM(e);case"radiusAxis":return YM(e,r);default:return}},UP=Mt([dA,yy],_b),rm=Mt([dA,my,fK,UP],yC);Mt([py,gC,co],W9);function LP(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Sb=(e,t)=>t,Eb=(e,t,r)=>r,bK=Mt(nb,Sb,Eb,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(LP)),wK=Mt(ib,Sb,Eb,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(LP)),MP=(e,t)=>({width:e.width,height:t.height}),xK=(e,t)=>{var r=typeof t.width=="number"?t.width:ly;return{width:r,height:e.height}},BK=Mt(rl,hf,MP),CK=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},SK=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},EK=Mt(uf,rl,bK,Sb,Eb,(e,t,r,n,s)=>{var A={},d;return r.forEach(l=>{var y=MP(t,l);d==null&&(d=CK(t,n,e));var b=n==="top"&&!s||n==="bottom"&&s;A[l.id]=d-Number(b)*y.height,d+=(b?-1:1)*y.height}),A}),TK=Mt(Af,rl,wK,Sb,Eb,(e,t,r,n,s)=>{var A={},d;return r.forEach(l=>{var y=xK(t,l);d==null&&(d=SK(t,n,e));var b=n==="left"&&!s||n==="right"&&s;A[l.id]=d-Number(b)*y.width,d+=(b?-1:1)*y.width}),A}),IK=(e,t)=>{var r=hf(e,t);if(r!=null)return EK(e,r.orientation,r.mirror)},FK=Mt([rl,hf,IK,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var s=r?.[n];return s==null?{x:e.left,y:0}:{x:e.left,y:s}}}),UK=(e,t)=>{var r=ff(e,t);if(r!=null)return TK(e,r.orientation,r.mirror)},LK=Mt([rl,ff,UK,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var s=r?.[n];return s==null?{x:0,y:e.top}:{x:s,y:e.top}}}),MK=Mt(rl,ff,(e,t)=>{var r=typeof t.width=="number"?t.width:ly;return{width:r,height:e.height}}),PP=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:s,type:A,dataKey:d}=r,l=yd(e,n),y=t.map(b=>b.value);if(d&&l&&A==="category"&&s&&EU(y))return y}},_C=Mt([Ca,Cb,dA,co],PP),OP=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:s,scale:A}=r,d=yd(e,n);if(d&&(s==="number"||A!=="auto"))return t.map(l=>l.value)}},bC=Mt([Ca,Cb,dy,co],OP),F3=Mt([Ca,H9,my,rm,_C,bC,yy,vC,co],(e,t,r,n,s,A,d,l,y)=>{if(t!=null){var b=yd(e,y);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:y,categoricalDomain:A,duplicateDomain:s,isCategorical:b,niceTicks:l,range:d,realScaleType:r,scale:n}}}),PK=(e,t,r,n,s,A,d,l,y)=>{if(!(t==null||n==null)){var b=yd(e,y),{type:w,ticks:S,tickCount:F}=t,T=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,z=w==="category"&&n.bandwidth?n.bandwidth()/T:0;z=y==="angleAxis"&&A!=null&&A.length>=2?ec(A[0]-A[1])*2*z:z;var H=S||s;if(H){var K=H.map((q,ne)=>{var W=d?d.indexOf(q):q;return{index:ne,coordinate:n(W)+z,value:q,offset:z}});return K.filter(q=>Mo(q.coordinate))}return b&&l?l.map((q,ne)=>({coordinate:n(q)+z,value:q,index:ne,offset:z})).filter(q=>Mo(q.coordinate)):n.ticks?n.ticks(F).map(q=>({coordinate:n(q)+z,value:q,offset:z})):n.domain().map((q,ne)=>({coordinate:n(q)+z,value:d?d[q]:q,index:ne,offset:z}))}},DP=Mt([Ca,dy,my,rm,vC,yy,_C,bC,co],PK),OK=(e,t,r,n,s,A,d)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=yd(e,d),{tickCount:y}=t,b=0;return b=d==="angleAxis"&&n?.length>=2?ec(n[0]-n[1])*2*b:b,l&&A?A.map((w,S)=>({coordinate:r(w)+b,value:w,index:S,offset:b})):r.ticks?r.ticks(y).map(w=>({coordinate:r(w)+b,value:w,offset:b})):r.domain().map((w,S)=>({coordinate:r(w)+b,value:s?s[w]:w,index:S,offset:b}))}},kP=Mt([Ca,dy,rm,yy,_C,bC,co],OK),QP=Mt(dA,rm,(e,t)=>{if(!(e==null||t==null))return g_(g_({},e),{},{scale:t})}),DK=Mt([dA,my,mC,UP],yC);Mt((e,t,r)=>fC(e,r),DK,(e,t)=>{if(!(e==null||t==null))return g_(g_({},e),{},{scale:t})});var kK=Mt([Ca,nb,ib],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),NP=e=>e.options.defaultTooltipEventType,RP=e=>e.options.validateTooltipEventTypes;function zP(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function wC(e,t){var r=NP(e),n=RP(e);return zP(t,r,n)}function QK(e){return $r(t=>wC(t,e))}var HP=(e,t)=>{var r,n=Number(t);if(!(gh(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},NK=e=>e.tooltip.settings,ad={active:!1,index:null,dataKey:void 0,coordinate:void 0},RK={itemInteraction:{click:ad,hover:ad},axisInteraction:{click:ad,hover:ad},keyboardInteraction:ad,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},jP=$A({name:"tooltip",initialState:RK,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Oa()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,s=Mc(e).tooltipItemPayloads.indexOf(r);s>-1&&(e.tooltipItemPayloads[s]=n)},prepare:Oa()},removeTooltipEntrySettings:{reducer(e,t){var r=Mc(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Oa()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:zK,replaceTooltipEntrySettings:HK,removeTooltipEntrySettings:jK,setTooltipSettingsState:KK,setActiveMouseOverItemIndex:VK,mouseLeaveItem:Gse,mouseLeaveChart:KP,setActiveClickItemIndex:$se,setMouseOverAxisIndex:VP,setMouseClickAxisIndex:qK,setSyncInteraction:pB,setKeyboardInteraction:gB}=jP.actions,GK=jP.reducer;function U3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Qv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U3(Object(r),!0).forEach(function(n){$K(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $K(e,t,r){return(t=XK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XK(e){var t=ZK(e,"string");return typeof t=="symbol"?t:t+""}function ZK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WK(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function YK(e){return e.index!=null}var qP=(e,t,r,n)=>{if(t==null)return ad;var s=WK(e,t,r);if(s==null)return ad;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var A=e.settings.active===!0;if(YK(s)){if(A)return Qv(Qv({},s),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return Qv(Qv({},ad),{},{coordinate:s.coordinate})};function JK(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function eV(e,t){var r=JK(e),n=t[0],s=t[1];if(r===void 0)return!1;var A=Math.min(n,s),d=Math.max(n,s);return r>=A&&r<=d}function tV(e,t,r){if(r==null||t==null)return!0;var n=Nl(e,t);return n==null||!pd(r)?!0:eV(n,r)}var xC=(e,t,r,n)=>{var s=e?.index;if(s==null)return null;var A=Number(s);if(!Mo(A))return s;var d=0,l=1/0;t.length>0&&(l=t.length-1);var y=Math.max(d,Math.min(A,l)),b=t[y];return b==null||tV(b,r,n)?String(y):null},GP=(e,t,r,n,s,A,d,l)=>{if(!(A==null||l==null)){var y=d[0],b=y==null?void 0:l(y.positions,A);if(b!=null)return b;var w=s?.[Number(A)];if(w)switch(r){case"horizontal":return{x:w.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:w.coordinate}}}},$P=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;return r==="hover"?s=e.itemInteraction.hover.dataKey:s=e.itemInteraction.click.dataKey,s==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(A=>{var d;return((d=A.settings)===null||d===void 0?void 0:d.dataKey)===s})},vy=e=>e.options.tooltipPayloadSearcher,nm=e=>e.tooltip;function L3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function M3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L3(Object(r),!0).forEach(function(n){rV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rV(e,t,r){return(t=nV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nV(e){var t=iV(e,"string");return typeof t=="symbol"?t:t+""}function iV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aV(e,t){return e??t}var XP=(e,t,r,n,s,A,d)=>{if(!(t==null||A==null)){var{chartData:l,computedData:y,dataStartIndex:b,dataEndIndex:w}=r,S=[];return e.reduce((F,T)=>{var z,{dataDefinedOnItem:H,settings:K}=T,q=aV(H,l),ne=Array.isArray(q)?wL(q,b,w):q,W=(z=K?.dataKey)!==null&&z!==void 0?z:n,le=K?.nameKey,ce;if(n&&Array.isArray(ne)&&!Array.isArray(ne[0])&&d==="axis"?ce=TU(ne,n,s):ce=A(ne,t,y,le),Array.isArray(ce))ce.forEach(Ee=>{var Ie=M3(M3({},K),{},{name:Ee.name,unit:Ee.unit,color:void 0,fill:void 0});F.push(e4({tooltipEntrySettings:Ie,dataKey:Ee.dataKey,payload:Ee.payload,value:Nl(Ee.payload,Ee.dataKey),name:Ee.name}))});else{var me;F.push(e4({tooltipEntrySettings:K,dataKey:W,payload:ce,value:Nl(ce,W),name:(me=Nl(ce,le))!==null&&me!==void 0?me:K?.name}))}return F},S)}},BC=Mt([fo,Ca,iP,sC,ho],EP),sV=Mt([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),oV=Mt([ho,em],aP),_y=Mt([sV,fo,oV],oP,{memoizeOptions:{resultEqualityCheck:Bb}}),lV=Mt([_y],e=>e.filter(hC)),AV=Mt([_y],uP,{memoizeOptions:{resultEqualityCheck:Bb}}),im=Mt([AV,bd],cP),uV=Mt([lV,bd,fo],tP),CC=Mt([im,fo,_y],hP),ZP=Mt([fo],pC),cV=Mt([fo],e=>e.allowDataOverflow),WP=Mt([ZP,cV],MM),hV=Mt([_y],e=>e.filter(hC)),fV=Mt([uV,hV,vb,GM],dP),dV=Mt([fV,bd,ho,WP],pP),pV=Mt([_y],AP),gV=Mt([im,fo,pV,gC,ho],yP,{memoizeOptions:{resultEqualityCheck:xb}}),mV=Mt([vP,ho,em],tm),yV=Mt([mV,ho],wP),vV=Mt([_P,ho,em],tm),_V=Mt([vV,ho],xP),bV=Mt([bP,ho,em],tm),wV=Mt([bV,ho],BP),xV=Mt([yV,wV,_V],m_),BV=Mt([fo,ZP,WP,dV,gV,xV,Ca,ho],CP),by=Mt([fo,Ca,im,CC,vb,ho,BV],SP),CV=Mt([by,fo,BC],TP),SV=Mt([fo,by,CV,ho],IP),YP=e=>{var t=ho(e),r=em(e),n=!1;return yy(e,t,r,n)},JP=Mt([fo,YP],_b),eO=Mt([fo,BC,SV,JP],yC),EV=Mt([Ca,CC,fo,ho],PP),TV=Mt([Ca,CC,fo,ho],OP),IV=(e,t,r,n,s,A,d,l)=>{if(t){var{type:y}=t,b=yd(e,l);if(n){var w=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,S=y==="category"&&n.bandwidth?n.bandwidth()/w:0;return S=l==="angleAxis"&&s!=null&&s?.length>=2?ec(s[0]-s[1])*2*S:S,b&&d?d.map((F,T)=>({coordinate:n(F)+S,value:F,index:T,offset:S})):n.domain().map((F,T)=>({coordinate:n(F)+S,value:A?A[F]:F,index:T,offset:S}))}}},df=Mt([Ca,fo,BC,eO,YP,EV,TV,ho],IV),SC=Mt([NP,RP,NK],(e,t,r)=>zP(r.shared,e,t)),tO=e=>e.tooltip.settings.trigger,EC=e=>e.tooltip.settings.defaultIndex,Tb=Mt([nm,SC,tO,EC],qP),$0=Mt([Tb,im,gy,by],xC),rO=Mt([df,$0],HP),FV=Mt([Tb],e=>{if(e)return e.dataKey}),nO=Mt([nm,SC,tO,EC],$P),UV=Mt([Af,uf,Ca,rl,df,EC,nO,vy],GP),LV=Mt([Tb,UV],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),MV=Mt([Tb],e=>e.active),PV=Mt([nO,$0,bd,gy,rO,vy,SC],XP),OV=Mt([PV],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function P3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function O3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P3(Object(r),!0).forEach(function(n){DV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DV(e,t,r){return(t=kV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kV(e){var t=QV(e,"string");return typeof t=="symbol"?t:t+""}function QV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NV=()=>$r(fo),RV=()=>{var e=NV(),t=$r(df),r=$r(eO);return Z1(!e||!r?void 0:O3(O3({},e),{},{scale:r}),t)};function D3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function fg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D3(Object(r),!0).forEach(function(n){zV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zV(e,t,r){return(t=HV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HV(e){var t=jV(e,"string");return typeof t=="symbol"?t:t+""}function jV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KV=(e,t,r,n)=>{var s=t.find(A=>A&&A.index===r);if(s){if(e==="horizontal")return{x:s.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:s.coordinate}}return{x:0,y:0}},VV=(e,t,r,n)=>{var s=t.find(b=>b&&b.index===r);if(s){if(e==="centric"){var A=s.coordinate,{radius:d}=n;return fg(fg(fg({},n),el(n.cx,n.cy,d,A)),{},{angle:A,radius:d})}var l=s.coordinate,{angle:y}=n;return fg(fg(fg({},n),el(n.cx,n.cy,l,y)),{},{angle:y,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function qV(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var iO=(e,t,r,n,s)=>{var A,d=-1,l=(A=t?.length)!==null&&A!==void 0?A:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var y=0;y<l;y++){var b=y>0?r[y-1].coordinate:r[l-1].coordinate,w=r[y].coordinate,S=y>=l-1?r[0].coordinate:r[y+1].coordinate,F=void 0;if(ec(w-b)!==ec(S-w)){var T=[];if(ec(S-w)===ec(s[1]-s[0])){F=S;var z=w+s[1]-s[0];T[0]=Math.min(z,(z+b)/2),T[1]=Math.max(z,(z+b)/2)}else{F=b;var H=S+s[1]-s[0];T[0]=Math.min(w,(H+w)/2),T[1]=Math.max(w,(H+w)/2)}var K=[Math.min(w,(F+w)/2),Math.max(w,(F+w)/2)];if(e>K[0]&&e<=K[1]||e>=T[0]&&e<=T[1]){({index:d}=r[y]);break}}else{var q=Math.min(b,S),ne=Math.max(b,S);if(e>(q+w)/2&&e<=(ne+w)/2){({index:d}=r[y]);break}}}else if(t){for(var W=0;W<l;W++)if(W===0&&e<=(t[W].coordinate+t[W+1].coordinate)/2||W>0&&W<l-1&&e>(t[W].coordinate+t[W-1].coordinate)/2&&e<=(t[W].coordinate+t[W+1].coordinate)/2||W===l-1&&e>(t[W].coordinate+t[W-1].coordinate)/2){({index:d}=t[W]);break}}return d},GV=()=>$r(sC),TC=(e,t)=>t,aO=(e,t,r)=>r,IC=(e,t,r,n)=>n,$V=Mt(df,e=>$_(e,t=>t.coordinate)),FC=Mt([nm,TC,aO,IC],qP),UC=Mt([FC,im,gy,by],xC),XV=(e,t,r)=>{if(t!=null){var n=nm(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},sO=Mt([nm,TC,aO,IC],$P),y_=Mt([Af,uf,Ca,rl,df,IC,sO,vy],GP),ZV=Mt([FC,y_],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),oO=Mt([df,UC],HP),WV=Mt([sO,UC,bd,gy,oO,vy,TC],XP),YV=Mt([FC,UC],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),JV=(e,t,r,n,s,A,d)=>{if(!(!e||!r||!n||!s)&&qV(e,d)){var l=fR(e,t),y=iO(l,A,s,r,n),b=KV(t,s,y,e);return{activeIndex:String(y),activeCoordinate:b}}},eq=(e,t,r,n,s,A,d)=>{if(!(!e||!n||!s||!A||!r)){var l=OH(e,r);if(l){var y=dR(l,t),b=iO(y,d,A,n,s),w=VV(t,A,b,l);return{activeIndex:String(b),activeCoordinate:w}}}},tq=(e,t,r,n,s,A,d,l)=>{if(!(!e||!t||!n||!s||!A))return t==="horizontal"||t==="vertical"?JV(e,t,n,s,A,d,l):eq(e,t,r,n,s,A,d)},rq=Mt(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElementId:n.elementId}}),nq=Mt(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(cA)),r=Array.from(new Set(t));return r.sort((n,s)=>n-s)},{memoizeOptions:{resultEqualityCheck:k9}});function k3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Q3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k3(Object(r),!0).forEach(function(n){iq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iq(e,t,r){return(t=aq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aq(e){var t=sq(e,"string");return typeof t=="symbol"?t:t+""}function sq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oq={},lq={zIndexMap:Object.values(cA).reduce((e,t)=>Q3(Q3({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),oq)},Aq=new Set(Object.values(cA));function uq(e){return Aq.has(e)}var lO=$A({name:"zIndex",initialState:lq,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Oa()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!uq(r)&&delete e.zIndexMap[r])},prepare:Oa()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:n,isPanorama:s}=t.payload;e.zIndexMap[r]?s?e.zIndexMap[r].panoramaElementId=n:e.zIndexMap[r].elementId=n:e.zIndexMap[r]={consumers:0,elementId:s?void 0:n,panoramaElementId:s?n:void 0}},prepare:Oa()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:Oa()}}}),{registerZIndexPortal:cq,unregisterZIndexPortal:hq,registerZIndexPortalId:fq,unregisterZIndexPortalId:dq}=lO.actions,pq=lO.reducer;function pf(e){var{zIndex:t,children:r}=e,n=GR(),s=n&&t!==void 0&&t!==0,A=XA(),d=Hs();ae.useLayoutEffect(()=>s?(d(cq({zIndex:t})),()=>{d(hq({zIndex:t}))}):iy,[d,t,s]);var l=$r(b=>rq(b,t,A));if(!s)return r;if(!l)return null;var y=document.getElementById(l);return y?l5.createPortal(r,y):null}function mB(){return mB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mB.apply(null,arguments)}function N3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Nv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N3(Object(r),!0).forEach(function(n){gq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gq(e,t,r){return(t=mq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mq(e){var t=yq(e,"string");return typeof t=="symbol"?t:t+""}function yq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vq(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return ae.isValidElement(t)?ae.cloneElement(t,n):ae.createElement(r,n)}function _q(e){var t,{coordinate:r,payload:n,index:s,offset:A,tooltipAxisBandSize:d,layout:l,cursor:y,tooltipEventType:b,chartName:w}=e,S=r,F=n,T=s;if(!y||!S||w!=="ScatterChart"&&b!=="axis")return null;var z,H,K;if(w==="ScatterChart")z=S,H=Zz,K=cA.cursorLine;else if(w==="BarChart")z=Wz(l,S,A,d),H=$L,K=cA.cursorRectangle;else if(l==="radial"&&FU(S)){var{cx:q,cy:ne,radius:W,startAngle:le,endAngle:ce}=XL(S);z={cx:q,cy:ne,startAngle:le,endAngle:ce,innerRadius:W,outerRadius:W},H=WL,K=cA.cursorLine}else z={points:NH(l,S,A)},H=jL,K=cA.cursorLine;var me=typeof y=="object"&&"className"in y?y.className:void 0,Ee=Nv(Nv(Nv(Nv({stroke:"#ccc",pointerEvents:"none"},A),z),j_(y)),{},{payload:F,payloadIndex:T,className:$i("recharts-tooltip-cursor",me)});return ae.createElement(pf,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:K},ae.createElement(vq,{cursor:y,cursorComp:H,cursorProps:Ee}))}function bq(e){var t=RV(),r=ML(),n=lb(),s=GV();return t==null||r==null||n==null||s==null?null:ae.createElement(_q,mB({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:s}))}var AO=ae.createContext(null),wq=()=>ae.useContext(AO),Bx={exports:{}},R3;function xq(){return R3||(R3=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(y,b,w){this.fn=y,this.context=b,this.once=w||!1}function A(y,b,w,S,F){if(typeof w!="function")throw new TypeError("The listener must be a function");var T=new s(w,S||y,F),z=r?r+b:b;return y._events[z]?y._events[z].fn?y._events[z]=[y._events[z],T]:y._events[z].push(T):(y._events[z]=T,y._eventsCount++),y}function d(y,b){--y._eventsCount===0?y._events=new n:delete y._events[b]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var b=[],w,S;if(this._eventsCount===0)return b;for(S in w=this._events)t.call(w,S)&&b.push(r?S.slice(1):S);return Object.getOwnPropertySymbols?b.concat(Object.getOwnPropertySymbols(w)):b},l.prototype.listeners=function(b){var w=r?r+b:b,S=this._events[w];if(!S)return[];if(S.fn)return[S.fn];for(var F=0,T=S.length,z=new Array(T);F<T;F++)z[F]=S[F].fn;return z},l.prototype.listenerCount=function(b){var w=r?r+b:b,S=this._events[w];return S?S.fn?1:S.length:0},l.prototype.emit=function(b,w,S,F,T,z){var H=r?r+b:b;if(!this._events[H])return!1;var K=this._events[H],q=arguments.length,ne,W;if(K.fn){switch(K.once&&this.removeListener(b,K.fn,void 0,!0),q){case 1:return K.fn.call(K.context),!0;case 2:return K.fn.call(K.context,w),!0;case 3:return K.fn.call(K.context,w,S),!0;case 4:return K.fn.call(K.context,w,S,F),!0;case 5:return K.fn.call(K.context,w,S,F,T),!0;case 6:return K.fn.call(K.context,w,S,F,T,z),!0}for(W=1,ne=new Array(q-1);W<q;W++)ne[W-1]=arguments[W];K.fn.apply(K.context,ne)}else{var le=K.length,ce;for(W=0;W<le;W++)switch(K[W].once&&this.removeListener(b,K[W].fn,void 0,!0),q){case 1:K[W].fn.call(K[W].context);break;case 2:K[W].fn.call(K[W].context,w);break;case 3:K[W].fn.call(K[W].context,w,S);break;case 4:K[W].fn.call(K[W].context,w,S,F);break;default:if(!ne)for(ce=1,ne=new Array(q-1);ce<q;ce++)ne[ce-1]=arguments[ce];K[W].fn.apply(K[W].context,ne)}}return!0},l.prototype.on=function(b,w,S){return A(this,b,w,S,!1)},l.prototype.once=function(b,w,S){return A(this,b,w,S,!0)},l.prototype.removeListener=function(b,w,S,F){var T=r?r+b:b;if(!this._events[T])return this;if(!w)return d(this,T),this;var z=this._events[T];if(z.fn)z.fn===w&&(!F||z.once)&&(!S||z.context===S)&&d(this,T);else{for(var H=0,K=[],q=z.length;H<q;H++)(z[H].fn!==w||F&&!z[H].once||S&&z[H].context!==S)&&K.push(z[H]);K.length?this._events[T]=K.length===1?K[0]:K:d(this,T)}return this},l.prototype.removeAllListeners=function(b){var w;return b?(w=r?r+b:b,this._events[w]&&d(this,w)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(Bx)),Bx.exports}var Bq=xq();const Cq=bh(Bq);var X0=new Cq,yB="recharts.syncEvent.tooltip",z3="recharts.syncEvent.brush";function Sq(e,t){if(t){var r=Number.parseInt(t,10);if(!gh(r))return e?.[r]}}var Eq={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},uO=$A({name:"options",initialState:Eq,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Tq=uO.reducer,{createEventEmitter:Iq}=uO.actions;function Fq(e){return e.tooltip.syncInteraction}var Uq={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},cO=$A({name:"chartData",initialState:Uq,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:H3,setDataStartEndIndexes:Lq,setComputedData:Xse}=cO.actions,Mq=cO.reducer,Pq=["x","y"];function j3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function dg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j3(Object(r),!0).forEach(function(n){Oq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oq(e,t,r){return(t=Dq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dq(e){var t=kq(e,"string");return typeof t=="symbol"?t:t+""}function kq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qq(e,t){if(e==null)return{};var r,n,s=Nq(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Nq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Rq(){var e=$r(oC),t=$r(lC),r=Hs(),n=$r($M),s=$r(df),A=lb(),d=ob(),l=$r(y=>y.rootProps.className);ae.useEffect(()=>{if(e==null)return iy;var y=(b,w,S)=>{if(t!==S&&e===b){if(n==="index"){var F;if(d&&w!==null&&w!==void 0&&(F=w.payload)!==null&&F!==void 0&&F.coordinate&&w.payload.sourceViewBox){var T=w.payload.coordinate,{x:z,y:H}=T,K=Qq(T,Pq),{x:q,y:ne,width:W,height:le}=w.payload.sourceViewBox,ce=dg(dg({},K),{},{x:d.x+(W?(z-q)/W:0)*d.width,y:d.y+(le?(H-ne)/le:0)*d.height});r(dg(dg({},w),{},{payload:dg(dg({},w.payload),{},{coordinate:ce})}))}else r(w);return}if(s!=null){var me;if(typeof n=="function"){var Ee={activeTooltipIndex:w.payload.index==null?void 0:Number(w.payload.index),isTooltipActive:w.payload.active,activeIndex:w.payload.index==null?void 0:Number(w.payload.index),activeLabel:w.payload.label,activeDataKey:w.payload.dataKey,activeCoordinate:w.payload.coordinate},Ie=n(s,Ee);me=s[Ie]}else n==="value"&&(me=s.find(Pe=>String(Pe.value)===w.payload.label));var{coordinate:ge}=w.payload;if(me==null||w.payload.active===!1||ge==null||d==null){r(pB({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:je,y:ie}=ge,de=Math.min(je,d.x+d.width),Fe=Math.min(ie,d.y+d.height),Le={x:A==="horizontal"?me.coordinate:de,y:A==="horizontal"?Fe:me.coordinate},it=pB({active:w.payload.active,coordinate:Le,dataKey:w.payload.dataKey,index:String(me.index),label:w.payload.label,sourceViewBox:w.payload.sourceViewBox});r(it)}}};return X0.on(yB,y),()=>{X0.off(yB,y)}},[l,r,t,e,n,s,A,d])}function zq(){var e=$r(oC),t=$r(lC),r=Hs();ae.useEffect(()=>{if(e==null)return iy;var n=(s,A,d)=>{t!==d&&e===s&&r(Lq(A))};return X0.on(z3,n),()=>{X0.off(z3,n)}},[r,t,e])}function Hq(){var e=Hs();ae.useEffect(()=>{e(Iq())},[e]),Rq(),zq()}function jq(e,t,r,n,s,A){var d=$r(T=>XV(T,e,t)),l=$r(lC),y=$r(oC),b=$r($M),w=$r(Fq),S=w?.active,F=ob();ae.useEffect(()=>{if(!S&&y!=null&&l!=null){var T=pB({active:A,coordinate:r,dataKey:d,index:s,label:typeof n=="number"?String(n):n,sourceViewBox:F});X0.emit(yB,y,T,l)}},[S,r,d,s,n,l,y,b,A,F])}function K3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function V3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K3(Object(r),!0).forEach(function(n){Kq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kq(e,t,r){return(t=Vq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vq(e){var t=qq(e,"string");return typeof t=="symbol"?t:t+""}function qq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gq(e){return e.dataKey}function $q(e,t){return ae.isValidElement(e)?ae.cloneElement(e,t):typeof e=="function"?ae.createElement(e,t):ae.createElement(Tz,t)}var q3=[],Xq={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Zg.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function hO(e){var t,r,n=Rl(e,Xq),{active:s,allowEscapeViewBox:A,animationDuration:d,animationEasing:l,content:y,filterNull:b,isAnimationActive:w,offset:S,payloadUniqBy:F,position:T,reverseDirection:z,useTranslate3d:H,wrapperStyle:K,cursor:q,shared:ne,trigger:W,defaultIndex:le,portal:ce,axisId:me}=n,Ee=Hs(),Ie=typeof le=="number"?String(le):le;ae.useEffect(()=>{Ee(KK({shared:ne,trigger:W,axisId:me,active:s,defaultIndex:Ie}))},[Ee,ne,W,me,s,Ie]);var ge=ob(),je=HL(),ie=QK(ne),{activeIndex:de,isActive:Fe}=(t=$r(et=>YV(et,ie,W,Ie)))!==null&&t!==void 0?t:{},Le=$r(et=>WV(et,ie,W,Ie)),it=$r(et=>oO(et,ie,W,Ie)),Pe=$r(et=>ZV(et,ie,W,Ie)),ke=Le,Ge=wq(),Oe=(r=s??Fe)!==null&&r!==void 0?r:!1,[st,be]=qU([ke,Oe]),ee=ie==="axis"?it:void 0;jq(ie,W,Pe,ee,de,Oe);var ye=ce??Ge;if(ye==null||ge==null||ie==null)return null;var Te=ke??q3;Oe||(Te=q3),b&&Te.length&&(Te=zU(Te.filter(et=>et.value!=null&&(et.hide!==!0||n.includeHidden)),F,Gq));var Ne=Te.length>0,Ze=ae.createElement(Oz,{allowEscapeViewBox:A,animationDuration:d,animationEasing:l,isAnimationActive:w,active:Oe,coordinate:Pe,hasPayload:Ne,offset:S,position:T,reverseDirection:z,useTranslate3d:H,viewBox:ge,wrapperStyle:K,lastBoundingBox:st,innerRef:be,hasPortalFromProps:!!ce},$q(y,V3(V3({},n),{},{payload:Te,label:ee,active:Oe,activeIndex:de,coordinate:Pe,accessibilityLayer:je})));return ae.createElement(ae.Fragment,null,l5.createPortal(Ze,ye),Oe&&ae.createElement(bq,{cursor:q,tooltipEventType:ie,coordinate:Pe,payload:Te,index:de}))}function Zq(e,t,r){return(t=Wq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wq(e){var t=Yq(e,"string");return typeof t=="symbol"?t:t+""}function Yq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Jq{constructor(t){Zq(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function G3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function eG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G3(Object(r),!0).forEach(function(n){tG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tG(e,t,r){return(t=rG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rG(e){var t=nG(e,"string");return typeof t=="symbol"?t:t+""}function nG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iG={cacheSize:2e3,enableCache:!0},fO=eG({},iG),$3=new Jq(fO.cacheSize),aG={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},X3="recharts_measurement_span";function sG(e,t){var r=t.fontSize||"",n=t.fontFamily||"",s=t.fontWeight||"",A=t.fontStyle||"",d=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(s,"|").concat(A,"|").concat(d,"|").concat(l)}var Z3=(e,t)=>{try{var r=document.getElementById(X3);r||(r=document.createElement("span"),r.setAttribute("id",X3),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,aG,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},E0=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Zg.isSsr)return{width:0,height:0};if(!fO.enableCache)return Z3(t,r);var n=sG(t,r),s=$3.get(n);if(s)return s;var A=Z3(t,r);return $3.set(n,A),A},W3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Y3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,oG=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,lG=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,dO={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},AG=Object.keys(dO),Fg="NaN";function uG(e,t){return e*dO[t]}class KA{static parse(t){var r,[,n,s]=(r=lG.exec(t))!==null&&r!==void 0?r:[];return new KA(parseFloat(n),s??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,gh(t)&&(this.unit=""),r!==""&&!oG.test(r)&&(this.num=NaN,this.unit=""),AG.includes(r)&&(this.num=uG(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new KA(NaN,""):new KA(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new KA(NaN,""):new KA(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new KA(NaN,""):new KA(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new KA(NaN,""):new KA(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return gh(this.num)}}function pO(e){if(e.includes(Fg))return Fg;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,s,A]=(r=W3.exec(t))!==null&&r!==void 0?r:[],d=KA.parse(n??""),l=KA.parse(A??""),y=s==="*"?d.multiply(l):d.divide(l);if(y.isNaN())return Fg;t=t.replace(W3,y.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var b,[,w,S,F]=(b=Y3.exec(t))!==null&&b!==void 0?b:[],T=KA.parse(w??""),z=KA.parse(F??""),H=S==="+"?T.add(z):T.subtract(z);if(H.isNaN())return Fg;t=t.replace(Y3,H.toString())}return t}var J3=/\(([^()]*)\)/;function cG(e){for(var t=e,r;(r=J3.exec(t))!=null;){var[,n]=r;t=t.replace(J3,pO(n))}return t}function hG(e){var t=e.replace(/\s+/g,"");return t=cG(t),t=pO(t),t}function fG(e){try{return hG(e)}catch{return Fg}}function Cx(e){var t=fG(e.slice(5,-1));return t===Fg?"":t}var dG=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],pG=["dx","dy","angle","className","breakAll"];function vB(){return vB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vB.apply(null,arguments)}function eT(e,t){if(e==null)return{};var r,n,s=gG(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function gG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var gO=/[ \f\n\r\t\v\u2028\u2029]+/,mO=e=>{var{children:t,breakAll:r,style:n}=e;try{var s=[];Lo(t)||(r?s=t.toString().split(""):s=t.toString().split(gO));var A=s.map(l=>({word:l,width:E0(l,n).width})),d=r?0:E0("",n).width;return{wordsWithComputedWidth:A,spaceWidth:d}}catch{return null}};function mG(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var yO=(e,t,r,n)=>e.reduce((s,A)=>{var{word:d,width:l}=A,y=s[s.length-1];if(y&&l!=null&&(t==null||n||y.width+l+r<Number(t)))y.words.push(d),y.width+=l+r;else{var b={words:[d],width:l};s.push(b)}return s},[]),vO=e=>e.reduce((t,r)=>t.width>r.width?t:r),yG="",tT=(e,t,r,n,s,A,d,l)=>{var y=e.slice(0,t),b=mO({breakAll:r,style:n,children:y+yG});if(!b)return[!1,[]];var w=yO(b.wordsWithComputedWidth,A,d,l),S=w.length>s||vO(w).width>Number(A);return[S,w]},vG=(e,t,r,n,s)=>{var{maxLines:A,children:d,style:l,breakAll:y}=e,b=Yr(A),w=String(d),S=yO(t,n,r,s);if(!b||s)return S;var F=S.length>A||vO(S).width>Number(n);if(!F)return S;for(var T=0,z=w.length-1,H=0,K;T<=z&&H<=w.length-1;){var q=Math.floor((T+z)/2),ne=q-1,[W,le]=tT(w,ne,y,l,A,n,r,s),[ce]=tT(w,q,y,l,A,n,r,s);if(!W&&!ce&&(T=q+1),W&&ce&&(z=q-1),!W&&ce){K=le;break}H++}return K||S},rT=e=>{var t=Lo(e)?[]:e.toString().split(gO);return[{words:t,width:void 0}]},_G=e=>{var{width:t,scaleToFit:r,children:n,style:s,breakAll:A,maxLines:d}=e;if((t||r)&&!Zg.isSsr){var l,y,b=mO({breakAll:A,children:n,style:s});if(b){var{wordsWithComputedWidth:w,spaceWidth:S}=b;l=w,y=S}else return rT(n);return vG({breakAll:A,children:n,maxLines:d,style:s},l,y,t,!!r)}return rT(n)},_O="#808080",bG={angle:0,breakAll:!1,capHeight:"0.71em",fill:_O,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},LC=ae.forwardRef((e,t)=>{var r=Rl(e,bG),{x:n,y:s,lineHeight:A,capHeight:d,fill:l,scaleToFit:y,textAnchor:b,verticalAnchor:w}=r,S=eT(r,dG),F=ae.useMemo(()=>_G({breakAll:S.breakAll,children:S.children,maxLines:S.maxLines,scaleToFit:y,style:S.style,width:S.width}),[S.breakAll,S.children,S.maxLines,y,S.style,S.width]),{dx:T,dy:z,angle:H,className:K,breakAll:q}=S,ne=eT(S,pG);if(!mh(n)||!mh(s)||F.length===0)return null;var W=Number(n)+(Yr(T)?T:0),le=Number(s)+(Yr(z)?z:0);if(!Mo(W)||!Mo(le))return null;var ce;switch(w){case"start":ce=Cx("calc(".concat(d,")"));break;case"middle":ce=Cx("calc(".concat((F.length-1)/2," * -").concat(A," + (").concat(d," / 2))"));break;default:ce=Cx("calc(".concat(F.length-1," * -").concat(A,")"));break}var me=[];if(y){var Ee=F[0].width,{width:Ie}=S;me.push("scale(".concat(Yr(Ie)&&Yr(Ee)?Ie/Ee:1,")"))}return H&&me.push("rotate(".concat(H,", ").concat(W,", ").concat(le,")")),me.length&&(ne.transform=me.join(" ")),ae.createElement("text",vB({},hA(ne),{ref:t,x:W,y:le,className:$i("recharts-text",K),textAnchor:b,fill:l.includes("url")?_O:l}),F.map((ge,je)=>{var ie=ge.words.join(q?"":" ");return ae.createElement("tspan",{x:W,dy:je===0?ce:A,key:"".concat(ie,"-").concat(je)},ie)}))});LC.displayName="Text";var wG=["labelRef"];function xG(e,t){if(e==null)return{};var r,n,s=BG(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function BG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function nT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function vs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nT(Object(r),!0).forEach(function(n){CG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CG(e,t,r){return(t=SG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SG(e){var t=EG(e,"string");return typeof t=="symbol"?t:t+""}function EG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $h(){return $h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$h.apply(null,arguments)}var bO=ae.createContext(null),TG=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:s,width:A,height:d,children:l}=e,y=ae.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:s,width:A,height:d}),[t,r,n,s,A,d]);return ae.createElement(bO.Provider,{value:y},l)},wO=()=>{var e=ae.useContext(bO),t=ob();return e||LL(t)},IG=ae.createContext(null),FG=()=>{var e=ae.useContext(IG),t=$r(JM);return e||t},UG=e=>{var{value:t,formatter:r}=e,n=Lo(e.children)?t:e.children;return typeof r=="function"?r(n):n},MC=e=>e!=null&&typeof e=="function",LG=(e,t)=>{var r=ec(t-e),n=Math.min(Math.abs(t-e),360);return r*n},MG=(e,t,r,n,s)=>{var{offset:A,className:d}=e,{cx:l,cy:y,innerRadius:b,outerRadius:w,startAngle:S,endAngle:F,clockWise:T}=s,z=(b+w)/2,H=LG(S,F),K=H>=0?1:-1,q,ne;switch(t){case"insideStart":q=S+K*A,ne=T;break;case"insideEnd":q=F-K*A,ne=!T;break;case"end":q=F+K*A,ne=T;break;default:throw new Error("Unsupported position ".concat(t))}ne=H<=0?ne:!ne;var W=el(l,y,z,q),le=el(l,y,z,q+(ne?1:-1)*359),ce="M".concat(W.x,",").concat(W.y,`
    A`).concat(z,",").concat(z,",0,1,").concat(ne?0:1,`,
    `).concat(le.x,",").concat(le.y),me=Lo(e.id)?O0("recharts-radial-line-"):e.id;return ae.createElement("text",$h({},n,{dominantBaseline:"central",className:$i("recharts-radial-bar-label",d)}),ae.createElement("defs",null,ae.createElement("path",{id:me,d:ce})),ae.createElement("textPath",{xlinkHref:"#".concat(me)},r))},PG=(e,t,r)=>{var{cx:n,cy:s,innerRadius:A,outerRadius:d,startAngle:l,endAngle:y}=e,b=(l+y)/2;if(r==="outside"){var{x:w,y:S}=el(n,s,d+t,b);return{x:w,y:S,textAnchor:w>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"end"};var F=(A+d)/2,{x:T,y:z}=el(n,s,F,b);return{x:T,y:z,textAnchor:"middle",verticalAnchor:"middle"}},_B=e=>"cx"in e&&Yr(e.cx),OG=(e,t)=>{var{parentViewBox:r,offset:n,position:s}=e,A;r!=null&&!_B(r)&&(A=r);var{x:d,y:l,upperWidth:y,lowerWidth:b,height:w}=t,S=d,F=d+(y-b)/2,T=(S+F)/2,z=(y+b)/2,H=S+y/2,K=w>=0?1:-1,q=K*n,ne=K>0?"end":"start",W=K>0?"start":"end",le=y>=0?1:-1,ce=le*n,me=le>0?"end":"start",Ee=le>0?"start":"end";if(s==="top"){var Ie={x:S+y/2,y:l-q,textAnchor:"middle",verticalAnchor:ne};return vs(vs({},Ie),A?{height:Math.max(l-A.y,0),width:y}:{})}if(s==="bottom"){var ge={x:F+b/2,y:l+w+q,textAnchor:"middle",verticalAnchor:W};return vs(vs({},ge),A?{height:Math.max(A.y+A.height-(l+w),0),width:b}:{})}if(s==="left"){var je={x:T-ce,y:l+w/2,textAnchor:me,verticalAnchor:"middle"};return vs(vs({},je),A?{width:Math.max(je.x-A.x,0),height:w}:{})}if(s==="right"){var ie={x:T+z+ce,y:l+w/2,textAnchor:Ee,verticalAnchor:"middle"};return vs(vs({},ie),A?{width:Math.max(A.x+A.width-ie.x,0),height:w}:{})}var de=A?{width:z,height:w}:{};return s==="insideLeft"?vs({x:T+ce,y:l+w/2,textAnchor:Ee,verticalAnchor:"middle"},de):s==="insideRight"?vs({x:T+z-ce,y:l+w/2,textAnchor:me,verticalAnchor:"middle"},de):s==="insideTop"?vs({x:S+y/2,y:l+q,textAnchor:"middle",verticalAnchor:W},de):s==="insideBottom"?vs({x:F+b/2,y:l+w-q,textAnchor:"middle",verticalAnchor:ne},de):s==="insideTopLeft"?vs({x:S+ce,y:l+q,textAnchor:Ee,verticalAnchor:W},de):s==="insideTopRight"?vs({x:S+y-ce,y:l+q,textAnchor:me,verticalAnchor:W},de):s==="insideBottomLeft"?vs({x:F+ce,y:l+w-q,textAnchor:Ee,verticalAnchor:ne},de):s==="insideBottomRight"?vs({x:F+b-ce,y:l+w-q,textAnchor:me,verticalAnchor:ne},de):s&&typeof s=="object"&&(Yr(s.x)||tf(s.x))&&(Yr(s.y)||tf(s.y))?vs({x:d+dd(s.x,z),y:l+dd(s.y,w),textAnchor:"end",verticalAnchor:"end"},de):vs({x:H,y:l+w/2,textAnchor:"middle",verticalAnchor:"middle"},de)},DG={angle:0,offset:5,zIndex:cA.label,position:"middle",textBreakAll:!1};function nd(e){var t=Rl(e,DG),{viewBox:r,position:n,value:s,children:A,content:d,className:l="",textBreakAll:y,labelRef:b}=t,w=FG(),S=wO(),F=n==="center"?S:w??S,T,z,H;if(r==null?T=F:_B(r)?T=r:T=LL(r),!T||Lo(s)&&Lo(A)&&!ae.isValidElement(d)&&typeof d!="function")return null;var K=vs(vs({},t),{},{viewBox:T});if(ae.isValidElement(d)){var{labelRef:q}=K,ne=xG(K,wG);return ae.cloneElement(d,ne)}if(typeof d=="function"){if(z=ae.createElement(d,K),ae.isValidElement(z))return z}else z=UG(t);var W=hA(t);if(_B(T)){if(n==="insideStart"||n==="insideEnd"||n==="end")return MG(t,n,z,W,T);H=PG(T,t.offset,t.position)}else H=OG(t,T);return ae.createElement(pf,{zIndex:t.zIndex},ae.createElement(LC,$h({ref:b,className:$i("recharts-label",l)},W,H,{textAnchor:mG(W.textAnchor)?W.textAnchor:H.textAnchor,breakAll:y}),z))}nd.displayName="Label";var kG=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?ae.createElement(nd,$h({key:"label-implicit"},n)):mh(e)?ae.createElement(nd,$h({key:"label-implicit",value:e},n)):ae.isValidElement(e)?e.type===nd?ae.cloneElement(e,vs({key:"label-implicit"},n)):ae.createElement(nd,$h({key:"label-implicit",content:e},n)):MC(e)?ae.createElement(nd,$h({key:"label-implicit",content:e},n)):e&&typeof e=="object"?ae.createElement(nd,$h({},e,{key:"label-implicit"},n)):null};function QG(e){var{label:t,labelRef:r}=e,n=wO();return kG(t,n,r)||null}var Sx={},Ex={},iT;function NG(){return iT||(iT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(Ex)),Ex}var Tx={},aT;function RG(){return aT||(aT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(Tx)),Tx}var sT;function zG(){return sT||(sT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NG(),r=RG(),n=m5();function s(A){if(n.isArrayLike(A))return t.last(r.toArray(A))}e.last=s})(Sx)),Sx}var Ix,oT;function HG(){return oT||(oT=1,Ix=zG().last),Ix}var jG=HG();const KG=bh(jG);var VG=["valueAccessor"],qG=["dataKey","clockWise","id","textBreakAll","zIndex"];function v_(){return v_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v_.apply(null,arguments)}function lT(e,t){if(e==null)return{};var r,n,s=GG(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function GG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $G=e=>Array.isArray(e.value)?KG(e.value):e.value,xO=ae.createContext(void 0),XG=xO.Provider,BO=ae.createContext(void 0);BO.Provider;function ZG(){return ae.useContext(xO)}function WG(){return ae.useContext(BO)}function B1(e){var{valueAccessor:t=$G}=e,r=lT(e,VG),{dataKey:n,clockWise:s,id:A,textBreakAll:d,zIndex:l}=r,y=lT(r,qG),b=ZG(),w=WG(),S=b||w;return!S||!S.length?null:ae.createElement(pf,{zIndex:l??cA.label},ae.createElement(fd,{className:"recharts-label-list"},S.map((F,T)=>{var z,H=Lo(n)?t(F,T):Nl(F&&F.payload,n),K=Lo(A)?{}:{id:"".concat(A,"-").concat(T)};return ae.createElement(nd,v_({key:"label-".concat(T)},hA(F),y,K,{fill:(z=r.fill)!==null&&z!==void 0?z:F.fill,parentViewBox:F.parentViewBox,value:H,textBreakAll:d,viewBox:F.viewBox,index:T,zIndex:0}))})))}B1.displayName="LabelList";function YG(e){var{label:t}=e;return t?t===!0?ae.createElement(B1,{key:"labelList-implicit"}):ae.isValidElement(t)||MC(t)?ae.createElement(B1,{key:"labelList-implicit",content:t}):typeof t=="object"?ae.createElement(B1,v_({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function bB(){return bB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bB.apply(null,arguments)}var CO=e=>{var{cx:t,cy:r,r:n,className:s}=e,A=$i("recharts-dot",s);return Yr(t)&&Yr(r)&&Yr(n)?ae.createElement("circle",bB({},ph(e),g5(e),{className:A,cx:t,cy:r,r:n})):null},JG={radiusAxis:{},angleAxis:{}},SO=$A({name:"polarAxis",initialState:JG,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Zse,removeRadiusAxis:Wse,addAngleAxis:Yse,removeAngleAxis:Jse}=SO.actions,e$=SO.reducer,EO=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,Fx={},AT;function t$(){return AT||(AT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(Fx)),Fx}var Ux,uT;function r$(){return uT||(uT=1,Ux=t$().isPlainObject),Ux}var n$=r$();const i$=bh(n$);function cT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cT(Object(r),!0).forEach(function(n){a$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a$(e,t,r){return(t=s$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s$(e){var t=o$(e,"string");return typeof t=="symbol"?t:t+""}function o$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function __(){return __=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},__.apply(null,arguments)}var fT=(e,t,r,n,s)=>{var A=r-n,d;return d="M ".concat(e,",").concat(t),d+="L ".concat(e+r,",").concat(t),d+="L ".concat(e+r-A/2,",").concat(t+s),d+="L ".concat(e+r-A/2-n,",").concat(t+s),d+="L ".concat(e,",").concat(t," Z"),d},l$={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},A$=e=>{var t=Rl(e,l$),{x:r,y:n,upperWidth:s,lowerWidth:A,height:d,className:l}=t,{animationEasing:y,animationDuration:b,animationBegin:w,isUpdateAnimationActive:S}=t,F=ae.useRef(null),[T,z]=ae.useState(-1),H=ae.useRef(s),K=ae.useRef(A),q=ae.useRef(d),ne=ae.useRef(r),W=ae.useRef(n),le=M5(e,"trapezoid-");if(ae.useEffect(()=>{if(F.current&&F.current.getTotalLength)try{var Le=F.current.getTotalLength();Le&&z(Le)}catch{}},[]),r!==+r||n!==+n||s!==+s||A!==+A||d!==+d||s===0&&A===0||d===0)return null;var ce=$i("recharts-trapezoid",l);if(!S)return ae.createElement("g",null,ae.createElement("path",__({},hA(t),{className:ce,d:fT(r,n,s,A,d)})));var me=H.current,Ee=K.current,Ie=q.current,ge=ne.current,je=W.current,ie="0px ".concat(T===-1?1:T,"px"),de="".concat(T,"px 0px"),Fe=KL(["strokeDasharray"],b,y);return ae.createElement(L5,{animationId:le,key:le,canBegin:T>0,duration:b,easing:y,isActive:S,begin:w},Le=>{var it=qA(me,s,Le),Pe=qA(Ee,A,Le),ke=qA(Ie,d,Le),Ge=qA(ge,r,Le),Oe=qA(je,n,Le);F.current&&(H.current=it,K.current=Pe,q.current=ke,ne.current=Ge,W.current=Oe);var st=Le>0?{transition:Fe,strokeDasharray:de}:{strokeDasharray:ie};return ae.createElement("path",__({},hA(t),{className:ce,d:fT(Ge,Oe,it,Pe,ke),ref:F,style:hT(hT({},st),t.style)}))})},u$=["option","shapeType","propTransformer","activeClassName"];function c$(e,t){if(e==null)return{};var r,n,s=h$(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function h$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function dT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function b_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dT(Object(r),!0).forEach(function(n){f$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function f$(e,t,r){return(t=d$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d$(e){var t=p$(e,"string");return typeof t=="symbol"?t:t+""}function p$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function g$(e,t){return b_(b_({},t),e)}function m$(e,t){return e==="symbols"}function pT(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return ae.createElement($L,r);case"trapezoid":return ae.createElement(A$,r);case"sector":return ae.createElement(WL,r);case"symbols":if(m$(t))return ae.createElement(p5,r);break;case"curve":return ae.createElement(jL,r);default:return null}}function y$(e){return ae.isValidElement(e)?e.props:e}function v$(e){var{option:t,shapeType:r,propTransformer:n=g$,activeClassName:s="recharts-active-shape"}=e,A=c$(e,u$),d;if(ae.isValidElement(t))d=ae.cloneElement(t,b_(b_({},A),y$(t)));else if(typeof t=="function")d=t(A);else if(i$(t)&&typeof t!="boolean"){var l=n(t,A);d=ae.createElement(pT,{shapeType:r,elementProps:l})}else{var y=A;d=ae.createElement(pT,{shapeType:r,elementProps:y})}return A.isActive?ae.createElement(fd,{className:s},d):d}function _$(e){var{tooltipEntrySettings:t}=e,r=Hs(),n=XA(),s=ae.useRef(null);return ae.useLayoutEffect(()=>{n||(s.current===null?r(zK(t)):s.current!==t&&r(HK({prev:s.current,next:t})),s.current=t)},[t,r,n]),ae.useLayoutEffect(()=>()=>{s.current&&(r(jK(s.current)),s.current=null)},[r]),null}function b$(e){var{legendPayload:t}=e,r=Hs(),n=XA(),s=ae.useRef(null);return ae.useLayoutEffect(()=>{n||(s.current===null?r(oz(t)):s.current!==t&&r(lz({prev:s.current,next:t})),s.current=t)},[r,n,t]),ae.useLayoutEffect(()=>()=>{s.current&&(r(Az(s.current)),s.current=null)},[r]),null}var Lx,w$=()=>{var[e]=ae.useState(()=>O0("uid-"));return e},x$=(Lx=hk.useId)!==null&&Lx!==void 0?Lx:w$;function TO(e,t){var r=x$();return t||(e?"".concat(e,"-").concat(r):r)}var B$=ae.createContext(void 0),C$=e=>{var{id:t,type:r,children:n}=e,s=TO("recharts-".concat(r),t);return ae.createElement(B$.Provider,{value:s},n(s))},S$={cartesianItems:[],polarItems:[]},IO=$A({name:"graphicalItems",initialState:S$,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Oa()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,s=Mc(e).cartesianItems.indexOf(r);s>-1&&(e.cartesianItems[s]=n)},prepare:Oa()},removeCartesianGraphicalItem:{reducer(e,t){var r=Mc(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Oa()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Oa()},removePolarGraphicalItem:{reducer(e,t){var r=Mc(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Oa()}}}),{addCartesianGraphicalItem:E$,replaceCartesianGraphicalItem:T$,removeCartesianGraphicalItem:I$,addPolarGraphicalItem:eoe,removePolarGraphicalItem:toe}=IO.actions,F$=IO.reducer,U$=e=>{var t=Hs(),r=ae.useRef(null);return ae.useLayoutEffect(()=>{r.current===null?t(E$(e)):r.current!==e&&t(T$({prev:r.current,next:e})),r.current=e},[t,e]),ae.useLayoutEffect(()=>()=>{r.current&&(t(I$(r.current)),r.current=null)},[t]),null},L$=ae.memo(U$),M$=["points"];function gT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Mx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gT(Object(r),!0).forEach(function(n){P$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P$(e,t,r){return(t=O$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O$(e){var t=D$(e,"string");return typeof t=="symbol"?t:t+""}function D$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function w_(){return w_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w_.apply(null,arguments)}function k$(e,t){if(e==null)return{};var r,n,s=Q$(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Q$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function N$(e){var{option:t,dotProps:r,className:n}=e;if(ae.isValidElement(t))return ae.cloneElement(t,r);if(typeof t=="function")return t(r);var s=$i(n,typeof t!="boolean"?t.className:""),A=r??{},{points:d}=A,l=k$(A,M$);return ae.createElement(CO,w_({},l,{className:s}))}function R$(e,t){return e==null?!1:t?!0:e.length===1}function z$(e){var{points:t,dot:r,className:n,dotClassName:s,dataKey:A,baseProps:d,needClip:l,clipPathId:y,zIndex:b=cA.scatter}=e;if(!R$(t,r))return null;var w=EO(r),S=Vk(r),F=t.map((z,H)=>{var K,q,ne=Mx(Mx(Mx({r:3},d),S),{},{index:H,cx:(K=z.x)!==null&&K!==void 0?K:void 0,cy:(q=z.y)!==null&&q!==void 0?q:void 0,dataKey:A,value:z.value,payload:z.payload,points:t});return ae.createElement(N$,{key:"dot-".concat(H),option:r,dotProps:ne,className:s})}),T={};return l&&y!=null&&(T.clipPath="url(#clipPath-".concat(w?"":"dots-").concat(y,")")),ae.createElement(pf,{zIndex:b},ae.createElement(fd,w_({className:n},T),F))}function mT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function yT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mT(Object(r),!0).forEach(function(n){H$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H$(e,t,r){return(t=j$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j$(e){var t=K$(e,"string");return typeof t=="symbol"?t:t+""}function K$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var V$={xAxis:{},yAxis:{},zAxis:{}},FO=$A({name:"cartesianAxis",initialState:V$,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Oa()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Oa()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Oa()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Oa()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Oa()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Oa()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Oa()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Oa()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Oa()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,s=e.yAxis[r];if(s){var A=s.widthHistory||[];if(A.length===3&&A[0]===A[2]&&n===A[1]&&n!==s.width&&Math.abs(n-A[0])<=1)return;var d=[...A,n].slice(-3);e.yAxis[r]=yT(yT({},e.yAxis[r]),{},{width:n,widthHistory:d})}}}}),{addXAxis:q$,replaceXAxis:G$,removeXAxis:$$,addYAxis:X$,replaceYAxis:Z$,removeYAxis:W$,addZAxis:roe,replaceZAxis:noe,removeZAxis:ioe,updateYAxisWidth:Y$}=FO.actions,J$=FO.reducer,eX=Mt([rl],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),tX=Mt([eX,Af,uf],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),PC=()=>$r(tX),rX=()=>$r(OV);function vT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Px(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vT(Object(r),!0).forEach(function(n){nX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nX(e,t,r){return(t=iX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iX(e){var t=aX(e,"string");return typeof t=="symbol"?t:t+""}function aX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sX=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:s,dataKey:A,clipPath:d}=e;if(s===!1||t.x==null||t.y==null)return null;var l={index:r,dataKey:A,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},y=Px(Px(Px({},l),j_(s)),g5(s)),b;return ae.isValidElement(s)?b=ae.cloneElement(s,y):typeof s=="function"?b=s(y):b=ae.createElement(CO,y),ae.createElement(fd,{className:"recharts-active-dot",clipPath:d},b)};function oX(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:s,clipPath:A,zIndex:d=cA.activeDot}=e,l=$r($0),y=rX();if(t==null||y==null)return null;var b=t.find(w=>y.includes(w.payload));return Lo(b)?null:ae.createElement(pf,{zIndex:d},ae.createElement(sX,{point:b,childIndex:Number(l),mainColor:r,dataKey:s,activeDot:n,clipPath:A}))}var lX={},UO=$A({name:"errorBars",initialState:lX,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:s}=t.payload;e[r]&&(e[r]=e[r].map(A=>A.dataKey===n.dataKey&&A.direction===n.direction?s:A))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(s=>s.dataKey!==n.dataKey||s.direction!==n.direction))}}}),{addErrorBar:aoe,replaceErrorBar:soe,removeErrorBar:ooe}=UO.actions,AX=UO.reducer,uX=["children"];function cX(e,t){if(e==null)return{};var r,n,s=hX(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function hX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var fX={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},dX=ae.createContext(fX);function pX(e){var{children:t}=e,r=cX(e,uX);return ae.createElement(dX.Provider,{value:r},t)}function LO(e,t){var r,n,s=$r(b=>hf(b,e)),A=$r(b=>ff(b,t)),d=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:To.allowDataOverflow,l=(n=A?.allowDataOverflow)!==null&&n!==void 0?n:Io.allowDataOverflow,y=d||l;return{needClip:y,needClipX:d,needClipY:l}}function gX(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,s=PC(),{needClipX:A,needClipY:d,needClip:l}=LO(t,r);if(!l||!s)return null;var{x:y,y:b,width:w,height:S}=s;return ae.createElement("clipPath",{id:"clipPath-".concat(n)},ae.createElement("rect",{x:A?y:y-w/2,y:d?b:b-S/2,width:A?w:w*2,height:d?S:S*2}))}var Ox={exports:{}},Dx={};var _T;function mX(){if(_T)return Dx;_T=1;var e=Xg();function t(y,b){return y===b&&(y!==0||1/y===1/b)||y!==y&&b!==b}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,s=e.useRef,A=e.useEffect,d=e.useMemo,l=e.useDebugValue;return Dx.useSyncExternalStoreWithSelector=function(y,b,w,S,F){var T=s(null);if(T.current===null){var z={hasValue:!1,value:null};T.current=z}else z=T.current;T=d(function(){function K(ce){if(!q){if(q=!0,ne=ce,ce=S(ce),F!==void 0&&z.hasValue){var me=z.value;if(F(me,ce))return W=me}return W=ce}if(me=W,r(ne,ce))return me;var Ee=S(ce);return F!==void 0&&F(me,Ee)?(ne=ce,me):(ne=ce,W=Ee)}var q=!1,ne,W,le=w===void 0?null:w;return[function(){return K(b())},le===null?void 0:function(){return K(le())}]},[b,w,S,F]);var H=n(y,T[0],T[1]);return A(function(){z.hasValue=!0,z.value=H},[H]),l(H),H},Dx}var bT;function yX(){return bT||(bT=1,Ox.exports=mX()),Ox.exports}yX();function vX(e){e()}function _X(){let e=null,t=null;return{clear(){e=null,t=null},notify(){vX(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const s=t={callback:r,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!n||e===null||(n=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var wT={notify(){},get:()=>[]};function bX(e,t){let r,n=wT,s=0,A=!1;function d(H){w();const K=n.subscribe(H);let q=!1;return()=>{q||(q=!0,K(),S())}}function l(){n.notify()}function y(){z.onStateChange&&z.onStateChange()}function b(){return A}function w(){s++,r||(r=e.subscribe(y),n=_X())}function S(){s--,r&&s===0&&(r(),r=void 0,n.clear(),n=wT)}function F(){A||(A=!0,w())}function T(){A&&(A=!1,S())}const z={addNestedSub:d,notifyNestedSubs:l,handleChangeWrapper:y,isSubscribed:b,trySubscribe:F,tryUnsubscribe:T,getListeners:()=>n};return z}var wX=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xX=wX(),BX=()=>typeof navigator<"u"&&navigator.product==="ReactNative",CX=BX(),SX=()=>xX||CX?ae.useLayoutEffect:ae.useEffect,EX=SX();function xT(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function TX(e,t){if(xT(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let s=0;s<r.length;s++)if(!Object.prototype.hasOwnProperty.call(t,r[s])||!xT(e[r[s]],t[r[s]]))return!1;return!0}var IX=Symbol.for("react-redux-context"),FX=typeof globalThis<"u"?globalThis:{};function UX(){if(!ae.createContext)return{};const e=FX[IX]??=new Map;let t=e.get(ae.createContext);return t||(t=ae.createContext(null),e.set(ae.createContext,t)),t}var LX=UX();function MX(e){const{children:t,context:r,serverState:n,store:s}=e,A=ae.useMemo(()=>{const y=bX(s);return{store:s,subscription:y,getServerState:n?()=>n:void 0}},[s,n]),d=ae.useMemo(()=>s.getState(),[s]);EX(()=>{const{subscription:y}=A;return y.onStateChange=y.notifyNestedSubs,y.trySubscribe(),d!==s.getState()&&y.notifyNestedSubs(),()=>{y.tryUnsubscribe(),y.onStateChange=void 0}},[A,d]);const l=r||LX;return ae.createElement(l.Provider,{value:A},t)}var PX=MX,OX=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function DX(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function OC(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(OX.has(n)){if(e[n]==null&&t[n]==null)continue;if(!TX(e[n],t[n]))return!1}else if(!DX(e[n],t[n]))return!1;return!0}var kX=e=>{var{chartData:t}=e,r=Hs(),n=XA();return ae.useEffect(()=>n?()=>{}:(r(H3(t)),()=>{r(H3(void 0))}),[t,r,n]),null},BT={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},MO=$A({name:"brush",initialState:BT,reducers:{setBrushSettings(e,t){return t.payload==null?BT:t.payload}}}),{setBrushSettings:loe}=MO.actions,QX=MO.reducer;function NX(e,t,r){return(t=RX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RX(e){var t=zX(e,"string");return typeof t=="symbol"?t:t+""}function zX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class DC{static create(t){return new DC(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var A=this.bandwidth?this.bandwidth():0;return this.scale(t)+A}default:return this.scale(t)}if(r){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+d}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],s=r[r.length-1];return n<=s?t>=n&&t<=s:t>=s&&t<=n}}NX(DC,"EPS",1e-4);function HX(e){return(e%180+180)%180}var jX=function(t){var{width:r,height:n}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,A=HX(s),d=A*Math.PI/180,l=Math.atan(n/r),y=d>l&&d<Math.PI-l?n/Math.sin(d):r/Math.cos(d);return Math.abs(y)},KX={dots:[],areas:[],lines:[]},PO=$A({name:"referenceElements",initialState:KX,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Mc(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Mc(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Mc(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:Aoe,removeDot:uoe,addArea:coe,removeArea:hoe,addLine:foe,removeLine:doe}=PO.actions,VX=PO.reducer,qX=ae.createContext(void 0),GX=e=>{var{children:t}=e,[r]=ae.useState("".concat(O0("recharts"),"-clip")),n=PC();if(n==null)return null;var{x:s,y:A,width:d,height:l}=n;return ae.createElement(qX.Provider,{value:r},ae.createElement("defs",null,ae.createElement("clipPath",{id:r},ae.createElement("rect",{x:s,y:A,height:l,width:d}))),t)};function OO(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r}function $X(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return jX(n,r)}function XX(e,t,r){var n=r==="width",{x:s,y:A,width:d,height:l}=e;return t===1?{start:n?s:A,end:n?s+d:A+l}:{start:n?s+d:A+l,end:n?s:A}}function x_(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var A=r();return e*(t-e*A/2-n)>=0&&e*(t+e*A/2-s)<=0}function ZX(e,t){return OO(e,t+1)}function WX(e,t,r,n,s){for(var A=(n||[]).slice(),{start:d,end:l}=t,y=0,b=1,w=d,S=function(){var z=n?.[y];if(z===void 0)return{v:OO(n,b)};var H=y,K,q=()=>(K===void 0&&(K=r(z,H)),K),ne=z.coordinate,W=y===0||x_(e,ne,q,w,l);W||(y=0,w=d,b+=1),W&&(w=ne+e*(q()/2+s),y+=b)},F;b<=A.length;)if(F=S(),F)return F.v;return[]}function CT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Dl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CT(Object(r),!0).forEach(function(n){YX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YX(e,t,r){return(t=JX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JX(e){var t=eZ(e,"string");return typeof t=="symbol"?t:t+""}function eZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tZ(e,t,r,n,s){for(var A=(n||[]).slice(),d=A.length,{start:l}=t,{end:y}=t,b=function(F){var T=A[F],z,H=()=>(z===void 0&&(z=r(T,F)),z);if(F===d-1){var K=e*(T.coordinate+e*H()/2-y);A[F]=T=Dl(Dl({},T),{},{tickCoord:K>0?T.coordinate-K*e:T.coordinate})}else A[F]=T=Dl(Dl({},T),{},{tickCoord:T.coordinate});if(T.tickCoord!=null){var q=x_(e,T.tickCoord,H,l,y);q&&(y=T.tickCoord-e*(H()/2+s),A[F]=Dl(Dl({},T),{},{isShow:!0}))}},w=d-1;w>=0;w--)b(w);return A}function rZ(e,t,r,n,s,A){var d=(n||[]).slice(),l=d.length,{start:y,end:b}=t;if(A){var w=n[l-1],S=r(w,l-1),F=e*(w.coordinate+e*S/2-b);if(d[l-1]=w=Dl(Dl({},w),{},{tickCoord:F>0?w.coordinate-F*e:w.coordinate}),w.tickCoord!=null){var T=x_(e,w.tickCoord,()=>S,y,b);T&&(b=w.tickCoord-e*(S/2+s),d[l-1]=Dl(Dl({},w),{},{isShow:!0}))}}for(var z=A?l-1:l,H=function(ne){var W=d[ne],le,ce=()=>(le===void 0&&(le=r(W,ne)),le);if(ne===0){var me=e*(W.coordinate-e*ce()/2-y);d[ne]=W=Dl(Dl({},W),{},{tickCoord:me<0?W.coordinate-me*e:W.coordinate})}else d[ne]=W=Dl(Dl({},W),{},{tickCoord:W.coordinate});if(W.tickCoord!=null){var Ee=x_(e,W.tickCoord,ce,y,b);Ee&&(y=W.tickCoord+e*(ce()/2+s),d[ne]=Dl(Dl({},W),{},{isShow:!0}))}},K=0;K<z;K++)H(K);return d}function kC(e,t,r){var{tick:n,ticks:s,viewBox:A,minTickGap:d,orientation:l,interval:y,tickFormatter:b,unit:w,angle:S}=e;if(!s||!s.length||!n)return[];if(Yr(y)||Zg.isSsr){var F;return(F=ZX(s,Yr(y)?y:0))!==null&&F!==void 0?F:[]}var T=[],z=l==="top"||l==="bottom"?"width":"height",H=w&&z==="width"?E0(w,{fontSize:t,letterSpacing:r}):{width:0,height:0},K=(W,le)=>{var ce=typeof b=="function"?b(W.value,le):W.value;return z==="width"?$X(E0(ce,{fontSize:t,letterSpacing:r}),H,S):E0(ce,{fontSize:t,letterSpacing:r})[z]},q=s.length>=2?ec(s[1].coordinate-s[0].coordinate):1,ne=XX(A,q,z);return y==="equidistantPreserveStart"?WX(q,ne,K,s,d):(y==="preserveStart"||y==="preserveStartEnd"?T=rZ(q,ne,K,s,d,y==="preserveStartEnd"):T=tZ(q,ne,K,s,d),T.filter(W=>W.isShow))}var nZ=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:s=0,tickMargin:A=0}=e,d=0;if(t){Array.from(t).forEach(w=>{if(w){var S=w.getBoundingClientRect();S.width>d&&(d=S.width)}});var l=r?r.getBoundingClientRect().width:0,y=s+A,b=d+y+l+(r?n:0);return Math.round(b)}return 0},iZ=["axisLine","width","height","className","hide","ticks","axisType"];function aZ(e,t){if(e==null)return{};var r,n,s=sZ(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function sZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Sp(){return Sp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sp.apply(null,arguments)}function ST(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ns(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ST(Object(r),!0).forEach(function(n){oZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ST(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oZ(e,t,r){return(t=lZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lZ(e){var t=AZ(e,"string");return typeof t=="symbol"?t:t+""}function AZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jh={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:cA.axis};function uZ(e){var{x:t,y:r,width:n,height:s,orientation:A,mirror:d,axisLine:l,otherSvgProps:y}=e;if(!l)return null;var b=Ns(Ns(Ns({},y),ph(l)),{},{fill:"none"});if(A==="top"||A==="bottom"){var w=+(A==="top"&&!d||A==="bottom"&&d);b=Ns(Ns({},b),{},{x1:t,y1:r+w*s,x2:t+n,y2:r+w*s})}else{var S=+(A==="left"&&!d||A==="right"&&d);b=Ns(Ns({},b),{},{x1:t+S*n,y1:r,x2:t+S*n,y2:r+s})}return ae.createElement("line",Sp({},b,{className:$i("recharts-cartesian-axis-line",G_(l,"className"))}))}function cZ(e,t,r,n,s,A,d,l,y){var b,w,S,F,T,z,H=l?-1:1,K=e.tickSize||d,q=Yr(e.tickCoord)?e.tickCoord:e.coordinate;switch(A){case"top":b=w=e.coordinate,F=r+ +!l*s,S=F-H*K,z=S-H*y,T=q;break;case"left":S=F=e.coordinate,w=t+ +!l*n,b=w-H*K,T=b-H*y,z=q;break;case"right":S=F=e.coordinate,w=t+ +l*n,b=w+H*K,T=b+H*y,z=q;break;default:b=w=e.coordinate,F=r+ +l*s,S=F+H*K,z=S+H*y,T=q;break}return{line:{x1:b,y1:S,x2:w,y2:F},tick:{x:T,y:z}}}function hZ(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function fZ(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function dZ(e){var{option:t,tickProps:r,value:n}=e,s,A=$i(r.className,"recharts-cartesian-axis-tick-value");if(ae.isValidElement(t))s=ae.cloneElement(t,Ns(Ns({},r),{},{className:A}));else if(typeof t=="function")s=t(Ns(Ns({},r),{},{className:A}));else{var d="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(d=$i(d,t?.className)),s=ae.createElement(LC,Sp({},r,{className:d}),n)}return s}var pZ=ae.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:s,stroke:A,tickFormatter:d,unit:l,padding:y,tickTextProps:b,orientation:w,mirror:S,x:F,y:T,width:z,height:H,tickSize:K,tickMargin:q,fontSize:ne,letterSpacing:W,getTicksConfig:le,events:ce,axisType:me}=e,Ee=kC(Ns(Ns({},le),{},{ticks:r}),ne,W),Ie=hZ(w,S),ge=fZ(w,S),je=ph(le),ie=j_(n),de={};typeof s=="object"&&(de=s);var Fe=Ns(Ns({},je),{},{fill:"none"},de),Le=Ee.map(ke=>Ns({entry:ke},cZ(ke,F,T,z,H,w,K,S,q))),it=Le.map(ke=>{var{entry:Ge,line:Oe}=ke;return ae.createElement(fd,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(Ge.value,"-").concat(Ge.coordinate,"-").concat(Ge.tickCoord)},s&&ae.createElement("line",Sp({},Fe,Oe,{className:$i("recharts-cartesian-axis-tick-line",G_(s,"className"))})))}),Pe=Le.map((ke,Ge)=>{var{entry:Oe,tick:st}=ke,be=Ns(Ns(Ns(Ns({textAnchor:Ie,verticalAnchor:ge},je),{},{stroke:"none",fill:A},ie),st),{},{index:Ge,payload:Oe,visibleTicksCount:Ee.length,tickFormatter:d,padding:y},b);return ae.createElement(fd,Sp({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(Oe.value,"-").concat(Oe.coordinate,"-").concat(Oe.tickCoord)},UU(ce,Oe,Ge)),n&&ae.createElement(dZ,{option:n,tickProps:be,value:"".concat(typeof d=="function"?d(Oe.value,Ge):Oe.value).concat(l||"")}))});return ae.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(me,"-ticks")},Pe.length>0&&ae.createElement(pf,{zIndex:cA.label},ae.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(me,"-tick-labels"),ref:t},Pe)),it.length>0&&ae.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(me,"-tick-lines")},it))}),gZ=ae.forwardRef((e,t)=>{var{axisLine:r,width:n,height:s,className:A,hide:d,ticks:l,axisType:y}=e,b=aZ(e,iZ),[w,S]=ae.useState(""),[F,T]=ae.useState(""),z=ae.useRef(null);ae.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var K;return nZ({ticks:z.current,label:(K=e.labelRef)===null||K===void 0?void 0:K.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var H=ae.useCallback(K=>{if(K){var q=K.getElementsByClassName("recharts-cartesian-axis-tick-value");z.current=q;var ne=q[0];if(ne){var W=window.getComputedStyle(ne),le=W.fontSize,ce=W.letterSpacing;(le!==w||ce!==F)&&(S(le),T(ce))}}},[w,F]);return d||n!=null&&n<=0||s!=null&&s<=0?null:ae.createElement(pf,{zIndex:e.zIndex},ae.createElement(fd,{className:$i("recharts-cartesian-axis",A)},ae.createElement(uZ,{x:e.x,y:e.y,width:n,height:s,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:ph(e)}),ae.createElement(pZ,{ref:H,axisType:y,events:b,fontSize:w,getTicksConfig:e,height:e.height,letterSpacing:F,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),ae.createElement(TG,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},ae.createElement(QG,{label:e.label,labelRef:e.labelRef}),e.children)))}),QC=ae.forwardRef((e,t)=>{var r=Rl(e,Jh);return ae.createElement(gZ,Sp({},r,{ref:t}))});QC.displayName="CartesianAxis";var mZ=["x1","y1","x2","y2","key"],yZ=["offset"],vZ=["xAxisId","yAxisId"],_Z=["xAxisId","yAxisId"];function ET(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ql(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ET(Object(r),!0).forEach(function(n){bZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ET(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bZ(e,t,r){return(t=wZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wZ(e){var t=xZ(e,"string");return typeof t=="symbol"?t:t+""}function xZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dp(){return dp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dp.apply(null,arguments)}function B_(e,t){if(e==null)return{};var r,n,s=BZ(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function BZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var CZ=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:s,width:A,height:d,ry:l}=e;return ae.createElement("rect",{x:n,y:s,ry:l,width:A,height:d,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function DO(e){var{option:t,lineItemProps:r}=e,n;if(ae.isValidElement(t))n=ae.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var s,{x1:A,y1:d,x2:l,y2:y,key:b}=r,w=B_(r,mZ),S=(s=ph(w))!==null&&s!==void 0?s:{},{offset:F}=S,T=B_(S,yZ);n=ae.createElement("line",dp({},T,{x1:A,y1:d,x2:l,y2:y,fill:"none",key:b}))}return n}function SZ(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:s}=e;if(!n||!s||!s.length)return null;var{xAxisId:A,yAxisId:d}=e,l=B_(e,vZ),y=s.map((b,w)=>{var S=Ql(Ql({},l),{},{x1:t,y1:b,x2:t+r,y2:b,key:"line-".concat(w),index:w});return ae.createElement(DO,{key:"line-".concat(w),option:n,lineItemProps:S})});return ae.createElement("g",{className:"recharts-cartesian-grid-horizontal"},y)}function EZ(e){var{y:t,height:r,vertical:n=!0,verticalPoints:s}=e;if(!n||!s||!s.length)return null;var{xAxisId:A,yAxisId:d}=e,l=B_(e,_Z),y=s.map((b,w)=>{var S=Ql(Ql({},l),{},{x1:b,y1:t,x2:b,y2:t+r,key:"line-".concat(w),index:w});return ae.createElement(DO,{option:n,lineItemProps:S,key:"line-".concat(w)})});return ae.createElement("g",{className:"recharts-cartesian-grid-vertical"},y)}function TZ(e){var{horizontalFill:t,fillOpacity:r,x:n,y:s,width:A,height:d,horizontalPoints:l,horizontal:y=!0}=e;if(!y||!t||!t.length||l==null)return null;var b=l.map(S=>Math.round(S+s-s)).sort((S,F)=>S-F);s!==b[0]&&b.unshift(0);var w=b.map((S,F)=>{var T=!b[F+1],z=T?s+d-S:b[F+1]-S;if(z<=0)return null;var H=F%t.length;return ae.createElement("rect",{key:"react-".concat(F),y:S,x:n,height:z,width:A,stroke:"none",fill:t[H],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return ae.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},w)}function IZ(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:s,y:A,width:d,height:l,verticalPoints:y}=e;if(!t||!r||!r.length)return null;var b=y.map(S=>Math.round(S+s-s)).sort((S,F)=>S-F);s!==b[0]&&b.unshift(0);var w=b.map((S,F)=>{var T=!b[F+1],z=T?s+d-S:b[F+1]-S;if(z<=0)return null;var H=F%r.length;return ae.createElement("rect",{key:"react-".concat(F),x:S,y:A,width:z,height:l,stroke:"none",fill:r[H],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return ae.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},w)}var FZ=(e,t)=>{var{xAxis:r,width:n,height:s,offset:A}=e;return xL(kC(Ql(Ql(Ql({},Jh),r),{},{ticks:BL(r),viewBox:{x:0,y:0,width:n,height:s}})),A.left,A.left+A.width,t)},UZ=(e,t)=>{var{yAxis:r,width:n,height:s,offset:A}=e;return xL(kC(Ql(Ql(Ql({},Jh),r),{},{ticks:BL(r),viewBox:{x:0,y:0,width:n,height:s}})),A.top,A.top+A.height,t)},LZ={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:cA.grid};function kO(e){var t=T5(),r=I5(),n=ML(),s=Ql(Ql({},Rl(e,LZ)),{},{x:Yr(e.x)?e.x:n.left,y:Yr(e.y)?e.y:n.top,width:Yr(e.width)?e.width:n.width,height:Yr(e.height)?e.height:n.height}),{xAxisId:A,yAxisId:d,x:l,y,width:b,height:w,syncWithTicks:S,horizontalValues:F,verticalValues:T}=s,z=XA(),H=$r(ge=>F3(ge,"xAxis",A,z)),K=$r(ge=>F3(ge,"yAxis",d,z));if(!vh(b)||!vh(w)||!Yr(l)||!Yr(y))return null;var q=s.verticalCoordinatesGenerator||FZ,ne=s.horizontalCoordinatesGenerator||UZ,{horizontalPoints:W,verticalPoints:le}=s;if((!W||!W.length)&&typeof ne=="function"){var ce=F&&F.length,me=ne({yAxis:K?Ql(Ql({},K),{},{ticks:ce?F:K.ticks}):void 0,width:t??b,height:r??w,offset:n},ce?!0:S);W1(Array.isArray(me),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof me,"]")),Array.isArray(me)&&(W=me)}if((!le||!le.length)&&typeof q=="function"){var Ee=T&&T.length,Ie=q({xAxis:H?Ql(Ql({},H),{},{ticks:Ee?T:H.ticks}):void 0,width:t??b,height:r??w,offset:n},Ee?!0:S);W1(Array.isArray(Ie),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof Ie,"]")),Array.isArray(Ie)&&(le=Ie)}return ae.createElement(pf,{zIndex:s.zIndex},ae.createElement("g",{className:"recharts-cartesian-grid"},ae.createElement(CZ,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),ae.createElement(TZ,dp({},s,{horizontalPoints:W})),ae.createElement(IZ,dp({},s,{verticalPoints:le})),ae.createElement(SZ,dp({},s,{offset:n,horizontalPoints:W,xAxis:H,yAxis:K})),ae.createElement(EZ,dp({},s,{offset:n,verticalPoints:le,xAxis:H,yAxis:K}))))}kO.displayName="CartesianGrid";var QO=(e,t,r,n)=>QP(e,"xAxis",t,n),NO=(e,t,r,n)=>kP(e,"xAxis",t,n),RO=(e,t,r,n)=>QP(e,"yAxis",r,n),zO=(e,t,r,n)=>kP(e,"yAxis",r,n),MZ=Mt([Ca,QO,RO,NO,zO],(e,t,r,n,s)=>yd(e,"xAxis")?Z1(t,n,!1):Z1(r,s,!1)),PZ=(e,t,r,n,s)=>s;function OZ(e){return e.type==="line"}var DZ=Mt([sP,PZ],(e,t)=>e.filter(OZ).find(r=>r.id===t)),kZ=Mt([Ca,QO,RO,NO,zO,DZ,MZ,nC],(e,t,r,n,s,A,d,l)=>{var{chartData:y,dataStartIndex:b,dataEndIndex:w}=l;if(!(A==null||t==null||r==null||n==null||s==null||n.length===0||s.length===0||d==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:S,data:F}=A,T;if(F!=null&&F.length>0?T=F:T=y?.slice(b,w+1),T!=null)return iW({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:s,dataKey:S,bandSize:d,displayedData:T})}});function QZ(e){var t=j_(e),r=3,n=2;if(t!=null){var{r:s,strokeWidth:A}=t,d=Number(s),l=Number(A);return(Number.isNaN(d)||d<0)&&(d=r),(Number.isNaN(l)||l<0)&&(l=n),{r:d,strokeWidth:l}}return{r,strokeWidth:n}}var NZ=["id"],RZ=["type","layout","connectNulls","needClip","shape"],zZ=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Z0(){return Z0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Z0.apply(null,arguments)}function TT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ch(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TT(Object(r),!0).forEach(function(n){HZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HZ(e,t,r){return(t=jZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jZ(e){var t=KZ(e,"string");return typeof t=="symbol"?t:t+""}function KZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NC(e,t){if(e==null)return{};var r,n,s=VZ(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function VZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var qZ=e=>{var{dataKey:t,name:r,stroke:n,legendType:s,hide:A}=e;return[{inactive:A,dataKey:t,type:s,color:n,value:CL(r,t),payload:e}]},GZ=ae.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:s,fill:A,name:d,hide:l,unit:y,tooltipType:b}=e,w={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:s,fill:A,dataKey:t,nameKey:void 0,name:CL(d,t),hide:l,type:b,color:n,unit:y}};return ae.createElement(_$,{tooltipEntrySettings:w})}),HO=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function $Z(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],s=0;s<t;++s)n=[...n,...r];return n}var XZ=(e,t,r)=>{var n=r.reduce((S,F)=>S+F);if(!n)return HO(t,e);for(var s=Math.floor(e/n),A=e%n,d=t-e,l=[],y=0,b=0;y<r.length;b+=r[y],++y)if(b+r[y]>A){l=[...r.slice(0,y),A-b];break}var w=l.length%2===0?[0,d]:[d];return[...$Z(r,s),...l,...w].map(S=>"".concat(S,"px")).join(", ")};function ZZ(e){var{clipPathId:t,points:r,props:n}=e,{dot:s,dataKey:A,needClip:d}=n,{id:l}=n,y=NC(n,NZ),b=ph(y);return ae.createElement(z$,{points:r,dot:s,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:A,baseProps:b,needClip:d,clipPathId:t})}function WZ(e){var{showLabels:t,children:r,points:n}=e,s=ae.useMemo(()=>n?.map(A=>{var d,l,y={x:(d=A.x)!==null&&d!==void 0?d:0,y:(l=A.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return ch(ch({},y),{},{value:A.value,payload:A.payload,viewBox:y,parentViewBox:void 0,fill:void 0})}),[n]);return ae.createElement(XG,{value:t?s:void 0},r)}function IT(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:s,props:A}=e,{type:d,layout:l,connectNulls:y,needClip:b,shape:w}=A,S=NC(A,RZ),F=ch(ch({},hA(S)),{},{fill:"none",className:"recharts-line-curve",clipPath:b?"url(#clipPath-".concat(t,")"):void 0,points:n,type:d,layout:l,connectNulls:y,strokeDasharray:s??A.strokeDasharray});return ae.createElement(ae.Fragment,null,n?.length>1&&ae.createElement(v$,Z0({shapeType:"curve",option:w},F,{pathRef:r})),ae.createElement(ZZ,{points:n,clipPathId:t,props:A}))}function YZ(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function JZ(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:s,longestAnimatedLengthRef:A}=e,{points:d,strokeDasharray:l,isAnimationActive:y,animationBegin:b,animationDuration:w,animationEasing:S,animateNewValues:F,width:T,height:z,onAnimationEnd:H,onAnimationStart:K}=r,q=s.current,ne=M5(d,"recharts-line-"),W=ae.useRef(ne),[le,ce]=ae.useState(!1),me=!le,Ee=ae.useCallback(()=>{typeof H=="function"&&H(),ce(!1)},[H]),Ie=ae.useCallback(()=>{typeof K=="function"&&K(),ce(!0)},[K]),ge=YZ(n.current),je=ae.useRef(0);W.current!==ne&&(je.current=A.current,W.current=ne);var ie=je.current;return ae.createElement(WZ,{points:d,showLabels:me},r.children,ae.createElement(L5,{animationId:ne,begin:b,duration:w,isActive:y,easing:S,onAnimationEnd:Ee,onAnimationStart:Ie,key:ne},de=>{var Fe=qA(ie,ge+ie,de),Le=Math.min(Fe,ge),it;if(y)if(l){var Pe="".concat(l).split(/[,\s]+/gim).map(Oe=>parseFloat(Oe));it=XZ(Le,ge,Pe)}else it=HO(ge,Le);else it=l==null?void 0:String(l);if(de>0&&ge>0&&(s.current=d,A.current=Math.max(A.current,Le)),q){var ke=q.length/d.length,Ge=de===1?d:d.map((Oe,st)=>{var be=Math.floor(st*ke);if(q[be]){var ee=q[be];return ch(ch({},Oe),{},{x:qA(ee.x,Oe.x,de),y:qA(ee.y,Oe.y,de)})}return F?ch(ch({},Oe),{},{x:qA(T*2,Oe.x,de),y:qA(z/2,Oe.y,de)}):ch(ch({},Oe),{},{x:Oe.x,y:Oe.y})});return s.current=Ge,ae.createElement(IT,{props:r,points:Ge,clipPathId:t,pathRef:n,strokeDasharray:it})}return ae.createElement(IT,{props:r,points:d,clipPathId:t,pathRef:n,strokeDasharray:it})}),ae.createElement(YG,{label:r.label}))}function eW(e){var{clipPathId:t,props:r}=e,n=ae.useRef(null),s=ae.useRef(0),A=ae.useRef(null);return ae.createElement(JZ,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:s,pathRef:A})}var tW=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:Nl(e.payload,t)}};class rW extends ae.Component{render(){var{hide:t,dot:r,points:n,className:s,xAxisId:A,yAxisId:d,top:l,left:y,width:b,height:w,id:S,needClip:F,zIndex:T}=this.props;if(t)return null;var z=$i("recharts-line",s),H=S,{r:K,strokeWidth:q}=QZ(r),ne=EO(r),W=K*2+q,le=F?"url(#clipPath-".concat(ne?"":"dots-").concat(H,")"):void 0;return ae.createElement(pf,{zIndex:T},ae.createElement(fd,{className:z},F&&ae.createElement("defs",null,ae.createElement(gX,{clipPathId:H,xAxisId:A,yAxisId:d}),!ne&&ae.createElement("clipPath",{id:"clipPath-dots-".concat(H)},ae.createElement("rect",{x:y-W/2,y:l-W/2,width:b+W,height:w+W}))),ae.createElement(pX,{xAxisId:A,yAxisId:d,data:n,dataPointFormatter:tW,errorBarOffset:0},ae.createElement(eW,{props:this.props,clipPathId:H}))),ae.createElement(oX,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:le}))}}var jO={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:cA.line,type:"linear"};function nW(e){var t=Rl(e,jO),{activeDot:r,animateNewValues:n,animationBegin:s,animationDuration:A,animationEasing:d,connectNulls:l,dot:y,hide:b,isAnimationActive:w,label:S,legendType:F,xAxisId:T,yAxisId:z,id:H}=t,K=NC(t,zZ),{needClip:q}=LO(T,z),ne=PC(),W=lb(),le=XA(),ce=$r(je=>kZ(je,T,z,le,H));if(W!=="horizontal"&&W!=="vertical"||ce==null||ne==null)return null;var{height:me,width:Ee,x:Ie,y:ge}=ne;return ae.createElement(rW,Z0({},K,{id:H,connectNulls:l,dot:y,activeDot:r,animateNewValues:n,animationBegin:s,animationDuration:A,animationEasing:d,isAnimationActive:w,hide:b,label:S,legendType:F,xAxisId:T,yAxisId:z,points:ce,layout:W,height:me,width:Ee,left:Ie,top:ge,needClip:q}))}function iW(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:s,yAxisTicks:A,dataKey:d,bandSize:l,displayedData:y}=e;return y.map((b,w)=>{var S=Nl(b,d);if(t==="horizontal"){var F=WE({axis:r,ticks:s,bandSize:l,entry:b,index:w}),T=Lo(S)?null:n.scale(S);return{x:F,y:T,value:S,payload:b}}var z=Lo(S)?null:r.scale(S),H=WE({axis:n,ticks:A,bandSize:l,entry:b,index:w});return z==null||H==null?null:{x:z,y:H,value:S,payload:b}}).filter(Boolean)}function aW(e){var t=Rl(e,jO),r=XA();return ae.createElement(C$,{id:t.id,type:"line"},n=>ae.createElement(ae.Fragment,null,ae.createElement(b$,{legendPayload:qZ(t)}),ae.createElement(GZ,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),ae.createElement(L$,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),ae.createElement(nW,Z0({},t,{id:n}))))}var RC=ae.memo(aW,OC);RC.displayName="Line";var sW=["domain","range"],oW=["domain","range"];function FT(e,t){if(e==null)return{};var r,n,s=lW(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function lW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function UT(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function KO(e,t){if(e===t)return!0;var{domain:r,range:n}=e,s=FT(e,sW),{domain:A,range:d}=t,l=FT(t,oW);return!UT(r,A)||!UT(n,d)?!1:OC(s,l)}var AW=["dangerouslySetInnerHTML","ticks"],uW=["id"];function wB(){return wB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wB.apply(null,arguments)}function LT(e,t){if(e==null)return{};var r,n,s=cW(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function cW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function hW(e){var t=Hs(),r=ae.useRef(null);return ae.useLayoutEffect(()=>{r.current===null?t(q$(e)):r.current!==e&&t(G$({prev:r.current,next:e})),r.current=e},[e,t]),ae.useLayoutEffect(()=>()=>{r.current&&(t($$(r.current)),r.current=null)},[t]),null}var fW=e=>{var{xAxisId:t,className:r}=e,n=$r(EL),s=XA(),A="xAxis",d=$r(K=>rm(K,A,t,s)),l=$r(K=>DP(K,A,t,s)),y=$r(K=>BK(K,t)),b=$r(K=>FK(K,t)),w=$r(K=>rP(K,t));if(y==null||b==null||w==null)return null;var{dangerouslySetInnerHTML:S,ticks:F}=e,T=LT(e,AW),{id:z}=w,H=LT(w,uW);return ae.createElement(QC,wB({},T,H,{scale:d,x:b.x,y:b.y,width:y.width,height:y.height,className:$i("recharts-".concat(A," ").concat(A),r),viewBox:n,ticks:l,axisType:A}))},dW={allowDataOverflow:To.allowDataOverflow,allowDecimals:To.allowDecimals,allowDuplicatedCategory:To.allowDuplicatedCategory,angle:To.angle,axisLine:Jh.axisLine,height:To.height,hide:!1,includeHidden:To.includeHidden,interval:To.interval,minTickGap:To.minTickGap,mirror:To.mirror,orientation:To.orientation,padding:To.padding,reversed:To.reversed,scale:To.scale,tick:To.tick,tickCount:To.tickCount,tickLine:Jh.tickLine,tickSize:Jh.tickSize,type:To.type,xAxisId:0},pW=e=>{var t=Rl(e,dW);return ae.createElement(ae.Fragment,null,ae.createElement(hW,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),ae.createElement(fW,t))},zC=ae.memo(pW,KO);zC.displayName="XAxis";var gW=["dangerouslySetInnerHTML","ticks"],mW=["id"];function xB(){return xB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xB.apply(null,arguments)}function MT(e,t){if(e==null)return{};var r,n,s=yW(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function yW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function vW(e){var t=Hs(),r=ae.useRef(null);return ae.useLayoutEffect(()=>{r.current===null?t(X$(e)):r.current!==e&&t(Z$({prev:r.current,next:e})),r.current=e},[e,t]),ae.useLayoutEffect(()=>()=>{r.current&&(t(W$(r.current)),r.current=null)},[t]),null}var _W=e=>{var{yAxisId:t,className:r,width:n,label:s}=e,A=ae.useRef(null),d=ae.useRef(null),l=$r(EL),y=XA(),b=Hs(),w="yAxis",S=$r(ce=>rm(ce,w,t,y)),F=$r(ce=>MK(ce,t)),T=$r(ce=>LK(ce,t)),z=$r(ce=>DP(ce,w,t,y)),H=$r(ce=>nP(ce,t));if(ae.useLayoutEffect(()=>{if(!(n!=="auto"||!F||MC(s)||ae.isValidElement(s)||H==null)){var ce=A.current;if(ce){var me=ce.getCalculatedWidth();Math.round(F.width)!==Math.round(me)&&b(Y$({id:t,width:me}))}}},[z,F,b,s,t,n,H]),F==null||T==null||H==null)return null;var{dangerouslySetInnerHTML:K,ticks:q}=e,ne=MT(e,gW),{id:W}=H,le=MT(H,mW);return ae.createElement(QC,xB({},ne,le,{ref:A,labelRef:d,scale:S,x:T.x,y:T.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:F.width,height:F.height,className:$i("recharts-".concat(w," ").concat(w),r),viewBox:l,ticks:z,axisType:w}))},bW={allowDataOverflow:Io.allowDataOverflow,allowDecimals:Io.allowDecimals,allowDuplicatedCategory:Io.allowDuplicatedCategory,angle:Io.angle,axisLine:Jh.axisLine,hide:!1,includeHidden:Io.includeHidden,interval:Io.interval,minTickGap:Io.minTickGap,mirror:Io.mirror,orientation:Io.orientation,padding:Io.padding,reversed:Io.reversed,scale:Io.scale,tick:Io.tick,tickCount:Io.tickCount,tickLine:Jh.tickLine,tickSize:Jh.tickSize,type:Io.type,width:Io.width,yAxisId:0},wW=e=>{var t=Rl(e,bW);return ae.createElement(ae.Fragment,null,ae.createElement(vW,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),ae.createElement(_W,t))},VO=ae.memo(wW,KO);VO.displayName="YAxis";var xW=(e,t)=>t,HC=Mt([xW,Ca,JM,ho,JP,df,$V,rl],tq),jC=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},qO=ic("mouseClick"),GO=oy();GO.startListening({actionCreator:qO,effect:(e,t)=>{var r=e.payload,n=HC(t.getState(),jC(r));n?.activeIndex!=null&&t.dispatch(qK({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var BB=ic("mouseMove"),$O=oy(),Rv=null;$O.startListening({actionCreator:BB,effect:(e,t)=>{var r=e.payload;Rv!==null&&cancelAnimationFrame(Rv);var n=jC(r);Rv=requestAnimationFrame(()=>{var s=t.getState(),A=wC(s,s.tooltip.settings.shared);if(A==="axis"){var d=HC(s,n);d?.activeIndex!=null?t.dispatch(VP({activeIndex:d.activeIndex,activeDataKey:void 0,activeCoordinate:d.activeCoordinate})):t.dispatch(KP())}Rv=null})}});var PT={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},XO=$A({name:"rootProps",initialState:PT,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:PT.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),BW=XO.reducer,{updateOptions:CW}=XO.actions,ZO=$A({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:poe}=ZO.actions,SW=ZO.reducer,WO=ic("keyDown"),YO=ic("focus"),KC=oy();KC.startListening({actionCreator:WO,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip,A=e.payload;if(!(A!=="ArrowRight"&&A!=="ArrowLeft"&&A!=="Enter")){var d=xC(s,im(r),gy(r),by(r)),l=d==null?-1:Number(d);if(!(!Number.isFinite(l)||l<0)){var y=df(r);if(A==="Enter"){var b=y_(r,"axis","hover",String(s.index));t.dispatch(gB({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:b}));return}var w=kK(r),S=w==="left-to-right"?1:-1,F=A==="ArrowRight"?1:-1,T=l+F*S;if(!(y==null||T>=y.length||T<0)){var z=y_(r,"axis","hover",String(T));t.dispatch(gB({active:!0,activeIndex:T.toString(),activeDataKey:void 0,activeCoordinate:z}))}}}}}});KC.startListening({actionCreator:YO,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip;if(!s.active&&s.index==null){var A="0",d=y_(r,"axis","hover",String(A));t.dispatch(gB({activeDataKey:void 0,active:!0,activeIndex:A,activeCoordinate:d}))}}}});var Zu=ic("externalEvent"),JO=oy(),kx=new Map;JO.startListening({actionCreator:Zu,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var s=n.type,A=kx.get(s);A!==void 0&&cancelAnimationFrame(A);var d=requestAnimationFrame(()=>{try{var l=t.getState(),y={activeCoordinate:LV(l),activeDataKey:FV(l),activeIndex:$0(l),activeLabel:rO(l),activeTooltipIndex:$0(l),isTooltipActive:MV(l)};r(y,n)}finally{kx.delete(s)}});kx.set(s,d)}}});var EW=Mt([nm],e=>e.tooltipItemPayloads),TW=Mt([EW,vy,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var s=e.find(l=>l.settings.dataKey===n);if(s!=null){var{positions:A}=s;if(A!=null){var d=t(A,r);return d}}}),e6=ic("touchMove"),t6=oy();t6.startListening({actionCreator:e6,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),s=wC(n,n.tooltip.settings.shared);if(s==="axis"){var A=HC(n,jC({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));A?.activeIndex!=null&&t.dispatch(VP({activeIndex:A.activeIndex,activeDataKey:void 0,activeCoordinate:A.activeCoordinate}))}else if(s==="item"){var d,l=r.touches[0];if(document.elementFromPoint==null)return;var y=document.elementFromPoint(l.clientX,l.clientY);if(!y||!y.getAttribute)return;var b=y.getAttribute(gR),w=(d=y.getAttribute(mR))!==null&&d!==void 0?d:void 0,S=TW(t.getState(),b,w);t.dispatch(VK({activeDataKey:w,activeIndex:b,activeCoordinate:S}))}}}});var IW=$U({brush:QX,cartesianAxis:J$,chartData:Mq,errorBars:AX,graphicalItems:F$,layout:eR,legend:uz,options:Tq,polarAxis:e$,polarOptions:SW,referenceElements:VX,rootProps:BW,tooltip:GK,zIndex:pq}),FW=function(t){return C8({reducer:IW,preloadedState:t,middleware:r=>{var n;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((n="es6")!==null&&n!==void 0?n:"")}).concat([GO.middleware,$O.middleware,KC.middleware,JO.middleware,t6.middleware])},enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(AL({type:"raf"}))},devTools:Zg.devToolsEnabled})};function UW(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,s=XA(),A=ae.useRef(null);if(s)return r;A.current==null&&(A.current=FW(t));var d=y5;return ae.createElement(PX,{context:d,store:A.current},r)}function LW(e){var{layout:t,margin:r}=e,n=Hs(),s=XA();return ae.useEffect(()=>{s||(n(W8(t)),n(Z8(r)))},[n,s,t,r]),null}var MW=ae.memo(LW,OC);function PW(e){var t=Hs();return ae.useEffect(()=>{t(CW(e))},[t,e]),null}function OT(e){var{zIndex:t,isPanorama:r}=e,n=r?"recharts-zindex-panorama-":"recharts-zindex-",s=TO("".concat(n).concat(t)),A=Hs();return ae.useLayoutEffect(()=>(A(fq({zIndex:t,elementId:s,isPanorama:r})),()=>{A(dq({zIndex:t,isPanorama:r}))}),[A,t,s,r]),ae.createElement("g",{id:s})}function DT(e){var{children:t,isPanorama:r}=e,n=$r(nq);if(!n||n.length===0)return t;var s=n.filter(d=>d<0),A=n.filter(d=>d>0);return ae.createElement(ae.Fragment,null,s.map(d=>ae.createElement(OT,{key:d,zIndex:d,isPanorama:r})),t,A.map(d=>ae.createElement(OT,{key:d,zIndex:d,isPanorama:r})))}var OW=["children"];function DW(e,t){if(e==null)return{};var r,n,s=kW(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function kW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function C_(){return C_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C_.apply(null,arguments)}var QW={width:"100%",height:"100%",display:"block"},NW=ae.forwardRef((e,t)=>{var r=T5(),n=I5(),s=HL();if(!vh(r)||!vh(n))return null;var{children:A,otherAttributes:d,title:l,desc:y}=e,b,w;return d!=null&&(typeof d.tabIndex=="number"?b=d.tabIndex:b=s?0:void 0,typeof d.role=="string"?w=d.role:w=s?"application":void 0),ae.createElement(o5,C_({},d,{title:l,desc:y,role:w,tabIndex:b,width:r,height:n,style:QW,ref:t}),A)}),RW=e=>{var{children:t}=e,r=$r(sb);if(!r)return null;var{width:n,height:s,y:A,x:d}=r;return ae.createElement(o5,{width:n,height:s,x:d,y:A},t)},kT=ae.forwardRef((e,t)=>{var{children:r}=e,n=DW(e,OW),s=XA();return s?ae.createElement(RW,null,ae.createElement(DT,{isPanorama:!0},r)):ae.createElement(NW,C_({ref:t},n),ae.createElement(DT,{isPanorama:!1},r))});function zW(){var e=Hs(),[t,r]=ae.useState(null),n=$r(pR);return ae.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),A=s.width/t.offsetWidth;Mo(A)&&A!==n&&e(J8(A))}},[t,e,n]),r}function QT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function HW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QT(Object(r),!0).forEach(function(n){jW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jW(e,t,r){return(t=KW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KW(e){var t=VW(e,"string");return typeof t=="symbol"?t:t+""}function VW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ep(){return Ep=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ep.apply(null,arguments)}var qW=()=>(Hq(),null);function S_(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var GW=ae.forwardRef((e,t)=>{var r,n,s=ae.useRef(null),[A,d]=ae.useState({containerWidth:S_((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:S_((n=e.style)===null||n===void 0?void 0:n.height)}),l=ae.useCallback((b,w)=>{d(S=>{var F=Math.round(b),T=Math.round(w);return S.containerWidth===F&&S.containerHeight===T?S:{containerWidth:F,containerHeight:T}})},[]),y=ae.useCallback(b=>{if(typeof t=="function"&&t(b),b!=null&&typeof ResizeObserver<"u"){var{width:w,height:S}=b.getBoundingClientRect();l(w,S);var F=z=>{var{width:H,height:K}=z[0].contentRect;l(H,K)},T=new ResizeObserver(F);T.observe(b),s.current=T}},[t,l]);return ae.useEffect(()=>()=>{var b=s.current;b?.disconnect()},[l]),ae.createElement(ae.Fragment,null,ae.createElement(Ab,{width:A.containerWidth,height:A.containerHeight}),ae.createElement("div",Ep({ref:y},e)))}),$W=ae.forwardRef((e,t)=>{var{width:r,height:n}=e,[s,A]=ae.useState({containerWidth:S_(r),containerHeight:S_(n)}),d=ae.useCallback((y,b)=>{A(w=>{var S=Math.round(y),F=Math.round(b);return w.containerWidth===S&&w.containerHeight===F?w:{containerWidth:S,containerHeight:F}})},[]),l=ae.useCallback(y=>{if(typeof t=="function"&&t(y),y!=null){var{width:b,height:w}=y.getBoundingClientRect();d(b,w)}},[t,d]);return ae.createElement(ae.Fragment,null,ae.createElement(Ab,{width:s.containerWidth,height:s.containerHeight}),ae.createElement("div",Ep({ref:l},e)))}),XW=ae.forwardRef((e,t)=>{var{width:r,height:n}=e;return ae.createElement(ae.Fragment,null,ae.createElement(Ab,{width:r,height:n}),ae.createElement("div",Ep({ref:t},e)))}),ZW=ae.forwardRef((e,t)=>{var{width:r,height:n}=e;return tf(r)||tf(n)?ae.createElement($W,Ep({},e,{ref:t})):ae.createElement(XW,Ep({},e,{ref:t}))});function WW(e){return e===!0?GW:ZW}var YW=ae.forwardRef((e,t)=>{var{children:r,className:n,height:s,onClick:A,onContextMenu:d,onDoubleClick:l,onMouseDown:y,onMouseEnter:b,onMouseLeave:w,onMouseMove:S,onMouseUp:F,onTouchEnd:T,onTouchMove:z,onTouchStart:H,style:K,width:q,responsive:ne,dispatchTouchEvents:W=!0}=e,le=ae.useRef(null),ce=Hs(),[me,Ee]=ae.useState(null),[Ie,ge]=ae.useState(null),je=zW(),ie=E5(),de=ie?.width>0?ie.width:q,Fe=ie?.height>0?ie.height:s,Le=ae.useCallback(Ke=>{je(Ke),typeof t=="function"&&t(Ke),Ee(Ke),ge(Ke),Ke!=null&&(le.current=Ke)},[je,t,Ee,ge]),it=ae.useCallback(Ke=>{ce(qO(Ke)),ce(Zu({handler:A,reactEvent:Ke}))},[ce,A]),Pe=ae.useCallback(Ke=>{ce(BB(Ke)),ce(Zu({handler:b,reactEvent:Ke}))},[ce,b]),ke=ae.useCallback(Ke=>{ce(KP()),ce(Zu({handler:w,reactEvent:Ke}))},[ce,w]),Ge=ae.useCallback(Ke=>{ce(BB(Ke)),ce(Zu({handler:S,reactEvent:Ke}))},[ce,S]),Oe=ae.useCallback(()=>{ce(YO())},[ce]),st=ae.useCallback(Ke=>{ce(WO(Ke.key))},[ce]),be=ae.useCallback(Ke=>{ce(Zu({handler:d,reactEvent:Ke}))},[ce,d]),ee=ae.useCallback(Ke=>{ce(Zu({handler:l,reactEvent:Ke}))},[ce,l]),ye=ae.useCallback(Ke=>{ce(Zu({handler:y,reactEvent:Ke}))},[ce,y]),Te=ae.useCallback(Ke=>{ce(Zu({handler:F,reactEvent:Ke}))},[ce,F]),Ne=ae.useCallback(Ke=>{ce(Zu({handler:H,reactEvent:Ke}))},[ce,H]),Ze=ae.useCallback(Ke=>{W&&ce(e6(Ke)),ce(Zu({handler:z,reactEvent:Ke}))},[ce,W,z]),et=ae.useCallback(Ke=>{ce(Zu({handler:T,reactEvent:Ke}))},[ce,T]),gt=WW(ne);return ae.createElement(AO.Provider,{value:me},ae.createElement(AU.Provider,{value:Ie},ae.createElement(gt,{width:de??K?.width,height:Fe??K?.height,className:$i("recharts-wrapper",n),style:HW({position:"relative",cursor:"default",width:de,height:Fe},K),onClick:it,onContextMenu:be,onDoubleClick:ee,onFocus:Oe,onKeyDown:st,onMouseDown:ye,onMouseEnter:Pe,onMouseLeave:ke,onMouseMove:Ge,onMouseUp:Te,onTouchEnd:et,onTouchMove:Ze,onTouchStart:Ne,ref:Le},ae.createElement(qW,null),r)))}),JW=["width","height","responsive","children","className","style","compact","title","desc"];function eY(e,t){if(e==null)return{};var r,n,s=tY(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function tY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var rY=ae.forwardRef((e,t)=>{var{width:r,height:n,responsive:s,children:A,className:d,style:l,compact:y,title:b,desc:w}=e,S=eY(e,JW),F=ph(S);return y?ae.createElement(ae.Fragment,null,ae.createElement(Ab,{width:r,height:n}),ae.createElement(kT,{otherAttributes:F,title:b,desc:w},A)):ae.createElement(YW,{className:d,style:l,width:r,height:n,responsive:s??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},ae.createElement(kT,{otherAttributes:F,title:b,desc:w,ref:t},ae.createElement(GX,null,A)))});function CB(){return CB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},CB.apply(null,arguments)}var nY={top:5,right:5,bottom:5,left:5},iY={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:nY,reverseStackOrder:!1,syncMethod:"index",responsive:!1},aY=ae.forwardRef(function(t,r){var n,s=Rl(t.categoricalChartProps,iY),{chartName:A,defaultTooltipEventType:d,validateTooltipEventTypes:l,tooltipPayloadSearcher:y,categoricalChartProps:b}=t,w={chartName:A,defaultTooltipEventType:d,validateTooltipEventTypes:l,tooltipPayloadSearcher:y,eventEmitter:void 0};return ae.createElement(UW,{preloadedState:{options:w},reduxStoreName:(n=b.id)!==null&&n!==void 0?n:A},ae.createElement(kX,{chartData:b.data}),ae.createElement(MW,{layout:s.layout,margin:s.margin}),ae.createElement(PW,{baseValue:s.baseValue,accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className,reverseStackOrder:s.reverseStackOrder}),ae.createElement(rY,CB({},s,{ref:r})))}),sY=["axis"],r6=ae.forwardRef((e,t)=>ae.createElement(aY,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:sY,tooltipPayloadSearcher:Sq,categoricalChartProps:e,ref:t}));function oY({history:e,color:t}){if(!e||e.length===0)return null;const r=e.map(A=>({name:A.year,value:A.value})),n=Math.min(...r.map(A=>A.value)),s=Math.max(...r.map(A=>A.value));return De.jsxs("div",{className:"w-full h-24 mt-1",children:[" ",De.jsx(UL,{width:"100%",height:"100%",children:De.jsxs(r6,{data:r,margin:{top:5,right:5,bottom:0,left:5},children:[De.jsx(zC,{dataKey:"name",tick:{fill:"#64748b",fontSize:9,fontWeight:600},axisLine:!1,tickLine:!1,dy:5,interval:"preserveStartEnd"}),De.jsx(VO,{domain:[n*.9,s*1.1],hide:!0}),De.jsx(hO,{contentStyle:{backgroundColor:"rgba(15, 23, 42, 0.8)",backdropFilter:"blur(4px)",borderColor:"rgba(255,255,255,0.1)",borderRadius:"8px",fontSize:"10px",color:"#fff",padding:"4px 8px"},itemStyle:{color:t||"#22d3ee",padding:0},formatter:A=>[`${A} t`,""],labelStyle:{display:"none"},cursor:{stroke:"#fff",strokeWidth:1,strokeDasharray:"3 3",opacity:.3}}),De.jsx(RC,{type:"monotone",dataKey:"value",stroke:t||"#22d3ee",strokeWidth:2,dot:{r:2,fill:"#0f172a",stroke:t||"#22d3ee",strokeWidth:1.5},activeDot:{r:4,fill:t||"#22d3ee"}})]})})]})}var lY={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const AY=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Bs=(e,t)=>{const r=ae.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:A=2,absoluteStrokeWidth:d,className:l="",children:y,...b},w)=>ae.createElement("svg",{ref:w,...lY,width:s,height:s,stroke:n,strokeWidth:d?Number(A)*24/Number(s):A,className:["lucide",`lucide-${AY(e)}`,l].join(" "),...b},[...t.map(([S,F])=>ae.createElement(S,F)),...Array.isArray(y)?y:[y]]));return r.displayName=`${e}`,r};const uY=Bs("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const cY=Bs("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const n6=Bs("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const i6=Bs("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const hY=Bs("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const E_=Bs("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const fY=Bs("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);const dY=Bs("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const pY=Bs("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);const gY=Bs("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);const VC=Bs("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);const mY=Bs("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const qC=Bs("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const NT=Bs("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);const yY=Bs("MousePointer2",[["path",{d:"m4 4 7.07 17 2.51-7.39L21 11.07z",key:"1vqm48"}]]);const a6=Bs("ScanEye",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["path",{d:"M5 12s2.5-5 7-5 7 5 7 5-2.5 5-7 5-7-5-7-5",key:"nhuolu"}]]);const s6=Bs("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const vY=Bs("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);const GC=Bs("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);const $C=Bs("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const XC=Bs("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),_Y=ae.forwardRef(function({mapData:t,onLocationSelect:r,flyToLocation:n,radius:s,highlightedName:A,highlightedIds:d},l){const y=ae.useRef(null);ae.useImperativeHandle(l,()=>({resetViewForExport:()=>w.current?(y.current={pitch:w.current.getPitch(),bearing:w.current.getBearing()},w.current.setPitch(0),w.current.setBearing(0),w.current.triggerRepaint(),new Promise(Oe=>{const st=()=>{w.current.off("idle",st),Oe()};w.current.on("idle",st),setTimeout(Oe,600)})):Promise.resolve(),restoreView:()=>{!w.current||!y.current||(w.current.setPitch(y.current.pitch),w.current.setBearing(y.current.bearing),y.current=null)}}),[]);const b=ae.useRef(null),w=ae.useRef(null),S=ae.useRef(null),F=ae.useRef(null),T=ae.useRef(null),z=ae.useRef({mapData:t,radius:s,onLocationSelect:r});ae.useEffect(()=>{z.current={mapData:t,radius:s,onLocationSelect:r}},[t,s,r]);const[H,K]=ae.useState(!1),[q,ne]=ae.useState(null),[W,le]=ae.useState(null),[ce,me]=ae.useState(!1),[Ee,Ie]=ae.useState(2024),[ge,je]=ae.useState({range1:!0,range2:!0,range3:!0,range4:!0,range5:!0}),ie=ae.useRef(ce);ae.useEffect(()=>{ie.current=ce},[ce]),ae.useEffect(()=>{if(!W||!w.current||!T.current)return;const Oe=()=>{if(!W||!T.current)return;const st=w.current.project(W.lngLat);T.current.style.transform=`translate(${st.x}px, ${st.y}px)`};return Oe(),w.current.on("move",Oe),w.current.on("moveend",Oe),()=>{w.current&&(w.current.off("move",Oe),w.current.off("moveend",Oe))}},[W]);const de=ae.useCallback(()=>{if(!w.current||w.current.getSource("retc-source"))return;const Oe=w.current.getStyle().layers;let st;for(const be of Oe)if(be.type==="symbol"){st=be.id;break}w.current.addSource("buffer-source",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),w.current.addSource("connections-source",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),w.current.addSource("retc-source",{type:"geojson",data:{type:"FeatureCollection",features:[]},cluster:!0,clusterMaxZoom:10,clusterRadius:30}),w.current.addLayer({id:"buffer-fill",type:"fill",source:"buffer-source",paint:{"fill-color":"#10b981","fill-opacity":.1}},st),w.current.addLayer({id:"buffer-line",type:"line",source:"buffer-source",paint:{"line-color":"#34d399","line-width":2,"line-dasharray":[2,2]}},st),w.current.addLayer({id:"cluster-glow-outer",type:"circle",source:"retc-source",filter:["has","point_count"],paint:{"circle-color":"#06b6d4","circle-radius":["step",["get","point_count"],30,100,40,500,55],"circle-opacity":.15,"circle-blur":1}},st),w.current.addLayer({id:"cluster-glow-mid",type:"circle",source:"retc-source",filter:["has","point_count"],paint:{"circle-color":"#22d3ee","circle-radius":["step",["get","point_count"],22,100,28,500,38],"circle-opacity":.25,"circle-blur":.5}},st),w.current.addLayer({id:"clusters",type:"circle",source:"retc-source",filter:["has","point_count"],paint:{"circle-color":"#0891b2","circle-radius":["step",["get","point_count"],14,100,18,500,24],"circle-stroke-width":2,"circle-stroke-color":"rgba(255, 255, 255, 0.4)"}},st),w.current.addLayer({id:"cluster-core",type:"circle",source:"retc-source",filter:["has","point_count"],paint:{"circle-color":"#ffffff","circle-radius":["step",["get","point_count"],3,100,5,500,7],"circle-opacity":.6,"circle-blur":.3}},st),w.current.addLayer({id:"cluster-count",type:"symbol",source:"retc-source",filter:["has","point_count"],layout:{"text-field":"{point_count_abbreviated}","text-font":["Open Sans Bold","Arial Unicode MS Bold"],"text-size":["step",["get","point_count"],10,100,12,500,14]},paint:{"text-color":"#ffffff","text-halo-color":"rgba(0, 0, 0, 0.5)","text-halo-width":1}}),w.current.addLayer({id:"connections-line",type:"line",source:"connections-source",layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#22d3ee","line-width":1.5,"line-opacity":.4,"line-dasharray":[1,3]}},st),w.current.addLayer({id:"connections-label",type:"symbol",source:"connections-source",layout:{"text-field":["get","distLabel"],"symbol-placement":"line-center","text-size":12,"text-font":["Open Sans Bold","Arial Unicode MS Bold"],"text-offset":[0,-.8],"text-allow-overlap":!1,"text-ignore-placement":!1,"text-padding":5},paint:{"text-color":"rgba(255, 255, 255, 0.9)","text-halo-color":"#0f172a","text-halo-width":2,"text-opacity":.8}}),w.current.addLayer({id:"retc-points-hitbox",type:"circle",source:"retc-source",filter:["!",["has","point_count"]],paint:{"circle-color":"transparent","circle-radius":15}}),w.current.addLayer({id:"retc-pulse",type:"circle",source:"retc-source",filter:["all",["!",["has","point_count"]],["in","id_vu",""]],paint:{"circle-color":"#f43f5e","circle-radius":12,"circle-opacity":0,"circle-blur":.4}},st),w.current.addLayer({id:"retc-highlight",type:"circle",source:"retc-source",filter:["all",["!",["has","point_count"]],["==","name",""]],paint:{"circle-color":"transparent","circle-radius":8,"circle-stroke-width":3,"circle-stroke-color":"#fbbf24","circle-opacity":1}},st),w.current.addLayer({id:"retc-glow",type:"circle",source:"retc-source",filter:["!",["has","point_count"]],paint:{"circle-color":["step",["get","total_tonnage"],"#22c55e",30,"#84cc16",170,"#eab308",550,"#f97316",1700,"#ef4444"],"circle-radius":7,"circle-opacity":.25,"circle-blur":.5}},st),w.current.addLayer({id:"retc-points",type:"circle",source:"retc-source",filter:["!",["has","point_count"]],paint:{"circle-color":["step",["get","total_tonnage"],"#22c55e",30,"#84cc16",170,"#eab308",550,"#f97316",1700,"#ef4444"],"circle-radius":4,"circle-stroke-width":1,"circle-stroke-color":"rgba(255,255,255,0.5)"}},st),z.current.mapData&&w.current.getSource("retc-source").setData(z.current.mapData)},[]);ae.useEffect(()=>{if(!w.current)return w.current=new Bv.Map({container:b.current,style:"https://basemaps.cartocdn.com/gl/dark-matter-gl-style/style.json",center:[-70.6483,-33.4569],zoom:12,attributionControl:!1,doubleClickZoom:!0,preserveDrawingBuffer:!0}),w.current.addControl(new Bv.NavigationControl({showCompass:!1}),"bottom-right"),w.current.on("load",()=>{de(),K(!0),Le()}),w.current.on("click",Oe=>{const st=z.current,be=w.current.queryRenderedFeatures(Oe.point,{layers:["clusters"]});if(be.length>0){const ye=be[0].properties.cluster_id;w.current.getSource("retc-source").getClusterExpansionZoom(ye,(Te,Ne)=>{Te||w.current.easeTo({center:be[0].geometry.coordinates,zoom:Ne+.5})});return}const ee=w.current.queryRenderedFeatures(Oe.point,{layers:["retc-points-hitbox"]});if(ee.length>0){const ye=ee[0],Te=ye.geometry.coordinates.slice();let Ne=ye.properties.history;if(typeof Ne=="string")try{Ne=JSON.parse(Ne)}catch{}le({lngLat:Te,properties:ye.properties,history:Ne}),w.current.flyTo({center:Te,speed:.5}),me(!1)}else ie.current&&(le(null),Pe(Oe.lngLat.lng,Oe.lngLat.lat),Fe(Oe.lngLat.lng,Oe.lngLat.lat,st.radius||3,st.mapData),st.onLocationSelect&&st.onLocationSelect(Oe.lngLat))}),w.current.on("mouseenter","clusters",()=>w.current.getCanvas().style.cursor="pointer"),w.current.on("mouseleave","clusters",()=>it()),w.current.on("mouseenter","retc-points-hitbox",()=>w.current.getCanvas().style.cursor="pointer"),w.current.on("mouseleave","retc-points-hitbox",()=>it()),()=>{F.current&&cancelAnimationFrame(F.current)}},[]),ae.useEffect(()=>{H&&w.current&&w.current.getLayer("retc-highlight")&&(A?w.current.setFilter("retc-highlight",["==","name",A]):w.current.setFilter("retc-highlight",["==","name",""]))},[A,H]);const Fe=(Oe,st,be,ee)=>{if(!w.current)return;const ye=[Oe,st],Ne=Rk(ye,be,{steps:64,units:"kilometers"});if(w.current.getSource("buffer-source")&&w.current.getSource("buffer-source").setData(Ne),ee&&ee.features){const Ze=zk(ee,Ne),et=Ze.features.map(Ct=>Ct.properties.id_vu);w.current.getLayer("retc-pulse")&&(et.length>0?w.current.setFilter("retc-pulse",["in","id_vu",...et]):w.current.setFilter("retc-pulse",["in","id_vu","NonExistentID"]));const pt={type:"FeatureCollection",features:Ze.features.map(Ct=>{const ct=iU(ye,Ct.geometry.coordinates,{units:"kilometers"});return{feature:Ct,dist:ct}}).sort((Ct,ct)=>Ct.dist-ct.dist).slice(0,5).map(({feature:Ct,dist:ct})=>{const qt=xk([ye,Ct.geometry.coordinates]);return qt.properties={distLabel:`${ct.toFixed(2)} km`},qt})};w.current.getSource("connections-source")&&w.current.getSource("connections-source").setData(pt)}},Le=Oe=>{if(Oe||(Oe=performance.now()),w.current&&w.current.getLayer("retc-pulse")){const st=(Math.sin(Oe/500)+1)/2*.6+.2,be=15+Math.sin(Oe/500)*3;!isNaN(st)&&!isNaN(be)&&(w.current.setPaintProperty("retc-pulse","circle-opacity",st),w.current.setPaintProperty("retc-pulse","circle-radius",be))}F.current=requestAnimationFrame(Le)},it=Oe=>{w.current&&(w.current.getCanvas().style.cursor=ce?"crosshair":"")};ae.useEffect(()=>{it()},[ce]),ae.useEffect(()=>{H&&t&&w.current.getSource("retc-source")&&w.current.getSource("retc-source").setData(t)},[t,H]),ae.useEffect(()=>{H&&q&&s&&Fe(q.lng,q.lat,s,t)},[s,q,H,t]),ae.useEffect(()=>{if(!H||!w.current)return;const Oe=`tonnage_${Ee}`,st=["step",["get",Oe],"#3b82f6",30,"#8b5cf6",170,"#d946ef",550,"#f97316",1700,"#dc2626"],be=["step",["get",Oe],3,30,4,170,5,550,7,1700,10],ee=["step",["get",Oe],5,30,6,170,8,550,10,1700,14],ye=[];ge.range1&&ye.push(["<",["get",Oe],30]),ge.range2&&ye.push(["all",[">=",["get",Oe],30],["<",["get",Oe],170]]),ge.range3&&ye.push(["all",[">=",["get",Oe],170],["<",["get",Oe],550]]),ge.range4&&ye.push(["all",[">=",["get",Oe],550],["<",["get",Oe],1700]]),ge.range5&&ye.push([">=",["get",Oe],1700]);const Te=ye.length>0?["all",["!",["has","point_count"]],["any",...ye]]:["all",["!",["has","point_count"]],!1];if(w.current.getLayer("retc-points")){if(w.current.setPaintProperty("retc-points","circle-color",st),d&&d.length>0){const Ne=d.map(String),Ze=["in",["get","id_vu"],["literal",Ne]];w.current.setPaintProperty("retc-points","circle-stroke-color","#ffffff"),w.current.setPaintProperty("retc-points","circle-stroke-width",["case",Ze,3,0])}else w.current.setPaintProperty("retc-points","circle-stroke-width",0);w.current.setPaintProperty("retc-points","circle-radius",be),w.current.setFilter("retc-points",Te)}w.current.getLayer("retc-glow")&&(w.current.setPaintProperty("retc-glow","circle-color",st),w.current.setPaintProperty("retc-glow","circle-radius",ee),w.current.setFilter("retc-glow",Te)),w.current.getLayer("retc-points-hitbox")&&w.current.setFilter("retc-points-hitbox",Te)},[Ee,H,ge,d]),ae.useEffect(()=>{if(H&&n){const{lng:Oe,lat:st}=n;w.current.flyTo({center:[Oe,st],zoom:13.5}),ne({lng:Oe,lat:st}),S.current?S.current.setLngLat([Oe,st]):S.current=new Bv.Marker({color:"#f43f5e"}).setLngLat([Oe,st]).addTo(w.current),Fe(Oe,st,s||3,t),le(null),me(!0)}},[n,H]);const Pe=(Oe,st)=>{ne({lng:Oe,lat:st}),S.current?S.current.setLngLat([Oe,st]):S.current=new Bv.Marker({color:"#f43f5e"}).setLngLat([Oe,st]).addTo(w.current),Fe(Oe,st,s||3,t),r({lng:Oe,lat:st})},ke=Oe=>{Oe.stopPropagation(),le(null)},Ge=()=>{me(!ce)};return De.jsxs("div",{ref:b,className:"w-full h-screen absolute top-0 left-0",children:[De.jsx("button",{onClick:Ge,className:`absolute top-20 right-4 z-10 p-2.5 rounded-lg shadow-xl border transition-all duration-300 group ${ce?"bg-emerald-500 border-emerald-400 text-white shadow-emerald-500/20":"bg-slate-900/90 backdrop-blur border-slate-600 text-slate-400 hover:text-white hover:border-slate-500"}`,title:"Activar modo anlisis",children:De.jsx(a6,{size:20,className:ce?"animate-pulse":""})}),De.jsxs("div",{className:"absolute bottom-20 md:bottom-6 left-2 md:left-4 z-10 bg-slate-900/90 backdrop-blur-md border border-white/10 rounded-xl p-2 md:p-3 shadow-xl max-w-[170px] md:max-w-[200px]",children:[De.jsxs("div",{className:"mb-2 pb-2 border-b border-white/10",children:[De.jsx("p",{className:"text-[7px] md:text-[8px] text-slate-500 uppercase tracking-wider font-bold mb-1",children:"Seleccionar ao de datos"}),De.jsx("div",{className:"flex gap-1",children:[2021,2022,2023,2024].map(Oe=>De.jsx("button",{onClick:()=>Ie(Oe),className:`text-[9px] md:text-[10px] font-bold px-1.5 md:px-2 py-0.5 md:py-1 rounded transition-all ${Ee===Oe?"bg-cyan-500 text-white shadow-lg shadow-cyan-500/30":"bg-slate-800 text-slate-400 hover:bg-slate-700 hover:text-white"}`,children:Oe},Oe))})]}),De.jsxs("p",{className:"text-[7px] md:text-[8px] text-slate-500 uppercase tracking-wider font-bold mb-1.5",children:["Filtrar por toneladas (",Ee,")"]}),De.jsxs("div",{className:"flex flex-col gap-1 md:gap-1.5",children:[De.jsxs("button",{onClick:()=>je(Oe=>({...Oe,range1:!Oe.range1})),className:`flex items-center gap-1.5 md:gap-2 w-full text-left transition-opacity ${ge.range1?"opacity-100":"opacity-40"}`,children:[De.jsx("div",{className:"w-1.5 h-1.5 md:w-2 md:h-2 rounded-full bg-blue-500 border border-white/30 shrink-0"}),De.jsx("span",{className:"text-[9px] md:text-[10px] text-slate-300",children:"< 30 ton"})]}),De.jsxs("button",{onClick:()=>je(Oe=>({...Oe,range2:!Oe.range2})),className:`flex items-center gap-1.5 md:gap-2 w-full text-left transition-opacity ${ge.range2?"opacity-100":"opacity-40"}`,children:[De.jsx("div",{className:"w-2 h-2 md:w-2.5 md:h-2.5 rounded-full bg-violet-500 border border-white/30 shrink-0"}),De.jsx("span",{className:"text-[9px] md:text-[10px] text-slate-300",children:"30-170 ton"})]}),De.jsxs("button",{onClick:()=>je(Oe=>({...Oe,range3:!Oe.range3})),className:`flex items-center gap-1.5 md:gap-2 w-full text-left transition-opacity ${ge.range3?"opacity-100":"opacity-40"}`,children:[De.jsx("div",{className:"w-2.5 h-2.5 md:w-3 md:h-3 rounded-full bg-fuchsia-500 border border-white/30 shrink-0"}),De.jsx("span",{className:"text-[9px] md:text-[10px] text-slate-300",children:"170-550 ton"})]}),De.jsxs("button",{onClick:()=>je(Oe=>({...Oe,range4:!Oe.range4})),className:`flex items-center gap-1.5 md:gap-2 w-full text-left transition-opacity ${ge.range4?"opacity-100":"opacity-40"}`,children:[De.jsx("div",{className:"w-3 h-3 md:w-3.5 md:h-3.5 rounded-full bg-orange-500 border border-white/30 shrink-0"}),De.jsx("span",{className:"text-[9px] md:text-[10px] text-slate-300",children:"550-1.7k ton"})]}),De.jsxs("button",{onClick:()=>je(Oe=>({...Oe,range5:!Oe.range5})),className:`flex items-center gap-1.5 md:gap-2 w-full text-left transition-opacity ${ge.range5?"opacity-100":"opacity-40"}`,children:[De.jsx("div",{className:"w-4 h-4 md:w-5 md:h-5 rounded-full bg-red-600 border border-white/30 shrink-0"}),De.jsx("span",{className:"text-[9px] md:text-[10px] text-slate-300",children:"> 1.7k ton"})]})]}),De.jsx("div",{className:"hidden md:block mt-2 pt-2 border-t border-white/5",children:De.jsxs("div",{className:"flex items-center gap-2",children:[De.jsx("div",{className:"w-3 h-3 rounded-full bg-cyan-600 border border-white/30"}),De.jsx("span",{className:"text-[10px] text-slate-400",children:"Cluster (agrupados)"})]})})]}),W&&De.jsx("div",{ref:T,className:"absolute top-0 left-0 z-50 pointer-events-none will-change-transform",children:De.jsxs("div",{className:"transform -translate-x-1/2 -translate-y-[105%]",children:[De.jsxs("div",{className:"w-60 p-3 bg-slate-950/70 backdrop-blur-xl border border-white/10 rounded-2xl shadow-2xl shadow-black/50 pointer-events-auto relative transition-all animate-in fade-in zoom-in-95 slide-in-from-bottom-2",children:[De.jsx("button",{onClick:ke,className:"absolute -top-2 -right-2 bg-slate-800 text-slate-400 hover:text-white hover:bg-rose-500 rounded-full p-1 border border-slate-700 shadow-lg transition-all",children:De.jsx(XC,{size:12})}),De.jsxs("div",{className:"mb-1",children:[De.jsx("h3",{className:"font-bold text-slate-100 text-xs leading-tight mb-0.5 pr-2",children:W.properties.name}),De.jsx("span",{className:"inline-block px-1.5 py-0.5 rounded bg-white/5 border border-white/5 text-[9px] font-bold text-cyan-400 tracking-wide uppercase",children:W.properties.category})]}),De.jsxs("div",{className:"relative",children:[De.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-white/10 to-transparent"}),De.jsx(oY,{history:W.history,color:"#22d3ee"})]})]}),De.jsx("div",{className:"w-0 h-0 border-l-[6px] border-l-transparent border-r-[6px] border-r-transparent border-t-[6px] border-t-slate-900/80 absolute left-1/2 -translate-x-1/2 bottom-[-6px] blur-[1px]"})]})})]})});function bY({onSelectLocation:e}){const[t,r]=ae.useState(""),[n,s]=ae.useState([]),[A,d]=ae.useState(!1),l=ae.useRef(null);ae.useEffect(()=>{const w=setTimeout(()=>{t.length>4?y(t):s([])},800);return()=>clearTimeout(w)},[t]);const y=async w=>{d(!0);try{const S=`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(w)}&countrycodes=cl&addressdetails=1&limit=5`,T=await(await fetch(S)).json();s(T)}catch(S){console.error("Error buscando:",S)}d(!1)},b=w=>{const S=parseFloat(w.lat),F=parseFloat(w.lon),T=w.address.road?`${w.address.road} ${w.address.house_number||""}, ${w.address.city||w.address.town||""}`:w.display_name.split(",")[0];r(T),s([]),e({lng:F,lat:S})};return De.jsxs("div",{ref:l,className:"relative w-full max-w-md z-50 shadow-2xl",children:[De.jsxs("div",{className:"relative group",children:[De.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:De.jsx(s6,{className:"h-5 w-5 text-slate-400 group-focus-within:text-emerald-400 transition-colors"})}),De.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-3 border border-slate-600 rounded-xl leading-5 bg-slate-800 text-slate-100 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-500 sm:text-sm transition-all",placeholder:"Ej: Alameda 1340, Santiago",value:t,onChange:w=>r(w.target.value)}),A&&De.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:De.jsx(mY,{className:"animate-spin h-4 w-4 text-emerald-500"})})]}),n.length>0&&De.jsx("ul",{className:"absolute mt-2 w-full bg-slate-800 border border-slate-600 rounded-xl shadow-2xl max-h-60 overflow-auto z-50 divide-y divide-slate-700",children:n.map((w,S)=>De.jsxs("li",{onClick:()=>b(w),className:"cursor-pointer hover:bg-slate-700 p-3 transition-colors flex items-start gap-3",children:[De.jsx(qC,{className:"h-4 w-4 text-emerald-400 mt-1 shrink-0"}),De.jsxs("div",{children:[De.jsxs("p",{className:"text-sm font-medium text-slate-200",children:[w.address?.road||w.display_name.split(",")[0]," ",w.address?.house_number]}),De.jsx("p",{className:"text-xs text-slate-400 truncate w-64",children:w.display_name})]})]},S))})]})}function wY({isOpen:e,onClose:t,onStartTutorial:r}){return e?De.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm animate-in fade-in duration-300",children:De.jsxs("div",{className:"bg-slate-900 border border-white/10 rounded-2xl shadow-2xl max-w-lg w-full max-h-[85vh] overflow-hidden animate-in zoom-in-95 duration-300",children:[De.jsxs("div",{className:"relative p-6 pb-4 border-b border-white/10 bg-gradient-to-r from-cyan-500/10 to-violet-500/10",children:[De.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-slate-400 hover:text-white transition-colors",children:De.jsx(XC,{size:20})}),De.jsx("h1",{className:"text-xl font-bold text-white mb-1",children:" HuellaRETC"}),De.jsx("p",{className:"text-sm text-slate-400",children:"Mapa de Generadores Industriales de Residuos"})]}),De.jsxs("div",{className:"p-6 overflow-y-auto max-h-[60vh] space-y-4",children:[De.jsx("div",{className:"bg-cyan-500/10 border border-cyan-500/20 rounded-xl p-4",children:De.jsxs("p",{className:"text-sm text-slate-300 leading-relaxed",children:["Visualiza ",De.jsx("span",{className:"text-cyan-400 font-bold",children:"11,444 establecimientos industriales"})," que generan residuos no peligrosos en Chile, con datos oficiales del",De.jsx("span",{className:"text-cyan-400 font-bold",children:" RETC (Registro de Emisiones y Transferencia de Contaminantes) (2021-2024)"}),"."]})}),De.jsxs("div",{className:"space-y-3",children:[De.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-emerald-400 to-cyan-400 bg-clip-text text-transparent",children:"Bienvenido a HuellaRETC"}),De.jsxs("div",{className:"flex gap-3 items-start",children:[De.jsx("div",{className:"p-2 bg-violet-500/20 rounded-lg shrink-0",children:De.jsx(cY,{size:16,className:"text-violet-400"})}),De.jsx("div",{children:De.jsx("p",{className:"text-sm font-semibold text-white",children:"Selector de Ao"})})]}),De.jsxs("div",{className:"flex gap-3 items-start",children:[De.jsx("div",{className:"p-2 bg-fuchsia-500/20 rounded-lg shrink-0",children:De.jsx(pY,{size:16,className:"text-fuchsia-400"})}),De.jsxs("div",{children:[De.jsx("p",{className:"text-sm font-semibold text-white",children:"Filtro por Tonelaje"}),De.jsx("p",{className:"text-xs text-slate-400",children:"Filtra los puntos segn rangos de toneladas generadas."})]})]}),De.jsxs("div",{className:"flex gap-3 items-start",children:[De.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg shrink-0",children:De.jsx(yY,{size:16,className:"text-emerald-400"})}),De.jsxs("div",{children:[De.jsx("p",{className:"text-sm font-semibold text-white",children:"Modo Anlisis"}),De.jsx("p",{className:"text-xs text-slate-400",children:"Activa el botn de escaneo y haz clic en el mapa para analizar industrias cercanas."})]})]}),De.jsxs("div",{className:"flex gap-3 items-start",children:[De.jsx("div",{className:"p-2 bg-orange-500/20 rounded-lg shrink-0",children:De.jsx(qC,{size:16,className:"text-orange-400"})}),De.jsxs("div",{children:[De.jsx("p",{className:"text-sm font-semibold text-white",children:"Bsqueda de Direccin"}),De.jsx("p",{className:"text-xs text-slate-400",children:"Busca cualquier direccin en Chile para centrar el mapa."})]})]}),De.jsxs("div",{className:"flex gap-3 items-start",children:[De.jsx("div",{className:"p-2 bg-rose-500/20 rounded-lg shrink-0",children:De.jsx(uY,{size:16,className:"text-rose-400"})}),De.jsxs("div",{children:[De.jsx("p",{className:"text-sm font-semibold text-white",children:"Grficos Histricos"}),De.jsx("p",{className:"text-xs text-slate-400",children:"Visualiza la tendencia del Top 5 industrias en el rea seleccionada."})]})]}),De.jsxs("div",{className:"flex gap-3 items-start",children:[De.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg shrink-0",children:De.jsx(E_,{size:16,className:"text-blue-400"})}),De.jsxs("div",{children:[De.jsx("p",{className:"text-sm font-semibold text-white",children:"Exportar"}),De.jsx("p",{className:"text-xs text-slate-400",children:"Descarga el mapa como imagen PNG o documento PDF."})]})]})]}),De.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4",children:[De.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold mb-2",children:"Colores de los puntos"}),De.jsxs("div",{className:"flex flex-wrap gap-3 text-[10px]",children:[De.jsxs("span",{className:"flex items-center gap-1",children:[De.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500"})," <30 ton"]}),De.jsxs("span",{className:"flex items-center gap-1",children:[De.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-violet-500"})," 30-170"]}),De.jsxs("span",{className:"flex items-center gap-1",children:[De.jsx("span",{className:"w-3 h-3 rounded-full bg-fuchsia-500"})," 170-550"]}),De.jsxs("span",{className:"flex items-center gap-1",children:[De.jsx("span",{className:"w-3.5 h-3.5 rounded-full bg-orange-500"})," 550-1.7k"]}),De.jsxs("span",{className:"flex items-center gap-1",children:[De.jsx("span",{className:"w-4 h-4 rounded-full bg-red-600"})," >1.7k"]})]})]})]}),De.jsxs("div",{className:"p-4 border-t border-white/10 bg-slate-950/50 flex flex-col gap-3",children:[De.jsxs("button",{onClick:r,className:"w-full py-2.5 bg-gradient-to-r from-cyan-500 to-violet-500 hover:from-cyan-400 hover:to-violet-400 text-white font-bold rounded-lg transition-all shadow-lg shadow-cyan-500/20 flex items-center justify-center gap-2",children:[De.jsx("span",{className:"text-xl",children:""})," Ver Tutorial Rpido"]}),De.jsx("button",{onClick:t,className:"w-full py-2 text-slate-400 hover:text-white font-semibold text-sm transition-colors",children:"Saltar y explorar el mapa"})]})]})}):null}function xY({onClose:e}){const[t,r]=ae.useState(0),n=[{title:"Buscador de Direcciones",description:"Escribe una direccin (Ej: Alameda 1340) para volar rpidamente a un lugar de inters.",positionClass:"top-16 left-1/2 -translate-x-1/2 origin-top",icon:De.jsx(s6,{size:24,className:"text-cyan-400"})},{title:"Modo Anlisis Zonal",description:"Activa este botn para analizar un rea. Luego haz clic en el mapa para ver estadsticas de radio.",positionClass:"top-32 right-8 md:top-24 md:right-16 origin-top-right",icon:De.jsx(a6,{size:24,className:"text-emerald-400"})},{title:"Leyenda y Filtros",description:"Usa estos controles para filtrar por ao y por cantidad de toneladas. Haz clic en los colores para filtrar!",positionClass:"bottom-44 left-8 md:bottom-32 md:left-12 origin-bottom-left",icon:De.jsx(VC,{size:24,className:"text-violet-400"})},{title:"Exportar Reporte",description:"Genera un reporte profesional en PDF o imagen PNG de la zona que ests visualizando.",positionClass:"top-16 right-8 md:right-16 origin-top-right",icon:De.jsx(E_,{size:24,className:"text-rose-400"})}],s=()=>{t<n.length-1?r(t+1):e()},A=()=>{t>0&&r(t-1)};return De.jsxs("div",{className:"fixed inset-0 z-[100] bg-slate-950/80 backdrop-blur-sm animate-in fade-in duration-300",children:[De.jsxs("button",{onClick:e,className:"absolute top-4 right-4 text-white/50 hover:text-white transition-colors",children:[De.jsx("span",{className:"text-sm font-bold mr-2 uppercase tracking-wider",children:"Saltar tutorial"}),De.jsx(XC,{size:24,className:"inline"})]}),De.jsxs("div",{className:`absolute max-w-xs w-full p-5 bg-slate-900 border border-white/20 rounded-2xl shadow-2xl transition-all duration-500 ease-out ${n[t].positionClass}`,children:[De.jsxs("div",{className:"flex items-start gap-4 mb-3",children:[De.jsx("div",{className:"p-3 bg-white/5 rounded-xl border border-white/10 shrink-0",children:n[t].icon}),De.jsxs("div",{children:[De.jsxs("span",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest block mb-1",children:["Paso ",t+1," de ",n.length]}),De.jsx("h3",{className:"text-lg font-bold text-white leading-tight",children:n[t].title})]})]}),De.jsx("p",{className:"text-sm text-slate-300 mb-6 leading-relaxed",children:n[t].description}),De.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-white/10",children:[De.jsxs("button",{onClick:A,disabled:t===0,className:`flex items-center gap-1 text-sm font-bold transition-colors ${t===0?"text-slate-700 cursor-not-allowed":"text-slate-400 hover:text-white"}`,children:[De.jsx(n6,{size:16})," Anterior"]}),De.jsx("div",{className:"flex gap-1.5",children:n.map((d,l)=>De.jsx("div",{className:`w-1.5 h-1.5 rounded-full transition-all ${l===t?"bg-cyan-400 w-4":"bg-slate-700"}`},l))}),De.jsxs("button",{onClick:s,className:"flex items-center gap-1 text-sm font-bold text-cyan-400 hover:text-cyan-300 transition-colors",children:[t===n.length-1?"Finalizar":"Siguiente"," ",De.jsx(i6,{size:16})]})]})]},t)]})}function BY({id:e,analysis:t,mapSnapshot:r}){if(!t)return null;const n=new Date().toLocaleDateString("es-CL",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),{stats:s,topIds:A,chartData:d}=t,y=Object.keys(d[0]).filter(b=>b!=="year").map(b=>{const w=d.reduce((F,T)=>F+(T[b]||0),0),S=d[d.length-1][b]||0;return{name:b,total:w,lastValue:S}}).sort((b,w)=>w.total-b.total);return De.jsxs("div",{id:e,className:"bg-white text-slate-800 w-[1100px] h-auto min-h-[800px] p-10 relative hidden-on-screen",children:[De.jsxs("div",{className:"flex justify-between items-end border-b-2 border-slate-200 pb-4 mb-6",children:[De.jsxs("div",{children:[De.jsx("h1",{className:"text-3xl font-bold text-slate-900 flex items-center gap-2",children:" HuellaRETC"}),De.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Informe de Anlisis Territorial de Generacin de Residuos"})]}),De.jsxs("div",{className:"text-right",children:[De.jsx("p",{className:"text-sm font-bold text-slate-700 capitalize",children:n}),De.jsx("p",{className:"text-xs text-slate-400",children:"Datos Oficiales RETC"})]})]}),De.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[De.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-100",children:[De.jsx("p",{className:"text-xs text-slate-400 uppercase font-bold mb-1",children:"Total Industrias"}),De.jsx("p",{className:"text-3xl font-bold text-slate-800",children:s.count}),De.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["En un radio de ",s.radius,"km"]})]}),De.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-100",children:[De.jsx("p",{className:"text-xs text-slate-400 uppercase font-bold mb-1",children:"Tendencia (5 aos)"}),De.jsxs("div",{className:`flex items-center gap-2 text-2xl font-bold ${s.trend>0?"text-rose-500":"text-emerald-500"}`,children:[s.trend>0?De.jsx($C,{size:24}):De.jsx(GC,{size:24}),Math.abs(s.trend).toFixed(1),"%"]}),De.jsx("p",{className:"text-xs text-slate-500 mt-1",children:s.trend>0?"Aumento de generacin":"Reduccin de generacin"})]}),De.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-100 col-span-2",children:[De.jsx("p",{className:"text-xs text-slate-400 uppercase font-bold mb-1",children:"Resumen del Anlisis"}),De.jsxs("p",{className:"text-sm text-slate-600 leading-snug",children:["La zona analizada presenta ",s.count," establecimientos reportando al RETC. La tendencia observada en el periodo 2021-2024 es ",s.trend>0?"al alza":"a la baja",", lo que indica ",s.trend>0?"un incremento":"una disminucin"," en la carga ambiental de la zona."]})]})]}),De.jsxs("div",{className:"w-full h-[400px] bg-slate-100 rounded-xl overflow-hidden border border-slate-200 mb-6 relative",children:[r?De.jsx("img",{src:r,alt:"Mapa del sector",className:"w-full h-full object-cover"}):De.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-400",children:"Capturando mapa..."}),De.jsx("div",{className:"absolute bottom-4 left-4 bg-white/90 backdrop-blur px-3 py-1.5 rounded-lg border border-slate-200 shadow-sm",children:De.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-600",children:[De.jsx(qC,{size:14,className:"text-rose-500"}),De.jsxs("span",{children:["Zona de Anlisis (",s.radius," km)"]})]})})]}),De.jsxs("div",{className:"mb-6",children:[De.jsxs("h2",{className:"text-lg font-bold text-slate-800 mb-3 flex items-center gap-2",children:[De.jsx(VC,{size:18,className:"text-slate-500"}),"Principales Generadores (Top 5)"]}),De.jsx("div",{className:"overflow-hidden rounded-lg border border-slate-200",children:De.jsxs("table",{className:"w-full text-sm",children:[De.jsx("thead",{className:"bg-slate-50 text-slate-600 font-semibold border-b border-slate-200",children:De.jsxs("tr",{children:[De.jsx("th",{className:"px-4 py-3 text-left",children:"Empresa / Razon Social"}),De.jsx("th",{className:"px-4 py-3 text-right",children:"Total Acumulado (t)"}),De.jsx("th",{className:"px-4 py-3 text-right",children:"ltimo Ao (t)"}),De.jsx("th",{className:"px-4 py-3 text-center",children:"Estado"})]})}),De.jsx("tbody",{className:"divide-y divide-slate-100",children:y.map((b,w)=>De.jsxs("tr",{className:"bg-white",children:[De.jsx("td",{className:"px-4 py-3 font-medium text-slate-800",children:b.name}),De.jsx("td",{className:"px-4 py-3 text-right text-slate-600 font-mono",children:b.total.toLocaleString("es-CL")}),De.jsx("td",{className:"px-4 py-3 text-right text-slate-600 font-mono",children:b.lastValue.toLocaleString("es-CL")}),De.jsx("td",{className:"px-4 py-3 text-center",children:De.jsx("span",{className:"inline-block w-2.5 h-2.5 rounded-full bg-rose-500",title:"Alto Generador"})})]},w))})]})})]}),De.jsxs("div",{className:"border-t border-slate-200 pt-4 flex justify-between items-center text-xs text-slate-400",children:[De.jsx("p",{children:"Generado automticamente por HuellaRETC"}),De.jsxs("p",{className:"flex items-center gap-1",children:[De.jsx(hY,{size:12})," Fuente: Registro de Emisiones y Transferencia de Contaminantes (RETC)"]})]})]})}const CY=(e,t,r=3)=>{if(!t||!e)return null;const n=E2([e.lng,e.lat]),s=t.features.map(T=>{const z=iU(n,T,{units:"kilometers"});return{...T,properties:{...T.properties,distance:z}}}),A=s.filter(T=>T.properties.distance<=r),d=A.sort((T,z)=>{const H=T.properties.history.reduce((q,ne)=>q+ne.value,0);return z.properties.history.reduce((q,ne)=>q+ne.value,0)-H}).slice(0,5),l=d.map(T=>T.properties.name),b=[2021,2022,2023,2024].map(T=>{const z={year:T.toString()};return d.forEach(H=>{const K=H.properties.history.find(q=>q.year===T);z[H.properties.name]=K?K.value:0}),z}),w=A.reduce((T,z)=>T+(z.properties.history.find(H=>H.year===2021)?.value||0),0),S=A.reduce((T,z)=>T+(z.properties.history.find(H=>H.year===2024)?.value||0),0);let F=0;return w>0&&(F=(S-w)/w*100),{stats:{count:A.length,trend:F,radius:r},chartData:b,lineKeys:l,nearest:s.sort((T,z)=>T.properties.distance-z.properties.distance)[0],topIds:d.map(T=>T.properties.id_vu)}},RT=["#10b981","#3b82f6","#f59e0b","#ec4899","#8b5cf6","#06b6d4"],SY=({active:e,payload:t,label:r})=>{if(e&&t&&t.length){const n=[...t].sort((s,A)=>A.value-s.value);return De.jsxs("div",{className:"bg-slate-950/80 backdrop-blur-md border border-white/10 p-2.5 rounded-lg shadow-xl min-w-[140px]",children:[De.jsxs("p",{className:"text-xs font-bold text-slate-200 mb-1.5 border-b border-white/10 pb-1",children:["Ao ",r]}),De.jsx("div",{className:"flex flex-col gap-1",children:n.map((s,A)=>De.jsxs("div",{className:"flex items-center justify-between gap-3 text-[10px]",children:[De.jsxs("div",{className:"flex items-center gap-1.5 overflow-hidden",children:[De.jsx("span",{className:"w-1.5 h-1.5 rounded-full shrink-0 shadow-[0_0_5px_currentColor]",style:{backgroundColor:s.color,color:s.color}}),De.jsx("span",{className:"text-slate-400 truncate max-w-[80px]",title:s.name,children:s.name})]}),De.jsxs("span",{className:"font-mono font-medium text-white tabular-nums",children:[s.value," t"]})]},A))})]})}return null};function EY({data:e,keys:t,onHoverHighlight:r}){return!e||e.length===0||!t||t.length===0?De.jsx("div",{className:"h-40 flex items-center justify-center border border-dashed border-slate-700 rounded-lg bg-slate-800/30",children:De.jsx("p",{className:"text-slate-500 text-xs",children:"Sin datos."})}):De.jsx("div",{className:"w-full h-64 mt-2 select-none",children:De.jsx(UL,{width:"100%",height:"100%",children:De.jsxs(r6,{data:e,margin:{top:10,right:10,left:10,bottom:0},children:[De.jsx(kO,{strokeDasharray:"3 3",stroke:"#334155",vertical:!1,opacity:.5}),De.jsx(zC,{dataKey:"year",tick:{fill:"#64748b",fontSize:10},axisLine:!1,tickLine:!1,dy:10,interval:0,padding:{left:20,right:20}}),De.jsx(hO,{content:De.jsx(SY,{}),cursor:{stroke:"#fff",strokeWidth:1,strokeDasharray:"4 4",opacity:.3}}),De.jsx(zL,{wrapperStyle:{fontSize:"10px",paddingTop:"10px",opacity:.8,cursor:"pointer"},iconType:"circle",iconSize:8,onMouseEnter:n=>r(n.dataKey),onMouseLeave:()=>r(null)}),t.map((n,s)=>De.jsx(RC,{type:"monotone",dataKey:n,stroke:RT[s%RT.length],strokeWidth:2,dot:!1,activeDot:{r:4,strokeWidth:0,fill:"#fff"},connectNulls:!0,animationDuration:1e3},n))]})})})}function TY({analysis:e}){const t=ae.useMemo(()=>{if(!e)return null;const{count:s,trend:A,topIndustry:d}=e.stats,l=A>10,y=A<0,b=d?`Principal rubro: ${d}.`:"";let w="",S="",F="neutral",T=NT;return s===0?(w="Sin actividad industrial",S="No se detectan fuentes emisoras registradas en el radio seleccionado. El aire est libre de emisiones fijas directas reportadas.",F="success",T=vY):l?(w="Alerta: Emisiones en alza",S=`Zona con ${s} industrias. Se registra un aumento preocupante del ${A.toFixed(1)}% en emisiones los ltimos 5 aos. ${b}`,F="warning",T=$C):y?(w="Mejora: Emisiones a la baja",S=`Zona con ${s} industrias, pero con tendencia positiva: las emisiones han cado un ${Math.abs(A).toFixed(1)}% recientemente. ${b}`,F="success",T=GC):(w="Actividad estable",S=`Zona con actividad moderada (${s} industrias). Las emisiones se mantienen estables (${A>0?"+":""}${A.toFixed(1)}%) en el periodo. ${b}`,F="neutral",T=NT),{title:w,description:S,tone:F,Icon:T,trendVal:A}},[e]);if(!t)return null;const n={warning:{text:"text-rose-100",badgeText:"text-rose-400",badgeBg:"bg-rose-500/10 border-rose-500/20",bg:"from-rose-500 to-orange-500"},success:{text:"text-emerald-100",badgeText:"text-emerald-400",badgeBg:"bg-emerald-500/10 border-emerald-500/20",bg:"from-emerald-500 to-teal-500"},neutral:{text:"text-slate-100",badgeText:"text-blue-400",badgeBg:"bg-blue-500/10 border-blue-500/20",bg:"from-blue-500 to-indigo-500"}}[t.tone];return De.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50 shadow-sm relative overflow-hidden group hover:border-slate-600 transition-colors",children:[De.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 bg-gradient-to-br opacity-10 blur-2xl rounded-full -translate-y-1/2 translate-x-1/2 ${n.bg}`}),De.jsxs("div",{className:"relative z-10",children:[De.jsxs("div",{className:"flex items-center justify-between mb-2",children:[De.jsx("div",{className:"flex items-center gap-2",children:De.jsx("span",{className:"font-bold text-slate-400 text-[10px] uppercase tracking-widest",children:"INFORME GENERADO"})}),t.tone!=="neutral"&&t.trendVal!==void 0&&De.jsxs("div",{className:`flex items-center gap-1.5 text-xs font-bold px-2.5 py-1 rounded-full border ${n.badgeBg} ${n.badgeText}`,children:[De.jsx(t.Icon,{size:14,strokeWidth:2.5}),De.jsxs("span",{children:[Math.abs(t.trendVal).toFixed(1),"%"]})]})]}),De.jsx("h4",{className:`text-base font-bold mb-1.5 leading-tight ${n.text}`,children:t.title}),De.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:t.description})]})]})}var SB=function(e,t){return SB=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},SB(e,t)};function Dc(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");SB(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var EB=function(){return EB=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var A in r)Object.prototype.hasOwnProperty.call(r,A)&&(t[A]=r[A])}return t},EB.apply(this,arguments)};function AA(e,t,r,n){function s(A){return A instanceof r?A:new r(function(d){d(A)})}return new(r||(r=Promise))(function(A,d){function l(w){try{b(n.next(w))}catch(S){d(S)}}function y(w){try{b(n.throw(w))}catch(S){d(S)}}function b(w){w.done?A(w.value):s(w.value).then(l,y)}b((n=n.apply(e,[])).next())})}function Ol(e,t){var r={label:0,sent:function(){if(A[0]&1)throw A[1];return A[1]},trys:[],ops:[]},n,s,A,d;return d={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function l(b){return function(w){return y([b,w])}}function y(b){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(A=b[0]&2?s.return:b[0]?s.throw||((A=s.return)&&A.call(s),0):s.next)&&!(A=A.call(s,b[1])).done)return A;switch(s=0,A&&(b=[b[0]&2,A.value]),b[0]){case 0:case 1:A=b;break;case 4:return r.label++,{value:b[1],done:!1};case 5:r.label++,s=b[1],b=[0];continue;case 7:b=r.ops.pop(),r.trys.pop();continue;default:if(A=r.trys,!(A=A.length>0&&A[A.length-1])&&(b[0]===6||b[0]===2)){r=0;continue}if(b[0]===3&&(!A||b[1]>A[0]&&b[1]<A[3])){r.label=b[1];break}if(b[0]===6&&r.label<A[1]){r.label=A[1],A=b;break}if(A&&r.label<A[2]){r.label=A[2],r.ops.push(b);break}A[2]&&r.ops.pop(),r.trys.pop();continue}b=t.call(e,r)}catch(w){b=[6,w],s=0}finally{n=A=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}}function zv(e,t,r){if(arguments.length===2)for(var n=0,s=t.length,A;n<s;n++)(A||!(n in t))&&(A||(A=Array.prototype.slice.call(t,0,n)),A[n]=t[n]);return e.concat(A||t)}var lf=(function(){function e(t,r,n,s){this.left=t,this.top=r,this.width=n,this.height=s}return e.prototype.add=function(t,r,n,s){return new e(this.left+t,this.top+r,this.width+n,this.height+s)},e.fromClientRect=function(t,r){return new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height)},e.fromDOMRectList=function(t,r){var n=Array.from(r).find(function(s){return s.width!==0});return n?new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e})(),Ib=function(e,t){return lf.fromClientRect(e,t.getBoundingClientRect())},IY=function(e){var t=e.body,r=e.documentElement;if(!t||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(t.scrollWidth,r.scrollWidth),Math.max(t.offsetWidth,r.offsetWidth),Math.max(t.clientWidth,r.clientWidth)),s=Math.max(Math.max(t.scrollHeight,r.scrollHeight),Math.max(t.offsetHeight,r.offsetHeight),Math.max(t.clientHeight,r.clientHeight));return new lf(0,0,n,s)},Fb=function(e){for(var t=[],r=0,n=e.length;r<n;){var s=e.charCodeAt(r++);if(s>=55296&&s<=56319&&r<n){var A=e.charCodeAt(r++);(A&64512)===56320?t.push(((s&1023)<<10)+(A&1023)+65536):(t.push(s),r--)}else t.push(s)}return t},_s=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],s=-1,A="";++s<r;){var d=e[s];d<=65535?n.push(d):(d-=65536,n.push((d>>10)+55296,d%1024+56320)),(s+1===r||n.length>16384)&&(A+=String.fromCharCode.apply(String,n),n.length=0)}return A},zT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",FY=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Hv=0;Hv<zT.length;Hv++)FY[zT.charCodeAt(Hv)]=Hv;var HT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_0=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var jv=0;jv<HT.length;jv++)_0[HT.charCodeAt(jv)]=jv;var UY=function(e){var t=e.length*.75,r=e.length,n,s=0,A,d,l,y;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var b=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),w=Array.isArray(b)?b:new Uint8Array(b);for(n=0;n<r;n+=4)A=_0[e.charCodeAt(n)],d=_0[e.charCodeAt(n+1)],l=_0[e.charCodeAt(n+2)],y=_0[e.charCodeAt(n+3)],w[s++]=A<<2|d>>4,w[s++]=(d&15)<<4|l>>2,w[s++]=(l&3)<<6|y&63;return b},LY=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},MY=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},_p=5,ZC=11,Qx=2,PY=ZC-_p,o6=65536>>_p,OY=1<<_p,Nx=OY-1,DY=1024>>_p,kY=o6+DY,QY=kY,NY=32,RY=QY+NY,zY=65536>>ZC,HY=1<<PY,jY=HY-1,jT=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},KY=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},VY=function(e,t){var r=UY(e),n=Array.isArray(r)?MY(r):new Uint32Array(r),s=Array.isArray(r)?LY(r):new Uint16Array(r),A=24,d=jT(s,A/2,n[4]/2),l=n[5]===2?jT(s,(A+n[4])/2):KY(n,Math.ceil((A+n[4])/4));return new qY(n[0],n[1],n[2],n[3],d,l)},qY=(function(){function e(t,r,n,s,A,d){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=s,this.index=A,this.data=d}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>_p],r=(r<<Qx)+(t&Nx),this.data[r];if(t<=65535)return r=this.index[o6+(t-55296>>_p)],r=(r<<Qx)+(t&Nx),this.data[r];if(t<this.highStart)return r=RY-zY+(t>>ZC),r=this.index[r],r+=t>>_p&jY,r=this.index[r],r=(r<<Qx)+(t&Nx),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e})(),KT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",GY=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Kv=0;Kv<KT.length;Kv++)GY[KT.charCodeAt(Kv)]=Kv;var $Y="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",VT=50,XY=1,l6=2,A6=3,ZY=4,WY=5,qT=7,u6=8,GT=9,sd=10,TB=11,$T=12,IB=13,YY=14,b0=15,FB=16,Vv=17,h0=18,JY=19,XT=20,UB=21,f0=22,Rx=23,pg=24,_u=25,w0=26,x0=27,gg=28,eJ=29,Ap=30,tJ=31,qv=32,Gv=33,LB=34,MB=35,PB=36,W0=37,OB=38,C1=39,S1=40,zx=41,c6=42,rJ=43,nJ=[9001,65288],h6="!",Jn="",$v="",DB=VY($Y),zh=[Ap,PB],kB=[XY,l6,A6,WY],f6=[sd,u6],ZT=[x0,w0],iJ=kB.concat(f6),WT=[OB,C1,S1,LB,MB],aJ=[b0,IB],sJ=function(e,t){t===void 0&&(t="strict");var r=[],n=[],s=[];return e.forEach(function(A,d){var l=DB.get(A);if(l>VT?(s.push(!0),l-=VT):s.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(A)!==-1)return n.push(d),r.push(FB);if(l===ZY||l===TB){if(d===0)return n.push(d),r.push(Ap);var y=r[d-1];return iJ.indexOf(y)===-1?(n.push(n[d-1]),r.push(y)):(n.push(d),r.push(Ap))}if(n.push(d),l===tJ)return r.push(t==="strict"?UB:W0);if(l===c6||l===eJ)return r.push(Ap);if(l===rJ)return A>=131072&&A<=196605||A>=196608&&A<=262141?r.push(W0):r.push(Ap);r.push(l)}),[n,r,s]},Hx=function(e,t,r,n){var s=n[r];if(Array.isArray(e)?e.indexOf(s)!==-1:e===s)for(var A=r;A<=n.length;){A++;var d=n[A];if(d===t)return!0;if(d!==sd)break}if(s===sd)for(var A=r;A>0;){A--;var l=n[A];if(Array.isArray(e)?e.indexOf(l)!==-1:e===l)for(var y=r;y<=n.length;){y++;var d=n[y];if(d===t)return!0;if(d!==sd)break}if(l!==sd)break}return!1},YT=function(e,t){for(var r=e;r>=0;){var n=t[r];if(n===sd)r--;else return n}return 0},oJ=function(e,t,r,n,s){if(r[n]===0)return Jn;var A=n-1;if(Array.isArray(s)&&s[A]===!0)return Jn;var d=A-1,l=A+1,y=t[A],b=d>=0?t[d]:0,w=t[l];if(y===l6&&w===A6)return Jn;if(kB.indexOf(y)!==-1)return h6;if(kB.indexOf(w)!==-1||f6.indexOf(w)!==-1)return Jn;if(YT(A,t)===u6)return $v;if(DB.get(e[A])===TB||(y===qv||y===Gv)&&DB.get(e[l])===TB||y===qT||w===qT||y===GT||[sd,IB,b0].indexOf(y)===-1&&w===GT||[Vv,h0,JY,pg,gg].indexOf(w)!==-1||YT(A,t)===f0||Hx(Rx,f0,A,t)||Hx([Vv,h0],UB,A,t)||Hx($T,$T,A,t))return Jn;if(y===sd)return $v;if(y===Rx||w===Rx)return Jn;if(w===FB||y===FB)return $v;if([IB,b0,UB].indexOf(w)!==-1||y===YY||b===PB&&aJ.indexOf(y)!==-1||y===gg&&w===PB||w===XT||zh.indexOf(w)!==-1&&y===_u||zh.indexOf(y)!==-1&&w===_u||y===x0&&[W0,qv,Gv].indexOf(w)!==-1||[W0,qv,Gv].indexOf(y)!==-1&&w===w0||zh.indexOf(y)!==-1&&ZT.indexOf(w)!==-1||ZT.indexOf(y)!==-1&&zh.indexOf(w)!==-1||[x0,w0].indexOf(y)!==-1&&(w===_u||[f0,b0].indexOf(w)!==-1&&t[l+1]===_u)||[f0,b0].indexOf(y)!==-1&&w===_u||y===_u&&[_u,gg,pg].indexOf(w)!==-1)return Jn;if([_u,gg,pg,Vv,h0].indexOf(w)!==-1)for(var S=A;S>=0;){var F=t[S];if(F===_u)return Jn;if([gg,pg].indexOf(F)!==-1)S--;else break}if([x0,w0].indexOf(w)!==-1)for(var S=[Vv,h0].indexOf(y)!==-1?d:A;S>=0;){var F=t[S];if(F===_u)return Jn;if([gg,pg].indexOf(F)!==-1)S--;else break}if(OB===y&&[OB,C1,LB,MB].indexOf(w)!==-1||[C1,LB].indexOf(y)!==-1&&[C1,S1].indexOf(w)!==-1||[S1,MB].indexOf(y)!==-1&&w===S1||WT.indexOf(y)!==-1&&[XT,w0].indexOf(w)!==-1||WT.indexOf(w)!==-1&&y===x0||zh.indexOf(y)!==-1&&zh.indexOf(w)!==-1||y===pg&&zh.indexOf(w)!==-1||zh.concat(_u).indexOf(y)!==-1&&w===f0&&nJ.indexOf(e[l])===-1||zh.concat(_u).indexOf(w)!==-1&&y===h0)return Jn;if(y===zx&&w===zx){for(var T=r[A],z=1;T>0&&(T--,t[T]===zx);)z++;if(z%2!==0)return Jn}return y===qv&&w===Gv?Jn:$v},lJ=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var r=sJ(e,t.lineBreak),n=r[0],s=r[1],A=r[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(s=s.map(function(l){return[_u,Ap,c6].indexOf(l)!==-1?W0:l}));var d=t.wordBreak==="keep-all"?A.map(function(l,y){return l&&e[y]>=19968&&e[y]<=40959}):void 0;return[n,s,d]},AJ=(function(){function e(t,r,n,s){this.codePoints=t,this.required=r===h6,this.start=n,this.end=s}return e.prototype.slice=function(){return _s.apply(void 0,this.codePoints.slice(this.start,this.end))},e})(),uJ=function(e,t){var r=Fb(e),n=lJ(r,t),s=n[0],A=n[1],d=n[2],l=r.length,y=0,b=0;return{next:function(){if(b>=l)return{done:!0,value:null};for(var w=Jn;b<l&&(w=oJ(r,A,s,++b,d))===Jn;);if(w!==Jn||b===l){var S=new AJ(r,w,y,b);return y=b,{value:S,done:!1}}return{done:!0,value:null}}}},cJ=1,hJ=2,wy=4,JT=8,T_=10,eI=47,T0=92,fJ=9,dJ=32,Xv=34,d0=61,pJ=35,gJ=36,mJ=37,Zv=39,Wv=40,p0=41,yJ=95,VA=45,vJ=33,_J=60,bJ=62,wJ=64,xJ=91,BJ=93,CJ=61,SJ=123,Yv=63,EJ=125,tI=124,TJ=126,IJ=128,rI=65533,jx=42,pp=43,FJ=44,UJ=58,LJ=59,Y0=46,MJ=0,PJ=8,OJ=11,DJ=14,kJ=31,QJ=127,lh=-1,d6=48,p6=97,g6=101,NJ=102,RJ=117,zJ=122,m6=65,y6=69,v6=70,HJ=85,jJ=90,kl=function(e){return e>=d6&&e<=57},KJ=function(e){return e>=55296&&e<=57343},mg=function(e){return kl(e)||e>=m6&&e<=v6||e>=p6&&e<=NJ},VJ=function(e){return e>=p6&&e<=zJ},qJ=function(e){return e>=m6&&e<=jJ},GJ=function(e){return VJ(e)||qJ(e)},$J=function(e){return e>=IJ},Jv=function(e){return e===T_||e===fJ||e===dJ},I_=function(e){return GJ(e)||$J(e)||e===yJ},nI=function(e){return I_(e)||kl(e)||e===VA},XJ=function(e){return e>=MJ&&e<=PJ||e===OJ||e>=DJ&&e<=kJ||e===QJ},id=function(e,t){return e!==T0?!1:t!==T_},e1=function(e,t,r){return e===VA?I_(t)||id(t,r):I_(e)?!0:!!(e===T0&&id(e,t))},Kx=function(e,t,r){return e===pp||e===VA?kl(t)?!0:t===Y0&&kl(r):kl(e===Y0?t:e)},ZJ=function(e){var t=0,r=1;(e[t]===pp||e[t]===VA)&&(e[t]===VA&&(r=-1),t++);for(var n=[];kl(e[t]);)n.push(e[t++]);var s=n.length?parseInt(_s.apply(void 0,n),10):0;e[t]===Y0&&t++;for(var A=[];kl(e[t]);)A.push(e[t++]);var d=A.length,l=d?parseInt(_s.apply(void 0,A),10):0;(e[t]===y6||e[t]===g6)&&t++;var y=1;(e[t]===pp||e[t]===VA)&&(e[t]===VA&&(y=-1),t++);for(var b=[];kl(e[t]);)b.push(e[t++]);var w=b.length?parseInt(_s.apply(void 0,b),10):0;return r*(s+l*Math.pow(10,-d))*Math.pow(10,y*w)},WJ={type:2},YJ={type:3},JJ={type:4},eee={type:13},tee={type:8},ree={type:21},nee={type:9},iee={type:10},aee={type:11},see={type:12},oee={type:14},t1={type:23},lee={type:1},Aee={type:25},uee={type:24},cee={type:26},hee={type:27},fee={type:28},dee={type:29},pee={type:31},QB={type:32},_6=(function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat(Fb(t))},e.prototype.read=function(){for(var t=[],r=this.consumeToken();r!==QB;)t.push(r),r=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case Xv:return this.consumeStringToken(Xv);case pJ:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),s=this.peekCodePoint(2);if(nI(r)||id(n,s)){var A=e1(r,n,s)?hJ:cJ,d=this.consumeName();return{type:5,value:d,flags:A}}break;case gJ:if(this.peekCodePoint(0)===d0)return this.consumeCodePoint(),eee;break;case Zv:return this.consumeStringToken(Zv);case Wv:return WJ;case p0:return YJ;case jx:if(this.peekCodePoint(0)===d0)return this.consumeCodePoint(),oee;break;case pp:if(Kx(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case FJ:return JJ;case VA:var l=t,y=this.peekCodePoint(0),b=this.peekCodePoint(1);if(Kx(l,y,b))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(e1(l,y,b))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(y===VA&&b===bJ)return this.consumeCodePoint(),this.consumeCodePoint(),uee;break;case Y0:if(Kx(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case eI:if(this.peekCodePoint(0)===jx)for(this.consumeCodePoint();;){var w=this.consumeCodePoint();if(w===jx&&(w=this.consumeCodePoint(),w===eI))return this.consumeToken();if(w===lh)return this.consumeToken()}break;case UJ:return cee;case LJ:return hee;case _J:if(this.peekCodePoint(0)===vJ&&this.peekCodePoint(1)===VA&&this.peekCodePoint(2)===VA)return this.consumeCodePoint(),this.consumeCodePoint(),Aee;break;case wJ:var S=this.peekCodePoint(0),F=this.peekCodePoint(1),T=this.peekCodePoint(2);if(e1(S,F,T)){var d=this.consumeName();return{type:7,value:d}}break;case xJ:return fee;case T0:if(id(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case BJ:return dee;case CJ:if(this.peekCodePoint(0)===d0)return this.consumeCodePoint(),tee;break;case SJ:return aee;case EJ:return see;case RJ:case HJ:var z=this.peekCodePoint(0),H=this.peekCodePoint(1);return z===pp&&(mg(H)||H===Yv)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case tI:if(this.peekCodePoint(0)===d0)return this.consumeCodePoint(),nee;if(this.peekCodePoint(0)===tI)return this.consumeCodePoint(),ree;break;case TJ:if(this.peekCodePoint(0)===d0)return this.consumeCodePoint(),iee;break;case lh:return QB}return Jv(t)?(this.consumeWhiteSpace(),pee):kl(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):I_(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:_s(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],r=this.consumeCodePoint();mg(r)&&t.length<6;)t.push(r),r=this.consumeCodePoint();for(var n=!1;r===Yv&&t.length<6;)t.push(r),r=this.consumeCodePoint(),n=!0;if(n){var s=parseInt(_s.apply(void 0,t.map(function(y){return y===Yv?d6:y})),16),A=parseInt(_s.apply(void 0,t.map(function(y){return y===Yv?v6:y})),16);return{type:30,start:s,end:A}}var d=parseInt(_s.apply(void 0,t),16);if(this.peekCodePoint(0)===VA&&mg(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var l=[];mg(r)&&l.length<6;)l.push(r),r=this.consumeCodePoint();var A=parseInt(_s.apply(void 0,l),16);return{type:30,start:d,end:A}}else return{type:30,start:d,end:d}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===Wv?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Wv?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===lh)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===Zv||r===Xv){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===lh||this.peekCodePoint(0)===p0)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),t1)}for(;;){var s=this.consumeCodePoint();if(s===lh||s===p0)return{type:22,value:_s.apply(void 0,t)};if(Jv(s))return this.consumeWhiteSpace(),this.peekCodePoint(0)===lh||this.peekCodePoint(0)===p0?(this.consumeCodePoint(),{type:22,value:_s.apply(void 0,t)}):(this.consumeBadUrlRemnants(),t1);if(s===Xv||s===Zv||s===Wv||XJ(s))return this.consumeBadUrlRemnants(),t1;if(s===T0)if(id(s,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),t1;else t.push(s)}},e.prototype.consumeWhiteSpace=function(){for(;Jv(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===p0||t===lh)return;id(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var r=5e4,n="";t>0;){var s=Math.min(r,t);n+=_s.apply(void 0,this._value.splice(0,s)),t-=s}return this._value.shift(),n},e.prototype.consumeStringToken=function(t){var r="",n=0;do{var s=this._value[n];if(s===lh||s===void 0||s===t)return r+=this.consumeStringSlice(n),{type:0,value:r};if(s===T_)return this._value.splice(0,n),lee;if(s===T0){var A=this._value[n+1];A!==lh&&A!==void 0&&(A===T_?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):id(s,A)&&(r+=this.consumeStringSlice(n),r+=_s(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},e.prototype.consumeNumber=function(){var t=[],r=wy,n=this.peekCodePoint(0);for((n===pp||n===VA)&&t.push(this.consumeCodePoint());kl(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0);var s=this.peekCodePoint(1);if(n===Y0&&kl(s))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=JT;kl(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0),s=this.peekCodePoint(1);var A=this.peekCodePoint(2);if((n===y6||n===g6)&&((s===pp||s===VA)&&kl(A)||kl(s)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=JT;kl(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[ZJ(t),r]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),r=t[0],n=t[1],s=this.peekCodePoint(0),A=this.peekCodePoint(1),d=this.peekCodePoint(2);if(e1(s,A,d)){var l=this.consumeName();return{type:15,number:r,flags:n,unit:l}}return s===mJ?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(mg(t)){for(var r=_s(t);mg(this.peekCodePoint(0))&&r.length<6;)r+=_s(this.consumeCodePoint());Jv(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||KJ(n)||n>1114111?rI:n}return t===lh?rI:t},e.prototype.consumeName=function(){for(var t="";;){var r=this.consumeCodePoint();if(nI(r))t+=_s(r);else if(id(r,this.peekCodePoint(0)))t+=_s(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),t}},e})(),b6=(function(){function e(t){this._tokens=t}return e.create=function(t){var r=new _6;return r.write(t),new e(r.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var r=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var r=this.consumeComponentValue();if(r.type===32)return t;t.push(r),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var r={type:t,values:[]},n=this.consumeToken();;){if(n.type===32||mee(n,t))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var r={name:t.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?QB:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e})(),xy=function(e){return e.type===15},am=function(e){return e.type===17},Gi=function(e){return e.type===20},gee=function(e){return e.type===0},NB=function(e,t){return Gi(e)&&e.value===t},w6=function(e){return e.type!==31},$g=function(e){return e.type!==31&&e.type!==4},wh=function(e){var t=[],r=[];return e.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&t.push(r),t},mee=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},gd=function(e){return e.type===17||e.type===15},Rs=function(e){return e.type===16||gd(e)},x6=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},tl={type:17,number:0,flags:wy},WC={type:16,number:50,flags:wy},od={type:16,number:100,flags:wy},B0=function(e,t,r){var n=e[0],s=e[1];return[da(n,t),da(typeof s<"u"?s:n,r)]},da=function(e,t){if(e.type===16)return e.number/100*t;if(xy(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},B6="deg",C6="grad",S6="rad",E6="turn",Ub={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case B6:return Math.PI*t.number/180;case C6:return Math.PI/200*t.number;case S6:return t.number;case E6:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},T6=function(e){return e.type===15&&(e.unit===B6||e.unit===C6||e.unit===S6||e.unit===E6)},I6=function(e){var t=e.filter(Gi).map(function(r){return r.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[tl,tl];case"to top":case"bottom":return rc(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[tl,od];case"to right":case"left":return rc(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[od,od];case"to bottom":case"top":return rc(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[od,tl];case"to left":case"right":return rc(270)}return 0},rc=function(e){return Math.PI*e/180},cd={name:"color",parse:function(e,t){if(t.type===18){var r=yee[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return r(e,t.values)}if(t.type===5){if(t.value.length===3){var n=t.value.substring(0,1),s=t.value.substring(1,2),A=t.value.substring(2,3);return ld(parseInt(n+n,16),parseInt(s+s,16),parseInt(A+A,16),1)}if(t.value.length===4){var n=t.value.substring(0,1),s=t.value.substring(1,2),A=t.value.substring(2,3),d=t.value.substring(3,4);return ld(parseInt(n+n,16),parseInt(s+s,16),parseInt(A+A,16),parseInt(d+d,16)/255)}if(t.value.length===6){var n=t.value.substring(0,2),s=t.value.substring(2,4),A=t.value.substring(4,6);return ld(parseInt(n,16),parseInt(s,16),parseInt(A,16),1)}if(t.value.length===8){var n=t.value.substring(0,2),s=t.value.substring(2,4),A=t.value.substring(4,6),d=t.value.substring(6,8);return ld(parseInt(n,16),parseInt(s,16),parseInt(A,16),parseInt(d,16)/255)}}if(t.type===20){var l=ef[t.value.toUpperCase()];if(typeof l<"u")return l}return ef.TRANSPARENT}},hd=function(e){return(255&e)===0},Eo=function(e){var t=255&e,r=255&e>>8,n=255&e>>16,s=255&e>>24;return t<255?"rgba("+s+","+n+","+r+","+t/255+")":"rgb("+s+","+n+","+r+")"},ld=function(e,t,r,n){return(e<<24|t<<16|r<<8|Math.round(n*255)<<0)>>>0},iI=function(e,t){if(e.type===17)return e.number;if(e.type===16){var r=t===3?1:255;return t===3?e.number/100*r:Math.round(e.number/100*r)}return 0},aI=function(e,t){var r=t.filter($g);if(r.length===3){var n=r.map(iI),s=n[0],A=n[1],d=n[2];return ld(s,A,d,1)}if(r.length===4){var l=r.map(iI),s=l[0],A=l[1],d=l[2],y=l[3];return ld(s,A,d,y)}return 0};function Vx(e,t,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(t-e)*r*6+e:r<1/2?t:r<2/3?(t-e)*6*(2/3-r)+e:e}var sI=function(e,t){var r=t.filter($g),n=r[0],s=r[1],A=r[2],d=r[3],l=(n.type===17?rc(n.number):Ub.parse(e,n))/(Math.PI*2),y=Rs(s)?s.number/100:0,b=Rs(A)?A.number/100:0,w=typeof d<"u"&&Rs(d)?da(d,1):1;if(y===0)return ld(b*255,b*255,b*255,1);var S=b<=.5?b*(y+1):b+y-b*y,F=b*2-S,T=Vx(F,S,l+1/3),z=Vx(F,S,l),H=Vx(F,S,l-1/3);return ld(T*255,z*255,H*255,w)},yee={hsl:sI,hsla:sI,rgb:aI,rgba:aI},I0=function(e,t){return cd.parse(e,b6.create(t).parseComponentValue())},ef={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},vee={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(Gi(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},_ee={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Lb=function(e,t){var r=cd.parse(e,t[0]),n=t[1];return n&&Rs(n)?{color:r,stop:n}:{color:r,stop:null}},oI=function(e,t){var r=e[0],n=e[e.length-1];r.stop===null&&(r.stop=tl),n.stop===null&&(n.stop=od);for(var s=[],A=0,d=0;d<e.length;d++){var l=e[d].stop;if(l!==null){var y=da(l,t);y>A?s.push(y):s.push(A),A=y}else s.push(null)}for(var b=null,d=0;d<s.length;d++){var w=s[d];if(w===null)b===null&&(b=d);else if(b!==null){for(var S=d-b,F=s[b-1],T=(w-F)/(S+1),z=1;z<=S;z++)s[b+z-1]=T*z;b=null}}return e.map(function(H,K){var q=H.color;return{color:q,stop:Math.max(Math.min(1,s[K]/t),0)}})},bee=function(e,t,r){var n=t/2,s=r/2,A=da(e[0],t)-n,d=s-da(e[1],r);return(Math.atan2(d,A)+Math.PI*2)%(Math.PI*2)},wee=function(e,t,r){var n=typeof e=="number"?e:bee(e,t,r),s=Math.abs(t*Math.sin(n))+Math.abs(r*Math.cos(n)),A=t/2,d=r/2,l=s/2,y=Math.sin(n-Math.PI/2)*l,b=Math.cos(n-Math.PI/2)*l;return[s,A-b,A+b,d-y,d+y]},Ic=function(e,t){return Math.sqrt(e*e+t*t)},lI=function(e,t,r,n,s){var A=[[0,0],[0,t],[e,0],[e,t]];return A.reduce(function(d,l){var y=l[0],b=l[1],w=Ic(r-y,n-b);return(s?w<d.optimumDistance:w>d.optimumDistance)?{optimumCorner:l,optimumDistance:w}:d},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},xee=function(e,t,r,n,s){var A=0,d=0;switch(e.size){case 0:e.shape===0?A=d=Math.min(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-s)):e.shape===1&&(A=Math.min(Math.abs(t),Math.abs(t-n)),d=Math.min(Math.abs(r),Math.abs(r-s)));break;case 2:if(e.shape===0)A=d=Math.min(Ic(t,r),Ic(t,r-s),Ic(t-n,r),Ic(t-n,r-s));else if(e.shape===1){var l=Math.min(Math.abs(r),Math.abs(r-s))/Math.min(Math.abs(t),Math.abs(t-n)),y=lI(n,s,t,r,!0),b=y[0],w=y[1];A=Ic(b-t,(w-r)/l),d=l*A}break;case 1:e.shape===0?A=d=Math.max(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-s)):e.shape===1&&(A=Math.max(Math.abs(t),Math.abs(t-n)),d=Math.max(Math.abs(r),Math.abs(r-s)));break;case 3:if(e.shape===0)A=d=Math.max(Ic(t,r),Ic(t,r-s),Ic(t-n,r),Ic(t-n,r-s));else if(e.shape===1){var l=Math.max(Math.abs(r),Math.abs(r-s))/Math.max(Math.abs(t),Math.abs(t-n)),S=lI(n,s,t,r,!1),b=S[0],w=S[1];A=Ic(b-t,(w-r)/l),d=l*A}break}return Array.isArray(e.size)&&(A=da(e.size[0],n),d=e.size.length===2?da(e.size[1],s):A),[A,d]},Bee=function(e,t){var r=rc(180),n=[];return wh(t).forEach(function(s,A){if(A===0){var d=s[0];if(d.type===20&&d.value==="to"){r=I6(s);return}else if(T6(d)){r=Ub.parse(e,d);return}}var l=Lb(e,s);n.push(l)}),{angle:r,stops:n,type:1}},r1=function(e,t){var r=rc(180),n=[];return wh(t).forEach(function(s,A){if(A===0){var d=s[0];if(d.type===20&&["top","left","right","bottom"].indexOf(d.value)!==-1){r=I6(s);return}else if(T6(d)){r=(Ub.parse(e,d)+rc(270))%rc(360);return}}var l=Lb(e,s);n.push(l)}),{angle:r,stops:n,type:1}},Cee=function(e,t){var r=rc(180),n=[],s=1,A=0,d=3,l=[];return wh(t).forEach(function(y,b){var w=y[0];if(b===0){if(Gi(w)&&w.value==="linear"){s=1;return}else if(Gi(w)&&w.value==="radial"){s=2;return}}if(w.type===18){if(w.name==="from"){var S=cd.parse(e,w.values[0]);n.push({stop:tl,color:S})}else if(w.name==="to"){var S=cd.parse(e,w.values[0]);n.push({stop:od,color:S})}else if(w.name==="color-stop"){var F=w.values.filter($g);if(F.length===2){var S=cd.parse(e,F[1]),T=F[0];am(T)&&n.push({stop:{type:16,number:T.number*100,flags:T.flags},color:S})}}}}),s===1?{angle:(r+rc(180))%rc(360),stops:n,type:s}:{size:d,shape:A,stops:n,position:l,type:s}},F6="closest-side",U6="farthest-side",L6="closest-corner",M6="farthest-corner",P6="circle",O6="ellipse",D6="cover",k6="contain",See=function(e,t){var r=0,n=3,s=[],A=[];return wh(t).forEach(function(d,l){var y=!0;if(l===0){var b=!1;y=d.reduce(function(S,F){if(b)if(Gi(F))switch(F.value){case"center":return A.push(WC),S;case"top":case"left":return A.push(tl),S;case"right":case"bottom":return A.push(od),S}else(Rs(F)||gd(F))&&A.push(F);else if(Gi(F))switch(F.value){case P6:return r=0,!1;case O6:return r=1,!1;case"at":return b=!0,!1;case F6:return n=0,!1;case D6:case U6:return n=1,!1;case k6:case L6:return n=2,!1;case M6:return n=3,!1}else if(gd(F)||Rs(F))return Array.isArray(n)||(n=[]),n.push(F),!1;return S},y)}if(y){var w=Lb(e,d);s.push(w)}}),{size:n,shape:r,stops:s,position:A,type:2}},n1=function(e,t){var r=0,n=3,s=[],A=[];return wh(t).forEach(function(d,l){var y=!0;if(l===0?y=d.reduce(function(w,S){if(Gi(S))switch(S.value){case"center":return A.push(WC),!1;case"top":case"left":return A.push(tl),!1;case"right":case"bottom":return A.push(od),!1}else if(Rs(S)||gd(S))return A.push(S),!1;return w},y):l===1&&(y=d.reduce(function(w,S){if(Gi(S))switch(S.value){case P6:return r=0,!1;case O6:return r=1,!1;case k6:case F6:return n=0,!1;case U6:return n=1,!1;case L6:return n=2,!1;case D6:case M6:return n=3,!1}else if(gd(S)||Rs(S))return Array.isArray(n)||(n=[]),n.push(S),!1;return w},y)),y){var b=Lb(e,d);s.push(b)}}),{size:n,shape:r,stops:s,position:A,type:2}},Eee=function(e){return e.type===1},Tee=function(e){return e.type===2},YC={name:"image",parse:function(e,t){if(t.type===22){var r={url:t.value,type:0};return e.cache.addImage(t.value),r}if(t.type===18){var n=Q6[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return n(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function Iee(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!Q6[e.name])}var Q6={"linear-gradient":Bee,"-moz-linear-gradient":r1,"-ms-linear-gradient":r1,"-o-linear-gradient":r1,"-webkit-linear-gradient":r1,"radial-gradient":See,"-moz-radial-gradient":n1,"-ms-radial-gradient":n1,"-o-radial-gradient":n1,"-webkit-radial-gradient":n1,"-webkit-gradient":Cee},Fee={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t.filter(function(n){return $g(n)&&Iee(n)}).map(function(n){return YC.parse(e,n)})}},Uee={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(Gi(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Lee={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return wh(t).map(function(r){return r.filter(Rs)}).map(x6)}},Mee={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return wh(t).map(function(r){return r.filter(Gi).map(function(n){return n.value}).join(" ")}).map(Pee)}},Pee=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Og;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(Og||(Og={}));var Oee={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return wh(t).map(function(r){return r.filter(Dee)})}},Dee=function(e){return Gi(e)||Rs(e)},Mb=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},kee=Mb("top"),Qee=Mb("right"),Nee=Mb("bottom"),Ree=Mb("left"),Pb=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,r){return x6(r.filter(Rs))}}},zee=Pb("top-left"),Hee=Pb("top-right"),jee=Pb("bottom-right"),Kee=Pb("bottom-left"),Ob=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Vee=Ob("top"),qee=Ob("right"),Gee=Ob("bottom"),$ee=Ob("left"),Db=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,r){return xy(r)?r.number:0}}},Xee=Db("top"),Zee=Db("right"),Wee=Db("bottom"),Yee=Db("left"),Jee={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},ete={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},tte={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(Gi).reduce(function(r,n){return r|rte(n.value)},0)}},rte=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},nte={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},ite={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},F_;(function(e){e.NORMAL="normal",e.STRICT="strict"})(F_||(F_={}));var ate={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return F_.STRICT;case"normal":default:return F_.NORMAL}}},ste={name:"line-height",initialValue:"normal",prefix:!1,type:4},AI=function(e,t){return Gi(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:Rs(e)?da(e,t):t},ote={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:YC.parse(e,t)}},lte={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},RB={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},kb=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},Ate=kb("top"),ute=kb("right"),cte=kb("bottom"),hte=kb("left"),fte={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(Gi).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},dte={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},Qb=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},pte=Qb("top"),gte=Qb("right"),mte=Qb("bottom"),yte=Qb("left"),vte={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},_te={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},bte={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&NB(t[0],"none")?[]:wh(t).map(function(r){for(var n={color:ef.TRANSPARENT,offsetX:tl,offsetY:tl,blur:tl},s=0,A=0;A<r.length;A++){var d=r[A];gd(d)?(s===0?n.offsetX=d:s===1?n.offsetY=d:n.blur=d,s++):n.color=cd.parse(e,d)}return n})}},wte={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},xte={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var r=Ste[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return r(t.values)}return null}},Bte=function(e){var t=e.filter(function(r){return r.type===17}).map(function(r){return r.number});return t.length===6?t:null},Cte=function(e){var t=e.filter(function(y){return y.type===17}).map(function(y){return y.number}),r=t[0],n=t[1];t[2],t[3];var s=t[4],A=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var d=t[12],l=t[13];return t[14],t[15],t.length===16?[r,n,s,A,d,l]:null},Ste={matrix:Bte,matrix3d:Cte},uI={type:16,number:50,flags:wy},Ete=[uI,uI],Tte={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var r=t.filter(Rs);return r.length!==2?Ete:[r[0],r[1]]}},Ite={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},F0;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(F0||(F0={}));var Fte={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return F0.BREAK_ALL;case"keep-all":return F0.KEEP_ALL;case"normal":default:return F0.NORMAL}}},Ute={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(am(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},N6={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},Lte={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return am(t)?t.number:1}},Mte={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Pte={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(Gi).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},Ote={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var r=[],n=[];return t.forEach(function(s){switch(s.type){case 20:case 0:r.push(s.value);break;case 17:r.push(s.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(s){return s.indexOf(" ")===-1?s:"'"+s+"'"})}},Dte={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},kte={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(am(t))return t.number;if(Gi(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},Qte={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(Gi).map(function(r){return r.value})}},Nte={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Ao=function(e,t){return(e&t)!==0},Rte={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t}},zte={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;for(var n=[],s=t.filter(w6),A=0;A<s.length;A++){var d=s[A],l=s[A+1];if(d.type===20){var y=l&&am(l)?l.number:1;n.push({counter:d.value,increment:y})}}return n}},Hte={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var r=[],n=t.filter(w6),s=0;s<n.length;s++){var A=n[s],d=n[s+1];if(Gi(A)&&A.value!=="none"){var l=d&&am(d)?d.number:0;r.push({counter:A.value,reset:l})}}return r}},jte={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(xy).map(function(r){return N6.parse(e,r)})}},Kte={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;var n=[],s=t.filter(gee);if(s.length%2!==0)return null;for(var A=0;A<s.length;A+=2){var d=s[A].value,l=s[A+1].value;n.push({open:d,close:l})}return n}},cI=function(e,t,r){if(!e)return"";var n=e[Math.min(t,e.length-1)];return n?r?n.open:n.close:""},Vte={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&NB(t[0],"none")?[]:wh(t).map(function(r){for(var n={color:255,offsetX:tl,offsetY:tl,blur:tl,spread:tl,inset:!1},s=0,A=0;A<r.length;A++){var d=r[A];NB(d,"inset")?n.inset=!0:gd(d)?(s===0?n.offsetX=d:s===1?n.offsetY=d:s===2?n.blur=d:n.spread=d,s++):n.color=cd.parse(e,d)}return n})}},qte={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var r=[0,1,2],n=[];return t.filter(Gi).forEach(function(s){switch(s.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(s){n.indexOf(s)===-1&&n.push(s)}),n}},Gte={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},$te={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return xy(t)?t.number:0}},Xte=(function(){function e(t,r){var n,s;this.animationDuration=xr(t,jte,r.animationDuration),this.backgroundClip=xr(t,vee,r.backgroundClip),this.backgroundColor=xr(t,_ee,r.backgroundColor),this.backgroundImage=xr(t,Fee,r.backgroundImage),this.backgroundOrigin=xr(t,Uee,r.backgroundOrigin),this.backgroundPosition=xr(t,Lee,r.backgroundPosition),this.backgroundRepeat=xr(t,Mee,r.backgroundRepeat),this.backgroundSize=xr(t,Oee,r.backgroundSize),this.borderTopColor=xr(t,kee,r.borderTopColor),this.borderRightColor=xr(t,Qee,r.borderRightColor),this.borderBottomColor=xr(t,Nee,r.borderBottomColor),this.borderLeftColor=xr(t,Ree,r.borderLeftColor),this.borderTopLeftRadius=xr(t,zee,r.borderTopLeftRadius),this.borderTopRightRadius=xr(t,Hee,r.borderTopRightRadius),this.borderBottomRightRadius=xr(t,jee,r.borderBottomRightRadius),this.borderBottomLeftRadius=xr(t,Kee,r.borderBottomLeftRadius),this.borderTopStyle=xr(t,Vee,r.borderTopStyle),this.borderRightStyle=xr(t,qee,r.borderRightStyle),this.borderBottomStyle=xr(t,Gee,r.borderBottomStyle),this.borderLeftStyle=xr(t,$ee,r.borderLeftStyle),this.borderTopWidth=xr(t,Xee,r.borderTopWidth),this.borderRightWidth=xr(t,Zee,r.borderRightWidth),this.borderBottomWidth=xr(t,Wee,r.borderBottomWidth),this.borderLeftWidth=xr(t,Yee,r.borderLeftWidth),this.boxShadow=xr(t,Vte,r.boxShadow),this.color=xr(t,Jee,r.color),this.direction=xr(t,ete,r.direction),this.display=xr(t,tte,r.display),this.float=xr(t,nte,r.cssFloat),this.fontFamily=xr(t,Ote,r.fontFamily),this.fontSize=xr(t,Dte,r.fontSize),this.fontStyle=xr(t,Nte,r.fontStyle),this.fontVariant=xr(t,Qte,r.fontVariant),this.fontWeight=xr(t,kte,r.fontWeight),this.letterSpacing=xr(t,ite,r.letterSpacing),this.lineBreak=xr(t,ate,r.lineBreak),this.lineHeight=xr(t,ste,r.lineHeight),this.listStyleImage=xr(t,ote,r.listStyleImage),this.listStylePosition=xr(t,lte,r.listStylePosition),this.listStyleType=xr(t,RB,r.listStyleType),this.marginTop=xr(t,Ate,r.marginTop),this.marginRight=xr(t,ute,r.marginRight),this.marginBottom=xr(t,cte,r.marginBottom),this.marginLeft=xr(t,hte,r.marginLeft),this.opacity=xr(t,Lte,r.opacity);var A=xr(t,fte,r.overflow);this.overflowX=A[0],this.overflowY=A[A.length>1?1:0],this.overflowWrap=xr(t,dte,r.overflowWrap),this.paddingTop=xr(t,pte,r.paddingTop),this.paddingRight=xr(t,gte,r.paddingRight),this.paddingBottom=xr(t,mte,r.paddingBottom),this.paddingLeft=xr(t,yte,r.paddingLeft),this.paintOrder=xr(t,qte,r.paintOrder),this.position=xr(t,_te,r.position),this.textAlign=xr(t,vte,r.textAlign),this.textDecorationColor=xr(t,Mte,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=xr(t,Pte,(s=r.textDecorationLine)!==null&&s!==void 0?s:r.textDecoration),this.textShadow=xr(t,bte,r.textShadow),this.textTransform=xr(t,wte,r.textTransform),this.transform=xr(t,xte,r.transform),this.transformOrigin=xr(t,Tte,r.transformOrigin),this.visibility=xr(t,Ite,r.visibility),this.webkitTextStrokeColor=xr(t,Gte,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=xr(t,$te,r.webkitTextStrokeWidth),this.wordBreak=xr(t,Fte,r.wordBreak),this.zIndex=xr(t,Ute,r.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return hd(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return Ao(this.display,4)||Ao(this.display,33554432)||Ao(this.display,268435456)||Ao(this.display,536870912)||Ao(this.display,67108864)||Ao(this.display,134217728)},e})(),Zte=(function(){function e(t,r){this.content=xr(t,Rte,r.content),this.quotes=xr(t,Kte,r.quotes)}return e})(),hI=(function(){function e(t,r){this.counterIncrement=xr(t,zte,r.counterIncrement),this.counterReset=xr(t,Hte,r.counterReset)}return e})(),xr=function(e,t,r){var n=new _6,s=r!==null&&typeof r<"u"?r.toString():t.initialValue;n.write(s);var A=new b6(n.read());switch(t.type){case 2:var d=A.parseComponentValue();return t.parse(e,Gi(d)?d.value:t.initialValue);case 0:return t.parse(e,A.parseComponentValue());case 1:return t.parse(e,A.parseComponentValues());case 4:return A.parseComponentValue();case 3:switch(t.format){case"angle":return Ub.parse(e,A.parseComponentValue());case"color":return cd.parse(e,A.parseComponentValue());case"image":return YC.parse(e,A.parseComponentValue());case"length":var l=A.parseComponentValue();return gd(l)?l:tl;case"length-percentage":var y=A.parseComponentValue();return Rs(y)?y:tl;case"time":return N6.parse(e,A.parseComponentValue())}break}},Wte="data-html2canvas-debug",Yte=function(e){var t=e.getAttribute(Wte);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},zB=function(e,t){var r=Yte(e);return r===1||t===r},xh=(function(){function e(t,r){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,zB(r,3))debugger;this.styles=new Xte(t,window.getComputedStyle(r,null)),KB(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=Ib(this.context,r),zB(r,4)&&(this.flags|=16)}return e})(),Jte="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",fI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",C0=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var i1=0;i1<fI.length;i1++)C0[fI.charCodeAt(i1)]=i1;var ere=function(e){var t=e.length*.75,r=e.length,n,s=0,A,d,l,y;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var b=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),w=Array.isArray(b)?b:new Uint8Array(b);for(n=0;n<r;n+=4)A=C0[e.charCodeAt(n)],d=C0[e.charCodeAt(n+1)],l=C0[e.charCodeAt(n+2)],y=C0[e.charCodeAt(n+3)],w[s++]=A<<2|d>>4,w[s++]=(d&15)<<4|l>>2,w[s++]=(l&3)<<6|y&63;return b},tre=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},rre=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},bp=5,JC=11,qx=2,nre=JC-bp,R6=65536>>bp,ire=1<<bp,Gx=ire-1,are=1024>>bp,sre=R6+are,ore=sre,lre=32,Are=ore+lre,ure=65536>>JC,cre=1<<nre,hre=cre-1,dI=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},fre=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},dre=function(e,t){var r=ere(e),n=Array.isArray(r)?rre(r):new Uint32Array(r),s=Array.isArray(r)?tre(r):new Uint16Array(r),A=24,d=dI(s,A/2,n[4]/2),l=n[5]===2?dI(s,(A+n[4])/2):fre(n,Math.ceil((A+n[4])/4));return new pre(n[0],n[1],n[2],n[3],d,l)},pre=(function(){function e(t,r,n,s,A,d){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=s,this.index=A,this.data=d}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>bp],r=(r<<qx)+(t&Gx),this.data[r];if(t<=65535)return r=this.index[R6+(t-55296>>bp)],r=(r<<qx)+(t&Gx),this.data[r];if(t<this.highStart)return r=Are-ure+(t>>JC),r=this.index[r],r+=t>>bp&hre,r=this.index[r],r=(r<<qx)+(t&Gx),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e})(),pI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",gre=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var a1=0;a1<pI.length;a1++)gre[pI.charCodeAt(a1)]=a1;var mre=1,$x=2,Xx=3,gI=4,mI=5,yre=7,yI=8,Zx=9,Wx=10,vI=11,_I=12,bI=13,wI=14,Yx=15,vre=function(e){for(var t=[],r=0,n=e.length;r<n;){var s=e.charCodeAt(r++);if(s>=55296&&s<=56319&&r<n){var A=e.charCodeAt(r++);(A&64512)===56320?t.push(((s&1023)<<10)+(A&1023)+65536):(t.push(s),r--)}else t.push(s)}return t},_re=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],s=-1,A="";++s<r;){var d=e[s];d<=65535?n.push(d):(d-=65536,n.push((d>>10)+55296,d%1024+56320)),(s+1===r||n.length>16384)&&(A+=String.fromCharCode.apply(String,n),n.length=0)}return A},bre=dre(Jte),Yu="",Jx="",wre=function(e){return bre.get(e)},xre=function(e,t,r){var n=r-2,s=t[n],A=t[r-1],d=t[r];if(A===$x&&d===Xx)return Yu;if(A===$x||A===Xx||A===gI||d===$x||d===Xx||d===gI)return Jx;if(A===yI&&[yI,Zx,vI,_I].indexOf(d)!==-1||(A===vI||A===Zx)&&(d===Zx||d===Wx)||(A===_I||A===Wx)&&d===Wx||d===bI||d===mI||d===yre||A===mre)return Yu;if(A===bI&&d===wI){for(;s===mI;)s=t[--n];if(s===wI)return Yu}if(A===Yx&&d===Yx){for(var l=0;s===Yx;)l++,s=t[--n];if(l%2===0)return Yu}return Jx},Bre=function(e){var t=vre(e),r=t.length,n=0,s=0,A=t.map(wre);return{next:function(){if(n>=r)return{done:!0,value:null};for(var d=Yu;n<r&&(d=xre(t,A,++n))===Yu;);if(d!==Yu||n===r){var l=_re.apply(null,t.slice(s,n));return s=n,{value:l,done:!1}}return{done:!0,value:null}}}},Cre=function(e){for(var t=Bre(e),r=[],n;!(n=t.next()).done;)n.value&&r.push(n.value.slice());return r},Sre=function(e){var t=123;if(e.createRange){var r=e.createRange();if(r.getBoundingClientRect){var n=e.createElement("boundtest");n.style.height=t+"px",n.style.display="block",e.body.appendChild(n),r.selectNode(n);var s=r.getBoundingClientRect(),A=Math.round(s.height);if(e.body.removeChild(n),A===t)return!0}}return!1},Ere=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var r=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=t.firstChild,s=Fb(n.data).map(function(y){return _s(y)}),A=0,d={},l=s.every(function(y,b){r.setStart(n,A),r.setEnd(n,A+y.length);var w=r.getBoundingClientRect();A+=y.length;var S=w.x>d.x||w.y>d.y;return d=w,b===0?!0:S});return e.body.removeChild(t),l},Tre=function(){return typeof new Image().crossOrigin<"u"},Ire=function(){return typeof new XMLHttpRequest().responseType=="string"},Fre=function(e){var t=new Image,r=e.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(t,0,0),r.toDataURL()}catch{return!1}return!0},xI=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},Ure=function(e){var t=e.createElement("canvas"),r=100;t.width=r,t.height=r;var n=t.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var s=new Image,A=t.toDataURL();s.src=A;var d=HB(r,r,0,0,s);return n.fillStyle="red",n.fillRect(0,0,r,r),BI(d).then(function(l){n.drawImage(l,0,0);var y=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var b=e.createElement("div");return b.style.backgroundImage="url("+A+")",b.style.height=r+"px",xI(y)?BI(HB(r,r,0,0,b)):Promise.reject(!1)}).then(function(l){return n.drawImage(l,0,0),xI(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},HB=function(e,t,r,n,s){var A="http://www.w3.org/2000/svg",d=document.createElementNS(A,"svg"),l=document.createElementNS(A,"foreignObject");return d.setAttributeNS(null,"width",e.toString()),d.setAttributeNS(null,"height",t.toString()),l.setAttributeNS(null,"width","100%"),l.setAttributeNS(null,"height","100%"),l.setAttributeNS(null,"x",r.toString()),l.setAttributeNS(null,"y",n.toString()),l.setAttributeNS(null,"externalResourcesRequired","true"),d.appendChild(l),l.appendChild(s),d},BI=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){return t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},Jo={get SUPPORT_RANGE_BOUNDS(){var e=Sre(document);return Object.defineProperty(Jo,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Jo.SUPPORT_RANGE_BOUNDS&&Ere(document);return Object.defineProperty(Jo,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=Fre(document);return Object.defineProperty(Jo,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?Ure(document):Promise.resolve(!1);return Object.defineProperty(Jo,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=Tre();return Object.defineProperty(Jo,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=Ire();return Object.defineProperty(Jo,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Jo,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Jo,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},U0=(function(){function e(t,r){this.text=t,this.bounds=r}return e})(),Lre=function(e,t,r,n){var s=Ore(t,r),A=[],d=0;return s.forEach(function(l){if(r.textDecorationLine.length||l.trim().length>0)if(Jo.SUPPORT_RANGE_BOUNDS){var y=CI(n,d,l.length).getClientRects();if(y.length>1){var b=eS(l),w=0;b.forEach(function(F){A.push(new U0(F,lf.fromDOMRectList(e,CI(n,w+d,F.length).getClientRects()))),w+=F.length})}else A.push(new U0(l,lf.fromDOMRectList(e,y)))}else{var S=n.splitText(l.length);A.push(new U0(l,Mre(e,n))),n=S}else Jo.SUPPORT_RANGE_BOUNDS||(n=n.splitText(l.length));d+=l.length}),A},Mre=function(e,t){var r=t.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(t.cloneNode(!0));var s=t.parentNode;if(s){s.replaceChild(n,t);var A=Ib(e,n);return n.firstChild&&s.replaceChild(n.firstChild,n),A}}return lf.EMPTY},CI=function(e,t,r){var n=e.ownerDocument;if(!n)throw new Error("Node has no owner document");var s=n.createRange();return s.setStart(e,t),s.setEnd(e,t+r),s},eS=function(e){if(Jo.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(r){return r.segment})}return Cre(e)},Pre=function(e,t){if(Jo.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(e)).map(function(n){return n.segment})}return kre(e,t)},Ore=function(e,t){return t.letterSpacing!==0?eS(e):Pre(e,t)},Dre=[32,160,4961,65792,65793,4153,4241],kre=function(e,t){for(var r=uJ(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),n=[],s,A=function(){if(s.value){var d=s.value.slice(),l=Fb(d),y="";l.forEach(function(b){Dre.indexOf(b)===-1?y+=_s(b):(y.length&&n.push(y),n.push(_s(b)),y="")}),y.length&&n.push(y)}};!(s=r.next()).done;)A();return n},Qre=(function(){function e(t,r,n){this.text=Nre(r.data,n.textTransform),this.textBounds=Lre(t,this.text,n,r)}return e})(),Nre=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(Rre,zre);case 2:return e.toUpperCase();default:return e}},Rre=/(^|\s|:|-|\(|\))([a-z])/g,zre=function(e,t,r){return e.length>0?t+r.toUpperCase():e},z6=(function(e){Dc(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.src=n.currentSrc||n.src,s.intrinsicWidth=n.naturalWidth,s.intrinsicHeight=n.naturalHeight,s.context.cache.addImage(s.src),s}return t})(xh),H6=(function(e){Dc(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.canvas=n,s.intrinsicWidth=n.width,s.intrinsicHeight=n.height,s}return t})(xh),j6=(function(e){Dc(t,e);function t(r,n){var s=e.call(this,r,n)||this,A=new XMLSerializer,d=Ib(r,n);return n.setAttribute("width",d.width+"px"),n.setAttribute("height",d.height+"px"),s.svg="data:image/svg+xml,"+encodeURIComponent(A.serializeToString(n)),s.intrinsicWidth=n.width.baseVal.value,s.intrinsicHeight=n.height.baseVal.value,s.context.cache.addImage(s.svg),s}return t})(xh),K6=(function(e){Dc(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.value=n.value,s}return t})(xh),jB=(function(e){Dc(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.start=n.start,s.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,s}return t})(xh),Hre=[{type:15,flags:0,unit:"px",number:3}],jre=[{type:16,flags:0,number:50}],Kre=function(e){return e.width>e.height?new lf(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new lf(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},Vre=function(e){var t=e.type===qre?new Array(e.value.length+1).join(""):e.value;return t.length===0?e.placeholder||"":t},U_="checkbox",L_="radio",qre="password",SI=707406591,tS=(function(e){Dc(t,e);function t(r,n){var s=e.call(this,r,n)||this;switch(s.type=n.type.toLowerCase(),s.checked=n.checked,s.value=Vre(n),(s.type===U_||s.type===L_)&&(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=Kre(s.bounds)),s.type){case U_:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=Hre;break;case L_:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=jre;break}return s}return t})(xh),V6=(function(e){Dc(t,e);function t(r,n){var s=e.call(this,r,n)||this,A=n.options[n.selectedIndex||0];return s.value=A&&A.text||"",s}return t})(xh),q6=(function(e){Dc(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.value=n.value,s}return t})(xh),G6=(function(e){Dc(t,e);function t(r,n){var s=e.call(this,r,n)||this;s.src=n.src,s.width=parseInt(n.width,10)||0,s.height=parseInt(n.height,10)||0,s.backgroundColor=s.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){s.tree=X6(r,n.contentWindow.document.documentElement);var A=n.contentWindow.document.documentElement?I0(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):ef.TRANSPARENT,d=n.contentWindow.document.body?I0(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):ef.TRANSPARENT;s.backgroundColor=hd(A)?hd(d)?s.styles.backgroundColor:d:A}}catch{}return s}return t})(xh),Gre=["OL","UL","MENU"],E1=function(e,t,r,n){for(var s=t.firstChild,A=void 0;s;s=A)if(A=s.nextSibling,Z6(s)&&s.data.trim().length>0)r.textNodes.push(new Qre(e,s,r.styles));else if(Ug(s))if(eD(s)&&s.assignedNodes)s.assignedNodes().forEach(function(l){return E1(e,l,r,n)});else{var d=$6(e,s);d.styles.isVisible()&&($re(s,d,n)?d.flags|=4:Xre(d.styles)&&(d.flags|=2),Gre.indexOf(s.tagName)!==-1&&(d.flags|=8),r.elements.push(d),s.slot,s.shadowRoot?E1(e,s.shadowRoot,d,n):!M_(s)&&!W6(s)&&!P_(s)&&E1(e,s,d,n))}},$6=function(e,t){return VB(t)?new z6(e,t):Y6(t)?new H6(e,t):W6(t)?new j6(e,t):Zre(t)?new K6(e,t):Wre(t)?new jB(e,t):Yre(t)?new tS(e,t):P_(t)?new V6(e,t):M_(t)?new q6(e,t):J6(t)?new G6(e,t):new xh(e,t)},X6=function(e,t){var r=$6(e,t);return r.flags|=4,E1(e,t,r,r),r},$re=function(e,t,r){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||rS(e)&&r.styles.isTransparent()},Xre=function(e){return e.isPositioned()||e.isFloating()},Z6=function(e){return e.nodeType===Node.TEXT_NODE},Ug=function(e){return e.nodeType===Node.ELEMENT_NODE},KB=function(e){return Ug(e)&&typeof e.style<"u"&&!T1(e)},T1=function(e){return typeof e.className=="object"},Zre=function(e){return e.tagName==="LI"},Wre=function(e){return e.tagName==="OL"},Yre=function(e){return e.tagName==="INPUT"},Jre=function(e){return e.tagName==="HTML"},W6=function(e){return e.tagName==="svg"},rS=function(e){return e.tagName==="BODY"},Y6=function(e){return e.tagName==="CANVAS"},EI=function(e){return e.tagName==="VIDEO"},VB=function(e){return e.tagName==="IMG"},J6=function(e){return e.tagName==="IFRAME"},TI=function(e){return e.tagName==="STYLE"},ene=function(e){return e.tagName==="SCRIPT"},M_=function(e){return e.tagName==="TEXTAREA"},P_=function(e){return e.tagName==="SELECT"},eD=function(e){return e.tagName==="SLOT"},II=function(e){return e.tagName.indexOf("-")>0},tne=(function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(t){var r=this.counters[t];return r&&r.length?r[r.length-1]:1},e.prototype.getCounterValues=function(t){var r=this.counters[t];return r||[]},e.prototype.pop=function(t){var r=this;t.forEach(function(n){return r.counters[n].pop()})},e.prototype.parse=function(t){var r=this,n=t.counterIncrement,s=t.counterReset,A=!0;n!==null&&n.forEach(function(l){var y=r.counters[l.counter];y&&l.increment!==0&&(A=!1,y.length||y.push(1),y[Math.max(0,y.length-1)]+=l.increment)});var d=[];return A&&s.forEach(function(l){var y=r.counters[l.counter];d.push(l.counter),y||(y=r.counters[l.counter]=[]),y.push(l.reset)}),d},e})(),FI={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},UI={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},rne={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},nne={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},yg=function(e,t,r,n,s,A){return e<t||e>r?J0(e,s,A.length>0):n.integers.reduce(function(d,l,y){for(;e>=l;)e-=l,d+=n.values[y];return d},"")+A},tD=function(e,t,r,n){var s="";do r||e--,s=n(e)+s,e/=t;while(e*t>=t);return s},ys=function(e,t,r,n,s){var A=r-t+1;return(e<0?"-":"")+(tD(Math.abs(e),A,n,function(d){return _s(Math.floor(d%A)+t)})+s)},ip=function(e,t,r){r===void 0&&(r=". ");var n=t.length;return tD(Math.abs(e),n,!1,function(s){return t[Math.floor(s%n)]})+r},Cg=1,ed=2,td=4,S0=8,Hh=function(e,t,r,n,s,A){if(e<-9999||e>9999)return J0(e,4,s.length>0);var d=Math.abs(e),l=s;if(d===0)return t[0]+l;for(var y=0;d>0&&y<=4;y++){var b=d%10;b===0&&Ao(A,Cg)&&l!==""?l=t[b]+l:b>1||b===1&&y===0||b===1&&y===1&&Ao(A,ed)||b===1&&y===1&&Ao(A,td)&&e>100||b===1&&y>1&&Ao(A,S0)?l=t[b]+(y>0?r[y-1]:"")+l:b===1&&y>0&&(l=r[y-1]+l),d=Math.floor(d/10)}return(e<0?n:"")+l},LI="",MI="",PI="",e2="",J0=function(e,t,r){var n=r?". ":"",s=r?"":"",A=r?", ":"",d=r?" ":"";switch(t){case 0:return""+d;case 1:return""+d;case 2:return""+d;case 5:var l=ys(e,48,57,!0,n);return l.length<4?"0"+l:l;case 4:return ip(e,"",s);case 6:return yg(e,1,3999,FI,3,n).toLowerCase();case 7:return yg(e,1,3999,FI,3,n);case 8:return ys(e,945,969,!1,n);case 9:return ys(e,97,122,!1,n);case 10:return ys(e,65,90,!1,n);case 11:return ys(e,1632,1641,!0,n);case 12:case 49:return yg(e,1,9999,UI,3,n);case 35:return yg(e,1,9999,UI,3,n).toLowerCase();case 13:return ys(e,2534,2543,!0,n);case 14:case 30:return ys(e,6112,6121,!0,n);case 15:return ip(e,"",s);case 16:return ip(e,"",s);case 17:case 48:return Hh(e,"",LI,"",s,ed|td|S0);case 47:return Hh(e,"",MI,"",s,Cg|ed|td|S0);case 42:return Hh(e,"",LI,"",s,ed|td|S0);case 41:return Hh(e,"",MI,"",s,Cg|ed|td|S0);case 26:return Hh(e,"","",PI,s,0);case 25:return Hh(e,"","",PI,s,Cg|ed|td);case 31:return Hh(e,"","",e2,A,Cg|ed|td);case 33:return Hh(e,"","",e2,A,0);case 32:return Hh(e,"","",e2,A,Cg|ed|td);case 18:return ys(e,2406,2415,!0,n);case 20:return yg(e,1,19999,nne,3,n);case 21:return ys(e,2790,2799,!0,n);case 22:return ys(e,2662,2671,!0,n);case 22:return yg(e,1,10999,rne,3,n);case 23:return ip(e,"");case 24:return ip(e,"");case 27:return ys(e,3302,3311,!0,n);case 28:return ip(e,"",s);case 29:return ip(e,"",s);case 34:return ys(e,3792,3801,!0,n);case 37:return ys(e,6160,6169,!0,n);case 38:return ys(e,4160,4169,!0,n);case 39:return ys(e,2918,2927,!0,n);case 40:return ys(e,1776,1785,!0,n);case 43:return ys(e,3046,3055,!0,n);case 44:return ys(e,3174,3183,!0,n);case 45:return ys(e,3664,3673,!0,n);case 46:return ys(e,3872,3881,!0,n);case 3:default:return ys(e,48,57,!0,n)}},rD="data-html2canvas-ignore",OI=(function(){function e(t,r,n){if(this.context=t,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new tne,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(t,r){var n=this,s=ine(t,r);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var A=t.defaultView.pageXOffset,d=t.defaultView.pageYOffset,l=s.contentWindow,y=l.document,b=one(s).then(function(){return AA(n,void 0,void 0,function(){var w,S;return Ol(this,function(F){switch(F.label){case 0:return this.scrolledElements.forEach(cne),l&&(l.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(l.scrollY!==r.top||l.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-r.left,l.scrollY-r.top,0,0))),w=this.options.onclone,S=this.clonedReferenceElement,typeof S>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:y.fonts&&y.fonts.ready?[4,y.fonts.ready]:[3,2];case 1:F.sent(),F.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,sne(y)]:[3,4];case 3:F.sent(),F.label=4;case 4:return typeof w=="function"?[2,Promise.resolve().then(function(){return w(y,S)}).then(function(){return s})]:[2,s]}})})});return y.open(),y.write(Ane(document.doctype)+"<html></html>"),une(this.referenceElement.ownerDocument,A,d),y.replaceChild(y.adoptNode(this.documentElement),y.documentElement),y.close(),b},e.prototype.createElementClone=function(t){if(zB(t,2))debugger;if(Y6(t))return this.createCanvasClone(t);if(EI(t))return this.createVideoClone(t);if(TI(t))return this.createStyleClone(t);var r=t.cloneNode(!1);return VB(r)&&(VB(t)&&t.currentSrc&&t.currentSrc!==t.src&&(r.src=t.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),II(r)?this.createCustomElementClone(r):r},e.prototype.createCustomElementClone=function(t){var r=document.createElement("html2canvascustomelement");return t2(t.style,r),r},e.prototype.createStyleClone=function(t){try{var r=t.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(A,d){return d&&typeof d.cssText=="string"?A+d.cssText:A},""),s=t.cloneNode(!1);return s.textContent=n,s}}catch(A){if(this.context.logger.error("Unable to access cssRules property",A),A.name!=="SecurityError")throw A}return t.cloneNode(!1)},e.prototype.createCanvasClone=function(t){var r;if(this.options.inlineImages&&t.ownerDocument){var n=t.ownerDocument.createElement("img");try{return n.src=t.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var s=t.cloneNode(!1);try{s.width=t.width,s.height=t.height;var A=t.getContext("2d"),d=s.getContext("2d");if(d)if(!this.options.allowTaint&&A)d.putImageData(A.getImageData(0,0,t.width,t.height),0,0);else{var l=(r=t.getContext("webgl2"))!==null&&r!==void 0?r:t.getContext("webgl");if(l){var y=l.getContextAttributes();y?.preserveDrawingBuffer===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}d.drawImage(t,0,0)}return s}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return s},e.prototype.createVideoClone=function(t){var r=t.ownerDocument.createElement("canvas");r.width=t.offsetWidth,r.height=t.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(t,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var s=t.ownerDocument.createElement("canvas");return s.width=t.offsetWidth,s.height=t.offsetHeight,s},e.prototype.appendChildNode=function(t,r,n){(!Ug(r)||!ene(r)&&!r.hasAttribute(rD)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!Ug(r)||!TI(r))&&t.appendChild(this.cloneNode(r,n))},e.prototype.cloneChildNodes=function(t,r,n){for(var s=this,A=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;A;A=A.nextSibling)if(Ug(A)&&eD(A)&&typeof A.assignedNodes=="function"){var d=A.assignedNodes();d.length&&d.forEach(function(l){return s.appendChildNode(r,l,n)})}else this.appendChildNode(r,A,n)},e.prototype.cloneNode=function(t,r){if(Z6(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var n=t.ownerDocument.defaultView;if(n&&Ug(t)&&(KB(t)||T1(t))){var s=this.createElementClone(t);s.style.transitionProperty="none";var A=n.getComputedStyle(t),d=n.getComputedStyle(t,":before"),l=n.getComputedStyle(t,":after");this.referenceElement===t&&KB(s)&&(this.clonedReferenceElement=s),rS(s)&&dne(s);var y=this.counters.parse(new hI(this.context,A)),b=this.resolvePseudoContent(t,s,d,L0.BEFORE);II(t)&&(r=!0),EI(t)||this.cloneChildNodes(t,s,r),b&&s.insertBefore(b,s.firstChild);var w=this.resolvePseudoContent(t,s,l,L0.AFTER);return w&&s.appendChild(w),this.counters.pop(y),(A&&(this.options.copyStyles||T1(t))&&!J6(t)||r)&&t2(A,s),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([s,t.scrollLeft,t.scrollTop]),(M_(t)||P_(t))&&(M_(s)||P_(s))&&(s.value=t.value),s}return t.cloneNode(!1)},e.prototype.resolvePseudoContent=function(t,r,n,s){var A=this;if(n){var d=n.content,l=r.ownerDocument;if(!(!l||!d||d==="none"||d==="-moz-alt-content"||n.display==="none")){this.counters.parse(new hI(this.context,n));var y=new Zte(this.context,n),b=l.createElement("html2canvaspseudoelement");t2(n,b),y.content.forEach(function(S){if(S.type===0)b.appendChild(l.createTextNode(S.value));else if(S.type===22){var F=l.createElement("img");F.src=S.value,F.style.opacity="1",b.appendChild(F)}else if(S.type===18){if(S.name==="attr"){var T=S.values.filter(Gi);T.length&&b.appendChild(l.createTextNode(t.getAttribute(T[0].value)||""))}else if(S.name==="counter"){var z=S.values.filter($g),H=z[0],K=z[1];if(H&&Gi(H)){var q=A.counters.getCounterValue(H.value),ne=K&&Gi(K)?RB.parse(A.context,K.value):3;b.appendChild(l.createTextNode(J0(q,ne,!1)))}}else if(S.name==="counters"){var W=S.values.filter($g),H=W[0],le=W[1],K=W[2];if(H&&Gi(H)){var ce=A.counters.getCounterValues(H.value),me=K&&Gi(K)?RB.parse(A.context,K.value):3,Ee=le&&le.type===0?le.value:"",Ie=ce.map(function(ie){return J0(ie,me,!1)}).join(Ee);b.appendChild(l.createTextNode(Ie))}}}else if(S.type===20)switch(S.value){case"open-quote":b.appendChild(l.createTextNode(cI(y.quotes,A.quoteDepth++,!0)));break;case"close-quote":b.appendChild(l.createTextNode(cI(y.quotes,--A.quoteDepth,!1)));break;default:b.appendChild(l.createTextNode(S.value))}}),b.className=qB+" "+GB;var w=s===L0.BEFORE?" "+qB:" "+GB;return T1(r)?r.className.baseValue+=w:r.className+=w,b}}},e.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},e})(),L0;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(L0||(L0={}));var ine=function(e,t){var r=e.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=t.width.toString(),r.height=t.height.toString(),r.scrolling="no",r.setAttribute(rD,"true"),e.body.appendChild(r),r},ane=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},sne=function(e){return Promise.all([].slice.call(e.images,0).map(ane))},one=function(e){return new Promise(function(t,r){var n=e.contentWindow;if(!n)return r("No window assigned for iframe");var s=n.document;n.onload=e.onload=function(){n.onload=e.onload=null;var A=setInterval(function(){s.body.childNodes.length>0&&s.readyState==="complete"&&(clearInterval(A),t(e))},50)}})},lne=["all","d","content"],t2=function(e,t){for(var r=e.length-1;r>=0;r--){var n=e.item(r);lne.indexOf(n)===-1&&t.style.setProperty(n,e.getPropertyValue(n))}return t},Ane=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},une=function(e,t,r){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||r!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,r)},cne=function(e){var t=e[0],r=e[1],n=e[2];t.scrollLeft=r,t.scrollTop=n},hne=":before",fne=":after",qB="___html2canvas___pseudoelement_before",GB="___html2canvas___pseudoelement_after",DI=`{
    content: "" !important;
    display: none !important;
}`,dne=function(e){pne(e,"."+qB+hne+DI+`
         .`+GB+fne+DI)},pne=function(e,t){var r=e.ownerDocument;if(r){var n=r.createElement("style");n.textContent=t,e.appendChild(n)}},nD=(function(){function e(){}return e.getOrigin=function(t){var r=e._link;return r?(r.href=t,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e})(),gne=(function(){function e(t,r){this.context=t,this._options=r,this._cache={}}return e.prototype.addImage=function(t){var r=Promise.resolve();return this.has(t)||(n2(t)||_ne(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),r},e.prototype.match=function(t){return this._cache[t]},e.prototype.loadImage=function(t){return AA(this,void 0,void 0,function(){var r,n,s,A,d=this;return Ol(this,function(l){switch(l.label){case 0:return r=nD.isSameOrigin(t),n=!r2(t)&&this._options.useCORS===!0&&Jo.SUPPORT_CORS_IMAGES&&!r,s=!r2(t)&&!r&&!n2(t)&&typeof this._options.proxy=="string"&&Jo.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!r2(t)&&!n2(t)&&!s&&!n?[2]:(A=t,s?[4,this.proxy(A)]:[3,2]);case 1:A=l.sent(),l.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(y,b){var w=new Image;w.onload=function(){return y(w)},w.onerror=b,(bne(A)||n)&&(w.crossOrigin="anonymous"),w.src=A,w.complete===!0&&setTimeout(function(){return y(w)},500),d._options.imageTimeout>0&&setTimeout(function(){return b("Timed out ("+d._options.imageTimeout+"ms) loading image")},d._options.imageTimeout)})];case 3:return[2,l.sent()]}})})},e.prototype.has=function(t){return typeof this._cache[t]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(t){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var s=t.substring(0,256);return new Promise(function(A,d){var l=Jo.SUPPORT_RESPONSE_TYPE?"blob":"text",y=new XMLHttpRequest;y.onload=function(){if(y.status===200)if(l==="text")A(y.response);else{var S=new FileReader;S.addEventListener("load",function(){return A(S.result)},!1),S.addEventListener("error",function(F){return d(F)},!1),S.readAsDataURL(y.response)}else d("Failed to proxy resource "+s+" with status code "+y.status)},y.onerror=d;var b=n.indexOf("?")>-1?"&":"?";if(y.open("GET",""+n+b+"url="+encodeURIComponent(t)+"&responseType="+l),l!=="text"&&y instanceof XMLHttpRequest&&(y.responseType=l),r._options.imageTimeout){var w=r._options.imageTimeout;y.timeout=w,y.ontimeout=function(){return d("Timed out ("+w+"ms) proxying "+s)}}y.send()})},e})(),mne=/^data:image\/svg\+xml/i,yne=/^data:image\/.*;base64,/i,vne=/^data:image\/.*/i,_ne=function(e){return Jo.SUPPORT_SVG_DRAWING||!wne(e)},r2=function(e){return vne.test(e)},bne=function(e){return yne.test(e)},n2=function(e){return e.substr(0,4)==="blob"},wne=function(e){return e.substr(-3).toLowerCase()==="svg"||mne.test(e)},gr=(function(){function e(t,r){this.type=0,this.x=t,this.y=r}return e.prototype.add=function(t,r){return new e(this.x+t,this.y+r)},e})(),vg=function(e,t,r){return new gr(e.x+(t.x-e.x)*r,e.y+(t.y-e.y)*r)},s1=(function(){function e(t,r,n,s){this.type=1,this.start=t,this.startControl=r,this.endControl=n,this.end=s}return e.prototype.subdivide=function(t,r){var n=vg(this.start,this.startControl,t),s=vg(this.startControl,this.endControl,t),A=vg(this.endControl,this.end,t),d=vg(n,s,t),l=vg(s,A,t),y=vg(d,l,t);return r?new e(this.start,n,d,y):new e(y,l,A,this.end)},e.prototype.add=function(t,r){return new e(this.start.add(t,r),this.startControl.add(t,r),this.endControl.add(t,r),this.end.add(t,r))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e})(),Ju=function(e){return e.type===1},xne=(function(){function e(t){var r=t.styles,n=t.bounds,s=B0(r.borderTopLeftRadius,n.width,n.height),A=s[0],d=s[1],l=B0(r.borderTopRightRadius,n.width,n.height),y=l[0],b=l[1],w=B0(r.borderBottomRightRadius,n.width,n.height),S=w[0],F=w[1],T=B0(r.borderBottomLeftRadius,n.width,n.height),z=T[0],H=T[1],K=[];K.push((A+y)/n.width),K.push((z+S)/n.width),K.push((d+H)/n.height),K.push((b+F)/n.height);var q=Math.max.apply(Math,K);q>1&&(A/=q,d/=q,y/=q,b/=q,S/=q,F/=q,z/=q,H/=q);var ne=n.width-y,W=n.height-F,le=n.width-S,ce=n.height-H,me=r.borderTopWidth,Ee=r.borderRightWidth,Ie=r.borderBottomWidth,ge=r.borderLeftWidth,je=da(r.paddingTop,t.bounds.width),ie=da(r.paddingRight,t.bounds.width),de=da(r.paddingBottom,t.bounds.width),Fe=da(r.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=A>0||d>0?Ma(n.left+ge/3,n.top+me/3,A-ge/3,d-me/3,Fi.TOP_LEFT):new gr(n.left+ge/3,n.top+me/3),this.topRightBorderDoubleOuterBox=A>0||d>0?Ma(n.left+ne,n.top+me/3,y-Ee/3,b-me/3,Fi.TOP_RIGHT):new gr(n.left+n.width-Ee/3,n.top+me/3),this.bottomRightBorderDoubleOuterBox=S>0||F>0?Ma(n.left+le,n.top+W,S-Ee/3,F-Ie/3,Fi.BOTTOM_RIGHT):new gr(n.left+n.width-Ee/3,n.top+n.height-Ie/3),this.bottomLeftBorderDoubleOuterBox=z>0||H>0?Ma(n.left+ge/3,n.top+ce,z-ge/3,H-Ie/3,Fi.BOTTOM_LEFT):new gr(n.left+ge/3,n.top+n.height-Ie/3),this.topLeftBorderDoubleInnerBox=A>0||d>0?Ma(n.left+ge*2/3,n.top+me*2/3,A-ge*2/3,d-me*2/3,Fi.TOP_LEFT):new gr(n.left+ge*2/3,n.top+me*2/3),this.topRightBorderDoubleInnerBox=A>0||d>0?Ma(n.left+ne,n.top+me*2/3,y-Ee*2/3,b-me*2/3,Fi.TOP_RIGHT):new gr(n.left+n.width-Ee*2/3,n.top+me*2/3),this.bottomRightBorderDoubleInnerBox=S>0||F>0?Ma(n.left+le,n.top+W,S-Ee*2/3,F-Ie*2/3,Fi.BOTTOM_RIGHT):new gr(n.left+n.width-Ee*2/3,n.top+n.height-Ie*2/3),this.bottomLeftBorderDoubleInnerBox=z>0||H>0?Ma(n.left+ge*2/3,n.top+ce,z-ge*2/3,H-Ie*2/3,Fi.BOTTOM_LEFT):new gr(n.left+ge*2/3,n.top+n.height-Ie*2/3),this.topLeftBorderStroke=A>0||d>0?Ma(n.left+ge/2,n.top+me/2,A-ge/2,d-me/2,Fi.TOP_LEFT):new gr(n.left+ge/2,n.top+me/2),this.topRightBorderStroke=A>0||d>0?Ma(n.left+ne,n.top+me/2,y-Ee/2,b-me/2,Fi.TOP_RIGHT):new gr(n.left+n.width-Ee/2,n.top+me/2),this.bottomRightBorderStroke=S>0||F>0?Ma(n.left+le,n.top+W,S-Ee/2,F-Ie/2,Fi.BOTTOM_RIGHT):new gr(n.left+n.width-Ee/2,n.top+n.height-Ie/2),this.bottomLeftBorderStroke=z>0||H>0?Ma(n.left+ge/2,n.top+ce,z-ge/2,H-Ie/2,Fi.BOTTOM_LEFT):new gr(n.left+ge/2,n.top+n.height-Ie/2),this.topLeftBorderBox=A>0||d>0?Ma(n.left,n.top,A,d,Fi.TOP_LEFT):new gr(n.left,n.top),this.topRightBorderBox=y>0||b>0?Ma(n.left+ne,n.top,y,b,Fi.TOP_RIGHT):new gr(n.left+n.width,n.top),this.bottomRightBorderBox=S>0||F>0?Ma(n.left+le,n.top+W,S,F,Fi.BOTTOM_RIGHT):new gr(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=z>0||H>0?Ma(n.left,n.top+ce,z,H,Fi.BOTTOM_LEFT):new gr(n.left,n.top+n.height),this.topLeftPaddingBox=A>0||d>0?Ma(n.left+ge,n.top+me,Math.max(0,A-ge),Math.max(0,d-me),Fi.TOP_LEFT):new gr(n.left+ge,n.top+me),this.topRightPaddingBox=y>0||b>0?Ma(n.left+Math.min(ne,n.width-Ee),n.top+me,ne>n.width+Ee?0:Math.max(0,y-Ee),Math.max(0,b-me),Fi.TOP_RIGHT):new gr(n.left+n.width-Ee,n.top+me),this.bottomRightPaddingBox=S>0||F>0?Ma(n.left+Math.min(le,n.width-ge),n.top+Math.min(W,n.height-Ie),Math.max(0,S-Ee),Math.max(0,F-Ie),Fi.BOTTOM_RIGHT):new gr(n.left+n.width-Ee,n.top+n.height-Ie),this.bottomLeftPaddingBox=z>0||H>0?Ma(n.left+ge,n.top+Math.min(ce,n.height-Ie),Math.max(0,z-ge),Math.max(0,H-Ie),Fi.BOTTOM_LEFT):new gr(n.left+ge,n.top+n.height-Ie),this.topLeftContentBox=A>0||d>0?Ma(n.left+ge+Fe,n.top+me+je,Math.max(0,A-(ge+Fe)),Math.max(0,d-(me+je)),Fi.TOP_LEFT):new gr(n.left+ge+Fe,n.top+me+je),this.topRightContentBox=y>0||b>0?Ma(n.left+Math.min(ne,n.width+ge+Fe),n.top+me+je,ne>n.width+ge+Fe?0:y-ge+Fe,b-(me+je),Fi.TOP_RIGHT):new gr(n.left+n.width-(Ee+ie),n.top+me+je),this.bottomRightContentBox=S>0||F>0?Ma(n.left+Math.min(le,n.width-(ge+Fe)),n.top+Math.min(W,n.height+me+je),Math.max(0,S-(Ee+ie)),F-(Ie+de),Fi.BOTTOM_RIGHT):new gr(n.left+n.width-(Ee+ie),n.top+n.height-(Ie+de)),this.bottomLeftContentBox=z>0||H>0?Ma(n.left+ge+Fe,n.top+ce,Math.max(0,z-(ge+Fe)),H-(Ie+de),Fi.BOTTOM_LEFT):new gr(n.left+ge+Fe,n.top+n.height-(Ie+de))}return e})(),Fi;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Fi||(Fi={}));var Ma=function(e,t,r,n,s){var A=4*((Math.sqrt(2)-1)/3),d=r*A,l=n*A,y=e+r,b=t+n;switch(s){case Fi.TOP_LEFT:return new s1(new gr(e,b),new gr(e,b-l),new gr(y-d,t),new gr(y,t));case Fi.TOP_RIGHT:return new s1(new gr(e,t),new gr(e+d,t),new gr(y,b-l),new gr(y,b));case Fi.BOTTOM_RIGHT:return new s1(new gr(y,t),new gr(y,t+l),new gr(e+d,b),new gr(e,b));case Fi.BOTTOM_LEFT:default:return new s1(new gr(y,b),new gr(y-d,b),new gr(e,t+l),new gr(e,t))}},O_=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},Bne=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},D_=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},Cne=(function(){function e(t,r,n){this.offsetX=t,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return e})(),o1=(function(){function e(t,r){this.path=t,this.target=r,this.type=1}return e})(),Sne=(function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e})(),Ene=function(e){return e.type===0},iD=function(e){return e.type===1},Tne=function(e){return e.type===2},kI=function(e,t){return e.length===t.length?e.some(function(r,n){return r===t[n]}):!1},Ine=function(e,t,r,n,s){return e.map(function(A,d){switch(d){case 0:return A.add(t,r);case 1:return A.add(t+n,r);case 2:return A.add(t+n,r+s);case 3:return A.add(t,r+s)}return A})},aD=(function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e})(),sD=(function(){function e(t,r){if(this.container=t,this.parent=r,this.effects=[],this.curves=new xne(this.container),this.container.styles.opacity<1&&this.effects.push(new Sne(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,s=this.container.bounds.top+this.container.styles.transformOrigin[1].number,A=this.container.styles.transform;this.effects.push(new Cne(n,s,A))}if(this.container.styles.overflowX!==0){var d=O_(this.curves),l=D_(this.curves);kI(d,l)?this.effects.push(new o1(d,6)):(this.effects.push(new o1(d,2)),this.effects.push(new o1(l,4)))}}return e.prototype.getEffects=function(t){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,s=this.effects.slice(0);n;){var A=n.effects.filter(function(y){return!iD(y)});if(r||n.container.styles.position!==0||!n.parent){if(s.unshift.apply(s,A),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var d=O_(n.curves),l=D_(n.curves);kI(d,l)||s.unshift(new o1(l,6))}}else s.unshift.apply(s,A);n=n.parent}return s.filter(function(y){return Ao(y.target,t)})},e})(),$B=function(e,t,r,n){e.container.elements.forEach(function(s){var A=Ao(s.flags,4),d=Ao(s.flags,2),l=new sD(s,e);Ao(s.styles.display,2048)&&n.push(l);var y=Ao(s.flags,8)?[]:n;if(A||d){var b=A||s.styles.isPositioned()?r:t,w=new aD(l);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var S=s.styles.zIndex.order;if(S<0){var F=0;b.negativeZIndex.some(function(z,H){return S>z.element.container.styles.zIndex.order?(F=H,!1):F>0}),b.negativeZIndex.splice(F,0,w)}else if(S>0){var T=0;b.positiveZIndex.some(function(z,H){return S>=z.element.container.styles.zIndex.order?(T=H+1,!1):T>0}),b.positiveZIndex.splice(T,0,w)}else b.zeroOrAutoZIndexOrTransformedOrOpacity.push(w)}else s.styles.isFloating()?b.nonPositionedFloats.push(w):b.nonPositionedInlineLevel.push(w);$B(l,w,A?w:r,y)}else s.styles.isInlineLevel()?t.inlineLevel.push(l):t.nonInlineLevel.push(l),$B(l,t,r,y);Ao(s.flags,8)&&oD(s,y)})},oD=function(e,t){for(var r=e instanceof jB?e.start:1,n=e instanceof jB?e.reversed:!1,s=0;s<t.length;s++){var A=t[s];A.container instanceof K6&&typeof A.container.value=="number"&&A.container.value!==0&&(r=A.container.value),A.listValue=J0(r,A.container.styles.listStyleType,!0),r+=n?-1:1}},Fne=function(e){var t=new sD(e,null),r=new aD(t),n=[];return $B(t,r,r,n),oD(t.container,n),r},QI=function(e,t){switch(t){case 0:return nc(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return nc(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return nc(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return nc(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},Une=function(e,t){switch(t){case 0:return nc(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return nc(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return nc(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return nc(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},Lne=function(e,t){switch(t){case 0:return nc(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return nc(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return nc(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return nc(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},Mne=function(e,t){switch(t){case 0:return l1(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return l1(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return l1(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return l1(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},l1=function(e,t){var r=[];return Ju(e)?r.push(e.subdivide(.5,!1)):r.push(e),Ju(t)?r.push(t.subdivide(.5,!0)):r.push(t),r},nc=function(e,t,r,n){var s=[];return Ju(e)?s.push(e.subdivide(.5,!1)):s.push(e),Ju(r)?s.push(r.subdivide(.5,!0)):s.push(r),Ju(n)?s.push(n.subdivide(.5,!0).reverse()):s.push(n),Ju(t)?s.push(t.subdivide(.5,!1).reverse()):s.push(t),s},lD=function(e){var t=e.bounds,r=e.styles;return t.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},k_=function(e){var t=e.styles,r=e.bounds,n=da(t.paddingLeft,r.width),s=da(t.paddingRight,r.width),A=da(t.paddingTop,r.width),d=da(t.paddingBottom,r.width);return r.add(n+t.borderLeftWidth,A+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+n+s),-(t.borderTopWidth+t.borderBottomWidth+A+d))},Pne=function(e,t){return e===0?t.bounds:e===2?k_(t):lD(t)},One=function(e,t){return e===0?t.bounds:e===2?k_(t):lD(t)},i2=function(e,t,r){var n=Pne(Sg(e.styles.backgroundOrigin,t),e),s=One(Sg(e.styles.backgroundClip,t),e),A=Dne(Sg(e.styles.backgroundSize,t),r,n),d=A[0],l=A[1],y=B0(Sg(e.styles.backgroundPosition,t),n.width-d,n.height-l),b=kne(Sg(e.styles.backgroundRepeat,t),y,A,n,s),w=Math.round(n.left+y[0]),S=Math.round(n.top+y[1]);return[b,w,S,d,l]},_g=function(e){return Gi(e)&&e.value===Og.AUTO},A1=function(e){return typeof e=="number"},Dne=function(e,t,r){var n=t[0],s=t[1],A=t[2],d=e[0],l=e[1];if(!d)return[0,0];if(Rs(d)&&l&&Rs(l))return[da(d,r.width),da(l,r.height)];var y=A1(A);if(Gi(d)&&(d.value===Og.CONTAIN||d.value===Og.COVER)){if(A1(A)){var b=r.width/r.height;return b<A!=(d.value===Og.COVER)?[r.width,r.width/A]:[r.height*A,r.height]}return[r.width,r.height]}var w=A1(n),S=A1(s),F=w||S;if(_g(d)&&(!l||_g(l))){if(w&&S)return[n,s];if(!y&&!F)return[r.width,r.height];if(F&&y){var T=w?n:s*A,z=S?s:n/A;return[T,z]}var H=w?n:r.width,K=S?s:r.height;return[H,K]}if(y){var q=0,ne=0;return Rs(d)?q=da(d,r.width):Rs(l)&&(ne=da(l,r.height)),_g(d)?q=ne*A:(!l||_g(l))&&(ne=q/A),[q,ne]}var W=null,le=null;if(Rs(d)?W=da(d,r.width):l&&Rs(l)&&(le=da(l,r.height)),W!==null&&(!l||_g(l))&&(le=w&&S?W/n*s:r.height),le!==null&&_g(d)&&(W=w&&S?le/s*n:r.width),W!==null&&le!==null)return[W,le];throw new Error("Unable to calculate background-size for element")},Sg=function(e,t){var r=e[t];return typeof r>"u"?e[0]:r},kne=function(e,t,r,n,s){var A=t[0],d=t[1],l=r[0],y=r[1];switch(e){case 2:return[new gr(Math.round(n.left),Math.round(n.top+d)),new gr(Math.round(n.left+n.width),Math.round(n.top+d)),new gr(Math.round(n.left+n.width),Math.round(y+n.top+d)),new gr(Math.round(n.left),Math.round(y+n.top+d))];case 3:return[new gr(Math.round(n.left+A),Math.round(n.top)),new gr(Math.round(n.left+A+l),Math.round(n.top)),new gr(Math.round(n.left+A+l),Math.round(n.height+n.top)),new gr(Math.round(n.left+A),Math.round(n.height+n.top))];case 1:return[new gr(Math.round(n.left+A),Math.round(n.top+d)),new gr(Math.round(n.left+A+l),Math.round(n.top+d)),new gr(Math.round(n.left+A+l),Math.round(n.top+d+y)),new gr(Math.round(n.left+A),Math.round(n.top+d+y))];default:return[new gr(Math.round(s.left),Math.round(s.top)),new gr(Math.round(s.left+s.width),Math.round(s.top)),new gr(Math.round(s.left+s.width),Math.round(s.height+s.top)),new gr(Math.round(s.left),Math.round(s.height+s.top))]}},Qne="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",NI="Hidden Text",Nne=(function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,r){var n=this._document.createElement("div"),s=this._document.createElement("img"),A=this._document.createElement("span"),d=this._document.body;n.style.visibility="hidden",n.style.fontFamily=t,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",d.appendChild(n),s.src=Qne,s.width=1,s.height=1,s.style.margin="0",s.style.padding="0",s.style.verticalAlign="baseline",A.style.fontFamily=t,A.style.fontSize=r,A.style.margin="0",A.style.padding="0",A.appendChild(this._document.createTextNode(NI)),n.appendChild(A),n.appendChild(s);var l=s.offsetTop-A.offsetTop+2;n.removeChild(A),n.appendChild(this._document.createTextNode(NI)),n.style.lineHeight="normal",s.style.verticalAlign="super";var y=s.offsetTop-n.offsetTop+2;return d.removeChild(n),{baseline:l,middle:y}},e.prototype.getMetrics=function(t,r){var n=t+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(t,r)),this._data[n]},e})(),AD=(function(){function e(t,r){this.context=t,this.options=r}return e})(),Rne=1e4,zne=(function(e){Dc(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s._activeEffects=[],s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),n.canvas||(s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px"),s.fontMetrics=new Nne(document),s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.ctx.textBaseline="bottom",s._activeEffects=[],s.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),s}return t.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(s){return n.applyEffect(s)})},t.prototype.applyEffect=function(r){this.ctx.save(),Tne(r)&&(this.ctx.globalAlpha=r.opacity),Ene(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),iD(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(r){return AA(this,void 0,void 0,function(){var n;return Ol(this,function(s){switch(s.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(r){return AA(this,void 0,void 0,function(){return Ol(this,function(n){switch(n.label){case 0:if(Ao(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(r,n,s){var A=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+s);else{var d=eS(r.text);d.reduce(function(l,y){return A.ctx.fillText(y,l,r.bounds.top+s),l+A.ctx.measureText(y).width},r.bounds.left)}},t.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(d){return d==="normal"||d==="small-caps"}).join(""),s=qne(r.fontFamily).join(", "),A=xy(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,A,s].join(" "),s,A]},t.prototype.renderTextNode=function(r,n){return AA(this,void 0,void 0,function(){var s,A,d,l,y,b,w,S,F=this;return Ol(this,function(T){return s=this.createFontStyle(n),A=s[0],d=s[1],l=s[2],this.ctx.font=A,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",y=this.fontMetrics.getMetrics(d,l),b=y.baseline,w=y.middle,S=n.paintOrder,r.textBounds.forEach(function(z){S.forEach(function(H){switch(H){case 0:F.ctx.fillStyle=Eo(n.color),F.renderTextWithLetterSpacing(z,n.letterSpacing,b);var K=n.textShadow;K.length&&z.text.trim().length&&(K.slice(0).reverse().forEach(function(q){F.ctx.shadowColor=Eo(q.color),F.ctx.shadowOffsetX=q.offsetX.number*F.options.scale,F.ctx.shadowOffsetY=q.offsetY.number*F.options.scale,F.ctx.shadowBlur=q.blur.number,F.renderTextWithLetterSpacing(z,n.letterSpacing,b)}),F.ctx.shadowColor="",F.ctx.shadowOffsetX=0,F.ctx.shadowOffsetY=0,F.ctx.shadowBlur=0),n.textDecorationLine.length&&(F.ctx.fillStyle=Eo(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(q){switch(q){case 1:F.ctx.fillRect(z.bounds.left,Math.round(z.bounds.top+b),z.bounds.width,1);break;case 2:F.ctx.fillRect(z.bounds.left,Math.round(z.bounds.top),z.bounds.width,1);break;case 3:F.ctx.fillRect(z.bounds.left,Math.ceil(z.bounds.top+w),z.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&z.text.trim().length&&(F.ctx.strokeStyle=Eo(n.webkitTextStrokeColor),F.ctx.lineWidth=n.webkitTextStrokeWidth,F.ctx.lineJoin=window.chrome?"miter":"round",F.ctx.strokeText(z.text,z.bounds.left,z.bounds.top+b)),F.ctx.strokeStyle="",F.ctx.lineWidth=0,F.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(r,n,s){if(s&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var A=k_(r),d=D_(n);this.path(d),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(s,0,0,r.intrinsicWidth,r.intrinsicHeight,A.left,A.top,A.width,A.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(r){return AA(this,void 0,void 0,function(){var n,s,A,d,l,y,ne,ne,b,w,S,F,le,T,z,ce,H,K,q,ne,W,le,ce;return Ol(this,function(me){switch(me.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,s=r.curves,A=n.styles,d=0,l=n.textNodes,me.label=1;case 1:return d<l.length?(y=l[d],[4,this.renderTextNode(y,A)]):[3,4];case 2:me.sent(),me.label=3;case 3:return d++,[3,1];case 4:if(!(n instanceof z6))return[3,8];me.label=5;case 5:return me.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return ne=me.sent(),this.renderReplacedElement(n,s,ne),[3,8];case 7:return me.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof H6&&this.renderReplacedElement(n,s,n.canvas),!(n instanceof j6))return[3,12];me.label=9;case 9:return me.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return ne=me.sent(),this.renderReplacedElement(n,s,ne),[3,12];case 11:return me.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof G6&&n.tree?(b=new t(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,b.render(n.tree)]):[3,14];case 13:w=me.sent(),n.width&&n.height&&this.ctx.drawImage(w,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),me.label=14;case 14:if(n instanceof tS&&(S=Math.min(n.bounds.width,n.bounds.height),n.type===U_?n.checked&&(this.ctx.save(),this.path([new gr(n.bounds.left+S*.39363,n.bounds.top+S*.79),new gr(n.bounds.left+S*.16,n.bounds.top+S*.5549),new gr(n.bounds.left+S*.27347,n.bounds.top+S*.44071),new gr(n.bounds.left+S*.39694,n.bounds.top+S*.5649),new gr(n.bounds.left+S*.72983,n.bounds.top+S*.23),new gr(n.bounds.left+S*.84,n.bounds.top+S*.34085),new gr(n.bounds.left+S*.39363,n.bounds.top+S*.79)]),this.ctx.fillStyle=Eo(SI),this.ctx.fill(),this.ctx.restore()):n.type===L_&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+S/2,n.bounds.top+S/2,S/4,0,Math.PI*2,!0),this.ctx.fillStyle=Eo(SI),this.ctx.fill(),this.ctx.restore())),Hne(n)&&n.value.length){switch(F=this.createFontStyle(A),le=F[0],T=F[1],z=this.fontMetrics.getMetrics(le,T).baseline,this.ctx.font=le,this.ctx.fillStyle=Eo(A.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Kne(n.styles.textAlign),ce=k_(n),H=0,n.styles.textAlign){case 1:H+=ce.width/2;break;case 2:H+=ce.width;break}K=ce.add(H,0,0,-ce.height/2+1),this.ctx.save(),this.path([new gr(ce.left,ce.top),new gr(ce.left+ce.width,ce.top),new gr(ce.left+ce.width,ce.top+ce.height),new gr(ce.left,ce.top+ce.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new U0(n.value,K),A.letterSpacing,z),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Ao(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(q=n.styles.listStyleImage,q.type!==0)return[3,18];ne=void 0,W=q.url,me.label=15;case 15:return me.trys.push([15,17,,18]),[4,this.context.cache.match(W)];case 16:return ne=me.sent(),this.ctx.drawImage(ne,n.bounds.left-(ne.width+10),n.bounds.top),[3,18];case 17:return me.sent(),this.context.logger.error("Error loading list-style-image "+W),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(le=this.createFontStyle(A)[0],this.ctx.font=le,this.ctx.fillStyle=Eo(A.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",ce=new lf(n.bounds.left,n.bounds.top+da(n.styles.paddingTop,n.bounds.width),n.bounds.width,AI(A.lineHeight,A.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new U0(r.listValue,ce),A.letterSpacing,AI(A.lineHeight,A.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),me.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(r){return AA(this,void 0,void 0,function(){var n,s,q,A,d,q,l,y,q,b,w,q,S,F,q,T,z,q,H,K,q;return Ol(this,function(ne){switch(ne.label){case 0:if(Ao(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:ne.sent(),n=0,s=r.negativeZIndex,ne.label=2;case 2:return n<s.length?(q=s[n],[4,this.renderStack(q)]):[3,5];case 3:ne.sent(),ne.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:ne.sent(),A=0,d=r.nonInlineLevel,ne.label=7;case 7:return A<d.length?(q=d[A],[4,this.renderNode(q)]):[3,10];case 8:ne.sent(),ne.label=9;case 9:return A++,[3,7];case 10:l=0,y=r.nonPositionedFloats,ne.label=11;case 11:return l<y.length?(q=y[l],[4,this.renderStack(q)]):[3,14];case 12:ne.sent(),ne.label=13;case 13:return l++,[3,11];case 14:b=0,w=r.nonPositionedInlineLevel,ne.label=15;case 15:return b<w.length?(q=w[b],[4,this.renderStack(q)]):[3,18];case 16:ne.sent(),ne.label=17;case 17:return b++,[3,15];case 18:S=0,F=r.inlineLevel,ne.label=19;case 19:return S<F.length?(q=F[S],[4,this.renderNode(q)]):[3,22];case 20:ne.sent(),ne.label=21;case 21:return S++,[3,19];case 22:T=0,z=r.zeroOrAutoZIndexOrTransformedOrOpacity,ne.label=23;case 23:return T<z.length?(q=z[T],[4,this.renderStack(q)]):[3,26];case 24:ne.sent(),ne.label=25;case 25:return T++,[3,23];case 26:H=0,K=r.positiveZIndex,ne.label=27;case 27:return H<K.length?(q=K[H],[4,this.renderStack(q)]):[3,30];case 28:ne.sent(),ne.label=29;case 29:return H++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},t.prototype.formatPath=function(r){var n=this;r.forEach(function(s,A){var d=Ju(s)?s.start:s;A===0?n.ctx.moveTo(d.x,d.y):n.ctx.lineTo(d.x,d.y),Ju(s)&&n.ctx.bezierCurveTo(s.startControl.x,s.startControl.y,s.endControl.x,s.endControl.y,s.end.x,s.end.y)})},t.prototype.renderRepeat=function(r,n,s,A){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(s,A),this.ctx.fill(),this.ctx.translate(-s,-A)},t.prototype.resizeImage=function(r,n,s){var A;if(r.width===n&&r.height===s)return r;var d=(A=this.canvas.ownerDocument)!==null&&A!==void 0?A:document,l=d.createElement("canvas");l.width=Math.max(1,n),l.height=Math.max(1,s);var y=l.getContext("2d");return y.drawImage(r,0,0,r.width,r.height,0,0,n,s),l},t.prototype.renderBackgroundImage=function(r){return AA(this,void 0,void 0,function(){var n,s,A,d,l,y;return Ol(this,function(b){switch(b.label){case 0:n=r.styles.backgroundImage.length-1,s=function(w){var S,F,T,je,Pe,ke,Fe,Le,Ie,z,je,Pe,ke,Fe,Le,H,K,q,ne,W,le,ce,me,Ee,Ie,ge,je,ie,de,Fe,Le,it,Pe,ke,Ge,Oe,st,be,ee,ye,Te,Ne;return Ol(this,function(Ze){switch(Ze.label){case 0:if(w.type!==0)return[3,5];S=void 0,F=w.url,Ze.label=1;case 1:return Ze.trys.push([1,3,,4]),[4,A.context.cache.match(F)];case 2:return S=Ze.sent(),[3,4];case 3:return Ze.sent(),A.context.logger.error("Error loading background-image "+F),[3,4];case 4:return S&&(T=i2(r,n,[S.width,S.height,S.width/S.height]),je=T[0],Pe=T[1],ke=T[2],Fe=T[3],Le=T[4],Ie=A.ctx.createPattern(A.resizeImage(S,Fe,Le),"repeat"),A.renderRepeat(je,Ie,Pe,ke)),[3,6];case 5:Eee(w)?(z=i2(r,n,[null,null,null]),je=z[0],Pe=z[1],ke=z[2],Fe=z[3],Le=z[4],H=wee(w.angle,Fe,Le),K=H[0],q=H[1],ne=H[2],W=H[3],le=H[4],ce=document.createElement("canvas"),ce.width=Fe,ce.height=Le,me=ce.getContext("2d"),Ee=me.createLinearGradient(q,W,ne,le),oI(w.stops,K).forEach(function(et){return Ee.addColorStop(et.stop,Eo(et.color))}),me.fillStyle=Ee,me.fillRect(0,0,Fe,Le),Fe>0&&Le>0&&(Ie=A.ctx.createPattern(ce,"repeat"),A.renderRepeat(je,Ie,Pe,ke))):Tee(w)&&(ge=i2(r,n,[null,null,null]),je=ge[0],ie=ge[1],de=ge[2],Fe=ge[3],Le=ge[4],it=w.position.length===0?[WC]:w.position,Pe=da(it[0],Fe),ke=da(it[it.length-1],Le),Ge=xee(w,Pe,ke,Fe,Le),Oe=Ge[0],st=Ge[1],Oe>0&&st>0&&(be=A.ctx.createRadialGradient(ie+Pe,de+ke,0,ie+Pe,de+ke,Oe),oI(w.stops,Oe*2).forEach(function(et){return be.addColorStop(et.stop,Eo(et.color))}),A.path(je),A.ctx.fillStyle=be,Oe!==st?(ee=r.bounds.left+.5*r.bounds.width,ye=r.bounds.top+.5*r.bounds.height,Te=st/Oe,Ne=1/Te,A.ctx.save(),A.ctx.translate(ee,ye),A.ctx.transform(1,0,0,Te,0,0),A.ctx.translate(-ee,-ye),A.ctx.fillRect(ie,Ne*(de-ye)+ye,Fe,Le*Ne),A.ctx.restore()):A.ctx.fill())),Ze.label=6;case 6:return n--,[2]}})},A=this,d=0,l=r.styles.backgroundImage.slice(0).reverse(),b.label=1;case 1:return d<l.length?(y=l[d],[5,s(y)]):[3,4];case 2:b.sent(),b.label=3;case 3:return d++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(r,n,s){return AA(this,void 0,void 0,function(){return Ol(this,function(A){return this.path(QI(s,n)),this.ctx.fillStyle=Eo(r),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(r,n,s,A){return AA(this,void 0,void 0,function(){var d,l;return Ol(this,function(y){switch(y.label){case 0:return n<3?[4,this.renderSolidBorder(r,s,A)]:[3,2];case 1:return y.sent(),[2];case 2:return d=Une(A,s),this.path(d),this.ctx.fillStyle=Eo(r),this.ctx.fill(),l=Lne(A,s),this.path(l),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(r){return AA(this,void 0,void 0,function(){var n,s,A,d,l,y,b,w,S=this;return Ol(this,function(F){switch(F.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,s=!hd(n.backgroundColor)||n.backgroundImage.length,A=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],d=jne(Sg(n.backgroundClip,0),r.curves),s||n.boxShadow.length?(this.ctx.save(),this.path(d),this.ctx.clip(),hd(n.backgroundColor)||(this.ctx.fillStyle=Eo(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:F.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(T){S.ctx.save();var z=O_(r.curves),H=T.inset?0:Rne,K=Ine(z,-H+(T.inset?1:-1)*T.spread.number,(T.inset?1:-1)*T.spread.number,T.spread.number*(T.inset?-2:2),T.spread.number*(T.inset?-2:2));T.inset?(S.path(z),S.ctx.clip(),S.mask(K)):(S.mask(z),S.ctx.clip(),S.path(K)),S.ctx.shadowOffsetX=T.offsetX.number+H,S.ctx.shadowOffsetY=T.offsetY.number,S.ctx.shadowColor=Eo(T.color),S.ctx.shadowBlur=T.blur.number,S.ctx.fillStyle=T.inset?Eo(T.color):"rgba(0,0,0,1)",S.ctx.fill(),S.ctx.restore()}),F.label=2;case 2:l=0,y=0,b=A,F.label=3;case 3:return y<b.length?(w=b[y],w.style!==0&&!hd(w.color)&&w.width>0?w.style!==2?[3,5]:[4,this.renderDashedDottedBorder(w.color,w.width,l,r.curves,2)]:[3,11]):[3,13];case 4:return F.sent(),[3,11];case 5:return w.style!==3?[3,7]:[4,this.renderDashedDottedBorder(w.color,w.width,l,r.curves,3)];case 6:return F.sent(),[3,11];case 7:return w.style!==4?[3,9]:[4,this.renderDoubleBorder(w.color,w.width,l,r.curves)];case 8:return F.sent(),[3,11];case 9:return[4,this.renderSolidBorder(w.color,l,r.curves)];case 10:F.sent(),F.label=11;case 11:l++,F.label=12;case 12:return y++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(r,n,s,A,d){return AA(this,void 0,void 0,function(){var l,y,b,w,S,F,T,z,H,K,q,ne,W,le,ce,me,ce,me;return Ol(this,function(Ee){return this.ctx.save(),l=Mne(A,s),y=QI(A,s),d===2&&(this.path(y),this.ctx.clip()),Ju(y[0])?(b=y[0].start.x,w=y[0].start.y):(b=y[0].x,w=y[0].y),Ju(y[1])?(S=y[1].end.x,F=y[1].end.y):(S=y[1].x,F=y[1].y),s===0||s===2?T=Math.abs(b-S):T=Math.abs(w-F),this.ctx.beginPath(),d===3?this.formatPath(l):this.formatPath(y.slice(0,2)),z=n<3?n*3:n*2,H=n<3?n*2:n,d===3&&(z=n,H=n),K=!0,T<=z*2?K=!1:T<=z*2+H?(q=T/(2*z+H),z*=q,H*=q):(ne=Math.floor((T+H)/(z+H)),W=(T-ne*z)/(ne-1),le=(T-(ne+1)*z)/ne,H=le<=0||Math.abs(H-W)<Math.abs(H-le)?W:le),K&&(d===3?this.ctx.setLineDash([0,z+H]):this.ctx.setLineDash([z,H])),d===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=Eo(r),this.ctx.stroke(),this.ctx.setLineDash([]),d===2&&(Ju(y[0])&&(ce=y[3],me=y[0],this.ctx.beginPath(),this.formatPath([new gr(ce.end.x,ce.end.y),new gr(me.start.x,me.start.y)]),this.ctx.stroke()),Ju(y[1])&&(ce=y[1],me=y[2],this.ctx.beginPath(),this.formatPath([new gr(ce.end.x,ce.end.y),new gr(me.start.x,me.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(r){return AA(this,void 0,void 0,function(){var n;return Ol(this,function(s){switch(s.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Eo(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=Fne(r),[4,this.renderStack(n)];case 1:return s.sent(),this.applyEffects([]),[2,this.canvas]}})})},t})(AD),Hne=function(e){return e instanceof q6||e instanceof V6?!0:e instanceof tS&&e.type!==L_&&e.type!==U_},jne=function(e,t){switch(e){case 0:return O_(t);case 2:return Bne(t);case 1:default:return D_(t)}},Kne=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Vne=["-apple-system","system-ui"],qne=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return Vne.indexOf(t)===-1}):e},Gne=(function(e){Dc(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),s.options=n,s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px",s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),s}return t.prototype.render=function(r){return AA(this,void 0,void 0,function(){var n,s;return Ol(this,function(A){switch(A.label){case 0:return n=HB(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,$ne(n)];case 1:return s=A.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Eo(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(s,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t})(AD),$ne=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},Xne=(function(){function e(t){var r=t.id,n=t.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,zv([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,zv([this.id,this.getTime()+"ms"],t))},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,zv([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,zv([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.instances={},e})(),Zne=(function(){function e(t,r){var n;this.windowBounds=r,this.instanceName="#"+e.instanceCount++,this.logger=new Xne({id:this.instanceName,enabled:t.logging}),this.cache=(n=t.cache)!==null&&n!==void 0?n:new gne(this,t)}return e.instanceCount=1,e})(),uD=function(e,t){return t===void 0&&(t={}),Wne(e,t)};typeof window<"u"&&nD.setContext(window);var Wne=function(e,t){return AA(void 0,void 0,void 0,function(){var r,n,s,A,d,l,y,b,w,S,F,T,z,H,K,q,ne,W,le,ce,Ee,me,Ee,Ie,ge,je,ie,de,Fe,Le,it,Pe,ke,Ge,Oe,st,be,ee,ye,Te;return Ol(this,function(Ne){switch(Ne.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=e.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return s={allowTaint:(Ie=t.allowTaint)!==null&&Ie!==void 0?Ie:!1,imageTimeout:(ge=t.imageTimeout)!==null&&ge!==void 0?ge:15e3,proxy:t.proxy,useCORS:(je=t.useCORS)!==null&&je!==void 0?je:!1},A=EB({logging:(ie=t.logging)!==null&&ie!==void 0?ie:!0,cache:t.cache},s),d={windowWidth:(de=t.windowWidth)!==null&&de!==void 0?de:n.innerWidth,windowHeight:(Fe=t.windowHeight)!==null&&Fe!==void 0?Fe:n.innerHeight,scrollX:(Le=t.scrollX)!==null&&Le!==void 0?Le:n.pageXOffset,scrollY:(it=t.scrollY)!==null&&it!==void 0?it:n.pageYOffset},l=new lf(d.scrollX,d.scrollY,d.windowWidth,d.windowHeight),y=new Zne(A,l),b=(Pe=t.foreignObjectRendering)!==null&&Pe!==void 0?Pe:!1,w={allowTaint:(ke=t.allowTaint)!==null&&ke!==void 0?ke:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:b,copyStyles:b},y.logger.debug("Starting document clone with size "+l.width+"x"+l.height+" scrolled to "+-l.left+","+-l.top),S=new OI(y,e,w),F=S.clonedReferenceElement,F?[4,S.toIFrame(r,l)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return T=Ne.sent(),z=rS(F)||Jre(F)?IY(F.ownerDocument):Ib(y,F),H=z.width,K=z.height,q=z.left,ne=z.top,W=Yne(y,F,t.backgroundColor),le={canvas:t.canvas,backgroundColor:W,scale:(Oe=(Ge=t.scale)!==null&&Ge!==void 0?Ge:n.devicePixelRatio)!==null&&Oe!==void 0?Oe:1,x:((st=t.x)!==null&&st!==void 0?st:0)+q,y:((be=t.y)!==null&&be!==void 0?be:0)+ne,width:(ee=t.width)!==null&&ee!==void 0?ee:Math.ceil(H),height:(ye=t.height)!==null&&ye!==void 0?ye:Math.ceil(K)},b?(y.logger.debug("Document cloned, using foreign object rendering"),Ee=new Gne(y,le),[4,Ee.render(F)]):[3,3];case 2:return ce=Ne.sent(),[3,5];case 3:return y.logger.debug("Document cloned, element located at "+q+","+ne+" with size "+H+"x"+K+" using computed rendering"),y.logger.debug("Starting DOM parsing"),me=X6(y,F),W===me.styles.backgroundColor&&(me.styles.backgroundColor=ef.TRANSPARENT),y.logger.debug("Starting renderer for element at "+le.x+","+le.y+" with size "+le.width+"x"+le.height),Ee=new zne(y,le),[4,Ee.render(me)];case 4:ce=Ne.sent(),Ne.label=5;case 5:return(!((Te=t.removeContainer)!==null&&Te!==void 0)||Te)&&(OI.destroy(T)||y.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),y.logger.debug("Finished rendering"),[2,ce]}})})},Yne=function(e,t,r){var n=t.ownerDocument,s=n.documentElement?I0(e,getComputedStyle(n.documentElement).backgroundColor):ef.TRANSPARENT,A=n.body?I0(e,getComputedStyle(n.body).backgroundColor):ef.TRANSPARENT,d=typeof r=="string"?I0(e,r):r===null?ef.TRANSPARENT:4294967295;return t===n.documentElement?hd(s)?hd(A)?d:A:s:d};const Jne=Object.freeze(Object.defineProperty({__proto__:null,default:uD},Symbol.toStringTag,{value:"Module"})),eie="modulepreload",tie=function(e){return"/retc-map/"+e},RI={},a2=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){let y=function(b){return Promise.all(b.map(w=>Promise.resolve(w).then(S=>({status:"fulfilled",value:S}),S=>({status:"rejected",reason:S}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),l=d?.nonce||d?.getAttribute("nonce");s=y(r.map(b=>{if(b=tie(b),b in RI)return;RI[b]=!0;const w=b.endsWith(".css"),S=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${b}"]${S}`))return;const F=document.createElement("link");if(F.rel=w?"stylesheet":eie,w||(F.as="script"),F.crossOrigin="",F.href=b,l&&F.setAttribute("nonce",l),document.head.appendChild(F),w)return new Promise((T,z)=>{F.addEventListener("load",T),F.addEventListener("error",()=>z(new Error(`Unable to preload CSS for ${b}`)))})}))}function A(d){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=d,window.dispatchEvent(l),!l.defaultPrevented)throw d}return s.then(d=>{for(const l of d||[])l.status==="rejected"&&A(l.reason);return t().catch(A)})};function Ni(e){"@babel/helpers - typeof";return Ni=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ni(e)}var Pc=Uint8Array,Bu=Uint16Array,nS=Int32Array,iS=new Pc([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),aS=new Pc([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),zI=new Pc([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),cD=function(e,t){for(var r=new Bu(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var s=new nS(r[30]),n=1;n<30;++n)for(var A=r[n];A<r[n+1];++A)s[A]=A-r[n]<<5|n;return{b:r,r:s}},hD=cD(iS,2),rie=hD.b,XB=hD.r;rie[28]=258,XB[258]=28;var nie=cD(aS,0),HI=nie.r,ZB=new Bu(32768);for(var Ba=0;Ba<32768;++Ba){var Yf=(Ba&43690)>>1|(Ba&21845)<<1;Yf=(Yf&52428)>>2|(Yf&13107)<<2,Yf=(Yf&61680)>>4|(Yf&3855)<<4,ZB[Ba]=((Yf&65280)>>8|(Yf&255)<<8)>>1}var M0=(function(e,t,r){for(var n=e.length,s=0,A=new Bu(t);s<n;++s)e[s]&&++A[e[s]-1];var d=new Bu(t);for(s=1;s<t;++s)d[s]=d[s-1]+A[s-1]<<1;var l;if(r){l=new Bu(1<<t);var y=15-t;for(s=0;s<n;++s)if(e[s])for(var b=s<<4|e[s],w=t-e[s],S=d[e[s]-1]++<<w,F=S|(1<<w)-1;S<=F;++S)l[ZB[S]>>y]=b}else for(l=new Bu(n),s=0;s<n;++s)e[s]&&(l[s]=ZB[d[e[s]-1]++]>>15-e[s]);return l}),Tp=new Pc(288);for(var Ba=0;Ba<144;++Ba)Tp[Ba]=8;for(var Ba=144;Ba<256;++Ba)Tp[Ba]=9;for(var Ba=256;Ba<280;++Ba)Tp[Ba]=7;for(var Ba=280;Ba<288;++Ba)Tp[Ba]=8;var Q_=new Pc(32);for(var Ba=0;Ba<32;++Ba)Q_[Ba]=5;var iie=M0(Tp,9,0),aie=M0(Q_,5,0),fD=function(e){return(e+7)/8|0},sie=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Pc(e.subarray(t,r))},jh=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},g0=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},s2=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var s=r.length,A=r.slice();if(!s)return{t:pD,l:0};if(s==1){var d=new Pc(r[0].s+1);return d[r[0].s]=1,{t:d,l:1}}r.sort(function(ce,me){return ce.f-me.f}),r.push({s:-1,f:25001});var l=r[0],y=r[1],b=0,w=1,S=2;for(r[0]={s:-1,f:l.f+y.f,l,r:y};w!=s-1;)l=r[r[b].f<r[S].f?b++:S++],y=r[b!=w&&r[b].f<r[S].f?b++:S++],r[w++]={s:-1,f:l.f+y.f,l,r:y};for(var F=A[0].s,n=1;n<s;++n)A[n].s>F&&(F=A[n].s);var T=new Bu(F+1),z=WB(r[w-1],T,0);if(z>t){var n=0,H=0,K=z-t,q=1<<K;for(A.sort(function(me,Ee){return T[Ee.s]-T[me.s]||me.f-Ee.f});n<s;++n){var ne=A[n].s;if(T[ne]>t)H+=q-(1<<z-T[ne]),T[ne]=t;else break}for(H>>=K;H>0;){var W=A[n].s;T[W]<t?H-=1<<t-T[W]++-1:++n}for(;n>=0&&H;--n){var le=A[n].s;T[le]==t&&(--T[le],++H)}z=t}return{t:new Pc(T),l:z}},WB=function(e,t,r){return e.s==-1?Math.max(WB(e.l,t,r+1),WB(e.r,t,r+1)):t[e.s]=r},jI=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Bu(++t),n=0,s=e[0],A=1,d=function(y){r[n++]=y},l=1;l<=t;++l)if(e[l]==s&&l!=t)++A;else{if(!s&&A>2){for(;A>138;A-=138)d(32754);A>2&&(d(A>10?A-11<<5|28690:A-3<<5|12305),A=0)}else if(A>3){for(d(s),--A;A>6;A-=6)d(8304);A>2&&(d(A-3<<5|8208),A=0)}for(;A--;)d(s);A=1,s=e[l]}return{c:r.subarray(0,n),n:t}},m0=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},dD=function(e,t,r){var n=r.length,s=fD(t+2);e[s]=n&255,e[s+1]=n>>8,e[s+2]=e[s]^255,e[s+3]=e[s+1]^255;for(var A=0;A<n;++A)e[s+A+4]=r[A];return(s+4+n)*8},KI=function(e,t,r,n,s,A,d,l,y,b,w){jh(t,w++,r),++s[256];for(var S=s2(s,15),F=S.t,T=S.l,z=s2(A,15),H=z.t,K=z.l,q=jI(F),ne=q.c,W=q.n,le=jI(H),ce=le.c,me=le.n,Ee=new Bu(19),Ie=0;Ie<ne.length;++Ie)++Ee[ne[Ie]&31];for(var Ie=0;Ie<ce.length;++Ie)++Ee[ce[Ie]&31];for(var ge=s2(Ee,7),je=ge.t,ie=ge.l,de=19;de>4&&!je[zI[de-1]];--de);var Fe=b+5<<3,Le=m0(s,Tp)+m0(A,Q_)+d,it=m0(s,F)+m0(A,H)+d+14+3*de+m0(Ee,je)+2*Ee[16]+3*Ee[17]+7*Ee[18];if(y>=0&&Fe<=Le&&Fe<=it)return dD(t,w,e.subarray(y,y+b));var Pe,ke,Ge,Oe;if(jh(t,w,1+(it<Le)),w+=2,it<Le){Pe=M0(F,T,0),ke=F,Ge=M0(H,K,0),Oe=H;var st=M0(je,ie,0);jh(t,w,W-257),jh(t,w+5,me-1),jh(t,w+10,de-4),w+=14;for(var Ie=0;Ie<de;++Ie)jh(t,w+3*Ie,je[zI[Ie]]);w+=3*de;for(var be=[ne,ce],ee=0;ee<2;++ee)for(var ye=be[ee],Ie=0;Ie<ye.length;++Ie){var Te=ye[Ie]&31;jh(t,w,st[Te]),w+=je[Te],Te>15&&(jh(t,w,ye[Ie]>>5&127),w+=ye[Ie]>>12)}}else Pe=iie,ke=Tp,Ge=aie,Oe=Q_;for(var Ie=0;Ie<l;++Ie){var Ne=n[Ie];if(Ne>255){var Te=Ne>>18&31;g0(t,w,Pe[Te+257]),w+=ke[Te+257],Te>7&&(jh(t,w,Ne>>23&31),w+=iS[Te]);var Ze=Ne&31;g0(t,w,Ge[Ze]),w+=Oe[Ze],Ze>3&&(g0(t,w,Ne>>5&8191),w+=aS[Ze])}else g0(t,w,Pe[Ne]),w+=ke[Ne]}return g0(t,w,Pe[256]),w+ke[256]},oie=new nS([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),pD=new Pc(0),lie=function(e,t,r,n,s,A){var d=A.z||e.length,l=new Pc(n+d+5*(1+Math.ceil(d/7e3))+s),y=l.subarray(n,l.length-s),b=A.l,w=(A.r||0)&7;if(t){w&&(y[0]=A.r>>3);for(var S=oie[t-1],F=S>>13,T=S&8191,z=(1<<r)-1,H=A.p||new Bu(32768),K=A.h||new Bu(z+1),q=Math.ceil(r/3),ne=2*q,W=function(Xt){return(e[Xt]^e[Xt+1]<<q^e[Xt+2]<<ne)&z},le=new nS(25e3),ce=new Bu(288),me=new Bu(32),Ee=0,Ie=0,ge=A.i||0,je=0,ie=A.w||0,de=0;ge+2<d;++ge){var Fe=W(ge),Le=ge&32767,it=K[Fe];if(H[Le]=it,K[Fe]=Le,ie<=ge){var Pe=d-ge;if((Ee>7e3||je>24576)&&(Pe>423||!b)){w=KI(e,y,0,le,ce,me,Ie,je,de,ge-de,w),je=Ee=Ie=0,de=ge;for(var ke=0;ke<286;++ke)ce[ke]=0;for(var ke=0;ke<30;++ke)me[ke]=0}var Ge=2,Oe=0,st=T,be=Le-it&32767;if(Pe>2&&Fe==W(ge-be))for(var ee=Math.min(F,Pe)-1,ye=Math.min(32767,ge),Te=Math.min(258,Pe);be<=ye&&--st&&Le!=it;){if(e[ge+Ge]==e[ge+Ge-be]){for(var Ne=0;Ne<Te&&e[ge+Ne]==e[ge+Ne-be];++Ne);if(Ne>Ge){if(Ge=Ne,Oe=be,Ne>ee)break;for(var Ze=Math.min(be,Ne-2),et=0,ke=0;ke<Ze;++ke){var gt=ge-be+ke&32767,Ke=H[gt],pt=gt-Ke&32767;pt>et&&(et=pt,it=gt)}}}Le=it,it=H[Le],be+=Le-it&32767}if(Oe){le[je++]=268435456|XB[Ge]<<18|HI[Oe];var Ct=XB[Ge]&31,ct=HI[Oe]&31;Ie+=iS[Ct]+aS[ct],++ce[257+Ct],++me[ct],ie=ge+Ge,++Ee}else le[je++]=e[ge],++ce[e[ge]]}}for(ge=Math.max(ge,ie);ge<d;++ge)le[je++]=e[ge],++ce[e[ge]];w=KI(e,y,b,le,ce,me,Ie,je,de,ge-de,w),b||(A.r=w&7|y[w/8|0]<<3,w-=7,A.h=K,A.p=H,A.i=ge,A.w=ie)}else{for(var ge=A.w||0;ge<d+b;ge+=65535){var qt=ge+65535;qt>=d&&(y[w/8|0]=b,qt=d),w=dD(y,w+1,e.subarray(ge,qt))}A.i=d}return sie(l,0,n+fD(w)+s)},gD=function(){var e=1,t=0;return{p:function(r){for(var n=e,s=t,A=r.length|0,d=0;d!=A;){for(var l=Math.min(d+2655,A);d<l;++d)s+=n+=r[d];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}e=n,t=s},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},Aie=function(e,t,r,n,s){if(!s&&(s={l:1},t.dictionary)){var A=t.dictionary.subarray(-32768),d=new Pc(A.length+e.length);d.set(A),d.set(e,A.length),e=d,s.w=A.length}return lie(e,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,s)},mD=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},uie=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var s=gD();s.p(t.dictionary),mD(e,2,s.d())}};function YB(e,t){t||(t={});var r=gD();r.p(e);var n=Aie(e,t,t.dictionary?6:2,4);return uie(n,t),mD(n,n.length-4,r.d()),n}var cie=typeof TextDecoder<"u"&&new TextDecoder,hie=0;try{cie.decode(pD,{stream:!0}),hie=1}catch{}function fie(e){if(Array.isArray(e))return e}function die(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,A,d,l=[],y=!0,b=!1;try{if(A=(r=r.call(e)).next,t!==0)for(;!(y=(n=A.call(r)).done)&&(l.push(n.value),l.length!==t);y=!0);}catch(w){b=!0,s=w}finally{try{if(!y&&r.return!=null&&(d=r.return(),Object(d)!==d))return}finally{if(b)throw s}}return l}}function VI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function pie(e,t){if(e){if(typeof e=="string")return VI(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?VI(e,t):void 0}}function gie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qI(e,t){return fie(e)||die(e,t)||pie(e,t)||gie()}function GI(e,t="utf8"){return new TextDecoder(t).decode(e)}const mie=new TextEncoder;function yie(e){return mie.encode(e)}const vie=1024*8,_ie=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),o2={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class sS{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(t=vie,r={}){let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const s=r.offset?r.offset>>>0:0,A=t.byteLength-s;let d=s;(ArrayBuffer.isView(t)||t instanceof sS)&&(t.byteLength!==t.buffer.byteLength&&(d=t.byteOffset+s),t=t.buffer),n?this.lastWrittenByte=A:this.lastWrittenByte=0,this.buffer=t,this.length=A,this.byteLength=A,this.byteOffset=d,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,d,A),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,s=new Uint8Array(n);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=o2[r].BYTES_PER_ELEMENT*t,s=this.byteOffset+this.offset,A=this.buffer.slice(s,s+n);if(this.littleEndian===_ie&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(s,s+n));l.reverse();const y=new o2[r](l.buffer);return this.offset+=n,y.reverse(),y}const d=new o2[r](A);return this.offset+=n,d}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return GI(this.readBytes(t))}decodeText(t=1,r="utf8"){return GI(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(yie(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function sm(e){let t=e.length;for(;--t>=0;)e[t]=0}const bie=3,wie=258,yD=29,xie=256,Bie=xie+1+yD,vD=30,Cie=512,Sie=new Array((Bie+2)*2);sm(Sie);const Eie=new Array(vD*2);sm(Eie);const Tie=new Array(Cie);sm(Tie);const Iie=new Array(wie-bie+1);sm(Iie);const Fie=new Array(yD);sm(Fie);const Uie=new Array(vD);sm(Uie);const Lie=(e,t,r,n)=>{let s=e&65535|0,A=e>>>16&65535|0,d=0;for(;r!==0;){d=r>2e3?2e3:r,r-=d;do s=s+t[n++]|0,A=A+s|0;while(--d);s%=65521,A%=65521}return s|A<<16|0};var JB=Lie;const Mie=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},Pie=new Uint32Array(Mie()),Oie=(e,t,r,n)=>{const s=Pie,A=n+r;e^=-1;for(let d=n;d<A;d++)e=e>>>8^s[(e^t[d])&255];return e^-1};var Ah=Oie,e5={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},_D={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const Die=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var kie=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)Die(r,n)&&(e[n]=r[n])}}return e},Qie=e=>{let t=0;for(let n=0,s=e.length;n<s;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,s=0,A=e.length;n<A;n++){let d=e[n];r.set(d,s),s+=d.length}return r},bD={assign:kie,flattenChunks:Qie};let wD=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{wD=!1}const ey=new Uint8Array(256);for(let e=0;e<256;e++)ey[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;ey[254]=ey[254]=1;var Nie=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,s,A,d=e.length,l=0;for(s=0;s<d;s++)r=e.charCodeAt(s),(r&64512)===55296&&s+1<d&&(n=e.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(l),A=0,s=0;A<l;s++)r=e.charCodeAt(s),(r&64512)===55296&&s+1<d&&(n=e.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),r<128?t[A++]=r:r<2048?(t[A++]=192|r>>>6,t[A++]=128|r&63):r<65536?(t[A++]=224|r>>>12,t[A++]=128|r>>>6&63,t[A++]=128|r&63):(t[A++]=240|r>>>18,t[A++]=128|r>>>12&63,t[A++]=128|r>>>6&63,t[A++]=128|r&63);return t};const Rie=(e,t)=>{if(t<65534&&e.subarray&&wD)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var zie=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,s;const A=new Array(r*2);for(s=0,n=0;n<r;){let d=e[n++];if(d<128){A[s++]=d;continue}let l=ey[d];if(l>4){A[s++]=65533,n+=l-1;continue}for(d&=l===2?31:l===3?15:7;l>1&&n<r;)d=d<<6|e[n++]&63,l--;if(l>1){A[s++]=65533;continue}d<65536?A[s++]=d:(d-=65536,A[s++]=55296|d>>10&1023,A[s++]=56320|d&1023)}return Rie(A,s)},Hie=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+ey[e[r]]>t?r:t},t5={string2buf:Nie,buf2string:zie,utf8border:Hie};function jie(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Kie=jie;const u1=16209,Vie=16191;var qie=function(t,r){let n,s,A,d,l,y,b,w,S,F,T,z,H,K,q,ne,W,le,ce,me,Ee,Ie,ge,je;const ie=t.state;n=t.next_in,ge=t.input,s=n+(t.avail_in-5),A=t.next_out,je=t.output,d=A-(r-t.avail_out),l=A+(t.avail_out-257),y=ie.dmax,b=ie.wsize,w=ie.whave,S=ie.wnext,F=ie.window,T=ie.hold,z=ie.bits,H=ie.lencode,K=ie.distcode,q=(1<<ie.lenbits)-1,ne=(1<<ie.distbits)-1;e:do{z<15&&(T+=ge[n++]<<z,z+=8,T+=ge[n++]<<z,z+=8),W=H[T&q];t:for(;;){if(le=W>>>24,T>>>=le,z-=le,le=W>>>16&255,le===0)je[A++]=W&65535;else if(le&16){ce=W&65535,le&=15,le&&(z<le&&(T+=ge[n++]<<z,z+=8),ce+=T&(1<<le)-1,T>>>=le,z-=le),z<15&&(T+=ge[n++]<<z,z+=8,T+=ge[n++]<<z,z+=8),W=K[T&ne];r:for(;;){if(le=W>>>24,T>>>=le,z-=le,le=W>>>16&255,le&16){if(me=W&65535,le&=15,z<le&&(T+=ge[n++]<<z,z+=8,z<le&&(T+=ge[n++]<<z,z+=8)),me+=T&(1<<le)-1,me>y){t.msg="invalid distance too far back",ie.mode=u1;break e}if(T>>>=le,z-=le,le=A-d,me>le){if(le=me-le,le>w&&ie.sane){t.msg="invalid distance too far back",ie.mode=u1;break e}if(Ee=0,Ie=F,S===0){if(Ee+=b-le,le<ce){ce-=le;do je[A++]=F[Ee++];while(--le);Ee=A-me,Ie=je}}else if(S<le){if(Ee+=b+S-le,le-=S,le<ce){ce-=le;do je[A++]=F[Ee++];while(--le);if(Ee=0,S<ce){le=S,ce-=le;do je[A++]=F[Ee++];while(--le);Ee=A-me,Ie=je}}}else if(Ee+=S-le,le<ce){ce-=le;do je[A++]=F[Ee++];while(--le);Ee=A-me,Ie=je}for(;ce>2;)je[A++]=Ie[Ee++],je[A++]=Ie[Ee++],je[A++]=Ie[Ee++],ce-=3;ce&&(je[A++]=Ie[Ee++],ce>1&&(je[A++]=Ie[Ee++]))}else{Ee=A-me;do je[A++]=je[Ee++],je[A++]=je[Ee++],je[A++]=je[Ee++],ce-=3;while(ce>2);ce&&(je[A++]=je[Ee++],ce>1&&(je[A++]=je[Ee++]))}}else if((le&64)===0){W=K[(W&65535)+(T&(1<<le)-1)];continue r}else{t.msg="invalid distance code",ie.mode=u1;break e}break}}else if((le&64)===0){W=H[(W&65535)+(T&(1<<le)-1)];continue t}else if(le&32){ie.mode=Vie;break e}else{t.msg="invalid literal/length code",ie.mode=u1;break e}break}}while(n<s&&A<l);ce=z>>3,n-=ce,z-=ce<<3,T&=(1<<z)-1,t.next_in=n,t.next_out=A,t.avail_in=n<s?5+(s-n):5-(n-s),t.avail_out=A<l?257+(l-A):257-(A-l),ie.hold=T,ie.bits=z};const bg=15,$I=852,XI=592,ZI=0,l2=1,WI=2,Gie=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),$ie=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Xie=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Zie=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Wie=(e,t,r,n,s,A,d,l)=>{const y=l.bits;let b=0,w=0,S=0,F=0,T=0,z=0,H=0,K=0,q=0,ne=0,W,le,ce,me,Ee,Ie=null,ge;const je=new Uint16Array(bg+1),ie=new Uint16Array(bg+1);let de=null,Fe,Le,it;for(b=0;b<=bg;b++)je[b]=0;for(w=0;w<n;w++)je[t[r+w]]++;for(T=y,F=bg;F>=1&&je[F]===0;F--);if(T>F&&(T=F),F===0)return s[A++]=1<<24|64<<16|0,s[A++]=1<<24|64<<16|0,l.bits=1,0;for(S=1;S<F&&je[S]===0;S++);for(T<S&&(T=S),K=1,b=1;b<=bg;b++)if(K<<=1,K-=je[b],K<0)return-1;if(K>0&&(e===ZI||F!==1))return-1;for(ie[1]=0,b=1;b<bg;b++)ie[b+1]=ie[b]+je[b];for(w=0;w<n;w++)t[r+w]!==0&&(d[ie[t[r+w]]++]=w);if(e===ZI?(Ie=de=d,ge=20):e===l2?(Ie=Gie,de=$ie,ge=257):(Ie=Xie,de=Zie,ge=0),ne=0,w=0,b=S,Ee=A,z=T,H=0,ce=-1,q=1<<T,me=q-1,e===l2&&q>$I||e===WI&&q>XI)return 1;for(;;){Fe=b-H,d[w]+1<ge?(Le=0,it=d[w]):d[w]>=ge?(Le=de[d[w]-ge],it=Ie[d[w]-ge]):(Le=96,it=0),W=1<<b-H,le=1<<z,S=le;do le-=W,s[Ee+(ne>>H)+le]=Fe<<24|Le<<16|it|0;while(le!==0);for(W=1<<b-1;ne&W;)W>>=1;if(W!==0?(ne&=W-1,ne+=W):ne=0,w++,--je[b]===0){if(b===F)break;b=t[r+d[w]]}if(b>T&&(ne&me)!==ce){for(H===0&&(H=T),Ee+=S,z=b-H,K=1<<z;z+H<F&&(K-=je[z+H],!(K<=0));)z++,K<<=1;if(q+=1<<z,e===l2&&q>$I||e===WI&&q>XI)return 1;ce=ne&me,s[ce]=T<<24|z<<16|Ee-A|0}}return ne!==0&&(s[Ee+ne]=b-H<<24|64<<16|0),l.bits=T,0};var P0=Wie;const Yie=0,xD=1,BD=2,{Z_FINISH:YI,Z_BLOCK:Jie,Z_TREES:c1,Z_OK:Ip,Z_STREAM_END:eae,Z_NEED_DICT:tae,Z_STREAM_ERROR:sc,Z_DATA_ERROR:CD,Z_MEM_ERROR:SD,Z_BUF_ERROR:rae,Z_DEFLATED:JI}=_D,Nb=16180,eF=16181,tF=16182,rF=16183,nF=16184,iF=16185,aF=16186,sF=16187,oF=16188,lF=16189,N_=16190,Kh=16191,A2=16192,AF=16193,u2=16194,uF=16195,cF=16196,hF=16197,fF=16198,h1=16199,f1=16200,dF=16201,pF=16202,gF=16203,mF=16204,yF=16205,c2=16206,vF=16207,_F=16208,Pa=16209,ED=16210,TD=16211,nae=852,iae=592,aae=15,sae=aae,bF=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function oae(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Lp=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Nb||t.mode>TD?1:0},ID=e=>{if(Lp(e))return sc;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=Nb,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(nae),t.distcode=t.distdyn=new Int32Array(iae),t.sane=1,t.back=-1,Ip},FD=e=>{if(Lp(e))return sc;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,ID(e)},UD=(e,t)=>{let r;if(Lp(e))return sc;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?sc:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,FD(e))},LD=(e,t)=>{if(!e)return sc;const r=new oae;e.state=r,r.strm=e,r.window=null,r.mode=Nb;const n=UD(e,t);return n!==Ip&&(e.state=null),n},lae=e=>LD(e,sae);let wF=!0,h2,f2;const Aae=e=>{if(wF){h2=new Int32Array(512),f2=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(P0(xD,e.lens,0,288,h2,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;P0(BD,e.lens,0,32,f2,0,e.work,{bits:5}),wF=!1}e.lencode=h2,e.lenbits=9,e.distcode=f2,e.distbits=5},MD=(e,t,r,n)=>{let s;const A=e.state;return A.window===null&&(A.wsize=1<<A.wbits,A.wnext=0,A.whave=0,A.window=new Uint8Array(A.wsize)),n>=A.wsize?(A.window.set(t.subarray(r-A.wsize,r),0),A.wnext=0,A.whave=A.wsize):(s=A.wsize-A.wnext,s>n&&(s=n),A.window.set(t.subarray(r-n,r-n+s),A.wnext),n-=s,n?(A.window.set(t.subarray(r-n,r),0),A.wnext=n,A.whave=A.wsize):(A.wnext+=s,A.wnext===A.wsize&&(A.wnext=0),A.whave<A.wsize&&(A.whave+=s))),0},uae=(e,t)=>{let r,n,s,A,d,l,y,b,w,S,F,T,z,H,K=0,q,ne,W,le,ce,me,Ee,Ie;const ge=new Uint8Array(4);let je,ie;const de=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Lp(e)||!e.output||!e.input&&e.avail_in!==0)return sc;r=e.state,r.mode===Kh&&(r.mode=A2),d=e.next_out,s=e.output,y=e.avail_out,A=e.next_in,n=e.input,l=e.avail_in,b=r.hold,w=r.bits,S=l,F=y,Ie=Ip;e:for(;;)switch(r.mode){case Nb:if(r.wrap===0){r.mode=A2;break}for(;w<16;){if(l===0)break e;l--,b+=n[A++]<<w,w+=8}if(r.wrap&2&&b===35615){r.wbits===0&&(r.wbits=15),r.check=0,ge[0]=b&255,ge[1]=b>>>8&255,r.check=Ah(r.check,ge,2,0),b=0,w=0,r.mode=eF;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((b&255)<<8)+(b>>8))%31){e.msg="incorrect header check",r.mode=Pa;break}if((b&15)!==JI){e.msg="unknown compression method",r.mode=Pa;break}if(b>>>=4,w-=4,Ee=(b&15)+8,r.wbits===0&&(r.wbits=Ee),Ee>15||Ee>r.wbits){e.msg="invalid window size",r.mode=Pa;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=b&512?lF:Kh,b=0,w=0;break;case eF:for(;w<16;){if(l===0)break e;l--,b+=n[A++]<<w,w+=8}if(r.flags=b,(r.flags&255)!==JI){e.msg="unknown compression method",r.mode=Pa;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=Pa;break}r.head&&(r.head.text=b>>8&1),r.flags&512&&r.wrap&4&&(ge[0]=b&255,ge[1]=b>>>8&255,r.check=Ah(r.check,ge,2,0)),b=0,w=0,r.mode=tF;case tF:for(;w<32;){if(l===0)break e;l--,b+=n[A++]<<w,w+=8}r.head&&(r.head.time=b),r.flags&512&&r.wrap&4&&(ge[0]=b&255,ge[1]=b>>>8&255,ge[2]=b>>>16&255,ge[3]=b>>>24&255,r.check=Ah(r.check,ge,4,0)),b=0,w=0,r.mode=rF;case rF:for(;w<16;){if(l===0)break e;l--,b+=n[A++]<<w,w+=8}r.head&&(r.head.xflags=b&255,r.head.os=b>>8),r.flags&512&&r.wrap&4&&(ge[0]=b&255,ge[1]=b>>>8&255,r.check=Ah(r.check,ge,2,0)),b=0,w=0,r.mode=nF;case nF:if(r.flags&1024){for(;w<16;){if(l===0)break e;l--,b+=n[A++]<<w,w+=8}r.length=b,r.head&&(r.head.extra_len=b),r.flags&512&&r.wrap&4&&(ge[0]=b&255,ge[1]=b>>>8&255,r.check=Ah(r.check,ge,2,0)),b=0,w=0}else r.head&&(r.head.extra=null);r.mode=iF;case iF:if(r.flags&1024&&(T=r.length,T>l&&(T=l),T&&(r.head&&(Ee=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(A,A+T),Ee)),r.flags&512&&r.wrap&4&&(r.check=Ah(r.check,n,T,A)),l-=T,A+=T,r.length-=T),r.length))break e;r.length=0,r.mode=aF;case aF:if(r.flags&2048){if(l===0)break e;T=0;do Ee=n[A+T++],r.head&&Ee&&r.length<65536&&(r.head.name+=String.fromCharCode(Ee));while(Ee&&T<l);if(r.flags&512&&r.wrap&4&&(r.check=Ah(r.check,n,T,A)),l-=T,A+=T,Ee)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=sF;case sF:if(r.flags&4096){if(l===0)break e;T=0;do Ee=n[A+T++],r.head&&Ee&&r.length<65536&&(r.head.comment+=String.fromCharCode(Ee));while(Ee&&T<l);if(r.flags&512&&r.wrap&4&&(r.check=Ah(r.check,n,T,A)),l-=T,A+=T,Ee)break e}else r.head&&(r.head.comment=null);r.mode=oF;case oF:if(r.flags&512){for(;w<16;){if(l===0)break e;l--,b+=n[A++]<<w,w+=8}if(r.wrap&4&&b!==(r.check&65535)){e.msg="header crc mismatch",r.mode=Pa;break}b=0,w=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Kh;break;case lF:for(;w<32;){if(l===0)break e;l--,b+=n[A++]<<w,w+=8}e.adler=r.check=bF(b),b=0,w=0,r.mode=N_;case N_:if(r.havedict===0)return e.next_out=d,e.avail_out=y,e.next_in=A,e.avail_in=l,r.hold=b,r.bits=w,tae;e.adler=r.check=1,r.mode=Kh;case Kh:if(t===Jie||t===c1)break e;case A2:if(r.last){b>>>=w&7,w-=w&7,r.mode=c2;break}for(;w<3;){if(l===0)break e;l--,b+=n[A++]<<w,w+=8}switch(r.last=b&1,b>>>=1,w-=1,b&3){case 0:r.mode=AF;break;case 1:if(Aae(r),r.mode=h1,t===c1){b>>>=2,w-=2;break e}break;case 2:r.mode=cF;break;case 3:e.msg="invalid block type",r.mode=Pa}b>>>=2,w-=2;break;case AF:for(b>>>=w&7,w-=w&7;w<32;){if(l===0)break e;l--,b+=n[A++]<<w,w+=8}if((b&65535)!==(b>>>16^65535)){e.msg="invalid stored block lengths",r.mode=Pa;break}if(r.length=b&65535,b=0,w=0,r.mode=u2,t===c1)break e;case u2:r.mode=uF;case uF:if(T=r.length,T){if(T>l&&(T=l),T>y&&(T=y),T===0)break e;s.set(n.subarray(A,A+T),d),l-=T,A+=T,y-=T,d+=T,r.length-=T;break}r.mode=Kh;break;case cF:for(;w<14;){if(l===0)break e;l--,b+=n[A++]<<w,w+=8}if(r.nlen=(b&31)+257,b>>>=5,w-=5,r.ndist=(b&31)+1,b>>>=5,w-=5,r.ncode=(b&15)+4,b>>>=4,w-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=Pa;break}r.have=0,r.mode=hF;case hF:for(;r.have<r.ncode;){for(;w<3;){if(l===0)break e;l--,b+=n[A++]<<w,w+=8}r.lens[de[r.have++]]=b&7,b>>>=3,w-=3}for(;r.have<19;)r.lens[de[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,je={bits:r.lenbits},Ie=P0(Yie,r.lens,0,19,r.lencode,0,r.work,je),r.lenbits=je.bits,Ie){e.msg="invalid code lengths set",r.mode=Pa;break}r.have=0,r.mode=fF;case fF:for(;r.have<r.nlen+r.ndist;){for(;K=r.lencode[b&(1<<r.lenbits)-1],q=K>>>24,ne=K>>>16&255,W=K&65535,!(q<=w);){if(l===0)break e;l--,b+=n[A++]<<w,w+=8}if(W<16)b>>>=q,w-=q,r.lens[r.have++]=W;else{if(W===16){for(ie=q+2;w<ie;){if(l===0)break e;l--,b+=n[A++]<<w,w+=8}if(b>>>=q,w-=q,r.have===0){e.msg="invalid bit length repeat",r.mode=Pa;break}Ee=r.lens[r.have-1],T=3+(b&3),b>>>=2,w-=2}else if(W===17){for(ie=q+3;w<ie;){if(l===0)break e;l--,b+=n[A++]<<w,w+=8}b>>>=q,w-=q,Ee=0,T=3+(b&7),b>>>=3,w-=3}else{for(ie=q+7;w<ie;){if(l===0)break e;l--,b+=n[A++]<<w,w+=8}b>>>=q,w-=q,Ee=0,T=11+(b&127),b>>>=7,w-=7}if(r.have+T>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=Pa;break}for(;T--;)r.lens[r.have++]=Ee}}if(r.mode===Pa)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=Pa;break}if(r.lenbits=9,je={bits:r.lenbits},Ie=P0(xD,r.lens,0,r.nlen,r.lencode,0,r.work,je),r.lenbits=je.bits,Ie){e.msg="invalid literal/lengths set",r.mode=Pa;break}if(r.distbits=6,r.distcode=r.distdyn,je={bits:r.distbits},Ie=P0(BD,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,je),r.distbits=je.bits,Ie){e.msg="invalid distances set",r.mode=Pa;break}if(r.mode=h1,t===c1)break e;case h1:r.mode=f1;case f1:if(l>=6&&y>=258){e.next_out=d,e.avail_out=y,e.next_in=A,e.avail_in=l,r.hold=b,r.bits=w,qie(e,F),d=e.next_out,s=e.output,y=e.avail_out,A=e.next_in,n=e.input,l=e.avail_in,b=r.hold,w=r.bits,r.mode===Kh&&(r.back=-1);break}for(r.back=0;K=r.lencode[b&(1<<r.lenbits)-1],q=K>>>24,ne=K>>>16&255,W=K&65535,!(q<=w);){if(l===0)break e;l--,b+=n[A++]<<w,w+=8}if(ne&&(ne&240)===0){for(le=q,ce=ne,me=W;K=r.lencode[me+((b&(1<<le+ce)-1)>>le)],q=K>>>24,ne=K>>>16&255,W=K&65535,!(le+q<=w);){if(l===0)break e;l--,b+=n[A++]<<w,w+=8}b>>>=le,w-=le,r.back+=le}if(b>>>=q,w-=q,r.back+=q,r.length=W,ne===0){r.mode=yF;break}if(ne&32){r.back=-1,r.mode=Kh;break}if(ne&64){e.msg="invalid literal/length code",r.mode=Pa;break}r.extra=ne&15,r.mode=dF;case dF:if(r.extra){for(ie=r.extra;w<ie;){if(l===0)break e;l--,b+=n[A++]<<w,w+=8}r.length+=b&(1<<r.extra)-1,b>>>=r.extra,w-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=pF;case pF:for(;K=r.distcode[b&(1<<r.distbits)-1],q=K>>>24,ne=K>>>16&255,W=K&65535,!(q<=w);){if(l===0)break e;l--,b+=n[A++]<<w,w+=8}if((ne&240)===0){for(le=q,ce=ne,me=W;K=r.distcode[me+((b&(1<<le+ce)-1)>>le)],q=K>>>24,ne=K>>>16&255,W=K&65535,!(le+q<=w);){if(l===0)break e;l--,b+=n[A++]<<w,w+=8}b>>>=le,w-=le,r.back+=le}if(b>>>=q,w-=q,r.back+=q,ne&64){e.msg="invalid distance code",r.mode=Pa;break}r.offset=W,r.extra=ne&15,r.mode=gF;case gF:if(r.extra){for(ie=r.extra;w<ie;){if(l===0)break e;l--,b+=n[A++]<<w,w+=8}r.offset+=b&(1<<r.extra)-1,b>>>=r.extra,w-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=Pa;break}r.mode=mF;case mF:if(y===0)break e;if(T=F-y,r.offset>T){if(T=r.offset-T,T>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=Pa;break}T>r.wnext?(T-=r.wnext,z=r.wsize-T):z=r.wnext-T,T>r.length&&(T=r.length),H=r.window}else H=s,z=d-r.offset,T=r.length;T>y&&(T=y),y-=T,r.length-=T;do s[d++]=H[z++];while(--T);r.length===0&&(r.mode=f1);break;case yF:if(y===0)break e;s[d++]=r.length,y--,r.mode=f1;break;case c2:if(r.wrap){for(;w<32;){if(l===0)break e;l--,b|=n[A++]<<w,w+=8}if(F-=y,e.total_out+=F,r.total+=F,r.wrap&4&&F&&(e.adler=r.check=r.flags?Ah(r.check,s,F,d-F):JB(r.check,s,F,d-F)),F=y,r.wrap&4&&(r.flags?b:bF(b))!==r.check){e.msg="incorrect data check",r.mode=Pa;break}b=0,w=0}r.mode=vF;case vF:if(r.wrap&&r.flags){for(;w<32;){if(l===0)break e;l--,b+=n[A++]<<w,w+=8}if(r.wrap&4&&b!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=Pa;break}b=0,w=0}r.mode=_F;case _F:Ie=eae;break e;case Pa:Ie=CD;break e;case ED:return SD;case TD:default:return sc}return e.next_out=d,e.avail_out=y,e.next_in=A,e.avail_in=l,r.hold=b,r.bits=w,(r.wsize||F!==e.avail_out&&r.mode<Pa&&(r.mode<c2||t!==YI))&&MD(e,e.output,e.next_out,F-e.avail_out),S-=e.avail_in,F-=e.avail_out,e.total_in+=S,e.total_out+=F,r.total+=F,r.wrap&4&&F&&(e.adler=r.check=r.flags?Ah(r.check,s,F,e.next_out-F):JB(r.check,s,F,e.next_out-F)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Kh?128:0)+(r.mode===h1||r.mode===u2?256:0),(S===0&&F===0||t===YI)&&Ie===Ip&&(Ie=rae),Ie},cae=e=>{if(Lp(e))return sc;let t=e.state;return t.window&&(t.window=null),e.state=null,Ip},hae=(e,t)=>{if(Lp(e))return sc;const r=e.state;return(r.wrap&2)===0?sc:(r.head=t,t.done=!1,Ip)},fae=(e,t)=>{const r=t.length;let n,s,A;return Lp(e)||(n=e.state,n.wrap!==0&&n.mode!==N_)?sc:n.mode===N_&&(s=1,s=JB(s,t,r,0),s!==n.check)?CD:(A=MD(e,t,r,r),A?(n.mode=ED,SD):(n.havedict=1,Ip))};var dae=FD,pae=UD,gae=ID,mae=lae,yae=LD,vae=uae,_ae=cae,bae=hae,wae=fae,xae="pako inflate (from Nodeca project)",qh={inflateReset:dae,inflateReset2:pae,inflateResetKeep:gae,inflateInit:mae,inflateInit2:yae,inflate:vae,inflateEnd:_ae,inflateGetHeader:bae,inflateSetDictionary:wae,inflateInfo:xae};function Bae(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Cae=Bae;const PD=Object.prototype.toString,{Z_NO_FLUSH:Sae,Z_FINISH:Eae,Z_OK:ty,Z_STREAM_END:d2,Z_NEED_DICT:p2,Z_STREAM_ERROR:Tae,Z_DATA_ERROR:xF,Z_MEM_ERROR:Iae}=_D;function By(e){this.options=bD.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Kie,this.strm.avail_out=0;let r=qh.inflateInit2(this.strm,t.windowBits);if(r!==ty)throw new Error(e5[r]);if(this.header=new Cae,qh.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=t5.string2buf(t.dictionary):PD.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=qh.inflateSetDictionary(this.strm,t.dictionary),r!==ty)))throw new Error(e5[r])}By.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,s=this.options.dictionary;let A,d,l;if(this.ended)return!1;for(t===~~t?d=t:d=t===!0?Eae:Sae,PD.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),A=qh.inflate(r,d),A===p2&&s&&(A=qh.inflateSetDictionary(r,s),A===ty?A=qh.inflate(r,d):A===xF&&(A=p2));r.avail_in>0&&A===d2&&r.state.wrap>0&&e[r.next_in]!==0;)qh.inflateReset(r),A=qh.inflate(r,d);switch(A){case Tae:case xF:case p2:case Iae:return this.onEnd(A),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||A===d2))if(this.options.to==="string"){let y=t5.utf8border(r.output,r.next_out),b=r.next_out-y,w=t5.buf2string(r.output,y);r.next_out=b,r.avail_out=n-b,b&&r.output.set(r.output.subarray(y,y+b),0),this.onData(w)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(A===ty&&l===0)){if(A===d2)return A=qh.inflateEnd(this.strm),this.onEnd(A),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};By.prototype.onData=function(e){this.chunks.push(e)};By.prototype.onEnd=function(e){e===ty&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=bD.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Fae(e,t){const r=new By(t);if(r.push(e),r.err)throw r.msg||e5[r.err];return r.result}var Uae=By,Lae=Fae,Mae={Inflate:Uae,inflate:Lae};const{Inflate:Pae,inflate:Oae}=Mae;var BF=Pae,Dae=Oae;const OD=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;OD[e]=t}const CF=4294967295;function kae(e,t,r){let n=e;for(let s=0;s<r;s++)n=OD[(n^t[s])&255]^n>>>8;return n}function Qae(e,t){return(kae(CF,e,t)^CF)>>>0}function SF(e,t,r){const n=e.readUint32(),s=Qae(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(s!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${s}`)}function DD(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function kD(e,t,r,n){let s=0;for(;s<n;s++)t[s]=e[s];for(;s<r;s++)t[s]=e[s]+t[s-n]&255}function QD(e,t,r,n){let s=0;if(r.length===0)for(;s<n;s++)t[s]=e[s];else for(;s<n;s++)t[s]=e[s]+r[s]&255}function ND(e,t,r,n,s){let A=0;if(r.length===0){for(;A<s;A++)t[A]=e[A];for(;A<n;A++)t[A]=e[A]+(t[A-s]>>1)&255}else{for(;A<s;A++)t[A]=e[A]+(r[A]>>1)&255;for(;A<n;A++)t[A]=e[A]+(t[A-s]+r[A]>>1)&255}}function RD(e,t,r,n,s){let A=0;if(r.length===0){for(;A<s;A++)t[A]=e[A];for(;A<n;A++)t[A]=e[A]+t[A-s]&255}else{for(;A<s;A++)t[A]=e[A]+r[A]&255;for(;A<n;A++)t[A]=e[A]+Nae(t[A-s],r[A],r[A-s])&255}}function Nae(e,t,r){const n=e+t-r,s=Math.abs(n-e),A=Math.abs(n-t),d=Math.abs(n-r);return s<=A&&s<=d?e:A<=d?t:r}function Rae(e,t,r,n,s,A){switch(e){case 0:DD(t,r,s);break;case 1:kD(t,r,s,A);break;case 2:QD(t,r,n,s);break;case 3:ND(t,r,n,s,A);break;case 4:RD(t,r,n,s,A);break;default:throw new Error(`Unsupported filter: ${e}`)}}const zae=new Uint16Array([255]),Hae=new Uint8Array(zae.buffer),jae=Hae[0]===255;function Kae(e){const{data:t,width:r,height:n,channels:s,depth:A}=e,d=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(A/8)*s,y=new Uint8Array(n*r*l);let b=0;for(let w=0;w<7;w++){const S=d[w],F=Math.ceil((r-S.x)/S.xStep),T=Math.ceil((n-S.y)/S.yStep);if(F<=0||T<=0)continue;const z=F*l,H=new Uint8Array(z);for(let K=0;K<T;K++){const q=t[b++],ne=t.subarray(b,b+z);b+=z;const W=new Uint8Array(z);Rae(q,ne,W,H,z,l),H.set(W);for(let le=0;le<F;le++){const ce=S.x+le*S.xStep,me=S.y+K*S.yStep;if(!(ce>=r||me>=n))for(let Ee=0;Ee<l;Ee++)y[(me*r+ce)*l+Ee]=W[le*l+Ee]}}}if(A===16){const w=new Uint16Array(y.buffer);if(jae)for(let S=0;S<w.length;S++)w[S]=Vae(w[S]);return w}else return y}function Vae(e){return(e&255)<<8|e>>8&255}const qae=new Uint16Array([255]),Gae=new Uint8Array(qae.buffer),$ae=Gae[0]===255,Xae=new Uint8Array(0);function EF(e){const{data:t,width:r,height:n,channels:s,depth:A}=e,d=Math.ceil(A/8)*s,l=Math.ceil(A/8*s*r),y=new Uint8Array(n*l);let b=Xae,w=0,S,F;for(let T=0;T<n;T++){switch(S=t.subarray(w+1,w+1+l),F=y.subarray(T*l,(T+1)*l),t[w]){case 0:DD(S,F,l);break;case 1:kD(S,F,l,d);break;case 2:QD(S,F,b,l);break;case 3:ND(S,F,b,l,d);break;case 4:RD(S,F,b,l,d);break;default:throw new Error(`Unsupported filter: ${t[w]}`)}b=F,w+=l+1}if(A===16){const T=new Uint16Array(y.buffer);if($ae)for(let z=0;z<T.length;z++)T[z]=Zae(T[z]);return T}else return y}function Zae(e){return(e&255)<<8|e>>8&255}const I1=Uint8Array.of(137,80,78,71,13,10,26,10);function TF(e){if(!Wae(e.readBytes(I1.length)))throw new Error("wrong PNG signature")}function Wae(e){if(e.length<I1.length)return!1;for(let t=0;t<I1.length;t++)if(e[t]!==I1[t])return!1;return!0}const Yae="tEXt",Jae=0,zD=new TextDecoder("latin1");function ese(e){if(rse(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const tse=/^[\u0000-\u00FF]*$/;function rse(e){if(!tse.test(e))throw new Error("invalid latin1 text")}function nse(e,t,r){const n=HD(t);e[n]=ise(t,r-n.length-1)}function HD(e){for(e.mark();e.readByte()!==Jae;);const t=e.offset;e.reset();const r=zD.decode(e.readBytes(t-e.offset-1));return e.skip(1),ese(r),r}function ise(e,t){return zD.decode(e.readBytes(t))}const vu={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},g2={UNKNOWN:-1,DEFLATE:0},IF={UNKNOWN:-1,ADAPTIVE:0},m2={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},d1={NONE:0,BACKGROUND:1,PREVIOUS:2},y2={SOURCE:0,OVER:1};class ase extends sS{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(t,r={}){super(t);const{checkCrc:n=!1}=r;this._checkCrc=n,this._inflator=new BF,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=g2.UNKNOWN,this._filterMethod=IF.UNKNOWN,this._interlaceMethod=m2.UNKNOWN,this._colorType=vu.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(TF(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeChunk(t,r)}return this.decodeImage(),this._png}decodeApng(){for(TF(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(t,r)}return this.decodeApngImage(),this._apng}decodeChunk(t,r){const n=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case Yae:nse(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-n!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?SF(this,t+4,r):this.skip(4)}decodeApngChunk(t,r){const n=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,r),this.offset=n+t;break}if(this.offset-n!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?SF(this,t+4,r):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=sse(this.readUint8());const r=this.readUint8();this._colorType=r;let n;switch(r){case vu.GREYSCALE:n=1;break;case vu.TRUECOLOUR:n=3;break;case vu.INDEXED_COLOUR:n=1;break;case vu.GREYSCALE_ALPHA:n=2;break;case vu.TRUECOLOUR_ALPHA:n=4;break;case vu.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==g2.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const r=t/3;this._hasPalette=!0;const n=[];this._palette=n;for(let s=0;s<r;s++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const r=t,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let r=t,n=this.offset+this.byteOffset;if(n+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case vu.GREYSCALE:case vu.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let r=0;r<t/2;r++)this._transparency[r]=this.readUint16();break}case vu.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let r=0;for(;r<t;r++){const n=this.readByte();this._palette[r].push(n)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case vu.UNKNOWN:case vu.GREYSCALE_ALPHA:case vu.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const r=HD(this),n=this.readUint8();if(n!==g2.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const s=this.readBytes(t-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:Dae(s)}}decodepHYs(){const t=this.readUint32(),r=this.readUint32(),n=this.readByte();this._png.resolution={x:t,y:r,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const r={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(t);if(n){if(n.data=EF({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)r.data=n.data;else{const s=this._apng.frames.at(t-1);this.disposeFrame(n,s,r),this.addFrameDataToCanvas(r,n)}this._apng.frames.push(r)}}return this._apng}disposeFrame(t,r,n){switch(t.disposeOp){case d1.NONE:break;case d1.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let A=0;A<this._png.width;A++){const d=(s*t.width+A)*this._png.channels;for(let l=0;l<this._png.channels;l++)n.data[d+l]=0}break;case d1.PREVIOUS:n.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,r){const n=1<<this._png.depth,s=(A,d)=>{const l=((A+r.yOffset)*this._png.width+r.xOffset+d)*this._png.channels,y=(A*r.width+d)*this._png.channels;return{index:l,frameIndex:y}};switch(r.blendOp){case y2.SOURCE:for(let A=0;A<r.height;A++)for(let d=0;d<r.width;d++){const{index:l,frameIndex:y}=s(A,d);for(let b=0;b<this._png.channels;b++)t.data[l+b]=r.data[y+b]}break;case y2.OVER:for(let A=0;A<r.height;A++)for(let d=0;d<r.width;d++){const{index:l,frameIndex:y}=s(A,d);for(let b=0;b<this._png.channels;b++){const w=r.data[y+this._png.channels-1]/n,S=b%(this._png.channels-1)===0?1:r.data[y+b],F=Math.floor(w*S+(1-w)*t.data[l+b]);t.data[l+b]+=F}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==IF.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===m2.NO_INTERLACE)this._png.data=EF({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===m2.ADAM7)this._png.data=Kae({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,r=this._frames.at(-1);r?r.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:d1.NONE,blendOp:y2.SOURCE,data:t}),this._inflator=new BF,this._writingDataChunks=!1}}function sse(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var FF;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(FF||(FF={}));function ose(e,t){return new ase(e,t).decode()}var mn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function v2(){mn.console&&typeof mn.console.log=="function"&&mn.console.log.apply(mn.console,arguments)}var aa={log:v2,warn:function(e){mn.console&&(typeof mn.console.warn=="function"?mn.console.warn.apply(mn.console,arguments):v2.call(null,arguments))},error:function(e){mn.console&&(typeof mn.console.error=="function"?mn.console.error.apply(mn.console,arguments):v2(e))}};function _2(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){lp(n.response,t,r)},n.onerror=function(){aa.error("could not download file")},n.send()}function UF(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function p1(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var lp=mn.saveAs||((typeof window>"u"?"undefined":Ni(window))!=="object"||window!==mn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=mn.URL||mn.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?UF(s.href)?_2(e,t,r):p1(s,s.target="_blank"):p1(s)):(s.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){p1(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(UF(e))_2(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){p1(n)})}else navigator.msSaveOrOpenBlob((function(s,A){return A===void 0?A={autoBom:!1}:Ni(A)!=="object"&&(aa.warn("Deprecated: Expected third argument to be a object"),A={autoBom:!A}),A.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s})(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return _2(e,t,r);var s=e.type==="application/octet-stream",A=/constructor/i.test(mn.HTMLElement)||mn.safari,d=/CriOS\/[\d]+/.test(navigator.userAgent);if((d||s&&A)&&(typeof FileReader>"u"?"undefined":Ni(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var w=l.result;w=d?w:w.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=w:location=w,n=null},l.readAsDataURL(e)}else{var y=mn.URL||mn.webkitURL,b=y.createObjectURL(e);n?n.location=b:location.href=b,n=null,setTimeout(function(){y.revokeObjectURL(b)},4e4)}});function jD(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var s=r[n].re,A=r[n].process,d=s.exec(e);d&&(t=A(d),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),y=this.g.toString(16),b=this.b.toString(16);return l.length==1&&(l="0"+l),y.length==1&&(y="0"+y),b.length==1&&(b="0"+b),"#"+l+y+b}}var F1=mn.atob.bind(mn),LF=mn.btoa.bind(mn);function b2(e,t){var r=e[0],n=e[1],s=e[2],A=e[3];r=Ul(r,n,s,A,t[0],7,-680876936),A=Ul(A,r,n,s,t[1],12,-389564586),s=Ul(s,A,r,n,t[2],17,606105819),n=Ul(n,s,A,r,t[3],22,-1044525330),r=Ul(r,n,s,A,t[4],7,-176418897),A=Ul(A,r,n,s,t[5],12,1200080426),s=Ul(s,A,r,n,t[6],17,-1473231341),n=Ul(n,s,A,r,t[7],22,-45705983),r=Ul(r,n,s,A,t[8],7,1770035416),A=Ul(A,r,n,s,t[9],12,-1958414417),s=Ul(s,A,r,n,t[10],17,-42063),n=Ul(n,s,A,r,t[11],22,-1990404162),r=Ul(r,n,s,A,t[12],7,1804603682),A=Ul(A,r,n,s,t[13],12,-40341101),s=Ul(s,A,r,n,t[14],17,-1502002290),r=Ll(r,n=Ul(n,s,A,r,t[15],22,1236535329),s,A,t[1],5,-165796510),A=Ll(A,r,n,s,t[6],9,-1069501632),s=Ll(s,A,r,n,t[11],14,643717713),n=Ll(n,s,A,r,t[0],20,-373897302),r=Ll(r,n,s,A,t[5],5,-701558691),A=Ll(A,r,n,s,t[10],9,38016083),s=Ll(s,A,r,n,t[15],14,-660478335),n=Ll(n,s,A,r,t[4],20,-405537848),r=Ll(r,n,s,A,t[9],5,568446438),A=Ll(A,r,n,s,t[14],9,-1019803690),s=Ll(s,A,r,n,t[3],14,-187363961),n=Ll(n,s,A,r,t[8],20,1163531501),r=Ll(r,n,s,A,t[13],5,-1444681467),A=Ll(A,r,n,s,t[2],9,-51403784),s=Ll(s,A,r,n,t[7],14,1735328473),r=Ml(r,n=Ll(n,s,A,r,t[12],20,-1926607734),s,A,t[5],4,-378558),A=Ml(A,r,n,s,t[8],11,-2022574463),s=Ml(s,A,r,n,t[11],16,1839030562),n=Ml(n,s,A,r,t[14],23,-35309556),r=Ml(r,n,s,A,t[1],4,-1530992060),A=Ml(A,r,n,s,t[4],11,1272893353),s=Ml(s,A,r,n,t[7],16,-155497632),n=Ml(n,s,A,r,t[10],23,-1094730640),r=Ml(r,n,s,A,t[13],4,681279174),A=Ml(A,r,n,s,t[0],11,-358537222),s=Ml(s,A,r,n,t[3],16,-722521979),n=Ml(n,s,A,r,t[6],23,76029189),r=Ml(r,n,s,A,t[9],4,-640364487),A=Ml(A,r,n,s,t[12],11,-421815835),s=Ml(s,A,r,n,t[15],16,530742520),r=Pl(r,n=Ml(n,s,A,r,t[2],23,-995338651),s,A,t[0],6,-198630844),A=Pl(A,r,n,s,t[7],10,1126891415),s=Pl(s,A,r,n,t[14],15,-1416354905),n=Pl(n,s,A,r,t[5],21,-57434055),r=Pl(r,n,s,A,t[12],6,1700485571),A=Pl(A,r,n,s,t[3],10,-1894986606),s=Pl(s,A,r,n,t[10],15,-1051523),n=Pl(n,s,A,r,t[1],21,-2054922799),r=Pl(r,n,s,A,t[8],6,1873313359),A=Pl(A,r,n,s,t[15],10,-30611744),s=Pl(s,A,r,n,t[6],15,-1560198380),n=Pl(n,s,A,r,t[13],21,1309151649),r=Pl(r,n,s,A,t[4],6,-145523070),A=Pl(A,r,n,s,t[11],10,-1120210379),s=Pl(s,A,r,n,t[2],15,718787259),n=Pl(n,s,A,r,t[9],21,-343485551),e[0]=Ad(r,e[0]),e[1]=Ad(n,e[1]),e[2]=Ad(s,e[2]),e[3]=Ad(A,e[3])}function Rb(e,t,r,n,s,A){return t=Ad(Ad(t,e),Ad(n,A)),Ad(t<<s|t>>>32-s,r)}function Ul(e,t,r,n,s,A,d){return Rb(t&r|~t&n,e,t,s,A,d)}function Ll(e,t,r,n,s,A,d){return Rb(t&n|r&~n,e,t,s,A,d)}function Ml(e,t,r,n,s,A,d){return Rb(t^r^n,e,t,s,A,d)}function Pl(e,t,r,n,s,A,d){return Rb(r^(t|~n),e,t,s,A,d)}function KD(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)b2(n,lse(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(b2(n,s),t=0;t<16;t++)s[t]=0;return s[14]=8*r,b2(n,s),n}function lse(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var MF="0123456789abcdef".split("");function Ase(e){for(var t="",r=0;r<4;r++)t+=MF[e>>8*r+4&15]+MF[e>>8*r&15];return t}function use(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function r5(e){return KD(e).map(use).join("")}var cse=(function(e){for(var t=0;t<e.length;t++)e[t]=Ase(e[t]);return e.join("")})(KD("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ad(e,t){if(cse){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}function n5(e,t){var r,n,s,A;if(e!==r){for(var d=(s=e,A=1+(256/e.length|0),new Array(A+1).join(s)),l=[],y=0;y<256;y++)l[y]=y;var b=0;for(y=0;y<256;y++){var w=l[y];b=(b+w+d.charCodeAt(y))%256,l[y]=l[b],l[b]=w}r=e,n=l}else l=n;var S=t.length,F=0,T=0,z="";for(y=0;y<S;y++)T=(T+(w=l[F=(F+1)%256]))%256,l[F]=l[T],l[T]=w,d=l[(l[F]+l[T])%256],z+=String.fromCharCode(t.charCodeAt(y)^d);return z}var PF={print:4,modify:8,copy:16,"annot-forms":32};function Eg(e,t,r,n){this.v=1,this.r=2;var s=192;e.forEach(function(l){if(PF.perm!==void 0)throw new Error("Invalid permission: "+l);s+=PF[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var A=(t+this.padding).substr(0,32),d=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(A,d),this.P=-(1+(255^s)),this.encryptionKey=r5(A+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=n5(this.encryptionKey,this.padding)}function Tg(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var s=e.charCodeAt(n);t+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):e[n]}return t}function OF(e){if(Ni(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,s){if(s=s||!1,typeof r!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var A=Math.random().toString(35);return t[r][A]=[n,!!s],A},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var A in t[r]){var d=t[r][A];try{d[0].apply(e,n)}catch(l){mn.console&&aa.error("jsPDF PubSub Error",l.message,l)}d[1]&&s.push(A)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function R_(e){if(!(this instanceof R_))return new R_(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function VD(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function up(e,t,r,n,s){if(!(this instanceof up))return new up(e,t,r,n,s);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,VD.call(this,n,s)}function Lg(e,t,r,n,s){if(!(this instanceof Lg))return new Lg(e,t,r,n,s);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,VD.call(this,n,s)}function Vr(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],A=arguments[3],d=[],l=1,y=16,b="S",w=null;Ni(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,s=e.format||s,A=e.compress||e.compressPdf||A,(w=e.encryption||null)!==null&&(w.userPassword=w.userPassword||"",w.ownerPassword=w.ownerPassword||"",w.userPermissions=w.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(y=e.floatPrecision),b=e.defaultPathOperation||"S"),d=e.filters||(A===!0?["FlateEncode"]:d),n=n||"mm",r=(""+(r||"P")).toLowerCase();var S=e.putOnlyUsedFonts||!1,F={},T={internal:{},__private__:{}};T.__private__.PubSub=OF;var z="1.3",H=T.__private__.getPdfVersion=function(){return z};T.__private__.setPdfVersion=function(j){z=j};var K={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};T.__private__.getPageFormats=function(){return K};var q=T.__private__.getPageFormat=function(j){return K[j]};s=s||"a4";var ne="compat",W="advanced",le=ne;function ce(){this.saveGraphicsState(),Me(new Ve(Pr,0,0,-Pr,0,Al()*Pr).toString()+" cm"),this.setFontSize(this.getFontSize()/Pr),b="n",le=W}function me(){this.restoreGraphicsState(),b="S",le=ne}var Ee=T.__private__.combineFontStyleAndFontWeight=function(j,fe){if(j=="bold"&&fe=="normal"||j=="bold"&&fe==400||j=="normal"&&fe=="italic"||j=="bold"&&fe=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return fe&&(j=fe==400||fe==="normal"?j==="italic"?"italic":"normal":fe!=700&&fe!=="bold"||j!=="normal"?(fe==700?"bold":fe)+""+j:"bold"),j};T.advancedAPI=function(j){var fe=le===ne;return fe&&ce.call(this),typeof j!="function"||(j(this),fe&&me.call(this)),this},T.compatAPI=function(j){var fe=le===W;return fe&&me.call(this),typeof j!="function"||(j(this),fe&&ce.call(this)),this},T.isAdvancedAPI=function(){return le===W};var Ie,ge=function(j){if(le!==W)throw new Error(j+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},je=T.roundToPrecision=T.__private__.roundToPrecision=function(j,fe){var ze=t||fe;if(isNaN(j)||isNaN(ze))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return j.toFixed(ze).replace(/0+$/,"")};Ie=T.hpf=T.__private__.hpf=typeof y=="number"?function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return je(j,y)}:y==="smart"?function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return je(j,j>-1&&j<1?16:5)}:function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return je(j,16)};var ie=T.f2=T.__private__.f2=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.f2");return je(j,2)},de=T.__private__.f3=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.f3");return je(j,3)},Fe=T.scale=T.__private__.scale=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.scale");return le===ne?j*Pr:le===W?j:void 0},Le=function(j){return Fe((function(fe){return le===ne?Al()-fe:le===W?fe:void 0})(j))};T.__private__.setPrecision=T.setPrecision=function(j){typeof parseInt(j,10)=="number"&&(t=parseInt(j,10))};var it,Pe="00000000000000000000000000000000",ke=T.__private__.getFileId=function(){return Pe},Ge=T.__private__.setFileId=function(j){return Pe=j!==void 0&&/^[a-fA-F0-9]{32}$/.test(j)?j.toUpperCase():Pe.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),w!==null&&(Ri=new Eg(w.userPermissions,w.userPassword,w.ownerPassword,Pe)),Pe};T.setFileId=function(j){return Ge(j),this},T.getFileId=function(){return ke()};var Oe=T.__private__.convertDateToPDFDate=function(j){var fe=j.getTimezoneOffset(),ze=fe<0?"+":"-",rt=Math.floor(Math.abs(fe/60)),ut=Math.abs(fe%60),Ot=[ze,Te(rt),"'",Te(ut),"'"].join("");return["D:",j.getFullYear(),Te(j.getMonth()+1),Te(j.getDate()),Te(j.getHours()),Te(j.getMinutes()),Te(j.getSeconds()),Ot].join("")},st=T.__private__.convertPDFDateToDate=function(j){var fe=parseInt(j.substr(2,4),10),ze=parseInt(j.substr(6,2),10)-1,rt=parseInt(j.substr(8,2),10),ut=parseInt(j.substr(10,2),10),Ot=parseInt(j.substr(12,2),10),jt=parseInt(j.substr(14,2),10);return new Date(fe,ze,rt,ut,Ot,jt,0)},be=T.__private__.setCreationDate=function(j){var fe;if(j===void 0&&(j=new Date),j instanceof Date)fe=Oe(j);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(j))throw new Error("Invalid argument passed to jsPDF.setCreationDate");fe=j}return it=fe},ee=T.__private__.getCreationDate=function(j){var fe=it;return j==="jsDate"&&(fe=st(it)),fe};T.setCreationDate=function(j){return be(j),this},T.getCreationDate=function(j){return ee(j)};var ye,Te=T.__private__.padd2=function(j){return("0"+parseInt(j)).slice(-2)},Ne=T.__private__.padd2Hex=function(j){return("00"+(j=j.toString())).substr(j.length)},Ze=0,et=[],gt=[],Ke=0,pt=[],Ct=[],ct=!1,qt=gt;T.__private__.setCustomOutputDestination=function(j){ct=!0,qt=j};var Xt=function(j){ct||(qt=j)};T.__private__.resetCustomOutputDestination=function(){ct=!1,qt=gt};var Me=T.__private__.out=function(j){return j=j.toString(),Ke+=j.length+1,qt.push(j),qt},Ye=T.__private__.write=function(j){return Me(arguments.length===1?j.toString():Array.prototype.join.call(arguments," "))},Nr=T.__private__.getArrayBuffer=function(j){for(var fe=j.length,ze=new ArrayBuffer(fe),rt=new Uint8Array(ze);fe--;)rt[fe]=j.charCodeAt(fe);return ze},Er=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];T.__private__.getStandardFonts=function(){return Er};var Tt=e.fontSize||16;T.__private__.setFontSize=T.setFontSize=function(j){return Tt=le===W?j/Pr:j,this};var nr,ur=T.__private__.getFontSize=T.getFontSize=function(){return le===ne?Tt:Tt*Pr},Tr=e.R2L||!1;T.__private__.setR2L=T.setR2L=function(j){return Tr=j,this},T.__private__.getR2L=T.getR2L=function(){return Tr};var Br,rn=T.__private__.setZoomMode=function(j){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(j))nr=j;else if(isNaN(j)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(j)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+j+'" is not recognized.');nr=j}else nr=parseInt(j,10)};T.__private__.getZoomMode=function(){return nr};var nn,Jr=T.__private__.setPageMode=function(j){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(j)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+j+'" is not recognized.');Br=j};T.__private__.getPageMode=function(){return Br};var yn=T.__private__.setLayoutMode=function(j){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(j)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+j+'" is not recognized.');nn=j};T.__private__.getLayoutMode=function(){return nn},T.__private__.setDisplayMode=T.setDisplayMode=function(j,fe,ze){return rn(j),yn(fe),Jr(ze),this};var Ft={title:"",subject:"",author:"",keywords:"",creator:""};T.__private__.getDocumentProperty=function(j){if(Object.keys(Ft).indexOf(j)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ft[j]},T.__private__.getDocumentProperties=function(){return Ft},T.__private__.setDocumentProperties=T.setProperties=T.setDocumentProperties=function(j){for(var fe in Ft)Ft.hasOwnProperty(fe)&&j[fe]&&(Ft[fe]=j[fe]);return this},T.__private__.setDocumentProperty=function(j,fe){if(Object.keys(Ft).indexOf(j)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ft[j]=fe};var cr,Pr,fr,ri,Pt,Zt={},Gt={},Xr=[],_r={},sr={},Ur={},Rr={},kn=null,Gr=0,Ue=[],oe=new OF(T),Ae=e.hotfixes||[],_e={},Re={},Je=[],Ve=function j(fe,ze,rt,ut,Ot,jt){if(!(this instanceof j))return new j(fe,ze,rt,ut,Ot,jt);isNaN(fe)&&(fe=1),isNaN(ze)&&(ze=0),isNaN(rt)&&(rt=0),isNaN(ut)&&(ut=1),isNaN(Ot)&&(Ot=0),isNaN(jt)&&(jt=0),this._matrix=[fe,ze,rt,ut,Ot,jt]};Object.defineProperty(Ve.prototype,"sx",{get:function(){return this._matrix[0]},set:function(j){this._matrix[0]=j}}),Object.defineProperty(Ve.prototype,"shy",{get:function(){return this._matrix[1]},set:function(j){this._matrix[1]=j}}),Object.defineProperty(Ve.prototype,"shx",{get:function(){return this._matrix[2]},set:function(j){this._matrix[2]=j}}),Object.defineProperty(Ve.prototype,"sy",{get:function(){return this._matrix[3]},set:function(j){this._matrix[3]=j}}),Object.defineProperty(Ve.prototype,"tx",{get:function(){return this._matrix[4]},set:function(j){this._matrix[4]=j}}),Object.defineProperty(Ve.prototype,"ty",{get:function(){return this._matrix[5]},set:function(j){this._matrix[5]=j}}),Object.defineProperty(Ve.prototype,"a",{get:function(){return this._matrix[0]},set:function(j){this._matrix[0]=j}}),Object.defineProperty(Ve.prototype,"b",{get:function(){return this._matrix[1]},set:function(j){this._matrix[1]=j}}),Object.defineProperty(Ve.prototype,"c",{get:function(){return this._matrix[2]},set:function(j){this._matrix[2]=j}}),Object.defineProperty(Ve.prototype,"d",{get:function(){return this._matrix[3]},set:function(j){this._matrix[3]=j}}),Object.defineProperty(Ve.prototype,"e",{get:function(){return this._matrix[4]},set:function(j){this._matrix[4]=j}}),Object.defineProperty(Ve.prototype,"f",{get:function(){return this._matrix[5]},set:function(j){this._matrix[5]=j}}),Object.defineProperty(Ve.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ve.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ve.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ve.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ve.prototype.join=function(j){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(Ie).join(j)},Ve.prototype.multiply=function(j){var fe=j.sx*this.sx+j.shy*this.shx,ze=j.sx*this.shy+j.shy*this.sy,rt=j.shx*this.sx+j.sy*this.shx,ut=j.shx*this.shy+j.sy*this.sy,Ot=j.tx*this.sx+j.ty*this.shx+this.tx,jt=j.tx*this.shy+j.ty*this.sy+this.ty;return new Ve(fe,ze,rt,ut,Ot,jt)},Ve.prototype.decompose=function(){var j=this.sx,fe=this.shy,ze=this.shx,rt=this.sy,ut=this.tx,Ot=this.ty,jt=Math.sqrt(j*j+fe*fe),yr=(j/=jt)*ze+(fe/=jt)*rt;ze-=j*yr,rt-=fe*yr;var br=Math.sqrt(ze*ze+rt*rt);return yr/=br,j*(rt/=br)<fe*(ze/=br)&&(j=-j,fe=-fe,yr=-yr,jt=-jt),{scale:new Ve(jt,0,0,br,0,0),translate:new Ve(1,0,0,1,ut,Ot),rotate:new Ve(j,fe,-fe,j,0,0),skew:new Ve(1,0,yr,1,0,0)}},Ve.prototype.toString=function(j){return this.join(" ")},Ve.prototype.inversed=function(){var j=this.sx,fe=this.shy,ze=this.shx,rt=this.sy,ut=this.tx,Ot=this.ty,jt=1/(j*rt-fe*ze),yr=rt*jt,br=-fe*jt,tn=-ze*jt,An=j*jt;return new Ve(yr,br,tn,An,-yr*ut-tn*Ot,-br*ut-An*Ot)},Ve.prototype.applyToPoint=function(j){var fe=j.x*this.sx+j.y*this.shx+this.tx,ze=j.x*this.shy+j.y*this.sy+this.ty;return new go(fe,ze)},Ve.prototype.applyToRectangle=function(j){var fe=this.applyToPoint(j),ze=this.applyToPoint(new go(j.x+j.w,j.y+j.h));return new ko(fe.x,fe.y,ze.x-fe.x,ze.y-fe.y)},Ve.prototype.clone=function(){var j=this.sx,fe=this.shy,ze=this.shx,rt=this.sy,ut=this.tx,Ot=this.ty;return new Ve(j,fe,ze,rt,ut,Ot)},T.Matrix=Ve;var lt=T.matrixMult=function(j,fe){return fe.multiply(j)},We=new Ve(1,0,0,1,0,0);T.unitMatrix=T.identityMatrix=We;var yt=function(j,fe){if(!sr[j]){var ze=(fe instanceof up?"Sh":"P")+(Object.keys(_r).length+1).toString(10);fe.id=ze,sr[j]=ze,_r[ze]=fe,oe.publish("addPattern",fe)}};T.ShadingPattern=up,T.TilingPattern=Lg,T.addShadingPattern=function(j,fe){return ge("addShadingPattern()"),yt(j,fe),this},T.beginTilingPattern=function(j){ge("beginTilingPattern()"),Ts(j.boundingBox[0],j.boundingBox[1],j.boundingBox[2]-j.boundingBox[0],j.boundingBox[3]-j.boundingBox[1],j.matrix)},T.endTilingPattern=function(j,fe){ge("endTilingPattern()"),fe.stream=Ct[ye].join(`
`),yt(j,fe),oe.publish("endTilingPattern",fe),Je.pop().restore()};var Lt,ft=T.__private__.newObject=function(){var j=Nt();return Jt(j,!0),j},Nt=T.__private__.newObjectDeferred=function(){return Ze++,et[Ze]=function(){return Ke},Ze},Jt=function(j,fe){return fe=typeof fe=="boolean"&&fe,et[j]=Ke,fe&&Me(j+" 0 obj"),j},dr=T.__private__.newAdditionalObject=function(){var j={objId:Nt(),content:""};return pt.push(j),j},Zr=Nt(),or=Nt(),Or=T.__private__.decodeColorString=function(j){var fe=j.split(" ");if(fe.length!==2||fe[1]!=="g"&&fe[1]!=="G")fe.length!==5||fe[4]!=="k"&&fe[4]!=="K"||(fe=[(1-fe[0])*(1-fe[3]),(1-fe[1])*(1-fe[3]),(1-fe[2])*(1-fe[3]),"r"]);else{var ze=parseFloat(fe[0]);fe=[ze,ze,ze,"r"]}for(var rt="#",ut=0;ut<3;ut++)rt+=("0"+Math.floor(255*parseFloat(fe[ut])).toString(16)).slice(-2);return rt},zr=T.__private__.encodeColorString=function(j){var fe;typeof j=="string"&&(j={ch1:j});var ze=j.ch1,rt=j.ch2,ut=j.ch3,Ot=j.ch4,jt=j.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ze=="string"&&ze.charAt(0)!=="#"){var yr=new jD(ze);if(yr.ok)ze=yr.toHex();else if(!/^\d*\.?\d*$/.test(ze))throw new Error('Invalid color "'+ze+'" passed to jsPDF.encodeColorString.')}if(typeof ze=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ze)&&(ze="#"+ze[1]+ze[1]+ze[2]+ze[2]+ze[3]+ze[3]),typeof ze=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ze)){var br=parseInt(ze.substr(1),16);ze=br>>16&255,rt=br>>8&255,ut=255&br}if(rt===void 0||Ot===void 0&&ze===rt&&rt===ut)fe=typeof ze=="string"?ze+" "+jt[0]:j.precision===2?ie(ze/255)+" "+jt[0]:de(ze/255)+" "+jt[0];else if(Ot===void 0||Ni(Ot)==="object"){if(Ot&&!isNaN(Ot.a)&&Ot.a===0)return["1.","1.","1.",jt[1]].join(" ");fe=typeof ze=="string"?[ze,rt,ut,jt[1]].join(" "):j.precision===2?[ie(ze/255),ie(rt/255),ie(ut/255),jt[1]].join(" "):[de(ze/255),de(rt/255),de(ut/255),jt[1]].join(" ")}else fe=typeof ze=="string"?[ze,rt,ut,Ot,jt[2]].join(" "):j.precision===2?[ie(ze),ie(rt),ie(ut),ie(Ot),jt[2]].join(" "):[de(ze),de(rt),de(ut),de(Ot),jt[2]].join(" ");return fe},Kn=T.__private__.getFilters=function(){return d},Qn=T.__private__.putStream=function(j){var fe=(j=j||{}).data||"",ze=j.filters||Kn(),rt=j.alreadyAppliedFilters||[],ut=j.addLength1||!1,Ot=fe.length,jt=j.objectId,yr=function(ua){return ua};if(w!==null&&jt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");w!==null&&(yr=Ri.encryptor(jt,0));var br={};ze===!0&&(ze=["FlateEncode"]);var tn=j.additionalKeyValues||[],An=(br=Vr.API.processDataByFilters!==void 0?Vr.API.processDataByFilters(fe,ze):{data:fe,reverseChain:[]}).reverseChain+(Array.isArray(rt)?rt.join(" "):rt.toString());if(br.data.length!==0&&(tn.push({key:"Length",value:br.data.length}),ut===!0&&tn.push({key:"Length1",value:Ot})),An.length!=0)if(An.split("/").length-1==1)tn.push({key:"Filter",value:An});else{tn.push({key:"Filter",value:"["+An+"]"});for(var zn=0;zn<tn.length;zn+=1)if(tn[zn].key==="DecodeParms"){for(var Mi=[],zi=0;zi<br.reverseChain.split("/").length-1;zi+=1)Mi.push("null");Mi.push(tn[zn].value),tn[zn].value="["+Mi.join(" ")+"]"}}Me("<<");for(var si=0;si<tn.length;si++)Me("/"+tn[si].key+" "+tn[si].value);Me(">>"),br.data.length!==0&&(Me("stream"),Me(yr(br.data)),Me("endstream"))},en=T.__private__.putPage=function(j){var fe=j.number,ze=j.data,rt=j.objId,ut=j.contentsObjId;Jt(rt,!0),Me("<</Type /Page"),Me("/Parent "+j.rootDictionaryObjId+" 0 R"),Me("/Resources "+j.resourceDictionaryObjId+" 0 R"),Me("/MediaBox ["+parseFloat(Ie(j.mediaBox.bottomLeftX))+" "+parseFloat(Ie(j.mediaBox.bottomLeftY))+" "+Ie(j.mediaBox.topRightX)+" "+Ie(j.mediaBox.topRightY)+"]"),j.cropBox!==null&&Me("/CropBox ["+Ie(j.cropBox.bottomLeftX)+" "+Ie(j.cropBox.bottomLeftY)+" "+Ie(j.cropBox.topRightX)+" "+Ie(j.cropBox.topRightY)+"]"),j.bleedBox!==null&&Me("/BleedBox ["+Ie(j.bleedBox.bottomLeftX)+" "+Ie(j.bleedBox.bottomLeftY)+" "+Ie(j.bleedBox.topRightX)+" "+Ie(j.bleedBox.topRightY)+"]"),j.trimBox!==null&&Me("/TrimBox ["+Ie(j.trimBox.bottomLeftX)+" "+Ie(j.trimBox.bottomLeftY)+" "+Ie(j.trimBox.topRightX)+" "+Ie(j.trimBox.topRightY)+"]"),j.artBox!==null&&Me("/ArtBox ["+Ie(j.artBox.bottomLeftX)+" "+Ie(j.artBox.bottomLeftY)+" "+Ie(j.artBox.topRightX)+" "+Ie(j.artBox.topRightY)+"]"),typeof j.userUnit=="number"&&j.userUnit!==1&&Me("/UserUnit "+j.userUnit),oe.publish("putPage",{objId:rt,pageContext:Ue[fe],pageNumber:fe,page:ze}),Me("/Contents "+ut+" 0 R"),Me(">>"),Me("endobj");var Ot=ze.join(`
`);return le===W&&(Ot+=`
Q`),Jt(ut,!0),Qn({data:Ot,filters:Kn(),objectId:ut}),Me("endobj"),rt},vn=T.__private__.putPages=function(){var j,fe,ze=[];for(j=1;j<=Gr;j++)Ue[j].objId=Nt(),Ue[j].contentsObjId=Nt();for(j=1;j<=Gr;j++)ze.push(en({number:j,data:Ct[j],objId:Ue[j].objId,contentsObjId:Ue[j].contentsObjId,mediaBox:Ue[j].mediaBox,cropBox:Ue[j].cropBox,bleedBox:Ue[j].bleedBox,trimBox:Ue[j].trimBox,artBox:Ue[j].artBox,userUnit:Ue[j].userUnit,rootDictionaryObjId:Zr,resourceDictionaryObjId:or}));Jt(Zr,!0),Me("<</Type /Pages");var rt="/Kids [";for(fe=0;fe<Gr;fe++)rt+=ze[fe]+" 0 R ";Me(rt+"]"),Me("/Count "+Gr),Me(">>"),Me("endobj"),oe.publish("postPutPages")},Pn=function(j){oe.publish("putFont",{font:j,out:Me,newObject:ft,putStream:Qn}),j.isAlreadyPutted!==!0&&(j.objectNumber=ft(),Me("<<"),Me("/Type /Font"),Me("/BaseFont /"+Tg(j.postScriptName)),Me("/Subtype /Type1"),typeof j.encoding=="string"&&Me("/Encoding /"+j.encoding),Me("/FirstChar 32"),Me("/LastChar 255"),Me(">>"),Me("endobj"))},mi=function(j){j.objectNumber=ft();var fe=[];fe.push({key:"Type",value:"/XObject"}),fe.push({key:"Subtype",value:"/Form"}),fe.push({key:"BBox",value:"["+[Ie(j.x),Ie(j.y),Ie(j.x+j.width),Ie(j.y+j.height)].join(" ")+"]"}),fe.push({key:"Matrix",value:"["+j.matrix.toString()+"]"});var ze=j.pages[1].join(`
`);Qn({data:ze,additionalKeyValues:fe,objectId:j.objectNumber}),Me("endobj")},ai=function(j,fe){fe||(fe=21);var ze=ft(),rt=(function(jt,yr){var br,tn=[],An=1/(yr-1);for(br=0;br<1;br+=An)tn.push(br);if(tn.push(1),jt[0].offset!=0){var zn={offset:0,color:jt[0].color};jt.unshift(zn)}if(jt[jt.length-1].offset!=1){var Mi={offset:1,color:jt[jt.length-1].color};jt.push(Mi)}for(var zi="",si=0,ua=0;ua<tn.length;ua++){for(br=tn[ua];br>jt[si+1].offset;)si++;var Hi=jt[si].offset,Ea=(br-Hi)/(jt[si+1].offset-Hi),vo=jt[si].color,ga=jt[si+1].color;zi+=Ne(Math.round((1-Ea)*vo[0]+Ea*ga[0]).toString(16))+Ne(Math.round((1-Ea)*vo[1]+Ea*ga[1]).toString(16))+Ne(Math.round((1-Ea)*vo[2]+Ea*ga[2]).toString(16))}return zi.trim()})(j.colors,fe),ut=[];ut.push({key:"FunctionType",value:"0"}),ut.push({key:"Domain",value:"[0.0 1.0]"}),ut.push({key:"Size",value:"["+fe+"]"}),ut.push({key:"BitsPerSample",value:"8"}),ut.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ut.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Qn({data:rt,additionalKeyValues:ut,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ze}),Me("endobj"),j.objectNumber=ft(),Me("<< /ShadingType "+j.type),Me("/ColorSpace /DeviceRGB");var Ot="/Coords ["+Ie(parseFloat(j.coords[0]))+" "+Ie(parseFloat(j.coords[1]))+" ";j.type===2?Ot+=Ie(parseFloat(j.coords[2]))+" "+Ie(parseFloat(j.coords[3])):Ot+=Ie(parseFloat(j.coords[2]))+" "+Ie(parseFloat(j.coords[3]))+" "+Ie(parseFloat(j.coords[4]))+" "+Ie(parseFloat(j.coords[5])),Me(Ot+="]"),j.matrix&&Me("/Matrix ["+j.matrix.toString()+"]"),Me("/Function "+ze+" 0 R"),Me("/Extend [true true]"),Me(">>"),Me("endobj")},yi=function(j,fe){var ze=Nt(),rt=ft();fe.push({resourcesOid:ze,objectOid:rt}),j.objectNumber=rt;var ut=[];ut.push({key:"Type",value:"/Pattern"}),ut.push({key:"PatternType",value:"1"}),ut.push({key:"PaintType",value:"1"}),ut.push({key:"TilingType",value:"1"}),ut.push({key:"BBox",value:"["+j.boundingBox.map(Ie).join(" ")+"]"}),ut.push({key:"XStep",value:Ie(j.xStep)}),ut.push({key:"YStep",value:Ie(j.yStep)}),ut.push({key:"Resources",value:ze+" 0 R"}),j.matrix&&ut.push({key:"Matrix",value:"["+j.matrix.toString()+"]"}),Qn({data:j.stream,additionalKeyValues:ut,objectId:j.objectNumber}),Me("endobj")},po=function(j){for(var fe in j.objectNumber=ft(),Me("<<"),j)switch(fe){case"opacity":Me("/ca "+ie(j[fe]));break;case"stroke-opacity":Me("/CA "+ie(j[fe]))}Me(">>"),Me("endobj")},wn=function(j){Jt(j.resourcesOid,!0),Me("<<"),Me("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var fe in Me("/Font <<"),Zt)Zt.hasOwnProperty(fe)&&(S===!1||S===!0&&F.hasOwnProperty(fe))&&Me("/"+fe+" "+Zt[fe].objectNumber+" 0 R");Me(">>")})(),(function(){if(Object.keys(_r).length>0){for(var fe in Me("/Shading <<"),_r)_r.hasOwnProperty(fe)&&_r[fe]instanceof up&&_r[fe].objectNumber>=0&&Me("/"+fe+" "+_r[fe].objectNumber+" 0 R");oe.publish("putShadingPatternDict"),Me(">>")}})(),(function(fe){if(Object.keys(_r).length>0){for(var ze in Me("/Pattern <<"),_r)_r.hasOwnProperty(ze)&&_r[ze]instanceof T.TilingPattern&&_r[ze].objectNumber>=0&&_r[ze].objectNumber<fe&&Me("/"+ze+" "+_r[ze].objectNumber+" 0 R");oe.publish("putTilingPatternDict"),Me(">>")}})(j.objectOid),(function(){if(Object.keys(Ur).length>0){var fe;for(fe in Me("/ExtGState <<"),Ur)Ur.hasOwnProperty(fe)&&Ur[fe].objectNumber>=0&&Me("/"+fe+" "+Ur[fe].objectNumber+" 0 R");oe.publish("putGStateDict"),Me(">>")}})(),(function(){for(var fe in Me("/XObject <<"),_e)_e.hasOwnProperty(fe)&&_e[fe].objectNumber>=0&&Me("/"+fe+" "+_e[fe].objectNumber+" 0 R");oe.publish("putXobjectDict"),Me(">>")})(),Me(">>"),Me("endobj")},Ui=function(j){Gt[j.fontName]=Gt[j.fontName]||{},Gt[j.fontName][j.fontStyle]=j.id},WA=function(j,fe,ze,rt,ut){var Ot={id:"F"+(Object.keys(Zt).length+1).toString(10),postScriptName:j,fontName:fe,fontStyle:ze,encoding:rt,isStandardFont:ut||!1,metadata:{}};return oe.publish("addFont",{font:Ot,instance:this}),Zt[Ot.id]=Ot,Ui(Ot),Ot.id},vi=T.__private__.pdfEscape=T.pdfEscape=function(j,fe){return(function(ze,rt){var ut,Ot,jt,yr,br,tn,An,zn,Mi;if(jt=(rt=rt||{}).sourceEncoding||"Unicode",br=rt.outputEncoding,(rt.autoencode||br)&&Zt[cr].metadata&&Zt[cr].metadata[jt]&&Zt[cr].metadata[jt].encoding&&(yr=Zt[cr].metadata[jt].encoding,!br&&Zt[cr].encoding&&(br=Zt[cr].encoding),!br&&yr.codePages&&(br=yr.codePages[0]),typeof br=="string"&&(br=yr[br]),br)){for(An=!1,tn=[],ut=0,Ot=ze.length;ut<Ot;ut++)(zn=br[ze.charCodeAt(ut)])?tn.push(String.fromCharCode(zn)):tn.push(ze[ut]),tn[ut].charCodeAt(0)>>8&&(An=!0);ze=tn.join("")}for(ut=ze.length;An===void 0&&ut!==0;)ze.charCodeAt(ut-1)>>8&&(An=!0),ut--;if(!An)return ze;for(tn=rt.noBOM?[]:[254,255],ut=0,Ot=ze.length;ut<Ot;ut++){if((Mi=(zn=ze.charCodeAt(ut))>>8)>>8)throw new Error("Character at position "+ut+" of string '"+ze+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");tn.push(Mi),tn.push(zn-(Mi<<8))}return String.fromCharCode.apply(void 0,tn)})(j,fe).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Li=T.__private__.beginPage=function(j){Ct[++Gr]=[],Ue[Gr]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(j[0]),topRightY:Number(j[1])}},ka(Gr),Xt(Ct[ye])},zl=function(j,fe){var ze,rt,ut;switch(r=fe||r,typeof j=="string"&&(ze=q(j.toLowerCase()),Array.isArray(ze)&&(rt=ze[0],ut=ze[1])),Array.isArray(j)&&(rt=j[0]*Pr,ut=j[1]*Pr),isNaN(rt)&&(rt=s[0],ut=s[1]),(rt>14400||ut>14400)&&(aa.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),rt=Math.min(14400,rt),ut=Math.min(14400,ut)),s=[rt,ut],r.substr(0,1)){case"l":ut>rt&&(s=[ut,rt]);break;case"p":rt>ut&&(s=[ut,rt])}Li(s),jr(la),Me(qs),vA!==0&&Me(vA+" J"),Aa!==0&&Me(Aa+" j"),oe.publish("addPage",{pageNumber:Gr})},qa=function(j){j>0&&j<=Gr&&(Ct.splice(j,1),Ue.splice(j,1),Gr--,ye>Gr&&(ye=Gr),this.setPage(ye))},ka=function(j){j>0&&j<=Gr&&(ye=j)},nl=T.__private__.getNumberOfPages=T.getNumberOfPages=function(){return Ct.length-1},il=function(j,fe,ze){var rt,ut=void 0;return ze=ze||{},j=j!==void 0?j:Zt[cr].fontName,fe=fe!==void 0?fe:Zt[cr].fontStyle,rt=j.toLowerCase(),Gt[rt]!==void 0&&Gt[rt][fe]!==void 0?ut=Gt[rt][fe]:Gt[j]!==void 0&&Gt[j][fe]!==void 0?ut=Gt[j][fe]:ze.disableWarning===!1&&aa.warn("Unable to look up font label for font '"+j+"', '"+fe+"'. Refer to getFontList() for available fonts."),ut||ze.noFallback||(ut=Gt.times[fe])==null&&(ut=Gt.times.normal),ut},Vn=T.__private__.putInfo=function(){var j=ft(),fe=function(rt){return rt};for(var ze in w!==null&&(fe=Ri.encryptor(j,0)),Me("<<"),Me("/Producer ("+vi(fe("jsPDF "+Vr.version))+")"),Ft)Ft.hasOwnProperty(ze)&&Ft[ze]&&Me("/"+ze.substr(0,1).toUpperCase()+ze.substr(1)+" ("+vi(fe(Ft[ze]))+")");Me("/CreationDate ("+vi(fe(it))+")"),Me(">>"),Me("endobj")},js=T.__private__.putCatalog=function(j){var fe=(j=j||{}).rootDictionaryObjId||Zr;switch(ft(),Me("<<"),Me("/Type /Catalog"),Me("/Pages "+fe+" 0 R"),nr||(nr="fullwidth"),nr){case"fullwidth":Me("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Me("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Me("/OpenAction [3 0 R /Fit]");break;case"original":Me("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ze=""+nr;ze.substr(ze.length-1)==="%"&&(nr=parseInt(nr)/100),typeof nr=="number"&&Me("/OpenAction [3 0 R /XYZ null null "+ie(nr)+"]")}switch(nn||(nn="continuous"),nn){case"continuous":Me("/PageLayout /OneColumn");break;case"single":Me("/PageLayout /SinglePage");break;case"two":case"twoleft":Me("/PageLayout /TwoColumnLeft");break;case"tworight":Me("/PageLayout /TwoColumnRight")}Br&&Me("/PageMode /"+Br),oe.publish("putCatalog"),Me(">>"),Me("endobj")},Xi=T.__private__.putTrailer=function(){Me("trailer"),Me("<<"),Me("/Size "+(Ze+1)),Me("/Root "+Ze+" 0 R"),Me("/Info "+(Ze-1)+" 0 R"),w!==null&&Me("/Encrypt "+Ri.oid+" 0 R"),Me("/ID [ <"+Pe+"> <"+Pe+"> ]"),Me(">>")},qr=T.__private__.putHeader=function(){Me("%PDF-"+z),Me("%")},pA=T.__private__.putXRef=function(){var j="0000000000";Me("xref"),Me("0 "+(Ze+1)),Me("0000000000 65535 f ");for(var fe=1;fe<=Ze;fe++)typeof et[fe]=="function"?Me((j+et[fe]()).slice(-10)+" 00000 n "):et[fe]!==void 0?Me((j+et[fe]).slice(-10)+" 00000 n "):Me("0000000000 00000 n ")},oa=T.__private__.buildDocument=function(){var j;Ze=0,Ke=0,gt=[],et=[],pt=[],Zr=Nt(),or=Nt(),Xt(gt),oe.publish("buildDocument"),qr(),vn(),(function(){oe.publish("putAdditionalObjects");for(var ze=0;ze<pt.length;ze++){var rt=pt[ze];Jt(rt.objId,!0),Me(rt.content),Me("endobj")}oe.publish("postPutAdditionalObjects")})(),j=[],(function(){for(var ze in Zt)Zt.hasOwnProperty(ze)&&(S===!1||S===!0&&F.hasOwnProperty(ze))&&Pn(Zt[ze])})(),(function(){var ze;for(ze in Ur)Ur.hasOwnProperty(ze)&&po(Ur[ze])})(),(function(){for(var ze in _e)_e.hasOwnProperty(ze)&&mi(_e[ze])})(),(function(ze){var rt;for(rt in _r)_r.hasOwnProperty(rt)&&(_r[rt]instanceof up?ai(_r[rt]):_r[rt]instanceof Lg&&yi(_r[rt],ze))})(j),oe.publish("putResources"),j.forEach(wn),wn({resourcesOid:or,objectOid:Number.MAX_SAFE_INTEGER}),oe.publish("postPutResources"),w!==null&&(Ri.oid=ft(),Me("<<"),Me("/Filter /Standard"),Me("/V "+Ri.v),Me("/R "+Ri.r),Me("/U <"+Ri.toHexString(Ri.U)+">"),Me("/O <"+Ri.toHexString(Ri.O)+">"),Me("/P "+Ri.P),Me(">>"),Me("endobj")),Vn(),js();var fe=Ke;return pA(),Xi(),Me("startxref"),Me(""+fe),Me("%%EOF"),Xt(Ct[ye]),gt.join(`
`)},al=T.__private__.getBlob=function(j){return new Blob([Nr(j)],{type:"application/pdf"})},is=T.output=T.__private__.output=(Lt=function(j,fe){switch(typeof(fe=fe||{})=="string"?fe={filename:fe}:fe.filename=fe.filename||"generated.pdf",j){case void 0:return oa();case"save":T.save(fe.filename);break;case"arraybuffer":return Nr(oa());case"blob":return al(oa());case"bloburi":case"bloburl":if(mn.URL!==void 0&&typeof mn.URL.createObjectURL=="function")return mn.URL&&mn.URL.createObjectURL(al(oa()))||void 0;aa.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ze="",rt=oa();try{ze=LF(rt)}catch{ze=LF(unescape(encodeURIComponent(rt)))}return"data:application/pdf;filename="+fe.filename+";base64,"+ze;case"pdfobjectnewwindow":if(Object.prototype.toString.call(mn)==="[object Window]"){var ut="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ot=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';fe.pdfObjectUrl&&(ut=fe.pdfObjectUrl,Ot="");var jt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ut+'"'+Ot+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(fe)+");<\/script></body></html>",yr=mn.open();return yr!==null&&yr.document.write(jt),yr}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(mn)==="[object Window]"){var br='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(fe.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+fe.filename+'" width="500px" height="400px" /></body></html>',tn=mn.open();if(tn!==null){tn.document.write(br);var An=this;tn.document.documentElement.querySelector("#pdfViewer").onload=function(){tn.document.title=fe.filename,tn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(An.output("bloburl"))}}return tn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(mn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var zn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",fe)+'"></iframe></body></html>',Mi=mn.open();if(Mi!==null&&(Mi.document.write(zn),Mi.document.title=fe.filename),Mi||typeof safari>"u")return Mi;break;case"datauri":case"dataurl":return mn.document.location.href=this.output("datauristring",fe);default:return null}},Lt.foo=function(){try{return Lt.apply(this,arguments)}catch(ze){var j=ze.stack||"";~j.indexOf(" at ")&&(j=j.split(" at ")[1]);var fe="Error in function "+j.split(`
`)[0].split("<")[0]+": "+ze.message;if(!mn.console)throw new Error(fe);mn.console.error(fe,ze),mn.alert&&alert(fe)}},Lt.foo.bar=Lt,Lt.foo),as=function(j){return Array.isArray(Ae)===!0&&Ae.indexOf(j)>-1};switch(n){case"pt":Pr=1;break;case"mm":Pr=72/25.4;break;case"cm":Pr=72/2.54;break;case"in":Pr=72;break;case"px":Pr=as("px_scaling")==1?.75:96/72;break;case"pc":case"em":Pr=12;break;case"ex":Pr=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Pr=n}var Ri=null;be(),Ge();var ui=T.__private__.getPageInfo=T.getPageInfo=function(j){if(isNaN(j)||j%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ue[j].objId,pageNumber:j,pageContext:Ue[j]}},Ks=T.__private__.getPageInfoByObjId=function(j){if(isNaN(j)||j%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var fe in Ue)if(Ue[fe].objId===j)break;return ui(fe)},Un=T.__private__.getCurrentPageInfo=T.getCurrentPageInfo=function(){return{objId:Ue[ye].objId,pageNumber:ye,pageContext:Ue[ye]}};T.addPage=function(){return zl.apply(this,arguments),this},T.setPage=function(){return ka.apply(this,arguments),Xt.call(this,Ct[ye]),this},T.insertPage=function(j){return this.addPage(),this.movePage(ye,j),this},T.movePage=function(j,fe){var ze,rt;if(j>fe){ze=Ct[j],rt=Ue[j];for(var ut=j;ut>fe;ut--)Ct[ut]=Ct[ut-1],Ue[ut]=Ue[ut-1];Ct[fe]=ze,Ue[fe]=rt,this.setPage(fe)}else if(j<fe){ze=Ct[j],rt=Ue[j];for(var Ot=j;Ot<fe;Ot++)Ct[Ot]=Ct[Ot+1],Ue[Ot]=Ue[Ot+1];Ct[fe]=ze,Ue[fe]=rt,this.setPage(fe)}return this},T.deletePage=function(){return qa.apply(this,arguments),this},T.__private__.text=T.text=function(j,fe,ze,rt,ut){var Ot,jt,yr,br,tn,An,zn,Mi,zi,si=(rt=rt||{}).scope||this;if(typeof j=="number"&&typeof fe=="number"&&(typeof ze=="string"||Array.isArray(ze))){var ua=ze;ze=fe,fe=j,j=ua}if(arguments[3]instanceof Ve==0?(yr=arguments[4],br=arguments[5],Ni(zn=arguments[3])==="object"&&zn!==null||(typeof yr=="string"&&(br=yr,yr=null),typeof zn=="string"&&(br=zn,zn=null),typeof zn=="number"&&(yr=zn,zn=null),rt={flags:zn,angle:yr,align:br})):(ge("The transform parameter of text() with a Matrix value"),zi=ut),isNaN(fe)||isNaN(ze)||j==null)throw new Error("Invalid arguments passed to jsPDF.text");if(j.length===0)return si;var Hi,Ea="",vo=typeof rt.lineHeightFactor=="number"?rt.lineHeightFactor:Vs,ga=si.internal.scaleFactor;function Qo(Ln){return Ln=Ln.split("	").join(Array(rt.TabLen||9).join(" ")),vi(Ln,zn)}function iu(Ln){for(var Bn,Xn=Ln.concat(),Pi=[],As=Xn.length;As--;)typeof(Bn=Xn.shift())=="string"?Pi.push(Bn):Array.isArray(Ln)&&(Bn.length===1||Bn[1]===void 0&&Bn[2]===void 0)?Pi.push(Bn[0]):Pi.push([Bn[0],Bn[1],Bn[2]]);return Pi}function _A(Ln,Bn){var Xn;if(typeof Ln=="string")Xn=Bn(Ln)[0];else if(Array.isArray(Ln)){for(var Pi,As,us=Ln.concat(),gl=[],wA=us.length;wA--;)typeof(Pi=us.shift())=="string"?gl.push(Bn(Pi)[0]):Array.isArray(Pi)&&typeof Pi[0]=="string"&&(As=Bn(Pi[0],Pi[1],Pi[2]),gl.push([As[0],As[1],As[2]]));Xn=gl}return Xn}var Gs=!1,$s=!0;if(typeof j=="string")Gs=!0;else if(Array.isArray(j)){var Xs=j.concat();jt=[];for(var No,Ta=Xs.length;Ta--;)(typeof(No=Xs.shift())!="string"||Array.isArray(No)&&typeof No[0]!="string")&&($s=!1);Gs=$s}if(Gs===!1)throw new Error('Type of text must be string or Array. "'+j+'" is not recognized.');typeof j=="string"&&(j=j.match(/[\r?\n]/)?j.split(/\r\n|\r|\n/g):[j]);var ei=Tt/si.internal.scaleFactor,bA=ei*(vo-1);switch(rt.baseline){case"bottom":ze-=bA;break;case"top":ze+=ei-bA;break;case"hanging":ze+=ei-2*bA;break;case"middle":ze+=ei/2-bA}if((An=rt.maxWidth||0)>0&&(typeof j=="string"?j=si.splitTextToSize(j,An):Object.prototype.toString.call(j)==="[object Array]"&&(j=j.reduce(function(Ln,Bn){return Ln.concat(si.splitTextToSize(Bn,An))},[]))),Ot={text:j,x:fe,y:ze,options:rt,mutex:{pdfEscape:vi,activeFontKey:cr,fonts:Zt,activeFontSize:Tt}},oe.publish("preProcessText",Ot),j=Ot.text,yr=(rt=Ot.options).angle,zi instanceof Ve==0&&yr&&typeof yr=="number"){yr*=Math.PI/180,rt.rotationDirection===0&&(yr=-yr),le===W&&(yr=-yr);var ln=Math.cos(yr),Zs=Math.sin(yr);zi=new Ve(ln,Zs,-Zs,ln,0,0)}else yr&&yr instanceof Ve&&(zi=yr);le!==W||zi||(zi=We),(tn=rt.charSpace||Es)!==void 0&&(Ea+=Ie(Fe(tn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Mi=rt.horizontalScale)!==void 0&&(Ea+=Ie(100*Mi)+` Tz
`),rt.lang;var gn=-1,Tn=rt.renderingMode!==void 0?rt.renderingMode:rt.stroke,_o=si.internal.getCurrentPageInfo().pageContext;switch(Tn){case 0:case!1:case"fill":gn=0;break;case 1:case!0:case"stroke":gn=1;break;case 2:case"fillThenStroke":gn=2;break;case 3:case"invisible":gn=3;break;case 4:case"fillAndAddForClipping":gn=4;break;case 5:case"strokeAndAddPathForClipping":gn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":gn=6;break;case 7:case"addToPathForClipping":gn=7}var Vl=_o.usedRenderingMode!==void 0?_o.usedRenderingMode:-1;gn!==-1?Ea+=gn+` Tr
`:Vl!==-1&&(Ea+=`0 Tr
`),gn!==-1&&(_o.usedRenderingMode=gn),br=rt.align||"left";var za,Ws=Tt*vo,ss=si.internal.pageSize.getWidth(),ul=Zt[cr];tn=rt.charSpace||Es,An=rt.maxWidth||0,zn=Object.assign({autoencode:!0,noBOM:!0},rt.flags);var ji=[],cl=function(Ln){return si.getStringUnitWidth(Ln,{font:ul,charSpace:tn,fontSize:Tt,doKerning:!1})*Tt/ga};if(Object.prototype.toString.call(j)==="[object Array]"){var Ga;jt=iu(j),br!=="left"&&(za=jt.map(cl));var Ha,$a=0;if(br==="right"){fe-=za[0],j=[],Ta=jt.length;for(var Is=0;Is<Ta;Is++)Is===0?(Ha=Sa(fe),Ga=Ra(ze)):(Ha=Fe($a-za[Is]),Ga=-Ws),j.push([jt[Is],Ha,Ga]),$a=za[Is]}else if(br==="center"){fe-=za[0]/2,j=[],Ta=jt.length;for(var Ys=0;Ys<Ta;Ys++)Ys===0?(Ha=Sa(fe),Ga=Ra(ze)):(Ha=Fe(($a-za[Ys])/2),Ga=-Ws),j.push([jt[Ys],Ha,Ga]),$a=za[Ys]}else if(br==="left"){j=[],Ta=jt.length;for(var Ro=0;Ro<Ta;Ro++)j.push(jt[Ro])}else if(br==="justify"&&ul.encoding==="Identity-H"){j=[],Ta=jt.length,An=An!==0?An:ss;for(var hl=0,Ci=0;Ci<Ta;Ci++)if(Ga=Ci===0?Ra(ze):-Ws,Ha=Ci===0?Sa(fe):hl,Ci<Ta-1){var ql=Fe((An-za[Ci])/(jt[Ci].split(" ").length-1)),os=jt[Ci].split(" ");j.push([os[0]+" ",Ha,Ga]),hl=0;for(var zo=1;zo<os.length;zo++){var ma=(cl(os[zo-1]+" "+os[zo])-cl(os[zo]))*ga+ql;zo==os.length-1?j.push([os[zo],ma,0]):j.push([os[zo]+" ",ma,0]),hl-=ma}}else j.push([jt[Ci],Ha,Ga]);j.push(["",hl,0])}else{if(br!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(j=[],Ta=jt.length,An=An!==0?An:ss,Ci=0;Ci<Ta;Ci++){Ga=Ci===0?Ra(ze):-Ws,Ha=Ci===0?Sa(fe):0;var dn=jt[Ci].split(" ").length-1,Gl=dn>0?(An-za[Ci])/dn:0;Ci<Ta-1?ji.push(Ie(Fe(Gl))):ji.push(0),j.push([jt[Ci],Ha,Ga])}}}(typeof rt.R2L=="boolean"?rt.R2L:Tr)===!0&&(j=_A(j,function(Ln,Bn,Xn){return[Ln.split("").reverse().join(""),Bn,Xn]})),Ot={text:j,x:fe,y:ze,options:rt,mutex:{pdfEscape:vi,activeFontKey:cr,fonts:Zt,activeFontSize:Tt}},oe.publish("postProcessText",Ot),j=Ot.text,Hi=Ot.mutex.isHex||!1;var Fu=Zt[cr].encoding;Fu!=="WinAnsiEncoding"&&Fu!=="StandardEncoding"||(j=_A(j,function(Ln,Bn,Xn){return[Qo(Ln),Bn,Xn]})),jt=iu(j),j=[];for(var fl,Fs,Ho,dl=Array.isArray(jt[0])?1:0,Us="",pl=function(Ln,Bn,Xn){var Pi="";return Xn instanceof Ve?(Xn=typeof rt.angle=="number"?lt(Xn,new Ve(1,0,0,1,Ln,Bn)):lt(new Ve(1,0,0,1,Ln,Bn),Xn),le===W&&(Xn=lt(new Ve(1,0,0,-1,0,0),Xn)),Pi=Xn.join(" ")+` Tm
`):Pi=Ie(Ln)+" "+Ie(Bn)+` Td
`,Pi},ya=0;ya<jt.length;ya++){switch(Us="",dl){case 1:Ho=(Hi?"<":"(")+jt[ya][0]+(Hi?">":")"),fl=parseFloat(jt[ya][1]),Fs=parseFloat(jt[ya][2]);break;case 0:Ho=(Hi?"<":"(")+jt[ya]+(Hi?">":")"),fl=Sa(fe),Fs=Ra(ze)}ji!==void 0&&ji[ya]!==void 0&&(Us=ji[ya]+` Tw
`),ya===0?j.push(Us+pl(fl,Fs,zi)+Ho):dl===0?j.push(Us+Ho):dl===1&&j.push(Us+pl(fl,Fs,zi)+Ho)}j=dl===0?j.join(` Tj
T* `):j.join(` Tj
`),j+=` Tj
`;var ls=`BT
/`;return ls+=cr+" "+Tt+` Tf
`,ls+=Ie(Tt*vo)+` TL
`,ls+=Do+`
`,ls+=Ea,ls+=j,Me(ls+="ET"),F[cr]=!0,si};var YA=T.__private__.clip=T.clip=function(j){return Me(j==="evenodd"?"W*":"W"),this};T.clipEvenOdd=function(){return YA("evenodd")},T.__private__.discardPath=T.discardPath=function(){return Me("n"),this};var Qa=T.__private__.isValidStyle=function(j){var fe=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(j)!==-1&&(fe=!0),fe};T.__private__.setDefaultPathOperation=T.setDefaultPathOperation=function(j){return Qa(j)&&(b=j),this};var sl=T.__private__.getStyle=T.getStyle=function(j){var fe=b;switch(j){case"D":case"S":fe="S";break;case"F":fe="f";break;case"FD":case"DF":fe="B";break;case"f":case"f*":case"B":case"B*":fe=j}return fe},JA=T.close=function(){return Me("h"),this};T.stroke=function(){return Me("S"),this},T.fill=function(j){return Cs("f",j),this},T.fillEvenOdd=function(j){return Cs("f*",j),this},T.fillStroke=function(j){return Cs("B",j),this},T.fillStrokeEvenOdd=function(j){return Cs("B*",j),this};var Cs=function(j,fe){Ni(fe)==="object"?Hl(fe,j):Me(j)},Oo=function(j){j===null||le===W&&j===void 0||(j=sl(j),Me(j))};function eu(j,fe,ze,rt,ut){var Ot=new Lg(fe||this.boundingBox,ze||this.xStep,rt||this.yStep,this.gState,ut||this.matrix);Ot.stream=this.stream;var jt=j+"$$"+this.cloneIndex+++"$$";return yt(jt,Ot),Ot}var Hl=function(j,fe){var ze=sr[j.key],rt=_r[ze];if(rt instanceof up)Me("q"),Me(Eu(fe)),rt.gState&&T.setGState(rt.gState),Me(j.matrix.toString()+" cm"),Me("/"+ze+" sh"),Me("Q");else if(rt instanceof Lg){var ut=new Ve(1,0,0,-1,0,Al());j.matrix&&(ut=ut.multiply(j.matrix||We),ze=eu.call(rt,j.key,j.boundingBox,j.xStep,j.yStep,ut).id),Me("q"),Me("/Pattern cs"),Me("/"+ze+" scn"),rt.gState&&T.setGState(rt.gState),Me(fe),Me("Q")}},Eu=function(j){switch(j){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},lc=T.moveTo=function(j,fe){return Me(Ie(Fe(j))+" "+Ie(Le(fe))+" m"),this},Ac=T.lineTo=function(j,fe){return Me(Ie(Fe(j))+" "+Ie(Le(fe))+" l"),this},Ss=T.curveTo=function(j,fe,ze,rt,ut,Ot){return Me([Ie(Fe(j)),Ie(Le(fe)),Ie(Fe(ze)),Ie(Le(rt)),Ie(Fe(ut)),Ie(Le(Ot)),"c"].join(" ")),this};T.__private__.line=T.line=function(j,fe,ze,rt,ut){if(isNaN(j)||isNaN(fe)||isNaN(ze)||isNaN(rt)||!Qa(ut))throw new Error("Invalid arguments passed to jsPDF.line");return le===ne?this.lines([[ze-j,rt-fe]],j,fe,[1,1],ut||"S"):this.lines([[ze-j,rt-fe]],j,fe,[1,1]).stroke()},T.__private__.lines=T.lines=function(j,fe,ze,rt,ut,Ot){var jt,yr,br,tn,An,zn,Mi,zi,si,ua,Hi,Ea;if(typeof j=="number"&&(Ea=ze,ze=fe,fe=j,j=Ea),rt=rt||[1,1],Ot=Ot||!1,isNaN(fe)||isNaN(ze)||!Array.isArray(j)||!Array.isArray(rt)||!Qa(ut)||typeof Ot!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(lc(fe,ze),jt=rt[0],yr=rt[1],tn=j.length,ua=fe,Hi=ze,br=0;br<tn;br++)(An=j[br]).length===2?(ua=An[0]*jt+ua,Hi=An[1]*yr+Hi,Ac(ua,Hi)):(zn=An[0]*jt+ua,Mi=An[1]*yr+Hi,zi=An[2]*jt+ua,si=An[3]*yr+Hi,ua=An[4]*jt+ua,Hi=An[5]*yr+Hi,Ss(zn,Mi,zi,si,ua,Hi));return Ot&&JA(),Oo(ut),this},T.path=function(j){for(var fe=0;fe<j.length;fe++){var ze=j[fe],rt=ze.c;switch(ze.op){case"m":lc(rt[0],rt[1]);break;case"l":Ac(rt[0],rt[1]);break;case"c":Ss.apply(this,rt);break;case"h":JA()}}return this},T.__private__.rect=T.rect=function(j,fe,ze,rt,ut){if(isNaN(j)||isNaN(fe)||isNaN(ze)||isNaN(rt)||!Qa(ut))throw new Error("Invalid arguments passed to jsPDF.rect");return le===ne&&(rt=-rt),Me([Ie(Fe(j)),Ie(Le(fe)),Ie(Fe(ze)),Ie(Fe(rt)),"re"].join(" ")),Oo(ut),this},T.__private__.triangle=T.triangle=function(j,fe,ze,rt,ut,Ot,jt){if(isNaN(j)||isNaN(fe)||isNaN(ze)||isNaN(rt)||isNaN(ut)||isNaN(Ot)||!Qa(jt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ze-j,rt-fe],[ut-ze,Ot-rt],[j-ut,fe-Ot]],j,fe,[1,1],jt,!0),this},T.__private__.roundedRect=T.roundedRect=function(j,fe,ze,rt,ut,Ot,jt){if(isNaN(j)||isNaN(fe)||isNaN(ze)||isNaN(rt)||isNaN(ut)||isNaN(Ot)||!Qa(jt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var yr=4/3*(Math.SQRT2-1);return ut=Math.min(ut,.5*ze),Ot=Math.min(Ot,.5*rt),this.lines([[ze-2*ut,0],[ut*yr,0,ut,Ot-Ot*yr,ut,Ot],[0,rt-2*Ot],[0,Ot*yr,-ut*yr,Ot,-ut,Ot],[2*ut-ze,0],[-ut*yr,0,-ut,-Ot*yr,-ut,-Ot],[0,2*Ot-rt],[0,-Ot*yr,ut*yr,-Ot,ut,-Ot]],j+ut,fe,[1,1],jt,!0),this},T.__private__.ellipse=T.ellipse=function(j,fe,ze,rt,ut){if(isNaN(j)||isNaN(fe)||isNaN(ze)||isNaN(rt)||!Qa(ut))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ot=4/3*(Math.SQRT2-1)*ze,jt=4/3*(Math.SQRT2-1)*rt;return lc(j+ze,fe),Ss(j+ze,fe-jt,j+Ot,fe-rt,j,fe-rt),Ss(j-Ot,fe-rt,j-ze,fe-jt,j-ze,fe),Ss(j-ze,fe+jt,j-Ot,fe+rt,j,fe+rt),Ss(j+Ot,fe+rt,j+ze,fe+jt,j+ze,fe),Oo(ut),this},T.__private__.circle=T.circle=function(j,fe,ze,rt){if(isNaN(j)||isNaN(fe)||isNaN(ze)||!Qa(rt))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(j,fe,ze,ze,rt)},T.setFont=function(j,fe,ze){return ze&&(fe=Ee(fe,ze)),cr=il(j,fe,{disableWarning:!1}),this};var Na=T.__private__.getFont=T.getFont=function(){return Zt[il.apply(T,arguments)]};T.__private__.getFontList=T.getFontList=function(){var j,fe,ze={};for(j in Gt)if(Gt.hasOwnProperty(j))for(fe in ze[j]=[],Gt[j])Gt[j].hasOwnProperty(fe)&&ze[j].push(fe);return ze},T.addFont=function(j,fe,ze,rt,ut){var Ot=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ot.indexOf(arguments[3])!==-1?ut=arguments[3]:arguments[3]&&Ot.indexOf(arguments[3])==-1&&(ze=Ee(ze,rt)),WA.call(this,j,fe,ze,ut=ut||"Identity-H")};var Vs,la=e.lineWidth||.200025,Zi=T.__private__.getLineWidth=T.getLineWidth=function(){return la},jr=T.__private__.setLineWidth=T.setLineWidth=function(j){return la=j,Me(Ie(Fe(j))+" w"),this};T.__private__.setLineDash=Vr.API.setLineDash=Vr.API.setLineDashPattern=function(j,fe){if(j=j||[],fe=fe||0,isNaN(fe)||!Array.isArray(j))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return j=j.map(function(ze){return Ie(Fe(ze))}).join(" "),fe=Ie(Fe(fe)),Me("["+j+"] "+fe+" d"),this};var tu=T.__private__.getLineHeight=T.getLineHeight=function(){return Tt*Vs};T.__private__.getLineHeight=T.getLineHeight=function(){return Tt*Vs};var gA=T.__private__.setLineHeightFactor=T.setLineHeightFactor=function(j){return typeof(j=j||1.15)=="number"&&(Vs=j),this},uc=T.__private__.getLineHeightFactor=T.getLineHeightFactor=function(){return Vs};gA(e.lineHeight);var Sa=T.__private__.getHorizontalCoordinate=function(j){return Fe(j)},Ra=T.__private__.getVerticalCoordinate=function(j){return le===W?j:Ue[ye].mediaBox.topRightY-Ue[ye].mediaBox.bottomLeftY-Fe(j)},Tu=T.__private__.getHorizontalCoordinateString=T.getHorizontalCoordinateString=function(j){return Ie(Sa(j))},mA=T.__private__.getVerticalCoordinateString=T.getVerticalCoordinateString=function(j){return Ie(Ra(j))},qs=e.strokeColor||"0 G";T.__private__.getStrokeColor=T.getDrawColor=function(){return Or(qs)},T.__private__.setStrokeColor=T.setDrawColor=function(j,fe,ze,rt){return qs=zr({ch1:j,ch2:fe,ch3:ze,ch4:rt,pdfColorType:"draw",precision:2}),Me(qs),this};var ru=e.fillColor||"0 g";T.__private__.getFillColor=T.getFillColor=function(){return Or(ru)},T.__private__.setFillColor=T.setFillColor=function(j,fe,ze,rt){return ru=zr({ch1:j,ch2:fe,ch3:ze,ch4:rt,pdfColorType:"fill",precision:2}),Me(ru),this};var Do=e.textColor||"0 g",yA=T.__private__.getTextColor=T.getTextColor=function(){return Or(Do)};T.__private__.setTextColor=T.setTextColor=function(j,fe,ze,rt){return Do=zr({ch1:j,ch2:fe,ch3:ze,ch4:rt,pdfColorType:"text",precision:3}),this};var Es=e.charSpace,jl=T.__private__.getCharSpace=T.getCharSpace=function(){return parseFloat(Es||0)};T.__private__.setCharSpace=T.setCharSpace=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Es=j,this};var vA=0;T.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},T.__private__.setLineCap=T.setLineCap=function(j){var fe=T.CapJoinStyles[j];if(fe===void 0)throw new Error("Line cap style of '"+j+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return vA=fe,Me(fe+" J"),this};var Aa=0;T.__private__.setLineJoin=T.setLineJoin=function(j){var fe=T.CapJoinStyles[j];if(fe===void 0)throw new Error("Line join style of '"+j+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Aa=fe,Me(fe+" j"),this},T.__private__.setLineMiterLimit=T.__private__.setMiterLimit=T.setLineMiterLimit=T.setMiterLimit=function(j){if(j=j||0,isNaN(j))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Me(Ie(Fe(j))+" M"),this},T.GState=R_,T.setGState=function(j){(j=typeof j=="string"?Ur[Rr[j]]:pa(null,j)).equals(kn)||(Me("/"+j.id+" gs"),kn=j)};var pa=function(j,fe){if(!j||!Rr[j]){var ze=!1;for(var rt in Ur)if(Ur.hasOwnProperty(rt)&&Ur[rt].equals(fe)){ze=!0;break}if(ze)fe=Ur[rt];else{var ut="GS"+(Object.keys(Ur).length+1).toString(10);Ur[ut]=fe,fe.id=ut}return j&&(Rr[j]=fe.id),oe.publish("addGState",fe),fe}};T.addGState=function(j,fe){return pa(j,fe),this},T.saveGraphicsState=function(){return Me("q"),Xr.push({key:cr,size:Tt,color:Do}),this},T.restoreGraphicsState=function(){Me("Q");var j=Xr.pop();return cr=j.key,Tt=j.size,Do=j.color,kn=null,this},T.setCurrentTransformationMatrix=function(j){return Me(j.toString()+" cm"),this},T.comment=function(j){return Me("#"+j),this};var go=function(j,fe){var ze=j||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ze},set:function(Ot){isNaN(Ot)||(ze=parseFloat(Ot))}});var rt=fe||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return rt},set:function(Ot){isNaN(Ot)||(rt=parseFloat(Ot))}});var ut="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ut},set:function(Ot){ut=Ot.toString()}}),this},ko=function(j,fe,ze,rt){go.call(this,j,fe),this.type="rect";var ut=ze||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ut},set:function(jt){isNaN(jt)||(ut=parseFloat(jt))}});var Ot=rt||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ot},set:function(jt){isNaN(jt)||(Ot=parseFloat(jt))}}),this},mo=function(){this.page=Gr,this.currentPage=ye,this.pages=Ct.slice(0),this.pagesContext=Ue.slice(0),this.x=fr,this.y=ri,this.matrix=Pt,this.width=yo(ye),this.height=ol(ye),this.outputDestination=qt,this.id="",this.objectNumber=-1};mo.prototype.restore=function(){Gr=this.page,ye=this.currentPage,Ue=this.pagesContext,Ct=this.pages,fr=this.x,ri=this.y,Pt=this.matrix,nu(ye,this.width),Kl(ye,this.height),qt=this.outputDestination};var Ts=function(j,fe,ze,rt,ut){Je.push(new mo),Gr=ye=0,Ct=[],fr=j,ri=fe,Pt=ut,Li([ze,rt])};for(var _n in T.beginFormObject=function(j,fe,ze,rt,ut){return Ts(j,fe,ze,rt,ut),this},T.endFormObject=function(j){return(function(fe){if(Re[fe])Je.pop().restore();else{var ze=new mo,rt="Xo"+(Object.keys(_e).length+1).toString(10);ze.id=rt,Re[fe]=rt,_e[rt]=ze,oe.publish("addFormObject",ze),Je.pop().restore()}})(j),this},T.doFormObject=function(j,fe){var ze=_e[Re[j]];return Me("q"),Me(fe.toString()+" cm"),Me("/"+ze.id+" Do"),Me("Q"),this},T.getFormObject=function(j){var fe=_e[Re[j]];return{x:fe.x,y:fe.y,width:fe.width,height:fe.height,matrix:fe.matrix}},T.save=function(j,fe){return j=j||"generated.pdf",(fe=fe||{}).returnPromise=fe.returnPromise||!1,fe.returnPromise===!1?(lp(al(oa()),j),typeof lp.unload=="function"&&mn.setTimeout&&setTimeout(lp.unload,911),this):new Promise(function(ze,rt){try{var ut=lp(al(oa()),j);typeof lp.unload=="function"&&mn.setTimeout&&setTimeout(lp.unload,911),ze(ut)}catch(Ot){rt(Ot.message)}})},Vr.API)Vr.API.hasOwnProperty(_n)&&(_n==="events"&&Vr.API.events.length?(function(j,fe){var ze,rt,ut;for(ut=fe.length-1;ut!==-1;ut--)ze=fe[ut][0],rt=fe[ut][1],j.subscribe.apply(j,[ze].concat(typeof rt=="function"?[rt]:rt))})(oe,Vr.API.events):T[_n]=Vr.API[_n]);function yo(j){return Ue[j].mediaBox.topRightX-Ue[j].mediaBox.bottomLeftX}function nu(j,fe){Ue[j].mediaBox.topRightX=fe+Ue[j].mediaBox.bottomLeftX}function ol(j){return Ue[j].mediaBox.topRightY-Ue[j].mediaBox.bottomLeftY}function Kl(j,fe){Ue[j].mediaBox.topRightY=fe+Ue[j].mediaBox.bottomLeftY}var ll=T.getPageWidth=function(j){return yo(j=j||ye)/Pr},Nc=T.setPageWidth=function(j,fe){nu(j,fe*Pr)},Al=T.getPageHeight=function(j){return ol(j=j||ye)/Pr},Iu=T.setPageHeight=function(j,fe){Kl(j,fe*Pr)};return T.internal={pdfEscape:vi,getStyle:sl,getFont:Na,getFontSize:ur,getCharSpace:jl,getTextColor:yA,getLineHeight:tu,getLineHeightFactor:uc,getLineWidth:Zi,write:Ye,getHorizontalCoordinate:Sa,getVerticalCoordinate:Ra,getCoordinateString:Tu,getVerticalCoordinateString:mA,collections:{},newObject:ft,newAdditionalObject:dr,newObjectDeferred:Nt,newObjectDeferredBegin:Jt,getFilters:Kn,putStream:Qn,events:oe,scaleFactor:Pr,pageSize:{getWidth:function(){return ll(ye)},setWidth:function(j){Nc(ye,j)},getHeight:function(){return Al(ye)},setHeight:function(j){Iu(ye,j)}},encryptionOptions:w,encryption:Ri,getEncryptor:function(j){return w!==null?Ri.encryptor(j,0):function(fe){return fe}},output:is,getNumberOfPages:nl,get pages(){return Ct},out:Me,f2:ie,f3:de,getPageInfo:ui,getPageInfoByObjId:Ks,getCurrentPageInfo:Un,getPDFVersion:H,Point:go,Rectangle:ko,Matrix:Ve,hasHotfix:as},Object.defineProperty(T.internal.pageSize,"width",{get:function(){return ll(ye)},set:function(j){Nc(ye,j)},enumerable:!0,configurable:!0}),Object.defineProperty(T.internal.pageSize,"height",{get:function(){return Al(ye)},set:function(j){Iu(ye,j)},enumerable:!0,configurable:!0}),(function(j){for(var fe=0,ze=Er.length;fe<ze;fe++){var rt=WA.call(this,j[fe][0],j[fe][1],j[fe][2],Er[fe][3],!0);S===!1&&(F[rt]=!0);var ut=j[fe][0].split("-");Ui({id:rt,fontName:ut[0],fontStyle:ut[1]||""})}oe.publish("addFonts",{fonts:Zt,dictionary:Gt})}).call(T,Er),cr="F1",zl(s,r),oe.publish("initialized"),T}Eg.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Eg.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Eg.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Eg.prototype.processOwnerPassword=function(e,t){return n5(r5(t).substr(0,5),e)},Eg.prototype.encryptor=function(e,t){var r=r5(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return n5(r,n)}},R_.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Ni(e)!==Ni(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Vr.API={events:[]},Vr.version="3.0.4";var ns=Vr.API,oS=1,Mp=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},wg=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},En=function(e){return e.toFixed(2)},Jf=function(e){return e.toFixed(5)};ns.__acroform__={};var ZA=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},DF=function(e){return e*oS},uh=function(e){var t=new GD,r=Mr.internal.getHeight(e)||0,n=Mr.internal.getWidth(e)||0;return t.BBox=[0,0,Number(En(n)),Number(En(r))],t},hse=ns.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},fse=ns.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},dse=ns.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},bs=ns.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return dse(e,t-1)},ws=ns.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return hse(e,t-1)},xs=ns.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return fse(e,t-1)},pse=ns.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,s=e[0],A=e[1],d=e[2],l=e[3],y={};return y.lowerLeft_X=r(s)||0,y.lowerLeft_Y=n(A+l)||0,y.upperRight_X=r(s+d)||0,y.upperRight_Y=n(A)||0,[Number(En(y.lowerLeft_X)),Number(En(y.lowerLeft_Y)),Number(En(y.upperRight_X)),Number(En(y.upperRight_Y))]},gse=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=i5(e,r),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+En(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var A=uh(e);return A.scope=e.scope,A.stream=t.join(`
`),A}},i5=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map(function(ie){return ie.split(`
`)}):s.map(function(ie){return[ie]});var A=r,d=Mr.internal.getHeight(e)||0;d=d<0?-d:d;var l=Mr.internal.getWidth(e)||0;l=l<0?-l:l;var y=function(ie,de,Fe){if(ie+1<s.length){var Le=de+" "+s[ie+1][0];return g1(Le,e,Fe).width<=l-4}return!1};A++;e:for(;A>0;){t="",A--;var b,w,S=g1("3",e,A).height,F=e.multiline?d-A:(d-S)/2,T=F+=2,z=0,H=0,K=0;if(A<=0){t=`(...) Tj
`,t+="% Width of Text: "+g1(t,e,A=12).width+", FieldWidth:"+l+`
`;break}for(var q="",ne=0,W=0;W<s.length;W++)if(s.hasOwnProperty(W)){var le=!1;if(s[W].length!==1&&K!==s[W].length-1){if((S+2)*(ne+2)+2>d)continue e;q+=s[W][K],le=!0,H=W,W--}else{q=(q+=s[W][K]+" ").substr(q.length-1)==" "?q.substr(0,q.length-1):q;var ce=parseInt(W),me=y(ce,q,A),Ee=W>=s.length-1;if(me&&!Ee){q+=" ",K=0;continue}if(me||Ee){if(Ee)H=ce;else if(e.multiline&&(S+2)*(ne+2)+2>d)continue e}else{if(!e.multiline||(S+2)*(ne+2)+2>d)continue e;H=ce}}for(var Ie="",ge=z;ge<=H;ge++){var je=s[ge];if(e.multiline){if(ge===H){Ie+=je[K]+" ",K=(K+1)%je.length;continue}if(ge===z){Ie+=je[je.length-1]+" ";continue}}Ie+=je[0]+" "}switch(Ie=Ie.substr(Ie.length-1)==" "?Ie.substr(0,Ie.length-1):Ie,w=g1(Ie,e,A).width,e.textAlign){case"right":b=l-w-2;break;case"center":b=(l-w)/2;break;default:b=2}t+=En(b)+" "+En(T)+` Td
`,t+="("+Mp(Ie)+`) Tj
`,t+=-En(b)+` 0 Td
`,T=-(A+2),w=0,z=le?H:H+1,ne++,q=""}break}return n.text=t,n.fontSize=A,n},g1=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:s}},mse={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},yse=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},vse=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(kc.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(mse)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");oS=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new $D,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var A=n[s];A.objId=void 0,A.hasAnnotation&&yse(A,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,s){var A=!n;for(var d in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(d)){var l=n[d],y=[],b=l.Rect;if(l.Rect&&(l.Rect=pse(l.Rect,s)),s.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Mr.createDefaultAppearanceStream(l),Ni(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(y=l.getKeyValueListForStream()),l.Rect=b,l.hasAppearanceStream&&!l.appearanceStreamContent){var w=gse(l);y.push({key:"AP",value:"<</N "+w+">>"}),s.internal.acroformPlugin.xForms.push(w)}if(l.appearanceStreamContent){var S="";for(var F in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(F)){var T=l.appearanceStreamContent[F];if(S+="/"+F+" ",S+="<<",Object.keys(T).length>=1||Array.isArray(T)){for(var d in T)if(T.hasOwnProperty(d)){var z=T[d];typeof z=="function"&&(z=z.call(s,l)),S+="/"+d+" "+z+" ",s.internal.acroformPlugin.xForms.indexOf(z)>=0||s.internal.acroformPlugin.xForms.push(z)}}else typeof(z=T)=="function"&&(z=z.call(s,l)),S+="/"+d+" "+z,s.internal.acroformPlugin.xForms.indexOf(z)>=0||s.internal.acroformPlugin.xForms.push(z);S+=">>"}y.push({key:"AP",value:`<<
`+S+">>"})}s.internal.putStream({additionalKeyValues:y,objectId:l.objId}),s.internal.out("endobj")}A&&(function(H,K){for(var q in H)if(H.hasOwnProperty(q)){var ne=q,W=H[q];K.internal.newObjectDeferredBegin(W.objId,!0),Ni(W)==="object"&&typeof W.putStream=="function"&&W.putStream(),delete H[ne]}})(s.internal.acroformPlugin.xForms,s)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},qD=ns.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(d){return d};if(Array.isArray(e)){for(var s="[",A=0;A<e.length;A++)switch(A!==0&&(s+=" "),Ni(e[A])){case"boolean":case"number":case"object":s+=e[A].toString();break;case"string":e[A].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),s+="("+Mp(n(e[A].toString()))+")"):s+=e[A].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},w2=function(e,t,r){var n=function(s){return s};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+Mp(n(e))+")"},fh=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};fh.prototype.toString=function(){return this.objId+" 0 R"},fh.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},fh.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(A){return A!="content"&&A!="appearanceStreamContent"&&A!="scope"&&A!="objId"&&A.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],s=this[n];s&&(Array.isArray(s)?e.push({key:n,value:qD(s,this.objId,this.scope)}):s instanceof fh?(s.scope=this.scope,e.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:n,value:s}))}return e};var GD=function(){fh.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};ZA(GD,fh);var $D=function(){fh.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Mp(r(e))+")"}},set:function(r){e=r}})};ZA($D,fh);var kc=function e(){fh.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(q){if(isNaN(q))throw new Error('Invalid value "'+q+'" for attribute F supplied.');t=q}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!bs(t,3)},set:function(q){q?this.F=ws(t,3):this.F=xs(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(q){if(isNaN(q))throw new Error('Invalid value "'+q+'" for attribute Ff supplied.');r=q}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(q){n=q!==void 0?q:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(q){n[0]=q}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(q){n[1]=q}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(q){n[2]=q}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(q){n[3]=q}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(q){switch(q){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=q;break;default:throw new Error('Invalid value "'+q+'" for attribute FT supplied.')}}});var A=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!A||A.length<1){if(this instanceof z_)return;A="FieldObject"+e.FieldNum++}var q=function(ne){return ne};return this.scope&&(q=this.scope.internal.getEncryptor(this.objId)),"("+Mp(q(A))+")"},set:function(q){A=q.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return A},set:function(q){A=q}});var d="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return d},set:function(q){d=q}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(q){l=q}});var y=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return y},set:function(q){y=q}});var b=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return b===void 0?50/oS:b},set:function(q){b=q}});var w="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return w},set:function(q){w=q}});var S="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!S||this instanceof z_||this instanceof wp))return w2(S,this.objId,this.scope)},set:function(q){q=q.toString(),S=q}});var F=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(F)return this instanceof Uo==0?w2(F,this.objId,this.scope):F},set:function(q){q=q.toString(),F=this instanceof Uo==0?q.substr(0,1)==="("?wg(q.substr(1,q.length-2)):wg(q):q}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Uo==1?wg(F.substr(1,F.length-1)):F},set:function(q){q=q.toString(),F=this instanceof Uo==1?"/"+q:q}});var T=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(T)return T},set:function(q){this.V=q}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(T)return this instanceof Uo==0?w2(T,this.objId,this.scope):T},set:function(q){q=q.toString(),T=this instanceof Uo==0?q.substr(0,1)==="("?wg(q.substr(1,q.length-2)):wg(q):q}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Uo==1?wg(T.substr(1,T.length-1)):T},set:function(q){q=q.toString(),T=this instanceof Uo==1?"/"+q:q}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var z,H=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return H},set:function(q){q=!!q,H=q}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(z)return z},set:function(q){z=q}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!bs(this.Ff,1)},set:function(q){q?this.Ff=ws(this.Ff,1):this.Ff=xs(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!bs(this.Ff,2)},set:function(q){q?this.Ff=ws(this.Ff,2):this.Ff=xs(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!bs(this.Ff,3)},set:function(q){q?this.Ff=ws(this.Ff,3):this.Ff=xs(this.Ff,3)}});var K=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(K!==null)return K},set:function(q){if([0,1,2].indexOf(q)===-1)throw new Error('Invalid value "'+q+'" for attribute Q supplied.');K=q}}),Object.defineProperty(this,"textAlign",{get:function(){var q;switch(K){case 0:default:q="left";break;case 1:q="center";break;case 2:q="right"}return q},configurable:!0,enumerable:!0,set:function(q){switch(q){case"right":case 2:K=2;break;case"center":case 1:K=1;break;default:K=0}}})};ZA(kc,fh);var Dg=function(){kc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return qD(t,this.objId,this.scope)},set:function(r){var n,s;s=[],typeof(n=r)=="string"&&(s=(function(A,d,l){l||(l=1);for(var y,b=[];y=d.exec(A);)b.push(y[l]);return b})(n,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!bs(this.Ff,18)},set:function(r){r?this.Ff=ws(this.Ff,18):this.Ff=xs(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!bs(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=ws(this.Ff,19):this.Ff=xs(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!bs(this.Ff,20)},set:function(r){r?(this.Ff=ws(this.Ff,20),t.sort()):this.Ff=xs(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!bs(this.Ff,22)},set:function(r){r?this.Ff=ws(this.Ff,22):this.Ff=xs(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!bs(this.Ff,23)},set:function(r){r?this.Ff=ws(this.Ff,23):this.Ff=xs(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!bs(this.Ff,27)},set:function(r){r?this.Ff=ws(this.Ff,27):this.Ff=xs(this.Ff,27)}}),this.hasAppearanceStream=!1};ZA(Dg,kc);var kg=function(){Dg.call(this),this.fontName="helvetica",this.combo=!1};ZA(kg,Dg);var Qg=function(){kg.call(this),this.combo=!0};ZA(Qg,kg);var U1=function(){Qg.call(this),this.edit=!0};ZA(U1,Qg);var Uo=function(){kc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!bs(this.Ff,15)},set:function(r){r?this.Ff=ws(this.Ff,15):this.Ff=xs(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!bs(this.Ff,16)},set:function(r){r?this.Ff=ws(this.Ff,16):this.Ff=xs(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!bs(this.Ff,17)},set:function(r){r?this.Ff=ws(this.Ff,17):this.Ff=xs(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!bs(this.Ff,26)},set:function(r){r?this.Ff=ws(this.Ff,26):this.Ff=xs(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(A){return A};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,s=[];for(n in s.push("<<"),t)s.push("/"+n+" ("+Mp(r(t[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(r){Ni(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};ZA(Uo,kc);var L1=function(){Uo.call(this),this.pushButton=!0};ZA(L1,Uo);var Ng=function(){Uo.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};ZA(Ng,Uo);var z_=function(){var e,t;kc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(l){return l};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var A,d=[];for(A in d.push("<<"),n)d.push("/"+A+" ("+Mp(s(n[A]))+")");return d.push(">>"),d.join(`
`)},set:function(s){Ni(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(s){r="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Mr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ZA(z_,kc),Ng.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Ng.prototype.createOption=function(e){var t=new z_;return t.Parent=this,t.optionName=e,this.Kids.push(t),_se.call(this.scope,t),t};var M1=function(){Uo.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Mr.CheckBox.createAppearanceStream()};ZA(M1,Uo);var wp=function(){kc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!bs(this.Ff,13)},set:function(t){t?this.Ff=ws(this.Ff,13):this.Ff=xs(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!bs(this.Ff,21)},set:function(t){t?this.Ff=ws(this.Ff,21):this.Ff=xs(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!bs(this.Ff,23)},set:function(t){t?this.Ff=ws(this.Ff,23):this.Ff=xs(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!bs(this.Ff,24)},set:function(t){t?this.Ff=ws(this.Ff,24):this.Ff=xs(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!bs(this.Ff,25)},set:function(t){t?this.Ff=ws(this.Ff,25):this.Ff=xs(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!bs(this.Ff,26)},set:function(t){t?this.Ff=ws(this.Ff,26):this.Ff=xs(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ZA(wp,kc);var P1=function(){wp.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!bs(this.Ff,14)},set:function(e){e?this.Ff=ws(this.Ff,14):this.Ff=xs(this.Ff,14)}}),this.password=!0};ZA(P1,wp);var Mr={CheckBox:{createAppearanceStream:function(){return{N:{On:Mr.CheckBox.YesNormal},D:{On:Mr.CheckBox.YesPushDown,Off:Mr.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=uh(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),A=i5(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+En(Mr.internal.getWidth(e))+" "+En(Mr.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+En(A.fontSize)+" Tf "+s),r.push("BT"),r.push(A.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=uh(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),s=[],A=Mr.internal.getHeight(e),d=Mr.internal.getWidth(e),l=i5(e,e.caption);return s.push("1 g"),s.push("0 0 "+En(d)+" "+En(A)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+En(d-1)+" "+En(A-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+r+" "+En(l.fontSize)+" Tf "+n),s.push(l.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=uh(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+En(Mr.internal.getWidth(e))+" "+En(Mr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Mr.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Mr.RadioButton.Circle.YesNormal,t.D[e]=Mr.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=uh(e);t.scope=e.scope;var r=[],n=Mr.internal.getWidth(e)<=Mr.internal.getHeight(e)?Mr.internal.getWidth(e)/4:Mr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Mr.internal.Bezier_C,A=Number((n*s).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Jf(Mr.internal.getWidth(e)/2)+" "+Jf(Mr.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+A+" "+A+" "+n+" 0 "+n+" c"),r.push("-"+A+" "+n+" -"+n+" "+A+" -"+n+" 0 c"),r.push("-"+n+" -"+A+" -"+A+" -"+n+" 0 -"+n+" c"),r.push(A+" -"+n+" "+n+" -"+A+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=uh(e);t.scope=e.scope;var r=[],n=Mr.internal.getWidth(e)<=Mr.internal.getHeight(e)?Mr.internal.getWidth(e)/4:Mr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),A=Number((s*Mr.internal.Bezier_C).toFixed(5)),d=Number((n*Mr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Jf(Mr.internal.getWidth(e)/2)+" "+Jf(Mr.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+A+" "+A+" "+s+" 0 "+s+" c"),r.push("-"+A+" "+s+" -"+s+" "+A+" -"+s+" 0 c"),r.push("-"+s+" -"+A+" -"+A+" -"+s+" 0 -"+s+" c"),r.push(A+" -"+s+" "+s+" -"+A+" "+s+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Jf(Mr.internal.getWidth(e)/2)+" "+Jf(Mr.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+d+" "+d+" "+n+" 0 "+n+" c"),r.push("-"+d+" "+n+" -"+n+" "+d+" -"+n+" 0 c"),r.push("-"+n+" -"+d+" -"+d+" -"+n+" 0 -"+n+" c"),r.push(d+" -"+n+" "+n+" -"+d+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=uh(e);t.scope=e.scope;var r=[],n=Mr.internal.getWidth(e)<=Mr.internal.getHeight(e)?Mr.internal.getWidth(e)/4:Mr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),A=Number((s*Mr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Jf(Mr.internal.getWidth(e)/2)+" "+Jf(Mr.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+A+" "+A+" "+s+" 0 "+s+" c"),r.push("-"+A+" "+s+" -"+s+" "+A+" -"+s+" 0 c"),r.push("-"+s+" -"+A+" -"+A+" -"+s+" 0 -"+s+" c"),r.push(A+" -"+s+" "+s+" -"+A+" "+s+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Mr.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Mr.RadioButton.Cross.YesNormal,t.D[e]=Mr.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=uh(e);t.scope=e.scope;var r=[],n=Mr.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+En(Mr.internal.getWidth(e)-2)+" "+En(Mr.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(En(n.x1.x)+" "+En(n.x1.y)+" m"),r.push(En(n.x2.x)+" "+En(n.x2.y)+" l"),r.push(En(n.x4.x)+" "+En(n.x4.y)+" m"),r.push(En(n.x3.x)+" "+En(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=uh(e);t.scope=e.scope;var r=Mr.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+En(Mr.internal.getWidth(e))+" "+En(Mr.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+En(Mr.internal.getWidth(e)-2)+" "+En(Mr.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(En(r.x1.x)+" "+En(r.x1.y)+" m"),n.push(En(r.x2.x)+" "+En(r.x2.y)+" l"),n.push(En(r.x4.x)+" "+En(r.x4.y)+" m"),n.push(En(r.x3.x)+" "+En(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=uh(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+En(Mr.internal.getWidth(e))+" "+En(Mr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Mr.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Mr.internal.getWidth(e),r=Mr.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Mr.internal.getWidth=function(e){var t=0;return Ni(e)==="object"&&(t=DF(e.Rect[2])),t},Mr.internal.getHeight=function(e){var t=0;return Ni(e)==="object"&&(t=DF(e.Rect[3])),t};var _se=ns.addField=function(e){if(vse(this,e),!(e instanceof kc))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};ns.AcroFormChoiceField=Dg,ns.AcroFormListBox=kg,ns.AcroFormComboBox=Qg,ns.AcroFormEditBox=U1,ns.AcroFormButton=Uo,ns.AcroFormPushButton=L1,ns.AcroFormRadioButton=Ng,ns.AcroFormCheckBox=M1,ns.AcroFormTextField=wp,ns.AcroFormPasswordField=P1,ns.AcroFormAppearance=Mr,ns.AcroForm={ChoiceField:Dg,ListBox:kg,ComboBox:Qg,EditBox:U1,Button:Uo,PushButton:L1,RadioButton:Ng,CheckBox:M1,TextField:wp,PasswordField:P1,Appearance:Mr},Vr.AcroForm={ChoiceField:Dg,ListBox:kg,ComboBox:Qg,EditBox:U1,Button:Uo,PushButton:L1,RadioButton:Ng,CheckBox:M1,TextField:wp,PasswordField:P1,Appearance:Mr};Vr.AcroForm;function XD(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=e.__addimage__.getImageFileTypeByImageData=function(ie,de){var Fe,Le,it,Pe,ke,Ge=r;if((de=de||r)==="RGBA"||ie.data!==void 0&&ie.data instanceof Uint8ClampedArray&&"height"in ie&&"width"in ie)return"RGBA";if(me(ie))for(ke in n)for(it=n[ke],Fe=0;Fe<it.length;Fe+=1){for(Pe=!0,Le=0;Le<it[Fe].length;Le+=1)if(it[Fe][Le]!==void 0&&it[Fe][Le]!==ie[Le]){Pe=!1;break}if(Pe===!0){Ge=ke;break}}else for(ke in n)for(it=n[ke],Fe=0;Fe<it.length;Fe+=1){for(Pe=!0,Le=0;Le<it[Fe].length;Le+=1)if(it[Fe][Le]!==void 0&&it[Fe][Le]!==ie.charCodeAt(Le)){Pe=!1;break}if(Pe===!0){Ge=ke;break}}return Ge===r&&de!==r&&(Ge=de),Ge},A=function ie(de){for(var Fe=this.internal.write,Le=this.internal.putStream,it=(0,this.internal.getFilters)();it.indexOf("FlateEncode")!==-1;)it.splice(it.indexOf("FlateEncode"),1);de.objectId=this.internal.newObject();var Pe=[];if(Pe.push({key:"Type",value:"/XObject"}),Pe.push({key:"Subtype",value:"/Image"}),Pe.push({key:"Width",value:de.width}),Pe.push({key:"Height",value:de.height}),de.colorSpace===q.INDEXED?Pe.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(de.palette.length/3-1)+" "+("sMask"in de&&de.sMask!==void 0?de.objectId+2:de.objectId+1)+" 0 R]"}):(Pe.push({key:"ColorSpace",value:"/"+de.colorSpace}),de.colorSpace===q.DEVICE_CMYK&&Pe.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Pe.push({key:"BitsPerComponent",value:de.bitsPerComponent}),"decodeParameters"in de&&de.decodeParameters!==void 0&&Pe.push({key:"DecodeParms",value:"<<"+de.decodeParameters+">>"}),"transparency"in de&&Array.isArray(de.transparency)&&de.transparency.length>0){for(var ke="",Ge=0,Oe=de.transparency.length;Ge<Oe;Ge++)ke+=de.transparency[Ge]+" "+de.transparency[Ge]+" ";Pe.push({key:"Mask",value:"["+ke+"]"})}de.sMask!==void 0&&Pe.push({key:"SMask",value:de.objectId+1+" 0 R"});var st=de.filter!==void 0?["/"+de.filter]:void 0;if(Le({data:de.data,additionalKeyValues:Pe,alreadyAppliedFilters:st,objectId:de.objectId}),Fe("endobj"),"sMask"in de&&de.sMask!==void 0){var be,ee=(be=de.sMaskBitsPerComponent)!==null&&be!==void 0?be:de.bitsPerComponent,ye={width:de.width,height:de.height,colorSpace:"DeviceGray",bitsPerComponent:ee,data:de.sMask};"filter"in de&&(ye.decodeParameters="/Predictor ".concat(de.predictor," /Colors 1 /BitsPerComponent ").concat(ee," /Columns ").concat(de.width),ye.filter=de.filter),ie.call(this,ye)}if(de.colorSpace===q.INDEXED){var Te=this.internal.newObject();Le({data:Ie(new Uint8Array(de.palette)),objectId:Te}),Fe("endobj")}},d=function(){var ie=this.internal.collections[t+"images"];for(var de in ie)A.call(this,ie[de])},l=function(){var ie,de=this.internal.collections[t+"images"],Fe=this.internal.write;for(var Le in de)Fe("/I"+(ie=de[Le]).index,ie.objectId,"0","R")},y=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",d),this.internal.events.subscribe("putXobjectDict",l))},b=function(){var ie=this.internal.collections[t+"images"];return y.call(this),ie},w=function(){return Object.keys(this.internal.collections[t+"images"]).length},S=function(ie){return typeof e["process"+ie.toUpperCase()]=="function"},F=function(ie){return Ni(ie)==="object"&&ie.nodeType===1},T=function(ie,de){if(ie.nodeName==="IMG"&&ie.hasAttribute("src")){var Fe=""+ie.getAttribute("src");if(Fe.indexOf("data:image/")===0)return F1(unescape(Fe).split("base64,").pop());var Le=e.loadFile(Fe,!0);if(Le!==void 0)return Le}if(ie.nodeName==="CANVAS"){if(ie.width===0||ie.height===0)throw new Error("Given canvas must have data. Canvas width: "+ie.width+", height: "+ie.height);var it;switch(de){case"PNG":it="image/png";break;case"WEBP":it="image/webp";break;default:it="image/jpeg"}return F1(ie.toDataURL(it,1).split("base64,").pop())}},z=function(ie){var de=this.internal.collections[t+"images"];if(de){for(var Fe in de)if(ie===de[Fe].alias)return de[Fe]}},H=function(ie,de,Fe){return ie||de||(ie=-96,de=-96),ie<0&&(ie=-1*Fe.width*72/ie/this.internal.scaleFactor),de<0&&(de=-1*Fe.height*72/de/this.internal.scaleFactor),ie===0&&(ie=de*Fe.width/Fe.height),de===0&&(de=ie*Fe.height/Fe.width),[ie,de]},K=function(ie,de,Fe,Le,it,Pe){var ke=H.call(this,Fe,Le,it),Ge=this.internal.getCoordinateString,Oe=this.internal.getVerticalCoordinateString,st=b.call(this);if(Fe=ke[0],Le=ke[1],st[it.index]=it,Pe){Pe*=Math.PI/180;var be=Math.cos(Pe),ee=Math.sin(Pe),ye=function(Ne){return Ne.toFixed(4)},Te=[ye(be),ye(ee),ye(-1*ee),ye(be),0,0,"cm"]}this.internal.write("q"),Pe?(this.internal.write([1,"0","0",1,Ge(ie),Oe(de+Le),"cm"].join(" ")),this.internal.write(Te.join(" ")),this.internal.write([Ge(Fe),"0","0",Ge(Le),"0","0","cm"].join(" "))):this.internal.write([Ge(Fe),"0","0",Ge(Le),Ge(ie),Oe(de+Le),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+it.index+" Do"),this.internal.write("Q")},q=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var ne=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},W=e.__addimage__.sHashCode=function(ie){var de,Fe,Le=0;if(typeof ie=="string")for(Fe=ie.length,de=0;de<Fe;de++)Le=(Le<<5)-Le+ie.charCodeAt(de),Le|=0;else if(me(ie))for(Fe=ie.byteLength/2,de=0;de<Fe;de++)Le=(Le<<5)-Le+ie[de],Le|=0;return Le},le=e.__addimage__.validateStringAsBase64=function(ie){(ie=ie||"").toString().trim();var de=!0;return ie.length===0&&(de=!1),ie.length%4!=0&&(de=!1),/^[A-Za-z0-9+/]+$/.test(ie.substr(0,ie.length-2))===!1&&(de=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(ie.substr(-2))===!1&&(de=!1),de},ce=e.__addimage__.extractImageFromDataUrl=function(ie){if(ie==null||!(ie=ie.trim()).startsWith("data:"))return null;var de=ie.indexOf(",");return de<0?null:ie.substring(0,de).trim().endsWith("base64")?ie.substring(de+1):null};e.__addimage__.isArrayBuffer=function(ie){return ie instanceof ArrayBuffer};var me=e.__addimage__.isArrayBufferView=function(ie){return ie instanceof Int8Array||ie instanceof Uint8Array||ie instanceof Uint8ClampedArray||ie instanceof Int16Array||ie instanceof Uint16Array||ie instanceof Int32Array||ie instanceof Uint32Array||ie instanceof Float32Array||ie instanceof Float64Array},Ee=e.__addimage__.binaryStringToUint8Array=function(ie){for(var de=ie.length,Fe=new Uint8Array(de),Le=0;Le<de;Le++)Fe[Le]=ie.charCodeAt(Le);return Fe},Ie=e.__addimage__.arrayBufferToBinaryString=function(ie){for(var de="",Fe=me(ie)?ie:new Uint8Array(ie),Le=0;Le<Fe.length;Le+=8192)de+=String.fromCharCode.apply(null,Fe.subarray(Le,Le+8192));return de};e.addImage=function(){var ie,de,Fe,Le,it,Pe,ke,Ge,Oe;if(typeof arguments[1]=="number"?(de=r,Fe=arguments[1],Le=arguments[2],it=arguments[3],Pe=arguments[4],ke=arguments[5],Ge=arguments[6],Oe=arguments[7]):(de=arguments[1],Fe=arguments[2],Le=arguments[3],it=arguments[4],Pe=arguments[5],ke=arguments[6],Ge=arguments[7],Oe=arguments[8]),Ni(ie=arguments[0])==="object"&&!F(ie)&&"imageData"in ie){var st=ie;ie=st.imageData,de=st.format||de||r,Fe=st.x||Fe||0,Le=st.y||Le||0,it=st.w||st.width||it,Pe=st.h||st.height||Pe,ke=st.alias||ke,Ge=st.compression||Ge,Oe=st.rotation||st.angle||Oe}var be=this.internal.getFilters();if(Ge===void 0&&be.indexOf("FlateEncode")!==-1&&(Ge="SLOW"),isNaN(Fe)||isNaN(Le))throw new Error("Invalid coordinates passed to jsPDF.addImage");y.call(this);var ee=ge.call(this,ie,de,ke,Ge);return K.call(this,Fe,Le,it,Pe,ee,Oe),this};var ge=function(ie,de,Fe,Le){var it,Pe,ke;if(typeof ie=="string"&&s(ie)===r){ie=unescape(ie);var Ge=je(ie,!1);(Ge!==""||(Ge=e.loadFile(ie,!0))!==void 0)&&(ie=Ge)}if(F(ie)&&(ie=T(ie,de)),de=s(ie,de),!S(de))throw new Error("addImage does not support files of type '"+de+"', please ensure that a plugin for '"+de+"' support is added.");if(((ke=Fe)==null||ke.length===0)&&(Fe=(function(Oe){return typeof Oe=="string"||me(Oe)?W(Oe):me(Oe.data)?W(Oe.data):null})(ie)),(it=z.call(this,Fe))||(ie instanceof Uint8Array||de==="RGBA"||(Pe=ie,ie=Ee(ie)),it=this["process"+de.toUpperCase()](ie,w.call(this),Fe,(function(Oe){return Oe&&typeof Oe=="string"&&(Oe=Oe.toUpperCase()),Oe in e.image_compression?Oe:ne.NONE})(Le),Pe)),!it)throw new Error("An unknown error occurred whilst processing the image.");return it},je=e.__addimage__.convertBase64ToBinaryString=function(ie,de){de=typeof de!="boolean"||de;var Fe,Le="";if(typeof ie=="string"){var it;Fe=(it=ce(ie))!==null&&it!==void 0?it:ie;try{Le=F1(Fe)}catch(Pe){if(de)throw le(Fe)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Pe.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Le};e.getImageProperties=function(ie){var de,Fe,Le="";if(F(ie)&&(ie=T(ie)),typeof ie=="string"&&s(ie)===r&&((Le=je(ie,!1))===""&&(Le=e.loadFile(ie)||""),ie=Le),Fe=s(ie),!S(Fe))throw new Error("addImage does not support files of type '"+Fe+"', please ensure that a plugin for '"+Fe+"' support is added.");if(ie instanceof Uint8Array||(ie=Ee(ie)),!(de=this["process"+Fe.toUpperCase()](ie)))throw new Error("An unknown error occurred whilst processing the image");return de.fileType=Fe,de}})(Vr.API),(function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Vr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,s,A,d=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,y=this.internal.getPageInfoByObjId(r.objId),b=r.pageContext.annotations,w=!1,S=0;S<b.length&&!w;S++)switch((n=b[S]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(w=!0);break;case"reference":case"text":case"freetext":w=!0}if(w!=0){this.internal.write("/Annots [");for(var F=0;F<b.length;F++){n=b[F];var T=this.internal.pdfEscape,z=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var H=this.internal.newAdditionalObject(),K=this.internal.newAdditionalObject(),q=this.internal.getEncryptor(H.objId),ne=n.title||"Note";A="<</Type /Annot /Subtype /Text "+(s="/Rect ["+d(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+d(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+T(q(n.contents))+")",A+=" /Popup "+K.objId+" 0 R",A+=" /P "+y.objId+" 0 R",A+=" /T ("+T(q(ne))+") >>",H.content=A;var W=H.objId+" 0 R";A="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+d(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+d(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+W,n.open&&(A+=" /Open true"),A+=" >>",K.content=A,this.internal.write(H.objId,"0 R",K.objId,"0 R");break;case"freetext":s="/Rect ["+d(n.bounds.x)+" "+l(n.bounds.y)+" "+d(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var le=n.color||"#000000";A="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+T(z(n.contents))+")",A+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+le+")",A+=" /Border [0 0 0]",A+=" >>",this.internal.write(A);break;case"link":if(n.options.name){var ce=this.annotations._nameMap[n.options.name];n.options.pageNumber=ce.page,n.options.top=ce.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",A="",n.options.url)A="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+T(z(n.options.url))+") >>";else if(n.options.pageNumber)switch(A="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":A+=" /Fit]";break;case"FitH":A+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,A+=" /FitV "+n.options.left+"]";break;default:var me=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),A+=" /XYZ "+n.options.left+" "+me+" "+n.options.zoom+"]"}A!=""&&(A+=" >>",this.internal.write(A))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,s,A,d){var l=this.internal.getCurrentPageInfo(),y=this.internal.getCoordinateString,b=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:y(r),y:b(n),w:y(r+s),h:b(n+A)},options:d,type:"link"})},e.textWithLink=function(r,n,s,A){var d,l,y=this.getTextWidth(r),b=this.internal.getLineHeight()/this.internal.scaleFactor;if(A.maxWidth!==void 0){l=A.maxWidth;var w=this.splitTextToSize(r,l).length;d=Math.ceil(b*w)}else l=y,d=b;return this.text(r,n,s,A),s+=.2*b,A.align==="center"&&(n-=y/2),A.align==="right"&&(n-=y),this.link(n,s-b,l,d,A),y},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(Vr.API),(function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var A=e.__arabicParser__.isInArabicSubstitutionA=function(H){return t[H.charCodeAt(0)]!==void 0},d=e.__arabicParser__.isArabicLetter=function(H){return typeof H=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(H)},l=e.__arabicParser__.isArabicEndLetter=function(H){return d(H)&&A(H)&&t[H.charCodeAt(0)].length<=2},y=e.__arabicParser__.isArabicAlfLetter=function(H){return d(H)&&s.indexOf(H.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(H){return d(H)&&A(H)&&t[H.charCodeAt(0)].length>=1};var b=e.__arabicParser__.arabicLetterHasFinalForm=function(H){return d(H)&&A(H)&&t[H.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(H){return d(H)&&A(H)&&t[H.charCodeAt(0)].length>=3};var w=e.__arabicParser__.arabicLetterHasMedialForm=function(H){return d(H)&&A(H)&&t[H.charCodeAt(0)].length==4},S=e.__arabicParser__.resolveLigatures=function(H){var K=0,q=r,ne="",W=0;for(K=0;K<H.length;K+=1)q[H.charCodeAt(K)]!==void 0?(W++,typeof(q=q[H.charCodeAt(K)])=="number"&&(ne+=String.fromCharCode(q),q=r,W=0),K===H.length-1&&(q=r,ne+=H.charAt(K-(W-1)),K-=W-1,W=0)):(q=r,ne+=H.charAt(K-W),K-=W,W=0);return ne};e.__arabicParser__.isArabicDiacritic=function(H){return H!==void 0&&n[H.charCodeAt(0)]!==void 0};var F=e.__arabicParser__.getCorrectForm=function(H,K,q){return d(H)?A(H)===!1?-1:!b(H)||!d(K)&&!d(q)||!d(q)&&l(K)||l(H)&&!d(K)||l(H)&&y(K)||l(H)&&l(K)?0:w(H)&&d(K)&&!l(K)&&d(q)&&b(q)?3:l(H)||!d(q)?1:2:-1},T=function(H){var K=0,q=0,ne=0,W="",le="",ce="",me=(H=H||"").split("\\s+"),Ee=[];for(K=0;K<me.length;K+=1){for(Ee.push(""),q=0;q<me[K].length;q+=1)W=me[K][q],le=me[K][q-1],ce=me[K][q+1],d(W)?(ne=F(W,le,ce),Ee[K]+=ne!==-1?String.fromCharCode(t[W.charCodeAt(0)][ne]):W):Ee[K]+=W;Ee[K]=S(Ee[K])}return Ee.join(" ")},z=e.__arabicParser__.processArabic=e.processArabic=function(){var H,K=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,q=[];if(Array.isArray(K)){var ne=0;for(q=[],ne=0;ne<K.length;ne+=1)Array.isArray(K[ne])?q.push([T(K[ne][0]),K[ne][1],K[ne][2]]):q.push([T(K[ne])]);H=q}else H=T(K);return typeof arguments[0]=="string"?H:(arguments[0].text=H,arguments[0])};e.events.push(["preProcessText",z])})(Vr.API),Vr.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var A=[];Object.defineProperty(this,"childNodes",{get:function(){return A},set:function(l){A=l}});var d={};Object.defineProperty(this,"style",{get:function(){return d},set:function(l){d=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var s;if((r=r||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(Vr.API),(function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new A,this.internal.__cell__.pages=1},A=function(){var y=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return y},set:function(H){y=H}});var b=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return b},set:function(H){b=H}});var w=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return w},set:function(H){w=H}});var S=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return S},set:function(H){S=H}});var F=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return F},set:function(H){F=H}});var T=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return T},set:function(H){T=H}});var z=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return z},set:function(H){z=H}}),this};A.prototype.clone=function(){return new A(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},A.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(y){return n.call(this),this.internal.__cell__.headerFunction=typeof y=="function"?y:void 0,this},e.getTextDimensions=function(y,b){n.call(this);var w=(b=b||{}).fontSize||this.getFontSize(),S=b.font||this.getFont(),F=b.scaleFactor||this.internal.scaleFactor,T=0,z=0,H=0,K=this;if(!Array.isArray(y)&&typeof y!="string"){if(typeof y!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");y=String(y)}var q=b.maxWidth;q>0?typeof y=="string"?y=this.splitTextToSize(y,q):Object.prototype.toString.call(y)==="[object Array]"&&(y=y.reduce(function(W,le){return W.concat(K.splitTextToSize(le,q))},[])):y=Array.isArray(y)?y:[y];for(var ne=0;ne<y.length;ne++)T<(H=this.getStringUnitWidth(y[ne],{font:S})*w)&&(T=H);return T!==0&&(z=y.length),{w:T/=F,h:Math.max((z*w*this.getLineHeightFactor()-w*(this.getLineHeightFactor()-1))/F,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var y=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new A(y.left,y.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var d=e.cell=function(){var y;y=arguments[0]instanceof A?arguments[0]:new A(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var b=this.internal.__cell__.lastCell,w=this.internal.__cell__.padding,S=this.internal.__cell__.margins||t,F=this.internal.__cell__.tableHeaderRow,T=this.internal.__cell__.printHeaders;return b.lineNumber!==void 0&&(b.lineNumber===y.lineNumber?(y.x=(b.x||0)+(b.width||0),y.y=b.y||0):b.y+b.height+y.height+S.bottom>this.getPageHeight()?(this.cellAddPage(),y.y=S.top,T&&F&&(this.printHeaderRow(y.lineNumber,!0),y.y+=F[0].height)):y.y=b.y+b.height||y.y),y.text[0]!==void 0&&(this.rect(y.x,y.y,y.width,y.height,r===!0?"FD":void 0),y.align==="right"?this.text(y.text,y.x+y.width-w,y.y+w,{align:"right",baseline:"top"}):y.align==="center"?this.text(y.text,y.x+y.width/2,y.y+w,{align:"center",baseline:"top",maxWidth:y.width-w-w}):this.text(y.text,y.x+w,y.y+w,{align:"left",baseline:"top",maxWidth:y.width-w-w})),this.internal.__cell__.lastCell=y,this};e.table=function(y,b,w,S,F){if(n.call(this),!w)throw new Error("No data for PDF table.");var T,z,H,K,q=[],ne=[],W=[],le={},ce={},me=[],Ee=[],Ie=(F=F||{}).autoSize||!1,ge=F.printHeaders!==!1,je=F.css&&F.css["font-size"]!==void 0?16*F.css["font-size"]:F.fontSize||12,ie=F.margins||Object.assign({width:this.getPageWidth()},t),de=typeof F.padding=="number"?F.padding:3,Fe=F.headerBackgroundColor||"#c8c8c8",Le=F.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=ge,this.internal.__cell__.margins=ie,this.internal.__cell__.table_font_size=je,this.internal.__cell__.padding=de,this.internal.__cell__.headerBackgroundColor=Fe,this.internal.__cell__.headerTextColor=Le,this.setFontSize(je),S==null)ne=q=Object.keys(w[0]),W=q.map(function(){return"left"});else if(Array.isArray(S)&&Ni(S[0])==="object")for(q=S.map(function(st){return st.name}),ne=S.map(function(st){return st.prompt||st.name||""}),W=S.map(function(st){return st.align||"left"}),T=0;T<S.length;T+=1)ce[S[T].name]=.7499990551181103*S[T].width;else Array.isArray(S)&&typeof S[0]=="string"&&(ne=q=S,W=q.map(function(){return"left"}));if(Ie||Array.isArray(S)&&typeof S[0]=="string")for(T=0;T<q.length;T+=1){for(le[K=q[T]]=w.map(function(st){return st[K]}),this.setFont(void 0,"bold"),me.push(this.getTextDimensions(ne[T],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),z=le[K],this.setFont(void 0,"normal"),H=0;H<z.length;H+=1)me.push(this.getTextDimensions(z[H],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ce[K]=Math.max.apply(null,me)+de+de,me=[]}if(ge){var it={};for(T=0;T<q.length;T+=1)it[q[T]]={},it[q[T]].text=ne[T],it[q[T]].align=W[T];var Pe=l.call(this,it,ce);Ee=q.map(function(st){return new A(y,b,ce[st],Pe,it[st].text,void 0,it[st].align)}),this.setTableHeaderRow(Ee),this.printHeaderRow(1,!1)}var ke=S.reduce(function(st,be){return st[be.name]=be.align,st},{});for(T=0;T<w.length;T+=1){"rowStart"in F&&F.rowStart instanceof Function&&F.rowStart({row:T,data:w[T]},this);var Ge=l.call(this,w[T],ce);for(H=0;H<q.length;H+=1){var Oe=w[T][q[H]];"cellStart"in F&&F.cellStart instanceof Function&&F.cellStart({row:T,col:H,data:Oe},this),d.call(this,new A(y,b,ce[q[H]],Ge,Oe,T+2,ke[q[H]]))}}return this.internal.__cell__.table_x=y,this.internal.__cell__.table_y=b,this};var l=function(y,b){var w=this.internal.__cell__.padding,S=this.internal.__cell__.table_font_size,F=this.internal.scaleFactor;return Object.keys(y).map(function(T){var z=y[T];return this.splitTextToSize(z.hasOwnProperty("text")?z.text:z,b[T]-w-w)},this).map(function(T){return this.getLineHeightFactor()*T.length*S/F+w+w},this).reduce(function(T,z){return Math.max(T,z)},0)};e.setTableHeaderRow=function(y){n.call(this),this.internal.__cell__.tableHeaderRow=y},e.printHeaderRow=function(y,b){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var w;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var S=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new A(S[0],S[1],S[2],S[3],void 0,-1)}this.setFont(void 0,"bold");for(var F=[],T=0;T<this.internal.__cell__.tableHeaderRow.length;T+=1){w=this.internal.__cell__.tableHeaderRow[T].clone(),b&&(w.y=this.internal.__cell__.margins.top||0,F.push(w)),w.lineNumber=y;var z=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),d.call(this,w),this.setTextColor(z)}F.length>0&&this.setTableHeaderRow(F),this.setFont(void 0,"normal"),r=!1}})(Vr.API);var ZD={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},WD=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],a5=XD(WD),YD=[100,200,300,400,500,600,700,800,900],bse=XD(YD);function x2(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=(function(A){return ZD[A=A||"normal"]?A:"normal"})(e.style),n=(function(A){return A?typeof A=="number"?A>=100&&A<=900&&A%100==0?A:400:/^\d00$/.test(A)?parseInt(A):A==="bold"?700:400:400})(e.weight),s=(function(A){return typeof a5[A=A||"normal"]=="number"?A:"normal"})(e.stretch);return{family:t,style:r,weight:n,stretch:s,src:e.src||[],ref:e.ref||{name:t,style:[s,r,n].join(" ")}}}function kF(e,t,r,n){var s;for(s=r;s>=0&&s<t.length;s+=n)if(e[t[s]])return e[t[s]];for(s=r;s>=0&&s<t.length;s-=n)if(e[t[s]])return e[t[s]]}var wse={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},QF={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function NF(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function RF(e){return e.trimLeft()}function xse(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function Bse(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var m1,zF,HF,xg,y1,jF,KF,VF,B2=["times"];function qF(e,t,r,n,s){var A=4,d=$F;switch(s){case Vr.API.image_compression.FAST:A=1,d=GF;break;case Vr.API.image_compression.MEDIUM:A=6,d=XF;break;case Vr.API.image_compression.SLOW:A=9,d=ZF}e=(function(y,b,w,S){for(var F,T=y.length/b,z=new Uint8Array(y.length+T),H=[Cse,GF,$F,XF,ZF],K=0;K<T;K+=1){var q=K*b,ne=y.subarray(q,q+b);if(S)z.set(S(ne,w,F),q+K);else{for(var W=H.length,le=[],ce=0;ce<W;ce+=1)le[ce]=H[ce](ne,w,F);var me=Ese(le.concat());z.set(le[me],q+K)}F=ne}return z})(e,t,Math.ceil(r*n/8),d);var l=YB(e,{level:A});return Vr.API.__addimage__.arrayBufferToBinaryString(l)}function Cse(e){var t=Array.apply([],e);return t.unshift(0),t}function GF(e,t){var r=e.length,n=[];n[0]=1;for(var s=0;s<r;s+=1){var A=e[s-t]||0;n[s+1]=e[s]-A+256&255}return n}function $F(e,t,r){var n=e.length,s=[];s[0]=2;for(var A=0;A<n;A+=1){var d=r&&r[A]||0;s[A+1]=e[A]-d+256&255}return s}function XF(e,t,r){var n=e.length,s=[];s[0]=3;for(var A=0;A<n;A+=1){var d=e[A-t]||0,l=r&&r[A]||0;s[A+1]=e[A]+256-(d+l>>>1)&255}return s}function ZF(e,t,r){var n=e.length,s=[];s[0]=4;for(var A=0;A<n;A+=1){var d=Sse(e[A-t]||0,r&&r[A]||0,r&&r[A-t]||0);s[A+1]=e[A]-d+256&255}return s}function Sse(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),s=Math.abs(e-r),A=Math.abs(e+t-r-r);return n<=s&&n<=A?e:s<=A?t:r}function Ese(e){var t=e.map(function(r){return r.reduce(function(n,s){return n+Math.abs(s)},0)});return t.indexOf(Math.min.apply(null,t))}function C2(e,t,r){var n=t*r,s=Math.floor(n/8),A=16-(n-8*s+r),d=(1<<r)-1;return JD(e,s)>>A&d}function WF(e,t,r,n){var s=r*n,A=Math.floor(s/8),d=16-(s-8*A+n),l=(1<<n)-1,y=(t&l)<<d;(function(b,w,S){if(w+1<b.byteLength)b.setUint16(w,S,!1);else{var F=S>>8&255;b.setUint8(w,F)}})(e,A,JD(e,A)&~(l<<d)&65535|y)}function JD(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function Tse(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,s=e[t++],A=s>>7,d=1<<1+(7&s);e[t++],e[t++];var l=null,y=null;A&&(l=t,y=d,t+=3*d);var b=!0,w=[],S=0,F=null,T=0,z=null;for(this.width=r,this.height=n;b&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,z=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((ie=e[t++])>=0))throw Error("Invalid block size");if(ie===0)break;t+=ie}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var H=e[t++];S=e[t++]|e[t++]<<8,F=e[t++],1&H||(F=null),T=H>>2&7,t++;break;case 254:for(;;){if(!((ie=e[t++])>=0))throw Error("Invalid block size");if(ie===0)break;t+=ie}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var K=e[t++]|e[t++]<<8,q=e[t++]|e[t++]<<8,ne=e[t++]|e[t++]<<8,W=e[t++]|e[t++]<<8,le=e[t++],ce=le>>6&1,me=1<<1+(7&le),Ee=l,Ie=y,ge=!1;le>>7&&(ge=!0,Ee=t,Ie=me,t+=3*me);var je=t;for(t++;;){var ie;if(!((ie=e[t++])>=0))throw Error("Invalid block size");if(ie===0)break;t+=ie}w.push({x:K,y:q,width:ne,height:W,has_local_palette:ge,palette_offset:Ee,palette_size:Ie,data_offset:je,data_length:t-je,transparent_index:F,interlaced:!!ce,delay:S,disposal:T});break;case 59:b=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return w.length},this.loopCount=function(){return z},this.frameInfo=function(de){if(de<0||de>=w.length)throw new Error("Frame index out of range.");return w[de]},this.decodeAndBlitFrameBGRA=function(de,Fe){var Le=this.frameInfo(de),it=Le.width*Le.height,Pe=new Uint8Array(it);YF(e,Le.data_offset,Pe,it);var ke=Le.palette_offset,Ge=Le.transparent_index;Ge===null&&(Ge=256);var Oe=Le.width,st=r-Oe,be=Oe,ee=4*(Le.y*r+Le.x),ye=4*((Le.y+Le.height)*r+Le.x),Te=ee,Ne=4*st;Le.interlaced===!0&&(Ne+=4*r*7);for(var Ze=8,et=0,gt=Pe.length;et<gt;++et){var Ke=Pe[et];if(be===0&&(be=Oe,(Te+=Ne)>=ye&&(Ne=4*st+4*r*(Ze-1),Te=ee+(Oe+st)*(Ze<<1),Ze>>=1)),Ke===Ge)Te+=4;else{var pt=e[ke+3*Ke],Ct=e[ke+3*Ke+1],ct=e[ke+3*Ke+2];Fe[Te++]=ct,Fe[Te++]=Ct,Fe[Te++]=pt,Fe[Te++]=255}--be}},this.decodeAndBlitFrameRGBA=function(de,Fe){var Le=this.frameInfo(de),it=Le.width*Le.height,Pe=new Uint8Array(it);YF(e,Le.data_offset,Pe,it);var ke=Le.palette_offset,Ge=Le.transparent_index;Ge===null&&(Ge=256);var Oe=Le.width,st=r-Oe,be=Oe,ee=4*(Le.y*r+Le.x),ye=4*((Le.y+Le.height)*r+Le.x),Te=ee,Ne=4*st;Le.interlaced===!0&&(Ne+=4*r*7);for(var Ze=8,et=0,gt=Pe.length;et<gt;++et){var Ke=Pe[et];if(be===0&&(be=Oe,(Te+=Ne)>=ye&&(Ne=4*st+4*r*(Ze-1),Te=ee+(Oe+st)*(Ze<<1),Ze>>=1)),Ke===Ge)Te+=4;else{var pt=e[ke+3*Ke],Ct=e[ke+3*Ke+1],ct=e[ke+3*Ke+2];Fe[Te++]=pt,Fe[Te++]=Ct,Fe[Te++]=ct,Fe[Te++]=255}--be}}}function YF(e,t,r,n){for(var s=e[t++],A=1<<s,d=A+1,l=d+1,y=s+1,b=(1<<y)-1,w=0,S=0,F=0,T=e[t++],z=new Int32Array(4096),H=null;;){for(;w<16&&T!==0;)S|=e[t++]<<w,w+=8,T===1?T=e[t++]:--T;if(w<y)break;var K=S&b;if(S>>=y,w-=y,K!==A){if(K===d)break;for(var q=K<l?K:H,ne=0,W=q;W>A;)W=z[W]>>8,++ne;var le=W;if(F+ne+(q!==K?1:0)>n)return void aa.log("Warning, gif stream longer than expected.");r[F++]=le;var ce=F+=ne;for(q!==K&&(r[F++]=le),W=q;ne--;)W=z[W],r[--ce]=255&W,W>>=8;H!==null&&l<4096&&(z[l++]=H<<8|le,l>=b+1&&y<12&&(++y,b=b<<1|1)),H=K}else l=d+1,b=(1<<(y=s+1))-1,H=null}return F!==n&&aa.log("Warning, gif stream shorter than expected."),r}function S2(e){var t,r,n,s,A,d=Math.floor,l=new Array(64),y=new Array(64),b=new Array(64),w=new Array(64),S=new Array(65535),F=new Array(65535),T=new Array(64),z=new Array(64),H=[],K=0,q=7,ne=new Array(64),W=new Array(64),le=new Array(64),ce=new Array(256),me=new Array(2048),Ee=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Ie=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],ge=[0,1,2,3,4,5,6,7,8,9,10,11],je=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],ie=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],de=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Fe=[0,1,2,3,4,5,6,7,8,9,10,11],Le=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],it=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Pe(ee,ye){for(var Te=0,Ne=0,Ze=new Array,et=1;et<=16;et++){for(var gt=1;gt<=ee[et];gt++)Ze[ye[Ne]]=[],Ze[ye[Ne]][0]=Te,Ze[ye[Ne]][1]=et,Ne++,Te++;Te*=2}return Ze}function ke(ee){for(var ye=ee[0],Te=ee[1]-1;Te>=0;)ye&1<<Te&&(K|=1<<q),Te--,--q<0&&(K==255?(Ge(255),Ge(0)):Ge(K),q=7,K=0)}function Ge(ee){H.push(ee)}function Oe(ee){Ge(ee>>8&255),Ge(255&ee)}function st(ee,ye,Te,Ne,Ze){for(var et,gt=Ze[0],Ke=Ze[240],pt=(function(Tt,nr){var ur,Tr,Br,rn,nn,Jr,yn,Ft,cr,Pr,fr=0;for(cr=0;cr<8;++cr){ur=Tt[fr],Tr=Tt[fr+1],Br=Tt[fr+2],rn=Tt[fr+3],nn=Tt[fr+4],Jr=Tt[fr+5],yn=Tt[fr+6];var ri=ur+(Ft=Tt[fr+7]),Pt=ur-Ft,Zt=Tr+yn,Gt=Tr-yn,Xr=Br+Jr,_r=Br-Jr,sr=rn+nn,Ur=rn-nn,Rr=ri+sr,kn=ri-sr,Gr=Zt+Xr,Ue=Zt-Xr;Tt[fr]=Rr+Gr,Tt[fr+4]=Rr-Gr;var oe=.707106781*(Ue+kn);Tt[fr+2]=kn+oe,Tt[fr+6]=kn-oe;var Ae=.382683433*((Rr=Ur+_r)-(Ue=Gt+Pt)),_e=.5411961*Rr+Ae,Re=1.306562965*Ue+Ae,Je=.707106781*(Gr=_r+Gt),Ve=Pt+Je,lt=Pt-Je;Tt[fr+5]=lt+_e,Tt[fr+3]=lt-_e,Tt[fr+1]=Ve+Re,Tt[fr+7]=Ve-Re,fr+=8}for(fr=0,cr=0;cr<8;++cr){ur=Tt[fr],Tr=Tt[fr+8],Br=Tt[fr+16],rn=Tt[fr+24],nn=Tt[fr+32],Jr=Tt[fr+40],yn=Tt[fr+48];var We=ur+(Ft=Tt[fr+56]),yt=ur-Ft,Lt=Tr+yn,ft=Tr-yn,Nt=Br+Jr,Jt=Br-Jr,dr=rn+nn,Zr=rn-nn,or=We+dr,Or=We-dr,zr=Lt+Nt,Kn=Lt-Nt;Tt[fr]=or+zr,Tt[fr+32]=or-zr;var Qn=.707106781*(Kn+Or);Tt[fr+16]=Or+Qn,Tt[fr+48]=Or-Qn;var en=.382683433*((or=Zr+Jt)-(Kn=ft+yt)),vn=.5411961*or+en,Pn=1.306562965*Kn+en,mi=.707106781*(zr=Jt+ft),ai=yt+mi,yi=yt-mi;Tt[fr+40]=yi+vn,Tt[fr+24]=yi-vn,Tt[fr+8]=ai+Pn,Tt[fr+56]=ai-Pn,fr++}for(cr=0;cr<64;++cr)Pr=Tt[cr]*nr[cr],T[cr]=Pr>0?Pr+.5|0:Pr-.5|0;return T})(ee,ye),Ct=0;Ct<64;++Ct)z[Ee[Ct]]=pt[Ct];var ct=z[0]-Te;Te=z[0],ct==0?ke(Ne[0]):(ke(Ne[F[et=32767+ct]]),ke(S[et]));for(var qt=63;qt>0&&z[qt]==0;)qt--;if(qt==0)return ke(gt),Te;for(var Xt,Me=1;Me<=qt;){for(var Ye=Me;z[Me]==0&&Me<=qt;)++Me;var Nr=Me-Ye;if(Nr>=16){Xt=Nr>>4;for(var Er=1;Er<=Xt;++Er)ke(Ke);Nr&=15}et=32767+z[Me],ke(Ze[(Nr<<4)+F[et]]),ke(S[et]),Me++}return qt!=63&&ke(gt),Te}function be(ee){ee=Math.min(Math.max(ee,1),100),A!=ee&&((function(ye){for(var Te=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Ne=0;Ne<64;Ne++){var Ze=d((Te[Ne]*ye+50)/100);Ze=Math.min(Math.max(Ze,1),255),l[Ee[Ne]]=Ze}for(var et=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],gt=0;gt<64;gt++){var Ke=d((et[gt]*ye+50)/100);Ke=Math.min(Math.max(Ke,1),255),y[Ee[gt]]=Ke}for(var pt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ct=0,ct=0;ct<8;ct++)for(var qt=0;qt<8;qt++)b[Ct]=1/(l[Ee[Ct]]*pt[ct]*pt[qt]*8),w[Ct]=1/(y[Ee[Ct]]*pt[ct]*pt[qt]*8),Ct++})(ee<50?Math.floor(5e3/ee):Math.floor(200-2*ee)),A=ee)}this.encode=function(ee,ye){ye&&be(ye),H=new Array,K=0,q=7,Oe(65496),Oe(65504),Oe(16),Ge(74),Ge(70),Ge(73),Ge(70),Ge(0),Ge(1),Ge(1),Ge(0),Oe(1),Oe(1),Ge(0),Ge(0),(function(){Oe(65499),Oe(132),Ge(0);for(var Tr=0;Tr<64;Tr++)Ge(l[Tr]);Ge(1);for(var Br=0;Br<64;Br++)Ge(y[Br])})(),(function(Tr,Br){Oe(65472),Oe(17),Ge(8),Oe(Br),Oe(Tr),Ge(3),Ge(1),Ge(17),Ge(0),Ge(2),Ge(17),Ge(1),Ge(3),Ge(17),Ge(1)})(ee.width,ee.height),(function(){Oe(65476),Oe(418),Ge(0);for(var Tr=0;Tr<16;Tr++)Ge(Ie[Tr+1]);for(var Br=0;Br<=11;Br++)Ge(ge[Br]);Ge(16);for(var rn=0;rn<16;rn++)Ge(je[rn+1]);for(var nn=0;nn<=161;nn++)Ge(ie[nn]);Ge(1);for(var Jr=0;Jr<16;Jr++)Ge(de[Jr+1]);for(var yn=0;yn<=11;yn++)Ge(Fe[yn]);Ge(17);for(var Ft=0;Ft<16;Ft++)Ge(Le[Ft+1]);for(var cr=0;cr<=161;cr++)Ge(it[cr])})(),Oe(65498),Oe(12),Ge(3),Ge(1),Ge(0),Ge(2),Ge(17),Ge(3),Ge(17),Ge(0),Ge(63),Ge(0);var Te=0,Ne=0,Ze=0;K=0,q=7,this.encode.displayName="_encode_";for(var et,gt,Ke,pt,Ct,ct,qt,Xt,Me,Ye=ee.data,Nr=ee.width,Er=ee.height,Tt=4*Nr,nr=0;nr<Er;){for(et=0;et<Tt;){for(Ct=Tt*nr+et,qt=-1,Xt=0,Me=0;Me<64;Me++)ct=Ct+(Xt=Me>>3)*Tt+(qt=4*(7&Me)),nr+Xt>=Er&&(ct-=Tt*(nr+1+Xt-Er)),et+qt>=Tt&&(ct-=et+qt-Tt+4),gt=Ye[ct++],Ke=Ye[ct++],pt=Ye[ct++],ne[Me]=(me[gt]+me[Ke+256|0]+me[pt+512|0]>>16)-128,W[Me]=(me[gt+768|0]+me[Ke+1024|0]+me[pt+1280|0]>>16)-128,le[Me]=(me[gt+1280|0]+me[Ke+1536|0]+me[pt+1792|0]>>16)-128;Te=st(ne,b,Te,t,n),Ne=st(W,w,Ne,r,s),Ze=st(le,w,Ze,r,s),et+=32}nr+=8}if(q>=0){var ur=[];ur[1]=q+1,ur[0]=(1<<q+1)-1,ke(ur)}return Oe(65497),new Uint8Array(H)},e=e||50,(function(){for(var ee=String.fromCharCode,ye=0;ye<256;ye++)ce[ye]=ee(ye)})(),t=Pe(Ie,ge),r=Pe(de,Fe),n=Pe(je,ie),s=Pe(Le,it),(function(){for(var ee=1,ye=2,Te=1;Te<=15;Te++){for(var Ne=ee;Ne<ye;Ne++)F[32767+Ne]=Te,S[32767+Ne]=[],S[32767+Ne][1]=Te,S[32767+Ne][0]=Ne;for(var Ze=-(ye-1);Ze<=-ee;Ze++)F[32767+Ze]=Te,S[32767+Ze]=[],S[32767+Ze][1]=Te,S[32767+Ze][0]=ye-1+Ze;ee<<=1,ye<<=1}})(),(function(){for(var ee=0;ee<256;ee++)me[ee]=19595*ee,me[ee+256|0]=38470*ee,me[ee+512|0]=7471*ee+32768,me[ee+768|0]=-11059*ee,me[ee+1024|0]=-21709*ee,me[ee+1280|0]=32768*ee+8421375,me[ee+1536|0]=-27439*ee,me[ee+1792|0]=-5329*ee})(),be(e)}function Tc(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function JF(e){function t(ge){if(!ge)throw Error("assert :P")}function r(ge,je,ie){for(var de=0;4>de;de++)if(ge[je+de]!=ie.charCodeAt(de))return!0;return!1}function n(ge,je,ie,de,Fe){for(var Le=0;Le<Fe;Le++)ge[je+Le]=ie[de+Le]}function s(ge,je,ie,de){for(var Fe=0;Fe<de;Fe++)ge[je+Fe]=ie}function A(ge){return new Int32Array(ge)}function d(ge,je){for(var ie=[],de=0;de<ge;de++)ie.push(new je);return ie}function l(ge,je){var ie=[];return(function de(Fe,Le,it){for(var Pe=it[Le],ke=0;ke<Pe&&(Fe.push(it.length>Le+1?[]:new je),!(it.length<Le+1));ke++)de(Fe[ke],Le+1,it)})(ie,0,ge),ie}var y=function(){var ge=this;function je(L,D){for(var X=1<<D-1>>>0;L&X;)X>>>=1;return X?(L&X-1)+X:L}function ie(L,D,X,_,i){t(!(_%X));do L[D+(_-=X)]=i;while(0<_)}function de(L,D,X,_,i){if(t(2328>=i),512>=i)var h=A(512);else if((h=A(i))==null)return 0;return(function(p,v,x,U,M,k){var Q,G,$=v,J=1<<x,te=A(16),ue=A(16);for(t(M!=0),t(U!=null),t(p!=null),t(0<x),G=0;G<M;++G){if(15<U[G])return 0;++te[U[G]]}if(te[0]==M)return 0;for(ue[1]=0,Q=1;15>Q;++Q){if(te[Q]>1<<Q)return 0;ue[Q+1]=ue[Q]+te[Q]}for(G=0;G<M;++G)Q=U[G],0<U[G]&&(k[ue[Q]++]=G);if(ue[15]==1)return(U=new Fe).g=0,U.value=k[0],ie(p,$,1,J,U),J;var pe,Be=-1,we=J-1,Qe=0,Se=1,$e=1,qe=1<<x;for(G=0,Q=1,M=2;Q<=x;++Q,M<<=1){if(Se+=$e<<=1,0>($e-=te[Q]))return 0;for(;0<te[Q];--te[Q])(U=new Fe).g=Q,U.value=k[G++],ie(p,$+Qe,M,qe,U),Qe=je(Qe,Q)}for(Q=x+1,M=2;15>=Q;++Q,M<<=1){if(Se+=$e<<=1,0>($e-=te[Q]))return 0;for(;0<te[Q];--te[Q]){if(U=new Fe,(Qe&we)!=Be){for($+=qe,pe=1<<(Be=Q)-x;15>Be&&!(0>=(pe-=te[Be]));)++Be,pe<<=1;J+=qe=1<<(pe=Be-x),p[v+(Be=Qe&we)].g=pe+x,p[v+Be].value=$-v-Be}U.g=Q-x,U.value=k[G++],ie(p,$+(Qe>>x),M,qe,U),Qe=je(Qe,Q)}}return Se!=2*ue[15]-1?0:J})(L,D,X,_,i,h)}function Fe(){this.value=this.g=0}function Le(){this.value=this.g=0}function it(){this.G=d(5,Fe),this.H=A(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=d(cl,Le)}function Pe(L,D,X,_){t(L!=null),t(D!=null),t(2147483648>_),L.Ca=254,L.I=0,L.b=-8,L.Ka=0,L.oa=D,L.pa=X,L.Jd=D,L.Yc=X+_,L.Zc=4<=_?X+_-4+1:X,gt(L)}function ke(L,D){for(var X=0;0<D--;)X|=pt(L,128)<<D;return X}function Ge(L,D){var X=ke(L,D);return Ke(L)?-X:X}function Oe(L,D,X,_){var i,h=0;for(t(L!=null),t(D!=null),t(4294967288>_),L.Sb=_,L.Ra=0,L.u=0,L.h=0,4<_&&(_=4),i=0;i<_;++i)h+=D[X+i]<<8*i;L.Ra=h,L.bb=_,L.oa=D,L.pa=X}function st(L){for(;8<=L.u&&L.bb<L.Sb;)L.Ra>>>=8,L.Ra+=L.oa[L.pa+L.bb]<<$a-8>>>0,++L.bb,L.u-=8;Ne(L)&&(L.h=1,L.u=0)}function be(L,D){if(t(0<=D),!L.h&&D<=Ha){var X=Te(L)&Ga[D];return L.u+=D,st(L),X}return L.h=1,L.u=0}function ee(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function ye(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Te(L){return L.Ra>>>(L.u&$a-1)>>>0}function Ne(L){return t(L.bb<=L.Sb),L.h||L.bb==L.Sb&&L.u>$a}function Ze(L,D){L.u=D,L.h=Ne(L)}function et(L){L.u>=Is&&(t(L.u>=Is),st(L))}function gt(L){t(L!=null&&L.oa!=null),L.pa<L.Zc?(L.I=(L.oa[L.pa++]|L.I<<8)>>>0,L.b+=8):(t(L!=null&&L.oa!=null),L.pa<L.Yc?(L.b+=8,L.I=L.oa[L.pa++]|L.I<<8):L.Ka?L.b=0:(L.I<<=8,L.b+=8,L.Ka=1))}function Ke(L){return ke(L,1)}function pt(L,D){var X=L.Ca;0>L.b&&gt(L);var _=L.b,i=X*D>>>8,h=(L.I>>>_>i)+0;for(h?(X-=i,L.I-=i+1<<_>>>0):X=i+1,_=X,i=0;256<=_;)i+=8,_>>=8;return _=7^i+Ys[_],L.b-=_,L.Ca=(X<<_)-1,h}function Ct(L,D,X){L[D+0]=X>>24&255,L[D+1]=X>>16&255,L[D+2]=X>>8&255,L[D+3]=255&X}function ct(L,D){return L[D+0]|L[D+1]<<8}function qt(L,D){return ct(L,D)|L[D+2]<<16}function Xt(L,D){return ct(L,D)|ct(L,D+2)<<16}function Me(L,D){var X=1<<D;return t(L!=null),t(0<D),L.X=A(X),L.X==null?0:(L.Mb=32-D,L.Xa=D,1)}function Ye(L,D){t(L!=null),t(D!=null),t(L.Xa==D.Xa),n(D.X,0,L.X,0,1<<D.Xa)}function Nr(){this.X=[],this.Xa=this.Mb=0}function Er(L,D,X,_){t(X!=null),t(_!=null);var i=X[0],h=_[0];return i==0&&(i=(L*h+D/2)/D),h==0&&(h=(D*i+L/2)/L),0>=i||0>=h?0:(X[0]=i,_[0]=h,1)}function Tt(L,D){return L+(1<<D)-1>>>D}function nr(L,D){return((4278255360&L)+(4278255360&D)>>>0&4278255360)+((16711935&L)+(16711935&D)>>>0&16711935)>>>0}function ur(L,D){ge[D]=function(X,_,i,h,p,v,x){var U;for(U=0;U<p;++U){var M=ge[L](v[x+U-1],i,h+U);v[x+U]=nr(X[_+U],M)}}}function Tr(){this.ud=this.hd=this.jd=0}function Br(L,D){return((4278124286&(L^D))>>>1)+(L&D)>>>0}function rn(L){return 0<=L&&256>L?L:0>L?0:255<L?255:void 0}function nn(L,D){return rn(L+(L-D+.5>>1))}function Jr(L,D,X){return Math.abs(D-X)-Math.abs(L-X)}function yn(L,D,X,_,i,h,p){for(_=h[p-1],X=0;X<i;++X)h[p+X]=_=nr(L[D+X],_)}function Ft(L,D,X,_,i){var h;for(h=0;h<X;++h){var p=L[D+h],v=p>>8&255,x=16711935&(x=(x=16711935&p)+((v<<16)+v));_[i+h]=(4278255360&p)+x>>>0}}function cr(L,D){D.jd=255&L,D.hd=L>>8&255,D.ud=L>>16&255}function Pr(L,D,X,_,i,h){var p;for(p=0;p<_;++p){var v=D[X+p],x=v>>>8,U=v,M=255&(M=(M=v>>>16)+((L.jd<<24>>24)*(x<<24>>24)>>>5));U=255&(U=(U+=(L.hd<<24>>24)*(x<<24>>24)>>>5)+((L.ud<<24>>24)*(M<<24>>24)>>>5)),i[h+p]=(4278255360&v)+(M<<16)+U}}function fr(L,D,X,_,i){ge[D]=function(h,p,v,x,U,M,k,Q,G){for(x=k;x<Q;++x)for(k=0;k<G;++k)U[M++]=i(v[_(h[p++])])},ge[L]=function(h,p,v,x,U,M,k){var Q=8>>h.b,G=h.Ea,$=h.K[0],J=h.w;if(8>Q)for(h=(1<<h.b)-1,J=(1<<Q)-1;p<v;++p){var te,ue=0;for(te=0;te<G;++te)te&h||(ue=_(x[U++])),M[k++]=i($[ue&J]),ue>>=Q}else ge["VP8LMapColor"+X](x,U,$,J,M,k,p,v,G)}}function ri(L,D,X,_,i){for(X=D+X;D<X;){var h=L[D++];_[i++]=h>>16&255,_[i++]=h>>8&255,_[i++]=255&h}}function Pt(L,D,X,_,i){for(X=D+X;D<X;){var h=L[D++];_[i++]=h>>16&255,_[i++]=h>>8&255,_[i++]=255&h,_[i++]=h>>24&255}}function Zt(L,D,X,_,i){for(X=D+X;D<X;){var h=(p=L[D++])>>16&240|p>>12&15,p=240&p|p>>28&15;_[i++]=h,_[i++]=p}}function Gt(L,D,X,_,i){for(X=D+X;D<X;){var h=(p=L[D++])>>16&248|p>>13&7,p=p>>5&224|p>>3&31;_[i++]=h,_[i++]=p}}function Xr(L,D,X,_,i){for(X=D+X;D<X;){var h=L[D++];_[i++]=255&h,_[i++]=h>>8&255,_[i++]=h>>16&255}}function _r(L,D,X,_,i,h){if(h==0)for(X=D+X;D<X;)Ct(_,((h=L[D++])[0]>>24|h[1]>>8&65280|h[2]<<8&16711680|h[3]<<24)>>>0),i+=32;else n(_,i,L,D,X)}function sr(L,D){ge[D][0]=ge[L+"0"],ge[D][1]=ge[L+"1"],ge[D][2]=ge[L+"2"],ge[D][3]=ge[L+"3"],ge[D][4]=ge[L+"4"],ge[D][5]=ge[L+"5"],ge[D][6]=ge[L+"6"],ge[D][7]=ge[L+"7"],ge[D][8]=ge[L+"8"],ge[D][9]=ge[L+"9"],ge[D][10]=ge[L+"10"],ge[D][11]=ge[L+"11"],ge[D][12]=ge[L+"12"],ge[D][13]=ge[L+"13"],ge[D][14]=ge[L+"0"],ge[D][15]=ge[L+"0"]}function Ur(L){return L==EA||L==TA||L==IA||L==Mu}function Rr(){this.eb=[],this.size=this.A=this.fb=0}function kn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Gr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Rr,this.f.kb=new kn,this.sd=null}function Ue(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function oe(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ae(L){return alert("todo:WebPSamplerProcessPlane"),L.T}function _e(L,D){var X=L.T,_=D.ba.f.RGBA,i=_.eb,h=_.fb+L.ka*_.A,p=Hr[D.ba.S],v=L.y,x=L.O,U=L.f,M=L.N,k=L.ea,Q=L.W,G=D.cc,$=D.dc,J=D.Mc,te=D.Nc,ue=L.ka,pe=L.ka+L.T,Be=L.U,we=Be+1>>1;for(ue==0?p(v,x,null,null,U,M,k,Q,U,M,k,Q,i,h,null,null,Be):(p(D.ec,D.fc,v,x,G,$,J,te,U,M,k,Q,i,h-_.A,i,h,Be),++X);ue+2<pe;ue+=2)G=U,$=M,J=k,te=Q,M+=L.Rc,Q+=L.Rc,h+=2*_.A,p(v,(x+=2*L.fa)-L.fa,v,x,G,$,J,te,U,M,k,Q,i,h-_.A,i,h,Be);return x+=L.fa,L.j+pe<L.o?(n(D.ec,D.fc,v,x,Be),n(D.cc,D.dc,U,M,we),n(D.Mc,D.Nc,k,Q,we),X--):1&pe||p(v,x,null,null,U,M,k,Q,U,M,k,Q,i,h+_.A,null,null,Be),X}function Re(L,D,X){var _=L.F,i=[L.J];if(_!=null){var h=L.U,p=D.ba.S,v=p==su||p==IA;D=D.ba.f.RGBA;var x=[0],U=L.ka;x[0]=L.T,L.Kb&&(U==0?--x[0]:(--U,i[0]-=L.width),L.j+L.ka+L.T==L.o&&(x[0]=L.o-L.j-U));var M=D.eb;U=D.fb+U*D.A,L=Ko(_,i[0],L.width,h,x,M,U+(v?0:3),D.A),t(X==x),L&&Ur(p)&&jo(M,U,v,h,x,D.A)}return 0}function Je(L){var D=L.ma,X=D.ba.S,_=11>X,i=X==va||X==hs||X==su||X==SA||X==12||Ur(X);if(D.memory=null,D.Ib=null,D.Jb=null,D.Nd=null,!ss(D.Oa,L,i?11:12))return 0;if(i&&Ur(X)&&iu(),L.da)alert("todo:use_scaling");else{if(_){if(D.Ib=Ae,L.Kb){if(X=L.U+1>>1,D.memory=A(L.U+2*X),D.memory==null)return 0;D.ec=D.memory,D.fc=0,D.cc=D.ec,D.dc=D.fc+L.U,D.Mc=D.cc,D.Nc=D.dc+X,D.Ib=_e,iu()}}else alert("todo:EmitYUV");i&&(D.Jb=Re,_&&ga())}if(_&&!ca){for(L=0;256>L;++L)pn[L]=89858*(L-128)+Ou>>ro,Kc[L]=-22014*(L-128)+Ou,pc[L]=-45773*(L-128),Zl[L]=113618*(L-128)+Ou>>ro;for(L=Xl;L<PA;++L)D=76283*(L-16)+Ou>>ro,yf[L-Xl]=Vn(D,255),gc[L-Xl]=Vn(D+8>>4,15);ca=1}return 1}function Ve(L){var D=L.ma,X=L.U,_=L.T;return t(!(1&L.ka)),0>=X||0>=_?0:(X=D.Ib(L,D),D.Jb!=null&&D.Jb(L,D,X),D.Dc+=X,1)}function lt(L){L.ma.memory=null}function We(L,D,X,_){return be(L,8)!=47?0:(D[0]=be(L,14)+1,X[0]=be(L,14)+1,_[0]=be(L,1),be(L,3)!=0?0:!L.h)}function yt(L,D){if(4>L)return L+1;var X=L-2>>1;return(2+(1&L)<<X)+be(D,X)+1}function Lt(L,D){return 120<D?D-120:1<=(X=((X=Oi[D-1])>>4)*L+(8-(15&X)))?X:1;var X}function ft(L,D,X){var _=Te(X),i=L[D+=255&_].g-8;return 0<i&&(Ze(X,X.u+8),_=Te(X),D+=L[D].value,D+=_&(1<<i)-1),Ze(X,X.u+L[D].g),L[D].value}function Nt(L,D,X){return X.g+=L.g,X.value+=L.value<<D>>>0,t(8>=X.g),L.g}function Jt(L,D,X){var _=L.xc;return t((D=_==0?0:L.vc[L.md*(X>>_)+(D>>_)])<L.Wb),L.Ya[D]}function dr(L,D,X,_){var i=L.ab,h=L.c*D,p=L.C;D=p+D;var v=X,x=_;for(_=L.Ta,X=L.Ua;0<i--;){var U=L.gc[i],M=p,k=D,Q=v,G=x,$=(x=_,v=X,U.Ea);switch(t(M<k),t(k<=U.nc),U.hc){case 2:Ci(Q,G,(k-M)*$,x,v);break;case 0:var J=M,te=k,ue=x,pe=v,Be=(qe=U).Ea;J==0&&(Ro(Q,G,null,null,1,ue,pe),yn(Q,G+1,0,0,Be-1,ue,pe+1),G+=Be,pe+=Be,++J);for(var we=1<<qe.b,Qe=we-1,Se=Tt(Be,qe.b),$e=qe.K,qe=qe.w+(J>>qe.b)*Se;J<te;){var at=$e,wt=qe,St=1;for(hl(Q,G,ue,pe-Be,1,ue,pe);St<Be;){var _t=(St&~Qe)+we;_t>Be&&(_t=Be),(0,dn[at[wt++]>>8&15])(Q,G+ +St,ue,pe+St-Be,_t-St,ue,pe+St),St=_t}G+=Be,pe+=Be,++J&Qe||(qe+=Se)}k!=U.nc&&n(x,v-$,x,v+(k-M-1)*$,$);break;case 1:for($=Q,te=G,Be=(Q=U.Ea)-(pe=Q&~(ue=(G=1<<U.b)-1)),J=Tt(Q,U.b),we=U.K,U=U.w+(M>>U.b)*J;M<k;){for(Qe=we,Se=U,$e=new Tr,qe=te+pe,at=te+Q;te<qe;)cr(Qe[Se++],$e),Gl($e,$,te,G,x,v),te+=G,v+=G;te<at&&(cr(Qe[Se++],$e),Gl($e,$,te,Be,x,v),te+=Be,v+=Be),++M&ue||(U+=J)}break;case 3:if(Q==x&&G==v&&0<U.b){for(te=x,Q=$=v+(k-M)*$-(pe=(k-M)*Tt(U.Ea,U.b)),G=x,ue=v,J=[],pe=(Be=pe)-1;0<=pe;--pe)J[pe]=G[ue+pe];for(pe=Be-1;0<=pe;--pe)te[Q+pe]=J[pe];ql(U,M,k,x,$,x,v)}else ql(U,M,k,Q,G,x,v)}v=_,x=X}x!=X&&n(_,X,v,x,h)}function Zr(L,D){var X=L.V,_=L.Ba+L.c*L.C,i=D-L.C;if(t(D<=L.l.o),t(16>=i),0<i){var h=L.l,p=L.Ta,v=L.Ua,x=h.width;if(dr(L,i,X,_),i=v=[v],t((X=L.C)<(_=D)),t(h.v<h.va),_>h.o&&(_=h.o),X<h.j){var U=h.j-X;X=h.j,i[0]+=U*x}if(X>=_?X=0:(i[0]+=4*h.v,h.ka=X-h.j,h.U=h.va-h.v,h.T=_-X,X=1),X){if(v=v[0],11>(X=L.ca).S){var M=X.f.RGBA,k=(_=X.S,i=h.U,h=h.T,U=M.eb,M.A),Q=h;for(M=M.fb+L.Ma*M.A;0<Q--;){var G=p,$=v,J=i,te=U,ue=M;switch(_){case Uu:Fu(G,$,J,te,ue);break;case va:fl(G,$,J,te,ue);break;case EA:fl(G,$,J,te,ue),jo(te,ue,0,J,1,0);break;case Lu:dl(G,$,J,te,ue);break;case hs:_r(G,$,J,te,ue,1);break;case TA:_r(G,$,J,te,ue,1),jo(te,ue,0,J,1,0);break;case su:_r(G,$,J,te,ue,0);break;case IA:_r(G,$,J,te,ue,0),jo(te,ue,1,J,1,0);break;case SA:Fs(G,$,J,te,ue);break;case Mu:Fs(G,$,J,te,ue),oi(te,ue,J,1,0);break;case Ms:Ho(G,$,J,te,ue);break;default:t(0)}v+=x,M+=k}L.Ma+=h}else alert("todo:EmitRescaledRowsYUVA");t(L.Ma<=X.height)}}L.C=D,t(L.C<=L.i)}function or(L){var D;if(0<L.ua)return 0;for(D=0;D<L.Wb;++D){var X=L.Ya[D].G,_=L.Ya[D].H;if(0<X[1][_[1]+0].g||0<X[2][_[2]+0].g||0<X[3][_[3]+0].g)return 0}return 1}function Or(L,D,X,_,i,h){if(L.Z!=0){var p=L.qd,v=L.rd;for(t(qo[L.Z]!=null);D<X;++D)qo[L.Z](p,v,_,i,_,i,h),p=_,v=i,i+=h;L.qd=p,L.rd=v}}function zr(L,D){var X=L.l.ma,_=X.Z==0||X.Z==1?L.l.j:L.C;if(_=L.C<_?_:L.C,t(D<=L.l.o),D>_){var i=L.l.width,h=X.ca,p=X.tb+i*_,v=L.V,x=L.Ba+L.c*_,U=L.gc;t(L.ab==1),t(U[0].hc==3),zo(U[0],_,D,v,x,h,p),Or(X,_,D,h,p,i)}L.C=L.Ma=D}function Kn(L,D,X,_,i,h,p){var v=L.$/_,x=L.$%_,U=L.m,M=L.s,k=X+L.$,Q=k;i=X+_*i;var G=X+_*h,$=280+M.ua,J=L.Pb?v:16777216,te=0<M.ua?M.Wa:null,ue=M.wc,pe=k<G?Jt(M,x,v):null;t(L.C<h),t(G<=i);var Be=!1;e:for(;;){for(;Be||k<G;){var we=0;if(v>=J){var Qe=k-X;t((J=L).Pb),J.wd=J.m,J.xd=Qe,0<J.s.ua&&Ye(J.s.Wa,J.s.vb),J=v+yl}if(x&ue||(pe=Jt(M,x,v)),t(pe!=null),pe.Qb&&(D[k]=pe.qb,Be=!0),!Be)if(et(U),pe.jc){we=U,Qe=D;var Se=k,$e=pe.pd[Te(we)&cl-1];t(pe.jc),256>$e.g?(Ze(we,we.u+$e.g),Qe[Se]=$e.value,we=0):(Ze(we,we.u+$e.g-256),t(256<=$e.value),we=$e.value),we==0&&(Be=!0)}else we=ft(pe.G[0],pe.H[0],U);if(U.h)break;if(Be||256>we){if(!Be)if(pe.nd)D[k]=(pe.qb|we<<8)>>>0;else{if(et(U),Be=ft(pe.G[1],pe.H[1],U),et(U),Qe=ft(pe.G[2],pe.H[2],U),Se=ft(pe.G[3],pe.H[3],U),U.h)break;D[k]=(Se<<24|Be<<16|we<<8|Qe)>>>0}if(Be=!1,++k,++x>=_&&(x=0,++v,p!=null&&v<=h&&!(v%16)&&p(L,v),te!=null))for(;Q<k;)we=D[Q++],te.X[(506832829*we&4294967295)>>>te.Mb]=we}else if(280>we){if(we=yt(we-256,U),Qe=ft(pe.G[4],pe.H[4],U),et(U),Qe=Lt(_,Qe=yt(Qe,U)),U.h)break;if(k-X<Qe||i-k<we)break e;for(Se=0;Se<we;++Se)D[k+Se]=D[k+Se-Qe];for(k+=we,x+=we;x>=_;)x-=_,++v,p!=null&&v<=h&&!(v%16)&&p(L,v);if(t(k<=i),x&ue&&(pe=Jt(M,x,v)),te!=null)for(;Q<k;)we=D[Q++],te.X[(506832829*we&4294967295)>>>te.Mb]=we}else{if(!(we<$))break e;for(Be=we-280,t(te!=null);Q<k;)we=D[Q++],te.X[(506832829*we&4294967295)>>>te.Mb]=we;we=k,t(!(Be>>>(Qe=te).Xa)),D[we]=Qe.X[Be],Be=!0}Be||t(U.h==Ne(U))}if(L.Pb&&U.h&&k<i)t(L.m.h),L.a=5,L.m=L.wd,L.$=L.xd,0<L.s.ua&&Ye(L.s.vb,L.s.Wa);else{if(U.h)break e;p?.(L,v>h?h:v),L.a=0,L.$=k-X}return 1}return L.a=3,0}function Qn(L){t(L!=null),L.vc=null,L.yc=null,L.Ya=null;var D=L.Wa;D!=null&&(D.X=null),L.vb=null,t(L!=null)}function en(){var L=new tn;return L==null?null:(L.a=0,L.xb=LA,sr("Predictor","VP8LPredictors"),sr("Predictor","VP8LPredictors_C"),sr("PredictorAdd","VP8LPredictorsAdd"),sr("PredictorAdd","VP8LPredictorsAdd_C"),Ci=Ft,Gl=Pr,Fu=ri,fl=Pt,Fs=Zt,Ho=Gt,dl=Xr,ge.VP8LMapColor32b=os,ge.VP8LMapColor8b=ma,L)}function vn(L,D,X,_,i){var h=1,p=[L],v=[D],x=_.m,U=_.s,M=null,k=0;e:for(;;){if(X)for(;h&&be(x,1);){var Q=p,G=v,$=_,J=1,te=$.m,ue=$.gc[$.ab],pe=be(te,2);if($.Oc&1<<pe)h=0;else{switch($.Oc|=1<<pe,ue.hc=pe,ue.Ea=Q[0],ue.nc=G[0],ue.K=[null],++$.ab,t(4>=$.ab),pe){case 0:case 1:ue.b=be(te,3)+2,J=vn(Tt(ue.Ea,ue.b),Tt(ue.nc,ue.b),0,$,ue.K),ue.K=ue.K[0];break;case 3:var Be,we=be(te,8)+1,Qe=16<we?0:4<we?1:2<we?2:3;if(Q[0]=Tt(ue.Ea,Qe),ue.b=Qe,Be=J=vn(we,1,0,$,ue.K)){var Se,$e=we,qe=ue,at=1<<(8>>qe.b),wt=A(at);if(wt==null)Be=0;else{var St=qe.K[0],_t=qe.w;for(wt[0]=qe.K[0][0],Se=1;Se<1*$e;++Se)wt[Se]=nr(St[_t+Se],wt[Se-1]);for(;Se<4*at;++Se)wt[Se]=0;qe.K[0]=null,qe.K[0]=wt,Be=1}}J=Be;break;case 2:break;default:t(0)}h=J}}if(p=p[0],v=v[0],h&&be(x,1)&&!(h=1<=(k=be(x,4))&&11>=k)){_.a=3;break e}var mt;if(mt=h)t:{var Qt,Et,zt,tr=_,Vt=p,$t=v,rr=k,un=X,Ir=tr.m,Lr=tr.s,wr=[null],an=1,Hn=0,Dr=Yi[rr];r:for(;;){if(un&&be(Ir,1)){var qn=be(Ir,3)+2,In=Tt(Vt,qn),sn=Tt($t,qn),On=In*sn;if(!vn(In,sn,0,tr,wr))break r;for(wr=wr[0],Lr.xc=qn,Qt=0;Qt<On;++Qt){var Cn=wr[Qt]>>8&65535;wr[Qt]=Cn,Cn>=an&&(an=Cn+1)}}if(Ir.h)break r;for(Et=0;5>Et;++Et){var xi=ml[Et];!Et&&0<rr&&(xi+=1<<rr),Hn<xi&&(Hn=xi)}var Di=d(an*Dr,Fe),Gn=an,fn=d(Gn,it);if(fn==null)var _a=null;else t(65536>=Gn),_a=fn;var Ei=A(Hn);if(_a==null||Ei==null||Di==null){tr.a=1;break r}var mr=Di;for(Qt=zt=0;Qt<an;++Qt){var vr=_a[Qt],xn=vr.G,Ti=vr.H,ni=0,Wn=1,$n=0;for(Et=0;5>Et;++Et){xi=ml[Et],xn[Et]=mr,Ti[Et]=zt,!Et&&0<rr&&(xi+=1<<rr);i:{var cn,Os=xi,Yl=tr,Zn=Ei,Vc=mr,Eh=zt,mc=0,Xa=Yl.m,vf=be(Xa,1);if(s(Zn,0,0,Os),vf){var Du=be(Xa,1)+1,ou=be(Xa,1),lu=be(Xa,ou==0?1:8);Zn[lu]=1,Du==2&&(Zn[lu=be(Xa,8)]=1);var Ji=1}else{var li=A(19),Jl=be(Xa,4)+4;if(19<Jl){Yl.a=3;var eA=0;break i}for(cn=0;cn<Jl;++cn)li[Pu[cn]]=be(Xa,3);var yc=void 0,ku=void 0,OA=Yl,qc=li,DA=Os,Au=Zn,_l=0,Ka=OA.m,kA=8,_f=d(128,Fe);n:for(;de(_f,0,7,qc,19);){if(be(Ka,1)){var Qu=2+2*be(Ka,3);if((yc=2+be(Ka,Qu))>DA)break n}else yc=DA;for(ku=0;ku<DA&&yc--;){et(Ka);var wd=_f[0+(127&Te(Ka))];Ze(Ka,Ka.u+wd.g);var uu=wd.value;if(16>uu)Au[ku++]=uu,uu!=0&&(kA=uu);else{var ea=uu==16,bf=uu-16,xd=FA[bf],cu=be(Ka,Ps[bf])+xd;if(ku+cu>DA)break n;for(var Nu=ea?kA:0;0<cu--;)Au[ku++]=Nu}}_l=1;break n}_l||(OA.a=3),Ji=_l}(Ji=Ji&&!Xa.h)&&(mc=de(Vc,Eh,8,Zn,Os)),Ji&&mc!=0?eA=mc:(Yl.a=3,eA=0)}if(eA==0)break r;if(Wn&&UA[Et]==1&&(Wn=mr[zt].g==0),ni+=mr[zt].g,zt+=eA,3>=Et){var QA,Gc=Ei[0];for(QA=1;QA<xi;++QA)Ei[QA]>Gc&&(Gc=Ei[QA]);$n+=Gc}}if(vr.nd=Wn,vr.Qb=0,Wn&&(vr.qb=(xn[3][Ti[3]+0].value<<24|xn[1][Ti[1]+0].value<<16|xn[2][Ti[2]+0].value)>>>0,ni==0&&256>xn[0][Ti[0]+0].value&&(vr.Qb=1,vr.qb+=xn[0][Ti[0]+0].value<<8)),vr.jc=!vr.Qb&&6>$n,vr.jc){var $c,NA=vr;for($c=0;$c<cl;++$c){var RA=$c,hu=NA.pd[RA],Xc=NA.G[0][NA.H[0]+RA];256<=Xc.value?(hu.g=Xc.g+256,hu.value=Xc.value):(hu.g=0,hu.value=0,RA>>=Nt(Xc,8,hu),RA>>=Nt(NA.G[1][NA.H[1]+RA],16,hu),RA>>=Nt(NA.G[2][NA.H[2]+RA],0,hu),Nt(NA.G[3][NA.H[3]+RA],24,hu))}}}Lr.vc=wr,Lr.Wb=an,Lr.Ya=_a,Lr.yc=Di,mt=1;break t}mt=0}if(!(h=mt)){_.a=3;break e}if(0<k){if(U.ua=1<<k,!Me(U.Wa,k)){_.a=1,h=0;break e}}else U.ua=0;var wf=_,fu=p,Bd=v,vc=wf.s,tA=vc.xc;if(wf.c=fu,wf.i=Bd,vc.md=Tt(fu,tA),vc.wc=tA==0?-1:(1<<tA)-1,X){_.xb=eo;break e}if((M=A(p*v))==null){_.a=1,h=0;break e}h=(h=Kn(_,M,0,p,v,v,null))&&!x.h;break e}return h?(i!=null?i[0]=M:(t(M==null),t(X)),_.$=0,X||Qn(U)):Qn(U),h}function Pn(L,D){var X=L.c*L.i,_=X+D+16*D;return t(L.c<=D),L.V=A(_),L.V==null?(L.Ta=null,L.Ua=0,L.a=1,0):(L.Ta=L.V,L.Ua=L.Ba+X+D,1)}function mi(L,D){var X=L.C,_=D-X,i=L.V,h=L.Ba+L.c*X;for(t(D<=L.l.o);0<_;){var p=16<_?16:_,v=L.l.ma,x=L.l.width,U=x*p,M=v.ca,k=v.tb+x*X,Q=L.Ta,G=L.Ua;dr(L,p,i,h),Ls(Q,G,M,k,U),Or(v,X,X+p,M,k,x),_-=p,i+=p*L.c,X+=p}t(X==D),L.C=L.Ma=D}function ai(){this.ub=this.yd=this.td=this.Rb=0}function yi(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function po(){this.Fb=this.Bb=this.Cb=0,this.Zb=A(4),this.Lb=A(4)}function wn(){this.Yb=(function(){var L=[];return(function D(X,_,i){for(var h=i[_],p=0;p<h&&(X.push(i.length>_+1?[]:0),!(i.length<_+1));p++)D(X[p],_+1,i)})(L,0,[3,11]),L})()}function Ui(){this.jb=A(3),this.Wc=l([4,8],wn),this.Xc=l([4,17],wn)}function WA(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new A(4),this.od=new A(4)}function vi(){this.ld=this.La=this.dd=this.tc=0}function Li(){this.Na=this.la=0}function zl(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function qa(){this.ad=A(384),this.Za=0,this.Ob=A(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ka(){this.uc=this.M=this.Nb=0,this.wa=Array(new vi),this.Y=0,this.ya=Array(new qa),this.aa=0,this.l=new js}function nl(){this.y=A(16),this.f=A(8),this.ea=A(8)}function il(){this.cb=this.a=0,this.sc="",this.m=new ee,this.Od=new ai,this.Kc=new yi,this.ed=new WA,this.Qa=new po,this.Ic=this.$c=this.Aa=0,this.D=new ka,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=d(8,ee),this.ia=0,this.pb=d(4,zl),this.Pa=new Ui,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new nl),this.Hd=0,this.rb=Array(new Li),this.sb=0,this.wa=Array(new vi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new qa),this.L=this.aa=0,this.gd=l([4,2],vi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Vn(L,D){return 0>L?0:L>D?D:L}function js(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Xi(){var L=new il;return L!=null&&(L.a=0,L.sc="OK",L.cb=0,L.Xb=0,Js||(Js=al)),L}function qr(L,D,X){return L.a==0&&(L.a=D,L.sc=X,L.cb=0),0}function pA(L,D,X){return 3<=X&&L[D+0]==157&&L[D+1]==1&&L[D+2]==42}function oa(L,D){if(L==null)return 0;if(L.a=0,L.sc="OK",D==null)return qr(L,2,"null VP8Io passed to VP8GetHeaders()");var X=D.data,_=D.w,i=D.ha;if(4>i)return qr(L,7,"Truncated header.");var h=X[_+0]|X[_+1]<<8|X[_+2]<<16,p=L.Od;if(p.Rb=!(1&h),p.td=h>>1&7,p.yd=h>>4&1,p.ub=h>>5,3<p.td)return qr(L,3,"Incorrect keyframe parameters.");if(!p.yd)return qr(L,4,"Frame not displayable.");_+=3,i-=3;var v=L.Kc;if(p.Rb){if(7>i)return qr(L,7,"cannot parse picture header");if(!pA(X,_,i))return qr(L,3,"Bad code word");v.c=16383&(X[_+4]<<8|X[_+3]),v.Td=X[_+4]>>6,v.i=16383&(X[_+6]<<8|X[_+5]),v.Ud=X[_+6]>>6,_+=7,i-=7,L.za=v.c+15>>4,L.Ub=v.i+15>>4,D.width=v.c,D.height=v.i,D.Da=0,D.j=0,D.v=0,D.va=D.width,D.o=D.height,D.da=0,D.ib=D.width,D.hb=D.height,D.U=D.width,D.T=D.height,s((h=L.Pa).jb,0,255,h.jb.length),t((h=L.Qa)!=null),h.Cb=0,h.Bb=0,h.Fb=1,s(h.Zb,0,0,h.Zb.length),s(h.Lb,0,0,h.Lb)}if(p.ub>i)return qr(L,7,"bad partition length");Pe(h=L.m,X,_,p.ub),_+=p.ub,i-=p.ub,p.Rb&&(v.Ld=Ke(h),v.Kd=Ke(h)),v=L.Qa;var x,U=L.Pa;if(t(h!=null),t(v!=null),v.Cb=Ke(h),v.Cb){if(v.Bb=Ke(h),Ke(h)){for(v.Fb=Ke(h),x=0;4>x;++x)v.Zb[x]=Ke(h)?Ge(h,7):0;for(x=0;4>x;++x)v.Lb[x]=Ke(h)?Ge(h,6):0}if(v.Bb)for(x=0;3>x;++x)U.jb[x]=Ke(h)?ke(h,8):255}else v.Bb=0;if(h.Ka)return qr(L,3,"cannot parse segment header");if((v=L.ed).zd=Ke(h),v.Tb=ke(h,6),v.wb=ke(h,3),v.Pc=Ke(h),v.Pc&&Ke(h)){for(U=0;4>U;++U)Ke(h)&&(v.vd[U]=Ge(h,6));for(U=0;4>U;++U)Ke(h)&&(v.od[U]=Ge(h,6))}if(L.L=v.Tb==0?0:v.zd?1:2,h.Ka)return qr(L,3,"cannot parse filter header");var M=i;if(i=x=_,_=x+M,v=M,L.Xb=(1<<ke(L.m,2))-1,M<3*(U=L.Xb))X=7;else{for(x+=3*U,v-=3*U,M=0;M<U;++M){var k=X[i+0]|X[i+1]<<8|X[i+2]<<16;k>v&&(k=v),Pe(L.Jc[+M],X,x,k),x+=k,v-=k,i+=3}Pe(L.Jc[+U],X,x,v),X=x<_?0:5}if(X!=0)return qr(L,X,"cannot parse partitions");for(X=ke(x=L.m,7),i=Ke(x)?Ge(x,4):0,_=Ke(x)?Ge(x,4):0,v=Ke(x)?Ge(x,4):0,U=Ke(x)?Ge(x,4):0,x=Ke(x)?Ge(x,4):0,M=L.Qa,k=0;4>k;++k){if(M.Cb){var Q=M.Zb[k];M.Fb||(Q+=X)}else{if(0<k){L.pb[k]=L.pb[0];continue}Q=X}var G=L.pb[k];G.Sc[0]=Ki[Vn(Q+i,127)],G.Sc[1]=Ia[Vn(Q+0,127)],G.Eb[0]=2*Ki[Vn(Q+_,127)],G.Eb[1]=101581*Ia[Vn(Q+v,127)]>>16,8>G.Eb[1]&&(G.Eb[1]=8),G.Qc[0]=Ki[Vn(Q+U,117)],G.Qc[1]=Ia[Vn(Q+x,127)],G.lc=Q+x}if(!p.Rb)return qr(L,4,"Not a key frame.");for(Ke(h),p=L.Pa,X=0;4>X;++X){for(i=0;8>i;++i)for(_=0;3>_;++_)for(v=0;11>v;++v)U=pt(h,Mn[X][i][_][v])?ke(h,8):zc[X][i][_][v],p.Wc[X][i].Yb[_][v]=U;for(i=0;17>i;++i)p.Xc[X][i]=p.Wc[X][Rt[i]]}return L.kc=Ke(h),L.kc&&(L.Bd=ke(h,8)),L.cb=1}function al(L,D,X,_,i,h,p){var v=D[i].Yb[X];for(X=0;16>i;++i){if(!pt(L,v[X+0]))return i;for(;!pt(L,v[X+1]);)if(v=D[++i].Yb[0],X=0,i==16)return 16;var x=D[i+1].Yb;if(pt(L,v[X+2])){var U=L,M=0;if(pt(U,(Q=v)[(k=X)+3]))if(pt(U,Q[k+6])){for(v=0,k=2*(M=pt(U,Q[k+8]))+(Q=pt(U,Q[k+9+M])),M=0,Q=mf[k];Q[v];++v)M+=M+pt(U,Q[v]);M+=3+(8<<k)}else pt(U,Q[k+7])?(M=7+2*pt(U,165),M+=pt(U,145)):M=5+pt(U,159);else M=pt(U,Q[k+4])?3+pt(U,Q[k+5]):2;v=x[2]}else M=1,v=x[1];x=p+Rc[i],0>(U=L).b&&gt(U);var k,Q=U.b,G=(k=U.Ca>>1)-(U.I>>Q)>>31;--U.b,U.Ca+=G,U.Ca|=1,U.I-=(k+1&G)<<Q,h[x]=((M^G)-G)*_[(0<i)+0]}return 16}function is(L){var D=L.rb[L.sb-1];D.la=0,D.Na=0,s(L.zc,0,0,L.zc.length),L.ja=0}function as(L,D,X,_,i){i=L[D+X+32*_]+(i>>3),L[D+X+32*_]=-256&i?0>i?0:255:i}function Ri(L,D,X,_,i,h){as(L,D,0,X,_+i),as(L,D,1,X,_+h),as(L,D,2,X,_-h),as(L,D,3,X,_-i)}function ui(L){return(20091*L>>16)+L}function Ks(L,D,X,_){var i,h=0,p=A(16);for(i=0;4>i;++i){var v=L[D+0]+L[D+8],x=L[D+0]-L[D+8],U=(35468*L[D+4]>>16)-ui(L[D+12]),M=ui(L[D+4])+(35468*L[D+12]>>16);p[h+0]=v+M,p[h+1]=x+U,p[h+2]=x-U,p[h+3]=v-M,h+=4,D++}for(i=h=0;4>i;++i)v=(L=p[h+0]+4)+p[h+8],x=L-p[h+8],U=(35468*p[h+4]>>16)-ui(p[h+12]),as(X,_,0,0,v+(M=ui(p[h+4])+(35468*p[h+12]>>16))),as(X,_,1,0,x+U),as(X,_,2,0,x-U),as(X,_,3,0,v-M),h++,_+=32}function Un(L,D,X,_){var i=L[D+0]+4,h=35468*L[D+4]>>16,p=ui(L[D+4]),v=35468*L[D+1]>>16;Ri(X,_,0,i+p,L=ui(L[D+1]),v),Ri(X,_,1,i+h,L,v),Ri(X,_,2,i-h,L,v),Ri(X,_,3,i-p,L,v)}function YA(L,D,X,_,i){Ks(L,D,X,_),i&&Ks(L,D+16,X,_+4)}function Qa(L,D,X,_){pl(L,D+0,X,_,1),pl(L,D+32,X,_+128,1)}function sl(L,D,X,_){var i;for(L=L[D+0]+4,i=0;4>i;++i)for(D=0;4>D;++D)as(X,_,D,i,L)}function JA(L,D,X,_){L[D+0]&&Ln(L,D+0,X,_),L[D+16]&&Ln(L,D+16,X,_+4),L[D+32]&&Ln(L,D+32,X,_+128),L[D+48]&&Ln(L,D+48,X,_+128+4)}function Cs(L,D,X,_){var i,h=A(16);for(i=0;4>i;++i){var p=L[D+0+i]+L[D+12+i],v=L[D+4+i]+L[D+8+i],x=L[D+4+i]-L[D+8+i],U=L[D+0+i]-L[D+12+i];h[0+i]=p+v,h[8+i]=p-v,h[4+i]=U+x,h[12+i]=U-x}for(i=0;4>i;++i)p=(L=h[0+4*i]+3)+h[3+4*i],v=h[1+4*i]+h[2+4*i],x=h[1+4*i]-h[2+4*i],U=L-h[3+4*i],X[_+0]=p+v>>3,X[_+16]=U+x>>3,X[_+32]=p-v>>3,X[_+48]=U-x>>3,_+=64}function Oo(L,D,X){var _,i=D-32,h=Wi,p=255-L[i-1];for(_=0;_<X;++_){var v,x=h,U=p+L[D-1];for(v=0;v<X;++v)L[D+v]=x[U+L[i+v]];D+=32}}function eu(L,D){Oo(L,D,4)}function Hl(L,D){Oo(L,D,8)}function Eu(L,D){Oo(L,D,16)}function lc(L,D){var X;for(X=0;16>X;++X)n(L,D+32*X,L,D-32,16)}function Ac(L,D){var X;for(X=16;0<X;--X)s(L,D,L[D-1],16),D+=32}function Ss(L,D,X){var _;for(_=0;16>_;++_)s(D,X+32*_,L,16)}function Na(L,D){var X,_=16;for(X=0;16>X;++X)_+=L[D-1+32*X]+L[D+X-32];Ss(_>>5,L,D)}function Vs(L,D){var X,_=8;for(X=0;16>X;++X)_+=L[D-1+32*X];Ss(_>>4,L,D)}function la(L,D){var X,_=8;for(X=0;16>X;++X)_+=L[D+X-32];Ss(_>>4,L,D)}function Zi(L,D){Ss(128,L,D)}function jr(L,D,X){return L+2*D+X+2>>2}function tu(L,D){var X,_=D-32;for(_=new Uint8Array([jr(L[_-1],L[_+0],L[_+1]),jr(L[_+0],L[_+1],L[_+2]),jr(L[_+1],L[_+2],L[_+3]),jr(L[_+2],L[_+3],L[_+4])]),X=0;4>X;++X)n(L,D+32*X,_,0,_.length)}function gA(L,D){var X=L[D-1],_=L[D-1+32],i=L[D-1+64],h=L[D-1+96];Ct(L,D+0,16843009*jr(L[D-1-32],X,_)),Ct(L,D+32,16843009*jr(X,_,i)),Ct(L,D+64,16843009*jr(_,i,h)),Ct(L,D+96,16843009*jr(i,h,h))}function uc(L,D){var X,_=4;for(X=0;4>X;++X)_+=L[D+X-32]+L[D-1+32*X];for(_>>=3,X=0;4>X;++X)s(L,D+32*X,_,4)}function Sa(L,D){var X=L[D-1+0],_=L[D-1+32],i=L[D-1+64],h=L[D-1-32],p=L[D+0-32],v=L[D+1-32],x=L[D+2-32],U=L[D+3-32];L[D+0+96]=jr(_,i,L[D-1+96]),L[D+1+96]=L[D+0+64]=jr(X,_,i),L[D+2+96]=L[D+1+64]=L[D+0+32]=jr(h,X,_),L[D+3+96]=L[D+2+64]=L[D+1+32]=L[D+0+0]=jr(p,h,X),L[D+3+64]=L[D+2+32]=L[D+1+0]=jr(v,p,h),L[D+3+32]=L[D+2+0]=jr(x,v,p),L[D+3+0]=jr(U,x,v)}function Ra(L,D){var X=L[D+1-32],_=L[D+2-32],i=L[D+3-32],h=L[D+4-32],p=L[D+5-32],v=L[D+6-32],x=L[D+7-32];L[D+0+0]=jr(L[D+0-32],X,_),L[D+1+0]=L[D+0+32]=jr(X,_,i),L[D+2+0]=L[D+1+32]=L[D+0+64]=jr(_,i,h),L[D+3+0]=L[D+2+32]=L[D+1+64]=L[D+0+96]=jr(i,h,p),L[D+3+32]=L[D+2+64]=L[D+1+96]=jr(h,p,v),L[D+3+64]=L[D+2+96]=jr(p,v,x),L[D+3+96]=jr(v,x,x)}function Tu(L,D){var X=L[D-1+0],_=L[D-1+32],i=L[D-1+64],h=L[D-1-32],p=L[D+0-32],v=L[D+1-32],x=L[D+2-32],U=L[D+3-32];L[D+0+0]=L[D+1+64]=h+p+1>>1,L[D+1+0]=L[D+2+64]=p+v+1>>1,L[D+2+0]=L[D+3+64]=v+x+1>>1,L[D+3+0]=x+U+1>>1,L[D+0+96]=jr(i,_,X),L[D+0+64]=jr(_,X,h),L[D+0+32]=L[D+1+96]=jr(X,h,p),L[D+1+32]=L[D+2+96]=jr(h,p,v),L[D+2+32]=L[D+3+96]=jr(p,v,x),L[D+3+32]=jr(v,x,U)}function mA(L,D){var X=L[D+0-32],_=L[D+1-32],i=L[D+2-32],h=L[D+3-32],p=L[D+4-32],v=L[D+5-32],x=L[D+6-32],U=L[D+7-32];L[D+0+0]=X+_+1>>1,L[D+1+0]=L[D+0+64]=_+i+1>>1,L[D+2+0]=L[D+1+64]=i+h+1>>1,L[D+3+0]=L[D+2+64]=h+p+1>>1,L[D+0+32]=jr(X,_,i),L[D+1+32]=L[D+0+96]=jr(_,i,h),L[D+2+32]=L[D+1+96]=jr(i,h,p),L[D+3+32]=L[D+2+96]=jr(h,p,v),L[D+3+64]=jr(p,v,x),L[D+3+96]=jr(v,x,U)}function qs(L,D){var X=L[D-1+0],_=L[D-1+32],i=L[D-1+64],h=L[D-1+96];L[D+0+0]=X+_+1>>1,L[D+2+0]=L[D+0+32]=_+i+1>>1,L[D+2+32]=L[D+0+64]=i+h+1>>1,L[D+1+0]=jr(X,_,i),L[D+3+0]=L[D+1+32]=jr(_,i,h),L[D+3+32]=L[D+1+64]=jr(i,h,h),L[D+3+64]=L[D+2+64]=L[D+0+96]=L[D+1+96]=L[D+2+96]=L[D+3+96]=h}function ru(L,D){var X=L[D-1+0],_=L[D-1+32],i=L[D-1+64],h=L[D-1+96],p=L[D-1-32],v=L[D+0-32],x=L[D+1-32],U=L[D+2-32];L[D+0+0]=L[D+2+32]=X+p+1>>1,L[D+0+32]=L[D+2+64]=_+X+1>>1,L[D+0+64]=L[D+2+96]=i+_+1>>1,L[D+0+96]=h+i+1>>1,L[D+3+0]=jr(v,x,U),L[D+2+0]=jr(p,v,x),L[D+1+0]=L[D+3+32]=jr(X,p,v),L[D+1+32]=L[D+3+64]=jr(_,X,p),L[D+1+64]=L[D+3+96]=jr(i,_,X),L[D+1+96]=jr(h,i,_)}function Do(L,D){var X;for(X=0;8>X;++X)n(L,D+32*X,L,D-32,8)}function yA(L,D){var X;for(X=0;8>X;++X)s(L,D,L[D-1],8),D+=32}function Es(L,D,X){var _;for(_=0;8>_;++_)s(D,X+32*_,L,8)}function jl(L,D){var X,_=8;for(X=0;8>X;++X)_+=L[D+X-32]+L[D-1+32*X];Es(_>>4,L,D)}function vA(L,D){var X,_=4;for(X=0;8>X;++X)_+=L[D+X-32];Es(_>>3,L,D)}function Aa(L,D){var X,_=4;for(X=0;8>X;++X)_+=L[D-1+32*X];Es(_>>3,L,D)}function pa(L,D){Es(128,L,D)}function go(L,D,X){var _=L[D-X],i=L[D+0],h=3*(i-_)+Vo[1020+L[D-2*X]-L[D+X]],p=CA[112+(h+4>>3)];L[D-X]=Wi[255+_+CA[112+(h+3>>3)]],L[D+0]=Wi[255+i-p]}function ko(L,D,X,_){var i=L[D+0],h=L[D+X];return bi[255+L[D-2*X]-L[D-X]]>_||bi[255+h-i]>_}function mo(L,D,X,_){return 4*bi[255+L[D-X]-L[D+0]]+bi[255+L[D-2*X]-L[D+X]]<=_}function Ts(L,D,X,_,i){var h=L[D-3*X],p=L[D-2*X],v=L[D-X],x=L[D+0],U=L[D+X],M=L[D+2*X],k=L[D+3*X];return 4*bi[255+v-x]+bi[255+p-U]>_?0:bi[255+L[D-4*X]-h]<=i&&bi[255+h-p]<=i&&bi[255+p-v]<=i&&bi[255+k-M]<=i&&bi[255+M-U]<=i&&bi[255+U-x]<=i}function _n(L,D,X,_){var i=2*_+1;for(_=0;16>_;++_)mo(L,D+_,X,i)&&go(L,D+_,X)}function yo(L,D,X,_){var i=2*_+1;for(_=0;16>_;++_)mo(L,D+_*X,1,i)&&go(L,D+_*X,1)}function nu(L,D,X,_){var i;for(i=3;0<i;--i)_n(L,D+=4*X,X,_)}function ol(L,D,X,_){var i;for(i=3;0<i;--i)yo(L,D+=4,X,_)}function Kl(L,D,X,_,i,h,p,v){for(h=2*h+1;0<i--;){if(Ts(L,D,X,h,p))if(ko(L,D,X,v))go(L,D,X);else{var x=L,U=D,M=X,k=x[U-2*M],Q=x[U-M],G=x[U+0],$=x[U+M],J=x[U+2*M],te=27*(pe=Vo[1020+3*(G-Q)+Vo[1020+k-$]])+63>>7,ue=18*pe+63>>7,pe=9*pe+63>>7;x[U-3*M]=Wi[255+x[U-3*M]+pe],x[U-2*M]=Wi[255+k+ue],x[U-M]=Wi[255+Q+te],x[U+0]=Wi[255+G-te],x[U+M]=Wi[255+$-ue],x[U+2*M]=Wi[255+J-pe]}D+=_}}function ll(L,D,X,_,i,h,p,v){for(h=2*h+1;0<i--;){if(Ts(L,D,X,h,p))if(ko(L,D,X,v))go(L,D,X);else{var x=L,U=D,M=X,k=x[U-M],Q=x[U+0],G=x[U+M],$=CA[112+(4+(J=3*(Q-k))>>3)],J=CA[112+(J+3>>3)],te=$+1>>1;x[U-2*M]=Wi[255+x[U-2*M]+te],x[U-M]=Wi[255+k+J],x[U+0]=Wi[255+Q-$],x[U+M]=Wi[255+G-te]}D+=_}}function Nc(L,D,X,_,i,h){Kl(L,D,X,1,16,_,i,h)}function Al(L,D,X,_,i,h){Kl(L,D,1,X,16,_,i,h)}function Iu(L,D,X,_,i,h){var p;for(p=3;0<p;--p)ll(L,D+=4*X,X,1,16,_,i,h)}function j(L,D,X,_,i,h){var p;for(p=3;0<p;--p)ll(L,D+=4,1,X,16,_,i,h)}function fe(L,D,X,_,i,h,p,v){Kl(L,D,i,1,8,h,p,v),Kl(X,_,i,1,8,h,p,v)}function ze(L,D,X,_,i,h,p,v){Kl(L,D,1,i,8,h,p,v),Kl(X,_,1,i,8,h,p,v)}function rt(L,D,X,_,i,h,p,v){ll(L,D+4*i,i,1,8,h,p,v),ll(X,_+4*i,i,1,8,h,p,v)}function ut(L,D,X,_,i,h,p,v){ll(L,D+4,1,i,8,h,p,v),ll(X,_+4,1,i,8,h,p,v)}function Ot(){this.ba=new Gr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new oe,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function jt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function yr(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function br(){this.ua=0,this.Wa=new Nr,this.vb=new Nr,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new it,this.yc=new Fe}function tn(){this.xb=this.a=0,this.l=new js,this.ca=new Gr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new ye,this.Pb=0,this.wd=new ye,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new br,this.ab=0,this.gc=d(4,yr),this.Oc=0}function An(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new js,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function zn(L,D,X,_,i,h,p){for(L=L==null?0:L[D+0],D=0;D<p;++D)i[h+D]=L+X[_+D]&255,L=i[h+D]}function Mi(L,D,X,_,i,h,p){var v;if(L==null)zn(null,null,X,_,i,h,p);else for(v=0;v<p;++v)i[h+v]=L[D+v]+X[_+v]&255}function zi(L,D,X,_,i,h,p){if(L==null)zn(null,null,X,_,i,h,p);else{var v,x=L[D+0],U=x,M=x;for(v=0;v<p;++v)U=M+(x=L[D+v])-U,M=X[_+v]+(-256&U?0>U?0:255:U)&255,U=x,i[h+v]=M}}function si(L,D,X,_){var i=D.width,h=D.o;if(t(L!=null&&D!=null),0>X||0>=_||X+_>h)return null;if(!L.Cc){if(L.ga==null){var p;if(L.ga=new An,(p=L.ga==null)||(p=D.width*D.o,t(L.Gb.length==0),L.Gb=A(p),L.Uc=0,L.Gb==null?p=0:(L.mb=L.Gb,L.nb=L.Uc,L.rc=null,p=1),p=!p),!p){p=L.ga;var v=L.Fa,x=L.P,U=L.qc,M=L.mb,k=L.nb,Q=x+1,G=U-1,$=p.l;if(t(v!=null&&M!=null&&D!=null),qo[0]=null,qo[1]=zn,qo[2]=Mi,qo[3]=zi,p.ca=M,p.tb=k,p.c=D.width,p.i=D.height,t(0<p.c&&0<p.i),1>=U)D=0;else if(p.$a=3&v[x+0],p.Z=v[x+0]>>2&3,p.Lc=v[x+0]>>4&3,x=v[x+0]>>6&3,0>p.$a||1<p.$a||4<=p.Z||1<p.Lc||x)D=0;else if($.put=Ve,$.ac=Je,$.bc=lt,$.ma=p,$.width=D.width,$.height=D.height,$.Da=D.Da,$.v=D.v,$.va=D.va,$.j=D.j,$.o=D.o,p.$a)e:{t(p.$a==1),D=en();t:for(;;){if(D==null){D=0;break e}if(t(p!=null),p.mc=D,D.c=p.c,D.i=p.i,D.l=p.l,D.l.ma=p,D.l.width=p.c,D.l.height=p.i,D.a=0,Oe(D.m,v,Q,G),!vn(p.c,p.i,1,D,null)||(D.ab==1&&D.gc[0].hc==3&&or(D.s)?(p.ic=1,v=D.c*D.i,D.Ta=null,D.Ua=0,D.V=A(v),D.Ba=0,D.V==null?(D.a=1,D=0):D=1):(p.ic=0,D=Pn(D,p.c)),!D))break t;D=1;break e}p.mc=null,D=0}else D=G>=p.c*p.i;p=!D}if(p)return null;L.ga.Lc!=1?L.Ga=0:_=h-X}t(L.ga!=null),t(X+_<=h);e:{if(D=(v=L.ga).c,h=v.l.o,v.$a==0){if(Q=L.rc,G=L.Vc,$=L.Fa,x=L.P+1+X*D,U=L.mb,M=L.nb+X*D,t(x<=L.P+L.qc),v.Z!=0)for(t(qo[v.Z]!=null),p=0;p<_;++p)qo[v.Z](Q,G,$,x,U,M,D),Q=U,G=M,M+=D,x+=D;else for(p=0;p<_;++p)n(U,M,$,x,D),Q=U,G=M,M+=D,x+=D;L.rc=Q,L.Vc=G}else{if(t(v.mc!=null),D=X+_,t((p=v.mc)!=null),t(D<=p.i),p.C>=D)D=1;else if(v.ic||ga(),v.ic){v=p.V,Q=p.Ba,G=p.c;var J=p.i,te=($=1,x=p.$/G,U=p.$%G,M=p.m,k=p.s,p.$),ue=G*J,pe=G*D,Be=k.wc,we=te<pe?Jt(k,U,x):null;t(te<=ue),t(D<=J),t(or(k));t:for(;;){for(;!M.h&&te<pe;){if(U&Be||(we=Jt(k,U,x)),t(we!=null),et(M),256>(J=ft(we.G[0],we.H[0],M)))v[Q+te]=J,++te,++U>=G&&(U=0,++x<=D&&!(x%16)&&zr(p,x));else{if(!(280>J)){$=0;break t}J=yt(J-256,M);var Qe,Se=ft(we.G[4],we.H[4],M);if(et(M),!(te>=(Se=Lt(G,Se=yt(Se,M)))&&ue-te>=J)){$=0;break t}for(Qe=0;Qe<J;++Qe)v[Q+te+Qe]=v[Q+te+Qe-Se];for(te+=J,U+=J;U>=G;)U-=G,++x<=D&&!(x%16)&&zr(p,x);te<pe&&U&Be&&(we=Jt(k,U,x))}t(M.h==Ne(M))}zr(p,x>D?D:x);break t}!$||M.h&&te<ue?($=0,p.a=M.h?5:3):p.$=te,D=$}else D=Kn(p,p.V,p.Ba,p.c,p.i,D,mi);if(!D){_=0;break e}}X+_>=h&&(L.Cc=1),_=1}if(!_)return null;if(L.Cc&&((_=L.ga)!=null&&(_.mc=null),L.ga=null,0<L.Ga))return alert("todo:WebPDequantizeLevels"),null}return L.nb+X*i}function ua(L,D,X,_,i,h){for(;0<i--;){var p,v=L,x=D+(X?1:0),U=L,M=D+(X?0:3);for(p=0;p<_;++p){var k=U[M+4*p];k!=255&&(k*=32897,v[x+4*p+0]=v[x+4*p+0]*k>>23,v[x+4*p+1]=v[x+4*p+1]*k>>23,v[x+4*p+2]=v[x+4*p+2]*k>>23)}D+=h}}function Hi(L,D,X,_,i){for(;0<_--;){var h;for(h=0;h<X;++h){var p=L[D+2*h+0],v=15&(U=L[D+2*h+1]),x=4369*v,U=(240&U|U>>4)*x>>16;L[D+2*h+0]=(240&p|p>>4)*x>>16&240|(15&p|p<<4)*x>>16>>4&15,L[D+2*h+1]=240&U|v}D+=i}}function Ea(L,D,X,_,i,h,p,v){var x,U,M=255;for(U=0;U<i;++U){for(x=0;x<_;++x){var k=L[D+x];h[p+4*x]=k,M&=k}D+=X,p+=v}return M!=255}function vo(L,D,X,_,i){var h;for(h=0;h<i;++h)X[_+h]=L[D+h]>>8}function ga(){jo=ua,oi=Hi,Ko=Ea,Ls=vo}function Qo(L,D,X){ge[L]=function(_,i,h,p,v,x,U,M,k,Q,G,$,J,te,ue,pe,Be){var we,Qe=Be-1>>1,Se=v[x+0]|U[M+0]<<16,$e=k[Q+0]|G[$+0]<<16;t(_!=null);var qe=3*Se+$e+131074>>2;for(D(_[i+0],255&qe,qe>>16,J,te),h!=null&&(qe=3*$e+Se+131074>>2,D(h[p+0],255&qe,qe>>16,ue,pe)),we=1;we<=Qe;++we){var at=v[x+we]|U[M+we]<<16,wt=k[Q+we]|G[$+we]<<16,St=Se+at+$e+wt+524296,_t=St+2*(at+$e)>>3;qe=_t+Se>>1,Se=(St=St+2*(Se+wt)>>3)+at>>1,D(_[i+2*we-1],255&qe,qe>>16,J,te+(2*we-1)*X),D(_[i+2*we-0],255&Se,Se>>16,J,te+(2*we-0)*X),h!=null&&(qe=St+$e>>1,Se=_t+wt>>1,D(h[p+2*we-1],255&qe,qe>>16,ue,pe+(2*we-1)*X),D(h[p+2*we+0],255&Se,Se>>16,ue,pe+(2*we+0)*X)),Se=at,$e=wt}1&Be||(qe=3*Se+$e+131074>>2,D(_[i+Be-1],255&qe,qe>>16,J,te+(Be-1)*X),h!=null&&(qe=3*$e+Se+131074>>2,D(h[p+Be-1],255&qe,qe>>16,ue,pe+(Be-1)*X)))}}function iu(){Hr[Uu]=$l,Hr[va]=MA,Hr[Lu]=Sh,Hr[hs]=Hc,Hr[su]=to,Hr[SA]=Go,Hr[Ms]=vl,Hr[EA]=MA,Hr[TA]=Hc,Hr[IA]=to,Hr[Mu]=Go}function _A(L){return L&-16384?0>L?0:255:L>>jc}function Gs(L,D){return _A((19077*L>>8)+(26149*D>>8)-14234)}function $s(L,D,X){return _A((19077*L>>8)-(6419*D>>8)-(13320*X>>8)+8708)}function Xs(L,D){return _A((19077*L>>8)+(33050*D>>8)-17685)}function No(L,D,X,_,i){_[i+0]=Gs(L,X),_[i+1]=$s(L,D,X),_[i+2]=Xs(L,D)}function Ta(L,D,X,_,i){_[i+0]=Xs(L,D),_[i+1]=$s(L,D,X),_[i+2]=Gs(L,X)}function ei(L,D,X,_,i){var h=$s(L,D,X);D=h<<3&224|Xs(L,D)>>3,_[i+0]=248&Gs(L,X)|h>>5,_[i+1]=D}function bA(L,D,X,_,i){var h=240&Xs(L,D)|15;_[i+0]=240&Gs(L,X)|$s(L,D,X)>>4,_[i+1]=h}function ln(L,D,X,_,i){_[i+0]=255,No(L,D,X,_,i+1)}function Zs(L,D,X,_,i){Ta(L,D,X,_,i),_[i+3]=255}function gn(L,D,X,_,i){No(L,D,X,_,i),_[i+3]=255}function Tn(L,D,X){ge[L]=function(_,i,h,p,v,x,U,M,k){for(var Q=M+(-2&k)*X;M!=Q;)D(_[i+0],h[p+0],v[x+0],U,M),D(_[i+1],h[p+0],v[x+0],U,M+X),i+=2,++p,++x,M+=2*X;1&k&&D(_[i+0],h[p+0],v[x+0],U,M)}}function _o(L,D,X){return X==0?L==0?D==0?6:5:D==0?4:0:X}function Vl(L,D,X,_,i){switch(L>>>30){case 3:pl(D,X,_,i,0);break;case 2:ya(D,X,_,i);break;case 1:Ln(D,X,_,i)}}function za(L,D){var X,_,i=D.M,h=D.Nb,p=L.oc,v=L.pc+40,x=L.oc,U=L.pc+584,M=L.oc,k=L.pc+600;for(X=0;16>X;++X)p[v+32*X-1]=129;for(X=0;8>X;++X)x[U+32*X-1]=129,M[k+32*X-1]=129;for(0<i?p[v-1-32]=x[U-1-32]=M[k-1-32]=129:(s(p,v-32-1,127,21),s(x,U-32-1,127,9),s(M,k-32-1,127,9)),_=0;_<L.za;++_){var Q=D.ya[D.aa+_];if(0<_){for(X=-1;16>X;++X)n(p,v+32*X-4,p,v+32*X+12,4);for(X=-1;8>X;++X)n(x,U+32*X-4,x,U+32*X+4,4),n(M,k+32*X-4,M,k+32*X+4,4)}var G=L.Gd,$=L.Hd+_,J=Q.ad,te=Q.Hc;if(0<i&&(n(p,v-32,G[$].y,0,16),n(x,U-32,G[$].f,0,8),n(M,k-32,G[$].ea,0,8)),Q.Za){var ue=p,pe=v-32+16;for(0<i&&(_>=L.za-1?s(ue,pe,G[$].y[15],4):n(ue,pe,G[$+1].y,0,4)),X=0;4>X;X++)ue[pe+128+X]=ue[pe+256+X]=ue[pe+384+X]=ue[pe+0+X];for(X=0;16>X;++X,te<<=2)ue=p,pe=v+wi[X],Si[Q.Ob[X]](ue,pe),Vl(te,J,16*+X,ue,pe)}else if(ue=_o(_,i,Q.Ob[0]),Fa[ue](p,v),te!=0)for(X=0;16>X;++X,te<<=2)Vl(te,J,16*+X,p,v+wi[X]);for(X=Q.Gc,ue=_o(_,i,Q.Dd),bo[ue](x,U),bo[ue](M,k),te=J,ue=x,pe=U,255&(Q=0|X)&&(170&Q?ls(te,256,ue,pe):Bn(te,256,ue,pe)),Q=M,te=k,255&(X>>=8)&&(170&X?ls(J,320,Q,te):Bn(J,320,Q,te)),i<L.Ub-1&&(n(G[$].y,0,p,v+480,16),n(G[$].f,0,x,U+224,8),n(G[$].ea,0,M,k+224,8)),X=8*h*L.B,G=L.sa,$=L.ta+16*_+16*h*L.R,J=L.qa,Q=L.ra+8*_+X,te=L.Ha,ue=L.Ia+8*_+X,X=0;16>X;++X)n(G,$+X*L.R,p,v+32*X,16);for(X=0;8>X;++X)n(J,Q+X*L.B,x,U+32*X,8),n(te,ue+X*L.B,M,k+32*X,8)}}function Ws(L,D,X,_,i,h,p,v,x){var U=[0],M=[0],k=0,Q=x!=null?x.kd:0,G=x??new jt;if(L==null||12>X)return 7;G.data=L,G.w=D,G.ha=X,D=[D],X=[X],G.gb=[G.gb];e:{var $=D,J=X,te=G.gb;if(t(L!=null),t(J!=null),t(te!=null),te[0]=0,12<=J[0]&&!r(L,$[0],"RIFF")){if(r(L,$[0]+8,"WEBP")){te=3;break e}var ue=Xt(L,$[0]+4);if(12>ue||4294967286<ue){te=3;break e}if(Q&&ue>J[0]-8){te=7;break e}te[0]=ue,$[0]+=12,J[0]-=12}te=0}if(te!=0)return te;for(ue=0<G.gb[0],X=X[0];;){e:{var pe=L;J=D,te=X;var Be=U,we=M,Qe=$=[0];if((qe=k=[k])[0]=0,8>te[0])te=7;else{if(!r(pe,J[0],"VP8X")){if(Xt(pe,J[0]+4)!=10){te=3;break e}if(18>te[0]){te=7;break e}var Se=Xt(pe,J[0]+8),$e=1+qt(pe,J[0]+12);if(2147483648<=$e*(pe=1+qt(pe,J[0]+15))){te=3;break e}Qe!=null&&(Qe[0]=Se),Be!=null&&(Be[0]=$e),we!=null&&(we[0]=pe),J[0]+=18,te[0]-=18,qe[0]=1}te=0}}if(k=k[0],$=$[0],te!=0)return te;if(J=!!(2&$),!ue&&k)return 3;if(h!=null&&(h[0]=!!(16&$)),p!=null&&(p[0]=J),v!=null&&(v[0]=0),p=U[0],$=M[0],k&&J&&x==null){te=0;break}if(4>X){te=7;break}if(ue&&k||!ue&&!k&&!r(L,D[0],"ALPH")){X=[X],G.na=[G.na],G.P=[G.P],G.Sa=[G.Sa];e:{Se=L,te=D,ue=X;var qe=G.gb;Be=G.na,we=G.P,Qe=G.Sa,$e=22,t(Se!=null),t(ue!=null),pe=te[0];var at=ue[0];for(t(Be!=null),t(Qe!=null),Be[0]=null,we[0]=null,Qe[0]=0;;){if(te[0]=pe,ue[0]=at,8>at){te=7;break e}var wt=Xt(Se,pe+4);if(4294967286<wt){te=3;break e}var St=8+wt+1&-2;if($e+=St,0<qe&&$e>qe){te=3;break e}if(!r(Se,pe,"VP8 ")||!r(Se,pe,"VP8L")){te=0;break e}if(at[0]<St){te=7;break e}r(Se,pe,"ALPH")||(Be[0]=Se,we[0]=pe+8,Qe[0]=wt),pe+=St,at-=St}}if(X=X[0],G.na=G.na[0],G.P=G.P[0],G.Sa=G.Sa[0],te!=0)break}X=[X],G.Ja=[G.Ja],G.xa=[G.xa];e:if(qe=L,te=D,ue=X,Be=G.gb[0],we=G.Ja,Qe=G.xa,Se=te[0],pe=!r(qe,Se,"VP8 "),$e=!r(qe,Se,"VP8L"),t(qe!=null),t(ue!=null),t(we!=null),t(Qe!=null),8>ue[0])te=7;else{if(pe||$e){if(qe=Xt(qe,Se+4),12<=Be&&qe>Be-12){te=3;break e}if(Q&&qe>ue[0]-8){te=7;break e}we[0]=qe,te[0]+=8,ue[0]-=8,Qe[0]=$e}else Qe[0]=5<=ue[0]&&qe[Se+0]==47&&!(qe[Se+4]>>5),we[0]=ue[0];te=0}if(X=X[0],G.Ja=G.Ja[0],G.xa=G.xa[0],D=D[0],te!=0)break;if(4294967286<G.Ja)return 3;if(v==null||J||(v[0]=G.xa?2:1),p=[p],$=[$],G.xa){if(5>X){te=7;break}v=p,Q=$,J=h,L==null||5>X?L=0:5<=X&&L[D+0]==47&&!(L[D+4]>>5)?(ue=[0],qe=[0],Be=[0],Oe(we=new ye,L,D,X),We(we,ue,qe,Be)?(v!=null&&(v[0]=ue[0]),Q!=null&&(Q[0]=qe[0]),J!=null&&(J[0]=Be[0]),L=1):L=0):L=0}else{if(10>X){te=7;break}v=$,L==null||10>X||!pA(L,D+3,X-3)?L=0:(Q=L[D+0]|L[D+1]<<8|L[D+2]<<16,J=16383&(L[D+7]<<8|L[D+6]),L=16383&(L[D+9]<<8|L[D+8]),1&Q||3<(Q>>1&7)||!(Q>>4&1)||Q>>5>=G.Ja||!J||!L?L=0:(p&&(p[0]=J),v&&(v[0]=L),L=1))}if(!L||(p=p[0],$=$[0],k&&(U[0]!=p||M[0]!=$)))return 3;x!=null&&(x[0]=G,x.offset=D-x.w,t(4294967286>D-x.w),t(x.offset==x.ha-X));break}return te==0||te==7&&k&&x==null?(h!=null&&(h[0]|=G.na!=null&&0<G.na.length),_!=null&&(_[0]=p),i!=null&&(i[0]=$),0):te}function ss(L,D,X){var _=D.width,i=D.height,h=0,p=0,v=_,x=i;if(D.Da=L!=null&&0<L.Da,D.Da&&(v=L.cd,x=L.bd,h=L.v,p=L.j,11>X||(h&=-2,p&=-2),0>h||0>p||0>=v||0>=x||h+v>_||p+x>i))return 0;if(D.v=h,D.j=p,D.va=h+v,D.o=p+x,D.U=v,D.T=x,D.da=L!=null&&0<L.da,D.da){if(!Er(v,x,X=[L.ib],h=[L.hb]))return 0;D.ib=X[0],D.hb=h[0]}return D.ob=L!=null&&L.ob,D.Kb=L==null||!L.Sd,D.da&&(D.ob=D.ib<3*_/4&&D.hb<3*i/4,D.Kb=0),1}function ul(L){if(L==null)return 2;if(11>L.S){var D=L.f.RGBA;D.fb+=(L.height-1)*D.A,D.A=-D.A}else D=L.f.kb,L=L.height,D.O+=(L-1)*D.fa,D.fa=-D.fa,D.N+=(L-1>>1)*D.Ab,D.Ab=-D.Ab,D.W+=(L-1>>1)*D.Db,D.Db=-D.Db,D.F!=null&&(D.J+=(L-1)*D.lb,D.lb=-D.lb);return 0}function ji(L,D,X,_){if(_==null||0>=L||0>=D)return 2;if(X!=null){if(X.Da){var i=X.cd,h=X.bd,p=-2&X.v,v=-2&X.j;if(0>p||0>v||0>=i||0>=h||p+i>L||v+h>D)return 2;L=i,D=h}if(X.da){if(!Er(L,D,i=[X.ib],h=[X.hb]))return 2;L=i[0],D=h[0]}}_.width=L,_.height=D;e:{var x=_.width,U=_.height;if(L=_.S,0>=x||0>=U||!(L>=Uu&&13>L))L=2;else{if(0>=_.Rd&&_.sd==null){p=h=i=D=0;var M=(v=x*Cr[L])*U;if(11>L||(h=(U+1)/2*(D=(x+1)/2),L==12&&(p=(i=x)*U)),(U=A(M+2*h+p))==null){L=1;break e}_.sd=U,11>L?((x=_.f.RGBA).eb=U,x.fb=0,x.A=v,x.size=M):((x=_.f.kb).y=U,x.O=0,x.fa=v,x.Fd=M,x.f=U,x.N=0+M,x.Ab=D,x.Cd=h,x.ea=U,x.W=0+M+h,x.Db=D,x.Ed=h,L==12&&(x.F=U,x.J=0+M+2*h),x.Tc=p,x.lb=i)}if(D=1,i=_.S,h=_.width,p=_.height,i>=Uu&&13>i)if(11>i)L=_.f.RGBA,D&=(v=Math.abs(L.A))*(p-1)+h<=L.size,D&=v>=h*Cr[i],D&=L.eb!=null;else{L=_.f.kb,v=(h+1)/2,M=(p+1)/2,x=Math.abs(L.fa),U=Math.abs(L.Ab);var k=Math.abs(L.Db),Q=Math.abs(L.lb),G=Q*(p-1)+h;D&=x*(p-1)+h<=L.Fd,D&=U*(M-1)+v<=L.Cd,D=(D&=k*(M-1)+v<=L.Ed)&x>=h&U>=v&k>=v,D&=L.y!=null,D&=L.f!=null,D&=L.ea!=null,i==12&&(D&=Q>=h,D&=G<=L.Tc,D&=L.F!=null)}else D=0;L=D?0:2}}return L!=0||X!=null&&X.fd&&(L=ul(_)),L}var cl=64,Ga=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ha=24,$a=32,Is=8,Ys=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ur("Predictor0","PredictorAdd0"),ge.Predictor0=function(){return 4278190080},ge.Predictor1=function(L){return L},ge.Predictor2=function(L,D,X){return D[X+0]},ge.Predictor3=function(L,D,X){return D[X+1]},ge.Predictor4=function(L,D,X){return D[X-1]},ge.Predictor5=function(L,D,X){return Br(Br(L,D[X+1]),D[X+0])},ge.Predictor6=function(L,D,X){return Br(L,D[X-1])},ge.Predictor7=function(L,D,X){return Br(L,D[X+0])},ge.Predictor8=function(L,D,X){return Br(D[X-1],D[X+0])},ge.Predictor9=function(L,D,X){return Br(D[X+0],D[X+1])},ge.Predictor10=function(L,D,X){return Br(Br(L,D[X-1]),Br(D[X+0],D[X+1]))},ge.Predictor11=function(L,D,X){var _=D[X+0];return 0>=Jr(_>>24&255,L>>24&255,(D=D[X-1])>>24&255)+Jr(_>>16&255,L>>16&255,D>>16&255)+Jr(_>>8&255,L>>8&255,D>>8&255)+Jr(255&_,255&L,255&D)?_:L},ge.Predictor12=function(L,D,X){var _=D[X+0];return(rn((L>>24&255)+(_>>24&255)-((D=D[X-1])>>24&255))<<24|rn((L>>16&255)+(_>>16&255)-(D>>16&255))<<16|rn((L>>8&255)+(_>>8&255)-(D>>8&255))<<8|rn((255&L)+(255&_)-(255&D)))>>>0},ge.Predictor13=function(L,D,X){var _=D[X-1];return(nn((L=Br(L,D[X+0]))>>24&255,_>>24&255)<<24|nn(L>>16&255,_>>16&255)<<16|nn(L>>8&255,_>>8&255)<<8|nn(255&L,255&_))>>>0};var Ro=ge.PredictorAdd0;ge.PredictorAdd1=yn,ur("Predictor2","PredictorAdd2"),ur("Predictor3","PredictorAdd3"),ur("Predictor4","PredictorAdd4"),ur("Predictor5","PredictorAdd5"),ur("Predictor6","PredictorAdd6"),ur("Predictor7","PredictorAdd7"),ur("Predictor8","PredictorAdd8"),ur("Predictor9","PredictorAdd9"),ur("Predictor10","PredictorAdd10"),ur("Predictor11","PredictorAdd11"),ur("Predictor12","PredictorAdd12"),ur("Predictor13","PredictorAdd13");var hl=ge.PredictorAdd2;fr("ColorIndexInverseTransform","MapARGB","32b",function(L){return L>>8&255},function(L){return L}),fr("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(L){return L},function(L){return L>>8&255});var Ci,ql=ge.ColorIndexInverseTransform,os=ge.MapARGB,zo=ge.VP8LColorIndexInverseTransformAlpha,ma=ge.MapAlpha,dn=ge.VP8LPredictorsAdd=[];dn.length=16,(ge.VP8LPredictors=[]).length=16,(ge.VP8LPredictorsAdd_C=[]).length=16,(ge.VP8LPredictors_C=[]).length=16;var Gl,Fu,fl,Fs,Ho,dl,Us,pl,ya,ls,Ln,Bn,Xn,Pi,As,us,gl,wA,cc,gf,Ch,hc,fc,au,jo,oi,Ko,Ls,xA=A(511),_i=A(2041),cs=A(225),ja=A(767),BA=0,Vo=_i,CA=cs,Wi=ja,bi=xA,Uu=0,va=1,Lu=2,hs=3,su=4,SA=5,Ms=6,EA=7,TA=8,IA=9,Mu=10,Ps=[2,3,7],FA=[3,3,11],ml=[280,256,256,256,40],UA=[0,1,1,1,0],Pu=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Oi=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Yi=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],yl=8,Ki=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ia=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Js=null,mf=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Rc=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],dc=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],zc=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Vi=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Mn=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Rt=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Fa=[],Si=[],bo=[],eo=1,LA=2,qo=[],Hr=[];Qo("UpsampleRgbLinePair",No,3),Qo("UpsampleBgrLinePair",Ta,3),Qo("UpsampleRgbaLinePair",gn,4),Qo("UpsampleBgraLinePair",Zs,4),Qo("UpsampleArgbLinePair",ln,4),Qo("UpsampleRgba4444LinePair",bA,2),Qo("UpsampleRgb565LinePair",ei,2);var $l=ge.UpsampleRgbLinePair,Sh=ge.UpsampleBgrLinePair,MA=ge.UpsampleRgbaLinePair,Hc=ge.UpsampleBgraLinePair,to=ge.UpsampleArgbLinePair,Go=ge.UpsampleRgba4444LinePair,vl=ge.UpsampleRgb565LinePair,ro=16,Ou=1<<ro-1,Xl=-227,PA=482,jc=6,ca=0,pn=A(256),Zl=A(256),pc=A(256),Kc=A(256),yf=A(PA-Xl),gc=A(PA-Xl);Tn("YuvToRgbRow",No,3),Tn("YuvToBgrRow",Ta,3),Tn("YuvToRgbaRow",gn,4),Tn("YuvToBgraRow",Zs,4),Tn("YuvToArgbRow",ln,4),Tn("YuvToRgba4444Row",bA,2),Tn("YuvToRgb565Row",ei,2);var wi=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],fs=[0,2,8],Wl=[8,7,6,4,4,2,2,2,1,1,1,1],lr=1;this.WebPDecodeRGBA=function(L,D,X,_,i){var h=va,p=new Ot,v=new Gr;p.ba=v,v.S=h,v.width=[v.width],v.height=[v.height];var x=v.width,U=v.height,M=new Ue;if(M==null||L==null)var k=2;else t(M!=null),k=Ws(L,D,X,M.width,M.height,M.Pd,M.Qd,M.format,null);if(k!=0?x=0:(x!=null&&(x[0]=M.width[0]),U!=null&&(U[0]=M.height[0]),x=1),x){v.width=v.width[0],v.height=v.height[0],_!=null&&(_[0]=v.width),i!=null&&(i[0]=v.height);e:{if(_=new js,(i=new jt).data=L,i.w=D,i.ha=X,i.kd=1,D=[0],t(i!=null),((L=Ws(i.data,i.w,i.ha,null,null,null,D,null,i))==0||L==7)&&D[0]&&(L=4),(D=L)==0){if(t(p!=null),_.data=i.data,_.w=i.w+i.offset,_.ha=i.ha-i.offset,_.put=Ve,_.ac=Je,_.bc=lt,_.ma=p,i.xa){if((L=en())==null){p=1;break e}if((function(Q,G){var $=[0],J=[0],te=[0];t:for(;;){if(Q==null)return 0;if(G==null)return Q.a=2,0;if(Q.l=G,Q.a=0,Oe(Q.m,G.data,G.w,G.ha),!We(Q.m,$,J,te)){Q.a=3;break t}if(Q.xb=LA,G.width=$[0],G.height=J[0],!vn($[0],J[0],1,Q,null))break t;return 1}return t(Q.a!=0),0})(L,_)){if(_=(D=ji(_.width,_.height,p.Oa,p.ba))==0){t:{_=L;r:for(;;){if(_==null){_=0;break t}if(t(_.s.yc!=null),t(_.s.Ya!=null),t(0<_.s.Wb),t((X=_.l)!=null),t((i=X.ma)!=null),_.xb!=0){if(_.ca=i.ba,_.tb=i.tb,t(_.ca!=null),!ss(i.Oa,X,hs)){_.a=2;break r}if(!Pn(_,X.width)||X.da)break r;if((X.da||Ur(_.ca.S))&&ga(),11>_.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),_.ca.f.kb.F!=null&&ga()),_.Pb&&0<_.s.ua&&_.s.vb.X==null&&!Me(_.s.vb,_.s.Wa.Xa)){_.a=1;break r}_.xb=0}if(!Kn(_,_.V,_.Ba,_.c,_.i,X.o,Zr))break r;i.Dc=_.Ma,_=1;break t}t(_.a!=0),_=0}_=!_}_&&(D=L.a)}else D=L.a}else{if((L=new Xi)==null){p=1;break e}if(L.Fa=i.na,L.P=i.P,L.qc=i.Sa,oa(L,_)){if((D=ji(_.width,_.height,p.Oa,p.ba))==0){if(L.Aa=0,X=p.Oa,t((i=L)!=null),X!=null){if(0<(x=0>(x=X.Md)?0:100<x?255:255*x/100)){for(U=M=0;4>U;++U)12>(k=i.pb[U]).lc&&(k.ia=x*Wl[0>k.lc?0:k.lc]>>3),M|=k.ia;M&&(alert("todo:VP8InitRandom"),i.ia=1)}i.Ga=X.Id,100<i.Ga?i.Ga=100:0>i.Ga&&(i.Ga=0)}(function(Q,G){if(Q==null)return 0;if(G==null)return qr(Q,2,"NULL VP8Io parameter in VP8Decode().");if(!Q.cb&&!oa(Q,G))return 0;if(t(Q.cb),G.ac==null||G.ac(G)){G.ob&&(Q.L=0);var $=fs[Q.L];if(Q.L==2?(Q.yb=0,Q.zb=0):(Q.yb=G.v-$>>4,Q.zb=G.j-$>>4,0>Q.yb&&(Q.yb=0),0>Q.zb&&(Q.zb=0)),Q.Va=G.o+15+$>>4,Q.Hb=G.va+15+$>>4,Q.Hb>Q.za&&(Q.Hb=Q.za),Q.Va>Q.Ub&&(Q.Va=Q.Ub),0<Q.L){var J=Q.ed;for($=0;4>$;++$){var te;if(Q.Qa.Cb){var ue=Q.Qa.Lb[$];Q.Qa.Fb||(ue+=J.Tb)}else ue=J.Tb;for(te=0;1>=te;++te){var pe=Q.gd[$][te],Be=ue;if(J.Pc&&(Be+=J.vd[0],te&&(Be+=J.od[0])),0<(Be=0>Be?0:63<Be?63:Be)){var we=Be;0<J.wb&&(we=4<J.wb?we>>2:we>>1)>9-J.wb&&(we=9-J.wb),1>we&&(we=1),pe.dd=we,pe.tc=2*Be+we,pe.ld=40<=Be?2:15<=Be?1:0}else pe.tc=0;pe.La=te}}}$=0}else qr(Q,6,"Frame setup failed"),$=Q.a;if($=$==0){if($){Q.$c=0,0<Q.Aa||(Q.Ic=lr);t:{$=Q.Ic,J=4*(we=Q.za);var Qe=32*we,Se=we+1,$e=0<Q.L?we*(0<Q.Aa?2:1):0,qe=(Q.Aa==2?2:1)*we;if((pe=J+832+(te=3*(16*$+fs[Q.L])/2*Qe)+(ue=Q.Fa!=null&&0<Q.Fa.length?Q.Kc.c*Q.Kc.i:0))!=pe)$=0;else{if(pe>Q.Vb){if(Q.Vb=0,Q.Ec=A(pe),Q.Fc=0,Q.Ec==null){$=qr(Q,1,"no memory during frame initialization.");break t}Q.Vb=pe}pe=Q.Ec,Be=Q.Fc,Q.Ac=pe,Q.Bc=Be,Be+=J,Q.Gd=d(Qe,nl),Q.Hd=0,Q.rb=d(Se+1,Li),Q.sb=1,Q.wa=$e?d($e,vi):null,Q.Y=0,Q.D.Nb=0,Q.D.wa=Q.wa,Q.D.Y=Q.Y,0<Q.Aa&&(Q.D.Y+=we),t(!0),Q.oc=pe,Q.pc=Be,Be+=832,Q.ya=d(qe,qa),Q.aa=0,Q.D.ya=Q.ya,Q.D.aa=Q.aa,Q.Aa==2&&(Q.D.aa+=we),Q.R=16*we,Q.B=8*we,we=(Qe=fs[Q.L])*Q.R,Qe=Qe/2*Q.B,Q.sa=pe,Q.ta=Be+we,Q.qa=Q.sa,Q.ra=Q.ta+16*$*Q.R+Qe,Q.Ha=Q.qa,Q.Ia=Q.ra+8*$*Q.B+Qe,Q.$c=0,Be+=te,Q.mb=ue?pe:null,Q.nb=ue?Be:null,t(Be+ue<=Q.Fc+Q.Vb),is(Q),s(Q.Ac,Q.Bc,0,J),$=1}}if($){if(G.ka=0,G.y=Q.sa,G.O=Q.ta,G.f=Q.qa,G.N=Q.ra,G.ea=Q.Ha,G.Vd=Q.Ia,G.fa=Q.R,G.Rc=Q.B,G.F=null,G.J=0,!BA){for($=-255;255>=$;++$)xA[255+$]=0>$?-$:$;for($=-1020;1020>=$;++$)_i[1020+$]=-128>$?-128:127<$?127:$;for($=-112;112>=$;++$)cs[112+$]=-16>$?-16:15<$?15:$;for($=-255;510>=$;++$)ja[255+$]=0>$?0:255<$?255:$;BA=1}Us=Cs,pl=YA,ls=Qa,Ln=sl,Bn=JA,ya=Un,Xn=Nc,Pi=Al,As=fe,us=ze,gl=Iu,wA=j,cc=rt,gf=ut,Ch=_n,hc=yo,fc=nu,au=ol,Si[0]=uc,Si[1]=eu,Si[2]=tu,Si[3]=gA,Si[4]=Sa,Si[5]=Tu,Si[6]=Ra,Si[7]=mA,Si[8]=ru,Si[9]=qs,Fa[0]=Na,Fa[1]=Eu,Fa[2]=lc,Fa[3]=Ac,Fa[4]=Vs,Fa[5]=la,Fa[6]=Zi,bo[0]=jl,bo[1]=Hl,bo[2]=Do,bo[3]=yA,bo[4]=Aa,bo[5]=vA,bo[6]=pa,$=1}else $=0}$&&($=(function(at,wt){for(at.M=0;at.M<at.Va;++at.M){var St,_t=at.Jc[at.M&at.Xb],mt=at.m,Qt=at;for(St=0;St<Qt.za;++St){var Et=mt,zt=Qt,tr=zt.Ac,Vt=zt.Bc+4*St,$t=zt.zc,rr=zt.ya[zt.aa+St];if(zt.Qa.Bb?rr.$b=pt(Et,zt.Pa.jb[0])?2+pt(Et,zt.Pa.jb[2]):pt(Et,zt.Pa.jb[1]):rr.$b=0,zt.kc&&(rr.Ad=pt(Et,zt.Bd)),rr.Za=!pt(Et,145)+0,rr.Za){var un=rr.Ob,Ir=0;for(zt=0;4>zt;++zt){var Lr,wr=$t[0+zt];for(Lr=0;4>Lr;++Lr){wr=Vi[tr[Vt+Lr]][wr];for(var an=dc[pt(Et,wr[0])];0<an;)an=dc[2*an+pt(Et,wr[an])];wr=-an,tr[Vt+Lr]=wr}n(un,Ir,tr,Vt,4),Ir+=4,$t[0+zt]=wr}}else wr=pt(Et,156)?pt(Et,128)?1:3:pt(Et,163)?2:0,rr.Ob[0]=wr,s(tr,Vt,wr,4),s($t,0,wr,4);rr.Dd=pt(Et,142)?pt(Et,114)?pt(Et,183)?1:3:2:0}if(Qt.m.Ka)return qr(at,7,"Premature end-of-partition0 encountered.");for(;at.ja<at.za;++at.ja){if(Qt=_t,Et=(mt=at).rb[mt.sb-1],tr=mt.rb[mt.sb+mt.ja],St=mt.ya[mt.aa+mt.ja],Vt=mt.kc?St.Ad:0)Et.la=tr.la=0,St.Za||(Et.Na=tr.Na=0),St.Hc=0,St.Gc=0,St.ia=0;else{var Hn,Dr;if(Et=tr,tr=Qt,Vt=mt.Pa.Xc,$t=mt.ya[mt.aa+mt.ja],rr=mt.pb[$t.$b],zt=$t.ad,un=0,Ir=mt.rb[mt.sb-1],wr=Lr=0,s(zt,un,0,384),$t.Za)var qn=0,In=Vt[3];else{an=A(16);var sn=Et.Na+Ir.Na;if(sn=Js(tr,Vt[1],sn,rr.Eb,0,an,0),Et.Na=Ir.Na=(0<sn)+0,1<sn)Us(an,0,zt,un);else{var On=an[0]+3>>3;for(an=0;256>an;an+=16)zt[un+an]=On}qn=1,In=Vt[0]}var Cn=15&Et.la,xi=15&Ir.la;for(an=0;4>an;++an){var Di=1&xi;for(On=Dr=0;4>On;++On)Cn=Cn>>1|(Di=(sn=Js(tr,In,sn=Di+(1&Cn),rr.Sc,qn,zt,un))>qn)<<7,Dr=Dr<<2|(3<sn?3:1<sn?2:zt[un+0]!=0),un+=16;Cn>>=4,xi=xi>>1|Di<<7,Lr=(Lr<<8|Dr)>>>0}for(In=Cn,qn=xi>>4,Hn=0;4>Hn;Hn+=2){for(Dr=0,Cn=Et.la>>4+Hn,xi=Ir.la>>4+Hn,an=0;2>an;++an){for(Di=1&xi,On=0;2>On;++On)sn=Di+(1&Cn),Cn=Cn>>1|(Di=0<(sn=Js(tr,Vt[2],sn,rr.Qc,0,zt,un)))<<3,Dr=Dr<<2|(3<sn?3:1<sn?2:zt[un+0]!=0),un+=16;Cn>>=2,xi=xi>>1|Di<<5}wr|=Dr<<4*Hn,In|=Cn<<4<<Hn,qn|=(240&xi)<<Hn}Et.la=In,Ir.la=qn,$t.Hc=Lr,$t.Gc=wr,$t.ia=43690&wr?0:rr.ia,Vt=!(Lr|wr)}if(0<mt.L&&(mt.wa[mt.Y+mt.ja]=mt.gd[St.$b][St.Za],mt.wa[mt.Y+mt.ja].La|=!Vt),Qt.Ka)return qr(at,7,"Premature end-of-file encountered.")}if(is(at),mt=wt,Qt=1,St=(_t=at).D,Et=0<_t.L&&_t.M>=_t.zb&&_t.M<=_t.Va,_t.Aa==0)t:{if(St.M=_t.M,St.uc=Et,za(_t,St),Qt=1,St=(Dr=_t.D).Nb,Et=(wr=fs[_t.L])*_t.R,tr=wr/2*_t.B,an=16*St*_t.R,On=8*St*_t.B,Vt=_t.sa,$t=_t.ta-Et+an,rr=_t.qa,zt=_t.ra-tr+On,un=_t.Ha,Ir=_t.Ia-tr+On,xi=(Cn=Dr.M)==0,Lr=Cn>=_t.Va-1,_t.Aa==2&&za(_t,Dr),Dr.uc)for(Di=(sn=_t).D.M,t(sn.D.uc),Dr=sn.yb;Dr<sn.Hb;++Dr){qn=Dr,In=Di;var Gn=(fn=($n=sn).D).Nb;Hn=$n.R;var fn=fn.wa[fn.Y+qn],_a=$n.sa,Ei=$n.ta+16*Gn*Hn+16*qn,mr=fn.dd,vr=fn.tc;if(vr!=0)if(t(3<=vr),$n.L==1)0<qn&&hc(_a,Ei,Hn,vr+4),fn.La&&au(_a,Ei,Hn,vr),0<In&&Ch(_a,Ei,Hn,vr+4),fn.La&&fc(_a,Ei,Hn,vr);else{var xn=$n.B,Ti=$n.qa,ni=$n.ra+8*Gn*xn+8*qn,Wn=$n.Ha,$n=$n.Ia+8*Gn*xn+8*qn;Gn=fn.ld,0<qn&&(Pi(_a,Ei,Hn,vr+4,mr,Gn),us(Ti,ni,Wn,$n,xn,vr+4,mr,Gn)),fn.La&&(wA(_a,Ei,Hn,vr,mr,Gn),gf(Ti,ni,Wn,$n,xn,vr,mr,Gn)),0<In&&(Xn(_a,Ei,Hn,vr+4,mr,Gn),As(Ti,ni,Wn,$n,xn,vr+4,mr,Gn)),fn.La&&(gl(_a,Ei,Hn,vr,mr,Gn),cc(Ti,ni,Wn,$n,xn,vr,mr,Gn))}}if(_t.ia&&alert("todo:DitherRow"),mt.put!=null){if(Dr=16*Cn,Cn=16*(Cn+1),xi?(mt.y=_t.sa,mt.O=_t.ta+an,mt.f=_t.qa,mt.N=_t.ra+On,mt.ea=_t.Ha,mt.W=_t.Ia+On):(Dr-=wr,mt.y=Vt,mt.O=$t,mt.f=rr,mt.N=zt,mt.ea=un,mt.W=Ir),Lr||(Cn-=wr),Cn>mt.o&&(Cn=mt.o),mt.F=null,mt.J=null,_t.Fa!=null&&0<_t.Fa.length&&Dr<Cn&&(mt.J=si(_t,mt,Dr,Cn-Dr),mt.F=_t.mb,mt.F==null&&mt.F.length==0)){Qt=qr(_t,3,"Could not decode alpha data.");break t}Dr<mt.j&&(wr=mt.j-Dr,Dr=mt.j,t(!(1&wr)),mt.O+=_t.R*wr,mt.N+=_t.B*(wr>>1),mt.W+=_t.B*(wr>>1),mt.F!=null&&(mt.J+=mt.width*wr)),Dr<Cn&&(mt.O+=mt.v,mt.N+=mt.v>>1,mt.W+=mt.v>>1,mt.F!=null&&(mt.J+=mt.v),mt.ka=Dr-mt.j,mt.U=mt.va-mt.v,mt.T=Cn-Dr,Qt=mt.put(mt))}St+1!=_t.Ic||Lr||(n(_t.sa,_t.ta-Et,Vt,$t+16*_t.R,Et),n(_t.qa,_t.ra-tr,rr,zt+8*_t.B,tr),n(_t.Ha,_t.Ia-tr,un,Ir+8*_t.B,tr))}if(!Qt)return qr(at,6,"Output aborted.")}return 1})(Q,G)),G.bc!=null&&G.bc(G),$&=1}return $?(Q.cb=0,$):0})(L,_)||(D=L.a)}}else D=L.a}D==0&&p.Oa!=null&&p.Oa.fd&&(D=ul(p.ba))}p=D}h=p!=0?null:11>h?v.f.RGBA.eb:v.f.kb.y}else h=null;return h};var Cr=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function b(ge,je){for(var ie="",de=0;de<4;de++)ie+=String.fromCharCode(ge[je++]);return ie}function w(ge,je){return ge[je+0]|ge[je+1]<<8}function S(ge,je){return(ge[je+0]|ge[je+1]<<8|ge[je+2]<<16)>>>0}function F(ge,je){return(ge[je+0]|ge[je+1]<<8|ge[je+2]<<16|ge[je+3]<<24)>>>0}new y;var T=[0],z=[0],H=[],K=new y,q=e,ne=(function(ge,je){var ie={},de=0,Fe=!1,Le=0,it=0;if(ie.frames=[],!(function(ee,ye){for(var Te=0;Te<4;Te++)if(ee[ye+Te]!="RIFF".charCodeAt(Te))return!0;return!1})(ge,je)){for(F(ge,je+=4),je+=8;je<ge.length;){var Pe=b(ge,je),ke=F(ge,je+=4);je+=4;var Ge=ke+(1&ke);switch(Pe){case"VP8 ":case"VP8L":ie.frames[de]===void 0&&(ie.frames[de]={}),(be=ie.frames[de]).src_off=Fe?it:je-8,be.src_size=Le+ke+8,de++,Fe&&(Fe=!1,Le=0,it=0);break;case"VP8X":(be=ie.header={}).feature_flags=ge[je];var Oe=je+4;be.canvas_width=1+S(ge,Oe),Oe+=3,be.canvas_height=1+S(ge,Oe),Oe+=3;break;case"ALPH":Fe=!0,Le=Ge+8,it=je-8;break;case"ANIM":(be=ie.header).bgcolor=F(ge,je),Oe=je+4,be.loop_count=w(ge,Oe),Oe+=2;break;case"ANMF":var st,be;(be=ie.frames[de]={}).offset_x=2*S(ge,je),je+=3,be.offset_y=2*S(ge,je),je+=3,be.width=1+S(ge,je),je+=3,be.height=1+S(ge,je),je+=3,be.duration=S(ge,je),je+=3,st=ge[je++],be.dispose=1&st,be.blend=st>>1&1}Pe!="ANMF"&&(je+=Ge)}return ie}})(q,0);ne.response=q,ne.rgbaoutput=!0,ne.dataurl=!1;var W=ne.header?ne.header:null,le=ne.frames?ne.frames:null;if(W){W.loop_counter=W.loop_count,T=[W.canvas_height],z=[W.canvas_width];for(var ce=0;ce<le.length&&le[ce].blend!=0;ce++);}var me=le[0],Ee=K.WebPDecodeRGBA(q,me.src_off,me.src_size,z,T);me.rgba=Ee,me.imgwidth=z[0],me.imgheight=T[0];for(var Ie=0;Ie<z[0]*T[0]*4;Ie++)H[Ie]=Ee[Ie];return this.width=z,this.height=T,this.data=H,this}(function(e){var t,r,n,s,A,d,l,y,b,w=function(ee){return ee=ee||{},this.isStrokeTransparent=ee.isStrokeTransparent||!1,this.strokeOpacity=ee.strokeOpacity||1,this.strokeStyle=ee.strokeStyle||"#000000",this.fillStyle=ee.fillStyle||"#000000",this.isFillTransparent=ee.isFillTransparent||!1,this.fillOpacity=ee.fillOpacity||1,this.font=ee.font||"10px sans-serif",this.textBaseline=ee.textBaseline||"alphabetic",this.textAlign=ee.textAlign||"left",this.lineWidth=ee.lineWidth||1,this.lineJoin=ee.lineJoin||"miter",this.lineCap=ee.lineCap||"butt",this.path=ee.path||[],this.transform=ee.transform!==void 0?ee.transform.clone():new y,this.globalCompositeOperation=ee.globalCompositeOperation||"normal",this.globalAlpha=ee.globalAlpha||1,this.clip_path=ee.clip_path||[],this.currentPoint=ee.currentPoint||new d,this.miterLimit=ee.miterLimit||10,this.lastPoint=ee.lastPoint||new d,this.lineDashOffset=ee.lineDashOffset||0,this.lineDash=ee.lineDash||[],this.margin=ee.margin||[0,0,0,0],this.prevPageLastElemOffset=ee.prevPageLastElemOffset||0,this.ignoreClearRect=typeof ee.ignoreClearRect!="boolean"||ee.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new S(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,A=this.internal.getVerticalCoordinate,d=this.internal.Point,l=this.internal.Rectangle,y=this.internal.Matrix,b=new w}]);var S=function(ee){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var ye=ee;Object.defineProperty(this,"pdf",{get:function(){return ye}});var Te=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Te},set:function(Me){Te=!!Me}});var Ne=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Ne},set:function(Me){Ne=!!Me}});var Ze=0;Object.defineProperty(this,"posX",{get:function(){return Ze},set:function(Me){isNaN(Me)||(Ze=Me)}});var et=0;Object.defineProperty(this,"posY",{get:function(){return et},set:function(Me){isNaN(Me)||(et=Me)}}),Object.defineProperty(this,"margin",{get:function(){return b.margin},set:function(Me){var Ye;typeof Me=="number"?Ye=[Me,Me,Me,Me]:((Ye=new Array(4))[0]=Me[0],Ye[1]=Me.length>=2?Me[1]:Ye[0],Ye[2]=Me.length>=3?Me[2]:Ye[0],Ye[3]=Me.length>=4?Me[3]:Ye[1]),b.margin=Ye}});var gt=!1;Object.defineProperty(this,"autoPaging",{get:function(){return gt},set:function(Me){gt=Me}});var Ke=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ke},set:function(Me){Ke=Me}});var pt=[];Object.defineProperty(this,"pageBreaks",{get:function(){return pt},set:function(Me){pt=Me}}),Object.defineProperty(this,"ctx",{get:function(){return b},set:function(Me){Me instanceof w&&(b=Me)}}),Object.defineProperty(this,"path",{get:function(){return b.path},set:function(Me){b.path=Me}});var Ct=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ct},set:function(Me){Ct=Me}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Me){var Ye;Ye=F(Me),this.ctx.fillStyle=Ye.style,this.ctx.isFillTransparent=Ye.a===0,this.ctx.fillOpacity=Ye.a,this.pdf.setFillColor(Ye.r,Ye.g,Ye.b,{a:Ye.a}),this.pdf.setTextColor(Ye.r,Ye.g,Ye.b,{a:Ye.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Me){var Ye=F(Me);this.ctx.strokeStyle=Ye.style,this.ctx.isStrokeTransparent=Ye.a===0,this.ctx.strokeOpacity=Ye.a,Ye.a===0?this.pdf.setDrawColor(255,255,255):(Ye.a,this.pdf.setDrawColor(Ye.r,Ye.g,Ye.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Me){["butt","round","square"].indexOf(Me)!==-1&&(this.ctx.lineCap=Me,this.pdf.setLineCap(Me))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Me){isNaN(Me)||(this.ctx.lineWidth=Me,this.pdf.setLineWidth(Me))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Me){["bevel","round","miter"].indexOf(Me)!==-1&&(this.ctx.lineJoin=Me,this.pdf.setLineJoin(Me))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Me){isNaN(Me)||(this.ctx.miterLimit=Me,this.pdf.setMiterLimit(Me))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Me){this.ctx.textBaseline=Me}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Me){["right","end","center","left","start"].indexOf(Me)!==-1&&(this.ctx.textAlign=Me)}});var ct=null,qt=null,Xt=null;Object.defineProperty(this,"fontFaces",{get:function(){return Xt},set:function(Me){ct=null,qt=null,Xt=Me}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Me){var Ye;if(this.ctx.font=Me,(Ye=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(Me))!==null){var Nr=Ye[1];Ye[2];var Er=Ye[3],Tt=Ye[4];Ye[5];var nr=Ye[6],ur=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Tt)[2];Tt=Math.floor(ur==="px"?parseFloat(Tt)*this.pdf.internal.scaleFactor:ur==="em"?parseFloat(Tt)*this.pdf.getFontSize():parseFloat(Tt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Tt);var Tr=(function(fr){var ri,Pt,Zt=[],Gt=fr.trim();if(Gt==="")return B2;if(Gt in QF)return[QF[Gt]];for(;Gt!=="";){switch(Pt=null,ri=(Gt=RF(Gt)).charAt(0)){case'"':case"'":Pt=xse(Gt.substring(1),ri);break;default:Pt=Bse(Gt)}if(Pt===null||(Zt.push(Pt[0]),(Gt=RF(Pt[1]))!==""&&Gt.charAt(0)!==","))return B2;Gt=Gt.replace(/^,/,"")}return Zt})(nr);if(this.fontFaces){var Br=(function(fr,ri){var Pt=fr.getFontList(),Zt=JSON.stringify(Pt);if(ct===null||qt!==Zt){var Gt=(function(Xr){var _r=[];return Object.keys(Xr).forEach(function(sr){Xr[sr].forEach(function(Ur){var Rr=null;switch(Ur){case"bold":Rr={family:sr,weight:"bold"};break;case"italic":Rr={family:sr,style:"italic"};break;case"bolditalic":Rr={family:sr,weight:"bold",style:"italic"};break;case"":case"normal":Rr={family:sr}}Rr!==null&&(Rr.ref={name:sr,style:Ur},_r.push(Rr))})}),_r})(Pt);ct=(function(Xr){for(var _r={},sr=0;sr<Xr.length;++sr){var Ur=x2(Xr[sr]),Rr=Ur.family,kn=Ur.stretch,Gr=Ur.style,Ue=Ur.weight;_r[Rr]=_r[Rr]||{},_r[Rr][kn]=_r[Rr][kn]||{},_r[Rr][kn][Gr]=_r[Rr][kn][Gr]||{},_r[Rr][kn][Gr][Ue]=Ur}return _r})(Gt.concat(ri)),qt=Zt}return ct})(this.pdf,this.fontFaces),rn=Tr.map(function(fr){return{family:fr,stretch:"normal",weight:Er,style:Nr}}),nn=(function(fr,ri,Pt){for(var Zt=(Pt=Pt||{}).defaultFontFamily||"times",Gt=Object.assign({},wse,Pt.genericFontFamilies||{}),Xr=null,_r=null,sr=0;sr<ri.length;++sr)if(Gt[(Xr=x2(ri[sr])).family]&&(Xr.family=Gt[Xr.family]),fr.hasOwnProperty(Xr.family)){_r=fr[Xr.family];break}if(!(_r=_r||fr[Zt]))throw new Error("Could not find a font-family for the rule '"+NF(Xr)+"' and default family '"+Zt+"'.");if(_r=(function(Ur,Rr){if(Rr[Ur])return Rr[Ur];var kn=a5[Ur],Gr=kn<=a5.normal?-1:1,Ue=kF(Rr,WD,kn,Gr);if(!Ue)throw new Error("Could not find a matching font-stretch value for "+Ur);return Ue})(Xr.stretch,_r),_r=(function(Ur,Rr){if(Rr[Ur])return Rr[Ur];for(var kn=ZD[Ur],Gr=0;Gr<kn.length;++Gr)if(Rr[kn[Gr]])return Rr[kn[Gr]];throw new Error("Could not find a matching font-style for "+Ur)})(Xr.style,_r),!(_r=(function(Ur,Rr){if(Rr[Ur])return Rr[Ur];if(Ur===400&&Rr[500])return Rr[500];if(Ur===500&&Rr[400])return Rr[400];var kn=bse[Ur],Gr=kF(Rr,YD,kn,Ur<400?-1:1);if(!Gr)throw new Error("Could not find a matching font-weight for value "+Ur);return Gr})(Xr.weight,_r)))throw new Error("Failed to resolve a font for the rule '"+NF(Xr)+"'.");return _r})(Br,rn);this.pdf.setFont(nn.ref.name,nn.ref.style)}else{var Jr="";(Er==="bold"||parseInt(Er,10)>=700||Nr==="bold")&&(Jr="bold"),Nr==="italic"&&(Jr+="italic"),Jr.length===0&&(Jr="normal");for(var yn="",Ft={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},cr=0;cr<Tr.length;cr++){if(this.pdf.internal.getFont(Tr[cr],Jr,{noFallback:!0,disableWarning:!0})!==void 0){yn=Tr[cr];break}if(Jr==="bolditalic"&&this.pdf.internal.getFont(Tr[cr],"bold",{noFallback:!0,disableWarning:!0})!==void 0)yn=Tr[cr],Jr="bold";else if(this.pdf.internal.getFont(Tr[cr],"normal",{noFallback:!0,disableWarning:!0})!==void 0){yn=Tr[cr],Jr="normal";break}}if(yn===""){for(var Pr=0;Pr<Tr.length;Pr++)if(Ft[Tr[Pr]]){yn=Ft[Tr[Pr]];break}}yn=yn===""?"Times":yn,this.pdf.setFont(yn,Jr)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Me){this.ctx.globalCompositeOperation=Me}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Me){this.ctx.globalAlpha=Me}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Me){this.ctx.lineDashOffset=Me,be.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Me){this.ctx.lineDash=Me,be.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Me){this.ctx.ignoreClearRect=!!Me}})};S.prototype.setLineDash=function(ee){this.lineDash=ee},S.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},S.prototype.fill=function(){le.call(this,"fill",!1)},S.prototype.stroke=function(){le.call(this,"stroke",!1)},S.prototype.beginPath=function(){this.path=[{type:"begin"}]},S.prototype.moveTo=function(ee,ye){if(isNaN(ee)||isNaN(ye))throw aa.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Te=this.ctx.transform.applyToPoint(new d(ee,ye));this.path.push({type:"mt",x:Te.x,y:Te.y}),this.ctx.lastPoint=new d(ee,ye)},S.prototype.closePath=function(){var ee=new d(0,0),ye=0;for(ye=this.path.length-1;ye!==-1;ye--)if(this.path[ye].type==="begin"&&Ni(this.path[ye+1])==="object"&&typeof this.path[ye+1].x=="number"){ee=new d(this.path[ye+1].x,this.path[ye+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new d(ee.x,ee.y)},S.prototype.lineTo=function(ee,ye){if(isNaN(ee)||isNaN(ye))throw aa.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Te=this.ctx.transform.applyToPoint(new d(ee,ye));this.path.push({type:"lt",x:Te.x,y:Te.y}),this.ctx.lastPoint=new d(Te.x,Te.y)},S.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),le.call(this,null,!0)},S.prototype.quadraticCurveTo=function(ee,ye,Te,Ne){if(isNaN(Te)||isNaN(Ne)||isNaN(ee)||isNaN(ye))throw aa.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Ze=this.ctx.transform.applyToPoint(new d(Te,Ne)),et=this.ctx.transform.applyToPoint(new d(ee,ye));this.path.push({type:"qct",x1:et.x,y1:et.y,x:Ze.x,y:Ze.y}),this.ctx.lastPoint=new d(Ze.x,Ze.y)},S.prototype.bezierCurveTo=function(ee,ye,Te,Ne,Ze,et){if(isNaN(Ze)||isNaN(et)||isNaN(ee)||isNaN(ye)||isNaN(Te)||isNaN(Ne))throw aa.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var gt=this.ctx.transform.applyToPoint(new d(Ze,et)),Ke=this.ctx.transform.applyToPoint(new d(ee,ye)),pt=this.ctx.transform.applyToPoint(new d(Te,Ne));this.path.push({type:"bct",x1:Ke.x,y1:Ke.y,x2:pt.x,y2:pt.y,x:gt.x,y:gt.y}),this.ctx.lastPoint=new d(gt.x,gt.y)},S.prototype.arc=function(ee,ye,Te,Ne,Ze,et){if(isNaN(ee)||isNaN(ye)||isNaN(Te)||isNaN(Ne)||isNaN(Ze))throw aa.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(et=!!et,!this.ctx.transform.isIdentity){var gt=this.ctx.transform.applyToPoint(new d(ee,ye));ee=gt.x,ye=gt.y;var Ke=this.ctx.transform.applyToPoint(new d(0,Te)),pt=this.ctx.transform.applyToPoint(new d(0,0));Te=Math.sqrt(Math.pow(Ke.x-pt.x,2)+Math.pow(Ke.y-pt.y,2))}Math.abs(Ze-Ne)>=2*Math.PI&&(Ne=0,Ze=2*Math.PI),this.path.push({type:"arc",x:ee,y:ye,radius:Te,startAngle:Ne,endAngle:Ze,counterclockwise:et})},S.prototype.arcTo=function(ee,ye,Te,Ne,Ze){throw new Error("arcTo not implemented.")},S.prototype.rect=function(ee,ye,Te,Ne){if(isNaN(ee)||isNaN(ye)||isNaN(Te)||isNaN(Ne))throw aa.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(ee,ye),this.lineTo(ee+Te,ye),this.lineTo(ee+Te,ye+Ne),this.lineTo(ee,ye+Ne),this.lineTo(ee,ye),this.lineTo(ee+Te,ye),this.lineTo(ee,ye)},S.prototype.fillRect=function(ee,ye,Te,Ne){if(isNaN(ee)||isNaN(ye)||isNaN(Te)||isNaN(Ne))throw aa.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!T.call(this)){var Ze={};this.lineCap!=="butt"&&(Ze.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Ze.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(ee,ye,Te,Ne),this.fill(),Ze.hasOwnProperty("lineCap")&&(this.lineCap=Ze.lineCap),Ze.hasOwnProperty("lineJoin")&&(this.lineJoin=Ze.lineJoin)}},S.prototype.strokeRect=function(ee,ye,Te,Ne){if(isNaN(ee)||isNaN(ye)||isNaN(Te)||isNaN(Ne))throw aa.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");z.call(this)||(this.beginPath(),this.rect(ee,ye,Te,Ne),this.stroke())},S.prototype.clearRect=function(ee,ye,Te,Ne){if(isNaN(ee)||isNaN(ye)||isNaN(Te)||isNaN(Ne))throw aa.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(ee,ye,Te,Ne))},S.prototype.save=function(ee){ee=typeof ee!="boolean"||ee;for(var ye=this.pdf.internal.getCurrentPageInfo().pageNumber,Te=0;Te<this.pdf.internal.getNumberOfPages();Te++)this.pdf.setPage(Te+1),this.pdf.internal.out("q");if(this.pdf.setPage(ye),ee){this.ctx.fontSize=this.pdf.internal.getFontSize();var Ne=new w(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Ne}},S.prototype.restore=function(ee){ee=typeof ee!="boolean"||ee;for(var ye=this.pdf.internal.getCurrentPageInfo().pageNumber,Te=0;Te<this.pdf.internal.getNumberOfPages();Te++)this.pdf.setPage(Te+1),this.pdf.internal.out("Q");this.pdf.setPage(ye),ee&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},S.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var F=function(ee){var ye,Te,Ne,Ze;if(ee.isCanvasGradient===!0&&(ee=ee.getColor()),!ee)return{r:0,g:0,b:0,a:0,style:ee};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(ee))ye=0,Te=0,Ne=0,Ze=0;else{var et=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(ee);if(et!==null)ye=parseInt(et[1]),Te=parseInt(et[2]),Ne=parseInt(et[3]),Ze=1;else if((et=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(ee))!==null)ye=parseInt(et[1]),Te=parseInt(et[2]),Ne=parseInt(et[3]),Ze=parseFloat(et[4]);else{if(Ze=1,typeof ee=="string"&&ee.charAt(0)!=="#"){var gt=new jD(ee);ee=gt.ok?gt.toHex():"#000000"}ee.length===4?(ye=ee.substring(1,2),ye+=ye,Te=ee.substring(2,3),Te+=Te,Ne=ee.substring(3,4),Ne+=Ne):(ye=ee.substring(1,3),Te=ee.substring(3,5),Ne=ee.substring(5,7)),ye=parseInt(ye,16),Te=parseInt(Te,16),Ne=parseInt(Ne,16)}}return{r:ye,g:Te,b:Ne,a:Ze,style:ee}},T=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},z=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};S.prototype.fillText=function(ee,ye,Te,Ne){if(isNaN(ye)||isNaN(Te)||typeof ee!="string")throw aa.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Ne=isNaN(Ne)?void 0:Ne,!T.call(this)){var Ze=Ge(this.ctx.transform.rotation),et=this.ctx.transform.scaleX;de.call(this,{text:ee,x:ye,y:Te,scale:et,angle:Ze,align:this.textAlign,maxWidth:Ne})}},S.prototype.strokeText=function(ee,ye,Te,Ne){if(isNaN(ye)||isNaN(Te)||typeof ee!="string")throw aa.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!z.call(this)){Ne=isNaN(Ne)?void 0:Ne;var Ze=Ge(this.ctx.transform.rotation),et=this.ctx.transform.scaleX;de.call(this,{text:ee,x:ye,y:Te,scale:et,renderingMode:"stroke",angle:Ze,align:this.textAlign,maxWidth:Ne})}},S.prototype.measureText=function(ee){if(typeof ee!="string")throw aa.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var ye=this.pdf,Te=this.pdf.internal.scaleFactor,Ne=ye.internal.getFontSize(),Ze=ye.getStringUnitWidth(ee)*Ne/ye.internal.scaleFactor;return new function(et){var gt=(et=et||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return gt}}),this}({width:Ze*=Math.round(96*Te/72*1e4)/1e4})},S.prototype.scale=function(ee,ye){if(isNaN(ee)||isNaN(ye))throw aa.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Te=new y(ee,0,0,ye,0,0);this.ctx.transform=this.ctx.transform.multiply(Te)},S.prototype.rotate=function(ee){if(isNaN(ee))throw aa.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var ye=new y(Math.cos(ee),Math.sin(ee),-Math.sin(ee),Math.cos(ee),0,0);this.ctx.transform=this.ctx.transform.multiply(ye)},S.prototype.translate=function(ee,ye){if(isNaN(ee)||isNaN(ye))throw aa.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Te=new y(1,0,0,1,ee,ye);this.ctx.transform=this.ctx.transform.multiply(Te)},S.prototype.transform=function(ee,ye,Te,Ne,Ze,et){if(isNaN(ee)||isNaN(ye)||isNaN(Te)||isNaN(Ne)||isNaN(Ze)||isNaN(et))throw aa.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var gt=new y(ee,ye,Te,Ne,Ze,et);this.ctx.transform=this.ctx.transform.multiply(gt)},S.prototype.setTransform=function(ee,ye,Te,Ne,Ze,et){ee=isNaN(ee)?1:ee,ye=isNaN(ye)?0:ye,Te=isNaN(Te)?0:Te,Ne=isNaN(Ne)?1:Ne,Ze=isNaN(Ze)?0:Ze,et=isNaN(et)?0:et,this.ctx.transform=new y(ee,ye,Te,Ne,Ze,et)};var H=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};S.prototype.drawImage=function(ee,ye,Te,Ne,Ze,et,gt,Ke,pt){var Ct=this.pdf.getImageProperties(ee),ct=1,qt=1,Xt=1,Me=1;Ne!==void 0&&Ke!==void 0&&(Xt=Ke/Ne,Me=pt/Ze,ct=Ct.width/Ne*Ke/Ne,qt=Ct.height/Ze*pt/Ze),et===void 0&&(et=ye,gt=Te,ye=0,Te=0),Ne!==void 0&&Ke===void 0&&(Ke=Ne,pt=Ze),Ne===void 0&&Ke===void 0&&(Ke=Ct.width,pt=Ct.height);var Ye=this.ctx.transform.decompose(),Nr=Ge(Ye.rotate.shx),Er=new y,Tt=(Er=(Er=(Er=Er.multiply(Ye.translate)).multiply(Ye.skew)).multiply(Ye.scale)).applyToRectangle(new l(et-ye*Xt,gt-Te*Me,Ne*ct,Ze*qt));if(this.autoPaging){for(var nr,ur=K.call(this,Tt),Tr=[],Br=0;Br<ur.length;Br+=1)Tr.indexOf(ur[Br])===-1&&Tr.push(ur[Br]);W(Tr);for(var rn=Tr[0],nn=Tr[Tr.length-1],Jr=rn;Jr<nn+1;Jr++){this.pdf.setPage(Jr);var yn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ft=Jr===1?this.posY+this.margin[0]:this.margin[0],cr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Pr=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],fr=Jr===1?0:cr+(Jr-2)*Pr;if(this.ctx.clip_path.length!==0){var ri=this.path;nr=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=ne(nr,this.posX+this.margin[3],-fr+Ft+this.ctx.prevPageLastElemOffset),ce.call(this,"fill",!0),this.path=ri}var Pt=JSON.parse(JSON.stringify(Tt));Pt=ne([Pt],this.posX+this.margin[3],-fr+Ft+this.ctx.prevPageLastElemOffset)[0];var Zt=(Jr>rn||Jr<nn)&&H.call(this);Zt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],yn,Pr,null).clip().discardPath()),this.pdf.addImage(ee,"JPEG",Pt.x,Pt.y,Pt.w,Pt.h,null,null,Nr),Zt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(ee,"JPEG",Tt.x,Tt.y,Tt.w,Tt.h,null,null,Nr)};var K=function(ee,ye,Te){var Ne=[];ye=ye||this.pdf.internal.pageSize.width,Te=Te||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Ze=this.posY+this.ctx.prevPageLastElemOffset;switch(ee.type){default:case"mt":case"lt":Ne.push(Math.floor((ee.y+Ze)/Te)+1);break;case"arc":Ne.push(Math.floor((ee.y+Ze-ee.radius)/Te)+1),Ne.push(Math.floor((ee.y+Ze+ee.radius)/Te)+1);break;case"qct":var et=Oe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,ee.x1,ee.y1,ee.x,ee.y);Ne.push(Math.floor((et.y+Ze)/Te)+1),Ne.push(Math.floor((et.y+et.h+Ze)/Te)+1);break;case"bct":var gt=st(this.ctx.lastPoint.x,this.ctx.lastPoint.y,ee.x1,ee.y1,ee.x2,ee.y2,ee.x,ee.y);Ne.push(Math.floor((gt.y+Ze)/Te)+1),Ne.push(Math.floor((gt.y+gt.h+Ze)/Te)+1);break;case"rect":Ne.push(Math.floor((ee.y+Ze)/Te)+1),Ne.push(Math.floor((ee.y+ee.h+Ze)/Te)+1)}for(var Ke=0;Ke<Ne.length;Ke+=1)for(;this.pdf.internal.getNumberOfPages()<Ne[Ke];)q.call(this);return Ne},q=function(){var ee=this.fillStyle,ye=this.strokeStyle,Te=this.font,Ne=this.lineCap,Ze=this.lineWidth,et=this.lineJoin;this.pdf.addPage(),this.fillStyle=ee,this.strokeStyle=ye,this.font=Te,this.lineCap=Ne,this.lineWidth=Ze,this.lineJoin=et},ne=function(ee,ye,Te){for(var Ne=0;Ne<ee.length;Ne++)switch(ee[Ne].type){case"bct":ee[Ne].x2+=ye,ee[Ne].y2+=Te;case"qct":ee[Ne].x1+=ye,ee[Ne].y1+=Te;default:ee[Ne].x+=ye,ee[Ne].y+=Te}return ee},W=function(ee){return ee.sort(function(ye,Te){return ye-Te})},le=function(ee,ye){var Te=this.fillStyle,Ne=this.strokeStyle,Ze=this.lineCap,et=this.lineWidth,gt=Math.abs(et*this.ctx.transform.scaleX),Ke=this.lineJoin;if(this.autoPaging){for(var pt,Ct,ct=JSON.parse(JSON.stringify(this.path)),qt=JSON.parse(JSON.stringify(this.path)),Xt=[],Me=0;Me<qt.length;Me++)if(qt[Me].x!==void 0)for(var Ye=K.call(this,qt[Me]),Nr=0;Nr<Ye.length;Nr+=1)Xt.indexOf(Ye[Nr])===-1&&Xt.push(Ye[Nr]);for(var Er=0;Er<Xt.length;Er++)for(;this.pdf.internal.getNumberOfPages()<Xt[Er];)q.call(this);W(Xt);for(var Tt=Xt[0],nr=Xt[Xt.length-1],ur=Tt;ur<nr+1;ur++){this.pdf.setPage(ur),this.fillStyle=Te,this.strokeStyle=Ne,this.lineCap=Ze,this.lineWidth=gt,this.lineJoin=Ke;var Tr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Br=ur===1?this.posY+this.margin[0]:this.margin[0],rn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],nn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Jr=ur===1?0:rn+(ur-2)*nn;if(this.ctx.clip_path.length!==0){var yn=this.path;pt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=ne(pt,this.posX+this.margin[3],-Jr+Br+this.ctx.prevPageLastElemOffset),ce.call(this,ee,!0),this.path=yn}if(Ct=JSON.parse(JSON.stringify(ct)),this.path=ne(Ct,this.posX+this.margin[3],-Jr+Br+this.ctx.prevPageLastElemOffset),ye===!1||ur===0){var Ft=(ur>Tt||ur<nr)&&H.call(this);Ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Tr,nn,null).clip().discardPath()),ce.call(this,ee,ye),Ft&&this.pdf.restoreGraphicsState()}this.lineWidth=et}this.path=ct}else this.lineWidth=gt,ce.call(this,ee,ye),this.lineWidth=et},ce=function(ee,ye){if((ee!=="stroke"||ye||!z.call(this))&&(ee==="stroke"||ye||!T.call(this))){for(var Te,Ne,Ze=[],et=this.path,gt=0;gt<et.length;gt++){var Ke=et[gt];switch(Ke.type){case"begin":Ze.push({begin:!0});break;case"close":Ze.push({close:!0});break;case"mt":Ze.push({start:Ke,deltas:[],abs:[]});break;case"lt":var pt=Ze.length;if(et[gt-1]&&!isNaN(et[gt-1].x)&&(Te=[Ke.x-et[gt-1].x,Ke.y-et[gt-1].y],pt>0)){for(;pt>=0;pt--)if(Ze[pt-1].close!==!0&&Ze[pt-1].begin!==!0){Ze[pt-1].deltas.push(Te),Ze[pt-1].abs.push(Ke);break}}break;case"bct":Te=[Ke.x1-et[gt-1].x,Ke.y1-et[gt-1].y,Ke.x2-et[gt-1].x,Ke.y2-et[gt-1].y,Ke.x-et[gt-1].x,Ke.y-et[gt-1].y],Ze[Ze.length-1].deltas.push(Te);break;case"qct":var Ct=et[gt-1].x+2/3*(Ke.x1-et[gt-1].x),ct=et[gt-1].y+2/3*(Ke.y1-et[gt-1].y),qt=Ke.x+2/3*(Ke.x1-Ke.x),Xt=Ke.y+2/3*(Ke.y1-Ke.y),Me=Ke.x,Ye=Ke.y;Te=[Ct-et[gt-1].x,ct-et[gt-1].y,qt-et[gt-1].x,Xt-et[gt-1].y,Me-et[gt-1].x,Ye-et[gt-1].y],Ze[Ze.length-1].deltas.push(Te);break;case"arc":Ze.push({deltas:[],abs:[],arc:!0}),Array.isArray(Ze[Ze.length-1].abs)&&Ze[Ze.length-1].abs.push(Ke)}}Ne=ye?null:ee==="stroke"?"stroke":"fill";for(var Nr=!1,Er=0;Er<Ze.length;Er++)if(Ze[Er].arc)for(var Tt=Ze[Er].abs,nr=0;nr<Tt.length;nr++){var ur=Tt[nr];ur.type==="arc"?Ie.call(this,ur.x,ur.y,ur.radius,ur.startAngle,ur.endAngle,ur.counterclockwise,void 0,ye,!Nr):Fe.call(this,ur.x,ur.y),Nr=!0}else if(Ze[Er].close===!0)this.pdf.internal.out("h"),Nr=!1;else if(Ze[Er].begin!==!0){var Tr=Ze[Er].start.x,Br=Ze[Er].start.y;Le.call(this,Ze[Er].deltas,Tr,Br),Nr=!0}Ne&&ge.call(this,Ne),ye&&je.call(this)}},me=function(ee){var ye=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Te=ye*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return ee-Te;case"top":return ee+ye-Te;case"hanging":return ee+ye-2*Te;case"middle":return ee+ye/2-Te;default:return ee}},Ee=function(ee){return ee+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};S.prototype.createLinearGradient=function(){var ee=function(){};return ee.colorStops=[],ee.addColorStop=function(ye,Te){this.colorStops.push([ye,Te])},ee.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},ee.isCanvasGradient=!0,ee},S.prototype.createPattern=function(){return this.createLinearGradient()},S.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Ie=function(ee,ye,Te,Ne,Ze,et,gt,Ke,pt){for(var Ct=Pe.call(this,Te,Ne,Ze,et),ct=0;ct<Ct.length;ct++){var qt=Ct[ct];ct===0&&(pt?ie.call(this,qt.x1+ee,qt.y1+ye):Fe.call(this,qt.x1+ee,qt.y1+ye)),it.call(this,ee,ye,qt.x2,qt.y2,qt.x3,qt.y3,qt.x4,qt.y4)}Ke?je.call(this):ge.call(this,gt)},ge=function(ee){switch(ee){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},je=function(){this.pdf.clip(),this.pdf.discardPath()},ie=function(ee,ye){this.pdf.internal.out(r(ee)+" "+n(ye)+" m")},de=function(ee){var ye;switch(ee.align){case"right":case"end":ye="right";break;case"center":ye="center";break;default:ye="left"}var Te,Ne,Ze,et=this.pdf.getTextDimensions(ee.text),gt=me.call(this,ee.y),Ke=Ee.call(this,gt)-et.h,pt=this.ctx.transform.applyToPoint(new d(ee.x,gt));if(this.autoPaging){var Ct=this.ctx.transform.decompose(),ct=new y;ct=(ct=(ct=ct.multiply(Ct.translate)).multiply(Ct.skew)).multiply(Ct.scale);for(var qt=this.ctx.transform.applyToRectangle(new l(ee.x,gt,et.w,et.h)),Xt=ct.applyToRectangle(new l(ee.x,Ke,et.w,et.h)),Me=K.call(this,Xt),Ye=[],Nr=0;Nr<Me.length;Nr+=1)Ye.indexOf(Me[Nr])===-1&&Ye.push(Me[Nr]);W(Ye);for(var Er=Ye[0],Tt=Ye[Ye.length-1],nr=Er;nr<Tt+1;nr++){this.pdf.setPage(nr);var ur=nr===1?this.posY+this.margin[0]:this.margin[0],Tr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Br=this.pdf.internal.pageSize.height-this.margin[2],rn=Br-this.margin[0],nn=this.pdf.internal.pageSize.width-this.margin[1],Jr=nn-this.margin[3],yn=nr===1?0:Tr+(nr-2)*rn;if(this.ctx.clip_path.length!==0){var Ft=this.path;Te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=ne(Te,this.posX+this.margin[3],-1*yn+ur),ce.call(this,"fill",!0),this.path=Ft}var cr=ne([JSON.parse(JSON.stringify(Xt))],this.posX+this.margin[3],-yn+ur+this.ctx.prevPageLastElemOffset)[0];ee.scale>=.01&&(Ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ne*ee.scale),Ze=this.lineWidth,this.lineWidth=Ze*ee.scale);var Pr=this.autoPaging!=="text";if(Pr||cr.y+cr.h<=Br){if(Pr||cr.y>=ur&&cr.x<=nn){var fr=Pr?ee.text:this.pdf.splitTextToSize(ee.text,ee.maxWidth||nn-cr.x)[0],ri=ne([JSON.parse(JSON.stringify(qt))],this.posX+this.margin[3],-yn+ur+this.ctx.prevPageLastElemOffset)[0],Pt=Pr&&(nr>Er||nr<Tt)&&H.call(this);Pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Jr,rn,null).clip().discardPath()),this.pdf.text(fr,ri.x,ri.y,{angle:ee.angle,align:ye,renderingMode:ee.renderingMode}),Pt&&this.pdf.restoreGraphicsState()}}else cr.y<Br&&(this.ctx.prevPageLastElemOffset+=Br-cr.y);ee.scale>=.01&&(this.pdf.setFontSize(Ne),this.lineWidth=Ze)}}else ee.scale>=.01&&(Ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ne*ee.scale),Ze=this.lineWidth,this.lineWidth=Ze*ee.scale),this.pdf.text(ee.text,pt.x+this.posX,pt.y+this.posY,{angle:ee.angle,align:ye,renderingMode:ee.renderingMode,maxWidth:ee.maxWidth}),ee.scale>=.01&&(this.pdf.setFontSize(Ne),this.lineWidth=Ze)},Fe=function(ee,ye,Te,Ne){Te=Te||0,Ne=Ne||0,this.pdf.internal.out(r(ee+Te)+" "+n(ye+Ne)+" l")},Le=function(ee,ye,Te){return this.pdf.lines(ee,ye,Te,null,null)},it=function(ee,ye,Te,Ne,Ze,et,gt,Ke){this.pdf.internal.out([t(s(Te+ee)),t(A(Ne+ye)),t(s(Ze+ee)),t(A(et+ye)),t(s(gt+ee)),t(A(Ke+ye)),"c"].join(" "))},Pe=function(ee,ye,Te,Ne){for(var Ze=2*Math.PI,et=Math.PI/2;ye>Te;)ye-=Ze;var gt=Math.abs(Te-ye);gt<Ze&&Ne&&(gt=Ze-gt);for(var Ke=[],pt=Ne?-1:1,Ct=ye;gt>1e-5;){var ct=Ct+pt*Math.min(gt,et);Ke.push(ke.call(this,ee,Ct,ct)),gt-=Math.abs(ct-Ct),Ct=ct}return Ke},ke=function(ee,ye,Te){var Ne=(Te-ye)/2,Ze=ee*Math.cos(Ne),et=ee*Math.sin(Ne),gt=Ze,Ke=-et,pt=gt*gt+Ke*Ke,Ct=pt+gt*Ze+Ke*et,ct=4/3*(Math.sqrt(2*pt*Ct)-Ct)/(gt*et-Ke*Ze),qt=gt-ct*Ke,Xt=Ke+ct*gt,Me=qt,Ye=-Xt,Nr=Ne+ye,Er=Math.cos(Nr),Tt=Math.sin(Nr);return{x1:ee*Math.cos(ye),y1:ee*Math.sin(ye),x2:qt*Er-Xt*Tt,y2:qt*Tt+Xt*Er,x3:Me*Er-Ye*Tt,y3:Me*Tt+Ye*Er,x4:ee*Math.cos(Te),y4:ee*Math.sin(Te)}},Ge=function(ee){return 180*ee/Math.PI},Oe=function(ee,ye,Te,Ne,Ze,et){var gt=ee+.5*(Te-ee),Ke=ye+.5*(Ne-ye),pt=Ze+.5*(Te-Ze),Ct=et+.5*(Ne-et),ct=Math.min(ee,Ze,gt,pt),qt=Math.max(ee,Ze,gt,pt),Xt=Math.min(ye,et,Ke,Ct),Me=Math.max(ye,et,Ke,Ct);return new l(ct,Xt,qt-ct,Me-Xt)},st=function(ee,ye,Te,Ne,Ze,et,gt,Ke){var pt,Ct,ct,qt,Xt,Me,Ye,Nr,Er,Tt,nr,ur,Tr,Br,rn=Te-ee,nn=Ne-ye,Jr=Ze-Te,yn=et-Ne,Ft=gt-Ze,cr=Ke-et;for(Ct=0;Ct<41;Ct++)Er=(Ye=(ct=ee+(pt=Ct/40)*rn)+pt*((Xt=Te+pt*Jr)-ct))+pt*(Xt+pt*(Ze+pt*Ft-Xt)-Ye),Tt=(Nr=(qt=ye+pt*nn)+pt*((Me=Ne+pt*yn)-qt))+pt*(Me+pt*(et+pt*cr-Me)-Nr),Ct==0?(nr=Er,ur=Tt,Tr=Er,Br=Tt):(nr=Math.min(nr,Er),ur=Math.min(ur,Tt),Tr=Math.max(Tr,Er),Br=Math.max(Br,Tt));return new l(Math.round(nr),Math.round(ur),Math.round(Tr-nr),Math.round(Br-ur))},be=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var ee,ye,Te=(ee=this.ctx.lineDash,ye=this.ctx.lineDashOffset,JSON.stringify({lineDash:ee,lineDashOffset:ye}));this.prevLineDash!==Te&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Te)}}})(Vr.API),(function(e){var t=function(d){var l,y,b,w,S,F,T,z,H,K;for(y=[],b=0,w=(d+=l="\0\0\0\0".slice(d.length%4||4)).length;w>b;b+=4)(S=(d.charCodeAt(b)<<24)+(d.charCodeAt(b+1)<<16)+(d.charCodeAt(b+2)<<8)+d.charCodeAt(b+3))!==0?(F=(S=((S=((S=((S=(S-(K=S%85))/85)-(H=S%85))/85)-(z=S%85))/85)-(T=S%85))/85)%85,y.push(F+33,T+33,z+33,H+33,K+33)):y.push(122);return(function(q,ne){for(var W=ne;W>0;W--)q.pop()})(y,l.length),String.fromCharCode.apply(String,y)+"~>"},r=function(d){var l,y,b,w,S,F=String,T="length",z=255,H="charCodeAt",K="slice",q="replace";for(d[K](-2),d=d[K](0,-2)[q](/\s/g,"")[q]("z","!!!!!"),b=[],w=0,S=(d+=l="uuuuu"[K](d[T]%5||5))[T];S>w;w+=5)y=52200625*(d[H](w)-33)+614125*(d[H](w+1)-33)+7225*(d[H](w+2)-33)+85*(d[H](w+3)-33)+(d[H](w+4)-33),b.push(z&y>>24,z&y>>16,z&y>>8,z&y);return(function(ne,W){for(var le=W;le>0;le--)ne.pop()})(b,l[T]),F.fromCharCode.apply(F,b)},n=function(d){return d.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(d){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((d=d.replace(/\s/g,"")).indexOf(">")!==-1&&(d=d.substr(0,d.indexOf(">"))),d.length%2&&(d+="0"),l.test(d)===!1)return"";for(var y="",b=0;b<d.length;b+=2)y+=String.fromCharCode("0x"+(d[b]+d[b+1]));return y},A=function(d){for(var l=new Uint8Array(d.length),y=d.length;y--;)l[y]=d.charCodeAt(y);return(l=YB(l)).reduce(function(b,w){return b+String.fromCharCode(w)},"")};e.processDataByFilters=function(d,l){var y=0,b=d||"",w=[];for(typeof(l=l||[])=="string"&&(l=[l]),y=0;y<l.length;y+=1)switch(l[y]){case"ASCII85Decode":case"/ASCII85Decode":b=r(b),w.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":b=t(b),w.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":b=s(b),w.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":b=n(b),w.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":b=A(b),w.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[y]+'" is not implemented')}return{data:b,reverseChain:w.reverse().join(" ")}}})(Vr.API),(function(e){e.loadFile=function(t,r,n){return(function(s,A,d){A=A!==!1,d=typeof d=="function"?d:function(){};var l=void 0;try{l=(function(y,b,w){var S=new XMLHttpRequest,F=0,T=function(z){var H=z.length,K=[],q=String.fromCharCode;for(F=0;F<H;F+=1)K.push(q(255&z.charCodeAt(F)));return K.join("")};if(S.open("GET",y,!b),S.overrideMimeType("text/plain; charset=x-user-defined"),b===!1&&(S.onload=function(){S.status===200?w(T(this.responseText)):w(void 0)}),S.send(null),b&&S.status===200)return T(S.responseText)})(s,A,d)}catch{}return l})(t,r,n)},e.loadImageFile=e.loadFile})(Vr.API),(function(e){function t(){return(mn.html2canvas?Promise.resolve(mn.html2canvas):a2(()=>Promise.resolve().then(()=>Jne),void 0)).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(mn.DOMPurify?Promise.resolve(mn.DOMPurify):a2(()=>import("./purify.es-C65SP4u9.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var y=Ni(l);return y==="undefined"?"undefined":y==="string"||l instanceof String?"string":y==="number"||l instanceof Number?"number":y==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":y==="object"?"object":"unknown"},s=function(l,y){var b=document.createElement(l);for(var w in y.className&&(b.className=y.className),y.innerHTML&&y.dompurify&&(b.innerHTML=y.dompurify.sanitize(y.innerHTML)),y.style)b.style[w]=y.style[w];return b},A=function l(y,b){for(var w=y.nodeType===3?document.createTextNode(y.nodeValue):y.cloneNode(!1),S=y.firstChild;S;S=S.nextSibling)b!==!0&&S.nodeType===1&&S.nodeName==="SCRIPT"||w.appendChild(l(S,b));return y.nodeType===1&&(y.nodeName==="CANVAS"?(w.width=y.width,w.height=y.height,w.getContext("2d").drawImage(y,0,0)):y.nodeName!=="TEXTAREA"&&y.nodeName!=="SELECT"||(w.value=y.value),w.addEventListener("load",function(){w.scrollTop=y.scrollTop,w.scrollLeft=y.scrollLeft},!0)),w},d=function l(y){var b=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),w=l.convert(Promise.resolve(),b);return(w=w.setProgress(1,l,1,[l])).set(y)};(d.prototype=Object.create(Promise.prototype)).constructor=d,d.convert=function(l,y){return l.__proto__=y||d.prototype,l},d.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},d.prototype.from=function(l,y){return this.then(function(){switch(y=y||(function(b){switch(n(b)){case"string":return"string";case"element":return b.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),y){case"string":return this.then(r).then(function(b){return this.set({src:s("div",{innerHTML:l,dompurify:b})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},d.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},d.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},y=A(this.prop.src,this.opt.html2canvas.javascriptEnabled);y.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(y),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},d.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(y){var b=Object.assign({},this.opt.html2canvas);return delete b.onrendered,y(this.prop.container,b)}).then(function(y){(this.opt.html2canvas.onrendered||function(){})(y),this.prop.canvas=y,document.body.removeChild(this.prop.overlay)})},d.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(y){var b=this.opt.jsPDF,w=this.opt.fontFaces,S=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,F=Object.assign({async:!0,allowTaint:!0,scale:S,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete F.onrendered,b.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,b.context2d.posX=this.opt.x,b.context2d.posY=this.opt.y,b.context2d.margin=this.opt.margin,b.context2d.fontFaces=w,w)for(var T=0;T<w.length;++T){var z=w[T],H=z.src.find(function(K){return K.format==="truetype"});H&&b.addFont(H.url,z.ref.name,z.ref.style)}return F.windowHeight=F.windowHeight||0,F.windowHeight=F.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):F.windowHeight,b.context2d.save(!0),y(this.prop.container,F)}).then(function(y){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(y),this.prop.canvas=y,document.body.removeChild(this.prop.overlay)})},d.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},d.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},d.prototype.output=function(l,y,b){return(b=b||"pdf").toLowerCase()==="img"||b.toLowerCase()==="image"?this.outputImg(l,y):this.outputPdf(l,y)},d.prototype.outputPdf=function(l,y){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,y)})},d.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},d.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},d.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},d.prototype.set=function(l){if(n(l)!=="object")return this;var y=Object.keys(l||{}).map(function(b){if(b in d.template.prop)return function(){this.prop[b]=l[b]};switch(b){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[b]=l[b]}}},this);return this.then(function(){return this.thenList(y)})},d.prototype.get=function(l,y){return this.then(function(){var b=l in d.template.prop?this.prop[l]:this.opt[l];return y?y(b):b})},d.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},d.prototype.setPageSize=function(l){function y(b,w){return Math.floor(b*w/72*96)}return this.then(function(){(l=l||Vr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:y(l.inner.width,l.k),height:y(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},d.prototype.setProgress=function(l,y,b,w){return l!=null&&(this.progress.val=l),y!=null&&(this.progress.state=y),b!=null&&(this.progress.n=b),w!=null&&(this.progress.stack=w),this.progress.ratio=this.progress.val/this.progress.state,this},d.prototype.updateProgress=function(l,y,b,w){return this.setProgress(l?this.progress.val+l:null,y||null,b?this.progress.n+b:null,w?this.progress.stack.concat(w):null)},d.prototype.then=function(l,y){var b=this;return this.thenCore(l,y,function(w,S){return b.updateProgress(null,null,1,[w]),Promise.prototype.then.call(this,function(F){return b.updateProgress(null,w),F}).then(w,S).then(function(F){return b.updateProgress(1),F})})},d.prototype.thenCore=function(l,y,b){b=b||Promise.prototype.then;var w=this;l&&(l=l.bind(w)),y&&(y=y.bind(w));var S=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?w:d.convert(Object.assign({},w),Promise.prototype),F=b.call(S,l,y);return d.convert(F,w.__proto__)},d.prototype.thenExternal=function(l,y){return Promise.prototype.then.call(this,l,y)},d.prototype.thenList=function(l){var y=this;return l.forEach(function(b){y=y.thenCore(b)}),y},d.prototype.catch=function(l){l&&(l=l.bind(this));var y=Promise.prototype.catch.call(this,l);return d.convert(y,this)},d.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},d.prototype.error=function(l){return this.then(function(){throw new Error(l)})},d.prototype.using=d.prototype.set,d.prototype.saveAs=d.prototype.save,d.prototype.export=d.prototype.output,d.prototype.run=d.prototype.then,Vr.getPageSize=function(l,y,b){if(Ni(l)==="object"){var w=l;l=w.orientation,y=w.unit||y,b=w.format||b}y=y||"mm",b=b||"a4",l=(""+(l||"P")).toLowerCase();var S,F=(""+b).toLowerCase(),T={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(y){case"pt":S=1;break;case"mm":S=72/25.4;break;case"cm":S=72/2.54;break;case"in":S=72;break;case"px":S=.75;break;case"pc":case"em":S=12;break;case"ex":S=6;break;default:throw"Invalid unit: "+y}var z,H=0,K=0;if(T.hasOwnProperty(F))H=T[F][1]/S,K=T[F][0]/S;else try{H=b[1],K=b[0]}catch{throw new Error("Invalid format: "+b)}if(l==="p"||l==="portrait")l="p",K>H&&(z=K,K=H,H=z);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",H>K&&(z=K,K=H,H=z)}return{width:K,height:H,unit:y,k:S,orientation:l}},e.html=function(l,y){(y=y||{}).callback=y.callback||function(){},y.html2canvas=y.html2canvas||{},y.html2canvas.canvas=y.html2canvas.canvas||this.canvas,y.jsPDF=y.jsPDF||this,y.fontFaces=y.fontFaces?y.fontFaces.map(x2):null;var b=new d(y);return y.worker?b:b.from(l).doCallback()}})(Vr.API),Vr.API.addJS=function(e){return HF=e,this.internal.events.subscribe("postPutResources",function(){m1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(m1+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),zF=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+HF+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){m1!==void 0&&zF!==void 0&&this.internal.out("/Names <</JavaScript "+m1+" 0 R>>")}),this},(function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=r.outline.render().split(/\r\n/),A=0;A<s.length;A++){var d=s[A],l=n.exec(d);if(l!=null){var y=l[1];r.internal.newObjectDeferredBegin(y,!1)}r.internal.write(d)}if(this.outline.createNamedDestinations){var b=this.internal.pages.length,w=[];for(A=0;A<b;A++){var S=r.internal.newObject();w.push(S);var F=r.internal.getPageInfo(A+1);r.internal.write("<< /D["+F.objId+" 0 R /XYZ null null null]>> endobj")}var T=r.internal.newObject();for(r.internal.write("<< /Names [ "),A=0;A<w.length;A++)r.internal.write("(page_"+(A+1)+")"+w[A]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+T+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,s,A){var d={title:s,options:A,children:[]};return n==null&&(n=this.root),n.children.push(d),d},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,A=0;A<n.children.length;A++){var d=n.children[A];this.objStart(d),this.line("/Title "+this.makeString(d.title)),this.line("/Parent "+this.makeRef(n)),A>0&&this.line("/Prev "+this.makeRef(n.children[A-1])),A<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[A+1])),d.children.length>0&&(this.line("/First "+this.makeRef(d.children[0])),this.line("/Last "+this.makeRef(d.children[d.children.length-1])));var l=this.count=this.count_r({count:0},d);if(l>0&&this.line("/Count "+l),d.options&&d.options.pageNumber){var y=r.internal.getPageInfo(d.options.pageNumber);this.line("/Dest ["+y.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var b=0;b<n.children.length;b++)this.renderItems(n.children[b])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,s){for(var A=0;A<s.children.length;A++)n.count++,this.count_r(n,s.children[A]);return n.count}}])})(Vr.API),(function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,s,A,d,l){var y,b=this.decode.DCT_DECODE,w=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=d||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,y=(function(S){for(var F,T=256*S.charCodeAt(4)+S.charCodeAt(5),z=S.length,H={width:0,height:0,numcomponents:1},K=4;K<z;K+=2){if(K+=T,t.indexOf(S.charCodeAt(K+1))!==-1){F=256*S.charCodeAt(K+5)+S.charCodeAt(K+6),H={width:256*S.charCodeAt(K+7)+S.charCodeAt(K+8),height:F,numcomponents:S.charCodeAt(K+9)};break}T=256*S.charCodeAt(K+2)+S.charCodeAt(K+3)}return H})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),y.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}w={data:r,width:y.width,height:y.height,colorSpace:l,bitsPerComponent:8,filter:b,index:n,alias:s}}return w}})(Vr.API),Vr.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var s,A=ose(e,{checkCrc:!0}),d=A.width,l=A.height,y=A.channels,b=A.palette,w=A.depth;s=b&&y===1?(function(Ie){for(var ge=Ie.width,je=Ie.height,ie=Ie.data,de=Ie.palette,Fe=Ie.depth,Le=!1,it=[],Pe=[],ke=void 0,Ge=!1,Oe=0,st=0;st<de.length;st++){var be=qI(de[st],4),ee=be[0],ye=be[1],Te=be[2],Ne=be[3];it.push(ee,ye,Te),Ne!=null&&(Ne===0?(Oe++,Pe.length<1&&Pe.push(st)):Ne<255&&(Ge=!0))}if(Ge||Oe>1){Le=!0,Pe=void 0;var Ze=ge*je;ke=new Uint8Array(Ze);for(var et=new DataView(ie.buffer),gt=0;gt<Ze;gt++){var Ke=C2(et,gt,Fe),pt=qI(de[Ke],4)[3];ke[gt]=pt}}else Oe===0&&(Pe=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:Le?8:void 0,colorBytes:ie,alphaBytes:ke,needSMask:Le,palette:it,mask:Pe}})(A):y===2||y===4?(function(Ie){for(var ge=Ie.data,je=Ie.width,ie=Ie.height,de=Ie.channels,Fe=Ie.depth,Le=de===2?"DeviceGray":"DeviceRGB",it=de-1,Pe=je*ie,ke=it,Ge=Pe*ke,Oe=1*Pe,st=Math.ceil(Ge*Fe/8),be=Math.ceil(Oe*Fe/8),ee=new Uint8Array(st),ye=new Uint8Array(be),Te=new DataView(ge.buffer),Ne=new DataView(ee.buffer),Ze=new DataView(ye.buffer),et=!1,gt=0;gt<Pe;gt++){for(var Ke=gt*de,pt=0;pt<ke;pt++)WF(Ne,C2(Te,Ke+pt,Fe),gt*ke+pt,Fe);var Ct=C2(Te,Ke+ke,Fe);Ct<(1<<Fe)-1&&(et=!0),WF(Ze,Ct,1*gt,Fe)}return{colorSpace:Le,colorsPerPixel:it,sMaskBitsPerComponent:et?Fe:void 0,colorBytes:ee,alphaBytes:ye,needSMask:et}})(A):(function(Ie){var ge=Ie.data,je=Ie.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:je,colorsPerPixel:je==="DeviceGray"?1:3,colorBytes:ge instanceof Uint16Array?(function(ie){for(var de=ie.length,Fe=new Uint8Array(2*de),Le=new DataView(Fe.buffer,Fe.byteOffset,Fe.byteLength),it=0;it<de;it++)Le.setUint16(2*it,ie[it],!1);return Fe})(ge):ge,needSMask:!1}})(A);var S,F,T,z=s,H=z.colorSpace,K=z.colorsPerPixel,q=z.sMaskBitsPerComponent,ne=z.colorBytes,W=z.alphaBytes,le=z.needSMask,ce=z.palette,me=z.mask,Ee=null;return n!==Vr.API.image_compression.NONE&&typeof YB=="function"?(Ee=(function(Ie){var ge;switch(Ie){case Vr.API.image_compression.FAST:ge=11;break;case Vr.API.image_compression.MEDIUM:ge=13;break;case Vr.API.image_compression.SLOW:ge=14;break;default:ge=12}return ge})(n),S=this.decode.FLATE_DECODE,F="/Predictor ".concat(Ee," /Colors ").concat(K," /BitsPerComponent ").concat(w," /Columns ").concat(d),e=qF(ne,Math.ceil(d*K*w/8),K,w,n),le&&(T=qF(W,Math.ceil(d*q/8),1,q,n))):(S=void 0,F=void 0,e=ne,le&&(T=W)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(T&&this.__addimage__.isArrayBuffer(T)||this.__addimage__.isArrayBufferView(T))&&(T=this.__addimage__.arrayBufferToBinaryString(T)),{alias:r,data:e,index:t,filter:S,decodeParameters:F,transparency:me,palette:ce,sMask:T,predictor:Ee,width:d,height:l,bitsPerComponent:w,sMaskBitsPerComponent:q,colorSpace:H}}},(function(e){e.processGIF89A=function(t,r,n,s){var A=new Tse(t),d=A.width,l=A.height,y=[];A.decodeAndBlitFrameRGBA(0,y);var b={data:y,width:d,height:l},w=new S2(100).encode(b,100);return e.processJPEG.call(this,w,r,n,s)},e.processGIF87A=e.processGIF89A})(Vr.API),Tc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),A=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:n,blue:r,quad:A}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Tc.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){aa.log("bit decode error:"+r)}},Tc.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var A=this.datav.getUint8(this.pos++,!0),d=n*this.width*4+8*s*4,l=0;l<8&&8*s+l<this.width;l++){var y=this.palette[A>>7-l&1];this.data[d+4*l]=y.blue,this.data[d+4*l+1]=y.green,this.data[d+4*l+2]=y.red,this.data[d+4*l+3]=255}r!==0&&(this.pos+=4-r)}},Tc.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<e;s++){var A=this.datav.getUint8(this.pos++,!0),d=n*this.width*4+2*s*4,l=A>>4,y=15&A,b=this.palette[l];if(this.data[d]=b.blue,this.data[d+1]=b.green,this.data[d+2]=b.red,this.data[d+3]=255,2*s+1>=this.width)break;b=this.palette[y],this.data[d+4]=b.blue,this.data[d+4+1]=b.green,this.data[d+4+2]=b.red,this.data[d+4+3]=255}t!==0&&(this.pos+=4-t)}},Tc.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),A=r*this.width*4+4*n;if(s<this.palette.length){var d=this.palette[s];this.data[A]=d.red,this.data[A+1]=d.green,this.data[A+2]=d.blue,this.data[A+3]=255}else this.data[A]=255,this.data[A+1]=255,this.data[A+2]=255,this.data[A+3]=255}e!==0&&(this.pos+=4-e)}},Tc.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var A=this.datav.getUint16(this.pos,!0);this.pos+=2;var d=(A&t)/t*255|0,l=(A>>5&t)/t*255|0,y=(A>>10&t)/t*255|0,b=A>>15?255:0,w=n*this.width*4+4*s;this.data[w]=y,this.data[w+1]=l,this.data[w+2]=d,this.data[w+3]=b}this.pos+=e}},Tc.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,A=0;A<this.width;A++){var d=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(d&t)/t*255|0,y=(d>>5&r)/r*255|0,b=(d>>11)/t*255|0,w=s*this.width*4+4*A;this.data[w]=b,this.data[w+1]=y,this.data[w+2]=l,this.data[w+3]=255}this.pos+=e}},Tc.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),A=this.datav.getUint8(this.pos++,!0),d=t*this.width*4+4*r;this.data[d]=A,this.data[d+1]=s,this.data[d+2]=n,this.data[d+3]=255}this.pos+=this.width%4}},Tc.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),A=this.datav.getUint8(this.pos++,!0),d=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=A,this.data[l+1]=s,this.data[l+2]=n,this.data[l+3]=d}},Tc.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(t,r,n,s){var A=new Tc(t,!1),d=A.width,l=A.height,y={data:A.getData(),width:d,height:l},b=new S2(100).encode(y,100);return e.processJPEG.call(this,b,r,n,s)}})(Vr.API),JF.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(t,r,n,s){var A=new JF(t),d=A.width,l=A.height,y={data:A.getData(),width:d,height:l},b=new S2(100).encode(y,100);return e.processJPEG.call(this,b,r,n,s)}})(Vr.API),Vr.API.processRGBA=function(e,t,r){for(var n=e.data,s=n.length,A=new Uint8Array(s/4*3),d=new Uint8Array(s/4),l=0,y=0,b=0;b<s;b+=4){var w=n[b],S=n[b+1],F=n[b+2],T=n[b+3];A[l++]=w,A[l++]=S,A[l++]=F,d[y++]=T}var z=this.__addimage__.arrayBufferToBinaryString(A);return{alpha:this.__addimage__.arrayBufferToBinaryString(d),data:z,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Vr.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},xg=Vr.API,y1=xg.getCharWidthsArray=function(e,t){var r,n,s=(t=t||{}).font||this.internal.getFont(),A=t.fontSize||this.internal.getFontSize(),d=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:s.metadata.Unicode.widths,y=l.fof?l.fof:1,b=t.kerning?t.kerning:s.metadata.Unicode.kerning,w=b.fof?b.fof:1,S=t.doKerning!==!1,F=0,T=e.length,z=0,H=l[0]||y,K=[];for(r=0;r<T;r++)n=e.charCodeAt(r),typeof s.metadata.widthOfString=="function"?K.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+d*(1e3/A)||0)/1e3):(F=S&&Ni(b[n])==="object"&&!isNaN(parseInt(b[n][z],10))?b[n][z]/w:0,K.push((l[n]||H)/y+F)),z=n;return K},jF=xg.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return xg.processArabic&&(e=xg.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,s)/r:y1.apply(this,arguments).reduce(function(A,d){return A+d},0)},KF=function(e,t,r,n){for(var s=[],A=0,d=e.length,l=0;A!==d&&l+t[A]<r;)l+=t[A],A++;s.push(e.slice(0,A));var y=A;for(l=0;A!==d;)l+t[A]>n&&(s.push(e.slice(y,A)),l=0,y=A),l+=t[A],A++;return y!==A&&s.push(e.slice(y,A)),s},VF=function(e,t,r){r||(r={});var n,s,A,d,l,y,b,w=[],S=[w],F=r.textIndent||0,T=0,z=0,H=e.split(" "),K=y1.apply(this,[" ",r])[0];if(y=r.lineIndent===-1?H[0].length+2:r.lineIndent||0){var q=Array(y).join(" "),ne=[];H.map(function(le){(le=le.split(/\s*\n/)).length>1?ne=ne.concat(le.map(function(ce,me){return(me&&ce.length?`
`:"")+ce})):ne.push(le[0])}),H=ne,y=jF.apply(this,[q,r])}for(A=0,d=H.length;A<d;A++){var W=0;if(n=H[A],y&&n[0]==`
`&&(n=n.substr(1),W=1),F+T+(z=(s=y1.apply(this,[n,r])).reduce(function(le,ce){return le+ce},0))>t||W){if(z>t){for(l=KF.apply(this,[n,s,t-(F+T),t]),w.push(l.shift()),w=[l.pop()];l.length;)S.push([l.shift()]);z=s.slice(n.length-(w[0]?w[0].length:0)).reduce(function(le,ce){return le+ce},0)}else w=[n];S.push(w),F=z+y,T=K}else w.push(n),F+=T+z,T=K}return b=y?function(le,ce){return(ce?q:"")+le.join(" ")}:function(le){return le.join(" ")},S.map(b)},xg.splitTextToSize=function(e,t,r){var n,s=(r=r||{}).fontSize||this.internal.getFontSize(),A=(function(w){if(w.widths&&w.kerning)return{widths:w.widths,kerning:w.kerning};var S=this.internal.getFont(w.fontName,w.fontStyle),F="Unicode";return S.metadata[F]?{widths:S.metadata[F].widths||{0:1},kerning:S.metadata[F].kerning||{}}:{font:S.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var d=1*this.internal.scaleFactor*t/s;A.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,A.lineIndent=r.lineIndent;var l,y,b=[];for(l=0,y=n.length;l<y;l++)b=b.concat(VF.apply(this,[n[l],d,A]));return b},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},s={},A=0;A<16;A++)n[r[A]]=t[A],s[t[A]]=r[A];var d=function(F){return"0x"+parseInt(F,10).toString(16)},l=e.__fontmetrics__.compress=function(F){var T,z,H,K,q=["{"];for(var ne in F){if(T=F[ne],isNaN(parseInt(ne,10))?z="'"+ne+"'":(ne=parseInt(ne,10),z=(z=d(ne).slice(2)).slice(0,-1)+s[z.slice(-1)]),typeof T=="number")T<0?(H=d(T).slice(3),K="-"):(H=d(T).slice(2),K=""),H=K+H.slice(0,-1)+s[H.slice(-1)];else{if(Ni(T)!=="object")throw new Error("Don't know what to do with value type "+Ni(T)+".");H=l(T)}q.push(z+H)}return q.push("}"),q.join("")},y=e.__fontmetrics__.uncompress=function(F){if(typeof F!="string")throw new Error("Invalid argument passed to uncompress.");for(var T,z,H,K,q={},ne=1,W=q,le=[],ce="",me="",Ee=F.length-1,Ie=1;Ie<Ee;Ie+=1)(K=F[Ie])=="'"?T?(H=T.join(""),T=void 0):T=[]:T?T.push(K):K=="{"?(le.push([W,H]),W={},H=void 0):K=="}"?((z=le.pop())[0][z[1]]=W,H=void 0,W=z[0]):K=="-"?ne=-1:H===void 0?n.hasOwnProperty(K)?(ce+=n[K],H=parseInt(ce,16)*ne,ne=1,ce=""):ce+=K:n.hasOwnProperty(K)?(me+=n[K],W[H]=parseInt(me,16)*ne,ne=1,H=void 0,me=""):me+=K;return q},b={codePages:["WinAnsiEncoding"],WinAnsiEncoding:y("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},w={Unicode:{Courier:b,"Courier-Bold":b,"Courier-BoldOblique":b,"Courier-Oblique":b,Helvetica:b,"Helvetica-Bold":b,"Helvetica-BoldOblique":b,"Helvetica-Oblique":b,"Times-Roman":b,"Times-Bold":b,"Times-BoldItalic":b,"Times-Italic":b}},S={Unicode:{"Courier-Oblique":y("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":y("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":y("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:y("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":y("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":y("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:y("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:y("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":y("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:y("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":y("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":y("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":y("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":y("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(F){var T=F.font,z=S.Unicode[T.postScriptName];z&&(T.metadata.Unicode={},T.metadata.Unicode.widths=z.widths,T.metadata.Unicode.kerning=z.kerning);var H=w.Unicode[T.postScriptName];H&&(T.metadata.Unicode.encoding=H,T.encoding=H.codePages[0])}])})(Vr.API),(function(e){var t=function(r){for(var n=r.length,s=new Uint8Array(n),A=0;A<n;A++)s[A]=r.charCodeAt(A);return s};e.API.events.push(["addFont",function(r){var n=void 0,s=r.font,A=r.instance;if(!s.isStandardFont){if(A===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=A.existsFileInVFS(s.postScriptName)===!1?A.loadFile(s.postScriptName):A.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(d,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(F1(l)),d.metadata=e.API.TTFFont.open(l),d.metadata.Unicode=d.metadata.Unicode||{encoding:{},kerning:{},widths:[]},d.metadata.glyIdsUsed=[0]})(s,n)}}])})(Vr),Vr.API.addSvgAsImage=function(e,t,r,n,s,A,d,l){if(isNaN(t)||isNaN(r))throw aa.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(s))throw aa.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var y=document.createElement("canvas");y.width=n,y.height=s;var b=y.getContext("2d");b.fillStyle="#fff",b.fillRect(0,0,y.width,y.height);var w={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},S=this;return(mn.canvg?Promise.resolve(mn.canvg):a2(()=>import("./index.es-CtgeVbU8.js"),[])).catch(function(F){return Promise.reject(new Error("Could not load canvg: "+F))}).then(function(F){return F.default?F.default:F}).then(function(F){return F.fromString(b,e,w)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(F){return F.render(w)}).then(function(){S.addImage(y.toDataURL("image/jpeg",1),t,r,n,s,d,l)})},Vr.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(t,r);return this},Vr.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,s,A,d={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(d),y=[],b=0,w=0,S=0;function F(z,H){var K,q=!1;for(K=0;K<z.length;K+=1)z[K]===H&&(q=!0);return q}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(d)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var T=l.length;for(S=0;S<T;S+=1)r[l[S]].value=r[l[S]].defaultValue,r[l[S]].explicitSet=!1}if(Ni(e)==="object"){for(s in e)if(A=e[s],F(l,s)&&A!==void 0){if(r[s].type==="boolean"&&typeof A=="boolean")r[s].value=A;else if(r[s].type==="name"&&F(r[s].valueSet,A))r[s].value=A;else if(r[s].type==="integer"&&Number.isInteger(A))r[s].value=A;else if(r[s].type==="array"){for(b=0;b<A.length;b+=1)if(n=!0,A[b].length===1&&typeof A[b][0]=="number")y.push(String(A[b]-1));else if(A[b].length>1){for(w=0;w<A[b].length;w+=1)typeof A[b][w]!="number"&&(n=!1);n===!0&&y.push([A[b][0]-1,A[b][1]-1].join(" "))}r[s].value="["+y.join(" ")+"]"}else r[s].value=r[s].defaultValue;r[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var z,H=[];for(z in r)r[z].explicitSet===!0&&(r[z].type==="name"?H.push("/"+z+" /"+r[z].value):H.push("/"+z+" "+r[z].value));H.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+H.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),A=unescape(encodeURIComponent(n)),d=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),y=unescape(encodeURIComponent("</x:xmpmeta>")),b=A.length+d.length+l.length+s.length+y.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+b+" >>"),this.internal.write("stream"),this.internal.write(s+A+d+l+y),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}})(Vr.API),(function(e){var t=e.API,r=t.pdfEscape16=function(A,d){for(var l,y=d.metadata.Unicode.widths,b=["","0","00","000","0000"],w=[""],S=0,F=A.length;S<F;++S){if(l=d.metadata.characterToGlyph(A.charCodeAt(S)),d.metadata.glyIdsUsed.push(l),d.metadata.toUnicode[l]=A.charCodeAt(S),y.indexOf(l)==-1&&(y.push(l),y.push([parseInt(d.metadata.widthOfGlyph(l),10)])),l=="0")return w.join("");l=l.toString(16),w.push(b[4-l.length],l)}return w.join("")},n=function(A){var d,l,y,b,w,S,F;for(w=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,y=[],S=0,F=(l=Object.keys(A).sort(function(T,z){return T-z})).length;S<F;S++)d=l[S],y.length>=100&&(w+=`
`+y.length+` beginbfchar
`+y.join(`
`)+`
endbfchar`,y=[]),A[d]!==void 0&&A[d]!==null&&typeof A[d].toString=="function"&&(b=("0000"+A[d].toString(16)).slice(-4),d=("0000"+(+d).toString(16)).slice(-4),y.push("<"+d+"><"+b+">"));return y.length&&(w+=`
`+y.length+` beginbfchar
`+y.join(`
`)+`
endbfchar
`),w+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(A){(function(d){var l=d.font,y=d.out,b=d.newObject,w=d.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var S=l.metadata.Unicode.widths,F=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),T="",z=0;z<F.length;z++)T+=String.fromCharCode(F[z]);var H=b();w({data:T,addLength1:!0,objectId:H}),y("endobj");var K=b();w({data:n(l.metadata.toUnicode),addLength1:!0,objectId:K}),y("endobj");var q=b();y("<<"),y("/Type /FontDescriptor"),y("/FontName /"+Tg(l.fontName)),y("/FontFile2 "+H+" 0 R"),y("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),y("/Flags "+l.metadata.flags),y("/StemV "+l.metadata.stemV),y("/ItalicAngle "+l.metadata.italicAngle),y("/Ascent "+l.metadata.ascender),y("/Descent "+l.metadata.decender),y("/CapHeight "+l.metadata.capHeight),y(">>"),y("endobj");var ne=b();y("<<"),y("/Type /Font"),y("/BaseFont /"+Tg(l.fontName)),y("/FontDescriptor "+q+" 0 R"),y("/W "+e.API.PDFObject.convert(S)),y("/CIDToGIDMap /Identity"),y("/DW 1000"),y("/Subtype /CIDFontType2"),y("/CIDSystemInfo"),y("<<"),y("/Supplement 0"),y("/Registry (Adobe)"),y("/Ordering ("+l.encoding+")"),y(">>"),y(">>"),y("endobj"),l.objectNumber=b(),y("<<"),y("/Type /Font"),y("/Subtype /Type0"),y("/ToUnicode "+K+" 0 R"),y("/BaseFont /"+Tg(l.fontName)),y("/Encoding /"+l.encoding),y("/DescendantFonts ["+ne+" 0 R]"),y(">>"),y("endobj"),l.isAlreadyPutted=!0}})(A)}]),t.events.push(["putFont",function(A){(function(d){var l=d.font,y=d.out,b=d.newObject,w=d.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var S=l.metadata.rawData,F="",T=0;T<S.length;T++)F+=String.fromCharCode(S[T]);var z=b();w({data:F,addLength1:!0,objectId:z}),y("endobj");var H=b();w({data:n(l.metadata.toUnicode),addLength1:!0,objectId:H}),y("endobj");var K=b();y("<<"),y("/Descent "+l.metadata.decender),y("/CapHeight "+l.metadata.capHeight),y("/StemV "+l.metadata.stemV),y("/Type /FontDescriptor"),y("/FontFile2 "+z+" 0 R"),y("/Flags 96"),y("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),y("/FontName /"+Tg(l.fontName)),y("/ItalicAngle "+l.metadata.italicAngle),y("/Ascent "+l.metadata.ascender),y(">>"),y("endobj"),l.objectNumber=b();for(var q=0;q<l.metadata.hmtx.widths.length;q++)l.metadata.hmtx.widths[q]=parseInt(l.metadata.hmtx.widths[q]*(1e3/l.metadata.head.unitsPerEm));y("<</Subtype/TrueType/Type/Font/ToUnicode "+H+" 0 R/BaseFont/"+Tg(l.fontName)+"/FontDescriptor "+K+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),y("endobj"),l.isAlreadyPutted=!0}})(A)}]);var s=function(A){var d,l=A.text||"",y=A.x,b=A.y,w=A.options||{},S=A.mutex||{},F=S.pdfEscape,T=S.activeFontKey,z=S.fonts,H=T,K="",q=0,ne="",W=z[H].encoding;if(z[H].encoding!=="Identity-H")return{text:l,x:y,y:b,options:w,mutex:S};for(ne=l,H=T,Array.isArray(l)&&(ne=l[0]),q=0;q<ne.length;q+=1)z[H].metadata.hasOwnProperty("cmap")&&(d=z[H].metadata.cmap.unicode.codeMap[ne[q].charCodeAt(0)]),d||ne[q].charCodeAt(0)<256&&z[H].metadata.hasOwnProperty("Unicode")?K+=ne[q]:K+="";var le="";return parseInt(H.slice(1))<14||W==="WinAnsiEncoding"?le=F(K,H).split("").map(function(ce){return ce.charCodeAt(0).toString(16)}).join(""):W==="Identity-H"&&(le=r(K,z[H])),S.isHex=!0,{text:le,x:y,y:b,options:w,mutex:S}};t.events.push(["postProcessText",function(A){var d=A.text||"",l=[],y={text:d,x:A.x,y:A.y,options:A.options,mutex:A.mutex};if(Array.isArray(d)){var b=0;for(b=0;b<d.length;b+=1)Array.isArray(d[b])&&d[b].length===3?l.push([s(Object.assign({},y,{text:d[b][0]})).text,d[b][1],d[b][2]]):l.push(s(Object.assign({},y,{text:d[b]})).text);A.text=l}else A.text=s(Object.assign({},y,{text:d})).text}])})(Vr),(function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(Vr.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var s,A,d,l,y,b,w,S=t,F=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],T=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],z={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},H={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},K=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],q=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),ne=!1,W=0;this.__bidiEngine__={};var le=function(ie){var de=ie.charCodeAt(),Fe=de>>8,Le=H[Fe];return Le!==void 0?S[256*Le+(255&de)]:Fe===252||Fe===253?"AL":q.test(Fe)?"L":Fe===8?"R":"N"},ce=function(ie){for(var de,Fe=0;Fe<ie.length;Fe++){if((de=le(ie.charAt(Fe)))==="L")return!1;if(de==="R")return!0}return!1},me=function(ie,de,Fe,Le){var it,Pe,ke,Ge,Oe=de[Le];switch(Oe){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":ne=!1;break;case"N":case"AN":break;case"EN":ne&&(Oe="AN");break;case"AL":ne=!0,Oe="R";break;case"WS":case"BN":Oe="N";break;case"CS":Le<1||Le+1>=de.length||(it=Fe[Le-1])!=="EN"&&it!=="AN"||(Pe=de[Le+1])!=="EN"&&Pe!=="AN"?Oe="N":ne&&(Pe="AN"),Oe=Pe===it?Pe:"N";break;case"ES":Oe=(it=Le>0?Fe[Le-1]:"B")==="EN"&&Le+1<de.length&&de[Le+1]==="EN"?"EN":"N";break;case"ET":if(Le>0&&Fe[Le-1]==="EN"){Oe="EN";break}if(ne){Oe="N";break}for(ke=Le+1,Ge=de.length;ke<Ge&&de[ke]==="ET";)ke++;Oe=ke<Ge&&de[ke]==="EN"?"EN":"N";break;case"NSM":if(d&&!l){for(Ge=de.length,ke=Le+1;ke<Ge&&de[ke]==="NSM";)ke++;if(ke<Ge){var st=ie[Le],be=st>=1425&&st<=2303||st===64286;if(it=de[ke],be&&(it==="R"||it==="AL")){Oe="R";break}}}Oe=Le<1||(it=de[Le-1])==="B"?"N":Fe[Le-1];break;case"B":ne=!1,s=!0,Oe=W;break;case"S":A=!0,Oe="N"}return Oe},Ee=function(ie,de,Fe){var Le=ie.split("");return Fe&&Ie(Le,Fe,{hiLevel:W}),Le.reverse(),de&&de.reverse(),Le.join("")},Ie=function(ie,de,Fe){var Le,it,Pe,ke,Ge,Oe=-1,st=ie.length,be=0,ee=[],ye=W?T:F,Te=[];for(ne=!1,s=!1,A=!1,it=0;it<st;it++)Te[it]=le(ie[it]);for(Pe=0;Pe<st;Pe++){if(Ge=be,ee[Pe]=me(ie,Te,ee,Pe),Le=240&(be=ye[Ge][z[ee[Pe]]]),be&=15,de[Pe]=ke=ye[be][5],Le>0)if(Le===16){for(it=Oe;it<Pe;it++)de[it]=1;Oe=-1}else Oe=-1;if(ye[be][6])Oe===-1&&(Oe=Pe);else if(Oe>-1){for(it=Oe;it<Pe;it++)de[it]=ke;Oe=-1}Te[Pe]==="B"&&(de[Pe]=0),Fe.hiLevel|=ke}A&&(function(Ne,Ze,et){for(var gt=0;gt<et;gt++)if(Ne[gt]==="S"){Ze[gt]=W;for(var Ke=gt-1;Ke>=0&&Ne[Ke]==="WS";Ke--)Ze[Ke]=W}})(Te,de,st)},ge=function(ie,de,Fe,Le,it){if(!(it.hiLevel<ie)){if(ie===1&&W===1&&!s)return de.reverse(),void(Fe&&Fe.reverse());for(var Pe,ke,Ge,Oe,st=de.length,be=0;be<st;){if(Le[be]>=ie){for(Ge=be+1;Ge<st&&Le[Ge]>=ie;)Ge++;for(Oe=be,ke=Ge-1;Oe<ke;Oe++,ke--)Pe=de[Oe],de[Oe]=de[ke],de[ke]=Pe,Fe&&(Pe=Fe[Oe],Fe[Oe]=Fe[ke],Fe[ke]=Pe);be=Ge}be++}}},je=function(ie,de,Fe){var Le=ie.split(""),it={hiLevel:W};return Fe||(Fe=[]),Ie(Le,Fe,it),(function(Pe,ke,Ge){if(Ge.hiLevel!==0&&w)for(var Oe,st=0;st<Pe.length;st++)ke[st]===1&&(Oe=K.indexOf(Pe[st]))>=0&&(Pe[st]=K[Oe+1])})(Le,Fe,it),ge(2,Le,de,Fe,it),ge(1,Le,de,Fe,it),Le.join("")};return this.__bidiEngine__.doBidiReorder=function(ie,de,Fe){if((function(it,Pe){if(Pe)for(var ke=0;ke<it.length;ke++)Pe[ke]=ke;l===void 0&&(l=ce(it)),b===void 0&&(b=ce(it))})(ie,de),d||!y||b)if(d&&y&&l^b)W=l?1:0,ie=Ee(ie,de,Fe);else if(!d&&y&&b)W=l?1:0,ie=je(ie,de,Fe),ie=Ee(ie,de);else if(!d||l||y||b){if(d&&!y&&l^b)ie=Ee(ie,de),l?(W=0,ie=je(ie,de,Fe)):(W=1,ie=je(ie,de,Fe),ie=Ee(ie,de));else if(d&&l&&!y&&b)W=1,ie=je(ie,de,Fe),ie=Ee(ie,de);else if(!d&&!y&&l^b){var Le=w;l?(W=1,ie=je(ie,de,Fe),W=0,w=!1,ie=je(ie,de,Fe),w=Le):(W=0,ie=je(ie,de,Fe),ie=Ee(ie,de),W=1,w=!1,ie=je(ie,de,Fe),w=Le,ie=Ee(ie,de))}}else W=0,ie=je(ie,de,Fe);else W=l?1:0,ie=je(ie,de,Fe);return ie},this.__bidiEngine__.setOptions=function(ie){ie&&(d=ie.isInputVisual,y=ie.isOutputVisual,l=ie.isInputRtl,b=ie.isOutputRtl,w=ie.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var s=n.text;n.x,n.y;var A=n.options||{};n.mutex,A.lang;var d=[];if(A.isInputVisual=typeof A.isInputVisual!="boolean"||A.isInputVisual,r.setOptions(A),Object.prototype.toString.call(s)==="[object Array]"){var l=0;for(d=[],l=0;l<s.length;l+=1)Object.prototype.toString.call(s[l])==="[object Array]"?d.push([r.doBidiReorder(s[l][0]),s[l][1],s[l][2]]):d.push([r.doBidiReorder(s[l])]);n.text=d}else n.text=r.doBidiReorder(s);r.setOptions({isInputVisual:!0})}])})(Vr),Vr.API.TTFFont=(function(){function e(t){var r;if(this.rawData=t,r=this.contents=new md(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new jse(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Ise(this.contents),this.head=new Use(this),this.name=new Dse(this),this.cmap=new ek(this),this.toUnicode={},this.hhea=new Lse(this),this.maxp=new kse(this),this.hmtx=new Qse(this),this.post=new Pse(this),this.os2=new Mse(this),this.loca=new Hse(this),this.glyf=new Nse(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,s,A;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var d,l,y,b;for(b=[],d=0,l=(y=this.bbox).length;d<l;d++)t=y[d],b.push(Math.round(t*this.scaleFactor));return b}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),32768&(r=s>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(A=this.familyClass)===1||A===2||A===3||A===4||A===5||A===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var s,A,d,l;for(d=0,A=0,l=(t=""+t).length;0<=l?A<l:A>l;A=0<=l?++A:--A)s=t.charCodeAt(A),d+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/r)||0;return d*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e})();var Qc,md=(function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,s;for(s=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)s.push(this.writeByte(t.charCodeAt(r)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,s,A,d,l,y;return t=this.readByte(),r=this.readByte(),n=this.readByte(),s=this.readByte(),A=this.readByte(),d=this.readByte(),l=this.readByte(),y=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^A)+65536*(255^d)+256*(255^l)+(255^y)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*s+16777216*A+65536*d+256*l+y},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,s,A;for(A=[],n=0,s=t.length;n<s;n++)r=t[n],A.push(this.writeByte(r));return A},e})(),Ise=(function(){var e;function t(r){var n,s,A;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},s=0,A=this.tableCount;0<=A?s<A:s>A;s=0<=A?++s:--s)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,s,A,d,l,y,b,w,S,F,T,z,H;for(H in T=Object.keys(r).length,y=Math.log(2),S=16*Math.floor(Math.log(T)/y),d=Math.floor(S/y),w=16*T-S,(s=new md).writeInt(this.scalarType),s.writeShort(T),s.writeShort(S),s.writeShort(d),s.writeShort(w),A=16*T,b=s.pos+A,l=null,z=[],r)for(F=r[H],s.writeString(H),s.writeInt(e(F)),s.writeInt(b),s.writeInt(F.length),z=z.concat(F),H==="head"&&(l=b),b+=F.length;b%4;)z.push(0),b++;return s.write(z),n=2981146554-e(s.data),s.pos=l+8,s.writeUInt32(n),s.data},e=function(r){var n,s,A,d;for(r=tk.call(r);r.length%4;)r.push(0);for(A=new md(r),s=0,n=0,d=r.length;n<d;n=n+=4)s+=A.readUInt32();return 4294967295&s},t})(),Fse={}.hasOwnProperty,Bh=function(e,t){for(var r in t)Fse.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Qc=(function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var Use=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Bh(e,Qc),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new md).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e})(),eU=(function(){function e(t,r){var n,s,A,d,l,y,b,w,S,F,T,z,H,K,q,ne,W;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),S=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(y=0;y<256;++y)this.codeMap[y]=t.readByte();break;case 4:for(T=t.readUInt16(),F=T/2,t.pos+=6,A=(function(){var le,ce;for(ce=[],y=le=0;0<=F?le<F:le>F;y=0<=F?++le:--le)ce.push(t.readUInt16());return ce})(),t.pos+=2,H=(function(){var le,ce;for(ce=[],y=le=0;0<=F?le<F:le>F;y=0<=F?++le:--le)ce.push(t.readUInt16());return ce})(),b=(function(){var le,ce;for(ce=[],y=le=0;0<=F?le<F:le>F;y=0<=F?++le:--le)ce.push(t.readUInt16());return ce})(),w=(function(){var le,ce;for(ce=[],y=le=0;0<=F?le<F:le>F;y=0<=F?++le:--le)ce.push(t.readUInt16());return ce})(),s=(this.length-t.pos+this.offset)/2,l=(function(){var le,ce;for(ce=[],y=le=0;0<=s?le<s:le>s;y=0<=s?++le:--le)ce.push(t.readUInt16());return ce})(),y=q=0,W=A.length;q<W;y=++q)for(K=A[y],n=ne=z=H[y];z<=K?ne<=K:ne>=K;n=z<=K?++ne:--ne)w[y]===0?d=n+b[y]:(d=l[w[y]/2+(n-z)-(F-y)]||0)!==0&&(d+=b[y]),this.codeMap[n]=65535&d}t.pos=S}return e.encode=function(t,r){var n,s,A,d,l,y,b,w,S,F,T,z,H,K,q,ne,W,le,ce,me,Ee,Ie,ge,je,ie,de,Fe,Le,it,Pe,ke,Ge,Oe,st,be,ee,ye,Te,Ne,Ze,et,gt,Ke,pt,Ct,ct;switch(Le=new md,d=Object.keys(t).sort(function(qt,Xt){return qt-Xt}),r){case"macroman":for(H=0,K=(function(){var qt=[];for(z=0;z<256;++z)qt.push(0);return qt})(),ne={0:0},A={},it=0,Oe=d.length;it<Oe;it++)ne[Ke=t[s=d[it]]]==null&&(ne[Ke]=++H),A[s]={old:t[s],new:ne[t[s]]},K[s]=ne[t[s]];return Le.writeUInt16(1),Le.writeUInt16(0),Le.writeUInt32(12),Le.writeUInt16(0),Le.writeUInt16(262),Le.writeUInt16(0),Le.write(K),{charMap:A,subtable:Le.data,maxGlyphID:H+1};case"unicode":for(de=[],S=[],W=0,ne={},n={},q=b=null,Pe=0,st=d.length;Pe<st;Pe++)ne[ce=t[s=d[Pe]]]==null&&(ne[ce]=++W),n[s]={old:ce,new:ne[ce]},l=ne[ce]-s,q!=null&&l===b||(q&&S.push(q),de.push(s),b=l),q=s;for(q&&S.push(q),S.push(65535),de.push(65535),je=2*(ge=de.length),Ie=2*Math.pow(Math.log(ge)/Math.LN2,2),F=Math.log(Ie/2)/Math.LN2,Ee=2*ge-Ie,y=[],me=[],T=[],z=ke=0,be=de.length;ke<be;z=++ke){if(ie=de[z],w=S[z],ie===65535){y.push(0),me.push(0);break}if(ie-(Fe=n[ie].new)>=32768)for(y.push(0),me.push(2*(T.length+ge-z)),s=Ge=ie;ie<=w?Ge<=w:Ge>=w;s=ie<=w?++Ge:--Ge)T.push(n[s].new);else y.push(Fe-ie),me.push(0)}for(Le.writeUInt16(3),Le.writeUInt16(1),Le.writeUInt32(12),Le.writeUInt16(4),Le.writeUInt16(16+8*ge+2*T.length),Le.writeUInt16(0),Le.writeUInt16(je),Le.writeUInt16(Ie),Le.writeUInt16(F),Le.writeUInt16(Ee),et=0,ee=S.length;et<ee;et++)s=S[et],Le.writeUInt16(s);for(Le.writeUInt16(0),gt=0,ye=de.length;gt<ye;gt++)s=de[gt],Le.writeUInt16(s);for(pt=0,Te=y.length;pt<Te;pt++)l=y[pt],Le.writeUInt16(l);for(Ct=0,Ne=me.length;Ct<Ne;Ct++)le=me[Ct],Le.writeUInt16(le);for(ct=0,Ze=T.length;ct<Ze;ct++)H=T[ct],Le.writeUInt16(H);return{charMap:n,subtable:Le.data,maxGlyphID:W+1}}},e})(),ek=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Bh(e,Qc),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=s?n<s:n>s;n=0<=s?++n:--n)r=new eU(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,s;return r==null&&(r="macroman"),n=eU.encode(t,r),(s=new md).writeUInt16(0),s.writeUInt16(1),n.table=s.data.concat(n.subtable),n},e})(),Lse=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Bh(e,Qc),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e})(),Mse=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Bh(e,Qc),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n})(),this.charRange=(function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e})(),Pse=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Bh(e,Qc),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var A;for(n=t.readUInt16(),this.glyphNameIndex=[],A=0;0<=n?A<n:A>n;A=0<=n?++A:--A)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)r=t.readByte(),s.push(this.names.push(t.readString(r)));return s;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var d,l,y;for(y=[],A=d=0,l=this.file.maxp.numGlyphs;0<=l?d<l:d>l;A=0<=l?++d:--d)y.push(t.readUInt32());return y}).call(this)}},e})(),Ose=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Dse=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Bh(e,Qc),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,s,A,d,l,y,b,w,S,F;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),n=[],A=0;0<=r?A<r:A>r;A=0<=r?++A:--A)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(y={},A=w=0,S=n.length;w<S;A=++w)s=n[A],t.pos=s.offset,b=t.readString(s.length),d=new Ose(b,s),y[F=s.nameID]==null&&(y[F]=[]),y[s.nameID].push(d);this.strings=y,this.copyright=y[0],this.fontFamily=y[1],this.fontSubfamily=y[2],this.uniqueSubfamily=y[3],this.fontName=y[4],this.version=y[5];try{this.postscriptName=y[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=y[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=y[7],this.manufacturer=y[8],this.designer=y[9],this.description=y[10],this.vendorUrl=y[11],this.designerUrl=y[12],this.license=y[13],this.licenseUrl=y[14],this.preferredFamily=y[15],this.preferredSubfamily=y[17],this.compatibleFull=y[18],this.sampleText=y[19]},e})(),kse=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Bh(e,Qc),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e})(),Qse=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Bh(e,Qc),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,s,A,d,l,y;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var b,w;for(w=[],r=b=0;0<=s?b<s:b>s;r=0<=s?++b:--b)w.push(t.readInt16());return w})(),this.widths=(function(){var b,w,S,F;for(F=[],b=0,w=(S=this.metrics).length;b<w;b++)A=S[b],F.push(A.advance);return F}).call(this),n=this.widths[this.widths.length-1],y=[],r=d=0;0<=s?d<s:d>s;r=0<=s?++d:--d)y.push(this.widths.push(n));return y},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e})(),tk=[].slice,Nse=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Bh(e,Qc),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,s,A,d,l,y,b,w,S;return t in this.cache?this.cache[t]:(A=this.file.loca,r=this.file.contents,n=A.indexOf(t),(s=A.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,d=(l=new md(r.read(s))).readShort(),b=l.readShort(),S=l.readShort(),y=l.readShort(),w=l.readShort(),this.cache[t]=d===-1?new zse(l,b,S,y,w):new Rse(l,d,b,S,y,w),this.cache[t]))},e.prototype.encode=function(t,r,n){var s,A,d,l,y;for(d=[],A=[],l=0,y=r.length;l<y;l++)s=t[r[l]],A.push(d.length),s&&(d=d.concat(s.encode(n)));return A.push(d.length),{table:d,offsets:A}},e})(),Rse=(function(){function e(t,r,n,s,A,d){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=s,this.xMax=A,this.yMax=d,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),zse=(function(){function e(t,r,n,s,A){var d,l;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=s,this.yMax=A,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],d=this.raw;l=d.readShort(),this.glyphOffsets.push(d.pos),this.glyphIDs.push(d.readUInt16()),32&l;)d.pos+=1&l?4:2,128&l?d.pos+=8:64&l?d.pos+=4:8&l&&(d.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new md(tk.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e})(),Hse=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Bh(e,Qc),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,A;for(A=[],n=0,s=this.length;n<s;n+=2)A.push(2*t.readUInt16());return A}).call(this):(function(){var s,A;for(A=[],n=0,s=this.length;n<s;n+=4)A.push(t.readUInt32());return A}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),s=0,A=0,d=0;d<n.length;++d)if(n[d]=s,A<r.length&&r[A]==d){++A,n[d]=s;var l=this.offsets[d],y=this.offsets[d+1]-l;y>0&&(s+=y)}for(var b=new Array(4*n.length),w=0;w<n.length;++w)b[4*w+3]=255&n[w],b[4*w+2]=(65280&n[w])>>8,b[4*w+1]=(16711680&n[w])>>16,b[4*w]=(4278190080&n[w])>>24;return b},e})(),jse=(function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,s,A;for(r in s=this.font.cmap.tables[0].codeMap,t={},A=this.subset)n=A[r],t[r]=s[n];return t},e.prototype.glyphsFor=function(t){var r,n,s,A,d,l,y;for(s={},d=0,l=t.length;d<l;d++)s[A=t[d]]=this.font.glyf.glyphFor(A);for(A in r=[],s)(n=s[A])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(A in y=this.glyphsFor(r))n=y[A],s[A]=n;return s},e.prototype.encode=function(t,r){var n,s,A,d,l,y,b,w,S,F,T,z,H,K,q;for(s in n=ek.encode(this.generateCmap(),"unicode"),d=this.glyphsFor(t),T={0:0},q=n.charMap)T[(y=q[s]).old]=y.new;for(z in F=n.maxGlyphID,d)z in T||(T[z]=F++);return w=(function(ne){var W,le;for(W in le={},ne)le[ne[W]]=W;return le})(T),S=Object.keys(w).sort(function(ne,W){return ne-W}),H=(function(){var ne,W,le;for(le=[],ne=0,W=S.length;ne<W;ne++)l=S[ne],le.push(w[l]);return le})(),A=this.font.glyf.encode(d,H,T),b=this.font.loca.encode(A.offsets,H),K={cmap:this.font.cmap.raw(),glyf:A.table,loca:b,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(K["OS/2"]=this.font.os2.raw()),this.font.directory.encode(K)},e})();Vr.API.PDFObject=(function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,s,A,d;if(Array.isArray(r))return"["+(function(){var l,y,b;for(b=[],l=0,y=r.length;l<y;l++)n=r[l],b.push(t.convert(n));return b})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(s in A=["<<"],r)d=r[s],A.push("/"+s+" "+t.convert(d));return A.push(">>"),A.join(`
`)}return""+r},t})();function Kse(){const[e,t]=ae.useState(null),[r,n]=ae.useState(null),[s,A]=ae.useState(null),[d,l]=ae.useState(3),[y,b]=ae.useState(null),[w,S]=ae.useState(!0),[F,T]=ae.useState(null),[z,H]=ae.useState(!0),[K,q]=ae.useState(!1),[ne,W]=ae.useState(!1),[le,ce]=ae.useState(!0),[me,Ee]=ae.useState(!1),[Ie,ge]=ae.useState(null),je=ae.useRef(null);ae.useEffect(()=>{const Ge="/retc-map/retc_data.geojson".replace("//","/");fetch(Ge).then(Oe=>Oe.ok?Oe.json():Promise.reject(Oe.status)).then(Oe=>{t(Oe),S(!1)}).catch(Oe=>{console.error(Oe),S(!1)})},[]),ae.useEffect(()=>{r&&H(!0)},[r]);const ie=(ke,Ge)=>{e&&n(CY(ke,e,Ge))},de=ke=>{b(ke),ie(ke,d)},Fe=ke=>{A(ke),b(ke),ie(ke,d)},Le=ke=>{l(ke),y&&ie(y,ke)},it=()=>{ce(!1),Ee(!0)},Pe=async ke=>{if(!r){alert("Primero debes realizar un anlisis zonal.");return}W(!0),q(!1),je.current?.resetViewForExport&&await je.current.resetViewForExport();const Ge=document.querySelector(".maplibregl-canvas");Ge&&ge(Ge.toDataURL("image/png")),await new Promise(st=>setTimeout(st,500));const Oe=document.getElementById("printable-report");if(!Oe){W(!1);return}try{const st=await uD(Oe,{scale:2,backgroundColor:"#ffffff",logging:!1,useCORS:!0}),be=new Date().toISOString().replace(/[:.]/g,"-").slice(0,19);if(ke==="png"){const ee=document.createElement("a");ee.download=`HuellaRETC_Reporte_${be}.png`,ee.href=st.toDataURL("image/png"),ee.click()}else if(ke==="pdf"){const ee=new Vr({orientation:"landscape",unit:"px",format:[st.width/2,st.height/2]});ee.addImage(st.toDataURL("image/png"),"PNG",0,0,st.width/2,st.height/2),ee.save(`HuellaRETC_Reporte_${be}.pdf`)}}catch(st){console.error(st),alert("Error al generar el reporte.")}finally{je.current?.restoreView&&je.current.restoreView(),ge(null),W(!1)}};return De.jsxs("div",{id:"main-container",className:"relative w-full h-screen bg-slate-900 text-slate-100 overflow-hidden font-sans",children:[De.jsx(wY,{isOpen:le,onClose:()=>ce(!1),onStartTutorial:it}),me&&De.jsx(xY,{onClose:()=>Ee(!1)}),De.jsx("div",{style:{position:"absolute",left:"-9999px",top:0},children:De.jsx(BY,{id:"printable-report",analysis:r,mapSnapshot:Ie})}),De.jsx("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 z-20 w-[85%] max-w-sm md:px-0 no-print",children:De.jsx(bY,{onSelectLocation:Fe})}),De.jsxs("div",{id:"export-controls",className:"absolute top-4 right-4 z-20 flex flex-col items-end",children:[De.jsx("button",{onClick:()=>q(!K),className:"bg-slate-800 hover:bg-slate-700 text-slate-200 p-2.5 rounded-lg border border-slate-600 shadow-xl transition-all",children:De.jsx(E_,{size:20})}),K&&De.jsxs("div",{className:"mt-2 bg-slate-900 border border-slate-700 rounded-lg shadow-xl overflow-hidden flex flex-col animate-in fade-in slide-in-from-top-2 w-40",children:[De.jsxs("button",{onClick:()=>Pe("png"),className:"flex items-center gap-3 px-4 py-3 hover:bg-slate-800 text-sm text-left text-slate-300 hover:text-white border-b border-slate-800",children:[De.jsx(gY,{size:16,className:"text-emerald-400"})," ",De.jsx("span",{children:"Imagen PNG"})]}),De.jsxs("button",{onClick:()=>Pe("pdf"),className:"flex items-center gap-3 px-4 py-3 hover:bg-slate-800 text-sm text-left text-slate-300 hover:text-white",children:[De.jsx(dY,{size:16,className:"text-rose-400"})," ",De.jsx("span",{children:"Reporte PDF"})]})]})]}),ne&&De.jsxs("div",{id:"export-overlay",className:"absolute inset-0 z-[60] bg-slate-900/90 backdrop-blur-sm flex flex-col items-center justify-center cursor-wait",children:[De.jsx("div",{className:"animate-spin text-emerald-500 mb-4",children:De.jsx(E_,{size:40})}),De.jsx("p",{className:"text-xl font-bold text-white",children:"Generando captura..."})]}),De.jsx(_Y,{ref:je,mapData:e,onLocationSelect:de,flyToLocation:s,radius:d,highlightedName:F,highlightedIds:r?.topIds}),w&&De.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-slate-900/80",children:De.jsx("div",{className:"text-emerald-400 font-bold animate-pulse",children:"Cargando..."})}),r&&De.jsxs("div",{className:`
            fixed z-30 transition-transform duration-300 ease-in-out shadow-2xl border-slate-700 bg-slate-900/95 backdrop-blur-md
            bottom-0 left-0 right-0 w-full rounded-t-2xl border-t border-x max-h-[45vh] flex flex-col
            md:top-20 md:bottom-6 md:left-4 md:right-auto md:w-80 md:max-h-[85vh] md:rounded-2xl md:border
            ${z?"translate-y-0 md:translate-x-0":"translate-y-[100%] md:-translate-x-[calc(100%+2rem)]"}
        `,children:[De.jsx("div",{onClick:()=>H(!z),className:"md:hidden w-full h-6 flex items-center justify-center cursor-pointer border-b border-white/5 active:bg-white/5 shrink-0 hover:bg-white/5 transition-colors",children:De.jsx("div",{className:"w-12 h-1 bg-slate-600 rounded-full"})}),De.jsx("button",{onClick:()=>H(!z),className:`hidden md:flex absolute top-6 -right-8 w-8 h-10 bg-slate-800 border-y border-r border-slate-600 text-emerald-400 hover:text-white hover:bg-slate-700 rounded-r-lg shadow-lg items-center justify-center transition-opacity duration-300 no-print ${z?"opacity-100":"opacity-0 pointer-events-none"}`,children:De.jsx(n6,{size:20})}),De.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[De.jsx("div",{className:"p-5 pb-0 shrink-0",children:De.jsxs("div",{className:"flex justify-between items-start mb-4 border-b border-slate-700 pb-4",children:[De.jsxs("div",{children:[De.jsxs("h1",{className:"text-lg font-bold text-white leading-none flex items-center gap-2",children:[De.jsx(VC,{size:18,className:"text-emerald-400"})," Anlisis Zonal"]}),De.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Radio de impacto"})]}),De.jsx("div",{className:"flex bg-slate-800 rounded-lg p-1 gap-1",children:[1,3,5].map(ke=>De.jsxs("button",{onClick:()=>Le(ke),className:`text-xs font-bold px-2 py-1 rounded transition-all ${d===ke?"bg-emerald-500 text-white shadow":"text-slate-400 hover:text-white hover:bg-slate-700"}`,children:[ke,"km"]},ke))})]})}),De.jsxs("div",{className:"flex-1 overflow-y-auto overflow-x-hidden custom-scrollbar p-5 pt-0 pb-10",children:[De.jsxs("div",{className:"mb-4 flex items-end justify-between mt-2",children:[De.jsxs("div",{children:[De.jsxs("div",{className:`flex items-center gap-2 text-xl font-bold ${r.stats.trend>0?"text-rose-400":"text-emerald-400"}`,children:[r.stats.trend>0?De.jsx($C,{size:20}):De.jsx(GC,{size:20}),Math.abs(r.stats.trend).toFixed(1),"%"]}),De.jsx("p",{className:"text-xs text-slate-500",children:"Variacin (5 aos)"})]}),De.jsxs("div",{className:"text-right",children:[De.jsx("span",{className:"text-3xl font-bold text-white block leading-none",children:r.stats.count}),De.jsx("span",{className:"text-xs text-slate-400",children:"Industrias"})]})]}),De.jsxs("div",{className:"mb-4 border-b border-slate-700 pb-6",children:[De.jsx("div",{className:"flex justify-between items-center mb-1",children:De.jsx("p",{className:"text-[10px] text-slate-400 uppercase tracking-wider font-bold",children:"Evolucin por Industria (Top 5)"})}),De.jsx(EY,{data:r.chartData,keys:r.lineKeys,onHoverHighlight:T})]}),De.jsx(TY,{analysis:r}),r.nearest&&De.jsx("div",{className:"bg-slate-800/50 p-3 rounded-xl border border-slate-700 mt-4 mb-2",children:De.jsxs("div",{className:"flex items-start gap-3",children:[De.jsx("div",{className:"bg-slate-700 p-2 rounded-full mt-1 shrink-0",children:De.jsx(fY,{size:14,className:"text-slate-300"})}),De.jsxs("div",{className:"w-full min-w-0",children:[De.jsx("p",{className:"font-bold text-slate-400 text-[10px] uppercase tracking-widest mb-1",children:"Referencia ms cercana"}),De.jsx("p",{className:"font-bold text-sm text-white leading-snug break-words mb-1.5",children:r.nearest.properties.name}),De.jsxs("div",{className:"flex flex-wrap gap-2 items-center justify-between",children:[De.jsx("span",{className:"text-[10px] bg-cyan-900/30 px-2 py-0.5 rounded text-cyan-400 border border-cyan-800/50 font-bold tracking-wide",children:r.nearest.properties.category}),De.jsxs("div",{className:"flex items-center gap-3",children:[De.jsxs("span",{className:"text-[10px] text-slate-400",children:["Total 4 aos: ",De.jsxs("strong",{className:"text-emerald-400",children:[r.nearest.properties.total_tonnage?.toLocaleString("es-CL",{maximumFractionDigits:0})," t"]})]}),De.jsxs("span",{className:"text-xs text-slate-300 font-mono font-bold",children:[r.nearest.properties.distance.toFixed(2)," km"]})]})]})]})]})})]})]})]}),r&&!z&&De.jsx("button",{onClick:()=>H(!0),className:"absolute left-0 top-20 md:top-20 bg-slate-900 border-r border-y border-slate-600 text-emerald-400 p-3 rounded-r-xl shadow-2xl hover:bg-slate-800 hover:text-white transition-all animate-in slide-in-from-left-2 z-20 no-print",children:De.jsx(i6,{size:24})})]})}yk.createRoot(document.getElementById("root")).render(De.jsx(ae.StrictMode,{children:De.jsx(Kse,{})}));export{Ni as _,Vse as c,bh as g};
