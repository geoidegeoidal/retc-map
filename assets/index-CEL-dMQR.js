function ek(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const A=Object.getOwnPropertyDescriptor(n,s);A&&Object.defineProperty(e,s,A.get?A:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const A of s)if(A.type==="childList")for(const f of A.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&n(f)}).observe(document,{childList:!0,subtree:!0});function r(s){const A={};return s.integrity&&(A.integrity=s.integrity),s.referrerPolicy&&(A.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?A.credentials="include":s.crossOrigin==="anonymous"?A.credentials="omit":A.credentials="same-origin",A}function n(s){if(s.ep)return;s.ep=!0;const A=r(s);fetch(s.href,A)}})();var kse=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Yw={exports:{}},n0={};var lS;function tk(){if(lS)return n0;lS=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,s,A){var f=null;if(A!==void 0&&(f=""+A),s.key!==void 0&&(f=""+s.key),"key"in s){A={};for(var l in s)l!=="key"&&(A[l]=s[l])}else A=s;return s=A.ref,{$$typeof:e,type:n,key:f,ref:s!==void 0?s:null,props:A}}return n0.Fragment=t,n0.jsx=r,n0.jsxs=r,n0}var AS;function rk(){return AS||(AS=1,Yw.exports=tk()),Yw.exports}var wt=rk(),Jw={exports:{}},Sn={};var uS;function nk(){if(uS)return Sn;uS=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),f=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),U=Symbol.iterator;function I(Te){return Te===null||typeof Te!="object"?null:(Te=U&&Te[U]||Te["@@iterator"],typeof Te=="function"?Te:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,K={};function V(Te,ne,we){this.props=Te,this.context=ne,this.refs=K,this.updater=we||z}V.prototype.isReactComponent={},V.prototype.setState=function(Te,ne){if(typeof Te!="object"&&typeof Te!="function"&&Te!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Te,ne,"setState")},V.prototype.forceUpdate=function(Te){this.updater.enqueueForceUpdate(this,Te,"forceUpdate")};function re(){}re.prototype=V.prototype;function W(Te,ne,we){this.props=Te,this.context=ne,this.refs=K,this.updater=we||z}var le=W.prototype=new re;le.constructor=W,H(le,V.prototype),le.isPureReactComponent=!0;var ce=Array.isArray;function me(){}var Ie={H:null,A:null,T:null,S:null},Fe=Object.prototype.hasOwnProperty;function pe(Te,ne,we){var Ue=we.ref;return{$$typeof:e,type:Te,key:ne,ref:Ue!==void 0?Ue:null,props:we}}function ze(Te,ne){return pe(Te.type,ne,Te.props)}function ie(Te){return typeof Te=="object"&&Te!==null&&Te.$$typeof===e}function de(Te){var ne={"=":"=0",":":"=2"};return"$"+Te.replace(/[=:]/g,function(we){return ne[we]})}var ve=/\/+/g;function _e(Te,ne){return typeof Te=="object"&&Te!==null&&Te.key!=null?de(""+Te.key):ne.toString(36)}function tt(Te){switch(Te.status){case"fulfilled":return Te.value;case"rejected":throw Te.reason;default:switch(typeof Te.status=="string"?Te.then(me,me):(Te.status="pending",Te.then(function(ne){Te.status==="pending"&&(Te.status="fulfilled",Te.value=ne)},function(ne){Te.status==="pending"&&(Te.status="rejected",Te.reason=ne)})),Te.status){case"fulfilled":return Te.value;case"rejected":throw Te.reason}}throw Te}function Le(Te,ne,we,Ue,De){var Xe=typeof Te;(Xe==="undefined"||Xe==="boolean")&&(Te=null);var Je=!1;if(Te===null)Je=!0;else switch(Xe){case"bigint":case"string":case"number":Je=!0;break;case"object":switch(Te.$$typeof){case e:case t:Je=!0;break;case b:return Je=Te._init,Le(Je(Te._payload),ne,we,Ue,De)}}if(Je)return De=De(Te),Je=Ue===""?"."+_e(Te,0):Ue,ce(De)?(we="",Je!=null&&(we=Je.replace(ve,"$&/")+"/"),Le(De,ne,we,"",function(ft){return ft})):De!=null&&(ie(De)&&(De=ze(De,we+(De.key==null||Te&&Te.key===De.key?"":(""+De.key).replace(ve,"$&/")+"/")+Je)),ne.push(De)),1;Je=0;var dt=Ue===""?".":Ue+":";if(ce(Te))for(var He=0;He<Te.length;He++)Ue=Te[He],Xe=dt+_e(Ue,He),Je+=Le(Ue,ne,we,Xe,De);else if(He=I(Te),typeof He=="function")for(Te=He.call(Te),He=0;!(Ue=Te.next()).done;)Ue=Ue.value,Xe=dt+_e(Ue,He++),Je+=Le(Ue,ne,we,Xe,De);else if(Xe==="object"){if(typeof Te.then=="function")return Le(tt(Te),ne,we,Ue,De);throw ne=String(Te),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(Te).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Je}function Ne(Te,ne,we){if(Te==null)return Te;var Ue=[],De=0;return Le(Te,Ue,"","",function(Xe){return ne.call(we,Xe,De++)}),Ue}function Ve(Te){if(Te._status===-1){var ne=Te._result;ne=ne(),ne.then(function(we){(Te._status===0||Te._status===-1)&&(Te._status=1,Te._result=we)},function(we){(Te._status===0||Te._status===-1)&&(Te._status=2,Te._result=we)}),Te._status===-1&&(Te._status=0,Te._result=ne)}if(Te._status===1)return Te._result.default;throw Te._result}var We=typeof reportError=="function"?reportError:function(Te){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Te=="object"&&Te!==null&&typeof Te.message=="string"?String(Te.message):String(Te),error:Te});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Te);return}console.error(Te)},_t={map:Ne,forEach:function(Te,ne,we){Ne(Te,function(){ne.apply(this,arguments)},we)},count:function(Te){var ne=0;return Ne(Te,function(){ne++}),ne},toArray:function(Te){return Ne(Te,function(ne){return ne})||[]},only:function(Te){if(!ie(Te))throw Error("React.Children.only expected to receive a single React element child.");return Te}};return Sn.Activity=S,Sn.Children=_t,Sn.Component=V,Sn.Fragment=r,Sn.Profiler=s,Sn.PureComponent=W,Sn.StrictMode=n,Sn.Suspense=y,Sn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ie,Sn.__COMPILER_RUNTIME={__proto__:null,c:function(Te){return Ie.H.useMemoCache(Te)}},Sn.cache=function(Te){return function(){return Te.apply(null,arguments)}},Sn.cacheSignal=function(){return null},Sn.cloneElement=function(Te,ne,we){if(Te==null)throw Error("The argument must be a React element, but you passed "+Te+".");var Ue=H({},Te.props),De=Te.key;if(ne!=null)for(Xe in ne.key!==void 0&&(De=""+ne.key),ne)!Fe.call(ne,Xe)||Xe==="key"||Xe==="__self"||Xe==="__source"||Xe==="ref"&&ne.ref===void 0||(Ue[Xe]=ne[Xe]);var Xe=arguments.length-2;if(Xe===1)Ue.children=we;else if(1<Xe){for(var Je=Array(Xe),dt=0;dt<Xe;dt++)Je[dt]=arguments[dt+2];Ue.children=Je}return pe(Te.type,De,Ue)},Sn.createContext=function(Te){return Te={$$typeof:f,_currentValue:Te,_currentValue2:Te,_threadCount:0,Provider:null,Consumer:null},Te.Provider=Te,Te.Consumer={$$typeof:A,_context:Te},Te},Sn.createElement=function(Te,ne,we){var Ue,De={},Xe=null;if(ne!=null)for(Ue in ne.key!==void 0&&(Xe=""+ne.key),ne)Fe.call(ne,Ue)&&Ue!=="key"&&Ue!=="__self"&&Ue!=="__source"&&(De[Ue]=ne[Ue]);var Je=arguments.length-2;if(Je===1)De.children=we;else if(1<Je){for(var dt=Array(Je),He=0;He<Je;He++)dt[He]=arguments[He+2];De.children=dt}if(Te&&Te.defaultProps)for(Ue in Je=Te.defaultProps,Je)De[Ue]===void 0&&(De[Ue]=Je[Ue]);return pe(Te,Xe,De)},Sn.createRef=function(){return{current:null}},Sn.forwardRef=function(Te){return{$$typeof:l,render:Te}},Sn.isValidElement=ie,Sn.lazy=function(Te){return{$$typeof:b,_payload:{_status:-1,_result:Te},_init:Ve}},Sn.memo=function(Te,ne){return{$$typeof:w,type:Te,compare:ne===void 0?null:ne}},Sn.startTransition=function(Te){var ne=Ie.T,we={};Ie.T=we;try{var Ue=Te(),De=Ie.S;De!==null&&De(we,Ue),typeof Ue=="object"&&Ue!==null&&typeof Ue.then=="function"&&Ue.then(me,We)}catch(Xe){We(Xe)}finally{ne!==null&&we.types!==null&&(ne.types=we.types),Ie.T=ne}},Sn.unstable_useCacheRefresh=function(){return Ie.H.useCacheRefresh()},Sn.use=function(Te){return Ie.H.use(Te)},Sn.useActionState=function(Te,ne,we){return Ie.H.useActionState(Te,ne,we)},Sn.useCallback=function(Te,ne){return Ie.H.useCallback(Te,ne)},Sn.useContext=function(Te){return Ie.H.useContext(Te)},Sn.useDebugValue=function(){},Sn.useDeferredValue=function(Te,ne){return Ie.H.useDeferredValue(Te,ne)},Sn.useEffect=function(Te,ne){return Ie.H.useEffect(Te,ne)},Sn.useEffectEvent=function(Te){return Ie.H.useEffectEvent(Te)},Sn.useId=function(){return Ie.H.useId()},Sn.useImperativeHandle=function(Te,ne,we){return Ie.H.useImperativeHandle(Te,ne,we)},Sn.useInsertionEffect=function(Te,ne){return Ie.H.useInsertionEffect(Te,ne)},Sn.useLayoutEffect=function(Te,ne){return Ie.H.useLayoutEffect(Te,ne)},Sn.useMemo=function(Te,ne){return Ie.H.useMemo(Te,ne)},Sn.useOptimistic=function(Te,ne){return Ie.H.useOptimistic(Te,ne)},Sn.useReducer=function(Te,ne,we){return Ie.H.useReducer(Te,ne,we)},Sn.useRef=function(Te){return Ie.H.useRef(Te)},Sn.useState=function(Te){return Ie.H.useState(Te)},Sn.useSyncExternalStore=function(Te,ne,we){return Ie.H.useSyncExternalStore(Te,ne,we)},Sn.useTransition=function(){return Ie.H.useTransition()},Sn.version="19.2.0",Sn}var cS;function $g(){return cS||(cS=1,Jw.exports=nk()),Jw.exports}var se=$g();const ik=wh(se),ak=ek({__proto__:null,default:ik},[se]);var eb={exports:{}},i0={},tb={exports:{}},rb={};var hS;function sk(){return hS||(hS=1,(function(e){function t(Le,Ne){var Ve=Le.length;Le.push(Ne);e:for(;0<Ve;){var We=Ve-1>>>1,_t=Le[We];if(0<s(_t,Ne))Le[We]=Ne,Le[Ve]=_t,Ve=We;else break e}}function r(Le){return Le.length===0?null:Le[0]}function n(Le){if(Le.length===0)return null;var Ne=Le[0],Ve=Le.pop();if(Ve!==Ne){Le[0]=Ve;e:for(var We=0,_t=Le.length,Te=_t>>>1;We<Te;){var ne=2*(We+1)-1,we=Le[ne],Ue=ne+1,De=Le[Ue];if(0>s(we,Ve))Ue<_t&&0>s(De,we)?(Le[We]=De,Le[Ue]=Ve,We=Ue):(Le[We]=we,Le[ne]=Ve,We=ne);else if(Ue<_t&&0>s(De,Ve))Le[We]=De,Le[Ue]=Ve,We=Ue;else break e}}return Ne}function s(Le,Ne){var Ve=Le.sortIndex-Ne.sortIndex;return Ve!==0?Ve:Le.id-Ne.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var A=performance;e.unstable_now=function(){return A.now()}}else{var f=Date,l=f.now();e.unstable_now=function(){return f.now()-l}}var y=[],w=[],b=1,S=null,U=3,I=!1,z=!1,H=!1,K=!1,V=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function le(Le){for(var Ne=r(w);Ne!==null;){if(Ne.callback===null)n(w);else if(Ne.startTime<=Le)n(w),Ne.sortIndex=Ne.expirationTime,t(y,Ne);else break;Ne=r(w)}}function ce(Le){if(H=!1,le(Le),!z)if(r(y)!==null)z=!0,me||(me=!0,de());else{var Ne=r(w);Ne!==null&&tt(ce,Ne.startTime-Le)}}var me=!1,Ie=-1,Fe=5,pe=-1;function ze(){return K?!0:!(e.unstable_now()-pe<Fe)}function ie(){if(K=!1,me){var Le=e.unstable_now();pe=Le;var Ne=!0;try{e:{z=!1,H&&(H=!1,re(Ie),Ie=-1),I=!0;var Ve=U;try{t:{for(le(Le),S=r(y);S!==null&&!(S.expirationTime>Le&&ze());){var We=S.callback;if(typeof We=="function"){S.callback=null,U=S.priorityLevel;var _t=We(S.expirationTime<=Le);if(Le=e.unstable_now(),typeof _t=="function"){S.callback=_t,le(Le),Ne=!0;break t}S===r(y)&&n(y),le(Le)}else n(y);S=r(y)}if(S!==null)Ne=!0;else{var Te=r(w);Te!==null&&tt(ce,Te.startTime-Le),Ne=!1}}break e}finally{S=null,U=Ve,I=!1}Ne=void 0}}finally{Ne?de():me=!1}}}var de;if(typeof W=="function")de=function(){W(ie)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,_e=ve.port2;ve.port1.onmessage=ie,de=function(){_e.postMessage(null)}}else de=function(){V(ie,0)};function tt(Le,Ne){Ie=V(function(){Le(e.unstable_now())},Ne)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Le){Le.callback=null},e.unstable_forceFrameRate=function(Le){0>Le||125<Le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Fe=0<Le?Math.floor(1e3/Le):5},e.unstable_getCurrentPriorityLevel=function(){return U},e.unstable_next=function(Le){switch(U){case 1:case 2:case 3:var Ne=3;break;default:Ne=U}var Ve=U;U=Ne;try{return Le()}finally{U=Ve}},e.unstable_requestPaint=function(){K=!0},e.unstable_runWithPriority=function(Le,Ne){switch(Le){case 1:case 2:case 3:case 4:case 5:break;default:Le=3}var Ve=U;U=Le;try{return Ne()}finally{U=Ve}},e.unstable_scheduleCallback=function(Le,Ne,Ve){var We=e.unstable_now();switch(typeof Ve=="object"&&Ve!==null?(Ve=Ve.delay,Ve=typeof Ve=="number"&&0<Ve?We+Ve:We):Ve=We,Le){case 1:var _t=-1;break;case 2:_t=250;break;case 5:_t=1073741823;break;case 4:_t=1e4;break;default:_t=5e3}return _t=Ve+_t,Le={id:b++,callback:Ne,priorityLevel:Le,startTime:Ve,expirationTime:_t,sortIndex:-1},Ve>We?(Le.sortIndex=Ve,t(w,Le),r(y)===null&&Le===r(w)&&(H?(re(Ie),Ie=-1):H=!0,tt(ce,Ve-We))):(Le.sortIndex=_t,t(y,Le),z||I||(z=!0,me||(me=!0,de()))),Le},e.unstable_shouldYield=ze,e.unstable_wrapCallback=function(Le){var Ne=U;return function(){var Ve=U;U=Ne;try{return Le.apply(this,arguments)}finally{U=Ve}}}})(rb)),rb}var fS;function ok(){return fS||(fS=1,tb.exports=sk()),tb.exports}var nb={exports:{}},Tl={};var dS;function lk(){if(dS)return Tl;dS=1;var e=$g();function t(y){var w="https://react.dev/errors/"+y;if(1<arguments.length){w+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)w+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+y+"; visit "+w+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},s=Symbol.for("react.portal");function A(y,w,b){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:S==null?null:""+S,children:y,containerInfo:w,implementation:b}}var f=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(y,w){if(y==="font")return"";if(typeof w=="string")return w==="use-credentials"?w:""}return Tl.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Tl.createPortal=function(y,w){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!w||w.nodeType!==1&&w.nodeType!==9&&w.nodeType!==11)throw Error(t(299));return A(y,w,null,b)},Tl.flushSync=function(y){var w=f.T,b=n.p;try{if(f.T=null,n.p=2,y)return y()}finally{f.T=w,n.p=b,n.d.f()}},Tl.preconnect=function(y,w){typeof y=="string"&&(w?(w=w.crossOrigin,w=typeof w=="string"?w==="use-credentials"?w:"":void 0):w=null,n.d.C(y,w))},Tl.prefetchDNS=function(y){typeof y=="string"&&n.d.D(y)},Tl.preinit=function(y,w){if(typeof y=="string"&&w&&typeof w.as=="string"){var b=w.as,S=l(b,w.crossOrigin),U=typeof w.integrity=="string"?w.integrity:void 0,I=typeof w.fetchPriority=="string"?w.fetchPriority:void 0;b==="style"?n.d.S(y,typeof w.precedence=="string"?w.precedence:void 0,{crossOrigin:S,integrity:U,fetchPriority:I}):b==="script"&&n.d.X(y,{crossOrigin:S,integrity:U,fetchPriority:I,nonce:typeof w.nonce=="string"?w.nonce:void 0})}},Tl.preinitModule=function(y,w){if(typeof y=="string")if(typeof w=="object"&&w!==null){if(w.as==null||w.as==="script"){var b=l(w.as,w.crossOrigin);n.d.M(y,{crossOrigin:b,integrity:typeof w.integrity=="string"?w.integrity:void 0,nonce:typeof w.nonce=="string"?w.nonce:void 0})}}else w==null&&n.d.M(y)},Tl.preload=function(y,w){if(typeof y=="string"&&typeof w=="object"&&w!==null&&typeof w.as=="string"){var b=w.as,S=l(b,w.crossOrigin);n.d.L(y,b,{crossOrigin:S,integrity:typeof w.integrity=="string"?w.integrity:void 0,nonce:typeof w.nonce=="string"?w.nonce:void 0,type:typeof w.type=="string"?w.type:void 0,fetchPriority:typeof w.fetchPriority=="string"?w.fetchPriority:void 0,referrerPolicy:typeof w.referrerPolicy=="string"?w.referrerPolicy:void 0,imageSrcSet:typeof w.imageSrcSet=="string"?w.imageSrcSet:void 0,imageSizes:typeof w.imageSizes=="string"?w.imageSizes:void 0,media:typeof w.media=="string"?w.media:void 0})}},Tl.preloadModule=function(y,w){if(typeof y=="string")if(w){var b=l(w.as,w.crossOrigin);n.d.m(y,{as:typeof w.as=="string"&&w.as!=="script"?w.as:void 0,crossOrigin:b,integrity:typeof w.integrity=="string"?w.integrity:void 0})}else n.d.m(y)},Tl.requestFormReset=function(y){n.d.r(y)},Tl.unstable_batchedUpdates=function(y,w){return y(w)},Tl.useFormState=function(y,w,b){return f.H.useFormState(y,w,b)},Tl.useFormStatus=function(){return f.H.useHostTransitionStatus()},Tl.version="19.2.0",Tl}var pS;function ZF(){if(pS)return nb.exports;pS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),nb.exports=lk(),nb.exports}var gS;function Ak(){if(gS)return i0;gS=1;var e=ok(),t=$g(),r=ZF();function n(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)c+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function A(o){var c=o,g=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(g=c.return),o=c.return;while(o)}return c.tag===3?g:null}function f(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function l(o){if(o.tag===31){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function y(o){if(A(o)!==o)throw Error(n(188))}function w(o){var c=o.alternate;if(!c){if(c=A(o),c===null)throw Error(n(188));return c!==o?null:o}for(var g=o,C=c;;){var P=g.return;if(P===null)break;var R=P.alternate;if(R===null){if(C=P.return,C!==null){g=C;continue}break}if(P.child===R.child){for(R=P.child;R;){if(R===g)return y(P),o;if(R===C)return y(P),c;R=R.sibling}throw Error(n(188))}if(g.return!==C.return)g=P,C=R;else{for(var te=!1,Se=P.child;Se;){if(Se===g){te=!0,g=P,C=R;break}if(Se===C){te=!0,C=P,g=R;break}Se=Se.sibling}if(!te){for(Se=R.child;Se;){if(Se===g){te=!0,g=R,C=P;break}if(Se===C){te=!0,C=R,g=P;break}Se=Se.sibling}if(!te)throw Error(n(189))}}if(g.alternate!==C)throw Error(n(190))}if(g.tag!==3)throw Error(n(188));return g.stateNode.current===g?o:c}function b(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=b(o),c!==null)return c;o=o.sibling}return null}var S=Object.assign,U=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),re=Symbol.for("react.consumer"),W=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),Ie=Symbol.for("react.memo"),Fe=Symbol.for("react.lazy"),pe=Symbol.for("react.activity"),ze=Symbol.for("react.memo_cache_sentinel"),ie=Symbol.iterator;function de(o){return o===null||typeof o!="object"?null:(o=ie&&o[ie]||o["@@iterator"],typeof o=="function"?o:null)}var ve=Symbol.for("react.client.reference");function _e(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===ve?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case H:return"Fragment";case V:return"Profiler";case K:return"StrictMode";case ce:return"Suspense";case me:return"SuspenseList";case pe:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case z:return"Portal";case W:return o.displayName||"Context";case re:return(o._context.displayName||"Context")+".Consumer";case le:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Ie:return c=o.displayName||null,c!==null?c:_e(o.type)||"Memo";case Fe:c=o._payload,o=o._init;try{return _e(o(c))}catch{}}return null}var tt=Array.isArray,Le=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ne=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ve={pending:!1,data:null,method:null,action:null},We=[],_t=-1;function Te(o){return{current:o}}function ne(o){0>_t||(o.current=We[_t],We[_t]=null,_t--)}function we(o,c){_t++,We[_t]=o.current,o.current=c}var Ue=Te(null),De=Te(null),Xe=Te(null),Je=Te(null);function dt(o,c){switch(we(Xe,c),we(De,o),we(Ue,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?E(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=E(c),o=T(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}ne(Ue),we(Ue,o)}function He(){ne(Ue),ne(De),ne(Xe)}function ft(o){o.memoizedState!==null&&we(Je,o);var c=Ue.current,g=T(c,o.type);c!==g&&(we(De,o),we(Ue,g))}function It(o){De.current===o&&(ne(Ue),ne(De)),Je.current===o&&(ne(Je),$f._currentValue=Ve)}var ct,Xt;function $t(o){if(ct===void 0)try{throw Error()}catch(g){var c=g.stack.trim().match(/\n( *(at )?)/);ct=c&&c[1]||"",Xt=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ct+o+Xt}var Pe=!1;function Ze(o,c){if(!o||Pe)return"";Pe=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var C={DetermineComponentFrameRoot:function(){try{if(c){var Ht=function(){throw Error()};if(Object.defineProperty(Ht.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ht,[])}catch(Tt){var xt=Tt}Reflect.construct(o,[],Ht)}else{try{Ht.call()}catch(Tt){xt=Tt}o.call(Ht.prototype)}}else{try{throw Error()}catch(Tt){xt=Tt}(Ht=o())&&typeof Ht.catch=="function"&&Ht.catch(function(){})}}catch(Tt){if(Tt&&xt&&typeof Tt.stack=="string")return[Tt.stack,xt.stack]}return[null,null]}};C.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var P=Object.getOwnPropertyDescriptor(C.DetermineComponentFrameRoot,"name");P&&P.configurable&&Object.defineProperty(C.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var R=C.DetermineComponentFrameRoot(),te=R[0],Se=R[1];if(te&&Se){var et=te.split(`
`),vt=Se.split(`
`);for(P=C=0;C<et.length&&!et[C].includes("DetermineComponentFrameRoot");)C++;for(;P<vt.length&&!vt[P].includes("DetermineComponentFrameRoot");)P++;if(C===et.length||P===vt.length)for(C=et.length-1,P=vt.length-1;1<=C&&0<=P&&et[C]!==vt[P];)P--;for(;1<=C&&0<=P;C--,P--)if(et[C]!==vt[P]){if(C!==1||P!==1)do if(C--,P--,0>P||et[C]!==vt[P]){var Dt=`
`+et[C].replace(" at new "," at ");return o.displayName&&Dt.includes("<anonymous>")&&(Dt=Dt.replace("<anonymous>",o.displayName)),Dt}while(1<=C&&0<=P);break}}}finally{Pe=!1,Error.prepareStackTrace=g}return(g=o?o.displayName||o.name:"")?$t(g):""}function Nr(o,c){switch(o.tag){case 26:case 27:case 5:return $t(o.type);case 16:return $t("Lazy");case 13:return o.child!==c&&c!==null?$t("Suspense Fallback"):$t("Suspense");case 19:return $t("SuspenseList");case 0:case 15:return Ze(o.type,!1);case 11:return Ze(o.type.render,!1);case 1:return Ze(o.type,!0);case 31:return $t("Activity");default:return""}}function Er(o){try{var c="",g=null;do c+=Nr(o,g),g=o,o=o.return;while(o);return c}catch(C){return`
Error generating stack: `+C.message+`
`+C.stack}}var Et=Object.prototype.hasOwnProperty,nr=e.unstable_scheduleCallback,ur=e.unstable_cancelCallback,Tr=e.unstable_shouldYield,Br=e.unstable_requestPaint,rn=e.unstable_now,nn=e.unstable_getCurrentPriorityLevel,Jr=e.unstable_ImmediatePriority,yn=e.unstable_UserBlockingPriority,Ft=e.unstable_NormalPriority,cr=e.unstable_LowPriority,Pr=e.unstable_IdlePriority,fr=e.log,ri=e.unstable_setDisableYieldValue,Pt=null,Zt=null;function qt(o){if(typeof fr=="function"&&ri(o),Zt&&typeof Zt.setStrictMode=="function")try{Zt.setStrictMode(Pt,o)}catch{}}var $r=Math.clz32?Math.clz32:Ur,_r=Math.log,sr=Math.LN2;function Ur(o){return o>>>=0,o===0?32:31-(_r(o)/sr|0)|0}var Rr=256,kn=262144,Gr=4194304;function Me(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function oe(o,c,g){var C=o.pendingLanes;if(C===0)return 0;var P=0,R=o.suspendedLanes,te=o.pingedLanes;o=o.warmLanes;var Se=C&134217727;return Se!==0?(C=Se&~R,C!==0?P=Me(C):(te&=Se,te!==0?P=Me(te):g||(g=Se&~o,g!==0&&(P=Me(g))))):(Se=C&~R,Se!==0?P=Me(Se):te!==0?P=Me(te):g||(g=C&~o,g!==0&&(P=Me(g)))),P===0?0:c!==0&&c!==P&&(c&R)===0&&(R=P&-P,g=c&-c,R>=g||R===32&&(g&4194048)!==0)?c:P}function Ae(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function be(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ke(){var o=Gr;return Gr<<=1,(Gr&62914560)===0&&(Gr=4194304),o}function Ye(o){for(var c=[],g=0;31>g;g++)c.push(o);return c}function je(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function st(o,c,g,C,P,R){var te=o.pendingLanes;o.pendingLanes=g,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=g,o.entangledLanes&=g,o.errorRecoveryDisabledLanes&=g,o.shellSuspendCounter=0;var Se=o.entanglements,et=o.expirationTimes,vt=o.hiddenUpdates;for(g=te&~g;0<g;){var Dt=31-$r(g),Ht=1<<Dt;Se[Dt]=0,et[Dt]=-1;var xt=vt[Dt];if(xt!==null)for(vt[Dt]=null,Dt=0;Dt<xt.length;Dt++){var Tt=xt[Dt];Tt!==null&&(Tt.lane&=-536870913)}g&=~Ht}C!==0&&$e(o,C,0),R!==0&&P===0&&o.tag!==0&&(o.suspendedLanes|=R&~(te&~c))}function $e(o,c,g){o.pendingLanes|=c,o.suspendedLanes&=~c;var C=31-$r(c);o.entangledLanes|=c,o.entanglements[C]=o.entanglements[C]|1073741824|g&261930}function gt(o,c){var g=o.entangledLanes|=c;for(o=o.entanglements;g;){var C=31-$r(g),P=1<<C;P&c|o[C]&c&&(o[C]|=c),g&=~P}}function Lt(o,c){var g=c&-c;return g=(g&42)!==0?1:ut(g),(g&(o.suspendedLanes|c))!==0?0:g}function ut(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Nt(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Jt(){var o=Ne.p;return o!==0?o:(o=window.event,o===void 0?32:Ds(o.type))}function dr(o,c){var g=Ne.p;try{return Ne.p=o,c()}finally{Ne.p=g}}var Zr=Math.random().toString(36).slice(2),or="__reactFiber$"+Zr,Or="__reactProps$"+Zr,zr="__reactContainer$"+Zr,Kn="__reactEvents$"+Zr,Qn="__reactListeners$"+Zr,en="__reactHandles$"+Zr,vn="__reactResources$"+Zr,Pn="__reactMarker$"+Zr;function mi(o){delete o[or],delete o[Or],delete o[Kn],delete o[Qn],delete o[en]}function ai(o){var c=o[or];if(c)return c;for(var g=o.parentNode;g;){if(c=g[zr]||g[or]){if(g=c.alternate,c.child!==null||g!==null&&g.child!==null)for(o=Ar(o);o!==null;){if(g=o[or])return g;o=Ar(o)}return c}o=g,g=o.parentNode}return null}function yi(o){if(o=o[or]||o[zr]){var c=o.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return o}return null}function fo(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(n(33))}function bn(o){var c=o[vn];return c||(c=o[vn]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Ui(o){o[Pn]=!0}var WA=new Set,vi={};function Li(o,c){zl(o,c),zl(o+"Capture",c)}function zl(o,c){for(vi[o]=c,o=0;o<c.length;o++)WA.add(c[o])}var qa=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ka={},rl={};function nl(o){return Et.call(rl,o)?!0:Et.call(ka,o)?!1:qa.test(o)?rl[o]=!0:(ka[o]=!0,!1)}function Vn(o,c,g){if(nl(c))if(g===null)o.removeAttribute(c);else{switch(typeof g){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var C=c.toLowerCase().slice(0,5);if(C!=="data-"&&C!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+g)}}function Hs(o,c,g){if(g===null)o.removeAttribute(c);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+g)}}function $i(o,c,g,C){if(C===null)o.removeAttribute(g);else{switch(typeof C){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(g);return}o.setAttributeNS(c,g,""+C)}}function qr(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function pA(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function oa(o,c,g){var C=Object.getOwnPropertyDescriptor(o.constructor.prototype,c);if(!o.hasOwnProperty(c)&&typeof C<"u"&&typeof C.get=="function"&&typeof C.set=="function"){var P=C.get,R=C.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return P.call(this)},set:function(te){g=""+te,R.call(this,te)}}),Object.defineProperty(o,c,{enumerable:C.enumerable}),{getValue:function(){return g},setValue:function(te){g=""+te},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function il(o){if(!o._valueTracker){var c=pA(o)?"checked":"value";o._valueTracker=oa(o,c,""+o[c])}}function is(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var g=c.getValue(),C="";return o&&(C=pA(o)?o.checked?"true":"false":o.value),o=C,o!==g?(c.setValue(o),!0):!1}function as(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Ri=/[\n"\\]/g;function ui(o){return o.replace(Ri,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function js(o,c,g,C,P,R,te,Se){o.name="",te!=null&&typeof te!="function"&&typeof te!="symbol"&&typeof te!="boolean"?o.type=te:o.removeAttribute("type"),c!=null?te==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+qr(c)):o.value!==""+qr(c)&&(o.value=""+qr(c)):te!=="submit"&&te!=="reset"||o.removeAttribute("value"),c!=null?YA(o,te,qr(c)):g!=null?YA(o,te,qr(g)):C!=null&&o.removeAttribute("value"),P==null&&R!=null&&(o.defaultChecked=!!R),P!=null&&(o.checked=P&&typeof P!="function"&&typeof P!="symbol"),Se!=null&&typeof Se!="function"&&typeof Se!="symbol"&&typeof Se!="boolean"?o.name=""+qr(Se):o.removeAttribute("name")}function Un(o,c,g,C,P,R,te,Se){if(R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(o.type=R),c!=null||g!=null){if(!(R!=="submit"&&R!=="reset"||c!=null)){il(o);return}g=g!=null?""+qr(g):"",c=c!=null?""+qr(c):g,Se||c===o.value||(o.value=c),o.defaultValue=c}C=C??P,C=typeof C!="function"&&typeof C!="symbol"&&!!C,o.checked=Se?o.checked:!!C,o.defaultChecked=!!C,te!=null&&typeof te!="function"&&typeof te!="symbol"&&typeof te!="boolean"&&(o.name=te),il(o)}function YA(o,c,g){c==="number"&&as(o.ownerDocument)===o||o.defaultValue===""+g||(o.defaultValue=""+g)}function Qa(o,c,g,C){if(o=o.options,c){c={};for(var P=0;P<g.length;P++)c["$"+g[P]]=!0;for(g=0;g<o.length;g++)P=c.hasOwnProperty("$"+o[g].value),o[g].selected!==P&&(o[g].selected=P),P&&C&&(o[g].defaultSelected=!0)}else{for(g=""+qr(g),c=null,P=0;P<o.length;P++){if(o[P].value===g){o[P].selected=!0,C&&(o[P].defaultSelected=!0);return}c!==null||o[P].disabled||(c=o[P])}c!==null&&(c.selected=!0)}}function al(o,c,g){if(c!=null&&(c=""+qr(c),c!==o.value&&(o.value=c),g==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=g!=null?""+qr(g):""}function JA(o,c,g,C){if(c==null){if(C!=null){if(g!=null)throw Error(n(92));if(tt(C)){if(1<C.length)throw Error(n(93));C=C[0]}g=C}g==null&&(g=""),c=g}g=qr(c),o.defaultValue=g,C=o.textContent,C===g&&C!==""&&C!==null&&(o.value=C),il(o)}function Bs(o,c){if(c){var g=o.firstChild;if(g&&g===o.lastChild&&g.nodeType===3){g.nodeValue=c;return}}o.textContent=c}var Po=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function eu(o,c,g){var C=c.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?C?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":C?o.setProperty(c,g):typeof g!="number"||g===0||Po.has(c)?c==="float"?o.cssFloat=g:o[c]=(""+g).trim():o[c]=g+"px"}function Hl(o,c,g){if(c!=null&&typeof c!="object")throw Error(n(62));if(o=o.style,g!=null){for(var C in g)!g.hasOwnProperty(C)||c!=null&&c.hasOwnProperty(C)||(C.indexOf("--")===0?o.setProperty(C,""):C==="float"?o.cssFloat="":o[C]="");for(var P in c)C=c[P],c.hasOwnProperty(P)&&g[P]!==C&&eu(o,P,C)}else for(var R in c)c.hasOwnProperty(R)&&eu(o,R,c[R])}function Eu(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ac=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Cs(o){return Ac.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function Na(){}var Ks=null;function la(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Zi=null,jr=null;function tu(o){var c=yi(o);if(c&&(o=c.stateNode)){var g=o[Or]||null;e:switch(o=c.stateNode,c.type){case"input":if(js(o,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),c=g.name,g.type==="radio"&&c!=null){for(g=o;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+ui(""+c)+'"][type="radio"]'),c=0;c<g.length;c++){var C=g[c];if(C!==o&&C.form===o.form){var P=C[Or]||null;if(!P)throw Error(n(90));js(C,P.value,P.defaultValue,P.defaultValue,P.checked,P.defaultChecked,P.type,P.name)}}for(c=0;c<g.length;c++)C=g[c],C.form===o.form&&is(C)}break e;case"textarea":al(o,g.value,g.defaultValue);break e;case"select":c=g.value,c!=null&&Qa(o,!!g.multiple,c,!1)}}}var gA=!1;function uc(o,c,g){if(gA)return o(c,g);gA=!0;try{var C=o(c);return C}finally{if(gA=!1,(Zi!==null||jr!==null)&&(qd(),Zi&&(c=Zi,o=jr,jr=Zi=null,tu(c),o)))for(c=0;c<o.length;c++)tu(o[c])}}function Sa(o,c){var g=o.stateNode;if(g===null)return null;var C=g[Or]||null;if(C===null)return null;g=C[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(C=!C.disabled)||(o=o.type,C=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!C;break e;default:o=!1}if(o)return null;if(g&&typeof g!="function")throw Error(n(231,c,typeof g));return g}var Ra=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tu=!1;if(Ra)try{var mA={};Object.defineProperty(mA,"passive",{get:function(){Tu=!0}}),window.addEventListener("test",mA,mA),window.removeEventListener("test",mA,mA)}catch{Tu=!1}var Vs=null,ru=null,Oo=null;function yA(){if(Oo)return Oo;var o,c=ru,g=c.length,C,P="value"in Vs?Vs.value:Vs.textContent,R=P.length;for(o=0;o<g&&c[o]===P[o];o++);var te=g-o;for(C=1;C<=te&&c[g-C]===P[R-C];C++);return Oo=P.slice(o,1<C?1-C:void 0)}function Ss(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function jl(){return!0}function vA(){return!1}function Aa(o){function c(g,C,P,R,te){this._reactName=g,this._targetInst=P,this.type=C,this.nativeEvent=R,this.target=te,this.currentTarget=null;for(var Se in o)o.hasOwnProperty(Se)&&(g=o[Se],this[Se]=g?g(R):R[Se]);return this.isDefaultPrevented=(R.defaultPrevented!=null?R.defaultPrevented:R.returnValue===!1)?jl:vA,this.isPropagationStopped=vA,this}return S(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=jl)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=jl)},persist:function(){},isPersistent:jl}),c}var pa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},po=Aa(pa),Do=S({},pa,{view:0,detail:0}),go=Aa(Do),Es,_n,mo,nu=S({},Do,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tn,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==mo&&(mo&&o.type==="mousemove"?(Es=o.screenX-mo.screenX,_n=o.screenY-mo.screenY):_n=Es=0,mo=o),Es)},movementY:function(o){return"movementY"in o?o.movementY:_n}}),sl=Aa(nu),Kl=S({},nu,{dataTransfer:0}),ol=Aa(Kl),Nc=S({},Do,{relatedTarget:0}),ll=Aa(Nc),Iu=S({},pa,{animationName:0,elapsedTime:0,pseudoElement:0}),j=Aa(Iu),fe=S({},pa,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Qe=Aa(fe),rt=S({},pa,{data:0}),lt=Aa(rt),Ot={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wr(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=yr[o])?!!c[o]:!1}function tn(){return wr}var An=S({},Do,{key:function(o){if(o.key){var c=Ot[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=Ss(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?jt[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tn,charCode:function(o){return o.type==="keypress"?Ss(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Ss(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),zn=Aa(An),Mi=S({},nu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zi=Aa(Mi),si=S({},Do,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tn}),ua=Aa(si),Hi=S({},pa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ea=Aa(Hi),yo=S({},nu,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),ga=Aa(yo),ko=S({},pa,{newState:0,oldState:0}),iu=Aa(ko),_A=[9,13,27,32],qs=Ra&&"CompositionEvent"in window,Gs=null;Ra&&"documentMode"in document&&(Gs=document.documentMode);var Xs=Ra&&"TextEvent"in window&&!Gs,Qo=Ra&&(!qs||Gs&&8<Gs&&11>=Gs),Ta=" ",ei=!1;function wA(o,c){switch(o){case"keyup":return _A.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ln(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var $s=!1;function gn(o,c){switch(o){case"compositionend":return ln(c);case"keypress":return c.which!==32?null:(ei=!0,Ta);case"textInput":return o=c.data,o===Ta&&ei?null:o;default:return null}}function Tn(o,c){if($s)return o==="compositionend"||!qs&&wA(o,c)?(o=yA(),Oo=ru=Vs=null,$s=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Qo&&c.locale!=="ko"?null:c.data;default:return null}}var vo={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vl(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!vo[o.type]:c==="textarea"}function za(o,c,g,C){Zi?jr?jr.push(C):jr=[C]:Zi=C,c=Jd(c,"onChange"),0<c.length&&(g=new po("onChange","change",null,g,C),o.push({event:g,listeners:c}))}var Zs=null,ss=null;function Al(o){ng(o,0)}function ji(o){var c=fo(o);if(is(c))return o}function ul(o,c){if(o==="change")return c}var Ga=!1;if(Ra){var Ha;if(Ra){var Xa="oninput"in document;if(!Xa){var Ts=document.createElement("div");Ts.setAttribute("oninput","return;"),Xa=typeof Ts.oninput=="function"}Ha=Xa}else Ha=!1;Ga=Ha&&(!document.documentMode||9<document.documentMode)}function Ws(){Zs&&(Zs.detachEvent("onpropertychange",No),ss=Zs=null)}function No(o){if(o.propertyName==="value"&&ji(ss)){var c=[];za(c,ss,o,la(o)),uc(Al,c)}}function cl(o,c,g){o==="focusin"?(Ws(),Zs=c,ss=g,Zs.attachEvent("onpropertychange",No)):o==="focusout"&&Ws()}function Ci(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return ji(ss)}function ql(o,c){if(o==="click")return ji(c)}function os(o,c){if(o==="input"||o==="change")return ji(c)}function Ro(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var ma=typeof Object.is=="function"?Object.is:Ro;function dn(o,c){if(ma(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var g=Object.keys(o),C=Object.keys(c);if(g.length!==C.length)return!1;for(C=0;C<g.length;C++){var P=g[C];if(!Et.call(c,P)||!ma(o[P],c[P]))return!1}return!0}function Gl(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Fu(o,c){var g=Gl(o);o=0;for(var C;g;){if(g.nodeType===3){if(C=o+g.textContent.length,o<=c&&C>=c)return{node:g,offset:c-o};o=C}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=Gl(g)}}function hl(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?hl(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function Is(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=as(o.document);c instanceof o.HTMLIFrameElement;){try{var g=typeof c.contentWindow.location.href=="string"}catch{g=!1}if(g)o=c.contentWindow;else break;c=as(o.document)}return c}function zo(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var fl=Ra&&"documentMode"in document&&11>=document.documentMode,Fs=null,dl=null,ya=null,ls=!1;function Ln(o,c,g){var C=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;ls||Fs==null||Fs!==as(C)||(C=Fs,"selectionStart"in C&&zo(C)?C={start:C.selectionStart,end:C.selectionEnd}:(C=(C.ownerDocument&&C.ownerDocument.defaultView||window).getSelection(),C={anchorNode:C.anchorNode,anchorOffset:C.anchorOffset,focusNode:C.focusNode,focusOffset:C.focusOffset}),ya&&dn(ya,C)||(ya=C,C=Jd(dl,"onSelect"),0<C.length&&(c=new po("onSelect","select",null,c,g),o.push({event:c,listeners:C}),c.target=Fs)))}function Bn(o,c){var g={};return g[o.toLowerCase()]=c.toLowerCase(),g["Webkit"+o]="webkit"+c,g["Moz"+o]="moz"+c,g}var $n={animationend:Bn("Animation","AnimationEnd"),animationiteration:Bn("Animation","AnimationIteration"),animationstart:Bn("Animation","AnimationStart"),transitionrun:Bn("Transition","TransitionRun"),transitionstart:Bn("Transition","TransitionStart"),transitioncancel:Bn("Transition","TransitionCancel"),transitionend:Bn("Transition","TransitionEnd")},Pi={},As={};Ra&&(As=document.createElement("div").style,"AnimationEvent"in window||(delete $n.animationend.animation,delete $n.animationiteration.animation,delete $n.animationstart.animation),"TransitionEvent"in window||delete $n.transitionend.transition);function us(o){if(Pi[o])return Pi[o];if(!$n[o])return o;var c=$n[o],g;for(g in c)if(c.hasOwnProperty(g)&&g in As)return Pi[o]=c[g];return o}var pl=us("animationend"),bA=us("animationiteration"),cc=us("animationstart"),gf=us("transitionrun"),Ch=us("transitionstart"),hc=us("transitioncancel"),fc=us("transitionend"),au=new Map,Ho="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ho.push("scrollEnd");function oi(o,c){au.set(o,c),Li(c,[o])}var jo=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},Us=[],xA=0,_i=0;function cs(){for(var o=xA,c=_i=xA=0;c<o;){var g=Us[c];Us[c++]=null;var C=Us[c];Us[c++]=null;var P=Us[c];Us[c++]=null;var R=Us[c];if(Us[c++]=null,C!==null&&P!==null){var te=C.pending;te===null?P.next=P:(P.next=te.next,te.next=P),C.pending=P}R!==0&&CA(g,P,R)}}function ja(o,c,g,C){Us[xA++]=o,Us[xA++]=c,Us[xA++]=g,Us[xA++]=C,_i|=C,o.lanes|=C,o=o.alternate,o!==null&&(o.lanes|=C)}function BA(o,c,g,C){return ja(o,c,g,C),Wi(o)}function Ko(o,c){return ja(o,null,null,c),Wi(o)}function CA(o,c,g){o.lanes|=g;var C=o.alternate;C!==null&&(C.lanes|=g);for(var P=!1,R=o.return;R!==null;)R.childLanes|=g,C=R.alternate,C!==null&&(C.childLanes|=g),R.tag===22&&(o=R.stateNode,o===null||o._visibility&1||(P=!0)),o=R,R=R.return;return o.tag===3?(R=o.stateNode,P&&c!==null&&(P=31-$r(g),o=R.hiddenUpdates,C=o[P],C===null?o[P]=[c]:C.push(c),c.lane=g|536870912),R):null}function Wi(o){if(50<rh)throw rh=0,Vd=null,Error(n(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var wi={};function Uu(o,c,g,C){this.tag=o,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function va(o,c,g,C){return new Uu(o,c,g,C)}function Lu(o){return o=o.prototype,!(!o||!o.isReactComponent)}function hs(o,c){var g=o.alternate;return g===null?(g=va(o.tag,c,o.key,o.mode),g.elementType=o.elementType,g.type=o.type,g.stateNode=o.stateNode,g.alternate=o,o.alternate=g):(g.pendingProps=c,g.type=o.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=o.flags&65011712,g.childLanes=o.childLanes,g.lanes=o.lanes,g.child=o.child,g.memoizedProps=o.memoizedProps,g.memoizedState=o.memoizedState,g.updateQueue=o.updateQueue,c=o.dependencies,g.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},g.sibling=o.sibling,g.index=o.index,g.ref=o.ref,g.refCleanup=o.refCleanup,g}function su(o,c){o.flags&=65011714;var g=o.alternate;return g===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=g.childLanes,o.lanes=g.lanes,o.child=g.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=g.memoizedProps,o.memoizedState=g.memoizedState,o.updateQueue=g.updateQueue,o.type=g.type,c=g.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function SA(o,c,g,C,P,R){var te=0;if(C=o,typeof o=="function")Lu(o)&&(te=1);else if(typeof o=="string")te=oA(o,g,Ue.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case pe:return o=va(31,g,c,P),o.elementType=pe,o.lanes=R,o;case H:return Ls(g.children,P,R,c);case K:te=8,P|=24;break;case V:return o=va(12,g,c,P|2),o.elementType=V,o.lanes=R,o;case ce:return o=va(13,g,c,P),o.elementType=ce,o.lanes=R,o;case me:return o=va(19,g,c,P),o.elementType=me,o.lanes=R,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case W:te=10;break e;case re:te=9;break e;case le:te=11;break e;case Ie:te=14;break e;case Fe:te=16,C=null;break e}te=29,g=Error(n(130,o===null?"null":typeof o,"")),C=null}return c=va(te,g,c,P),c.elementType=o,c.type=C,c.lanes=R,c}function Ls(o,c,g,C){return o=va(7,o,C,c),o.lanes=g,o}function EA(o,c,g){return o=va(6,o,null,c),o.lanes=g,o}function TA(o){var c=va(18,null,null,0);return c.stateNode=o,c}function IA(o,c,g){return c=va(4,o.children!==null?o.children:[],o.key,c),c.lanes=g,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var Mu=new WeakMap;function Ms(o,c){if(typeof o=="object"&&o!==null){var g=Mu.get(o);return g!==void 0?g:(c={value:o,source:c,stack:Er(c)},Mu.set(o,c),c)}return{value:o,source:c,stack:Er(c)}}var FA=[],gl=0,UA=null,Pu=0,Oi=[],Yi=0,ml=null,Ki=1,Ia="";function Ys(o,c){FA[gl++]=Pu,FA[gl++]=UA,UA=o,Pu=c}function mf(o,c,g){Oi[Yi++]=Ki,Oi[Yi++]=Ia,Oi[Yi++]=ml,ml=o;var C=Ki;o=Ia;var P=32-$r(C)-1;C&=~(1<<P),g+=1;var R=32-$r(c)+P;if(30<R){var te=P-P%5;R=(C&(1<<te)-1).toString(32),C>>=te,P-=te,Ki=1<<32-$r(c)+P|g<<P|C,Ia=R+o}else Ki=1<<R|g<<P|C,Ia=o}function Rc(o){o.return!==null&&(Ys(o,1),mf(o,1,0))}function dc(o){for(;o===UA;)UA=FA[--gl],FA[gl]=null,Pu=FA[--gl],FA[gl]=null;for(;o===ml;)ml=Oi[--Yi],Oi[Yi]=null,Ia=Oi[--Yi],Oi[Yi]=null,Ki=Oi[--Yi],Oi[Yi]=null}function zc(o,c){Oi[Yi++]=Ki,Oi[Yi++]=Ia,Oi[Yi++]=ml,Ki=c.id,Ia=c.overflow,ml=o}var Vi=null,Mn=null,Rt=!1,Fa=null,Si=!1,_o=Error(n(519));function Js(o){var c=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw MA(Ms(c,o)),_o}function LA(o){var c=o.stateNode,g=o.type,C=o.memoizedProps;switch(c[or]=o,c[Or]=C,g){case"dialog":jn("cancel",c),jn("close",c);break;case"iframe":case"object":case"embed":jn("load",c);break;case"video":case"audio":for(g=0;g<Vf.length;g++)jn(Vf[g],c);break;case"source":jn("error",c);break;case"img":case"image":case"link":jn("error",c),jn("load",c);break;case"details":jn("toggle",c);break;case"input":jn("invalid",c),Un(c,C.value,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name,!0);break;case"select":jn("invalid",c);break;case"textarea":jn("invalid",c),JA(c,C.value,C.defaultValue,C.children)}g=C.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||c.textContent===""+g||C.suppressHydrationWarning===!0||qf(c.textContent,g)?(C.popover!=null&&(jn("beforetoggle",c),jn("toggle",c)),C.onScroll!=null&&jn("scroll",c),C.onScrollEnd!=null&&jn("scrollend",c),C.onClick!=null&&(c.onclick=Na),c=!0):c=!1,c||Js(o,!0)}function Vo(o){for(Vi=o.return;Vi;)switch(Vi.tag){case 5:case 31:case 13:Si=!1;return;case 27:case 3:Si=!0;return;default:Vi=Vi.return}}function Hr(o){if(o!==Vi)return!1;if(!Rt)return Vo(o),Rt=!0,!1;var c=o.tag,g;if((g=c!==3&&c!==27)&&((g=c===5)&&(g=o.type,g=!(g!=="form"&&g!=="button")||O(o.type,o.memoizedProps)),g=!g),g&&Mn&&Js(o),Vo(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));Mn=pr(o)}else if(c===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));Mn=pr(o)}else c===27?(c=Mn,Be(o.type)?(o=Yt,Yt=null,Mn=o):Mn=c):Mn=Vi?Wt(o.stateNode.nextSibling):null;return!0}function Xl(){Mn=Vi=null,Rt=!1}function Sh(){var o=Fa;return o!==null&&(Xo===null?Xo=o:Xo.push.apply(Xo,o),Fa=null),o}function MA(o){Fa===null?Fa=[o]:Fa.push(o)}var Hc=Te(null),eo=null,qo=null;function yl(o,c,g){we(Hc,c._currentValue),c._currentValue=g}function to(o){o._currentValue=Hc.current,ne(Hc)}function Ou(o,c,g){for(;o!==null;){var C=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,C!==null&&(C.childLanes|=c)):C!==null&&(C.childLanes&c)!==c&&(C.childLanes|=c),o===g)break;o=o.return}}function $l(o,c,g,C){var P=o.child;for(P!==null&&(P.return=o);P!==null;){var R=P.dependencies;if(R!==null){var te=P.child;R=R.firstContext;e:for(;R!==null;){var Se=R;R=P;for(var et=0;et<c.length;et++)if(Se.context===c[et]){R.lanes|=g,Se=R.alternate,Se!==null&&(Se.lanes|=g),Ou(R.return,g,o),C||(te=null);break e}R=Se.next}}else if(P.tag===18){if(te=P.return,te===null)throw Error(n(341));te.lanes|=g,R=te.alternate,R!==null&&(R.lanes|=g),Ou(te,g,o),te=null}else te=P.child;if(te!==null)te.return=P;else for(te=P;te!==null;){if(te===o){te=null;break}if(P=te.sibling,P!==null){P.return=te.return,te=P;break}te=te.return}P=te}}function PA(o,c,g,C){o=null;for(var P=c,R=!1;P!==null;){if(!R){if((P.flags&524288)!==0)R=!0;else if((P.flags&262144)!==0)break}if(P.tag===10){var te=P.alternate;if(te===null)throw Error(n(387));if(te=te.memoizedProps,te!==null){var Se=P.type;ma(P.pendingProps.value,te.value)||(o!==null?o.push(Se):o=[Se])}}else if(P===Je.current){if(te=P.alternate,te===null)throw Error(n(387));te.memoizedState.memoizedState!==P.memoizedState.memoizedState&&(o!==null?o.push($f):o=[$f])}P=P.return}o!==null&&$l(c,o,g,C),c.flags|=262144}function jc(o){for(o=o.firstContext;o!==null;){if(!ma(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function ca(o){eo=o,qo=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function pn(o){return pc(eo,o)}function Zl(o,c){return eo===null&&ca(o),pc(o,c)}function pc(o,c){var g=c._currentValue;if(c={context:c,memoizedValue:g,next:null},qo===null){if(o===null)throw Error(n(308));qo=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else qo=qo.next=c;return g}var Kc=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(g,C){o.push(C)}};this.abort=function(){c.aborted=!0,o.forEach(function(g){return g()})}},yf=e.unstable_scheduleCallback,gc=e.unstable_NormalPriority,bi={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fs(){return{controller:new Kc,data:new Map,refCount:0}}function Wl(o){o.refCount--,o.refCount===0&&yf(gc,function(){o.controller.abort()})}var lr=null,Cr=0,L=0,D=null;function $(o,c){if(lr===null){var g=lr=[];Cr=0,L=Kf(),D={status:"pending",value:void 0,then:function(C){g.push(C)}}}return Cr++,c.then(_,_),c}function _(){if(--Cr===0&&lr!==null){D!==null&&(D.status="fulfilled");var o=lr;lr=null,L=0,D=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function i(o,c){var g=[],C={status:"pending",value:null,reason:null,then:function(P){g.push(P)}};return o.then(function(){C.status="fulfilled",C.value=c;for(var P=0;P<g.length;P++)(0,g[P])(c)},function(P){for(C.status="rejected",C.reason=P,P=0;P<g.length;P++)(0,g[P])(void 0)}),C}var h=Le.S;Le.S=function(o,c){Yy=rn(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&$(o,c),h!==null&&h(o,c)};var p=Te(null);function v(){var o=p.current;return o!==null?o:Ii.pooledCache}function x(o,c){c===null?we(p,p.current):we(p,c.pool)}function F(){var o=v();return o===null?null:{parent:bi._currentValue,pool:o}}var M=Error(n(460)),k=Error(n(474)),Q=Error(n(542)),G={then:function(){}};function X(o){return o=o.status,o==="fulfilled"||o==="rejected"}function J(o,c,g){switch(g=o[g],g===void 0?o.push(c):g!==c&&(c.then(Na,Na),c=g),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,Ce(o),o;default:if(typeof c.status=="string")c.then(Na,Na);else{if(o=Ii,o!==null&&100<o.shellSuspendCounter)throw Error(n(482));o=c,o.status="pending",o.then(function(C){if(c.status==="pending"){var P=c;P.status="fulfilled",P.value=C}},function(C){if(c.status==="pending"){var P=c;P.status="rejected",P.reason=C}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,Ce(o),o}throw ue=c,M}}function ee(o){try{var c=o._init;return c(o._payload)}catch(g){throw g!==null&&typeof g=="object"&&typeof g.then=="function"?(ue=g,M):g}}var ue=null;function ge(){if(ue===null)throw Error(n(459));var o=ue;return ue=null,o}function Ce(o){if(o===M||o===Q)throw Error(n(483))}var xe=null,Oe=0;function Ee(o){var c=Oe;return Oe+=1,xe===null&&(xe=[]),J(xe,o,c)}function qe(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function Ke(o,c){throw c.$$typeof===U?Error(n(525)):(o=Object.prototype.toString.call(c),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function it(o){function c(ht,at){if(o){var mt=ht.deletions;mt===null?(ht.deletions=[at],ht.flags|=16):mt.push(at)}}function g(ht,at){if(!o)return null;for(;at!==null;)c(ht,at),at=at.sibling;return null}function C(ht){for(var at=new Map;ht!==null;)ht.key!==null?at.set(ht.key,ht):at.set(ht.index,ht),ht=ht.sibling;return at}function P(ht,at){return ht=hs(ht,at),ht.index=0,ht.sibling=null,ht}function R(ht,at,mt){return ht.index=mt,o?(mt=ht.alternate,mt!==null?(mt=mt.index,mt<at?(ht.flags|=67108866,at):mt):(ht.flags|=67108866,at)):(ht.flags|=1048576,at)}function te(ht){return o&&ht.alternate===null&&(ht.flags|=67108866),ht}function Se(ht,at,mt,kt){return at===null||at.tag!==6?(at=EA(mt,ht.mode,kt),at.return=ht,at):(at=P(at,mt),at.return=ht,at)}function et(ht,at,mt,kt){var Wr=mt.type;return Wr===H?Dt(ht,at,mt.props.children,kt,mt.key):at!==null&&(at.elementType===Wr||typeof Wr=="object"&&Wr!==null&&Wr.$$typeof===Fe&&ee(Wr)===at.type)?(at=P(at,mt.props),qe(at,mt),at.return=ht,at):(at=SA(mt.type,mt.key,mt.props,null,ht.mode,kt),qe(at,mt),at.return=ht,at)}function vt(ht,at,mt,kt){return at===null||at.tag!==4||at.stateNode.containerInfo!==mt.containerInfo||at.stateNode.implementation!==mt.implementation?(at=IA(mt,ht.mode,kt),at.return=ht,at):(at=P(at,mt.children||[]),at.return=ht,at)}function Dt(ht,at,mt,kt,Wr){return at===null||at.tag!==7?(at=Ls(mt,ht.mode,kt,Wr),at.return=ht,at):(at=P(at,mt),at.return=ht,at)}function Ht(ht,at,mt){if(typeof at=="string"&&at!==""||typeof at=="number"||typeof at=="bigint")return at=EA(""+at,ht.mode,mt),at.return=ht,at;if(typeof at=="object"&&at!==null){switch(at.$$typeof){case I:return mt=SA(at.type,at.key,at.props,null,ht.mode,mt),qe(mt,at),mt.return=ht,mt;case z:return at=IA(at,ht.mode,mt),at.return=ht,at;case Fe:return at=ee(at),Ht(ht,at,mt)}if(tt(at)||de(at))return at=Ls(at,ht.mode,mt,null),at.return=ht,at;if(typeof at.then=="function")return Ht(ht,Ee(at),mt);if(at.$$typeof===W)return Ht(ht,Zl(ht,at),mt);Ke(ht,at)}return null}function xt(ht,at,mt,kt){var Wr=at!==null?at.key:null;if(typeof mt=="string"&&mt!==""||typeof mt=="number"||typeof mt=="bigint")return Wr!==null?null:Se(ht,at,""+mt,kt);if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case I:return mt.key===Wr?et(ht,at,mt,kt):null;case z:return mt.key===Wr?vt(ht,at,mt,kt):null;case Fe:return mt=ee(mt),xt(ht,at,mt,kt)}if(tt(mt)||de(mt))return Wr!==null?null:Dt(ht,at,mt,kt,null);if(typeof mt.then=="function")return xt(ht,at,Ee(mt),kt);if(mt.$$typeof===W)return xt(ht,at,Zl(ht,mt),kt);Ke(ht,mt)}return null}function Tt(ht,at,mt,kt,Wr){if(typeof kt=="string"&&kt!==""||typeof kt=="number"||typeof kt=="bigint")return ht=ht.get(mt)||null,Se(at,ht,""+kt,Wr);if(typeof kt=="object"&&kt!==null){switch(kt.$$typeof){case I:return ht=ht.get(kt.key===null?mt:kt.key)||null,et(at,ht,kt,Wr);case z:return ht=ht.get(kt.key===null?mt:kt.key)||null,vt(at,ht,kt,Wr);case Fe:return kt=ee(kt),Tt(ht,at,mt,kt,Wr)}if(tt(kt)||de(kt))return ht=ht.get(mt)||null,Dt(at,ht,kt,Wr,null);if(typeof kt.then=="function")return Tt(ht,at,mt,Ee(kt),Wr);if(kt.$$typeof===W)return Tt(ht,at,mt,Zl(at,kt),Wr);Ke(at,kt)}return null}function Fr(ht,at,mt,kt){for(var Wr=null,di=null,Qr=at,Dn=at=0,Yn=null;Qr!==null&&Dn<mt.length;Dn++){Qr.index>Dn?(Yn=Qr,Qr=null):Yn=Qr.sibling;var pi=xt(ht,Qr,mt[Dn],kt);if(pi===null){Qr===null&&(Qr=Yn);break}o&&Qr&&pi.alternate===null&&c(ht,Qr),at=R(pi,at,Dn),di===null?Wr=pi:di.sibling=pi,di=pi,Qr=Yn}if(Dn===mt.length)return g(ht,Qr),Rt&&Ys(ht,Dn),Wr;if(Qr===null){for(;Dn<mt.length;Dn++)Qr=Ht(ht,mt[Dn],kt),Qr!==null&&(at=R(Qr,at,Dn),di===null?Wr=Qr:di.sibling=Qr,di=Qr);return Rt&&Ys(ht,Dn),Wr}for(Qr=C(Qr);Dn<mt.length;Dn++)Yn=Tt(Qr,ht,Dn,mt[Dn],kt),Yn!==null&&(o&&Yn.alternate!==null&&Qr.delete(Yn.key===null?Dn:Yn.key),at=R(Yn,at,Dn),di===null?Wr=Yn:di.sibling=Yn,di=Yn);return o&&Qr.forEach(function(Wf){return c(ht,Wf)}),Rt&&Ys(ht,Dn),Wr}function hn(ht,at,mt,kt){if(mt==null)throw Error(n(151));for(var Wr=null,di=null,Qr=at,Dn=at=0,Yn=null,pi=mt.next();Qr!==null&&!pi.done;Dn++,pi=mt.next()){Qr.index>Dn?(Yn=Qr,Qr=null):Yn=Qr.sibling;var Wf=xt(ht,Qr,pi.value,kt);if(Wf===null){Qr===null&&(Qr=Yn);break}o&&Qr&&Wf.alternate===null&&c(ht,Qr),at=R(Wf,at,Dn),di===null?Wr=Wf:di.sibling=Wf,di=Wf,Qr=Yn}if(pi.done)return g(ht,Qr),Rt&&Ys(ht,Dn),Wr;if(Qr===null){for(;!pi.done;Dn++,pi=mt.next())pi=Ht(ht,pi.value,kt),pi!==null&&(at=R(pi,at,Dn),di===null?Wr=pi:di.sibling=pi,di=pi);return Rt&&Ys(ht,Dn),Wr}for(Qr=C(Qr);!pi.done;Dn++,pi=mt.next())pi=Tt(Qr,ht,Dn,pi.value,kt),pi!==null&&(o&&pi.alternate!==null&&Qr.delete(pi.key===null?Dn:pi.key),at=R(pi,at,Dn),di===null?Wr=pi:di.sibling=pi,di=pi);return o&&Qr.forEach(function(JD){return c(ht,JD)}),Rt&&Ys(ht,Dn),Wr}function qi(ht,at,mt,kt){if(typeof mt=="object"&&mt!==null&&mt.type===H&&mt.key===null&&(mt=mt.props.children),typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case I:e:{for(var Wr=mt.key;at!==null;){if(at.key===Wr){if(Wr=mt.type,Wr===H){if(at.tag===7){g(ht,at.sibling),kt=P(at,mt.props.children),kt.return=ht,ht=kt;break e}}else if(at.elementType===Wr||typeof Wr=="object"&&Wr!==null&&Wr.$$typeof===Fe&&ee(Wr)===at.type){g(ht,at.sibling),kt=P(at,mt.props),qe(kt,mt),kt.return=ht,ht=kt;break e}g(ht,at);break}else c(ht,at);at=at.sibling}mt.type===H?(kt=Ls(mt.props.children,ht.mode,kt,mt.key),kt.return=ht,ht=kt):(kt=SA(mt.type,mt.key,mt.props,null,ht.mode,kt),qe(kt,mt),kt.return=ht,ht=kt)}return te(ht);case z:e:{for(Wr=mt.key;at!==null;){if(at.key===Wr)if(at.tag===4&&at.stateNode.containerInfo===mt.containerInfo&&at.stateNode.implementation===mt.implementation){g(ht,at.sibling),kt=P(at,mt.children||[]),kt.return=ht,ht=kt;break e}else{g(ht,at);break}else c(ht,at);at=at.sibling}kt=IA(mt,ht.mode,kt),kt.return=ht,ht=kt}return te(ht);case Fe:return mt=ee(mt),qi(ht,at,mt,kt)}if(tt(mt))return Fr(ht,at,mt,kt);if(de(mt)){if(Wr=de(mt),typeof Wr!="function")throw Error(n(150));return mt=Wr.call(mt),hn(ht,at,mt,kt)}if(typeof mt.then=="function")return qi(ht,at,Ee(mt),kt);if(mt.$$typeof===W)return qi(ht,at,Zl(ht,mt),kt);Ke(ht,mt)}return typeof mt=="string"&&mt!==""||typeof mt=="number"||typeof mt=="bigint"?(mt=""+mt,at!==null&&at.tag===6?(g(ht,at.sibling),kt=P(at,mt),kt.return=ht,ht=kt):(g(ht,at),kt=EA(mt,ht.mode,kt),kt.return=ht,ht=kt),te(ht)):g(ht,at)}return function(ht,at,mt,kt){try{Oe=0;var Wr=qi(ht,at,mt,kt);return xe=null,Wr}catch(Qr){if(Qr===M||Qr===Q)throw Qr;var di=va(29,Qr,null,ht.mode);return di.lanes=kt,di.return=ht,di}finally{}}}var bt=it(!0),Ct=it(!1),yt=!1;function pt(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qt(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function St(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function zt(o,c,g){var C=o.updateQueue;if(C===null)return null;if(C=C.shared,(ii&2)!==0){var P=C.pending;return P===null?c.next=c:(c.next=P.next,P.next=c),C.pending=c,c=Wi(o),CA(o,null,g),c}return ja(o,C,c,g),Wi(o)}function tr(o,c,g){if(c=c.updateQueue,c!==null&&(c=c.shared,(g&4194048)!==0)){var C=c.lanes;C&=o.pendingLanes,g|=C,c.lanes=g,gt(o,g)}}function Vt(o,c){var g=o.updateQueue,C=o.alternate;if(C!==null&&(C=C.updateQueue,g===C)){var P=null,R=null;if(g=g.firstBaseUpdate,g!==null){do{var te={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};R===null?P=R=te:R=R.next=te,g=g.next}while(g!==null);R===null?P=R=c:R=R.next=c}else P=R=c;g={baseState:C.baseState,firstBaseUpdate:P,lastBaseUpdate:R,shared:C.shared,callbacks:C.callbacks},o.updateQueue=g;return}o=g.lastBaseUpdate,o===null?g.firstBaseUpdate=c:o.next=c,g.lastBaseUpdate=c}var Gt=!1;function rr(){if(Gt){var o=D;if(o!==null)throw o}}function un(o,c,g,C){Gt=!1;var P=o.updateQueue;yt=!1;var R=P.firstBaseUpdate,te=P.lastBaseUpdate,Se=P.shared.pending;if(Se!==null){P.shared.pending=null;var et=Se,vt=et.next;et.next=null,te===null?R=vt:te.next=vt,te=et;var Dt=o.alternate;Dt!==null&&(Dt=Dt.updateQueue,Se=Dt.lastBaseUpdate,Se!==te&&(Se===null?Dt.firstBaseUpdate=vt:Se.next=vt,Dt.lastBaseUpdate=et))}if(R!==null){var Ht=P.baseState;te=0,Dt=vt=et=null,Se=R;do{var xt=Se.lane&-536870913,Tt=xt!==Se.lane;if(Tt?(Nn&xt)===xt:(C&xt)===xt){xt!==0&&xt===L&&(Gt=!0),Dt!==null&&(Dt=Dt.next={lane:0,tag:Se.tag,payload:Se.payload,callback:null,next:null});e:{var Fr=o,hn=Se;xt=c;var qi=g;switch(hn.tag){case 1:if(Fr=hn.payload,typeof Fr=="function"){Ht=Fr.call(qi,Ht,xt);break e}Ht=Fr;break e;case 3:Fr.flags=Fr.flags&-65537|128;case 0:if(Fr=hn.payload,xt=typeof Fr=="function"?Fr.call(qi,Ht,xt):Fr,xt==null)break e;Ht=S({},Ht,xt);break e;case 2:yt=!0}}xt=Se.callback,xt!==null&&(o.flags|=64,Tt&&(o.flags|=8192),Tt=P.callbacks,Tt===null?P.callbacks=[xt]:Tt.push(xt))}else Tt={lane:xt,tag:Se.tag,payload:Se.payload,callback:Se.callback,next:null},Dt===null?(vt=Dt=Tt,et=Ht):Dt=Dt.next=Tt,te|=xt;if(Se=Se.next,Se===null){if(Se=P.shared.pending,Se===null)break;Tt=Se,Se=Tt.next,Tt.next=null,P.lastBaseUpdate=Tt,P.shared.pending=null}}while(!0);Dt===null&&(et=Ht),P.baseState=et,P.firstBaseUpdate=vt,P.lastBaseUpdate=Dt,R===null&&(P.shared.lanes=0),th|=te,o.lanes=te,o.memoizedState=Ht}}function Ir(o,c){if(typeof o!="function")throw Error(n(191,o));o.call(c)}function Lr(o,c){var g=o.callbacks;if(g!==null)for(o.callbacks=null,o=0;o<g.length;o++)Ir(g[o],c)}var br=Te(null),an=Te(0);function Hn(o,c){o=jA,we(an,o),we(br,c),jA=o|c.baseLanes}function Dr(){we(an,jA),we(br,br.current)}function qn(){jA=an.current,ne(br),ne(an)}var In=Te(null),sn=null;function On(o){var c=o.alternate;we(fn,fn.current&1),we(In,o),sn===null&&(c===null||br.current!==null||c.memoizedState!==null)&&(sn=o)}function Cn(o){we(fn,fn.current),we(In,o),sn===null&&(sn=o)}function xi(o){o.tag===22?(we(fn,fn.current),we(In,o),sn===null&&(sn=o)):Di()}function Di(){we(fn,fn.current),we(In,In.current)}function Gn(o){ne(In),sn===o&&(sn=null),ne(fn)}var fn=Te(0);function _a(o){for(var c=o;c!==null;){if(c.tag===13){var g=c.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||Kt(g)||er(g)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Ei=0,mr=null,vr=null,xn=null,Ti=!1,ni=!1,Wn=!1,Xn=0,cn=0,Ps=null,Yl=0;function Zn(){throw Error(n(321))}function Vc(o,c){if(c===null)return!1;for(var g=0;g<c.length&&g<o.length;g++)if(!ma(o[g],c[g]))return!1;return!0}function Eh(o,c,g,C,P,R){return Ei=R,mr=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Le.H=o===null||o.memoizedState===null?Iy:gm,Wn=!1,R=g(C,P),Wn=!1,ni&&(R=$a(c,g,C,P)),mc(o),R}function mc(o){Le.H=Id;var c=vr!==null&&vr.next!==null;if(Ei=0,xn=vr=mr=null,Ti=!1,cn=0,Ps=null,c)throw Error(n(300));o===null||wa||(o=o.dependencies,o!==null&&jc(o)&&(wa=!0))}function $a(o,c,g,C){mr=o;var P=0;do{if(ni&&(Ps=null),cn=0,ni=!1,25<=P)throw Error(n(301));if(P+=1,xn=vr=null,o.updateQueue!=null){var R=o.updateQueue;R.lastEffect=null,R.events=null,R.stores=null,R.memoCache!=null&&(R.memoCache.index=0)}Le.H=mm,R=c(g,C)}while(ni);return R}function vf(){var o=Le.H,c=o.useState()[0];return c=typeof c.then=="function"?eA(c):c,o=o.useState()[0],(vr!==null?vr.memoizedState:null)!==o&&(mr.flags|=1024),c}function Du(){var o=Xn!==0;return Xn=0,o}function ou(o,c,g){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~g}function lu(o){if(Ti){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}Ti=!1}Ei=0,xn=vr=mr=null,ni=!1,cn=Xn=0,Ps=null}function Ji(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xn===null?mr.memoizedState=xn=o:xn=xn.next=o,xn}function li(){if(vr===null){var o=mr.alternate;o=o!==null?o.memoizedState:null}else o=vr.next;var c=xn===null?mr.memoizedState:xn.next;if(c!==null)xn=c,vr=o;else{if(o===null)throw mr.alternate===null?Error(n(467)):Error(n(310));vr=o,o={memoizedState:vr.memoizedState,baseState:vr.baseState,baseQueue:vr.baseQueue,queue:vr.queue,next:null},xn===null?mr.memoizedState=xn=o:xn=xn.next=o}return xn}function Jl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function eA(o){var c=cn;return cn+=1,Ps===null&&(Ps=[]),o=J(Ps,o,c),c=mr,(xn===null?c.memoizedState:xn.next)===null&&(c=c.alternate,Le.H=c===null||c.memoizedState===null?Iy:gm),o}function yc(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return eA(o);if(o.$$typeof===W)return pn(o)}throw Error(n(438,String(o)))}function ku(o){var c=null,g=mr.updateQueue;if(g!==null&&(c=g.memoCache),c==null){var C=mr.alternate;C!==null&&(C=C.updateQueue,C!==null&&(C=C.memoCache,C!=null&&(c={data:C.data.map(function(P){return P.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),g===null&&(g=Jl(),mr.updateQueue=g),g.memoCache=c,g=c.data[c.index],g===void 0)for(g=c.data[c.index]=Array(o),C=0;C<o;C++)g[C]=ze;return c.index++,g}function OA(o,c){return typeof c=="function"?c(o):c}function qc(o){var c=li();return DA(c,vr,o)}function DA(o,c,g){var C=o.queue;if(C===null)throw Error(n(311));C.lastRenderedReducer=g;var P=o.baseQueue,R=C.pending;if(R!==null){if(P!==null){var te=P.next;P.next=R.next,R.next=te}c.baseQueue=P=R,C.pending=null}if(R=o.baseState,P===null)o.memoizedState=R;else{c=P.next;var Se=te=null,et=null,vt=c,Dt=!1;do{var Ht=vt.lane&-536870913;if(Ht!==vt.lane?(Nn&Ht)===Ht:(Ei&Ht)===Ht){var xt=vt.revertLane;if(xt===0)et!==null&&(et=et.next={lane:0,revertLane:0,gesture:null,action:vt.action,hasEagerState:vt.hasEagerState,eagerState:vt.eagerState,next:null}),Ht===L&&(Dt=!0);else if((Ei&xt)===xt){vt=vt.next,xt===L&&(Dt=!0);continue}else Ht={lane:0,revertLane:vt.revertLane,gesture:null,action:vt.action,hasEagerState:vt.hasEagerState,eagerState:vt.eagerState,next:null},et===null?(Se=et=Ht,te=R):et=et.next=Ht,mr.lanes|=xt,th|=xt;Ht=vt.action,Wn&&g(R,Ht),R=vt.hasEagerState?vt.eagerState:g(R,Ht)}else xt={lane:Ht,revertLane:vt.revertLane,gesture:vt.gesture,action:vt.action,hasEagerState:vt.hasEagerState,eagerState:vt.eagerState,next:null},et===null?(Se=et=xt,te=R):et=et.next=xt,mr.lanes|=Ht,th|=Ht;vt=vt.next}while(vt!==null&&vt!==c);if(et===null?te=R:et.next=Se,!ma(R,o.memoizedState)&&(wa=!0,Dt&&(g=D,g!==null)))throw g;o.memoizedState=R,o.baseState=te,o.baseQueue=et,C.lastRenderedState=R}return P===null&&(C.lanes=0),[o.memoizedState,C.dispatch]}function Au(o){var c=li(),g=c.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=o;var C=g.dispatch,P=g.pending,R=c.memoizedState;if(P!==null){g.pending=null;var te=P=P.next;do R=o(R,te.action),te=te.next;while(te!==P);ma(R,c.memoizedState)||(wa=!0),c.memoizedState=R,c.baseQueue===null&&(c.baseState=R),g.lastRenderedState=R}return[R,C]}function vl(o,c,g){var C=mr,P=li(),R=Rt;if(R){if(g===void 0)throw Error(n(407));g=g()}else g=c();var te=!ma((vr||P).memoizedState,g);if(te&&(P.memoizedState=g,wa=!0),P=P.queue,Th(_f.bind(null,C,P,o),[o]),P.getSnapshot!==c||te||xn!==null&&xn.memoizedState.tag&1){if(C.flags|=2048,fu(9,{destroy:void 0},kA.bind(null,C,P,g,c),null),Ii===null)throw Error(n(349));R||(Ei&127)!==0||Ka(C,c,g)}return g}function Ka(o,c,g){o.flags|=16384,o={getSnapshot:c,value:g},c=mr.updateQueue,c===null?(c=Jl(),mr.updateQueue=c,c.stores=[o]):(g=c.stores,g===null?c.stores=[o]:g.push(o))}function kA(o,c,g,C){c.value=g,c.getSnapshot=C,Qu(c)&&bd(o)}function _f(o,c,g){return g(function(){Qu(c)&&bd(o)})}function Qu(o){var c=o.getSnapshot;o=o.value;try{var g=c();return!ma(o,g)}catch{return!0}}function bd(o){var c=Ko(o,2);c!==null&&wo(c,o,2)}function uu(o){var c=Ji();if(typeof o=="function"){var g=o;if(o=g(),Wn){qt(!0);try{g()}finally{qt(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:OA,lastRenderedState:o},c}function ea(o,c,g,C){return o.baseState=g,DA(o,vr,typeof C=="function"?C:OA)}function wf(o,c,g,C,P){if(Qp(o))throw Error(n(485));if(o=c.action,o!==null){var R={payload:P,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(te){R.listeners.push(te)}};Le.T!==null?g(!0):R.isTransition=!1,C(R),g=c.pending,g===null?(R.next=c.pending=R,xd(c,R)):(R.next=g.next,c.pending=g.next=R)}}function xd(o,c){var g=c.action,C=c.payload,P=o.state;if(c.isTransition){var R=Le.T,te={};Le.T=te;try{var Se=g(P,C),et=Le.S;et!==null&&et(te,Se),cu(o,c,Se)}catch(vt){QA(o,c,vt)}finally{R!==null&&te.types!==null&&(R.types=te.types),Le.T=R}}else try{R=g(P,C),cu(o,c,R)}catch(vt){QA(o,c,vt)}}function cu(o,c,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(C){Nu(o,c,C)},function(C){return QA(o,c,C)}):Nu(o,c,g)}function Nu(o,c,g){c.status="fulfilled",c.value=g,Gc(c),o.state=g,c=o.pending,c!==null&&(g=c.next,g===c?o.pending=null:(g=g.next,c.next=g,xd(o,g)))}function QA(o,c,g){var C=o.pending;if(o.pending=null,C!==null){C=C.next;do c.status="rejected",c.reason=g,Gc(c),c=c.next;while(c!==C)}o.action=null}function Gc(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function Xc(o,c){return c}function NA(o,c){if(Rt){var g=Ii.formState;if(g!==null){e:{var C=mr;if(Rt){if(Mn){t:{for(var P=Mn,R=Si;P.nodeType!==8;){if(!R){P=null;break t}if(P=Wt(P.nextSibling),P===null){P=null;break t}}R=P.data,P=R==="F!"||R==="F"?P:null}if(P){Mn=Wt(P.nextSibling),C=P.data==="F!";break e}}Js(C)}C=!1}C&&(c=g[0])}}return g=Ji(),g.memoizedState=g.baseState=c,C={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xc,lastRenderedState:c},g.queue=C,g=_l.bind(null,mr,C),C.dispatch=g,C=uu(!1),R=Td.bind(null,mr,!1,C.queue),C=Ji(),P={state:c,dispatch:null,action:o,pending:null},C.queue=P,g=wf.bind(null,mr,P,R,g),P.dispatch=g,C.memoizedState=o,[c,g,!1]}function RA(o){var c=li();return hu(c,vr,o)}function hu(o,c,g){if(c=DA(o,c,Xc)[0],o=qc(OA)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var C=eA(c)}catch(te){throw te===M?Q:te}else C=c;c=li();var P=c.queue,R=P.dispatch;return g!==c.memoizedState&&(mr.flags|=2048,fu(9,{destroy:void 0},$c.bind(null,P,g),null)),[C,R,o]}function $c(o,c){o.action=c}function bf(o){var c=li(),g=vr;if(g!==null)return hu(c,g,o);li(),c=c.memoizedState,g=li();var C=g.queue.dispatch;return g.memoizedState=o,[c,C,!1]}function fu(o,c,g,C){return o={tag:o,create:g,deps:C,inst:c,next:null},c=mr.updateQueue,c===null&&(c=Jl(),mr.updateQueue=c),g=c.lastEffect,g===null?c.lastEffect=o.next=o:(C=g.next,g.next=o,o.next=C,c.lastEffect=o),o}function Bd(){return li().memoizedState}function vc(o,c,g,C){var P=Ji();mr.flags|=o,P.memoizedState=fu(1|c,{destroy:void 0},g,C===void 0?null:C)}function tA(o,c,g,C){var P=li();C=C===void 0?null:C;var R=P.memoizedState.inst;vr!==null&&C!==null&&Vc(C,vr.memoizedState.deps)?P.memoizedState=fu(c,R,g,C):(mr.flags|=o,P.memoizedState=fu(1|c,R,g,C))}function Cy(o,c){vc(8390656,8,o,c)}function Th(o,c){tA(2048,8,o,c)}function Pp(o){mr.flags|=4;var c=mr.updateQueue;if(c===null)c=Jl(),mr.updateQueue=c,c.events=[o];else{var g=c.events;g===null?c.events=[o]:g.push(o)}}function Cd(o){var c=li().memoizedState;return Pp({ref:c,nextImpl:o}),function(){if((ii&2)!==0)throw Error(n(440));return c.impl.apply(void 0,arguments)}}function om(o,c){return tA(4,2,o,c)}function lm(o,c){return tA(4,4,o,c)}function Sy(o,c){if(typeof c=="function"){o=o();var g=c(o);return function(){typeof g=="function"?g():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function ro(o,c,g){g=g!=null?g.concat([o]):null,tA(4,4,Sy.bind(null,c,o),g)}function Zc(){}function Op(o,c){var g=li();c=c===void 0?null:c;var C=g.memoizedState;return c!==null&&Vc(c,C[1])?C[0]:(g.memoizedState=[o,c],o)}function Am(o,c){var g=li();c=c===void 0?null:c;var C=g.memoizedState;if(c!==null&&Vc(c,C[1]))return C[0];if(C=o(),Wn){qt(!0);try{o()}finally{qt(!1)}}return g.memoizedState=[C,c],C}function Ih(o,c,g){return g===void 0||(Ei&1073741824)!==0&&(Nn&261930)===0?o.memoizedState=c:(o.memoizedState=g,o=$p(),mr.lanes|=o,th|=o,g)}function Ey(o,c,g,C){return ma(g,c)?g:br.current!==null?(o=Ih(o,g,C),ma(o,c)||(wa=!0),o):(Ei&42)===0||(Ei&1073741824)!==0&&(Nn&261930)===0?(wa=!0,o.memoizedState=g):(o=$p(),mr.lanes|=o,th|=o,c)}function Sd(o,c,g,C,P){var R=Ne.p;Ne.p=R!==0&&8>R?R:8;var te=Le.T,Se={};Le.T=Se,Td(o,!1,c,g);try{var et=P(),vt=Le.S;if(vt!==null&&vt(Se,et),et!==null&&typeof et=="object"&&typeof et.then=="function"){var Dt=i(et,C);xf(o,c,Dt,iA(o))}else xf(o,c,C,iA(o))}catch(Ht){xf(o,c,{then:function(){},status:"rejected",reason:Ht},iA())}finally{Ne.p=R,te!==null&&Se.types!==null&&(te.types=Se.types),Le.T=te}}function Rw(){}function Dp(o,c,g,C){if(o.tag!==5)throw Error(n(476));var P=um(o).queue;Sd(o,P,c,Ve,g===null?Rw:function(){return cm(o),g(C)})}function um(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:Ve,baseState:Ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:OA,lastRenderedState:Ve},next:null};var g={};return c.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:OA,lastRenderedState:g},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function cm(o){var c=um(o);c.next===null&&(c=o.alternate.memoizedState),xf(o,c.next.queue,{},iA())}function hm(){return pn($f)}function kp(){return li().memoizedState}function fm(){return li().memoizedState}function dm(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var g=iA();o=St(g);var C=zt(c,o,g);C!==null&&(wo(C,c,g),tr(C,c,g)),c={cache:fs()},o.payload=c;return}c=c.return}}function Ed(o,c,g){var C=iA();g={lane:C,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},Qp(o)?pm(c,g):(g=BA(o,c,g,C),g!==null&&(wo(g,o,C),Ty(g,c,C)))}function _l(o,c,g){var C=iA();xf(o,c,g,C)}function xf(o,c,g,C){var P={lane:C,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null};if(Qp(o))pm(c,P);else{var R=o.alternate;if(o.lanes===0&&(R===null||R.lanes===0)&&(R=c.lastRenderedReducer,R!==null))try{var te=c.lastRenderedState,Se=R(te,g);if(P.hasEagerState=!0,P.eagerState=Se,ma(Se,te))return ja(o,c,P,0),Ii===null&&cs(),!1}catch{}finally{}if(g=BA(o,c,P,C),g!==null)return wo(g,o,C),Ty(g,c,C),!0}return!1}function Td(o,c,g,C){if(C={lane:2,revertLane:Kf(),gesture:null,action:C,hasEagerState:!1,eagerState:null,next:null},Qp(o)){if(c)throw Error(n(479))}else c=BA(o,g,C,2),c!==null&&wo(c,o,2)}function Qp(o){var c=o.alternate;return o===mr||c!==null&&c===mr}function pm(o,c){ni=Ti=!0;var g=o.pending;g===null?c.next=c:(c.next=g.next,g.next=c),o.pending=c}function Ty(o,c,g){if((g&4194048)!==0){var C=c.lanes;C&=o.pendingLanes,g|=C,c.lanes=g,gt(o,g)}}var Id={readContext:pn,use:yc,useCallback:Zn,useContext:Zn,useEffect:Zn,useImperativeHandle:Zn,useLayoutEffect:Zn,useInsertionEffect:Zn,useMemo:Zn,useReducer:Zn,useRef:Zn,useState:Zn,useDebugValue:Zn,useDeferredValue:Zn,useTransition:Zn,useSyncExternalStore:Zn,useId:Zn,useHostTransitionStatus:Zn,useFormState:Zn,useActionState:Zn,useOptimistic:Zn,useMemoCache:Zn,useCacheRefresh:Zn};Id.useEffectEvent=Zn;var Iy={readContext:pn,use:yc,useCallback:function(o,c){return Ji().memoizedState=[o,c===void 0?null:c],o},useContext:pn,useEffect:Cy,useImperativeHandle:function(o,c,g){g=g!=null?g.concat([o]):null,vc(4194308,4,Sy.bind(null,c,o),g)},useLayoutEffect:function(o,c){return vc(4194308,4,o,c)},useInsertionEffect:function(o,c){vc(4,2,o,c)},useMemo:function(o,c){var g=Ji();c=c===void 0?null:c;var C=o();if(Wn){qt(!0);try{o()}finally{qt(!1)}}return g.memoizedState=[C,c],C},useReducer:function(o,c,g){var C=Ji();if(g!==void 0){var P=g(c);if(Wn){qt(!0);try{g(c)}finally{qt(!1)}}}else P=c;return C.memoizedState=C.baseState=P,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:P},C.queue=o,o=o.dispatch=Ed.bind(null,mr,o),[C.memoizedState,o]},useRef:function(o){var c=Ji();return o={current:o},c.memoizedState=o},useState:function(o){o=uu(o);var c=o.queue,g=_l.bind(null,mr,c);return c.dispatch=g,[o.memoizedState,g]},useDebugValue:Zc,useDeferredValue:function(o,c){var g=Ji();return Ih(g,o,c)},useTransition:function(){var o=uu(!1);return o=Sd.bind(null,mr,o.queue,!0,!1),Ji().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,g){var C=mr,P=Ji();if(Rt){if(g===void 0)throw Error(n(407));g=g()}else{if(g=c(),Ii===null)throw Error(n(349));(Nn&127)!==0||Ka(C,c,g)}P.memoizedState=g;var R={value:g,getSnapshot:c};return P.queue=R,Cy(_f.bind(null,C,R,o),[o]),C.flags|=2048,fu(9,{destroy:void 0},kA.bind(null,C,R,g,c),null),g},useId:function(){var o=Ji(),c=Ii.identifierPrefix;if(Rt){var g=Ia,C=Ki;g=(C&~(1<<32-$r(C)-1)).toString(32)+g,c="_"+c+"R_"+g,g=Xn++,0<g&&(c+="H"+g.toString(32)),c+="_"}else g=Yl++,c="_"+c+"r_"+g.toString(32)+"_";return o.memoizedState=c},useHostTransitionStatus:hm,useFormState:NA,useActionState:NA,useOptimistic:function(o){var c=Ji();c.memoizedState=c.baseState=o;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=g,c=Td.bind(null,mr,!0,g),g.dispatch=c,[o,c]},useMemoCache:ku,useCacheRefresh:function(){return Ji().memoizedState=dm.bind(null,mr)},useEffectEvent:function(o){var c=Ji(),g={impl:o};return c.memoizedState=g,function(){if((ii&2)!==0)throw Error(n(440));return g.impl.apply(void 0,arguments)}}},gm={readContext:pn,use:yc,useCallback:Op,useContext:pn,useEffect:Th,useImperativeHandle:ro,useInsertionEffect:om,useLayoutEffect:lm,useMemo:Am,useReducer:qc,useRef:Bd,useState:function(){return qc(OA)},useDebugValue:Zc,useDeferredValue:function(o,c){var g=li();return Ey(g,vr.memoizedState,o,c)},useTransition:function(){var o=qc(OA)[0],c=li().memoizedState;return[typeof o=="boolean"?o:eA(o),c]},useSyncExternalStore:vl,useId:kp,useHostTransitionStatus:hm,useFormState:RA,useActionState:RA,useOptimistic:function(o,c){var g=li();return ea(g,vr,o,c)},useMemoCache:ku,useCacheRefresh:fm};gm.useEffectEvent=Cd;var mm={readContext:pn,use:yc,useCallback:Op,useContext:pn,useEffect:Th,useImperativeHandle:ro,useInsertionEffect:om,useLayoutEffect:lm,useMemo:Am,useReducer:Au,useRef:Bd,useState:function(){return Au(OA)},useDebugValue:Zc,useDeferredValue:function(o,c){var g=li();return vr===null?Ih(g,o,c):Ey(g,vr.memoizedState,o,c)},useTransition:function(){var o=Au(OA)[0],c=li().memoizedState;return[typeof o=="boolean"?o:eA(o),c]},useSyncExternalStore:vl,useId:kp,useHostTransitionStatus:hm,useFormState:bf,useActionState:bf,useOptimistic:function(o,c){var g=li();return vr!==null?ea(g,vr,o,c):(g.baseState=o,[o,g.queue.dispatch])},useMemoCache:ku,useCacheRefresh:fm};mm.useEffectEvent=Cd;function Np(o,c,g,C){c=o.memoizedState,g=g(C,c),g=g==null?c:S({},c,g),o.memoizedState=g,o.lanes===0&&(o.updateQueue.baseState=g)}var _c={enqueueSetState:function(o,c,g){o=o._reactInternals;var C=iA(),P=St(C);P.payload=c,g!=null&&(P.callback=g),c=zt(o,P,C),c!==null&&(wo(c,o,C),tr(c,o,C))},enqueueReplaceState:function(o,c,g){o=o._reactInternals;var C=iA(),P=St(C);P.tag=1,P.payload=c,g!=null&&(P.callback=g),c=zt(o,P,C),c!==null&&(wo(c,o,C),tr(c,o,C))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var g=iA(),C=St(g);C.tag=2,c!=null&&(C.callback=c),c=zt(o,C,g),c!==null&&(wo(c,o,g),tr(c,o,g))}};function Bf(o,c,g,C,P,R,te){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(C,R,te):c.prototype&&c.prototype.isPureReactComponent?!dn(g,C)||!dn(P,R):!0}function Fy(o,c,g,C){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(g,C),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(g,C),c.state!==o&&_c.enqueueReplaceState(c,c.state,null)}function Fh(o,c){var g=c;if("ref"in c){g={};for(var C in c)C!=="ref"&&(g[C]=c[C])}if(o=o.defaultProps){g===c&&(g=S({},g));for(var P in o)g[P]===void 0&&(g[P]=o[P])}return g}function Uy(o){jo(o)}function Ly(o){console.error(o)}function My(o){jo(o)}function Rp(o,c){try{var g=o.onUncaughtError;g(c.value,{componentStack:c.stack})}catch(C){setTimeout(function(){throw C})}}function Py(o,c,g){try{var C=o.onCaughtError;C(g.value,{componentStack:g.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(P){setTimeout(function(){throw P})}}function Fd(o,c,g){return g=St(g),g.tag=3,g.payload={element:null},g.callback=function(){Rp(o,c)},g}function Oy(o){return o=St(o),o.tag=3,o}function Uh(o,c,g,C){var P=g.type.getDerivedStateFromError;if(typeof P=="function"){var R=C.value;o.payload=function(){return P(R)},o.callback=function(){Py(c,g,C)}}var te=g.stateNode;te!==null&&typeof te.componentDidCatch=="function"&&(o.callback=function(){Py(c,g,C),typeof P!="function"&&(Cc===null?Cc=new Set([this]):Cc.add(this));var Se=C.stack;this.componentDidCatch(C.value,{componentStack:Se!==null?Se:""})})}function zw(o,c,g,C,P){if(g.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){if(c=g.alternate,c!==null&&PA(c,g,P,!0),g=In.current,g!==null){switch(g.tag){case 31:case 13:return sn===null?Zp():g.alternate===null&&ia===0&&(ia=3),g.flags&=-257,g.flags|=65536,g.lanes=P,C===G?g.flags|=16384:(c=g.updateQueue,c===null?g.updateQueue=new Set([C]):c.add(C),Jp(o,C,P)),!1;case 22:return g.flags|=65536,C===G?g.flags|=16384:(c=g.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([C])},g.updateQueue=c):(g=c.retryQueue,g===null?c.retryQueue=new Set([C]):g.add(C)),Jp(o,C,P)),!1}throw Error(n(435,g.tag))}return Jp(o,C,P),Zp(),!1}if(Rt)return c=In.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=P,C!==_o&&(o=Error(n(422),{cause:C}),MA(Ms(o,g)))):(C!==_o&&(c=Error(n(423),{cause:C}),MA(Ms(c,g))),o=o.current.alternate,o.flags|=65536,P&=-P,o.lanes|=P,C=Ms(C,g),P=Fd(o.stateNode,C,P),Vt(o,P),ia!==4&&(ia=2)),!1;var R=Error(n(520),{cause:C});if(R=Ms(R,g),kf===null?kf=[R]:kf.push(R),ia!==4&&(ia=2),c===null)return!0;C=Ms(C,g),g=c;do{switch(g.tag){case 3:return g.flags|=65536,o=P&-P,g.lanes|=o,o=Fd(g.stateNode,C,o),Vt(g,o),!1;case 1:if(c=g.type,R=g.stateNode,(g.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(Cc===null||!Cc.has(R))))return g.flags|=65536,P&=-P,g.lanes|=P,P=Oy(P),Uh(P,o,g,C),Vt(g,P),!1}g=g.return}while(g!==null);return!1}var ta=Error(n(461)),wa=!1;function Os(o,c,g,C){c.child=o===null?Ct(c,null,g,C):bt(c,o.child,g,C)}function Ud(o,c,g,C,P){g=g.render;var R=c.ref;if("ref"in C){var te={};for(var Se in C)Se!=="ref"&&(te[Se]=C[Se])}else te=C;return ca(c),C=Eh(o,c,g,te,R,P),Se=Du(),o!==null&&!wa?(ou(o,c,P),Ru(o,c,P)):(Rt&&Se&&Rc(c),c.flags|=1,Os(o,c,C,P),c.child)}function Ld(o,c,g,C,P){if(o===null){var R=g.type;return typeof R=="function"&&!Lu(R)&&R.defaultProps===void 0&&g.compare===null?(c.tag=15,c.type=R,Cf(o,c,R,C,P)):(o=SA(g.type,null,C,c,c.mode,P),o.ref=c.ref,o.return=c,c.child=o)}if(R=o.child,!jp(o,P)){var te=R.memoizedProps;if(g=g.compare,g=g!==null?g:dn,g(te,C)&&o.ref===c.ref)return Ru(o,c,P)}return c.flags|=1,o=hs(R,C),o.ref=c.ref,o.return=c,c.child=o}function Cf(o,c,g,C,P){if(o!==null){var R=o.memoizedProps;if(dn(R,C)&&o.ref===c.ref)if(wa=!1,c.pendingProps=C=R,jp(o,P))(o.flags&131072)!==0&&(wa=!0);else return c.lanes=o.lanes,Ru(o,c,P)}return Hp(o,c,g,C,P)}function ym(o,c,g,C){var P=C.children,R=o!==null?o.memoizedState:null;if(o===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),C.mode==="hidden"){if((c.flags&128)!==0){if(R=R!==null?R.baseLanes|g:g,o!==null){for(C=c.child=o.child,P=0;C!==null;)P=P|C.lanes|C.childLanes,C=C.sibling;C=P&~R}else C=0,c.child=null;return Ef(o,c,R,g,C)}if((g&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&x(c,R!==null?R.cachePool:null),R!==null?Hn(c,R):Dr(),xi(c);else return C=c.lanes=536870912,Ef(o,c,R!==null?R.baseLanes|g:g,g,C)}else R!==null?(x(c,R.cachePool),Hn(c,R),Di(),c.memoizedState=null):(o!==null&&x(c,null),Dr(),Di());return Os(o,c,P,g),c.child}function Sf(o,c){return o!==null&&o.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function Ef(o,c,g,C,P){var R=v();return R=R===null?null:{parent:bi._currentValue,pool:R},c.memoizedState={baseLanes:g,cachePool:R},o!==null&&x(c,null),Dr(),xi(c),o!==null&&PA(o,c,C,!0),c.childLanes=P,null}function Tf(o,c){return c=Md({mode:c.mode,children:c.children},o.mode),c.ref=o.ref,o.child=c,c.return=o,c}function zp(o,c,g){return bt(c,o.child,null,g),o=Tf(c,c.pendingProps),o.flags|=2,Gn(c),c.memoizedState=null,o}function vm(o,c,g){var C=c.pendingProps,P=(c.flags&128)!==0;if(c.flags&=-129,o===null){if(Rt){if(C.mode==="hidden")return o=Tf(c,C),c.lanes=536870912,Sf(null,o);if(Cn(c),(o=Mn)?(o=Bt(o,Si),o=o!==null&&o.data==="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:ml!==null?{id:Ki,overflow:Ia}:null,retryLane:536870912,hydrationErrors:null},g=TA(o),g.return=c,c.child=g,Vi=c,Mn=null)):o=null,o===null)throw Js(c);return c.lanes=536870912,null}return Tf(c,C)}var R=o.memoizedState;if(R!==null){var te=R.dehydrated;if(Cn(c),P)if(c.flags&256)c.flags&=-257,c=zp(o,c,g);else if(c.memoizedState!==null)c.child=o.child,c.flags|=128,c=null;else throw Error(n(558));else if(wa||PA(o,c,g,!1),P=(g&o.childLanes)!==0,wa||P){if(C=Ii,C!==null&&(te=Lt(C,g),te!==0&&te!==R.retryLane))throw R.retryLane=te,Ko(o,te),wo(C,o,te),ta;Zp(),c=zp(o,c,g)}else o=R.treeContext,Mn=Wt(te.nextSibling),Vi=c,Rt=!0,Fa=null,Si=!1,o!==null&&zc(c,o),c=Tf(c,C),c.flags|=4096;return c}return o=hs(o.child,{mode:C.mode,children:C.children}),o.ref=c.ref,c.child=o,o.return=c,o}function If(o,c){var g=c.ref;if(g===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof g!="function"&&typeof g!="object")throw Error(n(284));(o===null||o.ref!==g)&&(c.flags|=4194816)}}function Hp(o,c,g,C,P){return ca(c),g=Eh(o,c,g,C,void 0,P),C=Du(),o!==null&&!wa?(ou(o,c,P),Ru(o,c,P)):(Rt&&C&&Rc(c),c.flags|=1,Os(o,c,g,P),c.child)}function _m(o,c,g,C,P,R){return ca(c),c.updateQueue=null,g=$a(c,C,g,P),mc(o),C=Du(),o!==null&&!wa?(ou(o,c,R),Ru(o,c,R)):(Rt&&C&&Rc(c),c.flags|=1,Os(o,c,g,R),c.child)}function Dy(o,c,g,C,P){if(ca(c),c.stateNode===null){var R=wi,te=g.contextType;typeof te=="object"&&te!==null&&(R=pn(te)),R=new g(C,R),c.memoizedState=R.state!==null&&R.state!==void 0?R.state:null,R.updater=_c,c.stateNode=R,R._reactInternals=c,R=c.stateNode,R.props=C,R.state=c.memoizedState,R.refs={},pt(c),te=g.contextType,R.context=typeof te=="object"&&te!==null?pn(te):wi,R.state=c.memoizedState,te=g.getDerivedStateFromProps,typeof te=="function"&&(Np(c,g,te,C),R.state=c.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof R.getSnapshotBeforeUpdate=="function"||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(te=R.state,typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount(),te!==R.state&&_c.enqueueReplaceState(R,R.state,null),un(c,C,R,P),rr(),R.state=c.memoizedState),typeof R.componentDidMount=="function"&&(c.flags|=4194308),C=!0}else if(o===null){R=c.stateNode;var Se=c.memoizedProps,et=Fh(g,Se);R.props=et;var vt=R.context,Dt=g.contextType;te=wi,typeof Dt=="object"&&Dt!==null&&(te=pn(Dt));var Ht=g.getDerivedStateFromProps;Dt=typeof Ht=="function"||typeof R.getSnapshotBeforeUpdate=="function",Se=c.pendingProps!==Se,Dt||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(Se||vt!==te)&&Fy(c,R,C,te),yt=!1;var xt=c.memoizedState;R.state=xt,un(c,C,R,P),rr(),vt=c.memoizedState,Se||xt!==vt||yt?(typeof Ht=="function"&&(Np(c,g,Ht,C),vt=c.memoizedState),(et=yt||Bf(c,g,et,C,xt,vt,te))?(Dt||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(c.flags|=4194308)):(typeof R.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=C,c.memoizedState=vt),R.props=C,R.state=vt,R.context=te,C=et):(typeof R.componentDidMount=="function"&&(c.flags|=4194308),C=!1)}else{R=c.stateNode,Qt(o,c),te=c.memoizedProps,Dt=Fh(g,te),R.props=Dt,Ht=c.pendingProps,xt=R.context,vt=g.contextType,et=wi,typeof vt=="object"&&vt!==null&&(et=pn(vt)),Se=g.getDerivedStateFromProps,(vt=typeof Se=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(te!==Ht||xt!==et)&&Fy(c,R,C,et),yt=!1,xt=c.memoizedState,R.state=xt,un(c,C,R,P),rr();var Tt=c.memoizedState;te!==Ht||xt!==Tt||yt||o!==null&&o.dependencies!==null&&jc(o.dependencies)?(typeof Se=="function"&&(Np(c,g,Se,C),Tt=c.memoizedState),(Dt=yt||Bf(c,g,Dt,C,xt,Tt,et)||o!==null&&o.dependencies!==null&&jc(o.dependencies))?(vt||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(C,Tt,et),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(C,Tt,et)),typeof R.componentDidUpdate=="function"&&(c.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof R.componentDidUpdate!="function"||te===o.memoizedProps&&xt===o.memoizedState||(c.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||te===o.memoizedProps&&xt===o.memoizedState||(c.flags|=1024),c.memoizedProps=C,c.memoizedState=Tt),R.props=C,R.state=Tt,R.context=et,C=Dt):(typeof R.componentDidUpdate!="function"||te===o.memoizedProps&&xt===o.memoizedState||(c.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||te===o.memoizedProps&&xt===o.memoizedState||(c.flags|=1024),C=!1)}return R=C,If(o,c),C=(c.flags&128)!==0,R||C?(R=c.stateNode,g=C&&typeof g.getDerivedStateFromError!="function"?null:R.render(),c.flags|=1,o!==null&&C?(c.child=bt(c,o.child,null,P),c.child=bt(c,null,g,P)):Os(o,c,g,P),c.memoizedState=R.state,o=c.child):o=Ru(o,c,P),o}function ky(o,c,g,C){return Xl(),c.flags|=256,Os(o,c,g,C),c.child}var wm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bm(o){return{baseLanes:o,cachePool:F()}}function xm(o,c,g){return o=o!==null?o.childLanes&~g:0,c&&(o|=xl),o}function wc(o,c,g){var C=c.pendingProps,P=!1,R=(c.flags&128)!==0,te;if((te=R)||(te=o!==null&&o.memoizedState===null?!1:(fn.current&2)!==0),te&&(P=!0,c.flags&=-129),te=(c.flags&32)!==0,c.flags&=-33,o===null){if(Rt){if(P?On(c):Di(),(o=Mn)?(o=Bt(o,Si),o=o!==null&&o.data!=="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:ml!==null?{id:Ki,overflow:Ia}:null,retryLane:536870912,hydrationErrors:null},g=TA(o),g.return=c,c.child=g,Vi=c,Mn=null)):o=null,o===null)throw Js(c);return er(o)?c.lanes=32:c.lanes=536870912,null}var Se=C.children;return C=C.fallback,P?(Di(),P=c.mode,Se=Md({mode:"hidden",children:Se},P),C=Ls(C,P,g,null),Se.return=c,C.return=c,Se.sibling=C,c.child=Se,C=c.child,C.memoizedState=bm(g),C.childLanes=xm(o,te,g),c.memoizedState=wm,Sf(null,C)):(On(c),Bm(c,Se))}var et=o.memoizedState;if(et!==null&&(Se=et.dehydrated,Se!==null)){if(R)c.flags&256?(On(c),c.flags&=-257,c=Wc(o,c,g)):c.memoizedState!==null?(Di(),c.child=o.child,c.flags|=128,c=null):(Di(),Se=C.fallback,P=c.mode,C=Md({mode:"visible",children:C.children},P),Se=Ls(Se,P,g,null),Se.flags|=2,C.return=c,Se.return=c,C.sibling=Se,c.child=C,bt(c,o.child,null,g),C=c.child,C.memoizedState=bm(g),C.childLanes=xm(o,te,g),c.memoizedState=wm,c=Sf(null,C));else if(On(c),er(Se)){if(te=Se.nextSibling&&Se.nextSibling.dataset,te)var vt=te.dgst;te=vt,C=Error(n(419)),C.stack="",C.digest=te,MA({value:C,source:null,stack:null}),c=Wc(o,c,g)}else if(wa||PA(o,c,g,!1),te=(g&o.childLanes)!==0,wa||te){if(te=Ii,te!==null&&(C=Lt(te,g),C!==0&&C!==et.retryLane))throw et.retryLane=C,Ko(o,C),wo(te,o,C),ta;Kt(Se)||Zp(),c=Wc(o,c,g)}else Kt(Se)?(c.flags|=192,c.child=o.child,c=null):(o=et.treeContext,Mn=Wt(Se.nextSibling),Vi=c,Rt=!0,Fa=null,Si=!1,o!==null&&zc(c,o),c=Bm(c,C.children),c.flags|=4096);return c}return P?(Di(),Se=C.fallback,P=c.mode,et=o.child,vt=et.sibling,C=hs(et,{mode:"hidden",children:C.children}),C.subtreeFlags=et.subtreeFlags&65011712,vt!==null?Se=hs(vt,Se):(Se=Ls(Se,P,g,null),Se.flags|=2),Se.return=c,C.return=c,C.sibling=Se,c.child=C,Sf(null,C),C=c.child,Se=o.child.memoizedState,Se===null?Se=bm(g):(P=Se.cachePool,P!==null?(et=bi._currentValue,P=P.parent!==et?{parent:et,pool:et}:P):P=F(),Se={baseLanes:Se.baseLanes|g,cachePool:P}),C.memoizedState=Se,C.childLanes=xm(o,te,g),c.memoizedState=wm,Sf(o.child,C)):(On(c),g=o.child,o=g.sibling,g=hs(g,{mode:"visible",children:C.children}),g.return=c,g.sibling=null,o!==null&&(te=c.deletions,te===null?(c.deletions=[o],c.flags|=16):te.push(o)),c.child=g,c.memoizedState=null,g)}function Bm(o,c){return c=Md({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function Md(o,c){return o=va(22,o,null,c),o.lanes=0,o}function Wc(o,c,g){return bt(c,o.child,null,g),o=Bm(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function Qy(o,c,g){o.lanes|=c;var C=o.alternate;C!==null&&(C.lanes|=c),Ou(o.return,c,g)}function Cm(o,c,g,C,P,R){var te=o.memoizedState;te===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:C,tail:g,tailMode:P,treeForkCount:R}:(te.isBackwards=c,te.rendering=null,te.renderingStartTime=0,te.last=C,te.tail=g,te.tailMode=P,te.treeForkCount=R)}function Ny(o,c,g){var C=c.pendingProps,P=C.revealOrder,R=C.tail;C=C.children;var te=fn.current,Se=(te&2)!==0;if(Se?(te=te&1|2,c.flags|=128):te&=1,we(fn,te),Os(o,c,C,g),C=Rt?Pu:0,!Se&&o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Qy(o,g,c);else if(o.tag===19)Qy(o,g,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(P){case"forwards":for(g=c.child,P=null;g!==null;)o=g.alternate,o!==null&&_a(o)===null&&(P=g),g=g.sibling;g=P,g===null?(P=c.child,c.child=null):(P=g.sibling,g.sibling=null),Cm(c,!1,P,g,R,C);break;case"backwards":case"unstable_legacy-backwards":for(g=null,P=c.child,c.child=null;P!==null;){if(o=P.alternate,o!==null&&_a(o)===null){c.child=P;break}o=P.sibling,P.sibling=g,g=P,P=o}Cm(c,!0,g,null,R,C);break;case"together":Cm(c,!1,null,null,void 0,C);break;default:c.memoizedState=null}return c.child}function Ru(o,c,g){if(o!==null&&(c.dependencies=o.dependencies),th|=c.lanes,(g&c.childLanes)===0)if(o!==null){if(PA(o,c,g,!1),(g&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(n(153));if(c.child!==null){for(o=c.child,g=hs(o,o.pendingProps),c.child=g,g.return=c;o.sibling!==null;)o=o.sibling,g=g.sibling=hs(o,o.pendingProps),g.return=c;g.sibling=null}return c.child}function jp(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&jc(o)))}function Hw(o,c,g){switch(c.tag){case 3:dt(c,c.stateNode.containerInfo),yl(c,bi,o.memoizedState.cache),Xl();break;case 27:case 5:ft(c);break;case 4:dt(c,c.stateNode.containerInfo);break;case 10:yl(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,Cn(c),null;break;case 13:var C=c.memoizedState;if(C!==null)return C.dehydrated!==null?(On(c),c.flags|=128,null):(g&c.child.childLanes)!==0?wc(o,c,g):(On(c),o=Ru(o,c,g),o!==null?o.sibling:null);On(c);break;case 19:var P=(o.flags&128)!==0;if(C=(g&c.childLanes)!==0,C||(PA(o,c,g,!1),C=(g&c.childLanes)!==0),P){if(C)return Ny(o,c,g);c.flags|=128}if(P=c.memoizedState,P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),we(fn,fn.current),C)break;return null;case 22:return c.lanes=0,ym(o,c,g,c.pendingProps);case 24:yl(c,bi,o.memoizedState.cache)}return Ru(o,c,g)}function Ry(o,c,g){if(o!==null)if(o.memoizedProps!==c.pendingProps)wa=!0;else{if(!jp(o,g)&&(c.flags&128)===0)return wa=!1,Hw(o,c,g);wa=(o.flags&131072)!==0}else wa=!1,Rt&&(c.flags&1048576)!==0&&mf(c,Pu,c.index);switch(c.lanes=0,c.tag){case 16:e:{var C=c.pendingProps;if(o=ee(c.elementType),c.type=o,typeof o=="function")Lu(o)?(C=Fh(o,C),c.tag=1,c=Dy(null,c,o,C,g)):(c.tag=0,c=Hp(null,c,o,C,g));else{if(o!=null){var P=o.$$typeof;if(P===le){c.tag=11,c=Ud(null,c,o,C,g);break e}else if(P===Ie){c.tag=14,c=Ld(null,c,o,C,g);break e}}throw c=_e(o)||o,Error(n(306,c,""))}}return c;case 0:return Hp(o,c,c.type,c.pendingProps,g);case 1:return C=c.type,P=Fh(C,c.pendingProps),Dy(o,c,C,P,g);case 3:e:{if(dt(c,c.stateNode.containerInfo),o===null)throw Error(n(387));C=c.pendingProps;var R=c.memoizedState;P=R.element,Qt(o,c),un(c,C,null,g);var te=c.memoizedState;if(C=te.cache,yl(c,bi,C),C!==R.cache&&$l(c,[bi],g,!0),rr(),C=te.element,R.isDehydrated)if(R={element:C,isDehydrated:!1,cache:te.cache},c.updateQueue.baseState=R,c.memoizedState=R,c.flags&256){c=ky(o,c,C,g);break e}else if(C!==P){P=Ms(Error(n(424)),c),MA(P),c=ky(o,c,C,g);break e}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Mn=Wt(o.firstChild),Vi=c,Rt=!0,Fa=null,Si=!0,g=Ct(c,null,C,g),c.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling}else{if(Xl(),C===P){c=Ru(o,c,g);break e}Os(o,c,C,g)}c=c.child}return c;case 26:return If(o,c),o===null?(g=ms(c.type,null,c.pendingProps,null))?c.memoizedState=g:Rt||(g=c.type,o=c.pendingProps,C=B(Xe.current).createElement(g),C[or]=c,C[Or]=o,ps(C,g,o),Ui(C),c.stateNode=C):c.memoizedState=ms(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return ft(c),o===null&&Rt&&(C=c.stateNode=ir(c.type,c.pendingProps,Xe.current),Vi=c,Si=!0,P=Mn,Be(c.type)?(Yt=P,Mn=Wt(C.firstChild)):Mn=P),Os(o,c,c.pendingProps.children,g),If(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&Rt&&((P=C=Mn)&&(C=nt(C,c.type,c.pendingProps,Si),C!==null?(c.stateNode=C,Vi=c,Mn=Wt(C.firstChild),Si=!1,P=!0):P=!1),P||Js(c)),ft(c),P=c.type,R=c.pendingProps,te=o!==null?o.memoizedProps:null,C=R.children,O(P,R)?C=null:te!==null&&O(P,te)&&(c.flags|=32),c.memoizedState!==null&&(P=Eh(o,c,vf,null,null,g),$f._currentValue=P),If(o,c),Os(o,c,C,g),c.child;case 6:return o===null&&Rt&&((o=g=Mn)&&(g=ot(g,c.pendingProps,Si),g!==null?(c.stateNode=g,Vi=c,Mn=null,o=!0):o=!1),o||Js(c)),null;case 13:return wc(o,c,g);case 4:return dt(c,c.stateNode.containerInfo),C=c.pendingProps,o===null?c.child=bt(c,null,C,g):Os(o,c,C,g),c.child;case 11:return Ud(o,c,c.type,c.pendingProps,g);case 7:return Os(o,c,c.pendingProps,g),c.child;case 8:return Os(o,c,c.pendingProps.children,g),c.child;case 12:return Os(o,c,c.pendingProps.children,g),c.child;case 10:return C=c.pendingProps,yl(c,c.type,C.value),Os(o,c,C.children,g),c.child;case 9:return P=c.type._context,C=c.pendingProps.children,ca(c),P=pn(P),C=C(P),c.flags|=1,Os(o,c,C,g),c.child;case 14:return Ld(o,c,c.type,c.pendingProps,g);case 15:return Cf(o,c,c.type,c.pendingProps,g);case 19:return Ny(o,c,g);case 31:return vm(o,c,g);case 22:return ym(o,c,g,c.pendingProps);case 24:return ca(c),C=pn(bi),o===null?(P=v(),P===null&&(P=Ii,R=fs(),P.pooledCache=R,R.refCount++,R!==null&&(P.pooledCacheLanes|=g),P=R),c.memoizedState={parent:C,cache:P},pt(c),yl(c,bi,P)):((o.lanes&g)!==0&&(Qt(o,c),un(c,null,null,g),rr()),P=o.memoizedState,R=c.memoizedState,P.parent!==C?(P={parent:C,cache:C},c.memoizedState=P,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=P),yl(c,bi,C)):(C=R.cache,yl(c,bi,C),C!==P.cache&&$l(c,[bi],g,!0))),Os(o,c,c.pendingProps.children,g),c.child;case 29:throw c.pendingProps}throw Error(n(156,c.tag))}function bc(o){o.flags|=4}function Sm(o,c,g,C,P){if((c=(o.mode&32)!==0)&&(c=!1),c){if(o.flags|=16777216,(P&335544128)===P)if(o.stateNode.complete)o.flags|=8192;else if(rv())o.flags|=8192;else throw ue=G,k}else o.flags&=-16777217}function Kp(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!rs(c))if(rv())o.flags|=8192;else throw ue=G,k}function Yc(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?ke():536870912,o.lanes|=c,Df|=c)}function Lh(o,c){if(!Rt)switch(o.tailMode){case"hidden":c=o.tail;for(var g=null;c!==null;)c.alternate!==null&&(g=c),c=c.sibling;g===null?o.tail=null:g.sibling=null;break;case"collapsed":g=o.tail;for(var C=null;g!==null;)g.alternate!==null&&(C=g),g=g.sibling;C===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:C.sibling=null}}function ra(o){var c=o.alternate!==null&&o.alternate.child===o.child,g=0,C=0;if(c)for(var P=o.child;P!==null;)g|=P.lanes|P.childLanes,C|=P.subtreeFlags&65011712,C|=P.flags&65011712,P.return=o,P=P.sibling;else for(P=o.child;P!==null;)g|=P.lanes|P.childLanes,C|=P.subtreeFlags,C|=P.flags,P.return=o,P=P.sibling;return o.subtreeFlags|=C,o.childLanes=g,c}function jw(o,c,g){var C=c.pendingProps;switch(dc(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ra(c),null;case 1:return ra(c),null;case 3:return g=c.stateNode,C=null,o!==null&&(C=o.memoizedState.cache),c.memoizedState.cache!==C&&(c.flags|=2048),to(bi),He(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(o===null||o.child===null)&&(Hr(c)?bc(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Sh())),ra(c),null;case 26:var P=c.type,R=c.memoizedState;return o===null?(bc(c),R!==null?(ra(c),Kp(c,R)):(ra(c),Sm(c,P,null,C,g))):R?R!==o.memoizedState?(bc(c),ra(c),Kp(c,R)):(ra(c),c.flags&=-16777217):(o=o.memoizedProps,o!==C&&bc(c),ra(c),Sm(c,P,o,C,g)),null;case 27:if(It(c),g=Xe.current,P=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==C&&bc(c);else{if(!C){if(c.stateNode===null)throw Error(n(166));return ra(c),null}o=Ue.current,Hr(c)?LA(c):(o=ir(P,C,g),c.stateNode=o,bc(c))}return ra(c),null;case 5:if(It(c),P=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==C&&bc(c);else{if(!C){if(c.stateNode===null)throw Error(n(166));return ra(c),null}if(R=Ue.current,Hr(c))LA(c);else{var te=B(Xe.current);switch(R){case 1:R=te.createElementNS("http://www.w3.org/2000/svg",P);break;case 2:R=te.createElementNS("http://www.w3.org/1998/Math/MathML",P);break;default:switch(P){case"svg":R=te.createElementNS("http://www.w3.org/2000/svg",P);break;case"math":R=te.createElementNS("http://www.w3.org/1998/Math/MathML",P);break;case"script":R=te.createElement("div"),R.innerHTML="<script><\/script>",R=R.removeChild(R.firstChild);break;case"select":R=typeof C.is=="string"?te.createElement("select",{is:C.is}):te.createElement("select"),C.multiple?R.multiple=!0:C.size&&(R.size=C.size);break;default:R=typeof C.is=="string"?te.createElement(P,{is:C.is}):te.createElement(P)}}R[or]=c,R[Or]=C;e:for(te=c.child;te!==null;){if(te.tag===5||te.tag===6)R.appendChild(te.stateNode);else if(te.tag!==4&&te.tag!==27&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===c)break e;for(;te.sibling===null;){if(te.return===null||te.return===c)break e;te=te.return}te.sibling.return=te.return,te=te.sibling}c.stateNode=R;e:switch(ps(R,P,C),P){case"button":case"input":case"select":case"textarea":C=!!C.autoFocus;break e;case"img":C=!0;break e;default:C=!1}C&&bc(c)}}return ra(c),Sm(c,c.type,o===null?null:o.memoizedProps,c.pendingProps,g),null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==C&&bc(c);else{if(typeof C!="string"&&c.stateNode===null)throw Error(n(166));if(o=Xe.current,Hr(c)){if(o=c.stateNode,g=c.memoizedProps,C=null,P=Vi,P!==null)switch(P.tag){case 27:case 5:C=P.memoizedProps}o[or]=c,o=!!(o.nodeValue===g||C!==null&&C.suppressHydrationWarning===!0||qf(o.nodeValue,g)),o||Js(c,!0)}else o=B(o).createTextNode(C),o[or]=c,c.stateNode=o}return ra(c),null;case 31:if(g=c.memoizedState,o===null||o.memoizedState!==null){if(C=Hr(c),g!==null){if(o===null){if(!C)throw Error(n(318));if(o=c.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(557));o[or]=c}else Xl(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;ra(c),o=!1}else g=Sh(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=g),o=!0;if(!o)return c.flags&256?(Gn(c),c):(Gn(c),null);if((c.flags&128)!==0)throw Error(n(558))}return ra(c),null;case 13:if(C=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(P=Hr(c),C!==null&&C.dehydrated!==null){if(o===null){if(!P)throw Error(n(318));if(P=c.memoizedState,P=P!==null?P.dehydrated:null,!P)throw Error(n(317));P[or]=c}else Xl(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;ra(c),P=!1}else P=Sh(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=P),P=!0;if(!P)return c.flags&256?(Gn(c),c):(Gn(c),null)}return Gn(c),(c.flags&128)!==0?(c.lanes=g,c):(g=C!==null,o=o!==null&&o.memoizedState!==null,g&&(C=c.child,P=null,C.alternate!==null&&C.alternate.memoizedState!==null&&C.alternate.memoizedState.cachePool!==null&&(P=C.alternate.memoizedState.cachePool.pool),R=null,C.memoizedState!==null&&C.memoizedState.cachePool!==null&&(R=C.memoizedState.cachePool.pool),R!==P&&(C.flags|=2048)),g!==o&&g&&(c.child.flags|=8192),Yc(c,c.updateQueue),ra(c),null);case 4:return He(),o===null&&$m(c.stateNode.containerInfo),ra(c),null;case 10:return to(c.type),ra(c),null;case 19:if(ne(fn),C=c.memoizedState,C===null)return ra(c),null;if(P=(c.flags&128)!==0,R=C.rendering,R===null)if(P)Lh(C,!1);else{if(ia!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(R=_a(o),R!==null){for(c.flags|=128,Lh(C,!1),o=R.updateQueue,c.updateQueue=o,Yc(c,o),c.subtreeFlags=0,o=g,g=c.child;g!==null;)su(g,o),g=g.sibling;return we(fn,fn.current&1|2),Rt&&Ys(c,C.treeForkCount),c.child}o=o.sibling}C.tail!==null&&rn()>Xp&&(c.flags|=128,P=!0,Lh(C,!1),c.lanes=4194304)}else{if(!P)if(o=_a(R),o!==null){if(c.flags|=128,P=!0,o=o.updateQueue,c.updateQueue=o,Yc(c,o),Lh(C,!0),C.tail===null&&C.tailMode==="hidden"&&!R.alternate&&!Rt)return ra(c),null}else 2*rn()-C.renderingStartTime>Xp&&g!==536870912&&(c.flags|=128,P=!0,Lh(C,!1),c.lanes=4194304);C.isBackwards?(R.sibling=c.child,c.child=R):(o=C.last,o!==null?o.sibling=R:c.child=R,C.last=R)}return C.tail!==null?(o=C.tail,C.rendering=o,C.tail=o.sibling,C.renderingStartTime=rn(),o.sibling=null,g=fn.current,we(fn,P?g&1|2:g&1),Rt&&Ys(c,C.treeForkCount),o):(ra(c),null);case 22:case 23:return Gn(c),qn(),C=c.memoizedState!==null,o!==null?o.memoizedState!==null!==C&&(c.flags|=8192):C&&(c.flags|=8192),C?(g&536870912)!==0&&(c.flags&128)===0&&(ra(c),c.subtreeFlags&6&&(c.flags|=8192)):ra(c),g=c.updateQueue,g!==null&&Yc(c,g.retryQueue),g=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(g=o.memoizedState.cachePool.pool),C=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(C=c.memoizedState.cachePool.pool),C!==g&&(c.flags|=2048),o!==null&&ne(p),null;case 24:return g=null,o!==null&&(g=o.memoizedState.cache),c.memoizedState.cache!==g&&(c.flags|=2048),to(bi),ra(c),null;case 25:return null;case 30:return null}throw Error(n(156,c.tag))}function zy(o,c){switch(dc(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return to(bi),He(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return It(c),null;case 31:if(c.memoizedState!==null){if(Gn(c),c.alternate===null)throw Error(n(340));Xl()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 13:if(Gn(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(n(340));Xl()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return ne(fn),null;case 4:return He(),null;case 10:return to(c.type),null;case 22:case 23:return Gn(c),qn(),o!==null&&ne(p),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return to(bi),null;case 25:return null;default:return null}}function Hy(o,c){switch(dc(c),c.tag){case 3:to(bi),He();break;case 26:case 27:case 5:It(c);break;case 4:He();break;case 31:c.memoizedState!==null&&Gn(c);break;case 13:Gn(c);break;case 19:ne(fn);break;case 10:to(c.type);break;case 22:case 23:Gn(c),qn(),o!==null&&ne(p);break;case 24:to(bi)}}function Pd(o,c){try{var g=c.updateQueue,C=g!==null?g.lastEffect:null;if(C!==null){var P=C.next;g=P;do{if((g.tag&o)===o){C=void 0;var R=g.create,te=g.inst;C=R(),te.destroy=C}g=g.next}while(g!==P)}}catch(Se){hi(c,c.return,Se)}}function zA(o,c,g){try{var C=c.updateQueue,P=C!==null?C.lastEffect:null;if(P!==null){var R=P.next;C=R;do{if((C.tag&o)===o){var te=C.inst,Se=te.destroy;if(Se!==void 0){te.destroy=void 0,P=c;var et=g,vt=Se;try{vt()}catch(Dt){hi(P,et,Dt)}}}C=C.next}while(C!==R)}}catch(Dt){hi(c,c.return,Dt)}}function Em(o){var c=o.updateQueue;if(c!==null){var g=o.stateNode;try{Lr(c,g)}catch(C){hi(o,o.return,C)}}}function jy(o,c,g){g.props=Fh(o.type,o.memoizedProps),g.state=o.memoizedState;try{g.componentWillUnmount()}catch(C){hi(o,c,C)}}function Od(o,c){try{var g=o.ref;if(g!==null){switch(o.tag){case 26:case 27:case 5:var C=o.stateNode;break;case 30:C=o.stateNode;break;default:C=o.stateNode}typeof g=="function"?o.refCleanup=g(C):g.current=C}}catch(P){hi(o,c,P)}}function zu(o,c){var g=o.ref,C=o.refCleanup;if(g!==null)if(typeof C=="function")try{C()}catch(P){hi(o,c,P)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(P){hi(o,c,P)}else g.current=null}function Ky(o){var c=o.type,g=o.memoizedProps,C=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":g.autoFocus&&C.focus();break e;case"img":g.src?C.src=g.src:g.srcSet&&(C.srcset=g.srcSet)}}catch(P){hi(o,o.return,P)}}function Tm(o,c,g){try{var C=o.stateNode;Zw(C,o.type,g,c),C[Or]=c}catch(P){hi(o,o.return,P)}}function Vy(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Be(o.type)||o.tag===4}function Vp(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Vy(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Be(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Dd(o,c,g){var C=o.tag;if(C===5||C===6)o=o.stateNode,c?(g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g).insertBefore(o,c):(c=g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g,c.appendChild(o),g=g._reactRootContainer,g!=null||c.onclick!==null||(c.onclick=Na));else if(C!==4&&(C===27&&Be(o.type)&&(g=o.stateNode,c=null),o=o.child,o!==null))for(Dd(o,c,g),o=o.sibling;o!==null;)Dd(o,c,g),o=o.sibling}function kd(o,c,g){var C=o.tag;if(C===5||C===6)o=o.stateNode,c?g.insertBefore(o,c):g.appendChild(o);else if(C!==4&&(C===27&&Be(o.type)&&(g=o.stateNode),o=o.child,o!==null))for(kd(o,c,g),o=o.sibling;o!==null;)kd(o,c,g),o=o.sibling}function Im(o){var c=o.stateNode,g=o.memoizedProps;try{for(var C=o.type,P=c.attributes;P.length;)c.removeAttributeNode(P[0]);ps(c,C,g),c[or]=o,c[Or]=g}catch(R){hi(o,o.return,R)}}var Hu=!1,Za=!1,Ff=!1,qy=typeof WeakSet=="function"?WeakSet:Set,ds=null;function Kw(o,c){if(o=o.containerInfo,d=sg,o=Is(o),zo(o)){if("selectionStart"in o)var g={start:o.selectionStart,end:o.selectionEnd};else e:{g=(g=o.ownerDocument)&&g.defaultView||window;var C=g.getSelection&&g.getSelection();if(C&&C.rangeCount!==0){g=C.anchorNode;var P=C.anchorOffset,R=C.focusNode;C=C.focusOffset;try{g.nodeType,R.nodeType}catch{g=null;break e}var te=0,Se=-1,et=-1,vt=0,Dt=0,Ht=o,xt=null;t:for(;;){for(var Tt;Ht!==g||P!==0&&Ht.nodeType!==3||(Se=te+P),Ht!==R||C!==0&&Ht.nodeType!==3||(et=te+C),Ht.nodeType===3&&(te+=Ht.nodeValue.length),(Tt=Ht.firstChild)!==null;)xt=Ht,Ht=Tt;for(;;){if(Ht===o)break t;if(xt===g&&++vt===P&&(Se=te),xt===R&&++Dt===C&&(et=te),(Tt=Ht.nextSibling)!==null)break;Ht=xt,xt=Ht.parentNode}Ht=Tt}g=Se===-1||et===-1?null:{start:Se,end:et}}else g=null}g=g||{start:0,end:0}}else g=null;for(m={focusedElem:o,selectionRange:g},sg=!1,ds=c;ds!==null;)if(c=ds,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,ds=o;else for(;ds!==null;){switch(c=ds,R=c.alternate,o=c.flags,c.tag){case 0:if((o&4)!==0&&(o=c.updateQueue,o=o!==null?o.events:null,o!==null))for(g=0;g<o.length;g++)P=o[g],P.ref.impl=P.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&R!==null){o=void 0,g=c,P=R.memoizedProps,R=R.memoizedState,C=g.stateNode;try{var Fr=Fh(g.type,P);o=C.getSnapshotBeforeUpdate(Fr,R),C.__reactInternalSnapshotBeforeUpdate=o}catch(hn){hi(g,g.return,hn)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,g=o.nodeType,g===9)At(o);else if(g===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":At(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(n(163))}if(o=c.sibling,o!==null){o.return=c.return,ds=o;break}ds=c.return}}function Gy(o,c,g){var C=g.flags;switch(g.tag){case 0:case 11:case 15:bl(o,g),C&4&&Pd(5,g);break;case 1:if(bl(o,g),C&4)if(o=g.stateNode,c===null)try{o.componentDidMount()}catch(te){hi(g,g.return,te)}else{var P=Fh(g.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(P,c,o.__reactInternalSnapshotBeforeUpdate)}catch(te){hi(g,g.return,te)}}C&64&&Em(g),C&512&&Od(g,g.return);break;case 3:if(bl(o,g),C&64&&(o=g.updateQueue,o!==null)){if(c=null,g.child!==null)switch(g.child.tag){case 27:case 5:c=g.child.stateNode;break;case 1:c=g.child.stateNode}try{Lr(o,c)}catch(te){hi(g,g.return,te)}}break;case 27:c===null&&C&4&&Im(g);case 26:case 5:bl(o,g),c===null&&C&4&&Ky(g),C&512&&Od(g,g.return);break;case 12:bl(o,g);break;case 31:bl(o,g),C&4&&Ua(o,g);break;case 13:bl(o,g),C&4&&Fm(o,g),C&64&&(o=g.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(g=av.bind(null,g),kr(o,g))));break;case 22:if(C=g.memoizedState!==null||Hu,!C){c=c!==null&&c.memoizedState!==null||Za,P=Hu;var R=Za;Hu=C,(Za=c)&&!R?Bc(o,g,(g.subtreeFlags&8772)!==0):bl(o,g),Hu=P,Za=R}break;case 30:break;default:bl(o,g)}}function Xy(o){var c=o.alternate;c!==null&&(o.alternate=null,Xy(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&mi(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var na=null,wl=!1;function xc(o,c,g){for(g=g.child;g!==null;)Uf(o,c,g),g=g.sibling}function Uf(o,c,g){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(Pt,g)}catch{}switch(g.tag){case 26:Za||zu(g,c),xc(o,c,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:Za||zu(g,c);var C=na,P=wl;Be(g.type)&&(na=g.stateNode,wl=!1),xc(o,c,g),Ut(g.stateNode),na=C,wl=P;break;case 5:Za||zu(g,c);case 6:if(C=na,P=wl,na=null,xc(o,c,g),na=C,wl=P,na!==null)if(wl)try{(na.nodeType===9?na.body:na.nodeName==="HTML"?na.ownerDocument.body:na).removeChild(g.stateNode)}catch(R){hi(g,c,R)}else try{na.removeChild(g.stateNode)}catch(R){hi(g,c,R)}break;case 18:na!==null&&(wl?(o=na,Re(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,g.stateNode),ug(o)):Re(na,g.stateNode));break;case 4:C=na,P=wl,na=g.stateNode.containerInfo,wl=!0,xc(o,c,g),na=C,wl=P;break;case 0:case 11:case 14:case 15:zA(2,g,c),Za||zA(4,g,c),xc(o,c,g);break;case 1:Za||(zu(g,c),C=g.stateNode,typeof C.componentWillUnmount=="function"&&jy(g,c,C)),xc(o,c,g);break;case 21:xc(o,c,g);break;case 22:Za=(C=Za)||g.memoizedState!==null,xc(o,c,g),Za=C;break;default:xc(o,c,g)}}function Ua(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{ug(o)}catch(g){hi(c,c.return,g)}}}function Fm(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{ug(o)}catch(g){hi(c,c.return,g)}}function $y(o){switch(o.tag){case 31:case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new qy),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new qy),c;default:throw Error(n(435,o.tag))}}function Qd(o,c){var g=$y(o);c.forEach(function(C){if(!g.has(C)){g.add(C);var P=Xw.bind(null,o,C);C.then(P,P)}})}function wn(o,c){var g=c.deletions;if(g!==null)for(var C=0;C<g.length;C++){var P=g[C],R=o,te=c,Se=te;e:for(;Se!==null;){switch(Se.tag){case 27:if(Be(Se.type)){na=Se.stateNode,wl=!1;break e}break;case 5:na=Se.stateNode,wl=!1;break e;case 3:case 4:na=Se.stateNode.containerInfo,wl=!0;break e}Se=Se.return}if(na===null)throw Error(n(160));Uf(R,te,P),na=null,wl=!1,R=P.alternate,R!==null&&(R.return=null),P.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)Um(c,o),c=c.sibling}var rA=null;function Um(o,c){var g=o.alternate,C=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:wn(c,o),Go(o),C&4&&(zA(3,o,o.return),Pd(3,o),zA(5,o,o.return));break;case 1:wn(c,o),Go(o),C&512&&(Za||g===null||zu(g,g.return)),C&64&&Hu&&(o=o.updateQueue,o!==null&&(C=o.callbacks,C!==null&&(g=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=g===null?C:g.concat(C))));break;case 26:var P=rA;if(wn(c,o),Go(o),C&512&&(Za||g===null||zu(g,g.return)),C&4){var R=g!==null?g.memoizedState:null;if(C=o.memoizedState,g===null)if(C===null)if(o.stateNode===null){e:{C=o.type,g=o.memoizedProps,P=P.ownerDocument||P;t:switch(C){case"title":R=P.getElementsByTagName("title")[0],(!R||R[Pn]||R[or]||R.namespaceURI==="http://www.w3.org/2000/svg"||R.hasAttribute("itemprop"))&&(R=P.createElement(C),P.head.insertBefore(R,P.querySelector("head > title"))),ps(R,C,g),R[or]=o,Ui(R),C=R;break e;case"link":var te=gu("link","href",P).get(C+(g.href||""));if(te){for(var Se=0;Se<te.length;Se++)if(R=te[Se],R.getAttribute("href")===(g.href==null||g.href===""?null:g.href)&&R.getAttribute("rel")===(g.rel==null?null:g.rel)&&R.getAttribute("title")===(g.title==null?null:g.title)&&R.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){te.splice(Se,1);break t}}R=P.createElement(C),ps(R,C,g),P.head.appendChild(R);break;case"meta":if(te=gu("meta","content",P).get(C+(g.content||""))){for(Se=0;Se<te.length;Se++)if(R=te[Se],R.getAttribute("content")===(g.content==null?null:""+g.content)&&R.getAttribute("name")===(g.name==null?null:g.name)&&R.getAttribute("property")===(g.property==null?null:g.property)&&R.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&R.getAttribute("charset")===(g.charSet==null?null:g.charSet)){te.splice(Se,1);break t}}R=P.createElement(C),ps(R,C,g),P.head.appendChild(R);break;default:throw Error(n(468,C))}R[or]=o,Ui(R),C=R}o.stateNode=C}else sA(P,o.type,o.stateNode);else o.stateNode=Bi(P,C,o.memoizedProps);else R!==C?(R===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):R.count--,C===null?sA(P,o.type,o.stateNode):Bi(P,C,o.memoizedProps)):C===null&&o.stateNode!==null&&Tm(o,o.memoizedProps,g.memoizedProps)}break;case 27:wn(c,o),Go(o),C&512&&(Za||g===null||zu(g,g.return)),g!==null&&C&4&&Tm(o,o.memoizedProps,g.memoizedProps);break;case 5:if(wn(c,o),Go(o),C&512&&(Za||g===null||zu(g,g.return)),o.flags&32){P=o.stateNode;try{Bs(P,"")}catch(Fr){hi(o,o.return,Fr)}}C&4&&o.stateNode!=null&&(P=o.memoizedProps,Tm(o,P,g!==null?g.memoizedProps:P)),C&1024&&(Ff=!0);break;case 6:if(wn(c,o),Go(o),C&4){if(o.stateNode===null)throw Error(n(162));C=o.memoizedProps,g=o.stateNode;try{g.nodeValue=C}catch(Fr){hi(o,o.return,Fr)}}break;case 3:if(aA=null,P=rA,rA=Kr(c.containerInfo),wn(c,o),rA=P,Go(o),C&4&&g!==null&&g.memoizedState.isDehydrated)try{ug(c.containerInfo)}catch(Fr){hi(o,o.return,Fr)}Ff&&(Ff=!1,ju(o));break;case 4:C=rA,rA=Kr(o.stateNode.containerInfo),wn(c,o),Go(o),rA=C;break;case 12:wn(c,o),Go(o);break;case 31:wn(c,o),Go(o),C&4&&(C=o.updateQueue,C!==null&&(o.updateQueue=null,Qd(o,C)));break;case 13:wn(c,o),Go(o),o.child.flags&8192&&o.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(Qf=rn()),C&4&&(C=o.updateQueue,C!==null&&(o.updateQueue=null,Qd(o,C)));break;case 22:P=o.memoizedState!==null;var et=g!==null&&g.memoizedState!==null,vt=Hu,Dt=Za;if(Hu=vt||P,Za=Dt||et,wn(c,o),Za=Dt,Hu=vt,Go(o),C&8192)e:for(c=o.stateNode,c._visibility=P?c._visibility&-2:c._visibility|1,P&&(g===null||et||Hu||Za||Jc(o)),g=null,c=o;;){if(c.tag===5||c.tag===26){if(g===null){et=g=c;try{if(R=et.stateNode,P)te=R.style,typeof te.setProperty=="function"?te.setProperty("display","none","important"):te.display="none";else{Se=et.stateNode;var Ht=et.memoizedProps.style,xt=Ht!=null&&Ht.hasOwnProperty("display")?Ht.display:null;Se.style.display=xt==null||typeof xt=="boolean"?"":(""+xt).trim()}}catch(Fr){hi(et,et.return,Fr)}}}else if(c.tag===6){if(g===null){et=c;try{et.stateNode.nodeValue=P?"":et.memoizedProps}catch(Fr){hi(et,et.return,Fr)}}}else if(c.tag===18){if(g===null){et=c;try{var Tt=et.stateNode;P?Ge(Tt,!0):Ge(et.stateNode,!1)}catch(Fr){hi(et,et.return,Fr)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;g===c&&(g=null),c=c.return}g===c&&(g=null),c.sibling.return=c.return,c=c.sibling}C&4&&(C=o.updateQueue,C!==null&&(g=C.retryQueue,g!==null&&(C.retryQueue=null,Qd(o,g))));break;case 19:wn(c,o),Go(o),C&4&&(C=o.updateQueue,C!==null&&(o.updateQueue=null,Qd(o,C)));break;case 30:break;case 21:break;default:wn(c,o),Go(o)}}function Go(o){var c=o.flags;if(c&2){try{for(var g,C=o.return;C!==null;){if(Vy(C)){g=C;break}C=C.return}if(g==null)throw Error(n(160));switch(g.tag){case 27:var P=g.stateNode,R=Vp(o);kd(o,R,P);break;case 5:var te=g.stateNode;g.flags&32&&(Bs(te,""),g.flags&=-33);var Se=Vp(o);kd(o,Se,te);break;case 3:case 4:var et=g.stateNode.containerInfo,vt=Vp(o);Dd(o,vt,et);break;default:throw Error(n(161))}}catch(Dt){hi(o,o.return,Dt)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function ju(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;ju(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function bl(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)Gy(o,c.alternate,c),c=c.sibling}function Jc(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:zA(4,c,c.return),Jc(c);break;case 1:zu(c,c.return);var g=c.stateNode;typeof g.componentWillUnmount=="function"&&jy(c,c.return,g),Jc(c);break;case 27:Ut(c.stateNode);case 26:case 5:zu(c,c.return),Jc(c);break;case 22:c.memoizedState===null&&Jc(c);break;case 30:Jc(c);break;default:Jc(c)}o=o.sibling}}function Bc(o,c,g){for(g=g&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var C=c.alternate,P=o,R=c,te=R.flags;switch(R.tag){case 0:case 11:case 15:Bc(P,R,g),Pd(4,R);break;case 1:if(Bc(P,R,g),C=R,P=C.stateNode,typeof P.componentDidMount=="function")try{P.componentDidMount()}catch(vt){hi(C,C.return,vt)}if(C=R,P=C.updateQueue,P!==null){var Se=C.stateNode;try{var et=P.shared.hiddenCallbacks;if(et!==null)for(P.shared.hiddenCallbacks=null,P=0;P<et.length;P++)Ir(et[P],Se)}catch(vt){hi(C,C.return,vt)}}g&&te&64&&Em(R),Od(R,R.return);break;case 27:Im(R);case 26:case 5:Bc(P,R,g),g&&C===null&&te&4&&Ky(R),Od(R,R.return);break;case 12:Bc(P,R,g);break;case 31:Bc(P,R,g),g&&te&4&&Ua(P,R);break;case 13:Bc(P,R,g),g&&te&4&&Fm(P,R);break;case 22:R.memoizedState===null&&Bc(P,R,g),Od(R,R.return);break;case 30:break;default:Bc(P,R,g)}c=c.sibling}}function Lm(o,c){var g=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(g=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==g&&(o!=null&&o.refCount++,g!=null&&Wl(g))}function Mm(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Wl(o))}function du(o,c,g,C){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)Zy(o,c,g,C),c=c.sibling}function Zy(o,c,g,C){var P=c.flags;switch(c.tag){case 0:case 11:case 15:du(o,c,g,C),P&2048&&Pd(9,c);break;case 1:du(o,c,g,C);break;case 3:du(o,c,g,C),P&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Wl(o)));break;case 12:if(P&2048){du(o,c,g,C),o=c.stateNode;try{var R=c.memoizedProps,te=R.id,Se=R.onPostCommit;typeof Se=="function"&&Se(te,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(et){hi(c,c.return,et)}}else du(o,c,g,C);break;case 31:du(o,c,g,C);break;case 13:du(o,c,g,C);break;case 23:break;case 22:R=c.stateNode,te=c.alternate,c.memoizedState!==null?R._visibility&2?du(o,c,g,C):Nd(o,c):R._visibility&2?du(o,c,g,C):(R._visibility|=2,Lf(o,c,g,C,(c.subtreeFlags&10256)!==0||!1)),P&2048&&Lm(te,c);break;case 24:du(o,c,g,C),P&2048&&Mm(c.alternate,c);break;default:du(o,c,g,C)}}function Lf(o,c,g,C,P){for(P=P&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var R=o,te=c,Se=g,et=C,vt=te.flags;switch(te.tag){case 0:case 11:case 15:Lf(R,te,Se,et,P),Pd(8,te);break;case 23:break;case 22:var Dt=te.stateNode;te.memoizedState!==null?Dt._visibility&2?Lf(R,te,Se,et,P):Nd(R,te):(Dt._visibility|=2,Lf(R,te,Se,et,P)),P&&vt&2048&&Lm(te.alternate,te);break;case 24:Lf(R,te,Se,et,P),P&&vt&2048&&Mm(te.alternate,te);break;default:Lf(R,te,Se,et,P)}c=c.sibling}}function Nd(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var g=o,C=c,P=C.flags;switch(C.tag){case 22:Nd(g,C),P&2048&&Lm(C.alternate,C);break;case 24:Nd(g,C),P&2048&&Mm(C.alternate,C);break;default:Nd(g,C)}c=c.sibling}}var Rd=8192;function Mf(o,c,g){if(o.subtreeFlags&Rd)for(o=o.child;o!==null;)zd(o,c,g),o=o.sibling}function zd(o,c,g){switch(o.tag){case 26:Mf(o,c,g),o.flags&Rd&&o.memoizedState!==null&&Sc(g,rA,o.memoizedState,o.memoizedProps);break;case 5:Mf(o,c,g);break;case 3:case 4:var C=rA;rA=Kr(o.stateNode.containerInfo),Mf(o,c,g),rA=C;break;case 22:o.memoizedState===null&&(C=o.alternate,C!==null&&C.memoizedState!==null?(C=Rd,Rd=16777216,Mf(o,c,g),Rd=C):Mf(o,c,g));break;default:Mf(o,c,g)}}function Mh(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function Pf(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var g=0;g<c.length;g++){var C=c[g];ds=C,Wy(C,o)}Mh(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)qp(o),o=o.sibling}function qp(o){switch(o.tag){case 0:case 11:case 15:Pf(o),o.flags&2048&&zA(9,o,o.return);break;case 3:Pf(o);break;case 12:Pf(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,Of(o)):Pf(o);break;default:Pf(o)}}function Of(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var g=0;g<c.length;g++){var C=c[g];ds=C,Wy(C,o)}Mh(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:zA(8,c,c.return),Of(c);break;case 22:g=c.stateNode,g._visibility&2&&(g._visibility&=-3,Of(c));break;default:Of(c)}o=o.sibling}}function Wy(o,c){for(;ds!==null;){var g=ds;switch(g.tag){case 0:case 11:case 15:zA(8,g,c);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var C=g.memoizedState.cachePool.pool;C!=null&&C.refCount++}break;case 24:Wl(g.memoizedState.cache)}if(C=g.child,C!==null)C.return=g,ds=C;else e:for(g=o;ds!==null;){C=ds;var P=C.sibling,R=C.return;if(Xy(C),C===g){ds=null;break e}if(P!==null){P.return=R,ds=P;break e}ds=R}}}var Vw={getCacheForType:function(o){var c=pn(bi),g=c.data.get(o);return g===void 0&&(g=o(),c.data.set(o,g)),g},cacheSignal:function(){return pn(bi).controller.signal}},qw=typeof WeakMap=="function"?WeakMap:Map,ii=0,Ii=null,on=null,Nn=0,ci=0,Wa=null,HA=!1,Ku=!1,eh=!1,jA=0,ia=0,th=0,Ph=0,Gp=0,xl=0,Df=0,kf=null,Xo=null,Hd=!1,Qf=0,Yy=0,Xp=1/0,jd=null,Cc=null,ba=0,no=null,nA=null,Vu=0,Kd=0,Pm=null,Jy=null,rh=0,Vd=null;function iA(){return(ii&2)!==0&&Nn!==0?Nn&-Nn:Le.T!==null?Kf():Jt()}function $p(){if(xl===0)if((Nn&536870912)===0||Rt){var o=kn;kn<<=1,(kn&3932160)===0&&(kn=262144),xl=o}else xl=536870912;return o=In.current,o!==null&&(o.flags|=32),xl}function wo(o,c,g){(o===Ii&&(ci===2||ci===9)||o.cancelPendingCommit!==null)&&(Dh(o,0),qu(o,Nn,xl,!1)),je(o,g),((ii&2)===0||o!==Ii)&&(o===Ii&&((ii&2)===0&&(Ph|=g),ia===4&&qu(o,Nn,xl,!1)),Gu(o))}function Oh(o,c,g){if((ii&6)!==0)throw Error(n(327));var C=!g&&(c&127)===0&&(c&o.expiredLanes)===0||Ae(o,c),P=C?Qm(o,c):km(o,c,!0),R=C;do{if(P===0){Ku&&!C&&qu(o,c,0,!1);break}else{if(g=o.current.alternate,R&&!ev(g)){P=km(o,c,!1),R=!1;continue}if(P===2){if(R=c,o.errorRecoveryDisabledLanes&R)var te=0;else te=o.pendingLanes&-536870913,te=te!==0?te:te&536870912?536870912:0;if(te!==0){c=te;e:{var Se=o;P=kf;var et=Se.current.memoizedState.isDehydrated;if(et&&(Dh(Se,te).flags|=256),te=km(Se,te,!1),te!==2){if(eh&&!et){Se.errorRecoveryDisabledLanes|=R,Ph|=R,P=4;break e}R=Xo,Xo=P,R!==null&&(Xo===null?Xo=R:Xo.push.apply(Xo,R))}P=te}if(R=!1,P!==2)continue}}if(P===1){Dh(o,0),qu(o,c,0,!0);break}e:{switch(C=o,R=P,R){case 0:case 1:throw Error(n(345));case 4:if((c&4194048)!==c)break;case 6:qu(C,c,xl,!HA);break e;case 2:Xo=null;break;case 3:case 5:break;default:throw Error(n(329))}if((c&62914560)===c&&(P=Qf+300-rn(),10<P)){if(qu(C,c,xl,!HA),oe(C,0,!0)!==0)break e;Vu=c,C.timeoutHandle=Z(Om.bind(null,C,g,Xo,jd,Hd,c,xl,Ph,Df,HA,R,"Throttled",-0,0),P);break e}Om(C,g,Xo,jd,Hd,c,xl,Ph,Df,HA,R,null,-0,0)}}break}while(!0);Gu(o)}function Om(o,c,g,C,P,R,te,Se,et,vt,Dt,Ht,xt,Tt){if(o.timeoutHandle=-1,Ht=c.subtreeFlags,Ht&8192||(Ht&16785408)===16785408){Ht={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Na},zd(c,R,Ht);var Fr=(R&62914560)===R?Qf-rn():(R&4194048)===R?Yy-rn():0;if(Fr=cv(Ht,Fr),Fr!==null){Vu=R,o.cancelPendingCommit=Fr(Wp.bind(null,o,c,R,g,C,P,te,Se,et,Dt,Ht,null,xt,Tt)),qu(o,R,te,!vt);return}}Wp(o,c,R,g,C,P,te,Se,et)}function ev(o){for(var c=o;;){var g=c.tag;if((g===0||g===11||g===15)&&c.flags&16384&&(g=c.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var C=0;C<g.length;C++){var P=g[C],R=P.getSnapshot;P=P.value;try{if(!ma(R(),P))return!1}catch{return!1}}if(g=c.child,c.subtreeFlags&16384&&g!==null)g.return=c,c=g;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function qu(o,c,g,C){c&=~Gp,c&=~Ph,o.suspendedLanes|=c,o.pingedLanes&=~c,C&&(o.warmLanes|=c),C=o.expirationTimes;for(var P=c;0<P;){var R=31-$r(P),te=1<<R;C[R]=-1,P&=~te}g!==0&&$e(o,g,c)}function qd(){return(ii&6)===0?(Hf(0),!1):!0}function Nf(){if(on!==null){if(ci===0)var o=on.return;else o=on,qo=eo=null,lu(o),xe=null,Oe=0,o=on;for(;o!==null;)Hy(o.alternate,o),o=o.return;on=null}}function Dh(o,c){var g=o.timeoutHandle;g!==-1&&(o.timeoutHandle=-1,Y(g)),g=o.cancelPendingCommit,g!==null&&(o.cancelPendingCommit=null,g()),Vu=0,Nf(),Ii=o,on=g=hs(o.current,null),Nn=c,ci=0,Wa=null,HA=!1,Ku=Ae(o,c),eh=!1,Df=xl=Gp=Ph=th=ia=0,Xo=kf=null,Hd=!1,(c&8)!==0&&(c|=c&32);var C=o.entangledLanes;if(C!==0)for(o=o.entanglements,C&=c;0<C;){var P=31-$r(C),R=1<<P;c|=o[P],C&=~R}return jA=c,cs(),g}function tv(o,c){mr=null,Le.H=Id,c===M||c===Q?(c=ge(),ci=3):c===k?(c=ge(),ci=4):ci=c===ta?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Wa=c,on===null&&(ia=1,Rp(o,Ms(c,o.current)))}function rv(){var o=In.current;return o===null?!0:(Nn&4194048)===Nn?sn===null:(Nn&62914560)===Nn||(Nn&536870912)!==0?o===sn:!1}function Dm(){var o=Le.H;return Le.H=Id,o===null?Id:o}function nv(){var o=Le.A;return Le.A=Vw,o}function Zp(){ia=4,HA||(Nn&4194048)!==Nn&&In.current!==null||(Ku=!0),(th&134217727)===0&&(Ph&134217727)===0||Ii===null||qu(Ii,Nn,xl,!1)}function km(o,c,g){var C=ii;ii|=2;var P=Dm(),R=nv();(Ii!==o||Nn!==c)&&(jd=null,Dh(o,c)),c=!1;var te=ia;e:do try{if(ci!==0&&on!==null){var Se=on,et=Wa;switch(ci){case 8:Nf(),te=6;break e;case 3:case 2:case 9:case 6:In.current===null&&(c=!0);var vt=ci;if(ci=0,Wa=null,kh(o,Se,et,vt),g&&Ku){te=0;break e}break;default:vt=ci,ci=0,Wa=null,kh(o,Se,et,vt)}}Gw(),te=ia;break}catch(Dt){tv(o,Dt)}while(!0);return c&&o.shellSuspendCounter++,qo=eo=null,ii=C,Le.H=P,Le.A=R,on===null&&(Ii=null,Nn=0,cs()),te}function Gw(){for(;on!==null;)Nm(on)}function Qm(o,c){var g=ii;ii|=2;var C=Dm(),P=nv();Ii!==o||Nn!==c?(jd=null,Xp=rn()+500,Dh(o,c)):Ku=Ae(o,c);e:do try{if(ci!==0&&on!==null){c=on;var R=Wa;t:switch(ci){case 1:ci=0,Wa=null,kh(o,c,R,1);break;case 2:case 9:if(X(R)){ci=0,Wa=null,Rm(c);break}c=function(){ci!==2&&ci!==9||Ii!==o||(ci=7),Gu(o)},R.then(c,c);break e;case 3:ci=7;break e;case 4:ci=5;break e;case 7:X(R)?(ci=0,Wa=null,Rm(c)):(ci=0,Wa=null,kh(o,c,R,7));break;case 5:var te=null;switch(on.tag){case 26:te=on.memoizedState;case 5:case 27:var Se=on;if(te?rs(te):Se.stateNode.complete){ci=0,Wa=null;var et=Se.sibling;if(et!==null)on=et;else{var vt=Se.return;vt!==null?(on=vt,Gd(vt)):on=null}break t}}ci=0,Wa=null,kh(o,c,R,5);break;case 6:ci=0,Wa=null,kh(o,c,R,6);break;case 8:Nf(),ia=6;break e;default:throw Error(n(462))}}nh();break}catch(Dt){tv(o,Dt)}while(!0);return qo=eo=null,Le.H=C,Le.A=P,ii=g,on!==null?0:(Ii=null,Nn=0,cs(),ia)}function nh(){for(;on!==null&&!Tr();)Nm(on)}function Nm(o){var c=Ry(o.alternate,o,jA);o.memoizedProps=o.pendingProps,c===null?Gd(o):on=c}function Rm(o){var c=o,g=c.alternate;switch(c.tag){case 15:case 0:c=_m(g,c,c.pendingProps,c.type,void 0,Nn);break;case 11:c=_m(g,c,c.pendingProps,c.type.render,c.ref,Nn);break;case 5:lu(c);default:Hy(g,c),c=on=su(c,jA),c=Ry(g,c,jA)}o.memoizedProps=o.pendingProps,c===null?Gd(o):on=c}function kh(o,c,g,C){qo=eo=null,lu(c),xe=null,Oe=0;var P=c.return;try{if(zw(o,P,c,g,Nn)){ia=1,Rp(o,Ms(g,o.current)),on=null;return}}catch(R){if(P!==null)throw on=P,R;ia=1,Rp(o,Ms(g,o.current)),on=null;return}c.flags&32768?(Rt||C===1?o=!0:Ku||(Nn&536870912)!==0?o=!1:(HA=o=!0,(C===2||C===9||C===3||C===6)&&(C=In.current,C!==null&&C.tag===13&&(C.flags|=16384))),zm(c,o)):Gd(c)}function Gd(o){var c=o;do{if((c.flags&32768)!==0){zm(c,HA);return}o=c.return;var g=jw(c.alternate,c,jA);if(g!==null){on=g;return}if(c=c.sibling,c!==null){on=c;return}on=c=o}while(c!==null);ia===0&&(ia=5)}function zm(o,c){do{var g=zy(o.alternate,o);if(g!==null){g.flags&=32767,on=g;return}if(g=o.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!c&&(o=o.sibling,o!==null)){on=o;return}on=o=g}while(o!==null);ia=6,on=null}function Wp(o,c,g,C,P,R,te,Se,et){o.cancelPendingCommit=null;do bo();while(ba!==0);if((ii&6)!==0)throw Error(n(327));if(c!==null){if(c===o.current)throw Error(n(177));if(R=c.lanes|c.childLanes,R|=_i,st(o,g,R,te,Se,et),o===Ii&&(on=Ii=null,Nn=0),nA=c,no=o,Vu=g,Kd=R,Pm=P,Jy=C,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,sv(Ft,function(){return zf(),null})):(o.callbackNode=null,o.callbackPriority=0),C=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||C){C=Le.T,Le.T=null,P=Ne.p,Ne.p=2,te=ii,ii|=4;try{Kw(o,c,g)}finally{ii=te,Ne.p=P,Le.T=C}}ba=1,Rf(),Hm(),Yp()}}function Rf(){if(ba===1){ba=0;var o=no,c=nA,g=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||g){g=Le.T,Le.T=null;var C=Ne.p;Ne.p=2;var P=ii;ii|=4;try{Um(c,o);var R=m,te=Is(o.containerInfo),Se=R.focusedElem,et=R.selectionRange;if(te!==Se&&Se&&Se.ownerDocument&&hl(Se.ownerDocument.documentElement,Se)){if(et!==null&&zo(Se)){var vt=et.start,Dt=et.end;if(Dt===void 0&&(Dt=vt),"selectionStart"in Se)Se.selectionStart=vt,Se.selectionEnd=Math.min(Dt,Se.value.length);else{var Ht=Se.ownerDocument||document,xt=Ht&&Ht.defaultView||window;if(xt.getSelection){var Tt=xt.getSelection(),Fr=Se.textContent.length,hn=Math.min(et.start,Fr),qi=et.end===void 0?hn:Math.min(et.end,Fr);!Tt.extend&&hn>qi&&(te=qi,qi=hn,hn=te);var ht=Fu(Se,hn),at=Fu(Se,qi);if(ht&&at&&(Tt.rangeCount!==1||Tt.anchorNode!==ht.node||Tt.anchorOffset!==ht.offset||Tt.focusNode!==at.node||Tt.focusOffset!==at.offset)){var mt=Ht.createRange();mt.setStart(ht.node,ht.offset),Tt.removeAllRanges(),hn>qi?(Tt.addRange(mt),Tt.extend(at.node,at.offset)):(mt.setEnd(at.node,at.offset),Tt.addRange(mt))}}}}for(Ht=[],Tt=Se;Tt=Tt.parentNode;)Tt.nodeType===1&&Ht.push({element:Tt,left:Tt.scrollLeft,top:Tt.scrollTop});for(typeof Se.focus=="function"&&Se.focus(),Se=0;Se<Ht.length;Se++){var kt=Ht[Se];kt.element.scrollLeft=kt.left,kt.element.scrollTop=kt.top}}sg=!!d,m=d=null}finally{ii=P,Ne.p=C,Le.T=g}}o.current=c,ba=2}}function Hm(){if(ba===2){ba=0;var o=no,c=nA,g=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||g){g=Le.T,Le.T=null;var C=Ne.p;Ne.p=2;var P=ii;ii|=4;try{Gy(o,c.alternate,c)}finally{ii=P,Ne.p=C,Le.T=g}}ba=3}}function Yp(){if(ba===4||ba===3){ba=0,Br();var o=no,c=nA,g=Vu,C=Jy;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?ba=5:(ba=0,nA=no=null,jm(o,o.pendingLanes));var P=o.pendingLanes;if(P===0&&(Cc=null),Nt(g),c=c.stateNode,Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(Pt,c,void 0,(c.current.flags&128)===128)}catch{}if(C!==null){c=Le.T,P=Ne.p,Ne.p=2,Le.T=null;try{for(var R=o.onRecoverableError,te=0;te<C.length;te++){var Se=C[te];R(Se.value,{componentStack:Se.stack})}}finally{Le.T=c,Ne.p=P}}(Vu&3)!==0&&bo(),Gu(o),P=o.pendingLanes,(g&261930)!==0&&(P&42)!==0?o===Vd?rh++:(rh=0,Vd=o):rh=0,Hf(0)}}function jm(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,Wl(c)))}function bo(){return Rf(),Hm(),Yp(),zf()}function zf(){if(ba!==5)return!1;var o=no,c=Kd;Kd=0;var g=Nt(Vu),C=Le.T,P=Ne.p;try{Ne.p=32>g?32:g,Le.T=null,g=Pm,Pm=null;var R=no,te=Vu;if(ba=0,nA=no=null,Vu=0,(ii&6)!==0)throw Error(n(331));var Se=ii;if(ii|=4,qp(R.current),Zy(R,R.current,te,g),ii=Se,Hf(0,!1),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(Pt,R)}catch{}return!0}finally{Ne.p=P,Le.T=C,jm(o,c)}}function Km(o,c,g){c=Ms(g,c),c=Fd(o.stateNode,c,2),o=zt(o,c,2),o!==null&&(je(o,2),Gu(o))}function hi(o,c,g){if(o.tag===3)Km(o,o,g);else for(;c!==null;){if(c.tag===3){Km(c,o,g);break}else if(c.tag===1){var C=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&(Cc===null||!Cc.has(C))){o=Ms(g,o),g=Oy(2),C=zt(c,g,2),C!==null&&(Uh(g,C,c,o),je(C,2),Gu(C));break}}c=c.return}}function Jp(o,c,g){var C=o.pingCache;if(C===null){C=o.pingCache=new qw;var P=new Set;C.set(c,P)}else P=C.get(c),P===void 0&&(P=new Set,C.set(c,P));P.has(g)||(eh=!0,P.add(g),o=iv.bind(null,o,c,g),c.then(o,o))}function iv(o,c,g){var C=o.pingCache;C!==null&&C.delete(c),o.pingedLanes|=o.suspendedLanes&g,o.warmLanes&=~g,Ii===o&&(Nn&g)===g&&(ia===4||ia===3&&(Nn&62914560)===Nn&&300>rn()-Qf?(ii&2)===0&&Dh(o,0):Gp|=g,Df===Nn&&(Df=0)),Gu(o)}function Vm(o,c){c===0&&(c=ke()),o=Ko(o,c),o!==null&&(je(o,c),Gu(o))}function av(o){var c=o.memoizedState,g=0;c!==null&&(g=c.retryLane),Vm(o,g)}function Xw(o,c){var g=0;switch(o.tag){case 31:case 13:var C=o.stateNode,P=o.memoizedState;P!==null&&(g=P.retryLane);break;case 19:C=o.stateNode;break;case 22:C=o.stateNode._retryCache;break;default:throw Error(n(314))}C!==null&&C.delete(c),Vm(o,g)}function sv(o,c){return nr(o,c)}var pu=null,Qh=null,eg=!1,Xd=!1,tg=!1,ih=0;function Gu(o){o!==Qh&&o.next===null&&(Qh===null?pu=Qh=o:Qh=Qh.next=o),Xd=!0,eg||(eg=!0,rg())}function Hf(o,c){if(!tg&&Xd){tg=!0;do for(var g=!1,C=pu;C!==null;){if(o!==0){var P=C.pendingLanes;if(P===0)var R=0;else{var te=C.suspendedLanes,Se=C.pingedLanes;R=(1<<31-$r(42|o)+1)-1,R&=P&~(te&~Se),R=R&201326741?R&201326741|1:R?R|2:0}R!==0&&(g=!0,Zd(C,R))}else R=Nn,R=oe(C,C===Ii?R:0,C.cancelPendingCommit!==null||C.timeoutHandle!==-1),(R&3)===0||Ae(C,R)||(g=!0,Zd(C,R));C=C.next}while(g);tg=!1}}function jf(){qm()}function qm(){Xd=eg=!1;var o=0;ih!==0&&q()&&(o=ih);for(var c=rn(),g=null,C=pu;C!==null;){var P=C.next,R=$d(C,c);R===0?(C.next=null,g===null?pu=P:g.next=P,P===null&&(Qh=g)):(g=C,(o!==0||(R&3)!==0)&&(Xd=!0)),C=P}ba!==0&&ba!==5||Hf(o),ih!==0&&(ih=0)}function $d(o,c){for(var g=o.suspendedLanes,C=o.pingedLanes,P=o.expirationTimes,R=o.pendingLanes&-62914561;0<R;){var te=31-$r(R),Se=1<<te,et=P[te];et===-1?((Se&g)===0||(Se&C)!==0)&&(P[te]=be(Se,c)):et<=c&&(o.expiredLanes|=Se),R&=~Se}if(c=Ii,g=Nn,g=oe(o,o===c?g:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),C=o.callbackNode,g===0||o===c&&(ci===2||ci===9)||o.cancelPendingCommit!==null)return C!==null&&C!==null&&ur(C),o.callbackNode=null,o.callbackPriority=0;if((g&3)===0||Ae(o,g)){if(c=g&-g,c===o.callbackPriority)return c;switch(C!==null&&ur(C),Nt(g)){case 2:case 8:g=yn;break;case 32:g=Ft;break;case 268435456:g=Pr;break;default:g=Ft}return C=Gm.bind(null,o),g=nr(g,C),o.callbackPriority=c,o.callbackNode=g,c}return C!==null&&C!==null&&ur(C),o.callbackPriority=2,o.callbackNode=null,2}function Gm(o,c){if(ba!==0&&ba!==5)return o.callbackNode=null,o.callbackPriority=0,null;var g=o.callbackNode;if(bo()&&o.callbackNode!==g)return null;var C=Nn;return C=oe(o,o===Ii?C:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),C===0?null:(Oh(o,C,c),$d(o,rn()),o.callbackNode!=null&&o.callbackNode===g?Gm.bind(null,o):null)}function Zd(o,c){if(bo())return null;Oh(o,c,!0)}function rg(){he(function(){(ii&6)!==0?nr(Jr,jf):qm()})}function Kf(){if(ih===0){var o=L;o===0&&(o=Rr,Rr<<=1,(Rr&261888)===0&&(Rr=256)),ih=o}return ih}function ov(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Cs(""+o)}function lv(o,c){var g=c.ownerDocument.createElement("input");return g.name=c.name,g.value=c.value,o.id&&g.setAttribute("form",o.id),c.parentNode.insertBefore(g,c),o=new FormData(o),g.parentNode.removeChild(g),o}function $w(o,c,g,C,P){if(c==="submit"&&g&&g.stateNode===P){var R=ov((P[Or]||null).action),te=C.submitter;te&&(c=(c=te[Or]||null)?ov(c.formAction):te.getAttribute("formAction"),c!==null&&(R=c,te=null));var Se=new po("action","action",null,C,P);o.push({event:Se,listeners:[{instance:null,listener:function(){if(C.defaultPrevented){if(ih!==0){var et=te?lv(P,te):new FormData(P);Dp(g,{pending:!0,data:et,method:P.method,action:R},null,et)}}else typeof R=="function"&&(Se.preventDefault(),et=te?lv(P,te):new FormData(P),Dp(g,{pending:!0,data:et,method:P.method,action:R},R,et))},currentTarget:P}]})}}for(var ah=0;ah<Ho.length;ah++){var Ya=Ho[ah],sh=Ya.toLowerCase(),Xm=Ya[0].toUpperCase()+Ya.slice(1);oi(sh,"on"+Xm)}oi(pl,"onAnimationEnd"),oi(bA,"onAnimationIteration"),oi(cc,"onAnimationStart"),oi("dblclick","onDoubleClick"),oi("focusin","onFocus"),oi("focusout","onBlur"),oi(gf,"onTransitionRun"),oi(Ch,"onTransitionStart"),oi(hc,"onTransitionCancel"),oi(fc,"onTransitionEnd"),zl("onMouseEnter",["mouseout","mouseover"]),zl("onMouseLeave",["mouseout","mouseover"]),zl("onPointerEnter",["pointerout","pointerover"]),zl("onPointerLeave",["pointerout","pointerover"]),Li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Li("onBeforeInput",["compositionend","keypress","textInput","paste"]),Li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Av=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vf));function ng(o,c){c=(c&4)!==0;for(var g=0;g<o.length;g++){var C=o[g],P=C.event;C=C.listeners;e:{var R=void 0;if(c)for(var te=C.length-1;0<=te;te--){var Se=C[te],et=Se.instance,vt=Se.currentTarget;if(Se=Se.listener,et!==R&&P.isPropagationStopped())break e;R=Se,P.currentTarget=vt;try{R(P)}catch(Dt){jo(Dt)}P.currentTarget=null,R=et}else for(te=0;te<C.length;te++){if(Se=C[te],et=Se.instance,vt=Se.currentTarget,Se=Se.listener,et!==R&&P.isPropagationStopped())break e;R=Se,P.currentTarget=vt;try{R(P)}catch(Dt){jo(Dt)}P.currentTarget=null,R=et}}}}function jn(o,c){var g=c[Kn];g===void 0&&(g=c[Kn]=new Set);var C=o+"__bubble";g.has(C)||(Zm(c,o,2,!1),g.add(C))}function ig(o,c,g){var C=0;c&&(C|=4),Zm(g,o,C,c)}var Wd="_reactListening"+Math.random().toString(36).slice(2);function $m(o){if(!o[Wd]){o[Wd]=!0,WA.forEach(function(g){g!=="selectionchange"&&(Av.has(g)||ig(g,!1,o),ig(g,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[Wd]||(c[Wd]=!0,ig("selectionchange",!1,c))}}function Zm(o,c,g,C){switch(Ds(c)){case 2:var P=mu;break;case 8:P=og;break;default:P=lg}g=P.bind(null,c,g,o),P=void 0,!Tu||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(P=!0),C?P!==void 0?o.addEventListener(c,g,{capture:!0,passive:P}):o.addEventListener(c,g,!0):P!==void 0?o.addEventListener(c,g,{passive:P}):o.addEventListener(c,g,!1)}function Yd(o,c,g,C,P){var R=C;if((c&1)===0&&(c&2)===0&&C!==null)e:for(;;){if(C===null)return;var te=C.tag;if(te===3||te===4){var Se=C.stateNode.containerInfo;if(Se===P)break;if(te===4)for(te=C.return;te!==null;){var et=te.tag;if((et===3||et===4)&&te.stateNode.containerInfo===P)return;te=te.return}for(;Se!==null;){if(te=ai(Se),te===null)return;if(et=te.tag,et===5||et===6||et===26||et===27){C=R=te;continue e}Se=Se.parentNode}}C=C.return}uc(function(){var vt=R,Dt=la(g),Ht=[];e:{var xt=au.get(o);if(xt!==void 0){var Tt=po,Fr=o;switch(o){case"keypress":if(Ss(g)===0)break e;case"keydown":case"keyup":Tt=zn;break;case"focusin":Fr="focus",Tt=ll;break;case"focusout":Fr="blur",Tt=ll;break;case"beforeblur":case"afterblur":Tt=ll;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Tt=sl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Tt=ol;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Tt=ua;break;case pl:case bA:case cc:Tt=j;break;case fc:Tt=Ea;break;case"scroll":case"scrollend":Tt=go;break;case"wheel":Tt=ga;break;case"copy":case"cut":case"paste":Tt=Qe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Tt=zi;break;case"toggle":case"beforetoggle":Tt=iu}var hn=(c&4)!==0,qi=!hn&&(o==="scroll"||o==="scrollend"),ht=hn?xt!==null?xt+"Capture":null:xt;hn=[];for(var at=vt,mt;at!==null;){var kt=at;if(mt=kt.stateNode,kt=kt.tag,kt!==5&&kt!==26&&kt!==27||mt===null||ht===null||(kt=Sa(at,ht),kt!=null&&hn.push(Nh(at,kt,mt))),qi)break;at=at.return}0<hn.length&&(xt=new Tt(xt,Fr,null,g,Dt),Ht.push({event:xt,listeners:hn}))}}if((c&7)===0){e:{if(xt=o==="mouseover"||o==="pointerover",Tt=o==="mouseout"||o==="pointerout",xt&&g!==Ks&&(Fr=g.relatedTarget||g.fromElement)&&(ai(Fr)||Fr[zr]))break e;if((Tt||xt)&&(xt=Dt.window===Dt?Dt:(xt=Dt.ownerDocument)?xt.defaultView||xt.parentWindow:window,Tt?(Fr=g.relatedTarget||g.toElement,Tt=vt,Fr=Fr?ai(Fr):null,Fr!==null&&(qi=A(Fr),hn=Fr.tag,Fr!==qi||hn!==5&&hn!==27&&hn!==6)&&(Fr=null)):(Tt=null,Fr=vt),Tt!==Fr)){if(hn=sl,kt="onMouseLeave",ht="onMouseEnter",at="mouse",(o==="pointerout"||o==="pointerover")&&(hn=zi,kt="onPointerLeave",ht="onPointerEnter",at="pointer"),qi=Tt==null?xt:fo(Tt),mt=Fr==null?xt:fo(Fr),xt=new hn(kt,at+"leave",Tt,g,Dt),xt.target=qi,xt.relatedTarget=mt,kt=null,ai(Dt)===vt&&(hn=new hn(ht,at+"enter",Fr,g,Dt),hn.target=mt,hn.relatedTarget=qi,kt=hn),qi=kt,Tt&&Fr)t:{for(hn=ep,ht=Tt,at=Fr,mt=0,kt=ht;kt;kt=hn(kt))mt++;kt=0;for(var Wr=at;Wr;Wr=hn(Wr))kt++;for(;0<mt-kt;)ht=hn(ht),mt--;for(;0<kt-mt;)at=hn(at),kt--;for(;mt--;){if(ht===at||at!==null&&ht===at.alternate){hn=ht;break t}ht=hn(ht),at=hn(at)}hn=null}else hn=null;Tt!==null&&ag(Ht,xt,Tt,hn,!1),Fr!==null&&qi!==null&&ag(Ht,qi,Fr,hn,!0)}}e:{if(xt=vt?fo(vt):window,Tt=xt.nodeName&&xt.nodeName.toLowerCase(),Tt==="select"||Tt==="input"&&xt.type==="file")var di=ul;else if(Vl(xt))if(Ga)di=os;else{di=Ci;var Qr=cl}else Tt=xt.nodeName,!Tt||Tt.toLowerCase()!=="input"||xt.type!=="checkbox"&&xt.type!=="radio"?vt&&Eu(vt.elementType)&&(di=ul):di=ql;if(di&&(di=di(o,vt))){za(Ht,di,g,Dt);break e}Qr&&Qr(o,xt,vt),o==="focusout"&&vt&&xt.type==="number"&&vt.memoizedProps.value!=null&&YA(xt,"number",xt.value)}switch(Qr=vt?fo(vt):window,o){case"focusin":(Vl(Qr)||Qr.contentEditable==="true")&&(Fs=Qr,dl=vt,ya=null);break;case"focusout":ya=dl=Fs=null;break;case"mousedown":ls=!0;break;case"contextmenu":case"mouseup":case"dragend":ls=!1,Ln(Ht,g,Dt);break;case"selectionchange":if(fl)break;case"keydown":case"keyup":Ln(Ht,g,Dt)}var Dn;if(qs)e:{switch(o){case"compositionstart":var Yn="onCompositionStart";break e;case"compositionend":Yn="onCompositionEnd";break e;case"compositionupdate":Yn="onCompositionUpdate";break e}Yn=void 0}else $s?wA(o,g)&&(Yn="onCompositionEnd"):o==="keydown"&&g.keyCode===229&&(Yn="onCompositionStart");Yn&&(Qo&&g.locale!=="ko"&&($s||Yn!=="onCompositionStart"?Yn==="onCompositionEnd"&&$s&&(Dn=yA()):(Vs=Dt,ru="value"in Vs?Vs.value:Vs.textContent,$s=!0)),Qr=Jd(vt,Yn),0<Qr.length&&(Yn=new lt(Yn,o,null,g,Dt),Ht.push({event:Yn,listeners:Qr}),Dn?Yn.data=Dn:(Dn=ln(g),Dn!==null&&(Yn.data=Dn)))),(Dn=Xs?gn(o,g):Tn(o,g))&&(Yn=Jd(vt,"onBeforeInput"),0<Yn.length&&(Qr=new lt("onBeforeInput","beforeinput",null,g,Dt),Ht.push({event:Qr,listeners:Yn}),Qr.data=Dn)),$w(Ht,o,vt,g,Dt)}ng(Ht,c)})}function Nh(o,c,g){return{instance:o,listener:c,currentTarget:g}}function Jd(o,c){for(var g=c+"Capture",C=[];o!==null;){var P=o,R=P.stateNode;if(P=P.tag,P!==5&&P!==26&&P!==27||R===null||(P=Sa(o,g),P!=null&&C.unshift(Nh(o,P,R)),P=Sa(o,c),P!=null&&C.push(Nh(o,P,R))),o.tag===3)return C;o=o.return}return[]}function ep(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function ag(o,c,g,C,P){for(var R=c._reactName,te=[];g!==null&&g!==C;){var Se=g,et=Se.alternate,vt=Se.stateNode;if(Se=Se.tag,et!==null&&et===C)break;Se!==5&&Se!==26&&Se!==27||vt===null||(et=vt,P?(vt=Sa(g,R),vt!=null&&te.unshift(Nh(g,vt,et))):P||(vt=Sa(g,R),vt!=null&&te.push(Nh(g,vt,et)))),g=g.return}te.length!==0&&o.push({event:c,listeners:te})}var uv=/\r\n?/g,Wm=/\u0000|\uFFFD/g;function tp(o){return(typeof o=="string"?o:""+o).replace(uv,`
`).replace(Wm,"")}function qf(o,c){return c=tp(c),tp(o)===c}function fi(o,c,g,C,P,R){switch(g){case"children":typeof C=="string"?c==="body"||c==="textarea"&&C===""||Bs(o,C):(typeof C=="number"||typeof C=="bigint")&&c!=="body"&&Bs(o,""+C);break;case"className":Hs(o,"class",C);break;case"tabIndex":Hs(o,"tabindex",C);break;case"dir":case"role":case"viewBox":case"width":case"height":Hs(o,g,C);break;case"style":Hl(o,C,R);break;case"data":if(c!=="object"){Hs(o,"data",C);break}case"src":case"href":if(C===""&&(c!=="a"||g!=="href")){o.removeAttribute(g);break}if(C==null||typeof C=="function"||typeof C=="symbol"||typeof C=="boolean"){o.removeAttribute(g);break}C=Cs(""+C),o.setAttribute(g,C);break;case"action":case"formAction":if(typeof C=="function"){o.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof R=="function"&&(g==="formAction"?(c!=="input"&&fi(o,c,"name",P.name,P,null),fi(o,c,"formEncType",P.formEncType,P,null),fi(o,c,"formMethod",P.formMethod,P,null),fi(o,c,"formTarget",P.formTarget,P,null)):(fi(o,c,"encType",P.encType,P,null),fi(o,c,"method",P.method,P,null),fi(o,c,"target",P.target,P,null)));if(C==null||typeof C=="symbol"||typeof C=="boolean"){o.removeAttribute(g);break}C=Cs(""+C),o.setAttribute(g,C);break;case"onClick":C!=null&&(o.onclick=Na);break;case"onScroll":C!=null&&jn("scroll",o);break;case"onScrollEnd":C!=null&&jn("scrollend",o);break;case"dangerouslySetInnerHTML":if(C!=null){if(typeof C!="object"||!("__html"in C))throw Error(n(61));if(g=C.__html,g!=null){if(P.children!=null)throw Error(n(60));o.innerHTML=g}}break;case"multiple":o.multiple=C&&typeof C!="function"&&typeof C!="symbol";break;case"muted":o.muted=C&&typeof C!="function"&&typeof C!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(C==null||typeof C=="function"||typeof C=="boolean"||typeof C=="symbol"){o.removeAttribute("xlink:href");break}g=Cs(""+C),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":C!=null&&typeof C!="function"&&typeof C!="symbol"?o.setAttribute(g,""+C):o.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":C&&typeof C!="function"&&typeof C!="symbol"?o.setAttribute(g,""):o.removeAttribute(g);break;case"capture":case"download":C===!0?o.setAttribute(g,""):C!==!1&&C!=null&&typeof C!="function"&&typeof C!="symbol"?o.setAttribute(g,C):o.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":C!=null&&typeof C!="function"&&typeof C!="symbol"&&!isNaN(C)&&1<=C?o.setAttribute(g,C):o.removeAttribute(g);break;case"rowSpan":case"start":C==null||typeof C=="function"||typeof C=="symbol"||isNaN(C)?o.removeAttribute(g):o.setAttribute(g,C);break;case"popover":jn("beforetoggle",o),jn("toggle",o),Vn(o,"popover",C);break;case"xlinkActuate":$i(o,"http://www.w3.org/1999/xlink","xlink:actuate",C);break;case"xlinkArcrole":$i(o,"http://www.w3.org/1999/xlink","xlink:arcrole",C);break;case"xlinkRole":$i(o,"http://www.w3.org/1999/xlink","xlink:role",C);break;case"xlinkShow":$i(o,"http://www.w3.org/1999/xlink","xlink:show",C);break;case"xlinkTitle":$i(o,"http://www.w3.org/1999/xlink","xlink:title",C);break;case"xlinkType":$i(o,"http://www.w3.org/1999/xlink","xlink:type",C);break;case"xmlBase":$i(o,"http://www.w3.org/XML/1998/namespace","xml:base",C);break;case"xmlLang":$i(o,"http://www.w3.org/XML/1998/namespace","xml:lang",C);break;case"xmlSpace":$i(o,"http://www.w3.org/XML/1998/namespace","xml:space",C);break;case"is":Vn(o,"is",C);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=lc.get(g)||g,Vn(o,g,C))}}function rp(o,c,g,C,P,R){switch(g){case"style":Hl(o,C,R);break;case"dangerouslySetInnerHTML":if(C!=null){if(typeof C!="object"||!("__html"in C))throw Error(n(61));if(g=C.__html,g!=null){if(P.children!=null)throw Error(n(60));o.innerHTML=g}}break;case"children":typeof C=="string"?Bs(o,C):(typeof C=="number"||typeof C=="bigint")&&Bs(o,""+C);break;case"onScroll":C!=null&&jn("scroll",o);break;case"onScrollEnd":C!=null&&jn("scrollend",o);break;case"onClick":C!=null&&(o.onclick=Na);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vi.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(P=g.endsWith("Capture"),c=g.slice(2,P?g.length-7:void 0),R=o[Or]||null,R=R!=null?R[g]:null,typeof R=="function"&&o.removeEventListener(c,R,P),typeof C=="function")){typeof R!="function"&&R!==null&&(g in o?o[g]=null:o.hasAttribute(g)&&o.removeAttribute(g)),o.addEventListener(c,C,P);break e}g in o?o[g]=C:C===!0?o.setAttribute(g,""):Vn(o,g,C)}}}function ps(o,c,g){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":jn("error",o),jn("load",o);var C=!1,P=!1,R;for(R in g)if(g.hasOwnProperty(R)){var te=g[R];if(te!=null)switch(R){case"src":C=!0;break;case"srcSet":P=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:fi(o,c,R,te,g,null)}}P&&fi(o,c,"srcSet",g.srcSet,g,null),C&&fi(o,c,"src",g.src,g,null);return;case"input":jn("invalid",o);var Se=R=te=P=null,et=null,vt=null;for(C in g)if(g.hasOwnProperty(C)){var Dt=g[C];if(Dt!=null)switch(C){case"name":P=Dt;break;case"type":te=Dt;break;case"checked":et=Dt;break;case"defaultChecked":vt=Dt;break;case"value":R=Dt;break;case"defaultValue":Se=Dt;break;case"children":case"dangerouslySetInnerHTML":if(Dt!=null)throw Error(n(137,c));break;default:fi(o,c,C,Dt,g,null)}}Un(o,R,Se,et,vt,te,P,!1);return;case"select":jn("invalid",o),C=te=R=null;for(P in g)if(g.hasOwnProperty(P)&&(Se=g[P],Se!=null))switch(P){case"value":R=Se;break;case"defaultValue":te=Se;break;case"multiple":C=Se;default:fi(o,c,P,Se,g,null)}c=R,g=te,o.multiple=!!C,c!=null?Qa(o,!!C,c,!1):g!=null&&Qa(o,!!C,g,!0);return;case"textarea":jn("invalid",o),R=P=C=null;for(te in g)if(g.hasOwnProperty(te)&&(Se=g[te],Se!=null))switch(te){case"value":C=Se;break;case"defaultValue":P=Se;break;case"children":R=Se;break;case"dangerouslySetInnerHTML":if(Se!=null)throw Error(n(91));break;default:fi(o,c,te,Se,g,null)}JA(o,C,P,R);return;case"option":for(et in g)if(g.hasOwnProperty(et)&&(C=g[et],C!=null))switch(et){case"selected":o.selected=C&&typeof C!="function"&&typeof C!="symbol";break;default:fi(o,c,et,C,g,null)}return;case"dialog":jn("beforetoggle",o),jn("toggle",o),jn("cancel",o),jn("close",o);break;case"iframe":case"object":jn("load",o);break;case"video":case"audio":for(C=0;C<Vf.length;C++)jn(Vf[C],o);break;case"image":jn("error",o),jn("load",o);break;case"details":jn("toggle",o);break;case"embed":case"source":case"link":jn("error",o),jn("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(vt in g)if(g.hasOwnProperty(vt)&&(C=g[vt],C!=null))switch(vt){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:fi(o,c,vt,C,g,null)}return;default:if(Eu(c)){for(Dt in g)g.hasOwnProperty(Dt)&&(C=g[Dt],C!==void 0&&rp(o,c,Dt,C,g,void 0));return}}for(Se in g)g.hasOwnProperty(Se)&&(C=g[Se],C!=null&&fi(o,c,Se,C,g,null))}function Zw(o,c,g,C){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var P=null,R=null,te=null,Se=null,et=null,vt=null,Dt=null;for(Tt in g){var Ht=g[Tt];if(g.hasOwnProperty(Tt)&&Ht!=null)switch(Tt){case"checked":break;case"value":break;case"defaultValue":et=Ht;default:C.hasOwnProperty(Tt)||fi(o,c,Tt,null,C,Ht)}}for(var xt in C){var Tt=C[xt];if(Ht=g[xt],C.hasOwnProperty(xt)&&(Tt!=null||Ht!=null))switch(xt){case"type":R=Tt;break;case"name":P=Tt;break;case"checked":vt=Tt;break;case"defaultChecked":Dt=Tt;break;case"value":te=Tt;break;case"defaultValue":Se=Tt;break;case"children":case"dangerouslySetInnerHTML":if(Tt!=null)throw Error(n(137,c));break;default:Tt!==Ht&&fi(o,c,xt,Tt,C,Ht)}}js(o,te,Se,et,vt,Dt,R,P);return;case"select":Tt=te=Se=xt=null;for(R in g)if(et=g[R],g.hasOwnProperty(R)&&et!=null)switch(R){case"value":break;case"multiple":Tt=et;default:C.hasOwnProperty(R)||fi(o,c,R,null,C,et)}for(P in C)if(R=C[P],et=g[P],C.hasOwnProperty(P)&&(R!=null||et!=null))switch(P){case"value":xt=R;break;case"defaultValue":Se=R;break;case"multiple":te=R;default:R!==et&&fi(o,c,P,R,C,et)}c=Se,g=te,C=Tt,xt!=null?Qa(o,!!g,xt,!1):!!C!=!!g&&(c!=null?Qa(o,!!g,c,!0):Qa(o,!!g,g?[]:"",!1));return;case"textarea":Tt=xt=null;for(Se in g)if(P=g[Se],g.hasOwnProperty(Se)&&P!=null&&!C.hasOwnProperty(Se))switch(Se){case"value":break;case"children":break;default:fi(o,c,Se,null,C,P)}for(te in C)if(P=C[te],R=g[te],C.hasOwnProperty(te)&&(P!=null||R!=null))switch(te){case"value":xt=P;break;case"defaultValue":Tt=P;break;case"children":break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(n(91));break;default:P!==R&&fi(o,c,te,P,C,R)}al(o,xt,Tt);return;case"option":for(var Fr in g)if(xt=g[Fr],g.hasOwnProperty(Fr)&&xt!=null&&!C.hasOwnProperty(Fr))switch(Fr){case"selected":o.selected=!1;break;default:fi(o,c,Fr,null,C,xt)}for(et in C)if(xt=C[et],Tt=g[et],C.hasOwnProperty(et)&&xt!==Tt&&(xt!=null||Tt!=null))switch(et){case"selected":o.selected=xt&&typeof xt!="function"&&typeof xt!="symbol";break;default:fi(o,c,et,xt,C,Tt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var hn in g)xt=g[hn],g.hasOwnProperty(hn)&&xt!=null&&!C.hasOwnProperty(hn)&&fi(o,c,hn,null,C,xt);for(vt in C)if(xt=C[vt],Tt=g[vt],C.hasOwnProperty(vt)&&xt!==Tt&&(xt!=null||Tt!=null))switch(vt){case"children":case"dangerouslySetInnerHTML":if(xt!=null)throw Error(n(137,c));break;default:fi(o,c,vt,xt,C,Tt)}return;default:if(Eu(c)){for(var qi in g)xt=g[qi],g.hasOwnProperty(qi)&&xt!==void 0&&!C.hasOwnProperty(qi)&&rp(o,c,qi,void 0,C,xt);for(Dt in C)xt=C[Dt],Tt=g[Dt],!C.hasOwnProperty(Dt)||xt===Tt||xt===void 0&&Tt===void 0||rp(o,c,Dt,xt,C,Tt);return}}for(var ht in g)xt=g[ht],g.hasOwnProperty(ht)&&xt!=null&&!C.hasOwnProperty(ht)&&fi(o,c,ht,null,C,xt);for(Ht in C)xt=C[Ht],Tt=g[Ht],!C.hasOwnProperty(Ht)||xt===Tt||xt==null&&Tt==null||fi(o,c,Ht,xt,C,Tt)}function u(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function a(){if(typeof performance.getEntriesByType=="function"){for(var o=0,c=0,g=performance.getEntriesByType("resource"),C=0;C<g.length;C++){var P=g[C],R=P.transferSize,te=P.initiatorType,Se=P.duration;if(R&&Se&&u(te)){for(te=0,Se=P.responseEnd,C+=1;C<g.length;C++){var et=g[C],vt=et.startTime;if(vt>Se)break;var Dt=et.transferSize,Ht=et.initiatorType;Dt&&u(Ht)&&(et=et.responseEnd,te+=Dt*(et<Se?1:(Se-vt)/(et-vt)))}if(--C,c+=8*(R+te)/(P.duration/1e3),o++,10<o)break}}if(0<o)return c/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var d=null,m=null;function B(o){return o.nodeType===9?o:o.ownerDocument}function E(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function T(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function O(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var N=null;function q(){var o=window.event;return o&&o.type==="popstate"?o===N?!1:(N=o,!0):(N=null,!1)}var Z=typeof setTimeout=="function"?setTimeout:void 0,Y=typeof clearTimeout=="function"?clearTimeout:void 0,ae=typeof Promise=="function"?Promise:void 0,he=typeof queueMicrotask=="function"?queueMicrotask:typeof ae<"u"?function(o){return ae.resolve(null).then(o).catch(ye)}:Z;function ye(o){setTimeout(function(){throw o})}function Be(o){return o==="head"}function Re(o,c){var g=c,C=0;do{var P=g.nextSibling;if(o.removeChild(g),P&&P.nodeType===8)if(g=P.data,g==="/$"||g==="/&"){if(C===0){o.removeChild(P),ug(c);return}C--}else if(g==="$"||g==="$?"||g==="$~"||g==="$!"||g==="&")C++;else if(g==="html")Ut(o.ownerDocument.documentElement);else if(g==="head"){g=o.ownerDocument.head,Ut(g);for(var R=g.firstChild;R;){var te=R.nextSibling,Se=R.nodeName;R[Pn]||Se==="SCRIPT"||Se==="STYLE"||Se==="LINK"&&R.rel.toLowerCase()==="stylesheet"||g.removeChild(R),R=te}}else g==="body"&&Ut(o.ownerDocument.body);g=P}while(g);ug(c)}function Ge(o,c){var g=o;o=0;do{var C=g.nextSibling;if(g.nodeType===1?c?(g._stashedDisplay=g.style.display,g.style.display="none"):(g.style.display=g._stashedDisplay||"",g.getAttribute("style")===""&&g.removeAttribute("style")):g.nodeType===3&&(c?(g._stashedText=g.nodeValue,g.nodeValue=""):g.nodeValue=g._stashedText||""),C&&C.nodeType===8)if(g=C.data,g==="/$"){if(o===0)break;o--}else g!=="$"&&g!=="$?"&&g!=="$~"&&g!=="$!"||o++;g=C}while(g)}function At(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var g=c;switch(c=c.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":At(g),mi(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}o.removeChild(g)}}function nt(o,c,g,C){for(;o.nodeType===1;){var P=g;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!C&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(C){if(!o[Pn])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(R=o.getAttribute("rel"),R==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(R!==P.rel||o.getAttribute("href")!==(P.href==null||P.href===""?null:P.href)||o.getAttribute("crossorigin")!==(P.crossOrigin==null?null:P.crossOrigin)||o.getAttribute("title")!==(P.title==null?null:P.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(R=o.getAttribute("src"),(R!==(P.src==null?null:P.src)||o.getAttribute("type")!==(P.type==null?null:P.type)||o.getAttribute("crossorigin")!==(P.crossOrigin==null?null:P.crossOrigin))&&R&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var R=P.name==null?null:""+P.name;if(P.type==="hidden"&&o.getAttribute("name")===R)return o}else return o;if(o=Wt(o.nextSibling),o===null)break}return null}function ot(o,c,g){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!g||(o=Wt(o.nextSibling),o===null))return null;return o}function Bt(o,c){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!c||(o=Wt(o.nextSibling),o===null))return null;return o}function Kt(o){return o.data==="$?"||o.data==="$~"}function er(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function kr(o,c){var g=o.ownerDocument;if(o.data==="$~")o._reactRetry=c;else if(o.data!=="$?"||g.readyState!=="loading")c();else{var C=function(){c(),g.removeEventListener("DOMContentLoaded",C)};g.addEventListener("DOMContentLoaded",C),o._reactRetry=C}}function Wt(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return o}var Yt=null;function pr(o){o=o.nextSibling;for(var c=0;o;){if(o.nodeType===8){var g=o.data;if(g==="/$"||g==="/&"){if(c===0)return Wt(o.nextSibling);c--}else g!=="$"&&g!=="$!"&&g!=="$?"&&g!=="$~"&&g!=="&"||c++}o=o.nextSibling}return null}function Ar(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var g=o.data;if(g==="$"||g==="$!"||g==="$?"||g==="$~"||g==="&"){if(c===0)return o;c--}else g!=="/$"&&g!=="/&"||c++}o=o.previousSibling}return null}function ir(o,c,g){switch(c=B(g),o){case"html":if(o=c.documentElement,!o)throw Error(n(452));return o;case"head":if(o=c.head,!o)throw Error(n(453));return o;case"body":if(o=c.body,!o)throw Error(n(454));return o;default:throw Error(n(451))}}function Ut(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);mi(o)}var ar=new Map,hr=new Set;function Kr(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Rn=Ne.d;Ne.d={f:Ai,r:Ja,D:es,C:xo,L:Bo,m:Co,X:ts,S:ha,M:ao};function Ai(){var o=Rn.f(),c=qd();return o||c}function Ja(o){var c=yi(o);c!==null&&c.tag===5&&c.type==="form"?cm(c):Rn.r(o)}var io=typeof document>"u"?null:document;function gs(o,c,g){var C=io;if(C&&typeof c=="string"&&c){var P=ui(c);P='link[rel="'+o+'"][href="'+P+'"]',typeof g=="string"&&(P+='[crossorigin="'+g+'"]'),hr.has(P)||(hr.add(P),o={rel:o,crossOrigin:g,href:c},C.querySelector(P)===null&&(c=C.createElement("link"),ps(c,"link",o),Ui(c),C.head.appendChild(c)))}}function es(o){Rn.D(o),gs("dns-prefetch",o,null)}function xo(o,c){Rn.C(o,c),gs("preconnect",o,c)}function Bo(o,c,g){Rn.L(o,c,g);var C=io;if(C&&o&&c){var P='link[rel="preload"][as="'+ui(c)+'"]';c==="image"&&g&&g.imageSrcSet?(P+='[imagesrcset="'+ui(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(P+='[imagesizes="'+ui(g.imageSizes)+'"]')):P+='[href="'+ui(o)+'"]';var R=P;switch(c){case"style":R=Va(o);break;case"script":R=Fn(o)}ar.has(R)||(o=S({rel:"preload",href:c==="image"&&g&&g.imageSrcSet?void 0:o,as:c},g),ar.set(R,o),C.querySelector(P)!==null||c==="style"&&C.querySelector(La(R))||c==="script"&&C.querySelector(ti(R))||(c=C.createElement("link"),ps(c,"link",o),Ui(c),C.head.appendChild(c)))}}function Co(o,c){Rn.m(o,c);var g=io;if(g&&o){var C=c&&typeof c.as=="string"?c.as:"script",P='link[rel="modulepreload"][as="'+ui(C)+'"][href="'+ui(o)+'"]',R=P;switch(C){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":R=Fn(o)}if(!ar.has(R)&&(o=S({rel:"modulepreload",href:o},c),ar.set(R,o),g.querySelector(P)===null)){switch(C){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(ti(R)))return}C=g.createElement("link"),ps(C,"link",o),Ui(C),g.head.appendChild(C)}}}function ha(o,c,g){Rn.S(o,c,g);var C=io;if(C&&o){var P=bn(C).hoistableStyles,R=Va(o);c=c||"default";var te=P.get(R);if(!te){var Se={loading:0,preload:null};if(te=C.querySelector(La(R)))Se.loading=5;else{o=S({rel:"stylesheet",href:o,"data-precedence":c},g),(g=ar.get(R))&&ki(o,g);var et=te=C.createElement("link");Ui(et),ps(et,"link",o),et._p=new Promise(function(vt,Dt){et.onload=vt,et.onerror=Dt}),et.addEventListener("load",function(){Se.loading|=1}),et.addEventListener("error",function(){Se.loading|=2}),Se.loading|=4,so(te,c,C)}te={type:"stylesheet",instance:te,count:1,state:Se},P.set(R,te)}}}function ts(o,c){Rn.X(o,c);var g=io;if(g&&o){var C=bn(g).hoistableScripts,P=Fn(o),R=C.get(P);R||(R=g.querySelector(ti(P)),R||(o=S({src:o,async:!0},c),(c=ar.get(P))&&oh(o,c),R=g.createElement("script"),Ui(R),ps(R,"link",o),g.head.appendChild(R)),R={type:"script",instance:R,count:1,state:null},C.set(P,R))}}function ao(o,c){Rn.M(o,c);var g=io;if(g&&o){var C=bn(g).hoistableScripts,P=Fn(o),R=C.get(P);R||(R=g.querySelector(ti(P)),R||(o=S({src:o,async:!0,type:"module"},c),(c=ar.get(P))&&oh(o,c),R=g.createElement("script"),Ui(R),ps(R,"link",o),g.head.appendChild(R)),R={type:"script",instance:R,count:1,state:null},C.set(P,R))}}function ms(o,c,g,C){var P=(P=Xe.current)?Kr(P):null;if(!P)throw Error(n(446));switch(o){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(c=Va(g.href),g=bn(P).hoistableStyles,C=g.get(c),C||(C={type:"style",instance:null,count:0,state:null},g.set(c,C)),C):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){o=Va(g.href);var R=bn(P).hoistableStyles,te=R.get(o);if(te||(P=P.ownerDocument||P,te={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},R.set(o,te),(R=P.querySelector(La(o)))&&!R._p&&(te.instance=R,te.state.loading=5),ar.has(o)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},ar.set(o,g),R||$o(P,o,g,te.state))),c&&C===null)throw Error(n(528,""));return te}if(c&&C!==null)throw Error(n(529,""));return null;case"script":return c=g.async,g=g.src,typeof g=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Fn(g),g=bn(P).hoistableScripts,C=g.get(c),C||(C={type:"script",instance:null,count:0,state:null},g.set(c,C)),C):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,o))}}function Va(o){return'href="'+ui(o)+'"'}function La(o){return'link[rel="stylesheet"]['+o+"]"}function Bl(o){return S({},o,{"data-precedence":o.precedence,precedence:null})}function $o(o,c,g,C){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?C.loading=1:(c=o.createElement("link"),C.preload=c,c.addEventListener("load",function(){return C.loading|=1}),c.addEventListener("error",function(){return C.loading|=2}),ps(c,"link",g),Ui(c),o.head.appendChild(c))}function Fn(o){return'[src="'+ui(o)+'"]'}function ti(o){return"script[async]"+o}function Bi(o,c,g){if(c.count++,c.instance===null)switch(c.type){case"style":var C=o.querySelector('style[data-href~="'+ui(g.href)+'"]');if(C)return c.instance=C,Ui(C),C;var P=S({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return C=(o.ownerDocument||o).createElement("style"),Ui(C),ps(C,"style",P),so(C,g.precedence,o),c.instance=C;case"stylesheet":P=Va(g.href);var R=o.querySelector(La(P));if(R)return c.state.loading|=4,c.instance=R,Ui(R),R;C=Bl(g),(P=ar.get(P))&&ki(C,P),R=(o.ownerDocument||o).createElement("link"),Ui(R);var te=R;return te._p=new Promise(function(Se,et){te.onload=Se,te.onerror=et}),ps(R,"link",C),c.state.loading|=4,so(R,g.precedence,o),c.instance=R;case"script":return R=Fn(g.src),(P=o.querySelector(ti(R)))?(c.instance=P,Ui(P),P):(C=g,(P=ar.get(R))&&(C=S({},g),oh(C,P)),o=o.ownerDocument||o,P=o.createElement("script"),Ui(P),ps(P,"link",C),o.head.appendChild(P),c.instance=P);case"void":return null;default:throw Error(n(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(C=c.instance,c.state.loading|=4,so(C,g.precedence,o));return c.instance}function so(o,c,g){for(var C=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),P=C.length?C[C.length-1]:null,R=P,te=0;te<C.length;te++){var Se=C[te];if(Se.dataset.precedence===c)R=Se;else if(R!==P)break}R?R.parentNode.insertBefore(o,R.nextSibling):(c=g.nodeType===9?g.head:g,c.insertBefore(o,c.firstChild))}function ki(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function oh(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var aA=null;function gu(o,c,g){if(aA===null){var C=new Map,P=aA=new Map;P.set(g,C)}else P=aA,C=P.get(g),C||(C=new Map,P.set(g,C));if(C.has(o))return C;for(C.set(o,null),g=g.getElementsByTagName(o),P=0;P<g.length;P++){var R=g[P];if(!(R[Pn]||R[or]||o==="link"&&R.getAttribute("rel")==="stylesheet")&&R.namespaceURI!=="http://www.w3.org/2000/svg"){var te=R.getAttribute(c)||"";te=o+te;var Se=C.get(te);Se?Se.push(R):C.set(te,[R])}}return C}function sA(o,c,g){o=o.ownerDocument||o,o.head.insertBefore(g,c==="title"?o.querySelector("head > title"):null)}function oA(o,c,g){if(g===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function rs(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function Sc(o,c,g,C){if(g.type==="stylesheet"&&(typeof C.media!="string"||matchMedia(C.media).matches!==!1)&&(g.state.loading&4)===0){if(g.instance===null){var P=Va(C.href),R=c.querySelector(La(P));if(R){c=R._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(o.count++,o=np.bind(o),c.then(o,o)),g.state.loading|=4,g.instance=R,Ui(R);return}R=c.ownerDocument||c,C=Bl(C),(P=ar.get(P))&&ki(C,P),R=R.createElement("link"),Ui(R);var te=R;te._p=new Promise(function(Se,et){te.onload=Se,te.onerror=et}),ps(R,"link",C),g.instance=R}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(g,c),(c=g.state.preload)&&(g.state.loading&3)===0&&(o.count++,g=np.bind(o),c.addEventListener("load",g),c.addEventListener("error",g))}}var Rh=0;function cv(o,c){return o.stylesheets&&o.count===0&&Xf(o,o.stylesheets),0<o.count||0<o.imgCount?function(g){var C=setTimeout(function(){if(o.stylesheets&&Xf(o,o.stylesheets),o.unsuspend){var R=o.unsuspend;o.unsuspend=null,R()}},6e4+c);0<o.imgBytes&&Rh===0&&(Rh=62500*a());var P=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&Xf(o,o.stylesheets),o.unsuspend)){var R=o.unsuspend;o.unsuspend=null,R()}},(o.imgBytes>Rh?50:800)+c);return o.unsuspend=g,function(){o.unsuspend=null,clearTimeout(C),clearTimeout(P)}}:null}function np(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xf(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Gf=null;function Xf(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Gf=new Map,c.forEach(Ec,o),Gf=null,np.call(o))}function Ec(o,c){if(!(c.state.loading&4)){var g=Gf.get(o);if(g)var C=g.get(null);else{g=new Map,Gf.set(o,g);for(var P=o.querySelectorAll("link[data-precedence],style[data-precedence]"),R=0;R<P.length;R++){var te=P[R];(te.nodeName==="LINK"||te.getAttribute("media")!=="not all")&&(g.set(te.dataset.precedence,te),C=te)}C&&g.set(null,C)}P=c.instance,te=P.getAttribute("data-precedence"),R=g.get(te)||C,R===C&&g.set(null,P),g.set(te,P),this.count++,C=np.bind(this),P.addEventListener("load",C),P.addEventListener("error",C),R?R.parentNode.insertBefore(P,R.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(P,o.firstChild)),c.state.loading|=4}}var $f={$$typeof:W,Provider:null,Consumer:null,_currentValue:Ve,_currentValue2:Ve,_threadCount:0};function hv(o,c,g,C,P,R,te,Se,et){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ye(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ye(0),this.hiddenUpdates=Ye(null),this.identifierPrefix=C,this.onUncaughtError=P,this.onCaughtError=R,this.onRecoverableError=te,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=et,this.incompleteTransitions=new Map}function fv(o,c,g,C,P,R,te,Se,et,vt,Dt,Ht){return o=new hv(o,c,g,te,et,vt,Dt,Ht,Se),c=1,R===!0&&(c|=24),R=va(3,null,null,c),o.current=R,R.stateNode=o,c=fs(),c.refCount++,o.pooledCache=c,c.refCount++,R.memoizedState={element:C,isDehydrated:g,cache:c},pt(R),o}function dv(o){return o?(o=wi,o):wi}function pv(o,c,g,C,P,R){P=dv(P),C.context===null?C.context=P:C.pendingContext=P,C=St(c),C.payload={element:g},R=R===void 0?null:R,R!==null&&(C.callback=R),g=zt(o,C,c),g!==null&&(wo(g,o,c),tr(g,o,c))}function gv(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var g=o.retryLane;o.retryLane=g!==0&&g<c?g:c}}function Ym(o,c){gv(o,c),(o=o.alternate)&&gv(o,c)}function mv(o){if(o.tag===13||o.tag===31){var c=Ko(o,67108864);c!==null&&wo(c,o,67108864),Ym(o,67108864)}}function yv(o){if(o.tag===13||o.tag===31){var c=iA();c=ut(c);var g=Ko(o,c);g!==null&&wo(g,o,c),Ym(o,c)}}var sg=!0;function mu(o,c,g,C){var P=Le.T;Le.T=null;var R=Ne.p;try{Ne.p=2,lg(o,c,g,C)}finally{Ne.p=R,Le.T=P}}function og(o,c,g,C){var P=Le.T;Le.T=null;var R=Ne.p;try{Ne.p=8,lg(o,c,g,C)}finally{Ne.p=R,Le.T=P}}function lg(o,c,g,C){if(sg){var P=Jm(C);if(P===null)Yd(o,c,C,Ag,g),rS(o,C);else if(ZD(P,o,c,g,C))C.stopPropagation();else if(rS(o,C),c&4&&-1<$D.indexOf(o)){for(;P!==null;){var R=yi(P);if(R!==null)switch(R.tag){case 3:if(R=R.stateNode,R.current.memoizedState.isDehydrated){var te=Me(R.pendingLanes);if(te!==0){var Se=R;for(Se.pendingLanes|=2,Se.entangledLanes|=2;te;){var et=1<<31-$r(te);Se.entanglements[1]|=et,te&=~et}Gu(R),(ii&6)===0&&(Xp=rn()+500,Hf(0))}}break;case 31:case 13:Se=Ko(R,2),Se!==null&&wo(Se,R,2),qd(),Ym(R,2)}if(R=Jm(C),R===null&&Yd(o,c,C,Ag,g),R===P)break;P=R}P!==null&&C.stopPropagation()}else Yd(o,c,C,null,g)}}function Jm(o){return o=la(o),e0(o)}var Ag=null;function e0(o){if(Ag=null,o=ai(o),o!==null){var c=A(o);if(c===null)o=null;else{var g=c.tag;if(g===13){if(o=f(c),o!==null)return o;o=null}else if(g===31){if(o=l(c),o!==null)return o;o=null}else if(g===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return Ag=o,null}function Ds(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nn()){case Jr:return 2;case yn:return 8;case Ft:case cr:return 32;case Pr:return 268435456;default:return 32}default:return 32}}var Zo=!1,Cl=null,ks=null,Sl=null,El=new Map,t0=new Map,Zf=[],$D="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rS(o,c){switch(o){case"focusin":case"focusout":Cl=null;break;case"dragenter":case"dragleave":ks=null;break;case"mouseover":case"mouseout":Sl=null;break;case"pointerover":case"pointerout":El.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":t0.delete(c.pointerId)}}function r0(o,c,g,C,P,R){return o===null||o.nativeEvent!==R?(o={blockedOn:c,domEventName:g,eventSystemFlags:C,nativeEvent:R,targetContainers:[P]},c!==null&&(c=yi(c),c!==null&&mv(c)),o):(o.eventSystemFlags|=C,c=o.targetContainers,P!==null&&c.indexOf(P)===-1&&c.push(P),o)}function ZD(o,c,g,C,P){switch(c){case"focusin":return Cl=r0(Cl,o,c,g,C,P),!0;case"dragenter":return ks=r0(ks,o,c,g,C,P),!0;case"mouseover":return Sl=r0(Sl,o,c,g,C,P),!0;case"pointerover":var R=P.pointerId;return El.set(R,r0(El.get(R)||null,o,c,g,C,P)),!0;case"gotpointercapture":return R=P.pointerId,t0.set(R,r0(t0.get(R)||null,o,c,g,C,P)),!0}return!1}function nS(o){var c=ai(o.target);if(c!==null){var g=A(c);if(g!==null){if(c=g.tag,c===13){if(c=f(g),c!==null){o.blockedOn=c,dr(o.priority,function(){yv(g)});return}}else if(c===31){if(c=l(g),c!==null){o.blockedOn=c,dr(o.priority,function(){yv(g)});return}}else if(c===3&&g.stateNode.current.memoizedState.isDehydrated){o.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}o.blockedOn=null}function vv(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var g=Jm(o.nativeEvent);if(g===null){g=o.nativeEvent;var C=new g.constructor(g.type,g);Ks=C,g.target.dispatchEvent(C),Ks=null}else return c=yi(g),c!==null&&mv(c),o.blockedOn=g,!1;c.shift()}return!0}function iS(o,c,g){vv(o)&&g.delete(c)}function WD(){Zo=!1,Cl!==null&&vv(Cl)&&(Cl=null),ks!==null&&vv(ks)&&(ks=null),Sl!==null&&vv(Sl)&&(Sl=null),El.forEach(iS),t0.forEach(iS)}function _v(o,c){o.blockedOn===c&&(o.blockedOn=null,Zo||(Zo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,WD)))}var wv=null;function aS(o){wv!==o&&(wv=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){wv===o&&(wv=null);for(var c=0;c<o.length;c+=3){var g=o[c],C=o[c+1],P=o[c+2];if(typeof C!="function"){if(e0(C||g)===null)continue;break}var R=yi(g);R!==null&&(o.splice(c,3),c-=3,Dp(R,{pending:!0,data:P,method:g.method,action:C},C,P))}}))}function ug(o){function c(et){return _v(et,o)}Cl!==null&&_v(Cl,o),ks!==null&&_v(ks,o),Sl!==null&&_v(Sl,o),El.forEach(c),t0.forEach(c);for(var g=0;g<Zf.length;g++){var C=Zf[g];C.blockedOn===o&&(C.blockedOn=null)}for(;0<Zf.length&&(g=Zf[0],g.blockedOn===null);)nS(g),g.blockedOn===null&&Zf.shift();if(g=(o.ownerDocument||o).$$reactFormReplay,g!=null)for(C=0;C<g.length;C+=3){var P=g[C],R=g[C+1],te=P[Or]||null;if(typeof R=="function")te||aS(g);else if(te){var Se=null;if(R&&R.hasAttribute("formAction")){if(P=R,te=R[Or]||null)Se=te.formAction;else if(e0(P)!==null)continue}else Se=te.action;typeof Se=="function"?g[C+1]=Se:(g.splice(C,3),C-=3),aS(g)}}}function sS(){function o(R){R.canIntercept&&R.info==="react-transition"&&R.intercept({handler:function(){return new Promise(function(te){return P=te})},focusReset:"manual",scroll:"manual"})}function c(){P!==null&&(P(),P=null),C||setTimeout(g,20)}function g(){if(!C&&!navigation.transition){var R=navigation.currentEntry;R&&R.url!=null&&navigation.navigate(R.url,{state:R.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var C=!1,P=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(g,100),function(){C=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),P!==null&&(P(),P=null)}}}function Ww(o){this._internalRoot=o}bv.prototype.render=Ww.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(n(409));var g=c.current,C=iA();pv(g,C,o,c,null,null)},bv.prototype.unmount=Ww.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;pv(o.current,2,null,o,null,null),qd(),c[zr]=null}};function bv(o){this._internalRoot=o}bv.prototype.unstable_scheduleHydration=function(o){if(o){var c=Jt();o={blockedOn:null,target:o,priority:c};for(var g=0;g<Zf.length&&c!==0&&c<Zf[g].priority;g++);Zf.splice(g,0,o),g===0&&nS(o)}};var oS=t.version;if(oS!=="19.2.0")throw Error(n(527,oS,"19.2.0"));Ne.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=w(c),o=o!==null?b(o):null,o=o===null?null:o.stateNode,o};var YD={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Le,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xv.isDisabled&&xv.supportsFiber)try{Pt=xv.inject(YD),Zt=xv}catch{}}return i0.createRoot=function(o,c){if(!s(o))throw Error(n(299));var g=!1,C="",P=Uy,R=Ly,te=My;return c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(C=c.identifierPrefix),c.onUncaughtError!==void 0&&(P=c.onUncaughtError),c.onCaughtError!==void 0&&(R=c.onCaughtError),c.onRecoverableError!==void 0&&(te=c.onRecoverableError)),c=fv(o,1,!1,null,null,g,C,null,P,R,te,sS),o[zr]=c.current,$m(o),new Ww(c)},i0.hydrateRoot=function(o,c,g){if(!s(o))throw Error(n(299));var C=!1,P="",R=Uy,te=Ly,Se=My,et=null;return g!=null&&(g.unstable_strictMode===!0&&(C=!0),g.identifierPrefix!==void 0&&(P=g.identifierPrefix),g.onUncaughtError!==void 0&&(R=g.onUncaughtError),g.onCaughtError!==void 0&&(te=g.onCaughtError),g.onRecoverableError!==void 0&&(Se=g.onRecoverableError),g.formState!==void 0&&(et=g.formState)),c=fv(o,1,!0,c,g??null,C,P,et,R,te,Se,sS),c.context=dv(null),g=c.current,C=iA(),C=ut(C),P=St(C),P.callback=null,zt(g,P,C),g=C,c.current.lanes=g,je(c,g),Gu(c),o[zr]=c.current,$m(o),new bv(c)},i0.version="19.2.0",i0}var mS;function uk(){if(mS)return eb.exports;mS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),eb.exports=Ak(),eb.exports}var ck=uk(),v1={exports:{}};var hk=v1.exports,yS;function fk(){return yS||(yS=1,(function(e,t){(function(r,n){e.exports=n()})(hk,(function(){var r={},n={};function s(f,l,y){if(n[f]=y,f==="index"){var w="var sharedModule = {}; ("+n.shared+")(sharedModule); ("+n.worker+")(sharedModule);",b={};return n.shared(b),n.index(r,b),typeof window<"u"&&r.setWorkerUrl(window.URL.createObjectURL(new Blob([w],{type:"text/javascript"}))),r}}s("shared",["exports"],(function(f){function l(u,a,d,m){return new(d||(d=Promise))((function(B,E){function T(q){try{N(m.next(q))}catch(Z){E(Z)}}function O(q){try{N(m.throw(q))}catch(Z){E(Z)}}function N(q){var Z;q.done?B(q.value):(Z=q.value,Z instanceof d?Z:new d((function(Y){Y(Z)}))).then(T,O)}N((m=m.apply(u,a||[])).next())}))}function y(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}typeof SuppressedError=="function"&&SuppressedError;var w=b;function b(u,a){this.x=u,this.y=a}b.prototype={clone:function(){return new b(this.x,this.y)},add:function(u){return this.clone()._add(u)},sub:function(u){return this.clone()._sub(u)},multByPoint:function(u){return this.clone()._multByPoint(u)},divByPoint:function(u){return this.clone()._divByPoint(u)},mult:function(u){return this.clone()._mult(u)},div:function(u){return this.clone()._div(u)},rotate:function(u){return this.clone()._rotate(u)},rotateAround:function(u,a){return this.clone()._rotateAround(u,a)},matMult:function(u){return this.clone()._matMult(u)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(u){return this.x===u.x&&this.y===u.y},dist:function(u){return Math.sqrt(this.distSqr(u))},distSqr:function(u){var a=u.x-this.x,d=u.y-this.y;return a*a+d*d},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(u){return Math.atan2(this.y-u.y,this.x-u.x)},angleWith:function(u){return this.angleWithSep(u.x,u.y)},angleWithSep:function(u,a){return Math.atan2(this.x*a-this.y*u,this.x*u+this.y*a)},_matMult:function(u){var a=u[2]*this.x+u[3]*this.y;return this.x=u[0]*this.x+u[1]*this.y,this.y=a,this},_add:function(u){return this.x+=u.x,this.y+=u.y,this},_sub:function(u){return this.x-=u.x,this.y-=u.y,this},_mult:function(u){return this.x*=u,this.y*=u,this},_div:function(u){return this.x/=u,this.y/=u,this},_multByPoint:function(u){return this.x*=u.x,this.y*=u.y,this},_divByPoint:function(u){return this.x/=u.x,this.y/=u.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var u=this.y;return this.y=this.x,this.x=-u,this},_rotate:function(u){var a=Math.cos(u),d=Math.sin(u),m=d*this.x+a*this.y;return this.x=a*this.x-d*this.y,this.y=m,this},_rotateAround:function(u,a){var d=Math.cos(u),m=Math.sin(u),B=a.y+m*(this.x-a.x)+d*(this.y-a.y);return this.x=a.x+d*(this.x-a.x)-m*(this.y-a.y),this.y=B,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},b.convert=function(u){return u instanceof b?u:Array.isArray(u)?new b(u[0],u[1]):u};var S=y(w),U=I;function I(u,a,d,m){this.cx=3*u,this.bx=3*(d-u)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*a,this.by=3*(m-a)-this.cy,this.ay=1-this.cy-this.by,this.p1x=u,this.p1y=a,this.p2x=d,this.p2y=m}I.prototype={sampleCurveX:function(u){return((this.ax*u+this.bx)*u+this.cx)*u},sampleCurveY:function(u){return((this.ay*u+this.by)*u+this.cy)*u},sampleCurveDerivativeX:function(u){return(3*this.ax*u+2*this.bx)*u+this.cx},solveCurveX:function(u,a){if(a===void 0&&(a=1e-6),u<0)return 0;if(u>1)return 1;for(var d=u,m=0;m<8;m++){var B=this.sampleCurveX(d)-u;if(Math.abs(B)<a)return d;var E=this.sampleCurveDerivativeX(d);if(Math.abs(E)<1e-6)break;d-=B/E}var T=0,O=1;for(d=u,m=0;m<20&&(B=this.sampleCurveX(d),!(Math.abs(B-u)<a));m++)u>B?T=d:O=d,d=.5*(O-T)+T;return d},solve:function(u,a){return this.sampleCurveY(this.solveCurveX(u,a))}};var z=y(U);let H,K;function V(){return H==null&&(H=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),H}function re(){if(K==null&&(K=!1,V())){const a=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(a){for(let m=0;m<25;m++){const B=4*m;a.fillStyle=`rgb(${B},${B+1},${B+2})`,a.fillRect(m%5,Math.floor(m/5),1,1)}const d=a.getImageData(0,0,5,5).data;for(let m=0;m<100;m++)if(m%4!=3&&d[m]!==m){K=!0;break}}}return K||!1}function W(u,a,d,m){const B=new z(u,a,d,m);return E=>B.solve(E)}const le=W(.25,.1,.25,1);function ce(u,a,d){return Math.min(d,Math.max(a,u))}function me(u,a,d){const m=d-a,B=((u-a)%m+m)%m+a;return B===a?d:B}function Ie(u,...a){for(const d of a)for(const m in d)u[m]=d[m];return u}let Fe=1;function pe(u,a,d){const m={};for(const B in u)m[B]=a.call(this,u[B],B,u);return m}function ze(u,a,d){const m={};for(const B in u)a.call(this,u[B],B,u)&&(m[B]=u[B]);return m}function ie(u){return Array.isArray(u)?u.map(ie):typeof u=="object"&&u?pe(u,ie):u}const de={};function ve(u){de[u]||(typeof console<"u"&&console.warn(u),de[u]=!0)}function _e(u,a,d){return(d.y-u.y)*(a.x-u.x)>(a.y-u.y)*(d.x-u.x)}function tt(u){return typeof WorkerGlobalScope<"u"&&u!==void 0&&u instanceof WorkerGlobalScope}let Le=null;function Ne(u){return typeof ImageBitmap<"u"&&u instanceof ImageBitmap}const Ve="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function We(u,a,d,m,B){return l(this,void 0,void 0,(function*(){if(typeof VideoFrame>"u")throw new Error("VideoFrame not supported");const E=new VideoFrame(u,{timestamp:0});try{const T=E?.format;if(!T||!T.startsWith("BGR")&&!T.startsWith("RGB"))throw new Error(`Unrecognized format ${T}`);const O=T.startsWith("BGR"),N=new Uint8ClampedArray(m*B*4);if(yield E.copyTo(N,(function(q,Z,Y,ae,he){const ye=4*Math.max(-Z,0),Be=(Math.max(0,Y)-Y)*ae*4+ye,Re=4*ae,Ge=Math.max(0,Z),At=Math.max(0,Y);return{rect:{x:Ge,y:At,width:Math.min(q.width,Z+ae)-Ge,height:Math.min(q.height,Y+he)-At},layout:[{offset:Be,stride:Re}]}})(u,a,d,m,B)),O)for(let q=0;q<N.length;q+=4){const Z=N[q];N[q]=N[q+2],N[q+2]=Z}return N}finally{E.close()}}))}let _t,Te;const ne="AbortError";function we(){return new Error(ne)}const Ue={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};function De(u){return Ue.REGISTERED_PROTOCOLS[u.substring(0,u.indexOf("://"))]}const Xe="global-dispatcher";class Je extends Error{constructor(a,d,m,B){super(`AJAXError: ${d} (${a}): ${m}`),this.status=a,this.statusText=d,this.url=m,this.body=B}}const dt=()=>tt(self)?self.worker&&self.worker.referrer:(window.location.protocol==="blob:"?window.parent:window).location.href,He=function(u,a){if(/:\/\//.test(u.url)&&!/^https?:|^file:/.test(u.url)){const m=De(u.url);if(m)return m(u,a);if(tt(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:u,targetMapId:Xe},a)}if(!(/^file:/.test(d=u.url)||/^file:/.test(dt())&&!/^\w+:/.test(d))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return(function(m,B){return l(this,void 0,void 0,(function*(){const E=new Request(m.url,{method:m.method||"GET",body:m.body,credentials:m.credentials,headers:m.headers,cache:m.cache,referrer:dt(),signal:B.signal});m.type!=="json"||E.headers.has("Accept")||E.headers.set("Accept","application/json");const T=yield fetch(E);if(!T.ok){const q=yield T.blob();throw new Je(T.status,T.statusText,m.url,q)}let O;O=m.type==="arrayBuffer"||m.type==="image"?T.arrayBuffer():m.type==="json"?T.json():T.text();const N=yield O;if(B.signal.aborted)throw we();return{data:N,cacheControl:T.headers.get("Cache-Control"),expires:T.headers.get("Expires")}}))})(u,a);if(tt(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:u,mustQueue:!0,targetMapId:Xe},a)}var d;return(function(m,B){return new Promise(((E,T)=>{var O;const N=new XMLHttpRequest;N.open(m.method||"GET",m.url,!0),m.type!=="arrayBuffer"&&m.type!=="image"||(N.responseType="arraybuffer");for(const q in m.headers)N.setRequestHeader(q,m.headers[q]);m.type==="json"&&(N.responseType="text",!((O=m.headers)===null||O===void 0)&&O.Accept||N.setRequestHeader("Accept","application/json")),N.withCredentials=m.credentials==="include",N.onerror=()=>{T(new Error(N.statusText))},N.onload=()=>{if(!B.signal.aborted)if((N.status>=200&&N.status<300||N.status===0)&&N.response!==null){let q=N.response;if(m.type==="json")try{q=JSON.parse(N.response)}catch(Z){return void T(Z)}E({data:q,cacheControl:N.getResponseHeader("Cache-Control"),expires:N.getResponseHeader("Expires")})}else{const q=new Blob([N.response],{type:N.getResponseHeader("Content-Type")});T(new Je(N.status,N.statusText,m.url,q))}},B.signal.addEventListener("abort",(()=>{N.abort(),T(we())})),N.send(m.body)}))})(u,a)};function ft(u){if(!u||u.indexOf("://")<=0||u.indexOf("data:image/")===0||u.indexOf("blob:")===0)return!0;const a=new URL(u),d=window.location;return a.protocol===d.protocol&&a.host===d.host}function It(u,a,d){d[u]&&d[u].indexOf(a)!==-1||(d[u]=d[u]||[],d[u].push(a))}function ct(u,a,d){if(d&&d[u]){const m=d[u].indexOf(a);m!==-1&&d[u].splice(m,1)}}class Xt{constructor(a,d={}){Ie(this,d),this.type=a}}class $t extends Xt{constructor(a,d={}){super("error",Ie({error:a},d))}}class Pe{on(a,d){return this._listeners=this._listeners||{},It(a,d,this._listeners),this}off(a,d){return ct(a,d,this._listeners),ct(a,d,this._oneTimeListeners),this}once(a,d){return d?(this._oneTimeListeners=this._oneTimeListeners||{},It(a,d,this._oneTimeListeners),this):new Promise((m=>this.once(a,m)))}fire(a,d){typeof a=="string"&&(a=new Xt(a,d||{}));const m=a.type;if(this.listens(m)){a.target=this;const B=this._listeners&&this._listeners[m]?this._listeners[m].slice():[];for(const O of B)O.call(this,a);const E=this._oneTimeListeners&&this._oneTimeListeners[m]?this._oneTimeListeners[m].slice():[];for(const O of E)ct(m,O,this._oneTimeListeners),O.call(this,a);const T=this._eventedParent;T&&(Ie(a,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),T.fire(a))}else a instanceof $t&&console.error(a.error);return this}listens(a){return this._listeners&&this._listeners[a]&&this._listeners[a].length>0||this._oneTimeListeners&&this._oneTimeListeners[a]&&this._oneTimeListeners[a].length>0||this._eventedParent&&this._eventedParent.listens(a)}setEventedParent(a,d){return this._eventedParent=a,this._eventedParentData=d,this}}var Ze={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sky:{type:"sky"},projection:{type:"projection"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},sky:{"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},projection:{type:{type:"enum",default:"mercator",values:{mercator:{},globe:{}}}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const Nr=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function Er(u,a){const d={};for(const m in u)m!=="ref"&&(d[m]=u[m]);return Nr.forEach((m=>{m in a&&(d[m]=a[m])})),d}function Et(u,a){if(Array.isArray(u)){if(!Array.isArray(a)||u.length!==a.length)return!1;for(let d=0;d<u.length;d++)if(!Et(u[d],a[d]))return!1;return!0}if(typeof u=="object"&&u!==null&&a!==null){if(typeof a!="object"||Object.keys(u).length!==Object.keys(a).length)return!1;for(const d in u)if(!Et(u[d],a[d]))return!1;return!0}return u===a}function nr(u,a){u.push(a)}function ur(u,a,d){nr(d,{command:"addSource",args:[u,a[u]]})}function Tr(u,a,d){nr(a,{command:"removeSource",args:[u]}),d[u]=!0}function Br(u,a,d,m){Tr(u,d,m),ur(u,a,d)}function rn(u,a,d){let m;for(m in u[d])if(Object.prototype.hasOwnProperty.call(u[d],m)&&m!=="data"&&!Et(u[d][m],a[d][m]))return!1;for(m in a[d])if(Object.prototype.hasOwnProperty.call(a[d],m)&&m!=="data"&&!Et(u[d][m],a[d][m]))return!1;return!0}function nn(u,a,d,m,B,E){u=u||{},a=a||{};for(const T in u)Object.prototype.hasOwnProperty.call(u,T)&&(Et(u[T],a[T])||d.push({command:E,args:[m,T,a[T],B]}));for(const T in a)Object.prototype.hasOwnProperty.call(a,T)&&!Object.prototype.hasOwnProperty.call(u,T)&&(Et(u[T],a[T])||d.push({command:E,args:[m,T,a[T],B]}))}function Jr(u){return u.id}function yn(u,a){return u[a.id]=a,u}class Ft{constructor(a,d,m,B){this.message=(a?`${a}: `:"")+m,B&&(this.identifier=B),d!=null&&d.__line__&&(this.line=d.__line__)}}function cr(u,...a){for(const d of a)for(const m in d)u[m]=d[m];return u}class Pr extends Error{constructor(a,d){super(d),this.message=d,this.key=a}}class fr{constructor(a,d=[]){this.parent=a,this.bindings={};for(const[m,B]of d)this.bindings[m]=B}concat(a){return new fr(this,a)}get(a){if(this.bindings[a])return this.bindings[a];if(this.parent)return this.parent.get(a);throw new Error(`${a} not found in scope.`)}has(a){return!!this.bindings[a]||!!this.parent&&this.parent.has(a)}}const ri={kind:"null"},Pt={kind:"number"},Zt={kind:"string"},qt={kind:"boolean"},$r={kind:"color"},_r={kind:"object"},sr={kind:"value"},Ur={kind:"collator"},Rr={kind:"formatted"},kn={kind:"padding"},Gr={kind:"resolvedImage"},Me={kind:"variableAnchorOffsetCollection"};function oe(u,a){return{kind:"array",itemType:u,N:a}}function Ae(u){if(u.kind==="array"){const a=Ae(u.itemType);return typeof u.N=="number"?`array<${a}, ${u.N}>`:u.itemType.kind==="value"?"array":`array<${a}>`}return u.kind}const be=[ri,Pt,Zt,qt,$r,Rr,_r,oe(sr),kn,Gr,Me];function ke(u,a){if(a.kind==="error")return null;if(u.kind==="array"){if(a.kind==="array"&&(a.N===0&&a.itemType.kind==="value"||!ke(u.itemType,a.itemType))&&(typeof u.N!="number"||u.N===a.N))return null}else{if(u.kind===a.kind)return null;if(u.kind==="value"){for(const d of be)if(!ke(d,a))return null}}return`Expected ${Ae(u)} but found ${Ae(a)} instead.`}function Ye(u,a){return a.some((d=>d.kind===u.kind))}function je(u,a){return a.some((d=>d==="null"?u===null:d==="array"?Array.isArray(u):d==="object"?u&&!Array.isArray(u)&&typeof u=="object":d===typeof u))}function st(u,a){return u.kind==="array"&&a.kind==="array"?u.itemType.kind===a.itemType.kind&&typeof u.N=="number":u.kind===a.kind}const $e=.96422,gt=.82521,Lt=4/29,ut=6/29,Nt=3*ut*ut,Jt=ut*ut*ut,dr=Math.PI/180,Zr=180/Math.PI;function or(u){return(u%=360)<0&&(u+=360),u}function Or([u,a,d,m]){let B,E;const T=Kn((.2225045*(u=zr(u))+.7168786*(a=zr(a))+.0606169*(d=zr(d)))/1);u===a&&a===d?B=E=T:(B=Kn((.4360747*u+.3850649*a+.1430804*d)/$e),E=Kn((.0139322*u+.0971045*a+.7141733*d)/gt));const O=116*T-16;return[O<0?0:O,500*(B-T),200*(T-E),m]}function zr(u){return u<=.04045?u/12.92:Math.pow((u+.055)/1.055,2.4)}function Kn(u){return u>Jt?Math.pow(u,1/3):u/Nt+Lt}function Qn([u,a,d,m]){let B=(u+16)/116,E=isNaN(a)?B:B+a/500,T=isNaN(d)?B:B-d/200;return B=1*vn(B),E=$e*vn(E),T=gt*vn(T),[en(3.1338561*E-1.6168667*B-.4906146*T),en(-.9787684*E+1.9161415*B+.033454*T),en(.0719453*E-.2289914*B+1.4052427*T),m]}function en(u){return(u=u<=.00304?12.92*u:1.055*Math.pow(u,1/2.4)-.055)<0?0:u>1?1:u}function vn(u){return u>ut?u*u*u:Nt*(u-Lt)}function Pn(u){return parseInt(u.padEnd(2,u),16)/255}function mi(u,a){return ai(a?u/100:u,0,1)}function ai(u,a,d){return Math.min(Math.max(a,u),d)}function yi(u){return!u.some(Number.isNaN)}const fo={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};class bn{constructor(a,d,m,B=1,E=!0){this.r=a,this.g=d,this.b=m,this.a=B,E||(this.r*=B,this.g*=B,this.b*=B,B||this.overwriteGetter("rgb",[a,d,m,B]))}static parse(a){if(a instanceof bn)return a;if(typeof a!="string")return;const d=(function(m){if((m=m.toLowerCase().trim())==="transparent")return[0,0,0,0];const B=fo[m];if(B){const[T,O,N]=B;return[T/255,O/255,N/255,1]}if(m.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(m)){const T=m.length<6?1:2;let O=1;return[Pn(m.slice(O,O+=T)),Pn(m.slice(O,O+=T)),Pn(m.slice(O,O+=T)),Pn(m.slice(O,O+T)||"ff")]}if(m.startsWith("rgb")){const T=m.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(T){const[O,N,q,Z,Y,ae,he,ye,Be,Re,Ge,At]=T,nt=[Z||" ",he||" ",Re].join("");if(nt==="  "||nt==="  /"||nt===",,"||nt===",,,"){const ot=[q,ae,Be].join(""),Bt=ot==="%%%"?100:ot===""?255:0;if(Bt){const Kt=[ai(+N/Bt,0,1),ai(+Y/Bt,0,1),ai(+ye/Bt,0,1),Ge?mi(+Ge,At):1];if(yi(Kt))return Kt}}return}}const E=m.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(E){const[T,O,N,q,Z,Y,ae,he,ye]=E,Be=[N||" ",Z||" ",ae].join("");if(Be==="  "||Be==="  /"||Be===",,"||Be===",,,"){const Re=[+O,ai(+q,0,100),ai(+Y,0,100),he?mi(+he,ye):1];if(yi(Re))return(function([Ge,At,nt,ot]){function Bt(Kt){const er=(Kt+Ge/30)%12,kr=At*Math.min(nt,1-nt);return nt-kr*Math.max(-1,Math.min(er-3,9-er,1))}return Ge=or(Ge),At/=100,nt/=100,[Bt(0),Bt(8),Bt(4),ot]})(Re)}}})(a);return d?new bn(...d,!1):void 0}get rgb(){const{r:a,g:d,b:m,a:B}=this,E=B||1/0;return this.overwriteGetter("rgb",[a/E,d/E,m/E,B])}get hcl(){return this.overwriteGetter("hcl",(function(a){const[d,m,B,E]=Or(a),T=Math.sqrt(m*m+B*B);return[Math.round(1e4*T)?or(Math.atan2(B,m)*Zr):NaN,T,d,E]})(this.rgb))}get lab(){return this.overwriteGetter("lab",Or(this.rgb))}overwriteGetter(a,d){return Object.defineProperty(this,a,{value:d}),d}toString(){const[a,d,m,B]=this.rgb;return`rgba(${[a,d,m].map((E=>Math.round(255*E))).join(",")},${B})`}}bn.black=new bn(0,0,0,1),bn.white=new bn(1,1,1,1),bn.transparent=new bn(0,0,0,0),bn.red=new bn(1,0,0,1);class Ui{constructor(a,d,m){this.sensitivity=a?d?"variant":"case":d?"accent":"base",this.locale=m,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(a,d){return this.collator.compare(a,d)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class WA{constructor(a,d,m,B,E){this.text=a,this.image=d,this.scale=m,this.fontStack=B,this.textColor=E}}class vi{constructor(a){this.sections=a}static fromString(a){return new vi([new WA(a,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some((a=>a.text.length!==0||a.image&&a.image.name.length!==0))}static factory(a){return a instanceof vi?a:vi.fromString(a)}toString(){return this.sections.length===0?"":this.sections.map((a=>a.text)).join("")}}class Li{constructor(a){this.values=a.slice()}static parse(a){if(a instanceof Li)return a;if(typeof a=="number")return new Li([a,a,a,a]);if(Array.isArray(a)&&!(a.length<1||a.length>4)){for(const d of a)if(typeof d!="number")return;switch(a.length){case 1:a=[a[0],a[0],a[0],a[0]];break;case 2:a=[a[0],a[1],a[0],a[1]];break;case 3:a=[a[0],a[1],a[2],a[1]]}return new Li(a)}}toString(){return JSON.stringify(this.values)}}const zl=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class qa{constructor(a){this.values=a.slice()}static parse(a){if(a instanceof qa)return a;if(Array.isArray(a)&&!(a.length<1)&&a.length%2==0){for(let d=0;d<a.length;d+=2){const m=a[d],B=a[d+1];if(typeof m!="string"||!zl.has(m)||!Array.isArray(B)||B.length!==2||typeof B[0]!="number"||typeof B[1]!="number")return}return new qa(a)}}toString(){return JSON.stringify(this.values)}}class ka{constructor(a){this.name=a.name,this.available=a.available}toString(){return this.name}static fromString(a){return a?new ka({name:a,available:!1}):null}}function rl(u,a,d,m){return typeof u=="number"&&u>=0&&u<=255&&typeof a=="number"&&a>=0&&a<=255&&typeof d=="number"&&d>=0&&d<=255?m===void 0||typeof m=="number"&&m>=0&&m<=1?null:`Invalid rgba value [${[u,a,d,m].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof m=="number"?[u,a,d,m]:[u,a,d]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function nl(u){if(u===null||typeof u=="string"||typeof u=="boolean"||typeof u=="number"||u instanceof bn||u instanceof Ui||u instanceof vi||u instanceof Li||u instanceof qa||u instanceof ka)return!0;if(Array.isArray(u)){for(const a of u)if(!nl(a))return!1;return!0}if(typeof u=="object"){for(const a in u)if(!nl(u[a]))return!1;return!0}return!1}function Vn(u){if(u===null)return ri;if(typeof u=="string")return Zt;if(typeof u=="boolean")return qt;if(typeof u=="number")return Pt;if(u instanceof bn)return $r;if(u instanceof Ui)return Ur;if(u instanceof vi)return Rr;if(u instanceof Li)return kn;if(u instanceof qa)return Me;if(u instanceof ka)return Gr;if(Array.isArray(u)){const a=u.length;let d;for(const m of u){const B=Vn(m);if(d){if(d===B)continue;d=sr;break}d=B}return oe(d||sr,a)}return _r}function Hs(u){const a=typeof u;return u===null?"":a==="string"||a==="number"||a==="boolean"?String(u):u instanceof bn||u instanceof vi||u instanceof Li||u instanceof qa||u instanceof ka?u.toString():JSON.stringify(u)}class $i{constructor(a,d){this.type=a,this.value=d}static parse(a,d){if(a.length!==2)return d.error(`'literal' expression requires exactly one argument, but found ${a.length-1} instead.`);if(!nl(a[1]))return d.error("invalid value");const m=a[1];let B=Vn(m);const E=d.expectedType;return B.kind!=="array"||B.N!==0||!E||E.kind!=="array"||typeof E.N=="number"&&E.N!==0||(B=E),new $i(B,m)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class qr{constructor(a){this.name="ExpressionEvaluationError",this.message=a}toJSON(){return this.message}}const pA={string:Zt,number:Pt,boolean:qt,object:_r};class oa{constructor(a,d){this.type=a,this.args=d}static parse(a,d){if(a.length<2)return d.error("Expected at least one argument.");let m,B=1;const E=a[0];if(E==="array"){let O,N;if(a.length>2){const q=a[1];if(typeof q!="string"||!(q in pA)||q==="object")return d.error('The item type argument of "array" must be one of string, number, boolean',1);O=pA[q],B++}else O=sr;if(a.length>3){if(a[2]!==null&&(typeof a[2]!="number"||a[2]<0||a[2]!==Math.floor(a[2])))return d.error('The length argument to "array" must be a positive integer literal',2);N=a[2],B++}m=oe(O,N)}else{if(!pA[E])throw new Error(`Types doesn't contain name = ${E}`);m=pA[E]}const T=[];for(;B<a.length;B++){const O=d.parse(a[B],B,sr);if(!O)return null;T.push(O)}return new oa(m,T)}evaluate(a){for(let d=0;d<this.args.length;d++){const m=this.args[d].evaluate(a);if(!ke(this.type,Vn(m)))return m;if(d===this.args.length-1)throw new qr(`Expected value to be of type ${Ae(this.type)}, but found ${Ae(Vn(m))} instead.`)}throw new Error}eachChild(a){this.args.forEach(a)}outputDefined(){return this.args.every((a=>a.outputDefined()))}}const il={"to-boolean":qt,"to-color":$r,"to-number":Pt,"to-string":Zt};class is{constructor(a,d){this.type=a,this.args=d}static parse(a,d){if(a.length<2)return d.error("Expected at least one argument.");const m=a[0];if(!il[m])throw new Error(`Can't parse ${m} as it is not part of the known types`);if((m==="to-boolean"||m==="to-string")&&a.length!==2)return d.error("Expected one argument.");const B=il[m],E=[];for(let T=1;T<a.length;T++){const O=d.parse(a[T],T,sr);if(!O)return null;E.push(O)}return new is(B,E)}evaluate(a){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(a);case"color":{let d,m;for(const B of this.args){if(d=B.evaluate(a),m=null,d instanceof bn)return d;if(typeof d=="string"){const E=a.parseColor(d);if(E)return E}else if(Array.isArray(d)&&(m=d.length<3||d.length>4?`Invalid rbga value ${JSON.stringify(d)}: expected an array containing either three or four numeric values.`:rl(d[0],d[1],d[2],d[3]),!m))return new bn(d[0]/255,d[1]/255,d[2]/255,d[3])}throw new qr(m||`Could not parse color from value '${typeof d=="string"?d:JSON.stringify(d)}'`)}case"padding":{let d;for(const m of this.args){d=m.evaluate(a);const B=Li.parse(d);if(B)return B}throw new qr(`Could not parse padding from value '${typeof d=="string"?d:JSON.stringify(d)}'`)}case"variableAnchorOffsetCollection":{let d;for(const m of this.args){d=m.evaluate(a);const B=qa.parse(d);if(B)return B}throw new qr(`Could not parse variableAnchorOffsetCollection from value '${typeof d=="string"?d:JSON.stringify(d)}'`)}case"number":{let d=null;for(const m of this.args){if(d=m.evaluate(a),d===null)return 0;const B=Number(d);if(!isNaN(B))return B}throw new qr(`Could not convert ${JSON.stringify(d)} to number.`)}case"formatted":return vi.fromString(Hs(this.args[0].evaluate(a)));case"resolvedImage":return ka.fromString(Hs(this.args[0].evaluate(a)));default:return Hs(this.args[0].evaluate(a))}}eachChild(a){this.args.forEach(a)}outputDefined(){return this.args.every((a=>a.outputDefined()))}}const as=["Unknown","Point","LineString","Polygon"];class Ri{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?as[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(a){let d=this._parseColorCache[a];return d||(d=this._parseColorCache[a]=bn.parse(a)),d}}class ui{constructor(a,d,m=[],B,E=new fr,T=[]){this.registry=a,this.path=m,this.key=m.map((O=>`[${O}]`)).join(""),this.scope=E,this.errors=T,this.expectedType=B,this._isConstant=d}parse(a,d,m,B,E={}){return d?this.concat(d,m,B)._parse(a,E):this._parse(a,E)}_parse(a,d){function m(B,E,T){return T==="assert"?new oa(E,[B]):T==="coerce"?new is(E,[B]):B}if(a!==null&&typeof a!="string"&&typeof a!="boolean"&&typeof a!="number"||(a=["literal",a]),Array.isArray(a)){if(a.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const B=a[0];if(typeof B!="string")return this.error(`Expression name must be a string, but found ${typeof B} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const E=this.registry[B];if(E){let T=E.parse(a,this);if(!T)return null;if(this.expectedType){const O=this.expectedType,N=T.type;if(O.kind!=="string"&&O.kind!=="number"&&O.kind!=="boolean"&&O.kind!=="object"&&O.kind!=="array"||N.kind!=="value")if(O.kind!=="color"&&O.kind!=="formatted"&&O.kind!=="resolvedImage"||N.kind!=="value"&&N.kind!=="string")if(O.kind!=="padding"||N.kind!=="value"&&N.kind!=="number"&&N.kind!=="array")if(O.kind!=="variableAnchorOffsetCollection"||N.kind!=="value"&&N.kind!=="array"){if(this.checkSubtype(O,N))return null}else T=m(T,O,d.typeAnnotation||"coerce");else T=m(T,O,d.typeAnnotation||"coerce");else T=m(T,O,d.typeAnnotation||"coerce");else T=m(T,O,d.typeAnnotation||"assert")}if(!(T instanceof $i)&&T.type.kind!=="resolvedImage"&&this._isConstant(T)){const O=new Ri;try{T=new $i(T.type,T.evaluate(O))}catch(N){return this.error(N.message),null}}return T}return this.error(`Unknown expression "${B}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(a===void 0?"'undefined' value invalid. Use null instead.":typeof a=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof a} instead.`)}concat(a,d,m){const B=typeof a=="number"?this.path.concat(a):this.path,E=m?this.scope.concat(m):this.scope;return new ui(this.registry,this._isConstant,B,d||null,E,this.errors)}error(a,...d){const m=`${this.key}${d.map((B=>`[${B}]`)).join("")}`;this.errors.push(new Pr(m,a))}checkSubtype(a,d){const m=ke(a,d);return m&&this.error(m),m}}class js{constructor(a,d){this.type=d.type,this.bindings=[].concat(a),this.result=d}evaluate(a){return this.result.evaluate(a)}eachChild(a){for(const d of this.bindings)a(d[1]);a(this.result)}static parse(a,d){if(a.length<4)return d.error(`Expected at least 3 arguments, but found ${a.length-1} instead.`);const m=[];for(let E=1;E<a.length-1;E+=2){const T=a[E];if(typeof T!="string")return d.error(`Expected string, but found ${typeof T} instead.`,E);if(/[^a-zA-Z0-9_]/.test(T))return d.error("Variable names must contain only alphanumeric characters or '_'.",E);const O=d.parse(a[E+1],E+1);if(!O)return null;m.push([T,O])}const B=d.parse(a[a.length-1],a.length-1,d.expectedType,m);return B?new js(m,B):null}outputDefined(){return this.result.outputDefined()}}class Un{constructor(a,d){this.type=d.type,this.name=a,this.boundExpression=d}static parse(a,d){if(a.length!==2||typeof a[1]!="string")return d.error("'var' expression requires exactly one string literal argument.");const m=a[1];return d.scope.has(m)?new Un(m,d.scope.get(m)):d.error(`Unknown variable "${m}". Make sure "${m}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(a){return this.boundExpression.evaluate(a)}eachChild(){}outputDefined(){return!1}}class YA{constructor(a,d,m){this.type=a,this.index=d,this.input=m}static parse(a,d){if(a.length!==3)return d.error(`Expected 2 arguments, but found ${a.length-1} instead.`);const m=d.parse(a[1],1,Pt),B=d.parse(a[2],2,oe(d.expectedType||sr));return m&&B?new YA(B.type.itemType,m,B):null}evaluate(a){const d=this.index.evaluate(a),m=this.input.evaluate(a);if(d<0)throw new qr(`Array index out of bounds: ${d} < 0.`);if(d>=m.length)throw new qr(`Array index out of bounds: ${d} > ${m.length-1}.`);if(d!==Math.floor(d))throw new qr(`Array index must be an integer, but found ${d} instead.`);return m[d]}eachChild(a){a(this.index),a(this.input)}outputDefined(){return!1}}class Qa{constructor(a,d){this.type=qt,this.needle=a,this.haystack=d}static parse(a,d){if(a.length!==3)return d.error(`Expected 2 arguments, but found ${a.length-1} instead.`);const m=d.parse(a[1],1,sr),B=d.parse(a[2],2,sr);return m&&B?Ye(m.type,[qt,Zt,Pt,ri,sr])?new Qa(m,B):d.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ae(m.type)} instead`):null}evaluate(a){const d=this.needle.evaluate(a),m=this.haystack.evaluate(a);if(!m)return!1;if(!je(d,["boolean","string","number","null"]))throw new qr(`Expected first argument to be of type boolean, string, number or null, but found ${Ae(Vn(d))} instead.`);if(!je(m,["string","array"]))throw new qr(`Expected second argument to be of type array or string, but found ${Ae(Vn(m))} instead.`);return m.indexOf(d)>=0}eachChild(a){a(this.needle),a(this.haystack)}outputDefined(){return!0}}class al{constructor(a,d,m){this.type=Pt,this.needle=a,this.haystack=d,this.fromIndex=m}static parse(a,d){if(a.length<=2||a.length>=5)return d.error(`Expected 3 or 4 arguments, but found ${a.length-1} instead.`);const m=d.parse(a[1],1,sr),B=d.parse(a[2],2,sr);if(!m||!B)return null;if(!Ye(m.type,[qt,Zt,Pt,ri,sr]))return d.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ae(m.type)} instead`);if(a.length===4){const E=d.parse(a[3],3,Pt);return E?new al(m,B,E):null}return new al(m,B)}evaluate(a){const d=this.needle.evaluate(a),m=this.haystack.evaluate(a);if(!je(d,["boolean","string","number","null"]))throw new qr(`Expected first argument to be of type boolean, string, number or null, but found ${Ae(Vn(d))} instead.`);let B;if(this.fromIndex&&(B=this.fromIndex.evaluate(a)),je(m,["string"])){const E=m.indexOf(d,B);return E===-1?-1:[...m.slice(0,E)].length}if(je(m,["array"]))return m.indexOf(d,B);throw new qr(`Expected second argument to be of type array or string, but found ${Ae(Vn(m))} instead.`)}eachChild(a){a(this.needle),a(this.haystack),this.fromIndex&&a(this.fromIndex)}outputDefined(){return!1}}class JA{constructor(a,d,m,B,E,T){this.inputType=a,this.type=d,this.input=m,this.cases=B,this.outputs=E,this.otherwise=T}static parse(a,d){if(a.length<5)return d.error(`Expected at least 4 arguments, but found only ${a.length-1}.`);if(a.length%2!=1)return d.error("Expected an even number of arguments.");let m,B;d.expectedType&&d.expectedType.kind!=="value"&&(B=d.expectedType);const E={},T=[];for(let q=2;q<a.length-1;q+=2){let Z=a[q];const Y=a[q+1];Array.isArray(Z)||(Z=[Z]);const ae=d.concat(q);if(Z.length===0)return ae.error("Expected at least one branch label.");for(const ye of Z){if(typeof ye!="number"&&typeof ye!="string")return ae.error("Branch labels must be numbers or strings.");if(typeof ye=="number"&&Math.abs(ye)>Number.MAX_SAFE_INTEGER)return ae.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof ye=="number"&&Math.floor(ye)!==ye)return ae.error("Numeric branch labels must be integer values.");if(m){if(ae.checkSubtype(m,Vn(ye)))return null}else m=Vn(ye);if(E[String(ye)]!==void 0)return ae.error("Branch labels must be unique.");E[String(ye)]=T.length}const he=d.parse(Y,q,B);if(!he)return null;B=B||he.type,T.push(he)}const O=d.parse(a[1],1,sr);if(!O)return null;const N=d.parse(a[a.length-1],a.length-1,B);return N?O.type.kind!=="value"&&d.concat(1).checkSubtype(m,O.type)?null:new JA(m,B,O,E,T,N):null}evaluate(a){const d=this.input.evaluate(a);return(Vn(d)===this.inputType&&this.outputs[this.cases[d]]||this.otherwise).evaluate(a)}eachChild(a){a(this.input),this.outputs.forEach(a),a(this.otherwise)}outputDefined(){return this.outputs.every((a=>a.outputDefined()))&&this.otherwise.outputDefined()}}class Bs{constructor(a,d,m){this.type=a,this.branches=d,this.otherwise=m}static parse(a,d){if(a.length<4)return d.error(`Expected at least 3 arguments, but found only ${a.length-1}.`);if(a.length%2!=0)return d.error("Expected an odd number of arguments.");let m;d.expectedType&&d.expectedType.kind!=="value"&&(m=d.expectedType);const B=[];for(let T=1;T<a.length-1;T+=2){const O=d.parse(a[T],T,qt);if(!O)return null;const N=d.parse(a[T+1],T+1,m);if(!N)return null;B.push([O,N]),m=m||N.type}const E=d.parse(a[a.length-1],a.length-1,m);if(!E)return null;if(!m)throw new Error("Can't infer output type");return new Bs(m,B,E)}evaluate(a){for(const[d,m]of this.branches)if(d.evaluate(a))return m.evaluate(a);return this.otherwise.evaluate(a)}eachChild(a){for(const[d,m]of this.branches)a(d),a(m);a(this.otherwise)}outputDefined(){return this.branches.every((([a,d])=>d.outputDefined()))&&this.otherwise.outputDefined()}}class Po{constructor(a,d,m,B){this.type=a,this.input=d,this.beginIndex=m,this.endIndex=B}static parse(a,d){if(a.length<=2||a.length>=5)return d.error(`Expected 3 or 4 arguments, but found ${a.length-1} instead.`);const m=d.parse(a[1],1,sr),B=d.parse(a[2],2,Pt);if(!m||!B)return null;if(!Ye(m.type,[oe(sr),Zt,sr]))return d.error(`Expected first argument to be of type array or string, but found ${Ae(m.type)} instead`);if(a.length===4){const E=d.parse(a[3],3,Pt);return E?new Po(m.type,m,B,E):null}return new Po(m.type,m,B)}evaluate(a){const d=this.input.evaluate(a),m=this.beginIndex.evaluate(a);let B;if(this.endIndex&&(B=this.endIndex.evaluate(a)),je(d,["string"]))return[...d].slice(m,B).join("");if(je(d,["array"]))return d.slice(m,B);throw new qr(`Expected first argument to be of type array or string, but found ${Ae(Vn(d))} instead.`)}eachChild(a){a(this.input),a(this.beginIndex),this.endIndex&&a(this.endIndex)}outputDefined(){return!1}}function eu(u,a){const d=u.length-1;let m,B,E=0,T=d,O=0;for(;E<=T;)if(O=Math.floor((E+T)/2),m=u[O],B=u[O+1],m<=a){if(O===d||a<B)return O;E=O+1}else{if(!(m>a))throw new qr("Input is not a number.");T=O-1}return 0}class Hl{constructor(a,d,m){this.type=a,this.input=d,this.labels=[],this.outputs=[];for(const[B,E]of m)this.labels.push(B),this.outputs.push(E)}static parse(a,d){if(a.length-1<4)return d.error(`Expected at least 4 arguments, but found only ${a.length-1}.`);if((a.length-1)%2!=0)return d.error("Expected an even number of arguments.");const m=d.parse(a[1],1,Pt);if(!m)return null;const B=[];let E=null;d.expectedType&&d.expectedType.kind!=="value"&&(E=d.expectedType);for(let T=1;T<a.length;T+=2){const O=T===1?-1/0:a[T],N=a[T+1],q=T,Z=T+1;if(typeof O!="number")return d.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',q);if(B.length&&B[B.length-1][0]>=O)return d.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',q);const Y=d.parse(N,Z,E);if(!Y)return null;E=E||Y.type,B.push([O,Y])}return new Hl(E,m,B)}evaluate(a){const d=this.labels,m=this.outputs;if(d.length===1)return m[0].evaluate(a);const B=this.input.evaluate(a);if(B<=d[0])return m[0].evaluate(a);const E=d.length;return B>=d[E-1]?m[E-1].evaluate(a):m[eu(d,B)].evaluate(a)}eachChild(a){a(this.input);for(const d of this.outputs)a(d)}outputDefined(){return this.outputs.every((a=>a.outputDefined()))}}function Eu(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var lc=Ac;function Ac(u,a,d,m){this.cx=3*u,this.bx=3*(d-u)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*a,this.by=3*(m-a)-this.cy,this.ay=1-this.cy-this.by,this.p1x=u,this.p1y=a,this.p2x=d,this.p2y=m}Ac.prototype={sampleCurveX:function(u){return((this.ax*u+this.bx)*u+this.cx)*u},sampleCurveY:function(u){return((this.ay*u+this.by)*u+this.cy)*u},sampleCurveDerivativeX:function(u){return(3*this.ax*u+2*this.bx)*u+this.cx},solveCurveX:function(u,a){if(a===void 0&&(a=1e-6),u<0)return 0;if(u>1)return 1;for(var d=u,m=0;m<8;m++){var B=this.sampleCurveX(d)-u;if(Math.abs(B)<a)return d;var E=this.sampleCurveDerivativeX(d);if(Math.abs(E)<1e-6)break;d-=B/E}var T=0,O=1;for(d=u,m=0;m<20&&(B=this.sampleCurveX(d),!(Math.abs(B-u)<a));m++)u>B?T=d:O=d,d=.5*(O-T)+T;return d},solve:function(u,a){return this.sampleCurveY(this.solveCurveX(u,a))}};var Cs=Eu(lc);function Na(u,a,d){return u+d*(a-u)}function Ks(u,a,d){return u.map(((m,B)=>Na(m,a[B],d)))}const la={number:Na,color:function(u,a,d,m="rgb"){switch(m){case"rgb":{const[B,E,T,O]=Ks(u.rgb,a.rgb,d);return new bn(B,E,T,O,!1)}case"hcl":{const[B,E,T,O]=u.hcl,[N,q,Z,Y]=a.hcl;let ae,he;if(isNaN(B)||isNaN(N))isNaN(B)?isNaN(N)?ae=NaN:(ae=N,T!==1&&T!==0||(he=q)):(ae=B,Z!==1&&Z!==0||(he=E));else{let At=N-B;N>B&&At>180?At-=360:N<B&&B-N>180&&(At+=360),ae=B+d*At}const[ye,Be,Re,Ge]=(function([At,nt,ot,Bt]){return At=isNaN(At)?0:At*dr,Qn([ot,Math.cos(At)*nt,Math.sin(At)*nt,Bt])})([ae,he??Na(E,q,d),Na(T,Z,d),Na(O,Y,d)]);return new bn(ye,Be,Re,Ge,!1)}case"lab":{const[B,E,T,O]=Qn(Ks(u.lab,a.lab,d));return new bn(B,E,T,O,!1)}}},array:Ks,padding:function(u,a,d){return new Li(Ks(u.values,a.values,d))},variableAnchorOffsetCollection:function(u,a,d){const m=u.values,B=a.values;if(m.length!==B.length)throw new qr(`Cannot interpolate values of different length. from: ${u.toString()}, to: ${a.toString()}`);const E=[];for(let T=0;T<m.length;T+=2){if(m[T]!==B[T])throw new qr(`Cannot interpolate values containing mismatched anchors. from[${T}]: ${m[T]}, to[${T}]: ${B[T]}`);E.push(m[T]);const[O,N]=m[T+1],[q,Z]=B[T+1];E.push([Na(O,q,d),Na(N,Z,d)])}return new qa(E)}};class Zi{constructor(a,d,m,B,E){this.type=a,this.operator=d,this.interpolation=m,this.input=B,this.labels=[],this.outputs=[];for(const[T,O]of E)this.labels.push(T),this.outputs.push(O)}static interpolationFactor(a,d,m,B){let E=0;if(a.name==="exponential")E=jr(d,a.base,m,B);else if(a.name==="linear")E=jr(d,1,m,B);else if(a.name==="cubic-bezier"){const T=a.controlPoints;E=new Cs(T[0],T[1],T[2],T[3]).solve(jr(d,1,m,B))}return E}static parse(a,d){let[m,B,E,...T]=a;if(!Array.isArray(B)||B.length===0)return d.error("Expected an interpolation type expression.",1);if(B[0]==="linear")B={name:"linear"};else if(B[0]==="exponential"){const q=B[1];if(typeof q!="number")return d.error("Exponential interpolation requires a numeric base.",1,1);B={name:"exponential",base:q}}else{if(B[0]!=="cubic-bezier")return d.error(`Unknown interpolation type ${String(B[0])}`,1,0);{const q=B.slice(1);if(q.length!==4||q.some((Z=>typeof Z!="number"||Z<0||Z>1)))return d.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);B={name:"cubic-bezier",controlPoints:q}}}if(a.length-1<4)return d.error(`Expected at least 4 arguments, but found only ${a.length-1}.`);if((a.length-1)%2!=0)return d.error("Expected an even number of arguments.");if(E=d.parse(E,2,Pt),!E)return null;const O=[];let N=null;m==="interpolate-hcl"||m==="interpolate-lab"?N=$r:d.expectedType&&d.expectedType.kind!=="value"&&(N=d.expectedType);for(let q=0;q<T.length;q+=2){const Z=T[q],Y=T[q+1],ae=q+3,he=q+4;if(typeof Z!="number")return d.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',ae);if(O.length&&O[O.length-1][0]>=Z)return d.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',ae);const ye=d.parse(Y,he,N);if(!ye)return null;N=N||ye.type,O.push([Z,ye])}return st(N,Pt)||st(N,$r)||st(N,kn)||st(N,Me)||st(N,oe(Pt))?new Zi(N,m,B,E,O):d.error(`Type ${Ae(N)} is not interpolatable.`)}evaluate(a){const d=this.labels,m=this.outputs;if(d.length===1)return m[0].evaluate(a);const B=this.input.evaluate(a);if(B<=d[0])return m[0].evaluate(a);const E=d.length;if(B>=d[E-1])return m[E-1].evaluate(a);const T=eu(d,B),O=Zi.interpolationFactor(this.interpolation,B,d[T],d[T+1]),N=m[T].evaluate(a),q=m[T+1].evaluate(a);switch(this.operator){case"interpolate":return la[this.type.kind](N,q,O);case"interpolate-hcl":return la.color(N,q,O,"hcl");case"interpolate-lab":return la.color(N,q,O,"lab")}}eachChild(a){a(this.input);for(const d of this.outputs)a(d)}outputDefined(){return this.outputs.every((a=>a.outputDefined()))}}function jr(u,a,d,m){const B=m-d,E=u-d;return B===0?0:a===1?E/B:(Math.pow(a,E)-1)/(Math.pow(a,B)-1)}class tu{constructor(a,d){this.type=a,this.args=d}static parse(a,d){if(a.length<2)return d.error("Expectected at least one argument.");let m=null;const B=d.expectedType;B&&B.kind!=="value"&&(m=B);const E=[];for(const O of a.slice(1)){const N=d.parse(O,1+E.length,m,void 0,{typeAnnotation:"omit"});if(!N)return null;m=m||N.type,E.push(N)}if(!m)throw new Error("No output type");const T=B&&E.some((O=>ke(B,O.type)));return new tu(T?sr:m,E)}evaluate(a){let d,m=null,B=0;for(const E of this.args)if(B++,m=E.evaluate(a),m&&m instanceof ka&&!m.available&&(d||(d=m.name),m=null,B===this.args.length&&(m=d)),m!==null)break;return m}eachChild(a){this.args.forEach(a)}outputDefined(){return this.args.every((a=>a.outputDefined()))}}function gA(u,a){return u==="=="||u==="!="?a.kind==="boolean"||a.kind==="string"||a.kind==="number"||a.kind==="null"||a.kind==="value":a.kind==="string"||a.kind==="number"||a.kind==="value"}function uc(u,a,d,m){return m.compare(a,d)===0}function Sa(u,a,d){const m=u!=="=="&&u!=="!=";return class WF{constructor(E,T,O){this.type=qt,this.lhs=E,this.rhs=T,this.collator=O,this.hasUntypedArgument=E.type.kind==="value"||T.type.kind==="value"}static parse(E,T){if(E.length!==3&&E.length!==4)return T.error("Expected two or three arguments.");const O=E[0];let N=T.parse(E[1],1,sr);if(!N)return null;if(!gA(O,N.type))return T.concat(1).error(`"${O}" comparisons are not supported for type '${Ae(N.type)}'.`);let q=T.parse(E[2],2,sr);if(!q)return null;if(!gA(O,q.type))return T.concat(2).error(`"${O}" comparisons are not supported for type '${Ae(q.type)}'.`);if(N.type.kind!==q.type.kind&&N.type.kind!=="value"&&q.type.kind!=="value")return T.error(`Cannot compare types '${Ae(N.type)}' and '${Ae(q.type)}'.`);m&&(N.type.kind==="value"&&q.type.kind!=="value"?N=new oa(q.type,[N]):N.type.kind!=="value"&&q.type.kind==="value"&&(q=new oa(N.type,[q])));let Z=null;if(E.length===4){if(N.type.kind!=="string"&&q.type.kind!=="string"&&N.type.kind!=="value"&&q.type.kind!=="value")return T.error("Cannot use collator to compare non-string types.");if(Z=T.parse(E[3],3,Ur),!Z)return null}return new WF(N,q,Z)}evaluate(E){const T=this.lhs.evaluate(E),O=this.rhs.evaluate(E);if(m&&this.hasUntypedArgument){const N=Vn(T),q=Vn(O);if(N.kind!==q.kind||N.kind!=="string"&&N.kind!=="number")throw new qr(`Expected arguments for "${u}" to be (string, string) or (number, number), but found (${N.kind}, ${q.kind}) instead.`)}if(this.collator&&!m&&this.hasUntypedArgument){const N=Vn(T),q=Vn(O);if(N.kind!=="string"||q.kind!=="string")return a(E,T,O)}return this.collator?d(E,T,O,this.collator.evaluate(E)):a(E,T,O)}eachChild(E){E(this.lhs),E(this.rhs),this.collator&&E(this.collator)}outputDefined(){return!0}}}const Ra=Sa("==",(function(u,a,d){return a===d}),uc),Tu=Sa("!=",(function(u,a,d){return a!==d}),(function(u,a,d,m){return!uc(0,a,d,m)})),mA=Sa("<",(function(u,a,d){return a<d}),(function(u,a,d,m){return m.compare(a,d)<0})),Vs=Sa(">",(function(u,a,d){return a>d}),(function(u,a,d,m){return m.compare(a,d)>0})),ru=Sa("<=",(function(u,a,d){return a<=d}),(function(u,a,d,m){return m.compare(a,d)<=0})),Oo=Sa(">=",(function(u,a,d){return a>=d}),(function(u,a,d,m){return m.compare(a,d)>=0}));class yA{constructor(a,d,m){this.type=Ur,this.locale=m,this.caseSensitive=a,this.diacriticSensitive=d}static parse(a,d){if(a.length!==2)return d.error("Expected one argument.");const m=a[1];if(typeof m!="object"||Array.isArray(m))return d.error("Collator options argument must be an object.");const B=d.parse(m["case-sensitive"]!==void 0&&m["case-sensitive"],1,qt);if(!B)return null;const E=d.parse(m["diacritic-sensitive"]!==void 0&&m["diacritic-sensitive"],1,qt);if(!E)return null;let T=null;return m.locale&&(T=d.parse(m.locale,1,Zt),!T)?null:new yA(B,E,T)}evaluate(a){return new Ui(this.caseSensitive.evaluate(a),this.diacriticSensitive.evaluate(a),this.locale?this.locale.evaluate(a):null)}eachChild(a){a(this.caseSensitive),a(this.diacriticSensitive),this.locale&&a(this.locale)}outputDefined(){return!1}}class Ss{constructor(a,d,m,B,E){this.type=Zt,this.number=a,this.locale=d,this.currency=m,this.minFractionDigits=B,this.maxFractionDigits=E}static parse(a,d){if(a.length!==3)return d.error("Expected two arguments.");const m=d.parse(a[1],1,Pt);if(!m)return null;const B=a[2];if(typeof B!="object"||Array.isArray(B))return d.error("NumberFormat options argument must be an object.");let E=null;if(B.locale&&(E=d.parse(B.locale,1,Zt),!E))return null;let T=null;if(B.currency&&(T=d.parse(B.currency,1,Zt),!T))return null;let O=null;if(B["min-fraction-digits"]&&(O=d.parse(B["min-fraction-digits"],1,Pt),!O))return null;let N=null;return B["max-fraction-digits"]&&(N=d.parse(B["max-fraction-digits"],1,Pt),!N)?null:new Ss(m,E,T,O,N)}evaluate(a){return new Intl.NumberFormat(this.locale?this.locale.evaluate(a):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(a):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(a):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(a):void 0}).format(this.number.evaluate(a))}eachChild(a){a(this.number),this.locale&&a(this.locale),this.currency&&a(this.currency),this.minFractionDigits&&a(this.minFractionDigits),this.maxFractionDigits&&a(this.maxFractionDigits)}outputDefined(){return!1}}class jl{constructor(a){this.type=Rr,this.sections=a}static parse(a,d){if(a.length<2)return d.error("Expected at least one argument.");const m=a[1];if(!Array.isArray(m)&&typeof m=="object")return d.error("First argument must be an image or text section.");const B=[];let E=!1;for(let T=1;T<=a.length-1;++T){const O=a[T];if(E&&typeof O=="object"&&!Array.isArray(O)){E=!1;let N=null;if(O["font-scale"]&&(N=d.parse(O["font-scale"],1,Pt),!N))return null;let q=null;if(O["text-font"]&&(q=d.parse(O["text-font"],1,oe(Zt)),!q))return null;let Z=null;if(O["text-color"]&&(Z=d.parse(O["text-color"],1,$r),!Z))return null;const Y=B[B.length-1];Y.scale=N,Y.font=q,Y.textColor=Z}else{const N=d.parse(a[T],1,sr);if(!N)return null;const q=N.type.kind;if(q!=="string"&&q!=="value"&&q!=="null"&&q!=="resolvedImage")return d.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");E=!0,B.push({content:N,scale:null,font:null,textColor:null})}}return new jl(B)}evaluate(a){return new vi(this.sections.map((d=>{const m=d.content.evaluate(a);return Vn(m)===Gr?new WA("",m,null,null,null):new WA(Hs(m),null,d.scale?d.scale.evaluate(a):null,d.font?d.font.evaluate(a).join(","):null,d.textColor?d.textColor.evaluate(a):null)})))}eachChild(a){for(const d of this.sections)a(d.content),d.scale&&a(d.scale),d.font&&a(d.font),d.textColor&&a(d.textColor)}outputDefined(){return!1}}class vA{constructor(a){this.type=Gr,this.input=a}static parse(a,d){if(a.length!==2)return d.error("Expected two arguments.");const m=d.parse(a[1],1,Zt);return m?new vA(m):d.error("No image name provided.")}evaluate(a){const d=this.input.evaluate(a),m=ka.fromString(d);return m&&a.availableImages&&(m.available=a.availableImages.indexOf(d)>-1),m}eachChild(a){a(this.input)}outputDefined(){return!1}}class Aa{constructor(a){this.type=Pt,this.input=a}static parse(a,d){if(a.length!==2)return d.error(`Expected 1 argument, but found ${a.length-1} instead.`);const m=d.parse(a[1],1);return m?m.type.kind!=="array"&&m.type.kind!=="string"&&m.type.kind!=="value"?d.error(`Expected argument of type string or array, but found ${Ae(m.type)} instead.`):new Aa(m):null}evaluate(a){const d=this.input.evaluate(a);if(typeof d=="string")return[...d].length;if(Array.isArray(d))return d.length;throw new qr(`Expected value to be of type string or array, but found ${Ae(Vn(d))} instead.`)}eachChild(a){a(this.input)}outputDefined(){return!1}}const pa=8192;function po(u,a){const d=(180+u[0])/360,m=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+u[1]*Math.PI/360)))/360,B=Math.pow(2,a.z);return[Math.round(d*B*pa),Math.round(m*B*pa)]}function Do(u,a){const d=Math.pow(2,a.z);return[(B=(u[0]/pa+a.x)/d,360*B-180),(m=(u[1]/pa+a.y)/d,360/Math.PI*Math.atan(Math.exp((180-360*m)*Math.PI/180))-90)];var m,B}function go(u,a){u[0]=Math.min(u[0],a[0]),u[1]=Math.min(u[1],a[1]),u[2]=Math.max(u[2],a[0]),u[3]=Math.max(u[3],a[1])}function Es(u,a){return!(u[0]<=a[0]||u[2]>=a[2]||u[1]<=a[1]||u[3]>=a[3])}function _n(u,a,d){const m=u[0]-a[0],B=u[1]-a[1],E=u[0]-d[0],T=u[1]-d[1];return m*T-E*B==0&&m*E<=0&&B*T<=0}function mo(u,a,d,m){return(B=[m[0]-d[0],m[1]-d[1]])[0]*(E=[a[0]-u[0],a[1]-u[1]])[1]-B[1]*E[0]!=0&&!(!ll(u,a,d,m)||!ll(d,m,u,a));var B,E}function nu(u,a,d){for(const m of d)for(let B=0;B<m.length-1;++B)if(mo(u,a,m[B],m[B+1]))return!0;return!1}function sl(u,a,d=!1){let m=!1;for(const O of a)for(let N=0;N<O.length-1;N++){if(_n(u,O[N],O[N+1]))return d;(E=O[N])[1]>(B=u)[1]!=(T=O[N+1])[1]>B[1]&&B[0]<(T[0]-E[0])*(B[1]-E[1])/(T[1]-E[1])+E[0]&&(m=!m)}var B,E,T;return m}function Kl(u,a){for(const d of a)if(sl(u,d))return!0;return!1}function ol(u,a){for(const d of u)if(!sl(d,a))return!1;for(let d=0;d<u.length-1;++d)if(nu(u[d],u[d+1],a))return!1;return!0}function Nc(u,a){for(const d of a)if(ol(u,d))return!0;return!1}function ll(u,a,d,m){const B=m[0]-d[0],E=m[1]-d[1],T=(u[0]-d[0])*E-B*(u[1]-d[1]),O=(a[0]-d[0])*E-B*(a[1]-d[1]);return T>0&&O<0||T<0&&O>0}function Iu(u,a,d){const m=[];for(let B=0;B<u.length;B++){const E=[];for(let T=0;T<u[B].length;T++){const O=po(u[B][T],d);go(a,O),E.push(O)}m.push(E)}return m}function j(u,a,d){const m=[];for(let B=0;B<u.length;B++){const E=Iu(u[B],a,d);m.push(E)}return m}function fe(u,a,d,m){if(u[0]<d[0]||u[0]>d[2]){const B=.5*m;let E=u[0]-d[0]>B?-m:d[0]-u[0]>B?m:0;E===0&&(E=u[0]-d[2]>B?-m:d[2]-u[0]>B?m:0),u[0]+=E}go(a,u)}function Qe(u,a,d,m){const B=Math.pow(2,m.z)*pa,E=[m.x*pa,m.y*pa],T=[];for(const O of u)for(const N of O){const q=[N.x+E[0],N.y+E[1]];fe(q,a,d,B),T.push(q)}return T}function rt(u,a,d,m){const B=Math.pow(2,m.z)*pa,E=[m.x*pa,m.y*pa],T=[];for(const N of u){const q=[];for(const Z of N){const Y=[Z.x+E[0],Z.y+E[1]];go(a,Y),q.push(Y)}T.push(q)}if(a[2]-a[0]<=B/2){(O=a)[0]=O[1]=1/0,O[2]=O[3]=-1/0;for(const N of T)for(const q of N)fe(q,a,d,B)}var O;return T}class lt{constructor(a,d){this.type=qt,this.geojson=a,this.geometries=d}static parse(a,d){if(a.length!==2)return d.error(`'within' expression requires exactly one argument, but found ${a.length-1} instead.`);if(nl(a[1])){const m=a[1];if(m.type==="FeatureCollection"){const B=[];for(const E of m.features){const{type:T,coordinates:O}=E.geometry;T==="Polygon"&&B.push(O),T==="MultiPolygon"&&B.push(...O)}if(B.length)return new lt(m,{type:"MultiPolygon",coordinates:B})}else if(m.type==="Feature"){const B=m.geometry.type;if(B==="Polygon"||B==="MultiPolygon")return new lt(m,m.geometry)}else if(m.type==="Polygon"||m.type==="MultiPolygon")return new lt(m,m)}return d.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(a){if(a.geometry()!=null&&a.canonicalID()!=null){if(a.geometryType()==="Point")return(function(d,m){const B=[1/0,1/0,-1/0,-1/0],E=[1/0,1/0,-1/0,-1/0],T=d.canonicalID();if(m.type==="Polygon"){const O=Iu(m.coordinates,E,T),N=Qe(d.geometry(),B,E,T);if(!Es(B,E))return!1;for(const q of N)if(!sl(q,O))return!1}if(m.type==="MultiPolygon"){const O=j(m.coordinates,E,T),N=Qe(d.geometry(),B,E,T);if(!Es(B,E))return!1;for(const q of N)if(!Kl(q,O))return!1}return!0})(a,this.geometries);if(a.geometryType()==="LineString")return(function(d,m){const B=[1/0,1/0,-1/0,-1/0],E=[1/0,1/0,-1/0,-1/0],T=d.canonicalID();if(m.type==="Polygon"){const O=Iu(m.coordinates,E,T),N=rt(d.geometry(),B,E,T);if(!Es(B,E))return!1;for(const q of N)if(!ol(q,O))return!1}if(m.type==="MultiPolygon"){const O=j(m.coordinates,E,T),N=rt(d.geometry(),B,E,T);if(!Es(B,E))return!1;for(const q of N)if(!Nc(q,O))return!1}return!0})(a,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}let Ot=class{constructor(u=[],a=((d,m)=>d<m?-1:d>m?1:0)){if(this.data=u,this.length=this.data.length,this.compare=a,this.length>0)for(let d=(this.length>>1)-1;d>=0;d--)this._down(d)}push(u){this.data.push(u),this._up(this.length++)}pop(){if(this.length===0)return;const u=this.data[0],a=this.data.pop();return--this.length>0&&(this.data[0]=a,this._down(0)),u}peek(){return this.data[0]}_up(u){const{data:a,compare:d}=this,m=a[u];for(;u>0;){const B=u-1>>1,E=a[B];if(d(m,E)>=0)break;a[u]=E,u=B}a[u]=m}_down(u){const{data:a,compare:d}=this,m=this.length>>1,B=a[u];for(;u<m;){let E=1+(u<<1);const T=E+1;if(T<this.length&&d(a[T],a[E])<0&&(E=T),d(a[E],B)>=0)break;a[u]=a[E],u=E}a[u]=B}};function jt(u,a,d,m,B){yr(u,a,d,m||u.length-1,B||tn)}function yr(u,a,d,m,B){for(;m>d;){if(m-d>600){var E=m-d+1,T=a-d+1,O=Math.log(E),N=.5*Math.exp(2*O/3),q=.5*Math.sqrt(O*N*(E-N)/E)*(T-E/2<0?-1:1);yr(u,a,Math.max(d,Math.floor(a-T*N/E+q)),Math.min(m,Math.floor(a+(E-T)*N/E+q)),B)}var Z=u[a],Y=d,ae=m;for(wr(u,d,a),B(u[m],Z)>0&&wr(u,d,m);Y<ae;){for(wr(u,Y,ae),Y++,ae--;B(u[Y],Z)<0;)Y++;for(;B(u[ae],Z)>0;)ae--}B(u[d],Z)===0?wr(u,d,ae):wr(u,++ae,m),ae<=a&&(d=ae+1),a<=ae&&(m=ae-1)}}function wr(u,a,d){var m=u[a];u[a]=u[d],u[d]=m}function tn(u,a){return u<a?-1:u>a?1:0}function An(u,a){if(u.length<=1)return[u];const d=[];let m,B;for(const E of u){const T=Mi(E);T!==0&&(E.area=Math.abs(T),B===void 0&&(B=T<0),B===T<0?(m&&d.push(m),m=[E]):m.push(E))}if(m&&d.push(m),a>1)for(let E=0;E<d.length;E++)d[E].length<=a||(jt(d[E],a,1,d[E].length-1,zn),d[E]=d[E].slice(0,a));return d}function zn(u,a){return a.area-u.area}function Mi(u){let a=0;for(let d,m,B=0,E=u.length,T=E-1;B<E;T=B++)d=u[B],m=u[T],a+=(m.x-d.x)*(d.y+m.y);return a}const zi=1/298.257223563,si=zi*(2-zi),ua=Math.PI/180;class Hi{constructor(a){const d=6378.137*ua*1e3,m=Math.cos(a*ua),B=1/(1-si*(1-m*m)),E=Math.sqrt(B);this.kx=d*E*m,this.ky=d*E*B*(1-si)}distance(a,d){const m=this.wrap(a[0]-d[0])*this.kx,B=(a[1]-d[1])*this.ky;return Math.sqrt(m*m+B*B)}pointOnLine(a,d){let m,B,E,T,O=1/0;for(let N=0;N<a.length-1;N++){let q=a[N][0],Z=a[N][1],Y=this.wrap(a[N+1][0]-q)*this.kx,ae=(a[N+1][1]-Z)*this.ky,he=0;Y===0&&ae===0||(he=(this.wrap(d[0]-q)*this.kx*Y+(d[1]-Z)*this.ky*ae)/(Y*Y+ae*ae),he>1?(q=a[N+1][0],Z=a[N+1][1]):he>0&&(q+=Y/this.kx*he,Z+=ae/this.ky*he)),Y=this.wrap(d[0]-q)*this.kx,ae=(d[1]-Z)*this.ky;const ye=Y*Y+ae*ae;ye<O&&(O=ye,m=q,B=Z,E=N,T=he)}return{point:[m,B],index:E,t:Math.max(0,Math.min(1,T))}}wrap(a){for(;a<-180;)a+=360;for(;a>180;)a-=360;return a}}function Ea(u,a){return a[0]-u[0]}function yo(u){return u[1]-u[0]+1}function ga(u,a){return u[1]>=u[0]&&u[1]<a}function ko(u,a){if(u[0]>u[1])return[null,null];const d=yo(u);if(a){if(d===2)return[u,null];const B=Math.floor(d/2);return[[u[0],u[0]+B],[u[0]+B,u[1]]]}if(d===1)return[u,null];const m=Math.floor(d/2)-1;return[[u[0],u[0]+m],[u[0]+m+1,u[1]]]}function iu(u,a){if(!ga(a,u.length))return[1/0,1/0,-1/0,-1/0];const d=[1/0,1/0,-1/0,-1/0];for(let m=a[0];m<=a[1];++m)go(d,u[m]);return d}function _A(u){const a=[1/0,1/0,-1/0,-1/0];for(const d of u)for(const m of d)go(a,m);return a}function qs(u){return u[0]!==-1/0&&u[1]!==-1/0&&u[2]!==1/0&&u[3]!==1/0}function Gs(u,a,d){if(!qs(u)||!qs(a))return NaN;let m=0,B=0;return u[2]<a[0]&&(m=a[0]-u[2]),u[0]>a[2]&&(m=u[0]-a[2]),u[1]>a[3]&&(B=u[1]-a[3]),u[3]<a[1]&&(B=a[1]-u[3]),d.distance([0,0],[m,B])}function Xs(u,a,d){const m=d.pointOnLine(a,u);return d.distance(u,m.point)}function Qo(u,a,d,m,B){const E=Math.min(Xs(u,[d,m],B),Xs(a,[d,m],B)),T=Math.min(Xs(d,[u,a],B),Xs(m,[u,a],B));return Math.min(E,T)}function Ta(u,a,d,m,B){if(!ga(a,u.length)||!ga(m,d.length))return 1/0;let E=1/0;for(let T=a[0];T<a[1];++T){const O=u[T],N=u[T+1];for(let q=m[0];q<m[1];++q){const Z=d[q],Y=d[q+1];if(mo(O,N,Z,Y))return 0;E=Math.min(E,Qo(O,N,Z,Y,B))}}return E}function ei(u,a,d,m,B){if(!ga(a,u.length)||!ga(m,d.length))return NaN;let E=1/0;for(let T=a[0];T<=a[1];++T)for(let O=m[0];O<=m[1];++O)if(E=Math.min(E,B.distance(u[T],d[O])),E===0)return E;return E}function wA(u,a,d){if(sl(u,a,!0))return 0;let m=1/0;for(const B of a){const E=B[0],T=B[B.length-1];if(E!==T&&(m=Math.min(m,Xs(u,[T,E],d)),m===0))return m;const O=d.pointOnLine(B,u);if(m=Math.min(m,d.distance(u,O.point)),m===0)return m}return m}function ln(u,a,d,m){if(!ga(a,u.length))return NaN;for(let E=a[0];E<=a[1];++E)if(sl(u[E],d,!0))return 0;let B=1/0;for(let E=a[0];E<a[1];++E){const T=u[E],O=u[E+1];for(const N of d)for(let q=0,Z=N.length,Y=Z-1;q<Z;Y=q++){const ae=N[Y],he=N[q];if(mo(T,O,ae,he))return 0;B=Math.min(B,Qo(T,O,ae,he,m))}}return B}function $s(u,a){for(const d of u)for(const m of d)if(sl(m,a,!0))return!0;return!1}function gn(u,a,d,m=1/0){const B=_A(u),E=_A(a);if(m!==1/0&&Gs(B,E,d)>=m)return m;if(Es(B,E)){if($s(u,a))return 0}else if($s(a,u))return 0;let T=1/0;for(const O of u)for(let N=0,q=O.length,Z=q-1;N<q;Z=N++){const Y=O[Z],ae=O[N];for(const he of a)for(let ye=0,Be=he.length,Re=Be-1;ye<Be;Re=ye++){const Ge=he[Re],At=he[ye];if(mo(Y,ae,Ge,At))return 0;T=Math.min(T,Qo(Y,ae,Ge,At,d))}}return T}function Tn(u,a,d,m,B,E){if(!E)return;const T=Gs(iu(m,E),B,d);T<a&&u.push([T,E,[0,0]])}function vo(u,a,d,m,B,E,T){if(!E||!T)return;const O=Gs(iu(m,E),iu(B,T),d);O<a&&u.push([O,E,T])}function Vl(u,a,d,m,B=1/0){let E=Math.min(m.distance(u[0],d[0][0]),B);if(E===0)return E;const T=new Ot([[0,[0,u.length-1],[0,0]]],Ea),O=_A(d);for(;T.length>0;){const N=T.pop();if(N[0]>=E)continue;const q=N[1],Z=a?50:100;if(yo(q)<=Z){if(!ga(q,u.length))return NaN;if(a){const Y=ln(u,q,d,m);if(isNaN(Y)||Y===0)return Y;E=Math.min(E,Y)}else for(let Y=q[0];Y<=q[1];++Y){const ae=wA(u[Y],d,m);if(E=Math.min(E,ae),E===0)return 0}}else{const Y=ko(q,a);Tn(T,E,m,u,O,Y[0]),Tn(T,E,m,u,O,Y[1])}}return E}function za(u,a,d,m,B,E=1/0){let T=Math.min(E,B.distance(u[0],d[0]));if(T===0)return T;const O=new Ot([[0,[0,u.length-1],[0,d.length-1]]],Ea);for(;O.length>0;){const N=O.pop();if(N[0]>=T)continue;const q=N[1],Z=N[2],Y=a?50:100,ae=m?50:100;if(yo(q)<=Y&&yo(Z)<=ae){if(!ga(q,u.length)&&ga(Z,d.length))return NaN;let he;if(a&&m)he=Ta(u,q,d,Z,B),T=Math.min(T,he);else if(a&&!m){const ye=u.slice(q[0],q[1]+1);for(let Be=Z[0];Be<=Z[1];++Be)if(he=Xs(d[Be],ye,B),T=Math.min(T,he),T===0)return T}else if(!a&&m){const ye=d.slice(Z[0],Z[1]+1);for(let Be=q[0];Be<=q[1];++Be)if(he=Xs(u[Be],ye,B),T=Math.min(T,he),T===0)return T}else he=ei(u,q,d,Z,B),T=Math.min(T,he)}else{const he=ko(q,a),ye=ko(Z,m);vo(O,T,B,u,d,he[0],ye[0]),vo(O,T,B,u,d,he[0],ye[1]),vo(O,T,B,u,d,he[1],ye[0]),vo(O,T,B,u,d,he[1],ye[1])}}return T}function Zs(u){return u.type==="MultiPolygon"?u.coordinates.map((a=>({type:"Polygon",coordinates:a}))):u.type==="MultiLineString"?u.coordinates.map((a=>({type:"LineString",coordinates:a}))):u.type==="MultiPoint"?u.coordinates.map((a=>({type:"Point",coordinates:a}))):[u]}class ss{constructor(a,d){this.type=Pt,this.geojson=a,this.geometries=d}static parse(a,d){if(a.length!==2)return d.error(`'distance' expression requires exactly one argument, but found ${a.length-1} instead.`);if(nl(a[1])){const m=a[1];if(m.type==="FeatureCollection")return new ss(m,m.features.map((B=>Zs(B.geometry))).flat());if(m.type==="Feature")return new ss(m,Zs(m.geometry));if("type"in m&&"coordinates"in m)return new ss(m,Zs(m))}return d.error("'distance' expression requires valid geojson object that contains polygon geometry type.")}evaluate(a){if(a.geometry()!=null&&a.canonicalID()!=null){if(a.geometryType()==="Point")return(function(d,m){const B=d.geometry(),E=B.flat().map((N=>Do([N.x,N.y],d.canonical)));if(B.length===0)return NaN;const T=new Hi(E[0][1]);let O=1/0;for(const N of m){switch(N.type){case"Point":O=Math.min(O,za(E,!1,[N.coordinates],!1,T,O));break;case"LineString":O=Math.min(O,za(E,!1,N.coordinates,!0,T,O));break;case"Polygon":O=Math.min(O,Vl(E,!1,N.coordinates,T,O))}if(O===0)return O}return O})(a,this.geometries);if(a.geometryType()==="LineString")return(function(d,m){const B=d.geometry(),E=B.flat().map((N=>Do([N.x,N.y],d.canonical)));if(B.length===0)return NaN;const T=new Hi(E[0][1]);let O=1/0;for(const N of m){switch(N.type){case"Point":O=Math.min(O,za(E,!0,[N.coordinates],!1,T,O));break;case"LineString":O=Math.min(O,za(E,!0,N.coordinates,!0,T,O));break;case"Polygon":O=Math.min(O,Vl(E,!0,N.coordinates,T,O))}if(O===0)return O}return O})(a,this.geometries);if(a.geometryType()==="Polygon")return(function(d,m){const B=d.geometry();if(B.length===0||B[0].length===0)return NaN;const E=An(B,0).map((N=>N.map((q=>q.map((Z=>Do([Z.x,Z.y],d.canonical))))))),T=new Hi(E[0][0][0][1]);let O=1/0;for(const N of m)for(const q of E){switch(N.type){case"Point":O=Math.min(O,Vl([N.coordinates],!1,q,T,O));break;case"LineString":O=Math.min(O,Vl(N.coordinates,!0,q,T,O));break;case"Polygon":O=Math.min(O,gn(q,N.coordinates,T,O))}if(O===0)return O}return O})(a,this.geometries)}return NaN}eachChild(){}outputDefined(){return!0}}const Al={"==":Ra,"!=":Tu,">":Vs,"<":mA,">=":Oo,"<=":ru,array:oa,at:YA,boolean:oa,case:Bs,coalesce:tu,collator:yA,format:jl,image:vA,in:Qa,"index-of":al,interpolate:Zi,"interpolate-hcl":Zi,"interpolate-lab":Zi,length:Aa,let:js,literal:$i,match:JA,number:oa,"number-format":Ss,object:oa,slice:Po,step:Hl,string:oa,"to-boolean":is,"to-color":is,"to-number":is,"to-string":is,var:Un,within:lt,distance:ss};class ji{constructor(a,d,m,B){this.name=a,this.type=d,this._evaluate=m,this.args=B}evaluate(a){return this._evaluate(a,this.args)}eachChild(a){this.args.forEach(a)}outputDefined(){return!1}static parse(a,d){const m=a[0],B=ji.definitions[m];if(!B)return d.error(`Unknown expression "${m}". If you wanted a literal array, use ["literal", [...]].`,0);const E=Array.isArray(B)?B[0]:B.type,T=Array.isArray(B)?[[B[1],B[2]]]:B.overloads,O=T.filter((([q])=>!Array.isArray(q)||q.length===a.length-1));let N=null;for(const[q,Z]of O){N=new ui(d.registry,Ts,d.path,null,d.scope);const Y=[];let ae=!1;for(let he=1;he<a.length;he++){const ye=a[he],Be=Array.isArray(q)?q[he-1]:q.type,Re=N.parse(ye,1+Y.length,Be);if(!Re){ae=!0;break}Y.push(Re)}if(!ae)if(Array.isArray(q)&&q.length!==Y.length)N.error(`Expected ${q.length} arguments, but found ${Y.length} instead.`);else{for(let he=0;he<Y.length;he++){const ye=Array.isArray(q)?q[he]:q.type,Be=Y[he];N.concat(he+1).checkSubtype(ye,Be.type)}if(N.errors.length===0)return new ji(m,E,Z,Y)}}if(O.length===1)d.errors.push(...N.errors);else{const q=(O.length?O:T).map((([Y])=>{return ae=Y,Array.isArray(ae)?`(${ae.map(Ae).join(", ")})`:`(${Ae(ae.type)}...)`;var ae})).join(" | "),Z=[];for(let Y=1;Y<a.length;Y++){const ae=d.parse(a[Y],1+Z.length);if(!ae)return null;Z.push(Ae(ae.type))}d.error(`Expected arguments of type ${q}, but found (${Z.join(", ")}) instead.`)}return null}static register(a,d){ji.definitions=d;for(const m in d)a[m]=ji}}function ul(u,[a,d,m,B]){a=a.evaluate(u),d=d.evaluate(u),m=m.evaluate(u);const E=B?B.evaluate(u):1,T=rl(a,d,m,E);if(T)throw new qr(T);return new bn(a/255,d/255,m/255,E,!1)}function Ga(u,a){return u in a}function Ha(u,a){const d=a[u];return d===void 0?null:d}function Xa(u){return{type:u}}function Ts(u){if(u instanceof Un)return Ts(u.boundExpression);if(u instanceof ji&&u.name==="error"||u instanceof yA||u instanceof lt||u instanceof ss)return!1;const a=u instanceof is||u instanceof oa;let d=!0;return u.eachChild((m=>{d=a?d&&Ts(m):d&&m instanceof $i})),!!d&&Ws(u)&&cl(u,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function Ws(u){if(u instanceof ji&&(u.name==="get"&&u.args.length===1||u.name==="feature-state"||u.name==="has"&&u.args.length===1||u.name==="properties"||u.name==="geometry-type"||u.name==="id"||/^filter-/.test(u.name))||u instanceof lt||u instanceof ss)return!1;let a=!0;return u.eachChild((d=>{a&&!Ws(d)&&(a=!1)})),a}function No(u){if(u instanceof ji&&u.name==="feature-state")return!1;let a=!0;return u.eachChild((d=>{a&&!No(d)&&(a=!1)})),a}function cl(u,a){if(u instanceof ji&&a.indexOf(u.name)>=0)return!1;let d=!0;return u.eachChild((m=>{d&&!cl(m,a)&&(d=!1)})),d}function Ci(u){return{result:"success",value:u}}function ql(u){return{result:"error",value:u}}function os(u){return u["property-type"]==="data-driven"||u["property-type"]==="cross-faded-data-driven"}function Ro(u){return!!u.expression&&u.expression.parameters.indexOf("zoom")>-1}function ma(u){return!!u.expression&&u.expression.interpolated}function dn(u){return u instanceof Number?"number":u instanceof String?"string":u instanceof Boolean?"boolean":Array.isArray(u)?"array":u===null?"null":typeof u}function Gl(u){return typeof u=="object"&&u!==null&&!Array.isArray(u)}function Fu(u){return u}function hl(u,a){const d=a.type==="color",m=u.stops&&typeof u.stops[0][0]=="object",B=m||!(m||u.property!==void 0),E=u.type||(ma(a)?"exponential":"interval");if(d||a.type==="padding"){const Z=d?bn.parse:Li.parse;(u=cr({},u)).stops&&(u.stops=u.stops.map((Y=>[Y[0],Z(Y[1])]))),u.default=Z(u.default?u.default:a.default)}if(u.colorSpace&&(T=u.colorSpace)!=="rgb"&&T!=="hcl"&&T!=="lab")throw new Error(`Unknown color space: "${u.colorSpace}"`);var T;let O,N,q;if(E==="exponential")O=Fs;else if(E==="interval")O=fl;else if(E==="categorical"){O=zo,N=Object.create(null);for(const Z of u.stops)N[Z[0]]=Z[1];q=typeof u.stops[0][0]}else{if(E!=="identity")throw new Error(`Unknown function type "${E}"`);O=dl}if(m){const Z={},Y=[];for(let ye=0;ye<u.stops.length;ye++){const Be=u.stops[ye],Re=Be[0].zoom;Z[Re]===void 0&&(Z[Re]={zoom:Re,type:u.type,property:u.property,default:u.default,stops:[]},Y.push(Re)),Z[Re].stops.push([Be[0].value,Be[1]])}const ae=[];for(const ye of Y)ae.push([Z[ye].zoom,hl(Z[ye],a)]);const he={name:"linear"};return{kind:"composite",interpolationType:he,interpolationFactor:Zi.interpolationFactor.bind(void 0,he),zoomStops:ae.map((ye=>ye[0])),evaluate:({zoom:ye},Be)=>Fs({stops:ae,base:u.base},a,ye).evaluate(ye,Be)}}if(B){const Z=E==="exponential"?{name:"exponential",base:u.base!==void 0?u.base:1}:null;return{kind:"camera",interpolationType:Z,interpolationFactor:Zi.interpolationFactor.bind(void 0,Z),zoomStops:u.stops.map((Y=>Y[0])),evaluate:({zoom:Y})=>O(u,a,Y,N,q)}}return{kind:"source",evaluate(Z,Y){const ae=Y&&Y.properties?Y.properties[u.property]:void 0;return ae===void 0?Is(u.default,a.default):O(u,a,ae,N,q)}}}function Is(u,a,d){return u!==void 0?u:a!==void 0?a:d!==void 0?d:void 0}function zo(u,a,d,m,B){return Is(typeof d===B?m[d]:void 0,u.default,a.default)}function fl(u,a,d){if(dn(d)!=="number")return Is(u.default,a.default);const m=u.stops.length;if(m===1||d<=u.stops[0][0])return u.stops[0][1];if(d>=u.stops[m-1][0])return u.stops[m-1][1];const B=eu(u.stops.map((E=>E[0])),d);return u.stops[B][1]}function Fs(u,a,d){const m=u.base!==void 0?u.base:1;if(dn(d)!=="number")return Is(u.default,a.default);const B=u.stops.length;if(B===1||d<=u.stops[0][0])return u.stops[0][1];if(d>=u.stops[B-1][0])return u.stops[B-1][1];const E=eu(u.stops.map((Z=>Z[0])),d),T=(function(Z,Y,ae,he){const ye=he-ae,Be=Z-ae;return ye===0?0:Y===1?Be/ye:(Math.pow(Y,Be)-1)/(Math.pow(Y,ye)-1)})(d,m,u.stops[E][0],u.stops[E+1][0]),O=u.stops[E][1],N=u.stops[E+1][1],q=la[a.type]||Fu;return typeof O.evaluate=="function"?{evaluate(...Z){const Y=O.evaluate.apply(void 0,Z),ae=N.evaluate.apply(void 0,Z);if(Y!==void 0&&ae!==void 0)return q(Y,ae,T,u.colorSpace)}}:q(O,N,T,u.colorSpace)}function dl(u,a,d){switch(a.type){case"color":d=bn.parse(d);break;case"formatted":d=vi.fromString(d.toString());break;case"resolvedImage":d=ka.fromString(d.toString());break;case"padding":d=Li.parse(d);break;default:dn(d)===a.type||a.type==="enum"&&a.values[d]||(d=void 0)}return Is(d,u.default,a.default)}ji.register(Al,{error:[{kind:"error"},[Zt],(u,[a])=>{throw new qr(a.evaluate(u))}],typeof:[Zt,[sr],(u,[a])=>Ae(Vn(a.evaluate(u)))],"to-rgba":[oe(Pt,4),[$r],(u,[a])=>{const[d,m,B,E]=a.evaluate(u).rgb;return[255*d,255*m,255*B,E]}],rgb:[$r,[Pt,Pt,Pt],ul],rgba:[$r,[Pt,Pt,Pt,Pt],ul],has:{type:qt,overloads:[[[Zt],(u,[a])=>Ga(a.evaluate(u),u.properties())],[[Zt,_r],(u,[a,d])=>Ga(a.evaluate(u),d.evaluate(u))]]},get:{type:sr,overloads:[[[Zt],(u,[a])=>Ha(a.evaluate(u),u.properties())],[[Zt,_r],(u,[a,d])=>Ha(a.evaluate(u),d.evaluate(u))]]},"feature-state":[sr,[Zt],(u,[a])=>Ha(a.evaluate(u),u.featureState||{})],properties:[_r,[],u=>u.properties()],"geometry-type":[Zt,[],u=>u.geometryType()],id:[sr,[],u=>u.id()],zoom:[Pt,[],u=>u.globals.zoom],"heatmap-density":[Pt,[],u=>u.globals.heatmapDensity||0],"line-progress":[Pt,[],u=>u.globals.lineProgress||0],accumulated:[sr,[],u=>u.globals.accumulated===void 0?null:u.globals.accumulated],"+":[Pt,Xa(Pt),(u,a)=>{let d=0;for(const m of a)d+=m.evaluate(u);return d}],"*":[Pt,Xa(Pt),(u,a)=>{let d=1;for(const m of a)d*=m.evaluate(u);return d}],"-":{type:Pt,overloads:[[[Pt,Pt],(u,[a,d])=>a.evaluate(u)-d.evaluate(u)],[[Pt],(u,[a])=>-a.evaluate(u)]]},"/":[Pt,[Pt,Pt],(u,[a,d])=>a.evaluate(u)/d.evaluate(u)],"%":[Pt,[Pt,Pt],(u,[a,d])=>a.evaluate(u)%d.evaluate(u)],ln2:[Pt,[],()=>Math.LN2],pi:[Pt,[],()=>Math.PI],e:[Pt,[],()=>Math.E],"^":[Pt,[Pt,Pt],(u,[a,d])=>Math.pow(a.evaluate(u),d.evaluate(u))],sqrt:[Pt,[Pt],(u,[a])=>Math.sqrt(a.evaluate(u))],log10:[Pt,[Pt],(u,[a])=>Math.log(a.evaluate(u))/Math.LN10],ln:[Pt,[Pt],(u,[a])=>Math.log(a.evaluate(u))],log2:[Pt,[Pt],(u,[a])=>Math.log(a.evaluate(u))/Math.LN2],sin:[Pt,[Pt],(u,[a])=>Math.sin(a.evaluate(u))],cos:[Pt,[Pt],(u,[a])=>Math.cos(a.evaluate(u))],tan:[Pt,[Pt],(u,[a])=>Math.tan(a.evaluate(u))],asin:[Pt,[Pt],(u,[a])=>Math.asin(a.evaluate(u))],acos:[Pt,[Pt],(u,[a])=>Math.acos(a.evaluate(u))],atan:[Pt,[Pt],(u,[a])=>Math.atan(a.evaluate(u))],min:[Pt,Xa(Pt),(u,a)=>Math.min(...a.map((d=>d.evaluate(u))))],max:[Pt,Xa(Pt),(u,a)=>Math.max(...a.map((d=>d.evaluate(u))))],abs:[Pt,[Pt],(u,[a])=>Math.abs(a.evaluate(u))],round:[Pt,[Pt],(u,[a])=>{const d=a.evaluate(u);return d<0?-Math.round(-d):Math.round(d)}],floor:[Pt,[Pt],(u,[a])=>Math.floor(a.evaluate(u))],ceil:[Pt,[Pt],(u,[a])=>Math.ceil(a.evaluate(u))],"filter-==":[qt,[Zt,sr],(u,[a,d])=>u.properties()[a.value]===d.value],"filter-id-==":[qt,[sr],(u,[a])=>u.id()===a.value],"filter-type-==":[qt,[Zt],(u,[a])=>u.geometryType()===a.value],"filter-<":[qt,[Zt,sr],(u,[a,d])=>{const m=u.properties()[a.value],B=d.value;return typeof m==typeof B&&m<B}],"filter-id-<":[qt,[sr],(u,[a])=>{const d=u.id(),m=a.value;return typeof d==typeof m&&d<m}],"filter->":[qt,[Zt,sr],(u,[a,d])=>{const m=u.properties()[a.value],B=d.value;return typeof m==typeof B&&m>B}],"filter-id->":[qt,[sr],(u,[a])=>{const d=u.id(),m=a.value;return typeof d==typeof m&&d>m}],"filter-<=":[qt,[Zt,sr],(u,[a,d])=>{const m=u.properties()[a.value],B=d.value;return typeof m==typeof B&&m<=B}],"filter-id-<=":[qt,[sr],(u,[a])=>{const d=u.id(),m=a.value;return typeof d==typeof m&&d<=m}],"filter->=":[qt,[Zt,sr],(u,[a,d])=>{const m=u.properties()[a.value],B=d.value;return typeof m==typeof B&&m>=B}],"filter-id->=":[qt,[sr],(u,[a])=>{const d=u.id(),m=a.value;return typeof d==typeof m&&d>=m}],"filter-has":[qt,[sr],(u,[a])=>a.value in u.properties()],"filter-has-id":[qt,[],u=>u.id()!==null&&u.id()!==void 0],"filter-type-in":[qt,[oe(Zt)],(u,[a])=>a.value.indexOf(u.geometryType())>=0],"filter-id-in":[qt,[oe(sr)],(u,[a])=>a.value.indexOf(u.id())>=0],"filter-in-small":[qt,[Zt,oe(sr)],(u,[a,d])=>d.value.indexOf(u.properties()[a.value])>=0],"filter-in-large":[qt,[Zt,oe(sr)],(u,[a,d])=>(function(m,B,E,T){for(;E<=T;){const O=E+T>>1;if(B[O]===m)return!0;B[O]>m?T=O-1:E=O+1}return!1})(u.properties()[a.value],d.value,0,d.value.length-1)],all:{type:qt,overloads:[[[qt,qt],(u,[a,d])=>a.evaluate(u)&&d.evaluate(u)],[Xa(qt),(u,a)=>{for(const d of a)if(!d.evaluate(u))return!1;return!0}]]},any:{type:qt,overloads:[[[qt,qt],(u,[a,d])=>a.evaluate(u)||d.evaluate(u)],[Xa(qt),(u,a)=>{for(const d of a)if(d.evaluate(u))return!0;return!1}]]},"!":[qt,[qt],(u,[a])=>!a.evaluate(u)],"is-supported-script":[qt,[Zt],(u,[a])=>{const d=u.globals&&u.globals.isSupportedScript;return!d||d(a.evaluate(u))}],upcase:[Zt,[Zt],(u,[a])=>a.evaluate(u).toUpperCase()],downcase:[Zt,[Zt],(u,[a])=>a.evaluate(u).toLowerCase()],concat:[Zt,Xa(sr),(u,a)=>a.map((d=>Hs(d.evaluate(u)))).join("")],"resolved-locale":[Zt,[Ur],(u,[a])=>a.evaluate(u).resolvedLocale()]});class ya{constructor(a,d){var m;this.expression=a,this._warningHistory={},this._evaluator=new Ri,this._defaultValue=d?(m=d).type==="color"&&Gl(m.default)?new bn(0,0,0,0):m.type==="color"?bn.parse(m.default)||null:m.type==="padding"?Li.parse(m.default)||null:m.type==="variableAnchorOffsetCollection"?qa.parse(m.default)||null:m.default===void 0?null:m.default:null,this._enumValues=d&&d.type==="enum"?d.values:null}evaluateWithoutErrorHandling(a,d,m,B,E,T){return this._evaluator.globals=a,this._evaluator.feature=d,this._evaluator.featureState=m,this._evaluator.canonical=B,this._evaluator.availableImages=E||null,this._evaluator.formattedSection=T,this.expression.evaluate(this._evaluator)}evaluate(a,d,m,B,E,T){this._evaluator.globals=a,this._evaluator.feature=d||null,this._evaluator.featureState=m||null,this._evaluator.canonical=B,this._evaluator.availableImages=E||null,this._evaluator.formattedSection=T||null;try{const O=this.expression.evaluate(this._evaluator);if(O==null||typeof O=="number"&&O!=O)return this._defaultValue;if(this._enumValues&&!(O in this._enumValues))throw new qr(`Expected value to be one of ${Object.keys(this._enumValues).map((N=>JSON.stringify(N))).join(", ")}, but found ${JSON.stringify(O)} instead.`);return O}catch(O){return this._warningHistory[O.message]||(this._warningHistory[O.message]=!0,typeof console<"u"&&console.warn(O.message)),this._defaultValue}}}function ls(u){return Array.isArray(u)&&u.length>0&&typeof u[0]=="string"&&u[0]in Al}function Ln(u,a){const d=new ui(Al,Ts,[],a?(function(B){const E={color:$r,string:Zt,number:Pt,enum:Zt,boolean:qt,formatted:Rr,padding:kn,resolvedImage:Gr,variableAnchorOffsetCollection:Me};return B.type==="array"?oe(E[B.value]||sr,B.length):E[B.type]})(a):void 0),m=d.parse(u,void 0,void 0,void 0,a&&a.type==="string"?{typeAnnotation:"coerce"}:void 0);return m?Ci(new ya(m,a)):ql(d.errors)}class Bn{constructor(a,d){this.kind=a,this._styleExpression=d,this.isStateDependent=a!=="constant"&&!No(d.expression)}evaluateWithoutErrorHandling(a,d,m,B,E,T){return this._styleExpression.evaluateWithoutErrorHandling(a,d,m,B,E,T)}evaluate(a,d,m,B,E,T){return this._styleExpression.evaluate(a,d,m,B,E,T)}}class $n{constructor(a,d,m,B){this.kind=a,this.zoomStops=m,this._styleExpression=d,this.isStateDependent=a!=="camera"&&!No(d.expression),this.interpolationType=B}evaluateWithoutErrorHandling(a,d,m,B,E,T){return this._styleExpression.evaluateWithoutErrorHandling(a,d,m,B,E,T)}evaluate(a,d,m,B,E,T){return this._styleExpression.evaluate(a,d,m,B,E,T)}interpolationFactor(a,d,m){return this.interpolationType?Zi.interpolationFactor(this.interpolationType,a,d,m):0}}function Pi(u,a){const d=Ln(u,a);if(d.result==="error")return d;const m=d.value.expression,B=Ws(m);if(!B&&!os(a))return ql([new Pr("","data expressions not supported")]);const E=cl(m,["zoom"]);if(!E&&!Ro(a))return ql([new Pr("","zoom expressions not supported")]);const T=us(m);return T||E?T instanceof Pr?ql([T]):T instanceof Zi&&!ma(a)?ql([new Pr("",'"interpolate" expressions cannot be used with this property')]):Ci(T?new $n(B?"camera":"composite",d.value,T.labels,T instanceof Zi?T.interpolation:void 0):new Bn(B?"constant":"source",d.value)):ql([new Pr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class As{constructor(a,d){this._parameters=a,this._specification=d,cr(this,hl(this._parameters,this._specification))}static deserialize(a){return new As(a._parameters,a._specification)}static serialize(a){return{_parameters:a._parameters,_specification:a._specification}}}function us(u){let a=null;if(u instanceof js)a=us(u.result);else if(u instanceof tu){for(const d of u.args)if(a=us(d),a)break}else(u instanceof Hl||u instanceof Zi)&&u.input instanceof ji&&u.input.name==="zoom"&&(a=u);return a instanceof Pr||u.eachChild((d=>{const m=us(d);m instanceof Pr?a=m:!a&&m?a=new Pr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):a&&m&&a!==m&&(a=new Pr("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),a}function pl(u){if(u===!0||u===!1)return!0;if(!Array.isArray(u)||u.length===0)return!1;switch(u[0]){case"has":return u.length>=2&&u[1]!=="$id"&&u[1]!=="$type";case"in":return u.length>=3&&(typeof u[1]!="string"||Array.isArray(u[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return u.length!==3||Array.isArray(u[1])||Array.isArray(u[2]);case"any":case"all":for(const a of u.slice(1))if(!pl(a)&&typeof a!="boolean")return!1;return!0;default:return!0}}const bA={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function cc(u){if(u==null)return{filter:()=>!0,needGeometry:!1};pl(u)||(u=hc(u));const a=Ln(u,bA);if(a.result==="error")throw new Error(a.value.map((d=>`${d.key}: ${d.message}`)).join(", "));return{filter:(d,m,B)=>a.value.evaluate(d,m,{},B),needGeometry:Ch(u)}}function gf(u,a){return u<a?-1:u>a?1:0}function Ch(u){if(!Array.isArray(u))return!1;if(u[0]==="within"||u[0]==="distance")return!0;for(let a=1;a<u.length;a++)if(Ch(u[a]))return!0;return!1}function hc(u){if(!u)return!0;const a=u[0];return u.length<=1?a!=="any":a==="=="?fc(u[1],u[2],"=="):a==="!="?oi(fc(u[1],u[2],"==")):a==="<"||a===">"||a==="<="||a===">="?fc(u[1],u[2],a):a==="any"?(d=u.slice(1),["any"].concat(d.map(hc))):a==="all"?["all"].concat(u.slice(1).map(hc)):a==="none"?["all"].concat(u.slice(1).map(hc).map(oi)):a==="in"?au(u[1],u.slice(2)):a==="!in"?oi(au(u[1],u.slice(2))):a==="has"?Ho(u[1]):a!=="!has"||oi(Ho(u[1]));var d}function fc(u,a,d){switch(u){case"$type":return[`filter-type-${d}`,a];case"$id":return[`filter-id-${d}`,a];default:return[`filter-${d}`,u,a]}}function au(u,a){if(a.length===0)return!1;switch(u){case"$type":return["filter-type-in",["literal",a]];case"$id":return["filter-id-in",["literal",a]];default:return a.length>200&&!a.some((d=>typeof d!=typeof a[0]))?["filter-in-large",u,["literal",a.sort(gf)]]:["filter-in-small",u,["literal",a]]}}function Ho(u){switch(u){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",u]}}function oi(u){return["!",u]}function jo(u){const a=typeof u;if(a==="number"||a==="boolean"||a==="string"||u==null)return JSON.stringify(u);if(Array.isArray(u)){let B="[";for(const E of u)B+=`${jo(E)},`;return`${B}]`}const d=Object.keys(u).sort();let m="{";for(let B=0;B<d.length;B++)m+=`${JSON.stringify(d[B])}:${jo(u[d[B]])},`;return`${m}}`}function Us(u){let a="";for(const d of Nr)a+=`/${jo(u[d])}`;return a}function xA(u){const a=u.value;return a?[new Ft(u.key,a,"constants have been deprecated as of v8")]:[]}function _i(u){return u instanceof Number||u instanceof String||u instanceof Boolean?u.valueOf():u}function cs(u){if(Array.isArray(u))return u.map(cs);if(u instanceof Object&&!(u instanceof Number||u instanceof String||u instanceof Boolean)){const a={};for(const d in u)a[d]=cs(u[d]);return a}return _i(u)}function ja(u){const a=u.key,d=u.value,m=u.valueSpec||{},B=u.objectElementValidators||{},E=u.style,T=u.styleSpec,O=u.validateSpec;let N=[];const q=dn(d);if(q!=="object")return[new Ft(a,d,`object expected, ${q} found`)];for(const Z in d){const Y=Z.split(".")[0],ae=m[Y]||m["*"];let he;if(B[Y])he=B[Y];else if(m[Y])he=O;else if(B["*"])he=B["*"];else{if(!m["*"]){N.push(new Ft(a,d[Z],`unknown property "${Z}"`));continue}he=O}N=N.concat(he({key:(a&&`${a}.`)+Z,value:d[Z],valueSpec:ae,style:E,styleSpec:T,object:d,objectKey:Z,validateSpec:O},d))}for(const Z in m)B[Z]||m[Z].required&&m[Z].default===void 0&&d[Z]===void 0&&N.push(new Ft(a,d,`missing required property "${Z}"`));return N}function BA(u){const a=u.value,d=u.valueSpec,m=u.style,B=u.styleSpec,E=u.key,T=u.arrayElementValidator||u.validateSpec;if(dn(a)!=="array")return[new Ft(E,a,`array expected, ${dn(a)} found`)];if(d.length&&a.length!==d.length)return[new Ft(E,a,`array length ${d.length} expected, length ${a.length} found`)];if(d["min-length"]&&a.length<d["min-length"])return[new Ft(E,a,`array length at least ${d["min-length"]} expected, length ${a.length} found`)];let O={type:d.value,values:d.values};B.$version<7&&(O.function=d.function),dn(d.value)==="object"&&(O=d.value);let N=[];for(let q=0;q<a.length;q++)N=N.concat(T({array:a,arrayIndex:q,value:a[q],valueSpec:O,validateSpec:u.validateSpec,style:m,styleSpec:B,key:`${E}[${q}]`}));return N}function Ko(u){const a=u.key,d=u.value,m=u.valueSpec;let B=dn(d);return B==="number"&&d!=d&&(B="NaN"),B!=="number"?[new Ft(a,d,`number expected, ${B} found`)]:"minimum"in m&&d<m.minimum?[new Ft(a,d,`${d} is less than the minimum value ${m.minimum}`)]:"maximum"in m&&d>m.maximum?[new Ft(a,d,`${d} is greater than the maximum value ${m.maximum}`)]:[]}function CA(u){const a=u.valueSpec,d=_i(u.value.type);let m,B,E,T={};const O=d!=="categorical"&&u.value.property===void 0,N=!O,q=dn(u.value.stops)==="array"&&dn(u.value.stops[0])==="array"&&dn(u.value.stops[0][0])==="object",Z=ja({key:u.key,value:u.value,valueSpec:u.styleSpec.function,validateSpec:u.validateSpec,style:u.style,styleSpec:u.styleSpec,objectElementValidators:{stops:function(he){if(d==="identity")return[new Ft(he.key,he.value,'identity function may not have a "stops" property')];let ye=[];const Be=he.value;return ye=ye.concat(BA({key:he.key,value:Be,valueSpec:he.valueSpec,validateSpec:he.validateSpec,style:he.style,styleSpec:he.styleSpec,arrayElementValidator:Y})),dn(Be)==="array"&&Be.length===0&&ye.push(new Ft(he.key,Be,"array must have at least one stop")),ye},default:function(he){return he.validateSpec({key:he.key,value:he.value,valueSpec:a,validateSpec:he.validateSpec,style:he.style,styleSpec:he.styleSpec})}}});return d==="identity"&&O&&Z.push(new Ft(u.key,u.value,'missing required property "property"')),d==="identity"||u.value.stops||Z.push(new Ft(u.key,u.value,'missing required property "stops"')),d==="exponential"&&u.valueSpec.expression&&!ma(u.valueSpec)&&Z.push(new Ft(u.key,u.value,"exponential functions not supported")),u.styleSpec.$version>=8&&(N&&!os(u.valueSpec)?Z.push(new Ft(u.key,u.value,"property functions not supported")):O&&!Ro(u.valueSpec)&&Z.push(new Ft(u.key,u.value,"zoom functions not supported"))),d!=="categorical"&&!q||u.value.property!==void 0||Z.push(new Ft(u.key,u.value,'"property" property is required')),Z;function Y(he){let ye=[];const Be=he.value,Re=he.key;if(dn(Be)!=="array")return[new Ft(Re,Be,`array expected, ${dn(Be)} found`)];if(Be.length!==2)return[new Ft(Re,Be,`array length 2 expected, length ${Be.length} found`)];if(q){if(dn(Be[0])!=="object")return[new Ft(Re,Be,`object expected, ${dn(Be[0])} found`)];if(Be[0].zoom===void 0)return[new Ft(Re,Be,"object stop key must have zoom")];if(Be[0].value===void 0)return[new Ft(Re,Be,"object stop key must have value")];if(E&&E>_i(Be[0].zoom))return[new Ft(Re,Be[0].zoom,"stop zoom values must appear in ascending order")];_i(Be[0].zoom)!==E&&(E=_i(Be[0].zoom),B=void 0,T={}),ye=ye.concat(ja({key:`${Re}[0]`,value:Be[0],valueSpec:{zoom:{}},validateSpec:he.validateSpec,style:he.style,styleSpec:he.styleSpec,objectElementValidators:{zoom:Ko,value:ae}}))}else ye=ye.concat(ae({key:`${Re}[0]`,value:Be[0],validateSpec:he.validateSpec,style:he.style,styleSpec:he.styleSpec},Be));return ls(cs(Be[1]))?ye.concat([new Ft(`${Re}[1]`,Be[1],"expressions are not allowed in function stops.")]):ye.concat(he.validateSpec({key:`${Re}[1]`,value:Be[1],valueSpec:a,validateSpec:he.validateSpec,style:he.style,styleSpec:he.styleSpec}))}function ae(he,ye){const Be=dn(he.value),Re=_i(he.value),Ge=he.value!==null?he.value:ye;if(m){if(Be!==m)return[new Ft(he.key,Ge,`${Be} stop domain type must match previous stop domain type ${m}`)]}else m=Be;if(Be!=="number"&&Be!=="string"&&Be!=="boolean")return[new Ft(he.key,Ge,"stop domain value must be a number, string, or boolean")];if(Be!=="number"&&d!=="categorical"){let At=`number expected, ${Be} found`;return os(a)&&d===void 0&&(At+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Ft(he.key,Ge,At)]}return d!=="categorical"||Be!=="number"||isFinite(Re)&&Math.floor(Re)===Re?d!=="categorical"&&Be==="number"&&B!==void 0&&Re<B?[new Ft(he.key,Ge,"stop domain values must appear in ascending order")]:(B=Re,d==="categorical"&&Re in T?[new Ft(he.key,Ge,"stop domain values must be unique")]:(T[Re]=!0,[])):[new Ft(he.key,Ge,`integer expected, found ${Re}`)]}}function Wi(u){const a=(u.expressionContext==="property"?Pi:Ln)(cs(u.value),u.valueSpec);if(a.result==="error")return a.value.map((m=>new Ft(`${u.key}${m.key}`,u.value,m.message)));const d=a.value.expression||a.value._styleExpression.expression;if(u.expressionContext==="property"&&u.propertyKey==="text-font"&&!d.outputDefined())return[new Ft(u.key,u.value,`Invalid data expression for "${u.propertyKey}". Output values must be contained as literals within the expression.`)];if(u.expressionContext==="property"&&u.propertyType==="layout"&&!No(d))return[new Ft(u.key,u.value,'"feature-state" data expressions are not supported with layout properties.')];if(u.expressionContext==="filter"&&!No(d))return[new Ft(u.key,u.value,'"feature-state" data expressions are not supported with filters.')];if(u.expressionContext&&u.expressionContext.indexOf("cluster")===0){if(!cl(d,["zoom","feature-state"]))return[new Ft(u.key,u.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(u.expressionContext==="cluster-initial"&&!Ws(d))return[new Ft(u.key,u.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function wi(u){const a=u.key,d=u.value,m=u.valueSpec,B=[];return Array.isArray(m.values)?m.values.indexOf(_i(d))===-1&&B.push(new Ft(a,d,`expected one of [${m.values.join(", ")}], ${JSON.stringify(d)} found`)):Object.keys(m.values).indexOf(_i(d))===-1&&B.push(new Ft(a,d,`expected one of [${Object.keys(m.values).join(", ")}], ${JSON.stringify(d)} found`)),B}function Uu(u){return pl(cs(u.value))?Wi(cr({},u,{expressionContext:"filter",valueSpec:{value:"boolean"}})):va(u)}function va(u){const a=u.value,d=u.key;if(dn(a)!=="array")return[new Ft(d,a,`array expected, ${dn(a)} found`)];const m=u.styleSpec;let B,E=[];if(a.length<1)return[new Ft(d,a,"filter array must have at least 1 element")];switch(E=E.concat(wi({key:`${d}[0]`,value:a[0],valueSpec:m.filter_operator,style:u.style,styleSpec:u.styleSpec})),_i(a[0])){case"<":case"<=":case">":case">=":a.length>=2&&_i(a[1])==="$type"&&E.push(new Ft(d,a,`"$type" cannot be use with operator "${a[0]}"`));case"==":case"!=":a.length!==3&&E.push(new Ft(d,a,`filter array for operator "${a[0]}" must have 3 elements`));case"in":case"!in":a.length>=2&&(B=dn(a[1]),B!=="string"&&E.push(new Ft(`${d}[1]`,a[1],`string expected, ${B} found`)));for(let T=2;T<a.length;T++)B=dn(a[T]),_i(a[1])==="$type"?E=E.concat(wi({key:`${d}[${T}]`,value:a[T],valueSpec:m.geometry_type,style:u.style,styleSpec:u.styleSpec})):B!=="string"&&B!=="number"&&B!=="boolean"&&E.push(new Ft(`${d}[${T}]`,a[T],`string, number, or boolean expected, ${B} found`));break;case"any":case"all":case"none":for(let T=1;T<a.length;T++)E=E.concat(va({key:`${d}[${T}]`,value:a[T],style:u.style,styleSpec:u.styleSpec}));break;case"has":case"!has":B=dn(a[1]),a.length!==2?E.push(new Ft(d,a,`filter array for "${a[0]}" operator must have 2 elements`)):B!=="string"&&E.push(new Ft(`${d}[1]`,a[1],`string expected, ${B} found`))}return E}function Lu(u,a){const d=u.key,m=u.validateSpec,B=u.style,E=u.styleSpec,T=u.value,O=u.objectKey,N=E[`${a}_${u.layerType}`];if(!N)return[];const q=O.match(/^(.*)-transition$/);if(a==="paint"&&q&&N[q[1]]&&N[q[1]].transition)return m({key:d,value:T,valueSpec:E.transition,style:B,styleSpec:E});const Z=u.valueSpec||N[O];if(!Z)return[new Ft(d,T,`unknown property "${O}"`)];let Y;if(dn(T)==="string"&&os(Z)&&!Z.tokens&&(Y=/^{([^}]+)}$/.exec(T)))return[new Ft(d,T,`"${O}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(Y[1])} }\`.`)];const ae=[];return u.layerType==="symbol"&&(O==="text-field"&&B&&!B.glyphs&&ae.push(new Ft(d,T,'use of "text-field" requires a style "glyphs" property')),O==="text-font"&&Gl(cs(T))&&_i(T.type)==="identity"&&ae.push(new Ft(d,T,'"text-font" does not support identity functions'))),ae.concat(m({key:u.key,value:T,valueSpec:Z,style:B,styleSpec:E,expressionContext:"property",propertyType:a,propertyKey:O}))}function hs(u){return Lu(u,"paint")}function su(u){return Lu(u,"layout")}function SA(u){let a=[];const d=u.value,m=u.key,B=u.style,E=u.styleSpec;d.type||d.ref||a.push(new Ft(m,d,'either "type" or "ref" is required'));let T=_i(d.type);const O=_i(d.ref);if(d.id){const N=_i(d.id);for(let q=0;q<u.arrayIndex;q++){const Z=B.layers[q];_i(Z.id)===N&&a.push(new Ft(m,d.id,`duplicate layer id "${d.id}", previously used at line ${Z.id.__line__}`))}}if("ref"in d){let N;["type","source","source-layer","filter","layout"].forEach((q=>{q in d&&a.push(new Ft(m,d[q],`"${q}" is prohibited for ref layers`))})),B.layers.forEach((q=>{_i(q.id)===O&&(N=q)})),N?N.ref?a.push(new Ft(m,d.ref,"ref cannot reference another ref layer")):T=_i(N.type):a.push(new Ft(m,d.ref,`ref layer "${O}" not found`))}else if(T!=="background")if(d.source){const N=B.sources&&B.sources[d.source],q=N&&_i(N.type);N?q==="vector"&&T==="raster"?a.push(new Ft(m,d.source,`layer "${d.id}" requires a raster source`)):q!=="raster-dem"&&T==="hillshade"?a.push(new Ft(m,d.source,`layer "${d.id}" requires a raster-dem source`)):q==="raster"&&T!=="raster"?a.push(new Ft(m,d.source,`layer "${d.id}" requires a vector source`)):q!=="vector"||d["source-layer"]?q==="raster-dem"&&T!=="hillshade"?a.push(new Ft(m,d.source,"raster-dem source can only be used with layer type 'hillshade'.")):T!=="line"||!d.paint||!d.paint["line-gradient"]||q==="geojson"&&N.lineMetrics||a.push(new Ft(m,d,`layer "${d.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):a.push(new Ft(m,d,`layer "${d.id}" must specify a "source-layer"`)):a.push(new Ft(m,d.source,`source "${d.source}" not found`))}else a.push(new Ft(m,d,'missing required property "source"'));return a=a.concat(ja({key:m,value:d,valueSpec:E.layer,style:u.style,styleSpec:u.styleSpec,validateSpec:u.validateSpec,objectElementValidators:{"*":()=>[],type:()=>u.validateSpec({key:`${m}.type`,value:d.type,valueSpec:E.layer.type,style:u.style,styleSpec:u.styleSpec,validateSpec:u.validateSpec,object:d,objectKey:"type"}),filter:Uu,layout:N=>ja({layer:d,key:N.key,value:N.value,style:N.style,styleSpec:N.styleSpec,validateSpec:N.validateSpec,objectElementValidators:{"*":q=>su(cr({layerType:T},q))}}),paint:N=>ja({layer:d,key:N.key,value:N.value,style:N.style,styleSpec:N.styleSpec,validateSpec:N.validateSpec,objectElementValidators:{"*":q=>hs(cr({layerType:T},q))}})}})),a}function Ls(u){const a=u.value,d=u.key,m=dn(a);return m!=="string"?[new Ft(d,a,`string expected, ${m} found`)]:[]}const EA={promoteId:function({key:u,value:a}){if(dn(a)==="string")return Ls({key:u,value:a});{const d=[];for(const m in a)d.push(...Ls({key:`${u}.${m}`,value:a[m]}));return d}}};function TA(u){const a=u.value,d=u.key,m=u.styleSpec,B=u.style,E=u.validateSpec;if(!a.type)return[new Ft(d,a,'"type" is required')];const T=_i(a.type);let O;switch(T){case"vector":case"raster":return O=ja({key:d,value:a,valueSpec:m[`source_${T.replace("-","_")}`],style:u.style,styleSpec:m,objectElementValidators:EA,validateSpec:E}),O;case"raster-dem":return O=(function(N){var q;const Z=(q=N.sourceName)!==null&&q!==void 0?q:"",Y=N.value,ae=N.styleSpec,he=ae.source_raster_dem,ye=N.style;let Be=[];const Re=dn(Y);if(Y===void 0)return Be;if(Re!=="object")return Be.push(new Ft("source_raster_dem",Y,`object expected, ${Re} found`)),Be;const Ge=_i(Y.encoding)==="custom",At=["redFactor","greenFactor","blueFactor","baseShift"],nt=N.value.encoding?`"${N.value.encoding}"`:"Default";for(const ot in Y)!Ge&&At.includes(ot)?Be.push(new Ft(ot,Y[ot],`In "${Z}": "${ot}" is only valid when "encoding" is set to "custom". ${nt} encoding found`)):he[ot]?Be=Be.concat(N.validateSpec({key:ot,value:Y[ot],valueSpec:he[ot],validateSpec:N.validateSpec,style:ye,styleSpec:ae})):Be.push(new Ft(ot,Y[ot],`unknown property "${ot}"`));return Be})({sourceName:d,value:a,style:u.style,styleSpec:m,validateSpec:E}),O;case"geojson":if(O=ja({key:d,value:a,valueSpec:m.source_geojson,style:B,styleSpec:m,validateSpec:E,objectElementValidators:EA}),a.cluster)for(const N in a.clusterProperties){const[q,Z]=a.clusterProperties[N],Y=typeof q=="string"?[q,["accumulated"],["get",N]]:q;O.push(...Wi({key:`${d}.${N}.map`,value:Z,expressionContext:"cluster-map"})),O.push(...Wi({key:`${d}.${N}.reduce`,value:Y,expressionContext:"cluster-reduce"}))}return O;case"video":return ja({key:d,value:a,valueSpec:m.source_video,style:B,validateSpec:E,styleSpec:m});case"image":return ja({key:d,value:a,valueSpec:m.source_image,style:B,validateSpec:E,styleSpec:m});case"canvas":return[new Ft(d,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return wi({key:`${d}.type`,value:a.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]}})}}function IA(u){const a=u.value,d=u.styleSpec,m=d.light,B=u.style;let E=[];const T=dn(a);if(a===void 0)return E;if(T!=="object")return E=E.concat([new Ft("light",a,`object expected, ${T} found`)]),E;for(const O in a){const N=O.match(/^(.*)-transition$/);E=E.concat(N&&m[N[1]]&&m[N[1]].transition?u.validateSpec({key:O,value:a[O],valueSpec:d.transition,validateSpec:u.validateSpec,style:B,styleSpec:d}):m[O]?u.validateSpec({key:O,value:a[O],valueSpec:m[O],validateSpec:u.validateSpec,style:B,styleSpec:d}):[new Ft(O,a[O],`unknown property "${O}"`)])}return E}function Mu(u){const a=u.value,d=u.styleSpec,m=d.sky,B=u.style,E=dn(a);if(a===void 0)return[];if(E!=="object")return[new Ft("sky",a,`object expected, ${E} found`)];let T=[];for(const O in a)T=T.concat(m[O]?u.validateSpec({key:O,value:a[O],valueSpec:m[O],style:B,styleSpec:d}):[new Ft(O,a[O],`unknown property "${O}"`)]);return T}function Ms(u){const a=u.value,d=u.styleSpec,m=d.terrain,B=u.style;let E=[];const T=dn(a);if(a===void 0)return E;if(T!=="object")return E=E.concat([new Ft("terrain",a,`object expected, ${T} found`)]),E;for(const O in a)E=E.concat(m[O]?u.validateSpec({key:O,value:a[O],valueSpec:m[O],validateSpec:u.validateSpec,style:B,styleSpec:d}):[new Ft(O,a[O],`unknown property "${O}"`)]);return E}function FA(u){let a=[];const d=u.value,m=u.key;if(Array.isArray(d)){const B=[],E=[];for(const T in d)d[T].id&&B.includes(d[T].id)&&a.push(new Ft(m,d,`all the sprites' ids must be unique, but ${d[T].id} is duplicated`)),B.push(d[T].id),d[T].url&&E.includes(d[T].url)&&a.push(new Ft(m,d,`all the sprites' URLs must be unique, but ${d[T].url} is duplicated`)),E.push(d[T].url),a=a.concat(ja({key:`${m}[${T}]`,value:d[T],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:u.validateSpec}));return a}return Ls({key:m,value:d})}const gl={"*":()=>[],array:BA,boolean:function(u){const a=u.value,d=u.key,m=dn(a);return m!=="boolean"?[new Ft(d,a,`boolean expected, ${m} found`)]:[]},number:Ko,color:function(u){const a=u.key,d=u.value,m=dn(d);return m!=="string"?[new Ft(a,d,`color expected, ${m} found`)]:bn.parse(String(d))?[]:[new Ft(a,d,`color expected, "${d}" found`)]},constants:xA,enum:wi,filter:Uu,function:CA,layer:SA,object:ja,source:TA,light:IA,sky:Mu,terrain:Ms,projection:function(u){const a=u.value,d=u.styleSpec,m=d.projection,B=u.style,E=dn(a);if(a===void 0)return[];if(E!=="object")return[new Ft("projection",a,`object expected, ${E} found`)];let T=[];for(const O in a)T=T.concat(m[O]?u.validateSpec({key:O,value:a[O],valueSpec:m[O],style:B,styleSpec:d}):[new Ft(O,a[O],`unknown property "${O}"`)]);return T},string:Ls,formatted:function(u){return Ls(u).length===0?[]:Wi(u)},resolvedImage:function(u){return Ls(u).length===0?[]:Wi(u)},padding:function(u){const a=u.key,d=u.value;if(dn(d)==="array"){if(d.length<1||d.length>4)return[new Ft(a,d,`padding requires 1 to 4 values; ${d.length} values found`)];const m={type:"number"};let B=[];for(let E=0;E<d.length;E++)B=B.concat(u.validateSpec({key:`${a}[${E}]`,value:d[E],validateSpec:u.validateSpec,valueSpec:m}));return B}return Ko({key:a,value:d,valueSpec:{}})},variableAnchorOffsetCollection:function(u){const a=u.key,d=u.value,m=dn(d),B=u.styleSpec;if(m!=="array"||d.length<1||d.length%2!=0)return[new Ft(a,d,"variableAnchorOffsetCollection requires a non-empty array of even length")];let E=[];for(let T=0;T<d.length;T+=2)E=E.concat(wi({key:`${a}[${T}]`,value:d[T],valueSpec:B.layout_symbol["text-anchor"]})),E=E.concat(BA({key:`${a}[${T+1}]`,value:d[T+1],valueSpec:{length:2,value:"number"},validateSpec:u.validateSpec,style:u.style,styleSpec:B}));return E},sprite:FA};function UA(u){const a=u.value,d=u.valueSpec,m=u.styleSpec;return u.validateSpec=UA,d.expression&&Gl(_i(a))?CA(u):d.expression&&ls(cs(a))?Wi(u):d.type&&gl[d.type]?gl[d.type](u):ja(cr({},u,{valueSpec:d.type?m[d.type]:d}))}function Pu(u){const a=u.value,d=u.key,m=Ls(u);return m.length||(a.indexOf("{fontstack}")===-1&&m.push(new Ft(d,a,'"glyphs" url must include a "{fontstack}" token')),a.indexOf("{range}")===-1&&m.push(new Ft(d,a,'"glyphs" url must include a "{range}" token'))),m}function Oi(u,a=Ze){let d=[];return d=d.concat(UA({key:"",value:u,valueSpec:a.$root,styleSpec:a,style:u,validateSpec:UA,objectElementValidators:{glyphs:Pu,"*":()=>[]}})),u.constants&&(d=d.concat(xA({key:"constants",value:u.constants}))),ml(d)}function Yi(u){return function(a){return u({...a,validateSpec:UA})}}function ml(u){return[].concat(u).sort(((a,d)=>a.line-d.line))}function Ki(u){return function(...a){return ml(u.apply(this,a))}}Oi.source=Ki(Yi(TA)),Oi.sprite=Ki(Yi(FA)),Oi.glyphs=Ki(Yi(Pu)),Oi.light=Ki(Yi(IA)),Oi.sky=Ki(Yi(Mu)),Oi.terrain=Ki(Yi(Ms)),Oi.layer=Ki(Yi(SA)),Oi.filter=Ki(Yi(Uu)),Oi.paintProperty=Ki(Yi(hs)),Oi.layoutProperty=Ki(Yi(su));const Ia=Oi,Ys=Ia.light,mf=Ia.sky,Rc=Ia.paintProperty,dc=Ia.layoutProperty;function zc(u,a){let d=!1;if(a&&a.length)for(const m of a)u.fire(new $t(new Error(m.message))),d=!0;return d}class Vi{constructor(a,d,m){const B=this.cells=[];if(a instanceof ArrayBuffer){this.arrayBuffer=a;const T=new Int32Array(this.arrayBuffer);a=T[0],this.d=(d=T[1])+2*(m=T[2]);for(let N=0;N<this.d*this.d;N++){const q=T[3+N],Z=T[3+N+1];B.push(q===Z?null:T.subarray(q,Z))}const O=T[3+B.length+1];this.keys=T.subarray(T[3+B.length],O),this.bboxes=T.subarray(O),this.insert=this._insertReadonly}else{this.d=d+2*m;for(let T=0;T<this.d*this.d;T++)B.push([]);this.keys=[],this.bboxes=[]}this.n=d,this.extent=a,this.padding=m,this.scale=d/a,this.uid=0;const E=m/d*a;this.min=-E,this.max=a+E}insert(a,d,m,B,E){this._forEachCell(d,m,B,E,this._insertCell,this.uid++,void 0,void 0),this.keys.push(a),this.bboxes.push(d),this.bboxes.push(m),this.bboxes.push(B),this.bboxes.push(E)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(a,d,m,B,E,T){this.cells[E].push(T)}query(a,d,m,B,E){const T=this.min,O=this.max;if(a<=T&&d<=T&&O<=m&&O<=B&&!E)return Array.prototype.slice.call(this.keys);{const N=[];return this._forEachCell(a,d,m,B,this._queryCell,N,{},E),N}}_queryCell(a,d,m,B,E,T,O,N){const q=this.cells[E];if(q!==null){const Z=this.keys,Y=this.bboxes;for(let ae=0;ae<q.length;ae++){const he=q[ae];if(O[he]===void 0){const ye=4*he;(N?N(Y[ye+0],Y[ye+1],Y[ye+2],Y[ye+3]):a<=Y[ye+2]&&d<=Y[ye+3]&&m>=Y[ye+0]&&B>=Y[ye+1])?(O[he]=!0,T.push(Z[he])):O[he]=!1}}}}_forEachCell(a,d,m,B,E,T,O,N){const q=this._convertToCellCoord(a),Z=this._convertToCellCoord(d),Y=this._convertToCellCoord(m),ae=this._convertToCellCoord(B);for(let he=q;he<=Y;he++)for(let ye=Z;ye<=ae;ye++){const Be=this.d*ye+he;if((!N||N(this._convertFromCellCoord(he),this._convertFromCellCoord(ye),this._convertFromCellCoord(he+1),this._convertFromCellCoord(ye+1)))&&E.call(this,a,d,m,B,Be,T,O,N))return}}_convertFromCellCoord(a){return(a-this.padding)/this.scale}_convertToCellCoord(a){return Math.max(0,Math.min(this.d-1,Math.floor(a*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const a=this.cells,d=3+this.cells.length+1+1;let m=0;for(let T=0;T<this.cells.length;T++)m+=this.cells[T].length;const B=new Int32Array(d+m+this.keys.length+this.bboxes.length);B[0]=this.extent,B[1]=this.n,B[2]=this.padding;let E=d;for(let T=0;T<a.length;T++){const O=a[T];B[3+T]=E,B.set(O,E),E+=O.length}return B[3+a.length]=E,B.set(this.keys,E),E+=this.keys.length,B[3+a.length+1]=E,B.set(this.bboxes,E),E+=this.bboxes.length,B.buffer}static serialize(a,d){const m=a.toArrayBuffer();return d&&d.push(m),{buffer:m}}static deserialize(a){return new Vi(a.buffer)}}const Mn={};function Rt(u,a,d={}){if(Mn[u])throw new Error(`${u} is already registered.`);Object.defineProperty(a,"_classRegistryKey",{value:u,writeable:!1}),Mn[u]={klass:a,omit:d.omit||[],shallow:d.shallow||[]}}Rt("Object",Object),Rt("TransferableGridIndex",Vi),Rt("Color",bn),Rt("Error",Error),Rt("AJAXError",Je),Rt("ResolvedImage",ka),Rt("StylePropertyFunction",As),Rt("StyleExpression",ya,{omit:["_evaluator"]}),Rt("ZoomDependentExpression",$n),Rt("ZoomConstantExpression",Bn),Rt("CompoundExpression",ji,{omit:["_evaluate"]});for(const u in Al)Al[u]._classRegistryKey||Rt(`Expression_${u}`,Al[u]);function Fa(u){return u&&typeof ArrayBuffer<"u"&&(u instanceof ArrayBuffer||u.constructor&&u.constructor.name==="ArrayBuffer")}function Si(u){return u.$name||u.constructor._classRegistryKey}function _o(u){return!(function(a){if(a===null||typeof a!="object")return!1;const d=Si(a);return!(!d||d==="Object")})(u)&&(u==null||typeof u=="boolean"||typeof u=="number"||typeof u=="string"||u instanceof Boolean||u instanceof Number||u instanceof String||u instanceof Date||u instanceof RegExp||u instanceof Blob||u instanceof Error||Fa(u)||Ne(u)||ArrayBuffer.isView(u)||u instanceof ImageData)}function Js(u,a){if(_o(u))return(Fa(u)||Ne(u))&&a&&a.push(u),ArrayBuffer.isView(u)&&a&&a.push(u.buffer),u instanceof ImageData&&a&&a.push(u.data.buffer),u;if(Array.isArray(u)){const E=[];for(const T of u)E.push(Js(T,a));return E}if(typeof u!="object")throw new Error("can't serialize object of type "+typeof u);const d=Si(u);if(!d)throw new Error(`can't serialize object of unregistered class ${u.constructor.name}`);if(!Mn[d])throw new Error(`${d} is not registered.`);const{klass:m}=Mn[d],B=m.serialize?m.serialize(u,a):{};if(m.serialize){if(a&&B===a[a.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const E in u){if(!u.hasOwnProperty(E)||Mn[d].omit.indexOf(E)>=0)continue;const T=u[E];B[E]=Mn[d].shallow.indexOf(E)>=0?T:Js(T,a)}u instanceof Error&&(B.message=u.message)}if(B.$name)throw new Error("$name property is reserved for worker serialization logic.");return d!=="Object"&&(B.$name=d),B}function LA(u){if(_o(u))return u;if(Array.isArray(u))return u.map(LA);if(typeof u!="object")throw new Error("can't deserialize object of type "+typeof u);const a=Si(u)||"Object";if(!Mn[a])throw new Error(`can't deserialize unregistered class ${a}`);const{klass:d}=Mn[a];if(!d)throw new Error(`can't deserialize unregistered class ${a}`);if(d.deserialize)return d.deserialize(u);const m=Object.create(d.prototype);for(const B of Object.keys(u)){if(B==="$name")continue;const E=u[B];m[B]=Mn[a].shallow.indexOf(B)>=0?E:LA(E)}return m}class Vo{constructor(){this.first=!0}update(a,d){const m=Math.floor(a);return this.first?(this.first=!1,this.lastIntegerZoom=m,this.lastIntegerZoomTime=0,this.lastZoom=a,this.lastFloorZoom=m,!0):(this.lastFloorZoom>m?(this.lastIntegerZoom=m+1,this.lastIntegerZoomTime=d):this.lastFloorZoom<m&&(this.lastIntegerZoom=m,this.lastIntegerZoomTime=d),a!==this.lastZoom&&(this.lastZoom=a,this.lastFloorZoom=m,!0))}}const Hr={"Latin-1 Supplement":u=>u>=128&&u<=255,"Hangul Jamo":u=>u>=4352&&u<=4607,Khmer:u=>u>=6016&&u<=6143,"General Punctuation":u=>u>=8192&&u<=8303,"Letterlike Symbols":u=>u>=8448&&u<=8527,"Number Forms":u=>u>=8528&&u<=8591,"Miscellaneous Technical":u=>u>=8960&&u<=9215,"Control Pictures":u=>u>=9216&&u<=9279,"Optical Character Recognition":u=>u>=9280&&u<=9311,"Enclosed Alphanumerics":u=>u>=9312&&u<=9471,"Geometric Shapes":u=>u>=9632&&u<=9727,"Miscellaneous Symbols":u=>u>=9728&&u<=9983,"Miscellaneous Symbols and Arrows":u=>u>=11008&&u<=11263,"Ideographic Description Characters":u=>u>=12272&&u<=12287,"CJK Symbols and Punctuation":u=>u>=12288&&u<=12351,Katakana:u=>u>=12448&&u<=12543,Kanbun:u=>u>=12688&&u<=12703,"CJK Strokes":u=>u>=12736&&u<=12783,"Enclosed CJK Letters and Months":u=>u>=12800&&u<=13055,"CJK Compatibility":u=>u>=13056&&u<=13311,"Yijing Hexagram Symbols":u=>u>=19904&&u<=19967,"Private Use Area":u=>u>=57344&&u<=63743,"Vertical Forms":u=>u>=65040&&u<=65055,"CJK Compatibility Forms":u=>u>=65072&&u<=65103,"Small Form Variants":u=>u>=65104&&u<=65135,"Halfwidth and Fullwidth Forms":u=>u>=65280&&u<=65519};function Xl(u){for(const a of u)if(yl(a.charCodeAt(0)))return!0;return!1}function Sh(u){for(const a of u)if(!eo(a.charCodeAt(0)))return!1;return!0}function MA(u){const a=u.map((d=>{try{return new RegExp(`\\p{sc=${d}}`,"u").source}catch{return null}})).filter((d=>d));return new RegExp(a.join("|"),"u")}const Hc=MA(["Arab","Dupl","Mong","Ougr","Syrc"]);function eo(u){return!Hc.test(String.fromCodePoint(u))}const qo=MA(["Bopo","Hani","Hira","Kana","Kits","Nshu","Tang","Yiii"]);function yl(u){return!(u!==746&&u!==747&&(u<4352||!(Hr["CJK Compatibility Forms"](u)&&!(u>=65097&&u<=65103)||Hr["CJK Compatibility"](u)||Hr["CJK Strokes"](u)||!(!Hr["CJK Symbols and Punctuation"](u)||u>=12296&&u<=12305||u>=12308&&u<=12319||u===12336)||Hr["Enclosed CJK Letters and Months"](u)||Hr["Ideographic Description Characters"](u)||Hr.Kanbun(u)||Hr.Katakana(u)&&u!==12540||!(!Hr["Halfwidth and Fullwidth Forms"](u)||u===65288||u===65289||u===65293||u>=65306&&u<=65310||u===65339||u===65341||u===65343||u>=65371&&u<=65503||u===65507||u>=65512&&u<=65519)||!(!Hr["Small Form Variants"](u)||u>=65112&&u<=65118||u>=65123&&u<=65126)||Hr["Vertical Forms"](u)||Hr["Yijing Hexagram Symbols"](u)||new RegExp("\\p{sc=Cans}","u").test(String.fromCodePoint(u))||new RegExp("\\p{sc=Hang}","u").test(String.fromCodePoint(u))||qo.test(String.fromCodePoint(u)))))}function to(u){return!(yl(u)||(function(a){return!!(Hr["Latin-1 Supplement"](a)&&(a===167||a===169||a===174||a===177||a===188||a===189||a===190||a===215||a===247)||Hr["General Punctuation"](a)&&(a===8214||a===8224||a===8225||a===8240||a===8241||a===8251||a===8252||a===8258||a===8263||a===8264||a===8265||a===8273)||Hr["Letterlike Symbols"](a)||Hr["Number Forms"](a)||Hr["Miscellaneous Technical"](a)&&(a>=8960&&a<=8967||a>=8972&&a<=8991||a>=8996&&a<=9e3||a===9003||a>=9085&&a<=9114||a>=9150&&a<=9165||a===9167||a>=9169&&a<=9179||a>=9186&&a<=9215)||Hr["Control Pictures"](a)&&a!==9251||Hr["Optical Character Recognition"](a)||Hr["Enclosed Alphanumerics"](a)||Hr["Geometric Shapes"](a)||Hr["Miscellaneous Symbols"](a)&&!(a>=9754&&a<=9759)||Hr["Miscellaneous Symbols and Arrows"](a)&&(a>=11026&&a<=11055||a>=11088&&a<=11097||a>=11192&&a<=11243)||Hr["CJK Symbols and Punctuation"](a)||Hr.Katakana(a)||Hr["Private Use Area"](a)||Hr["CJK Compatibility Forms"](a)||Hr["Small Form Variants"](a)||Hr["Halfwidth and Fullwidth Forms"](a)||a===8734||a===8756||a===8757||a>=9984&&a<=10087||a>=10102&&a<=10131||a===65532||a===65533)})(u))}const Ou=MA(["Adlm","Arab","Armi","Avst","Chrs","Cprt","Egyp","Elym","Gara","Hatr","Hebr","Hung","Khar","Lydi","Mand","Mani","Mend","Merc","Mero","Narb","Nbat","Nkoo","Orkh","Palm","Phli","Phlp","Phnx","Prti","Rohg","Samr","Sarb","Sogo","Syrc","Thaa","Todr","Yezi"]);function $l(u){return Ou.test(String.fromCodePoint(u))}function PA(u,a){return!(!a&&$l(u)||u>=2304&&u<=3583||u>=3840&&u<=4255||Hr.Khmer(u))}function jc(u){for(const a of u)if($l(a.charCodeAt(0)))return!0;return!1}const ca=new class{constructor(){this.applyArabicShaping=null,this.processBidirectionalText=null,this.processStyledBidirectionalText=null,this.pluginStatus="unavailable",this.pluginURL=null}setState(u){this.pluginStatus=u.pluginStatus,this.pluginURL=u.pluginURL}getState(){return{pluginStatus:this.pluginStatus,pluginURL:this.pluginURL}}setMethods(u){this.applyArabicShaping=u.applyArabicShaping,this.processBidirectionalText=u.processBidirectionalText,this.processStyledBidirectionalText=u.processStyledBidirectionalText}isParsed(){return this.applyArabicShaping!=null&&this.processBidirectionalText!=null&&this.processStyledBidirectionalText!=null}getPluginURL(){return this.pluginURL}getRTLTextPluginStatus(){return this.pluginStatus}};class pn{constructor(a,d){this.zoom=a,d?(this.now=d.now,this.fadeDuration=d.fadeDuration,this.zoomHistory=d.zoomHistory,this.transition=d.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Vo,this.transition={})}isSupportedScript(a){return(function(d,m){for(const B of d)if(!PA(B.charCodeAt(0),m))return!1;return!0})(a,ca.getRTLTextPluginStatus()==="loaded")}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const a=this.zoom,d=a-Math.floor(a),m=this.crossFadingFactor();return a>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:d+(1-d)*m}:{fromScale:.5,toScale:1,t:1-(1-m)*d}}}class Zl{constructor(a,d){this.property=a,this.value=d,this.expression=(function(m,B){if(Gl(m))return new As(m,B);if(ls(m)){const E=Pi(m,B);if(E.result==="error")throw new Error(E.value.map((T=>`${T.key}: ${T.message}`)).join(", "));return E.value}{let E=m;return B.type==="color"&&typeof m=="string"?E=bn.parse(m):B.type!=="padding"||typeof m!="number"&&!Array.isArray(m)?B.type==="variableAnchorOffsetCollection"&&Array.isArray(m)&&(E=qa.parse(m)):E=Li.parse(m),{kind:"constant",evaluate:()=>E}}})(d===void 0?a.specification.default:d,a.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(a,d,m){return this.property.possiblyEvaluate(this,a,d,m)}}class pc{constructor(a){this.property=a,this.value=new Zl(a,void 0)}transitioned(a,d){return new yf(this.property,this.value,d,Ie({},a.transition,this.transition),a.now)}untransitioned(){return new yf(this.property,this.value,null,{},0)}}class Kc{constructor(a){this._properties=a,this._values=Object.create(a.defaultTransitionablePropertyValues)}getValue(a){return ie(this._values[a].value.value)}setValue(a,d){Object.prototype.hasOwnProperty.call(this._values,a)||(this._values[a]=new pc(this._values[a].property)),this._values[a].value=new Zl(this._values[a].property,d===null?void 0:ie(d))}getTransition(a){return ie(this._values[a].transition)}setTransition(a,d){Object.prototype.hasOwnProperty.call(this._values,a)||(this._values[a]=new pc(this._values[a].property)),this._values[a].transition=ie(d)||void 0}serialize(){const a={};for(const d of Object.keys(this._values)){const m=this.getValue(d);m!==void 0&&(a[d]=m);const B=this.getTransition(d);B!==void 0&&(a[`${d}-transition`]=B)}return a}transitioned(a,d){const m=new gc(this._properties);for(const B of Object.keys(this._values))m._values[B]=this._values[B].transitioned(a,d._values[B]);return m}untransitioned(){const a=new gc(this._properties);for(const d of Object.keys(this._values))a._values[d]=this._values[d].untransitioned();return a}}class yf{constructor(a,d,m,B,E){this.property=a,this.value=d,this.begin=E+B.delay||0,this.end=this.begin+B.duration||0,a.specification.transition&&(B.delay||B.duration)&&(this.prior=m)}possiblyEvaluate(a,d,m){const B=a.now||0,E=this.value.possiblyEvaluate(a,d,m),T=this.prior;if(T){if(B>this.end)return this.prior=null,E;if(this.value.isDataDriven())return this.prior=null,E;if(B<this.begin)return T.possiblyEvaluate(a,d,m);{const O=(B-this.begin)/(this.end-this.begin);return this.property.interpolate(T.possiblyEvaluate(a,d,m),E,(function(N){if(N<=0)return 0;if(N>=1)return 1;const q=N*N,Z=q*N;return 4*(N<.5?Z:3*(N-q)+Z-.75)})(O))}}return E}}class gc{constructor(a){this._properties=a,this._values=Object.create(a.defaultTransitioningPropertyValues)}possiblyEvaluate(a,d,m){const B=new Wl(this._properties);for(const E of Object.keys(this._values))B._values[E]=this._values[E].possiblyEvaluate(a,d,m);return B}hasTransition(){for(const a of Object.keys(this._values))if(this._values[a].prior)return!0;return!1}}class bi{constructor(a){this._properties=a,this._values=Object.create(a.defaultPropertyValues)}hasValue(a){return this._values[a].value!==void 0}getValue(a){return ie(this._values[a].value)}setValue(a,d){this._values[a]=new Zl(this._values[a].property,d===null?void 0:ie(d))}serialize(){const a={};for(const d of Object.keys(this._values)){const m=this.getValue(d);m!==void 0&&(a[d]=m)}return a}possiblyEvaluate(a,d,m){const B=new Wl(this._properties);for(const E of Object.keys(this._values))B._values[E]=this._values[E].possiblyEvaluate(a,d,m);return B}}class fs{constructor(a,d,m){this.property=a,this.value=d,this.parameters=m}isConstant(){return this.value.kind==="constant"}constantOr(a){return this.value.kind==="constant"?this.value.value:a}evaluate(a,d,m,B){return this.property.evaluate(this.value,this.parameters,a,d,m,B)}}class Wl{constructor(a){this._properties=a,this._values=Object.create(a.defaultPossiblyEvaluatedValues)}get(a){return this._values[a]}}class lr{constructor(a){this.specification=a}possiblyEvaluate(a,d){if(a.isDataDriven())throw new Error("Value should not be data driven");return a.expression.evaluate(d)}interpolate(a,d,m){const B=la[this.specification.type];return B?B(a,d,m):a}}class Cr{constructor(a,d){this.specification=a,this.overrides=d}possiblyEvaluate(a,d,m,B){return new fs(this,a.expression.kind==="constant"||a.expression.kind==="camera"?{kind:"constant",value:a.expression.evaluate(d,null,{},m,B)}:a.expression,d)}interpolate(a,d,m){if(a.value.kind!=="constant"||d.value.kind!=="constant")return a;if(a.value.value===void 0||d.value.value===void 0)return new fs(this,{kind:"constant",value:void 0},a.parameters);const B=la[this.specification.type];if(B){const E=B(a.value.value,d.value.value,m);return new fs(this,{kind:"constant",value:E},a.parameters)}return a}evaluate(a,d,m,B,E,T){return a.kind==="constant"?a.value:a.evaluate(d,m,B,E,T)}}class L extends Cr{possiblyEvaluate(a,d,m,B){if(a.value===void 0)return new fs(this,{kind:"constant",value:void 0},d);if(a.expression.kind==="constant"){const E=a.expression.evaluate(d,null,{},m,B),T=a.property.specification.type==="resolvedImage"&&typeof E!="string"?E.name:E,O=this._calculate(T,T,T,d);return new fs(this,{kind:"constant",value:O},d)}if(a.expression.kind==="camera"){const E=this._calculate(a.expression.evaluate({zoom:d.zoom-1}),a.expression.evaluate({zoom:d.zoom}),a.expression.evaluate({zoom:d.zoom+1}),d);return new fs(this,{kind:"constant",value:E},d)}return new fs(this,a.expression,d)}evaluate(a,d,m,B,E,T){if(a.kind==="source"){const O=a.evaluate(d,m,B,E,T);return this._calculate(O,O,O,d)}return a.kind==="composite"?this._calculate(a.evaluate({zoom:Math.floor(d.zoom)-1},m,B),a.evaluate({zoom:Math.floor(d.zoom)},m,B),a.evaluate({zoom:Math.floor(d.zoom)+1},m,B),d):a.value}_calculate(a,d,m,B){return B.zoom>B.zoomHistory.lastIntegerZoom?{from:a,to:d}:{from:m,to:d}}interpolate(a){return a}}class D{constructor(a){this.specification=a}possiblyEvaluate(a,d,m,B){if(a.value!==void 0){if(a.expression.kind==="constant"){const E=a.expression.evaluate(d,null,{},m,B);return this._calculate(E,E,E,d)}return this._calculate(a.expression.evaluate(new pn(Math.floor(d.zoom-1),d)),a.expression.evaluate(new pn(Math.floor(d.zoom),d)),a.expression.evaluate(new pn(Math.floor(d.zoom+1),d)),d)}}_calculate(a,d,m,B){return B.zoom>B.zoomHistory.lastIntegerZoom?{from:a,to:d}:{from:m,to:d}}interpolate(a){return a}}class ${constructor(a){this.specification=a}possiblyEvaluate(a,d,m,B){return!!a.expression.evaluate(d,null,{},m,B)}interpolate(){return!1}}class _{constructor(a){this.properties=a,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const d in a){const m=a[d];m.specification.overridable&&this.overridableProperties.push(d);const B=this.defaultPropertyValues[d]=new Zl(m,void 0),E=this.defaultTransitionablePropertyValues[d]=new pc(m);this.defaultTransitioningPropertyValues[d]=E.untransitioned(),this.defaultPossiblyEvaluatedValues[d]=B.possiblyEvaluate({})}}}Rt("DataDrivenProperty",Cr),Rt("DataConstantProperty",lr),Rt("CrossFadedDataDrivenProperty",L),Rt("CrossFadedProperty",D),Rt("ColorRampProperty",$);const i="-transition";class h extends Pe{constructor(a,d){if(super(),this.id=a.id,this.type=a.type,this._featureFilter={filter:()=>!0,needGeometry:!1},a.type!=="custom"&&(this.metadata=a.metadata,this.minzoom=a.minzoom,this.maxzoom=a.maxzoom,a.type!=="background"&&(this.source=a.source,this.sourceLayer=a["source-layer"],this.filter=a.filter),d.layout&&(this._unevaluatedLayout=new bi(d.layout)),d.paint)){this._transitionablePaint=new Kc(d.paint);for(const m in a.paint)this.setPaintProperty(m,a.paint[m],{validate:!1});for(const m in a.layout)this.setLayoutProperty(m,a.layout[m],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Wl(d.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(a){return a==="visibility"?this.visibility:this._unevaluatedLayout.getValue(a)}setLayoutProperty(a,d,m={}){d!=null&&this._validate(dc,`layers.${this.id}.layout.${a}`,a,d,m)||(a!=="visibility"?this._unevaluatedLayout.setValue(a,d):this.visibility=d)}getPaintProperty(a){return a.endsWith(i)?this._transitionablePaint.getTransition(a.slice(0,-11)):this._transitionablePaint.getValue(a)}setPaintProperty(a,d,m={}){if(d!=null&&this._validate(Rc,`layers.${this.id}.paint.${a}`,a,d,m))return!1;if(a.endsWith(i))return this._transitionablePaint.setTransition(a.slice(0,-11),d||void 0),!1;{const B=this._transitionablePaint._values[a],E=B.property.specification["property-type"]==="cross-faded-data-driven",T=B.value.isDataDriven(),O=B.value;this._transitionablePaint.setValue(a,d),this._handleSpecialPaintPropertyUpdate(a);const N=this._transitionablePaint._values[a].value;return N.isDataDriven()||T||E||this._handleOverridablePaintPropertyUpdate(a,O,N)}}_handleSpecialPaintPropertyUpdate(a){}_handleOverridablePaintPropertyUpdate(a,d,m){return!1}isHidden(a){return!!(this.minzoom&&a<this.minzoom)||!!(this.maxzoom&&a>=this.maxzoom)||this.visibility==="none"}updateTransitions(a){this._transitioningPaint=this._transitionablePaint.transitioned(a,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(a,d){a.getCrossfadeParameters&&(this._crossfadeParameters=a.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(a,void 0,d)),this.paint=this._transitioningPaint.possiblyEvaluate(a,void 0,d)}serialize(){const a={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(a.layout=a.layout||{},a.layout.visibility=this.visibility),ze(a,((d,m)=>!(d===void 0||m==="layout"&&!Object.keys(d).length||m==="paint"&&!Object.keys(d).length)))}_validate(a,d,m,B,E={}){return(!E||E.validate!==!1)&&zc(this,a.call(Ia,{key:d,layerType:this.type,objectKey:m,value:B,styleSpec:Ze,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const a in this.paint._values){const d=this.paint.get(a);if(d instanceof fs&&os(d.property.specification)&&(d.value.kind==="source"||d.value.kind==="composite")&&d.value.isStateDependent)return!0}return!1}}const p={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class v{constructor(a,d){this._structArray=a,this._pos1=d*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class x{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(a,d){return a._trim(),d&&(a.isTransferred=!0,d.push(a.arrayBuffer)),{length:a.length,arrayBuffer:a.arrayBuffer}}static deserialize(a){const d=Object.create(this.prototype);return d.arrayBuffer=a.arrayBuffer,d.length=a.length,d.capacity=a.arrayBuffer.byteLength/d.bytesPerElement,d._refreshViews(),d}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(a){this.reserve(a),this.length=a}reserve(a){if(a>this.capacity){this.capacity=Math.max(a,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const d=this.uint8;this._refreshViews(),d&&this.uint8.set(d)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function F(u,a=1){let d=0,m=0;return{members:u.map((B=>{const E=p[B.type].BYTES_PER_ELEMENT,T=d=M(d,Math.max(a,E)),O=B.components||1;return m=Math.max(m,E),d+=E*O,{name:B.name,type:B.type,components:O,offset:T}})),size:M(d,Math.max(m,a)),alignment:a}}function M(u,a){return Math.ceil(u/a)*a}class k extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,d){const m=this.length;return this.resize(m+1),this.emplace(m,a,d)}emplace(a,d,m){const B=2*a;return this.int16[B+0]=d,this.int16[B+1]=m,a}}k.prototype.bytesPerElement=4,Rt("StructArrayLayout2i4",k);class Q extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,d,m){const B=this.length;return this.resize(B+1),this.emplace(B,a,d,m)}emplace(a,d,m,B){const E=3*a;return this.int16[E+0]=d,this.int16[E+1]=m,this.int16[E+2]=B,a}}Q.prototype.bytesPerElement=6,Rt("StructArrayLayout3i6",Q);class G extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,d,m,B){const E=this.length;return this.resize(E+1),this.emplace(E,a,d,m,B)}emplace(a,d,m,B,E){const T=4*a;return this.int16[T+0]=d,this.int16[T+1]=m,this.int16[T+2]=B,this.int16[T+3]=E,a}}G.prototype.bytesPerElement=8,Rt("StructArrayLayout4i8",G);class X extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,d,m,B,E,T){const O=this.length;return this.resize(O+1),this.emplace(O,a,d,m,B,E,T)}emplace(a,d,m,B,E,T,O){const N=6*a;return this.int16[N+0]=d,this.int16[N+1]=m,this.int16[N+2]=B,this.int16[N+3]=E,this.int16[N+4]=T,this.int16[N+5]=O,a}}X.prototype.bytesPerElement=12,Rt("StructArrayLayout2i4i12",X);class J extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,d,m,B,E,T){const O=this.length;return this.resize(O+1),this.emplace(O,a,d,m,B,E,T)}emplace(a,d,m,B,E,T,O){const N=4*a,q=8*a;return this.int16[N+0]=d,this.int16[N+1]=m,this.uint8[q+4]=B,this.uint8[q+5]=E,this.uint8[q+6]=T,this.uint8[q+7]=O,a}}J.prototype.bytesPerElement=8,Rt("StructArrayLayout2i4ub8",J);class ee extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,d){const m=this.length;return this.resize(m+1),this.emplace(m,a,d)}emplace(a,d,m){const B=2*a;return this.float32[B+0]=d,this.float32[B+1]=m,a}}ee.prototype.bytesPerElement=8,Rt("StructArrayLayout2f8",ee);class ue extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,d,m,B,E,T,O,N,q,Z){const Y=this.length;return this.resize(Y+1),this.emplace(Y,a,d,m,B,E,T,O,N,q,Z)}emplace(a,d,m,B,E,T,O,N,q,Z,Y){const ae=10*a;return this.uint16[ae+0]=d,this.uint16[ae+1]=m,this.uint16[ae+2]=B,this.uint16[ae+3]=E,this.uint16[ae+4]=T,this.uint16[ae+5]=O,this.uint16[ae+6]=N,this.uint16[ae+7]=q,this.uint16[ae+8]=Z,this.uint16[ae+9]=Y,a}}ue.prototype.bytesPerElement=20,Rt("StructArrayLayout10ui20",ue);class ge extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,d,m,B,E,T,O,N,q,Z,Y,ae){const he=this.length;return this.resize(he+1),this.emplace(he,a,d,m,B,E,T,O,N,q,Z,Y,ae)}emplace(a,d,m,B,E,T,O,N,q,Z,Y,ae,he){const ye=12*a;return this.int16[ye+0]=d,this.int16[ye+1]=m,this.int16[ye+2]=B,this.int16[ye+3]=E,this.uint16[ye+4]=T,this.uint16[ye+5]=O,this.uint16[ye+6]=N,this.uint16[ye+7]=q,this.int16[ye+8]=Z,this.int16[ye+9]=Y,this.int16[ye+10]=ae,this.int16[ye+11]=he,a}}ge.prototype.bytesPerElement=24,Rt("StructArrayLayout4i4ui4i24",ge);class Ce extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,d,m){const B=this.length;return this.resize(B+1),this.emplace(B,a,d,m)}emplace(a,d,m,B){const E=3*a;return this.float32[E+0]=d,this.float32[E+1]=m,this.float32[E+2]=B,a}}Ce.prototype.bytesPerElement=12,Rt("StructArrayLayout3f12",Ce);class xe extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(a){const d=this.length;return this.resize(d+1),this.emplace(d,a)}emplace(a,d){return this.uint32[1*a+0]=d,a}}xe.prototype.bytesPerElement=4,Rt("StructArrayLayout1ul4",xe);class Oe extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,d,m,B,E,T,O,N,q){const Z=this.length;return this.resize(Z+1),this.emplace(Z,a,d,m,B,E,T,O,N,q)}emplace(a,d,m,B,E,T,O,N,q,Z){const Y=10*a,ae=5*a;return this.int16[Y+0]=d,this.int16[Y+1]=m,this.int16[Y+2]=B,this.int16[Y+3]=E,this.int16[Y+4]=T,this.int16[Y+5]=O,this.uint32[ae+3]=N,this.uint16[Y+8]=q,this.uint16[Y+9]=Z,a}}Oe.prototype.bytesPerElement=20,Rt("StructArrayLayout6i1ul2ui20",Oe);class Ee extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,d,m,B,E,T){const O=this.length;return this.resize(O+1),this.emplace(O,a,d,m,B,E,T)}emplace(a,d,m,B,E,T,O){const N=6*a;return this.int16[N+0]=d,this.int16[N+1]=m,this.int16[N+2]=B,this.int16[N+3]=E,this.int16[N+4]=T,this.int16[N+5]=O,a}}Ee.prototype.bytesPerElement=12,Rt("StructArrayLayout2i2i2i12",Ee);class qe extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,d,m,B,E){const T=this.length;return this.resize(T+1),this.emplace(T,a,d,m,B,E)}emplace(a,d,m,B,E,T){const O=4*a,N=8*a;return this.float32[O+0]=d,this.float32[O+1]=m,this.float32[O+2]=B,this.int16[N+6]=E,this.int16[N+7]=T,a}}qe.prototype.bytesPerElement=16,Rt("StructArrayLayout2f1f2i16",qe);class Ke extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,d,m,B,E,T){const O=this.length;return this.resize(O+1),this.emplace(O,a,d,m,B,E,T)}emplace(a,d,m,B,E,T,O){const N=16*a,q=4*a,Z=8*a;return this.uint8[N+0]=d,this.uint8[N+1]=m,this.float32[q+1]=B,this.float32[q+2]=E,this.int16[Z+6]=T,this.int16[Z+7]=O,a}}Ke.prototype.bytesPerElement=16,Rt("StructArrayLayout2ub2f2i16",Ke);class it extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,d,m){const B=this.length;return this.resize(B+1),this.emplace(B,a,d,m)}emplace(a,d,m,B){const E=3*a;return this.uint16[E+0]=d,this.uint16[E+1]=m,this.uint16[E+2]=B,a}}it.prototype.bytesPerElement=6,Rt("StructArrayLayout3ui6",it);class bt extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,d,m,B,E,T,O,N,q,Z,Y,ae,he,ye,Be,Re,Ge){const At=this.length;return this.resize(At+1),this.emplace(At,a,d,m,B,E,T,O,N,q,Z,Y,ae,he,ye,Be,Re,Ge)}emplace(a,d,m,B,E,T,O,N,q,Z,Y,ae,he,ye,Be,Re,Ge,At){const nt=24*a,ot=12*a,Bt=48*a;return this.int16[nt+0]=d,this.int16[nt+1]=m,this.uint16[nt+2]=B,this.uint16[nt+3]=E,this.uint32[ot+2]=T,this.uint32[ot+3]=O,this.uint32[ot+4]=N,this.uint16[nt+10]=q,this.uint16[nt+11]=Z,this.uint16[nt+12]=Y,this.float32[ot+7]=ae,this.float32[ot+8]=he,this.uint8[Bt+36]=ye,this.uint8[Bt+37]=Be,this.uint8[Bt+38]=Re,this.uint32[ot+10]=Ge,this.int16[nt+22]=At,a}}bt.prototype.bytesPerElement=48,Rt("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",bt);class Ct extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,d,m,B,E,T,O,N,q,Z,Y,ae,he,ye,Be,Re,Ge,At,nt,ot,Bt,Kt,er,kr,Wt,Yt,pr,Ar){const ir=this.length;return this.resize(ir+1),this.emplace(ir,a,d,m,B,E,T,O,N,q,Z,Y,ae,he,ye,Be,Re,Ge,At,nt,ot,Bt,Kt,er,kr,Wt,Yt,pr,Ar)}emplace(a,d,m,B,E,T,O,N,q,Z,Y,ae,he,ye,Be,Re,Ge,At,nt,ot,Bt,Kt,er,kr,Wt,Yt,pr,Ar,ir){const Ut=32*a,ar=16*a;return this.int16[Ut+0]=d,this.int16[Ut+1]=m,this.int16[Ut+2]=B,this.int16[Ut+3]=E,this.int16[Ut+4]=T,this.int16[Ut+5]=O,this.int16[Ut+6]=N,this.int16[Ut+7]=q,this.uint16[Ut+8]=Z,this.uint16[Ut+9]=Y,this.uint16[Ut+10]=ae,this.uint16[Ut+11]=he,this.uint16[Ut+12]=ye,this.uint16[Ut+13]=Be,this.uint16[Ut+14]=Re,this.uint16[Ut+15]=Ge,this.uint16[Ut+16]=At,this.uint16[Ut+17]=nt,this.uint16[Ut+18]=ot,this.uint16[Ut+19]=Bt,this.uint16[Ut+20]=Kt,this.uint16[Ut+21]=er,this.uint16[Ut+22]=kr,this.uint32[ar+12]=Wt,this.float32[ar+13]=Yt,this.float32[ar+14]=pr,this.uint16[Ut+30]=Ar,this.uint16[Ut+31]=ir,a}}Ct.prototype.bytesPerElement=64,Rt("StructArrayLayout8i15ui1ul2f2ui64",Ct);class yt extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a){const d=this.length;return this.resize(d+1),this.emplace(d,a)}emplace(a,d){return this.float32[1*a+0]=d,a}}yt.prototype.bytesPerElement=4,Rt("StructArrayLayout1f4",yt);class pt extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,d,m){const B=this.length;return this.resize(B+1),this.emplace(B,a,d,m)}emplace(a,d,m,B){const E=3*a;return this.uint16[6*a+0]=d,this.float32[E+1]=m,this.float32[E+2]=B,a}}pt.prototype.bytesPerElement=12,Rt("StructArrayLayout1ui2f12",pt);class Qt extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,d,m){const B=this.length;return this.resize(B+1),this.emplace(B,a,d,m)}emplace(a,d,m,B){const E=4*a;return this.uint32[2*a+0]=d,this.uint16[E+2]=m,this.uint16[E+3]=B,a}}Qt.prototype.bytesPerElement=8,Rt("StructArrayLayout1ul2ui8",Qt);class St extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,d){const m=this.length;return this.resize(m+1),this.emplace(m,a,d)}emplace(a,d,m){const B=2*a;return this.uint16[B+0]=d,this.uint16[B+1]=m,a}}St.prototype.bytesPerElement=4,Rt("StructArrayLayout2ui4",St);class zt extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a){const d=this.length;return this.resize(d+1),this.emplace(d,a)}emplace(a,d){return this.uint16[1*a+0]=d,a}}zt.prototype.bytesPerElement=2,Rt("StructArrayLayout1ui2",zt);class tr extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,d,m,B){const E=this.length;return this.resize(E+1),this.emplace(E,a,d,m,B)}emplace(a,d,m,B,E){const T=4*a;return this.float32[T+0]=d,this.float32[T+1]=m,this.float32[T+2]=B,this.float32[T+3]=E,a}}tr.prototype.bytesPerElement=16,Rt("StructArrayLayout4f16",tr);class Vt extends v{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new S(this.anchorPointX,this.anchorPointY)}}Vt.prototype.size=20;class Gt extends Oe{get(a){return new Vt(this,a)}}Rt("CollisionBoxArray",Gt);class rr extends v{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(a){this._structArray.uint8[this._pos1+37]=a}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(a){this._structArray.uint8[this._pos1+38]=a}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(a){this._structArray.uint32[this._pos4+10]=a}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}rr.prototype.size=48;class un extends bt{get(a){return new rr(this,a)}}Rt("PlacedSymbolArray",un);class Ir extends v{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(a){this._structArray.uint32[this._pos4+12]=a}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}Ir.prototype.size=64;class Lr extends Ct{get(a){return new Ir(this,a)}}Rt("SymbolInstanceArray",Lr);class br extends yt{getoffsetX(a){return this.float32[1*a+0]}}Rt("GlyphOffsetArray",br);class an extends Q{getx(a){return this.int16[3*a+0]}gety(a){return this.int16[3*a+1]}gettileUnitDistanceFromAnchor(a){return this.int16[3*a+2]}}Rt("SymbolLineVertexArray",an);class Hn extends v{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}Hn.prototype.size=12;class Dr extends pt{get(a){return new Hn(this,a)}}Rt("TextAnchorOffsetArray",Dr);class qn extends v{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}qn.prototype.size=8;class In extends Qt{get(a){return new qn(this,a)}}Rt("FeatureIndexArray",In);class sn extends k{}class On extends k{}class Cn extends k{}class xi extends X{}class Di extends J{}class Gn extends ee{}class fn extends ue{}class _a extends ge{}class Ei extends Ce{}class mr extends xe{}class vr extends Ee{}class xn extends Ke{}class Ti extends it{}class ni extends St{}const Wn=F([{name:"a_pos",components:2,type:"Int16"}],4),{members:Xn}=Wn;class cn{constructor(a=[]){this.segments=a}prepareSegment(a,d,m,B){let E=this.segments[this.segments.length-1];return a>cn.MAX_VERTEX_ARRAY_LENGTH&&ve(`Max vertices per segment is ${cn.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${a}`),(!E||E.vertexLength+a>cn.MAX_VERTEX_ARRAY_LENGTH||E.sortKey!==B)&&(E={vertexOffset:d.length,primitiveOffset:m.length,vertexLength:0,primitiveLength:0},B!==void 0&&(E.sortKey=B),this.segments.push(E)),E}get(){return this.segments}destroy(){for(const a of this.segments)for(const d in a.vaos)a.vaos[d].destroy()}static simpleSegment(a,d,m,B){return new cn([{vertexOffset:a,primitiveOffset:d,vertexLength:m,primitiveLength:B,vaos:{},sortKey:0}])}}function Ps(u,a){return 256*(u=ce(Math.floor(u),0,255))+ce(Math.floor(a),0,255)}cn.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Rt("SegmentVector",cn);const Yl=F([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var Zn={exports:{}},Vc={exports:{}};Vc.exports=function(u,a){var d,m,B,E,T,O,N,q;for(m=u.length-(d=3&u.length),B=a,T=3432918353,O=461845907,q=0;q<m;)N=255&u.charCodeAt(q)|(255&u.charCodeAt(++q))<<8|(255&u.charCodeAt(++q))<<16|(255&u.charCodeAt(++q))<<24,++q,B=27492+(65535&(E=5*(65535&(B=(B^=N=(65535&(N=(N=(65535&N)*T+(((N>>>16)*T&65535)<<16)&4294967295)<<15|N>>>17))*O+(((N>>>16)*O&65535)<<16)&4294967295)<<13|B>>>19))+((5*(B>>>16)&65535)<<16)&4294967295))+((58964+(E>>>16)&65535)<<16);switch(N=0,d){case 3:N^=(255&u.charCodeAt(q+2))<<16;case 2:N^=(255&u.charCodeAt(q+1))<<8;case 1:B^=N=(65535&(N=(N=(65535&(N^=255&u.charCodeAt(q)))*T+(((N>>>16)*T&65535)<<16)&4294967295)<<15|N>>>17))*O+(((N>>>16)*O&65535)<<16)&4294967295}return B^=u.length,B=2246822507*(65535&(B^=B>>>16))+((2246822507*(B>>>16)&65535)<<16)&4294967295,B=3266489909*(65535&(B^=B>>>13))+((3266489909*(B>>>16)&65535)<<16)&4294967295,(B^=B>>>16)>>>0};var Eh=Vc.exports,mc={exports:{}};mc.exports=function(u,a){for(var d,m=u.length,B=a^m,E=0;m>=4;)d=1540483477*(65535&(d=255&u.charCodeAt(E)|(255&u.charCodeAt(++E))<<8|(255&u.charCodeAt(++E))<<16|(255&u.charCodeAt(++E))<<24))+((1540483477*(d>>>16)&65535)<<16),B=1540483477*(65535&B)+((1540483477*(B>>>16)&65535)<<16)^(d=1540483477*(65535&(d^=d>>>24))+((1540483477*(d>>>16)&65535)<<16)),m-=4,++E;switch(m){case 3:B^=(255&u.charCodeAt(E+2))<<16;case 2:B^=(255&u.charCodeAt(E+1))<<8;case 1:B=1540483477*(65535&(B^=255&u.charCodeAt(E)))+((1540483477*(B>>>16)&65535)<<16)}return B=1540483477*(65535&(B^=B>>>13))+((1540483477*(B>>>16)&65535)<<16),(B^=B>>>15)>>>0};var $a=Eh,vf=mc.exports;Zn.exports=$a,Zn.exports.murmur3=$a,Zn.exports.murmur2=vf;var Du=y(Zn.exports);class ou{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(a,d,m,B){this.ids.push(lu(a)),this.positions.push(d,m,B)}getPositions(a){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const d=lu(a);let m=0,B=this.ids.length-1;for(;m<B;){const T=m+B>>1;this.ids[T]>=d?B=T:m=T+1}const E=[];for(;this.ids[m]===d;)E.push({index:this.positions[3*m],start:this.positions[3*m+1],end:this.positions[3*m+2]}),m++;return E}static serialize(a,d){const m=new Float64Array(a.ids),B=new Uint32Array(a.positions);return Ji(m,B,0,m.length-1),d&&d.push(m.buffer,B.buffer),{ids:m,positions:B}}static deserialize(a){const d=new ou;return d.ids=a.ids,d.positions=a.positions,d.indexed=!0,d}}function lu(u){const a=+u;return!isNaN(a)&&a<=Number.MAX_SAFE_INTEGER?a:Du(String(u))}function Ji(u,a,d,m){for(;d<m;){const B=u[d+m>>1];let E=d-1,T=m+1;for(;;){do E++;while(u[E]<B);do T--;while(u[T]>B);if(E>=T)break;li(u,E,T),li(a,3*E,3*T),li(a,3*E+1,3*T+1),li(a,3*E+2,3*T+2)}T-d<m-T?(Ji(u,a,d,T),d=T+1):(Ji(u,a,T+1,m),m=T)}}function li(u,a,d){const m=u[a];u[a]=u[d],u[d]=m}Rt("FeaturePositionMap",ou);class Jl{constructor(a,d){this.gl=a.gl,this.location=d}}class eA extends Jl{constructor(a,d){super(a,d),this.current=0}set(a){this.current!==a&&(this.current=a,this.gl.uniform1f(this.location,a))}}class yc extends Jl{constructor(a,d){super(a,d),this.current=[0,0,0,0]}set(a){a[0]===this.current[0]&&a[1]===this.current[1]&&a[2]===this.current[2]&&a[3]===this.current[3]||(this.current=a,this.gl.uniform4f(this.location,a[0],a[1],a[2],a[3]))}}class ku extends Jl{constructor(a,d){super(a,d),this.current=bn.transparent}set(a){a.r===this.current.r&&a.g===this.current.g&&a.b===this.current.b&&a.a===this.current.a||(this.current=a,this.gl.uniform4f(this.location,a.r,a.g,a.b,a.a))}}const OA=new Float32Array(16);function qc(u){return[Ps(255*u.r,255*u.g),Ps(255*u.b,255*u.a)]}class DA{constructor(a,d,m){this.value=a,this.uniformNames=d.map((B=>`u_${B}`)),this.type=m}setUniform(a,d,m){a.set(m.constantOr(this.value))}getBinding(a,d,m){return this.type==="color"?new ku(a,d):new eA(a,d)}}class Au{constructor(a,d){this.uniformNames=d.map((m=>`u_${m}`)),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(a,d){this.pixelRatioFrom=d.pixelRatio,this.pixelRatioTo=a.pixelRatio,this.patternFrom=d.tlbr,this.patternTo=a.tlbr}setUniform(a,d,m,B){const E=B==="u_pattern_to"?this.patternTo:B==="u_pattern_from"?this.patternFrom:B==="u_pixel_ratio_to"?this.pixelRatioTo:B==="u_pixel_ratio_from"?this.pixelRatioFrom:null;E&&a.set(E)}getBinding(a,d,m){return m.substr(0,9)==="u_pattern"?new yc(a,d):new eA(a,d)}}class vl{constructor(a,d,m,B){this.expression=a,this.type=m,this.maxValue=0,this.paintVertexAttributes=d.map((E=>({name:`a_${E}`,type:"Float32",components:m==="color"?2:1,offset:0}))),this.paintVertexArray=new B}populatePaintArray(a,d,m,B,E){const T=this.paintVertexArray.length,O=this.expression.evaluate(new pn(0),d,{},B,[],E);this.paintVertexArray.resize(a),this._setPaintValue(T,a,O)}updatePaintArray(a,d,m,B){const E=this.expression.evaluate({zoom:0},m,B);this._setPaintValue(a,d,E)}_setPaintValue(a,d,m){if(this.type==="color"){const B=qc(m);for(let E=a;E<d;E++)this.paintVertexArray.emplace(E,B[0],B[1])}else{for(let B=a;B<d;B++)this.paintVertexArray.emplace(B,m);this.maxValue=Math.max(this.maxValue,Math.abs(m))}}upload(a){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=a.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Ka{constructor(a,d,m,B,E,T){this.expression=a,this.uniformNames=d.map((O=>`u_${O}_t`)),this.type=m,this.useIntegerZoom=B,this.zoom=E,this.maxValue=0,this.paintVertexAttributes=d.map((O=>({name:`a_${O}`,type:"Float32",components:m==="color"?4:2,offset:0}))),this.paintVertexArray=new T}populatePaintArray(a,d,m,B,E){const T=this.expression.evaluate(new pn(this.zoom),d,{},B,[],E),O=this.expression.evaluate(new pn(this.zoom+1),d,{},B,[],E),N=this.paintVertexArray.length;this.paintVertexArray.resize(a),this._setPaintValue(N,a,T,O)}updatePaintArray(a,d,m,B){const E=this.expression.evaluate({zoom:this.zoom},m,B),T=this.expression.evaluate({zoom:this.zoom+1},m,B);this._setPaintValue(a,d,E,T)}_setPaintValue(a,d,m,B){if(this.type==="color"){const E=qc(m),T=qc(B);for(let O=a;O<d;O++)this.paintVertexArray.emplace(O,E[0],E[1],T[0],T[1])}else{for(let E=a;E<d;E++)this.paintVertexArray.emplace(E,m,B);this.maxValue=Math.max(this.maxValue,Math.abs(m),Math.abs(B))}}upload(a){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=a.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(a,d){const m=this.useIntegerZoom?Math.floor(d.zoom):d.zoom,B=ce(this.expression.interpolationFactor(m,this.zoom,this.zoom+1),0,1);a.set(B)}getBinding(a,d,m){return new eA(a,d)}}class kA{constructor(a,d,m,B,E,T){this.expression=a,this.type=d,this.useIntegerZoom=m,this.zoom=B,this.layerId=T,this.zoomInPaintVertexArray=new E,this.zoomOutPaintVertexArray=new E}populatePaintArray(a,d,m){const B=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(a),this.zoomOutPaintVertexArray.resize(a),this._setPaintValues(B,a,d.patterns&&d.patterns[this.layerId],m)}updatePaintArray(a,d,m,B,E){this._setPaintValues(a,d,m.patterns&&m.patterns[this.layerId],E)}_setPaintValues(a,d,m,B){if(!B||!m)return;const{min:E,mid:T,max:O}=m,N=B[E],q=B[T],Z=B[O];if(N&&q&&Z)for(let Y=a;Y<d;Y++)this.zoomInPaintVertexArray.emplace(Y,q.tl[0],q.tl[1],q.br[0],q.br[1],N.tl[0],N.tl[1],N.br[0],N.br[1],q.pixelRatio,N.pixelRatio),this.zoomOutPaintVertexArray.emplace(Y,q.tl[0],q.tl[1],q.br[0],q.br[1],Z.tl[0],Z.tl[1],Z.br[0],Z.br[1],q.pixelRatio,Z.pixelRatio)}upload(a){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=a.createVertexBuffer(this.zoomInPaintVertexArray,Yl.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=a.createVertexBuffer(this.zoomOutPaintVertexArray,Yl.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class _f{constructor(a,d,m){this.binders={},this._buffers=[];const B=[];for(const E in a.paint._values){if(!m(E))continue;const T=a.paint.get(E);if(!(T instanceof fs&&os(T.property.specification)))continue;const O=bd(E,a.type),N=T.value,q=T.property.specification.type,Z=T.property.useIntegerZoom,Y=T.property.specification["property-type"],ae=Y==="cross-faded"||Y==="cross-faded-data-driven";if(N.kind==="constant")this.binders[E]=ae?new Au(N.value,O):new DA(N.value,O,q),B.push(`/u_${E}`);else if(N.kind==="source"||ae){const he=uu(E,q,"source");this.binders[E]=ae?new kA(N,q,Z,d,he,a.id):new vl(N,O,q,he),B.push(`/a_${E}`)}else{const he=uu(E,q,"composite");this.binders[E]=new Ka(N,O,q,Z,d,he),B.push(`/z_${E}`)}}this.cacheKey=B.sort().join("")}getMaxValue(a){const d=this.binders[a];return d instanceof vl||d instanceof Ka?d.maxValue:0}populatePaintArrays(a,d,m,B,E){for(const T in this.binders){const O=this.binders[T];(O instanceof vl||O instanceof Ka||O instanceof kA)&&O.populatePaintArray(a,d,m,B,E)}}setConstantPatternPositions(a,d){for(const m in this.binders){const B=this.binders[m];B instanceof Au&&B.setConstantPatternPositions(a,d)}}updatePaintArrays(a,d,m,B,E){let T=!1;for(const O in a){const N=d.getPositions(O);for(const q of N){const Z=m.feature(q.index);for(const Y in this.binders){const ae=this.binders[Y];if((ae instanceof vl||ae instanceof Ka||ae instanceof kA)&&ae.expression.isStateDependent===!0){const he=B.paint.get(Y);ae.expression=he.value,ae.updatePaintArray(q.start,q.end,Z,a[O],E),T=!0}}}}return T}defines(){const a=[];for(const d in this.binders){const m=this.binders[d];(m instanceof DA||m instanceof Au)&&a.push(...m.uniformNames.map((B=>`#define HAS_UNIFORM_${B}`)))}return a}getBinderAttributes(){const a=[];for(const d in this.binders){const m=this.binders[d];if(m instanceof vl||m instanceof Ka)for(let B=0;B<m.paintVertexAttributes.length;B++)a.push(m.paintVertexAttributes[B].name);else if(m instanceof kA)for(let B=0;B<Yl.members.length;B++)a.push(Yl.members[B].name)}return a}getBinderUniforms(){const a=[];for(const d in this.binders){const m=this.binders[d];if(m instanceof DA||m instanceof Au||m instanceof Ka)for(const B of m.uniformNames)a.push(B)}return a}getPaintVertexBuffers(){return this._buffers}getUniforms(a,d){const m=[];for(const B in this.binders){const E=this.binders[B];if(E instanceof DA||E instanceof Au||E instanceof Ka){for(const T of E.uniformNames)if(d[T]){const O=E.getBinding(a,d[T],T);m.push({name:T,property:B,binding:O})}}}return m}setUniforms(a,d,m,B){for(const{name:E,property:T,binding:O}of d)this.binders[T].setUniform(O,B,m.get(T),E)}updatePaintBuffers(a){this._buffers=[];for(const d in this.binders){const m=this.binders[d];if(a&&m instanceof kA){const B=a.fromScale===2?m.zoomInPaintVertexBuffer:m.zoomOutPaintVertexBuffer;B&&this._buffers.push(B)}else(m instanceof vl||m instanceof Ka)&&m.paintVertexBuffer&&this._buffers.push(m.paintVertexBuffer)}}upload(a){for(const d in this.binders){const m=this.binders[d];(m instanceof vl||m instanceof Ka||m instanceof kA)&&m.upload(a)}this.updatePaintBuffers()}destroy(){for(const a in this.binders){const d=this.binders[a];(d instanceof vl||d instanceof Ka||d instanceof kA)&&d.destroy()}}}class Qu{constructor(a,d,m=(()=>!0)){this.programConfigurations={};for(const B of a)this.programConfigurations[B.id]=new _f(B,d,m);this.needsUpload=!1,this._featureMap=new ou,this._bufferOffset=0}populatePaintArrays(a,d,m,B,E,T){for(const O in this.programConfigurations)this.programConfigurations[O].populatePaintArrays(a,d,B,E,T);d.id!==void 0&&this._featureMap.add(d.id,m,this._bufferOffset,a),this._bufferOffset=a,this.needsUpload=!0}updatePaintArrays(a,d,m,B){for(const E of m)this.needsUpload=this.programConfigurations[E.id].updatePaintArrays(a,this._featureMap,d,E,B)||this.needsUpload}get(a){return this.programConfigurations[a]}upload(a){if(this.needsUpload){for(const d in this.programConfigurations)this.programConfigurations[d].upload(a);this.needsUpload=!1}}destroy(){for(const a in this.programConfigurations)this.programConfigurations[a].destroy()}}function bd(u,a){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[u]||[u.replace(`${a}-`,"").replace(/-/g,"_")]}function uu(u,a,d){const m={color:{source:ee,composite:tr},number:{source:yt,composite:ee}},B=(function(E){return{"line-pattern":{source:fn,composite:fn},"fill-pattern":{source:fn,composite:fn},"fill-extrusion-pattern":{source:fn,composite:fn}}[E]})(u);return B&&B[d]||m[a][d]}Rt("ConstantBinder",DA),Rt("CrossFadedConstantBinder",Au),Rt("SourceExpressionBinder",vl),Rt("CrossFadedCompositeBinder",kA),Rt("CompositeExpressionBinder",Ka),Rt("ProgramConfiguration",_f,{omit:["_buffers"]}),Rt("ProgramConfigurationSet",Qu);const ea=8192,wf=Math.pow(2,14)-1,xd=-wf-1;function cu(u){const a=ea/u.extent,d=u.loadGeometry();for(let m=0;m<d.length;m++){const B=d[m];for(let E=0;E<B.length;E++){const T=B[E],O=Math.round(T.x*a),N=Math.round(T.y*a);T.x=ce(O,xd,wf),T.y=ce(N,xd,wf),(O<T.x||O>T.x+1||N<T.y||N>T.y+1)&&ve("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return d}function Nu(u,a){return{type:u.type,id:u.id,properties:u.properties,geometry:a?cu(u):[]}}function QA(u,a,d,m,B){u.emplaceBack(2*a+(m+1)/2,2*d+(B+1)/2)}class Gc{constructor(a){this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map((d=>d.id)),this.index=a.index,this.hasPattern=!1,this.layoutVertexArray=new On,this.indexArray=new Ti,this.segments=new cn,this.programConfigurations=new Qu(a.layers,a.zoom),this.stateDependentLayerIds=this.layers.filter((d=>d.isStateDependent())).map((d=>d.id))}populate(a,d,m){const B=this.layers[0],E=[];let T=null,O=!1;B.type==="circle"&&(T=B.layout.get("circle-sort-key"),O=!T.isConstant());for(const{feature:N,id:q,index:Z,sourceLayerIndex:Y}of a){const ae=this.layers[0]._featureFilter.needGeometry,he=Nu(N,ae);if(!this.layers[0]._featureFilter.filter(new pn(this.zoom),he,m))continue;const ye=O?T.evaluate(he,{},m):void 0,Be={id:q,properties:N.properties,type:N.type,sourceLayerIndex:Y,index:Z,geometry:ae?he.geometry:cu(N),patterns:{},sortKey:ye};E.push(Be)}O&&E.sort(((N,q)=>N.sortKey-q.sortKey));for(const N of E){const{geometry:q,index:Z,sourceLayerIndex:Y}=N,ae=a[Z].feature;this.addFeature(N,q,Z,m),d.featureIndex.insert(ae,q,Z,Y,this.index)}}update(a,d,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(a,d,this.stateDependentLayers,m)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(a){this.uploaded||(this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,Xn),this.indexBuffer=a.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(a),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(a,d,m,B){for(const E of d)for(const T of E){const O=T.x,N=T.y;if(O<0||O>=ea||N<0||N>=ea)continue;const q=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,a.sortKey),Z=q.vertexLength;QA(this.layoutVertexArray,O,N,-1,-1),QA(this.layoutVertexArray,O,N,1,-1),QA(this.layoutVertexArray,O,N,1,1),QA(this.layoutVertexArray,O,N,-1,1),this.indexArray.emplaceBack(Z,Z+1,Z+2),this.indexArray.emplaceBack(Z,Z+3,Z+2),q.vertexLength+=4,q.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,a,m,{},B)}}function Xc(u,a){for(let d=0;d<u.length;d++)if(tA(a,u[d]))return!0;for(let d=0;d<a.length;d++)if(tA(u,a[d]))return!0;return!!$c(u,a)}function NA(u,a,d){return!!tA(u,a)||!!fu(a,u,d)}function RA(u,a){if(u.length===1)return vc(a,u[0]);for(let d=0;d<a.length;d++){const m=a[d];for(let B=0;B<m.length;B++)if(tA(u,m[B]))return!0}for(let d=0;d<u.length;d++)if(vc(a,u[d]))return!0;for(let d=0;d<a.length;d++)if($c(u,a[d]))return!0;return!1}function hu(u,a,d){if(u.length>1){if($c(u,a))return!0;for(let m=0;m<a.length;m++)if(fu(a[m],u,d))return!0}for(let m=0;m<u.length;m++)if(fu(u[m],a,d))return!0;return!1}function $c(u,a){if(u.length===0||a.length===0)return!1;for(let d=0;d<u.length-1;d++){const m=u[d],B=u[d+1];for(let E=0;E<a.length-1;E++)if(bf(m,B,a[E],a[E+1]))return!0}return!1}function bf(u,a,d,m){return _e(u,d,m)!==_e(a,d,m)&&_e(u,a,d)!==_e(u,a,m)}function fu(u,a,d){const m=d*d;if(a.length===1)return u.distSqr(a[0])<m;for(let B=1;B<a.length;B++)if(Bd(u,a[B-1],a[B])<m)return!0;return!1}function Bd(u,a,d){const m=a.distSqr(d);if(m===0)return u.distSqr(a);const B=((u.x-a.x)*(d.x-a.x)+(u.y-a.y)*(d.y-a.y))/m;return u.distSqr(B<0?a:B>1?d:d.sub(a)._mult(B)._add(a))}function vc(u,a){let d,m,B,E=!1;for(let T=0;T<u.length;T++){d=u[T];for(let O=0,N=d.length-1;O<d.length;N=O++)m=d[O],B=d[N],m.y>a.y!=B.y>a.y&&a.x<(B.x-m.x)*(a.y-m.y)/(B.y-m.y)+m.x&&(E=!E)}return E}function tA(u,a){let d=!1;for(let m=0,B=u.length-1;m<u.length;B=m++){const E=u[m],T=u[B];E.y>a.y!=T.y>a.y&&a.x<(T.x-E.x)*(a.y-E.y)/(T.y-E.y)+E.x&&(d=!d)}return d}function Cy(u,a,d){const m=d[0],B=d[2];if(u.x<m.x&&a.x<m.x||u.x>B.x&&a.x>B.x||u.y<m.y&&a.y<m.y||u.y>B.y&&a.y>B.y)return!1;const E=_e(u,a,d[0]);return E!==_e(u,a,d[1])||E!==_e(u,a,d[2])||E!==_e(u,a,d[3])}function Th(u,a,d){const m=a.paint.get(u).value;return m.kind==="constant"?m.value:d.programConfigurations.get(a.id).getMaxValue(u)}function Pp(u){return Math.sqrt(u[0]*u[0]+u[1]*u[1])}function Cd(u,a,d,m,B){if(!a[0]&&!a[1])return u;const E=S.convert(a)._mult(B);d==="viewport"&&E._rotate(-m);const T=[];for(let O=0;O<u.length;O++)T.push(u[O].sub(E));return T}let om,lm;Rt("CircleBucket",Gc,{omit:["layers"]});var Sy={get paint(){return lm=lm||new _({"circle-radius":new Cr(Ze.paint_circle["circle-radius"]),"circle-color":new Cr(Ze.paint_circle["circle-color"]),"circle-blur":new Cr(Ze.paint_circle["circle-blur"]),"circle-opacity":new Cr(Ze.paint_circle["circle-opacity"]),"circle-translate":new lr(Ze.paint_circle["circle-translate"]),"circle-translate-anchor":new lr(Ze.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new lr(Ze.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new lr(Ze.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Cr(Ze.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Cr(Ze.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Cr(Ze.paint_circle["circle-stroke-opacity"])})},get layout(){return om=om||new _({"circle-sort-key":new Cr(Ze.layout_circle["circle-sort-key"])})}},ro=1e-6,Zc=typeof Float32Array<"u"?Float32Array:Array;function Op(u){return u[0]=1,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=1,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=1,u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u}function Am(u,a,d){var m=a[0],B=a[1],E=a[2],T=a[3],O=a[4],N=a[5],q=a[6],Z=a[7],Y=a[8],ae=a[9],he=a[10],ye=a[11],Be=a[12],Re=a[13],Ge=a[14],At=a[15],nt=d[0],ot=d[1],Bt=d[2],Kt=d[3];return u[0]=nt*m+ot*O+Bt*Y+Kt*Be,u[1]=nt*B+ot*N+Bt*ae+Kt*Re,u[2]=nt*E+ot*q+Bt*he+Kt*Ge,u[3]=nt*T+ot*Z+Bt*ye+Kt*At,u[4]=(nt=d[4])*m+(ot=d[5])*O+(Bt=d[6])*Y+(Kt=d[7])*Be,u[5]=nt*B+ot*N+Bt*ae+Kt*Re,u[6]=nt*E+ot*q+Bt*he+Kt*Ge,u[7]=nt*T+ot*Z+Bt*ye+Kt*At,u[8]=(nt=d[8])*m+(ot=d[9])*O+(Bt=d[10])*Y+(Kt=d[11])*Be,u[9]=nt*B+ot*N+Bt*ae+Kt*Re,u[10]=nt*E+ot*q+Bt*he+Kt*Ge,u[11]=nt*T+ot*Z+Bt*ye+Kt*At,u[12]=(nt=d[12])*m+(ot=d[13])*O+(Bt=d[14])*Y+(Kt=d[15])*Be,u[13]=nt*B+ot*N+Bt*ae+Kt*Re,u[14]=nt*E+ot*q+Bt*he+Kt*Ge,u[15]=nt*T+ot*Z+Bt*ye+Kt*At,u}Math.hypot||(Math.hypot=function(){for(var u=0,a=arguments.length;a--;)u+=arguments[a]*arguments[a];return Math.sqrt(u)});var Ih,Ey=Am;function Sd(u,a,d){var m=a[0],B=a[1],E=a[2],T=a[3];return u[0]=d[0]*m+d[4]*B+d[8]*E+d[12]*T,u[1]=d[1]*m+d[5]*B+d[9]*E+d[13]*T,u[2]=d[2]*m+d[6]*B+d[10]*E+d[14]*T,u[3]=d[3]*m+d[7]*B+d[11]*E+d[15]*T,u}Ih=new Zc(4),Zc!=Float32Array&&(Ih[0]=0,Ih[1]=0,Ih[2]=0,Ih[3]=0);class Rw extends h{constructor(a){super(a,Sy)}createBucket(a){return new Gc(a)}queryRadius(a){const d=a;return Th("circle-radius",this,d)+Th("circle-stroke-width",this,d)+Pp(this.paint.get("circle-translate"))}queryIntersectsFeature(a,d,m,B,E,T,O,N){const q=Cd(a,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),T.angle,O),Z=this.paint.get("circle-radius").evaluate(d,m)+this.paint.get("circle-stroke-width").evaluate(d,m),Y=this.paint.get("circle-pitch-alignment")==="map",ae=Y?q:(function(ye,Be){return ye.map((Re=>Dp(Re,Be)))})(q,N),he=Y?Z*O:Z;for(const ye of B)for(const Be of ye){const Re=Y?Be:Dp(Be,N);let Ge=he;const At=Sd([],[Be.x,Be.y,0,1],N);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?Ge*=At[3]/T.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(Ge*=T.cameraToCenterDistance/At[3]),NA(ae,Re,Ge))return!0}return!1}}function Dp(u,a){const d=Sd([],[u.x,u.y,0,1],a);return new S(d[0]/d[3],d[1]/d[3])}class um extends Gc{}let cm;Rt("HeatmapBucket",um,{omit:["layers"]});var hm={get paint(){return cm=cm||new _({"heatmap-radius":new Cr(Ze.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Cr(Ze.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new lr(Ze.paint_heatmap["heatmap-intensity"]),"heatmap-color":new $(Ze.paint_heatmap["heatmap-color"]),"heatmap-opacity":new lr(Ze.paint_heatmap["heatmap-opacity"])})}};function kp(u,{width:a,height:d},m,B){if(B){if(B instanceof Uint8ClampedArray)B=new Uint8Array(B.buffer);else if(B.length!==a*d*m)throw new RangeError(`mismatched image size. expected: ${B.length} but got: ${a*d*m}`)}else B=new Uint8Array(a*d*m);return u.width=a,u.height=d,u.data=B,u}function fm(u,{width:a,height:d},m){if(a===u.width&&d===u.height)return;const B=kp({},{width:a,height:d},m);dm(u,B,{x:0,y:0},{x:0,y:0},{width:Math.min(u.width,a),height:Math.min(u.height,d)},m),u.width=a,u.height=d,u.data=B.data}function dm(u,a,d,m,B,E){if(B.width===0||B.height===0)return a;if(B.width>u.width||B.height>u.height||d.x>u.width-B.width||d.y>u.height-B.height)throw new RangeError("out of range source coordinates for image copy");if(B.width>a.width||B.height>a.height||m.x>a.width-B.width||m.y>a.height-B.height)throw new RangeError("out of range destination coordinates for image copy");const T=u.data,O=a.data;if(T===O)throw new Error("srcData equals dstData, so image is already copied");for(let N=0;N<B.height;N++){const q=((d.y+N)*u.width+d.x)*E,Z=((m.y+N)*a.width+m.x)*E;for(let Y=0;Y<B.width*E;Y++)O[Z+Y]=T[q+Y]}return a}class Ed{constructor(a,d){kp(this,a,1,d)}resize(a){fm(this,a,1)}clone(){return new Ed({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(a,d,m,B,E){dm(a,d,m,B,E,1)}}class _l{constructor(a,d){kp(this,a,4,d)}resize(a){fm(this,a,4)}replace(a,d){d?this.data.set(a):this.data=a instanceof Uint8ClampedArray?new Uint8Array(a.buffer):a}clone(){return new _l({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(a,d,m,B,E){dm(a,d,m,B,E,4)}}function xf(u){const a={},d=u.resolution||256,m=u.clips?u.clips.length:1,B=u.image||new _l({width:d,height:m});if(Math.log(d)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${d}`);const E=(T,O,N)=>{a[u.evaluationKey]=N;const q=u.expression.evaluate(a);B.data[T+O+0]=Math.floor(255*q.r/q.a),B.data[T+O+1]=Math.floor(255*q.g/q.a),B.data[T+O+2]=Math.floor(255*q.b/q.a),B.data[T+O+3]=Math.floor(255*q.a)};if(u.clips)for(let T=0,O=0;T<m;++T,O+=4*d)for(let N=0,q=0;N<d;N++,q+=4){const Z=N/(d-1),{start:Y,end:ae}=u.clips[T];E(O,q,Y*(1-Z)+ae*Z)}else for(let T=0,O=0;T<d;T++,O+=4)E(0,O,T/(d-1));return B}Rt("AlphaImage",Ed),Rt("RGBAImage",_l);const Td="big-fb";class Qp extends h{createBucket(a){return new um(a)}constructor(a){super(a,hm),this.heatmapFbos=new Map,this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(a){a==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=xf({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbos.has(Td)&&this.heatmapFbos.delete(Td)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}}let pm;var Ty={get paint(){return pm=pm||new _({"hillshade-illumination-direction":new lr(Ze.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new lr(Ze.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new lr(Ze.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new lr(Ze.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new lr(Ze.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new lr(Ze.paint_hillshade["hillshade-accent-color"])})}};class Id extends h{constructor(a){super(a,Ty)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}}const Iy=F([{name:"a_pos",components:2,type:"Int16"}],4),{members:gm}=Iy;function mm(u,a,d=2){const m=a&&a.length,B=m?a[0]*d:u.length;let E=Np(u,0,B,d,!0);const T=[];if(!E||E.next===E.prev)return T;let O,N,q;if(m&&(E=(function(Z,Y,ae,he){const ye=[];for(let Be=0,Re=Y.length;Be<Re;Be++){const Ge=Np(Z,Y[Be]*he,Be<Re-1?Y[Be+1]*he:Z.length,he,!1);Ge===Ge.next&&(Ge.steiner=!0),ye.push(Oy(Ge))}ye.sort(My);for(let Be=0;Be<ye.length;Be++)ae=Rp(ye[Be],ae);return ae})(u,a,E,d)),u.length>80*d){O=1/0,N=1/0;let Z=-1/0,Y=-1/0;for(let ae=d;ae<B;ae+=d){const he=u[ae],ye=u[ae+1];he<O&&(O=he),ye<N&&(N=ye),he>Z&&(Z=he),ye>Y&&(Y=ye)}q=Math.max(Z-O,Y-N),q=q!==0?32767/q:0}return Bf(E,T,d,O,N,q,0),T}function Np(u,a,d,m,B){let E;if(B===(function(T,O,N,q){let Z=0;for(let Y=O,ae=N-q;Y<N;Y+=q)Z+=(T[ae]-T[Y])*(T[Y+1]+T[ae+1]),ae=Y;return Z})(u,a,d,m)>0)for(let T=a;T<d;T+=m)E=Sf(T/m|0,u[T],u[T+1],E);else for(let T=d-m;T>=a;T-=m)E=Sf(T/m|0,u[T],u[T+1],E);return E&&wa(E,E.next)&&(Ef(E),E=E.next),E}function _c(u,a){if(!u)return u;a||(a=u);let d,m=u;do if(d=!1,m.steiner||!wa(m,m.next)&&ta(m.prev,m,m.next)!==0)m=m.next;else{if(Ef(m),m=a=m.prev,m===m.next)break;d=!0}while(d||m!==a);return a}function Bf(u,a,d,m,B,E,T){if(!u)return;!T&&E&&(function(N,q,Z,Y){let ae=N;do ae.z===0&&(ae.z=Fd(ae.x,ae.y,q,Z,Y)),ae.prevZ=ae.prev,ae.nextZ=ae.next,ae=ae.next;while(ae!==N);ae.prevZ.nextZ=null,ae.prevZ=null,(function(he){let ye,Be=1;do{let Re,Ge=he;he=null;let At=null;for(ye=0;Ge;){ye++;let nt=Ge,ot=0;for(let Kt=0;Kt<Be&&(ot++,nt=nt.nextZ,nt);Kt++);let Bt=Be;for(;ot>0||Bt>0&&nt;)ot!==0&&(Bt===0||!nt||Ge.z<=nt.z)?(Re=Ge,Ge=Ge.nextZ,ot--):(Re=nt,nt=nt.nextZ,Bt--),At?At.nextZ=Re:he=Re,Re.prevZ=At,At=Re;Ge=nt}At.nextZ=null,Be*=2}while(ye>1)})(ae)})(u,m,B,E);let O=u;for(;u.prev!==u.next;){const N=u.prev,q=u.next;if(E?Fh(u,m,B,E):Fy(u))a.push(N.i,u.i,q.i),Ef(u),u=q.next,O=q.next;else if((u=q)===O){T?T===1?Bf(u=Uy(_c(u),a),a,d,m,B,E,2):T===2&&Ly(u,a,d,m,B,E):Bf(_c(u),a,d,m,B,E,1);break}}}function Fy(u){const a=u.prev,d=u,m=u.next;if(ta(a,d,m)>=0)return!1;const B=a.x,E=d.x,T=m.x,O=a.y,N=d.y,q=m.y,Z=B<E?B<T?B:T:E<T?E:T,Y=O<N?O<q?O:q:N<q?N:q,ae=B>E?B>T?B:T:E>T?E:T,he=O>N?O>q?O:q:N>q?N:q;let ye=m.next;for(;ye!==a;){if(ye.x>=Z&&ye.x<=ae&&ye.y>=Y&&ye.y<=he&&Uh(B,O,E,N,T,q,ye.x,ye.y)&&ta(ye.prev,ye,ye.next)>=0)return!1;ye=ye.next}return!0}function Fh(u,a,d,m){const B=u.prev,E=u,T=u.next;if(ta(B,E,T)>=0)return!1;const O=B.x,N=E.x,q=T.x,Z=B.y,Y=E.y,ae=T.y,he=O<N?O<q?O:q:N<q?N:q,ye=Z<Y?Z<ae?Z:ae:Y<ae?Y:ae,Be=O>N?O>q?O:q:N>q?N:q,Re=Z>Y?Z>ae?Z:ae:Y>ae?Y:ae,Ge=Fd(he,ye,a,d,m),At=Fd(Be,Re,a,d,m);let nt=u.prevZ,ot=u.nextZ;for(;nt&&nt.z>=Ge&&ot&&ot.z<=At;){if(nt.x>=he&&nt.x<=Be&&nt.y>=ye&&nt.y<=Re&&nt!==B&&nt!==T&&Uh(O,Z,N,Y,q,ae,nt.x,nt.y)&&ta(nt.prev,nt,nt.next)>=0||(nt=nt.prevZ,ot.x>=he&&ot.x<=Be&&ot.y>=ye&&ot.y<=Re&&ot!==B&&ot!==T&&Uh(O,Z,N,Y,q,ae,ot.x,ot.y)&&ta(ot.prev,ot,ot.next)>=0))return!1;ot=ot.nextZ}for(;nt&&nt.z>=Ge;){if(nt.x>=he&&nt.x<=Be&&nt.y>=ye&&nt.y<=Re&&nt!==B&&nt!==T&&Uh(O,Z,N,Y,q,ae,nt.x,nt.y)&&ta(nt.prev,nt,nt.next)>=0)return!1;nt=nt.prevZ}for(;ot&&ot.z<=At;){if(ot.x>=he&&ot.x<=Be&&ot.y>=ye&&ot.y<=Re&&ot!==B&&ot!==T&&Uh(O,Z,N,Y,q,ae,ot.x,ot.y)&&ta(ot.prev,ot,ot.next)>=0)return!1;ot=ot.nextZ}return!0}function Uy(u,a){let d=u;do{const m=d.prev,B=d.next.next;!wa(m,B)&&Os(m,d,d.next,B)&&Cf(m,B)&&Cf(B,m)&&(a.push(m.i,d.i,B.i),Ef(d),Ef(d.next),d=u=B),d=d.next}while(d!==u);return _c(d)}function Ly(u,a,d,m,B,E){let T=u;do{let O=T.next.next;for(;O!==T.prev;){if(T.i!==O.i&&zw(T,O)){let N=ym(T,O);return T=_c(T,T.next),N=_c(N,N.next),Bf(T,a,d,m,B,E,0),void Bf(N,a,d,m,B,E,0)}O=O.next}T=T.next}while(T!==u)}function My(u,a){return u.x-a.x}function Rp(u,a){const d=(function(B,E){let T=E;const O=B.x,N=B.y;let q,Z=-1/0;do{if(N<=T.y&&N>=T.next.y&&T.next.y!==T.y){const Be=T.x+(N-T.y)*(T.next.x-T.x)/(T.next.y-T.y);if(Be<=O&&Be>Z&&(Z=Be,q=T.x<T.next.x?T:T.next,Be===O))return q}T=T.next}while(T!==E);if(!q)return null;const Y=q,ae=q.x,he=q.y;let ye=1/0;T=q;do{if(O>=T.x&&T.x>=ae&&O!==T.x&&Uh(N<he?O:Z,N,ae,he,N<he?Z:O,N,T.x,T.y)){const Be=Math.abs(N-T.y)/(O-T.x);Cf(T,B)&&(Be<ye||Be===ye&&(T.x>q.x||T.x===q.x&&Py(q,T)))&&(q=T,ye=Be)}T=T.next}while(T!==Y);return q})(u,a);if(!d)return a;const m=ym(d,u);return _c(m,m.next),_c(d,d.next)}function Py(u,a){return ta(u.prev,u,a.prev)<0&&ta(a.next,u,u.next)<0}function Fd(u,a,d,m,B){return(u=1431655765&((u=858993459&((u=252645135&((u=16711935&((u=(u-d)*B|0)|u<<8))|u<<4))|u<<2))|u<<1))|(a=1431655765&((a=858993459&((a=252645135&((a=16711935&((a=(a-m)*B|0)|a<<8))|a<<4))|a<<2))|a<<1))<<1}function Oy(u){let a=u,d=u;do(a.x<d.x||a.x===d.x&&a.y<d.y)&&(d=a),a=a.next;while(a!==u);return d}function Uh(u,a,d,m,B,E,T,O){return(B-T)*(a-O)>=(u-T)*(E-O)&&(u-T)*(m-O)>=(d-T)*(a-O)&&(d-T)*(E-O)>=(B-T)*(m-O)}function zw(u,a){return u.next.i!==a.i&&u.prev.i!==a.i&&!(function(d,m){let B=d;do{if(B.i!==d.i&&B.next.i!==d.i&&B.i!==m.i&&B.next.i!==m.i&&Os(B,B.next,d,m))return!0;B=B.next}while(B!==d);return!1})(u,a)&&(Cf(u,a)&&Cf(a,u)&&(function(d,m){let B=d,E=!1;const T=(d.x+m.x)/2,O=(d.y+m.y)/2;do B.y>O!=B.next.y>O&&B.next.y!==B.y&&T<(B.next.x-B.x)*(O-B.y)/(B.next.y-B.y)+B.x&&(E=!E),B=B.next;while(B!==d);return E})(u,a)&&(ta(u.prev,u,a.prev)||ta(u,a.prev,a))||wa(u,a)&&ta(u.prev,u,u.next)>0&&ta(a.prev,a,a.next)>0)}function ta(u,a,d){return(a.y-u.y)*(d.x-a.x)-(a.x-u.x)*(d.y-a.y)}function wa(u,a){return u.x===a.x&&u.y===a.y}function Os(u,a,d,m){const B=Ld(ta(u,a,d)),E=Ld(ta(u,a,m)),T=Ld(ta(d,m,u)),O=Ld(ta(d,m,a));return B!==E&&T!==O||!(B!==0||!Ud(u,d,a))||!(E!==0||!Ud(u,m,a))||!(T!==0||!Ud(d,u,m))||!(O!==0||!Ud(d,a,m))}function Ud(u,a,d){return a.x<=Math.max(u.x,d.x)&&a.x>=Math.min(u.x,d.x)&&a.y<=Math.max(u.y,d.y)&&a.y>=Math.min(u.y,d.y)}function Ld(u){return u>0?1:u<0?-1:0}function Cf(u,a){return ta(u.prev,u,u.next)<0?ta(u,a,u.next)>=0&&ta(u,u.prev,a)>=0:ta(u,a,u.prev)<0||ta(u,u.next,a)<0}function ym(u,a){const d=Tf(u.i,u.x,u.y),m=Tf(a.i,a.x,a.y),B=u.next,E=a.prev;return u.next=a,a.prev=u,d.next=B,B.prev=d,m.next=d,d.prev=m,E.next=m,m.prev=E,m}function Sf(u,a,d,m){const B=Tf(u,a,d);return m?(B.next=m.next,B.prev=m,m.next.prev=B,m.next=B):(B.prev=B,B.next=B),B}function Ef(u){u.next.prev=u.prev,u.prev.next=u.next,u.prevZ&&(u.prevZ.nextZ=u.nextZ),u.nextZ&&(u.nextZ.prevZ=u.prevZ)}function Tf(u,a,d){return{i:u,x:a,y:d,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function zp(u,a,d){const m=d.patternDependencies;let B=!1;for(const E of a){const T=E.paint.get(`${u}-pattern`);T.isConstant()||(B=!0);const O=T.constantOr(null);O&&(B=!0,m[O.to]=!0,m[O.from]=!0)}return B}function vm(u,a,d,m,B){const E=B.patternDependencies;for(const T of a){const O=T.paint.get(`${u}-pattern`).value;if(O.kind!=="constant"){let N=O.evaluate({zoom:m-1},d,{},B.availableImages),q=O.evaluate({zoom:m},d,{},B.availableImages),Z=O.evaluate({zoom:m+1},d,{},B.availableImages);N=N&&N.name?N.name:N,q=q&&q.name?q.name:q,Z=Z&&Z.name?Z.name:Z,E[N]=!0,E[q]=!0,E[Z]=!0,d.patterns[T.id]={min:N,mid:q,max:Z}}}return d}class If{constructor(a){this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map((d=>d.id)),this.index=a.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Cn,this.indexArray=new Ti,this.indexArray2=new ni,this.programConfigurations=new Qu(a.layers,a.zoom),this.segments=new cn,this.segments2=new cn,this.stateDependentLayerIds=this.layers.filter((d=>d.isStateDependent())).map((d=>d.id))}populate(a,d,m){this.hasPattern=zp("fill",this.layers,d);const B=this.layers[0].layout.get("fill-sort-key"),E=!B.isConstant(),T=[];for(const{feature:O,id:N,index:q,sourceLayerIndex:Z}of a){const Y=this.layers[0]._featureFilter.needGeometry,ae=Nu(O,Y);if(!this.layers[0]._featureFilter.filter(new pn(this.zoom),ae,m))continue;const he=E?B.evaluate(ae,{},m,d.availableImages):void 0,ye={id:N,properties:O.properties,type:O.type,sourceLayerIndex:Z,index:q,geometry:Y?ae.geometry:cu(O),patterns:{},sortKey:he};T.push(ye)}E&&T.sort(((O,N)=>O.sortKey-N.sortKey));for(const O of T){const{geometry:N,index:q,sourceLayerIndex:Z}=O;if(this.hasPattern){const Y=vm("fill",this.layers,O,this.zoom,d);this.patternFeatures.push(Y)}else this.addFeature(O,N,q,m,{});d.featureIndex.insert(a[q].feature,N,q,Z,this.index)}}update(a,d,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(a,d,this.stateDependentLayers,m)}addFeatures(a,d,m){for(const B of this.patternFeatures)this.addFeature(B,B.geometry,B.index,d,m)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(a){this.uploaded||(this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,gm),this.indexBuffer=a.createIndexBuffer(this.indexArray),this.indexBuffer2=a.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(a),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(a,d,m,B,E){for(const T of An(d,500)){let O=0;for(const he of T)O+=he.length;const N=this.segments.prepareSegment(O,this.layoutVertexArray,this.indexArray),q=N.vertexLength,Z=[],Y=[];for(const he of T){if(he.length===0)continue;he!==T[0]&&Y.push(Z.length/2);const ye=this.segments2.prepareSegment(he.length,this.layoutVertexArray,this.indexArray2),Be=ye.vertexLength;this.layoutVertexArray.emplaceBack(he[0].x,he[0].y),this.indexArray2.emplaceBack(Be+he.length-1,Be),Z.push(he[0].x),Z.push(he[0].y);for(let Re=1;Re<he.length;Re++)this.layoutVertexArray.emplaceBack(he[Re].x,he[Re].y),this.indexArray2.emplaceBack(Be+Re-1,Be+Re),Z.push(he[Re].x),Z.push(he[Re].y);ye.vertexLength+=he.length,ye.primitiveLength+=he.length}const ae=mm(Z,Y);for(let he=0;he<ae.length;he+=3)this.indexArray.emplaceBack(q+ae[he],q+ae[he+1],q+ae[he+2]);N.vertexLength+=O,N.primitiveLength+=ae.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,a,m,E,B)}}let Hp,_m;Rt("FillBucket",If,{omit:["layers","patternFeatures"]});var Dy={get paint(){return _m=_m||new _({"fill-antialias":new lr(Ze.paint_fill["fill-antialias"]),"fill-opacity":new Cr(Ze.paint_fill["fill-opacity"]),"fill-color":new Cr(Ze.paint_fill["fill-color"]),"fill-outline-color":new Cr(Ze.paint_fill["fill-outline-color"]),"fill-translate":new lr(Ze.paint_fill["fill-translate"]),"fill-translate-anchor":new lr(Ze.paint_fill["fill-translate-anchor"]),"fill-pattern":new L(Ze.paint_fill["fill-pattern"])})},get layout(){return Hp=Hp||new _({"fill-sort-key":new Cr(Ze.layout_fill["fill-sort-key"])})}};class ky extends h{constructor(a){super(a,Dy)}recalculate(a,d){super.recalculate(a,d);const m=this.paint._values["fill-outline-color"];m.value.kind==="constant"&&m.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(a){return new If(a)}queryRadius(){return Pp(this.paint.get("fill-translate"))}queryIntersectsFeature(a,d,m,B,E,T,O){return RA(Cd(a,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),T.angle,O),B)}isTileClipped(){return!0}}const wm=F([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),bm=F([{name:"a_centroid",components:2,type:"Int16"}],4),{members:xm}=wm;var wc={},Bm=w,Md=Wc;function Wc(u,a,d,m,B){this.properties={},this.extent=d,this.type=0,this._pbf=u,this._geometry=-1,this._keys=m,this._values=B,u.readFields(Qy,this,a)}function Qy(u,a,d){u==1?a.id=d.readVarint():u==2?(function(m,B){for(var E=m.readVarint()+m.pos;m.pos<E;){var T=B._keys[m.readVarint()],O=B._values[m.readVarint()];B.properties[T]=O}})(d,a):u==3?a.type=d.readVarint():u==4&&(a._geometry=d.pos)}function Cm(u){for(var a,d,m=0,B=0,E=u.length,T=E-1;B<E;T=B++)m+=((d=u[T]).x-(a=u[B]).x)*(a.y+d.y);return m}Wc.types=["Unknown","Point","LineString","Polygon"],Wc.prototype.loadGeometry=function(){var u=this._pbf;u.pos=this._geometry;for(var a,d=u.readVarint()+u.pos,m=1,B=0,E=0,T=0,O=[];u.pos<d;){if(B<=0){var N=u.readVarint();m=7&N,B=N>>3}if(B--,m===1||m===2)E+=u.readSVarint(),T+=u.readSVarint(),m===1&&(a&&O.push(a),a=[]),a.push(new Bm(E,T));else{if(m!==7)throw new Error("unknown command "+m);a&&a.push(a[0].clone())}}return a&&O.push(a),O},Wc.prototype.bbox=function(){var u=this._pbf;u.pos=this._geometry;for(var a=u.readVarint()+u.pos,d=1,m=0,B=0,E=0,T=1/0,O=-1/0,N=1/0,q=-1/0;u.pos<a;){if(m<=0){var Z=u.readVarint();d=7&Z,m=Z>>3}if(m--,d===1||d===2)(B+=u.readSVarint())<T&&(T=B),B>O&&(O=B),(E+=u.readSVarint())<N&&(N=E),E>q&&(q=E);else if(d!==7)throw new Error("unknown command "+d)}return[T,N,O,q]},Wc.prototype.toGeoJSON=function(u,a,d){var m,B,E=this.extent*Math.pow(2,d),T=this.extent*u,O=this.extent*a,N=this.loadGeometry(),q=Wc.types[this.type];function Z(he){for(var ye=0;ye<he.length;ye++){var Be=he[ye];he[ye]=[360*(Be.x+T)/E-180,360/Math.PI*Math.atan(Math.exp((180-360*(Be.y+O)/E)*Math.PI/180))-90]}}switch(this.type){case 1:var Y=[];for(m=0;m<N.length;m++)Y[m]=N[m][0];Z(N=Y);break;case 2:for(m=0;m<N.length;m++)Z(N[m]);break;case 3:for(N=(function(he){var ye=he.length;if(ye<=1)return[he];for(var Be,Re,Ge=[],At=0;At<ye;At++){var nt=Cm(he[At]);nt!==0&&(Re===void 0&&(Re=nt<0),Re===nt<0?(Be&&Ge.push(Be),Be=[he[At]]):Be.push(he[At]))}return Be&&Ge.push(Be),Ge})(N),m=0;m<N.length;m++)for(B=0;B<N[m].length;B++)Z(N[m][B])}N.length===1?N=N[0]:q="Multi"+q;var ae={type:"Feature",geometry:{type:q,coordinates:N},properties:this.properties};return"id"in this&&(ae.id=this.id),ae};var Ny=Md,Ru=jp;function jp(u,a){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=u,this._keys=[],this._values=[],this._features=[],u.readFields(Hw,this,a),this.length=this._features.length}function Hw(u,a,d){u===15?a.version=d.readVarint():u===1?a.name=d.readString():u===5?a.extent=d.readVarint():u===2?a._features.push(d.pos):u===3?a._keys.push(d.readString()):u===4&&a._values.push((function(m){for(var B=null,E=m.readVarint()+m.pos;m.pos<E;){var T=m.readVarint()>>3;B=T===1?m.readString():T===2?m.readFloat():T===3?m.readDouble():T===4?m.readVarint64():T===5?m.readVarint():T===6?m.readSVarint():T===7?m.readBoolean():null}return B})(d))}jp.prototype.feature=function(u){if(u<0||u>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[u];var a=this._pbf.readVarint()+this._pbf.pos;return new Ny(this._pbf,a,this.extent,this._keys,this._values)};var Ry=Ru;function bc(u,a,d){if(u===3){var m=new Ry(d,d.readVarint()+d.pos);m.length&&(a[m.name]=m)}}wc.VectorTile=function(u,a){this.layers=u.readFields(bc,{},a)},wc.VectorTileFeature=Md,wc.VectorTileLayer=Ru;const Sm=wc.VectorTileFeature.types,Kp=Math.pow(2,13);function Yc(u,a,d,m,B,E,T,O){u.emplaceBack(a,d,2*Math.floor(m*Kp)+T,B*Kp*2,E*Kp*2,Math.round(O))}class Lh{constructor(a){this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map((d=>d.id)),this.index=a.index,this.hasPattern=!1,this.layoutVertexArray=new xi,this.centroidVertexArray=new sn,this.indexArray=new Ti,this.programConfigurations=new Qu(a.layers,a.zoom),this.segments=new cn,this.stateDependentLayerIds=this.layers.filter((d=>d.isStateDependent())).map((d=>d.id))}populate(a,d,m){this.features=[],this.hasPattern=zp("fill-extrusion",this.layers,d);for(const{feature:B,id:E,index:T,sourceLayerIndex:O}of a){const N=this.layers[0]._featureFilter.needGeometry,q=Nu(B,N);if(!this.layers[0]._featureFilter.filter(new pn(this.zoom),q,m))continue;const Z={id:E,sourceLayerIndex:O,index:T,geometry:N?q.geometry:cu(B),properties:B.properties,type:B.type,patterns:{}};this.hasPattern?this.features.push(vm("fill-extrusion",this.layers,Z,this.zoom,d)):this.addFeature(Z,Z.geometry,T,m,{}),d.featureIndex.insert(B,Z.geometry,T,O,this.index,!0)}}addFeatures(a,d,m){for(const B of this.features){const{geometry:E}=B;this.addFeature(B,E,B.index,d,m)}}update(a,d,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(a,d,this.stateDependentLayers,m)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(a){this.uploaded||(this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,xm),this.centroidVertexBuffer=a.createVertexBuffer(this.centroidVertexArray,bm.members,!0),this.indexBuffer=a.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(a),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(a,d,m,B,E){for(const T of An(d,500)){const O={x:0,y:0,vertexCount:0};let N=0;for(const ye of T)N+=ye.length;let q=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const ye of T){if(ye.length===0||jw(ye))continue;let Be=0;for(let Re=0;Re<ye.length;Re++){const Ge=ye[Re];if(Re>=1){const At=ye[Re-1];if(!ra(Ge,At)){q.vertexLength+4>cn.MAX_VERTEX_ARRAY_LENGTH&&(q=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const nt=Ge.sub(At)._perp()._unit(),ot=At.dist(Ge);Be+ot>32768&&(Be=0),Yc(this.layoutVertexArray,Ge.x,Ge.y,nt.x,nt.y,0,0,Be),Yc(this.layoutVertexArray,Ge.x,Ge.y,nt.x,nt.y,0,1,Be),O.x+=2*Ge.x,O.y+=2*Ge.y,O.vertexCount+=2,Be+=ot,Yc(this.layoutVertexArray,At.x,At.y,nt.x,nt.y,0,0,Be),Yc(this.layoutVertexArray,At.x,At.y,nt.x,nt.y,0,1,Be),O.x+=2*At.x,O.y+=2*At.y,O.vertexCount+=2;const Bt=q.vertexLength;this.indexArray.emplaceBack(Bt,Bt+2,Bt+1),this.indexArray.emplaceBack(Bt+1,Bt+2,Bt+3),q.vertexLength+=4,q.primitiveLength+=2}}}}if(q.vertexLength+N>cn.MAX_VERTEX_ARRAY_LENGTH&&(q=this.segments.prepareSegment(N,this.layoutVertexArray,this.indexArray)),Sm[a.type]!=="Polygon")continue;const Z=[],Y=[],ae=q.vertexLength;for(const ye of T)if(ye.length!==0){ye!==T[0]&&Y.push(Z.length/2);for(let Be=0;Be<ye.length;Be++){const Re=ye[Be];Yc(this.layoutVertexArray,Re.x,Re.y,0,0,1,1,0),O.x+=Re.x,O.y+=Re.y,O.vertexCount+=1,Z.push(Re.x),Z.push(Re.y)}}const he=mm(Z,Y);for(let ye=0;ye<he.length;ye+=3)this.indexArray.emplaceBack(ae+he[ye],ae+he[ye+2],ae+he[ye+1]);q.primitiveLength+=he.length/3,q.vertexLength+=N;for(let ye=0;ye<O.vertexCount;ye++){const Be=Math.floor(O.x/O.vertexCount),Re=Math.floor(O.y/O.vertexCount);this.centroidVertexArray.emplaceBack(Be,Re)}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,a,m,E,B)}}function ra(u,a){return u.x===a.x&&(u.x<0||u.x>ea)||u.y===a.y&&(u.y<0||u.y>ea)}function jw(u){return u.every((a=>a.x<0))||u.every((a=>a.x>ea))||u.every((a=>a.y<0))||u.every((a=>a.y>ea))}let zy;Rt("FillExtrusionBucket",Lh,{omit:["layers","features"]});var Hy={get paint(){return zy=zy||new _({"fill-extrusion-opacity":new lr(Ze["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Cr(Ze["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new lr(Ze["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new lr(Ze["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new L(Ze["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Cr(Ze["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Cr(Ze["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new lr(Ze["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class Pd extends h{constructor(a){super(a,Hy)}createBucket(a){return new Lh(a)}queryRadius(){return Pp(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(a,d,m,B,E,T,O,N){const q=Cd(a,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),T.angle,O),Z=this.paint.get("fill-extrusion-height").evaluate(d,m),Y=this.paint.get("fill-extrusion-base").evaluate(d,m),ae=(function(ye,Be,Re,Ge){const At=[];for(const nt of ye){const ot=[nt.x,nt.y,0,1];Sd(ot,ot,Be),At.push(new S(ot[0]/ot[3],ot[1]/ot[3]))}return At})(q,N),he=(function(ye,Be,Re,Ge){const At=[],nt=[],ot=Ge[8]*Be,Bt=Ge[9]*Be,Kt=Ge[10]*Be,er=Ge[11]*Be,kr=Ge[8]*Re,Wt=Ge[9]*Re,Yt=Ge[10]*Re,pr=Ge[11]*Re;for(const Ar of ye){const ir=[],Ut=[];for(const ar of Ar){const hr=ar.x,Kr=ar.y,Rn=Ge[0]*hr+Ge[4]*Kr+Ge[12],Ai=Ge[1]*hr+Ge[5]*Kr+Ge[13],Ja=Ge[2]*hr+Ge[6]*Kr+Ge[14],io=Ge[3]*hr+Ge[7]*Kr+Ge[15],gs=Ja+Kt,es=io+er,xo=Rn+kr,Bo=Ai+Wt,Co=Ja+Yt,ha=io+pr,ts=new S((Rn+ot)/es,(Ai+Bt)/es);ts.z=gs/es,ir.push(ts);const ao=new S(xo/ha,Bo/ha);ao.z=Co/ha,Ut.push(ao)}At.push(ir),nt.push(Ut)}return[At,nt]})(B,Y,Z,N);return(function(ye,Be,Re){let Ge=1/0;RA(Re,Be)&&(Ge=Em(Re,Be[0]));for(let At=0;At<Be.length;At++){const nt=Be[At],ot=ye[At];for(let Bt=0;Bt<nt.length-1;Bt++){const Kt=nt[Bt],er=[Kt,nt[Bt+1],ot[Bt+1],ot[Bt],Kt];Xc(Re,er)&&(Ge=Math.min(Ge,Em(Re,er)))}}return Ge!==1/0&&Ge})(he[0],he[1],ae)}}function zA(u,a){return u.x*a.x+u.y*a.y}function Em(u,a){if(u.length===1){let d=0;const m=a[d++];let B;for(;!B||m.equals(B);)if(B=a[d++],!B)return 1/0;for(;d<a.length;d++){const E=a[d],T=u[0],O=B.sub(m),N=E.sub(m),q=T.sub(m),Z=zA(O,O),Y=zA(O,N),ae=zA(N,N),he=zA(q,O),ye=zA(q,N),Be=Z*ae-Y*Y,Re=(ae*he-Y*ye)/Be,Ge=(Z*ye-Y*he)/Be,At=m.z*(1-Re-Ge)+B.z*Re+E.z*Ge;if(isFinite(At))return At}return 1/0}{let d=1/0;for(const m of a)d=Math.min(d,m.z);return d}}const jy=F([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:Od}=jy,zu=F([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:Ky}=zu,Tm=wc.VectorTileFeature.types,Vy=Math.cos(Math.PI/180*37.5),Vp=Math.pow(2,14)/.5;class Dd{constructor(a){this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map((d=>d.id)),this.index=a.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach((d=>{this.gradients[d.id]={}})),this.layoutVertexArray=new Di,this.layoutVertexArray2=new Gn,this.indexArray=new Ti,this.programConfigurations=new Qu(a.layers,a.zoom),this.segments=new cn,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter((d=>d.isStateDependent())).map((d=>d.id))}populate(a,d,m){this.hasPattern=zp("line",this.layers,d);const B=this.layers[0].layout.get("line-sort-key"),E=!B.isConstant(),T=[];for(const{feature:O,id:N,index:q,sourceLayerIndex:Z}of a){const Y=this.layers[0]._featureFilter.needGeometry,ae=Nu(O,Y);if(!this.layers[0]._featureFilter.filter(new pn(this.zoom),ae,m))continue;const he=E?B.evaluate(ae,{},m):void 0,ye={id:N,properties:O.properties,type:O.type,sourceLayerIndex:Z,index:q,geometry:Y?ae.geometry:cu(O),patterns:{},sortKey:he};T.push(ye)}E&&T.sort(((O,N)=>O.sortKey-N.sortKey));for(const O of T){const{geometry:N,index:q,sourceLayerIndex:Z}=O;if(this.hasPattern){const Y=vm("line",this.layers,O,this.zoom,d);this.patternFeatures.push(Y)}else this.addFeature(O,N,q,m,{});d.featureIndex.insert(a[q].feature,N,q,Z,this.index)}}update(a,d,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(a,d,this.stateDependentLayers,m)}addFeatures(a,d,m){for(const B of this.patternFeatures)this.addFeature(B,B.geometry,B.index,d,m)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(a){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=a.createVertexBuffer(this.layoutVertexArray2,Ky)),this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,Od),this.indexBuffer=a.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(a),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(a){if(a.properties&&Object.prototype.hasOwnProperty.call(a.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(a.properties,"mapbox_clip_end"))return{start:+a.properties.mapbox_clip_start,end:+a.properties.mapbox_clip_end}}addFeature(a,d,m,B,E){const T=this.layers[0].layout,O=T.get("line-join").evaluate(a,{}),N=T.get("line-cap"),q=T.get("line-miter-limit"),Z=T.get("line-round-limit");this.lineClips=this.lineFeatureClips(a);for(const Y of d)this.addLine(Y,a,O,N,q,Z);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,a,m,E,B)}addLine(a,d,m,B,E,T){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let Ge=0;Ge<a.length-1;Ge++)this.totalDistance+=a[Ge].dist(a[Ge+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const O=Tm[d.type]==="Polygon";let N=a.length;for(;N>=2&&a[N-1].equals(a[N-2]);)N--;let q=0;for(;q<N-1&&a[q].equals(a[q+1]);)q++;if(N<(O?3:2))return;m==="bevel"&&(E=1.05);const Z=this.overscaling<=16?15*ea/(512*this.overscaling):0,Y=this.segments.prepareSegment(10*N,this.layoutVertexArray,this.indexArray);let ae,he,ye,Be,Re;this.e1=this.e2=-1,O&&(ae=a[N-2],Re=a[q].sub(ae)._unit()._perp());for(let Ge=q;Ge<N;Ge++){if(ye=Ge===N-1?O?a[q+1]:void 0:a[Ge+1],ye&&a[Ge].equals(ye))continue;Re&&(Be=Re),ae&&(he=ae),ae=a[Ge],Re=ye?ye.sub(ae)._unit()._perp():Be,Be=Be||Re;let At=Be.add(Re);At.x===0&&At.y===0||At._unit();const nt=Be.x*Re.x+Be.y*Re.y,ot=At.x*Re.x+At.y*Re.y,Bt=ot!==0?1/ot:1/0,Kt=2*Math.sqrt(2-2*ot),er=ot<Vy&&he&&ye,kr=Be.x*Re.y-Be.y*Re.x>0;if(er&&Ge>q){const pr=ae.dist(he);if(pr>2*Z){const Ar=ae.sub(ae.sub(he)._mult(Z/pr)._round());this.updateDistance(he,Ar),this.addCurrentVertex(Ar,Be,0,0,Y),he=Ar}}const Wt=he&&ye;let Yt=Wt?m:O?"butt":B;if(Wt&&Yt==="round"&&(Bt<T?Yt="miter":Bt<=2&&(Yt="fakeround")),Yt==="miter"&&Bt>E&&(Yt="bevel"),Yt==="bevel"&&(Bt>2&&(Yt="flipbevel"),Bt<E&&(Yt="miter")),he&&this.updateDistance(he,ae),Yt==="miter")At._mult(Bt),this.addCurrentVertex(ae,At,0,0,Y);else if(Yt==="flipbevel"){if(Bt>100)At=Re.mult(-1);else{const pr=Bt*Be.add(Re).mag()/Be.sub(Re).mag();At._perp()._mult(pr*(kr?-1:1))}this.addCurrentVertex(ae,At,0,0,Y),this.addCurrentVertex(ae,At.mult(-1),0,0,Y)}else if(Yt==="bevel"||Yt==="fakeround"){const pr=-Math.sqrt(Bt*Bt-1),Ar=kr?pr:0,ir=kr?0:pr;if(he&&this.addCurrentVertex(ae,Be,Ar,ir,Y),Yt==="fakeround"){const Ut=Math.round(180*Kt/Math.PI/20);for(let ar=1;ar<Ut;ar++){let hr=ar/Ut;if(hr!==.5){const Rn=hr-.5;hr+=hr*Rn*(hr-1)*((1.0904+nt*(nt*(3.55645-1.43519*nt)-3.2452))*Rn*Rn+(.848013+nt*(.215638*nt-1.06021)))}const Kr=Re.sub(Be)._mult(hr)._add(Be)._unit()._mult(kr?-1:1);this.addHalfVertex(ae,Kr.x,Kr.y,!1,kr,0,Y)}}ye&&this.addCurrentVertex(ae,Re,-Ar,-ir,Y)}else if(Yt==="butt")this.addCurrentVertex(ae,At,0,0,Y);else if(Yt==="square"){const pr=he?1:-1;this.addCurrentVertex(ae,At,pr,pr,Y)}else Yt==="round"&&(he&&(this.addCurrentVertex(ae,Be,0,0,Y),this.addCurrentVertex(ae,Be,1,1,Y,!0)),ye&&(this.addCurrentVertex(ae,Re,-1,-1,Y,!0),this.addCurrentVertex(ae,Re,0,0,Y)));if(er&&Ge<N-1){const pr=ae.dist(ye);if(pr>2*Z){const Ar=ae.add(ye.sub(ae)._mult(Z/pr)._round());this.updateDistance(ae,Ar),this.addCurrentVertex(Ar,Re,0,0,Y),ae=Ar}}}}addCurrentVertex(a,d,m,B,E,T=!1){const O=d.y*B-d.x,N=-d.y-d.x*B;this.addHalfVertex(a,d.x+d.y*m,d.y-d.x*m,T,!1,m,E),this.addHalfVertex(a,O,N,T,!0,-B,E),this.distance>Vp/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(a,d,m,B,E,T))}addHalfVertex({x:a,y:d},m,B,E,T,O,N){const q=.5*(this.lineClips?this.scaledDistance*(Vp-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((a<<1)+(E?1:0),(d<<1)+(T?1:0),Math.round(63*m)+128,Math.round(63*B)+128,1+(O===0?0:O<0?-1:1)|(63&q)<<2,q>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const Z=N.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,Z),N.primitiveLength++),T?this.e2=Z:this.e1=Z}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(a,d){this.distance+=a.dist(d),this.updateScaledDistance()}}let kd,Im;Rt("LineBucket",Dd,{omit:["layers","patternFeatures"]});var Hu={get paint(){return Im=Im||new _({"line-opacity":new Cr(Ze.paint_line["line-opacity"]),"line-color":new Cr(Ze.paint_line["line-color"]),"line-translate":new lr(Ze.paint_line["line-translate"]),"line-translate-anchor":new lr(Ze.paint_line["line-translate-anchor"]),"line-width":new Cr(Ze.paint_line["line-width"]),"line-gap-width":new Cr(Ze.paint_line["line-gap-width"]),"line-offset":new Cr(Ze.paint_line["line-offset"]),"line-blur":new Cr(Ze.paint_line["line-blur"]),"line-dasharray":new D(Ze.paint_line["line-dasharray"]),"line-pattern":new L(Ze.paint_line["line-pattern"]),"line-gradient":new $(Ze.paint_line["line-gradient"])})},get layout(){return kd=kd||new _({"line-cap":new lr(Ze.layout_line["line-cap"]),"line-join":new Cr(Ze.layout_line["line-join"]),"line-miter-limit":new lr(Ze.layout_line["line-miter-limit"]),"line-round-limit":new lr(Ze.layout_line["line-round-limit"]),"line-sort-key":new Cr(Ze.layout_line["line-sort-key"])})}};class Za extends Cr{possiblyEvaluate(a,d){return d=new pn(Math.floor(d.zoom),{now:d.now,fadeDuration:d.fadeDuration,zoomHistory:d.zoomHistory,transition:d.transition}),super.possiblyEvaluate(a,d)}evaluate(a,d,m,B){return d=Ie({},d,{zoom:Math.floor(d.zoom)}),super.evaluate(a,d,m,B)}}let Ff;class qy extends h{constructor(a){super(a,Hu),this.gradientVersion=0,Ff||(Ff=new Za(Hu.paint.properties["line-width"].specification),Ff.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(a){if(a==="line-gradient"){const d=this.gradientExpression();this.stepInterpolant=!!(function(m){return m._styleExpression!==void 0})(d)&&d._styleExpression.expression instanceof Hl,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(a,d){super.recalculate(a,d),this.paint._values["line-floorwidth"]=Ff.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,a)}createBucket(a){return new Dd(a)}queryRadius(a){const d=a,m=ds(Th("line-width",this,d),Th("line-gap-width",this,d)),B=Th("line-offset",this,d);return m/2+Math.abs(B)+Pp(this.paint.get("line-translate"))}queryIntersectsFeature(a,d,m,B,E,T,O){const N=Cd(a,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),T.angle,O),q=O/2*ds(this.paint.get("line-width").evaluate(d,m),this.paint.get("line-gap-width").evaluate(d,m)),Z=this.paint.get("line-offset").evaluate(d,m);return Z&&(B=(function(Y,ae){const he=[];for(let ye=0;ye<Y.length;ye++){const Be=Y[ye],Re=[];for(let Ge=0;Ge<Be.length;Ge++){const At=Be[Ge-1],nt=Be[Ge],ot=Be[Ge+1],Bt=Ge===0?new S(0,0):nt.sub(At)._unit()._perp(),Kt=Ge===Be.length-1?new S(0,0):ot.sub(nt)._unit()._perp(),er=Bt._add(Kt)._unit(),kr=er.x*Kt.x+er.y*Kt.y;kr!==0&&er._mult(1/kr),Re.push(er._mult(ae)._add(nt))}he.push(Re)}return he})(B,Z*O)),(function(Y,ae,he){for(let ye=0;ye<ae.length;ye++){const Be=ae[ye];if(Y.length>=3){for(let Re=0;Re<Be.length;Re++)if(tA(Y,Be[Re]))return!0}if(hu(Y,Be,he))return!0}return!1})(N,B,q)}isTileClipped(){return!0}}function ds(u,a){return a>0?a+2*u:u}const Kw=F([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Gy=F([{name:"a_projected_pos",components:3,type:"Float32"}],4);F([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const Xy=F([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"},{name:"a_box_real",components:2,type:"Int16"}]);F([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const na=F([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),wl=F([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function xc(u,a,d){return u.sections.forEach((m=>{m.text=(function(B,E,T){const O=E.layout.get("text-transform").evaluate(T,{});return O==="uppercase"?B=B.toLocaleUpperCase():O==="lowercase"&&(B=B.toLocaleLowerCase()),ca.applyArabicShaping&&(B=ca.applyArabicShaping(B)),B})(m.text,a,d)})),u}F([{name:"triangle",components:3,type:"Uint16"}]),F([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),F([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),F([{type:"Float32",name:"offsetX"}]),F([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),F([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const Uf={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};var Ua=24,Fm=wn,$y=function(u,a,d,m,B){var E,T,O=8*B-m-1,N=(1<<O)-1,q=N>>1,Z=-7,Y=B-1,ae=-1,he=u[a+Y];for(Y+=ae,E=he&(1<<-Z)-1,he>>=-Z,Z+=O;Z>0;E=256*E+u[a+Y],Y+=ae,Z-=8);for(T=E&(1<<-Z)-1,E>>=-Z,Z+=m;Z>0;T=256*T+u[a+Y],Y+=ae,Z-=8);if(E===0)E=1-q;else{if(E===N)return T?NaN:1/0*(he?-1:1);T+=Math.pow(2,m),E-=q}return(he?-1:1)*T*Math.pow(2,E-m)},Qd=function(u,a,d,m,B,E){var T,O,N,q=8*E-B-1,Z=(1<<q)-1,Y=Z>>1,ae=B===23?Math.pow(2,-24)-Math.pow(2,-77):0,he=0,ye=1,Be=a<0||a===0&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(O=isNaN(a)?1:0,T=Z):(T=Math.floor(Math.log(a)/Math.LN2),a*(N=Math.pow(2,-T))<1&&(T--,N*=2),(a+=T+Y>=1?ae/N:ae*Math.pow(2,1-Y))*N>=2&&(T++,N/=2),T+Y>=Z?(O=0,T=Z):T+Y>=1?(O=(a*N-1)*Math.pow(2,B),T+=Y):(O=a*Math.pow(2,Y-1)*Math.pow(2,B),T=0));B>=8;u[d+he]=255&O,he+=ye,O/=256,B-=8);for(T=T<<B|O,q+=B;q>0;u[d+he]=255&T,he+=ye,T/=256,q-=8);u[d+he-ye]|=128*Be};function wn(u){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(u)?u:new Uint8Array(u||0),this.pos=0,this.type=0,this.length=this.buf.length}wn.Varint=0,wn.Fixed64=1,wn.Bytes=2,wn.Fixed32=5;var rA=4294967296,Um=1/rA,Go=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");function ju(u){return u.type===wn.Bytes?u.readVarint()+u.pos:u.pos+1}function bl(u,a,d){return d?4294967296*a+(u>>>0):4294967296*(a>>>0)+(u>>>0)}function Jc(u,a,d){var m=a<=16383?1:a<=2097151?2:a<=268435455?3:Math.floor(Math.log(a)/(7*Math.LN2));d.realloc(m);for(var B=d.pos-1;B>=u;B--)d.buf[B+m]=d.buf[B]}function Bc(u,a){for(var d=0;d<u.length;d++)a.writeVarint(u[d])}function Lm(u,a){for(var d=0;d<u.length;d++)a.writeSVarint(u[d])}function Mm(u,a){for(var d=0;d<u.length;d++)a.writeFloat(u[d])}function du(u,a){for(var d=0;d<u.length;d++)a.writeDouble(u[d])}function Zy(u,a){for(var d=0;d<u.length;d++)a.writeBoolean(u[d])}function Lf(u,a){for(var d=0;d<u.length;d++)a.writeFixed32(u[d])}function Nd(u,a){for(var d=0;d<u.length;d++)a.writeSFixed32(u[d])}function Rd(u,a){for(var d=0;d<u.length;d++)a.writeFixed64(u[d])}function Mf(u,a){for(var d=0;d<u.length;d++)a.writeSFixed64(u[d])}function zd(u,a){return(u[a]|u[a+1]<<8|u[a+2]<<16)+16777216*u[a+3]}function Mh(u,a,d){u[d]=a,u[d+1]=a>>>8,u[d+2]=a>>>16,u[d+3]=a>>>24}function Pf(u,a){return(u[a]|u[a+1]<<8|u[a+2]<<16)+(u[a+3]<<24)}wn.prototype={destroy:function(){this.buf=null},readFields:function(u,a,d){for(d=d||this.length;this.pos<d;){var m=this.readVarint(),B=m>>3,E=this.pos;this.type=7&m,u(B,a,this),this.pos===E&&this.skip(m)}return a},readMessage:function(u,a){return this.readFields(u,a,this.readVarint()+this.pos)},readFixed32:function(){var u=zd(this.buf,this.pos);return this.pos+=4,u},readSFixed32:function(){var u=Pf(this.buf,this.pos);return this.pos+=4,u},readFixed64:function(){var u=zd(this.buf,this.pos)+zd(this.buf,this.pos+4)*rA;return this.pos+=8,u},readSFixed64:function(){var u=zd(this.buf,this.pos)+Pf(this.buf,this.pos+4)*rA;return this.pos+=8,u},readFloat:function(){var u=$y(this.buf,this.pos,!0,23,4);return this.pos+=4,u},readDouble:function(){var u=$y(this.buf,this.pos,!0,52,8);return this.pos+=8,u},readVarint:function(u){var a,d,m=this.buf;return a=127&(d=m[this.pos++]),d<128?a:(a|=(127&(d=m[this.pos++]))<<7,d<128?a:(a|=(127&(d=m[this.pos++]))<<14,d<128?a:(a|=(127&(d=m[this.pos++]))<<21,d<128?a:(function(B,E,T){var O,N,q=T.buf;if(O=(112&(N=q[T.pos++]))>>4,N<128||(O|=(127&(N=q[T.pos++]))<<3,N<128)||(O|=(127&(N=q[T.pos++]))<<10,N<128)||(O|=(127&(N=q[T.pos++]))<<17,N<128)||(O|=(127&(N=q[T.pos++]))<<24,N<128)||(O|=(1&(N=q[T.pos++]))<<31,N<128))return bl(B,O,E);throw new Error("Expected varint not more than 10 bytes")})(a|=(15&(d=m[this.pos]))<<28,u,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var u=this.readVarint();return u%2==1?(u+1)/-2:u/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var u=this.readVarint()+this.pos,a=this.pos;return this.pos=u,u-a>=12&&Go?(function(d,m,B){return Go.decode(d.subarray(m,B))})(this.buf,a,u):(function(d,m,B){for(var E="",T=m;T<B;){var O,N,q,Z=d[T],Y=null,ae=Z>239?4:Z>223?3:Z>191?2:1;if(T+ae>B)break;ae===1?Z<128&&(Y=Z):ae===2?(192&(O=d[T+1]))==128&&(Y=(31&Z)<<6|63&O)<=127&&(Y=null):ae===3?(N=d[T+2],(192&(O=d[T+1]))==128&&(192&N)==128&&((Y=(15&Z)<<12|(63&O)<<6|63&N)<=2047||Y>=55296&&Y<=57343)&&(Y=null)):ae===4&&(N=d[T+2],q=d[T+3],(192&(O=d[T+1]))==128&&(192&N)==128&&(192&q)==128&&((Y=(15&Z)<<18|(63&O)<<12|(63&N)<<6|63&q)<=65535||Y>=1114112)&&(Y=null)),Y===null?(Y=65533,ae=1):Y>65535&&(Y-=65536,E+=String.fromCharCode(Y>>>10&1023|55296),Y=56320|1023&Y),E+=String.fromCharCode(Y),T+=ae}return E})(this.buf,a,u)},readBytes:function(){var u=this.readVarint()+this.pos,a=this.buf.subarray(this.pos,u);return this.pos=u,a},readPackedVarint:function(u,a){if(this.type!==wn.Bytes)return u.push(this.readVarint(a));var d=ju(this);for(u=u||[];this.pos<d;)u.push(this.readVarint(a));return u},readPackedSVarint:function(u){if(this.type!==wn.Bytes)return u.push(this.readSVarint());var a=ju(this);for(u=u||[];this.pos<a;)u.push(this.readSVarint());return u},readPackedBoolean:function(u){if(this.type!==wn.Bytes)return u.push(this.readBoolean());var a=ju(this);for(u=u||[];this.pos<a;)u.push(this.readBoolean());return u},readPackedFloat:function(u){if(this.type!==wn.Bytes)return u.push(this.readFloat());var a=ju(this);for(u=u||[];this.pos<a;)u.push(this.readFloat());return u},readPackedDouble:function(u){if(this.type!==wn.Bytes)return u.push(this.readDouble());var a=ju(this);for(u=u||[];this.pos<a;)u.push(this.readDouble());return u},readPackedFixed32:function(u){if(this.type!==wn.Bytes)return u.push(this.readFixed32());var a=ju(this);for(u=u||[];this.pos<a;)u.push(this.readFixed32());return u},readPackedSFixed32:function(u){if(this.type!==wn.Bytes)return u.push(this.readSFixed32());var a=ju(this);for(u=u||[];this.pos<a;)u.push(this.readSFixed32());return u},readPackedFixed64:function(u){if(this.type!==wn.Bytes)return u.push(this.readFixed64());var a=ju(this);for(u=u||[];this.pos<a;)u.push(this.readFixed64());return u},readPackedSFixed64:function(u){if(this.type!==wn.Bytes)return u.push(this.readSFixed64());var a=ju(this);for(u=u||[];this.pos<a;)u.push(this.readSFixed64());return u},skip:function(u){var a=7&u;if(a===wn.Varint)for(;this.buf[this.pos++]>127;);else if(a===wn.Bytes)this.pos=this.readVarint()+this.pos;else if(a===wn.Fixed32)this.pos+=4;else{if(a!==wn.Fixed64)throw new Error("Unimplemented type: "+a);this.pos+=8}},writeTag:function(u,a){this.writeVarint(u<<3|a)},realloc:function(u){for(var a=this.length||16;a<this.pos+u;)a*=2;if(a!==this.length){var d=new Uint8Array(a);d.set(this.buf),this.buf=d,this.length=a}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(u){this.realloc(4),Mh(this.buf,u,this.pos),this.pos+=4},writeSFixed32:function(u){this.realloc(4),Mh(this.buf,u,this.pos),this.pos+=4},writeFixed64:function(u){this.realloc(8),Mh(this.buf,-1&u,this.pos),Mh(this.buf,Math.floor(u*Um),this.pos+4),this.pos+=8},writeSFixed64:function(u){this.realloc(8),Mh(this.buf,-1&u,this.pos),Mh(this.buf,Math.floor(u*Um),this.pos+4),this.pos+=8},writeVarint:function(u){(u=+u||0)>268435455||u<0?(function(a,d){var m,B;if(a>=0?(m=a%4294967296|0,B=a/4294967296|0):(B=~(-a/4294967296),4294967295^(m=~(-a%4294967296))?m=m+1|0:(m=0,B=B+1|0)),a>=18446744073709552e3||a<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");d.realloc(10),(function(E,T,O){O.buf[O.pos++]=127&E|128,E>>>=7,O.buf[O.pos++]=127&E|128,E>>>=7,O.buf[O.pos++]=127&E|128,E>>>=7,O.buf[O.pos++]=127&E|128,O.buf[O.pos]=127&(E>>>=7)})(m,0,d),(function(E,T){var O=(7&E)<<4;T.buf[T.pos++]|=O|((E>>>=3)?128:0),E&&(T.buf[T.pos++]=127&E|((E>>>=7)?128:0),E&&(T.buf[T.pos++]=127&E|((E>>>=7)?128:0),E&&(T.buf[T.pos++]=127&E|((E>>>=7)?128:0),E&&(T.buf[T.pos++]=127&E|((E>>>=7)?128:0),E&&(T.buf[T.pos++]=127&E)))))})(B,d)})(u,this):(this.realloc(4),this.buf[this.pos++]=127&u|(u>127?128:0),u<=127||(this.buf[this.pos++]=127&(u>>>=7)|(u>127?128:0),u<=127||(this.buf[this.pos++]=127&(u>>>=7)|(u>127?128:0),u<=127||(this.buf[this.pos++]=u>>>7&127))))},writeSVarint:function(u){this.writeVarint(u<0?2*-u-1:2*u)},writeBoolean:function(u){this.writeVarint(!!u)},writeString:function(u){u=String(u),this.realloc(4*u.length),this.pos++;var a=this.pos;this.pos=(function(m,B,E){for(var T,O,N=0;N<B.length;N++){if((T=B.charCodeAt(N))>55295&&T<57344){if(!O){T>56319||N+1===B.length?(m[E++]=239,m[E++]=191,m[E++]=189):O=T;continue}if(T<56320){m[E++]=239,m[E++]=191,m[E++]=189,O=T;continue}T=O-55296<<10|T-56320|65536,O=null}else O&&(m[E++]=239,m[E++]=191,m[E++]=189,O=null);T<128?m[E++]=T:(T<2048?m[E++]=T>>6|192:(T<65536?m[E++]=T>>12|224:(m[E++]=T>>18|240,m[E++]=T>>12&63|128),m[E++]=T>>6&63|128),m[E++]=63&T|128)}return E})(this.buf,u,this.pos);var d=this.pos-a;d>=128&&Jc(a,d,this),this.pos=a-1,this.writeVarint(d),this.pos+=d},writeFloat:function(u){this.realloc(4),Qd(this.buf,u,this.pos,!0,23,4),this.pos+=4},writeDouble:function(u){this.realloc(8),Qd(this.buf,u,this.pos,!0,52,8),this.pos+=8},writeBytes:function(u){var a=u.length;this.writeVarint(a),this.realloc(a);for(var d=0;d<a;d++)this.buf[this.pos++]=u[d]},writeRawMessage:function(u,a){this.pos++;var d=this.pos;u(a,this);var m=this.pos-d;m>=128&&Jc(d,m,this),this.pos=d-1,this.writeVarint(m),this.pos+=m},writeMessage:function(u,a,d){this.writeTag(u,wn.Bytes),this.writeRawMessage(a,d)},writePackedVarint:function(u,a){a.length&&this.writeMessage(u,Bc,a)},writePackedSVarint:function(u,a){a.length&&this.writeMessage(u,Lm,a)},writePackedBoolean:function(u,a){a.length&&this.writeMessage(u,Zy,a)},writePackedFloat:function(u,a){a.length&&this.writeMessage(u,Mm,a)},writePackedDouble:function(u,a){a.length&&this.writeMessage(u,du,a)},writePackedFixed32:function(u,a){a.length&&this.writeMessage(u,Lf,a)},writePackedSFixed32:function(u,a){a.length&&this.writeMessage(u,Nd,a)},writePackedFixed64:function(u,a){a.length&&this.writeMessage(u,Rd,a)},writePackedSFixed64:function(u,a){a.length&&this.writeMessage(u,Mf,a)},writeBytesField:function(u,a){this.writeTag(u,wn.Bytes),this.writeBytes(a)},writeFixed32Field:function(u,a){this.writeTag(u,wn.Fixed32),this.writeFixed32(a)},writeSFixed32Field:function(u,a){this.writeTag(u,wn.Fixed32),this.writeSFixed32(a)},writeFixed64Field:function(u,a){this.writeTag(u,wn.Fixed64),this.writeFixed64(a)},writeSFixed64Field:function(u,a){this.writeTag(u,wn.Fixed64),this.writeSFixed64(a)},writeVarintField:function(u,a){this.writeTag(u,wn.Varint),this.writeVarint(a)},writeSVarintField:function(u,a){this.writeTag(u,wn.Varint),this.writeSVarint(a)},writeStringField:function(u,a){this.writeTag(u,wn.Bytes),this.writeString(a)},writeFloatField:function(u,a){this.writeTag(u,wn.Fixed32),this.writeFloat(a)},writeDoubleField:function(u,a){this.writeTag(u,wn.Fixed64),this.writeDouble(a)},writeBooleanField:function(u,a){this.writeVarintField(u,!!a)}};var qp=y(Fm);const Of=3;function Wy(u,a,d){u===1&&d.readMessage(Vw,a)}function Vw(u,a,d){if(u===3){const{id:m,bitmap:B,width:E,height:T,left:O,top:N,advance:q}=d.readMessage(qw,{});a.push({id:m,bitmap:new Ed({width:E+2*Of,height:T+2*Of},B),metrics:{width:E,height:T,left:O,top:N,advance:q}})}}function qw(u,a,d){u===1?a.id=d.readVarint():u===2?a.bitmap=d.readBytes():u===3?a.width=d.readVarint():u===4?a.height=d.readVarint():u===5?a.left=d.readSVarint():u===6?a.top=d.readSVarint():u===7&&(a.advance=d.readVarint())}const ii=Of;function Ii(u){let a=0,d=0;for(const T of u)a+=T.w*T.h,d=Math.max(d,T.w);u.sort(((T,O)=>O.h-T.h));const m=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(a/.95)),d),h:1/0}];let B=0,E=0;for(const T of u)for(let O=m.length-1;O>=0;O--){const N=m[O];if(!(T.w>N.w||T.h>N.h)){if(T.x=N.x,T.y=N.y,E=Math.max(E,T.y+T.h),B=Math.max(B,T.x+T.w),T.w===N.w&&T.h===N.h){const q=m.pop();O<m.length&&(m[O]=q)}else T.h===N.h?(N.x+=T.w,N.w-=T.w):T.w===N.w?(N.y+=T.h,N.h-=T.h):(m.push({x:N.x+T.w,y:N.y,w:N.w-T.w,h:T.h}),N.y+=T.h,N.h-=T.h);break}}return{w:B,h:E,fill:a/(B*E)||0}}const on=1;class Nn{constructor(a,{pixelRatio:d,version:m,stretchX:B,stretchY:E,content:T,textFitWidth:O,textFitHeight:N}){this.paddedRect=a,this.pixelRatio=d,this.stretchX=B,this.stretchY=E,this.content=T,this.version=m,this.textFitWidth=O,this.textFitHeight=N}get tl(){return[this.paddedRect.x+on,this.paddedRect.y+on]}get br(){return[this.paddedRect.x+this.paddedRect.w-on,this.paddedRect.y+this.paddedRect.h-on]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2*on)/this.pixelRatio,(this.paddedRect.h-2*on)/this.pixelRatio]}}class ci{constructor(a,d){const m={},B={};this.haveRenderCallbacks=[];const E=[];this.addImages(a,m,E),this.addImages(d,B,E);const{w:T,h:O}=Ii(E),N=new _l({width:T||1,height:O||1});for(const q in a){const Z=a[q],Y=m[q].paddedRect;_l.copy(Z.data,N,{x:0,y:0},{x:Y.x+on,y:Y.y+on},Z.data)}for(const q in d){const Z=d[q],Y=B[q].paddedRect,ae=Y.x+on,he=Y.y+on,ye=Z.data.width,Be=Z.data.height;_l.copy(Z.data,N,{x:0,y:0},{x:ae,y:he},Z.data),_l.copy(Z.data,N,{x:0,y:Be-1},{x:ae,y:he-1},{width:ye,height:1}),_l.copy(Z.data,N,{x:0,y:0},{x:ae,y:he+Be},{width:ye,height:1}),_l.copy(Z.data,N,{x:ye-1,y:0},{x:ae-1,y:he},{width:1,height:Be}),_l.copy(Z.data,N,{x:0,y:0},{x:ae+ye,y:he},{width:1,height:Be})}this.image=N,this.iconPositions=m,this.patternPositions=B}addImages(a,d,m){for(const B in a){const E=a[B],T={x:0,y:0,w:E.data.width+2*on,h:E.data.height+2*on};m.push(T),d[B]=new Nn(T,E),E.hasRenderCallback&&this.haveRenderCallbacks.push(B)}}patchUpdatedImages(a,d){a.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const m in a.updatedImages)this.patchUpdatedImage(this.iconPositions[m],a.getImage(m),d),this.patchUpdatedImage(this.patternPositions[m],a.getImage(m),d)}patchUpdatedImage(a,d,m){if(!a||!d||a.version===d.version)return;a.version=d.version;const[B,E]=a.tl;m.update(d.data,void 0,{x:B,y:E})}}var Wa;Rt("ImagePosition",Nn),Rt("ImageAtlas",ci),f.ah=void 0,(Wa=f.ah||(f.ah={}))[Wa.none=0]="none",Wa[Wa.horizontal=1]="horizontal",Wa[Wa.vertical=2]="vertical",Wa[Wa.horizontalOnly=3]="horizontalOnly";const HA=-17;class Ku{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(a,d){const m=new Ku;return m.scale=a||1,m.fontStack=d,m}static forImage(a){const d=new Ku;return d.imageName=a,d}}class eh{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(a,d){const m=new eh;for(let B=0;B<a.sections.length;B++){const E=a.sections[B];E.image?m.addImageSection(E):m.addTextSection(E,d)}return m}length(){return this.text.length}getSection(a){return this.sections[this.sectionIndex[a]]}getSectionIndex(a){return this.sectionIndex[a]}getCharCode(a){return this.text.charCodeAt(a)}verticalizePunctuation(){this.text=(function(a){let d="";for(let m=0;m<a.length;m++){const B=a.charCodeAt(m+1)||null,E=a.charCodeAt(m-1)||null;d+=B&&to(B)&&!Uf[a[m+1]]||E&&to(E)&&!Uf[a[m-1]]||!Uf[a[m]]?a[m]:Uf[a[m]]}return d})(this.text)}trim(){let a=0;for(let m=0;m<this.text.length&&ia[this.text.charCodeAt(m)];m++)a++;let d=this.text.length;for(let m=this.text.length-1;m>=0&&m>=a&&ia[this.text.charCodeAt(m)];m--)d--;this.text=this.text.substring(a,d),this.sectionIndex=this.sectionIndex.slice(a,d)}substring(a,d){const m=new eh;return m.text=this.text.substring(a,d),m.sectionIndex=this.sectionIndex.slice(a,d),m.sections=this.sections,m}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce(((a,d)=>Math.max(a,this.sections[d].scale)),0)}addTextSection(a,d){this.text+=a.text,this.sections.push(Ku.forText(a.scale,a.fontStack||d));const m=this.sections.length-1;for(let B=0;B<a.text.length;++B)this.sectionIndex.push(m)}addImageSection(a){const d=a.image?a.image.name:"";if(d.length===0)return void ve("Can't add FormattedSection with an empty image.");const m=this.getNextImageSectionCharCode();m?(this.text+=String.fromCharCode(m),this.sections.push(Ku.forImage(d)),this.sectionIndex.push(this.sections.length-1)):ve("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function jA(u,a,d,m,B,E,T,O,N,q,Z,Y,ae,he,ye){const Be=eh.fromFeature(u,B);let Re;Y===f.ah.vertical&&Be.verticalizePunctuation();const{processBidirectionalText:Ge,processStyledBidirectionalText:At}=ca;if(Ge&&Be.sections.length===1){Re=[];const Bt=Ge(Be.toString(),Hd(Be,q,E,a,m,he));for(const Kt of Bt){const er=new eh;er.text=Kt,er.sections=Be.sections;for(let kr=0;kr<Kt.length;kr++)er.sectionIndex.push(0);Re.push(er)}}else if(At){Re=[];const Bt=At(Be.text,Be.sectionIndex,Hd(Be,q,E,a,m,he));for(const Kt of Bt){const er=new eh;er.text=Kt[0],er.sectionIndex=Kt[1],er.sections=Be.sections,Re.push(er)}}else Re=(function(Bt,Kt){const er=[],kr=Bt.text;let Wt=0;for(const Yt of Kt)er.push(Bt.substring(Wt,Yt)),Wt=Yt;return Wt<kr.length&&er.push(Bt.substring(Wt,kr.length)),er})(Be,Hd(Be,q,E,a,m,he));const nt=[],ot={positionedLines:nt,text:Be.toString(),top:Z[1],bottom:Z[1],left:Z[0],right:Z[0],writingMode:Y,iconsInText:!1,verticalizable:!1};return(function(Bt,Kt,er,kr,Wt,Yt,pr,Ar,ir,Ut,ar,hr){let Kr=0,Rn=HA,Ai=0,Ja=0;const io=Ar==="right"?1:Ar==="left"?0:.5;let gs=0;for(const ha of Wt){ha.trim();const ts=ha.getMaxScale(),ao=(ts-1)*Ua,ms={positionedGlyphs:[],lineOffset:0};Bt.positionedLines[gs]=ms;const Va=ms.positionedGlyphs;let La=0;if(!ha.length()){Rn+=Yt,++gs;continue}for(let $o=0;$o<ha.length();$o++){const Fn=ha.getSection($o),ti=ha.getSectionIndex($o),Bi=ha.getCharCode($o);let so=0,ki=null,oh=null,aA=null,gu=Ua;const sA=!(ir===f.ah.horizontal||!ar&&!yl(Bi)||ar&&(ia[Bi]||(es=Bi,new RegExp("\\p{sc=Arab}","u").test(String.fromCodePoint(es)))));if(Fn.imageName){const oA=kr[Fn.imageName];if(!oA)continue;aA=Fn.imageName,Bt.iconsInText=Bt.iconsInText||!0,oh=oA.paddedRect;const rs=oA.displaySize;Fn.scale=Fn.scale*Ua/hr,ki={width:rs[0],height:rs[1],left:on,top:-ii,advance:sA?rs[1]:rs[0]},so=ao+(Ua-rs[1]*Fn.scale),gu=ki.advance;const Sc=sA?rs[0]*Fn.scale-Ua*ts:rs[1]*Fn.scale-Ua*ts;Sc>0&&Sc>La&&(La=Sc)}else{const oA=er[Fn.fontStack],rs=oA&&oA[Bi];if(rs&&rs.rect)oh=rs.rect,ki=rs.metrics;else{const Sc=Kt[Fn.fontStack],Rh=Sc&&Sc[Bi];if(!Rh)continue;ki=Rh.metrics}so=(ts-Fn.scale)*Ua}sA?(Bt.verticalizable=!0,Va.push({glyph:Bi,imageName:aA,x:Kr,y:Rn+so,vertical:sA,scale:Fn.scale,fontStack:Fn.fontStack,sectionIndex:ti,metrics:ki,rect:oh}),Kr+=gu*Fn.scale+Ut):(Va.push({glyph:Bi,imageName:aA,x:Kr,y:Rn+so,vertical:sA,scale:Fn.scale,fontStack:Fn.fontStack,sectionIndex:ti,metrics:ki,rect:oh}),Kr+=ki.advance*Fn.scale+Ut)}Va.length!==0&&(Ai=Math.max(Kr-Ut,Ai),Yy(Va,0,Va.length-1,io,La)),Kr=0;const Bl=Yt*ts+La;ms.lineOffset=Math.max(La,ao),Rn+=Bl,Ja=Math.max(Bl,Ja),++gs}var es;const xo=Rn-HA,{horizontalAlign:Bo,verticalAlign:Co}=Qf(pr);(function(ha,ts,ao,ms,Va,La,Bl,$o,Fn){const ti=(ts-ao)*Va;let Bi=0;Bi=La!==Bl?-$o*ms-HA:(-ms*Fn+.5)*Bl;for(const so of ha)for(const ki of so.positionedGlyphs)ki.x+=ti,ki.y+=Bi})(Bt.positionedLines,io,Bo,Co,Ai,Ja,Yt,xo,Wt.length),Bt.top+=-Co*xo,Bt.bottom=Bt.top+xo,Bt.left+=-Bo*Ai,Bt.right=Bt.left+Ai})(ot,a,d,m,Re,T,O,N,Y,q,ae,ye),!(function(Bt){for(const Kt of Bt)if(Kt.positionedGlyphs.length!==0)return!1;return!0})(nt)&&ot}const ia={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},th={10:!0,32:!0,38:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0},Ph={40:!0};function Gp(u,a,d,m,B,E){if(a.imageName){const T=m[a.imageName];return T?T.displaySize[0]*a.scale*Ua/E+B:0}{const T=d[a.fontStack],O=T&&T[u];return O?O.metrics.advance*a.scale+B:0}}function xl(u,a,d,m){const B=Math.pow(u-a,2);return m?u<a?B/2:2*B:B+Math.abs(d)*d}function Df(u,a,d){let m=0;return u===10&&(m-=1e4),d&&(m+=150),u!==40&&u!==65288||(m+=50),a!==41&&a!==65289||(m+=50),m}function kf(u,a,d,m,B,E){let T=null,O=xl(a,d,B,E);for(const N of m){const q=xl(a-N.x,d,B,E)+N.badness;q<=O&&(T=N,O=q)}return{index:u,x:a,priorBreak:T,badness:O}}function Xo(u){return u?Xo(u.priorBreak).concat(u.index):[]}function Hd(u,a,d,m,B,E){if(!u)return[];const T=[],O=(function(Y,ae,he,ye,Be,Re){let Ge=0;for(let At=0;At<Y.length();At++){const nt=Y.getSection(At);Ge+=Gp(Y.getCharCode(At),nt,ye,Be,ae,Re)}return Ge/Math.max(1,Math.ceil(Ge/he))})(u,a,d,m,B,E),N=u.text.indexOf("")>=0;let q=0;for(let Y=0;Y<u.length();Y++){const ae=u.getSection(Y),he=u.getCharCode(Y);if(ia[he]||(q+=Gp(he,ae,m,B,a,E)),Y<u.length()-1){const ye=!((Z=he)<11904)&&(!!Hr["CJK Compatibility Forms"](Z)||!!Hr["CJK Compatibility"](Z)||!!Hr["CJK Strokes"](Z)||!!Hr["CJK Symbols and Punctuation"](Z)||!!Hr["Enclosed CJK Letters and Months"](Z)||!!Hr["Halfwidth and Fullwidth Forms"](Z)||!!Hr["Ideographic Description Characters"](Z)||!!Hr["Vertical Forms"](Z)||qo.test(String.fromCodePoint(Z)));(th[he]||ye||ae.imageName||Y!==u.length()-2&&Ph[u.getCharCode(Y+1)])&&T.push(kf(Y+1,q,O,T,Df(he,u.getCharCode(Y+1),ye&&N),!1))}}var Z;return Xo(kf(u.length(),q,O,T,0,!0))}function Qf(u){let a=.5,d=.5;switch(u){case"right":case"top-right":case"bottom-right":a=1;break;case"left":case"top-left":case"bottom-left":a=0}switch(u){case"bottom":case"bottom-right":case"bottom-left":d=1;break;case"top":case"top-right":case"top-left":d=0}return{horizontalAlign:a,verticalAlign:d}}function Yy(u,a,d,m,B){if(!m&&!B)return;const E=u[d],T=(u[d].x+E.metrics.advance*E.scale)*m;for(let O=a;O<=d;O++)u[O].x-=T,u[O].y+=B}function Xp(u,a,d){const{horizontalAlign:m,verticalAlign:B}=Qf(d),E=a[0]-u.displaySize[0]*m,T=a[1]-u.displaySize[1]*B;return{image:u,top:T,bottom:T+u.displaySize[1],left:E,right:E+u.displaySize[0]}}function jd(u){var a,d;let m=u.left,B=u.top,E=u.right-m,T=u.bottom-B;const O=(a=u.image.textFitWidth)!==null&&a!==void 0?a:"stretchOrShrink",N=(d=u.image.textFitHeight)!==null&&d!==void 0?d:"stretchOrShrink",q=(u.image.content[2]-u.image.content[0])/(u.image.content[3]-u.image.content[1]);if(N==="proportional"){if(O==="stretchOnly"&&E/T<q||O==="proportional"){const Z=Math.ceil(T*q);m*=Z/E,E=Z}}else if(O==="proportional"&&N==="stretchOnly"&&q!==0&&E/T>q){const Z=Math.ceil(E/q);B*=Z/T,T=Z}return{x1:m,y1:B,x2:m+E,y2:B+T}}function Cc(u,a,d,m,B,E){const T=u.image;let O;if(T.content){const Re=T.content,Ge=T.pixelRatio||1;O=[Re[0]/Ge,Re[1]/Ge,T.displaySize[0]-Re[2]/Ge,T.displaySize[1]-Re[3]/Ge]}const N=a.left*E,q=a.right*E;let Z,Y,ae,he;d==="width"||d==="both"?(he=B[0]+N-m[3],Y=B[0]+q+m[1]):(he=B[0]+(N+q-T.displaySize[0])/2,Y=he+T.displaySize[0]);const ye=a.top*E,Be=a.bottom*E;return d==="height"||d==="both"?(Z=B[1]+ye-m[0],ae=B[1]+Be+m[2]):(Z=B[1]+(ye+Be-T.displaySize[1])/2,ae=Z+T.displaySize[1]),{image:T,top:Z,right:Y,bottom:ae,left:he,collisionPadding:O}}const ba=255,no=128,nA=ba*no;function Vu(u,a){const{expression:d}=a;if(d.kind==="constant")return{kind:"constant",layoutSize:d.evaluate(new pn(u+1))};if(d.kind==="source")return{kind:"source"};{const{zoomStops:m,interpolationType:B}=d;let E=0;for(;E<m.length&&m[E]<=u;)E++;E=Math.max(0,E-1);let T=E;for(;T<m.length&&m[T]<u+1;)T++;T=Math.min(m.length-1,T);const O=m[E],N=m[T];return d.kind==="composite"?{kind:"composite",minZoom:O,maxZoom:N,interpolationType:B}:{kind:"camera",minZoom:O,maxZoom:N,minSize:d.evaluate(new pn(O)),maxSize:d.evaluate(new pn(N)),interpolationType:B}}}function Kd(u,a,d){let m="never";const B=u.get(a);return B?m=B:u.get(d)&&(m="always"),m}const Pm=wc.VectorTileFeature.types,Jy=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function rh(u,a,d,m,B,E,T,O,N,q,Z,Y,ae){const he=O?Math.min(nA,Math.round(O[0])):0,ye=O?Math.min(nA,Math.round(O[1])):0;u.emplaceBack(a,d,Math.round(32*m),Math.round(32*B),E,T,(he<<1)+(N?1:0),ye,16*q,16*Z,256*Y,256*ae)}function Vd(u,a,d){u.emplaceBack(a.x,a.y,d),u.emplaceBack(a.x,a.y,d),u.emplaceBack(a.x,a.y,d),u.emplaceBack(a.x,a.y,d)}function iA(u){for(const a of u.sections)if(jc(a.text))return!0;return!1}class $p{constructor(a){this.layoutVertexArray=new _a,this.indexArray=new Ti,this.programConfigurations=a,this.segments=new cn,this.dynamicLayoutVertexArray=new Ei,this.opacityVertexArray=new mr,this.hasVisibleVertices=!1,this.placedSymbolArray=new un}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(a,d,m,B){this.isEmpty()||(m&&(this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,Kw.members),this.indexBuffer=a.createIndexBuffer(this.indexArray,d),this.dynamicLayoutVertexBuffer=a.createVertexBuffer(this.dynamicLayoutVertexArray,Gy.members,!0),this.opacityVertexBuffer=a.createVertexBuffer(this.opacityVertexArray,Jy,!0),this.opacityVertexBuffer.itemSize=1),(m||B)&&this.programConfigurations.upload(a))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}Rt("SymbolBuffers",$p);class wo{constructor(a,d,m){this.layoutVertexArray=new a,this.layoutAttributes=d,this.indexArray=new m,this.segments=new cn,this.collisionVertexArray=new xn}upload(a){this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=a.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=a.createVertexBuffer(this.collisionVertexArray,Xy.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}Rt("CollisionBuffers",wo);class Oh{constructor(a){this.collisionBoxArray=a.collisionBoxArray,this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map((T=>T.id)),this.index=a.index,this.pixelRatio=a.pixelRatio,this.sourceLayerIndex=a.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Op([]),this.placementViewportMatrix=Op([]);const d=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Vu(this.zoom,d["text-size"]),this.iconSizeData=Vu(this.zoom,d["icon-size"]);const m=this.layers[0].layout,B=m.get("symbol-sort-key"),E=m.get("symbol-z-order");this.canOverlap=Kd(m,"text-overlap","text-allow-overlap")!=="never"||Kd(m,"icon-overlap","icon-allow-overlap")!=="never"||m.get("text-ignore-placement")||m.get("icon-ignore-placement"),this.sortFeaturesByKey=E!=="viewport-y"&&!B.isConstant(),this.sortFeaturesByY=(E==="viewport-y"||E==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,m.get("symbol-placement")==="point"&&(this.writingModes=m.get("text-writing-mode").map((T=>f.ah[T]))),this.stateDependentLayerIds=this.layers.filter((T=>T.isStateDependent())).map((T=>T.id)),this.sourceID=a.sourceID}createArrays(){this.text=new $p(new Qu(this.layers,this.zoom,(a=>/^text/.test(a)))),this.icon=new $p(new Qu(this.layers,this.zoom,(a=>/^icon/.test(a)))),this.glyphOffsetArray=new br,this.lineVertexArray=new an,this.symbolInstances=new Lr,this.textAnchorOffsets=new Dr}calculateGlyphDependencies(a,d,m,B,E){for(let T=0;T<a.length;T++)if(d[a.charCodeAt(T)]=!0,(m||B)&&E){const O=Uf[a.charAt(T)];O&&(d[O.charCodeAt(0)]=!0)}}populate(a,d,m){const B=this.layers[0],E=B.layout,T=E.get("text-font"),O=E.get("text-field"),N=E.get("icon-image"),q=(O.value.kind!=="constant"||O.value.value instanceof vi&&!O.value.value.isEmpty()||O.value.value.toString().length>0)&&(T.value.kind!=="constant"||T.value.value.length>0),Z=N.value.kind!=="constant"||!!N.value.value||Object.keys(N.parameters).length>0,Y=E.get("symbol-sort-key");if(this.features=[],!q&&!Z)return;const ae=d.iconDependencies,he=d.glyphDependencies,ye=d.availableImages,Be=new pn(this.zoom);for(const{feature:Re,id:Ge,index:At,sourceLayerIndex:nt}of a){const ot=B._featureFilter.needGeometry,Bt=Nu(Re,ot);if(!B._featureFilter.filter(Be,Bt,m))continue;let Kt,er;if(ot||(Bt.geometry=cu(Re)),q){const Wt=B.getValueAndResolveTokens("text-field",Bt,m,ye),Yt=vi.factory(Wt),pr=this.hasRTLText=this.hasRTLText||iA(Yt);(!pr||ca.getRTLTextPluginStatus()==="unavailable"||pr&&ca.isParsed())&&(Kt=xc(Yt,B,Bt))}if(Z){const Wt=B.getValueAndResolveTokens("icon-image",Bt,m,ye);er=Wt instanceof ka?Wt:ka.fromString(Wt)}if(!Kt&&!er)continue;const kr=this.sortFeaturesByKey?Y.evaluate(Bt,{},m):void 0;if(this.features.push({id:Ge,text:Kt,icon:er,index:At,sourceLayerIndex:nt,geometry:Bt.geometry,properties:Re.properties,type:Pm[Re.type],sortKey:kr}),er&&(ae[er.name]=!0),Kt){const Wt=T.evaluate(Bt,{},m).join(","),Yt=E.get("text-rotation-alignment")!=="viewport"&&E.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(f.ah.vertical)>=0;for(const pr of Kt.sections)if(pr.image)ae[pr.image.name]=!0;else{const Ar=Xl(Kt.toString()),ir=pr.fontStack||Wt,Ut=he[ir]=he[ir]||{};this.calculateGlyphDependencies(pr.text,Ut,Yt,this.allowVerticalPlacement,Ar)}}}E.get("symbol-placement")==="line"&&(this.features=(function(Re){const Ge={},At={},nt=[];let ot=0;function Bt(Wt){nt.push(Re[Wt]),ot++}function Kt(Wt,Yt,pr){const Ar=At[Wt];return delete At[Wt],At[Yt]=Ar,nt[Ar].geometry[0].pop(),nt[Ar].geometry[0]=nt[Ar].geometry[0].concat(pr[0]),Ar}function er(Wt,Yt,pr){const Ar=Ge[Yt];return delete Ge[Yt],Ge[Wt]=Ar,nt[Ar].geometry[0].shift(),nt[Ar].geometry[0]=pr[0].concat(nt[Ar].geometry[0]),Ar}function kr(Wt,Yt,pr){const Ar=pr?Yt[0][Yt[0].length-1]:Yt[0][0];return`${Wt}:${Ar.x}:${Ar.y}`}for(let Wt=0;Wt<Re.length;Wt++){const Yt=Re[Wt],pr=Yt.geometry,Ar=Yt.text?Yt.text.toString():null;if(!Ar){Bt(Wt);continue}const ir=kr(Ar,pr),Ut=kr(Ar,pr,!0);if(ir in At&&Ut in Ge&&At[ir]!==Ge[Ut]){const ar=er(ir,Ut,pr),hr=Kt(ir,Ut,nt[ar].geometry);delete Ge[ir],delete At[Ut],At[kr(Ar,nt[hr].geometry,!0)]=hr,nt[ar].geometry=null}else ir in At?Kt(ir,Ut,pr):Ut in Ge?er(ir,Ut,pr):(Bt(Wt),Ge[ir]=ot-1,At[Ut]=ot-1)}return nt.filter((Wt=>Wt.geometry))})(this.features)),this.sortFeaturesByKey&&this.features.sort(((Re,Ge)=>Re.sortKey-Ge.sortKey))}update(a,d,m){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(a,d,this.layers,m),this.icon.programConfigurations.updatePaintArrays(a,d,this.layers,m))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(a){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(a),this.iconCollisionBox.upload(a)),this.text.upload(a,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(a,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(a,d){const m=this.lineVertexArray.length;if(a.segment!==void 0){let B=a.dist(d[a.segment+1]),E=a.dist(d[a.segment]);const T={};for(let O=a.segment+1;O<d.length;O++)T[O]={x:d[O].x,y:d[O].y,tileUnitDistanceFromAnchor:B},O<d.length-1&&(B+=d[O+1].dist(d[O]));for(let O=a.segment||0;O>=0;O--)T[O]={x:d[O].x,y:d[O].y,tileUnitDistanceFromAnchor:E},O>0&&(E+=d[O-1].dist(d[O]));for(let O=0;O<d.length;O++){const N=T[O];this.lineVertexArray.emplaceBack(N.x,N.y,N.tileUnitDistanceFromAnchor)}}return{lineStartIndex:m,lineLength:this.lineVertexArray.length-m}}addSymbols(a,d,m,B,E,T,O,N,q,Z,Y,ae){const he=a.indexArray,ye=a.layoutVertexArray,Be=a.segments.prepareSegment(4*d.length,ye,he,this.canOverlap?T.sortKey:void 0),Re=this.glyphOffsetArray.length,Ge=Be.vertexLength,At=this.allowVerticalPlacement&&O===f.ah.vertical?Math.PI/2:0,nt=T.text&&T.text.sections;for(let ot=0;ot<d.length;ot++){const{tl:Bt,tr:Kt,bl:er,br:kr,tex:Wt,pixelOffsetTL:Yt,pixelOffsetBR:pr,minFontScaleX:Ar,minFontScaleY:ir,glyphOffset:Ut,isSDF:ar,sectionIndex:hr}=d[ot],Kr=Be.vertexLength,Rn=Ut[1];rh(ye,N.x,N.y,Bt.x,Rn+Bt.y,Wt.x,Wt.y,m,ar,Yt.x,Yt.y,Ar,ir),rh(ye,N.x,N.y,Kt.x,Rn+Kt.y,Wt.x+Wt.w,Wt.y,m,ar,pr.x,Yt.y,Ar,ir),rh(ye,N.x,N.y,er.x,Rn+er.y,Wt.x,Wt.y+Wt.h,m,ar,Yt.x,pr.y,Ar,ir),rh(ye,N.x,N.y,kr.x,Rn+kr.y,Wt.x+Wt.w,Wt.y+Wt.h,m,ar,pr.x,pr.y,Ar,ir),Vd(a.dynamicLayoutVertexArray,N,At),he.emplaceBack(Kr,Kr+1,Kr+2),he.emplaceBack(Kr+1,Kr+2,Kr+3),Be.vertexLength+=4,Be.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Ut[0]),ot!==d.length-1&&hr===d[ot+1].sectionIndex||a.programConfigurations.populatePaintArrays(ye.length,T,T.index,{},ae,nt&&nt[hr])}a.placedSymbolArray.emplaceBack(N.x,N.y,Re,this.glyphOffsetArray.length-Re,Ge,q,Z,N.segment,m?m[0]:0,m?m[1]:0,B[0],B[1],O,0,!1,0,Y)}_addCollisionDebugVertex(a,d,m,B,E,T){return d.emplaceBack(0,0),a.emplaceBack(m.x,m.y,B,E,Math.round(T.x),Math.round(T.y))}addCollisionDebugVertices(a,d,m,B,E,T,O){const N=E.segments.prepareSegment(4,E.layoutVertexArray,E.indexArray),q=N.vertexLength,Z=E.layoutVertexArray,Y=E.collisionVertexArray,ae=O.anchorX,he=O.anchorY;this._addCollisionDebugVertex(Z,Y,T,ae,he,new S(a,d)),this._addCollisionDebugVertex(Z,Y,T,ae,he,new S(m,d)),this._addCollisionDebugVertex(Z,Y,T,ae,he,new S(m,B)),this._addCollisionDebugVertex(Z,Y,T,ae,he,new S(a,B)),N.vertexLength+=4;const ye=E.indexArray;ye.emplaceBack(q,q+1),ye.emplaceBack(q+1,q+2),ye.emplaceBack(q+2,q+3),ye.emplaceBack(q+3,q),N.primitiveLength+=4}addDebugCollisionBoxes(a,d,m,B){for(let E=a;E<d;E++){const T=this.collisionBoxArray.get(E);this.addCollisionDebugVertices(T.x1,T.y1,T.x2,T.y2,B?this.textCollisionBox:this.iconCollisionBox,T.anchorPoint,m)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new wo(vr,na.members,ni),this.iconCollisionBox=new wo(vr,na.members,ni);for(let a=0;a<this.symbolInstances.length;a++){const d=this.symbolInstances.get(a);this.addDebugCollisionBoxes(d.textBoxStartIndex,d.textBoxEndIndex,d,!0),this.addDebugCollisionBoxes(d.verticalTextBoxStartIndex,d.verticalTextBoxEndIndex,d,!0),this.addDebugCollisionBoxes(d.iconBoxStartIndex,d.iconBoxEndIndex,d,!1),this.addDebugCollisionBoxes(d.verticalIconBoxStartIndex,d.verticalIconBoxEndIndex,d,!1)}}_deserializeCollisionBoxesForSymbol(a,d,m,B,E,T,O,N,q){const Z={};for(let Y=d;Y<m;Y++){const ae=a.get(Y);Z.textBox={x1:ae.x1,y1:ae.y1,x2:ae.x2,y2:ae.y2,anchorPointX:ae.anchorPointX,anchorPointY:ae.anchorPointY},Z.textFeatureIndex=ae.featureIndex;break}for(let Y=B;Y<E;Y++){const ae=a.get(Y);Z.verticalTextBox={x1:ae.x1,y1:ae.y1,x2:ae.x2,y2:ae.y2,anchorPointX:ae.anchorPointX,anchorPointY:ae.anchorPointY},Z.verticalTextFeatureIndex=ae.featureIndex;break}for(let Y=T;Y<O;Y++){const ae=a.get(Y);Z.iconBox={x1:ae.x1,y1:ae.y1,x2:ae.x2,y2:ae.y2,anchorPointX:ae.anchorPointX,anchorPointY:ae.anchorPointY},Z.iconFeatureIndex=ae.featureIndex;break}for(let Y=N;Y<q;Y++){const ae=a.get(Y);Z.verticalIconBox={x1:ae.x1,y1:ae.y1,x2:ae.x2,y2:ae.y2,anchorPointX:ae.anchorPointX,anchorPointY:ae.anchorPointY},Z.verticalIconFeatureIndex=ae.featureIndex;break}return Z}deserializeCollisionBoxes(a){this.collisionArrays=[];for(let d=0;d<this.symbolInstances.length;d++){const m=this.symbolInstances.get(d);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(a,m.textBoxStartIndex,m.textBoxEndIndex,m.verticalTextBoxStartIndex,m.verticalTextBoxEndIndex,m.iconBoxStartIndex,m.iconBoxEndIndex,m.verticalIconBoxStartIndex,m.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(a,d){const m=a.placedSymbolArray.get(d),B=m.vertexStartIndex+4*m.numGlyphs;for(let E=m.vertexStartIndex;E<B;E+=4)a.indexArray.emplaceBack(E,E+1,E+2),a.indexArray.emplaceBack(E+1,E+2,E+3)}getSortedSymbolIndexes(a){if(this.sortedAngle===a&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const d=Math.sin(a),m=Math.cos(a),B=[],E=[],T=[];for(let O=0;O<this.symbolInstances.length;++O){T.push(O);const N=this.symbolInstances.get(O);B.push(0|Math.round(d*N.anchorX+m*N.anchorY)),E.push(N.featureIndex)}return T.sort(((O,N)=>B[O]-B[N]||E[N]-E[O])),T}addToSortKeyRanges(a,d){const m=this.sortKeyRanges[this.sortKeyRanges.length-1];m&&m.sortKey===d?m.symbolInstanceEnd=a+1:this.sortKeyRanges.push({sortKey:d,symbolInstanceStart:a,symbolInstanceEnd:a+1})}sortFeatures(a){if(this.sortFeaturesByY&&this.sortedAngle!==a&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(a),this.sortedAngle=a,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const d of this.symbolInstanceIndexes){const m=this.symbolInstances.get(d);this.featureSortOrder.push(m.featureIndex),[m.rightJustifiedTextSymbolIndex,m.centerJustifiedTextSymbolIndex,m.leftJustifiedTextSymbolIndex].forEach(((B,E,T)=>{B>=0&&T.indexOf(B)===E&&this.addIndicesForPlacedSymbol(this.text,B)})),m.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,m.verticalPlacedTextSymbolIndex),m.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,m.placedIconSymbolIndex),m.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,m.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let Om,ev;Rt("SymbolBucket",Oh,{omit:["layers","collisionBoxArray","features","compareText"]}),Oh.MAX_GLYPHS=65535,Oh.addDynamicAttributes=Vd;var qu={get paint(){return ev=ev||new _({"icon-opacity":new Cr(Ze.paint_symbol["icon-opacity"]),"icon-color":new Cr(Ze.paint_symbol["icon-color"]),"icon-halo-color":new Cr(Ze.paint_symbol["icon-halo-color"]),"icon-halo-width":new Cr(Ze.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Cr(Ze.paint_symbol["icon-halo-blur"]),"icon-translate":new lr(Ze.paint_symbol["icon-translate"]),"icon-translate-anchor":new lr(Ze.paint_symbol["icon-translate-anchor"]),"text-opacity":new Cr(Ze.paint_symbol["text-opacity"]),"text-color":new Cr(Ze.paint_symbol["text-color"],{runtimeType:$r,getOverride:u=>u.textColor,hasOverride:u=>!!u.textColor}),"text-halo-color":new Cr(Ze.paint_symbol["text-halo-color"]),"text-halo-width":new Cr(Ze.paint_symbol["text-halo-width"]),"text-halo-blur":new Cr(Ze.paint_symbol["text-halo-blur"]),"text-translate":new lr(Ze.paint_symbol["text-translate"]),"text-translate-anchor":new lr(Ze.paint_symbol["text-translate-anchor"])})},get layout(){return Om=Om||new _({"symbol-placement":new lr(Ze.layout_symbol["symbol-placement"]),"symbol-spacing":new lr(Ze.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new lr(Ze.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Cr(Ze.layout_symbol["symbol-sort-key"]),"symbol-z-order":new lr(Ze.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new lr(Ze.layout_symbol["icon-allow-overlap"]),"icon-overlap":new lr(Ze.layout_symbol["icon-overlap"]),"icon-ignore-placement":new lr(Ze.layout_symbol["icon-ignore-placement"]),"icon-optional":new lr(Ze.layout_symbol["icon-optional"]),"icon-rotation-alignment":new lr(Ze.layout_symbol["icon-rotation-alignment"]),"icon-size":new Cr(Ze.layout_symbol["icon-size"]),"icon-text-fit":new lr(Ze.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new lr(Ze.layout_symbol["icon-text-fit-padding"]),"icon-image":new Cr(Ze.layout_symbol["icon-image"]),"icon-rotate":new Cr(Ze.layout_symbol["icon-rotate"]),"icon-padding":new Cr(Ze.layout_symbol["icon-padding"]),"icon-keep-upright":new lr(Ze.layout_symbol["icon-keep-upright"]),"icon-offset":new Cr(Ze.layout_symbol["icon-offset"]),"icon-anchor":new Cr(Ze.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new lr(Ze.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new lr(Ze.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new lr(Ze.layout_symbol["text-rotation-alignment"]),"text-field":new Cr(Ze.layout_symbol["text-field"]),"text-font":new Cr(Ze.layout_symbol["text-font"]),"text-size":new Cr(Ze.layout_symbol["text-size"]),"text-max-width":new Cr(Ze.layout_symbol["text-max-width"]),"text-line-height":new lr(Ze.layout_symbol["text-line-height"]),"text-letter-spacing":new Cr(Ze.layout_symbol["text-letter-spacing"]),"text-justify":new Cr(Ze.layout_symbol["text-justify"]),"text-radial-offset":new Cr(Ze.layout_symbol["text-radial-offset"]),"text-variable-anchor":new lr(Ze.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new Cr(Ze.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new Cr(Ze.layout_symbol["text-anchor"]),"text-max-angle":new lr(Ze.layout_symbol["text-max-angle"]),"text-writing-mode":new lr(Ze.layout_symbol["text-writing-mode"]),"text-rotate":new Cr(Ze.layout_symbol["text-rotate"]),"text-padding":new lr(Ze.layout_symbol["text-padding"]),"text-keep-upright":new lr(Ze.layout_symbol["text-keep-upright"]),"text-transform":new Cr(Ze.layout_symbol["text-transform"]),"text-offset":new Cr(Ze.layout_symbol["text-offset"]),"text-allow-overlap":new lr(Ze.layout_symbol["text-allow-overlap"]),"text-overlap":new lr(Ze.layout_symbol["text-overlap"]),"text-ignore-placement":new lr(Ze.layout_symbol["text-ignore-placement"]),"text-optional":new lr(Ze.layout_symbol["text-optional"])})}};class qd{constructor(a){if(a.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=a.property.overrides?a.property.overrides.runtimeType:ri,this.defaultValue=a}evaluate(a){if(a.formattedSection){const d=this.defaultValue.property.overrides;if(d&&d.hasOverride(a.formattedSection))return d.getOverride(a.formattedSection)}return a.feature&&a.featureState?this.defaultValue.evaluate(a.feature,a.featureState):this.defaultValue.property.specification.default}eachChild(a){this.defaultValue.isConstant()||a(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Rt("FormatSectionOverride",qd,{omit:["defaultValue"]});class Nf extends h{constructor(a){super(a,qu)}recalculate(a,d){if(super.recalculate(a,d),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const m=this.layout.get("text-writing-mode");if(m){const B=[];for(const E of m)B.indexOf(E)<0&&B.push(E);this.layout._values["text-writing-mode"]=B}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(a,d,m,B){const E=this.layout.get(a).evaluate(d,{},m,B),T=this._unevaluatedLayout._values[a];return T.isDataDriven()||ls(T.value)||!E?E:(function(O,N){return N.replace(/{([^{}]+)}/g,((q,Z)=>O&&Z in O?String(O[Z]):""))})(d.properties,E)}createBucket(a){return new Oh(a)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const a of qu.paint.overridableProperties){if(!Nf.hasPaintOverride(this.layout,a))continue;const d=this.paint.get(a),m=new qd(d),B=new ya(m,d.property.specification);let E=null;E=d.value.kind==="constant"||d.value.kind==="source"?new Bn("source",B):new $n("composite",B,d.value.zoomStops),this.paint._values[a]=new fs(d.property,E,d.parameters)}}_handleOverridablePaintPropertyUpdate(a,d,m){return!(!this.layout||d.isDataDriven()||m.isDataDriven())&&Nf.hasPaintOverride(this.layout,a)}static hasPaintOverride(a,d){const m=a.get("text-field"),B=qu.paint.properties[d];let E=!1;const T=O=>{for(const N of O)if(B.overrides&&B.overrides.hasOverride(N))return void(E=!0)};if(m.value.kind==="constant"&&m.value.value instanceof vi)T(m.value.value.sections);else if(m.value.kind==="source"){const O=q=>{E||(q instanceof $i&&Vn(q.value)===Rr?T(q.value.sections):q instanceof jl?T(q.sections):q.eachChild(O))},N=m.value;N._styleExpression&&O(N._styleExpression.expression)}return E}}let Dh;var tv={get paint(){return Dh=Dh||new _({"background-color":new lr(Ze.paint_background["background-color"]),"background-pattern":new D(Ze.paint_background["background-pattern"]),"background-opacity":new lr(Ze.paint_background["background-opacity"])})}};class rv extends h{constructor(a){super(a,tv)}}let Dm;var nv={get paint(){return Dm=Dm||new _({"raster-opacity":new lr(Ze.paint_raster["raster-opacity"]),"raster-hue-rotate":new lr(Ze.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new lr(Ze.paint_raster["raster-brightness-min"]),"raster-brightness-max":new lr(Ze.paint_raster["raster-brightness-max"]),"raster-saturation":new lr(Ze.paint_raster["raster-saturation"]),"raster-contrast":new lr(Ze.paint_raster["raster-contrast"]),"raster-resampling":new lr(Ze.paint_raster["raster-resampling"]),"raster-fade-duration":new lr(Ze.paint_raster["raster-fade-duration"])})}};class Zp extends h{constructor(a){super(a,nv)}}class km extends h{constructor(a){super(a,{}),this.onAdd=d=>{this.implementation.onAdd&&this.implementation.onAdd(d,d.painter.context.gl)},this.onRemove=d=>{this.implementation.onRemove&&this.implementation.onRemove(d,d.painter.context.gl)},this.implementation=a}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class Gw{constructor(a){this._methodToThrottle=a,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._methodToThrottle()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((()=>{this._triggered=!1,this._methodToThrottle()}),0))}remove(){delete this._channel,this._methodToThrottle=()=>{}}}const Qm=63710088e-1;class nh{constructor(a,d){if(isNaN(a)||isNaN(d))throw new Error(`Invalid LngLat object: (${a}, ${d})`);if(this.lng=+a,this.lat=+d,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new nh(me(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(a){const d=Math.PI/180,m=this.lat*d,B=a.lat*d,E=Math.sin(m)*Math.sin(B)+Math.cos(m)*Math.cos(B)*Math.cos((a.lng-this.lng)*d);return Qm*Math.acos(Math.min(E,1))}static convert(a){if(a instanceof nh)return a;if(Array.isArray(a)&&(a.length===2||a.length===3))return new nh(Number(a[0]),Number(a[1]));if(!Array.isArray(a)&&typeof a=="object"&&a!==null)return new nh(Number("lng"in a?a.lng:a.lon),Number(a.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const Nm=2*Math.PI*Qm;function Rm(u){return Nm*Math.cos(u*Math.PI/180)}function kh(u){return(180+u)/360}function Gd(u){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+u*Math.PI/360)))/360}function zm(u,a){return u/Rm(a)}function Wp(u){return 360/Math.PI*Math.atan(Math.exp((180-360*u)*Math.PI/180))-90}class Rf{constructor(a,d,m=0){this.x=+a,this.y=+d,this.z=+m}static fromLngLat(a,d=0){const m=nh.convert(a);return new Rf(kh(m.lng),Gd(m.lat),zm(d,m.lat))}toLngLat(){return new nh(360*this.x-180,Wp(this.y))}toAltitude(){return this.z*Rm(Wp(this.y))}meterInMercatorCoordinateUnits(){return 1/Nm*(a=Wp(this.y),1/Math.cos(a*Math.PI/180));var a}}function Hm(u,a,d){var m=2*Math.PI*6378137/256/Math.pow(2,d);return[u*m-2*Math.PI*6378137/2,a*m-2*Math.PI*6378137/2]}class Yp{constructor(a,d,m){if(!(function(B,E,T){return!(B<0||B>25||T<0||T>=Math.pow(2,B)||E<0||E>=Math.pow(2,B))})(a,d,m))throw new Error(`x=${d}, y=${m}, z=${a} outside of bounds. 0<=x<${Math.pow(2,a)}, 0<=y<${Math.pow(2,a)} 0<=z<=25 `);this.z=a,this.x=d,this.y=m,this.key=zf(0,a,a,d,m)}equals(a){return this.z===a.z&&this.x===a.x&&this.y===a.y}url(a,d,m){const B=(T=this.y,O=this.z,N=Hm(256*(E=this.x),256*(T=Math.pow(2,O)-T-1),O),q=Hm(256*(E+1),256*(T+1),O),N[0]+","+N[1]+","+q[0]+","+q[1]);var E,T,O,N,q;const Z=(function(Y,ae,he){let ye,Be="";for(let Re=Y;Re>0;Re--)ye=1<<Re-1,Be+=(ae&ye?1:0)+(he&ye?2:0);return Be})(this.z,this.x,this.y);return a[(this.x+this.y)%a.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(m==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,d>1?"@2x":"").replace(/{quadkey}/g,Z).replace(/{bbox-epsg-3857}/g,B)}isChildOf(a){const d=this.z-a.z;return d>0&&a.x===this.x>>d&&a.y===this.y>>d}getTilePoint(a){const d=Math.pow(2,this.z);return new S((a.x*d-this.x)*ea,(a.y*d-this.y)*ea)}toString(){return`${this.z}/${this.x}/${this.y}`}}class jm{constructor(a,d){this.wrap=a,this.canonical=d,this.key=zf(a,d.z,d.z,d.x,d.y)}}class bo{constructor(a,d,m,B,E){if(a<m)throw new Error(`overscaledZ should be >= z; overscaledZ = ${a}; z = ${m}`);this.overscaledZ=a,this.wrap=d,this.canonical=new Yp(m,+B,+E),this.key=zf(d,a,m,B,E)}clone(){return new bo(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(a){return this.overscaledZ===a.overscaledZ&&this.wrap===a.wrap&&this.canonical.equals(a.canonical)}scaledTo(a){if(a>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${a}; overscaledZ = ${this.overscaledZ}`);const d=this.canonical.z-a;return a>this.canonical.z?new bo(a,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new bo(a,this.wrap,a,this.canonical.x>>d,this.canonical.y>>d)}calculateScaledKey(a,d){if(a>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${a}; overscaledZ = ${this.overscaledZ}`);const m=this.canonical.z-a;return a>this.canonical.z?zf(this.wrap*+d,a,this.canonical.z,this.canonical.x,this.canonical.y):zf(this.wrap*+d,a,a,this.canonical.x>>m,this.canonical.y>>m)}isChildOf(a){if(a.wrap!==this.wrap)return!1;const d=this.canonical.z-a.canonical.z;return a.overscaledZ===0||a.overscaledZ<this.overscaledZ&&a.canonical.x===this.canonical.x>>d&&a.canonical.y===this.canonical.y>>d}children(a){if(this.overscaledZ>=a)return[new bo(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const d=this.canonical.z+1,m=2*this.canonical.x,B=2*this.canonical.y;return[new bo(d,this.wrap,d,m,B),new bo(d,this.wrap,d,m+1,B),new bo(d,this.wrap,d,m,B+1),new bo(d,this.wrap,d,m+1,B+1)]}isLessThan(a){return this.wrap<a.wrap||!(this.wrap>a.wrap)&&(this.overscaledZ<a.overscaledZ||!(this.overscaledZ>a.overscaledZ)&&(this.canonical.x<a.canonical.x||!(this.canonical.x>a.canonical.x)&&this.canonical.y<a.canonical.y))}wrapped(){return new bo(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(a){return new bo(this.overscaledZ,a,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new jm(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(a){return this.canonical.getTilePoint(new Rf(a.x-this.wrap,a.y))}}function zf(u,a,d,m,B){(u*=2)<0&&(u=-1*u-1);const E=1<<d;return(E*E*u+E*B+m).toString(36)+d.toString(36)+a.toString(36)}Rt("CanonicalTileID",Yp),Rt("OverscaledTileID",bo,{omit:["posMatrix"]});class Km{constructor(a,d,m,B=1,E=1,T=1,O=0){if(this.uid=a,d.height!==d.width)throw new RangeError("DEM tiles must be square");if(m&&!["mapbox","terrarium","custom"].includes(m))return void ve(`"${m}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=d.height;const N=this.dim=d.height-2;switch(this.data=new Uint32Array(d.data.buffer),m){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=B,this.greenFactor=E,this.blueFactor=T,this.baseShift=O;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let q=0;q<N;q++)this.data[this._idx(-1,q)]=this.data[this._idx(0,q)],this.data[this._idx(N,q)]=this.data[this._idx(N-1,q)],this.data[this._idx(q,-1)]=this.data[this._idx(q,0)],this.data[this._idx(q,N)]=this.data[this._idx(q,N-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(N,-1)]=this.data[this._idx(N-1,0)],this.data[this._idx(-1,N)]=this.data[this._idx(0,N-1)],this.data[this._idx(N,N)]=this.data[this._idx(N-1,N-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let q=0;q<N;q++)for(let Z=0;Z<N;Z++){const Y=this.get(q,Z);Y>this.max&&(this.max=Y),Y<this.min&&(this.min=Y)}}get(a,d){const m=new Uint8Array(this.data.buffer),B=4*this._idx(a,d);return this.unpack(m[B],m[B+1],m[B+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(a,d){if(a<-1||a>=this.dim+1||d<-1||d>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(d+1)*this.stride+(a+1)}unpack(a,d,m){return a*this.redFactor+d*this.greenFactor+m*this.blueFactor-this.baseShift}getPixels(){return new _l({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(a,d,m){if(this.dim!==a.dim)throw new Error("dem dimension mismatch");let B=d*this.dim,E=d*this.dim+this.dim,T=m*this.dim,O=m*this.dim+this.dim;switch(d){case-1:B=E-1;break;case 1:E=B+1}switch(m){case-1:T=O-1;break;case 1:O=T+1}const N=-d*this.dim,q=-m*this.dim;for(let Z=T;Z<O;Z++)for(let Y=B;Y<E;Y++)this.data[this._idx(Y,Z)]=a.data[this._idx(Y+N,Z+q)]}}Rt("DEMData",Km);class hi{constructor(a){this._stringToNumber={},this._numberToString=[];for(let d=0;d<a.length;d++){const m=a[d];this._stringToNumber[m]=d,this._numberToString[d]=m}}encode(a){return this._stringToNumber[a]}decode(a){if(a>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${a} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[a]}}class Jp{constructor(a,d,m,B,E){this.type="Feature",this._vectorTileFeature=a,a._z=d,a._x=m,a._y=B,this.properties=a.properties,this.id=E}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(a){this._geometry=a}toJSON(){const a={geometry:this.geometry};for(const d in this)d!=="_geometry"&&d!=="_vectorTileFeature"&&(a[d]=this[d]);return a}}class iv{constructor(a,d){this.tileID=a,this.x=a.canonical.x,this.y=a.canonical.y,this.z=a.canonical.z,this.grid=new Vi(ea,16,0),this.grid3D=new Vi(ea,16,0),this.featureIndexArray=new In,this.promoteId=d}insert(a,d,m,B,E,T){const O=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(m,B,E);const N=T?this.grid3D:this.grid;for(let q=0;q<d.length;q++){const Z=d[q],Y=[1/0,1/0,-1/0,-1/0];for(let ae=0;ae<Z.length;ae++){const he=Z[ae];Y[0]=Math.min(Y[0],he.x),Y[1]=Math.min(Y[1],he.y),Y[2]=Math.max(Y[2],he.x),Y[3]=Math.max(Y[3],he.y)}Y[0]<ea&&Y[1]<ea&&Y[2]>=0&&Y[3]>=0&&N.insert(O,Y[0],Y[1],Y[2],Y[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new wc.VectorTile(new qp(this.rawTileData)).layers,this.sourceLayerCoder=new hi(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(a,d,m,B){this.loadVTLayers();const E=a.params||{},T=ea/a.tileSize/a.scale,O=cc(E.filter),N=a.queryGeometry,q=a.queryPadding*T,Z=av(N),Y=this.grid.query(Z.minX-q,Z.minY-q,Z.maxX+q,Z.maxY+q),ae=av(a.cameraQueryGeometry),he=this.grid3D.query(ae.minX-q,ae.minY-q,ae.maxX+q,ae.maxY+q,((Re,Ge,At,nt)=>(function(ot,Bt,Kt,er,kr){for(const Yt of ot)if(Bt<=Yt.x&&Kt<=Yt.y&&er>=Yt.x&&kr>=Yt.y)return!0;const Wt=[new S(Bt,Kt),new S(Bt,kr),new S(er,kr),new S(er,Kt)];if(ot.length>2){for(const Yt of Wt)if(tA(ot,Yt))return!0}for(let Yt=0;Yt<ot.length-1;Yt++)if(Cy(ot[Yt],ot[Yt+1],Wt))return!0;return!1})(a.cameraQueryGeometry,Re-q,Ge-q,At+q,nt+q)));for(const Re of he)Y.push(Re);Y.sort(Xw);const ye={};let Be;for(let Re=0;Re<Y.length;Re++){const Ge=Y[Re];if(Ge===Be)continue;Be=Ge;const At=this.featureIndexArray.get(Ge);let nt=null;this.loadMatchingFeature(ye,At.bucketIndex,At.sourceLayerIndex,At.featureIndex,O,E.layers,E.availableImages,d,m,B,((ot,Bt,Kt)=>(nt||(nt=cu(ot)),Bt.queryIntersectsFeature(N,ot,Kt,nt,this.z,a.transform,T,a.pixelPosMatrix))))}return ye}loadMatchingFeature(a,d,m,B,E,T,O,N,q,Z,Y){const ae=this.bucketLayerIDs[d];if(T&&!(function(Re,Ge){for(let At=0;At<Re.length;At++)if(Ge.indexOf(Re[At])>=0)return!0;return!1})(T,ae))return;const he=this.sourceLayerCoder.decode(m),ye=this.vtLayers[he].feature(B);if(E.needGeometry){const Re=Nu(ye,!0);if(!E.filter(new pn(this.tileID.overscaledZ),Re,this.tileID.canonical))return}else if(!E.filter(new pn(this.tileID.overscaledZ),ye))return;const Be=this.getId(ye,he);for(let Re=0;Re<ae.length;Re++){const Ge=ae[Re];if(T&&T.indexOf(Ge)<0)continue;const At=N[Ge];if(!At)continue;let nt={};Be&&Z&&(nt=Z.getState(At.sourceLayer||"_geojsonTileLayer",Be));const ot=Ie({},q[Ge]);ot.paint=Vm(ot.paint,At.paint,ye,nt,O),ot.layout=Vm(ot.layout,At.layout,ye,nt,O);const Bt=!Y||Y(ye,At,nt);if(!Bt)continue;const Kt=new Jp(ye,this.z,this.x,this.y,Be);Kt.layer=ot;let er=a[Ge];er===void 0&&(er=a[Ge]=[]),er.push({featureIndex:B,feature:Kt,intersectionZ:Bt})}}lookupSymbolFeatures(a,d,m,B,E,T,O,N){const q={};this.loadVTLayers();const Z=cc(E);for(const Y of a)this.loadMatchingFeature(q,m,B,Y,Z,T,O,N,d);return q}hasLayer(a){for(const d of this.bucketLayerIDs)for(const m of d)if(a===m)return!0;return!1}getId(a,d){let m=a.id;return this.promoteId&&(m=a.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[d]],typeof m=="boolean"&&(m=Number(m))),m}}function Vm(u,a,d,m,B){return pe(u,((E,T)=>{const O=a instanceof Wl?a.get(T):null;return O&&O.evaluate?O.evaluate(d,m,B):O}))}function av(u){let a=1/0,d=1/0,m=-1/0,B=-1/0;for(const E of u)a=Math.min(a,E.x),d=Math.min(d,E.y),m=Math.max(m,E.x),B=Math.max(B,E.y);return{minX:a,minY:d,maxX:m,maxY:B}}function Xw(u,a){return a-u}function sv(u,a,d,m,B){const E=[];for(let T=0;T<u.length;T++){const O=u[T];let N;for(let q=0;q<O.length-1;q++){let Z=O[q],Y=O[q+1];Z.x<a&&Y.x<a||(Z.x<a?Z=new S(a,Z.y+(a-Z.x)/(Y.x-Z.x)*(Y.y-Z.y))._round():Y.x<a&&(Y=new S(a,Z.y+(a-Z.x)/(Y.x-Z.x)*(Y.y-Z.y))._round()),Z.y<d&&Y.y<d||(Z.y<d?Z=new S(Z.x+(d-Z.y)/(Y.y-Z.y)*(Y.x-Z.x),d)._round():Y.y<d&&(Y=new S(Z.x+(d-Z.y)/(Y.y-Z.y)*(Y.x-Z.x),d)._round()),Z.x>=m&&Y.x>=m||(Z.x>=m?Z=new S(m,Z.y+(m-Z.x)/(Y.x-Z.x)*(Y.y-Z.y))._round():Y.x>=m&&(Y=new S(m,Z.y+(m-Z.x)/(Y.x-Z.x)*(Y.y-Z.y))._round()),Z.y>=B&&Y.y>=B||(Z.y>=B?Z=new S(Z.x+(B-Z.y)/(Y.y-Z.y)*(Y.x-Z.x),B)._round():Y.y>=B&&(Y=new S(Z.x+(B-Z.y)/(Y.y-Z.y)*(Y.x-Z.x),B)._round()),N&&Z.equals(N[N.length-1])||(N=[Z],E.push(N)),N.push(Y)))))}}return E}Rt("FeatureIndex",iv,{omit:["rawTileData","sourceLayerCoder"]});class pu extends S{constructor(a,d,m,B){super(a,d),this.angle=m,B!==void 0&&(this.segment=B)}clone(){return new pu(this.x,this.y,this.angle,this.segment)}}function Qh(u,a,d,m,B){if(a.segment===void 0||d===0)return!0;let E=a,T=a.segment+1,O=0;for(;O>-d/2;){if(T--,T<0)return!1;O-=u[T].dist(E),E=u[T]}O+=u[T].dist(u[T+1]),T++;const N=[];let q=0;for(;O<d/2;){const Z=u[T],Y=u[T+1];if(!Y)return!1;let ae=u[T-1].angleTo(Z)-Z.angleTo(Y);for(ae=Math.abs((ae+3*Math.PI)%(2*Math.PI)-Math.PI),N.push({distance:O,angleDelta:ae}),q+=ae;O-N[0].distance>m;)q-=N.shift().angleDelta;if(q>B)return!1;T++,O+=Z.dist(Y)}return!0}function eg(u){let a=0;for(let d=0;d<u.length-1;d++)a+=u[d].dist(u[d+1]);return a}function Xd(u,a,d){return u?.6*a*d:0}function tg(u,a){return Math.max(u?u.right-u.left:0,a?a.right-a.left:0)}function ih(u,a,d,m,B,E){const T=Xd(d,B,E),O=tg(d,m)*E;let N=0;const q=eg(u)/2;for(let Z=0;Z<u.length-1;Z++){const Y=u[Z],ae=u[Z+1],he=Y.dist(ae);if(N+he>q){const ye=(q-N)/he,Be=la.number(Y.x,ae.x,ye),Re=la.number(Y.y,ae.y,ye),Ge=new pu(Be,Re,ae.angleTo(Y),Z);return Ge._round(),!T||Qh(u,Ge,O,T,a)?Ge:void 0}N+=he}}function Gu(u,a,d,m,B,E,T,O,N){const q=Xd(m,E,T),Z=tg(m,B),Y=Z*T,ae=u[0].x===0||u[0].x===N||u[0].y===0||u[0].y===N;return a-Y<a/4&&(a=Y+a/4),Hf(u,ae?a/2*O%a:(Z/2+2*E)*T*O%a,a,q,d,Y,ae,!1,N)}function Hf(u,a,d,m,B,E,T,O,N){const q=E/2,Z=eg(u);let Y=0,ae=a-d,he=[];for(let ye=0;ye<u.length-1;ye++){const Be=u[ye],Re=u[ye+1],Ge=Be.dist(Re),At=Re.angleTo(Be);for(;ae+d<Y+Ge;){ae+=d;const nt=(ae-Y)/Ge,ot=la.number(Be.x,Re.x,nt),Bt=la.number(Be.y,Re.y,nt);if(ot>=0&&ot<N&&Bt>=0&&Bt<N&&ae-q>=0&&ae+q<=Z){const Kt=new pu(ot,Bt,At,ye);Kt._round(),m&&!Qh(u,Kt,E,m,B)||he.push(Kt)}}Y+=Ge}return O||he.length||T||(he=Hf(u,Y/2,d,m,B,E,T,!0,N)),he}Rt("Anchor",pu);const jf=on;function qm(u,a,d,m){const B=[],E=u.image,T=E.pixelRatio,O=E.paddedRect.w-2*jf,N=E.paddedRect.h-2*jf;let q={x1:u.left,y1:u.top,x2:u.right,y2:u.bottom};const Z=E.stretchX||[[0,O]],Y=E.stretchY||[[0,N]],ae=(Ut,ar)=>Ut+ar[1]-ar[0],he=Z.reduce(ae,0),ye=Y.reduce(ae,0),Be=O-he,Re=N-ye;let Ge=0,At=he,nt=0,ot=ye,Bt=0,Kt=Be,er=0,kr=Re;if(E.content&&m){const Ut=E.content,ar=Ut[2]-Ut[0],hr=Ut[3]-Ut[1];(E.textFitWidth||E.textFitHeight)&&(q=jd(u)),Ge=$d(Z,0,Ut[0]),nt=$d(Y,0,Ut[1]),At=$d(Z,Ut[0],Ut[2]),ot=$d(Y,Ut[1],Ut[3]),Bt=Ut[0]-Ge,er=Ut[1]-nt,Kt=ar-At,kr=hr-ot}const Wt=q.x1,Yt=q.y1,pr=q.x2-Wt,Ar=q.y2-Yt,ir=(Ut,ar,hr,Kr)=>{const Rn=Zd(Ut.stretch-Ge,At,pr,Wt),Ai=rg(Ut.fixed-Bt,Kt,Ut.stretch,he),Ja=Zd(ar.stretch-nt,ot,Ar,Yt),io=rg(ar.fixed-er,kr,ar.stretch,ye),gs=Zd(hr.stretch-Ge,At,pr,Wt),es=rg(hr.fixed-Bt,Kt,hr.stretch,he),xo=Zd(Kr.stretch-nt,ot,Ar,Yt),Bo=rg(Kr.fixed-er,kr,Kr.stretch,ye),Co=new S(Rn,Ja),ha=new S(gs,Ja),ts=new S(gs,xo),ao=new S(Rn,xo),ms=new S(Ai/T,io/T),Va=new S(es/T,Bo/T),La=a*Math.PI/180;if(La){const Fn=Math.sin(La),ti=Math.cos(La),Bi=[ti,-Fn,Fn,ti];Co._matMult(Bi),ha._matMult(Bi),ao._matMult(Bi),ts._matMult(Bi)}const Bl=Ut.stretch+Ut.fixed,$o=ar.stretch+ar.fixed;return{tl:Co,tr:ha,bl:ao,br:ts,tex:{x:E.paddedRect.x+jf+Bl,y:E.paddedRect.y+jf+$o,w:hr.stretch+hr.fixed-Bl,h:Kr.stretch+Kr.fixed-$o},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:ms,pixelOffsetBR:Va,minFontScaleX:Kt/T/pr,minFontScaleY:kr/T/Ar,isSDF:d}};if(m&&(E.stretchX||E.stretchY)){const Ut=Gm(Z,Be,he),ar=Gm(Y,Re,ye);for(let hr=0;hr<Ut.length-1;hr++){const Kr=Ut[hr],Rn=Ut[hr+1];for(let Ai=0;Ai<ar.length-1;Ai++)B.push(ir(Kr,ar[Ai],Rn,ar[Ai+1]))}}else B.push(ir({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:O+1},{fixed:0,stretch:N+1}));return B}function $d(u,a,d){let m=0;for(const B of u)m+=Math.max(a,Math.min(d,B[1]))-Math.max(a,Math.min(d,B[0]));return m}function Gm(u,a,d){const m=[{fixed:-jf,stretch:0}];for(const[B,E]of u){const T=m[m.length-1];m.push({fixed:B-T.stretch,stretch:T.stretch}),m.push({fixed:B-T.stretch,stretch:T.stretch+(E-B)})}return m.push({fixed:a+jf,stretch:d}),m}function Zd(u,a,d,m){return u/a*d+m}function rg(u,a,d,m){return u-a*d/m}class Kf{constructor(a,d,m,B,E,T,O,N,q,Z){var Y;if(this.boxStartIndex=a.length,q){let ae=T.top,he=T.bottom;const ye=T.collisionPadding;ye&&(ae-=ye[1],he+=ye[3]);let Be=he-ae;Be>0&&(Be=Math.max(10,Be),this.circleDiameter=Be)}else{const ae=!((Y=T.image)===null||Y===void 0)&&Y.content&&(T.image.textFitWidth||T.image.textFitHeight)?jd(T):{x1:T.left,y1:T.top,x2:T.right,y2:T.bottom};ae.y1=ae.y1*O-N[0],ae.y2=ae.y2*O+N[2],ae.x1=ae.x1*O-N[3],ae.x2=ae.x2*O+N[1];const he=T.collisionPadding;if(he&&(ae.x1-=he[0]*O,ae.y1-=he[1]*O,ae.x2+=he[2]*O,ae.y2+=he[3]*O),Z){const ye=new S(ae.x1,ae.y1),Be=new S(ae.x2,ae.y1),Re=new S(ae.x1,ae.y2),Ge=new S(ae.x2,ae.y2),At=Z*Math.PI/180;ye._rotate(At),Be._rotate(At),Re._rotate(At),Ge._rotate(At),ae.x1=Math.min(ye.x,Be.x,Re.x,Ge.x),ae.x2=Math.max(ye.x,Be.x,Re.x,Ge.x),ae.y1=Math.min(ye.y,Be.y,Re.y,Ge.y),ae.y2=Math.max(ye.y,Be.y,Re.y,Ge.y)}a.emplaceBack(d.x,d.y,ae.x1,ae.y1,ae.x2,ae.y2,m,B,E)}this.boxEndIndex=a.length}}class ov{constructor(a=[],d=((m,B)=>m<B?-1:m>B?1:0)){if(this.data=a,this.length=this.data.length,this.compare=d,this.length>0)for(let m=(this.length>>1)-1;m>=0;m--)this._down(m)}push(a){this.data.push(a),this._up(this.length++)}pop(){if(this.length===0)return;const a=this.data[0],d=this.data.pop();return--this.length>0&&(this.data[0]=d,this._down(0)),a}peek(){return this.data[0]}_up(a){const{data:d,compare:m}=this,B=d[a];for(;a>0;){const E=a-1>>1,T=d[E];if(m(B,T)>=0)break;d[a]=T,a=E}d[a]=B}_down(a){const{data:d,compare:m}=this,B=this.length>>1,E=d[a];for(;a<B;){let T=1+(a<<1);const O=T+1;if(O<this.length&&m(d[O],d[T])<0&&(T=O),m(d[T],E)>=0)break;d[a]=d[T],a=T}d[a]=E}}function lv(u,a=1,d=!1){let m=1/0,B=1/0,E=-1/0,T=-1/0;const O=u[0];for(let he=0;he<O.length;he++){const ye=O[he];(!he||ye.x<m)&&(m=ye.x),(!he||ye.y<B)&&(B=ye.y),(!he||ye.x>E)&&(E=ye.x),(!he||ye.y>T)&&(T=ye.y)}const N=Math.min(E-m,T-B);let q=N/2;const Z=new ov([],$w);if(N===0)return new S(m,B);for(let he=m;he<E;he+=N)for(let ye=B;ye<T;ye+=N)Z.push(new ah(he+q,ye+q,q,u));let Y=(function(he){let ye=0,Be=0,Re=0;const Ge=he[0];for(let At=0,nt=Ge.length,ot=nt-1;At<nt;ot=At++){const Bt=Ge[At],Kt=Ge[ot],er=Bt.x*Kt.y-Kt.x*Bt.y;Be+=(Bt.x+Kt.x)*er,Re+=(Bt.y+Kt.y)*er,ye+=3*er}return new ah(Be/ye,Re/ye,0,he)})(u),ae=Z.length;for(;Z.length;){const he=Z.pop();(he.d>Y.d||!Y.d)&&(Y=he,d&&console.log("found best %d after %d probes",Math.round(1e4*he.d)/1e4,ae)),he.max-Y.d<=a||(q=he.h/2,Z.push(new ah(he.p.x-q,he.p.y-q,q,u)),Z.push(new ah(he.p.x+q,he.p.y-q,q,u)),Z.push(new ah(he.p.x-q,he.p.y+q,q,u)),Z.push(new ah(he.p.x+q,he.p.y+q,q,u)),ae+=4)}return d&&(console.log(`num probes: ${ae}`),console.log(`best distance: ${Y.d}`)),Y.p}function $w(u,a){return a.max-u.max}function ah(u,a,d,m){this.p=new S(u,a),this.h=d,this.d=(function(B,E){let T=!1,O=1/0;for(let N=0;N<E.length;N++){const q=E[N];for(let Z=0,Y=q.length,ae=Y-1;Z<Y;ae=Z++){const he=q[Z],ye=q[ae];he.y>B.y!=ye.y>B.y&&B.x<(ye.x-he.x)*(B.y-he.y)/(ye.y-he.y)+he.x&&(T=!T),O=Math.min(O,Bd(B,he,ye))}}return(T?1:-1)*Math.sqrt(O)})(this.p,m),this.max=this.d+this.h*Math.SQRT2}var Ya;f.aq=void 0,(Ya=f.aq||(f.aq={}))[Ya.center=1]="center",Ya[Ya.left=2]="left",Ya[Ya.right=3]="right",Ya[Ya.top=4]="top",Ya[Ya.bottom=5]="bottom",Ya[Ya["top-left"]=6]="top-left",Ya[Ya["top-right"]=7]="top-right",Ya[Ya["bottom-left"]=8]="bottom-left",Ya[Ya["bottom-right"]=9]="bottom-right";const sh=7,Xm=Number.POSITIVE_INFINITY;function Vf(u,a){return a[1]!==Xm?(function(d,m,B){let E=0,T=0;switch(m=Math.abs(m),B=Math.abs(B),d){case"top-right":case"top-left":case"top":T=B-sh;break;case"bottom-right":case"bottom-left":case"bottom":T=-B+sh}switch(d){case"top-right":case"bottom-right":case"right":E=-m;break;case"top-left":case"bottom-left":case"left":E=m}return[E,T]})(u,a[0],a[1]):(function(d,m){let B=0,E=0;m<0&&(m=0);const T=m/Math.SQRT2;switch(d){case"top-right":case"top-left":E=T-sh;break;case"bottom-right":case"bottom-left":E=-T+sh;break;case"bottom":E=-m+sh;break;case"top":E=m-sh}switch(d){case"top-right":case"bottom-right":B=-T;break;case"top-left":case"bottom-left":B=T;break;case"left":B=m;break;case"right":B=-m}return[B,E]})(u,a[0])}function Av(u,a,d){var m;const B=u.layout,E=(m=B.get("text-variable-anchor-offset"))===null||m===void 0?void 0:m.evaluate(a,{},d);if(E){const O=E.values,N=[];for(let q=0;q<O.length;q+=2){const Z=N[q]=O[q],Y=O[q+1].map((ae=>ae*Ua));Z.startsWith("top")?Y[1]-=sh:Z.startsWith("bottom")&&(Y[1]+=sh),N[q+1]=Y}return new qa(N)}const T=B.get("text-variable-anchor");if(T){let O;O=u._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[B.get("text-radial-offset").evaluate(a,{},d)*Ua,Xm]:B.get("text-offset").evaluate(a,{},d).map((q=>q*Ua));const N=[];for(const q of T)N.push(q,Vf(q,O));return new qa(N)}return null}function ng(u){switch(u){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function jn(u,a,d,m,B,E,T,O,N,q,Z){let Y=E.textMaxSize.evaluate(a,{});Y===void 0&&(Y=T);const ae=u.layers[0].layout,he=ae.get("icon-offset").evaluate(a,{},Z),ye=Wd(d.horizontal),Be=T/24,Re=u.tilePixelRatio*Be,Ge=u.tilePixelRatio*Y/24,At=u.tilePixelRatio*O,nt=u.tilePixelRatio*ae.get("symbol-spacing"),ot=ae.get("text-padding")*u.tilePixelRatio,Bt=(function(Ut,ar,hr,Kr=1){const Rn=Ut.get("icon-padding").evaluate(ar,{},hr),Ai=Rn&&Rn.values;return[Ai[0]*Kr,Ai[1]*Kr,Ai[2]*Kr,Ai[3]*Kr]})(ae,a,Z,u.tilePixelRatio),Kt=ae.get("text-max-angle")/180*Math.PI,er=ae.get("text-rotation-alignment")!=="viewport"&&ae.get("symbol-placement")!=="point",kr=ae.get("icon-rotation-alignment")==="map"&&ae.get("symbol-placement")!=="point",Wt=ae.get("symbol-placement"),Yt=nt/2,pr=ae.get("icon-text-fit");let Ar;m&&pr!=="none"&&(u.allowVerticalPlacement&&d.vertical&&(Ar=Cc(m,d.vertical,pr,ae.get("icon-text-fit-padding"),he,Be)),ye&&(m=Cc(m,ye,pr,ae.get("icon-text-fit-padding"),he,Be)));const ir=(Ut,ar)=>{ar.x<0||ar.x>=ea||ar.y<0||ar.y>=ea||(function(hr,Kr,Rn,Ai,Ja,io,gs,es,xo,Bo,Co,ha,ts,ao,ms,Va,La,Bl,$o,Fn,ti,Bi,so,ki,oh){const aA=hr.addToLineVertexArray(Kr,Rn);let gu,sA,oA,rs,Sc=0,Rh=0,cv=0,np=0,Gf=-1,Xf=-1;const Ec={};let $f=Du("");if(hr.allowVerticalPlacement&&Ai.vertical){const Ds=es.layout.get("text-rotate").evaluate(ti,{},ki)+90;oA=new Kf(xo,Kr,Bo,Co,ha,Ai.vertical,ts,ao,ms,Ds),gs&&(rs=new Kf(xo,Kr,Bo,Co,ha,gs,La,Bl,ms,Ds))}if(Ja){const Ds=es.layout.get("icon-rotate").evaluate(ti,{}),Zo=es.layout.get("icon-text-fit")!=="none",Cl=qm(Ja,Ds,so,Zo),ks=gs?qm(gs,Ds,so,Zo):void 0;sA=new Kf(xo,Kr,Bo,Co,ha,Ja,La,Bl,!1,Ds),Sc=4*Cl.length;const Sl=hr.iconSizeData;let El=null;Sl.kind==="source"?(El=[no*es.layout.get("icon-size").evaluate(ti,{})],El[0]>nA&&ve(`${hr.layerIds[0]}: Value for "icon-size" is >= ${ba}. Reduce your "icon-size".`)):Sl.kind==="composite"&&(El=[no*Bi.compositeIconSizes[0].evaluate(ti,{},ki),no*Bi.compositeIconSizes[1].evaluate(ti,{},ki)],(El[0]>nA||El[1]>nA)&&ve(`${hr.layerIds[0]}: Value for "icon-size" is >= ${ba}. Reduce your "icon-size".`)),hr.addSymbols(hr.icon,Cl,El,Fn,$o,ti,f.ah.none,Kr,aA.lineStartIndex,aA.lineLength,-1,ki),Gf=hr.icon.placedSymbolArray.length-1,ks&&(Rh=4*ks.length,hr.addSymbols(hr.icon,ks,El,Fn,$o,ti,f.ah.vertical,Kr,aA.lineStartIndex,aA.lineLength,-1,ki),Xf=hr.icon.placedSymbolArray.length-1)}const hv=Object.keys(Ai.horizontal);for(const Ds of hv){const Zo=Ai.horizontal[Ds];if(!gu){$f=Du(Zo.text);const ks=es.layout.get("text-rotate").evaluate(ti,{},ki);gu=new Kf(xo,Kr,Bo,Co,ha,Zo,ts,ao,ms,ks)}const Cl=Zo.positionedLines.length===1;if(cv+=ig(hr,Kr,Zo,io,es,ms,ti,Va,aA,Ai.vertical?f.ah.horizontal:f.ah.horizontalOnly,Cl?hv:[Ds],Ec,Gf,Bi,ki),Cl)break}Ai.vertical&&(np+=ig(hr,Kr,Ai.vertical,io,es,ms,ti,Va,aA,f.ah.vertical,["vertical"],Ec,Xf,Bi,ki));const fv=gu?gu.boxStartIndex:hr.collisionBoxArray.length,dv=gu?gu.boxEndIndex:hr.collisionBoxArray.length,pv=oA?oA.boxStartIndex:hr.collisionBoxArray.length,gv=oA?oA.boxEndIndex:hr.collisionBoxArray.length,Ym=sA?sA.boxStartIndex:hr.collisionBoxArray.length,mv=sA?sA.boxEndIndex:hr.collisionBoxArray.length,yv=rs?rs.boxStartIndex:hr.collisionBoxArray.length,sg=rs?rs.boxEndIndex:hr.collisionBoxArray.length;let mu=-1;const og=(Ds,Zo)=>Ds&&Ds.circleDiameter?Math.max(Ds.circleDiameter,Zo):Zo;mu=og(gu,mu),mu=og(oA,mu),mu=og(sA,mu),mu=og(rs,mu);const lg=mu>-1?1:0;lg&&(mu*=oh/Ua),hr.glyphOffsetArray.length>=Oh.MAX_GLYPHS&&ve("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),ti.sortKey!==void 0&&hr.addToSortKeyRanges(hr.symbolInstances.length,ti.sortKey);const Jm=Av(es,ti,ki),[Ag,e0]=(function(Ds,Zo){const Cl=Ds.length,ks=Zo?.values;if(ks?.length>0)for(let Sl=0;Sl<ks.length;Sl+=2){const El=ks[Sl+1];Ds.emplaceBack(f.aq[ks[Sl]],El[0],El[1])}return[Cl,Ds.length]})(hr.textAnchorOffsets,Jm);hr.symbolInstances.emplaceBack(Kr.x,Kr.y,Ec.right>=0?Ec.right:-1,Ec.center>=0?Ec.center:-1,Ec.left>=0?Ec.left:-1,Ec.vertical||-1,Gf,Xf,$f,fv,dv,pv,gv,Ym,mv,yv,sg,Bo,cv,np,Sc,Rh,lg,0,ts,mu,Ag,e0)})(u,ar,Ut,d,m,B,Ar,u.layers[0],u.collisionBoxArray,a.index,a.sourceLayerIndex,u.index,Re,[ot,ot,ot,ot],er,N,At,Bt,kr,he,a,E,q,Z,T)};if(Wt==="line")for(const Ut of sv(a.geometry,0,0,ea,ea)){const ar=Gu(Ut,nt,Kt,d.vertical||ye,m,24,Ge,u.overscaling,ea);for(const hr of ar)ye&&$m(u,ye.text,Yt,hr)||ir(Ut,hr)}else if(Wt==="line-center"){for(const Ut of a.geometry)if(Ut.length>1){const ar=ih(Ut,Kt,d.vertical||ye,m,24,Ge);ar&&ir(Ut,ar)}}else if(a.type==="Polygon")for(const Ut of An(a.geometry,0)){const ar=lv(Ut,16);ir(Ut[0],new pu(ar.x,ar.y,0))}else if(a.type==="LineString")for(const Ut of a.geometry)ir(Ut,new pu(Ut[0].x,Ut[0].y,0));else if(a.type==="Point")for(const Ut of a.geometry)for(const ar of Ut)ir([ar],new pu(ar.x,ar.y,0))}function ig(u,a,d,m,B,E,T,O,N,q,Z,Y,ae,he,ye){const Be=(function(At,nt,ot,Bt,Kt,er,kr,Wt){const Yt=Bt.layout.get("text-rotate").evaluate(er,{})*Math.PI/180,pr=[];for(const Ar of nt.positionedLines)for(const ir of Ar.positionedGlyphs){if(!ir.rect)continue;const Ut=ir.rect||{};let ar=ii+1,hr=!0,Kr=1,Rn=0;const Ai=(Kt||Wt)&&ir.vertical,Ja=ir.metrics.advance*ir.scale/2;if(Wt&&nt.verticalizable&&(Rn=Ar.lineOffset/2-(ir.imageName?-(Ua-ir.metrics.width*ir.scale)/2:(ir.scale-1)*Ua)),ir.imageName){const Fn=kr[ir.imageName];hr=Fn.sdf,Kr=Fn.pixelRatio,ar=on/Kr}const io=Kt?[ir.x+Ja,ir.y]:[0,0];let gs=Kt?[0,0]:[ir.x+Ja+ot[0],ir.y+ot[1]-Rn],es=[0,0];Ai&&(es=gs,gs=[0,0]);const xo=ir.metrics.isDoubleResolution?2:1,Bo=(ir.metrics.left-ar)*ir.scale-Ja+gs[0],Co=(-ir.metrics.top-ar)*ir.scale+gs[1],ha=Bo+Ut.w/xo*ir.scale/Kr,ts=Co+Ut.h/xo*ir.scale/Kr,ao=new S(Bo,Co),ms=new S(ha,Co),Va=new S(Bo,ts),La=new S(ha,ts);if(Ai){const Fn=new S(-Ja,Ja-HA),ti=-Math.PI/2,Bi=Ua/2-Ja,so=new S(5-HA-Bi,-(ir.imageName?Bi:0)),ki=new S(...es);ao._rotateAround(ti,Fn)._add(so)._add(ki),ms._rotateAround(ti,Fn)._add(so)._add(ki),Va._rotateAround(ti,Fn)._add(so)._add(ki),La._rotateAround(ti,Fn)._add(so)._add(ki)}if(Yt){const Fn=Math.sin(Yt),ti=Math.cos(Yt),Bi=[ti,-Fn,Fn,ti];ao._matMult(Bi),ms._matMult(Bi),Va._matMult(Bi),La._matMult(Bi)}const Bl=new S(0,0),$o=new S(0,0);pr.push({tl:ao,tr:ms,bl:Va,br:La,tex:Ut,writingMode:nt.writingMode,glyphOffset:io,sectionIndex:ir.sectionIndex,isSDF:hr,pixelOffsetTL:Bl,pixelOffsetBR:$o,minFontScaleX:0,minFontScaleY:0})}return pr})(0,d,O,B,E,T,m,u.allowVerticalPlacement),Re=u.textSizeData;let Ge=null;Re.kind==="source"?(Ge=[no*B.layout.get("text-size").evaluate(T,{})],Ge[0]>nA&&ve(`${u.layerIds[0]}: Value for "text-size" is >= ${ba}. Reduce your "text-size".`)):Re.kind==="composite"&&(Ge=[no*he.compositeTextSizes[0].evaluate(T,{},ye),no*he.compositeTextSizes[1].evaluate(T,{},ye)],(Ge[0]>nA||Ge[1]>nA)&&ve(`${u.layerIds[0]}: Value for "text-size" is >= ${ba}. Reduce your "text-size".`)),u.addSymbols(u.text,Be,Ge,O,E,T,q,a,N.lineStartIndex,N.lineLength,ae,ye);for(const At of Z)Y[At]=u.text.placedSymbolArray.length-1;return 4*Be.length}function Wd(u){for(const a in u)return u[a];return null}function $m(u,a,d,m){const B=u.compareText;if(a in B){const E=B[a];for(let T=E.length-1;T>=0;T--)if(m.dist(E[T])<d)return!0}else B[a]=[];return B[a].push(m),!1}const Zm=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class Yd{static from(a){if(!(a instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[d,m]=new Uint8Array(a,0,2);if(d!==219)throw new Error("Data does not appear to be in a KDBush format.");const B=m>>4;if(B!==1)throw new Error(`Got v${B} data when expected v1.`);const E=Zm[15&m];if(!E)throw new Error("Unrecognized array type.");const[T]=new Uint16Array(a,2,1),[O]=new Uint32Array(a,4,1);return new Yd(O,T,E,a)}constructor(a,d=64,m=Float64Array,B){if(isNaN(a)||a<0)throw new Error(`Unpexpected numItems value: ${a}.`);this.numItems=+a,this.nodeSize=Math.min(Math.max(+d,2),65535),this.ArrayType=m,this.IndexArrayType=a<65536?Uint16Array:Uint32Array;const E=Zm.indexOf(this.ArrayType),T=2*a*this.ArrayType.BYTES_PER_ELEMENT,O=a*this.IndexArrayType.BYTES_PER_ELEMENT,N=(8-O%8)%8;if(E<0)throw new Error(`Unexpected typed array class: ${m}.`);B&&B instanceof ArrayBuffer?(this.data=B,this.ids=new this.IndexArrayType(this.data,8,a),this.coords=new this.ArrayType(this.data,8+O+N,2*a),this._pos=2*a,this._finished=!0):(this.data=new ArrayBuffer(8+T+O+N),this.ids=new this.IndexArrayType(this.data,8,a),this.coords=new this.ArrayType(this.data,8+O+N,2*a),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+E]),new Uint16Array(this.data,2,1)[0]=d,new Uint32Array(this.data,4,1)[0]=a)}add(a,d){const m=this._pos>>1;return this.ids[m]=m,this.coords[this._pos++]=a,this.coords[this._pos++]=d,m}finish(){const a=this._pos>>1;if(a!==this.numItems)throw new Error(`Added ${a} items when expected ${this.numItems}.`);return Nh(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(a,d,m,B){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:E,coords:T,nodeSize:O}=this,N=[0,E.length-1,0],q=[];for(;N.length;){const Z=N.pop()||0,Y=N.pop()||0,ae=N.pop()||0;if(Y-ae<=O){for(let Re=ae;Re<=Y;Re++){const Ge=T[2*Re],At=T[2*Re+1];Ge>=a&&Ge<=m&&At>=d&&At<=B&&q.push(E[Re])}continue}const he=ae+Y>>1,ye=T[2*he],Be=T[2*he+1];ye>=a&&ye<=m&&Be>=d&&Be<=B&&q.push(E[he]),(Z===0?a<=ye:d<=Be)&&(N.push(ae),N.push(he-1),N.push(1-Z)),(Z===0?m>=ye:B>=Be)&&(N.push(he+1),N.push(Y),N.push(1-Z))}return q}within(a,d,m){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:B,coords:E,nodeSize:T}=this,O=[0,B.length-1,0],N=[],q=m*m;for(;O.length;){const Z=O.pop()||0,Y=O.pop()||0,ae=O.pop()||0;if(Y-ae<=T){for(let Re=ae;Re<=Y;Re++)uv(E[2*Re],E[2*Re+1],a,d)<=q&&N.push(B[Re]);continue}const he=ae+Y>>1,ye=E[2*he],Be=E[2*he+1];uv(ye,Be,a,d)<=q&&N.push(B[he]),(Z===0?a-m<=ye:d-m<=Be)&&(O.push(ae),O.push(he-1),O.push(1-Z)),(Z===0?a+m>=ye:d+m>=Be)&&(O.push(he+1),O.push(Y),O.push(1-Z))}return N}}function Nh(u,a,d,m,B,E){if(B-m<=d)return;const T=m+B>>1;Jd(u,a,T,m,B,E),Nh(u,a,d,m,T-1,1-E),Nh(u,a,d,T+1,B,1-E)}function Jd(u,a,d,m,B,E){for(;B>m;){if(B-m>600){const q=B-m+1,Z=d-m+1,Y=Math.log(q),ae=.5*Math.exp(2*Y/3),he=.5*Math.sqrt(Y*ae*(q-ae)/q)*(Z-q/2<0?-1:1);Jd(u,a,d,Math.max(m,Math.floor(d-Z*ae/q+he)),Math.min(B,Math.floor(d+(q-Z)*ae/q+he)),E)}const T=a[2*d+E];let O=m,N=B;for(ep(u,a,m,d),a[2*B+E]>T&&ep(u,a,m,B);O<N;){for(ep(u,a,O,N),O++,N--;a[2*O+E]<T;)O++;for(;a[2*N+E]>T;)N--}a[2*m+E]===T?ep(u,a,m,N):(N++,ep(u,a,N,B)),N<=d&&(m=N+1),d<=N&&(B=N-1)}}function ep(u,a,d,m){ag(u,d,m),ag(a,2*d,2*m),ag(a,2*d+1,2*m+1)}function ag(u,a,d){const m=u[a];u[a]=u[d],u[d]=m}function uv(u,a,d,m){const B=u-d,E=a-m;return B*B+E*E}var Wm;f.bg=void 0,(Wm=f.bg||(f.bg={})).create="create",Wm.load="load",Wm.fullLoad="fullLoad";let tp=null,qf=[];const fi=1e3/60,rp="loadTime",ps="fullLoadTime",Zw={mark(u){performance.mark(u)},frame(u){const a=u;tp!=null&&qf.push(a-tp),tp=a},clearMetrics(){tp=null,qf=[],performance.clearMeasures(rp),performance.clearMeasures(ps);for(const u in f.bg)performance.clearMarks(f.bg[u])},getPerformanceMetrics(){performance.measure(rp,f.bg.create,f.bg.load),performance.measure(ps,f.bg.create,f.bg.fullLoad);const u=performance.getEntriesByName(rp)[0].duration,a=performance.getEntriesByName(ps)[0].duration,d=qf.length,m=1/(qf.reduce(((E,T)=>E+T),0)/d/1e3),B=qf.filter((E=>E>fi)).reduce(((E,T)=>E+(T-fi)/fi),0);return{loadTime:u,fullLoadTime:a,fps:m,percentDroppedFrames:B/(d+B)*100,totalFrames:d}}};f.$=class extends G{},f.A=Zc,f.B=mf,f.C=function(u){if(Le==null){const a=u.navigator?u.navigator.userAgent:null;Le=!!u.safari||!(!a||!(/\b(iPad|iPhone|iPod)\b/.test(a)||a.match("Safari")&&!a.match("Chrome")))}return Le},f.D=lr,f.E=Pe,f.F=class{constructor(u,a){this.target=u,this.mapId=a,this.resolveRejects={},this.tasks={},this.taskQueue=[],this.abortControllers={},this.messageHandlers={},this.invoker=new Gw((()=>this.process())),this.subscription=(function(d,m,B,E){return d.addEventListener(m,B,!1),{unsubscribe:()=>{d.removeEventListener(m,B,!1)}}})(this.target,"message",(d=>this.receive(d))),this.globalScope=tt(self)?u:window}registerMessageHandler(u,a){this.messageHandlers[u]=a}sendAsync(u,a){return new Promise(((d,m)=>{const B=Math.round(1e18*Math.random()).toString(36).substring(0,10);this.resolveRejects[B]={resolve:d,reject:m},a&&a.signal.addEventListener("abort",(()=>{delete this.resolveRejects[B];const O={id:B,type:"<cancel>",origin:location.origin,targetMapId:u.targetMapId,sourceMapId:this.mapId};this.target.postMessage(O)}),{once:!0});const E=[],T=Object.assign(Object.assign({},u),{id:B,sourceMapId:this.mapId,origin:location.origin,data:Js(u.data,E)});this.target.postMessage(T,{transfer:E})}))}receive(u){const a=u.data,d=a.id;if(!(a.origin!=="file://"&&location.origin!=="file://"&&a.origin!=="resource://android"&&location.origin!=="resource://android"&&a.origin!==location.origin||a.targetMapId&&this.mapId!==a.targetMapId)){if(a.type==="<cancel>"){delete this.tasks[d];const m=this.abortControllers[d];return delete this.abortControllers[d],void(m&&m.abort())}if(tt(self)||a.mustQueue)return this.tasks[d]=a,this.taskQueue.push(d),void this.invoker.trigger();this.processTask(d,a)}}process(){if(this.taskQueue.length===0)return;const u=this.taskQueue.shift(),a=this.tasks[u];delete this.tasks[u],this.taskQueue.length>0&&this.invoker.trigger(),a&&this.processTask(u,a)}processTask(u,a){return l(this,void 0,void 0,(function*(){if(a.type==="<response>"){const B=this.resolveRejects[u];return delete this.resolveRejects[u],B?void(a.error?B.reject(LA(a.error)):B.resolve(LA(a.data))):void 0}if(!this.messageHandlers[a.type])return void this.completeTask(u,new Error(`Could not find a registered handler for ${a.type}, map ID: ${this.mapId}, available handlers: ${Object.keys(this.messageHandlers).join(", ")}`));const d=LA(a.data),m=new AbortController;this.abortControllers[u]=m;try{const B=yield this.messageHandlers[a.type](a.sourceMapId,d,m);this.completeTask(u,null,B)}catch(B){this.completeTask(u,B)}}))}completeTask(u,a,d){const m=[];delete this.abortControllers[u];const B={id:u,type:"<response>",sourceMapId:this.mapId,origin:location.origin,error:a?Js(a):null,data:Js(d,m)};this.target.postMessage(B,{transfer:m})}remove(){this.invoker.remove(),this.subscription.unsubscribe()}},f.G=Xe,f.H=function(){var u=new Zc(16);return Zc!=Float32Array&&(u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[11]=0,u[12]=0,u[13]=0,u[14]=0),u[0]=1,u[5]=1,u[10]=1,u[15]=1,u},f.I=Nn,f.J=function(u,a,d){var m,B,E,T,O,N,q,Z,Y,ae,he,ye,Be=d[0],Re=d[1],Ge=d[2];return a===u?(u[12]=a[0]*Be+a[4]*Re+a[8]*Ge+a[12],u[13]=a[1]*Be+a[5]*Re+a[9]*Ge+a[13],u[14]=a[2]*Be+a[6]*Re+a[10]*Ge+a[14],u[15]=a[3]*Be+a[7]*Re+a[11]*Ge+a[15]):(B=a[1],E=a[2],T=a[3],O=a[4],N=a[5],q=a[6],Z=a[7],Y=a[8],ae=a[9],he=a[10],ye=a[11],u[0]=m=a[0],u[1]=B,u[2]=E,u[3]=T,u[4]=O,u[5]=N,u[6]=q,u[7]=Z,u[8]=Y,u[9]=ae,u[10]=he,u[11]=ye,u[12]=m*Be+O*Re+Y*Ge+a[12],u[13]=B*Be+N*Re+ae*Ge+a[13],u[14]=E*Be+q*Re+he*Ge+a[14],u[15]=T*Be+Z*Re+ye*Ge+a[15]),u},f.K=function(u,a,d){var m=d[0],B=d[1],E=d[2];return u[0]=a[0]*m,u[1]=a[1]*m,u[2]=a[2]*m,u[3]=a[3]*m,u[4]=a[4]*B,u[5]=a[5]*B,u[6]=a[6]*B,u[7]=a[7]*B,u[8]=a[8]*E,u[9]=a[9]*E,u[10]=a[10]*E,u[11]=a[11]*E,u[12]=a[12],u[13]=a[13],u[14]=a[14],u[15]=a[15],u},f.L=Am,f.M=function(u,a){const d={};for(let m=0;m<a.length;m++){const B=a[m];B in u&&(d[B]=u[B])}return d},f.N=nh,f.O=kh,f.P=S,f.Q=Gd,f.R=_l,f.S=bo,f.T=Kc,f.U=V,f.V=re,f.W=We,f.X=ea,f.Y=F,f.Z=Rf,f._=l,f.a=Ue,f.a$=function(u,a){var d=u[0],m=u[1],B=u[2],E=u[3],T=u[4],O=u[5],N=u[6],q=u[7],Z=u[8],Y=u[9],ae=u[10],he=u[11],ye=u[12],Be=u[13],Re=u[14],Ge=u[15],At=a[0],nt=a[1],ot=a[2],Bt=a[3],Kt=a[4],er=a[5],kr=a[6],Wt=a[7],Yt=a[8],pr=a[9],Ar=a[10],ir=a[11],Ut=a[12],ar=a[13],hr=a[14],Kr=a[15];return Math.abs(d-At)<=ro*Math.max(1,Math.abs(d),Math.abs(At))&&Math.abs(m-nt)<=ro*Math.max(1,Math.abs(m),Math.abs(nt))&&Math.abs(B-ot)<=ro*Math.max(1,Math.abs(B),Math.abs(ot))&&Math.abs(E-Bt)<=ro*Math.max(1,Math.abs(E),Math.abs(Bt))&&Math.abs(T-Kt)<=ro*Math.max(1,Math.abs(T),Math.abs(Kt))&&Math.abs(O-er)<=ro*Math.max(1,Math.abs(O),Math.abs(er))&&Math.abs(N-kr)<=ro*Math.max(1,Math.abs(N),Math.abs(kr))&&Math.abs(q-Wt)<=ro*Math.max(1,Math.abs(q),Math.abs(Wt))&&Math.abs(Z-Yt)<=ro*Math.max(1,Math.abs(Z),Math.abs(Yt))&&Math.abs(Y-pr)<=ro*Math.max(1,Math.abs(Y),Math.abs(pr))&&Math.abs(ae-Ar)<=ro*Math.max(1,Math.abs(ae),Math.abs(Ar))&&Math.abs(he-ir)<=ro*Math.max(1,Math.abs(he),Math.abs(ir))&&Math.abs(ye-Ut)<=ro*Math.max(1,Math.abs(ye),Math.abs(Ut))&&Math.abs(Be-ar)<=ro*Math.max(1,Math.abs(Be),Math.abs(ar))&&Math.abs(Re-hr)<=ro*Math.max(1,Math.abs(Re),Math.abs(hr))&&Math.abs(Ge-Kr)<=ro*Math.max(1,Math.abs(Ge),Math.abs(Kr))},f.a0=cn,f.a1=Yp,f.a2=Ft,f.a3=u=>{const a=window.document.createElement("video");return a.muted=!0,new Promise((d=>{a.onloadstart=()=>{d(a)};for(const m of u){const B=window.document.createElement("source");ft(m)||(a.crossOrigin="Anonymous"),B.src=m,a.appendChild(B)}}))},f.a4=function(){return Fe++},f.a5=Gt,f.a6=Oh,f.a7=cc,f.a8=Nu,f.a9=Jp,f.aA=function(u){if(u.type==="custom")return new km(u);switch(u.type){case"background":return new rv(u);case"circle":return new Rw(u);case"fill":return new ky(u);case"fill-extrusion":return new Pd(u);case"heatmap":return new Qp(u);case"hillshade":return new Id(u);case"line":return new qy(u);case"raster":return new Zp(u);case"symbol":return new Nf(u)}},f.aB=ie,f.aC=function(u,a){if(!u)return[{command:"setStyle",args:[a]}];let d=[];try{if(!Et(u.version,a.version))return[{command:"setStyle",args:[a]}];Et(u.center,a.center)||d.push({command:"setCenter",args:[a.center]}),Et(u.zoom,a.zoom)||d.push({command:"setZoom",args:[a.zoom]}),Et(u.bearing,a.bearing)||d.push({command:"setBearing",args:[a.bearing]}),Et(u.pitch,a.pitch)||d.push({command:"setPitch",args:[a.pitch]}),Et(u.sprite,a.sprite)||d.push({command:"setSprite",args:[a.sprite]}),Et(u.glyphs,a.glyphs)||d.push({command:"setGlyphs",args:[a.glyphs]}),Et(u.transition,a.transition)||d.push({command:"setTransition",args:[a.transition]}),Et(u.light,a.light)||d.push({command:"setLight",args:[a.light]}),Et(u.terrain,a.terrain)||d.push({command:"setTerrain",args:[a.terrain]}),Et(u.sky,a.sky)||d.push({command:"setSky",args:[a.sky]}),Et(u.projection,a.projection)||d.push({command:"setProjection",args:[a.projection]});const m={},B=[];(function(T,O,N,q){let Z;for(Z in O=O||{},T=T||{})Object.prototype.hasOwnProperty.call(T,Z)&&(Object.prototype.hasOwnProperty.call(O,Z)||Tr(Z,N,q));for(Z in O)Object.prototype.hasOwnProperty.call(O,Z)&&(Object.prototype.hasOwnProperty.call(T,Z)?Et(T[Z],O[Z])||(T[Z].type==="geojson"&&O[Z].type==="geojson"&&rn(T,O,Z)?nr(N,{command:"setGeoJSONSourceData",args:[Z,O[Z].data]}):Br(Z,O,N,q)):ur(Z,O,N))})(u.sources,a.sources,B,m);const E=[];u.layers&&u.layers.forEach((T=>{"source"in T&&m[T.source]?d.push({command:"removeLayer",args:[T.id]}):E.push(T)})),d=d.concat(B),(function(T,O,N){O=O||[];const q=(T=T||[]).map(Jr),Z=O.map(Jr),Y=T.reduce(yn,{}),ae=O.reduce(yn,{}),he=q.slice(),ye=Object.create(null);let Be,Re,Ge,At,nt;for(let ot=0,Bt=0;ot<q.length;ot++)Be=q[ot],Object.prototype.hasOwnProperty.call(ae,Be)?Bt++:(nr(N,{command:"removeLayer",args:[Be]}),he.splice(he.indexOf(Be,Bt),1));for(let ot=0,Bt=0;ot<Z.length;ot++)Be=Z[Z.length-1-ot],he[he.length-1-ot]!==Be&&(Object.prototype.hasOwnProperty.call(Y,Be)?(nr(N,{command:"removeLayer",args:[Be]}),he.splice(he.lastIndexOf(Be,he.length-Bt),1)):Bt++,At=he[he.length-ot],nr(N,{command:"addLayer",args:[ae[Be],At]}),he.splice(he.length-ot,0,Be),ye[Be]=!0);for(let ot=0;ot<Z.length;ot++)if(Be=Z[ot],Re=Y[Be],Ge=ae[Be],!ye[Be]&&!Et(Re,Ge))if(Et(Re.source,Ge.source)&&Et(Re["source-layer"],Ge["source-layer"])&&Et(Re.type,Ge.type)){for(nt in nn(Re.layout,Ge.layout,N,Be,null,"setLayoutProperty"),nn(Re.paint,Ge.paint,N,Be,null,"setPaintProperty"),Et(Re.filter,Ge.filter)||nr(N,{command:"setFilter",args:[Be,Ge.filter]}),Et(Re.minzoom,Ge.minzoom)&&Et(Re.maxzoom,Ge.maxzoom)||nr(N,{command:"setLayerZoomRange",args:[Be,Ge.minzoom,Ge.maxzoom]}),Re)Object.prototype.hasOwnProperty.call(Re,nt)&&nt!=="layout"&&nt!=="paint"&&nt!=="filter"&&nt!=="metadata"&&nt!=="minzoom"&&nt!=="maxzoom"&&(nt.indexOf("paint.")===0?nn(Re[nt],Ge[nt],N,Be,nt.slice(6),"setPaintProperty"):Et(Re[nt],Ge[nt])||nr(N,{command:"setLayerProperty",args:[Be,nt,Ge[nt]]}));for(nt in Ge)Object.prototype.hasOwnProperty.call(Ge,nt)&&!Object.prototype.hasOwnProperty.call(Re,nt)&&nt!=="layout"&&nt!=="paint"&&nt!=="filter"&&nt!=="metadata"&&nt!=="minzoom"&&nt!=="maxzoom"&&(nt.indexOf("paint.")===0?nn(Re[nt],Ge[nt],N,Be,nt.slice(6),"setPaintProperty"):Et(Re[nt],Ge[nt])||nr(N,{command:"setLayerProperty",args:[Be,nt,Ge[nt]]}))}else nr(N,{command:"removeLayer",args:[Be]}),At=he[he.lastIndexOf(Be)+1],nr(N,{command:"addLayer",args:[Ge,At]})})(E,a.layers,d)}catch(m){console.warn("Unable to compute style diff:",m),d=[{command:"setStyle",args:[a]}]}return d},f.aD=function(u){const a=[],d=u.id;return d===void 0&&a.push({message:`layers.${d}: missing required property "id"`}),u.render===void 0&&a.push({message:`layers.${d}: missing required method "render"`}),u.renderingMode&&u.renderingMode!=="2d"&&u.renderingMode!=="3d"&&a.push({message:`layers.${d}: property "renderingMode" must be either "2d" or "3d"`}),a},f.aE=function u(a,d){if(Array.isArray(a)){if(!Array.isArray(d)||a.length!==d.length)return!1;for(let m=0;m<a.length;m++)if(!u(a[m],d[m]))return!1;return!0}if(typeof a=="object"&&a!==null&&d!==null){if(typeof d!="object"||Object.keys(a).length!==Object.keys(d).length)return!1;for(const m in a)if(!u(a[m],d[m]))return!1;return!0}return a===d},f.aF=pe,f.aG=ze,f.aH=class extends Jl{constructor(u,a){super(u,a),this.current=0}set(u){this.current!==u&&(this.current=u,this.gl.uniform1i(this.location,u))}},f.aI=eA,f.aJ=class extends Jl{constructor(u,a){super(u,a),this.current=OA}set(u){if(u[12]!==this.current[12]||u[0]!==this.current[0])return this.current=u,void this.gl.uniformMatrix4fv(this.location,!1,u);for(let a=1;a<16;a++)if(u[a]!==this.current[a]){this.current=u,this.gl.uniformMatrix4fv(this.location,!1,u);break}}},f.aK=yc,f.aL=ku,f.aM=bn,f.aN=class extends Jl{constructor(u,a){super(u,a),this.current=[0,0,0]}set(u){u[0]===this.current[0]&&u[1]===this.current[1]&&u[2]===this.current[2]||(this.current=u,this.gl.uniform3f(this.location,u[0],u[1],u[2]))}},f.aO=class extends Jl{constructor(u,a){super(u,a),this.current=[0,0]}set(u){u[0]===this.current[0]&&u[1]===this.current[1]||(this.current=u,this.gl.uniform2f(this.location,u[0],u[1]))}},f.aP=function(u,a,d,m,B,E,T){var O=1/(a-d),N=1/(m-B),q=1/(E-T);return u[0]=-2*O,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=-2*N,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=2*q,u[11]=0,u[12]=(a+d)*O,u[13]=(B+m)*N,u[14]=(T+E)*q,u[15]=1,u},f.aQ=Ey,f.aR=class extends qe{},f.aS=wl,f.aT=class extends it{},f.aU=Td,f.aV=function(u){return u<=1?1:Math.pow(2,Math.ceil(Math.log(u)/Math.LN2))},f.aW=xf,f.aX=sn,f.aY=Ti,f.aZ=class extends zt{},f.a_=function(u,a){return u[0]===a[0]&&u[1]===a[1]&&u[2]===a[2]&&u[3]===a[3]&&u[4]===a[4]&&u[5]===a[5]&&u[6]===a[6]&&u[7]===a[7]&&u[8]===a[8]&&u[9]===a[9]&&u[10]===a[10]&&u[11]===a[11]&&u[12]===a[12]&&u[13]===a[13]&&u[14]===a[14]&&u[15]===a[15]},f.aa=function(u){const a={};if(u.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,((d,m,B,E)=>{const T=B||E;return a[m]=!T||T.toLowerCase(),""})),a["max-age"]){const d=parseInt(a["max-age"],10);isNaN(d)?delete a["max-age"]:a["max-age"]=d}return a},f.ab=function(u,a){const d=[];for(const m in u)m in a||d.push(m);return d},f.ac=ce,f.ad=function(u,a,d){var m=Math.sin(d),B=Math.cos(d),E=a[0],T=a[1],O=a[2],N=a[3],q=a[4],Z=a[5],Y=a[6],ae=a[7];return a!==u&&(u[8]=a[8],u[9]=a[9],u[10]=a[10],u[11]=a[11],u[12]=a[12],u[13]=a[13],u[14]=a[14],u[15]=a[15]),u[0]=E*B+q*m,u[1]=T*B+Z*m,u[2]=O*B+Y*m,u[3]=N*B+ae*m,u[4]=q*B-E*m,u[5]=Z*B-T*m,u[6]=Y*B-O*m,u[7]=ae*B-N*m,u},f.ae=function(u){var a=new Zc(16);return a[0]=u[0],a[1]=u[1],a[2]=u[2],a[3]=u[3],a[4]=u[4],a[5]=u[5],a[6]=u[6],a[7]=u[7],a[8]=u[8],a[9]=u[9],a[10]=u[10],a[11]=u[11],a[12]=u[12],a[13]=u[13],a[14]=u[14],a[15]=u[15],a},f.af=Sd,f.ag=function(u,a){let d=0,m=0;if(u.kind==="constant")m=u.layoutSize;else if(u.kind!=="source"){const{interpolationType:B,minZoom:E,maxZoom:T}=u,O=B?ce(Zi.interpolationFactor(B,a,E,T),0,1):0;u.kind==="camera"?m=la.number(u.minSize,u.maxSize,O):d=O}return{uSizeT:d,uSize:m}},f.ai=function(u,{uSize:a,uSizeT:d},{lowerSize:m,upperSize:B}){return u.kind==="source"?m/no:u.kind==="composite"?la.number(m/no,B/no,d):a},f.aj=Vd,f.ak=function(u,a,d,m){const B=a.y-u.y,E=a.x-u.x,T=m.y-d.y,O=m.x-d.x,N=T*E-O*B;if(N===0)return null;const q=(O*(u.y-d.y)-T*(u.x-d.x))/N;return new S(u.x+q*E,u.y+q*B)},f.al=sv,f.am=Xc,f.an=Op,f.ao=function(u){let a=1/0,d=1/0,m=-1/0,B=-1/0;for(const E of u)a=Math.min(a,E.x),d=Math.min(d,E.y),m=Math.max(m,E.x),B=Math.max(B,E.y);return[a,d,m,B]},f.ap=Ua,f.ar=Kd,f.as=function(u,a){var d=a[0],m=a[1],B=a[2],E=a[3],T=a[4],O=a[5],N=a[6],q=a[7],Z=a[8],Y=a[9],ae=a[10],he=a[11],ye=a[12],Be=a[13],Re=a[14],Ge=a[15],At=d*O-m*T,nt=d*N-B*T,ot=d*q-E*T,Bt=m*N-B*O,Kt=m*q-E*O,er=B*q-E*N,kr=Z*Be-Y*ye,Wt=Z*Re-ae*ye,Yt=Z*Ge-he*ye,pr=Y*Re-ae*Be,Ar=Y*Ge-he*Be,ir=ae*Ge-he*Re,Ut=At*ir-nt*Ar+ot*pr+Bt*Yt-Kt*Wt+er*kr;return Ut?(u[0]=(O*ir-N*Ar+q*pr)*(Ut=1/Ut),u[1]=(B*Ar-m*ir-E*pr)*Ut,u[2]=(Be*er-Re*Kt+Ge*Bt)*Ut,u[3]=(ae*Kt-Y*er-he*Bt)*Ut,u[4]=(N*Yt-T*ir-q*Wt)*Ut,u[5]=(d*ir-B*Yt+E*Wt)*Ut,u[6]=(Re*ot-ye*er-Ge*nt)*Ut,u[7]=(Z*er-ae*ot+he*nt)*Ut,u[8]=(T*Ar-O*Yt+q*kr)*Ut,u[9]=(m*Yt-d*Ar-E*kr)*Ut,u[10]=(ye*Kt-Be*ot+Ge*At)*Ut,u[11]=(Y*ot-Z*Kt-he*At)*Ut,u[12]=(O*Wt-T*pr-N*kr)*Ut,u[13]=(d*pr-m*Wt+B*kr)*Ut,u[14]=(Be*nt-ye*Bt-Re*At)*Ut,u[15]=(Z*Bt-Y*nt+ae*At)*Ut,u):null},f.at=ng,f.au=Qf,f.av=Yd,f.aw=function(){const u={},a=Ze.$version;for(const d in Ze.$root){const m=Ze.$root[d];if(m.required){let B=null;B=d==="version"?a:m.type==="array"?[]:{},B!=null&&(u[d]=B)}}return u},f.ax=Vo,f.ay=dt,f.az=function(u){u=u.slice();const a=Object.create(null);for(let d=0;d<u.length;d++)a[u[d].id]=u[d];for(let d=0;d<u.length;d++)"ref"in u[d]&&(u[d]=Er(u[d],a[u[d].ref]));return u},f.b=Ne,f.b0=function(u,a){return u[0]=a[0],u[1]=a[1],u[2]=a[2],u[3]=a[3],u[4]=a[4],u[5]=a[5],u[6]=a[6],u[7]=a[7],u[8]=a[8],u[9]=a[9],u[10]=a[10],u[11]=a[11],u[12]=a[12],u[13]=a[13],u[14]=a[14],u[15]=a[15],u},f.b1=function(u,a,d){return u[0]=a[0]*d[0],u[1]=a[1]*d[1],u[2]=a[2]*d[2],u[3]=a[3]*d[3],u},f.b2=function(u,a){return u[0]*a[0]+u[1]*a[1]+u[2]*a[2]+u[3]*a[3]},f.b3=me,f.b4=jm,f.b5=zm,f.b6=function(u,a,d,m,B){var E,T=1/Math.tan(a/2);return u[0]=T/d,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=T,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[11]=-1,u[12]=0,u[13]=0,u[15]=0,B!=null&&B!==1/0?(u[10]=(B+m)*(E=1/(m-B)),u[14]=2*B*m*E):(u[10]=-1,u[14]=-2*m),u},f.b7=function(u,a,d){var m=Math.sin(d),B=Math.cos(d),E=a[4],T=a[5],O=a[6],N=a[7],q=a[8],Z=a[9],Y=a[10],ae=a[11];return a!==u&&(u[0]=a[0],u[1]=a[1],u[2]=a[2],u[3]=a[3],u[12]=a[12],u[13]=a[13],u[14]=a[14],u[15]=a[15]),u[4]=E*B+q*m,u[5]=T*B+Z*m,u[6]=O*B+Y*m,u[7]=N*B+ae*m,u[8]=q*B-E*m,u[9]=Z*B-T*m,u[10]=Y*B-O*m,u[11]=ae*B-N*m,u},f.b8=W,f.b9=le,f.bA=Fm,f.bB=function(u){return u.message===ne},f.bC=Ln,f.bD=ca,f.ba=function(u){return u*Math.PI/180},f.bb=function(u,a){const{x:d,y:m}=Rf.fromLngLat(a);return!(u<0||u>25||m<0||m>=1||d<0||d>=1)},f.bc=function(u,a){return u[0]=a[0],u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=a[1],u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=a[2],u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u},f.bd=class extends Q{},f.be=Qm,f.bf=Zw,f.bh=Je,f.bi=function(u,a){Ue.REGISTERED_PROTOCOLS[u]=a},f.bj=function(u){delete Ue.REGISTERED_PROTOCOLS[u]},f.bk=function(u,a){const d={};for(let B=0;B<u.length;B++){const E=a&&a[u[B].id]||Us(u[B]);a&&(a[u[B].id]=E);let T=d[E];T||(T=d[E]=[]),T.push(u[B])}const m=[];for(const B in d)m.push(d[B]);return m},f.bl=Rt,f.bm=hi,f.bn=iv,f.bo=ci,f.bp=function(u){u.bucket.createArrays(),u.bucket.tilePixelRatio=ea/(512*u.bucket.overscaling),u.bucket.compareText={},u.bucket.iconsNeedLinear=!1;const a=u.bucket.layers[0],d=a.layout,m=a._unevaluatedLayout._values,B={layoutIconSize:m["icon-size"].possiblyEvaluate(new pn(u.bucket.zoom+1),u.canonical),layoutTextSize:m["text-size"].possiblyEvaluate(new pn(u.bucket.zoom+1),u.canonical),textMaxSize:m["text-size"].possiblyEvaluate(new pn(18))};if(u.bucket.textSizeData.kind==="composite"){const{minZoom:q,maxZoom:Z}=u.bucket.textSizeData;B.compositeTextSizes=[m["text-size"].possiblyEvaluate(new pn(q),u.canonical),m["text-size"].possiblyEvaluate(new pn(Z),u.canonical)]}if(u.bucket.iconSizeData.kind==="composite"){const{minZoom:q,maxZoom:Z}=u.bucket.iconSizeData;B.compositeIconSizes=[m["icon-size"].possiblyEvaluate(new pn(q),u.canonical),m["icon-size"].possiblyEvaluate(new pn(Z),u.canonical)]}const E=d.get("text-line-height")*Ua,T=d.get("text-rotation-alignment")!=="viewport"&&d.get("symbol-placement")!=="point",O=d.get("text-keep-upright"),N=d.get("text-size");for(const q of u.bucket.features){const Z=d.get("text-font").evaluate(q,{},u.canonical).join(","),Y=N.evaluate(q,{},u.canonical),ae=B.layoutTextSize.evaluate(q,{},u.canonical),he=B.layoutIconSize.evaluate(q,{},u.canonical),ye={horizontal:{},vertical:void 0},Be=q.text;let Re,Ge=[0,0];if(Be){const ot=Be.toString(),Bt=d.get("text-letter-spacing").evaluate(q,{},u.canonical)*Ua,Kt=Sh(ot)?Bt:0,er=d.get("text-anchor").evaluate(q,{},u.canonical),kr=Av(a,q,u.canonical);if(!kr){const Ar=d.get("text-radial-offset").evaluate(q,{},u.canonical);Ge=Ar?Vf(er,[Ar*Ua,Xm]):d.get("text-offset").evaluate(q,{},u.canonical).map((ir=>ir*Ua))}let Wt=T?"center":d.get("text-justify").evaluate(q,{},u.canonical);const Yt=d.get("symbol-placement")==="point"?d.get("text-max-width").evaluate(q,{},u.canonical)*Ua:1/0,pr=()=>{u.bucket.allowVerticalPlacement&&Xl(ot)&&(ye.vertical=jA(Be,u.glyphMap,u.glyphPositions,u.imagePositions,Z,Yt,E,er,"left",Kt,Ge,f.ah.vertical,!0,ae,Y))};if(!T&&kr){const Ar=new Set;if(Wt==="auto")for(let Ut=0;Ut<kr.values.length;Ut+=2)Ar.add(ng(kr.values[Ut]));else Ar.add(Wt);let ir=!1;for(const Ut of Ar)if(!ye.horizontal[Ut])if(ir)ye.horizontal[Ut]=ye.horizontal[0];else{const ar=jA(Be,u.glyphMap,u.glyphPositions,u.imagePositions,Z,Yt,E,"center",Ut,Kt,Ge,f.ah.horizontal,!1,ae,Y);ar&&(ye.horizontal[Ut]=ar,ir=ar.positionedLines.length===1)}pr()}else{Wt==="auto"&&(Wt=ng(er));const Ar=jA(Be,u.glyphMap,u.glyphPositions,u.imagePositions,Z,Yt,E,er,Wt,Kt,Ge,f.ah.horizontal,!1,ae,Y);Ar&&(ye.horizontal[Wt]=Ar),pr(),Xl(ot)&&T&&O&&(ye.vertical=jA(Be,u.glyphMap,u.glyphPositions,u.imagePositions,Z,Yt,E,er,Wt,Kt,Ge,f.ah.vertical,!1,ae,Y))}}let At=!1;if(q.icon&&q.icon.name){const ot=u.imageMap[q.icon.name];ot&&(Re=Xp(u.imagePositions[q.icon.name],d.get("icon-offset").evaluate(q,{},u.canonical),d.get("icon-anchor").evaluate(q,{},u.canonical)),At=!!ot.sdf,u.bucket.sdfIcons===void 0?u.bucket.sdfIcons=At:u.bucket.sdfIcons!==At&&ve("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(ot.pixelRatio!==u.bucket.pixelRatio||d.get("icon-rotate").constantOr(1)!==0)&&(u.bucket.iconsNeedLinear=!0))}const nt=Wd(ye.horizontal)||ye.vertical;u.bucket.iconsInText=!!nt&&nt.iconsInText,(nt||Re)&&jn(u.bucket,q,ye,Re,u.imageMap,B,ae,he,Ge,At,u.canonical)}u.showCollisionBoxes&&u.bucket.generateCollisionDebugBuffers()},f.bq=Dd,f.br=If,f.bs=Lh,f.bt=wc,f.bu=qp,f.bv=class{constructor(u){this._marks={start:[u.url,"start"].join("#"),end:[u.url,"end"].join("#"),measure:u.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let u=performance.getEntriesByName(this._marks.measure);return u.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),u=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),u}},f.bw=function(u,a,d,m,B){return l(this,void 0,void 0,(function*(){if(re())try{return yield We(u,a,d,m,B)}catch{}return(function(E,T,O,N,q){const Z=E.width,Y=E.height;_t&&Te||(_t=new OffscreenCanvas(Z,Y),Te=_t.getContext("2d",{willReadFrequently:!0})),_t.width=Z,_t.height=Y,Te.drawImage(E,0,0,Z,Y);const ae=Te.getImageData(T,O,N,q);return Te.clearRect(0,0,Z,Y),ae.data})(u,a,d,m,B)}))},f.bx=Km,f.by=y,f.bz=w,f.c=we,f.d=u=>l(void 0,void 0,void 0,(function*(){if(u.byteLength===0)return createImageBitmap(new ImageData(1,1));const a=new Blob([new Uint8Array(u)],{type:"image/png"});try{return createImageBitmap(a)}catch(d){throw new Error(`Could not load image because of ${d.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`)}})),f.e=Ie,f.f=u=>new Promise(((a,d)=>{const m=new Image;m.onload=()=>{a(m),URL.revokeObjectURL(m.src),m.onload=null,window.requestAnimationFrame((()=>{m.src=Ve}))},m.onerror=()=>d(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const B=new Blob([new Uint8Array(u)],{type:"image/png"});m.src=u.byteLength?URL.createObjectURL(B):Ve})),f.g=De,f.h=(u,a)=>He(Ie(u,{type:"json"}),a),f.i=tt,f.j=$t,f.k=Xt,f.l=(u,a)=>He(Ie(u,{type:"arrayBuffer"}),a),f.m=He,f.n=function(u){return new qp(u).readFields(Wy,[])},f.o=Ed,f.p=Ii,f.q=_,f.r=Ys,f.s=ft,f.t=zc,f.u=Ia,f.v=Ze,f.w=ve,f.x=function([u,a,d]){return a+=90,a*=Math.PI/180,d*=Math.PI/180,{x:u*Math.cos(a)*Math.sin(d),y:u*Math.sin(a)*Math.sin(d),z:u*Math.cos(d)}},f.y=la,f.z=pn})),s("worker",["./shared"],(function(f){class l{constructor(oe){this.keyCache={},oe&&this.replace(oe)}replace(oe){this._layerConfigs={},this._layers={},this.update(oe,[])}update(oe,Ae){for(const ke of oe){this._layerConfigs[ke.id]=ke;const Ye=this._layers[ke.id]=f.aA(ke);Ye._featureFilter=f.a7(Ye.filter),this.keyCache[ke.id]&&delete this.keyCache[ke.id]}for(const ke of Ae)delete this.keyCache[ke],delete this._layerConfigs[ke],delete this._layers[ke];this.familiesBySource={};const be=f.bk(Object.values(this._layerConfigs),this.keyCache);for(const ke of be){const Ye=ke.map((ut=>this._layers[ut.id])),je=Ye[0];if(je.visibility==="none")continue;const st=je.source||"";let $e=this.familiesBySource[st];$e||($e=this.familiesBySource[st]={});const gt=je.sourceLayer||"_geojsonTileLayer";let Lt=$e[gt];Lt||(Lt=$e[gt]=[]),Lt.push(Ye)}}}class y{constructor(oe){const Ae={},be=[];for(const st in oe){const $e=oe[st],gt=Ae[st]={};for(const Lt in $e){const ut=$e[+Lt];if(!ut||ut.bitmap.width===0||ut.bitmap.height===0)continue;const Nt={x:0,y:0,w:ut.bitmap.width+2,h:ut.bitmap.height+2};be.push(Nt),gt[Lt]={rect:Nt,metrics:ut.metrics}}}const{w:ke,h:Ye}=f.p(be),je=new f.o({width:ke||1,height:Ye||1});for(const st in oe){const $e=oe[st];for(const gt in $e){const Lt=$e[+gt];if(!Lt||Lt.bitmap.width===0||Lt.bitmap.height===0)continue;const ut=Ae[st][gt].rect;f.o.copy(Lt.bitmap,je,{x:0,y:0},{x:ut.x+1,y:ut.y+1},Lt.bitmap)}}this.image=je,this.positions=Ae}}f.bl("GlyphAtlas",y);class w{constructor(oe){this.tileID=new f.S(oe.tileID.overscaledZ,oe.tileID.wrap,oe.tileID.canonical.z,oe.tileID.canonical.x,oe.tileID.canonical.y),this.uid=oe.uid,this.zoom=oe.zoom,this.pixelRatio=oe.pixelRatio,this.tileSize=oe.tileSize,this.source=oe.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=oe.showCollisionBoxes,this.collectResourceTiming=!!oe.collectResourceTiming,this.returnDependencies=!!oe.returnDependencies,this.promoteId=oe.promoteId,this.inFlightDependencies=[]}parse(oe,Ae,be,ke){return f._(this,void 0,void 0,(function*(){this.status="parsing",this.data=oe,this.collisionBoxArray=new f.a5;const Ye=new f.bm(Object.keys(oe.layers).sort()),je=new f.bn(this.tileID,this.promoteId);je.bucketLayerIDs=[];const st={},$e={featureIndex:je,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:be},gt=Ae.familiesBySource[this.source];for(const en in gt){const vn=oe.layers[en];if(!vn)continue;vn.version===1&&f.w(`Vector tile source "${this.source}" layer "${en}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Pn=Ye.encode(en),mi=[];for(let ai=0;ai<vn.length;ai++){const yi=vn.feature(ai),fo=je.getId(yi,en);mi.push({feature:yi,id:fo,index:ai,sourceLayerIndex:Pn})}for(const ai of gt[en]){const yi=ai[0];yi.source!==this.source&&f.w(`layer.source = ${yi.source} does not equal this.source = ${this.source}`),yi.minzoom&&this.zoom<Math.floor(yi.minzoom)||yi.maxzoom&&this.zoom>=yi.maxzoom||yi.visibility!=="none"&&(b(ai,this.zoom,be),(st[yi.id]=yi.createBucket({index:je.bucketLayerIDs.length,layers:ai,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Pn,sourceID:this.source})).populate(mi,$e,this.tileID.canonical),je.bucketLayerIDs.push(ai.map((fo=>fo.id))))}}const Lt=f.aF($e.glyphDependencies,(en=>Object.keys(en).map(Number)));this.inFlightDependencies.forEach((en=>en?.abort())),this.inFlightDependencies=[];let ut=Promise.resolve({});if(Object.keys(Lt).length){const en=new AbortController;this.inFlightDependencies.push(en),ut=ke.sendAsync({type:"GG",data:{stacks:Lt,source:this.source,tileID:this.tileID,type:"glyphs"}},en)}const Nt=Object.keys($e.iconDependencies);let Jt=Promise.resolve({});if(Nt.length){const en=new AbortController;this.inFlightDependencies.push(en),Jt=ke.sendAsync({type:"GI",data:{icons:Nt,source:this.source,tileID:this.tileID,type:"icons"}},en)}const dr=Object.keys($e.patternDependencies);let Zr=Promise.resolve({});if(dr.length){const en=new AbortController;this.inFlightDependencies.push(en),Zr=ke.sendAsync({type:"GI",data:{icons:dr,source:this.source,tileID:this.tileID,type:"patterns"}},en)}const[or,Or,zr]=yield Promise.all([ut,Jt,Zr]),Kn=new y(or),Qn=new f.bo(Or,zr);for(const en in st){const vn=st[en];vn instanceof f.a6?(b(vn.layers,this.zoom,be),f.bp({bucket:vn,glyphMap:or,glyphPositions:Kn.positions,imageMap:Or,imagePositions:Qn.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):vn.hasPattern&&(vn instanceof f.bq||vn instanceof f.br||vn instanceof f.bs)&&(b(vn.layers,this.zoom,be),vn.addFeatures($e,this.tileID.canonical,Qn.patternPositions))}return this.status="done",{buckets:Object.values(st).filter((en=>!en.isEmpty())),featureIndex:je,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Kn.image,imageAtlas:Qn,glyphMap:this.returnDependencies?or:null,iconMap:this.returnDependencies?Or:null,glyphPositions:this.returnDependencies?Kn.positions:null}}))}}function b(Me,oe,Ae){const be=new f.z(oe);for(const ke of Me)ke.recalculate(be,Ae)}class S{constructor(oe,Ae,be){this.actor=oe,this.layerIndex=Ae,this.availableImages=be,this.fetching={},this.loading={},this.loaded={}}loadVectorTile(oe,Ae){return f._(this,void 0,void 0,(function*(){const be=yield f.l(oe.request,Ae);try{return{vectorTile:new f.bt.VectorTile(new f.bu(be.data)),rawData:be.data,cacheControl:be.cacheControl,expires:be.expires}}catch(ke){const Ye=new Uint8Array(be.data);let je=`Unable to parse the tile at ${oe.request.url}, `;throw je+=Ye[0]===31&&Ye[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${ke.message}`,new Error(je)}}))}loadTile(oe){return f._(this,void 0,void 0,(function*(){const Ae=oe.uid,be=!!(oe&&oe.request&&oe.request.collectResourceTiming)&&new f.bv(oe.request),ke=new w(oe);this.loading[Ae]=ke;const Ye=new AbortController;ke.abort=Ye;try{const je=yield this.loadVectorTile(oe,Ye);if(delete this.loading[Ae],!je)return null;const st=je.rawData,$e={};je.expires&&($e.expires=je.expires),je.cacheControl&&($e.cacheControl=je.cacheControl);const gt={};if(be){const ut=be.finish();ut&&(gt.resourceTiming=JSON.parse(JSON.stringify(ut)))}ke.vectorTile=je.vectorTile;const Lt=ke.parse(je.vectorTile,this.layerIndex,this.availableImages,this.actor);this.loaded[Ae]=ke,this.fetching[Ae]={rawTileData:st,cacheControl:$e,resourceTiming:gt};try{const ut=yield Lt;return f.e({rawTileData:st.slice(0)},ut,$e,gt)}finally{delete this.fetching[Ae]}}catch(je){throw delete this.loading[Ae],ke.status="done",this.loaded[Ae]=ke,je}}))}reloadTile(oe){return f._(this,void 0,void 0,(function*(){const Ae=oe.uid;if(!this.loaded||!this.loaded[Ae])throw new Error("Should not be trying to reload a tile that was never loaded or has been removed");const be=this.loaded[Ae];if(be.showCollisionBoxes=oe.showCollisionBoxes,be.status==="parsing"){const ke=yield be.parse(be.vectorTile,this.layerIndex,this.availableImages,this.actor);let Ye;if(this.fetching[Ae]){const{rawTileData:je,cacheControl:st,resourceTiming:$e}=this.fetching[Ae];delete this.fetching[Ae],Ye=f.e({rawTileData:je.slice(0)},ke,st,$e)}else Ye=ke;return Ye}if(be.status==="done"&&be.vectorTile)return be.parse(be.vectorTile,this.layerIndex,this.availableImages,this.actor)}))}abortTile(oe){return f._(this,void 0,void 0,(function*(){const Ae=this.loading,be=oe.uid;Ae&&Ae[be]&&Ae[be].abort&&(Ae[be].abort.abort(),delete Ae[be])}))}removeTile(oe){return f._(this,void 0,void 0,(function*(){this.loaded&&this.loaded[oe.uid]&&delete this.loaded[oe.uid]}))}}class U{constructor(){this.loaded={}}loadTile(oe){return f._(this,void 0,void 0,(function*(){const{uid:Ae,encoding:be,rawImageData:ke,redFactor:Ye,greenFactor:je,blueFactor:st,baseShift:$e}=oe,gt=ke.width+2,Lt=ke.height+2,ut=f.b(ke)?new f.R({width:gt,height:Lt},yield f.bw(ke,-1,-1,gt,Lt)):ke,Nt=new f.bx(Ae,ut,be,Ye,je,st,$e);return this.loaded=this.loaded||{},this.loaded[Ae]=Nt,Nt}))}removeTile(oe){const Ae=this.loaded,be=oe.uid;Ae&&Ae[be]&&delete Ae[be]}}function I(Me,oe){if(Me.length!==0){z(Me[0],oe);for(var Ae=1;Ae<Me.length;Ae++)z(Me[Ae],!oe)}}function z(Me,oe){for(var Ae=0,be=0,ke=0,Ye=Me.length,je=Ye-1;ke<Ye;je=ke++){var st=(Me[ke][0]-Me[je][0])*(Me[je][1]+Me[ke][1]),$e=Ae+st;be+=Math.abs(Ae)>=Math.abs(st)?Ae-$e+st:st-$e+Ae,Ae=$e}Ae+be>=0!=!!oe&&Me.reverse()}var H=f.by((function Me(oe,Ae){var be,ke=oe&&oe.type;if(ke==="FeatureCollection")for(be=0;be<oe.features.length;be++)Me(oe.features[be],Ae);else if(ke==="GeometryCollection")for(be=0;be<oe.geometries.length;be++)Me(oe.geometries[be],Ae);else if(ke==="Feature")Me(oe.geometry,Ae);else if(ke==="Polygon")I(oe.coordinates,Ae);else if(ke==="MultiPolygon")for(be=0;be<oe.coordinates.length;be++)I(oe.coordinates[be],Ae);return oe}));const K=f.bt.VectorTileFeature.prototype.toGeoJSON;var V={exports:{}},re=f.bz,W=f.bt.VectorTileFeature,le=ce;function ce(Me,oe){this.options=oe||{},this.features=Me,this.length=Me.length}function me(Me,oe){this.id=typeof Me.id=="number"?Me.id:void 0,this.type=Me.type,this.rawGeometry=Me.type===1?[Me.geometry]:Me.geometry,this.properties=Me.tags,this.extent=oe||4096}ce.prototype.feature=function(Me){return new me(this.features[Me],this.options.extent)},me.prototype.loadGeometry=function(){var Me=this.rawGeometry;this.geometry=[];for(var oe=0;oe<Me.length;oe++){for(var Ae=Me[oe],be=[],ke=0;ke<Ae.length;ke++)be.push(new re(Ae[ke][0],Ae[ke][1]));this.geometry.push(be)}return this.geometry},me.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var Me=this.geometry,oe=1/0,Ae=-1/0,be=1/0,ke=-1/0,Ye=0;Ye<Me.length;Ye++)for(var je=Me[Ye],st=0;st<je.length;st++){var $e=je[st];oe=Math.min(oe,$e.x),Ae=Math.max(Ae,$e.x),be=Math.min(be,$e.y),ke=Math.max(ke,$e.y)}return[oe,be,Ae,ke]},me.prototype.toGeoJSON=W.prototype.toGeoJSON;var Ie=f.bA,Fe=le;function pe(Me){var oe=new Ie;return(function(Ae,be){for(var ke in Ae.layers)be.writeMessage(3,ze,Ae.layers[ke])})(Me,oe),oe.finish()}function ze(Me,oe){var Ae;oe.writeVarintField(15,Me.version||1),oe.writeStringField(1,Me.name||""),oe.writeVarintField(5,Me.extent||4096);var be={keys:[],values:[],keycache:{},valuecache:{}};for(Ae=0;Ae<Me.length;Ae++)be.feature=Me.feature(Ae),oe.writeMessage(2,ie,be);var ke=be.keys;for(Ae=0;Ae<ke.length;Ae++)oe.writeStringField(3,ke[Ae]);var Ye=be.values;for(Ae=0;Ae<Ye.length;Ae++)oe.writeMessage(4,Le,Ye[Ae])}function ie(Me,oe){var Ae=Me.feature;Ae.id!==void 0&&oe.writeVarintField(1,Ae.id),oe.writeMessage(2,de,Me),oe.writeVarintField(3,Ae.type),oe.writeMessage(4,tt,Ae)}function de(Me,oe){var Ae=Me.feature,be=Me.keys,ke=Me.values,Ye=Me.keycache,je=Me.valuecache;for(var st in Ae.properties){var $e=Ae.properties[st],gt=Ye[st];if($e!==null){gt===void 0&&(be.push(st),Ye[st]=gt=be.length-1),oe.writeVarint(gt);var Lt=typeof $e;Lt!=="string"&&Lt!=="boolean"&&Lt!=="number"&&($e=JSON.stringify($e));var ut=Lt+":"+$e,Nt=je[ut];Nt===void 0&&(ke.push($e),je[ut]=Nt=ke.length-1),oe.writeVarint(Nt)}}}function ve(Me,oe){return(oe<<3)+(7&Me)}function _e(Me){return Me<<1^Me>>31}function tt(Me,oe){for(var Ae=Me.loadGeometry(),be=Me.type,ke=0,Ye=0,je=Ae.length,st=0;st<je;st++){var $e=Ae[st],gt=1;be===1&&(gt=$e.length),oe.writeVarint(ve(1,gt));for(var Lt=be===3?$e.length-1:$e.length,ut=0;ut<Lt;ut++){ut===1&&be!==1&&oe.writeVarint(ve(2,Lt-1));var Nt=$e[ut].x-ke,Jt=$e[ut].y-Ye;oe.writeVarint(_e(Nt)),oe.writeVarint(_e(Jt)),ke+=Nt,Ye+=Jt}be===3&&oe.writeVarint(ve(7,1))}}function Le(Me,oe){var Ae=typeof Me;Ae==="string"?oe.writeStringField(1,Me):Ae==="boolean"?oe.writeBooleanField(7,Me):Ae==="number"&&(Me%1!=0?oe.writeDoubleField(3,Me):Me<0?oe.writeSVarintField(6,Me):oe.writeVarintField(5,Me))}V.exports=pe,V.exports.fromVectorTileJs=pe,V.exports.fromGeojsonVt=function(Me,oe){oe=oe||{};var Ae={};for(var be in Me)Ae[be]=new Fe(Me[be].features,oe),Ae[be].name=be,Ae[be].version=oe.version,Ae[be].extent=oe.extent;return pe({layers:Ae})},V.exports.GeoJSONWrapper=Fe;var Ne=f.by(V.exports);const Ve={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:Me=>Me},We=Math.fround||(_t=new Float32Array(1),Me=>(_t[0]=+Me,_t[0]));var _t;const Te=3,ne=5,we=6;class Ue{constructor(oe){this.options=Object.assign(Object.create(Ve),oe),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(oe){const{log:Ae,minZoom:be,maxZoom:ke}=this.options;Ae&&console.time("total time");const Ye=`prepare ${oe.length} points`;Ae&&console.time(Ye),this.points=oe;const je=[];for(let $e=0;$e<oe.length;$e++){const gt=oe[$e];if(!gt.geometry)continue;const[Lt,ut]=gt.geometry.coordinates,Nt=We(Je(Lt)),Jt=We(dt(ut));je.push(Nt,Jt,1/0,$e,-1,1),this.options.reduce&&je.push(0)}let st=this.trees[ke+1]=this._createTree(je);Ae&&console.timeEnd(Ye);for(let $e=ke;$e>=be;$e--){const gt=+Date.now();st=this.trees[$e]=this._createTree(this._cluster(st,$e)),Ae&&console.log("z%d: %d clusters in %dms",$e,st.numItems,+Date.now()-gt)}return Ae&&console.timeEnd("total time"),this}getClusters(oe,Ae){let be=((oe[0]+180)%360+360)%360-180;const ke=Math.max(-90,Math.min(90,oe[1]));let Ye=oe[2]===180?180:((oe[2]+180)%360+360)%360-180;const je=Math.max(-90,Math.min(90,oe[3]));if(oe[2]-oe[0]>=360)be=-180,Ye=180;else if(be>Ye){const ut=this.getClusters([be,ke,180,je],Ae),Nt=this.getClusters([-180,ke,Ye,je],Ae);return ut.concat(Nt)}const st=this.trees[this._limitZoom(Ae)],$e=st.range(Je(be),dt(je),Je(Ye),dt(ke)),gt=st.data,Lt=[];for(const ut of $e){const Nt=this.stride*ut;Lt.push(gt[Nt+ne]>1?De(gt,Nt,this.clusterProps):this.points[gt[Nt+Te]])}return Lt}getChildren(oe){const Ae=this._getOriginId(oe),be=this._getOriginZoom(oe),ke="No cluster with the specified id.",Ye=this.trees[be];if(!Ye)throw new Error(ke);const je=Ye.data;if(Ae*this.stride>=je.length)throw new Error(ke);const st=this.options.radius/(this.options.extent*Math.pow(2,be-1)),$e=Ye.within(je[Ae*this.stride],je[Ae*this.stride+1],st),gt=[];for(const Lt of $e){const ut=Lt*this.stride;je[ut+4]===oe&&gt.push(je[ut+ne]>1?De(je,ut,this.clusterProps):this.points[je[ut+Te]])}if(gt.length===0)throw new Error(ke);return gt}getLeaves(oe,Ae,be){const ke=[];return this._appendLeaves(ke,oe,Ae=Ae||10,be=be||0,0),ke}getTile(oe,Ae,be){const ke=this.trees[this._limitZoom(oe)],Ye=Math.pow(2,oe),{extent:je,radius:st}=this.options,$e=st/je,gt=(be-$e)/Ye,Lt=(be+1+$e)/Ye,ut={features:[]};return this._addTileFeatures(ke.range((Ae-$e)/Ye,gt,(Ae+1+$e)/Ye,Lt),ke.data,Ae,be,Ye,ut),Ae===0&&this._addTileFeatures(ke.range(1-$e/Ye,gt,1,Lt),ke.data,Ye,be,Ye,ut),Ae===Ye-1&&this._addTileFeatures(ke.range(0,gt,$e/Ye,Lt),ke.data,-1,be,Ye,ut),ut.features.length?ut:null}getClusterExpansionZoom(oe){let Ae=this._getOriginZoom(oe)-1;for(;Ae<=this.options.maxZoom;){const be=this.getChildren(oe);if(Ae++,be.length!==1)break;oe=be[0].properties.cluster_id}return Ae}_appendLeaves(oe,Ae,be,ke,Ye){const je=this.getChildren(Ae);for(const st of je){const $e=st.properties;if($e&&$e.cluster?Ye+$e.point_count<=ke?Ye+=$e.point_count:Ye=this._appendLeaves(oe,$e.cluster_id,be,ke,Ye):Ye<ke?Ye++:oe.push(st),oe.length===be)break}return Ye}_createTree(oe){const Ae=new f.av(oe.length/this.stride|0,this.options.nodeSize,Float32Array);for(let be=0;be<oe.length;be+=this.stride)Ae.add(oe[be],oe[be+1]);return Ae.finish(),Ae.data=oe,Ae}_addTileFeatures(oe,Ae,be,ke,Ye,je){for(const st of oe){const $e=st*this.stride,gt=Ae[$e+ne]>1;let Lt,ut,Nt;if(gt)Lt=Xe(Ae,$e,this.clusterProps),ut=Ae[$e],Nt=Ae[$e+1];else{const Zr=this.points[Ae[$e+Te]];Lt=Zr.properties;const[or,Or]=Zr.geometry.coordinates;ut=Je(or),Nt=dt(Or)}const Jt={type:1,geometry:[[Math.round(this.options.extent*(ut*Ye-be)),Math.round(this.options.extent*(Nt*Ye-ke))]],tags:Lt};let dr;dr=gt||this.options.generateId?Ae[$e+Te]:this.points[Ae[$e+Te]].id,dr!==void 0&&(Jt.id=dr),je.features.push(Jt)}}_limitZoom(oe){return Math.max(this.options.minZoom,Math.min(Math.floor(+oe),this.options.maxZoom+1))}_cluster(oe,Ae){const{radius:be,extent:ke,reduce:Ye,minPoints:je}=this.options,st=be/(ke*Math.pow(2,Ae)),$e=oe.data,gt=[],Lt=this.stride;for(let ut=0;ut<$e.length;ut+=Lt){if($e[ut+2]<=Ae)continue;$e[ut+2]=Ae;const Nt=$e[ut],Jt=$e[ut+1],dr=oe.within($e[ut],$e[ut+1],st),Zr=$e[ut+ne];let or=Zr;for(const Or of dr){const zr=Or*Lt;$e[zr+2]>Ae&&(or+=$e[zr+ne])}if(or>Zr&&or>=je){let Or,zr=Nt*Zr,Kn=Jt*Zr,Qn=-1;const en=((ut/Lt|0)<<5)+(Ae+1)+this.points.length;for(const vn of dr){const Pn=vn*Lt;if($e[Pn+2]<=Ae)continue;$e[Pn+2]=Ae;const mi=$e[Pn+ne];zr+=$e[Pn]*mi,Kn+=$e[Pn+1]*mi,$e[Pn+4]=en,Ye&&(Or||(Or=this._map($e,ut,!0),Qn=this.clusterProps.length,this.clusterProps.push(Or)),Ye(Or,this._map($e,Pn)))}$e[ut+4]=en,gt.push(zr/or,Kn/or,1/0,en,-1,or),Ye&&gt.push(Qn)}else{for(let Or=0;Or<Lt;Or++)gt.push($e[ut+Or]);if(or>1)for(const Or of dr){const zr=Or*Lt;if(!($e[zr+2]<=Ae)){$e[zr+2]=Ae;for(let Kn=0;Kn<Lt;Kn++)gt.push($e[zr+Kn])}}}}return gt}_getOriginId(oe){return oe-this.points.length>>5}_getOriginZoom(oe){return(oe-this.points.length)%32}_map(oe,Ae,be){if(oe[Ae+ne]>1){const je=this.clusterProps[oe[Ae+we]];return be?Object.assign({},je):je}const ke=this.points[oe[Ae+Te]].properties,Ye=this.options.map(ke);return be&&Ye===ke?Object.assign({},Ye):Ye}}function De(Me,oe,Ae){return{type:"Feature",id:Me[oe+Te],properties:Xe(Me,oe,Ae),geometry:{type:"Point",coordinates:[(be=Me[oe],360*(be-.5)),He(Me[oe+1])]}};var be}function Xe(Me,oe,Ae){const be=Me[oe+ne],ke=be>=1e4?`${Math.round(be/1e3)}k`:be>=1e3?Math.round(be/100)/10+"k":be,Ye=Me[oe+we],je=Ye===-1?{}:Object.assign({},Ae[Ye]);return Object.assign(je,{cluster:!0,cluster_id:Me[oe+Te],point_count:be,point_count_abbreviated:ke})}function Je(Me){return Me/360+.5}function dt(Me){const oe=Math.sin(Me*Math.PI/180),Ae=.5-.25*Math.log((1+oe)/(1-oe))/Math.PI;return Ae<0?0:Ae>1?1:Ae}function He(Me){const oe=(180-360*Me)*Math.PI/180;return 360*Math.atan(Math.exp(oe))/Math.PI-90}function ft(Me,oe,Ae,be){let ke=be;const Ye=oe+(Ae-oe>>1);let je,st=Ae-oe;const $e=Me[oe],gt=Me[oe+1],Lt=Me[Ae],ut=Me[Ae+1];for(let Nt=oe+3;Nt<Ae;Nt+=3){const Jt=It(Me[Nt],Me[Nt+1],$e,gt,Lt,ut);if(Jt>ke)je=Nt,ke=Jt;else if(Jt===ke){const dr=Math.abs(Nt-Ye);dr<st&&(je=Nt,st=dr)}}ke>be&&(je-oe>3&&ft(Me,oe,je,be),Me[je+2]=ke,Ae-je>3&&ft(Me,je,Ae,be))}function It(Me,oe,Ae,be,ke,Ye){let je=ke-Ae,st=Ye-be;if(je!==0||st!==0){const $e=((Me-Ae)*je+(oe-be)*st)/(je*je+st*st);$e>1?(Ae=ke,be=Ye):$e>0&&(Ae+=je*$e,be+=st*$e)}return je=Me-Ae,st=oe-be,je*je+st*st}function ct(Me,oe,Ae,be){const ke={id:Me??null,type:oe,geometry:Ae,tags:be,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};if(oe==="Point"||oe==="MultiPoint"||oe==="LineString")Xt(ke,Ae);else if(oe==="Polygon")Xt(ke,Ae[0]);else if(oe==="MultiLineString")for(const Ye of Ae)Xt(ke,Ye);else if(oe==="MultiPolygon")for(const Ye of Ae)Xt(ke,Ye[0]);return ke}function Xt(Me,oe){for(let Ae=0;Ae<oe.length;Ae+=3)Me.minX=Math.min(Me.minX,oe[Ae]),Me.minY=Math.min(Me.minY,oe[Ae+1]),Me.maxX=Math.max(Me.maxX,oe[Ae]),Me.maxY=Math.max(Me.maxY,oe[Ae+1])}function $t(Me,oe,Ae,be){if(!oe.geometry)return;const ke=oe.geometry.coordinates;if(ke&&ke.length===0)return;const Ye=oe.geometry.type,je=Math.pow(Ae.tolerance/((1<<Ae.maxZoom)*Ae.extent),2);let st=[],$e=oe.id;if(Ae.promoteId?$e=oe.properties[Ae.promoteId]:Ae.generateId&&($e=be||0),Ye==="Point")Pe(ke,st);else if(Ye==="MultiPoint")for(const gt of ke)Pe(gt,st);else if(Ye==="LineString")Ze(ke,st,je,!1);else if(Ye==="MultiLineString"){if(Ae.lineMetrics){for(const gt of ke)st=[],Ze(gt,st,je,!1),Me.push(ct($e,"LineString",st,oe.properties));return}Nr(ke,st,je,!1)}else if(Ye==="Polygon")Nr(ke,st,je,!0);else{if(Ye!=="MultiPolygon"){if(Ye==="GeometryCollection"){for(const gt of oe.geometry.geometries)$t(Me,{id:$e,geometry:gt,properties:oe.properties},Ae,be);return}throw new Error("Input data is not a valid GeoJSON object.")}for(const gt of ke){const Lt=[];Nr(gt,Lt,je,!0),st.push(Lt)}}Me.push(ct($e,Ye,st,oe.properties))}function Pe(Me,oe){oe.push(Er(Me[0]),Et(Me[1]),0)}function Ze(Me,oe,Ae,be){let ke,Ye,je=0;for(let $e=0;$e<Me.length;$e++){const gt=Er(Me[$e][0]),Lt=Et(Me[$e][1]);oe.push(gt,Lt,0),$e>0&&(je+=be?(ke*Lt-gt*Ye)/2:Math.sqrt(Math.pow(gt-ke,2)+Math.pow(Lt-Ye,2))),ke=gt,Ye=Lt}const st=oe.length-3;oe[2]=1,ft(oe,0,st,Ae),oe[st+2]=1,oe.size=Math.abs(je),oe.start=0,oe.end=oe.size}function Nr(Me,oe,Ae,be){for(let ke=0;ke<Me.length;ke++){const Ye=[];Ze(Me[ke],Ye,Ae,be),oe.push(Ye)}}function Er(Me){return Me/360+.5}function Et(Me){const oe=Math.sin(Me*Math.PI/180),Ae=.5-.25*Math.log((1+oe)/(1-oe))/Math.PI;return Ae<0?0:Ae>1?1:Ae}function nr(Me,oe,Ae,be,ke,Ye,je,st){if(be/=oe,Ye>=(Ae/=oe)&&je<be)return Me;if(je<Ae||Ye>=be)return null;const $e=[];for(const gt of Me){const Lt=gt.geometry;let ut=gt.type;const Nt=ke===0?gt.minX:gt.minY,Jt=ke===0?gt.maxX:gt.maxY;if(Nt>=Ae&&Jt<be){$e.push(gt);continue}if(Jt<Ae||Nt>=be)continue;let dr=[];if(ut==="Point"||ut==="MultiPoint")ur(Lt,dr,Ae,be,ke);else if(ut==="LineString")Tr(Lt,dr,Ae,be,ke,!1,st.lineMetrics);else if(ut==="MultiLineString")rn(Lt,dr,Ae,be,ke,!1);else if(ut==="Polygon")rn(Lt,dr,Ae,be,ke,!0);else if(ut==="MultiPolygon")for(const Zr of Lt){const or=[];rn(Zr,or,Ae,be,ke,!0),or.length&&dr.push(or)}if(dr.length){if(st.lineMetrics&&ut==="LineString"){for(const Zr of dr)$e.push(ct(gt.id,ut,Zr,gt.tags));continue}ut!=="LineString"&&ut!=="MultiLineString"||(dr.length===1?(ut="LineString",dr=dr[0]):ut="MultiLineString"),ut!=="Point"&&ut!=="MultiPoint"||(ut=dr.length===3?"Point":"MultiPoint"),$e.push(ct(gt.id,ut,dr,gt.tags))}}return $e.length?$e:null}function ur(Me,oe,Ae,be,ke){for(let Ye=0;Ye<Me.length;Ye+=3){const je=Me[Ye+ke];je>=Ae&&je<=be&&nn(oe,Me[Ye],Me[Ye+1],Me[Ye+2])}}function Tr(Me,oe,Ae,be,ke,Ye,je){let st=Br(Me);const $e=ke===0?Jr:yn;let gt,Lt,ut=Me.start;for(let or=0;or<Me.length-3;or+=3){const Or=Me[or],zr=Me[or+1],Kn=Me[or+2],Qn=Me[or+3],en=Me[or+4],vn=ke===0?Or:zr,Pn=ke===0?Qn:en;let mi=!1;je&&(gt=Math.sqrt(Math.pow(Or-Qn,2)+Math.pow(zr-en,2))),vn<Ae?Pn>Ae&&(Lt=$e(st,Or,zr,Qn,en,Ae),je&&(st.start=ut+gt*Lt)):vn>be?Pn<be&&(Lt=$e(st,Or,zr,Qn,en,be),je&&(st.start=ut+gt*Lt)):nn(st,Or,zr,Kn),Pn<Ae&&vn>=Ae&&(Lt=$e(st,Or,zr,Qn,en,Ae),mi=!0),Pn>be&&vn<=be&&(Lt=$e(st,Or,zr,Qn,en,be),mi=!0),!Ye&&mi&&(je&&(st.end=ut+gt*Lt),oe.push(st),st=Br(Me)),je&&(ut+=gt)}let Nt=Me.length-3;const Jt=Me[Nt],dr=Me[Nt+1],Zr=ke===0?Jt:dr;Zr>=Ae&&Zr<=be&&nn(st,Jt,dr,Me[Nt+2]),Nt=st.length-3,Ye&&Nt>=3&&(st[Nt]!==st[0]||st[Nt+1]!==st[1])&&nn(st,st[0],st[1],st[2]),st.length&&oe.push(st)}function Br(Me){const oe=[];return oe.size=Me.size,oe.start=Me.start,oe.end=Me.end,oe}function rn(Me,oe,Ae,be,ke,Ye){for(const je of Me)Tr(je,oe,Ae,be,ke,Ye,!1)}function nn(Me,oe,Ae,be){Me.push(oe,Ae,be)}function Jr(Me,oe,Ae,be,ke,Ye){const je=(Ye-oe)/(be-oe);return nn(Me,Ye,Ae+(ke-Ae)*je,1),je}function yn(Me,oe,Ae,be,ke,Ye){const je=(Ye-Ae)/(ke-Ae);return nn(Me,oe+(be-oe)*je,Ye,1),je}function Ft(Me,oe){const Ae=[];for(let be=0;be<Me.length;be++){const ke=Me[be],Ye=ke.type;let je;if(Ye==="Point"||Ye==="MultiPoint"||Ye==="LineString")je=cr(ke.geometry,oe);else if(Ye==="MultiLineString"||Ye==="Polygon"){je=[];for(const st of ke.geometry)je.push(cr(st,oe))}else if(Ye==="MultiPolygon"){je=[];for(const st of ke.geometry){const $e=[];for(const gt of st)$e.push(cr(gt,oe));je.push($e)}}Ae.push(ct(ke.id,Ye,je,ke.tags))}return Ae}function cr(Me,oe){const Ae=[];Ae.size=Me.size,Me.start!==void 0&&(Ae.start=Me.start,Ae.end=Me.end);for(let be=0;be<Me.length;be+=3)Ae.push(Me[be]+oe,Me[be+1],Me[be+2]);return Ae}function Pr(Me,oe){if(Me.transformed)return Me;const Ae=1<<Me.z,be=Me.x,ke=Me.y;for(const Ye of Me.features){const je=Ye.geometry,st=Ye.type;if(Ye.geometry=[],st===1)for(let $e=0;$e<je.length;$e+=2)Ye.geometry.push(fr(je[$e],je[$e+1],oe,Ae,be,ke));else for(let $e=0;$e<je.length;$e++){const gt=[];for(let Lt=0;Lt<je[$e].length;Lt+=2)gt.push(fr(je[$e][Lt],je[$e][Lt+1],oe,Ae,be,ke));Ye.geometry.push(gt)}}return Me.transformed=!0,Me}function fr(Me,oe,Ae,be,ke,Ye){return[Math.round(Ae*(Me*be-ke)),Math.round(Ae*(oe*be-Ye))]}function ri(Me,oe,Ae,be,ke){const Ye=oe===ke.maxZoom?0:ke.tolerance/((1<<oe)*ke.extent),je={features:[],numPoints:0,numSimplified:0,numFeatures:Me.length,source:null,x:Ae,y:be,z:oe,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0};for(const st of Me)Pt(je,st,Ye,ke);return je}function Pt(Me,oe,Ae,be){const ke=oe.geometry,Ye=oe.type,je=[];if(Me.minX=Math.min(Me.minX,oe.minX),Me.minY=Math.min(Me.minY,oe.minY),Me.maxX=Math.max(Me.maxX,oe.maxX),Me.maxY=Math.max(Me.maxY,oe.maxY),Ye==="Point"||Ye==="MultiPoint")for(let st=0;st<ke.length;st+=3)je.push(ke[st],ke[st+1]),Me.numPoints++,Me.numSimplified++;else if(Ye==="LineString")Zt(je,ke,Me,Ae,!1,!1);else if(Ye==="MultiLineString"||Ye==="Polygon")for(let st=0;st<ke.length;st++)Zt(je,ke[st],Me,Ae,Ye==="Polygon",st===0);else if(Ye==="MultiPolygon")for(let st=0;st<ke.length;st++){const $e=ke[st];for(let gt=0;gt<$e.length;gt++)Zt(je,$e[gt],Me,Ae,!0,gt===0)}if(je.length){let st=oe.tags||null;if(Ye==="LineString"&&be.lineMetrics){st={};for(const gt in oe.tags)st[gt]=oe.tags[gt];st.mapbox_clip_start=ke.start/ke.size,st.mapbox_clip_end=ke.end/ke.size}const $e={geometry:je,type:Ye==="Polygon"||Ye==="MultiPolygon"?3:Ye==="LineString"||Ye==="MultiLineString"?2:1,tags:st};oe.id!==null&&($e.id=oe.id),Me.features.push($e)}}function Zt(Me,oe,Ae,be,ke,Ye){const je=be*be;if(be>0&&oe.size<(ke?je:be))return void(Ae.numPoints+=oe.length/3);const st=[];for(let $e=0;$e<oe.length;$e+=3)(be===0||oe[$e+2]>je)&&(Ae.numSimplified++,st.push(oe[$e],oe[$e+1])),Ae.numPoints++;ke&&(function($e,gt){let Lt=0;for(let ut=0,Nt=$e.length,Jt=Nt-2;ut<Nt;Jt=ut,ut+=2)Lt+=($e[ut]-$e[Jt])*($e[ut+1]+$e[Jt+1]);if(Lt>0===gt)for(let ut=0,Nt=$e.length;ut<Nt/2;ut+=2){const Jt=$e[ut],dr=$e[ut+1];$e[ut]=$e[Nt-2-ut],$e[ut+1]=$e[Nt-1-ut],$e[Nt-2-ut]=Jt,$e[Nt-1-ut]=dr}})(st,Ye),Me.push(st)}const qt={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0};class $r{constructor(oe,Ae){const be=(Ae=this.options=(function(Ye,je){for(const st in je)Ye[st]=je[st];return Ye})(Object.create(qt),Ae)).debug;if(be&&console.time("preprocess data"),Ae.maxZoom<0||Ae.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(Ae.promoteId&&Ae.generateId)throw new Error("promoteId and generateId cannot be used together.");let ke=(function(Ye,je){const st=[];if(Ye.type==="FeatureCollection")for(let $e=0;$e<Ye.features.length;$e++)$t(st,Ye.features[$e],je,$e);else $t(st,Ye.type==="Feature"?Ye:{geometry:Ye},je);return st})(oe,Ae);this.tiles={},this.tileCoords=[],be&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",Ae.indexMaxZoom,Ae.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),ke=(function(Ye,je){const st=je.buffer/je.extent;let $e=Ye;const gt=nr(Ye,1,-1-st,st,0,-1,2,je),Lt=nr(Ye,1,1-st,2+st,0,-1,2,je);return(gt||Lt)&&($e=nr(Ye,1,-st,1+st,0,-1,2,je)||[],gt&&($e=Ft(gt,1).concat($e)),Lt&&($e=$e.concat(Ft(Lt,-1)))),$e})(ke,Ae),ke.length&&this.splitTile(ke,0,0,0),be&&(ke.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}splitTile(oe,Ae,be,ke,Ye,je,st){const $e=[oe,Ae,be,ke],gt=this.options,Lt=gt.debug;for(;$e.length;){ke=$e.pop(),be=$e.pop(),Ae=$e.pop(),oe=$e.pop();const ut=1<<Ae,Nt=_r(Ae,be,ke);let Jt=this.tiles[Nt];if(!Jt&&(Lt>1&&console.time("creation"),Jt=this.tiles[Nt]=ri(oe,Ae,be,ke,gt),this.tileCoords.push({z:Ae,x:be,y:ke}),Lt)){Lt>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",Ae,be,ke,Jt.numFeatures,Jt.numPoints,Jt.numSimplified),console.timeEnd("creation"));const mi=`z${Ae}`;this.stats[mi]=(this.stats[mi]||0)+1,this.total++}if(Jt.source=oe,Ye==null){if(Ae===gt.indexMaxZoom||Jt.numPoints<=gt.indexMaxPoints)continue}else{if(Ae===gt.maxZoom||Ae===Ye)continue;if(Ye!=null){const mi=Ye-Ae;if(be!==je>>mi||ke!==st>>mi)continue}}if(Jt.source=null,oe.length===0)continue;Lt>1&&console.time("clipping");const dr=.5*gt.buffer/gt.extent,Zr=.5-dr,or=.5+dr,Or=1+dr;let zr=null,Kn=null,Qn=null,en=null,vn=nr(oe,ut,be-dr,be+or,0,Jt.minX,Jt.maxX,gt),Pn=nr(oe,ut,be+Zr,be+Or,0,Jt.minX,Jt.maxX,gt);oe=null,vn&&(zr=nr(vn,ut,ke-dr,ke+or,1,Jt.minY,Jt.maxY,gt),Kn=nr(vn,ut,ke+Zr,ke+Or,1,Jt.minY,Jt.maxY,gt),vn=null),Pn&&(Qn=nr(Pn,ut,ke-dr,ke+or,1,Jt.minY,Jt.maxY,gt),en=nr(Pn,ut,ke+Zr,ke+Or,1,Jt.minY,Jt.maxY,gt),Pn=null),Lt>1&&console.timeEnd("clipping"),$e.push(zr||[],Ae+1,2*be,2*ke),$e.push(Kn||[],Ae+1,2*be,2*ke+1),$e.push(Qn||[],Ae+1,2*be+1,2*ke),$e.push(en||[],Ae+1,2*be+1,2*ke+1)}}getTile(oe,Ae,be){oe=+oe,Ae=+Ae,be=+be;const ke=this.options,{extent:Ye,debug:je}=ke;if(oe<0||oe>24)return null;const st=1<<oe,$e=_r(oe,Ae=Ae+st&st-1,be);if(this.tiles[$e])return Pr(this.tiles[$e],Ye);je>1&&console.log("drilling down to z%d-%d-%d",oe,Ae,be);let gt,Lt=oe,ut=Ae,Nt=be;for(;!gt&&Lt>0;)Lt--,ut>>=1,Nt>>=1,gt=this.tiles[_r(Lt,ut,Nt)];return gt&&gt.source?(je>1&&(console.log("found parent tile z%d-%d-%d",Lt,ut,Nt),console.time("drilling down")),this.splitTile(gt.source,Lt,ut,Nt,oe,Ae,be),je>1&&console.timeEnd("drilling down"),this.tiles[$e]?Pr(this.tiles[$e],Ye):null):null}}function _r(Me,oe,Ae){return 32*((1<<Me)*Ae+oe)+Me}function sr(Me,oe){return oe?Me.properties[oe]:Me.id}function Ur(Me,oe){if(Me==null)return!0;if(Me.type==="Feature")return sr(Me,oe)!=null;if(Me.type==="FeatureCollection"){const Ae=new Set;for(const be of Me.features){const ke=sr(be,oe);if(ke==null||Ae.has(ke))return!1;Ae.add(ke)}return!0}return!1}function Rr(Me,oe){const Ae=new Map;if(Me!=null)if(Me.type==="Feature")Ae.set(sr(Me,oe),Me);else for(const be of Me.features)Ae.set(sr(be,oe),be);return Ae}class kn extends S{constructor(){super(...arguments),this._dataUpdateable=new Map}loadVectorTile(oe,Ae){return f._(this,void 0,void 0,(function*(){const be=oe.tileID.canonical;if(!this._geoJSONIndex)throw new Error("Unable to parse the data into a cluster or geojson");const ke=this._geoJSONIndex.getTile(be.z,be.x,be.y);if(!ke)return null;const Ye=new class{constructor(st){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=f.X,this.length=st.length,this._features=st}feature(st){return new class{constructor($e){this._feature=$e,this.extent=f.X,this.type=$e.type,this.properties=$e.tags,"id"in $e&&!isNaN($e.id)&&(this.id=parseInt($e.id,10))}loadGeometry(){if(this._feature.type===1){const $e=[];for(const gt of this._feature.geometry)$e.push([new f.P(gt[0],gt[1])]);return $e}{const $e=[];for(const gt of this._feature.geometry){const Lt=[];for(const ut of gt)Lt.push(new f.P(ut[0],ut[1]));$e.push(Lt)}return $e}}toGeoJSON($e,gt,Lt){return K.call(this,$e,gt,Lt)}}(this._features[st])}}(ke.features);let je=Ne(Ye);return je.byteOffset===0&&je.byteLength===je.buffer.byteLength||(je=new Uint8Array(je)),{vectorTile:Ye,rawData:je.buffer}}))}loadData(oe){return f._(this,void 0,void 0,(function*(){var Ae;(Ae=this._pendingRequest)===null||Ae===void 0||Ae.abort();const be=!!(oe&&oe.request&&oe.request.collectResourceTiming)&&new f.bv(oe.request);this._pendingRequest=new AbortController;try{this._pendingData=this.loadAndProcessGeoJSON(oe,this._pendingRequest),this._geoJSONIndex=oe.cluster?new Ue((function({superclusterOptions:je,clusterProperties:st}){if(!st||!je)return je;const $e={},gt={},Lt={accumulated:null,zoom:0},ut={properties:null},Nt=Object.keys(st);for(const Jt of Nt){const[dr,Zr]=st[Jt],or=f.bC(Zr),Or=f.bC(typeof dr=="string"?[dr,["accumulated"],["get",Jt]]:dr);$e[Jt]=or.value,gt[Jt]=Or.value}return je.map=Jt=>{ut.properties=Jt;const dr={};for(const Zr of Nt)dr[Zr]=$e[Zr].evaluate(Lt,ut);return dr},je.reduce=(Jt,dr)=>{ut.properties=dr;for(const Zr of Nt)Lt.accumulated=Jt[Zr],Jt[Zr]=gt[Zr].evaluate(Lt,ut)},je})(oe)).load((yield this._pendingData).features):(ke=yield this._pendingData,new $r(ke,oe.geojsonVtOptions)),this.loaded={};const Ye={};if(be){const je=be.finish();je&&(Ye.resourceTiming={},Ye.resourceTiming[oe.source]=JSON.parse(JSON.stringify(je)))}return Ye}catch(Ye){if(delete this._pendingRequest,f.bB(Ye))return{abandoned:!0};throw Ye}var ke}))}getData(){return f._(this,void 0,void 0,(function*(){return this._pendingData}))}reloadTile(oe){const Ae=this.loaded;return Ae&&Ae[oe.uid]?super.reloadTile(oe):this.loadTile(oe)}loadAndProcessGeoJSON(oe,Ae){return f._(this,void 0,void 0,(function*(){let be=yield this.loadGeoJSON(oe,Ae);if(delete this._pendingRequest,typeof be!="object")throw new Error(`Input data given to '${oe.source}' is not a valid GeoJSON object.`);if(H(be,!0),oe.filter){const ke=f.bC(oe.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(ke.result==="error")throw new Error(ke.value.map((je=>`${je.key}: ${je.message}`)).join(", "));be={type:"FeatureCollection",features:be.features.filter((je=>ke.value.evaluate({zoom:0},je)))}}return be}))}loadGeoJSON(oe,Ae){return f._(this,void 0,void 0,(function*(){const{promoteId:be}=oe;if(oe.request){const ke=yield f.h(oe.request,Ae);return this._dataUpdateable=Ur(ke.data,be)?Rr(ke.data,be):void 0,ke.data}if(typeof oe.data=="string")try{const ke=JSON.parse(oe.data);return this._dataUpdateable=Ur(ke,be)?Rr(ke,be):void 0,ke}catch{throw new Error(`Input data given to '${oe.source}' is not a valid GeoJSON object.`)}if(!oe.dataDiff)throw new Error(`Input data given to '${oe.source}' is not a valid GeoJSON object.`);if(!this._dataUpdateable)throw new Error(`Cannot update existing geojson data in ${oe.source}`);return(function(ke,Ye,je){var st,$e,gt,Lt;if(Ye.removeAll&&ke.clear(),Ye.remove)for(const ut of Ye.remove)ke.delete(ut);if(Ye.add)for(const ut of Ye.add){const Nt=sr(ut,je);Nt!=null&&ke.set(Nt,ut)}if(Ye.update)for(const ut of Ye.update){let Nt=ke.get(ut.id);if(Nt==null)continue;const Jt=!ut.removeAllProperties&&(((st=ut.removeProperties)===null||st===void 0?void 0:st.length)>0||(($e=ut.addOrUpdateProperties)===null||$e===void 0?void 0:$e.length)>0);if((ut.newGeometry||ut.removeAllProperties||Jt)&&(Nt=Object.assign({},Nt),ke.set(ut.id,Nt),Jt&&(Nt.properties=Object.assign({},Nt.properties))),ut.newGeometry&&(Nt.geometry=ut.newGeometry),ut.removeAllProperties)Nt.properties={};else if(((gt=ut.removeProperties)===null||gt===void 0?void 0:gt.length)>0)for(const dr of ut.removeProperties)Object.prototype.hasOwnProperty.call(Nt.properties,dr)&&delete Nt.properties[dr];if(((Lt=ut.addOrUpdateProperties)===null||Lt===void 0?void 0:Lt.length)>0)for(const{key:dr,value:Zr}of ut.addOrUpdateProperties)Nt.properties[dr]=Zr}})(this._dataUpdateable,oe.dataDiff,be),{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())}}))}removeSource(oe){return f._(this,void 0,void 0,(function*(){this._pendingRequest&&this._pendingRequest.abort()}))}getClusterExpansionZoom(oe){return this._geoJSONIndex.getClusterExpansionZoom(oe.clusterId)}getClusterChildren(oe){return this._geoJSONIndex.getChildren(oe.clusterId)}getClusterLeaves(oe){return this._geoJSONIndex.getLeaves(oe.clusterId,oe.limit,oe.offset)}}class Gr{constructor(oe){this.self=oe,this.actor=new f.F(oe),this.layerIndexes={},this.availableImages={},this.workerSources={},this.demWorkerSources={},this.externalWorkerSourceTypes={},this.self.registerWorkerSource=(Ae,be)=>{if(this.externalWorkerSourceTypes[Ae])throw new Error(`Worker source with name "${Ae}" already registered.`);this.externalWorkerSourceTypes[Ae]=be},this.self.addProtocol=f.bi,this.self.removeProtocol=f.bj,this.self.registerRTLTextPlugin=Ae=>{if(f.bD.isParsed())throw new Error("RTL text plugin already registered.");f.bD.setMethods(Ae)},this.actor.registerMessageHandler("LDT",((Ae,be)=>this._getDEMWorkerSource(Ae,be.source).loadTile(be))),this.actor.registerMessageHandler("RDT",((Ae,be)=>f._(this,void 0,void 0,(function*(){this._getDEMWorkerSource(Ae,be.source).removeTile(be)})))),this.actor.registerMessageHandler("GCEZ",((Ae,be)=>f._(this,void 0,void 0,(function*(){return this._getWorkerSource(Ae,be.type,be.source).getClusterExpansionZoom(be)})))),this.actor.registerMessageHandler("GCC",((Ae,be)=>f._(this,void 0,void 0,(function*(){return this._getWorkerSource(Ae,be.type,be.source).getClusterChildren(be)})))),this.actor.registerMessageHandler("GCL",((Ae,be)=>f._(this,void 0,void 0,(function*(){return this._getWorkerSource(Ae,be.type,be.source).getClusterLeaves(be)})))),this.actor.registerMessageHandler("LD",((Ae,be)=>this._getWorkerSource(Ae,be.type,be.source).loadData(be))),this.actor.registerMessageHandler("GD",((Ae,be)=>this._getWorkerSource(Ae,be.type,be.source).getData())),this.actor.registerMessageHandler("LT",((Ae,be)=>this._getWorkerSource(Ae,be.type,be.source).loadTile(be))),this.actor.registerMessageHandler("RT",((Ae,be)=>this._getWorkerSource(Ae,be.type,be.source).reloadTile(be))),this.actor.registerMessageHandler("AT",((Ae,be)=>this._getWorkerSource(Ae,be.type,be.source).abortTile(be))),this.actor.registerMessageHandler("RMT",((Ae,be)=>this._getWorkerSource(Ae,be.type,be.source).removeTile(be))),this.actor.registerMessageHandler("RS",((Ae,be)=>f._(this,void 0,void 0,(function*(){if(!this.workerSources[Ae]||!this.workerSources[Ae][be.type]||!this.workerSources[Ae][be.type][be.source])return;const ke=this.workerSources[Ae][be.type][be.source];delete this.workerSources[Ae][be.type][be.source],ke.removeSource!==void 0&&ke.removeSource(be)})))),this.actor.registerMessageHandler("RM",(Ae=>f._(this,void 0,void 0,(function*(){delete this.layerIndexes[Ae],delete this.availableImages[Ae],delete this.workerSources[Ae],delete this.demWorkerSources[Ae]})))),this.actor.registerMessageHandler("SR",((Ae,be)=>f._(this,void 0,void 0,(function*(){this.referrer=be})))),this.actor.registerMessageHandler("SRPS",((Ae,be)=>this._syncRTLPluginState(Ae,be))),this.actor.registerMessageHandler("IS",((Ae,be)=>f._(this,void 0,void 0,(function*(){this.self.importScripts(be)})))),this.actor.registerMessageHandler("SI",((Ae,be)=>this._setImages(Ae,be))),this.actor.registerMessageHandler("UL",((Ae,be)=>f._(this,void 0,void 0,(function*(){this._getLayerIndex(Ae).update(be.layers,be.removedIds)})))),this.actor.registerMessageHandler("SL",((Ae,be)=>f._(this,void 0,void 0,(function*(){this._getLayerIndex(Ae).replace(be)}))))}_setImages(oe,Ae){return f._(this,void 0,void 0,(function*(){this.availableImages[oe]=Ae;for(const be in this.workerSources[oe]){const ke=this.workerSources[oe][be];for(const Ye in ke)ke[Ye].availableImages=Ae}}))}_syncRTLPluginState(oe,Ae){return f._(this,void 0,void 0,(function*(){if(f.bD.isParsed())return f.bD.getState();if(Ae.pluginStatus!=="loading")return f.bD.setState(Ae),Ae;const be=Ae.pluginURL;if(this.self.importScripts(be),f.bD.isParsed()){const ke={pluginStatus:"loaded",pluginURL:be};return f.bD.setState(ke),ke}throw f.bD.setState({pluginStatus:"error",pluginURL:""}),new Error(`RTL Text Plugin failed to import scripts from ${be}`)}))}_getAvailableImages(oe){let Ae=this.availableImages[oe];return Ae||(Ae=[]),Ae}_getLayerIndex(oe){let Ae=this.layerIndexes[oe];return Ae||(Ae=this.layerIndexes[oe]=new l),Ae}_getWorkerSource(oe,Ae,be){if(this.workerSources[oe]||(this.workerSources[oe]={}),this.workerSources[oe][Ae]||(this.workerSources[oe][Ae]={}),!this.workerSources[oe][Ae][be]){const ke={sendAsync:(Ye,je)=>(Ye.targetMapId=oe,this.actor.sendAsync(Ye,je))};switch(Ae){case"vector":this.workerSources[oe][Ae][be]=new S(ke,this._getLayerIndex(oe),this._getAvailableImages(oe));break;case"geojson":this.workerSources[oe][Ae][be]=new kn(ke,this._getLayerIndex(oe),this._getAvailableImages(oe));break;default:this.workerSources[oe][Ae][be]=new this.externalWorkerSourceTypes[Ae](ke,this._getLayerIndex(oe),this._getAvailableImages(oe))}}return this.workerSources[oe][Ae][be]}_getDEMWorkerSource(oe,Ae){return this.demWorkerSources[oe]||(this.demWorkerSources[oe]={}),this.demWorkerSources[oe][Ae]||(this.demWorkerSources[oe][Ae]=new U),this.demWorkerSources[oe][Ae]}}return f.i(self)&&(self.worker=new Gr(self)),Gr})),s("index",["exports","./shared"],(function(f,l){var y="4.7.1";let w,b;const S={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frameAsync:_=>new Promise(((i,h)=>{const p=requestAnimationFrame(i);_.signal.addEventListener("abort",(()=>{cancelAnimationFrame(p),h(l.c())}))})),getImageData(_,i=0){return this.getImageCanvasContext(_).getImageData(-i,-i,_.width+2*i,_.height+2*i)},getImageCanvasContext(_){const i=window.document.createElement("canvas"),h=i.getContext("2d",{willReadFrequently:!0});if(!h)throw new Error("failed to create canvas 2d context");return i.width=_.width,i.height=_.height,h.drawImage(_,0,0,_.width,_.height),h},resolveURL:_=>(w||(w=document.createElement("a")),w.href=_,w.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(b==null&&(b=matchMedia("(prefers-reduced-motion: reduce)")),b.matches)}};class U{static testProp(i){if(!U.docStyle)return i[0];for(let h=0;h<i.length;h++)if(i[h]in U.docStyle)return i[h];return i[0]}static create(i,h,p){const v=window.document.createElement(i);return h!==void 0&&(v.className=h),p&&p.appendChild(v),v}static createNS(i,h){return window.document.createElementNS(i,h)}static disableDrag(){U.docStyle&&U.selectProp&&(U.userSelect=U.docStyle[U.selectProp],U.docStyle[U.selectProp]="none")}static enableDrag(){U.docStyle&&U.selectProp&&(U.docStyle[U.selectProp]=U.userSelect)}static setTransform(i,h){i.style[U.transformProp]=h}static addEventListener(i,h,p,v={}){i.addEventListener(h,p,"passive"in v?v:v.capture)}static removeEventListener(i,h,p,v={}){i.removeEventListener(h,p,"passive"in v?v:v.capture)}static suppressClickInternal(i){i.preventDefault(),i.stopPropagation(),window.removeEventListener("click",U.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",U.suppressClickInternal,!0),window.setTimeout((()=>{window.removeEventListener("click",U.suppressClickInternal,!0)}),0)}static getScale(i){const h=i.getBoundingClientRect();return{x:h.width/i.offsetWidth||1,y:h.height/i.offsetHeight||1,boundingClientRect:h}}static getPoint(i,h,p){const v=h.boundingClientRect;return new l.P((p.clientX-v.left)/h.x-i.clientLeft,(p.clientY-v.top)/h.y-i.clientTop)}static mousePos(i,h){const p=U.getScale(i);return U.getPoint(i,p,h)}static touchPos(i,h){const p=[],v=U.getScale(i);for(let x=0;x<h.length;x++)p.push(U.getPoint(i,v,h[x]));return p}static mouseButton(i){return i.button}static remove(i){i.parentNode&&i.parentNode.removeChild(i)}}U.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,U.selectProp=U.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),U.transformProp=U.testProp(["transform","WebkitTransform"]);const I={supported:!1,testSupport:function(_){!K&&H&&(V?re(_):z=_)}};let z,H,K=!1,V=!1;function re(_){const i=_.createTexture();_.bindTexture(_.TEXTURE_2D,i);try{if(_.texImage2D(_.TEXTURE_2D,0,_.RGBA,_.RGBA,_.UNSIGNED_BYTE,H),_.isContextLost())return;I.supported=!0}catch{}_.deleteTexture(i),K=!0}var W;typeof document<"u"&&(H=document.createElement("img"),H.onload=()=>{z&&re(z),z=null,V=!0},H.onerror=()=>{K=!0,z=null},H.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),(function(_){let i,h,p,v;_.resetRequestQueue=()=>{i=[],h=0,p=0,v={}},_.addThrottleControl=k=>{const Q=p++;return v[Q]=k,Q},_.removeThrottleControl=k=>{delete v[k],F()},_.getImage=(k,Q,G=!0)=>new Promise(((X,J)=>{I.supported&&(k.headers||(k.headers={}),k.headers.accept="image/webp,*/*"),l.e(k,{type:"image"}),i.push({abortController:Q,requestParameters:k,supportImageRefresh:G,state:"queued",onError:ee=>{J(ee)},onSuccess:ee=>{X(ee)}}),F()}));const x=k=>l._(this,void 0,void 0,(function*(){k.state="running";const{requestParameters:Q,supportImageRefresh:G,onError:X,onSuccess:J,abortController:ee}=k,ue=G===!1&&!l.i(self)&&!l.g(Q.url)&&(!Q.headers||Object.keys(Q.headers).reduce(((xe,Oe)=>xe&&Oe==="accept"),!0));h++;const ge=ue?M(Q,ee):l.m(Q,ee);try{const xe=yield ge;delete k.abortController,k.state="completed",xe.data instanceof HTMLImageElement||l.b(xe.data)?J(xe):xe.data&&J({data:yield(Ce=xe.data,typeof createImageBitmap=="function"?l.d(Ce):l.f(Ce)),cacheControl:xe.cacheControl,expires:xe.expires})}catch(xe){delete k.abortController,X(xe)}finally{h--,F()}var Ce})),F=()=>{const k=(()=>{for(const Q of Object.keys(v))if(v[Q]())return!0;return!1})()?l.a.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:l.a.MAX_PARALLEL_IMAGE_REQUESTS;for(let Q=h;Q<k&&i.length>0;Q++){const G=i.shift();G.abortController.signal.aborted?Q--:x(G)}},M=(k,Q)=>new Promise(((G,X)=>{const J=new Image,ee=k.url,ue=k.credentials;ue&&ue==="include"?J.crossOrigin="use-credentials":(ue&&ue==="same-origin"||!l.s(ee))&&(J.crossOrigin="anonymous"),Q.signal.addEventListener("abort",(()=>{J.src="",X(l.c())})),J.fetchPriority="high",J.onload=()=>{J.onerror=J.onload=null,G({data:J})},J.onerror=()=>{J.onerror=J.onload=null,Q.signal.aborted||X(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))},J.src=ee}))})(W||(W={})),W.resetRequestQueue();class le{constructor(i){this._transformRequestFn=i}transformRequest(i,h){return this._transformRequestFn&&this._transformRequestFn(i,h)||{url:i}}setTransformRequest(i){this._transformRequestFn=i}}function ce(_){var i=new l.A(3);return i[0]=_[0],i[1]=_[1],i[2]=_[2],i}var me,Ie=function(_,i,h){return _[0]=i[0]-h[0],_[1]=i[1]-h[1],_[2]=i[2]-h[2],_};me=new l.A(3),l.A!=Float32Array&&(me[0]=0,me[1]=0,me[2]=0);var Fe=function(_){var i=_[0],h=_[1];return i*i+h*h};function pe(_){const i=[];if(typeof _=="string")i.push({id:"default",url:_});else if(_&&_.length>0){const h=[];for(const{id:p,url:v}of _){const x=`${p}${v}`;h.indexOf(x)===-1&&(h.push(x),i.push({id:p,url:v}))}}return i}function ze(_,i,h){const p=_.split("?");return p[0]+=`${i}${h}`,p.join("?")}(function(){var _=new l.A(2);l.A!=Float32Array&&(_[0]=0,_[1]=0)})();class ie{constructor(i,h,p,v){this.context=i,this.format=p,this.texture=i.gl.createTexture(),this.update(h,v)}update(i,h,p){const{width:v,height:x}=i,F=!(this.size&&this.size[0]===v&&this.size[1]===x||p),{context:M}=this,{gl:k}=M;if(this.useMipmap=!!(h&&h.useMipmap),k.bindTexture(k.TEXTURE_2D,this.texture),M.pixelStoreUnpackFlipY.set(!1),M.pixelStoreUnpack.set(1),M.pixelStoreUnpackPremultiplyAlpha.set(this.format===k.RGBA&&(!h||h.premultiply!==!1)),F)this.size=[v,x],i instanceof HTMLImageElement||i instanceof HTMLCanvasElement||i instanceof HTMLVideoElement||i instanceof ImageData||l.b(i)?k.texImage2D(k.TEXTURE_2D,0,this.format,this.format,k.UNSIGNED_BYTE,i):k.texImage2D(k.TEXTURE_2D,0,this.format,v,x,0,this.format,k.UNSIGNED_BYTE,i.data);else{const{x:Q,y:G}=p||{x:0,y:0};i instanceof HTMLImageElement||i instanceof HTMLCanvasElement||i instanceof HTMLVideoElement||i instanceof ImageData||l.b(i)?k.texSubImage2D(k.TEXTURE_2D,0,Q,G,k.RGBA,k.UNSIGNED_BYTE,i):k.texSubImage2D(k.TEXTURE_2D,0,Q,G,v,x,k.RGBA,k.UNSIGNED_BYTE,i.data)}this.useMipmap&&this.isSizePowerOfTwo()&&k.generateMipmap(k.TEXTURE_2D)}bind(i,h,p){const{context:v}=this,{gl:x}=v;x.bindTexture(x.TEXTURE_2D,this.texture),p!==x.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(p=x.LINEAR),i!==this.filter&&(x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MAG_FILTER,i),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MIN_FILTER,p||i),this.filter=i),h!==this.wrap&&(x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_S,h),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_T,h),this.wrap=h)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:i}=this.context;i.deleteTexture(this.texture),this.texture=null}}function de(_){const{userImage:i}=_;return!!(i&&i.render&&i.render())&&(_.data.replace(new Uint8Array(i.data.buffer)),!0)}class ve extends l.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new l.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(i){if(this.loaded!==i&&(this.loaded=i,i)){for(const{ids:h,promiseResolve:p}of this.requestors)p(this._getImagesForIds(h));this.requestors=[]}}getImage(i){const h=this.images[i];if(h&&!h.data&&h.spriteData){const p=h.spriteData;h.data=new l.R({width:p.width,height:p.height},p.context.getImageData(p.x,p.y,p.width,p.height).data),h.spriteData=null}return h}addImage(i,h){if(this.images[i])throw new Error(`Image id ${i} already exist, use updateImage instead`);this._validate(i,h)&&(this.images[i]=h)}_validate(i,h){let p=!0;const v=h.data||h.spriteData;return this._validateStretch(h.stretchX,v&&v.width)||(this.fire(new l.j(new Error(`Image "${i}" has invalid "stretchX" value`))),p=!1),this._validateStretch(h.stretchY,v&&v.height)||(this.fire(new l.j(new Error(`Image "${i}" has invalid "stretchY" value`))),p=!1),this._validateContent(h.content,h)||(this.fire(new l.j(new Error(`Image "${i}" has invalid "content" value`))),p=!1),p}_validateStretch(i,h){if(!i)return!0;let p=0;for(const v of i){if(v[0]<p||v[1]<v[0]||h<v[1])return!1;p=v[1]}return!0}_validateContent(i,h){if(!i)return!0;if(i.length!==4)return!1;const p=h.spriteData,v=p&&p.width||h.data.width,x=p&&p.height||h.data.height;return!(i[0]<0||v<i[0]||i[1]<0||x<i[1]||i[2]<0||v<i[2]||i[3]<0||x<i[3]||i[2]<i[0]||i[3]<i[1])}updateImage(i,h,p=!0){const v=this.getImage(i);if(p&&(v.data.width!==h.data.width||v.data.height!==h.data.height))throw new Error(`size mismatch between old image (${v.data.width}x${v.data.height}) and new image (${h.data.width}x${h.data.height}).`);h.version=v.version+1,this.images[i]=h,this.updatedImages[i]=!0}removeImage(i){const h=this.images[i];delete this.images[i],delete this.patterns[i],h.userImage&&h.userImage.onRemove&&h.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(i){return new Promise(((h,p)=>{let v=!0;if(!this.isLoaded())for(const x of i)this.images[x]||(v=!1);this.isLoaded()||v?h(this._getImagesForIds(i)):this.requestors.push({ids:i,promiseResolve:h})}))}_getImagesForIds(i){const h={};for(const p of i){let v=this.getImage(p);v||(this.fire(new l.k("styleimagemissing",{id:p})),v=this.getImage(p)),v?h[p]={data:v.data.clone(),pixelRatio:v.pixelRatio,sdf:v.sdf,version:v.version,stretchX:v.stretchX,stretchY:v.stretchY,content:v.content,textFitWidth:v.textFitWidth,textFitHeight:v.textFitHeight,hasRenderCallback:!!(v.userImage&&v.userImage.render)}:l.w(`Image "${p}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}return h}getPixelSize(){const{width:i,height:h}=this.atlasImage;return{width:i,height:h}}getPattern(i){const h=this.patterns[i],p=this.getImage(i);if(!p)return null;if(h&&h.position.version===p.version)return h.position;if(h)h.position.version=p.version;else{const v={w:p.data.width+2,h:p.data.height+2,x:0,y:0},x=new l.I(v,p);this.patterns[i]={bin:v,position:x}}return this._updatePatternAtlas(),this.patterns[i].position}bind(i){const h=i.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new ie(i,this.atlasImage,h.RGBA),this.atlasTexture.bind(h.LINEAR,h.CLAMP_TO_EDGE)}_updatePatternAtlas(){const i=[];for(const x in this.patterns)i.push(this.patterns[x].bin);const{w:h,h:p}=l.p(i),v=this.atlasImage;v.resize({width:h||1,height:p||1});for(const x in this.patterns){const{bin:F}=this.patterns[x],M=F.x+1,k=F.y+1,Q=this.getImage(x).data,G=Q.width,X=Q.height;l.R.copy(Q,v,{x:0,y:0},{x:M,y:k},{width:G,height:X}),l.R.copy(Q,v,{x:0,y:X-1},{x:M,y:k-1},{width:G,height:1}),l.R.copy(Q,v,{x:0,y:0},{x:M,y:k+X},{width:G,height:1}),l.R.copy(Q,v,{x:G-1,y:0},{x:M-1,y:k},{width:1,height:X}),l.R.copy(Q,v,{x:0,y:0},{x:M+G,y:k},{width:1,height:X})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(i){for(const h of i){if(this.callbackDispatchedThisFrame[h])continue;this.callbackDispatchedThisFrame[h]=!0;const p=this.getImage(h);p||l.w(`Image with ID: "${h}" was not found`),de(p)&&this.updateImage(h,p)}}}const _e=1e20;function tt(_,i,h,p,v,x,F,M,k){for(let Q=i;Q<i+p;Q++)Le(_,h*x+Q,x,v,F,M,k);for(let Q=h;Q<h+v;Q++)Le(_,Q*x+i,1,p,F,M,k)}function Le(_,i,h,p,v,x,F){x[0]=0,F[0]=-_e,F[1]=_e,v[0]=_[i];for(let M=1,k=0,Q=0;M<p;M++){v[M]=_[i+M*h];const G=M*M;do{const X=x[k];Q=(v[M]-v[X]+G-X*X)/(M-X)/2}while(Q<=F[k]&&--k>-1);k++,x[k]=M,F[k]=Q,F[k+1]=_e}for(let M=0,k=0;M<p;M++){for(;F[k+1]<M;)k++;const Q=x[k],G=M-Q;_[i+M*h]=v[Q]+G*G}}class Ne{constructor(i,h){this.requestManager=i,this.localIdeographFontFamily=h,this.entries={}}setURL(i){this.url=i}getGlyphs(i){return l._(this,void 0,void 0,(function*(){const h=[];for(const x in i)for(const F of i[x])h.push(this._getAndCacheGlyphsPromise(x,F));const p=yield Promise.all(h),v={};for(const{stack:x,id:F,glyph:M}of p)v[x]||(v[x]={}),v[x][F]=M&&{id:M.id,bitmap:M.bitmap.clone(),metrics:M.metrics};return v}))}_getAndCacheGlyphsPromise(i,h){return l._(this,void 0,void 0,(function*(){let p=this.entries[i];p||(p=this.entries[i]={glyphs:{},requests:{},ranges:{}});let v=p.glyphs[h];if(v!==void 0)return{stack:i,id:h,glyph:v};if(v=this._tinySDF(p,i,h),v)return p.glyphs[h]=v,{stack:i,id:h,glyph:v};const x=Math.floor(h/256);if(256*x>65535)throw new Error("glyphs > 65535 not supported");if(p.ranges[x])return{stack:i,id:h,glyph:v};if(!this.url)throw new Error("glyphsUrl is not set");if(!p.requests[x]){const M=Ne.loadGlyphRange(i,x,this.url,this.requestManager);p.requests[x]=M}const F=yield p.requests[x];for(const M in F)this._doesCharSupportLocalGlyph(+M)||(p.glyphs[+M]=F[+M]);return p.ranges[x]=!0,{stack:i,id:h,glyph:F[h]||null}}))}_doesCharSupportLocalGlyph(i){return!!this.localIdeographFontFamily&&new RegExp("\\p{Ideo}|\\p{sc=Hang}|\\p{sc=Hira}|\\p{sc=Kana}","u").test(String.fromCodePoint(i))}_tinySDF(i,h,p){const v=this.localIdeographFontFamily;if(!v||!this._doesCharSupportLocalGlyph(p))return;let x=i.tinySDF;if(!x){let M="400";/bold/i.test(h)?M="900":/medium/i.test(h)?M="500":/light/i.test(h)&&(M="200"),x=i.tinySDF=new Ne.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:v,fontWeight:M})}const F=x.draw(String.fromCharCode(p));return{id:p,bitmap:new l.o({width:F.width||60,height:F.height||60},F.data),metrics:{width:F.glyphWidth/2||24,height:F.glyphHeight/2||24,left:F.glyphLeft/2+.5||0,top:F.glyphTop/2-27.5||-8,advance:F.glyphAdvance/2||24,isDoubleResolution:!0}}}}Ne.loadGlyphRange=function(_,i,h,p){return l._(this,void 0,void 0,(function*(){const v=256*i,x=v+255,F=p.transformRequest(h.replace("{fontstack}",_).replace("{range}",`${v}-${x}`),"Glyphs"),M=yield l.l(F,new AbortController);if(!M||!M.data)throw new Error(`Could not load glyph range. range: ${i}, ${v}-${x}`);const k={};for(const Q of l.n(M.data))k[Q.id]=Q;return k}))},Ne.TinySDF=class{constructor({fontSize:_=24,buffer:i=3,radius:h=8,cutoff:p=.25,fontFamily:v="sans-serif",fontWeight:x="normal",fontStyle:F="normal"}={}){this.buffer=i,this.cutoff=p,this.radius=h;const M=this.size=_+4*i,k=this._createCanvas(M),Q=this.ctx=k.getContext("2d",{willReadFrequently:!0});Q.font=`${F} ${x} ${_}px ${v}`,Q.textBaseline="alphabetic",Q.textAlign="left",Q.fillStyle="black",this.gridOuter=new Float64Array(M*M),this.gridInner=new Float64Array(M*M),this.f=new Float64Array(M),this.z=new Float64Array(M+1),this.v=new Uint16Array(M)}_createCanvas(_){const i=document.createElement("canvas");return i.width=i.height=_,i}draw(_){const{width:i,actualBoundingBoxAscent:h,actualBoundingBoxDescent:p,actualBoundingBoxLeft:v,actualBoundingBoxRight:x}=this.ctx.measureText(_),F=Math.ceil(h),M=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(x-v))),k=Math.min(this.size-this.buffer,F+Math.ceil(p)),Q=M+2*this.buffer,G=k+2*this.buffer,X=Math.max(Q*G,0),J=new Uint8ClampedArray(X),ee={data:J,width:Q,height:G,glyphWidth:M,glyphHeight:k,glyphTop:F,glyphLeft:0,glyphAdvance:i};if(M===0||k===0)return ee;const{ctx:ue,buffer:ge,gridInner:Ce,gridOuter:xe}=this;ue.clearRect(ge,ge,M,k),ue.fillText(_,ge,ge+F);const Oe=ue.getImageData(ge,ge,M,k);xe.fill(_e,0,X),Ce.fill(0,0,X);for(let Ee=0;Ee<k;Ee++)for(let qe=0;qe<M;qe++){const Ke=Oe.data[4*(Ee*M+qe)+3]/255;if(Ke===0)continue;const it=(Ee+ge)*Q+qe+ge;if(Ke===1)xe[it]=0,Ce[it]=_e;else{const bt=.5-Ke;xe[it]=bt>0?bt*bt:0,Ce[it]=bt<0?bt*bt:0}}tt(xe,0,0,Q,G,Q,this.f,this.v,this.z),tt(Ce,ge,ge,M,k,Q,this.f,this.v,this.z);for(let Ee=0;Ee<X;Ee++){const qe=Math.sqrt(xe[Ee])-Math.sqrt(Ce[Ee]);J[Ee]=Math.round(255-255*(qe/this.radius+this.cutoff))}return ee}};class Ve{constructor(){this.specification=l.v.light.position}possiblyEvaluate(i,h){return l.x(i.expression.evaluate(h))}interpolate(i,h,p){return{x:l.y.number(i.x,h.x,p),y:l.y.number(i.y,h.y,p),z:l.y.number(i.z,h.z,p)}}}let We;class _t extends l.E{constructor(i){super(),We=We||new l.q({anchor:new l.D(l.v.light.anchor),position:new Ve,color:new l.D(l.v.light.color),intensity:new l.D(l.v.light.intensity)}),this._transitionable=new l.T(We),this.setLight(i),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(i,h={}){if(!this._validate(l.r,i,h))for(const p in i){const v=i[p];p.endsWith("-transition")?this._transitionable.setTransition(p.slice(0,-11),v):this._transitionable.setValue(p,v)}}updateTransitions(i){this._transitioning=this._transitionable.transitioned(i,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(i){this.properties=this._transitioning.possiblyEvaluate(i)}_validate(i,h,p){return(!p||p.validate!==!1)&&l.t(this,i.call(l.u,{value:h,style:{glyphs:!0,sprite:!0},styleSpec:l.v}))}}const Te=new l.q({"sky-color":new l.D(l.v.sky["sky-color"]),"horizon-color":new l.D(l.v.sky["horizon-color"]),"fog-color":new l.D(l.v.sky["fog-color"]),"fog-ground-blend":new l.D(l.v.sky["fog-ground-blend"]),"horizon-fog-blend":new l.D(l.v.sky["horizon-fog-blend"]),"sky-horizon-blend":new l.D(l.v.sky["sky-horizon-blend"]),"atmosphere-blend":new l.D(l.v.sky["atmosphere-blend"])});class ne extends l.E{constructor(i){super(),this._transitionable=new l.T(Te),this.setSky(i),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new l.z(0))}setSky(i,h={}){if(!this._validate(l.B,i,h)){i||(i={"sky-color":"transparent","horizon-color":"transparent","fog-color":"transparent","fog-ground-blend":1,"atmosphere-blend":0});for(const p in i){const v=i[p];p.endsWith("-transition")?this._transitionable.setTransition(p.slice(0,-11),v):this._transitionable.setValue(p,v)}}}getSky(){return this._transitionable.serialize()}updateTransitions(i){this._transitioning=this._transitionable.transitioned(i,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(i){this.properties=this._transitioning.possiblyEvaluate(i)}_validate(i,h,p={}){return p?.validate!==!1&&l.t(this,i.call(l.u,l.e({value:h,style:{glyphs:!0,sprite:!0},styleSpec:l.v})))}calculateFogBlendOpacity(i){return i<60?0:i<70?(i-60)/10:1}}class we{constructor(i,h){this.width=i,this.height=h,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(i,h){const p=i.join(",")+String(h);return this.dashEntry[p]||(this.dashEntry[p]=this.addDash(i,h)),this.dashEntry[p]}getDashRanges(i,h,p){const v=[];let x=i.length%2==1?-i[i.length-1]*p:0,F=i[0]*p,M=!0;v.push({left:x,right:F,isDash:M,zeroLength:i[0]===0});let k=i[0];for(let Q=1;Q<i.length;Q++){M=!M;const G=i[Q];x=k*p,k+=G,F=k*p,v.push({left:x,right:F,isDash:M,zeroLength:G===0})}return v}addRoundDash(i,h,p){const v=h/2;for(let x=-p;x<=p;x++){const F=this.width*(this.nextRow+p+x);let M=0,k=i[M];for(let Q=0;Q<this.width;Q++){Q/k.right>1&&(k=i[++M]);const G=Math.abs(Q-k.left),X=Math.abs(Q-k.right),J=Math.min(G,X);let ee;const ue=x/p*(v+1);if(k.isDash){const ge=v-Math.abs(ue);ee=Math.sqrt(J*J+ge*ge)}else ee=v-Math.sqrt(J*J+ue*ue);this.data[F+Q]=Math.max(0,Math.min(255,ee+128))}}}addRegularDash(i){for(let M=i.length-1;M>=0;--M){const k=i[M],Q=i[M+1];k.zeroLength?i.splice(M,1):Q&&Q.isDash===k.isDash&&(Q.left=k.left,i.splice(M,1))}const h=i[0],p=i[i.length-1];h.isDash===p.isDash&&(h.left=p.left-this.width,p.right=h.right+this.width);const v=this.width*this.nextRow;let x=0,F=i[x];for(let M=0;M<this.width;M++){M/F.right>1&&(F=i[++x]);const k=Math.abs(M-F.left),Q=Math.abs(M-F.right),G=Math.min(k,Q);this.data[v+M]=Math.max(0,Math.min(255,(F.isDash?G:-G)+128))}}addDash(i,h){const p=h?7:0,v=2*p+1;if(this.nextRow+v>this.height)return l.w("LineAtlas out of space"),null;let x=0;for(let M=0;M<i.length;M++)x+=i[M];if(x!==0){const M=this.width/x,k=this.getDashRanges(i,this.width,M);h?this.addRoundDash(k,M,p):this.addRegularDash(k)}const F={y:(this.nextRow+p+.5)/this.height,height:2*p/this.height,width:x};return this.nextRow+=v,this.dirty=!0,F}bind(i){const h=i.gl;this.texture?(h.bindTexture(h.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,h.texSubImage2D(h.TEXTURE_2D,0,0,0,this.width,this.height,h.ALPHA,h.UNSIGNED_BYTE,this.data))):(this.texture=h.createTexture(),h.bindTexture(h.TEXTURE_2D,this.texture),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.REPEAT),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.REPEAT),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.LINEAR),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.LINEAR),h.texImage2D(h.TEXTURE_2D,0,h.ALPHA,this.width,this.height,0,h.ALPHA,h.UNSIGNED_BYTE,this.data))}}const Ue="maplibre_preloaded_worker_pool";class De{constructor(){this.active={}}acquire(i){if(!this.workers)for(this.workers=[];this.workers.length<De.workerCount;)this.workers.push(new Worker(l.a.WORKER_URL));return this.active[i]=!0,this.workers.slice()}release(i){delete this.active[i],this.numActive()===0&&(this.workers.forEach((h=>{h.terminate()})),this.workers=null)}isPreloaded(){return!!this.active[Ue]}numActive(){return Object.keys(this.active).length}}const Xe=Math.floor(S.hardwareConcurrency/2);let Je,dt;function He(){return Je||(Je=new De),Je}De.workerCount=l.C(globalThis)?Math.max(Math.min(Xe,3),1):1;class ft{constructor(i,h){this.workerPool=i,this.actors=[],this.currentActor=0,this.id=h;const p=this.workerPool.acquire(h);for(let v=0;v<p.length;v++){const x=new l.F(p[v],h);x.name=`Worker ${v}`,this.actors.push(x)}if(!this.actors.length)throw new Error("No actors found")}broadcast(i,h){const p=[];for(const v of this.actors)p.push(v.sendAsync({type:i,data:h}));return Promise.all(p)}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(i=!0){this.actors.forEach((h=>{h.remove()})),this.actors=[],i&&this.workerPool.release(this.id)}registerMessageHandler(i,h){for(const p of this.actors)p.registerMessageHandler(i,h)}}function It(){return dt||(dt=new ft(He(),l.G),dt.registerMessageHandler("GR",((_,i,h)=>l.m(i,h)))),dt}function ct(_,i){const h=l.H();return l.J(h,h,[1,1,0]),l.K(h,h,[.5*_.width,.5*_.height,1]),l.L(h,h,_.calculatePosMatrix(i.toUnwrapped()))}function Xt(_,i,h,p,v,x){const F=(function(X,J,ee){if(X)for(const ue of X){const ge=J[ue];if(ge&&ge.source===ee&&ge.type==="fill-extrusion")return!0}else for(const ue in J){const ge=J[ue];if(ge.source===ee&&ge.type==="fill-extrusion")return!0}return!1})(v&&v.layers,i,_.id),M=x.maxPitchScaleFactor(),k=_.tilesIn(p,M,F);k.sort($t);const Q=[];for(const X of k)Q.push({wrappedTileID:X.tileID.wrapped().key,queryResults:X.tile.queryRenderedFeatures(i,h,_._state,X.queryGeometry,X.cameraQueryGeometry,X.scale,v,x,M,ct(_.transform,X.tileID))});const G=(function(X){const J={},ee={};for(const ue of X){const ge=ue.queryResults,Ce=ue.wrappedTileID,xe=ee[Ce]=ee[Ce]||{};for(const Oe in ge){const Ee=ge[Oe],qe=xe[Oe]=xe[Oe]||{},Ke=J[Oe]=J[Oe]||[];for(const it of Ee)qe[it.featureIndex]||(qe[it.featureIndex]=!0,Ke.push(it))}}return J})(Q);for(const X in G)G[X].forEach((J=>{const ee=J.feature,ue=_.getFeatureState(ee.layer["source-layer"],ee.id);ee.source=ee.layer.source,ee.layer["source-layer"]&&(ee.sourceLayer=ee.layer["source-layer"]),ee.state=ue}));return G}function $t(_,i){const h=_.tileID,p=i.tileID;return h.overscaledZ-p.overscaledZ||h.canonical.y-p.canonical.y||h.wrap-p.wrap||h.canonical.x-p.canonical.x}function Pe(_,i,h){return l._(this,void 0,void 0,(function*(){let p=_;if(_.url?p=(yield l.h(i.transformRequest(_.url,"Source"),h)).data:yield S.frameAsync(h),!p)return null;const v=l.M(l.e(p,_),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);return"vector_layers"in p&&p.vector_layers&&(v.vectorLayerIds=p.vector_layers.map((x=>x.id))),v}))}class Ze{constructor(i,h){i&&(h?this.setSouthWest(i).setNorthEast(h):Array.isArray(i)&&(i.length===4?this.setSouthWest([i[0],i[1]]).setNorthEast([i[2],i[3]]):this.setSouthWest(i[0]).setNorthEast(i[1])))}setNorthEast(i){return this._ne=i instanceof l.N?new l.N(i.lng,i.lat):l.N.convert(i),this}setSouthWest(i){return this._sw=i instanceof l.N?new l.N(i.lng,i.lat):l.N.convert(i),this}extend(i){const h=this._sw,p=this._ne;let v,x;if(i instanceof l.N)v=i,x=i;else{if(!(i instanceof Ze))return Array.isArray(i)?i.length===4||i.every(Array.isArray)?this.extend(Ze.convert(i)):this.extend(l.N.convert(i)):i&&("lng"in i||"lon"in i)&&"lat"in i?this.extend(l.N.convert(i)):this;if(v=i._sw,x=i._ne,!v||!x)return this}return h||p?(h.lng=Math.min(v.lng,h.lng),h.lat=Math.min(v.lat,h.lat),p.lng=Math.max(x.lng,p.lng),p.lat=Math.max(x.lat,p.lat)):(this._sw=new l.N(v.lng,v.lat),this._ne=new l.N(x.lng,x.lat)),this}getCenter(){return new l.N((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new l.N(this.getWest(),this.getNorth())}getSouthEast(){return new l.N(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(i){const{lng:h,lat:p}=l.N.convert(i);let v=this._sw.lng<=h&&h<=this._ne.lng;return this._sw.lng>this._ne.lng&&(v=this._sw.lng>=h&&h>=this._ne.lng),this._sw.lat<=p&&p<=this._ne.lat&&v}static convert(i){return i instanceof Ze?i:i&&new Ze(i)}static fromLngLat(i,h=0){const p=360*h/40075017,v=p/Math.cos(Math.PI/180*i.lat);return new Ze(new l.N(i.lng-v,i.lat-p),new l.N(i.lng+v,i.lat+p))}adjustAntiMeridian(){const i=new l.N(this._sw.lng,this._sw.lat),h=new l.N(this._ne.lng,this._ne.lat);return new Ze(i,i.lng>h.lng?new l.N(h.lng+360,h.lat):h)}}class Nr{constructor(i,h,p){this.bounds=Ze.convert(this.validateBounds(i)),this.minzoom=h||0,this.maxzoom=p||24}validateBounds(i){return Array.isArray(i)&&i.length===4?[Math.max(-180,i[0]),Math.max(-90,i[1]),Math.min(180,i[2]),Math.min(90,i[3])]:[-180,-90,180,90]}contains(i){const h=Math.pow(2,i.z),p=Math.floor(l.O(this.bounds.getWest())*h),v=Math.floor(l.Q(this.bounds.getNorth())*h),x=Math.ceil(l.O(this.bounds.getEast())*h),F=Math.ceil(l.Q(this.bounds.getSouth())*h);return i.x>=p&&i.x<x&&i.y>=v&&i.y<F}}class Er extends l.E{constructor(i,h,p,v){if(super(),this.id=i,this.dispatcher=p,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,l.e(this,l.M(h,["url","scheme","tileSize","promoteId"])),this._options=l.e({type:"vector"},h),this._collectResourceTiming=h.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(v)}load(){return l._(this,void 0,void 0,(function*(){this._loaded=!1,this.fire(new l.k("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const i=yield Pe(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),i&&(l.e(this,i),i.bounds&&(this.tileBounds=new Nr(i.bounds,this.minzoom,this.maxzoom)),this.fire(new l.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new l.k("data",{dataType:"source",sourceDataType:"content"})))}catch(i){this._tileJSONRequest=null,this.fire(new l.j(i))}}))}loaded(){return this._loaded}hasTile(i){return!this.tileBounds||this.tileBounds.contains(i.canonical)}onAdd(i){this.map=i,this.load()}setSourceProperty(i){this._tileJSONRequest&&this._tileJSONRequest.abort(),i(),this.load()}setTiles(i){return this.setSourceProperty((()=>{this._options.tiles=i})),this}setUrl(i){return this.setSourceProperty((()=>{this.url=i,this._options.url=i})),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}serialize(){return l.e({},this._options)}loadTile(i){return l._(this,void 0,void 0,(function*(){const h=i.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),p={request:this.map._requestManager.transformRequest(h,"Tile"),uid:i.uid,tileID:i.tileID,zoom:i.tileID.overscaledZ,tileSize:this.tileSize*i.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};p.request.collectResourceTiming=this._collectResourceTiming;let v="RT";if(i.actor&&i.state!=="expired"){if(i.state==="loading")return new Promise(((x,F)=>{i.reloadPromise={resolve:x,reject:F}}))}else i.actor=this.dispatcher.getActor(),v="LT";i.abortController=new AbortController;try{const x=yield i.actor.sendAsync({type:v,data:p},i.abortController);if(delete i.abortController,i.aborted)return;this._afterTileLoadWorkerResponse(i,x)}catch(x){if(delete i.abortController,i.aborted)return;if(x&&x.status!==404)throw x;this._afterTileLoadWorkerResponse(i,null)}}))}_afterTileLoadWorkerResponse(i,h){if(h&&h.resourceTiming&&(i.resourceTiming=h.resourceTiming),h&&this.map._refreshExpiredTiles&&i.setExpiryData(h),i.loadVectorData(h,this.map.painter),i.reloadPromise){const p=i.reloadPromise;i.reloadPromise=null,this.loadTile(i).then(p.resolve).catch(p.reject)}}abortTile(i){return l._(this,void 0,void 0,(function*(){i.abortController&&(i.abortController.abort(),delete i.abortController),i.actor&&(yield i.actor.sendAsync({type:"AT",data:{uid:i.uid,type:this.type,source:this.id}}))}))}unloadTile(i){return l._(this,void 0,void 0,(function*(){i.unloadVectorData(),i.actor&&(yield i.actor.sendAsync({type:"RMT",data:{uid:i.uid,type:this.type,source:this.id}}))}))}hasTransition(){return!1}}class Et extends l.E{constructor(i,h,p,v){super(),this.id=i,this.dispatcher=p,this.setEventedParent(v),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=l.e({type:"raster"},h),l.e(this,l.M(h,["url","scheme","tileSize"]))}load(){return l._(this,void 0,void 0,(function*(){this._loaded=!1,this.fire(new l.k("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const i=yield Pe(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,i&&(l.e(this,i),i.bounds&&(this.tileBounds=new Nr(i.bounds,this.minzoom,this.maxzoom)),this.fire(new l.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new l.k("data",{dataType:"source",sourceDataType:"content"})))}catch(i){this._tileJSONRequest=null,this.fire(new l.j(i))}}))}loaded(){return this._loaded}onAdd(i){this.map=i,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}setSourceProperty(i){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null),i(),this.load()}setTiles(i){return this.setSourceProperty((()=>{this._options.tiles=i})),this}setUrl(i){return this.setSourceProperty((()=>{this.url=i,this._options.url=i})),this}serialize(){return l.e({},this._options)}hasTile(i){return!this.tileBounds||this.tileBounds.contains(i.canonical)}loadTile(i){return l._(this,void 0,void 0,(function*(){const h=i.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);i.abortController=new AbortController;try{const p=yield W.getImage(this.map._requestManager.transformRequest(h,"Tile"),i.abortController,this.map._refreshExpiredTiles);if(delete i.abortController,i.aborted)return void(i.state="unloaded");if(p&&p.data){this.map._refreshExpiredTiles&&p.cacheControl&&p.expires&&i.setExpiryData({cacheControl:p.cacheControl,expires:p.expires});const v=this.map.painter.context,x=v.gl,F=p.data;i.texture=this.map.painter.getTileTexture(F.width),i.texture?i.texture.update(F,{useMipmap:!0}):(i.texture=new ie(v,F,x.RGBA,{useMipmap:!0}),i.texture.bind(x.LINEAR,x.CLAMP_TO_EDGE,x.LINEAR_MIPMAP_NEAREST)),i.state="loaded"}}catch(p){if(delete i.abortController,i.aborted)i.state="unloaded";else if(p)throw i.state="errored",p}}))}abortTile(i){return l._(this,void 0,void 0,(function*(){i.abortController&&(i.abortController.abort(),delete i.abortController)}))}unloadTile(i){return l._(this,void 0,void 0,(function*(){i.texture&&this.map.painter.saveTileTexture(i.texture)}))}hasTransition(){return!1}}class nr extends Et{constructor(i,h,p,v){super(i,h,p,v),this.type="raster-dem",this.maxzoom=22,this._options=l.e({type:"raster-dem"},h),this.encoding=h.encoding||"mapbox",this.redFactor=h.redFactor,this.greenFactor=h.greenFactor,this.blueFactor=h.blueFactor,this.baseShift=h.baseShift}loadTile(i){return l._(this,void 0,void 0,(function*(){const h=i.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),p=this.map._requestManager.transformRequest(h,"Tile");i.neighboringTiles=this._getNeighboringTiles(i.tileID),i.abortController=new AbortController;try{const v=yield W.getImage(p,i.abortController,this.map._refreshExpiredTiles);if(delete i.abortController,i.aborted)return void(i.state="unloaded");if(v&&v.data){const x=v.data;this.map._refreshExpiredTiles&&v.cacheControl&&v.expires&&i.setExpiryData({cacheControl:v.cacheControl,expires:v.expires});const F=l.b(x)&&l.U()?x:yield this.readImageNow(x),M={type:this.type,uid:i.uid,source:this.id,rawImageData:F,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};if(!i.actor||i.state==="expired"){i.actor=this.dispatcher.getActor();const k=yield i.actor.sendAsync({type:"LDT",data:M});i.dem=k,i.needsHillshadePrepare=!0,i.needsTerrainPrepare=!0,i.state="loaded"}}}catch(v){if(delete i.abortController,i.aborted)i.state="unloaded";else if(v)throw i.state="errored",v}}))}readImageNow(i){return l._(this,void 0,void 0,(function*(){if(typeof VideoFrame<"u"&&l.V()){const h=i.width+2,p=i.height+2;try{return new l.R({width:h,height:p},yield l.W(i,-1,-1,h,p))}catch{}}return S.getImageData(i,1)}))}_getNeighboringTiles(i){const h=i.canonical,p=Math.pow(2,h.z),v=(h.x-1+p)%p,x=h.x===0?i.wrap-1:i.wrap,F=(h.x+1+p)%p,M=h.x+1===p?i.wrap+1:i.wrap,k={};return k[new l.S(i.overscaledZ,x,h.z,v,h.y).key]={backfilled:!1},k[new l.S(i.overscaledZ,M,h.z,F,h.y).key]={backfilled:!1},h.y>0&&(k[new l.S(i.overscaledZ,x,h.z,v,h.y-1).key]={backfilled:!1},k[new l.S(i.overscaledZ,i.wrap,h.z,h.x,h.y-1).key]={backfilled:!1},k[new l.S(i.overscaledZ,M,h.z,F,h.y-1).key]={backfilled:!1}),h.y+1<p&&(k[new l.S(i.overscaledZ,x,h.z,v,h.y+1).key]={backfilled:!1},k[new l.S(i.overscaledZ,i.wrap,h.z,h.x,h.y+1).key]={backfilled:!1},k[new l.S(i.overscaledZ,M,h.z,F,h.y+1).key]={backfilled:!1}),k}unloadTile(i){return l._(this,void 0,void 0,(function*(){i.demTexture&&this.map.painter.saveTileTexture(i.demTexture),i.fbo&&(i.fbo.destroy(),delete i.fbo),i.dem&&delete i.dem,delete i.neighboringTiles,i.state="unloaded",i.actor&&(yield i.actor.sendAsync({type:"RDT",data:{type:this.type,uid:i.uid,source:this.id}}))}))}}class ur extends l.E{constructor(i,h,p,v){super(),this.id=i,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=p.getActor(),this.setEventedParent(v),this._data=h.data,this._options=l.e({},h),this._collectResourceTiming=h.collectResourceTiming,h.maxzoom!==void 0&&(this.maxzoom=h.maxzoom),h.type&&(this.type=h.type),h.attribution&&(this.attribution=h.attribution),this.promoteId=h.promoteId;const x=l.X/this.tileSize;h.clusterMaxZoom!==void 0&&this.maxzoom<=h.clusterMaxZoom&&l.w(`The maxzoom value "${this.maxzoom}" is expected to be greater than the clusterMaxZoom value "${h.clusterMaxZoom}".`),this.workerOptions=l.e({source:this.id,cluster:h.cluster||!1,geojsonVtOptions:{buffer:(h.buffer!==void 0?h.buffer:128)*x,tolerance:(h.tolerance!==void 0?h.tolerance:.375)*x,extent:l.X,maxZoom:this.maxzoom,lineMetrics:h.lineMetrics||!1,generateId:h.generateId||!1},superclusterOptions:{maxZoom:h.clusterMaxZoom!==void 0?h.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,h.clusterMinPoints||2),extent:l.X,radius:(h.clusterRadius||50)*x,log:!1,generateId:h.generateId||!1},clusterProperties:h.clusterProperties,filter:h.filter},h.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}load(){return l._(this,void 0,void 0,(function*(){yield this._updateWorkerData()}))}onAdd(i){this.map=i,this.load()}setData(i){return this._data=i,this._updateWorkerData(),this}updateData(i){return this._updateWorkerData(i),this}getData(){return l._(this,void 0,void 0,(function*(){const i=l.e({type:this.type},this.workerOptions);return this.actor.sendAsync({type:"GD",data:i})}))}setClusterOptions(i){return this.workerOptions.cluster=i.cluster,i&&(i.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=i.clusterRadius),i.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=i.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(i){return this.actor.sendAsync({type:"GCEZ",data:{type:this.type,clusterId:i,source:this.id}})}getClusterChildren(i){return this.actor.sendAsync({type:"GCC",data:{type:this.type,clusterId:i,source:this.id}})}getClusterLeaves(i,h,p){return this.actor.sendAsync({type:"GCL",data:{type:this.type,source:this.id,clusterId:i,limit:h,offset:p}})}_updateWorkerData(i){return l._(this,void 0,void 0,(function*(){const h=l.e({type:this.type},this.workerOptions);i?h.dataDiff=i:typeof this._data=="string"?(h.request=this.map._requestManager.transformRequest(S.resolveURL(this._data),"Source"),h.request.collectResourceTiming=this._collectResourceTiming):h.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new l.k("dataloading",{dataType:"source"}));try{const p=yield this.actor.sendAsync({type:"LD",data:h});if(this._pendingLoads--,this._removed||p.abandoned)return void this.fire(new l.k("dataabort",{dataType:"source"}));let v=null;p.resourceTiming&&p.resourceTiming[this.id]&&(v=p.resourceTiming[this.id].slice(0));const x={dataType:"source"};this._collectResourceTiming&&v&&v.length>0&&l.e(x,{resourceTiming:v}),this.fire(new l.k("data",Object.assign(Object.assign({},x),{sourceDataType:"metadata"}))),this.fire(new l.k("data",Object.assign(Object.assign({},x),{sourceDataType:"content"})))}catch(p){if(this._pendingLoads--,this._removed)return void this.fire(new l.k("dataabort",{dataType:"source"}));this.fire(new l.j(p))}}))}loaded(){return this._pendingLoads===0}loadTile(i){return l._(this,void 0,void 0,(function*(){const h=i.actor?"RT":"LT";i.actor=this.actor;const p={type:this.type,uid:i.uid,tileID:i.tileID,zoom:i.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};i.abortController=new AbortController;const v=yield this.actor.sendAsync({type:h,data:p},i.abortController);delete i.abortController,i.unloadVectorData(),i.aborted||i.loadVectorData(v,this.map.painter,h==="RT")}))}abortTile(i){return l._(this,void 0,void 0,(function*(){i.abortController&&(i.abortController.abort(),delete i.abortController),i.aborted=!0}))}unloadTile(i){return l._(this,void 0,void 0,(function*(){i.unloadVectorData(),yield this.actor.sendAsync({type:"RMT",data:{uid:i.uid,type:this.type,source:this.id}})}))}onRemove(){this._removed=!0,this.actor.sendAsync({type:"RS",data:{type:this.type,source:this.id}})}serialize(){return l.e({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}}var Tr=l.Y([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class Br extends l.E{constructor(i,h,p,v){super(),this.id=i,this.dispatcher=p,this.coordinates=h.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(v),this.options=h}load(i){return l._(this,void 0,void 0,(function*(){this._loaded=!1,this.fire(new l.k("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=new AbortController;try{const h=yield W.getImage(this.map._requestManager.transformRequest(this.url,"Image"),this._request);this._request=null,this._loaded=!0,h&&h.data&&(this.image=h.data,i&&(this.coordinates=i),this._finishLoading())}catch(h){this._request=null,this._loaded=!0,this.fire(new l.j(h))}}))}loaded(){return this._loaded}updateImage(i){return i.url?(this._request&&(this._request.abort(),this._request=null),this.options.url=i.url,this.load(i.coordinates).finally((()=>{this.texture=null})),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new l.k("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(i){this.map=i,this.load()}onRemove(){this._request&&(this._request.abort(),this._request=null)}setCoordinates(i){this.coordinates=i;const h=i.map(l.Z.fromLngLat);this.tileID=(function(v){let x=1/0,F=1/0,M=-1/0,k=-1/0;for(const J of v)x=Math.min(x,J.x),F=Math.min(F,J.y),M=Math.max(M,J.x),k=Math.max(k,J.y);const Q=Math.max(M-x,k-F),G=Math.max(0,Math.floor(-Math.log(Q)/Math.LN2)),X=Math.pow(2,G);return new l.a1(G,Math.floor((x+M)/2*X),Math.floor((F+k)/2*X))})(h),this.minzoom=this.maxzoom=this.tileID.z;const p=h.map((v=>this.tileID.getTilePoint(v)._round()));return this._boundsArray=new l.$,this._boundsArray.emplaceBack(p[0].x,p[0].y,0,0),this._boundsArray.emplaceBack(p[1].x,p[1].y,l.X,0),this._boundsArray.emplaceBack(p[3].x,p[3].y,0,l.X),this._boundsArray.emplaceBack(p[2].x,p[2].y,l.X,l.X),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new l.k("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const i=this.map.painter.context,h=i.gl;this.boundsBuffer||(this.boundsBuffer=i.createVertexBuffer(this._boundsArray,Tr.members)),this.boundsSegments||(this.boundsSegments=l.a0.simpleSegment(0,0,4,2)),this.texture||(this.texture=new ie(i,this.image,h.RGBA),this.texture.bind(h.LINEAR,h.CLAMP_TO_EDGE));let p=!1;for(const v in this.tiles){const x=this.tiles[v];x.state!=="loaded"&&(x.state="loaded",x.texture=this.texture,p=!0)}p&&this.fire(new l.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}loadTile(i){return l._(this,void 0,void 0,(function*(){this.tileID&&this.tileID.equals(i.tileID.canonical)?(this.tiles[String(i.tileID.wrap)]=i,i.buckets={}):i.state="errored"}))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}class rn extends Br{constructor(i,h,p,v){super(i,h,p,v),this.roundZoom=!0,this.type="video",this.options=h}load(){return l._(this,void 0,void 0,(function*(){this._loaded=!1;const i=this.options;this.urls=[];for(const h of i.urls)this.urls.push(this.map._requestManager.transformRequest(h,"Source").url);try{const h=yield l.a3(this.urls);if(this._loaded=!0,!h)return;this.video=h,this.video.loop=!0,this.video.addEventListener("playing",(()=>{this.map.triggerRepaint()})),this.map&&this.video.play(),this._finishLoading()}catch(h){this.fire(new l.j(h))}}))}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(i){if(this.video){const h=this.video.seekable;i<h.start(0)||i>h.end(0)?this.fire(new l.j(new l.a2(`sources.${this.id}`,null,`Playback for this video can be set only between the ${h.start(0)} and ${h.end(0)}-second mark.`))):this.video.currentTime=i}}getVideo(){return this.video}onAdd(i){this.map||(this.map=i,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const i=this.map.painter.context,h=i.gl;this.boundsBuffer||(this.boundsBuffer=i.createVertexBuffer(this._boundsArray,Tr.members)),this.boundsSegments||(this.boundsSegments=l.a0.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(h.LINEAR,h.CLAMP_TO_EDGE),h.texSubImage2D(h.TEXTURE_2D,0,0,0,h.RGBA,h.UNSIGNED_BYTE,this.video)):(this.texture=new ie(i,this.video,h.RGBA),this.texture.bind(h.LINEAR,h.CLAMP_TO_EDGE));let p=!1;for(const v in this.tiles){const x=this.tiles[v];x.state!=="loaded"&&(x.state="loaded",x.texture=this.texture,p=!0)}p&&this.fire(new l.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class nn extends Br{constructor(i,h,p,v){super(i,h,p,v),h.coordinates?Array.isArray(h.coordinates)&&h.coordinates.length===4&&!h.coordinates.some((x=>!Array.isArray(x)||x.length!==2||x.some((F=>typeof F!="number"))))||this.fire(new l.j(new l.a2(`sources.${i}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new l.j(new l.a2(`sources.${i}`,null,'missing required property "coordinates"'))),h.animate&&typeof h.animate!="boolean"&&this.fire(new l.j(new l.a2(`sources.${i}`,null,'optional "animate" property must be a boolean value'))),h.canvas?typeof h.canvas=="string"||h.canvas instanceof HTMLCanvasElement||this.fire(new l.j(new l.a2(`sources.${i}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new l.j(new l.a2(`sources.${i}`,null,'missing required property "canvas"'))),this.options=h,this.animate=h.animate===void 0||h.animate}load(){return l._(this,void 0,void 0,(function*(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new l.j(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}))}getCanvas(){return this.canvas}onAdd(i){this.map=i,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let i=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,i=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,i=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const h=this.map.painter.context,p=h.gl;this.boundsBuffer||(this.boundsBuffer=h.createVertexBuffer(this._boundsArray,Tr.members)),this.boundsSegments||(this.boundsSegments=l.a0.simpleSegment(0,0,4,2)),this.texture?(i||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new ie(h,this.canvas,p.RGBA,{premultiply:!0});let v=!1;for(const x in this.tiles){const F=this.tiles[x];F.state!=="loaded"&&(F.state="loaded",F.texture=this.texture,v=!0)}v&&this.fire(new l.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const i of[this.canvas.width,this.canvas.height])if(isNaN(i)||i<=0)return!0;return!1}}const Jr={},yn=_=>{switch(_){case"geojson":return ur;case"image":return Br;case"raster":return Et;case"raster-dem":return nr;case"vector":return Er;case"video":return rn;case"canvas":return nn}return Jr[_]},Ft="RTLPluginLoaded";class cr extends l.E{constructor(){super(...arguments),this.status="unavailable",this.url=null,this.dispatcher=It()}_syncState(i){return this.status=i,this.dispatcher.broadcast("SRPS",{pluginStatus:i,pluginURL:this.url}).catch((h=>{throw this.status="error",h}))}getRTLTextPluginStatus(){return this.status}clearRTLTextPlugin(){this.status="unavailable",this.url=null}setRTLTextPlugin(i){return l._(this,arguments,void 0,(function*(h,p=!1){if(this.url)throw new Error("setRTLTextPlugin cannot be called multiple times.");if(this.url=S.resolveURL(h),!this.url)throw new Error(`requested url ${h} is invalid`);if(this.status==="unavailable"){if(!p)return this._requestImport();this.status="deferred",this._syncState(this.status)}else if(this.status==="requested")return this._requestImport()}))}_requestImport(){return l._(this,void 0,void 0,(function*(){yield this._syncState("loading"),this.status="loaded",this.fire(new l.k(Ft))}))}lazyLoad(){this.status==="unavailable"?this.status="requested":this.status==="deferred"&&this._requestImport()}}let Pr=null;function fr(){return Pr||(Pr=new cr),Pr}class ri{constructor(i,h){this.timeAdded=0,this.fadeEndTime=0,this.tileID=i,this.uid=l.a4(),this.uses=0,this.tileSize=h,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(i){const h=i+this.timeAdded;h<this.fadeEndTime||(this.fadeEndTime=h)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(i){this.demTexture&&i.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(i,h,p){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",i){i.featureIndex&&(this.latestFeatureIndex=i.featureIndex,i.rawTileData?(this.latestRawTileData=i.rawTileData,this.latestFeatureIndex.rawTileData=i.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=i.collisionBoxArray,this.buckets=(function(v,x){const F={};if(!x)return F;for(const M of v){const k=M.layerIds.map((Q=>x.getLayer(Q))).filter(Boolean);if(k.length!==0){M.layers=k,M.stateDependentLayerIds&&(M.stateDependentLayers=M.stateDependentLayerIds.map((Q=>k.filter((G=>G.id===Q))[0])));for(const Q of k)F[Q.id]=M}}return F})(i.buckets,h.style),this.hasSymbolBuckets=!1;for(const v in this.buckets){const x=this.buckets[v];if(x instanceof l.a6){if(this.hasSymbolBuckets=!0,!p)break;x.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const v in this.buckets){const x=this.buckets[v];if(x instanceof l.a6&&x.hasRTLText){this.hasRTLText=!0,fr().lazyLoad();break}}this.queryPadding=0;for(const v in this.buckets){const x=this.buckets[v];this.queryPadding=Math.max(this.queryPadding,h.style.getLayer(v).queryRadius(x))}i.imageAtlas&&(this.imageAtlas=i.imageAtlas),i.glyphAtlasImage&&(this.glyphAtlasImage=i.glyphAtlasImage)}else this.collisionBoxArray=new l.a5}unloadVectorData(){for(const i in this.buckets)this.buckets[i].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(i){return this.buckets[i.id]}upload(i){for(const p in this.buckets){const v=this.buckets[p];v.uploadPending()&&v.upload(i)}const h=i.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new ie(i,this.imageAtlas.image,h.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new ie(i,this.glyphAtlasImage,h.ALPHA),this.glyphAtlasImage=null)}prepare(i){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(i,this.imageAtlasTexture)}queryRenderedFeatures(i,h,p,v,x,F,M,k,Q,G){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:v,cameraQueryGeometry:x,scale:F,tileSize:this.tileSize,pixelPosMatrix:G,transform:k,params:M,queryPadding:this.queryPadding*Q},i,h,p):{}}querySourceFeatures(i,h){const p=this.latestFeatureIndex;if(!p||!p.rawTileData)return;const v=p.loadVTLayers(),x=h&&h.sourceLayer?h.sourceLayer:"",F=v._geojsonTileLayer||v[x];if(!F)return;const M=l.a7(h&&h.filter),{z:k,x:Q,y:G}=this.tileID.canonical,X={z:k,x:Q,y:G};for(let J=0;J<F.length;J++){const ee=F.feature(J);if(M.needGeometry){const Ce=l.a8(ee,!0);if(!M.filter(new l.z(this.tileID.overscaledZ),Ce,this.tileID.canonical))continue}else if(!M.filter(new l.z(this.tileID.overscaledZ),ee))continue;const ue=p.getId(ee,x),ge=new l.a9(ee,k,Q,G,ue);ge.tile=X,i.push(ge)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(i){const h=this.expirationTime;if(i.cacheControl){const p=l.aa(i.cacheControl);p["max-age"]&&(this.expirationTime=Date.now()+1e3*p["max-age"])}else i.expires&&(this.expirationTime=new Date(i.expires).getTime());if(this.expirationTime){const p=Date.now();let v=!1;if(this.expirationTime>p)v=!1;else if(h)if(this.expirationTime<h)v=!0;else{const x=this.expirationTime-h;x?this.expirationTime=p+Math.max(x,3e4):v=!0}else v=!0;v?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(i,h){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(i).length===0)return;const p=this.latestFeatureIndex.loadVTLayers();for(const v in this.buckets){if(!h.style.hasLayer(v))continue;const x=this.buckets[v],F=x.layers[0].sourceLayer||"_geojsonTileLayer",M=p[F],k=i[F];if(!M||!k||Object.keys(k).length===0)continue;x.update(k,M,this.imageAtlas&&this.imageAtlas.patternPositions||{});const Q=h&&h.style&&h.style.getLayer(v);Q&&(this.queryPadding=Math.max(this.queryPadding,Q.queryRadius(x)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<S.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(i){this.symbolFadeHoldUntil=S.now()+i}setDependencies(i,h){const p={};for(const v of h)p[v]=!0;this.dependencies[i]=p}hasDependency(i,h){for(const p of i){const v=this.dependencies[p];if(v){for(const x of h)if(v[x])return!0}}return!1}}class Pt{constructor(i,h){this.max=i,this.onRemove=h,this.reset()}reset(){for(const i in this.data)for(const h of this.data[i])h.timeout&&clearTimeout(h.timeout),this.onRemove(h.value);return this.data={},this.order=[],this}add(i,h,p){const v=i.wrapped().key;this.data[v]===void 0&&(this.data[v]=[]);const x={value:h,timeout:void 0};if(p!==void 0&&(x.timeout=setTimeout((()=>{this.remove(i,x)}),p)),this.data[v].push(x),this.order.push(v),this.order.length>this.max){const F=this._getAndRemoveByKey(this.order[0]);F&&this.onRemove(F)}return this}has(i){return i.wrapped().key in this.data}getAndRemove(i){return this.has(i)?this._getAndRemoveByKey(i.wrapped().key):null}_getAndRemoveByKey(i){const h=this.data[i].shift();return h.timeout&&clearTimeout(h.timeout),this.data[i].length===0&&delete this.data[i],this.order.splice(this.order.indexOf(i),1),h.value}getByKey(i){const h=this.data[i];return h?h[0].value:null}get(i){return this.has(i)?this.data[i.wrapped().key][0].value:null}remove(i,h){if(!this.has(i))return this;const p=i.wrapped().key,v=h===void 0?0:this.data[p].indexOf(h),x=this.data[p][v];return this.data[p].splice(v,1),x.timeout&&clearTimeout(x.timeout),this.data[p].length===0&&delete this.data[p],this.onRemove(x.value),this.order.splice(this.order.indexOf(p),1),this}setMaxSize(i){for(this.max=i;this.order.length>this.max;){const h=this._getAndRemoveByKey(this.order[0]);h&&this.onRemove(h)}return this}filter(i){const h=[];for(const p in this.data)for(const v of this.data[p])i(v.value)||h.push(v);for(const p of h)this.remove(p.value.tileID,p)}}class Zt{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(i,h,p){const v=String(h);if(this.stateChanges[i]=this.stateChanges[i]||{},this.stateChanges[i][v]=this.stateChanges[i][v]||{},l.e(this.stateChanges[i][v],p),this.deletedStates[i]===null){this.deletedStates[i]={};for(const x in this.state[i])x!==v&&(this.deletedStates[i][x]=null)}else if(this.deletedStates[i]&&this.deletedStates[i][v]===null){this.deletedStates[i][v]={};for(const x in this.state[i][v])p[x]||(this.deletedStates[i][v][x]=null)}else for(const x in p)this.deletedStates[i]&&this.deletedStates[i][v]&&this.deletedStates[i][v][x]===null&&delete this.deletedStates[i][v][x]}removeFeatureState(i,h,p){if(this.deletedStates[i]===null)return;const v=String(h);if(this.deletedStates[i]=this.deletedStates[i]||{},p&&h!==void 0)this.deletedStates[i][v]!==null&&(this.deletedStates[i][v]=this.deletedStates[i][v]||{},this.deletedStates[i][v][p]=null);else if(h!==void 0)if(this.stateChanges[i]&&this.stateChanges[i][v])for(p in this.deletedStates[i][v]={},this.stateChanges[i][v])this.deletedStates[i][v][p]=null;else this.deletedStates[i][v]=null;else this.deletedStates[i]=null}getState(i,h){const p=String(h),v=l.e({},(this.state[i]||{})[p],(this.stateChanges[i]||{})[p]);if(this.deletedStates[i]===null)return{};if(this.deletedStates[i]){const x=this.deletedStates[i][h];if(x===null)return{};for(const F in x)delete v[F]}return v}initializeTileState(i,h){i.setFeatureState(this.state,h)}coalesceChanges(i,h){const p={};for(const v in this.stateChanges){this.state[v]=this.state[v]||{};const x={};for(const F in this.stateChanges[v])this.state[v][F]||(this.state[v][F]={}),l.e(this.state[v][F],this.stateChanges[v][F]),x[F]=this.state[v][F];p[v]=x}for(const v in this.deletedStates){this.state[v]=this.state[v]||{};const x={};if(this.deletedStates[v]===null)for(const F in this.state[v])x[F]={},this.state[v][F]={};else for(const F in this.deletedStates[v]){if(this.deletedStates[v][F]===null)this.state[v][F]={};else for(const M of Object.keys(this.deletedStates[v][F]))delete this.state[v][F][M];x[F]=this.state[v][F]}p[v]=p[v]||{},l.e(p[v],x)}if(this.stateChanges={},this.deletedStates={},Object.keys(p).length!==0)for(const v in i)i[v].setFeatureState(p,h)}}class qt extends l.E{constructor(i,h,p){super(),this.id=i,this.dispatcher=p,this.on("data",(v=>this._dataHandler(v))),this.on("dataloading",(()=>{this._sourceErrored=!1})),this.on("error",(()=>{this._sourceErrored=this._source.loaded()})),this._source=((v,x,F,M)=>{const k=new(yn(x.type))(v,x,F,M);if(k.id!==v)throw new Error(`Expected Source id to be ${v} instead of ${k.id}`);return k})(i,h,p,this),this._tiles={},this._cache=new Pt(0,(v=>this._unloadTile(v))),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new Zt,this._didEmitContent=!1,this._updated=!1}onAdd(i){this.map=i,this._maxTileCacheSize=i?i._maxTileCacheSize:null,this._maxTileCacheZoomLevels=i?i._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(i)}onRemove(i){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(i)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const i in this._tiles){const h=this._tiles[i];if(h.state!=="loaded"&&h.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const i=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,i&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(i,h,p){return l._(this,void 0,void 0,(function*(){try{yield this._source.loadTile(i),this._tileLoaded(i,h,p)}catch(v){i.state="errored",v.status!==404?this._source.fire(new l.j(v,{tile:i})):this.update(this.transform,this.terrain)}}))}_unloadTile(i){this._source.unloadTile&&this._source.unloadTile(i)}_abortTile(i){this._source.abortTile&&this._source.abortTile(i),this._source.fire(new l.k("dataabort",{tile:i,coord:i.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(i){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const h in this._tiles){const p=this._tiles[h];p.upload(i),p.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map((i=>i.tileID)).sort($r).map((i=>i.key))}getRenderableIds(i){const h=[];for(const p in this._tiles)this._isIdRenderable(p,i)&&h.push(this._tiles[p]);return i?h.sort(((p,v)=>{const x=p.tileID,F=v.tileID,M=new l.P(x.canonical.x,x.canonical.y)._rotate(this.transform.angle),k=new l.P(F.canonical.x,F.canonical.y)._rotate(this.transform.angle);return x.overscaledZ-F.overscaledZ||k.y-M.y||k.x-M.x})).map((p=>p.tileID.key)):h.map((p=>p.tileID)).sort($r).map((p=>p.key))}hasRenderableParent(i){const h=this.findLoadedParent(i,0);return!!h&&this._isIdRenderable(h.tileID.key)}_isIdRenderable(i,h){return this._tiles[i]&&this._tiles[i].hasData()&&!this._coveredTiles[i]&&(h||!this._tiles[i].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const i in this._tiles)this._tiles[i].state!=="errored"&&this._reloadTile(i,"reloading")}}_reloadTile(i,h){return l._(this,void 0,void 0,(function*(){const p=this._tiles[i];p&&(p.state!=="loading"&&(p.state=h),yield this._loadTile(p,i,h))}))}_tileLoaded(i,h,p){i.timeAdded=S.now(),p==="expired"&&(i.refreshedUponExpiration=!0),this._setTileReloadTimer(h,i),this.getSource().type==="raster-dem"&&i.dem&&this._backfillDEM(i),this._state.initializeTileState(i,this.map?this.map.painter:null),i.aborted||this._source.fire(new l.k("data",{dataType:"source",tile:i,coord:i.tileID}))}_backfillDEM(i){const h=this.getRenderableIds();for(let v=0;v<h.length;v++){const x=h[v];if(i.neighboringTiles&&i.neighboringTiles[x]){const F=this.getTileByID(x);p(i,F),p(F,i)}}function p(v,x){v.needsHillshadePrepare=!0,v.needsTerrainPrepare=!0;let F=x.tileID.canonical.x-v.tileID.canonical.x;const M=x.tileID.canonical.y-v.tileID.canonical.y,k=Math.pow(2,v.tileID.canonical.z),Q=x.tileID.key;F===0&&M===0||Math.abs(M)>1||(Math.abs(F)>1&&(Math.abs(F+k)===1?F+=k:Math.abs(F-k)===1&&(F-=k)),x.dem&&v.dem&&(v.dem.backfillBorder(x.dem,F,M),v.neighboringTiles&&v.neighboringTiles[Q]&&(v.neighboringTiles[Q].backfilled=!0)))}}getTile(i){return this.getTileByID(i.key)}getTileByID(i){return this._tiles[i]}_retainLoadedChildren(i,h,p,v){for(const x in this._tiles){let F=this._tiles[x];if(v[x]||!F.hasData()||F.tileID.overscaledZ<=h||F.tileID.overscaledZ>p)continue;let M=F.tileID;for(;F&&F.tileID.overscaledZ>h+1;){const Q=F.tileID.scaledTo(F.tileID.overscaledZ-1);F=this._tiles[Q.key],F&&F.hasData()&&(M=Q)}let k=M;for(;k.overscaledZ>h;)if(k=k.scaledTo(k.overscaledZ-1),i[k.key]){v[M.key]=M;break}}}findLoadedParent(i,h){if(i.key in this._loadedParentTiles){const p=this._loadedParentTiles[i.key];return p&&p.tileID.overscaledZ>=h?p:null}for(let p=i.overscaledZ-1;p>=h;p--){const v=i.scaledTo(p),x=this._getLoadedTile(v);if(x)return x}}findLoadedSibling(i){return this._getLoadedTile(i)}_getLoadedTile(i){const h=this._tiles[i.key];return h&&h.hasData()?h:this._cache.getByKey(i.wrapped().key)}updateCacheSize(i){const h=Math.ceil(i.width/this._source.tileSize)+1,p=Math.ceil(i.height/this._source.tileSize)+1,v=Math.floor(h*p*(this._maxTileCacheZoomLevels===null?l.a.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),x=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,v):v;this._cache.setMaxSize(x)}handleWrapJump(i){const h=Math.round((i-(this._prevLng===void 0?i:this._prevLng))/360);if(this._prevLng=i,h){const p={};for(const v in this._tiles){const x=this._tiles[v];x.tileID=x.tileID.unwrapTo(x.tileID.wrap+h),p[x.tileID.key]=x}this._tiles=p;for(const v in this._timers)clearTimeout(this._timers[v]),delete this._timers[v];for(const v in this._tiles)this._setTileReloadTimer(v,this._tiles[v])}}_updateCoveredAndRetainedTiles(i,h,p,v,x,F){const M={},k={},Q=Object.keys(i),G=S.now();for(const X of Q){const J=i[X],ee=this._tiles[X];if(!ee||ee.fadeEndTime!==0&&ee.fadeEndTime<=G)continue;const ue=this.findLoadedParent(J,h),ge=this.findLoadedSibling(J),Ce=ue||ge||null;Ce&&(this._addTile(Ce.tileID),M[Ce.tileID.key]=Ce.tileID),k[X]=J}this._retainLoadedChildren(k,v,p,i);for(const X in M)i[X]||(this._coveredTiles[X]=!0,i[X]=M[X]);if(F){const X={},J={};for(const ee of x)this._tiles[ee.key].hasData()?X[ee.key]=ee:J[ee.key]=ee;for(const ee in J){const ue=J[ee].children(this._source.maxzoom);this._tiles[ue[0].key]&&this._tiles[ue[1].key]&&this._tiles[ue[2].key]&&this._tiles[ue[3].key]&&(X[ue[0].key]=i[ue[0].key]=ue[0],X[ue[1].key]=i[ue[1].key]=ue[1],X[ue[2].key]=i[ue[2].key]=ue[2],X[ue[3].key]=i[ue[3].key]=ue[3],delete J[ee])}for(const ee in J){const ue=J[ee],ge=this.findLoadedParent(ue,this._source.minzoom),Ce=this.findLoadedSibling(ue),xe=ge||Ce||null;if(xe){X[xe.tileID.key]=i[xe.tileID.key]=xe.tileID;for(const Oe in X)X[Oe].isChildOf(xe.tileID)&&delete X[Oe]}}for(const ee in this._tiles)X[ee]||(this._coveredTiles[ee]=!0)}}update(i,h){if(!this._sourceLoaded||this._paused)return;let p;this.transform=i,this.terrain=h,this.updateCacheSize(i),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?p=i.getVisibleUnwrappedCoordinates(this._source.tileID).map((G=>new l.S(G.canonical.z,G.wrap,G.canonical.z,G.canonical.x,G.canonical.y))):(p=i.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:h}),this._source.hasTile&&(p=p.filter((G=>this._source.hasTile(G))))):p=[];const v=i.coveringZoomLevel(this._source),x=Math.max(v-qt.maxOverzooming,this._source.minzoom),F=Math.max(v+qt.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const G={};for(const X of p)if(X.canonical.z>this._source.minzoom){const J=X.scaledTo(X.canonical.z-1);G[J.key]=J;const ee=X.scaledTo(Math.max(this._source.minzoom,Math.min(X.canonical.z,5)));G[ee.key]=ee}p=p.concat(Object.values(G))}const M=p.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,M&&this.fire(new l.k("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const k=this._updateRetainedTiles(p,v);_r(this._source.type)&&this._updateCoveredAndRetainedTiles(k,x,F,v,p,h);for(const G in k)this._tiles[G].clearFadeHold();const Q=l.ab(this._tiles,k);for(const G of Q){const X=this._tiles[G];X.hasSymbolBuckets&&!X.holdingForFade()?X.setHoldDuration(this.map._fadeDuration):X.hasSymbolBuckets&&!X.symbolFadeFinished()||this._removeTile(G)}this._updateLoadedParentTileCache(),this._updateLoadedSiblingTileCache()}releaseSymbolFadeTiles(){for(const i in this._tiles)this._tiles[i].holdingForFade()&&this._removeTile(i)}_updateRetainedTiles(i,h){var p;const v={},x={},F=Math.max(h-qt.maxOverzooming,this._source.minzoom),M=Math.max(h+qt.maxUnderzooming,this._source.minzoom),k={};for(const Q of i){const G=this._addTile(Q);v[Q.key]=Q,G.hasData()||h<this._source.maxzoom&&(k[Q.key]=Q)}this._retainLoadedChildren(k,h,M,v);for(const Q of i){let G=this._tiles[Q.key];if(G.hasData())continue;if(h+1>this._source.maxzoom){const J=Q.children(this._source.maxzoom)[0],ee=this.getTile(J);if(ee&&ee.hasData()){v[J.key]=J;continue}}else{const J=Q.children(this._source.maxzoom);if(v[J[0].key]&&v[J[1].key]&&v[J[2].key]&&v[J[3].key])continue}let X=G.wasRequested();for(let J=Q.overscaledZ-1;J>=F;--J){const ee=Q.scaledTo(J);if(x[ee.key])break;if(x[ee.key]=!0,G=this.getTile(ee),!G&&X&&(G=this._addTile(ee)),G){const ue=G.hasData();if((ue||!(!((p=this.map)===null||p===void 0)&&p.cancelPendingTileRequestsWhileZooming)||X)&&(v[ee.key]=ee),X=G.wasRequested(),ue)break}}}return v}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const i in this._tiles){const h=[];let p,v=this._tiles[i].tileID;for(;v.overscaledZ>0;){if(v.key in this._loadedParentTiles){p=this._loadedParentTiles[v.key];break}h.push(v.key);const x=v.scaledTo(v.overscaledZ-1);if(p=this._getLoadedTile(x),p)break;v=x}for(const x of h)this._loadedParentTiles[x]=p}}_updateLoadedSiblingTileCache(){this._loadedSiblingTiles={};for(const i in this._tiles){const h=this._tiles[i].tileID,p=this._getLoadedTile(h);this._loadedSiblingTiles[h.key]=p}}_addTile(i){let h=this._tiles[i.key];if(h)return h;h=this._cache.getAndRemove(i),h&&(this._setTileReloadTimer(i.key,h),h.tileID=i,this._state.initializeTileState(h,this.map?this.map.painter:null),this._cacheTimers[i.key]&&(clearTimeout(this._cacheTimers[i.key]),delete this._cacheTimers[i.key],this._setTileReloadTimer(i.key,h)));const p=h;return h||(h=new ri(i,this._source.tileSize*i.overscaleFactor()),this._loadTile(h,i.key,h.state)),h.uses++,this._tiles[i.key]=h,p||this._source.fire(new l.k("dataloading",{tile:h,coord:h.tileID,dataType:"source"})),h}_setTileReloadTimer(i,h){i in this._timers&&(clearTimeout(this._timers[i]),delete this._timers[i]);const p=h.getExpiryTimeout();p&&(this._timers[i]=setTimeout((()=>{this._reloadTile(i,"expired"),delete this._timers[i]}),p))}_removeTile(i){const h=this._tiles[i];h&&(h.uses--,delete this._tiles[i],this._timers[i]&&(clearTimeout(this._timers[i]),delete this._timers[i]),h.uses>0||(h.hasData()&&h.state!=="reloading"?this._cache.add(h.tileID,h,h.getExpiryTimeout()):(h.aborted=!0,this._abortTile(h),this._unloadTile(h))))}_dataHandler(i){const h=i.sourceDataType;i.dataType==="source"&&h==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&i.dataType==="source"&&h==="content"&&(this.reload(),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const i in this._tiles)this._removeTile(i);this._cache.reset()}tilesIn(i,h,p){const v=[],x=this.transform;if(!x)return v;const F=p?x.getCameraQueryGeometry(i):i,M=i.map((ue=>x.pointCoordinate(ue,this.terrain))),k=F.map((ue=>x.pointCoordinate(ue,this.terrain))),Q=this.getIds();let G=1/0,X=1/0,J=-1/0,ee=-1/0;for(const ue of k)G=Math.min(G,ue.x),X=Math.min(X,ue.y),J=Math.max(J,ue.x),ee=Math.max(ee,ue.y);for(let ue=0;ue<Q.length;ue++){const ge=this._tiles[Q[ue]];if(ge.holdingForFade())continue;const Ce=ge.tileID,xe=Math.pow(2,x.zoom-ge.tileID.overscaledZ),Oe=h*ge.queryPadding*l.X/ge.tileSize/xe,Ee=[Ce.getTilePoint(new l.Z(G,X)),Ce.getTilePoint(new l.Z(J,ee))];if(Ee[0].x-Oe<l.X&&Ee[0].y-Oe<l.X&&Ee[1].x+Oe>=0&&Ee[1].y+Oe>=0){const qe=M.map((it=>Ce.getTilePoint(it))),Ke=k.map((it=>Ce.getTilePoint(it)));v.push({tile:ge,tileID:Ce,queryGeometry:qe,cameraQueryGeometry:Ke,scale:xe})}}return v}getVisibleCoordinates(i){const h=this.getRenderableIds(i).map((p=>this._tiles[p].tileID));for(const p of h)p.posMatrix=this.transform.calculatePosMatrix(p.toUnwrapped());return h}hasTransition(){if(this._source.hasTransition())return!0;if(_r(this._source.type)){const i=S.now();for(const h in this._tiles)if(this._tiles[h].fadeEndTime>=i)return!0}return!1}setFeatureState(i,h,p){this._state.updateState(i=i||"_geojsonTileLayer",h,p)}removeFeatureState(i,h,p){this._state.removeFeatureState(i=i||"_geojsonTileLayer",h,p)}getFeatureState(i,h){return this._state.getState(i=i||"_geojsonTileLayer",h)}setDependencies(i,h,p){const v=this._tiles[i];v&&v.setDependencies(h,p)}reloadTilesForDependencies(i,h){for(const p in this._tiles)this._tiles[p].hasDependency(i,h)&&this._reloadTile(p,"reloading");this._cache.filter((p=>!p.hasDependency(i,h)))}}function $r(_,i){const h=Math.abs(2*_.wrap)-+(_.wrap<0),p=Math.abs(2*i.wrap)-+(i.wrap<0);return _.overscaledZ-i.overscaledZ||p-h||i.canonical.y-_.canonical.y||i.canonical.x-_.canonical.x}function _r(_){return _==="raster"||_==="image"||_==="video"}qt.maxOverzooming=10,qt.maxUnderzooming=3;class sr{constructor(i,h){this.reset(i,h)}reset(i,h){this.points=i||[],this._distances=[0];for(let p=1;p<this.points.length;p++)this._distances[p]=this._distances[p-1]+this.points[p].dist(this.points[p-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(h||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(i){if(this.points.length===1)return this.points[0];i=l.ac(i,0,1);let h=1,p=this._distances[h];const v=i*this.paddedLength+this.padding;for(;p<v&&h<this._distances.length;)p=this._distances[++h];const x=h-1,F=this._distances[x],M=p-F,k=M>0?(v-F)/M:0;return this.points[x].mult(1-k).add(this.points[h].mult(k))}}function Ur(_,i){let h=!0;return _==="always"||_!=="never"&&i!=="never"||(h=!1),h}class Rr{constructor(i,h,p){const v=this.boxCells=[],x=this.circleCells=[];this.xCellCount=Math.ceil(i/p),this.yCellCount=Math.ceil(h/p);for(let F=0;F<this.xCellCount*this.yCellCount;F++)v.push([]),x.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=i,this.height=h,this.xScale=this.xCellCount/i,this.yScale=this.yCellCount/h,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(i,h,p,v,x){this._forEachCell(h,p,v,x,this._insertBoxCell,this.boxUid++),this.boxKeys.push(i),this.bboxes.push(h),this.bboxes.push(p),this.bboxes.push(v),this.bboxes.push(x)}insertCircle(i,h,p,v){this._forEachCell(h-v,p-v,h+v,p+v,this._insertCircleCell,this.circleUid++),this.circleKeys.push(i),this.circles.push(h),this.circles.push(p),this.circles.push(v)}_insertBoxCell(i,h,p,v,x,F){this.boxCells[x].push(F)}_insertCircleCell(i,h,p,v,x,F){this.circleCells[x].push(F)}_query(i,h,p,v,x,F,M){if(p<0||i>this.width||v<0||h>this.height)return[];const k=[];if(i<=0&&h<=0&&this.width<=p&&this.height<=v){if(x)return[{key:null,x1:i,y1:h,x2:p,y2:v}];for(let Q=0;Q<this.boxKeys.length;Q++)k.push({key:this.boxKeys[Q],x1:this.bboxes[4*Q],y1:this.bboxes[4*Q+1],x2:this.bboxes[4*Q+2],y2:this.bboxes[4*Q+3]});for(let Q=0;Q<this.circleKeys.length;Q++){const G=this.circles[3*Q],X=this.circles[3*Q+1],J=this.circles[3*Q+2];k.push({key:this.circleKeys[Q],x1:G-J,y1:X-J,x2:G+J,y2:X+J})}}else this._forEachCell(i,h,p,v,this._queryCell,k,{hitTest:x,overlapMode:F,seenUids:{box:{},circle:{}}},M);return k}query(i,h,p,v){return this._query(i,h,p,v,!1,null)}hitTest(i,h,p,v,x,F){return this._query(i,h,p,v,!0,x,F).length>0}hitTestCircle(i,h,p,v,x){const F=i-p,M=i+p,k=h-p,Q=h+p;if(M<0||F>this.width||Q<0||k>this.height)return!1;const G=[];return this._forEachCell(F,k,M,Q,this._queryCellCircle,G,{hitTest:!0,overlapMode:v,circle:{x:i,y:h,radius:p},seenUids:{box:{},circle:{}}},x),G.length>0}_queryCell(i,h,p,v,x,F,M,k){const{seenUids:Q,hitTest:G,overlapMode:X}=M,J=this.boxCells[x];if(J!==null){const ue=this.bboxes;for(const ge of J)if(!Q.box[ge]){Q.box[ge]=!0;const Ce=4*ge,xe=this.boxKeys[ge];if(i<=ue[Ce+2]&&h<=ue[Ce+3]&&p>=ue[Ce+0]&&v>=ue[Ce+1]&&(!k||k(xe))&&(!G||!Ur(X,xe.overlapMode))&&(F.push({key:xe,x1:ue[Ce],y1:ue[Ce+1],x2:ue[Ce+2],y2:ue[Ce+3]}),G))return!0}}const ee=this.circleCells[x];if(ee!==null){const ue=this.circles;for(const ge of ee)if(!Q.circle[ge]){Q.circle[ge]=!0;const Ce=3*ge,xe=this.circleKeys[ge];if(this._circleAndRectCollide(ue[Ce],ue[Ce+1],ue[Ce+2],i,h,p,v)&&(!k||k(xe))&&(!G||!Ur(X,xe.overlapMode))){const Oe=ue[Ce],Ee=ue[Ce+1],qe=ue[Ce+2];if(F.push({key:xe,x1:Oe-qe,y1:Ee-qe,x2:Oe+qe,y2:Ee+qe}),G)return!0}}}return!1}_queryCellCircle(i,h,p,v,x,F,M,k){const{circle:Q,seenUids:G,overlapMode:X}=M,J=this.boxCells[x];if(J!==null){const ue=this.bboxes;for(const ge of J)if(!G.box[ge]){G.box[ge]=!0;const Ce=4*ge,xe=this.boxKeys[ge];if(this._circleAndRectCollide(Q.x,Q.y,Q.radius,ue[Ce+0],ue[Ce+1],ue[Ce+2],ue[Ce+3])&&(!k||k(xe))&&!Ur(X,xe.overlapMode))return F.push(!0),!0}}const ee=this.circleCells[x];if(ee!==null){const ue=this.circles;for(const ge of ee)if(!G.circle[ge]){G.circle[ge]=!0;const Ce=3*ge,xe=this.circleKeys[ge];if(this._circlesCollide(ue[Ce],ue[Ce+1],ue[Ce+2],Q.x,Q.y,Q.radius)&&(!k||k(xe))&&!Ur(X,xe.overlapMode))return F.push(!0),!0}}}_forEachCell(i,h,p,v,x,F,M,k){const Q=this._convertToXCellCoord(i),G=this._convertToYCellCoord(h),X=this._convertToXCellCoord(p),J=this._convertToYCellCoord(v);for(let ee=Q;ee<=X;ee++)for(let ue=G;ue<=J;ue++)if(x.call(this,i,h,p,v,this.xCellCount*ue+ee,F,M,k))return}_convertToXCellCoord(i){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(i*this.xScale)))}_convertToYCellCoord(i){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(i*this.yScale)))}_circlesCollide(i,h,p,v,x,F){const M=v-i,k=x-h,Q=p+F;return Q*Q>M*M+k*k}_circleAndRectCollide(i,h,p,v,x,F,M){const k=(F-v)/2,Q=Math.abs(i-(v+k));if(Q>k+p)return!1;const G=(M-x)/2,X=Math.abs(h-(x+G));if(X>G+p)return!1;if(Q<=k||X<=G)return!0;const J=Q-k,ee=X-G;return J*J+ee*ee<=p*p}}function kn(_,i,h,p,v){const x=l.H();return i?(l.K(x,x,[1/v,1/v,1]),h||l.ad(x,x,p.angle)):l.L(x,p.labelPlaneMatrix,_),x}function Gr(_,i,h,p,v){if(i){const x=l.ae(_);return l.K(x,x,[v,v,1]),h||l.ad(x,x,-p.angle),x}return p.glCoordMatrix}function Me(_,i,h,p){let v;p?(v=[_,i,p(_,i),1],l.af(v,v,h)):(v=[_,i,0,1],Zr(v,v,h));const x=v[3];return{point:new l.P(v[0]/x,v[1]/x),signedDistanceFromCamera:x,isOccluded:!1}}function oe(_,i){return .5+_/i*.5}function Ae(_,i){return _.x>=-i[0]&&_.x<=i[0]&&_.y>=-i[1]&&_.y<=i[1]}function be(_,i,h,p,v,x,F,M,k,Q,G,X,J,ee,ue){const ge=p?_.textSizeData:_.iconSizeData,Ce=l.ag(ge,h.transform.zoom),xe=[256/h.width*2+1,256/h.height*2+1],Oe=p?_.text.dynamicLayoutVertexArray:_.icon.dynamicLayoutVertexArray;Oe.clear();const Ee=_.lineVertexArray,qe=p?_.text.placedSymbolArray:_.icon.placedSymbolArray,Ke=h.transform.width/h.transform.height;let it=!1;for(let bt=0;bt<qe.length;bt++){const Ct=qe.get(bt);if(Ct.hidden||Ct.writingMode===l.ah.vertical&&!it){dr(Ct.numGlyphs,Oe);continue}it=!1;const yt=Me(Ct.anchorX,Ct.anchorY,i,ue);if(!Ae(yt.point,xe)){dr(Ct.numGlyphs,Oe);continue}const pt=oe(h.transform.cameraToCenterDistance,yt.signedDistanceFromCamera),Qt=l.ai(ge,Ce,Ct),St=F?Qt/pt:Qt*pt,zt={getElevation:ue,labelPlaneMatrix:v,lineVertexArray:Ee,pitchWithMap:F,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},projection:Q,tileAnchorPoint:new l.P(Ct.anchorX,Ct.anchorY),unwrappedTileID:G,width:X,height:J,translation:ee},tr=je(zt,Ct,St,!1,M,i,x,_.glyphOffsetArray,Oe,Ke,k);it=tr.useVertical,(tr.notEnoughRoom||it||tr.needsFlipping&&je(zt,Ct,St,!0,M,i,x,_.glyphOffsetArray,Oe,Ke,k).notEnoughRoom)&&dr(Ct.numGlyphs,Oe)}p?_.text.dynamicLayoutVertexBuffer.updateData(Oe):_.icon.dynamicLayoutVertexBuffer.updateData(Oe)}function ke(_,i,h,p,v,x,F,M){const k=x.glyphStartIndex+x.numGlyphs,Q=x.lineStartIndex,G=x.lineStartIndex+x.lineLength,X=i.getoffsetX(x.glyphStartIndex),J=i.getoffsetX(k-1),ee=Nt(_*X,h,p,v,x.segment,Q,G,M,F);if(!ee)return null;const ue=Nt(_*J,h,p,v,x.segment,Q,G,M,F);return ue?M.projectionCache.anyProjectionOccluded?null:{first:ee,last:ue}:null}function Ye(_,i,h,p){return _===l.ah.horizontal&&Math.abs(h.y-i.y)>Math.abs(h.x-i.x)*p?{useVertical:!0}:(_===l.ah.vertical?i.y<h.y:i.x>h.x)?{needsFlipping:!0}:null}function je(_,i,h,p,v,x,F,M,k,Q,G){const X=h/24,J=i.lineOffsetX*X,ee=i.lineOffsetY*X;let ue;if(i.numGlyphs>1){const ge=i.glyphStartIndex+i.numGlyphs,Ce=i.lineStartIndex,xe=i.lineStartIndex+i.lineLength,Oe=ke(X,M,J,ee,p,i,G,_);if(!Oe)return{notEnoughRoom:!0};const Ee=Me(Oe.first.point.x,Oe.first.point.y,F,_.getElevation).point,qe=Me(Oe.last.point.x,Oe.last.point.y,F,_.getElevation).point;if(v&&!p){const Ke=Ye(i.writingMode,Ee,qe,Q);if(Ke)return Ke}ue=[Oe.first];for(let Ke=i.glyphStartIndex+1;Ke<ge-1;Ke++)ue.push(Nt(X*M.getoffsetX(Ke),J,ee,p,i.segment,Ce,xe,_,G));ue.push(Oe.last)}else{if(v&&!p){const Ce=Me(_.tileAnchorPoint.x,_.tileAnchorPoint.y,x,_.getElevation).point,xe=i.lineStartIndex+i.segment+1,Oe=new l.P(_.lineVertexArray.getx(xe),_.lineVertexArray.gety(xe)),Ee=Me(Oe.x,Oe.y,x,_.getElevation),qe=Ee.signedDistanceFromCamera>0?Ee.point:(function(it,bt,Ct,yt,pt,Qt){return st(it,bt,Ct,1,pt,Qt)})(_.tileAnchorPoint,Oe,Ce,0,x,_),Ke=Ye(i.writingMode,Ce,qe,Q);if(Ke)return Ke}const ge=Nt(X*M.getoffsetX(i.glyphStartIndex),J,ee,p,i.segment,i.lineStartIndex,i.lineStartIndex+i.lineLength,_,G);if(!ge||_.projectionCache.anyProjectionOccluded)return{notEnoughRoom:!0};ue=[ge]}for(const ge of ue)l.aj(k,ge.point,ge.angle);return{}}function st(_,i,h,p,v,x){const F=_.add(_.sub(i)._unit()),M=v!==void 0?Me(F.x,F.y,v,x.getElevation).point:gt(F.x,F.y,x).point,k=h.sub(M);return h.add(k._mult(p/k.mag()))}function $e(_,i,h){const p=i.projectionCache;if(p.projections[_])return p.projections[_];const v=new l.P(i.lineVertexArray.getx(_),i.lineVertexArray.gety(_)),x=gt(v.x,v.y,i);if(x.signedDistanceFromCamera>0)return p.projections[_]=x.point,p.anyProjectionOccluded=p.anyProjectionOccluded||x.isOccluded,x.point;const F=_-h.direction;return(function(M,k,Q,G,X){return st(M,k,Q,G,void 0,X)})(h.distanceFromAnchor===0?i.tileAnchorPoint:new l.P(i.lineVertexArray.getx(F),i.lineVertexArray.gety(F)),v,h.previousVertex,h.absOffsetX-h.distanceFromAnchor+1,i)}function gt(_,i,h){const p=_+h.translation[0],v=i+h.translation[1];let x;return!h.pitchWithMap&&h.projection.useSpecialProjectionForSymbols?(x=h.projection.projectTileCoordinates(p,v,h.unwrappedTileID,h.getElevation),x.point.x=(.5*x.point.x+.5)*h.width,x.point.y=(.5*-x.point.y+.5)*h.height):(x=Me(p,v,h.labelPlaneMatrix,h.getElevation),x.isOccluded=!1),x}function Lt(_,i,h){return _._unit()._perp()._mult(i*h)}function ut(_,i,h,p,v,x,F,M,k){if(M.projectionCache.offsets[_])return M.projectionCache.offsets[_];const Q=h.add(i);if(_+k.direction<p||_+k.direction>=v)return M.projectionCache.offsets[_]=Q,Q;const G=$e(_+k.direction,M,k),X=Lt(G.sub(h),F,k.direction),J=h.add(X),ee=G.add(X);return M.projectionCache.offsets[_]=l.ak(x,Q,J,ee)||Q,M.projectionCache.offsets[_]}function Nt(_,i,h,p,v,x,F,M,k){const Q=p?_-i:_+i;let G=Q>0?1:-1,X=0;p&&(G*=-1,X=Math.PI),G<0&&(X+=Math.PI);let J,ee=G>0?x+v:x+v+1;M.projectionCache.cachedAnchorPoint?J=M.projectionCache.cachedAnchorPoint:(J=gt(M.tileAnchorPoint.x,M.tileAnchorPoint.y,M).point,M.projectionCache.cachedAnchorPoint=J);let ue,ge,Ce=J,xe=J,Oe=0,Ee=0;const qe=Math.abs(Q),Ke=[];let it;for(;Oe+Ee<=qe;){if(ee+=G,ee<x||ee>=F)return null;Oe+=Ee,xe=Ce,ge=ue;const yt={absOffsetX:qe,direction:G,distanceFromAnchor:Oe,previousVertex:xe};if(Ce=$e(ee,M,yt),h===0)Ke.push(xe),it=Ce.sub(xe);else{let pt;const Qt=Ce.sub(xe);pt=Qt.mag()===0?Lt($e(ee+G,M,yt).sub(Ce),h,G):Lt(Qt,h,G),ge||(ge=xe.add(pt)),ue=ut(ee,pt,Ce,x,F,ge,h,M,yt),Ke.push(ge),it=ue.sub(ge)}Ee=it.mag()}const bt=it._mult((qe-Oe)/Ee)._add(ge||xe),Ct=X+Math.atan2(Ce.y-xe.y,Ce.x-xe.x);return Ke.push(bt),{point:bt,angle:k?Ct:0,path:Ke}}const Jt=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function dr(_,i){for(let h=0;h<_;h++){const p=i.length;i.resize(p+4),i.float32.set(Jt,3*p)}}function Zr(_,i,h){const p=i[0],v=i[1];return _[0]=h[0]*p+h[4]*v+h[12],_[1]=h[1]*p+h[5]*v+h[13],_[3]=h[3]*p+h[7]*v+h[15],_}const or=100;class Or{constructor(i,h,p=new Rr(i.width+200,i.height+200,25),v=new Rr(i.width+200,i.height+200,25)){this.transform=i,this.mapProjection=h,this.grid=p,this.ignoredGrid=v,this.pitchFactor=Math.cos(i._pitch)*i.cameraToCenterDistance,this.screenRightBoundary=i.width+or,this.screenBottomBoundary=i.height+or,this.gridRightBoundary=i.width+200,this.gridBottomBoundary=i.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(i,h,p,v,x,F,M,k,Q,G,X){const J=i.anchorPointX+k[0],ee=i.anchorPointY+k[1],ue=this.projectAndGetPerspectiveRatio(v,J,ee,x,G),ge=p*ue.perspectiveRatio;let Ce;if(F||M)Ce=this._projectCollisionBox(i,ge,v,x,F,M,k,ue,G,X);else{const Ke=ue.point.x+(X?X.x*ge:0),it=ue.point.y+(X?X.y*ge:0);Ce={allPointsOccluded:!1,box:[Ke+i.x1*ge,it+i.y1*ge,Ke+i.x2*ge,it+i.y2*ge]}}const[xe,Oe,Ee,qe]=Ce.box;return this.mapProjection.useSpecialProjectionForSymbols&&(F?Ce.allPointsOccluded:this.mapProjection.isOccluded(J,ee,x))||ue.perspectiveRatio<this.perspectiveRatioCutoff||!this.isInsideGrid(xe,Oe,Ee,qe)||h!=="always"&&this.grid.hitTest(xe,Oe,Ee,qe,h,Q)?{box:[xe,Oe,Ee,qe],placeable:!1,offscreen:!1}:{box:[xe,Oe,Ee,qe],placeable:!0,offscreen:this.isOffscreen(xe,Oe,Ee,qe)}}placeCollisionCircles(i,h,p,v,x,F,M,k,Q,G,X,J,ee,ue,ge,Ce){const xe=[],Oe=new l.P(h.anchorX,h.anchorY),Ee=this.getPerspectiveRatio(F,Oe.x,Oe.y,M,Ce),qe=(X?x/Ee:x*Ee)/l.ap,Ke={getElevation:Ce,labelPlaneMatrix:k,lineVertexArray:p,pitchWithMap:X,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},projection:this.mapProjection,tileAnchorPoint:Oe,unwrappedTileID:M,width:this.transform.width,height:this.transform.height,translation:ge},it=ke(qe,v,h.lineOffsetX*qe,h.lineOffsetY*qe,!1,h,!1,Ke);let bt=!1,Ct=!1,yt=!0;if(it){const pt=.5*ee*Ee+ue,Qt=new l.P(-100,-100),St=new l.P(this.screenRightBoundary,this.screenBottomBoundary),zt=new sr,tr=it.first,Vt=it.last;let Gt=[];for(let Ir=tr.path.length-1;Ir>=1;Ir--)Gt.push(tr.path[Ir]);for(let Ir=1;Ir<Vt.path.length;Ir++)Gt.push(Vt.path[Ir]);const rr=2.5*pt;if(Q){const Ir=this.projectPathToScreenSpace(Gt,Ke,Q);Gt=Ir.some((Lr=>Lr.signedDistanceFromCamera<=0))?[]:Ir.map((Lr=>Lr.point))}let un=[];if(Gt.length>0){const Ir=Gt[0].clone(),Lr=Gt[0].clone();for(let br=1;br<Gt.length;br++)Ir.x=Math.min(Ir.x,Gt[br].x),Ir.y=Math.min(Ir.y,Gt[br].y),Lr.x=Math.max(Lr.x,Gt[br].x),Lr.y=Math.max(Lr.y,Gt[br].y);un=Ir.x>=Qt.x&&Lr.x<=St.x&&Ir.y>=Qt.y&&Lr.y<=St.y?[Gt]:Lr.x<Qt.x||Ir.x>St.x||Lr.y<Qt.y||Ir.y>St.y?[]:l.al([Gt],Qt.x,Qt.y,St.x,St.y)}for(const Ir of un){zt.reset(Ir,.25*pt);let Lr=0;Lr=zt.length<=.5*pt?1:Math.ceil(zt.paddedLength/rr)+1;for(let br=0;br<Lr;br++){const an=br/Math.max(Lr-1,1),Hn=zt.lerp(an),Dr=Hn.x+or,qn=Hn.y+or;xe.push(Dr,qn,pt,0);const In=Dr-pt,sn=qn-pt,On=Dr+pt,Cn=qn+pt;if(yt=yt&&this.isOffscreen(In,sn,On,Cn),Ct=Ct||this.isInsideGrid(In,sn,On,Cn),i!=="always"&&this.grid.hitTestCircle(Dr,qn,pt,i,J)&&(bt=!0,!G))return{circles:[],offscreen:!1,collisionDetected:bt}}}}return{circles:!G&&bt||!Ct||Ee<this.perspectiveRatioCutoff?[]:xe,offscreen:yt,collisionDetected:bt}}projectPathToScreenSpace(i,h,p){return i.map((v=>Me(v.x,v.y,p,h.getElevation)))}queryRenderedSymbols(i){if(i.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const h=[];let p=1/0,v=1/0,x=-1/0,F=-1/0;for(const G of i){const X=new l.P(G.x+or,G.y+or);p=Math.min(p,X.x),v=Math.min(v,X.y),x=Math.max(x,X.x),F=Math.max(F,X.y),h.push(X)}const M=this.grid.query(p,v,x,F).concat(this.ignoredGrid.query(p,v,x,F)),k={},Q={};for(const G of M){const X=G.key;if(k[X.bucketInstanceId]===void 0&&(k[X.bucketInstanceId]={}),k[X.bucketInstanceId][X.featureIndex])continue;const J=[new l.P(G.x1,G.y1),new l.P(G.x2,G.y1),new l.P(G.x2,G.y2),new l.P(G.x1,G.y2)];l.am(h,J)&&(k[X.bucketInstanceId][X.featureIndex]=!0,Q[X.bucketInstanceId]===void 0&&(Q[X.bucketInstanceId]=[]),Q[X.bucketInstanceId].push(X.featureIndex))}return Q}insertCollisionBox(i,h,p,v,x,F){(p?this.ignoredGrid:this.grid).insert({bucketInstanceId:v,featureIndex:x,collisionGroupID:F,overlapMode:h},i[0],i[1],i[2],i[3])}insertCollisionCircles(i,h,p,v,x,F){const M=p?this.ignoredGrid:this.grid,k={bucketInstanceId:v,featureIndex:x,collisionGroupID:F,overlapMode:h};for(let Q=0;Q<i.length;Q+=4)M.insertCircle(k,i[Q],i[Q+1],i[Q+2])}projectAndGetPerspectiveRatio(i,h,p,v,x){let F;x?(F=[h,p,x(h,p),1],l.af(F,F,i)):(F=[h,p,0,1],Zr(F,F,i));const M=F[3];return{point:new l.P((F[0]/M+1)/2*this.transform.width+or,(-F[1]/M+1)/2*this.transform.height+or),perspectiveRatio:.5+this.transform.cameraToCenterDistance/M*.5,isOccluded:!1,signedDistanceFromCamera:M}}getPerspectiveRatio(i,h,p,v,x){const F=this.mapProjection.useSpecialProjectionForSymbols?this.mapProjection.projectTileCoordinates(h,p,v,x):Me(h,p,i,x);return .5+this.transform.cameraToCenterDistance/F.signedDistanceFromCamera*.5}isOffscreen(i,h,p,v){return p<or||i>=this.screenRightBoundary||v<or||h>this.screenBottomBoundary}isInsideGrid(i,h,p,v){return p>=0&&i<this.gridRightBoundary&&v>=0&&h<this.gridBottomBoundary}getViewportMatrix(){const i=l.an([]);return l.J(i,i,[-100,-100,0]),i}_projectCollisionBox(i,h,p,v,x,F,M,k,Q,G){let X=new l.P(1,0),J=new l.P(0,1);const ee=new l.P(i.anchorPointX+M[0],i.anchorPointY+M[1]);if(F&&!x){const yt=this.projectAndGetPerspectiveRatio(p,ee.x+1,ee.y,v,Q).point.sub(k.point).unit(),pt=Math.atan(yt.y/yt.x)+(yt.x<0?Math.PI:0),Qt=Math.sin(pt),St=Math.cos(pt);X=new l.P(St,Qt),J=new l.P(-Qt,St)}else if(!F&&x){const yt=-this.transform.angle,pt=Math.sin(yt),Qt=Math.cos(yt);X=new l.P(Qt,pt),J=new l.P(-pt,Qt)}let ue=k.point,ge=h;if(x){ue=ee;const yt=this.transform.zoom-Math.floor(this.transform.zoom);ge=Math.pow(2,-yt),ge*=this.mapProjection.getPitchedTextCorrection(this.transform,ee,v),G||(ge*=l.ac(.5+k.signedDistanceFromCamera/this.transform.cameraToCenterDistance*.5,0,4))}G&&(ue=ue.add(X.mult(G.x*ge)).add(J.mult(G.y*ge)));const Ce=i.x1*ge,xe=i.x2*ge,Oe=(Ce+xe)/2,Ee=i.y1*ge,qe=i.y2*ge,Ke=(Ee+qe)/2,it=[{offsetX:Ce,offsetY:Ee},{offsetX:Oe,offsetY:Ee},{offsetX:xe,offsetY:Ee},{offsetX:xe,offsetY:Ke},{offsetX:xe,offsetY:qe},{offsetX:Oe,offsetY:qe},{offsetX:Ce,offsetY:qe},{offsetX:Ce,offsetY:Ke}];let bt=[];for(const{offsetX:yt,offsetY:pt}of it)bt.push(new l.P(ue.x+X.x*yt+J.x*pt,ue.y+X.y*yt+J.y*pt));let Ct=!1;if(x){const yt=bt.map((pt=>this.projectAndGetPerspectiveRatio(p,pt.x,pt.y,v,Q)));Ct=yt.some((pt=>!pt.isOccluded)),bt=yt.map((pt=>pt.point))}else Ct=!0;return{box:l.ao(bt),allPointsOccluded:!Ct}}}function zr(_,i,h){return i*(l.X/(_.tileSize*Math.pow(2,h-_.tileID.overscaledZ)))}class Kn{constructor(i,h,p,v){this.opacity=i?Math.max(0,Math.min(1,i.opacity+(i.placed?h:-h))):v&&p?1:0,this.placed=p}isHidden(){return this.opacity===0&&!this.placed}}class Qn{constructor(i,h,p,v,x){this.text=new Kn(i?i.text:null,h,p,x),this.icon=new Kn(i?i.icon:null,h,v,x)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class en{constructor(i,h,p){this.text=i,this.icon=h,this.skipFade=p}}class vn{constructor(){this.invProjMatrix=l.H(),this.viewportMatrix=l.H(),this.circles=[]}}class Pn{constructor(i,h,p,v,x){this.bucketInstanceId=i,this.featureIndex=h,this.sourceLayerIndex=p,this.bucketIndex=v,this.tileID=x}}class mi{constructor(i){this.crossSourceCollisions=i,this.maxGroupID=0,this.collisionGroups={}}get(i){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[i]){const h=++this.maxGroupID;this.collisionGroups[i]={ID:h,predicate:p=>p.collisionGroupID===h}}return this.collisionGroups[i]}}function ai(_,i,h,p,v){const{horizontalAlign:x,verticalAlign:F}=l.au(_);return new l.P(-(x-.5)*i+p[0]*v,-(F-.5)*h+p[1]*v)}class yi{constructor(i,h,p,v,x,F){this.transform=i.clone(),this.terrain=p,this.collisionIndex=new Or(this.transform,h),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=v,this.retainedQueryData={},this.collisionGroups=new mi(x),this.collisionCircleArrays={},this.collisionBoxArrays=new Map,this.prevPlacement=F,F&&(F.prevPlacement=void 0),this.placedOrientations={}}_getTerrainElevationFunc(i){const h=this.terrain;return h?(p,v)=>h.getElevation(i,p,v):null}getBucketParts(i,h,p,v){const x=p.getBucket(h),F=p.latestFeatureIndex;if(!x||!F||h.id!==x.layerIds[0])return;const M=p.collisionBoxArray,k=x.layers[0].layout,Q=x.layers[0].paint,G=Math.pow(2,this.transform.zoom-p.tileID.overscaledZ),X=p.tileSize/l.X,J=p.tileID.toUnwrapped(),ee=this.transform.calculatePosMatrix(J),ue=k.get("text-pitch-alignment")==="map",ge=k.get("text-rotation-alignment")==="map",Ce=zr(p,1,this.transform.zoom),xe=this.collisionIndex.mapProjection.translatePosition(this.transform,p,Q.get("text-translate"),Q.get("text-translate-anchor")),Oe=this.collisionIndex.mapProjection.translatePosition(this.transform,p,Q.get("icon-translate"),Q.get("icon-translate-anchor")),Ee=kn(ee,ue,ge,this.transform,Ce);let qe=null;if(ue){const it=Gr(ee,ue,ge,this.transform,Ce);qe=l.L([],this.transform.labelPlaneMatrix,it)}this.retainedQueryData[x.bucketInstanceId]=new Pn(x.bucketInstanceId,F,x.sourceLayerIndex,x.index,p.tileID);const Ke={bucket:x,layout:k,translationText:xe,translationIcon:Oe,posMatrix:ee,unwrappedTileID:J,textLabelPlaneMatrix:Ee,labelToScreenMatrix:qe,scale:G,textPixelRatio:X,holdingForFade:p.holdingForFade(),collisionBoxArray:M,partiallyEvaluatedTextSize:l.ag(x.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(x.sourceID)};if(v)for(const it of x.sortKeyRanges){const{sortKey:bt,symbolInstanceStart:Ct,symbolInstanceEnd:yt}=it;i.push({sortKey:bt,symbolInstanceStart:Ct,symbolInstanceEnd:yt,parameters:Ke})}else i.push({symbolInstanceStart:0,symbolInstanceEnd:x.symbolInstances.length,parameters:Ke})}attemptAnchorPlacement(i,h,p,v,x,F,M,k,Q,G,X,J,ee,ue,ge,Ce,xe,Oe,Ee){const qe=l.aq[i.textAnchor],Ke=[i.textOffset0,i.textOffset1],it=ai(qe,p,v,Ke,x),bt=this.collisionIndex.placeCollisionBox(h,J,k,Q,G,M,F,Ce,X.predicate,Ee,it);if((!Oe||this.collisionIndex.placeCollisionBox(Oe,J,k,Q,G,M,F,xe,X.predicate,Ee,it).placeable)&&bt.placeable){let Ct;if(this.prevPlacement&&this.prevPlacement.variableOffsets[ee.crossTileID]&&this.prevPlacement.placements[ee.crossTileID]&&this.prevPlacement.placements[ee.crossTileID].text&&(Ct=this.prevPlacement.variableOffsets[ee.crossTileID].anchor),ee.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[ee.crossTileID]={textOffset:Ke,width:p,height:v,anchor:qe,textBoxScale:x,prevAnchor:Ct},this.markUsedJustification(ue,qe,ee,ge),ue.allowVerticalPlacement&&(this.markUsedOrientation(ue,ge,ee),this.placedOrientations[ee.crossTileID]=ge),{shift:it,placedGlyphBoxes:bt}}}placeLayerBucketPart(i,h,p){const{bucket:v,layout:x,translationText:F,translationIcon:M,posMatrix:k,unwrappedTileID:Q,textLabelPlaneMatrix:G,labelToScreenMatrix:X,textPixelRatio:J,holdingForFade:ee,collisionBoxArray:ue,partiallyEvaluatedTextSize:ge,collisionGroup:Ce}=i.parameters,xe=x.get("text-optional"),Oe=x.get("icon-optional"),Ee=l.ar(x,"text-overlap","text-allow-overlap"),qe=Ee==="always",Ke=l.ar(x,"icon-overlap","icon-allow-overlap"),it=Ke==="always",bt=x.get("text-rotation-alignment")==="map",Ct=x.get("text-pitch-alignment")==="map",yt=x.get("icon-text-fit")!=="none",pt=x.get("symbol-z-order")==="viewport-y",Qt=qe&&(it||!v.hasIconData()||Oe),St=it&&(qe||!v.hasTextData()||xe);!v.collisionArrays&&ue&&v.deserializeCollisionBoxes(ue);const zt=this._getTerrainElevationFunc(this.retainedQueryData[v.bucketInstanceId].tileID),tr=(Vt,Gt,rr)=>{var un,Ir;if(h[Vt.crossTileID])return;if(ee)return void(this.placements[Vt.crossTileID]=new en(!1,!1,!1));let Lr=!1,br=!1,an=!0,Hn=null,Dr={box:null,placeable:!1,offscreen:null},qn={placeable:!1},In=null,sn=null,On=null,Cn=0,xi=0,Di=0;Gt.textFeatureIndex?Cn=Gt.textFeatureIndex:Vt.useRuntimeCollisionCircles&&(Cn=Vt.featureIndex),Gt.verticalTextFeatureIndex&&(xi=Gt.verticalTextFeatureIndex);const Gn=Gt.textBox;if(Gn){const mr=ni=>{let Wn=l.ah.horizontal;if(v.allowVerticalPlacement&&!ni&&this.prevPlacement){const Xn=this.prevPlacement.placedOrientations[Vt.crossTileID];Xn&&(this.placedOrientations[Vt.crossTileID]=Xn,Wn=Xn,this.markUsedOrientation(v,Wn,Vt))}return Wn},vr=(ni,Wn)=>{if(v.allowVerticalPlacement&&Vt.numVerticalGlyphVertices>0&&Gt.verticalTextBox){for(const Xn of v.writingModes)if(Xn===l.ah.vertical?(Dr=Wn(),qn=Dr):Dr=ni(),Dr&&Dr.placeable)break}else Dr=ni()},xn=Vt.textAnchorOffsetStartIndex,Ti=Vt.textAnchorOffsetEndIndex;if(Ti===xn){const ni=(Wn,Xn)=>{const cn=this.collisionIndex.placeCollisionBox(Wn,Ee,J,k,Q,Ct,bt,F,Ce.predicate,zt);return cn&&cn.placeable&&(this.markUsedOrientation(v,Xn,Vt),this.placedOrientations[Vt.crossTileID]=Xn),cn};vr((()=>ni(Gn,l.ah.horizontal)),(()=>{const Wn=Gt.verticalTextBox;return v.allowVerticalPlacement&&Vt.numVerticalGlyphVertices>0&&Wn?ni(Wn,l.ah.vertical):{box:null,offscreen:null}})),mr(Dr&&Dr.placeable)}else{let ni=l.aq[(Ir=(un=this.prevPlacement)===null||un===void 0?void 0:un.variableOffsets[Vt.crossTileID])===null||Ir===void 0?void 0:Ir.anchor];const Wn=(cn,Ps,Yl)=>{const Zn=cn.x2-cn.x1,Vc=cn.y2-cn.y1,Eh=Vt.textBoxScale,mc=yt&&Ke==="never"?Ps:null;let $a=null,vf=Ee==="never"?1:2,Du="never";ni&&vf++;for(let ou=0;ou<vf;ou++){for(let lu=xn;lu<Ti;lu++){const Ji=v.textAnchorOffsets.get(lu);if(ni&&Ji.textAnchor!==ni)continue;const li=this.attemptAnchorPlacement(Ji,cn,Zn,Vc,Eh,bt,Ct,J,k,Q,Ce,Du,Vt,v,Yl,F,M,mc,zt);if(li&&($a=li.placedGlyphBoxes,$a&&$a.placeable))return Lr=!0,Hn=li.shift,$a}ni?ni=null:Du=Ee}return p&&!$a&&($a={box:this.collisionIndex.placeCollisionBox(Gn,"always",J,k,Q,Ct,bt,F,Ce.predicate,zt,new l.P(0,0)).box,offscreen:!1,placeable:!1}),$a};vr((()=>Wn(Gn,Gt.iconBox,l.ah.horizontal)),(()=>{const cn=Gt.verticalTextBox;return v.allowVerticalPlacement&&(!Dr||!Dr.placeable)&&Vt.numVerticalGlyphVertices>0&&cn?Wn(cn,Gt.verticalIconBox,l.ah.vertical):{box:null,occluded:!0,offscreen:null}})),Dr&&(Lr=Dr.placeable,an=Dr.offscreen);const Xn=mr(Dr&&Dr.placeable);if(!Lr&&this.prevPlacement){const cn=this.prevPlacement.variableOffsets[Vt.crossTileID];cn&&(this.variableOffsets[Vt.crossTileID]=cn,this.markUsedJustification(v,cn.anchor,Vt,Xn))}}}if(In=Dr,Lr=In&&In.placeable,an=In&&In.offscreen,Vt.useRuntimeCollisionCircles){const mr=v.text.placedSymbolArray.get(Vt.centerJustifiedTextSymbolIndex),vr=l.ai(v.textSizeData,ge,mr),xn=x.get("text-padding");sn=this.collisionIndex.placeCollisionCircles(Ee,mr,v.lineVertexArray,v.glyphOffsetArray,vr,k,Q,G,X,p,Ct,Ce.predicate,Vt.collisionCircleDiameter,xn,F,zt),sn.circles.length&&sn.collisionDetected&&!p&&l.w("Collisions detected, but collision boxes are not shown"),Lr=qe||sn.circles.length>0&&!sn.collisionDetected,an=an&&sn.offscreen}if(Gt.iconFeatureIndex&&(Di=Gt.iconFeatureIndex),Gt.iconBox){const mr=vr=>this.collisionIndex.placeCollisionBox(vr,Ke,J,k,Q,Ct,bt,M,Ce.predicate,zt,yt&&Hn?Hn:void 0);qn&&qn.placeable&&Gt.verticalIconBox?(On=mr(Gt.verticalIconBox),br=On.placeable):(On=mr(Gt.iconBox),br=On.placeable),an=an&&On.offscreen}const fn=xe||Vt.numHorizontalGlyphVertices===0&&Vt.numVerticalGlyphVertices===0,_a=Oe||Vt.numIconVertices===0;fn||_a?_a?fn||(br=br&&Lr):Lr=br&&Lr:br=Lr=br&&Lr;const Ei=br&&On.placeable;if(Lr&&In.placeable&&this.collisionIndex.insertCollisionBox(In.box,Ee,x.get("text-ignore-placement"),v.bucketInstanceId,qn&&qn.placeable&&xi?xi:Cn,Ce.ID),Ei&&this.collisionIndex.insertCollisionBox(On.box,Ke,x.get("icon-ignore-placement"),v.bucketInstanceId,Di,Ce.ID),sn&&Lr&&this.collisionIndex.insertCollisionCircles(sn.circles,Ee,x.get("text-ignore-placement"),v.bucketInstanceId,Cn,Ce.ID),p&&this.storeCollisionData(v.bucketInstanceId,rr,Gt,In,On,sn),Vt.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(v.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[Vt.crossTileID]=new en(Lr||Qt,br||St,an||v.justReloaded),h[Vt.crossTileID]=!0};if(pt){if(i.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const Vt=v.getSortedSymbolIndexes(this.transform.angle);for(let Gt=Vt.length-1;Gt>=0;--Gt){const rr=Vt[Gt];tr(v.symbolInstances.get(rr),v.collisionArrays[rr],rr)}}else for(let Vt=i.symbolInstanceStart;Vt<i.symbolInstanceEnd;Vt++)tr(v.symbolInstances.get(Vt),v.collisionArrays[Vt],Vt);if(p&&v.bucketInstanceId in this.collisionCircleArrays){const Vt=this.collisionCircleArrays[v.bucketInstanceId];l.as(Vt.invProjMatrix,k),Vt.viewportMatrix=this.collisionIndex.getViewportMatrix()}v.justReloaded=!1}storeCollisionData(i,h,p,v,x,F){if(p.textBox||p.iconBox){let M,k;this.collisionBoxArrays.has(i)?M=this.collisionBoxArrays.get(i):(M=new Map,this.collisionBoxArrays.set(i,M)),M.has(h)?k=M.get(h):(k={text:null,icon:null},M.set(h,k)),p.textBox&&(k.text=v.box),p.iconBox&&(k.icon=x.box)}if(F){let M=this.collisionCircleArrays[i];M===void 0&&(M=this.collisionCircleArrays[i]=new vn);for(let k=0;k<F.circles.length;k+=4)M.circles.push(F.circles[k+0]),M.circles.push(F.circles[k+1]),M.circles.push(F.circles[k+2]),M.circles.push(F.collisionDetected?1:0)}}markUsedJustification(i,h,p,v){let x;x=v===l.ah.vertical?p.verticalPlacedTextSymbolIndex:{left:p.leftJustifiedTextSymbolIndex,center:p.centerJustifiedTextSymbolIndex,right:p.rightJustifiedTextSymbolIndex}[l.at(h)];const F=[p.leftJustifiedTextSymbolIndex,p.centerJustifiedTextSymbolIndex,p.rightJustifiedTextSymbolIndex,p.verticalPlacedTextSymbolIndex];for(const M of F)M>=0&&(i.text.placedSymbolArray.get(M).crossTileID=x>=0&&M!==x?0:p.crossTileID)}markUsedOrientation(i,h,p){const v=h===l.ah.horizontal||h===l.ah.horizontalOnly?h:0,x=h===l.ah.vertical?h:0,F=[p.leftJustifiedTextSymbolIndex,p.centerJustifiedTextSymbolIndex,p.rightJustifiedTextSymbolIndex];for(const M of F)i.text.placedSymbolArray.get(M).placedOrientation=v;p.verticalPlacedTextSymbolIndex&&(i.text.placedSymbolArray.get(p.verticalPlacedTextSymbolIndex).placedOrientation=x)}commit(i){this.commitTime=i,this.zoomAtLastRecencyCheck=this.transform.zoom;const h=this.prevPlacement;let p=!1;this.prevZoomAdjustment=h?h.zoomAdjustment(this.transform.zoom):0;const v=h?h.symbolFadeChange(i):1,x=h?h.opacities:{},F=h?h.variableOffsets:{},M=h?h.placedOrientations:{};for(const k in this.placements){const Q=this.placements[k],G=x[k];G?(this.opacities[k]=new Qn(G,v,Q.text,Q.icon),p=p||Q.text!==G.text.placed||Q.icon!==G.icon.placed):(this.opacities[k]=new Qn(null,v,Q.text,Q.icon,Q.skipFade),p=p||Q.text||Q.icon)}for(const k in x){const Q=x[k];if(!this.opacities[k]){const G=new Qn(Q,v,!1,!1);G.isHidden()||(this.opacities[k]=G,p=p||Q.text.placed||Q.icon.placed)}}for(const k in F)this.variableOffsets[k]||!this.opacities[k]||this.opacities[k].isHidden()||(this.variableOffsets[k]=F[k]);for(const k in M)this.placedOrientations[k]||!this.opacities[k]||this.opacities[k].isHidden()||(this.placedOrientations[k]=M[k]);if(h&&h.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");p?this.lastPlacementChangeTime=i:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=h?h.lastPlacementChangeTime:i)}updateLayerOpacities(i,h){const p={};for(const v of h){const x=v.getBucket(i);x&&v.latestFeatureIndex&&i.id===x.layerIds[0]&&this.updateBucketOpacities(x,v.tileID,p,v.collisionBoxArray)}}updateBucketOpacities(i,h,p,v){i.hasTextData()&&(i.text.opacityVertexArray.clear(),i.text.hasVisibleVertices=!1),i.hasIconData()&&(i.icon.opacityVertexArray.clear(),i.icon.hasVisibleVertices=!1),i.hasIconCollisionBoxData()&&i.iconCollisionBox.collisionVertexArray.clear(),i.hasTextCollisionBoxData()&&i.textCollisionBox.collisionVertexArray.clear();const x=i.layers[0],F=x.layout,M=new Qn(null,0,!1,!1,!0),k=F.get("text-allow-overlap"),Q=F.get("icon-allow-overlap"),G=x._unevaluatedLayout.hasValue("text-variable-anchor")||x._unevaluatedLayout.hasValue("text-variable-anchor-offset"),X=F.get("text-rotation-alignment")==="map",J=F.get("text-pitch-alignment")==="map",ee=F.get("icon-text-fit")!=="none",ue=new Qn(null,0,k&&(Q||!i.hasIconData()||F.get("icon-optional")),Q&&(k||!i.hasTextData()||F.get("text-optional")),!0);!i.collisionArrays&&v&&(i.hasIconCollisionBoxData()||i.hasTextCollisionBoxData())&&i.deserializeCollisionBoxes(v);const ge=(xe,Oe,Ee)=>{for(let qe=0;qe<Oe/4;qe++)xe.opacityVertexArray.emplaceBack(Ee);xe.hasVisibleVertices=xe.hasVisibleVertices||Ee!==rl},Ce=this.collisionBoxArrays.get(i.bucketInstanceId);for(let xe=0;xe<i.symbolInstances.length;xe++){const Oe=i.symbolInstances.get(xe),{numHorizontalGlyphVertices:Ee,numVerticalGlyphVertices:qe,crossTileID:Ke}=Oe;let it=this.opacities[Ke];p[Ke]?it=M:it||(it=ue,this.opacities[Ke]=it),p[Ke]=!0;const bt=Oe.numIconVertices>0,Ct=this.placedOrientations[Oe.crossTileID],yt=Ct===l.ah.vertical,pt=Ct===l.ah.horizontal||Ct===l.ah.horizontalOnly;if(Ee>0||qe>0){const St=ka(it.text);ge(i.text,Ee,yt?rl:St),ge(i.text,qe,pt?rl:St);const zt=it.text.isHidden();[Oe.rightJustifiedTextSymbolIndex,Oe.centerJustifiedTextSymbolIndex,Oe.leftJustifiedTextSymbolIndex].forEach((Gt=>{Gt>=0&&(i.text.placedSymbolArray.get(Gt).hidden=zt||yt?1:0)})),Oe.verticalPlacedTextSymbolIndex>=0&&(i.text.placedSymbolArray.get(Oe.verticalPlacedTextSymbolIndex).hidden=zt||pt?1:0);const tr=this.variableOffsets[Oe.crossTileID];tr&&this.markUsedJustification(i,tr.anchor,Oe,Ct);const Vt=this.placedOrientations[Oe.crossTileID];Vt&&(this.markUsedJustification(i,"left",Oe,Vt),this.markUsedOrientation(i,Vt,Oe))}if(bt){const St=ka(it.icon),zt=!(ee&&Oe.verticalPlacedIconSymbolIndex&&yt);Oe.placedIconSymbolIndex>=0&&(ge(i.icon,Oe.numIconVertices,zt?St:rl),i.icon.placedSymbolArray.get(Oe.placedIconSymbolIndex).hidden=it.icon.isHidden()),Oe.verticalPlacedIconSymbolIndex>=0&&(ge(i.icon,Oe.numVerticalIconVertices,zt?rl:St),i.icon.placedSymbolArray.get(Oe.verticalPlacedIconSymbolIndex).hidden=it.icon.isHidden())}const Qt=Ce&&Ce.has(xe)?Ce.get(xe):{text:null,icon:null};if(i.hasIconCollisionBoxData()||i.hasTextCollisionBoxData()){const St=i.collisionArrays[xe];if(St){let zt=new l.P(0,0);if(St.textBox||St.verticalTextBox){let tr=!0;if(G){const Vt=this.variableOffsets[Ke];Vt?(zt=ai(Vt.anchor,Vt.width,Vt.height,Vt.textOffset,Vt.textBoxScale),X&&zt._rotate(J?this.transform.angle:-this.transform.angle)):tr=!1}if(St.textBox||St.verticalTextBox){let Vt;St.textBox&&(Vt=yt),St.verticalTextBox&&(Vt=pt),fo(i.textCollisionBox.collisionVertexArray,it.text.placed,!tr||Vt,Qt.text,zt.x,zt.y)}}if(St.iconBox||St.verticalIconBox){const tr=!!(!pt&&St.verticalIconBox);let Vt;St.iconBox&&(Vt=tr),St.verticalIconBox&&(Vt=!tr),fo(i.iconCollisionBox.collisionVertexArray,it.icon.placed,Vt,Qt.icon,ee?zt.x:0,ee?zt.y:0)}}}}if(i.sortFeatures(this.transform.angle),this.retainedQueryData[i.bucketInstanceId]&&(this.retainedQueryData[i.bucketInstanceId].featureSortOrder=i.featureSortOrder),i.hasTextData()&&i.text.opacityVertexBuffer&&i.text.opacityVertexBuffer.updateData(i.text.opacityVertexArray),i.hasIconData()&&i.icon.opacityVertexBuffer&&i.icon.opacityVertexBuffer.updateData(i.icon.opacityVertexArray),i.hasIconCollisionBoxData()&&i.iconCollisionBox.collisionVertexBuffer&&i.iconCollisionBox.collisionVertexBuffer.updateData(i.iconCollisionBox.collisionVertexArray),i.hasTextCollisionBoxData()&&i.textCollisionBox.collisionVertexBuffer&&i.textCollisionBox.collisionVertexBuffer.updateData(i.textCollisionBox.collisionVertexArray),i.text.opacityVertexArray.length!==i.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${i.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${i.text.layoutVertexArray.length}) / 4`);if(i.icon.opacityVertexArray.length!==i.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${i.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${i.icon.layoutVertexArray.length}) / 4`);if(i.bucketInstanceId in this.collisionCircleArrays){const xe=this.collisionCircleArrays[i.bucketInstanceId];i.placementInvProjMatrix=xe.invProjMatrix,i.placementViewportMatrix=xe.viewportMatrix,i.collisionCircleArray=xe.circles,delete this.collisionCircleArrays[i.bucketInstanceId]}}symbolFadeChange(i){return this.fadeDuration===0?1:(i-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(i){return Math.max(0,(this.transform.zoom-i)/1.5)}hasTransitions(i){return this.stale||i-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(i,h){const p=this.zoomAtLastRecencyCheck===h?1-this.zoomAdjustment(h):1;return this.zoomAtLastRecencyCheck=h,this.commitTime+this.fadeDuration*p>i}setStale(){this.stale=!0}}function fo(_,i,h,p,v,x){p&&p.length!==0||(p=[0,0,0,0]);const F=p[0]-or,M=p[1]-or,k=p[2]-or,Q=p[3]-or;_.emplaceBack(i?1:0,h?1:0,v||0,x||0,F,M),_.emplaceBack(i?1:0,h?1:0,v||0,x||0,k,M),_.emplaceBack(i?1:0,h?1:0,v||0,x||0,k,Q),_.emplaceBack(i?1:0,h?1:0,v||0,x||0,F,Q)}const bn=Math.pow(2,25),Ui=Math.pow(2,24),WA=Math.pow(2,17),vi=Math.pow(2,16),Li=Math.pow(2,9),zl=Math.pow(2,8),qa=Math.pow(2,1);function ka(_){if(_.opacity===0&&!_.placed)return 0;if(_.opacity===1&&_.placed)return 4294967295;const i=_.placed?1:0,h=Math.floor(127*_.opacity);return h*bn+i*Ui+h*WA+i*vi+h*Li+i*zl+h*qa+i}const rl=0;function nl(){return{isOccluded:(_,i,h)=>!1,getPitchedTextCorrection:(_,i,h)=>1,get useSpecialProjectionForSymbols(){return!1},projectTileCoordinates(_,i,h,p){throw new Error("Not implemented.")},translatePosition:(_,i,h,p)=>(function(v,x,F,M,k=!1){if(!F[0]&&!F[1])return[0,0];const Q=k?M==="map"?v.angle:0:M==="viewport"?-v.angle:0;if(Q){const G=Math.sin(Q),X=Math.cos(Q);F=[F[0]*X-F[1]*G,F[0]*G+F[1]*X]}return[k?F[0]:zr(x,F[0],v.zoom),k?F[1]:zr(x,F[1],v.zoom)]})(_,i,h,p),getCircleRadiusCorrection:_=>1}}class Vn{constructor(i){this._sortAcrossTiles=i.layout.get("symbol-z-order")!=="viewport-y"&&!i.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(i,h,p,v,x){const F=this._bucketParts;for(;this._currentTileIndex<i.length;)if(h.getBucketParts(F,v,i[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,x())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,F.sort(((M,k)=>M.sortKey-k.sortKey)));this._currentPartIndex<F.length;)if(h.placeLayerBucketPart(F[this._currentPartIndex],this._seenCrossTileIDs,p),this._currentPartIndex++,x())return!0;return!1}}class Hs{constructor(i,h,p,v,x,F,M,k){this.placement=new yi(i,nl(),h,F,M,k),this._currentPlacementIndex=p.length-1,this._forceFullPlacement=v,this._showCollisionBoxes=x,this._done=!1}isDone(){return this._done}continuePlacement(i,h,p){const v=S.now(),x=()=>!this._forceFullPlacement&&S.now()-v>2;for(;this._currentPlacementIndex>=0;){const F=h[i[this._currentPlacementIndex]],M=this.placement.collisionIndex.transform.zoom;if(F.type==="symbol"&&(!F.minzoom||F.minzoom<=M)&&(!F.maxzoom||F.maxzoom>M)){if(this._inProgressLayer||(this._inProgressLayer=new Vn(F)),this._inProgressLayer.continuePlacement(p[F.source],this.placement,this._showCollisionBoxes,F,x))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(i){return this.placement.commit(i),this.placement}}const $i=512/l.X/2;class qr{constructor(i,h,p){this.tileID=i,this.bucketInstanceId=p,this._symbolsByKey={};const v=new Map;for(let x=0;x<h.length;x++){const F=h.get(x),M=F.key,k=v.get(M);k?k.push(F):v.set(M,[F])}for(const[x,F]of v){const M={positions:F.map((k=>({x:Math.floor(k.anchorX*$i),y:Math.floor(k.anchorY*$i)}))),crossTileIDs:F.map((k=>k.crossTileID))};if(M.positions.length>128){const k=new l.av(M.positions.length,16,Uint16Array);for(const{x:Q,y:G}of M.positions)k.add(Q,G);k.finish(),delete M.positions,M.index=k}this._symbolsByKey[x]=M}}getScaledCoordinates(i,h){const{x:p,y:v,z:x}=this.tileID.canonical,{x:F,y:M,z:k}=h.canonical,Q=$i/Math.pow(2,k-x),G=(M*l.X+i.anchorY)*Q,X=v*l.X*$i;return{x:Math.floor((F*l.X+i.anchorX)*Q-p*l.X*$i),y:Math.floor(G-X)}}findMatches(i,h,p){const v=this.tileID.canonical.z<h.canonical.z?1:Math.pow(2,this.tileID.canonical.z-h.canonical.z);for(let x=0;x<i.length;x++){const F=i.get(x);if(F.crossTileID)continue;const M=this._symbolsByKey[F.key];if(!M)continue;const k=this.getScaledCoordinates(F,h);if(M.index){const Q=M.index.range(k.x-v,k.y-v,k.x+v,k.y+v).sort();for(const G of Q){const X=M.crossTileIDs[G];if(!p[X]){p[X]=!0,F.crossTileID=X;break}}}else if(M.positions)for(let Q=0;Q<M.positions.length;Q++){const G=M.positions[Q],X=M.crossTileIDs[Q];if(Math.abs(G.x-k.x)<=v&&Math.abs(G.y-k.y)<=v&&!p[X]){p[X]=!0,F.crossTileID=X;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map((({crossTileIDs:i})=>i))}}class pA{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class oa{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(i){const h=Math.round((i-this.lng)/360);if(h!==0)for(const p in this.indexes){const v=this.indexes[p],x={};for(const F in v){const M=v[F];M.tileID=M.tileID.unwrapTo(M.tileID.wrap+h),x[M.tileID.key]=M}this.indexes[p]=x}this.lng=i}addBucket(i,h,p){if(this.indexes[i.overscaledZ]&&this.indexes[i.overscaledZ][i.key]){if(this.indexes[i.overscaledZ][i.key].bucketInstanceId===h.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(i.overscaledZ,this.indexes[i.overscaledZ][i.key])}for(let x=0;x<h.symbolInstances.length;x++)h.symbolInstances.get(x).crossTileID=0;this.usedCrossTileIDs[i.overscaledZ]||(this.usedCrossTileIDs[i.overscaledZ]={});const v=this.usedCrossTileIDs[i.overscaledZ];for(const x in this.indexes){const F=this.indexes[x];if(Number(x)>i.overscaledZ)for(const M in F){const k=F[M];k.tileID.isChildOf(i)&&k.findMatches(h.symbolInstances,i,v)}else{const M=F[i.scaledTo(Number(x)).key];M&&M.findMatches(h.symbolInstances,i,v)}}for(let x=0;x<h.symbolInstances.length;x++){const F=h.symbolInstances.get(x);F.crossTileID||(F.crossTileID=p.generate(),v[F.crossTileID]=!0)}return this.indexes[i.overscaledZ]===void 0&&(this.indexes[i.overscaledZ]={}),this.indexes[i.overscaledZ][i.key]=new qr(i,h.symbolInstances,h.bucketInstanceId),!0}removeBucketCrossTileIDs(i,h){for(const p of h.getCrossTileIDsLists())for(const v of p)delete this.usedCrossTileIDs[i][v]}removeStaleBuckets(i){let h=!1;for(const p in this.indexes){const v=this.indexes[p];for(const x in v)i[v[x].bucketInstanceId]||(this.removeBucketCrossTileIDs(p,v[x]),delete v[x],h=!0)}return h}}class il{constructor(){this.layerIndexes={},this.crossTileIDs=new pA,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(i,h,p){let v=this.layerIndexes[i.id];v===void 0&&(v=this.layerIndexes[i.id]=new oa);let x=!1;const F={};v.handleWrapJump(p);for(const M of h){const k=M.getBucket(i);k&&i.id===k.layerIds[0]&&(k.bucketInstanceId||(k.bucketInstanceId=++this.maxBucketInstanceId),v.addBucket(M.tileID,k,this.crossTileIDs)&&(x=!0),F[k.bucketInstanceId]=!0)}return v.removeStaleBuckets(F)&&(x=!0),x}pruneUnusedLayers(i){const h={};i.forEach((p=>{h[p]=!0}));for(const p in this.layerIndexes)h[p]||delete this.layerIndexes[p]}}const is=(_,i)=>l.t(_,i&&i.filter((h=>h.identifier!=="source.canvas"))),as=l.aw();class Ri extends l.E{constructor(i,h={}){super(),this._rtlPluginLoaded=()=>{for(const p in this.sourceCaches){const v=this.sourceCaches[p].getSource().type;v!=="vector"&&v!=="geojson"||this.sourceCaches[p].reload()}},this.map=i,this.dispatcher=new ft(He(),i._getMapId()),this.dispatcher.registerMessageHandler("GG",((p,v)=>this.getGlyphs(p,v))),this.dispatcher.registerMessageHandler("GI",((p,v)=>this.getImages(p,v))),this.imageManager=new ve,this.imageManager.setEventedParent(this),this.glyphManager=new Ne(i._requestManager,h.localIdeographFontFamily),this.lineAtlas=new we(256,512),this.crossTileSymbolIndex=new il,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new l.ax,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("SR",l.ay()),fr().on(Ft,this._rtlPluginLoaded),this.on("data",(p=>{if(p.dataType!=="source"||p.sourceDataType!=="metadata")return;const v=this.sourceCaches[p.sourceId];if(!v)return;const x=v.getSource();if(x&&x.vectorLayerIds)for(const F in this._layers){const M=this._layers[F];M.source===x.id&&this._validateLayer(M)}}))}loadURL(i,h={},p){this.fire(new l.k("dataloading",{dataType:"style"})),h.validate=typeof h.validate!="boolean"||h.validate;const v=this.map._requestManager.transformRequest(i,"Style");this._loadStyleRequest=new AbortController;const x=this._loadStyleRequest;l.h(v,this._loadStyleRequest).then((F=>{this._loadStyleRequest=null,this._load(F.data,h,p)})).catch((F=>{this._loadStyleRequest=null,F&&!x.signal.aborted&&this.fire(new l.j(F))}))}loadJSON(i,h={},p){this.fire(new l.k("dataloading",{dataType:"style"})),this._frameRequest=new AbortController,S.frameAsync(this._frameRequest).then((()=>{this._frameRequest=null,h.validate=h.validate!==!1,this._load(i,h,p)})).catch((()=>{}))}loadEmpty(){this.fire(new l.k("dataloading",{dataType:"style"})),this._load(as,{validate:!1})}_load(i,h,p){var v;const x=h.transformStyle?h.transformStyle(p,i):i;if(!h.validate||!is(this,l.u(x))){this._loaded=!0,this.stylesheet=x;for(const F in x.sources)this.addSource(F,x.sources[F],{validate:!1});x.sprite?this._loadSprite(x.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(x.glyphs),this._createLayers(),this.light=new _t(this.stylesheet.light),this.sky=new ne(this.stylesheet.sky),this.map.setTerrain((v=this.stylesheet.terrain)!==null&&v!==void 0?v:null),this.fire(new l.k("data",{dataType:"style"})),this.fire(new l.k("style.load"))}}_createLayers(){const i=l.az(this.stylesheet.layers);this.dispatcher.broadcast("SL",i),this._order=i.map((h=>h.id)),this._layers={},this._serializedLayers=null;for(const h of i){const p=l.aA(h);p.setEventedParent(this,{layer:{id:h.id}}),this._layers[h.id]=p}}_loadSprite(i,h=!1,p=void 0){let v;this.imageManager.setLoaded(!1),this._spriteRequest=new AbortController,(function(x,F,M,k){return l._(this,void 0,void 0,(function*(){const Q=pe(x),G=M>1?"@2x":"",X={},J={};for(const{id:ee,url:ue}of Q){const ge=F.transformRequest(ze(ue,G,".json"),"SpriteJSON");X[ee]=l.h(ge,k);const Ce=F.transformRequest(ze(ue,G,".png"),"SpriteImage");J[ee]=W.getImage(Ce,k)}return yield Promise.all([...Object.values(X),...Object.values(J)]),(function(ee,ue){return l._(this,void 0,void 0,(function*(){const ge={};for(const Ce in ee){ge[Ce]={};const xe=S.getImageCanvasContext((yield ue[Ce]).data),Oe=(yield ee[Ce]).data;for(const Ee in Oe){const{width:qe,height:Ke,x:it,y:bt,sdf:Ct,pixelRatio:yt,stretchX:pt,stretchY:Qt,content:St,textFitWidth:zt,textFitHeight:tr}=Oe[Ee];ge[Ce][Ee]={data:null,pixelRatio:yt,sdf:Ct,stretchX:pt,stretchY:Qt,content:St,textFitWidth:zt,textFitHeight:tr,spriteData:{width:qe,height:Ke,x:it,y:bt,context:xe}}}}return ge}))})(X,J)}))})(i,this.map._requestManager,this.map.getPixelRatio(),this._spriteRequest).then((x=>{if(this._spriteRequest=null,x)for(const F in x){this._spritesImagesIds[F]=[];const M=this._spritesImagesIds[F]?this._spritesImagesIds[F].filter((k=>!(k in x))):[];for(const k of M)this.imageManager.removeImage(k),this._changedImages[k]=!0;for(const k in x[F]){const Q=F==="default"?k:`${F}:${k}`;this._spritesImagesIds[F].push(Q),Q in this.imageManager.images?this.imageManager.updateImage(Q,x[F][k],!1):this.imageManager.addImage(Q,x[F][k]),h&&(this._changedImages[Q]=!0)}}})).catch((x=>{this._spriteRequest=null,v=x,this.fire(new l.j(v))})).finally((()=>{this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),h&&(this._changed=!0),this.dispatcher.broadcast("SI",this._availableImages),this.fire(new l.k("data",{dataType:"style"})),p&&p(v)}))}_unloadSprite(){for(const i of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(i),this._changedImages[i]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new l.k("data",{dataType:"style"}))}_validateLayer(i){const h=this.sourceCaches[i.source];if(!h)return;const p=i.sourceLayer;if(!p)return;const v=h.getSource();(v.type==="geojson"||v.vectorLayerIds&&v.vectorLayerIds.indexOf(p)===-1)&&this.fire(new l.j(new Error(`Source layer "${p}" does not exist on source "${v.id}" as specified by style layer "${i.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const i in this.sourceCaches)if(!this.sourceCaches[i].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(i,h=!1){const p=this._serializedAllLayers();if(!i||i.length===0)return Object.values(h?l.aB(p):p);const v=[];for(const x of i)if(p[x]){const F=h?l.aB(p[x]):p[x];v.push(F)}return v}_serializedAllLayers(){let i=this._serializedLayers;if(i)return i;i=this._serializedLayers={};const h=Object.keys(this._layers);for(const p of h){const v=this._layers[p];v.type!=="custom"&&(i[p]=v.serialize())}return i}hasTransitions(){if(this.light&&this.light.hasTransition()||this.sky&&this.sky.hasTransition())return!0;for(const i in this.sourceCaches)if(this.sourceCaches[i].hasTransition())return!0;for(const i in this._layers)if(this._layers[i].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(i){if(!this._loaded)return;const h=this._changed;if(h){const v=Object.keys(this._updatedLayers),x=Object.keys(this._removedLayers);(v.length||x.length)&&this._updateWorkerLayers(v,x);for(const F in this._updatedSources){const M=this._updatedSources[F];if(M==="reload")this._reloadSource(F);else{if(M!=="clear")throw new Error(`Invalid action ${M}`);this._clearSource(F)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const F in this._updatedPaintProps)this._layers[F].updateTransitions(i);this.light.updateTransitions(i),this.sky.updateTransitions(i),this._resetUpdates()}const p={};for(const v in this.sourceCaches){const x=this.sourceCaches[v];p[v]=x.used,x.used=!1}for(const v of this._order){const x=this._layers[v];x.recalculate(i,this._availableImages),!x.isHidden(i.zoom)&&x.source&&(this.sourceCaches[x.source].used=!0)}for(const v in p){const x=this.sourceCaches[v];!!p[v]!=!!x.used&&x.fire(new l.k("data",{sourceDataType:"visibility",dataType:"source",sourceId:v}))}this.light.recalculate(i),this.sky.recalculate(i),this.z=i.zoom,h&&this.fire(new l.k("data",{dataType:"style"}))}_updateTilesForChangedImages(){const i=Object.keys(this._changedImages);if(i.length){for(const h in this.sourceCaches)this.sourceCaches[h].reloadTilesForDependencies(["icons","patterns"],i);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const i in this.sourceCaches)this.sourceCaches[i].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(i,h){this.dispatcher.broadcast("UL",{layers:this._serializeByIds(i,!1),removedIds:h})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(i,h={}){var p;this._checkLoaded();const v=this.serialize();if(i=h.transformStyle?h.transformStyle(v,i):i,((p=h.validate)===null||p===void 0||p)&&is(this,l.u(i)))return!1;(i=l.aB(i)).layers=l.az(i.layers);const x=l.aC(v,i),F=this._getOperationsToPerform(x);if(F.unimplemented.length>0)throw new Error(`Unimplemented: ${F.unimplemented.join(", ")}.`);if(F.operations.length===0)return!1;for(const M of F.operations)M();return this.stylesheet=i,this._serializedLayers=null,!0}_getOperationsToPerform(i){const h=[],p=[];for(const v of i)switch(v.command){case"setCenter":case"setZoom":case"setBearing":case"setPitch":continue;case"addLayer":h.push((()=>this.addLayer.apply(this,v.args)));break;case"removeLayer":h.push((()=>this.removeLayer.apply(this,v.args)));break;case"setPaintProperty":h.push((()=>this.setPaintProperty.apply(this,v.args)));break;case"setLayoutProperty":h.push((()=>this.setLayoutProperty.apply(this,v.args)));break;case"setFilter":h.push((()=>this.setFilter.apply(this,v.args)));break;case"addSource":h.push((()=>this.addSource.apply(this,v.args)));break;case"removeSource":h.push((()=>this.removeSource.apply(this,v.args)));break;case"setLayerZoomRange":h.push((()=>this.setLayerZoomRange.apply(this,v.args)));break;case"setLight":h.push((()=>this.setLight.apply(this,v.args)));break;case"setGeoJSONSourceData":h.push((()=>this.setGeoJSONSourceData.apply(this,v.args)));break;case"setGlyphs":h.push((()=>this.setGlyphs.apply(this,v.args)));break;case"setSprite":h.push((()=>this.setSprite.apply(this,v.args)));break;case"setSky":h.push((()=>this.setSky.apply(this,v.args)));break;case"setTerrain":h.push((()=>this.map.setTerrain.apply(this,v.args)));break;case"setTransition":h.push((()=>{}));break;default:p.push(v.command)}return{operations:h,unimplemented:p}}addImage(i,h){if(this.getImage(i))return this.fire(new l.j(new Error(`An image named "${i}" already exists.`)));this.imageManager.addImage(i,h),this._afterImageUpdated(i)}updateImage(i,h){this.imageManager.updateImage(i,h)}getImage(i){return this.imageManager.getImage(i)}removeImage(i){if(!this.getImage(i))return this.fire(new l.j(new Error(`An image named "${i}" does not exist.`)));this.imageManager.removeImage(i),this._afterImageUpdated(i)}_afterImageUpdated(i){this._availableImages=this.imageManager.listImages(),this._changedImages[i]=!0,this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new l.k("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(i,h,p={}){if(this._checkLoaded(),this.sourceCaches[i]!==void 0)throw new Error(`Source "${i}" already exists.`);if(!h.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(h).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(h.type)>=0&&this._validate(l.u.source,`sources.${i}`,h,null,p))return;this.map&&this.map._collectResourceTiming&&(h.collectResourceTiming=!0);const v=this.sourceCaches[i]=new qt(i,h,this.dispatcher);v.style=this,v.setEventedParent(this,(()=>({isSourceLoaded:v.loaded(),source:v.serialize(),sourceId:i}))),v.onAdd(this.map),this._changed=!0}removeSource(i){if(this._checkLoaded(),this.sourceCaches[i]===void 0)throw new Error("There is no source with this ID");for(const p in this._layers)if(this._layers[p].source===i)return this.fire(new l.j(new Error(`Source "${i}" cannot be removed while layer "${p}" is using it.`)));const h=this.sourceCaches[i];delete this.sourceCaches[i],delete this._updatedSources[i],h.fire(new l.k("data",{sourceDataType:"metadata",dataType:"source",sourceId:i})),h.setEventedParent(null),h.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(i,h){if(this._checkLoaded(),this.sourceCaches[i]===void 0)throw new Error(`There is no source with this ID=${i}`);const p=this.sourceCaches[i].getSource();if(p.type!=="geojson")throw new Error(`geojsonSource.type is ${p.type}, which is !== 'geojson`);p.setData(h),this._changed=!0}getSource(i){return this.sourceCaches[i]&&this.sourceCaches[i].getSource()}addLayer(i,h,p={}){this._checkLoaded();const v=i.id;if(this.getLayer(v))return void this.fire(new l.j(new Error(`Layer "${v}" already exists on this map.`)));let x;if(i.type==="custom"){if(is(this,l.aD(i)))return;x=l.aA(i)}else{if("source"in i&&typeof i.source=="object"&&(this.addSource(v,i.source),i=l.aB(i),i=l.e(i,{source:v})),this._validate(l.u.layer,`layers.${v}`,i,{arrayIndex:-1},p))return;x=l.aA(i),this._validateLayer(x),x.setEventedParent(this,{layer:{id:v}})}const F=h?this._order.indexOf(h):this._order.length;if(h&&F===-1)this.fire(new l.j(new Error(`Cannot add layer "${v}" before non-existing layer "${h}".`)));else{if(this._order.splice(F,0,v),this._layerOrderChanged=!0,this._layers[v]=x,this._removedLayers[v]&&x.source&&x.type!=="custom"){const M=this._removedLayers[v];delete this._removedLayers[v],M.type!==x.type?this._updatedSources[x.source]="clear":(this._updatedSources[x.source]="reload",this.sourceCaches[x.source].pause())}this._updateLayer(x),x.onAdd&&x.onAdd(this.map)}}moveLayer(i,h){if(this._checkLoaded(),this._changed=!0,!this._layers[i])return void this.fire(new l.j(new Error(`The layer '${i}' does not exist in the map's style and cannot be moved.`)));if(i===h)return;const p=this._order.indexOf(i);this._order.splice(p,1);const v=h?this._order.indexOf(h):this._order.length;h&&v===-1?this.fire(new l.j(new Error(`Cannot move layer "${i}" before non-existing layer "${h}".`))):(this._order.splice(v,0,i),this._layerOrderChanged=!0)}removeLayer(i){this._checkLoaded();const h=this._layers[i];if(!h)return void this.fire(new l.j(new Error(`Cannot remove non-existing layer "${i}".`)));h.setEventedParent(null);const p=this._order.indexOf(i);this._order.splice(p,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[i]=h,delete this._layers[i],this._serializedLayers&&delete this._serializedLayers[i],delete this._updatedLayers[i],delete this._updatedPaintProps[i],h.onRemove&&h.onRemove(this.map)}getLayer(i){return this._layers[i]}getLayersOrder(){return[...this._order]}hasLayer(i){return i in this._layers}setLayerZoomRange(i,h,p){this._checkLoaded();const v=this.getLayer(i);v?v.minzoom===h&&v.maxzoom===p||(h!=null&&(v.minzoom=h),p!=null&&(v.maxzoom=p),this._updateLayer(v)):this.fire(new l.j(new Error(`Cannot set the zoom range of non-existing layer "${i}".`)))}setFilter(i,h,p={}){this._checkLoaded();const v=this.getLayer(i);if(v){if(!l.aE(v.filter,h))return h==null?(v.filter=void 0,void this._updateLayer(v)):void(this._validate(l.u.filter,`layers.${v.id}.filter`,h,null,p)||(v.filter=l.aB(h),this._updateLayer(v)))}else this.fire(new l.j(new Error(`Cannot filter non-existing layer "${i}".`)))}getFilter(i){return l.aB(this.getLayer(i).filter)}setLayoutProperty(i,h,p,v={}){this._checkLoaded();const x=this.getLayer(i);x?l.aE(x.getLayoutProperty(h),p)||(x.setLayoutProperty(h,p,v),this._updateLayer(x)):this.fire(new l.j(new Error(`Cannot style non-existing layer "${i}".`)))}getLayoutProperty(i,h){const p=this.getLayer(i);if(p)return p.getLayoutProperty(h);this.fire(new l.j(new Error(`Cannot get style of non-existing layer "${i}".`)))}setPaintProperty(i,h,p,v={}){this._checkLoaded();const x=this.getLayer(i);x?l.aE(x.getPaintProperty(h),p)||(x.setPaintProperty(h,p,v)&&this._updateLayer(x),this._changed=!0,this._updatedPaintProps[i]=!0,this._serializedLayers=null):this.fire(new l.j(new Error(`Cannot style non-existing layer "${i}".`)))}getPaintProperty(i,h){return this.getLayer(i).getPaintProperty(h)}setFeatureState(i,h){this._checkLoaded();const p=i.source,v=i.sourceLayer,x=this.sourceCaches[p];if(x===void 0)return void this.fire(new l.j(new Error(`The source '${p}' does not exist in the map's style.`)));const F=x.getSource().type;F==="geojson"&&v?this.fire(new l.j(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):F!=="vector"||v?(i.id===void 0&&this.fire(new l.j(new Error("The feature id parameter must be provided."))),x.setFeatureState(v,i.id,h)):this.fire(new l.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(i,h){this._checkLoaded();const p=i.source,v=this.sourceCaches[p];if(v===void 0)return void this.fire(new l.j(new Error(`The source '${p}' does not exist in the map's style.`)));const x=v.getSource().type,F=x==="vector"?i.sourceLayer:void 0;x!=="vector"||F?h&&typeof i.id!="string"&&typeof i.id!="number"?this.fire(new l.j(new Error("A feature id is required to remove its specific state property."))):v.removeFeatureState(F,i.id,h):this.fire(new l.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(i){this._checkLoaded();const h=i.source,p=i.sourceLayer,v=this.sourceCaches[h];if(v!==void 0)return v.getSource().type!=="vector"||p?(i.id===void 0&&this.fire(new l.j(new Error("The feature id parameter must be provided."))),v.getFeatureState(p,i.id)):void this.fire(new l.j(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new l.j(new Error(`The source '${h}' does not exist in the map's style.`)))}getTransition(){return l.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const i=l.aF(this.sourceCaches,(x=>x.serialize())),h=this._serializeByIds(this._order,!0),p=this.map.getTerrain()||void 0,v=this.stylesheet;return l.aG({version:v.version,name:v.name,metadata:v.metadata,light:v.light,sky:v.sky,center:v.center,zoom:v.zoom,bearing:v.bearing,pitch:v.pitch,sprite:v.sprite,glyphs:v.glyphs,transition:v.transition,sources:i,layers:h,terrain:p},(x=>x!==void 0))}_updateLayer(i){this._updatedLayers[i.id]=!0,i.source&&!this._updatedSources[i.source]&&this.sourceCaches[i.source].getSource().type!=="raster"&&(this._updatedSources[i.source]="reload",this.sourceCaches[i.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(i){const h=F=>this._layers[F].type==="fill-extrusion",p={},v=[];for(let F=this._order.length-1;F>=0;F--){const M=this._order[F];if(h(M)){p[M]=F;for(const k of i){const Q=k[M];if(Q)for(const G of Q)v.push(G)}}}v.sort(((F,M)=>M.intersectionZ-F.intersectionZ));const x=[];for(let F=this._order.length-1;F>=0;F--){const M=this._order[F];if(h(M))for(let k=v.length-1;k>=0;k--){const Q=v[k].feature;if(p[Q.layer.id]<F)break;x.push(Q),v.pop()}else for(const k of i){const Q=k[M];if(Q)for(const G of Q)x.push(G.feature)}}return x}queryRenderedFeatures(i,h,p){h&&h.filter&&this._validate(l.u.filter,"queryRenderedFeatures.filter",h.filter,null,h);const v={};if(h&&h.layers){if(!Array.isArray(h.layers))return this.fire(new l.j(new Error("parameters.layers must be an Array."))),[];for(const M of h.layers){const k=this._layers[M];if(!k)return this.fire(new l.j(new Error(`The layer '${M}' does not exist in the map's style and cannot be queried for features.`))),[];v[k.source]=!0}}const x=[];h.availableImages=this._availableImages;const F=this._serializedAllLayers();for(const M in this.sourceCaches)h.layers&&!v[M]||x.push(Xt(this.sourceCaches[M],this._layers,F,i,h,p));return this.placement&&x.push((function(M,k,Q,G,X,J,ee){const ue={},ge=J.queryRenderedSymbols(G),Ce=[];for(const xe of Object.keys(ge).map(Number))Ce.push(ee[xe]);Ce.sort($t);for(const xe of Ce){const Oe=xe.featureIndex.lookupSymbolFeatures(ge[xe.bucketInstanceId],k,xe.bucketIndex,xe.sourceLayerIndex,X.filter,X.layers,X.availableImages,M);for(const Ee in Oe){const qe=ue[Ee]=ue[Ee]||[],Ke=Oe[Ee];Ke.sort(((it,bt)=>{const Ct=xe.featureSortOrder;if(Ct){const yt=Ct.indexOf(it.featureIndex);return Ct.indexOf(bt.featureIndex)-yt}return bt.featureIndex-it.featureIndex}));for(const it of Ke)qe.push(it)}}for(const xe in ue)ue[xe].forEach((Oe=>{const Ee=Oe.feature,qe=Q[M[xe].source].getFeatureState(Ee.layer["source-layer"],Ee.id);Ee.source=Ee.layer.source,Ee.layer["source-layer"]&&(Ee.sourceLayer=Ee.layer["source-layer"]),Ee.state=qe}));return ue})(this._layers,F,this.sourceCaches,i,h,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(x)}querySourceFeatures(i,h){h&&h.filter&&this._validate(l.u.filter,"querySourceFeatures.filter",h.filter,null,h);const p=this.sourceCaches[i];return p?(function(v,x){const F=v.getRenderableIds().map((Q=>v.getTileByID(Q))),M=[],k={};for(let Q=0;Q<F.length;Q++){const G=F[Q],X=G.tileID.canonical.key;k[X]||(k[X]=!0,G.querySourceFeatures(M,x))}return M})(p,h):[]}getLight(){return this.light.getLight()}setLight(i,h={}){this._checkLoaded();const p=this.light.getLight();let v=!1;for(const F in i)if(!l.aE(i[F],p[F])){v=!0;break}if(!v)return;const x={now:S.now(),transition:l.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(i,h),this.light.updateTransitions(x)}getSky(){var i;return(i=this.stylesheet)===null||i===void 0?void 0:i.sky}setSky(i,h={}){const p=this.getSky();let v=!1;if(!i&&!p)return;if(i&&!p)v=!0;else if(!i&&p)v=!0;else for(const F in i)if(!l.aE(i[F],p[F])){v=!0;break}if(!v)return;const x={now:S.now(),transition:l.e({duration:300,delay:0},this.stylesheet.transition)};this.stylesheet.sky=i,this.sky.setSky(i,h),this.sky.updateTransitions(x)}_validate(i,h,p,v,x={}){return(!x||x.validate!==!1)&&is(this,i.call(l.u,l.e({key:h,style:this.serialize(),value:p,styleSpec:l.v},v)))}_remove(i=!0){this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null),fr().off(Ft,this._rtlPluginLoaded);for(const h in this._layers)this._layers[h].setEventedParent(null);for(const h in this.sourceCaches){const p=this.sourceCaches[h];p.setEventedParent(null),p.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),i&&this.dispatcher.broadcast("RM",void 0),this.dispatcher.remove(i)}_clearSource(i){this.sourceCaches[i].clearTiles()}_reloadSource(i){this.sourceCaches[i].resume(),this.sourceCaches[i].reload()}_updateSources(i){for(const h in this.sourceCaches)this.sourceCaches[h].update(i,this.map.terrain)}_generateCollisionBoxes(){for(const i in this.sourceCaches)this._reloadSource(i)}_updatePlacement(i,h,p,v,x=!1){let F=!1,M=!1;const k={};for(const Q of this._order){const G=this._layers[Q];if(G.type!=="symbol")continue;if(!k[G.source]){const J=this.sourceCaches[G.source];k[G.source]=J.getRenderableIds(!0).map((ee=>J.getTileByID(ee))).sort(((ee,ue)=>ue.tileID.overscaledZ-ee.tileID.overscaledZ||(ee.tileID.isLessThan(ue.tileID)?-1:1)))}const X=this.crossTileSymbolIndex.addLayer(G,k[G.source],i.center.lng);F=F||X}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((x=x||this._layerOrderChanged||p===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(S.now(),i.zoom))&&(this.pauseablePlacement=new Hs(i,this.map.terrain,this._order,x,h,p,v,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,k),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(S.now()),M=!0),F&&this.pauseablePlacement.placement.setStale()),M||F)for(const Q of this._order){const G=this._layers[Q];G.type==="symbol"&&this.placement.updateLayerOpacities(G,k[G.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(S.now())}_releaseSymbolFadeTiles(){for(const i in this.sourceCaches)this.sourceCaches[i].releaseSymbolFadeTiles()}getImages(i,h){return l._(this,void 0,void 0,(function*(){const p=yield this.imageManager.getImages(h.icons);this._updateTilesForChangedImages();const v=this.sourceCaches[h.source];return v&&v.setDependencies(h.tileID.key,h.type,h.icons),p}))}getGlyphs(i,h){return l._(this,void 0,void 0,(function*(){const p=yield this.glyphManager.getGlyphs(h.stacks),v=this.sourceCaches[h.source];return v&&v.setDependencies(h.tileID.key,h.type,[""]),p}))}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(i,h={}){this._checkLoaded(),i&&this._validate(l.u.glyphs,"glyphs",i,null,h)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=i,this.glyphManager.entries={},this.glyphManager.setURL(i))}addSprite(i,h,p={},v){this._checkLoaded();const x=[{id:i,url:h}],F=[...pe(this.stylesheet.sprite),...x];this._validate(l.u.sprite,"sprite",F,null,p)||(this.stylesheet.sprite=F,this._loadSprite(x,!0,v))}removeSprite(i){this._checkLoaded();const h=pe(this.stylesheet.sprite);if(h.find((p=>p.id===i))){if(this._spritesImagesIds[i])for(const p of this._spritesImagesIds[i])this.imageManager.removeImage(p),this._changedImages[p]=!0;h.splice(h.findIndex((p=>p.id===i)),1),this.stylesheet.sprite=h.length>0?h:void 0,delete this._spritesImagesIds[i],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new l.k("data",{dataType:"style"}))}else this.fire(new l.j(new Error(`Sprite "${i}" doesn't exists on this map.`)))}getSprite(){return pe(this.stylesheet.sprite)}setSprite(i,h={},p){this._checkLoaded(),i&&this._validate(l.u.sprite,"sprite",i,null,h)||(this.stylesheet.sprite=i,i?this._loadSprite(i,!0,p):(this._unloadSprite(),p&&p(null)))}}var ui=l.Y([{name:"a_pos",type:"Int16",components:2}]);const js={prelude:Un(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}`),background:Un(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:Un(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:Un(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);float antialiased_blur=v_data.z;float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}float antialiasblur=-max(1.0/u_device_pixel_ratio/(radius+stroke_width),blur);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:Un("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:Un(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,get_elevation(floor(a_pos*0.5)),1);gl_Position=u_matrix*pos;}`),heatmapTexture:Un(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:Un("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_anchor_pos;attribute vec2 a_placed;attribute vec2 a_box_real;uniform mat4 u_matrix;uniform vec2 u_pixel_extrude_scale;varying float v_placed;varying float v_notUsed;vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_matrix*vec4(posInTile,elevation,1.0);}void main() {gl_Position=projectTileWithElevation(a_anchor_pos,get_elevation(a_anchor_pos));gl_Position.xy=((a_box_real+0.5)*u_pixel_extrude_scale*2.0-1.0)*vec2(1.0,-1.0)*gl_Position.w;if (gl_Position.z/gl_Position.w < 1.1) {gl_Position.z=0.5;}v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:Un("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:Un("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:Un(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),fillOutline:Un(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillOutlinePattern:Un(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillPattern:Un(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:Un(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:Un(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:Un(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Un(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:Un(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:Un(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:Un(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:Un(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:Un(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:Un(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;varying vec2 v_tex;varying float v_fade_opacity;vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_matrix*vec4(posInTile,elevation,1.0);}
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}gl_Position=finalPos;v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:Un(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_translation;uniform float u_pitched_scale;varying vec2 v_data0;varying vec3 v_data1;vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_matrix*vec4(posInTile,elevation,1.0);}
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:Un(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;varying vec4 v_data0;varying vec4 v_data1;vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_matrix*vec4(posInTile,elevation,1.0);}
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:Un("uniform sampler2D u_texture;uniform vec4 u_fog_color;uniform vec4 u_horizon_color;uniform float u_fog_ground_blend;uniform float u_fog_ground_blend_opacity;uniform float u_horizon_fog_blend;varying vec2 v_texture_pos;varying float v_fog_depth;const float gamma=2.2;vec4 gammaToLinear(vec4 color) {return pow(color,vec4(gamma));}vec4 linearToGamma(vec4 color) {return pow(color,vec4(1.0/gamma));}void main() {vec4 surface_color=texture2D(u_texture,v_texture_pos);if (v_fog_depth > u_fog_ground_blend) {vec4 surface_color_linear=gammaToLinear(surface_color);float blend_color=smoothstep(0.0,1.0,max((v_fog_depth-u_horizon_fog_blend)/(1.0-u_horizon_fog_blend),0.0));vec4 fog_horizon_color_linear=mix(gammaToLinear(u_fog_color),gammaToLinear(u_horizon_color),blend_color);float factor_fog=max(v_fog_depth-u_fog_ground_blend,0.0)/(1.0-u_fog_ground_blend);gl_FragColor=linearToGamma(mix(surface_color_linear,fog_horizon_color_linear,pow(factor_fog,2.0)*u_fog_ground_blend_opacity));} else {gl_FragColor=surface_color;}}","attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform mat4 u_fog_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;varying float v_fog_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=u_matrix*vec4(a_pos3d.xy,ele-ele_delta,1.0);vec4 pos=u_fog_matrix*vec4(a_pos3d.xy,ele,1.0);v_fog_depth=pos.z/pos.w*0.5+0.5;}"),terrainDepth:Un("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}","attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying float v_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;gl_Position=u_matrix*vec4(a_pos3d.xy,ele-ele_delta,1.0);v_depth=gl_Position.z/gl_Position.w;}"),terrainCoords:Un("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}","attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=u_matrix*vec4(a_pos3d.xy,ele-ele_delta,1.0);}"),sky:Un("uniform vec4 u_sky_color;uniform vec4 u_horizon_color;uniform float u_horizon;uniform float u_sky_horizon_blend;void main() {float y=gl_FragCoord.y;if (y > u_horizon) {float blend=y-u_horizon;if (blend < u_sky_horizon_blend) {gl_FragColor=mix(u_sky_color,u_horizon_color,pow(1.0-blend/u_sky_horizon_blend,2.0));} else {gl_FragColor=u_sky_color;}}}","attribute vec2 a_pos;void main() {gl_Position=vec4(a_pos,1.0,1.0);}")};function Un(_,i){const h=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,p=i.match(/attribute ([\w]+) ([\w]+)/g),v=_.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),x=i.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),F=x?x.concat(v):v,M={};return{fragmentSource:_=_.replace(h,((k,Q,G,X,J)=>(M[J]=!0,Q==="define"?`
#ifndef HAS_UNIFORM_u_${J}
varying ${G} ${X} ${J};
#else
uniform ${G} ${X} u_${J};
#endif
`:`
#ifdef HAS_UNIFORM_u_${J}
    ${G} ${X} ${J} = u_${J};
#endif
`))),vertexSource:i=i.replace(h,((k,Q,G,X,J)=>{const ee=X==="float"?"vec2":"vec4",ue=J.match(/color/)?"color":ee;return M[J]?Q==="define"?`
#ifndef HAS_UNIFORM_u_${J}
uniform lowp float u_${J}_t;
attribute ${G} ${ee} a_${J};
varying ${G} ${X} ${J};
#else
uniform ${G} ${X} u_${J};
#endif
`:ue==="vec4"?`
#ifndef HAS_UNIFORM_u_${J}
    ${J} = a_${J};
#else
    ${G} ${X} ${J} = u_${J};
#endif
`:`
#ifndef HAS_UNIFORM_u_${J}
    ${J} = unpack_mix_${ue}(a_${J}, u_${J}_t);
#else
    ${G} ${X} ${J} = u_${J};
#endif
`:Q==="define"?`
#ifndef HAS_UNIFORM_u_${J}
uniform lowp float u_${J}_t;
attribute ${G} ${ee} a_${J};
#else
uniform ${G} ${X} u_${J};
#endif
`:ue==="vec4"?`
#ifndef HAS_UNIFORM_u_${J}
    ${G} ${X} ${J} = a_${J};
#else
    ${G} ${X} ${J} = u_${J};
#endif
`:`
#ifndef HAS_UNIFORM_u_${J}
    ${G} ${X} ${J} = unpack_mix_${ue}(a_${J}, u_${J}_t);
#else
    ${G} ${X} ${J} = u_${J};
#endif
`})),staticAttributes:p,staticUniforms:F}}class YA{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(i,h,p,v,x,F,M,k,Q){this.context=i;let G=this.boundPaintVertexBuffers.length!==v.length;for(let X=0;!G&&X<v.length;X++)this.boundPaintVertexBuffers[X]!==v[X]&&(G=!0);!this.vao||this.boundProgram!==h||this.boundLayoutVertexBuffer!==p||G||this.boundIndexBuffer!==x||this.boundVertexOffset!==F||this.boundDynamicVertexBuffer!==M||this.boundDynamicVertexBuffer2!==k||this.boundDynamicVertexBuffer3!==Q?this.freshBind(h,p,v,x,F,M,k,Q):(i.bindVertexArray.set(this.vao),M&&M.bind(),x&&x.dynamicDraw&&x.bind(),k&&k.bind(),Q&&Q.bind())}freshBind(i,h,p,v,x,F,M,k){const Q=i.numAttributes,G=this.context,X=G.gl;this.vao&&this.destroy(),this.vao=G.createVertexArray(),G.bindVertexArray.set(this.vao),this.boundProgram=i,this.boundLayoutVertexBuffer=h,this.boundPaintVertexBuffers=p,this.boundIndexBuffer=v,this.boundVertexOffset=x,this.boundDynamicVertexBuffer=F,this.boundDynamicVertexBuffer2=M,this.boundDynamicVertexBuffer3=k,h.enableAttributes(X,i);for(const J of p)J.enableAttributes(X,i);F&&F.enableAttributes(X,i),M&&M.enableAttributes(X,i),k&&k.enableAttributes(X,i),h.bind(),h.setVertexAttribPointers(X,i,x);for(const J of p)J.bind(),J.setVertexAttribPointers(X,i,x);F&&(F.bind(),F.setVertexAttribPointers(X,i,x)),v&&v.bind(),M&&(M.bind(),M.setVertexAttribPointers(X,i,x)),k&&(k.bind(),k.setVertexAttribPointers(X,i,x)),G.currentNumAttributes=Q}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}const Qa=(_,i,h,p,v)=>({u_matrix:_,u_texture:0,u_ele_delta:i,u_fog_matrix:h,u_fog_color:p?p.properties.get("fog-color"):l.aM.white,u_fog_ground_blend:p?p.properties.get("fog-ground-blend"):1,u_fog_ground_blend_opacity:p?p.calculateFogBlendOpacity(v):0,u_horizon_color:p?p.properties.get("horizon-color"):l.aM.white,u_horizon_fog_blend:p?p.properties.get("horizon-fog-blend"):1});function al(_){const i=[];for(let h=0;h<_.length;h++){if(_[h]===null)continue;const p=_[h].split(" ");i.push(p.pop())}return i}class JA{constructor(i,h,p,v,x,F){const M=i.gl;this.program=M.createProgram();const k=al(h.staticAttributes),Q=p?p.getBinderAttributes():[],G=k.concat(Q),X=js.prelude.staticUniforms?al(js.prelude.staticUniforms):[],J=h.staticUniforms?al(h.staticUniforms):[],ee=p?p.getBinderUniforms():[],ue=X.concat(J).concat(ee),ge=[];for(const it of ue)ge.indexOf(it)<0&&ge.push(it);const Ce=p?p.defines():[];x&&Ce.push("#define OVERDRAW_INSPECTOR;"),F&&Ce.push("#define TERRAIN3D;");const xe=Ce.concat(js.prelude.fragmentSource,h.fragmentSource).join(`
`),Oe=Ce.concat(js.prelude.vertexSource,h.vertexSource).join(`
`),Ee=M.createShader(M.FRAGMENT_SHADER);if(M.isContextLost())return void(this.failedToCreate=!0);if(M.shaderSource(Ee,xe),M.compileShader(Ee),!M.getShaderParameter(Ee,M.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${M.getShaderInfoLog(Ee)}`);M.attachShader(this.program,Ee);const qe=M.createShader(M.VERTEX_SHADER);if(M.isContextLost())return void(this.failedToCreate=!0);if(M.shaderSource(qe,Oe),M.compileShader(qe),!M.getShaderParameter(qe,M.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${M.getShaderInfoLog(qe)}`);M.attachShader(this.program,qe),this.attributes={};const Ke={};this.numAttributes=G.length;for(let it=0;it<this.numAttributes;it++)G[it]&&(M.bindAttribLocation(this.program,it,G[it]),this.attributes[G[it]]=it);if(M.linkProgram(this.program),!M.getProgramParameter(this.program,M.LINK_STATUS))throw new Error(`Program failed to link: ${M.getProgramInfoLog(this.program)}`);M.deleteShader(qe),M.deleteShader(Ee);for(let it=0;it<ge.length;it++){const bt=ge[it];if(bt&&!Ke[bt]){const Ct=M.getUniformLocation(this.program,bt);Ct&&(Ke[bt]=Ct)}}this.fixedUniforms=v(i,Ke),this.terrainUniforms=((it,bt)=>({u_depth:new l.aH(it,bt.u_depth),u_terrain:new l.aH(it,bt.u_terrain),u_terrain_dim:new l.aI(it,bt.u_terrain_dim),u_terrain_matrix:new l.aJ(it,bt.u_terrain_matrix),u_terrain_unpack:new l.aK(it,bt.u_terrain_unpack),u_terrain_exaggeration:new l.aI(it,bt.u_terrain_exaggeration)}))(i,Ke),this.binderUniforms=p?p.getUniforms(i,Ke):[]}draw(i,h,p,v,x,F,M,k,Q,G,X,J,ee,ue,ge,Ce,xe,Oe){const Ee=i.gl;if(this.failedToCreate)return;if(i.program.set(this.program),i.setDepthMode(p),i.setStencilMode(v),i.setColorMode(x),i.setCullFace(F),k){i.activeTexture.set(Ee.TEXTURE2),Ee.bindTexture(Ee.TEXTURE_2D,k.depthTexture),i.activeTexture.set(Ee.TEXTURE3),Ee.bindTexture(Ee.TEXTURE_2D,k.texture);for(const Ke in this.terrainUniforms)this.terrainUniforms[Ke].set(k[Ke])}for(const Ke in this.fixedUniforms)this.fixedUniforms[Ke].set(M[Ke]);ge&&ge.setUniforms(i,this.binderUniforms,ee,{zoom:ue});let qe=0;switch(h){case Ee.LINES:qe=2;break;case Ee.TRIANGLES:qe=3;break;case Ee.LINE_STRIP:qe=1}for(const Ke of J.get()){const it=Ke.vaos||(Ke.vaos={});(it[Q]||(it[Q]=new YA)).bind(i,this,G,ge?ge.getPaintVertexBuffers():[],X,Ke.vertexOffset,Ce,xe,Oe),Ee.drawElements(h,Ke.primitiveLength*qe,Ee.UNSIGNED_SHORT,Ke.primitiveOffset*qe*2)}}}function Bs(_,i,h){const p=1/zr(h,1,i.transform.tileZoom),v=Math.pow(2,h.tileID.overscaledZ),x=h.tileSize*Math.pow(2,i.transform.tileZoom)/v,F=x*(h.tileID.canonical.x+h.tileID.wrap*v),M=x*h.tileID.canonical.y;return{u_image:0,u_texsize:h.imageAtlasTexture.size,u_scale:[p,_.fromScale,_.toScale],u_fade:_.t,u_pixel_coord_upper:[F>>16,M>>16],u_pixel_coord_lower:[65535&F,65535&M]}}const Po=(_,i,h,p)=>{const v=i.style.light,x=v.properties.get("position"),F=[x.x,x.y,x.z],M=(function(){var Q=new l.A(9);return l.A!=Float32Array&&(Q[1]=0,Q[2]=0,Q[3]=0,Q[5]=0,Q[6]=0,Q[7]=0),Q[0]=1,Q[4]=1,Q[8]=1,Q})();v.properties.get("anchor")==="viewport"&&(function(Q,G){var X=Math.sin(G),J=Math.cos(G);Q[0]=J,Q[1]=X,Q[2]=0,Q[3]=-X,Q[4]=J,Q[5]=0,Q[6]=0,Q[7]=0,Q[8]=1})(M,-i.transform.angle),(function(Q,G,X){var J=G[0],ee=G[1],ue=G[2];Q[0]=J*X[0]+ee*X[3]+ue*X[6],Q[1]=J*X[1]+ee*X[4]+ue*X[7],Q[2]=J*X[2]+ee*X[5]+ue*X[8]})(F,F,M);const k=v.properties.get("color");return{u_matrix:_,u_lightpos:F,u_lightintensity:v.properties.get("intensity"),u_lightcolor:[k.r,k.g,k.b],u_vertical_gradient:+h,u_opacity:p}},eu=(_,i,h,p,v,x,F)=>l.e(Po(_,i,h,p),Bs(x,i,F),{u_height_factor:-Math.pow(2,v.overscaledZ)/F.tileSize/8}),Hl=_=>({u_matrix:_}),Eu=(_,i,h,p)=>l.e(Hl(_),Bs(h,i,p)),lc=(_,i)=>({u_matrix:_,u_world:i}),Ac=(_,i,h,p,v)=>l.e(Eu(_,i,h,p),{u_world:v}),Cs=(_,i,h,p)=>{const v=_.transform;let x,F;if(p.paint.get("circle-pitch-alignment")==="map"){const M=zr(h,1,v.zoom);x=!0,F=[M,M]}else x=!1,F=v.pixelsToGLUnits;return{u_camera_to_center_distance:v.cameraToCenterDistance,u_scale_with_map:+(p.paint.get("circle-pitch-scale")==="map"),u_matrix:_.translatePosMatrix(i.posMatrix,h,p.paint.get("circle-translate"),p.paint.get("circle-translate-anchor")),u_pitch_with_map:+x,u_device_pixel_ratio:_.pixelRatio,u_extrude_scale:F}},Na=(_,i,h)=>({u_matrix:_,u_inv_matrix:i,u_camera_to_center_distance:h.cameraToCenterDistance,u_viewport_size:[h.width,h.height]}),Ks=(_,i,h=1)=>({u_matrix:_,u_color:i,u_overlay:0,u_overlay_scale:h}),la=_=>({u_matrix:_}),Zi=(_,i,h,p)=>({u_matrix:_,u_extrude_scale:zr(i,1,h),u_intensity:p}),jr=(_,i,h,p)=>{const v=l.H();l.aP(v,0,_.width,_.height,0,0,1);const x=_.context.gl;return{u_matrix:v,u_world:[x.drawingBufferWidth,x.drawingBufferHeight],u_image:h,u_color_ramp:p,u_opacity:i.paint.get("heatmap-opacity")}};function tu(_,i){const h=Math.pow(2,i.canonical.z),p=i.canonical.y;return[new l.Z(0,p/h).toLngLat().lat,new l.Z(0,(p+1)/h).toLngLat().lat]}const gA=(_,i,h,p)=>{const v=_.transform;return{u_matrix:mA(_,i,h,p),u_ratio:1/zr(i,1,v.zoom),u_device_pixel_ratio:_.pixelRatio,u_units_to_pixels:[1/v.pixelsToGLUnits[0],1/v.pixelsToGLUnits[1]]}},uc=(_,i,h,p,v)=>l.e(gA(_,i,h,v),{u_image:0,u_image_height:p}),Sa=(_,i,h,p,v)=>{const x=_.transform,F=Tu(i,x);return{u_matrix:mA(_,i,h,v),u_texsize:i.imageAtlasTexture.size,u_ratio:1/zr(i,1,x.zoom),u_device_pixel_ratio:_.pixelRatio,u_image:0,u_scale:[F,p.fromScale,p.toScale],u_fade:p.t,u_units_to_pixels:[1/x.pixelsToGLUnits[0],1/x.pixelsToGLUnits[1]]}},Ra=(_,i,h,p,v,x)=>{const F=_.lineAtlas,M=Tu(i,_.transform),k=h.layout.get("line-cap")==="round",Q=F.getDash(p.from,k),G=F.getDash(p.to,k),X=Q.width*v.fromScale,J=G.width*v.toScale;return l.e(gA(_,i,h,x),{u_patternscale_a:[M/X,-Q.height/2],u_patternscale_b:[M/J,-G.height/2],u_sdfgamma:F.width/(256*Math.min(X,J)*_.pixelRatio)/2,u_image:0,u_tex_y_a:Q.y,u_tex_y_b:G.y,u_mix:v.t})};function Tu(_,i){return 1/zr(_,1,i.tileZoom)}function mA(_,i,h,p){return _.translatePosMatrix(p?p.posMatrix:i.tileID.posMatrix,i,h.paint.get("line-translate"),h.paint.get("line-translate-anchor"))}const Vs=(_,i,h,p,v)=>{return{u_matrix:_,u_tl_parent:i,u_scale_parent:h,u_buffer_scale:1,u_fade_t:p.mix,u_opacity:p.opacity*v.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:v.paint.get("raster-brightness-min"),u_brightness_high:v.paint.get("raster-brightness-max"),u_saturation_factor:(F=v.paint.get("raster-saturation"),F>0?1-1/(1.001-F):-F),u_contrast_factor:(x=v.paint.get("raster-contrast"),x>0?1/(1-x):1+x),u_spin_weights:ru(v.paint.get("raster-hue-rotate"))};var x,F};function ru(_){_*=Math.PI/180;const i=Math.sin(_),h=Math.cos(_);return[(2*h+1)/3,(-Math.sqrt(3)*i-h+1)/3,(Math.sqrt(3)*i-h+1)/3]}const Oo=(_,i,h,p,v,x,F,M,k,Q,G,X,J,ee)=>{const ue=F.transform;return{u_is_size_zoom_constant:+(_==="constant"||_==="source"),u_is_size_feature_constant:+(_==="constant"||_==="camera"),u_size_t:i?i.uSizeT:0,u_size:i?i.uSize:0,u_camera_to_center_distance:ue.cameraToCenterDistance,u_pitch:ue.pitch/360*2*Math.PI,u_rotate_symbol:+h,u_aspect_ratio:ue.width/ue.height,u_fade_change:F.options.fadeDuration?F.symbolFadeChange:1,u_matrix:M,u_label_plane_matrix:k,u_coord_matrix:Q,u_is_text:+X,u_pitch_with_map:+p,u_is_along_line:v,u_is_variable_anchor:x,u_texsize:J,u_texture:0,u_translation:G,u_pitched_scale:ee}},yA=(_,i,h,p,v,x,F,M,k,Q,G,X,J,ee,ue)=>{const ge=F.transform;return l.e(Oo(_,i,h,p,v,x,F,M,k,Q,G,X,J,ue),{u_gamma_scale:p?Math.cos(ge._pitch)*ge.cameraToCenterDistance:1,u_device_pixel_ratio:F.pixelRatio,u_is_halo:1})},Ss=(_,i,h,p,v,x,F,M,k,Q,G,X,J,ee)=>l.e(yA(_,i,h,p,v,x,F,M,k,Q,G,!0,X,!0,ee),{u_texsize_icon:J,u_texture_icon:1}),jl=(_,i,h)=>({u_matrix:_,u_opacity:i,u_color:h}),vA=(_,i,h,p,v,x)=>l.e((function(F,M,k,Q){const G=k.imageManager.getPattern(F.from.toString()),X=k.imageManager.getPattern(F.to.toString()),{width:J,height:ee}=k.imageManager.getPixelSize(),ue=Math.pow(2,Q.tileID.overscaledZ),ge=Q.tileSize*Math.pow(2,k.transform.tileZoom)/ue,Ce=ge*(Q.tileID.canonical.x+Q.tileID.wrap*ue),xe=ge*Q.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:G.tl,u_pattern_br_a:G.br,u_pattern_tl_b:X.tl,u_pattern_br_b:X.br,u_texsize:[J,ee],u_mix:M.t,u_pattern_size_a:G.displaySize,u_pattern_size_b:X.displaySize,u_scale_a:M.fromScale,u_scale_b:M.toScale,u_tile_units_to_pixels:1/zr(Q,1,k.transform.tileZoom),u_pixel_coord_upper:[Ce>>16,xe>>16],u_pixel_coord_lower:[65535&Ce,65535&xe]}})(p,x,h,v),{u_matrix:_,u_opacity:i}),Aa={fillExtrusion:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix),u_lightpos:new l.aN(_,i.u_lightpos),u_lightintensity:new l.aI(_,i.u_lightintensity),u_lightcolor:new l.aN(_,i.u_lightcolor),u_vertical_gradient:new l.aI(_,i.u_vertical_gradient),u_opacity:new l.aI(_,i.u_opacity)}),fillExtrusionPattern:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix),u_lightpos:new l.aN(_,i.u_lightpos),u_lightintensity:new l.aI(_,i.u_lightintensity),u_lightcolor:new l.aN(_,i.u_lightcolor),u_vertical_gradient:new l.aI(_,i.u_vertical_gradient),u_height_factor:new l.aI(_,i.u_height_factor),u_image:new l.aH(_,i.u_image),u_texsize:new l.aO(_,i.u_texsize),u_pixel_coord_upper:new l.aO(_,i.u_pixel_coord_upper),u_pixel_coord_lower:new l.aO(_,i.u_pixel_coord_lower),u_scale:new l.aN(_,i.u_scale),u_fade:new l.aI(_,i.u_fade),u_opacity:new l.aI(_,i.u_opacity)}),fill:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix)}),fillPattern:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix),u_image:new l.aH(_,i.u_image),u_texsize:new l.aO(_,i.u_texsize),u_pixel_coord_upper:new l.aO(_,i.u_pixel_coord_upper),u_pixel_coord_lower:new l.aO(_,i.u_pixel_coord_lower),u_scale:new l.aN(_,i.u_scale),u_fade:new l.aI(_,i.u_fade)}),fillOutline:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix),u_world:new l.aO(_,i.u_world)}),fillOutlinePattern:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix),u_world:new l.aO(_,i.u_world),u_image:new l.aH(_,i.u_image),u_texsize:new l.aO(_,i.u_texsize),u_pixel_coord_upper:new l.aO(_,i.u_pixel_coord_upper),u_pixel_coord_lower:new l.aO(_,i.u_pixel_coord_lower),u_scale:new l.aN(_,i.u_scale),u_fade:new l.aI(_,i.u_fade)}),circle:(_,i)=>({u_camera_to_center_distance:new l.aI(_,i.u_camera_to_center_distance),u_scale_with_map:new l.aH(_,i.u_scale_with_map),u_pitch_with_map:new l.aH(_,i.u_pitch_with_map),u_extrude_scale:new l.aO(_,i.u_extrude_scale),u_device_pixel_ratio:new l.aI(_,i.u_device_pixel_ratio),u_matrix:new l.aJ(_,i.u_matrix)}),collisionBox:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix),u_pixel_extrude_scale:new l.aO(_,i.u_pixel_extrude_scale)}),collisionCircle:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix),u_inv_matrix:new l.aJ(_,i.u_inv_matrix),u_camera_to_center_distance:new l.aI(_,i.u_camera_to_center_distance),u_viewport_size:new l.aO(_,i.u_viewport_size)}),debug:(_,i)=>({u_color:new l.aL(_,i.u_color),u_matrix:new l.aJ(_,i.u_matrix),u_overlay:new l.aH(_,i.u_overlay),u_overlay_scale:new l.aI(_,i.u_overlay_scale)}),clippingMask:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix)}),heatmap:(_,i)=>({u_extrude_scale:new l.aI(_,i.u_extrude_scale),u_intensity:new l.aI(_,i.u_intensity),u_matrix:new l.aJ(_,i.u_matrix)}),heatmapTexture:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix),u_world:new l.aO(_,i.u_world),u_image:new l.aH(_,i.u_image),u_color_ramp:new l.aH(_,i.u_color_ramp),u_opacity:new l.aI(_,i.u_opacity)}),hillshade:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix),u_image:new l.aH(_,i.u_image),u_latrange:new l.aO(_,i.u_latrange),u_light:new l.aO(_,i.u_light),u_shadow:new l.aL(_,i.u_shadow),u_highlight:new l.aL(_,i.u_highlight),u_accent:new l.aL(_,i.u_accent)}),hillshadePrepare:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix),u_image:new l.aH(_,i.u_image),u_dimension:new l.aO(_,i.u_dimension),u_zoom:new l.aI(_,i.u_zoom),u_unpack:new l.aK(_,i.u_unpack)}),line:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix),u_ratio:new l.aI(_,i.u_ratio),u_device_pixel_ratio:new l.aI(_,i.u_device_pixel_ratio),u_units_to_pixels:new l.aO(_,i.u_units_to_pixels)}),lineGradient:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix),u_ratio:new l.aI(_,i.u_ratio),u_device_pixel_ratio:new l.aI(_,i.u_device_pixel_ratio),u_units_to_pixels:new l.aO(_,i.u_units_to_pixels),u_image:new l.aH(_,i.u_image),u_image_height:new l.aI(_,i.u_image_height)}),linePattern:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix),u_texsize:new l.aO(_,i.u_texsize),u_ratio:new l.aI(_,i.u_ratio),u_device_pixel_ratio:new l.aI(_,i.u_device_pixel_ratio),u_image:new l.aH(_,i.u_image),u_units_to_pixels:new l.aO(_,i.u_units_to_pixels),u_scale:new l.aN(_,i.u_scale),u_fade:new l.aI(_,i.u_fade)}),lineSDF:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix),u_ratio:new l.aI(_,i.u_ratio),u_device_pixel_ratio:new l.aI(_,i.u_device_pixel_ratio),u_units_to_pixels:new l.aO(_,i.u_units_to_pixels),u_patternscale_a:new l.aO(_,i.u_patternscale_a),u_patternscale_b:new l.aO(_,i.u_patternscale_b),u_sdfgamma:new l.aI(_,i.u_sdfgamma),u_image:new l.aH(_,i.u_image),u_tex_y_a:new l.aI(_,i.u_tex_y_a),u_tex_y_b:new l.aI(_,i.u_tex_y_b),u_mix:new l.aI(_,i.u_mix)}),raster:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix),u_tl_parent:new l.aO(_,i.u_tl_parent),u_scale_parent:new l.aI(_,i.u_scale_parent),u_buffer_scale:new l.aI(_,i.u_buffer_scale),u_fade_t:new l.aI(_,i.u_fade_t),u_opacity:new l.aI(_,i.u_opacity),u_image0:new l.aH(_,i.u_image0),u_image1:new l.aH(_,i.u_image1),u_brightness_low:new l.aI(_,i.u_brightness_low),u_brightness_high:new l.aI(_,i.u_brightness_high),u_saturation_factor:new l.aI(_,i.u_saturation_factor),u_contrast_factor:new l.aI(_,i.u_contrast_factor),u_spin_weights:new l.aN(_,i.u_spin_weights)}),symbolIcon:(_,i)=>({u_is_size_zoom_constant:new l.aH(_,i.u_is_size_zoom_constant),u_is_size_feature_constant:new l.aH(_,i.u_is_size_feature_constant),u_size_t:new l.aI(_,i.u_size_t),u_size:new l.aI(_,i.u_size),u_camera_to_center_distance:new l.aI(_,i.u_camera_to_center_distance),u_pitch:new l.aI(_,i.u_pitch),u_rotate_symbol:new l.aH(_,i.u_rotate_symbol),u_aspect_ratio:new l.aI(_,i.u_aspect_ratio),u_fade_change:new l.aI(_,i.u_fade_change),u_matrix:new l.aJ(_,i.u_matrix),u_label_plane_matrix:new l.aJ(_,i.u_label_plane_matrix),u_coord_matrix:new l.aJ(_,i.u_coord_matrix),u_is_text:new l.aH(_,i.u_is_text),u_pitch_with_map:new l.aH(_,i.u_pitch_with_map),u_is_along_line:new l.aH(_,i.u_is_along_line),u_is_variable_anchor:new l.aH(_,i.u_is_variable_anchor),u_texsize:new l.aO(_,i.u_texsize),u_texture:new l.aH(_,i.u_texture),u_translation:new l.aO(_,i.u_translation),u_pitched_scale:new l.aI(_,i.u_pitched_scale)}),symbolSDF:(_,i)=>({u_is_size_zoom_constant:new l.aH(_,i.u_is_size_zoom_constant),u_is_size_feature_constant:new l.aH(_,i.u_is_size_feature_constant),u_size_t:new l.aI(_,i.u_size_t),u_size:new l.aI(_,i.u_size),u_camera_to_center_distance:new l.aI(_,i.u_camera_to_center_distance),u_pitch:new l.aI(_,i.u_pitch),u_rotate_symbol:new l.aH(_,i.u_rotate_symbol),u_aspect_ratio:new l.aI(_,i.u_aspect_ratio),u_fade_change:new l.aI(_,i.u_fade_change),u_matrix:new l.aJ(_,i.u_matrix),u_label_plane_matrix:new l.aJ(_,i.u_label_plane_matrix),u_coord_matrix:new l.aJ(_,i.u_coord_matrix),u_is_text:new l.aH(_,i.u_is_text),u_pitch_with_map:new l.aH(_,i.u_pitch_with_map),u_is_along_line:new l.aH(_,i.u_is_along_line),u_is_variable_anchor:new l.aH(_,i.u_is_variable_anchor),u_texsize:new l.aO(_,i.u_texsize),u_texture:new l.aH(_,i.u_texture),u_gamma_scale:new l.aI(_,i.u_gamma_scale),u_device_pixel_ratio:new l.aI(_,i.u_device_pixel_ratio),u_is_halo:new l.aH(_,i.u_is_halo),u_translation:new l.aO(_,i.u_translation),u_pitched_scale:new l.aI(_,i.u_pitched_scale)}),symbolTextAndIcon:(_,i)=>({u_is_size_zoom_constant:new l.aH(_,i.u_is_size_zoom_constant),u_is_size_feature_constant:new l.aH(_,i.u_is_size_feature_constant),u_size_t:new l.aI(_,i.u_size_t),u_size:new l.aI(_,i.u_size),u_camera_to_center_distance:new l.aI(_,i.u_camera_to_center_distance),u_pitch:new l.aI(_,i.u_pitch),u_rotate_symbol:new l.aH(_,i.u_rotate_symbol),u_aspect_ratio:new l.aI(_,i.u_aspect_ratio),u_fade_change:new l.aI(_,i.u_fade_change),u_matrix:new l.aJ(_,i.u_matrix),u_label_plane_matrix:new l.aJ(_,i.u_label_plane_matrix),u_coord_matrix:new l.aJ(_,i.u_coord_matrix),u_is_text:new l.aH(_,i.u_is_text),u_pitch_with_map:new l.aH(_,i.u_pitch_with_map),u_is_along_line:new l.aH(_,i.u_is_along_line),u_is_variable_anchor:new l.aH(_,i.u_is_variable_anchor),u_texsize:new l.aO(_,i.u_texsize),u_texsize_icon:new l.aO(_,i.u_texsize_icon),u_texture:new l.aH(_,i.u_texture),u_texture_icon:new l.aH(_,i.u_texture_icon),u_gamma_scale:new l.aI(_,i.u_gamma_scale),u_device_pixel_ratio:new l.aI(_,i.u_device_pixel_ratio),u_is_halo:new l.aH(_,i.u_is_halo),u_translation:new l.aO(_,i.u_translation),u_pitched_scale:new l.aI(_,i.u_pitched_scale)}),background:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix),u_opacity:new l.aI(_,i.u_opacity),u_color:new l.aL(_,i.u_color)}),backgroundPattern:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix),u_opacity:new l.aI(_,i.u_opacity),u_image:new l.aH(_,i.u_image),u_pattern_tl_a:new l.aO(_,i.u_pattern_tl_a),u_pattern_br_a:new l.aO(_,i.u_pattern_br_a),u_pattern_tl_b:new l.aO(_,i.u_pattern_tl_b),u_pattern_br_b:new l.aO(_,i.u_pattern_br_b),u_texsize:new l.aO(_,i.u_texsize),u_mix:new l.aI(_,i.u_mix),u_pattern_size_a:new l.aO(_,i.u_pattern_size_a),u_pattern_size_b:new l.aO(_,i.u_pattern_size_b),u_scale_a:new l.aI(_,i.u_scale_a),u_scale_b:new l.aI(_,i.u_scale_b),u_pixel_coord_upper:new l.aO(_,i.u_pixel_coord_upper),u_pixel_coord_lower:new l.aO(_,i.u_pixel_coord_lower),u_tile_units_to_pixels:new l.aI(_,i.u_tile_units_to_pixels)}),terrain:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix),u_texture:new l.aH(_,i.u_texture),u_ele_delta:new l.aI(_,i.u_ele_delta),u_fog_matrix:new l.aJ(_,i.u_fog_matrix),u_fog_color:new l.aL(_,i.u_fog_color),u_fog_ground_blend:new l.aI(_,i.u_fog_ground_blend),u_fog_ground_blend_opacity:new l.aI(_,i.u_fog_ground_blend_opacity),u_horizon_color:new l.aL(_,i.u_horizon_color),u_horizon_fog_blend:new l.aI(_,i.u_horizon_fog_blend)}),terrainDepth:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix),u_ele_delta:new l.aI(_,i.u_ele_delta)}),terrainCoords:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix),u_texture:new l.aH(_,i.u_texture),u_terrain_coords_id:new l.aI(_,i.u_terrain_coords_id),u_ele_delta:new l.aI(_,i.u_ele_delta)}),sky:(_,i)=>({u_sky_color:new l.aL(_,i.u_sky_color),u_horizon_color:new l.aL(_,i.u_horizon_color),u_horizon:new l.aI(_,i.u_horizon),u_sky_horizon_blend:new l.aI(_,i.u_sky_horizon_blend)})};class pa{constructor(i,h,p){this.context=i;const v=i.gl;this.buffer=v.createBuffer(),this.dynamicDraw=!!p,this.context.unbindVAO(),i.bindElementBuffer.set(this.buffer),v.bufferData(v.ELEMENT_ARRAY_BUFFER,h.arrayBuffer,this.dynamicDraw?v.DYNAMIC_DRAW:v.STATIC_DRAW),this.dynamicDraw||delete h.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(i){const h=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),h.bufferSubData(h.ELEMENT_ARRAY_BUFFER,0,i.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const po={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class Do{constructor(i,h,p,v){this.length=h.length,this.attributes=p,this.itemSize=h.bytesPerElement,this.dynamicDraw=v,this.context=i;const x=i.gl;this.buffer=x.createBuffer(),i.bindVertexBuffer.set(this.buffer),x.bufferData(x.ARRAY_BUFFER,h.arrayBuffer,this.dynamicDraw?x.DYNAMIC_DRAW:x.STATIC_DRAW),this.dynamicDraw||delete h.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(i){if(i.length!==this.length)throw new Error(`Length of new data is ${i.length}, which doesn't match current length of ${this.length}`);const h=this.context.gl;this.bind(),h.bufferSubData(h.ARRAY_BUFFER,0,i.arrayBuffer)}enableAttributes(i,h){for(let p=0;p<this.attributes.length;p++){const v=h.attributes[this.attributes[p].name];v!==void 0&&i.enableVertexAttribArray(v)}}setVertexAttribPointers(i,h,p){for(let v=0;v<this.attributes.length;v++){const x=this.attributes[v],F=h.attributes[x.name];F!==void 0&&i.vertexAttribPointer(F,x.components,i[po[x.type]],!1,this.itemSize,x.offset+this.itemSize*(p||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const go=new WeakMap;function Es(_){var i;if(go.has(_))return go.get(_);{const h=(i=_.getParameter(_.VERSION))===null||i===void 0?void 0:i.startsWith("WebGL 2.0");return go.set(_,h),h}}class _n{constructor(i){this.gl=i.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(i){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class mo extends _n{getDefault(){return l.aM.transparent}set(i){const h=this.current;(i.r!==h.r||i.g!==h.g||i.b!==h.b||i.a!==h.a||this.dirty)&&(this.gl.clearColor(i.r,i.g,i.b,i.a),this.current=i,this.dirty=!1)}}class nu extends _n{getDefault(){return 1}set(i){(i!==this.current||this.dirty)&&(this.gl.clearDepth(i),this.current=i,this.dirty=!1)}}class sl extends _n{getDefault(){return 0}set(i){(i!==this.current||this.dirty)&&(this.gl.clearStencil(i),this.current=i,this.dirty=!1)}}class Kl extends _n{getDefault(){return[!0,!0,!0,!0]}set(i){const h=this.current;(i[0]!==h[0]||i[1]!==h[1]||i[2]!==h[2]||i[3]!==h[3]||this.dirty)&&(this.gl.colorMask(i[0],i[1],i[2],i[3]),this.current=i,this.dirty=!1)}}class ol extends _n{getDefault(){return!0}set(i){(i!==this.current||this.dirty)&&(this.gl.depthMask(i),this.current=i,this.dirty=!1)}}class Nc extends _n{getDefault(){return 255}set(i){(i!==this.current||this.dirty)&&(this.gl.stencilMask(i),this.current=i,this.dirty=!1)}}class ll extends _n{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(i){const h=this.current;(i.func!==h.func||i.ref!==h.ref||i.mask!==h.mask||this.dirty)&&(this.gl.stencilFunc(i.func,i.ref,i.mask),this.current=i,this.dirty=!1)}}class Iu extends _n{getDefault(){const i=this.gl;return[i.KEEP,i.KEEP,i.KEEP]}set(i){const h=this.current;(i[0]!==h[0]||i[1]!==h[1]||i[2]!==h[2]||this.dirty)&&(this.gl.stencilOp(i[0],i[1],i[2]),this.current=i,this.dirty=!1)}}class j extends _n{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const h=this.gl;i?h.enable(h.STENCIL_TEST):h.disable(h.STENCIL_TEST),this.current=i,this.dirty=!1}}class fe extends _n{getDefault(){return[0,1]}set(i){const h=this.current;(i[0]!==h[0]||i[1]!==h[1]||this.dirty)&&(this.gl.depthRange(i[0],i[1]),this.current=i,this.dirty=!1)}}class Qe extends _n{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const h=this.gl;i?h.enable(h.DEPTH_TEST):h.disable(h.DEPTH_TEST),this.current=i,this.dirty=!1}}class rt extends _n{getDefault(){return this.gl.LESS}set(i){(i!==this.current||this.dirty)&&(this.gl.depthFunc(i),this.current=i,this.dirty=!1)}}class lt extends _n{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const h=this.gl;i?h.enable(h.BLEND):h.disable(h.BLEND),this.current=i,this.dirty=!1}}class Ot extends _n{getDefault(){const i=this.gl;return[i.ONE,i.ZERO]}set(i){const h=this.current;(i[0]!==h[0]||i[1]!==h[1]||this.dirty)&&(this.gl.blendFunc(i[0],i[1]),this.current=i,this.dirty=!1)}}class jt extends _n{getDefault(){return l.aM.transparent}set(i){const h=this.current;(i.r!==h.r||i.g!==h.g||i.b!==h.b||i.a!==h.a||this.dirty)&&(this.gl.blendColor(i.r,i.g,i.b,i.a),this.current=i,this.dirty=!1)}}class yr extends _n{getDefault(){return this.gl.FUNC_ADD}set(i){(i!==this.current||this.dirty)&&(this.gl.blendEquation(i),this.current=i,this.dirty=!1)}}class wr extends _n{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const h=this.gl;i?h.enable(h.CULL_FACE):h.disable(h.CULL_FACE),this.current=i,this.dirty=!1}}class tn extends _n{getDefault(){return this.gl.BACK}set(i){(i!==this.current||this.dirty)&&(this.gl.cullFace(i),this.current=i,this.dirty=!1)}}class An extends _n{getDefault(){return this.gl.CCW}set(i){(i!==this.current||this.dirty)&&(this.gl.frontFace(i),this.current=i,this.dirty=!1)}}class zn extends _n{getDefault(){return null}set(i){(i!==this.current||this.dirty)&&(this.gl.useProgram(i),this.current=i,this.dirty=!1)}}class Mi extends _n{getDefault(){return this.gl.TEXTURE0}set(i){(i!==this.current||this.dirty)&&(this.gl.activeTexture(i),this.current=i,this.dirty=!1)}}class zi extends _n{getDefault(){const i=this.gl;return[0,0,i.drawingBufferWidth,i.drawingBufferHeight]}set(i){const h=this.current;(i[0]!==h[0]||i[1]!==h[1]||i[2]!==h[2]||i[3]!==h[3]||this.dirty)&&(this.gl.viewport(i[0],i[1],i[2],i[3]),this.current=i,this.dirty=!1)}}class si extends _n{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const h=this.gl;h.bindFramebuffer(h.FRAMEBUFFER,i),this.current=i,this.dirty=!1}}class ua extends _n{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const h=this.gl;h.bindRenderbuffer(h.RENDERBUFFER,i),this.current=i,this.dirty=!1}}class Hi extends _n{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const h=this.gl;h.bindTexture(h.TEXTURE_2D,i),this.current=i,this.dirty=!1}}class Ea extends _n{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const h=this.gl;h.bindBuffer(h.ARRAY_BUFFER,i),this.current=i,this.dirty=!1}}class yo extends _n{getDefault(){return null}set(i){const h=this.gl;h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,i),this.current=i,this.dirty=!1}}class ga extends _n{getDefault(){return null}set(i){var h;if(i===this.current&&!this.dirty)return;const p=this.gl;Es(p)?p.bindVertexArray(i):(h=p.getExtension("OES_vertex_array_object"))===null||h===void 0||h.bindVertexArrayOES(i),this.current=i,this.dirty=!1}}class ko extends _n{getDefault(){return 4}set(i){if(i===this.current&&!this.dirty)return;const h=this.gl;h.pixelStorei(h.UNPACK_ALIGNMENT,i),this.current=i,this.dirty=!1}}class iu extends _n{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const h=this.gl;h.pixelStorei(h.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i),this.current=i,this.dirty=!1}}class _A extends _n{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const h=this.gl;h.pixelStorei(h.UNPACK_FLIP_Y_WEBGL,i),this.current=i,this.dirty=!1}}class qs extends _n{constructor(i,h){super(i),this.context=i,this.parent=h}getDefault(){return null}}class Gs extends qs{setDirty(){this.dirty=!0}set(i){if(i===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const h=this.gl;h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,i,0),this.current=i,this.dirty=!1}}class Xs extends qs{set(i){if(i===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const h=this.gl;h.framebufferRenderbuffer(h.FRAMEBUFFER,h.DEPTH_ATTACHMENT,h.RENDERBUFFER,i),this.current=i,this.dirty=!1}}class Qo extends qs{set(i){if(i===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const h=this.gl;h.framebufferRenderbuffer(h.FRAMEBUFFER,h.DEPTH_STENCIL_ATTACHMENT,h.RENDERBUFFER,i),this.current=i,this.dirty=!1}}class Ta{constructor(i,h,p,v,x){this.context=i,this.width=h,this.height=p;const F=i.gl,M=this.framebuffer=F.createFramebuffer();if(this.colorAttachment=new Gs(i,M),v)this.depthAttachment=x?new Qo(i,M):new Xs(i,M);else if(x)throw new Error("Stencil cannot be set without depth");if(F.checkFramebufferStatus(F.FRAMEBUFFER)!==F.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){const i=this.context.gl,h=this.colorAttachment.get();if(h&&i.deleteTexture(h),this.depthAttachment){const p=this.depthAttachment.get();p&&i.deleteRenderbuffer(p)}i.deleteFramebuffer(this.framebuffer)}}class ei{constructor(i,h,p){this.blendFunction=i,this.blendColor=h,this.mask=p}}ei.Replace=[1,0],ei.disabled=new ei(ei.Replace,l.aM.transparent,[!1,!1,!1,!1]),ei.unblended=new ei(ei.Replace,l.aM.transparent,[!0,!0,!0,!0]),ei.alphaBlended=new ei([1,771],l.aM.transparent,[!0,!0,!0,!0]);class wA{constructor(i){var h,p;if(this.gl=i,this.clearColor=new mo(this),this.clearDepth=new nu(this),this.clearStencil=new sl(this),this.colorMask=new Kl(this),this.depthMask=new ol(this),this.stencilMask=new Nc(this),this.stencilFunc=new ll(this),this.stencilOp=new Iu(this),this.stencilTest=new j(this),this.depthRange=new fe(this),this.depthTest=new Qe(this),this.depthFunc=new rt(this),this.blend=new lt(this),this.blendFunc=new Ot(this),this.blendColor=new jt(this),this.blendEquation=new yr(this),this.cullFace=new wr(this),this.cullFaceSide=new tn(this),this.frontFace=new An(this),this.program=new zn(this),this.activeTexture=new Mi(this),this.viewport=new zi(this),this.bindFramebuffer=new si(this),this.bindRenderbuffer=new ua(this),this.bindTexture=new Hi(this),this.bindVertexBuffer=new Ea(this),this.bindElementBuffer=new yo(this),this.bindVertexArray=new ga(this),this.pixelStoreUnpack=new ko(this),this.pixelStoreUnpackPremultiplyAlpha=new iu(this),this.pixelStoreUnpackFlipY=new _A(this),this.extTextureFilterAnisotropic=i.getExtension("EXT_texture_filter_anisotropic")||i.getExtension("MOZ_EXT_texture_filter_anisotropic")||i.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=i.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=i.getParameter(i.MAX_TEXTURE_SIZE),Es(i)){this.HALF_FLOAT=i.HALF_FLOAT;const v=i.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(h=i.RGBA16F)!==null&&h!==void 0?h:v?.RGBA16F_EXT,this.RGB16F=(p=i.RGB16F)!==null&&p!==void 0?p:v?.RGB16F_EXT,i.getExtension("EXT_color_buffer_float")}else{i.getExtension("EXT_color_buffer_half_float"),i.getExtension("OES_texture_half_float_linear");const v=i.getExtension("OES_texture_half_float");this.HALF_FLOAT=v?.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(i,h){return new pa(this,i,h)}createVertexBuffer(i,h,p){return new Do(this,i,h,p)}createRenderbuffer(i,h,p){const v=this.gl,x=v.createRenderbuffer();return this.bindRenderbuffer.set(x),v.renderbufferStorage(v.RENDERBUFFER,i,h,p),this.bindRenderbuffer.set(null),x}createFramebuffer(i,h,p,v){return new Ta(this,i,h,p,v)}clear({color:i,depth:h,stencil:p}){const v=this.gl;let x=0;i&&(x|=v.COLOR_BUFFER_BIT,this.clearColor.set(i),this.colorMask.set([!0,!0,!0,!0])),h!==void 0&&(x|=v.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(h),this.depthMask.set(!0)),p!==void 0&&(x|=v.STENCIL_BUFFER_BIT,this.clearStencil.set(p),this.stencilMask.set(255)),v.clear(x)}setCullFace(i){i.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(i.mode),this.frontFace.set(i.frontFace))}setDepthMode(i){i.func!==this.gl.ALWAYS||i.mask?(this.depthTest.set(!0),this.depthFunc.set(i.func),this.depthMask.set(i.mask),this.depthRange.set(i.range)):this.depthTest.set(!1)}setStencilMode(i){i.test.func!==this.gl.ALWAYS||i.mask?(this.stencilTest.set(!0),this.stencilMask.set(i.mask),this.stencilOp.set([i.fail,i.depthFail,i.pass]),this.stencilFunc.set({func:i.test.func,ref:i.ref,mask:i.test.mask})):this.stencilTest.set(!1)}setColorMode(i){l.aE(i.blendFunction,ei.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(i.blendFunction),this.blendColor.set(i.blendColor)),this.colorMask.set(i.mask)}createVertexArray(){var i;return Es(this.gl)?this.gl.createVertexArray():(i=this.gl.getExtension("OES_vertex_array_object"))===null||i===void 0?void 0:i.createVertexArrayOES()}deleteVertexArray(i){var h;return Es(this.gl)?this.gl.deleteVertexArray(i):(h=this.gl.getExtension("OES_vertex_array_object"))===null||h===void 0?void 0:h.deleteVertexArrayOES(i)}unbindVAO(){this.bindVertexArray.set(null)}}class ln{constructor(i,h,p){this.func=i,this.mask=h,this.range=p}}ln.ReadOnly=!1,ln.ReadWrite=!0,ln.disabled=new ln(519,ln.ReadOnly,[0,1]);const $s=7680;class gn{constructor(i,h,p,v,x,F){this.test=i,this.ref=h,this.mask=p,this.fail=v,this.depthFail=x,this.pass=F}}gn.disabled=new gn({func:519,mask:0},0,0,$s,$s,$s);class Tn{constructor(i,h,p){this.enable=i,this.mode=h,this.frontFace=p}}let vo;function Vl(_,i,h,p,v){const x=_.context,F=x.gl,M=_.useProgram("collisionBox"),k=[];let Q=0,G=0;for(let xe=0;xe<p.length;xe++){const Oe=p[xe],Ee=i.getTile(Oe).getBucket(h);if(!Ee)continue;const qe=v?Ee.textCollisionBox:Ee.iconCollisionBox,Ke=Ee.collisionCircleArray;if(Ke.length>0){const it=l.H();l.aQ(it,Ee.placementInvProjMatrix,_.transform.glCoordMatrix),l.aQ(it,it,Ee.placementViewportMatrix),k.push({circleArray:Ke,circleOffset:G,transform:Oe.posMatrix,invTransform:it,coord:Oe}),Q+=Ke.length/4,G=Q}qe&&M.draw(x,F.LINES,ln.disabled,gn.disabled,_.colorModeForRenderPass(),Tn.disabled,{u_matrix:Oe.posMatrix,u_pixel_extrude_scale:[1/(X=_.transform).width,1/X.height]},_.style.map.terrain&&_.style.map.terrain.getTerrainData(Oe),h.id,qe.layoutVertexBuffer,qe.indexBuffer,qe.segments,null,_.transform.zoom,null,null,qe.collisionVertexBuffer)}var X;if(!v||!k.length)return;const J=_.useProgram("collisionCircle"),ee=new l.aR;ee.resize(4*Q),ee._trim();let ue=0;for(const xe of k)for(let Oe=0;Oe<xe.circleArray.length/4;Oe++){const Ee=4*Oe,qe=xe.circleArray[Ee+0],Ke=xe.circleArray[Ee+1],it=xe.circleArray[Ee+2],bt=xe.circleArray[Ee+3];ee.emplace(ue++,qe,Ke,it,bt,0),ee.emplace(ue++,qe,Ke,it,bt,1),ee.emplace(ue++,qe,Ke,it,bt,2),ee.emplace(ue++,qe,Ke,it,bt,3)}(!vo||vo.length<2*Q)&&(vo=(function(xe){const Oe=2*xe,Ee=new l.aT;Ee.resize(Oe),Ee._trim();for(let qe=0;qe<Oe;qe++){const Ke=6*qe;Ee.uint16[Ke+0]=4*qe+0,Ee.uint16[Ke+1]=4*qe+1,Ee.uint16[Ke+2]=4*qe+2,Ee.uint16[Ke+3]=4*qe+2,Ee.uint16[Ke+4]=4*qe+3,Ee.uint16[Ke+5]=4*qe+0}return Ee})(Q));const ge=x.createIndexBuffer(vo,!0),Ce=x.createVertexBuffer(ee,l.aS.members,!0);for(const xe of k){const Oe=Na(xe.transform,xe.invTransform,_.transform);J.draw(x,F.TRIANGLES,ln.disabled,gn.disabled,_.colorModeForRenderPass(),Tn.disabled,Oe,_.style.map.terrain&&_.style.map.terrain.getTerrainData(xe.coord),h.id,Ce,ge,l.a0.simpleSegment(0,2*xe.circleOffset,xe.circleArray.length,xe.circleArray.length/2),null,_.transform.zoom,null,null,null)}Ce.destroy(),ge.destroy()}Tn.disabled=new Tn(!1,1029,2305),Tn.backCCW=new Tn(!0,1029,2305);const za=l.an(new Float32Array(16));function Zs(_,i,h,p,v,x){const{horizontalAlign:F,verticalAlign:M}=l.au(_);return new l.P((-(F-.5)*i/v+p[0])*x,(-(M-.5)*h/v+p[1])*x)}function ss(_,i,h,p,v,x){const F=i.tileAnchorPoint.add(new l.P(i.translation[0],i.translation[1]));if(i.pitchWithMap){let M=p.mult(x);h||(M=M.rotate(-v));const k=F.add(M);return Me(k.x,k.y,i.labelPlaneMatrix,i.getElevation).point}if(h){const M=gt(i.tileAnchorPoint.x+1,i.tileAnchorPoint.y,i).point.sub(_),k=Math.atan(M.y/M.x)+(M.x<0?Math.PI:0);return _.add(p.rotate(k))}return _.add(p)}function Al(_,i,h,p,v,x,F,M,k,Q,G,X,J,ee){const ue=_.text.placedSymbolArray,ge=_.text.dynamicLayoutVertexArray,Ce=_.icon.dynamicLayoutVertexArray,xe={};ge.clear();for(let Oe=0;Oe<ue.length;Oe++){const Ee=ue.get(Oe),qe=Ee.hidden||!Ee.crossTileID||_.allowVerticalPlacement&&!Ee.placedOrientation?null:p[Ee.crossTileID];if(qe){const Ke=new l.P(Ee.anchorX,Ee.anchorY),it={getElevation:ee,width:v.width,height:v.height,labelPlaneMatrix:x,pitchWithMap:h,projection:G,tileAnchorPoint:Ke,translation:X,unwrappedTileID:J},bt=h?Me(Ke.x,Ke.y,F,ee):gt(Ke.x,Ke.y,it),Ct=oe(v.cameraToCenterDistance,bt.signedDistanceFromCamera);let yt=l.ai(_.textSizeData,k,Ee)*Ct/l.ap;h&&(yt*=_.tilePixelRatio/M);const{width:pt,height:Qt,anchor:St,textOffset:zt,textBoxScale:tr}=qe,Vt=Zs(St,pt,Qt,zt,tr,yt),Gt=G.getPitchedTextCorrection(v,Ke.add(new l.P(X[0],X[1])),J),rr=ss(bt.point,it,i,Vt,v.angle,Gt),un=_.allowVerticalPlacement&&Ee.placedOrientation===l.ah.vertical?Math.PI/2:0;for(let Ir=0;Ir<Ee.numGlyphs;Ir++)l.aj(ge,rr,un);Q&&Ee.associatedIconIndex>=0&&(xe[Ee.associatedIconIndex]={shiftedAnchor:rr,angle:un})}else dr(Ee.numGlyphs,ge)}if(Q){Ce.clear();const Oe=_.icon.placedSymbolArray;for(let Ee=0;Ee<Oe.length;Ee++){const qe=Oe.get(Ee);if(qe.hidden)dr(qe.numGlyphs,Ce);else{const Ke=xe[Ee];if(Ke)for(let it=0;it<qe.numGlyphs;it++)l.aj(Ce,Ke.shiftedAnchor,Ke.angle);else dr(qe.numGlyphs,Ce)}}_.icon.dynamicLayoutVertexBuffer.updateData(Ce)}_.text.dynamicLayoutVertexBuffer.updateData(ge)}function ji(_,i,h){return h.iconsInText&&i?"symbolTextAndIcon":_?"symbolSDF":"symbolIcon"}function ul(_,i,h,p,v,x,F,M,k,Q,G,X){const J=_.context,ee=J.gl,ue=_.transform,ge=nl(),Ce=M==="map",xe=k==="map",Oe=M!=="viewport"&&h.layout.get("symbol-placement")!=="point",Ee=Ce&&!xe&&!Oe,qe=!xe&&Oe,Ke=!h.layout.get("symbol-sort-key").isConstant();let it=!1;const bt=_.depthModeForSublayer(0,ln.ReadOnly),Ct=h._unevaluatedLayout.hasValue("text-variable-anchor")||h._unevaluatedLayout.hasValue("text-variable-anchor-offset"),yt=[],pt=ge.getCircleRadiusCorrection(ue);for(const Qt of p){const St=i.getTile(Qt),zt=St.getBucket(h);if(!zt)continue;const tr=v?zt.text:zt.icon;if(!tr||!tr.segments.get().length||!tr.hasVisibleVertices)continue;const Vt=tr.programConfigurations.get(h.id),Gt=v||zt.sdfIcons,rr=v?zt.textSizeData:zt.iconSizeData,un=xe||ue.pitch!==0,Ir=_.useProgram(ji(Gt,v,zt),Vt),Lr=l.ag(rr,ue.zoom),br=_.style.map.terrain&&_.style.map.terrain.getTerrainData(Qt);let an,Hn,Dr,qn,In=[0,0],sn=null;if(v)Hn=St.glyphAtlasTexture,Dr=ee.LINEAR,an=St.glyphAtlasTexture.size,zt.iconsInText&&(In=St.imageAtlasTexture.size,sn=St.imageAtlasTexture,qn=un||_.options.rotating||_.options.zooming||rr.kind==="composite"||rr.kind==="camera"?ee.LINEAR:ee.NEAREST);else{const cn=h.layout.get("icon-size").constantOr(0)!==1||zt.iconsNeedLinear;Hn=St.imageAtlasTexture,Dr=Gt||_.options.rotating||_.options.zooming||cn||un?ee.LINEAR:ee.NEAREST,an=St.imageAtlasTexture.size}const On=zr(St,1,_.transform.zoom),Cn=qe?Qt.posMatrix:za,xi=kn(Cn,xe,Ce,_.transform,On),Di=Gr(Cn,xe,Ce,_.transform,On),Gn=Gr(Qt.posMatrix,xe,Ce,_.transform,On),fn=ge.translatePosition(_.transform,St,x,F),_a=Ct&&zt.hasTextData(),Ei=h.layout.get("icon-text-fit")!=="none"&&_a&&zt.hasIconData();if(Oe){const cn=_.style.map.terrain?(Yl,Zn)=>_.style.map.terrain.getElevation(Qt,Yl,Zn):null,Ps=h.layout.get("text-rotation-alignment")==="map";be(zt,Qt.posMatrix,_,v,xi,Gn,xe,Q,Ps,ge,Qt.toUnwrapped(),ue.width,ue.height,fn,cn)}const mr=Qt.posMatrix,vr=v&&Ct||Ei,xn=Oe||vr?za:xi,Ti=Di,ni=Gt&&h.paint.get(v?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let Wn;Wn=Gt?zt.iconsInText?Ss(rr.kind,Lr,Ee,xe,Oe,vr,_,mr,xn,Ti,fn,an,In,pt):yA(rr.kind,Lr,Ee,xe,Oe,vr,_,mr,xn,Ti,fn,v,an,!0,pt):Oo(rr.kind,Lr,Ee,xe,Oe,vr,_,mr,xn,Ti,fn,v,an,pt);const Xn={program:Ir,buffers:tr,uniformValues:Wn,atlasTexture:Hn,atlasTextureIcon:sn,atlasInterpolation:Dr,atlasInterpolationIcon:qn,isSDF:Gt,hasHalo:ni};if(Ke&&zt.canOverlap){it=!0;const cn=tr.segments.get();for(const Ps of cn)yt.push({segments:new l.a0([Ps]),sortKey:Ps.sortKey,state:Xn,terrainData:br})}else yt.push({segments:tr.segments,sortKey:0,state:Xn,terrainData:br})}it&&yt.sort(((Qt,St)=>Qt.sortKey-St.sortKey));for(const Qt of yt){const St=Qt.state;if(J.activeTexture.set(ee.TEXTURE0),St.atlasTexture.bind(St.atlasInterpolation,ee.CLAMP_TO_EDGE),St.atlasTextureIcon&&(J.activeTexture.set(ee.TEXTURE1),St.atlasTextureIcon&&St.atlasTextureIcon.bind(St.atlasInterpolationIcon,ee.CLAMP_TO_EDGE)),St.isSDF){const zt=St.uniformValues;St.hasHalo&&(zt.u_is_halo=1,Ga(St.buffers,Qt.segments,h,_,St.program,bt,G,X,zt,Qt.terrainData)),zt.u_is_halo=0}Ga(St.buffers,Qt.segments,h,_,St.program,bt,G,X,St.uniformValues,Qt.terrainData)}}function Ga(_,i,h,p,v,x,F,M,k,Q){const G=p.context;v.draw(G,G.gl.TRIANGLES,x,F,M,Tn.disabled,k,Q,h.id,_.layoutVertexBuffer,_.indexBuffer,i,h.paint,p.transform.zoom,_.programConfigurations.get(h.id),_.dynamicLayoutVertexBuffer,_.opacityVertexBuffer)}function Ha(_,i,h,p){const v=_.context,x=v.gl,F=gn.disabled,M=new ei([x.ONE,x.ONE],l.aM.transparent,[!0,!0,!0,!0]),k=i.getBucket(h);if(!k)return;const Q=p.key;let G=h.heatmapFbos.get(Q);G||(G=Ts(v,i.tileSize,i.tileSize),h.heatmapFbos.set(Q,G)),v.bindFramebuffer.set(G.framebuffer),v.viewport.set([0,0,i.tileSize,i.tileSize]),v.clear({color:l.aM.transparent});const X=k.programConfigurations.get(h.id),J=_.useProgram("heatmap",X),ee=_.style.map.terrain.getTerrainData(p);J.draw(v,x.TRIANGLES,ln.disabled,F,M,Tn.disabled,Zi(p.posMatrix,i,_.transform.zoom,h.paint.get("heatmap-intensity")),ee,h.id,k.layoutVertexBuffer,k.indexBuffer,k.segments,h.paint,_.transform.zoom,X)}function Xa(_,i,h){const p=_.context,v=p.gl;p.setColorMode(_.colorModeForRenderPass());const x=Ws(p,i),F=h.key,M=i.heatmapFbos.get(F);M&&(p.activeTexture.set(v.TEXTURE0),v.bindTexture(v.TEXTURE_2D,M.colorAttachment.get()),p.activeTexture.set(v.TEXTURE1),x.bind(v.LINEAR,v.CLAMP_TO_EDGE),_.useProgram("heatmapTexture").draw(p,v.TRIANGLES,ln.disabled,gn.disabled,_.colorModeForRenderPass(),Tn.disabled,jr(_,i,0,1),null,i.id,_.rasterBoundsBuffer,_.quadTriangleIndexBuffer,_.rasterBoundsSegments,i.paint,_.transform.zoom),M.destroy(),i.heatmapFbos.delete(F))}function Ts(_,i,h){var p,v;const x=_.gl,F=x.createTexture();x.bindTexture(x.TEXTURE_2D,F),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_S,x.CLAMP_TO_EDGE),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_T,x.CLAMP_TO_EDGE),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MIN_FILTER,x.LINEAR),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MAG_FILTER,x.LINEAR);const M=(p=_.HALF_FLOAT)!==null&&p!==void 0?p:x.UNSIGNED_BYTE,k=(v=_.RGBA16F)!==null&&v!==void 0?v:x.RGBA;x.texImage2D(x.TEXTURE_2D,0,k,i,h,0,x.RGBA,M,null);const Q=_.createFramebuffer(i,h,!1,!1);return Q.colorAttachment.set(F),Q}function Ws(_,i){return i.colorRampTexture||(i.colorRampTexture=new ie(_,i.colorRamp,_.gl.RGBA)),i.colorRampTexture}function No(_,i,h,p,v){if(!h||!p||!p.imageAtlas)return;const x=p.imageAtlas.patternPositions;let F=x[h.to.toString()],M=x[h.from.toString()];if(!F&&M&&(F=M),!M&&F&&(M=F),!F||!M){const k=v.getPaintProperty(i);F=x[k],M=x[k]}F&&M&&_.setConstantPatternPositions(F,M)}function cl(_,i,h,p,v,x,F){const M=_.context.gl,k="fill-pattern",Q=h.paint.get(k),G=Q&&Q.constantOr(1),X=h.getCrossfadeParameters();let J,ee,ue,ge,Ce;F?(ee=G&&!h.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",J=M.LINES):(ee=G?"fillPattern":"fill",J=M.TRIANGLES);const xe=Q.constantOr(null);for(const Oe of p){const Ee=i.getTile(Oe);if(G&&!Ee.patternsLoaded())continue;const qe=Ee.getBucket(h);if(!qe)continue;const Ke=qe.programConfigurations.get(h.id),it=_.useProgram(ee,Ke),bt=_.style.map.terrain&&_.style.map.terrain.getTerrainData(Oe);G&&(_.context.activeTexture.set(M.TEXTURE0),Ee.imageAtlasTexture.bind(M.LINEAR,M.CLAMP_TO_EDGE),Ke.updatePaintBuffers(X)),No(Ke,k,xe,Ee,h);const Ct=bt?Oe:null,yt=_.translatePosMatrix(Ct?Ct.posMatrix:Oe.posMatrix,Ee,h.paint.get("fill-translate"),h.paint.get("fill-translate-anchor"));if(F){ge=qe.indexBuffer2,Ce=qe.segments2;const pt=[M.drawingBufferWidth,M.drawingBufferHeight];ue=ee==="fillOutlinePattern"&&G?Ac(yt,_,X,Ee,pt):lc(yt,pt)}else ge=qe.indexBuffer,Ce=qe.segments,ue=G?Eu(yt,_,X,Ee):Hl(yt);it.draw(_.context,J,v,_.stencilModeForClipping(Oe),x,Tn.disabled,ue,bt,h.id,qe.layoutVertexBuffer,ge,Ce,h.paint,_.transform.zoom,Ke)}}function Ci(_,i,h,p,v,x,F){const M=_.context,k=M.gl,Q="fill-extrusion-pattern",G=h.paint.get(Q),X=G.constantOr(1),J=h.getCrossfadeParameters(),ee=h.paint.get("fill-extrusion-opacity"),ue=G.constantOr(null);for(const ge of p){const Ce=i.getTile(ge),xe=Ce.getBucket(h);if(!xe)continue;const Oe=_.style.map.terrain&&_.style.map.terrain.getTerrainData(ge),Ee=xe.programConfigurations.get(h.id),qe=_.useProgram(X?"fillExtrusionPattern":"fillExtrusion",Ee);X&&(_.context.activeTexture.set(k.TEXTURE0),Ce.imageAtlasTexture.bind(k.LINEAR,k.CLAMP_TO_EDGE),Ee.updatePaintBuffers(J)),No(Ee,Q,ue,Ce,h);const Ke=_.translatePosMatrix(ge.posMatrix,Ce,h.paint.get("fill-extrusion-translate"),h.paint.get("fill-extrusion-translate-anchor")),it=h.paint.get("fill-extrusion-vertical-gradient"),bt=X?eu(Ke,_,it,ee,ge,J,Ce):Po(Ke,_,it,ee);qe.draw(M,M.gl.TRIANGLES,v,x,F,Tn.backCCW,bt,Oe,h.id,xe.layoutVertexBuffer,xe.indexBuffer,xe.segments,h.paint,_.transform.zoom,Ee,_.style.map.terrain&&xe.centroidVertexBuffer)}}function ql(_,i,h,p,v,x,F){const M=_.context,k=M.gl,Q=h.fbo;if(!Q)return;const G=_.useProgram("hillshade"),X=_.style.map.terrain&&_.style.map.terrain.getTerrainData(i);M.activeTexture.set(k.TEXTURE0),k.bindTexture(k.TEXTURE_2D,Q.colorAttachment.get()),G.draw(M,k.TRIANGLES,v,x,F,Tn.disabled,((J,ee,ue,ge)=>{const Ce=ue.paint.get("hillshade-shadow-color"),xe=ue.paint.get("hillshade-highlight-color"),Oe=ue.paint.get("hillshade-accent-color");let Ee=ue.paint.get("hillshade-illumination-direction")*(Math.PI/180);ue.paint.get("hillshade-illumination-anchor")==="viewport"&&(Ee-=J.transform.angle);const qe=!J.options.moving;return{u_matrix:ge?ge.posMatrix:J.transform.calculatePosMatrix(ee.tileID.toUnwrapped(),qe),u_image:0,u_latrange:tu(0,ee.tileID),u_light:[ue.paint.get("hillshade-exaggeration"),Ee],u_shadow:Ce,u_highlight:xe,u_accent:Oe}})(_,h,p,X?i:null),X,p.id,_.rasterBoundsBuffer,_.quadTriangleIndexBuffer,_.rasterBoundsSegments)}function os(_,i,h,p,v,x){const F=_.context,M=F.gl,k=i.dem;if(k&&k.data){const Q=k.dim,G=k.stride,X=k.getPixels();if(F.activeTexture.set(M.TEXTURE1),F.pixelStoreUnpackPremultiplyAlpha.set(!1),i.demTexture=i.demTexture||_.getTileTexture(G),i.demTexture){const ee=i.demTexture;ee.update(X,{premultiply:!1}),ee.bind(M.NEAREST,M.CLAMP_TO_EDGE)}else i.demTexture=new ie(F,X,M.RGBA,{premultiply:!1}),i.demTexture.bind(M.NEAREST,M.CLAMP_TO_EDGE);F.activeTexture.set(M.TEXTURE0);let J=i.fbo;if(!J){const ee=new ie(F,{width:Q,height:Q,data:null},M.RGBA);ee.bind(M.LINEAR,M.CLAMP_TO_EDGE),J=i.fbo=F.createFramebuffer(Q,Q,!0,!1),J.colorAttachment.set(ee.texture)}F.bindFramebuffer.set(J.framebuffer),F.viewport.set([0,0,Q,Q]),_.useProgram("hillshadePrepare").draw(F,M.TRIANGLES,p,v,x,Tn.disabled,((ee,ue)=>{const ge=ue.stride,Ce=l.H();return l.aP(Ce,0,l.X,-l.X,0,0,1),l.J(Ce,Ce,[0,-l.X,0]),{u_matrix:Ce,u_image:1,u_dimension:[ge,ge],u_zoom:ee.overscaledZ,u_unpack:ue.getUnpackVector()}})(i.tileID,k),null,h.id,_.rasterBoundsBuffer,_.quadTriangleIndexBuffer,_.rasterBoundsSegments),i.needsHillshadePrepare=!1}}function Ro(_,i,h,p,v,x){const F=p.paint.get("raster-fade-duration");if(!x&&F>0){const M=S.now(),k=(M-_.timeAdded)/F,Q=i?(M-i.timeAdded)/F:-1,G=h.getSource(),X=v.coveringZoomLevel({tileSize:G.tileSize,roundZoom:G.roundZoom}),J=!i||Math.abs(i.tileID.overscaledZ-X)>Math.abs(_.tileID.overscaledZ-X),ee=J&&_.refreshedUponExpiration?1:l.ac(J?k:1-Q,0,1);return _.refreshedUponExpiration&&k>=1&&(_.refreshedUponExpiration=!1),i?{opacity:1,mix:1-ee}:{opacity:ee,mix:0}}return{opacity:1,mix:0}}const ma=new l.aM(1,0,0,1),dn=new l.aM(0,1,0,1),Gl=new l.aM(0,0,1,1),Fu=new l.aM(1,0,1,1),hl=new l.aM(0,1,1,1);function Is(_,i,h,p){fl(_,0,i+h/2,_.transform.width,h,p)}function zo(_,i,h,p){fl(_,i-h/2,0,h,_.transform.height,p)}function fl(_,i,h,p,v,x){const F=_.context,M=F.gl;M.enable(M.SCISSOR_TEST),M.scissor(i*_.pixelRatio,h*_.pixelRatio,p*_.pixelRatio,v*_.pixelRatio),F.clear({color:x}),M.disable(M.SCISSOR_TEST)}function Fs(_,i,h){const p=_.context,v=p.gl,x=h.posMatrix,F=_.useProgram("debug"),M=ln.disabled,k=gn.disabled,Q=_.colorModeForRenderPass(),G="$debug",X=_.style.map.terrain&&_.style.map.terrain.getTerrainData(h);p.activeTexture.set(v.TEXTURE0);const J=i.getTileByID(h.key).latestRawTileData,ee=Math.floor((J&&J.byteLength||0)/1024),ue=i.getTile(h).tileSize,ge=512/Math.min(ue,512)*(h.overscaledZ/_.transform.zoom)*.5;let Ce=h.canonical.toString();h.overscaledZ!==h.canonical.z&&(Ce+=` => ${h.overscaledZ}`),(function(xe,Oe){xe.initDebugOverlayCanvas();const Ee=xe.debugOverlayCanvas,qe=xe.context.gl,Ke=xe.debugOverlayCanvas.getContext("2d");Ke.clearRect(0,0,Ee.width,Ee.height),Ke.shadowColor="white",Ke.shadowBlur=2,Ke.lineWidth=1.5,Ke.strokeStyle="white",Ke.textBaseline="top",Ke.font="bold 36px Open Sans, sans-serif",Ke.fillText(Oe,5,5),Ke.strokeText(Oe,5,5),xe.debugOverlayTexture.update(Ee),xe.debugOverlayTexture.bind(qe.LINEAR,qe.CLAMP_TO_EDGE)})(_,`${Ce} ${ee}kB`),F.draw(p,v.TRIANGLES,M,k,ei.alphaBlended,Tn.disabled,Ks(x,l.aM.transparent,ge),null,G,_.debugBuffer,_.quadTriangleIndexBuffer,_.debugSegments),F.draw(p,v.LINE_STRIP,M,k,Q,Tn.disabled,Ks(x,l.aM.red),X,G,_.debugBuffer,_.tileBorderIndexBuffer,_.debugSegments)}function dl(_,i,h){const p=_.context,v=p.gl,x=_.colorModeForRenderPass(),F=new ln(v.LEQUAL,ln.ReadWrite,_.depthRangeFor3D),M=_.useProgram("terrain"),k=i.getTerrainMesh();p.bindFramebuffer.set(null),p.viewport.set([0,0,_.width,_.height]);for(const Q of h){const G=_.renderToTexture.getTexture(Q),X=i.getTerrainData(Q.tileID);p.activeTexture.set(v.TEXTURE0),v.bindTexture(v.TEXTURE_2D,G.texture);const J=_.transform.calculatePosMatrix(Q.tileID.toUnwrapped()),ee=i.getMeshFrameDelta(_.transform.zoom),ue=_.transform.calculateFogMatrix(Q.tileID.toUnwrapped()),ge=Qa(J,ee,ue,_.style.sky,_.transform.pitch);M.draw(p,v.TRIANGLES,F,gn.disabled,x,Tn.backCCW,ge,X,"terrain",k.vertexBuffer,k.indexBuffer,k.segments)}}class ya{constructor(i,h,p){this.vertexBuffer=i,this.indexBuffer=h,this.segments=p}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.vertexBuffer=null,this.indexBuffer=null,this.segments=null}}class ls{constructor(i,h){this.context=new wA(i),this.transform=h,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:l.an(new Float64Array(16)),renderTime:0},this.setup(),this.numSublayers=qt.maxUnderzooming+qt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new il}resize(i,h,p){if(this.width=Math.floor(i*p),this.height=Math.floor(h*p),this.pixelRatio=p,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const v of this.style._order)this.style._layers[v].resize()}setup(){const i=this.context,h=new l.aX;h.emplaceBack(0,0),h.emplaceBack(l.X,0),h.emplaceBack(0,l.X),h.emplaceBack(l.X,l.X),this.tileExtentBuffer=i.createVertexBuffer(h,ui.members),this.tileExtentSegments=l.a0.simpleSegment(0,0,4,2);const p=new l.aX;p.emplaceBack(0,0),p.emplaceBack(l.X,0),p.emplaceBack(0,l.X),p.emplaceBack(l.X,l.X),this.debugBuffer=i.createVertexBuffer(p,ui.members),this.debugSegments=l.a0.simpleSegment(0,0,4,5);const v=new l.$;v.emplaceBack(0,0,0,0),v.emplaceBack(l.X,0,l.X,0),v.emplaceBack(0,l.X,0,l.X),v.emplaceBack(l.X,l.X,l.X,l.X),this.rasterBoundsBuffer=i.createVertexBuffer(v,Tr.members),this.rasterBoundsSegments=l.a0.simpleSegment(0,0,4,2);const x=new l.aX;x.emplaceBack(0,0),x.emplaceBack(1,0),x.emplaceBack(0,1),x.emplaceBack(1,1),this.viewportBuffer=i.createVertexBuffer(x,ui.members),this.viewportSegments=l.a0.simpleSegment(0,0,4,2);const F=new l.aZ;F.emplaceBack(0),F.emplaceBack(1),F.emplaceBack(3),F.emplaceBack(2),F.emplaceBack(0),this.tileBorderIndexBuffer=i.createIndexBuffer(F);const M=new l.aY;M.emplaceBack(0,1,2),M.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=i.createIndexBuffer(M);const k=this.context.gl;this.stencilClearMode=new gn({func:k.ALWAYS,mask:0},0,255,k.ZERO,k.ZERO,k.ZERO)}clearStencil(){const i=this.context,h=i.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const p=l.H();l.aP(p,0,this.width,this.height,0,0,1),l.K(p,p,[h.drawingBufferWidth,h.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(i,h.TRIANGLES,ln.disabled,this.stencilClearMode,ei.disabled,Tn.disabled,la(p),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(i,h){if(this.currentStencilSource===i.source||!i.isTileClipped()||!h||!h.length)return;this.currentStencilSource=i.source;const p=this.context,v=p.gl;this.nextStencilID+h.length>256&&this.clearStencil(),p.setColorMode(ei.disabled),p.setDepthMode(ln.disabled);const x=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const F of h){const M=this._tileClippingMaskIDs[F.key]=this.nextStencilID++,k=this.style.map.terrain&&this.style.map.terrain.getTerrainData(F);x.draw(p,v.TRIANGLES,ln.disabled,new gn({func:v.ALWAYS,mask:0},M,255,v.KEEP,v.KEEP,v.REPLACE),ei.disabled,Tn.disabled,la(F.posMatrix),k,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const i=this.nextStencilID++,h=this.context.gl;return new gn({func:h.NOTEQUAL,mask:255},i,255,h.KEEP,h.KEEP,h.REPLACE)}stencilModeForClipping(i){const h=this.context.gl;return new gn({func:h.EQUAL,mask:255},this._tileClippingMaskIDs[i.key],0,h.KEEP,h.KEEP,h.REPLACE)}stencilConfigForOverlap(i){const h=this.context.gl,p=i.sort(((F,M)=>M.overscaledZ-F.overscaledZ)),v=p[p.length-1].overscaledZ,x=p[0].overscaledZ-v+1;if(x>1){this.currentStencilSource=void 0,this.nextStencilID+x>256&&this.clearStencil();const F={};for(let M=0;M<x;M++)F[M+v]=new gn({func:h.GEQUAL,mask:255},M+this.nextStencilID,255,h.KEEP,h.KEEP,h.REPLACE);return this.nextStencilID+=x,[F,p]}return[{[v]:gn.disabled},p]}colorModeForRenderPass(){const i=this.context.gl;return this._showOverdrawInspector?new ei([i.CONSTANT_COLOR,i.ONE],new l.aM(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?ei.unblended:ei.alphaBlended}depthModeForSublayer(i,h,p){if(!this.opaquePassEnabledForLayer())return ln.disabled;const v=1-((1+this.currentLayer)*this.numSublayers+i)*this.depthEpsilon;return new ln(p||this.context.gl.LEQUAL,h,[v,v])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(i,h){this.style=i,this.options=h,this.lineAtlas=i.lineAtlas,this.imageManager=i.imageManager,this.glyphManager=i.glyphManager,this.symbolFadeChange=i.placement.symbolFadeChange(S.now()),this.imageManager.beginFrame();const p=this.style._order,v=this.style.sourceCaches,x={},F={},M={};for(const k in v){const Q=v[k];Q.used&&Q.prepare(this.context),x[k]=Q.getVisibleCoordinates(),F[k]=x[k].slice().reverse(),M[k]=Q.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let k=0;k<p.length;k++)if(this.style._layers[p[k]].is3D()){this.opaquePassCutoff=k;break}this.maybeDrawDepthAndCoords(!1),this.renderToTexture&&(this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0),this.renderPass="offscreen";for(const k of p){const Q=this.style._layers[k];if(!Q.hasOffscreenPass()||Q.isHidden(this.transform.zoom))continue;const G=F[Q.source];(Q.type==="custom"||G.length)&&this.renderLayer(this,v[Q.source],Q,G)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:h.showOverdrawInspector?l.aM.black:l.aM.transparent,depth:1}),this.clearStencil(),this.style.sky&&(function(k,Q){const G=k.context,X=G.gl,J=((xe,Oe,Ee)=>({u_sky_color:xe.properties.get("sky-color"),u_horizon_color:xe.properties.get("horizon-color"),u_horizon:(Oe.height/2+Oe.getHorizon())*Ee,u_sky_horizon_blend:xe.properties.get("sky-horizon-blend")*Oe.height/2*Ee}))(Q,k.style.map.transform,k.pixelRatio),ee=new ln(X.LEQUAL,ln.ReadWrite,[0,1]),ue=gn.disabled,ge=k.colorModeForRenderPass(),Ce=k.useProgram("sky");if(!Q.mesh){const xe=new l.aX;xe.emplaceBack(-1,-1),xe.emplaceBack(1,-1),xe.emplaceBack(1,1),xe.emplaceBack(-1,1);const Oe=new l.aY;Oe.emplaceBack(0,1,2),Oe.emplaceBack(0,2,3),Q.mesh=new ya(G.createVertexBuffer(xe,ui.members),G.createIndexBuffer(Oe),l.a0.simpleSegment(0,0,xe.length,Oe.length))}Ce.draw(G,X.TRIANGLES,ee,ue,ge,Tn.disabled,J,void 0,"sky",Q.mesh.vertexBuffer,Q.mesh.indexBuffer,Q.mesh.segments)})(this,this.style.sky),this._showOverdrawInspector=h.showOverdrawInspector,this.depthRangeFor3D=[0,1-(i._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=p.length-1;this.currentLayer>=0;this.currentLayer--){const k=this.style._layers[p[this.currentLayer]],Q=v[k.source],G=x[k.source];this._renderTileClippingMasks(k,G),this.renderLayer(this,Q,k,G)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<p.length;this.currentLayer++){const k=this.style._layers[p[this.currentLayer]],Q=v[k.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(k))continue;const G=(k.type==="symbol"?M:F)[k.source];this._renderTileClippingMasks(k,x[k.source]),this.renderLayer(this,Q,k,G)}if(this.options.showTileBoundaries){const k=(function(Q,G){let X=null;const J=Object.values(Q._layers).flatMap((Ce=>Ce.source&&!Ce.isHidden(G)?[Q.sourceCaches[Ce.source]]:[])),ee=J.filter((Ce=>Ce.getSource().type==="vector")),ue=J.filter((Ce=>Ce.getSource().type!=="vector")),ge=Ce=>{(!X||X.getSource().maxzoom<Ce.getSource().maxzoom)&&(X=Ce)};return ee.forEach((Ce=>ge(Ce))),X||ue.forEach((Ce=>ge(Ce))),X})(this.style,this.transform.zoom);k&&(function(Q,G,X){for(let J=0;J<X.length;J++)Fs(Q,G,X[J])})(this,k,k.getVisibleCoordinates())}this.options.showPadding&&(function(k){const Q=k.transform.padding;Is(k,k.transform.height-(Q.top||0),3,ma),Is(k,Q.bottom||0,3,dn),zo(k,Q.left||0,3,Gl),zo(k,k.transform.width-(Q.right||0),3,Fu);const G=k.transform.centerPoint;(function(X,J,ee,ue){fl(X,J-1,ee-10,2,20,ue),fl(X,J-10,ee-1,20,2,ue)})(k,G.x,k.transform.height-G.y,hl)})(this),this.context.setDefault()}maybeDrawDepthAndCoords(i){if(!this.style||!this.style.map||!this.style.map.terrain)return;const h=this.terrainFacilitator.matrix,p=this.transform.modelViewProjectionMatrix;let v=this.terrainFacilitator.dirty;v||(v=i?!l.a_(h,p):!l.a$(h,p)),v||(v=this.style.map.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime).length>0),v&&(l.b0(h,p),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,(function(x,F){const M=x.context,k=M.gl,Q=ei.unblended,G=new ln(k.LEQUAL,ln.ReadWrite,[0,1]),X=F.getTerrainMesh(),J=F.sourceCache.getRenderableTiles(),ee=x.useProgram("terrainDepth");M.bindFramebuffer.set(F.getFramebuffer("depth").framebuffer),M.viewport.set([0,0,x.width/devicePixelRatio,x.height/devicePixelRatio]),M.clear({color:l.aM.transparent,depth:1});for(const ue of J){const ge=F.getTerrainData(ue.tileID),Ce={u_matrix:x.transform.calculatePosMatrix(ue.tileID.toUnwrapped()),u_ele_delta:F.getMeshFrameDelta(x.transform.zoom)};ee.draw(M,k.TRIANGLES,G,gn.disabled,Q,Tn.backCCW,Ce,ge,"terrain",X.vertexBuffer,X.indexBuffer,X.segments)}M.bindFramebuffer.set(null),M.viewport.set([0,0,x.width,x.height])})(this,this.style.map.terrain),(function(x,F){const M=x.context,k=M.gl,Q=ei.unblended,G=new ln(k.LEQUAL,ln.ReadWrite,[0,1]),X=F.getTerrainMesh(),J=F.getCoordsTexture(),ee=F.sourceCache.getRenderableTiles(),ue=x.useProgram("terrainCoords");M.bindFramebuffer.set(F.getFramebuffer("coords").framebuffer),M.viewport.set([0,0,x.width/devicePixelRatio,x.height/devicePixelRatio]),M.clear({color:l.aM.transparent,depth:1}),F.coordsIndex=[];for(const ge of ee){const Ce=F.getTerrainData(ge.tileID);M.activeTexture.set(k.TEXTURE0),k.bindTexture(k.TEXTURE_2D,J.texture);const xe={u_matrix:x.transform.calculatePosMatrix(ge.tileID.toUnwrapped()),u_terrain_coords_id:(255-F.coordsIndex.length)/255,u_texture:0,u_ele_delta:F.getMeshFrameDelta(x.transform.zoom)};ue.draw(M,k.TRIANGLES,G,gn.disabled,Q,Tn.backCCW,xe,Ce,"terrain",X.vertexBuffer,X.indexBuffer,X.segments),F.coordsIndex.push(ge.tileID.key)}M.bindFramebuffer.set(null),M.viewport.set([0,0,x.width,x.height])})(this,this.style.map.terrain))}renderLayer(i,h,p,v){if(!p.isHidden(this.transform.zoom)&&(p.type==="background"||p.type==="custom"||(v||[]).length))switch(this.id=p.id,p.type){case"symbol":(function(x,F,M,k,Q){if(x.renderPass!=="translucent")return;const G=gn.disabled,X=x.colorModeForRenderPass();(M._unevaluatedLayout.hasValue("text-variable-anchor")||M._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&(function(J,ee,ue,ge,Ce,xe,Oe,Ee,qe){const Ke=ee.transform,it=nl(),bt=Ce==="map",Ct=xe==="map";for(const yt of J){const pt=ge.getTile(yt),Qt=pt.getBucket(ue);if(!Qt||!Qt.text||!Qt.text.segments.get().length)continue;const St=l.ag(Qt.textSizeData,Ke.zoom),zt=zr(pt,1,ee.transform.zoom),tr=kn(yt.posMatrix,Ct,bt,ee.transform,zt),Vt=ue.layout.get("icon-text-fit")!=="none"&&Qt.hasIconData();if(St){const Gt=Math.pow(2,Ke.zoom-pt.tileID.overscaledZ),rr=ee.style.map.terrain?(Ir,Lr)=>ee.style.map.terrain.getElevation(yt,Ir,Lr):null,un=it.translatePosition(Ke,pt,Oe,Ee);Al(Qt,bt,Ct,qe,Ke,tr,yt.posMatrix,Gt,St,Vt,it,un,yt.toUnwrapped(),rr)}}})(k,x,M,F,M.layout.get("text-rotation-alignment"),M.layout.get("text-pitch-alignment"),M.paint.get("text-translate"),M.paint.get("text-translate-anchor"),Q),M.paint.get("icon-opacity").constantOr(1)!==0&&ul(x,F,M,k,!1,M.paint.get("icon-translate"),M.paint.get("icon-translate-anchor"),M.layout.get("icon-rotation-alignment"),M.layout.get("icon-pitch-alignment"),M.layout.get("icon-keep-upright"),G,X),M.paint.get("text-opacity").constantOr(1)!==0&&ul(x,F,M,k,!0,M.paint.get("text-translate"),M.paint.get("text-translate-anchor"),M.layout.get("text-rotation-alignment"),M.layout.get("text-pitch-alignment"),M.layout.get("text-keep-upright"),G,X),F.map.showCollisionBoxes&&(Vl(x,F,M,k,!0),Vl(x,F,M,k,!1))})(i,h,p,v,this.style.placement.variableOffsets);break;case"circle":(function(x,F,M,k){if(x.renderPass!=="translucent")return;const Q=M.paint.get("circle-opacity"),G=M.paint.get("circle-stroke-width"),X=M.paint.get("circle-stroke-opacity"),J=!M.layout.get("circle-sort-key").isConstant();if(Q.constantOr(1)===0&&(G.constantOr(1)===0||X.constantOr(1)===0))return;const ee=x.context,ue=ee.gl,ge=x.depthModeForSublayer(0,ln.ReadOnly),Ce=gn.disabled,xe=x.colorModeForRenderPass(),Oe=[];for(let Ee=0;Ee<k.length;Ee++){const qe=k[Ee],Ke=F.getTile(qe),it=Ke.getBucket(M);if(!it)continue;const bt=it.programConfigurations.get(M.id),Ct=x.useProgram("circle",bt),yt=it.layoutVertexBuffer,pt=it.indexBuffer,Qt=x.style.map.terrain&&x.style.map.terrain.getTerrainData(qe),St={programConfiguration:bt,program:Ct,layoutVertexBuffer:yt,indexBuffer:pt,uniformValues:Cs(x,qe,Ke,M),terrainData:Qt};if(J){const zt=it.segments.get();for(const tr of zt)Oe.push({segments:new l.a0([tr]),sortKey:tr.sortKey,state:St})}else Oe.push({segments:it.segments,sortKey:0,state:St})}J&&Oe.sort(((Ee,qe)=>Ee.sortKey-qe.sortKey));for(const Ee of Oe){const{programConfiguration:qe,program:Ke,layoutVertexBuffer:it,indexBuffer:bt,uniformValues:Ct,terrainData:yt}=Ee.state;Ke.draw(ee,ue.TRIANGLES,ge,Ce,xe,Tn.disabled,Ct,yt,M.id,it,bt,Ee.segments,M.paint,x.transform.zoom,qe)}})(i,h,p,v);break;case"heatmap":(function(x,F,M,k){if(M.paint.get("heatmap-opacity")===0)return;const Q=x.context;if(x.style.map.terrain){for(const G of k){const X=F.getTile(G);F.hasRenderableParent(G)||(x.renderPass==="offscreen"?Ha(x,X,M,G):x.renderPass==="translucent"&&Xa(x,M,G))}Q.viewport.set([0,0,x.width,x.height])}else x.renderPass==="offscreen"?(function(G,X,J,ee){const ue=G.context,ge=ue.gl,Ce=gn.disabled,xe=new ei([ge.ONE,ge.ONE],l.aM.transparent,[!0,!0,!0,!0]);(function(Oe,Ee,qe){const Ke=Oe.gl;Oe.activeTexture.set(Ke.TEXTURE1),Oe.viewport.set([0,0,Ee.width/4,Ee.height/4]);let it=qe.heatmapFbos.get(l.aU);it?(Ke.bindTexture(Ke.TEXTURE_2D,it.colorAttachment.get()),Oe.bindFramebuffer.set(it.framebuffer)):(it=Ts(Oe,Ee.width/4,Ee.height/4),qe.heatmapFbos.set(l.aU,it))})(ue,G,J),ue.clear({color:l.aM.transparent});for(let Oe=0;Oe<ee.length;Oe++){const Ee=ee[Oe];if(X.hasRenderableParent(Ee))continue;const qe=X.getTile(Ee),Ke=qe.getBucket(J);if(!Ke)continue;const it=Ke.programConfigurations.get(J.id),bt=G.useProgram("heatmap",it),{zoom:Ct}=G.transform;bt.draw(ue,ge.TRIANGLES,ln.disabled,Ce,xe,Tn.disabled,Zi(Ee.posMatrix,qe,Ct,J.paint.get("heatmap-intensity")),null,J.id,Ke.layoutVertexBuffer,Ke.indexBuffer,Ke.segments,J.paint,G.transform.zoom,it)}ue.viewport.set([0,0,G.width,G.height])})(x,F,M,k):x.renderPass==="translucent"&&(function(G,X){const J=G.context,ee=J.gl;J.setColorMode(G.colorModeForRenderPass());const ue=X.heatmapFbos.get(l.aU);ue&&(J.activeTexture.set(ee.TEXTURE0),ee.bindTexture(ee.TEXTURE_2D,ue.colorAttachment.get()),J.activeTexture.set(ee.TEXTURE1),Ws(J,X).bind(ee.LINEAR,ee.CLAMP_TO_EDGE),G.useProgram("heatmapTexture").draw(J,ee.TRIANGLES,ln.disabled,gn.disabled,G.colorModeForRenderPass(),Tn.disabled,jr(G,X,0,1),null,X.id,G.viewportBuffer,G.quadTriangleIndexBuffer,G.viewportSegments,X.paint,G.transform.zoom))})(x,M)})(i,h,p,v);break;case"line":(function(x,F,M,k){if(x.renderPass!=="translucent")return;const Q=M.paint.get("line-opacity"),G=M.paint.get("line-width");if(Q.constantOr(1)===0||G.constantOr(1)===0)return;const X=x.depthModeForSublayer(0,ln.ReadOnly),J=x.colorModeForRenderPass(),ee=M.paint.get("line-dasharray"),ue=M.paint.get("line-pattern"),ge=ue.constantOr(1),Ce=M.paint.get("line-gradient"),xe=M.getCrossfadeParameters(),Oe=ge?"linePattern":ee?"lineSDF":Ce?"lineGradient":"line",Ee=x.context,qe=Ee.gl;let Ke=!0;for(const it of k){const bt=F.getTile(it);if(ge&&!bt.patternsLoaded())continue;const Ct=bt.getBucket(M);if(!Ct)continue;const yt=Ct.programConfigurations.get(M.id),pt=x.context.program.get(),Qt=x.useProgram(Oe,yt),St=Ke||Qt.program!==pt,zt=x.style.map.terrain&&x.style.map.terrain.getTerrainData(it),tr=ue.constantOr(null);if(tr&&bt.imageAtlas){const rr=bt.imageAtlas,un=rr.patternPositions[tr.to.toString()],Ir=rr.patternPositions[tr.from.toString()];un&&Ir&&yt.setConstantPatternPositions(un,Ir)}const Vt=zt?it:null,Gt=ge?Sa(x,bt,M,xe,Vt):ee?Ra(x,bt,M,ee,xe,Vt):Ce?uc(x,bt,M,Ct.lineClipsArray.length,Vt):gA(x,bt,M,Vt);if(ge)Ee.activeTexture.set(qe.TEXTURE0),bt.imageAtlasTexture.bind(qe.LINEAR,qe.CLAMP_TO_EDGE),yt.updatePaintBuffers(xe);else if(ee&&(St||x.lineAtlas.dirty))Ee.activeTexture.set(qe.TEXTURE0),x.lineAtlas.bind(Ee);else if(Ce){const rr=Ct.gradients[M.id];let un=rr.texture;if(M.gradientVersion!==rr.version){let Ir=256;if(M.stepInterpolant){const Lr=F.getSource().maxzoom,br=it.canonical.z===Lr?Math.ceil(1<<x.transform.maxZoom-it.canonical.z):1;Ir=l.ac(l.aV(Ct.maxLineLength/l.X*1024*br),256,Ee.maxTextureSize)}rr.gradient=l.aW({expression:M.gradientExpression(),evaluationKey:"lineProgress",resolution:Ir,image:rr.gradient||void 0,clips:Ct.lineClipsArray}),rr.texture?rr.texture.update(rr.gradient):rr.texture=new ie(Ee,rr.gradient,qe.RGBA),rr.version=M.gradientVersion,un=rr.texture}Ee.activeTexture.set(qe.TEXTURE0),un.bind(M.stepInterpolant?qe.NEAREST:qe.LINEAR,qe.CLAMP_TO_EDGE)}Qt.draw(Ee,qe.TRIANGLES,X,x.stencilModeForClipping(it),J,Tn.disabled,Gt,zt,M.id,Ct.layoutVertexBuffer,Ct.indexBuffer,Ct.segments,M.paint,x.transform.zoom,yt,Ct.layoutVertexBuffer2),Ke=!1}})(i,h,p,v);break;case"fill":(function(x,F,M,k){const Q=M.paint.get("fill-color"),G=M.paint.get("fill-opacity");if(G.constantOr(1)===0)return;const X=x.colorModeForRenderPass(),J=M.paint.get("fill-pattern"),ee=x.opaquePassEnabledForLayer()&&!J.constantOr(1)&&Q.constantOr(l.aM.transparent).a===1&&G.constantOr(0)===1?"opaque":"translucent";if(x.renderPass===ee){const ue=x.depthModeForSublayer(1,x.renderPass==="opaque"?ln.ReadWrite:ln.ReadOnly);cl(x,F,M,k,ue,X,!1)}if(x.renderPass==="translucent"&&M.paint.get("fill-antialias")){const ue=x.depthModeForSublayer(M.getPaintProperty("fill-outline-color")?2:0,ln.ReadOnly);cl(x,F,M,k,ue,X,!0)}})(i,h,p,v);break;case"fill-extrusion":(function(x,F,M,k){const Q=M.paint.get("fill-extrusion-opacity");if(Q!==0&&x.renderPass==="translucent"){const G=new ln(x.context.gl.LEQUAL,ln.ReadWrite,x.depthRangeFor3D);if(Q!==1||M.paint.get("fill-extrusion-pattern").constantOr(1))Ci(x,F,M,k,G,gn.disabled,ei.disabled),Ci(x,F,M,k,G,x.stencilModeFor3D(),x.colorModeForRenderPass());else{const X=x.colorModeForRenderPass();Ci(x,F,M,k,G,gn.disabled,X)}}})(i,h,p,v);break;case"hillshade":(function(x,F,M,k){if(x.renderPass!=="offscreen"&&x.renderPass!=="translucent")return;const Q=x.context,G=x.depthModeForSublayer(0,ln.ReadOnly),X=x.colorModeForRenderPass(),[J,ee]=x.renderPass==="translucent"?x.stencilConfigForOverlap(k):[{},k];for(const ue of ee){const ge=F.getTile(ue);ge.needsHillshadePrepare!==void 0&&ge.needsHillshadePrepare&&x.renderPass==="offscreen"?os(x,ge,M,G,gn.disabled,X):x.renderPass==="translucent"&&ql(x,ue,ge,M,G,J[ue.overscaledZ],X)}Q.viewport.set([0,0,x.width,x.height])})(i,h,p,v);break;case"raster":(function(x,F,M,k){if(x.renderPass!=="translucent"||M.paint.get("raster-opacity")===0||!k.length)return;const Q=x.context,G=Q.gl,X=F.getSource(),J=x.useProgram("raster"),ee=x.colorModeForRenderPass(),[ue,ge]=X instanceof Br?[{},k]:x.stencilConfigForOverlap(k),Ce=ge[ge.length-1].overscaledZ,xe=!x.options.moving;for(const Oe of ge){const Ee=x.depthModeForSublayer(Oe.overscaledZ-Ce,M.paint.get("raster-opacity")===1?ln.ReadWrite:ln.ReadOnly,G.LESS),qe=F.getTile(Oe);qe.registerFadeDuration(M.paint.get("raster-fade-duration"));const Ke=F.findLoadedParent(Oe,0),it=F.findLoadedSibling(Oe),bt=Ro(qe,Ke||it||null,F,M,x.transform,x.style.map.terrain);let Ct,yt;const pt=M.paint.get("raster-resampling")==="nearest"?G.NEAREST:G.LINEAR;Q.activeTexture.set(G.TEXTURE0),qe.texture.bind(pt,G.CLAMP_TO_EDGE,G.LINEAR_MIPMAP_NEAREST),Q.activeTexture.set(G.TEXTURE1),Ke?(Ke.texture.bind(pt,G.CLAMP_TO_EDGE,G.LINEAR_MIPMAP_NEAREST),Ct=Math.pow(2,Ke.tileID.overscaledZ-qe.tileID.overscaledZ),yt=[qe.tileID.canonical.x*Ct%1,qe.tileID.canonical.y*Ct%1]):qe.texture.bind(pt,G.CLAMP_TO_EDGE,G.LINEAR_MIPMAP_NEAREST),qe.texture.useMipmap&&Q.extTextureFilterAnisotropic&&x.transform.pitch>20&&G.texParameterf(G.TEXTURE_2D,Q.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,Q.extTextureFilterAnisotropicMax);const Qt=x.style.map.terrain&&x.style.map.terrain.getTerrainData(Oe),St=Qt?Oe:null,zt=St?St.posMatrix:x.transform.calculatePosMatrix(Oe.toUnwrapped(),xe),tr=Vs(zt,yt||[0,0],Ct||1,bt,M);X instanceof Br?J.draw(Q,G.TRIANGLES,Ee,gn.disabled,ee,Tn.disabled,tr,Qt,M.id,X.boundsBuffer,x.quadTriangleIndexBuffer,X.boundsSegments):J.draw(Q,G.TRIANGLES,Ee,ue[Oe.overscaledZ],ee,Tn.disabled,tr,Qt,M.id,x.rasterBoundsBuffer,x.quadTriangleIndexBuffer,x.rasterBoundsSegments)}})(i,h,p,v);break;case"background":(function(x,F,M,k){const Q=M.paint.get("background-color"),G=M.paint.get("background-opacity");if(G===0)return;const X=x.context,J=X.gl,ee=x.transform,ue=ee.tileSize,ge=M.paint.get("background-pattern");if(x.isPatternMissing(ge))return;const Ce=!ge&&Q.a===1&&G===1&&x.opaquePassEnabledForLayer()?"opaque":"translucent";if(x.renderPass!==Ce)return;const xe=gn.disabled,Oe=x.depthModeForSublayer(0,Ce==="opaque"?ln.ReadWrite:ln.ReadOnly),Ee=x.colorModeForRenderPass(),qe=x.useProgram(ge?"backgroundPattern":"background"),Ke=k||ee.coveringTiles({tileSize:ue,terrain:x.style.map.terrain});ge&&(X.activeTexture.set(J.TEXTURE0),x.imageManager.bind(x.context));const it=M.getCrossfadeParameters();for(const bt of Ke){const Ct=k?bt.posMatrix:x.transform.calculatePosMatrix(bt.toUnwrapped()),yt=ge?vA(Ct,G,x,ge,{tileID:bt,tileSize:ue},it):jl(Ct,G,Q),pt=x.style.map.terrain&&x.style.map.terrain.getTerrainData(bt);qe.draw(X,J.TRIANGLES,Oe,xe,Ee,Tn.disabled,yt,pt,M.id,x.tileExtentBuffer,x.quadTriangleIndexBuffer,x.tileExtentSegments)}})(i,0,p,v);break;case"custom":(function(x,F,M){const k=x.context,Q=M.implementation;if(x.renderPass==="offscreen"){const G=Q.prerender;G&&(x.setCustomLayerDefaults(),k.setColorMode(x.colorModeForRenderPass()),G.call(Q,k.gl,x.transform.customLayerMatrix()),k.setDirty(),x.setBaseState())}else if(x.renderPass==="translucent"){x.setCustomLayerDefaults(),k.setColorMode(x.colorModeForRenderPass()),k.setStencilMode(gn.disabled);const G=Q.renderingMode==="3d"?new ln(x.context.gl.LEQUAL,ln.ReadWrite,x.depthRangeFor3D):x.depthModeForSublayer(0,ln.ReadOnly);k.setDepthMode(G),Q.render(k.gl,x.transform.customLayerMatrix(),{farZ:x.transform.farZ,nearZ:x.transform.nearZ,fov:x.transform._fov,modelViewProjectionMatrix:x.transform.modelViewProjectionMatrix,projectionMatrix:x.transform.projectionMatrix}),k.setDirty(),x.setBaseState(),k.bindFramebuffer.set(null)}})(i,0,p)}}translatePosMatrix(i,h,p,v,x){if(!p[0]&&!p[1])return i;const F=x?v==="map"?this.transform.angle:0:v==="viewport"?-this.transform.angle:0;if(F){const Q=Math.sin(F),G=Math.cos(F);p=[p[0]*G-p[1]*Q,p[0]*Q+p[1]*G]}const M=[x?p[0]:zr(h,p[0],this.transform.zoom),x?p[1]:zr(h,p[1],this.transform.zoom),0],k=new Float32Array(16);return l.J(k,i,M),k}saveTileTexture(i){const h=this._tileTextures[i.size[0]];h?h.push(i):this._tileTextures[i.size[0]]=[i]}getTileTexture(i){const h=this._tileTextures[i];return h&&h.length>0?h.pop():null}isPatternMissing(i){if(!i)return!1;if(!i.from||!i.to)return!0;const h=this.imageManager.getPattern(i.from.toString()),p=this.imageManager.getPattern(i.to.toString());return!h||!p}useProgram(i,h){this.cache=this.cache||{};const p=i+(h?h.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.map.terrain?"/terrain":"");return this.cache[p]||(this.cache[p]=new JA(this.context,js[i],h,Aa[i],this._showOverdrawInspector,this.style.map.terrain)),this.cache[p]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const i=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(i.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new ie(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){const{drawingBufferWidth:i,drawingBufferHeight:h}=this.context.gl;return this.width!==i||this.height!==h}}class Ln{constructor(i,h){this.points=i,this.planes=h}static fromInvProjectionMatrix(i,h,p){const v=Math.pow(2,p),x=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((M=>{const k=1/(M=l.af([],M,i))[3]/h*v;return l.b1(M,M,[k,k,1/M[3],k])})),F=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map((M=>{const k=(function(J,ee){var ue=ee[0],ge=ee[1],Ce=ee[2],xe=ue*ue+ge*ge+Ce*Ce;return xe>0&&(xe=1/Math.sqrt(xe)),J[0]=ee[0]*xe,J[1]=ee[1]*xe,J[2]=ee[2]*xe,J})([],(function(J,ee,ue){var ge=ee[0],Ce=ee[1],xe=ee[2],Oe=ue[0],Ee=ue[1],qe=ue[2];return J[0]=Ce*qe-xe*Ee,J[1]=xe*Oe-ge*qe,J[2]=ge*Ee-Ce*Oe,J})([],Ie([],x[M[0]],x[M[1]]),Ie([],x[M[2]],x[M[1]]))),Q=-((G=k)[0]*(X=x[M[1]])[0]+G[1]*X[1]+G[2]*X[2]);var G,X;return k.concat(Q)}));return new Ln(x,F)}}class Bn{constructor(i,h){this.min=i,this.max=h,this.center=(function(p,v,x){return p[0]=.5*v[0],p[1]=.5*v[1],p[2]=.5*v[2],p})([],(function(p,v,x){return p[0]=v[0]+x[0],p[1]=v[1]+x[1],p[2]=v[2]+x[2],p})([],this.min,this.max))}quadrant(i){const h=[i%2==0,i<2],p=ce(this.min),v=ce(this.max);for(let x=0;x<h.length;x++)p[x]=h[x]?this.min[x]:this.center[x],v[x]=h[x]?this.center[x]:this.max[x];return v[2]=this.max[2],new Bn(p,v)}distanceX(i){return Math.max(Math.min(this.max[0],i[0]),this.min[0])-i[0]}distanceY(i){return Math.max(Math.min(this.max[1],i[1]),this.min[1])-i[1]}intersects(i){const h=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let p=!0;for(let v=0;v<i.planes.length;v++){const x=i.planes[v];let F=0;for(let M=0;M<h.length;M++)l.b2(x,h[M])>=0&&F++;if(F===0)return 0;F!==h.length&&(p=!1)}if(p)return 2;for(let v=0;v<3;v++){let x=Number.MAX_VALUE,F=-Number.MAX_VALUE;for(let M=0;M<i.points.length;M++){const k=i.points[M][v]-this.min[v];x=Math.min(x,k),F=Math.max(F,k)}if(F<0||x>this.max[v]-this.min[v])return 0}return 1}}class $n{constructor(i=0,h=0,p=0,v=0){if(isNaN(i)||i<0||isNaN(h)||h<0||isNaN(p)||p<0||isNaN(v)||v<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=i,this.bottom=h,this.left=p,this.right=v}interpolate(i,h,p){return h.top!=null&&i.top!=null&&(this.top=l.y.number(i.top,h.top,p)),h.bottom!=null&&i.bottom!=null&&(this.bottom=l.y.number(i.bottom,h.bottom,p)),h.left!=null&&i.left!=null&&(this.left=l.y.number(i.left,h.left,p)),h.right!=null&&i.right!=null&&(this.right=l.y.number(i.right,h.right,p)),this}getCenter(i,h){const p=l.ac((this.left+i-this.right)/2,0,i),v=l.ac((this.top+h-this.bottom)/2,0,h);return new l.P(p,v)}equals(i){return this.top===i.top&&this.bottom===i.bottom&&this.left===i.left&&this.right===i.right}clone(){return new $n(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}const Pi=85.051129;class As{constructor(i,h,p,v,x){this.tileSize=512,this._renderWorldCopies=x===void 0||!!x,this._minZoom=i||0,this._maxZoom=h||22,this._minPitch=p??0,this._maxPitch=v??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new l.N(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new $n,this._posMatrixCache={},this._alignedPosMatrixCache={},this._fogMatrixCache={},this.minElevationForCurrentTile=0}clone(){const i=new As(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return i.apply(this),i}apply(i){this.tileSize=i.tileSize,this.latRange=i.latRange,this.lngRange=i.lngRange,this.width=i.width,this.height=i.height,this._center=i._center,this._elevation=i._elevation,this.minElevationForCurrentTile=i.minElevationForCurrentTile,this.zoom=i.zoom,this.angle=i.angle,this._fov=i._fov,this._pitch=i._pitch,this._unmodified=i._unmodified,this._edgeInsets=i._edgeInsets.clone(),this._calcMatrices()}get minZoom(){return this._minZoom}set minZoom(i){this._minZoom!==i&&(this._minZoom=i,this.zoom=Math.max(this.zoom,i))}get maxZoom(){return this._maxZoom}set maxZoom(i){this._maxZoom!==i&&(this._maxZoom=i,this.zoom=Math.min(this.zoom,i))}get minPitch(){return this._minPitch}set minPitch(i){this._minPitch!==i&&(this._minPitch=i,this.pitch=Math.max(this.pitch,i))}get maxPitch(){return this._maxPitch}set maxPitch(i){this._maxPitch!==i&&(this._maxPitch=i,this.pitch=Math.min(this.pitch,i))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(i){i===void 0?i=!0:i===null&&(i=!1),this._renderWorldCopies=i}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new l.P(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(i){const h=-l.b3(i,-180,180)*Math.PI/180;this.angle!==h&&(this._unmodified=!1,this.angle=h,this._calcMatrices(),this.rotationMatrix=(function(){var p=new l.A(4);return l.A!=Float32Array&&(p[1]=0,p[2]=0),p[0]=1,p[3]=1,p})(),(function(p,v,x){var F=v[0],M=v[1],k=v[2],Q=v[3],G=Math.sin(x),X=Math.cos(x);p[0]=F*X+k*G,p[1]=M*X+Q*G,p[2]=F*-G+k*X,p[3]=M*-G+Q*X})(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(i){const h=l.ac(i,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==h&&(this._unmodified=!1,this._pitch=h,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(i){i=Math.max(.01,Math.min(60,i)),this._fov!==i&&(this._unmodified=!1,this._fov=i/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(i){const h=Math.min(Math.max(i,this.minZoom),this.maxZoom);this._zoom!==h&&(this._unmodified=!1,this._zoom=h,this.tileZoom=Math.max(0,Math.floor(h)),this.scale=this.zoomScale(h),this._constrain(),this._calcMatrices())}get center(){return this._center}set center(i){i.lat===this._center.lat&&i.lng===this._center.lng||(this._unmodified=!1,this._center=i,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(i){i!==this._elevation&&(this._elevation=i,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(i){this._edgeInsets.equals(i)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,i,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(i){return this._edgeInsets.equals(i)}interpolatePadding(i,h,p){this._unmodified=!1,this._edgeInsets.interpolate(i,h,p),this._constrain(),this._calcMatrices()}coveringZoomLevel(i){const h=(i.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/i.tileSize));return Math.max(0,h)}getVisibleUnwrappedCoordinates(i){const h=[new l.b4(0,i)];if(this._renderWorldCopies){const p=this.pointCoordinate(new l.P(0,0)),v=this.pointCoordinate(new l.P(this.width,0)),x=this.pointCoordinate(new l.P(this.width,this.height)),F=this.pointCoordinate(new l.P(0,this.height)),M=Math.floor(Math.min(p.x,v.x,x.x,F.x)),k=Math.floor(Math.max(p.x,v.x,x.x,F.x)),Q=1;for(let G=M-Q;G<=k+Q;G++)G!==0&&h.push(new l.b4(G,i))}return h}coveringTiles(i){var h,p;let v=this.coveringZoomLevel(i);const x=v;if(i.minzoom!==void 0&&v<i.minzoom)return[];i.maxzoom!==void 0&&v>i.maxzoom&&(v=i.maxzoom);const F=this.pointCoordinate(this.getCameraPoint()),M=l.Z.fromLngLat(this.center),k=Math.pow(2,v),Q=[k*F.x,k*F.y,0],G=[k*M.x,k*M.y,0],X=Ln.fromInvProjectionMatrix(this.invModelViewProjectionMatrix,this.worldSize,v);let J=i.minzoom||0;!i.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(J=v);const ee=i.terrain?2/Math.min(this.tileSize,i.tileSize)*this.tileSize:3,ue=Ee=>({aabb:new Bn([Ee*k,0,0],[(Ee+1)*k,k,0]),zoom:0,x:0,y:0,wrap:Ee,fullyVisible:!1}),ge=[],Ce=[],xe=v,Oe=i.reparseOverscaled?x:v;if(this._renderWorldCopies)for(let Ee=1;Ee<=3;Ee++)ge.push(ue(-Ee)),ge.push(ue(Ee));for(ge.push(ue(0));ge.length>0;){const Ee=ge.pop(),qe=Ee.x,Ke=Ee.y;let it=Ee.fullyVisible;if(!it){const Qt=Ee.aabb.intersects(X);if(Qt===0)continue;it=Qt===2}const bt=i.terrain?Q:G,Ct=Ee.aabb.distanceX(bt),yt=Ee.aabb.distanceY(bt),pt=Math.max(Math.abs(Ct),Math.abs(yt));if(Ee.zoom===xe||pt>ee+(1<<xe-Ee.zoom)-2&&Ee.zoom>=J){const Qt=xe-Ee.zoom,St=Q[0]-.5-(qe<<Qt),zt=Q[1]-.5-(Ke<<Qt);Ce.push({tileID:new l.S(Ee.zoom===xe?Oe:Ee.zoom,Ee.wrap,Ee.zoom,qe,Ke),distanceSq:Fe([G[0]-.5-qe,G[1]-.5-Ke]),tileDistanceToCamera:Math.sqrt(St*St+zt*zt)})}else for(let Qt=0;Qt<4;Qt++){const St=(qe<<1)+Qt%2,zt=(Ke<<1)+(Qt>>1),tr=Ee.zoom+1;let Vt=Ee.aabb.quadrant(Qt);if(i.terrain){const Gt=new l.S(tr,Ee.wrap,tr,St,zt),rr=i.terrain.getMinMaxElevation(Gt),un=(h=rr.minElevation)!==null&&h!==void 0?h:this.elevation,Ir=(p=rr.maxElevation)!==null&&p!==void 0?p:this.elevation;Vt=new Bn([Vt.min[0],Vt.min[1],un],[Vt.max[0],Vt.max[1],Ir])}ge.push({aabb:Vt,zoom:tr,x:St,y:zt,wrap:Ee.wrap,fullyVisible:it})}}return Ce.sort(((Ee,qe)=>Ee.distanceSq-qe.distanceSq)).map((Ee=>Ee.tileID))}resize(i,h){this.width=i,this.height=h,this.pixelsToGLUnits=[2/i,-2/h],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(i){return Math.pow(2,i)}scaleZoom(i){return Math.log(i)/Math.LN2}project(i){const h=l.ac(i.lat,-85.051129,Pi);return new l.P(l.O(i.lng)*this.worldSize,l.Q(h)*this.worldSize)}unproject(i){return new l.Z(i.x/this.worldSize,i.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(i){const h=this.elevation,p=Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter,v=this.pointLocation(this.centerPoint,i),x=i.getElevationForLngLatZoom(v,this.tileZoom);if(!(this.elevation-x))return;const F=p+h-x,M=Math.cos(this._pitch)*this.cameraToCenterDistance/F/l.b5(1,v.lat),k=this.scaleZoom(M/this.tileSize);this._elevation=x,this._center=v,this.zoom=k}setLocationAtPoint(i,h){const p=this.pointCoordinate(h),v=this.pointCoordinate(this.centerPoint),x=this.locationCoordinate(i),F=new l.Z(x.x-(p.x-v.x),x.y-(p.y-v.y));this.center=this.coordinateLocation(F),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(i,h){return h?this.coordinatePoint(this.locationCoordinate(i),h.getElevationForLngLatZoom(i,this.tileZoom),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(i))}pointLocation(i,h){return this.coordinateLocation(this.pointCoordinate(i,h))}locationCoordinate(i){return l.Z.fromLngLat(i)}coordinateLocation(i){return i&&i.toLngLat()}pointCoordinate(i,h){if(h){const J=h.pointCoordinate(i);if(J!=null)return J}const p=[i.x,i.y,0,1],v=[i.x,i.y,1,1];l.af(p,p,this.pixelMatrixInverse),l.af(v,v,this.pixelMatrixInverse);const x=p[3],F=v[3],M=p[1]/x,k=v[1]/F,Q=p[2]/x,G=v[2]/F,X=Q===G?0:(0-Q)/(G-Q);return new l.Z(l.y.number(p[0]/x,v[0]/F,X)/this.worldSize,l.y.number(M,k,X)/this.worldSize)}coordinatePoint(i,h=0,p=this.pixelMatrix){const v=[i.x*this.worldSize,i.y*this.worldSize,h,1];return l.af(v,v,p),new l.P(v[0]/v[3],v[1]/v[3])}getBounds(){const i=Math.max(0,this.height/2-this.getHorizon());return new Ze().extend(this.pointLocation(new l.P(0,i))).extend(this.pointLocation(new l.P(this.width,i))).extend(this.pointLocation(new l.P(this.width,this.height))).extend(this.pointLocation(new l.P(0,this.height)))}getMaxBounds(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new Ze([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(i){i?(this.lngRange=[i.getWest(),i.getEast()],this.latRange=[i.getSouth(),i.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-85.051129,Pi])}calculateTileMatrix(i){const h=i.canonical,p=this.worldSize/this.zoomScale(h.z),v=h.x+Math.pow(2,h.z)*i.wrap,x=l.an(new Float64Array(16));return l.J(x,x,[v*p,h.y*p,0]),l.K(x,x,[p/l.X,p/l.X,1]),x}calculatePosMatrix(i,h=!1){const p=i.key,v=h?this._alignedPosMatrixCache:this._posMatrixCache;if(v[p])return v[p];const x=this.calculateTileMatrix(i);return l.L(x,h?this.alignedModelViewProjectionMatrix:this.modelViewProjectionMatrix,x),v[p]=new Float32Array(x),v[p]}calculateFogMatrix(i){const h=i.key,p=this._fogMatrixCache;if(p[h])return p[h];const v=this.calculateTileMatrix(i);return l.L(v,this.fogMatrix,v),p[h]=new Float32Array(v),p[h]}customLayerMatrix(){return this.mercatorMatrix.slice()}getConstrained(i,h){h=l.ac(+h,this.minZoom,this.maxZoom);const p={center:new l.N(i.lng,i.lat),zoom:h};let v=this.lngRange;if(!this._renderWorldCopies&&v===null){const Ee=179.9999999999;v=[-Ee,Ee]}const x=this.tileSize*this.zoomScale(p.zoom);let F=0,M=x,k=0,Q=x,G=0,X=0;const{x:J,y:ee}=this.size;if(this.latRange){const Ee=this.latRange;F=l.Q(Ee[1])*x,M=l.Q(Ee[0])*x,M-F<ee&&(G=ee/(M-F))}v&&(k=l.b3(l.O(v[0])*x,0,x),Q=l.b3(l.O(v[1])*x,0,x),Q<k&&(Q+=x),Q-k<J&&(X=J/(Q-k)));const{x:ue,y:ge}=this.project.call({worldSize:x},i);let Ce,xe;const Oe=Math.max(X||0,G||0);if(Oe){const Ee=new l.P(X?(Q+k)/2:ue,G?(M+F)/2:ge);return p.center=this.unproject.call({worldSize:x},Ee).wrap(),p.zoom+=this.scaleZoom(Oe),p}if(this.latRange){const Ee=ee/2;ge-Ee<F&&(xe=F+Ee),ge+Ee>M&&(xe=M-Ee)}if(v){const Ee=(k+Q)/2;let qe=ue;this._renderWorldCopies&&(qe=l.b3(ue,Ee-x/2,Ee+x/2));const Ke=J/2;qe-Ke<k&&(Ce=k+Ke),qe+Ke>Q&&(Ce=Q-Ke)}if(Ce!==void 0||xe!==void 0){const Ee=new l.P(Ce??ue,xe??ge);p.center=this.unproject.call({worldSize:x},Ee).wrap()}return p}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const i=this._unmodified,{center:h,zoom:p}=this.getConstrained(this.center,this.zoom);this.center=h,this.zoom=p,this._unmodified=i,this._constraining=!1}_calcMatrices(){if(!this.height)return;const i=this.centerOffset,h=this.point.x,p=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=l.b5(1,this.center.lat)*this.worldSize;let v=l.an(new Float64Array(16));l.K(v,v,[this.width/2,-this.height/2,1]),l.J(v,v,[1,-1,0]),this.labelPlaneMatrix=v,v=l.an(new Float64Array(16)),l.K(v,v,[1,-1,1]),l.J(v,v,[-1,-1,0]),l.K(v,v,[2/this.width,2/this.height,1]),this.glCoordMatrix=v;const x=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch),F=Math.min(this.elevation,this.minElevationForCurrentTile),M=x-F*this._pixelPerMeter/Math.cos(this._pitch),k=F<0?M:x,Q=Math.PI/2+this._pitch,G=this._fov*(.5+i.y/this.height),X=Math.sin(G)*k/Math.sin(l.ac(Math.PI-Q-G,.01,Math.PI-.01)),J=this.getHorizon(),ee=2*Math.atan(J/this.cameraToCenterDistance)*(.5+i.y/(2*J)),ue=Math.sin(ee)*k/Math.sin(l.ac(Math.PI-Q-ee,.01,Math.PI-.01)),ge=Math.min(X,ue);this.farZ=1.01*(Math.cos(Math.PI/2-this._pitch)*ge+k),this.nearZ=this.height/50,v=new Float64Array(16),l.b6(v,this._fov,this.width/this.height,this.nearZ,this.farZ),v[8]=2*-i.x/this.width,v[9]=2*i.y/this.height,this.projectionMatrix=l.ae(v),l.K(v,v,[1,-1,1]),l.J(v,v,[0,0,-this.cameraToCenterDistance]),l.b7(v,v,this._pitch),l.ad(v,v,this.angle),l.J(v,v,[-h,-p,0]),this.mercatorMatrix=l.K([],v,[this.worldSize,this.worldSize,this.worldSize]),l.K(v,v,[1,1,this._pixelPerMeter]),this.pixelMatrix=l.L(new Float64Array(16),this.labelPlaneMatrix,v),l.J(v,v,[0,0,-this.elevation]),this.modelViewProjectionMatrix=v,this.invModelViewProjectionMatrix=l.as([],v),this.fogMatrix=new Float64Array(16),l.b6(this.fogMatrix,this._fov,this.width/this.height,x,this.farZ),this.fogMatrix[8]=2*-i.x/this.width,this.fogMatrix[9]=2*i.y/this.height,l.K(this.fogMatrix,this.fogMatrix,[1,-1,1]),l.J(this.fogMatrix,this.fogMatrix,[0,0,-this.cameraToCenterDistance]),l.b7(this.fogMatrix,this.fogMatrix,this._pitch),l.ad(this.fogMatrix,this.fogMatrix,this.angle),l.J(this.fogMatrix,this.fogMatrix,[-h,-p,0]),l.K(this.fogMatrix,this.fogMatrix,[1,1,this._pixelPerMeter]),l.J(this.fogMatrix,this.fogMatrix,[0,0,-this.elevation]),this.pixelMatrix3D=l.L(new Float64Array(16),this.labelPlaneMatrix,v);const Ce=this.width%2/2,xe=this.height%2/2,Oe=Math.cos(this.angle),Ee=Math.sin(this.angle),qe=h-Math.round(h)+Oe*Ce+Ee*xe,Ke=p-Math.round(p)+Oe*xe+Ee*Ce,it=new Float64Array(v);if(l.J(it,it,[qe>.5?qe-1:qe,Ke>.5?Ke-1:Ke,0]),this.alignedModelViewProjectionMatrix=it,v=l.as(new Float64Array(16),this.pixelMatrix),!v)throw new Error("failed to invert matrix");this.pixelMatrixInverse=v,this._posMatrixCache={},this._alignedPosMatrixCache={},this._fogMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;const i=this.pointCoordinate(new l.P(0,0)),h=[i.x*this.worldSize,i.y*this.worldSize,0,1];return l.af(h,h,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){const i=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new l.P(0,i))}getCameraQueryGeometry(i){const h=this.getCameraPoint();if(i.length===1)return[i[0],h];{let p=h.x,v=h.y,x=h.x,F=h.y;for(const M of i)p=Math.min(p,M.x),v=Math.min(v,M.y),x=Math.max(x,M.x),F=Math.max(F,M.y);return[new l.P(p,v),new l.P(x,v),new l.P(x,F),new l.P(p,F),new l.P(p,v)]}}lngLatToCameraDepth(i,h){const p=this.locationCoordinate(i),v=[p.x*this.worldSize,p.y*this.worldSize,h,1];return l.af(v,v,this.modelViewProjectionMatrix),v[2]/v[3]}}function us(_,i){let h,p=!1,v=null,x=null;const F=()=>{v=null,p&&(_.apply(x,h),v=setTimeout(F,i),p=!1)};return(...M)=>(p=!0,x=this,h=M,v||F(),v)}class pl{constructor(i){this._getCurrentHash=()=>{const h=window.location.hash.replace("#","");if(this._hashName){let p;return h.split("&").map((v=>v.split("="))).forEach((v=>{v[0]===this._hashName&&(p=v)})),(p&&p[1]||"").split("/")}return h.split("/")},this._onHashChange=()=>{const h=this._getCurrentHash();if(h.length>=3&&!h.some((p=>isNaN(p)))){const p=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(h[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+h[2],+h[1]],zoom:+h[0],bearing:p,pitch:+(h[4]||0)}),!0}return!1},this._updateHashUnthrottled=()=>{const h=window.location.href.replace(/(#.*)?$/,this.getHashString());window.history.replaceState(window.history.state,null,h)},this._removeHash=()=>{const h=this._getCurrentHash();if(h.length===0)return;const p=h.join("/");let v=p;v.split("&").length>0&&(v=v.split("&")[0]),this._hashName&&(v=`${this._hashName}=${p}`);let x=window.location.hash.replace(v,"");x.startsWith("#&")?x=x.slice(0,1)+x.slice(2):x==="#"&&(x="");let F=window.location.href.replace(/(#.+)?$/,x);F=F.replace("&&","&"),window.history.replaceState(window.history.state,null,F)},this._updateHash=us(this._updateHashUnthrottled,300),this._hashName=i&&encodeURIComponent(i)}addTo(i){return this._map=i,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),this._removeHash(),delete this._map,this}getHashString(i){const h=this._map.getCenter(),p=Math.round(100*this._map.getZoom())/100,v=Math.ceil((p*Math.LN2+Math.log(512/360/.5))/Math.LN10),x=Math.pow(10,v),F=Math.round(h.lng*x)/x,M=Math.round(h.lat*x)/x,k=this._map.getBearing(),Q=this._map.getPitch();let G="";if(G+=i?`/${F}/${M}/${p}`:`${p}/${M}/${F}`,(k||Q)&&(G+="/"+Math.round(10*k)/10),Q&&(G+=`/${Math.round(Q)}`),this._hashName){const X=this._hashName;let J=!1;const ee=window.location.hash.slice(1).split("&").map((ue=>{const ge=ue.split("=")[0];return ge===X?(J=!0,`${ge}=${G}`):ue})).filter((ue=>ue));return J||ee.push(`${X}=${G}`),`#${ee.join("&")}`}return`#${G}`}}const bA={linearity:.3,easing:l.b8(0,0,.3,1)},cc=l.e({deceleration:2500,maxSpeed:1400},bA),gf=l.e({deceleration:20,maxSpeed:1400},bA),Ch=l.e({deceleration:1e3,maxSpeed:360},bA),hc=l.e({deceleration:1e3,maxSpeed:90},bA);class fc{constructor(i){this._map=i,this.clear()}clear(){this._inertiaBuffer=[]}record(i){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:S.now(),settings:i})}_drainInertiaBuffer(){const i=this._inertiaBuffer,h=S.now();for(;i.length>0&&h-i[0].time>160;)i.shift()}_onMoveEnd(i){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const h={zoom:0,bearing:0,pitch:0,pan:new l.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:x}of this._inertiaBuffer)h.zoom+=x.zoomDelta||0,h.bearing+=x.bearingDelta||0,h.pitch+=x.pitchDelta||0,x.panDelta&&h.pan._add(x.panDelta),x.around&&(h.around=x.around),x.pinchAround&&(h.pinchAround=x.pinchAround);const p=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,v={};if(h.pan.mag()){const x=Ho(h.pan.mag(),p,l.e({},cc,i||{}));v.offset=h.pan.mult(x.amount/h.pan.mag()),v.center=this._map.transform.center,au(v,x)}if(h.zoom){const x=Ho(h.zoom,p,gf);v.zoom=this._map.transform.zoom+x.amount,au(v,x)}if(h.bearing){const x=Ho(h.bearing,p,Ch);v.bearing=this._map.transform.bearing+l.ac(x.amount,-179,179),au(v,x)}if(h.pitch){const x=Ho(h.pitch,p,hc);v.pitch=this._map.transform.pitch+x.amount,au(v,x)}if(v.zoom||v.bearing){const x=h.pinchAround===void 0?h.around:h.pinchAround;v.around=x?this._map.unproject(x):this._map.getCenter()}return this.clear(),l.e(v,{noMoveStart:!0})}}function au(_,i){(!_.duration||_.duration<i.duration)&&(_.duration=i.duration,_.easing=i.easing)}function Ho(_,i,h){const{maxSpeed:p,linearity:v,deceleration:x}=h,F=l.ac(_*v/(i/1e3),-p,p),M=Math.abs(F)/(x*v);return{easing:h.easing,duration:1e3*M,amount:F*(M/2)}}class oi extends l.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(i,h,p,v={}){const x=U.mousePos(h.getCanvas(),p),F=h.unproject(x);super(i,l.e({point:x,lngLat:F,originalEvent:p},v)),this._defaultPrevented=!1,this.target=h}}class jo extends l.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(i,h,p){const v=i==="touchend"?p.changedTouches:p.touches,x=U.touchPos(h.getCanvasContainer(),v),F=x.map((k=>h.unproject(k))),M=x.reduce(((k,Q,G,X)=>k.add(Q.div(X.length))),new l.P(0,0));super(i,{points:x,point:M,lngLats:F,lngLat:h.unproject(M),originalEvent:p}),this._defaultPrevented=!1}}class Us extends l.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(i,h,p){super(i,{originalEvent:p}),this._defaultPrevented=!1}}class xA{constructor(i,h){this._map=i,this._clickTolerance=h.clickTolerance}reset(){delete this._mousedownPos}wheel(i){return this._firePreventable(new Us(i.type,this._map,i))}mousedown(i,h){return this._mousedownPos=h,this._firePreventable(new oi(i.type,this._map,i))}mouseup(i){this._map.fire(new oi(i.type,this._map,i))}click(i,h){this._mousedownPos&&this._mousedownPos.dist(h)>=this._clickTolerance||this._map.fire(new oi(i.type,this._map,i))}dblclick(i){return this._firePreventable(new oi(i.type,this._map,i))}mouseover(i){this._map.fire(new oi(i.type,this._map,i))}mouseout(i){this._map.fire(new oi(i.type,this._map,i))}touchstart(i){return this._firePreventable(new jo(i.type,this._map,i))}touchmove(i){this._map.fire(new jo(i.type,this._map,i))}touchend(i){this._map.fire(new jo(i.type,this._map,i))}touchcancel(i){this._map.fire(new jo(i.type,this._map,i))}_firePreventable(i){if(this._map.fire(i),i.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class _i{constructor(i){this._map=i}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(i){this._map.fire(new oi(i.type,this._map,i))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new oi("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(i){this._delayContextMenu?this._contextMenuEvent=i:this._ignoreContextMenu||this._map.fire(new oi(i.type,this._map,i)),this._map.listens("contextmenu")&&i.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class cs{constructor(i){this._map=i}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(i){return this.transform.pointLocation(l.P.convert(i),this._map.terrain)}}class ja{constructor(i,h){this._map=i,this._tr=new cs(i),this._el=i.getCanvasContainer(),this._container=i.getContainer(),this._clickTolerance=h.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(i,h){this.isEnabled()&&i.shiftKey&&i.button===0&&(U.disableDrag(),this._startPos=this._lastPos=h,this._active=!0)}mousemoveWindow(i,h){if(!this._active)return;const p=h;if(this._lastPos.equals(p)||!this._box&&p.dist(this._startPos)<this._clickTolerance)return;const v=this._startPos;this._lastPos=p,this._box||(this._box=U.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",i));const x=Math.min(v.x,p.x),F=Math.max(v.x,p.x),M=Math.min(v.y,p.y),k=Math.max(v.y,p.y);U.setTransform(this._box,`translate(${x}px,${M}px)`),this._box.style.width=F-x+"px",this._box.style.height=k-M+"px"}mouseupWindow(i,h){if(!this._active||i.button!==0)return;const p=this._startPos,v=h;if(this.reset(),U.suppressClick(),p.x!==v.x||p.y!==v.y)return this._map.fire(new l.k("boxzoomend",{originalEvent:i})),{cameraAnimation:x=>x.fitScreenCoordinates(p,v,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",i)}keydown(i){this._active&&i.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",i))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(U.remove(this._box),this._box=null),U.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(i,h){return this._map.fire(new l.k(i,{originalEvent:h}))}}function BA(_,i){if(_.length!==i.length)throw new Error(`The number of touches and points are not equal - touches ${_.length}, points ${i.length}`);const h={};for(let p=0;p<_.length;p++)h[_[p].identifier]=i[p];return h}class Ko{constructor(i){this.reset(),this.numTouches=i.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(i,h,p){(this.centroid||p.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=i.timeStamp),p.length===this.numTouches&&(this.centroid=(function(v){const x=new l.P(0,0);for(const F of v)x._add(F);return x.div(v.length)})(h),this.touches=BA(p,h)))}touchmove(i,h,p){if(this.aborted||!this.centroid)return;const v=BA(p,h);for(const x in this.touches){const F=v[x];(!F||F.dist(this.touches[x])>30)&&(this.aborted=!0)}}touchend(i,h,p){if((!this.centroid||i.timeStamp-this.startTime>500)&&(this.aborted=!0),p.length===0){const v=!this.aborted&&this.centroid;if(this.reset(),v)return v}}}class CA{constructor(i){this.singleTap=new Ko(i),this.numTaps=i.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(i,h,p){this.singleTap.touchstart(i,h,p)}touchmove(i,h,p){this.singleTap.touchmove(i,h,p)}touchend(i,h,p){const v=this.singleTap.touchend(i,h,p);if(v){const x=i.timeStamp-this.lastTime<500,F=!this.lastTap||this.lastTap.dist(v)<30;if(x&&F||this.reset(),this.count++,this.lastTime=i.timeStamp,this.lastTap=v,this.count===this.numTaps)return this.reset(),v}}}class Wi{constructor(i){this._tr=new cs(i),this._zoomIn=new CA({numTouches:1,numTaps:2}),this._zoomOut=new CA({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(i,h,p){this._zoomIn.touchstart(i,h,p),this._zoomOut.touchstart(i,h,p)}touchmove(i,h,p){this._zoomIn.touchmove(i,h,p),this._zoomOut.touchmove(i,h,p)}touchend(i,h,p){const v=this._zoomIn.touchend(i,h,p),x=this._zoomOut.touchend(i,h,p),F=this._tr;return v?(this._active=!0,i.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:M=>M.easeTo({duration:300,zoom:F.zoom+1,around:F.unproject(v)},{originalEvent:i})}):x?(this._active=!0,i.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:M=>M.easeTo({duration:300,zoom:F.zoom-1,around:F.unproject(x)},{originalEvent:i})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class wi{constructor(i){this._enabled=!!i.enable,this._moveStateManager=i.moveStateManager,this._clickTolerance=i.clickTolerance||1,this._moveFunction=i.move,this._activateOnStart=!!i.activateOnStart,i.assignEvents(this),this.reset()}reset(i){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(i)}_move(...i){const h=this._moveFunction(...i);if(h.bearingDelta||h.pitchDelta||h.around||h.panDelta)return this._active=!0,h}dragStart(i,h){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(i)&&(this._moveStateManager.startMove(i),this._lastPoint=h.length?h[0]:h,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(i,h){if(!this.isEnabled())return;const p=this._lastPoint;if(!p)return;if(i.preventDefault(),!this._moveStateManager.isValidMoveEvent(i))return void this.reset(i);const v=h.length?h[0]:h;return!this._moved&&v.dist(p)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=v,this._move(p,v))}dragEnd(i){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(i)&&(this._moved&&U.suppressClick(),this.reset(i))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const Uu={0:1,2:2};class va{constructor(i){this._correctEvent=i.checkCorrectEvent}startMove(i){const h=U.mouseButton(i);this._eventButton=h}endMove(i){delete this._eventButton}isValidStartEvent(i){return this._correctEvent(i)}isValidMoveEvent(i){return!(function(h,p){const v=Uu[p];return h.buttons===void 0||(h.buttons&v)!==v})(i,this._eventButton)}isValidEndEvent(i){return U.mouseButton(i)===this._eventButton}}class Lu{constructor(){this._firstTouch=void 0}_isOneFingerTouch(i){return i.targetTouches.length===1}_isSameTouchEvent(i){return i.targetTouches[0].identifier===this._firstTouch}startMove(i){this._firstTouch=i.targetTouches[0].identifier}endMove(i){delete this._firstTouch}isValidStartEvent(i){return this._isOneFingerTouch(i)}isValidMoveEvent(i){return this._isOneFingerTouch(i)&&this._isSameTouchEvent(i)}isValidEndEvent(i){return this._isOneFingerTouch(i)&&this._isSameTouchEvent(i)}}const hs=_=>{_.mousedown=_.dragStart,_.mousemoveWindow=_.dragMove,_.mouseup=_.dragEnd,_.contextmenu=i=>{i.preventDefault()}},su=({enable:_,clickTolerance:i,bearingDegreesPerPixelMoved:h=.8})=>{const p=new va({checkCorrectEvent:v=>U.mouseButton(v)===0&&v.ctrlKey||U.mouseButton(v)===2});return new wi({clickTolerance:i,move:(v,x)=>({bearingDelta:(x.x-v.x)*h}),moveStateManager:p,enable:_,assignEvents:hs})},SA=({enable:_,clickTolerance:i,pitchDegreesPerPixelMoved:h=-.5})=>{const p=new va({checkCorrectEvent:v=>U.mouseButton(v)===0&&v.ctrlKey||U.mouseButton(v)===2});return new wi({clickTolerance:i,move:(v,x)=>({pitchDelta:(x.y-v.y)*h}),moveStateManager:p,enable:_,assignEvents:hs})};class Ls{constructor(i,h){this._clickTolerance=i.clickTolerance||1,this._map=h,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new l.P(0,0)}_shouldBePrevented(i){return i<(this._map.cooperativeGestures.isEnabled()?2:1)}touchstart(i,h,p){return this._calculateTransform(i,h,p)}touchmove(i,h,p){if(this._active){if(!this._shouldBePrevented(p.length))return i.preventDefault(),this._calculateTransform(i,h,p);this._map.cooperativeGestures.notifyGestureBlocked("touch_pan",i)}}touchend(i,h,p){this._calculateTransform(i,h,p),this._active&&this._shouldBePrevented(p.length)&&this.reset()}touchcancel(){this.reset()}_calculateTransform(i,h,p){p.length>0&&(this._active=!0);const v=BA(p,h),x=new l.P(0,0),F=new l.P(0,0);let M=0;for(const Q in v){const G=v[Q],X=this._touches[Q];X&&(x._add(G),F._add(G.sub(X)),M++,v[Q]=G)}if(this._touches=v,this._shouldBePrevented(M)||!F.mag())return;const k=F.div(M);return this._sum._add(k),this._sum.mag()<this._clickTolerance?void 0:{around:x.div(M),panDelta:k}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class EA{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(i,h,p){this._firstTwoTouches||p.length<2||(this._firstTwoTouches=[p[0].identifier,p[1].identifier],this._start([h[0],h[1]]))}touchmove(i,h,p){if(!this._firstTwoTouches)return;i.preventDefault();const[v,x]=this._firstTwoTouches,F=TA(p,h,v),M=TA(p,h,x);if(!F||!M)return;const k=this._aroundCenter?null:F.add(M).div(2);return this._move([F,M],k,i)}touchend(i,h,p){if(!this._firstTwoTouches)return;const[v,x]=this._firstTwoTouches,F=TA(p,h,v),M=TA(p,h,x);F&&M||(this._active&&U.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(i){this._enabled=!0,this._aroundCenter=!!i&&i.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}}function TA(_,i,h){for(let p=0;p<_.length;p++)if(_[p].identifier===h)return i[p]}function IA(_,i){return Math.log(_/i)/Math.LN2}class Mu extends EA{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(i){this._startDistance=this._distance=i[0].dist(i[1])}_move(i,h){const p=this._distance;if(this._distance=i[0].dist(i[1]),this._active||!(Math.abs(IA(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:IA(this._distance,p),pinchAround:h}}}function Ms(_,i){return 180*_.angleWith(i)/Math.PI}class FA extends EA{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(i){this._startVector=this._vector=i[0].sub(i[1]),this._minDiameter=i[0].dist(i[1])}_move(i,h,p){const v=this._vector;if(this._vector=i[0].sub(i[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Ms(this._vector,v),pinchAround:h}}_isBelowThreshold(i){this._minDiameter=Math.min(this._minDiameter,i.mag());const h=25/(Math.PI*this._minDiameter)*360,p=Ms(i,this._startVector);return Math.abs(p)<h}}function gl(_){return Math.abs(_.y)>Math.abs(_.x)}class UA extends EA{constructor(i){super(),this._currentTouchCount=0,this._map=i}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(i,h,p){super.touchstart(i,h,p),this._currentTouchCount=p.length}_start(i){this._lastPoints=i,gl(i[0].sub(i[1]))&&(this._valid=!1)}_move(i,h,p){if(this._map.cooperativeGestures.isEnabled()&&this._currentTouchCount<3)return;const v=i[0].sub(this._lastPoints[0]),x=i[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(v,x,p.timeStamp),this._valid?(this._lastPoints=i,this._active=!0,{pitchDelta:(v.y+x.y)/2*-.5}):void 0}gestureBeginsVertically(i,h,p){if(this._valid!==void 0)return this._valid;const v=i.mag()>=2,x=h.mag()>=2;if(!v&&!x)return;if(!v||!x)return this._firstMove===void 0&&(this._firstMove=p),p-this._firstMove<100&&void 0;const F=i.y>0==h.y>0;return gl(i)&&gl(h)&&F}}const Pu={panStep:100,bearingStep:15,pitchStep:10};class Oi{constructor(i){this._tr=new cs(i);const h=Pu;this._panStep=h.panStep,this._bearingStep=h.bearingStep,this._pitchStep=h.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(i){if(i.altKey||i.ctrlKey||i.metaKey)return;let h=0,p=0,v=0,x=0,F=0;switch(i.keyCode){case 61:case 107:case 171:case 187:h=1;break;case 189:case 109:case 173:h=-1;break;case 37:i.shiftKey?p=-1:(i.preventDefault(),x=-1);break;case 39:i.shiftKey?p=1:(i.preventDefault(),x=1);break;case 38:i.shiftKey?v=1:(i.preventDefault(),F=-1);break;case 40:i.shiftKey?v=-1:(i.preventDefault(),F=1);break;default:return}return this._rotationDisabled&&(p=0,v=0),{cameraAnimation:M=>{const k=this._tr;M.easeTo({duration:300,easeId:"keyboardHandler",easing:Yi,zoom:h?Math.round(k.zoom)+h*(i.shiftKey?2:1):k.zoom,bearing:k.bearing+p*this._bearingStep,pitch:k.pitch+v*this._pitchStep,offset:[-x*this._panStep,-F*this._panStep],center:k.center},{originalEvent:i})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Yi(_){return _*(2-_)}const ml=4.000244140625;class Ki{constructor(i,h){this._onTimeout=p=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(p)},this._map=i,this._tr=new cs(i),this._triggerRenderFrame=h,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222}setZoomRate(i){this._defaultZoomRate=i}setWheelZoomRate(i){this._wheelZoomRate=i}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(i){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!i&&i.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}_shouldBePrevented(i){return!!this._map.cooperativeGestures.isEnabled()&&!(i.ctrlKey||this._map.cooperativeGestures.isBypassed(i))}wheel(i){if(!this.isEnabled())return;if(this._shouldBePrevented(i))return void this._map.cooperativeGestures.notifyGestureBlocked("wheel_zoom",i);let h=i.deltaMode===WheelEvent.DOM_DELTA_LINE?40*i.deltaY:i.deltaY;const p=S.now(),v=p-(this._lastWheelEventTime||0);this._lastWheelEventTime=p,h!==0&&h%ml==0?this._type="wheel":h!==0&&Math.abs(h)<4?this._type="trackpad":v>400?(this._type=null,this._lastValue=h,this._timeout=setTimeout(this._onTimeout,40,i)):this._type||(this._type=Math.abs(v*h)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,h+=this._lastValue)),i.shiftKey&&h&&(h/=4),this._type&&(this._lastWheelEvent=i,this._delta-=h,this._active||this._start(i)),i.preventDefault()}_start(i){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const h=U.mousePos(this._map.getCanvas(),i),p=this._tr;this._around=h.y>p.transform.height/2-p.transform.getHorizon()?l.N.convert(this._aroundCenter?p.center:p.unproject(h)):l.N.convert(p.center),this._aroundPoint=p.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const i=this._tr.transform;if(this._delta!==0){const k=this._type==="wheel"&&Math.abs(this._delta)>ml?this._wheelZoomRate:this._defaultZoomRate;let Q=2/(1+Math.exp(-Math.abs(this._delta*k)));this._delta<0&&Q!==0&&(Q=1/Q);const G=typeof this._targetZoom=="number"?i.zoomScale(this._targetZoom):i.scale;this._targetZoom=Math.min(i.maxZoom,Math.max(i.minZoom,i.scaleZoom(G*Q))),this._type==="wheel"&&(this._startZoom=i.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const h=typeof this._targetZoom=="number"?this._targetZoom:i.zoom,p=this._startZoom,v=this._easing;let x,F=!1;const M=S.now()-this._lastWheelEventTime;if(this._type==="wheel"&&p&&v&&M){const k=Math.min(M/200,1),Q=v(k);x=l.y.number(p,h,Q),k<1?this._frameId||(this._frameId=!0):F=!0}else x=h,F=!0;return this._active=!0,F&&(this._active=!1,this._finishTimeout=setTimeout((()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout}),200)),{noInertia:!0,needsRenderFrame:!F,zoomDelta:x-i.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(i){let h=l.b9;if(this._prevEase){const p=this._prevEase,v=(S.now()-p.start)/p.duration,x=p.easing(v+.01)-p.easing(v),F=.27/Math.sqrt(x*x+1e-4)*.01,M=Math.sqrt(.0729-F*F);h=l.b8(F,M,.25,1)}return this._prevEase={start:S.now(),duration:i,easing:h},h}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class Ia{constructor(i,h){this._clickZoom=i,this._tapZoom=h}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Ys{constructor(i){this._tr=new cs(i),this.reset()}reset(){this._active=!1}dblclick(i,h){return i.preventDefault(),{cameraAnimation:p=>{p.easeTo({duration:300,zoom:this._tr.zoom+(i.shiftKey?-1:1),around:this._tr.unproject(h)},{originalEvent:i})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class mf{constructor(){this._tap=new CA({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(i,h,p){if(!this._swipePoint)if(this._tapTime){const v=h[0],x=i.timeStamp-this._tapTime<500,F=this._tapPoint.dist(v)<30;x&&F?p.length>0&&(this._swipePoint=v,this._swipeTouch=p[0].identifier):this.reset()}else this._tap.touchstart(i,h,p)}touchmove(i,h,p){if(this._tapTime){if(this._swipePoint){if(p[0].identifier!==this._swipeTouch)return;const v=h[0],x=v.y-this._swipePoint.y;return this._swipePoint=v,i.preventDefault(),this._active=!0,{zoomDelta:x/128}}}else this._tap.touchmove(i,h,p)}touchend(i,h,p){if(this._tapTime)this._swipePoint&&p.length===0&&this.reset();else{const v=this._tap.touchend(i,h,p);v&&(this._tapTime=i.timeStamp,this._tapPoint=v)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Rc{constructor(i,h,p){this._el=i,this._mousePan=h,this._touchPan=p}enable(i){this._inertiaOptions=i||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class dc{constructor(i,h,p){this._pitchWithRotate=i.pitchWithRotate,this._mouseRotate=h,this._mousePitch=p}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class zc{constructor(i,h,p,v){this._el=i,this._touchZoom=h,this._touchRotate=p,this._tapDragZoom=v,this._rotationDisabled=!1,this._enabled=!0}enable(i){this._touchZoom.enable(i),this._rotationDisabled||this._touchRotate.enable(i),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}class Vi{constructor(i,h){this._bypassKey=navigator.userAgent.indexOf("Mac")!==-1?"metaKey":"ctrlKey",this._map=i,this._options=h,this._enabled=!1}isActive(){return!1}reset(){}_setupUI(){if(this._container)return;const i=this._map.getCanvasContainer();i.classList.add("maplibregl-cooperative-gestures"),this._container=U.create("div","maplibregl-cooperative-gesture-screen",i);let h=this._map._getUIString("CooperativeGesturesHandler.WindowsHelpText");this._bypassKey==="metaKey"&&(h=this._map._getUIString("CooperativeGesturesHandler.MacHelpText"));const p=this._map._getUIString("CooperativeGesturesHandler.MobileHelpText"),v=document.createElement("div");v.className="maplibregl-desktop-message",v.textContent=h,this._container.appendChild(v);const x=document.createElement("div");x.className="maplibregl-mobile-message",x.textContent=p,this._container.appendChild(x),this._container.setAttribute("aria-hidden","true")}_destroyUI(){this._container&&(U.remove(this._container),this._map.getCanvasContainer().classList.remove("maplibregl-cooperative-gestures")),delete this._container}enable(){this._setupUI(),this._enabled=!0}disable(){this._enabled=!1,this._destroyUI()}isEnabled(){return this._enabled}isBypassed(i){return i[this._bypassKey]}notifyGestureBlocked(i,h){this._enabled&&(this._map.fire(new l.k("cooperativegestureprevented",{gestureType:i,originalEvent:h})),this._container.classList.add("maplibregl-show"),setTimeout((()=>{this._container.classList.remove("maplibregl-show")}),100))}}const Mn=_=>_.zoom||_.drag||_.pitch||_.rotate;class Rt extends l.k{}function Fa(_){return _.panDelta&&_.panDelta.mag()||_.zoomDelta||_.bearingDelta||_.pitchDelta}class Si{constructor(i,h){this.handleWindowEvent=v=>{this.handleEvent(v,`${v.type}Window`)},this.handleEvent=(v,x)=>{if(v.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const F=v.type==="renderFrame"?void 0:v,M={needsRenderFrame:!1},k={},Q={},G=v.touches,X=G?this._getMapTouches(G):void 0,J=X?U.touchPos(this._map.getCanvas(),X):U.mousePos(this._map.getCanvas(),v);for(const{handlerName:ge,handler:Ce,allowed:xe}of this._handlers){if(!Ce.isEnabled())continue;let Oe;this._blockedByActive(Q,xe,ge)?Ce.reset():Ce[x||v.type]&&(Oe=Ce[x||v.type](v,J,X),this.mergeHandlerResult(M,k,Oe,ge,F),Oe&&Oe.needsRenderFrame&&this._triggerRenderFrame()),(Oe||Ce.isActive())&&(Q[ge]=Ce)}const ee={};for(const ge in this._previousActiveHandlers)Q[ge]||(ee[ge]=F);this._previousActiveHandlers=Q,(Object.keys(ee).length||Fa(M))&&(this._changes.push([M,k,ee]),this._triggerRenderFrame()),(Object.keys(Q).length||Fa(M))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:ue}=M;ue&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],ue(this._map))},this._map=i,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new fc(i),this._bearingSnap=h.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(h);const p=this._el;this._listeners=[[p,"touchstart",{passive:!0}],[p,"touchmove",{passive:!1}],[p,"touchend",void 0],[p,"touchcancel",void 0],[p,"mousedown",void 0],[p,"mousemove",void 0],[p,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[p,"mouseover",void 0],[p,"mouseout",void 0],[p,"dblclick",void 0],[p,"click",void 0],[p,"keydown",{capture:!1}],[p,"keyup",void 0],[p,"wheel",{passive:!1}],[p,"contextmenu",void 0],[window,"blur",void 0]];for(const[v,x,F]of this._listeners)U.addEventListener(v,x,v===document?this.handleWindowEvent:this.handleEvent,F)}destroy(){for(const[i,h,p]of this._listeners)U.removeEventListener(i,h,i===document?this.handleWindowEvent:this.handleEvent,p)}_addDefaultHandlers(i){const h=this._map,p=h.getCanvasContainer();this._add("mapEvent",new xA(h,i));const v=h.boxZoom=new ja(h,i);this._add("boxZoom",v),i.interactive&&i.boxZoom&&v.enable();const x=h.cooperativeGestures=new Vi(h,i.cooperativeGestures);this._add("cooperativeGestures",x),i.cooperativeGestures&&x.enable();const F=new Wi(h),M=new Ys(h);h.doubleClickZoom=new Ia(M,F),this._add("tapZoom",F),this._add("clickZoom",M),i.interactive&&i.doubleClickZoom&&h.doubleClickZoom.enable();const k=new mf;this._add("tapDragZoom",k);const Q=h.touchPitch=new UA(h);this._add("touchPitch",Q),i.interactive&&i.touchPitch&&h.touchPitch.enable(i.touchPitch);const G=su(i),X=SA(i);h.dragRotate=new dc(i,G,X),this._add("mouseRotate",G,["mousePitch"]),this._add("mousePitch",X,["mouseRotate"]),i.interactive&&i.dragRotate&&h.dragRotate.enable();const J=(({enable:Oe,clickTolerance:Ee})=>{const qe=new va({checkCorrectEvent:Ke=>U.mouseButton(Ke)===0&&!Ke.ctrlKey});return new wi({clickTolerance:Ee,move:(Ke,it)=>({around:it,panDelta:it.sub(Ke)}),activateOnStart:!0,moveStateManager:qe,enable:Oe,assignEvents:hs})})(i),ee=new Ls(i,h);h.dragPan=new Rc(p,J,ee),this._add("mousePan",J),this._add("touchPan",ee,["touchZoom","touchRotate"]),i.interactive&&i.dragPan&&h.dragPan.enable(i.dragPan);const ue=new FA,ge=new Mu;h.touchZoomRotate=new zc(p,ge,ue,k),this._add("touchRotate",ue,["touchPan","touchZoom"]),this._add("touchZoom",ge,["touchPan","touchRotate"]),i.interactive&&i.touchZoomRotate&&h.touchZoomRotate.enable(i.touchZoomRotate);const Ce=h.scrollZoom=new Ki(h,(()=>this._triggerRenderFrame()));this._add("scrollZoom",Ce,["mousePan"]),i.interactive&&i.scrollZoom&&h.scrollZoom.enable(i.scrollZoom);const xe=h.keyboard=new Oi(h);this._add("keyboard",xe),i.interactive&&i.keyboard&&h.keyboard.enable(),this._add("blockableMapEvent",new _i(h))}_add(i,h,p){this._handlers.push({handlerName:i,handler:h,allowed:p}),this._handlersById[i]=h}stop(i){if(!this._updatingCamera){for(const{handler:h}of this._handlers)h.reset();this._inertia.clear(),this._fireEvents({},{},i),this._changes=[]}}isActive(){for(const{handler:i}of this._handlers)if(i.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Mn(this._eventsInProgress)||this.isZooming()}_blockedByActive(i,h,p){for(const v in i)if(v!==p&&(!h||h.indexOf(v)<0))return!0;return!1}_getMapTouches(i){const h=[];for(const p of i)this._el.contains(p.target)&&h.push(p);return h}mergeHandlerResult(i,h,p,v,x){if(!p)return;l.e(i,p);const F={handlerName:v,originalEvent:p.originalEvent||x};p.zoomDelta!==void 0&&(h.zoom=F),p.panDelta!==void 0&&(h.drag=F),p.pitchDelta!==void 0&&(h.pitch=F),p.bearingDelta!==void 0&&(h.rotate=F)}_applyChanges(){const i={},h={},p={};for(const[v,x,F]of this._changes)v.panDelta&&(i.panDelta=(i.panDelta||new l.P(0,0))._add(v.panDelta)),v.zoomDelta&&(i.zoomDelta=(i.zoomDelta||0)+v.zoomDelta),v.bearingDelta&&(i.bearingDelta=(i.bearingDelta||0)+v.bearingDelta),v.pitchDelta&&(i.pitchDelta=(i.pitchDelta||0)+v.pitchDelta),v.around!==void 0&&(i.around=v.around),v.pinchAround!==void 0&&(i.pinchAround=v.pinchAround),v.noInertia&&(i.noInertia=v.noInertia),l.e(h,x),l.e(p,F);this._updateMapTransform(i,h,p),this._changes=[]}_updateMapTransform(i,h,p){const v=this._map,x=v._getTransformForUpdate(),F=v.terrain;if(!(Fa(i)||F&&this._terrainMovement))return this._fireEvents(h,p,!0);let{panDelta:M,zoomDelta:k,bearingDelta:Q,pitchDelta:G,around:X,pinchAround:J}=i;J!==void 0&&(X=J),v._stop(!0),X=X||v.transform.centerPoint;const ee=x.pointLocation(M?X.sub(M):X);Q&&(x.bearing+=Q),G&&(x.pitch+=G),k&&(x.zoom+=k),F?this._terrainMovement||!h.drag&&!h.zoom?h.drag&&this._terrainMovement?x.center=x.pointLocation(x.centerPoint.sub(M)):x.setLocationAtPoint(ee,X):(this._terrainMovement=!0,this._map._elevationFreeze=!0,x.setLocationAtPoint(ee,X)):x.setLocationAtPoint(ee,X),v._applyUpdatedTransform(x),this._map._update(),i.noInertia||this._inertia.record(i),this._fireEvents(h,p,!0)}_fireEvents(i,h,p){const v=Mn(this._eventsInProgress),x=Mn(i),F={};for(const X in i){const{originalEvent:J}=i[X];this._eventsInProgress[X]||(F[`${X}start`]=J),this._eventsInProgress[X]=i[X]}!v&&x&&this._fireEvent("movestart",x.originalEvent);for(const X in F)this._fireEvent(X,F[X]);x&&this._fireEvent("move",x.originalEvent);for(const X in i){const{originalEvent:J}=i[X];this._fireEvent(X,J)}const M={};let k;for(const X in this._eventsInProgress){const{handlerName:J,originalEvent:ee}=this._eventsInProgress[X];this._handlersById[J].isActive()||(delete this._eventsInProgress[X],k=h[J]||ee,M[`${X}end`]=k)}for(const X in M)this._fireEvent(X,M[X]);const Q=Mn(this._eventsInProgress),G=(v||x)&&!Q;if(G&&this._terrainMovement){this._map._elevationFreeze=!1,this._terrainMovement=!1;const X=this._map._getTransformForUpdate();X.recalculateZoom(this._map.terrain),this._map._applyUpdatedTransform(X)}if(p&&G){this._updatingCamera=!0;const X=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),J=ee=>ee!==0&&-this._bearingSnap<ee&&ee<this._bearingSnap;!X||!X.essential&&S.prefersReducedMotion?(this._map.fire(new l.k("moveend",{originalEvent:k})),J(this._map.getBearing())&&this._map.resetNorth()):(J(X.bearing||this._map.getBearing())&&(X.bearing=0),X.freezeElevation=!0,this._map.easeTo(X,{originalEvent:k})),this._updatingCamera=!1}}_fireEvent(i,h){this._map.fire(new l.k(i,h?{originalEvent:h}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add((i=>{delete this._frameId,this.handleEvent(new Rt("renderFrame",{timeStamp:i})),this._applyChanges()}))}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class _o extends l.E{constructor(i,h){super(),this._renderFrameCallback=()=>{const p=Math.min((S.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(p)),p<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=i,this._bearingSnap=h.bearingSnap,this.on("moveend",(()=>{delete this._requestedCameraState}))}getCenter(){return new l.N(this.transform.center.lng,this.transform.center.lat)}setCenter(i,h){return this.jumpTo({center:i},h)}panBy(i,h,p){return i=l.P.convert(i).mult(-1),this.panTo(this.transform.center,l.e({offset:i},h),p)}panTo(i,h,p){return this.easeTo(l.e({center:i},h),p)}getZoom(){return this.transform.zoom}setZoom(i,h){return this.jumpTo({zoom:i},h),this}zoomTo(i,h,p){return this.easeTo(l.e({zoom:i},h),p)}zoomIn(i,h){return this.zoomTo(this.getZoom()+1,i,h),this}zoomOut(i,h){return this.zoomTo(this.getZoom()-1,i,h),this}getBearing(){return this.transform.bearing}setBearing(i,h){return this.jumpTo({bearing:i},h),this}getPadding(){return this.transform.padding}setPadding(i,h){return this.jumpTo({padding:i},h),this}rotateTo(i,h,p){return this.easeTo(l.e({bearing:i},h),p)}resetNorth(i,h){return this.rotateTo(0,l.e({duration:1e3},i),h),this}resetNorthPitch(i,h){return this.easeTo(l.e({bearing:0,pitch:0,duration:1e3},i),h),this}snapToNorth(i,h){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(i,h):this}getPitch(){return this.transform.pitch}setPitch(i,h){return this.jumpTo({pitch:i},h),this}cameraForBounds(i,h){i=Ze.convert(i).adjustAntiMeridian();const p=h&&h.bearing||0;return this._cameraForBoxAndBearing(i.getNorthWest(),i.getSouthEast(),p,h)}_cameraForBoxAndBearing(i,h,p,v){const x={top:0,bottom:0,right:0,left:0};if(typeof(v=l.e({padding:x,offset:[0,0],maxZoom:this.transform.maxZoom},v)).padding=="number"){const Qt=v.padding;v.padding={top:Qt,bottom:Qt,right:Qt,left:Qt}}v.padding=l.e(x,v.padding);const F=this.transform,M=F.padding,k=new Ze(i,h),Q=F.project(k.getNorthWest()),G=F.project(k.getNorthEast()),X=F.project(k.getSouthEast()),J=F.project(k.getSouthWest()),ee=l.ba(-p),ue=Q.rotate(ee),ge=G.rotate(ee),Ce=X.rotate(ee),xe=J.rotate(ee),Oe=new l.P(Math.max(ue.x,ge.x,xe.x,Ce.x),Math.max(ue.y,ge.y,xe.y,Ce.y)),Ee=new l.P(Math.min(ue.x,ge.x,xe.x,Ce.x),Math.min(ue.y,ge.y,xe.y,Ce.y)),qe=Oe.sub(Ee),Ke=(F.width-(M.left+M.right+v.padding.left+v.padding.right))/qe.x,it=(F.height-(M.top+M.bottom+v.padding.top+v.padding.bottom))/qe.y;if(it<0||Ke<0)return void l.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const bt=Math.min(F.scaleZoom(F.scale*Math.min(Ke,it)),v.maxZoom),Ct=l.P.convert(v.offset),yt=new l.P((v.padding.left-v.padding.right)/2,(v.padding.top-v.padding.bottom)/2).rotate(l.ba(p)),pt=Ct.add(yt).mult(F.scale/F.zoomScale(bt));return{center:F.unproject(Q.add(X).div(2).sub(pt)),zoom:bt,bearing:p}}fitBounds(i,h,p){return this._fitInternal(this.cameraForBounds(i,h),h,p)}fitScreenCoordinates(i,h,p,v,x){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(l.P.convert(i)),this.transform.pointLocation(l.P.convert(h)),p,v),v,x)}_fitInternal(i,h,p){return i?(delete(h=l.e(i,h)).padding,h.linear?this.easeTo(h,p):this.flyTo(h,p)):this}jumpTo(i,h){this.stop();const p=this._getTransformForUpdate();let v=!1,x=!1,F=!1;return"zoom"in i&&p.zoom!==+i.zoom&&(v=!0,p.zoom=+i.zoom),i.center!==void 0&&(p.center=l.N.convert(i.center)),"bearing"in i&&p.bearing!==+i.bearing&&(x=!0,p.bearing=+i.bearing),"pitch"in i&&p.pitch!==+i.pitch&&(F=!0,p.pitch=+i.pitch),i.padding==null||p.isPaddingEqual(i.padding)||(p.padding=i.padding),this._applyUpdatedTransform(p),this.fire(new l.k("movestart",h)).fire(new l.k("move",h)),v&&this.fire(new l.k("zoomstart",h)).fire(new l.k("zoom",h)).fire(new l.k("zoomend",h)),x&&this.fire(new l.k("rotatestart",h)).fire(new l.k("rotate",h)).fire(new l.k("rotateend",h)),F&&this.fire(new l.k("pitchstart",h)).fire(new l.k("pitch",h)).fire(new l.k("pitchend",h)),this.fire(new l.k("moveend",h))}calculateCameraOptionsFromTo(i,h,p,v=0){const x=l.Z.fromLngLat(i,h),F=l.Z.fromLngLat(p,v),M=F.x-x.x,k=F.y-x.y,Q=F.z-x.z,G=Math.hypot(M,k,Q);if(G===0)throw new Error("Can't calculate camera options with same From and To");const X=Math.hypot(M,k),J=this.transform.scaleZoom(this.transform.cameraToCenterDistance/G/this.transform.tileSize),ee=180*Math.atan2(M,-k)/Math.PI;let ue=180*Math.acos(X/G)/Math.PI;return ue=Q<0?90-ue:90+ue,{center:F.toLngLat(),zoom:J,pitch:ue,bearing:ee}}easeTo(i,h){var p;this._stop(!1,i.easeId),((i=l.e({offset:[0,0],duration:500,easing:l.b9},i)).animate===!1||!i.essential&&S.prefersReducedMotion)&&(i.duration=0);const v=this._getTransformForUpdate(),x=v.zoom,F=v.bearing,M=v.pitch,k=v.padding,Q="bearing"in i?this._normalizeBearing(i.bearing,F):F,G="pitch"in i?+i.pitch:M,X="padding"in i?i.padding:v.padding,J=l.P.convert(i.offset);let ee=v.centerPoint.add(J);const ue=v.pointLocation(ee),{center:ge,zoom:Ce}=v.getConstrained(l.N.convert(i.center||ue),(p=i.zoom)!==null&&p!==void 0?p:x);this._normalizeCenter(ge,v);const xe=v.project(ue),Oe=v.project(ge).sub(xe),Ee=v.zoomScale(Ce-x);let qe,Ke;i.around&&(qe=l.N.convert(i.around),Ke=v.locationPoint(qe));const it={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||Ce!==x,this._rotating=this._rotating||F!==Q,this._pitching=this._pitching||G!==M,this._padding=!v.isPaddingEqual(X),this._easeId=i.easeId,this._prepareEase(h,i.noMoveStart,it),this.terrain&&this._prepareElevation(ge),this._ease((bt=>{if(this._zooming&&(v.zoom=l.y.number(x,Ce,bt)),this._rotating&&(v.bearing=l.y.number(F,Q,bt)),this._pitching&&(v.pitch=l.y.number(M,G,bt)),this._padding&&(v.interpolatePadding(k,X,bt),ee=v.centerPoint.add(J)),this.terrain&&!i.freezeElevation&&this._updateElevation(bt),qe)v.setLocationAtPoint(qe,Ke);else{const Ct=v.zoomScale(v.zoom-x),yt=Ce>x?Math.min(2,Ee):Math.max(.5,Ee),pt=Math.pow(yt,1-bt),Qt=v.unproject(xe.add(Oe.mult(bt*pt)).mult(Ct));v.setLocationAtPoint(v.renderWorldCopies?Qt.wrap():Qt,ee)}this._applyUpdatedTransform(v),this._fireMoveEvents(h)}),(bt=>{this.terrain&&i.freezeElevation&&this._finalizeElevation(),this._afterEase(h,bt)}),i),this}_prepareEase(i,h,p={}){this._moving=!0,h||p.moving||this.fire(new l.k("movestart",i)),this._zooming&&!p.zooming&&this.fire(new l.k("zoomstart",i)),this._rotating&&!p.rotating&&this.fire(new l.k("rotatestart",i)),this._pitching&&!p.pitching&&this.fire(new l.k("pitchstart",i))}_prepareElevation(i){this._elevationCenter=i,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(i,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(i){this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);const h=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(i<1&&h!==this._elevationTarget){const p=this._elevationTarget-this._elevationStart;this._elevationStart+=i*(p-(h-(p*i+this._elevationStart))/(1-i)),this._elevationTarget=h}this.transform.elevation=l.y.number(this._elevationStart,this._elevationTarget,i)}_finalizeElevation(){this._elevationFreeze=!1,this.transform.recalculateZoom(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate||this.terrain?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_elevateCameraIfInsideTerrain(i){const h=i.getCameraPosition(),p=this.terrain.getElevationForLngLatZoom(h.lngLat,i.zoom);if(h.altitude<p){const v=this.calculateCameraOptionsFromTo(h.lngLat,p,i.center,i.elevation);return{pitch:v.pitch,zoom:v.zoom}}return{}}_applyUpdatedTransform(i){const h=[];if(this.terrain&&h.push((v=>this._elevateCameraIfInsideTerrain(v))),this.transformCameraUpdate&&h.push((v=>this.transformCameraUpdate(v))),!h.length)return;const p=i.clone();for(const v of h){const x=p.clone(),{center:F,zoom:M,pitch:k,bearing:Q,elevation:G}=v(x);F&&(x.center=F),M!==void 0&&(x.zoom=M),k!==void 0&&(x.pitch=k),Q!==void 0&&(x.bearing=Q),G!==void 0&&(x.elevation=G),p.apply(x)}this.transform.apply(p)}_fireMoveEvents(i){this.fire(new l.k("move",i)),this._zooming&&this.fire(new l.k("zoom",i)),this._rotating&&this.fire(new l.k("rotate",i)),this._pitching&&this.fire(new l.k("pitch",i))}_afterEase(i,h){if(this._easeId&&h&&this._easeId===h)return;delete this._easeId;const p=this._zooming,v=this._rotating,x=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,p&&this.fire(new l.k("zoomend",i)),v&&this.fire(new l.k("rotateend",i)),x&&this.fire(new l.k("pitchend",i)),this.fire(new l.k("moveend",i))}flyTo(i,h){var p;if(!i.essential&&S.prefersReducedMotion){const Gt=l.M(i,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Gt,h)}this.stop(),i=l.e({offset:[0,0],speed:1.2,curve:1.42,easing:l.b9},i);const v=this._getTransformForUpdate(),x=v.zoom,F=v.bearing,M=v.pitch,k=v.padding,Q="bearing"in i?this._normalizeBearing(i.bearing,F):F,G="pitch"in i?+i.pitch:M,X="padding"in i?i.padding:v.padding,J=l.P.convert(i.offset);let ee=v.centerPoint.add(J);const ue=v.pointLocation(ee),{center:ge,zoom:Ce}=v.getConstrained(l.N.convert(i.center||ue),(p=i.zoom)!==null&&p!==void 0?p:x);this._normalizeCenter(ge,v);const xe=v.zoomScale(Ce-x),Oe=v.project(ue),Ee=v.project(ge).sub(Oe);let qe=i.curve;const Ke=Math.max(v.width,v.height),it=Ke/xe,bt=Ee.mag();if("minZoom"in i){const Gt=l.ac(Math.min(i.minZoom,x,Ce),v.minZoom,v.maxZoom),rr=Ke/v.zoomScale(Gt-x);qe=Math.sqrt(rr/bt*2)}const Ct=qe*qe;function yt(Gt){const rr=(it*it-Ke*Ke+(Gt?-1:1)*Ct*Ct*bt*bt)/(2*(Gt?it:Ke)*Ct*bt);return Math.log(Math.sqrt(rr*rr+1)-rr)}function pt(Gt){return(Math.exp(Gt)-Math.exp(-Gt))/2}function Qt(Gt){return(Math.exp(Gt)+Math.exp(-Gt))/2}const St=yt(!1);let zt=function(Gt){return Qt(St)/Qt(St+qe*Gt)},tr=function(Gt){return Ke*((Qt(St)*(pt(rr=St+qe*Gt)/Qt(rr))-pt(St))/Ct)/bt;var rr},Vt=(yt(!0)-St)/qe;if(Math.abs(bt)<1e-6||!isFinite(Vt)){if(Math.abs(Ke-it)<1e-6)return this.easeTo(i,h);const Gt=it<Ke?-1:1;Vt=Math.abs(Math.log(it/Ke))/qe,tr=()=>0,zt=rr=>Math.exp(Gt*qe*rr)}return i.duration="duration"in i?+i.duration:1e3*Vt/("screenSpeed"in i?+i.screenSpeed/qe:+i.speed),i.maxDuration&&i.duration>i.maxDuration&&(i.duration=0),this._zooming=!0,this._rotating=F!==Q,this._pitching=G!==M,this._padding=!v.isPaddingEqual(X),this._prepareEase(h,!1),this.terrain&&this._prepareElevation(ge),this._ease((Gt=>{const rr=Gt*Vt,un=1/zt(rr);v.zoom=Gt===1?Ce:x+v.scaleZoom(un),this._rotating&&(v.bearing=l.y.number(F,Q,Gt)),this._pitching&&(v.pitch=l.y.number(M,G,Gt)),this._padding&&(v.interpolatePadding(k,X,Gt),ee=v.centerPoint.add(J)),this.terrain&&!i.freezeElevation&&this._updateElevation(Gt);const Ir=Gt===1?ge:v.unproject(Oe.add(Ee.mult(tr(rr))).mult(un));v.setLocationAtPoint(v.renderWorldCopies?Ir.wrap():Ir,ee),this._applyUpdatedTransform(v),this._fireMoveEvents(h)}),(()=>{this.terrain&&i.freezeElevation&&this._finalizeElevation(),this._afterEase(h)}),i),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(i,h){var p;if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const v=this._onEaseEnd;delete this._onEaseEnd,v.call(this,h)}return i||(p=this.handlers)===null||p===void 0||p.stop(!1),this}_ease(i,h,p){p.animate===!1||p.duration===0?(i(1),h()):(this._easeStart=S.now(),this._easeOptions=p,this._onEaseFrame=i,this._onEaseEnd=h,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(i,h){i=l.b3(i,-180,180);const p=Math.abs(i-h);return Math.abs(i-360-h)<p&&(i-=360),Math.abs(i+360-h)<p&&(i+=360),i}_normalizeCenter(i,h){if(!h.renderWorldCopies||h.lngRange)return;const p=i.lng-h.center.lng;i.lng+=p>180?-360:p<-180?360:0}queryTerrainElevation(i){return this.terrain?this.terrain.getElevationForLngLatZoom(l.N.convert(i),this.transform.tileZoom)-this.transform.elevation:null}}const Js={compact:!0,customAttribution:'<a href="https://maplibre.org/" target="_blank">MapLibre</a>'};class LA{constructor(i=Js){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=h=>{!h||h.sourceDataType!=="metadata"&&h.sourceDataType!=="visibility"&&h.dataType!=="style"&&h.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=i}getDefaultPosition(){return"bottom-right"}onAdd(i){return this._map=i,this._compact=this.options.compact,this._container=U.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=U.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=U.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){U.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(i,h){const p=this._map._getUIString(`AttributionControl.${h}`);i.title=p,i.setAttribute("aria-label",p)}_updateAttributions(){if(!this._map.style)return;let i=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?i=i.concat(this.options.customAttribution.map((v=>typeof v!="string"?"":v))):typeof this.options.customAttribution=="string"&&i.push(this.options.customAttribution)),this._map.style.stylesheet){const v=this._map.style.stylesheet;this.styleOwner=v.owner,this.styleId=v.id}const h=this._map.style.sourceCaches;for(const v in h){const x=h[v];if(x.used||x.usedForTerrain){const F=x.getSource();F.attribution&&i.indexOf(F.attribution)<0&&i.push(F.attribution)}}i=i.filter((v=>String(v).trim())),i.sort(((v,x)=>v.length-x.length)),i=i.filter(((v,x)=>{for(let F=x+1;F<i.length;F++)if(i[F].indexOf(v)>=0)return!1;return!0}));const p=i.join(" | ");p!==this._attribHTML&&(this._attribHTML=p,i.length?(this._innerContainer.innerHTML=p,this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class Vo{constructor(i={}){this._updateCompact=()=>{const h=this._container.children;if(h.length){const p=h[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&p.classList.add("maplibregl-compact"):p.classList.remove("maplibregl-compact")}},this.options=i}getDefaultPosition(){return"bottom-left"}onAdd(i){this._map=i,this._compact=this.options&&this.options.compact,this._container=U.create("div","maplibregl-ctrl");const h=U.create("a","maplibregl-ctrl-logo");return h.target="_blank",h.rel="noopener nofollow",h.href="https://maplibre.org/",h.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),h.setAttribute("rel","noopener nofollow"),this._container.appendChild(h),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){U.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class Hr{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(i){const h=++this._id;return this._queue.push({callback:i,id:h,cancelled:!1}),h}remove(i){const h=this._currentlyRunning,p=h?this._queue.concat(h):this._queue;for(const v of p)if(v.id===i)return void(v.cancelled=!0)}run(i=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const h=this._currentlyRunning=this._queue;this._queue=[];for(const p of h)if(!p.cancelled&&(p.callback(i),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}var Xl=l.Y([{name:"a_pos3d",type:"Int16",components:3}]);class Sh extends l.E{constructor(i){super(),this.sourceCache=i,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,i.usedForTerrain=!0,i.tileSize=this.tileSize*2**this.deltaZoom}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(i,h){this.sourceCache.update(i,h),this._renderableTilesKeys=[];const p={};for(const v of i.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:h}))p[v.key]=!0,this._renderableTilesKeys.push(v.key),this._tiles[v.key]||(v.posMatrix=new Float64Array(16),l.aP(v.posMatrix,0,l.X,0,l.X,0,1),this._tiles[v.key]=new ri(v,this.tileSize));for(const v in this._tiles)p[v]||delete this._tiles[v]}freeRtt(i){for(const h in this._tiles){const p=this._tiles[h];(!i||p.tileID.equals(i)||p.tileID.isChildOf(i)||i.isChildOf(p.tileID))&&(p.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map((i=>this.getTileByID(i)))}getTileByID(i){return this._tiles[i]}getTerrainCoords(i){const h={};for(const p of this._renderableTilesKeys){const v=this._tiles[p].tileID;if(v.canonical.equals(i.canonical)){const x=i.clone();x.posMatrix=new Float64Array(16),l.aP(x.posMatrix,0,l.X,0,l.X,0,1),h[p]=x}else if(v.canonical.isChildOf(i.canonical)){const x=i.clone();x.posMatrix=new Float64Array(16);const F=v.canonical.z-i.canonical.z,M=v.canonical.x-(v.canonical.x>>F<<F),k=v.canonical.y-(v.canonical.y>>F<<F),Q=l.X>>F;l.aP(x.posMatrix,0,Q,0,Q,0,1),l.J(x.posMatrix,x.posMatrix,[-M*Q,-k*Q,0]),h[p]=x}else if(i.canonical.isChildOf(v.canonical)){const x=i.clone();x.posMatrix=new Float64Array(16);const F=i.canonical.z-v.canonical.z,M=i.canonical.x-(i.canonical.x>>F<<F),k=i.canonical.y-(i.canonical.y>>F<<F),Q=l.X>>F;l.aP(x.posMatrix,0,l.X,0,l.X,0,1),l.J(x.posMatrix,x.posMatrix,[M*Q,k*Q,0]),l.K(x.posMatrix,x.posMatrix,[1/2**F,1/2**F,0]),h[p]=x}}return h}getSourceTile(i,h){const p=this.sourceCache._source;let v=i.overscaledZ-this.deltaZoom;if(v>p.maxzoom&&(v=p.maxzoom),v<p.minzoom)return null;this._sourceTileCache[i.key]||(this._sourceTileCache[i.key]=i.scaledTo(v).key);let x=this.sourceCache.getTileByID(this._sourceTileCache[i.key]);if((!x||!x.dem)&&h)for(;v>=p.minzoom&&(!x||!x.dem);)x=this.sourceCache.getTileByID(i.scaledTo(v--).key);return x}tilesAfterTime(i=Date.now()){return Object.values(this._tiles).filter((h=>h.timeAdded>=i))}}class MA{constructor(i,h,p){this.painter=i,this.sourceCache=new Sh(h),this.options=p,this.exaggeration=typeof p.exaggeration=="number"?p.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(i,h,p,v=l.X){var x;if(!(h>=0&&h<v&&p>=0&&p<v))return 0;const F=this.getTerrainData(i),M=(x=F.tile)===null||x===void 0?void 0:x.dem;if(!M)return 0;const k=(function(ue,ge,Ce){var xe=ge[0],Oe=ge[1];return ue[0]=Ce[0]*xe+Ce[4]*Oe+Ce[12],ue[1]=Ce[1]*xe+Ce[5]*Oe+Ce[13],ue})([],[h/v*l.X,p/v*l.X],F.u_terrain_matrix),Q=[k[0]*M.dim,k[1]*M.dim],G=Math.floor(Q[0]),X=Math.floor(Q[1]),J=Q[0]-G,ee=Q[1]-X;return M.get(G,X)*(1-J)*(1-ee)+M.get(G+1,X)*J*(1-ee)+M.get(G,X+1)*(1-J)*ee+M.get(G+1,X+1)*J*ee}getElevationForLngLatZoom(i,h){if(!l.bb(h,i.wrap()))return 0;const{tileID:p,mercatorX:v,mercatorY:x}=this._getOverscaledTileIDFromLngLatZoom(i,h);return this.getElevation(p,v%l.X,x%l.X,l.X)}getElevation(i,h,p,v=l.X){return this.getDEMElevation(i,h,p,v)*this.exaggeration}getTerrainData(i){if(!this._emptyDemTexture){const v=this.painter.context,x=new l.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new ie(v,x,v.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new ie(v,new l.R({width:1,height:1}),v.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(v.gl.NEAREST,v.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=l.an([])}const h=this.sourceCache.getSourceTile(i,!0);if(h&&h.dem&&(!h.demTexture||h.needsTerrainPrepare)){const v=this.painter.context;h.demTexture=this.painter.getTileTexture(h.dem.stride),h.demTexture?h.demTexture.update(h.dem.getPixels(),{premultiply:!1}):h.demTexture=new ie(v,h.dem.getPixels(),v.gl.RGBA,{premultiply:!1}),h.demTexture.bind(v.gl.NEAREST,v.gl.CLAMP_TO_EDGE),h.needsTerrainPrepare=!1}const p=h&&h+h.tileID.key+i.key;if(p&&!this._demMatrixCache[p]){const v=this.sourceCache.sourceCache._source.maxzoom;let x=i.canonical.z-h.tileID.canonical.z;i.overscaledZ>i.canonical.z&&(i.canonical.z>=v?x=i.canonical.z-v:l.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const F=i.canonical.x-(i.canonical.x>>x<<x),M=i.canonical.y-(i.canonical.y>>x<<x),k=l.bc(new Float64Array(16),[1/(l.X<<x),1/(l.X<<x),0]);l.J(k,k,[F*l.X,M*l.X,0]),this._demMatrixCache[i.key]={matrix:k,coord:i}}return{u_depth:2,u_terrain:3,u_terrain_dim:h&&h.dem&&h.dem.dim||1,u_terrain_matrix:p?this._demMatrixCache[i.key].matrix:this._emptyDemMatrix,u_terrain_unpack:h&&h.dem&&h.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(h&&h.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:h}}getFramebuffer(i){const h=this.painter,p=h.width/devicePixelRatio,v=h.height/devicePixelRatio;return!this._fbo||this._fbo.width===p&&this._fbo.height===v||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new ie(h.context,{width:p,height:v,data:null},h.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(h.context.gl.NEAREST,h.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new ie(h.context,{width:p,height:v,data:null},h.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(h.context.gl.NEAREST,h.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=h.context.createFramebuffer(p,v,!0,!1),this._fbo.depthAttachment.set(h.context.createRenderbuffer(h.context.gl.DEPTH_COMPONENT16,p,v))),this._fbo.colorAttachment.set(i==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const i=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const h=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let x=0,F=0;x<this._coordsTextureSize;x++)for(let M=0;M<this._coordsTextureSize;M++,F+=4)h[F+0]=255&M,h[F+1]=255&x,h[F+2]=M>>8<<4|x>>8,h[F+3]=0;const p=new l.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(h.buffer)),v=new ie(i,p,i.gl.RGBA,{premultiply:!1});return v.bind(i.gl.NEAREST,i.gl.CLAMP_TO_EDGE),this._coordsTexture=v,v}pointCoordinate(i){this.painter.maybeDrawDepthAndCoords(!0);const h=new Uint8Array(4),p=this.painter.context,v=p.gl,x=Math.round(i.x*this.painter.pixelRatio/devicePixelRatio),F=Math.round(i.y*this.painter.pixelRatio/devicePixelRatio),M=Math.round(this.painter.height/devicePixelRatio);p.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),v.readPixels(x,M-F-1,1,1,v.RGBA,v.UNSIGNED_BYTE,h),p.bindFramebuffer.set(null);const k=h[0]+(h[2]>>4<<8),Q=h[1]+((15&h[2])<<8),G=this.coordsIndex[255-h[3]],X=G&&this.sourceCache.getTileByID(G);if(!X)return null;const J=this._coordsTextureSize,ee=(1<<X.tileID.canonical.z)*J;return new l.Z((X.tileID.canonical.x*J+k)/ee+X.tileID.wrap,(X.tileID.canonical.y*J+Q)/ee,this.getElevation(X.tileID,k,Q,J))}depthAtPoint(i){const h=new Uint8Array(4),p=this.painter.context,v=p.gl;return p.bindFramebuffer.set(this.getFramebuffer("depth").framebuffer),v.readPixels(i.x,this.painter.height/devicePixelRatio-i.y-1,1,1,v.RGBA,v.UNSIGNED_BYTE,h),p.bindFramebuffer.set(null),(h[0]/16777216+h[1]/65536+h[2]/256+h[3])/256}getTerrainMesh(){if(this._mesh)return this._mesh;const i=this.painter.context,h=new l.bd,p=new l.aY,v=this.meshSize,x=l.X/v,F=v*v;for(let X=0;X<=v;X++)for(let J=0;J<=v;J++)h.emplaceBack(J*x,X*x,0);for(let X=0;X<F;X+=v+1)for(let J=0;J<v;J++)p.emplaceBack(J+X,v+J+X+1,v+J+X+2),p.emplaceBack(J+X,v+J+X+2,J+X+1);const M=h.length,k=M+2*(v+1);for(const X of[0,1])for(let J=0;J<=v;J++)for(const ee of[0,1])h.emplaceBack(J*x,X*l.X,ee);for(let X=0;X<2*v;X+=2)p.emplaceBack(k+X,k+X+1,k+X+3),p.emplaceBack(k+X,k+X+3,k+X+2),p.emplaceBack(M+X,M+X+3,M+X+1),p.emplaceBack(M+X,M+X+2,M+X+3);const Q=h.length,G=Q+2*(v+1);for(const X of[0,1])for(let J=0;J<=v;J++)for(const ee of[0,1])h.emplaceBack(X*l.X,J*x,ee);for(let X=0;X<2*v;X+=2)p.emplaceBack(Q+X,Q+X+1,Q+X+3),p.emplaceBack(Q+X,Q+X+3,Q+X+2),p.emplaceBack(G+X,G+X+3,G+X+1),p.emplaceBack(G+X,G+X+2,G+X+3);return this._mesh=new ya(i.createVertexBuffer(h,Xl.members),i.createIndexBuffer(p),l.a0.simpleSegment(0,0,h.length,p.length)),this._mesh}getMeshFrameDelta(i){return 2*Math.PI*l.be/Math.pow(2,i)/5}getMinTileElevationForLngLatZoom(i,h){var p;const{tileID:v}=this._getOverscaledTileIDFromLngLatZoom(i,h);return(p=this.getMinMaxElevation(v).minElevation)!==null&&p!==void 0?p:0}getMinMaxElevation(i){const h=this.getTerrainData(i).tile,p={minElevation:null,maxElevation:null};return h&&h.dem&&(p.minElevation=h.dem.min*this.exaggeration,p.maxElevation=h.dem.max*this.exaggeration),p}_getOverscaledTileIDFromLngLatZoom(i,h){const p=l.Z.fromLngLat(i.wrap()),v=(1<<h)*l.X,x=p.x*v,F=p.y*v,M=Math.floor(x/l.X),k=Math.floor(F/l.X);return{tileID:new l.S(h,0,h,M,k),mercatorX:x,mercatorY:F}}}class Hc{constructor(i,h,p){this._context=i,this._size=h,this._tileSize=p,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const i of this._objects)i.texture.destroy(),i.fbo.destroy()}_createObject(i){const h=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),p=new ie(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return p.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),h.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),h.colorAttachment.set(p.texture),{id:i,fbo:h,texture:p,stamp:-1,inUse:!1}}getObjectForId(i){return this._objects[i]}useObject(i){i.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter((h=>i.id!==h)),this._recentlyUsed.push(i.id)}stampObject(i){i.stamp=++this._stamp}getOrCreateFreeObject(){for(const h of this._recentlyUsed)if(!this._objects[h].inUse)return this._objects[h];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const i=this._createObject(this._objects.length);return this._objects.push(i),i}freeObject(i){i.inUse=!1}freeAllObjects(){for(const i of this._objects)this.freeObject(i)}isFull(){return!(this._objects.length<this._size)&&this._objects.some((i=>!i.inUse))===!1}}const eo={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class qo{constructor(i,h){this.painter=i,this.terrain=h,this.pool=new Hc(i.context,30,h.sourceCache.tileSize*h.qualityFactor)}destruct(){this.pool.destruct()}getTexture(i){return this.pool.getObjectForId(i.rtt[this._stacks.length-1].id).texture}prepareForRender(i,h){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=i._order.filter((p=>!i._layers[p].isHidden(h))),this._coordsDescendingInv={};for(const p in i.sourceCaches){this._coordsDescendingInv[p]={};const v=i.sourceCaches[p].getVisibleCoordinates();for(const x of v){const F=this.terrain.sourceCache.getTerrainCoords(x);for(const M in F)this._coordsDescendingInv[p][M]||(this._coordsDescendingInv[p][M]=[]),this._coordsDescendingInv[p][M].push(F[M])}}this._coordsDescendingInvStr={};for(const p of i._order){const v=i._layers[p],x=v.source;if(eo[v.type]&&!this._coordsDescendingInvStr[x]){this._coordsDescendingInvStr[x]={};for(const F in this._coordsDescendingInv[x])this._coordsDescendingInvStr[x][F]=this._coordsDescendingInv[x][F].map((M=>M.key)).sort().join()}}for(const p of this._renderableTiles)for(const v in this._coordsDescendingInvStr){const x=this._coordsDescendingInvStr[v][p.tileID.key];x&&x!==p.rttCoords[v]&&(p.rtt=[])}}renderLayer(i){if(i.isHidden(this.painter.transform.zoom))return!1;const h=i.type,p=this.painter,v=this._renderableLayerIds[this._renderableLayerIds.length-1]===i.id;if(eo[h]&&(this._prevType&&eo[this._prevType]||this._stacks.push([]),this._prevType=h,this._stacks[this._stacks.length-1].push(i.id),!v))return!0;if(eo[this._prevType]||eo[h]&&v){this._prevType=h;const x=this._stacks.length-1,F=this._stacks[x]||[];for(const M of this._renderableTiles){if(this.pool.isFull()&&(dl(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(M),M.rtt[x]){const Q=this.pool.getObjectForId(M.rtt[x].id);if(Q.stamp===M.rtt[x].stamp){this.pool.useObject(Q);continue}}const k=this.pool.getOrCreateFreeObject();this.pool.useObject(k),this.pool.stampObject(k),M.rtt[x]={id:k.id,stamp:k.stamp},p.context.bindFramebuffer.set(k.fbo.framebuffer),p.context.clear({color:l.aM.transparent,stencil:0}),p.currentStencilSource=void 0;for(let Q=0;Q<F.length;Q++){const G=p.style._layers[F[Q]],X=G.source?this._coordsDescendingInv[G.source][M.tileID.key]:[M.tileID];p.context.viewport.set([0,0,k.fbo.width,k.fbo.height]),p._renderTileClippingMasks(G,X),p.renderLayer(p,p.style.sourceCaches[G.source],G,X),G.source&&(M.rttCoords[G.source]=this._coordsDescendingInvStr[G.source][M.tileID.key])}}return dl(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects(),eo[h]}return!1}}const yl={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"MapLibre logo","Map.Title":"Map","Marker.Title":"Map marker","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","Popup.Close":"Close popup","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.Enable":"Enable terrain","TerrainControl.Disable":"Disable terrain","CooperativeGesturesHandler.WindowsHelpText":"Use Ctrl + scroll to zoom the map","CooperativeGesturesHandler.MacHelpText":"Use  + scroll to zoom the map","CooperativeGesturesHandler.MobileHelpText":"Use two fingers to move the map"},to=y,Ou={hash:!1,interactive:!0,bearingSnap:7,attributionControl:Js,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,refreshExpiredTiles:!0,scrollZoom:!0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,trackResize:!0,center:[0,0],zoom:0,bearing:0,pitch:0,renderWorldCopies:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:l.a.MAX_TILE_CACHE_ZOOM_LEVELS,transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,clickTolerance:3,localIdeographFontFamily:"sans-serif",pitchWithRotate:!0,validateStyle:!0,maxCanvasSize:[4096,4096],cancelPendingTileRequestsWhileZooming:!0},$l=_=>{_.touchstart=_.dragStart,_.touchmoveWindow=_.dragMove,_.touchend=_.dragEnd},PA={showCompass:!0,showZoom:!0,visualizePitch:!1};class jc{constructor(i,h,p=!1){this.mousedown=F=>{this.startMouse(l.e({},F,{ctrlKey:!0,preventDefault:()=>F.preventDefault()}),U.mousePos(this.element,F)),U.addEventListener(window,"mousemove",this.mousemove),U.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=F=>{this.moveMouse(F,U.mousePos(this.element,F))},this.mouseup=F=>{this.mouseRotate.dragEnd(F),this.mousePitch&&this.mousePitch.dragEnd(F),this.offTemp()},this.touchstart=F=>{F.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=U.touchPos(this.element,F.targetTouches)[0],this.startTouch(F,this._startPos),U.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),U.addEventListener(window,"touchend",this.touchend))},this.touchmove=F=>{F.targetTouches.length!==1?this.reset():(this._lastPos=U.touchPos(this.element,F.targetTouches)[0],this.moveTouch(F,this._lastPos))},this.touchend=F=>{F.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),this.touchRotate.reset(),this.touchPitch&&this.touchPitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10;const v=i.dragRotate._mouseRotate.getClickTolerance(),x=i.dragRotate._mousePitch.getClickTolerance();this.element=h,this.mouseRotate=su({clickTolerance:v,enable:!0}),this.touchRotate=(({enable:F,clickTolerance:M,bearingDegreesPerPixelMoved:k=.8})=>{const Q=new Lu;return new wi({clickTolerance:M,move:(G,X)=>({bearingDelta:(X.x-G.x)*k}),moveStateManager:Q,enable:F,assignEvents:$l})})({clickTolerance:v,enable:!0}),this.map=i,p&&(this.mousePitch=SA({clickTolerance:x,enable:!0}),this.touchPitch=(({enable:F,clickTolerance:M,pitchDegreesPerPixelMoved:k=-.5})=>{const Q=new Lu;return new wi({clickTolerance:M,move:(G,X)=>({pitchDelta:(X.y-G.y)*k}),moveStateManager:Q,enable:F,assignEvents:$l})})({clickTolerance:x,enable:!0})),U.addEventListener(h,"mousedown",this.mousedown),U.addEventListener(h,"touchstart",this.touchstart,{passive:!1}),U.addEventListener(h,"touchcancel",this.reset)}startMouse(i,h){this.mouseRotate.dragStart(i,h),this.mousePitch&&this.mousePitch.dragStart(i,h),U.disableDrag()}startTouch(i,h){this.touchRotate.dragStart(i,h),this.touchPitch&&this.touchPitch.dragStart(i,h),U.disableDrag()}moveMouse(i,h){const p=this.map,{bearingDelta:v}=this.mouseRotate.dragMove(i,h)||{};if(v&&p.setBearing(p.getBearing()+v),this.mousePitch){const{pitchDelta:x}=this.mousePitch.dragMove(i,h)||{};x&&p.setPitch(p.getPitch()+x)}}moveTouch(i,h){const p=this.map,{bearingDelta:v}=this.touchRotate.dragMove(i,h)||{};if(v&&p.setBearing(p.getBearing()+v),this.touchPitch){const{pitchDelta:x}=this.touchPitch.dragMove(i,h)||{};x&&p.setPitch(p.getPitch()+x)}}off(){const i=this.element;U.removeEventListener(i,"mousedown",this.mousedown),U.removeEventListener(i,"touchstart",this.touchstart,{passive:!1}),U.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),U.removeEventListener(window,"touchend",this.touchend),U.removeEventListener(i,"touchcancel",this.reset),this.offTemp()}offTemp(){U.enableDrag(),U.removeEventListener(window,"mousemove",this.mousemove),U.removeEventListener(window,"mouseup",this.mouseup),U.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),U.removeEventListener(window,"touchend",this.touchend)}}let ca;function pn(_,i,h){const p=new l.N(_.lng,_.lat);if(_=new l.N(_.lng,_.lat),i){const v=new l.N(_.lng-360,_.lat),x=new l.N(_.lng+360,_.lat),F=h.locationPoint(_).distSqr(i);h.locationPoint(v).distSqr(i)<F?_=v:h.locationPoint(x).distSqr(i)<F&&(_=x)}for(;Math.abs(_.lng-h.center.lng)>180;){const v=h.locationPoint(_);if(v.x>=0&&v.y>=0&&v.x<=h.width&&v.y<=h.height)break;_.lng>h.center.lng?_.lng-=360:_.lng+=360}return _.lng!==p.lng&&h.locationPoint(_).y>h.height/2-h.getHorizon()?_:p}const Zl={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function pc(_,i,h){const p=_.classList;for(const v in Zl)p.remove(`maplibregl-${h}-anchor-${v}`);p.add(`maplibregl-${h}-anchor-${i}`)}class Kc extends l.E{constructor(i){if(super(),this._onKeyPress=h=>{const p=h.code,v=h.charCode||h.keyCode;p!=="Space"&&p!=="Enter"&&v!==32&&v!==13||this.togglePopup()},this._onMapClick=h=>{const p=h.originalEvent.target,v=this._element;this._popup&&(p===v||v.contains(p))&&this.togglePopup()},this._update=h=>{var p;if(!this._map)return;const v=this._map.loaded()&&!this._map.isMoving();(h?.type==="terrain"||h?.type==="render"&&!v)&&this._map.once("render",this._update),this._lngLat=this._map.transform.renderWorldCopies?pn(this._lngLat,this._flatPos,this._map.transform):(p=this._lngLat)===null||p===void 0?void 0:p.wrap(),this._flatPos=this._pos=this._map.project(this._lngLat)._add(this._offset),this._map.terrain&&(this._flatPos=this._map.transform.locationPoint(this._lngLat)._add(this._offset));let x="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?x=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(x=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let F="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?F="rotateX(0deg)":this._pitchAlignment==="map"&&(F=`rotateX(${this._map.getPitch()}deg)`),this._subpixelPositioning||h&&h.type!=="moveend"||(this._pos=this._pos.round()),U.setTransform(this._element,`${Zl[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${F} ${x}`),S.frameAsync(new AbortController).then((()=>{this._updateOpacity(h&&h.type==="moveend")})).catch((()=>{}))},this._onMove=h=>{if(!this._isDragging){const p=this._clickTolerance||this._map._clickTolerance;this._isDragging=h.point.dist(this._pointerdownPos)>=p}this._isDragging&&(this._pos=h.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new l.k("dragstart"))),this.fire(new l.k("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new l.k("dragend")),this._state="inactive"},this._addDragHandler=h=>{this._element.contains(h.originalEvent.target)&&(h.preventDefault(),this._positionDelta=h.point.sub(this._pos).add(this._offset),this._pointerdownPos=h.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=i&&i.anchor||"center",this._color=i&&i.color||"#3FB1CE",this._scale=i&&i.scale||1,this._draggable=i&&i.draggable||!1,this._clickTolerance=i&&i.clickTolerance||0,this._subpixelPositioning=i&&i.subpixelPositioning||!1,this._isDragging=!1,this._state="inactive",this._rotation=i&&i.rotation||0,this._rotationAlignment=i&&i.rotationAlignment||"auto",this._pitchAlignment=i&&i.pitchAlignment&&i.pitchAlignment!=="auto"?i.pitchAlignment:this._rotationAlignment,this.setOpacity(),this.setOpacity(i?.opacity,i?.opacityWhenCovered),i&&i.element)this._element=i.element,this._offset=l.P.convert(i&&i.offset||[0,0]);else{this._defaultMarker=!0,this._element=U.create("div");const h=U.createNS("http://www.w3.org/2000/svg","svg"),p=41,v=27;h.setAttributeNS(null,"display","block"),h.setAttributeNS(null,"height",`${p}px`),h.setAttributeNS(null,"width",`${v}px`),h.setAttributeNS(null,"viewBox",`0 0 ${v} ${p}`);const x=U.createNS("http://www.w3.org/2000/svg","g");x.setAttributeNS(null,"stroke","none"),x.setAttributeNS(null,"stroke-width","1"),x.setAttributeNS(null,"fill","none"),x.setAttributeNS(null,"fill-rule","evenodd");const F=U.createNS("http://www.w3.org/2000/svg","g");F.setAttributeNS(null,"fill-rule","nonzero");const M=U.createNS("http://www.w3.org/2000/svg","g");M.setAttributeNS(null,"transform","translate(3.0, 29.0)"),M.setAttributeNS(null,"fill","#000000");const k=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const xe of k){const Oe=U.createNS("http://www.w3.org/2000/svg","ellipse");Oe.setAttributeNS(null,"opacity","0.04"),Oe.setAttributeNS(null,"cx","10.5"),Oe.setAttributeNS(null,"cy","5.80029008"),Oe.setAttributeNS(null,"rx",xe.rx),Oe.setAttributeNS(null,"ry",xe.ry),M.appendChild(Oe)}const Q=U.createNS("http://www.w3.org/2000/svg","g");Q.setAttributeNS(null,"fill",this._color);const G=U.createNS("http://www.w3.org/2000/svg","path");G.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),Q.appendChild(G);const X=U.createNS("http://www.w3.org/2000/svg","g");X.setAttributeNS(null,"opacity","0.25"),X.setAttributeNS(null,"fill","#000000");const J=U.createNS("http://www.w3.org/2000/svg","path");J.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),X.appendChild(J);const ee=U.createNS("http://www.w3.org/2000/svg","g");ee.setAttributeNS(null,"transform","translate(6.0, 7.0)"),ee.setAttributeNS(null,"fill","#FFFFFF");const ue=U.createNS("http://www.w3.org/2000/svg","g");ue.setAttributeNS(null,"transform","translate(8.0, 8.0)");const ge=U.createNS("http://www.w3.org/2000/svg","circle");ge.setAttributeNS(null,"fill","#000000"),ge.setAttributeNS(null,"opacity","0.25"),ge.setAttributeNS(null,"cx","5.5"),ge.setAttributeNS(null,"cy","5.5"),ge.setAttributeNS(null,"r","5.4999962");const Ce=U.createNS("http://www.w3.org/2000/svg","circle");Ce.setAttributeNS(null,"fill","#FFFFFF"),Ce.setAttributeNS(null,"cx","5.5"),Ce.setAttributeNS(null,"cy","5.5"),Ce.setAttributeNS(null,"r","5.4999962"),ue.appendChild(ge),ue.appendChild(Ce),F.appendChild(M),F.appendChild(Q),F.appendChild(X),F.appendChild(ee),F.appendChild(ue),h.appendChild(F),h.setAttributeNS(null,"height",p*this._scale+"px"),h.setAttributeNS(null,"width",v*this._scale+"px"),this._element.appendChild(h),this._offset=l.P.convert(i&&i.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",(h=>{h.preventDefault()})),this._element.addEventListener("mousedown",(h=>{h.preventDefault()})),pc(this._element,this._anchor,"marker"),i&&i.className)for(const h of i.className.split(" "))this._element.classList.add(h);this._popup=null}addTo(i){return this.remove(),this._map=i,this._element.setAttribute("aria-label",i._getUIString("Marker.Title")),i.getCanvasContainer().appendChild(this._element),i.on("move",this._update),i.on("moveend",this._update),i.on("terrain",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("terrain",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),U.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(i){return this._lngLat=l.N.convert(i),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(i){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),i){if(!("offset"in i.options)){const v=Math.abs(13.5)/Math.SQRT2;i.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[v,-1*(38.1-13.5+v)],"bottom-right":[-v,-1*(38.1-13.5+v)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=i,this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}setSubpixelPositioning(i){return this._subpixelPositioning=i,this}getPopup(){return this._popup}togglePopup(){const i=this._popup;return this._element.style.opacity===this._opacityWhenCovered?this:i?(i.isOpen()?i.remove():(i.setLngLat(this._lngLat),i.addTo(this._map)),this):this}_updateOpacity(i=!1){var h,p;if(!(!((h=this._map)===null||h===void 0)&&h.terrain))return void(this._element.style.opacity!==this._opacity&&(this._element.style.opacity=this._opacity));if(i)this._opacityTimeout=null;else{if(this._opacityTimeout)return;this._opacityTimeout=setTimeout((()=>{this._opacityTimeout=null}),100)}const v=this._map,x=v.terrain.depthAtPoint(this._pos),F=v.terrain.getElevationForLngLatZoom(this._lngLat,v.transform.tileZoom);if(v.transform.lngLatToCameraDepth(this._lngLat,F)-x<.006)return void(this._element.style.opacity=this._opacity);const M=-this._offset.y/v.transform._pixelPerMeter,k=Math.sin(v.getPitch()*Math.PI/180)*M,Q=v.terrain.depthAtPoint(new l.P(this._pos.x,this._pos.y-this._offset.y)),G=v.transform.lngLatToCameraDepth(this._lngLat,F+k)-Q>.006;!((p=this._popup)===null||p===void 0)&&p.isOpen()&&G&&this._popup.remove(),this._element.style.opacity=G?this._opacityWhenCovered:this._opacity}getOffset(){return this._offset}setOffset(i){return this._offset=l.P.convert(i),this._update(),this}addClassName(i){this._element.classList.add(i)}removeClassName(i){this._element.classList.remove(i)}toggleClassName(i){return this._element.classList.toggle(i)}setDraggable(i){return this._draggable=!!i,this._map&&(i?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(i){return this._rotation=i||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(i){return this._rotationAlignment=i||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(i){return this._pitchAlignment=i&&i!=="auto"?i:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}setOpacity(i,h){return i===void 0&&h===void 0&&(this._opacity="1",this._opacityWhenCovered="0.2"),i!==void 0&&(this._opacity=i),h!==void 0&&(this._opacityWhenCovered=h),this._map&&this._updateOpacity(!0),this}}const yf={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let gc=0,bi=!1;const fs={maxWidth:100,unit:"metric"};function Wl(_,i,h){const p=h&&h.maxWidth||100,v=_._container.clientHeight/2,x=_.unproject([0,v]),F=_.unproject([p,v]),M=x.distanceTo(F);if(h&&h.unit==="imperial"){const k=3.2808*M;k>5280?lr(i,p,k/5280,_._getUIString("ScaleControl.Miles")):lr(i,p,k,_._getUIString("ScaleControl.Feet"))}else h&&h.unit==="nautical"?lr(i,p,M/1852,_._getUIString("ScaleControl.NauticalMiles")):M>=1e3?lr(i,p,M/1e3,_._getUIString("ScaleControl.Kilometers")):lr(i,p,M,_._getUIString("ScaleControl.Meters"))}function lr(_,i,h,p){const v=(function(x){const F=Math.pow(10,`${Math.floor(x)}`.length-1);let M=x/F;return M=M>=10?10:M>=5?5:M>=3?3:M>=2?2:M>=1?1:(function(k){const Q=Math.pow(10,Math.ceil(-Math.log(k)/Math.LN10));return Math.round(k*Q)/Q})(M),F*M})(h);_.style.width=i*(v/h)+"px",_.innerHTML=`${v}&nbsp;${p}`}const Cr={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px",subpixelPositioning:!1},L=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function D(_){if(_){if(typeof _=="number"){const i=Math.round(Math.abs(_)/Math.SQRT2);return{center:new l.P(0,0),top:new l.P(0,_),"top-left":new l.P(i,i),"top-right":new l.P(-i,i),bottom:new l.P(0,-_),"bottom-left":new l.P(i,-i),"bottom-right":new l.P(-i,-i),left:new l.P(_,0),right:new l.P(-_,0)}}if(_ instanceof l.P||Array.isArray(_)){const i=l.P.convert(_);return{center:i,top:i,"top-left":i,"top-right":i,bottom:i,"bottom-left":i,"bottom-right":i,left:i,right:i}}return{center:l.P.convert(_.center||[0,0]),top:l.P.convert(_.top||[0,0]),"top-left":l.P.convert(_["top-left"]||[0,0]),"top-right":l.P.convert(_["top-right"]||[0,0]),bottom:l.P.convert(_.bottom||[0,0]),"bottom-left":l.P.convert(_["bottom-left"]||[0,0]),"bottom-right":l.P.convert(_["bottom-right"]||[0,0]),left:l.P.convert(_.left||[0,0]),right:l.P.convert(_.right||[0,0])}}return D(new l.P(0,0))}const $=y;f.AJAXError=l.bh,f.Evented=l.E,f.LngLat=l.N,f.MercatorCoordinate=l.Z,f.Point=l.P,f.addProtocol=l.bi,f.config=l.a,f.removeProtocol=l.bj,f.AttributionControl=LA,f.BoxZoomHandler=ja,f.CanvasSource=nn,f.CooperativeGesturesHandler=Vi,f.DoubleClickZoomHandler=Ia,f.DragPanHandler=Rc,f.DragRotateHandler=dc,f.EdgeInsets=$n,f.FullscreenControl=class extends l.E{constructor(_={}){super(),this._onFullscreenChange=()=>{var i;let h=window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement;for(;!((i=h?.shadowRoot)===null||i===void 0)&&i.fullscreenElement;)h=h.shadowRoot.fullscreenElement;h===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,_&&_.container&&(_.container instanceof HTMLElement?this._container=_.container:l.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(_){return this._map=_,this._container||(this._container=this._map.getContainer()),this._controlContainer=U.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){U.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const _=this._fullscreenButton=U.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);U.create("span","maplibregl-ctrl-icon",_).setAttribute("aria-hidden","true"),_.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const _=this._getTitle();this._fullscreenButton.setAttribute("aria-label",_),this._fullscreenButton.title=_}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new l.k("fullscreenstart")),this._prevCooperativeGesturesEnabled=this._map.cooperativeGestures.isEnabled(),this._map.cooperativeGestures.disable()):(this.fire(new l.k("fullscreenend")),this._prevCooperativeGesturesEnabled&&this._map.cooperativeGestures.enable())}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},f.GeoJSONSource=ur,f.GeolocateControl=class extends l.E{constructor(_){super(),this._onSuccess=i=>{if(this._map){if(this._isOutOfMapMaxBounds(i))return this._setErrorState(),this.fire(new l.k("outofmaxbounds",i)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=i,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(i),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(i),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new l.k("geolocate",i)),this._finish()}},this._updateCamera=i=>{const h=new l.N(i.coords.longitude,i.coords.latitude),p=i.coords.accuracy,v=this._map.getBearing(),x=l.e({bearing:v},this.options.fitBoundsOptions),F=Ze.fromLngLat(h,p);this._map.fitBounds(F,x,{geolocateSource:!0})},this._updateMarker=i=>{if(i){const h=new l.N(i.coords.longitude,i.coords.latitude);this._accuracyCircleMarker.setLngLat(h).addTo(this._map),this._userLocationDotMarker.setLngLat(h).addTo(this._map),this._accuracy=i.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=i=>{if(this._map){if(this.options.trackUserLocation)if(i.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const h=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=h,this._geolocateButton.setAttribute("aria-label",h),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(i.code===3&&bi)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new l.k("error",i)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=()=>{this._map&&(this._container.addEventListener("contextmenu",(i=>i.preventDefault())),this._geolocateButton=U.create("button","maplibregl-ctrl-geolocate",this._container),U.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",this._geolocateButton.disabled=!0)},this._finishSetupUI=i=>{if(this._map){if(i===!1){l.w("Geolocation support is not available so the GeolocateControl will be disabled.");const h=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=h,this._geolocateButton.setAttribute("aria-label",h)}else{const h=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.disabled=!1,this._geolocateButton.title=h,this._geolocateButton.setAttribute("aria-label",h)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=U.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new Kc({element:this._dotElement}),this._circleElement=U.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Kc({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",(()=>this.trigger())),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(h=>{h.geolocateSource||this._watchState!=="ACTIVE_LOCK"||h.originalEvent&&h.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new l.k("trackuserlocationend")),this.fire(new l.k("userlocationlostfocus")))}))}},this.options=l.e({},yf,_)}onAdd(_){return this._map=_,this._container=U.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),(function(){return l._(this,arguments,void 0,(function*(i=!1){if(ca!==void 0&&!i)return ca;if(window.navigator.permissions===void 0)return ca=!!window.navigator.geolocation,ca;try{ca=(yield window.navigator.permissions.query({name:"geolocation"})).state!=="denied"}catch{ca=!!window.navigator.geolocation}return ca}))})().then((i=>this._finishSetupUI(i))),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),U.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,gc=0,bi=!1}_isOutOfMapMaxBounds(_){const i=this._map.getMaxBounds(),h=_.coords;return i&&(h.longitude<i.getWest()||h.longitude>i.getEast()||h.latitude<i.getSouth()||h.latitude>i.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadius(){const _=this._map.getBounds(),i=_.getSouthEast(),h=_.getNorthEast(),p=i.distanceTo(h),v=Math.ceil(this._accuracy/(p/this._map._container.clientHeight)*2);this._circleElement.style.width=`${v}px`,this._circleElement.style.height=`${v}px`}trigger(){if(!this._setup)return l.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new l.k("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":gc--,bi=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new l.k("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new l.k("trackuserlocationstart")),this.fire(new l.k("userlocationfocus"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let _;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),gc++,gc>1?(_={maximumAge:6e5,timeout:0},bi=!0):(_=this.options.positionOptions,bi=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,_)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},f.Hash=pl,f.ImageSource=Br,f.KeyboardHandler=Oi,f.LngLatBounds=Ze,f.LogoControl=Vo,f.Map=class extends _o{constructor(_){l.bf.mark(l.bg.create);const i=Object.assign(Object.assign({},Ou),_);if(i.minZoom!=null&&i.maxZoom!=null&&i.minZoom>i.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(i.minPitch!=null&&i.maxPitch!=null&&i.minPitch>i.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(i.minPitch!=null&&i.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(i.maxPitch!=null&&i.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new As(i.minZoom,i.maxZoom,i.minPitch,i.maxPitch,i.renderWorldCopies),{bearingSnap:i.bearingSnap}),this._idleTriggered=!1,this._crossFadingFactor=1,this._renderTaskQueue=new Hr,this._controls=[],this._mapId=l.a4(),this._contextLost=h=>{h.preventDefault(),this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this.fire(new l.k("webglcontextlost",{originalEvent:h}))},this._contextRestored=h=>{this._setupPainter(),this.resize(),this._update(),this.fire(new l.k("webglcontextrestored",{originalEvent:h}))},this._onMapScroll=h=>{if(h.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=i.interactive,this._maxTileCacheSize=i.maxTileCacheSize,this._maxTileCacheZoomLevels=i.maxTileCacheZoomLevels,this._failIfMajorPerformanceCaveat=i.failIfMajorPerformanceCaveat===!0,this._preserveDrawingBuffer=i.preserveDrawingBuffer===!0,this._antialias=i.antialias===!0,this._trackResize=i.trackResize===!0,this._bearingSnap=i.bearingSnap,this._refreshExpiredTiles=i.refreshExpiredTiles===!0,this._fadeDuration=i.fadeDuration,this._crossSourceCollisions=i.crossSourceCollisions===!0,this._collectResourceTiming=i.collectResourceTiming===!0,this._locale=Object.assign(Object.assign({},yl),i.locale),this._clickTolerance=i.clickTolerance,this._overridePixelRatio=i.pixelRatio,this._maxCanvasSize=i.maxCanvasSize,this.transformCameraUpdate=i.transformCameraUpdate,this.cancelPendingTileRequestsWhileZooming=i.cancelPendingTileRequestsWhileZooming===!0,this._imageQueueHandle=W.addThrottleControl((()=>this.isMoving())),this._requestManager=new le(i.transformRequest),typeof i.container=="string"){if(this._container=document.getElementById(i.container),!this._container)throw new Error(`Container '${i.container}' not found.`)}else{if(!(i.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=i.container}if(i.maxBounds&&this.setMaxBounds(i.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",(()=>this._update(!1))).on("moveend",(()=>this._update(!1))).on("zoom",(()=>this._update(!0))).on("terrain",(()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)})).once("idle",(()=>{this._idleTriggered=!0})),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let h=!1;const p=us((v=>{this._trackResize&&!this._removed&&(this.resize(v),this.redraw())}),50);this._resizeObserver=new ResizeObserver((v=>{h?p(v):h=!0})),this._resizeObserver.observe(this._container)}this.handlers=new Si(this,i),this._hash=i.hash&&new pl(typeof i.hash=="string"&&i.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:i.center,zoom:i.zoom,bearing:i.bearing,pitch:i.pitch}),i.bounds&&(this.resize(),this.fitBounds(i.bounds,l.e({},i.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=i.localIdeographFontFamily,this._validateStyle=i.validateStyle,i.style&&this.setStyle(i.style,{localIdeographFontFamily:i.localIdeographFontFamily}),i.attributionControl&&this.addControl(new LA(typeof i.attributionControl=="boolean"?void 0:i.attributionControl)),i.maplibreLogo&&this.addControl(new Vo,i.logoPosition),this.on("style.load",(()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)})),this.on("data",(h=>{this._update(h.dataType==="style"),this.fire(new l.k(`${h.dataType}data`,h))})),this.on("dataloading",(h=>{this.fire(new l.k(`${h.dataType}dataloading`,h))})),this.on("dataabort",(h=>{this.fire(new l.k("sourcedataabort",h))}))}_getMapId(){return this._mapId}addControl(_,i){if(i===void 0&&(i=_.getDefaultPosition?_.getDefaultPosition():"top-right"),!_||!_.onAdd)return this.fire(new l.j(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const h=_.onAdd(this);this._controls.push(_);const p=this._controlPositions[i];return i.indexOf("bottom")!==-1?p.insertBefore(h,p.firstChild):p.appendChild(h),this}removeControl(_){if(!_||!_.onRemove)return this.fire(new l.j(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const i=this._controls.indexOf(_);return i>-1&&this._controls.splice(i,1),_.onRemove(this),this}hasControl(_){return this._controls.indexOf(_)>-1}calculateCameraOptionsFromTo(_,i,h,p){return p==null&&this.terrain&&(p=this.terrain.getElevationForLngLatZoom(h,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(_,i,h,p)}resize(_){var i;const h=this._containerDimensions(),p=h[0],v=h[1],x=this._getClampedPixelRatio(p,v);if(this._resizeCanvas(p,v,x),this.painter.resize(p,v,x),this.painter.overLimit()){const M=this.painter.context.gl;this._maxCanvasSize=[M.drawingBufferWidth,M.drawingBufferHeight];const k=this._getClampedPixelRatio(p,v);this._resizeCanvas(p,v,k),this.painter.resize(p,v,k)}this.transform.resize(p,v),(i=this._requestedCameraState)===null||i===void 0||i.resize(p,v);const F=!this._moving;return F&&(this.stop(),this.fire(new l.k("movestart",_)).fire(new l.k("move",_))),this.fire(new l.k("resize",_)),F&&this.fire(new l.k("moveend",_)),this}_getClampedPixelRatio(_,i){const{0:h,1:p}=this._maxCanvasSize,v=this.getPixelRatio(),x=_*v,F=i*v;return Math.min(x>h?h/x:1,F>p?p/F:1)*v}getPixelRatio(){var _;return(_=this._overridePixelRatio)!==null&&_!==void 0?_:devicePixelRatio}setPixelRatio(_){this._overridePixelRatio=_,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(_){return this.transform.setMaxBounds(Ze.convert(_)),this._update()}setMinZoom(_){if((_=_??-2)>=-2&&_<=this.transform.maxZoom)return this.transform.minZoom=_,this._update(),this.getZoom()<_&&this.setZoom(_),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(_){if((_=_??22)>=this.transform.minZoom)return this.transform.maxZoom=_,this._update(),this.getZoom()>_&&this.setZoom(_),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(_){if((_=_??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(_>=0&&_<=this.transform.maxPitch)return this.transform.minPitch=_,this._update(),this.getPitch()<_&&this.setPitch(_),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(_){if((_=_??60)>85)throw new Error("maxPitch must be less than or equal to 85");if(_>=this.transform.minPitch)return this.transform.maxPitch=_,this._update(),this.getPitch()>_&&this.setPitch(_),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(_){return this.transform.renderWorldCopies=_,this._update()}project(_){return this.transform.locationPoint(l.N.convert(_),this.style&&this.terrain)}unproject(_){return this.transform.pointLocation(l.P.convert(_),this.terrain)}isMoving(){var _;return this._moving||((_=this.handlers)===null||_===void 0?void 0:_.isMoving())}isZooming(){var _;return this._zooming||((_=this.handlers)===null||_===void 0?void 0:_.isZooming())}isRotating(){var _;return this._rotating||((_=this.handlers)===null||_===void 0?void 0:_.isRotating())}_createDelegatedListener(_,i,h){if(_==="mouseenter"||_==="mouseover"){let p=!1;return{layers:i,listener:h,delegates:{mousemove:x=>{const F=i.filter((k=>this.getLayer(k))),M=F.length!==0?this.queryRenderedFeatures(x.point,{layers:F}):[];M.length?p||(p=!0,h.call(this,new oi(_,this,x.originalEvent,{features:M}))):p=!1},mouseout:()=>{p=!1}}}}if(_==="mouseleave"||_==="mouseout"){let p=!1;return{layers:i,listener:h,delegates:{mousemove:F=>{const M=i.filter((k=>this.getLayer(k)));(M.length!==0?this.queryRenderedFeatures(F.point,{layers:M}):[]).length?p=!0:p&&(p=!1,h.call(this,new oi(_,this,F.originalEvent)))},mouseout:F=>{p&&(p=!1,h.call(this,new oi(_,this,F.originalEvent)))}}}}{const p=v=>{const x=i.filter((M=>this.getLayer(M))),F=x.length!==0?this.queryRenderedFeatures(v.point,{layers:x}):[];F.length&&(v.features=F,h.call(this,v),delete v.features)};return{layers:i,listener:h,delegates:{[_]:p}}}}_saveDelegatedListener(_,i){this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[_]=this._delegatedListeners[_]||[],this._delegatedListeners[_].push(i)}_removeDelegatedListener(_,i,h){if(!this._delegatedListeners||!this._delegatedListeners[_])return;const p=this._delegatedListeners[_];for(let v=0;v<p.length;v++){const x=p[v];if(x.listener===h&&x.layers.length===i.length&&x.layers.every((F=>i.includes(F)))){for(const F in x.delegates)this.off(F,x.delegates[F]);return void p.splice(v,1)}}}on(_,i,h){if(h===void 0)return super.on(_,i);const p=this._createDelegatedListener(_,typeof i=="string"?[i]:i,h);this._saveDelegatedListener(_,p);for(const v in p.delegates)this.on(v,p.delegates[v]);return this}once(_,i,h){if(h===void 0)return super.once(_,i);const p=typeof i=="string"?[i]:i,v=this._createDelegatedListener(_,p,h);for(const x in v.delegates){const F=v.delegates[x];v.delegates[x]=(...M)=>{this._removeDelegatedListener(_,p,h),F(...M)}}this._saveDelegatedListener(_,v);for(const x in v.delegates)this.once(x,v.delegates[x]);return this}off(_,i,h){return h===void 0?super.off(_,i):(this._removeDelegatedListener(_,typeof i=="string"?[i]:i,h),this)}queryRenderedFeatures(_,i){if(!this.style)return[];let h;const p=_ instanceof l.P||Array.isArray(_),v=p?_:[[0,0],[this.transform.width,this.transform.height]];if(i=i||(p?{}:_)||{},v instanceof l.P||typeof v[0]=="number")h=[l.P.convert(v)];else{const x=l.P.convert(v[0]),F=l.P.convert(v[1]);h=[x,new l.P(F.x,x.y),F,new l.P(x.x,F.y),x]}return this.style.queryRenderedFeatures(h,i,this.transform)}querySourceFeatures(_,i){return this.style.querySourceFeatures(_,i)}setStyle(_,i){return(i=l.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},i)).diff!==!1&&i.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&_?(this._diffStyle(_,i),this):(this._localIdeographFontFamily=i.localIdeographFontFamily,this._updateStyle(_,i))}setTransformRequest(_){return this._requestManager.setTransformRequest(_),this}_getUIString(_){const i=this._locale[_];if(i==null)throw new Error(`Missing UI string '${_}'`);return i}_updateStyle(_,i){if(i.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",(()=>this._updateStyle(_,i)));const h=this.style&&i.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!_)),_?(this.style=new Ri(this,i||{}),this.style.setEventedParent(this,{style:this.style}),typeof _=="string"?this.style.loadURL(_,i,h):this.style.loadJSON(_,i,h),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new Ri(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(_,i){if(typeof _=="string"){const h=this._requestManager.transformRequest(_,"Style");l.h(h,new AbortController).then((p=>{this._updateDiff(p.data,i)})).catch((p=>{p&&this.fire(new l.j(p))}))}else typeof _=="object"&&this._updateDiff(_,i)}_updateDiff(_,i){try{this.style.setState(_,i)&&this._update(!0)}catch(h){l.w(`Unable to perform style diff: ${h.message||h.error||h}.  Rebuilding the style from scratch.`),this._updateStyle(_,i)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():l.w("There is no style added to the map.")}addSource(_,i){return this._lazyInitEmptyStyle(),this.style.addSource(_,i),this._update(!0)}isSourceLoaded(_){const i=this.style&&this.style.sourceCaches[_];if(i!==void 0)return i.loaded();this.fire(new l.j(new Error(`There is no source with ID '${_}'`)))}setTerrain(_){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),_){const i=this.style.sourceCaches[_.source];if(!i)throw new Error(`cannot load terrain, because there exists no source with ID: ${_.source}`);this.terrain===null&&i.reload();for(const h in this.style._layers){const p=this.style._layers[h];p.type==="hillshade"&&p.source===_.source&&l.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new MA(this.painter,i,_),this.painter.renderToTexture=new qo(this.painter,this.terrain),this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._terrainDataCallback=h=>{h.dataType==="style"?this.terrain.sourceCache.freeRtt():h.dataType==="source"&&h.tile&&(h.sourceId!==_.source||this._elevationFreeze||(this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.terrain.sourceCache.freeRtt(h.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform.minElevationForCurrentTile=0,this.transform.elevation=0;return this.fire(new l.k("terrain",{terrain:_})),this}getTerrain(){var _,i;return(i=(_=this.terrain)===null||_===void 0?void 0:_.options)!==null&&i!==void 0?i:null}areTilesLoaded(){const _=this.style&&this.style.sourceCaches;for(const i in _){const h=_[i]._tiles;for(const p in h){const v=h[p];if(v.state!=="loaded"&&v.state!=="errored")return!1}}return!0}removeSource(_){return this.style.removeSource(_),this._update(!0)}getSource(_){return this.style.getSource(_)}addImage(_,i,h={}){const{pixelRatio:p=1,sdf:v=!1,stretchX:x,stretchY:F,content:M,textFitWidth:k,textFitHeight:Q}=h;if(this._lazyInitEmptyStyle(),!(i instanceof HTMLImageElement||l.b(i))){if(i.width===void 0||i.height===void 0)return this.fire(new l.j(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:G,height:X,data:J}=i,ee=i;return this.style.addImage(_,{data:new l.R({width:G,height:X},new Uint8Array(J)),pixelRatio:p,stretchX:x,stretchY:F,content:M,textFitWidth:k,textFitHeight:Q,sdf:v,version:0,userImage:ee}),ee.onAdd&&ee.onAdd(this,_),this}}{const{width:G,height:X,data:J}=S.getImageData(i);this.style.addImage(_,{data:new l.R({width:G,height:X},J),pixelRatio:p,stretchX:x,stretchY:F,content:M,textFitWidth:k,textFitHeight:Q,sdf:v,version:0})}}updateImage(_,i){const h=this.style.getImage(_);if(!h)return this.fire(new l.j(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const p=i instanceof HTMLImageElement||l.b(i)?S.getImageData(i):i,{width:v,height:x,data:F}=p;if(v===void 0||x===void 0)return this.fire(new l.j(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(v!==h.data.width||x!==h.data.height)return this.fire(new l.j(new Error("The width and height of the updated image must be that same as the previous version of the image")));const M=!(i instanceof HTMLImageElement||l.b(i));return h.data.replace(F,M),this.style.updateImage(_,h),this}getImage(_){return this.style.getImage(_)}hasImage(_){return _?!!this.style.getImage(_):(this.fire(new l.j(new Error("Missing required image id"))),!1)}removeImage(_){this.style.removeImage(_)}loadImage(_){return W.getImage(this._requestManager.transformRequest(_,"Image"),new AbortController)}listImages(){return this.style.listImages()}addLayer(_,i){return this._lazyInitEmptyStyle(),this.style.addLayer(_,i),this._update(!0)}moveLayer(_,i){return this.style.moveLayer(_,i),this._update(!0)}removeLayer(_){return this.style.removeLayer(_),this._update(!0)}getLayer(_){return this.style.getLayer(_)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(_,i,h){return this.style.setLayerZoomRange(_,i,h),this._update(!0)}setFilter(_,i,h={}){return this.style.setFilter(_,i,h),this._update(!0)}getFilter(_){return this.style.getFilter(_)}setPaintProperty(_,i,h,p={}){return this.style.setPaintProperty(_,i,h,p),this._update(!0)}getPaintProperty(_,i){return this.style.getPaintProperty(_,i)}setLayoutProperty(_,i,h,p={}){return this.style.setLayoutProperty(_,i,h,p),this._update(!0)}getLayoutProperty(_,i){return this.style.getLayoutProperty(_,i)}setGlyphs(_,i={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(_,i),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(_,i,h={}){return this._lazyInitEmptyStyle(),this.style.addSprite(_,i,h,(p=>{p||this._update(!0)})),this}removeSprite(_){return this._lazyInitEmptyStyle(),this.style.removeSprite(_),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(_,i={}){return this._lazyInitEmptyStyle(),this.style.setSprite(_,i,(h=>{h||this._update(!0)})),this}setLight(_,i={}){return this._lazyInitEmptyStyle(),this.style.setLight(_,i),this._update(!0)}getLight(){return this.style.getLight()}setSky(_){return this._lazyInitEmptyStyle(),this.style.setSky(_),this._update(!0)}getSky(){return this.style.getSky()}setFeatureState(_,i){return this.style.setFeatureState(_,i),this._update()}removeFeatureState(_,i){return this.style.removeFeatureState(_,i),this._update()}getFeatureState(_){return this.style.getFeatureState(_)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let _=0,i=0;return this._container&&(_=this._container.clientWidth||400,i=this._container.clientHeight||300),[_,i]}_setupContainer(){const _=this._container;_.classList.add("maplibregl-map");const i=this._canvasContainer=U.create("div","maplibregl-canvas-container",_);this._interactive&&i.classList.add("maplibregl-interactive"),this._canvas=U.create("canvas","maplibregl-canvas",i),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex",this._interactive?"0":"-1"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region");const h=this._containerDimensions(),p=this._getClampedPixelRatio(h[0],h[1]);this._resizeCanvas(h[0],h[1],p);const v=this._controlContainer=U.create("div","maplibregl-control-container",_),x=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((F=>{x[F]=U.create("div",`maplibregl-ctrl-${F} `,v)})),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(_,i,h){this._canvas.width=Math.floor(h*_),this._canvas.height=Math.floor(h*i),this._canvas.style.width=`${_}px`,this._canvas.style.height=`${i}px`}_setupPainter(){const _={alpha:!0,stencil:!0,depth:!0,failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1};let i=null;this._canvas.addEventListener("webglcontextcreationerror",(p=>{i={requestedAttributes:_},p&&(i.statusMessage=p.statusMessage,i.type=p.type)}),{once:!0});const h=this._canvas.getContext("webgl2",_)||this._canvas.getContext("webgl",_);if(!h){const p="Failed to initialize WebGL";throw i?(i.message=p,new Error(JSON.stringify(i))):new Error(p)}this.painter=new ls(h,this.transform),I.testSupport(h)}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(_){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||_,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(_){return this._update(),this._renderTaskQueue.add(_)}_cancelRenderFrame(_){this._renderTaskQueue.remove(_)}_render(_){const i=this._idleTriggered?this._fadeDuration:0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(_),this._removed)return;let h=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const v=this.transform.zoom,x=S.now();this.style.zoomHistory.update(v,x);const F=new l.z(v,{now:x,fadeDuration:i,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),M=F.crossFadingFactor();M===1&&M===this._crossFadingFactor||(h=!0,this._crossFadingFactor=M),this.style.update(F)}this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._elevationFreeze||(this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform.minElevationForCurrentTile=0,this.transform.elevation=0),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,i,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:i,showPadding:this.showPadding}),this.fire(new l.k("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,l.bf.mark(l.bg.load),this.fire(new l.k("load"))),this.style&&(this.style.hasTransitions()||h)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const p=this._sourcesDirty||this._styleDirty||this._placementDirty;return p||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new l.k("idle")),!this._loaded||this._fullyLoaded||p||(this._fullyLoaded=!0,l.bf.mark(l.bg.fullLoad)),this}redraw(){return this.style&&(this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._render(0)),this}remove(){var _;this._hash&&this._hash.remove();for(const h of this._controls)h.onRemove(this);this._controls=[],this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),W.removeThrottleControl(this._imageQueueHandle),(_=this._resizeObserver)===null||_===void 0||_.disconnect();const i=this.painter.context.gl.getExtension("WEBGL_lose_context");i?.loseContext&&i.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),U.remove(this._canvasContainer),U.remove(this._controlContainer),this._container.classList.remove("maplibregl-map"),l.bf.clearMetrics(),this._removed=!0,this.fire(new l.k("remove"))}triggerRepaint(){this.style&&!this._frameRequest&&(this._frameRequest=new AbortController,S.frameAsync(this._frameRequest).then((_=>{l.bf.frame(_),this._frameRequest=null,this._render(_)})).catch((()=>{})))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(_){this._showTileBoundaries!==_&&(this._showTileBoundaries=_,this._update())}get showPadding(){return!!this._showPadding}set showPadding(_){this._showPadding!==_&&(this._showPadding=_,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(_){this._showCollisionBoxes!==_&&(this._showCollisionBoxes=_,_?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(_){this._showOverdrawInspector!==_&&(this._showOverdrawInspector=_,this._update())}get repaint(){return!!this._repaint}set repaint(_){this._repaint!==_&&(this._repaint=_,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(_){this._vertices=_,this._update()}get version(){return to}getCameraTargetElevation(){return this.transform.elevation}},f.MapMouseEvent=oi,f.MapTouchEvent=jo,f.MapWheelEvent=Us,f.Marker=Kc,f.NavigationControl=class{constructor(_){this._updateZoomButtons=()=>{const i=this._map.getZoom(),h=i===this._map.getMaxZoom(),p=i===this._map.getMinZoom();this._zoomInButton.disabled=h,this._zoomOutButton.disabled=p,this._zoomInButton.setAttribute("aria-disabled",h.toString()),this._zoomOutButton.setAttribute("aria-disabled",p.toString())},this._rotateCompassArrow=()=>{const i=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=i},this._setButtonTitle=(i,h)=>{const p=this._map._getUIString(`NavigationControl.${h}`);i.title=p,i.setAttribute("aria-label",p)},this.options=l.e({},PA,_),this._container=U.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",(i=>i.preventDefault())),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",(i=>this._map.zoomIn({},{originalEvent:i}))),U.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",(i=>this._map.zoomOut({},{originalEvent:i}))),U.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",(i=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:i}):this._map.resetNorth({},{originalEvent:i})})),this._compassIcon=U.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(_){return this._map=_,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new jc(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){U.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(_,i){const h=U.create("button",_,this._container);return h.type="button",h.addEventListener("click",i),h}},f.Popup=class extends l.E{constructor(_){super(),this.remove=()=>(this._content&&U.remove(this._content),this._container&&(U.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),this._map._canvasContainer.classList.remove("maplibregl-track-pointer"),delete this._map,this.fire(new l.k("close"))),this),this._onMouseUp=i=>{this._update(i.point)},this._onMouseMove=i=>{this._update(i.point)},this._onDrag=i=>{this._update(i.point)},this._update=i=>{var h;if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=U.create("div","maplibregl-popup",this._map.getContainer()),this._tip=U.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const M of this.options.className.split(" "))this._container.classList.add(M);this._closeButton&&this._closeButton.setAttribute("aria-label",this._map._getUIString("Popup.Close")),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._lngLat=this._map.transform.renderWorldCopies&&!this._trackPointer?pn(this._lngLat,this._flatPos,this._map.transform):(h=this._lngLat)===null||h===void 0?void 0:h.wrap(),this._trackPointer&&!i)return;const p=this._flatPos=this._pos=this._trackPointer&&i?i:this._map.project(this._lngLat);this._map.terrain&&(this._flatPos=this._trackPointer&&i?i:this._map.transform.locationPoint(this._lngLat));let v=this.options.anchor;const x=D(this.options.offset);if(!v){const M=this._container.offsetWidth,k=this._container.offsetHeight;let Q;Q=p.y+x.bottom.y<k?["top"]:p.y>this._map.transform.height-k?["bottom"]:[],p.x<M/2?Q.push("left"):p.x>this._map.transform.width-M/2&&Q.push("right"),v=Q.length===0?"bottom":Q.join("-")}let F=p.add(x[v]);this.options.subpixelPositioning||(F=F.round()),U.setTransform(this._container,`${Zl[v]} translate(${F.x}px,${F.y}px)`),pc(this._container,v,"popup")},this._onClose=()=>{this.remove()},this.options=l.e(Object.create(Cr),_)}addTo(_){return this._map&&this.remove(),this._map=_,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new l.k("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(_){return this._lngLat=l.N.convert(_),this._pos=null,this._flatPos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._flatPos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(_){return this.setDOMContent(document.createTextNode(_))}setHTML(_){const i=document.createDocumentFragment(),h=document.createElement("body");let p;for(h.innerHTML=_;p=h.firstChild,p;)i.appendChild(p);return this.setDOMContent(i)}getMaxWidth(){var _;return(_=this._container)===null||_===void 0?void 0:_.style.maxWidth}setMaxWidth(_){return this.options.maxWidth=_,this._update(),this}setDOMContent(_){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=U.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(_),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(_){return this._container&&this._container.classList.add(_),this}removeClassName(_){return this._container&&this._container.classList.remove(_),this}setOffset(_){return this.options.offset=_,this._update(),this}toggleClassName(_){if(this._container)return this._container.classList.toggle(_)}setSubpixelPositioning(_){this.options.subpixelPositioning=_}_createCloseButton(){this.options.closeButton&&(this._closeButton=U.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const _=this._container.querySelector(L);_&&_.focus()}},f.RasterDEMTileSource=nr,f.RasterTileSource=Et,f.ScaleControl=class{constructor(_){this._onMove=()=>{Wl(this._map,this._container,this.options)},this.setUnit=i=>{this.options.unit=i,Wl(this._map,this._container,this.options)},this.options=Object.assign(Object.assign({},fs),_)}getDefaultPosition(){return"bottom-left"}onAdd(_){return this._map=_,this._container=U.create("div","maplibregl-ctrl maplibregl-ctrl-scale",_.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){U.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},f.ScrollZoomHandler=Ki,f.Style=Ri,f.TerrainControl=class{constructor(_){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"))},this.options=_}onAdd(_){return this._map=_,this._container=U.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=U.create("button","maplibregl-ctrl-terrain",this._container),U.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){U.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},f.TwoFingersTouchPitchHandler=UA,f.TwoFingersTouchRotateHandler=FA,f.TwoFingersTouchZoomHandler=Mu,f.TwoFingersTouchZoomRotateHandler=zc,f.VectorTileSource=Er,f.VideoSource=rn,f.addSourceType=(_,i)=>l._(void 0,void 0,void 0,(function*(){if(yn(_))throw new Error(`A source type called "${_}" already exists.`);((h,p)=>{Jr[h]=p})(_,i)})),f.clearPrewarmedResources=function(){const _=Je;_&&(_.isPreloaded()&&_.numActive()===1?(_.release(Ue),Je=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},f.getMaxParallelImageRequests=function(){return l.a.MAX_PARALLEL_IMAGE_REQUESTS},f.getRTLTextPluginStatus=function(){return fr().getRTLTextPluginStatus()},f.getVersion=function(){return $},f.getWorkerCount=function(){return De.workerCount},f.getWorkerUrl=function(){return l.a.WORKER_URL},f.importScriptInWorkers=function(_){return It().broadcast("IS",_)},f.prewarm=function(){He().acquire(Ue)},f.setMaxParallelImageRequests=function(_){l.a.MAX_PARALLEL_IMAGE_REQUESTS=_},f.setRTLTextPlugin=function(_,i){return fr().setRTLTextPlugin(_,i)},f.setWorkerCount=function(_){De.workerCount=_},f.setWorkerUrl=function(_){l.a.WORKER_URL=_}}));var A=r;return A}))})(v1)),v1.exports}var dk=fk();const Bv=wh(dk);var yu=63710088e-1,YF={centimeters:yu*100,centimetres:yu*100,degrees:360/(2*Math.PI),feet:yu*3.28084,inches:yu*39.37,kilometers:yu/1e3,kilometres:yu/1e3,meters:yu,metres:yu,miles:yu/1609.344,millimeters:yu*1e3,millimetres:yu*1e3,nauticalmiles:yu/1852,radians:1,yards:yu*1.0936};function z_(e,t,r={}){const n={type:"Feature"};return(r.id===0||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function S2(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!_S(e[0])||!_S(e[1]))throw new Error("coordinates must contain numbers");return z_({type:"Point",coordinates:e},t,r)}function pk(e,t,r={}){for(const s of e){if(s.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(s[s.length-1].length!==s[0].length)throw new Error("First and last Position are not equivalent.");for(let A=0;A<s[s.length-1].length;A++)if(s[s.length-1][A]!==s[0][A])throw new Error("First and last Position are not equivalent.")}return z_({type:"Polygon",coordinates:e},t,r)}function gk(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return z_({type:"LineString",coordinates:e},t,r)}function mk(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function yk(e,t,r={}){return z_({type:"MultiPoint",coordinates:e},t,r)}function vk(e,t="kilometers"){const r=YF[t];if(!r)throw new Error(t+" units is invalid");return e*r}function _k(e,t="kilometers"){const r=YF[t];if(!r)throw new Error(t+" units is invalid");return e/r}function vS(e){return e%(2*Math.PI)*180/Math.PI}function cp(e){return e%360*Math.PI/180}function _S(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}function O1(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if(e.type==="Feature"&&e.geometry!==null&&e.geometry.type==="Point")return[...e.geometry.coordinates];if(e.type==="Point")return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function wk(e){return e.type==="Feature"?e.geometry:e}function bk(e,t,r,n={}){const s=O1(e),A=cp(s[0]),f=cp(s[1]),l=cp(r),y=_k(t,n.units),w=Math.asin(Math.sin(f)*Math.cos(y)+Math.cos(f)*Math.sin(y)*Math.cos(l)),b=A+Math.atan2(Math.sin(l)*Math.sin(y)*Math.cos(f),Math.cos(y)-Math.sin(f)*Math.sin(w)),S=vS(b),U=vS(w);return s[2]!==void 0?S2([S,U,s[2]],n.properties):S2([S,U],n.properties)}function JF(e,t,r={}){var n=O1(e),s=O1(t),A=cp(s[1]-n[1]),f=cp(s[0]-n[0]),l=cp(n[1]),y=cp(s[1]),w=Math.pow(Math.sin(A/2),2)+Math.pow(Math.sin(f/2),2)*Math.cos(l)*Math.cos(y);return vk(2*Math.atan2(Math.sqrt(w),Math.sqrt(1-w)),r.units)}function eU(e,t,r){if(e!==null)for(var n,s,A,f,l,y,w,b=0,S=0,U,I=e.type,z=I==="FeatureCollection",H=I==="Feature",K=z?e.features.length:1,V=0;V<K;V++){w=z?e.features[V].geometry:H?e.geometry:e,U=w?w.type==="GeometryCollection":!1,l=U?w.geometries.length:1;for(var re=0;re<l;re++){var W=0,le=0;if(f=U?w.geometries[re]:w,f!==null){y=f.coordinates;var ce=f.type;switch(b=0,ce){case null:break;case"Point":if(t(y,S,V,W,le)===!1)return!1;S++,W++;break;case"LineString":case"MultiPoint":for(n=0;n<y.length;n++){if(t(y[n],S,V,W,le)===!1)return!1;S++,ce==="MultiPoint"&&W++}ce==="LineString"&&W++;break;case"Polygon":case"MultiLineString":for(n=0;n<y.length;n++){for(s=0;s<y[n].length-b;s++){if(t(y[n][s],S,V,W,le)===!1)return!1;S++}ce==="MultiLineString"&&W++,ce==="Polygon"&&le++}ce==="Polygon"&&W++;break;case"MultiPolygon":for(n=0;n<y.length;n++){for(le=0,s=0;s<y[n].length;s++){for(A=0;A<y[n][s].length-b;A++){if(t(y[n][s][A],S,V,W,le)===!1)return!1;S++}le++}W++}break;case"GeometryCollection":for(n=0;n<f.geometries.length;n++)if(eU(f.geometries[n],t)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function xk(e,t){if(e.type==="Feature")t(e,0);else if(e.type==="FeatureCollection")for(var r=0;r<e.features.length&&t(e.features[r],r)!==!1;r++);}function wS(e,t){var r,n,s,A,f,l,y,w,b,S,U=0,I=e.type==="FeatureCollection",z=e.type==="Feature",H=I?e.features.length:1;for(r=0;r<H;r++){for(l=I?e.features[r].geometry:z?e.geometry:e,w=I?e.features[r].properties:z?e.properties:{},b=I?e.features[r].bbox:z?e.bbox:void 0,S=I?e.features[r].id:z?e.id:void 0,y=l?l.type==="GeometryCollection":!1,f=y?l.geometries.length:1,s=0;s<f;s++){if(A=y?l.geometries[s]:l,A===null){if(t(null,U,w,b,S)===!1)return!1;continue}switch(A.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(t(A,U,w,b,S)===!1)return!1;break}case"GeometryCollection":{for(n=0;n<A.geometries.length;n++)if(t(A.geometries[n],U,w,b,S)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}U++}}const Wh=11102230246251565e-32,Il=134217729,Bk=(3+8*Wh)*Wh;function ib(e,t,r,n,s){let A,f,l,y,w=t[0],b=n[0],S=0,U=0;b>w==b>-w?(A=w,w=t[++S]):(A=b,b=n[++U]);let I=0;if(S<e&&U<r)for(b>w==b>-w?(f=w+A,l=A-(f-w),w=t[++S]):(f=b+A,l=A-(f-b),b=n[++U]),A=f,l!==0&&(s[I++]=l);S<e&&U<r;)b>w==b>-w?(f=A+w,y=f-A,l=A-(f-y)+(w-y),w=t[++S]):(f=A+b,y=f-A,l=A-(f-y)+(b-y),b=n[++U]),A=f,l!==0&&(s[I++]=l);for(;S<e;)f=A+w,y=f-A,l=A-(f-y)+(w-y),w=t[++S],A=f,l!==0&&(s[I++]=l);for(;U<r;)f=A+b,y=f-A,l=A-(f-y)+(b-y),b=n[++U],A=f,l!==0&&(s[I++]=l);return(A!==0||I===0)&&(s[I++]=A),I}function Ck(e,t){let r=t[0];for(let n=1;n<e;n++)r+=t[n];return r}function ry(e){return new Float64Array(e)}const Sk=(3+16*Wh)*Wh,Ek=(2+12*Wh)*Wh,Tk=(9+64*Wh)*Wh*Wh,cg=ry(4),bS=ry(8),xS=ry(12),BS=ry(16),lA=ry(4);function Ik(e,t,r,n,s,A,f){let l,y,w,b,S,U,I,z,H,K,V,re,W,le,ce,me,Ie,Fe;const pe=e-s,ze=r-s,ie=t-A,de=n-A;le=pe*de,U=Il*pe,I=U-(U-pe),z=pe-I,U=Il*de,H=U-(U-de),K=de-H,ce=z*K-(le-I*H-z*H-I*K),me=ie*ze,U=Il*ie,I=U-(U-ie),z=ie-I,U=Il*ze,H=U-(U-ze),K=ze-H,Ie=z*K-(me-I*H-z*H-I*K),V=ce-Ie,S=ce-V,cg[0]=ce-(V+S)+(S-Ie),re=le+V,S=re-le,W=le-(re-S)+(V-S),V=W-me,S=W-V,cg[1]=W-(V+S)+(S-me),Fe=re+V,S=Fe-re,cg[2]=re-(Fe-S)+(V-S),cg[3]=Fe;let ve=Ck(4,cg),_e=Ek*f;if(ve>=_e||-ve>=_e||(S=e-pe,l=e-(pe+S)+(S-s),S=r-ze,w=r-(ze+S)+(S-s),S=t-ie,y=t-(ie+S)+(S-A),S=n-de,b=n-(de+S)+(S-A),l===0&&y===0&&w===0&&b===0)||(_e=Tk*f+Bk*Math.abs(ve),ve+=pe*b+de*l-(ie*w+ze*y),ve>=_e||-ve>=_e))return ve;le=l*de,U=Il*l,I=U-(U-l),z=l-I,U=Il*de,H=U-(U-de),K=de-H,ce=z*K-(le-I*H-z*H-I*K),me=y*ze,U=Il*y,I=U-(U-y),z=y-I,U=Il*ze,H=U-(U-ze),K=ze-H,Ie=z*K-(me-I*H-z*H-I*K),V=ce-Ie,S=ce-V,lA[0]=ce-(V+S)+(S-Ie),re=le+V,S=re-le,W=le-(re-S)+(V-S),V=W-me,S=W-V,lA[1]=W-(V+S)+(S-me),Fe=re+V,S=Fe-re,lA[2]=re-(Fe-S)+(V-S),lA[3]=Fe;const tt=ib(4,cg,4,lA,bS);le=pe*b,U=Il*pe,I=U-(U-pe),z=pe-I,U=Il*b,H=U-(U-b),K=b-H,ce=z*K-(le-I*H-z*H-I*K),me=ie*w,U=Il*ie,I=U-(U-ie),z=ie-I,U=Il*w,H=U-(U-w),K=w-H,Ie=z*K-(me-I*H-z*H-I*K),V=ce-Ie,S=ce-V,lA[0]=ce-(V+S)+(S-Ie),re=le+V,S=re-le,W=le-(re-S)+(V-S),V=W-me,S=W-V,lA[1]=W-(V+S)+(S-me),Fe=re+V,S=Fe-re,lA[2]=re-(Fe-S)+(V-S),lA[3]=Fe;const Le=ib(tt,bS,4,lA,xS);le=l*b,U=Il*l,I=U-(U-l),z=l-I,U=Il*b,H=U-(U-b),K=b-H,ce=z*K-(le-I*H-z*H-I*K),me=y*w,U=Il*y,I=U-(U-y),z=y-I,U=Il*w,H=U-(U-w),K=w-H,Ie=z*K-(me-I*H-z*H-I*K),V=ce-Ie,S=ce-V,lA[0]=ce-(V+S)+(S-Ie),re=le+V,S=re-le,W=le-(re-S)+(V-S),V=W-me,S=W-V,lA[1]=W-(V+S)+(S-me),Fe=re+V,S=Fe-re,lA[2]=re-(Fe-S)+(V-S),lA[3]=Fe;const Ne=ib(Le,xS,4,lA,BS);return BS[Ne-1]}function Fk(e,t,r,n,s,A){const f=(t-A)*(r-s),l=(e-s)*(n-A),y=f-l,w=Math.abs(f+l);return Math.abs(y)>=Sk*w?y:-Ik(e,t,r,n,s,A,w)}function Uk(e,t){var r,n,s=0,A,f,l,y,w,b,S,U=e[0],I=e[1],z=t.length;for(r=0;r<z;r++){n=0;var H=t[r],K=H.length-1;if(b=H[0],b[0]!==H[K][0]&&b[1]!==H[K][1])throw new Error("First and last coordinates in a ring must be the same");for(f=b[0]-U,l=b[1]-I,n;n<K;n++){if(S=H[n+1],y=S[0]-U,w=S[1]-I,l===0&&w===0){if(y<=0&&f>=0||f<=0&&y>=0)return 0}else if(w>=0&&l<=0||w<=0&&l>=0){if(A=Fk(f,y,l,w,0,0),A===0)return 0;(A>0&&w>0&&l<=0||A<0&&w<=0&&l>0)&&s++}b=S,l=w,f=y}}return s%2!==0}function CS(e,t,r={}){if(!e)throw new Error("point is required");if(!t)throw new Error("polygon is required");const n=O1(e),s=wk(t),A=s.type,f=t.bbox;let l=s.coordinates;if(f&&Lk(n,f)===!1)return!1;A==="Polygon"&&(l=[l]);let y=!1;for(var w=0;w<l.length;++w){const b=Uk(n,l[w]);if(b===0)return!r.ignoreBoundary;b&&(y=!0)}return y}function Lk(e,t){return t[0]<=e[0]&&t[1]<=e[1]&&t[2]>=e[0]&&t[3]>=e[1]}function Mk(e,t,r={}){const n=r.steps||64,s=r.properties?r.properties:!Array.isArray(e)&&e.type==="Feature"&&e.properties?e.properties:{},A=[];for(let f=0;f<n;f++)A.push(bk(e,t,f*-360/n,r).geometry.coordinates);return A.push(A[0]),pk([A],s)}function Pk(e,t){const r=[];return xk(e,function(n){let s=!1;if(n.geometry.type==="Point")wS(t,function(f){CS(n,f)&&(s=!0)}),s&&r.push(n);else if(n.geometry.type==="MultiPoint"){var A=[];wS(t,function(f){eU(n,function(l){CS(l,f)&&(s=!0,A.push(l))})}),s&&r.push(yk(A,n.properties))}else throw new Error("Input geometry must be a Point or MultiPoint")}),mk(r)}function tU(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=tU(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Xi(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=tU(e))&&(n&&(n+=" "),n+=t);return n}var Ok=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function a5(e){if(typeof e!="string")return!1;var t=Ok;return t.includes(e)}var Dk=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],kk=new Set(Dk);function rU(e){return typeof e!="string"?!1:kk.has(e)}function nU(e){return typeof e=="string"&&e.startsWith("data-")}function ph(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(rU(r)||nU(r))&&(t[r]=e[r]);return t}function H_(e){if(e==null)return null;if(se.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return ph(t)}return typeof e=="object"&&!Array.isArray(e)?ph(e):null}function hA(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(rU(r)||nU(r)||a5(r))&&(t[r]=e[r]);return t}function Qk(e){return e==null?null:se.isValidElement(e)?hA(e.props):typeof e=="object"&&!Array.isArray(e)?hA(e):null}var Nk=["children","width","height","viewBox","className","style","title","desc"];function E2(){return E2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E2.apply(null,arguments)}function Rk(e,t){if(e==null)return{};var r,n,s=zk(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function zk(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var s5=se.forwardRef((e,t)=>{var{children:r,width:n,height:s,viewBox:A,className:f,style:l,title:y,desc:w}=e,b=Rk(e,Nk),S=A||{width:n,height:s,x:0,y:0},U=Xi("recharts-surface",f);return se.createElement("svg",E2({},hA(b),{className:U,width:n,height:s,style:l,viewBox:"".concat(S.x," ").concat(S.y," ").concat(S.width," ").concat(S.height),ref:t}),se.createElement("title",null,y),se.createElement("desc",null,w),r)}),Hk=["children","className"];function T2(){return T2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T2.apply(null,arguments)}function jk(e,t){if(e==null)return{};var r,n,s=Kk(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Kk(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var fd=se.forwardRef((e,t)=>{var{children:r,className:n}=e,s=jk(e,Hk),A=Xi("recharts-layer",n);return se.createElement("g",T2({className:A},hA(s),{ref:t}),r)}),o5=ZF(),iU=se.createContext(null),Vk=()=>se.useContext(iU);function fa(e){return function(){return e}}const aU=Math.cos,D1=Math.sin,Oc=Math.sqrt,k1=Math.PI,j_=2*k1,I2=Math.PI,F2=2*I2,ap=1e-6,qk=F2-ap;function sU(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Gk(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return sU;const r=10**t;return function(n){this._+=n[0];for(let s=1,A=n.length;s<A;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class Xk{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?sU:Gk(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,A,f){this._append`C${+t},${+r},${+n},${+s},${this._x1=+A},${this._y1=+f}`}arcTo(t,r,n,s,A){if(t=+t,r=+r,n=+n,s=+s,A=+A,A<0)throw new Error(`negative radius: ${A}`);let f=this._x1,l=this._y1,y=n-t,w=s-r,b=f-t,S=l-r,U=b*b+S*S;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(U>ap)if(!(Math.abs(S*y-w*b)>ap)||!A)this._append`L${this._x1=t},${this._y1=r}`;else{let I=n-f,z=s-l,H=y*y+w*w,K=I*I+z*z,V=Math.sqrt(H),re=Math.sqrt(U),W=A*Math.tan((I2-Math.acos((H+U-K)/(2*V*re)))/2),le=W/re,ce=W/V;Math.abs(le-1)>ap&&this._append`L${t+le*b},${r+le*S}`,this._append`A${A},${A},0,0,${+(S*I>b*z)},${this._x1=t+ce*y},${this._y1=r+ce*w}`}}arc(t,r,n,s,A,f){if(t=+t,r=+r,n=+n,f=!!f,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),y=n*Math.sin(s),w=t+l,b=r+y,S=1^f,U=f?s-A:A-s;this._x1===null?this._append`M${w},${b}`:(Math.abs(this._x1-w)>ap||Math.abs(this._y1-b)>ap)&&this._append`L${w},${b}`,n&&(U<0&&(U=U%F2+F2),U>qk?this._append`A${n},${n},0,1,${S},${t-l},${r-y}A${n},${n},0,1,${S},${this._x1=w},${this._y1=b}`:U>ap&&this._append`A${n},${n},0,${+(U>=I2)},${S},${this._x1=t+n*Math.cos(A)},${this._y1=r+n*Math.sin(A)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function l5(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Xk(t)}function A5(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function oU(e){this._context=e}oU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function K_(e){return new oU(e)}function lU(e){return e[0]}function AU(e){return e[1]}function uU(e,t){var r=fa(!0),n=null,s=K_,A=null,f=l5(l);e=typeof e=="function"?e:e===void 0?lU:fa(e),t=typeof t=="function"?t:t===void 0?AU:fa(t);function l(y){var w,b=(y=A5(y)).length,S,U=!1,I;for(n==null&&(A=s(I=f())),w=0;w<=b;++w)!(w<b&&r(S=y[w],w,y))===U&&((U=!U)?A.lineStart():A.lineEnd()),U&&A.point(+e(S,w,y),+t(S,w,y));if(I)return A=null,I+""||null}return l.x=function(y){return arguments.length?(e=typeof y=="function"?y:fa(+y),l):e},l.y=function(y){return arguments.length?(t=typeof y=="function"?y:fa(+y),l):t},l.defined=function(y){return arguments.length?(r=typeof y=="function"?y:fa(!!y),l):r},l.curve=function(y){return arguments.length?(s=y,n!=null&&(A=s(n)),l):s},l.context=function(y){return arguments.length?(y==null?n=A=null:A=s(n=y),l):n},l}function Cv(e,t,r){var n=null,s=fa(!0),A=null,f=K_,l=null,y=l5(w);e=typeof e=="function"?e:e===void 0?lU:fa(+e),t=typeof t=="function"?t:fa(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?AU:fa(+r);function w(S){var U,I,z,H=(S=A5(S)).length,K,V=!1,re,W=new Array(H),le=new Array(H);for(A==null&&(l=f(re=y())),U=0;U<=H;++U){if(!(U<H&&s(K=S[U],U,S))===V)if(V=!V)I=U,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),z=U-1;z>=I;--z)l.point(W[z],le[z]);l.lineEnd(),l.areaEnd()}V&&(W[U]=+e(K,U,S),le[U]=+t(K,U,S),l.point(n?+n(K,U,S):W[U],r?+r(K,U,S):le[U]))}if(re)return l=null,re+""||null}function b(){return uU().defined(s).curve(f).context(A)}return w.x=function(S){return arguments.length?(e=typeof S=="function"?S:fa(+S),n=null,w):e},w.x0=function(S){return arguments.length?(e=typeof S=="function"?S:fa(+S),w):e},w.x1=function(S){return arguments.length?(n=S==null?null:typeof S=="function"?S:fa(+S),w):n},w.y=function(S){return arguments.length?(t=typeof S=="function"?S:fa(+S),r=null,w):t},w.y0=function(S){return arguments.length?(t=typeof S=="function"?S:fa(+S),w):t},w.y1=function(S){return arguments.length?(r=S==null?null:typeof S=="function"?S:fa(+S),w):r},w.lineX0=w.lineY0=function(){return b().x(e).y(t)},w.lineY1=function(){return b().x(e).y(r)},w.lineX1=function(){return b().x(n).y(t)},w.defined=function(S){return arguments.length?(s=typeof S=="function"?S:fa(!!S),w):s},w.curve=function(S){return arguments.length?(f=S,A!=null&&(l=f(A)),w):f},w.context=function(S){return arguments.length?(S==null?A=l=null:l=f(A=S),w):A},w}class cU{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function $k(e){return new cU(e,!0)}function Zk(e){return new cU(e,!1)}const u5={draw(e,t){const r=Oc(t/k1);e.moveTo(r,0),e.arc(0,0,r,0,j_)}},Wk={draw(e,t){const r=Oc(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},hU=Oc(1/3),Yk=hU*2,Jk={draw(e,t){const r=Oc(t/Yk),n=r*hU;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},eQ={draw(e,t){const r=Oc(t),n=-r/2;e.rect(n,n,r,r)}},tQ=.8908130915292852,fU=D1(k1/10)/D1(7*k1/10),rQ=D1(j_/10)*fU,nQ=-aU(j_/10)*fU,iQ={draw(e,t){const r=Oc(t*tQ),n=rQ*r,s=nQ*r;e.moveTo(0,-r),e.lineTo(n,s);for(let A=1;A<5;++A){const f=j_*A/5,l=aU(f),y=D1(f);e.lineTo(y*r,-l*r),e.lineTo(l*n-y*s,y*n+l*s)}e.closePath()}},ab=Oc(3),aQ={draw(e,t){const r=-Oc(t/(ab*3));e.moveTo(0,r*2),e.lineTo(-ab*r,-r),e.lineTo(ab*r,-r),e.closePath()}},Xu=-.5,$u=Oc(3)/2,U2=1/Oc(12),sQ=(U2/2+1)*3,oQ={draw(e,t){const r=Oc(t/sQ),n=r/2,s=r*U2,A=n,f=r*U2+r,l=-A,y=f;e.moveTo(n,s),e.lineTo(A,f),e.lineTo(l,y),e.lineTo(Xu*n-$u*s,$u*n+Xu*s),e.lineTo(Xu*A-$u*f,$u*A+Xu*f),e.lineTo(Xu*l-$u*y,$u*l+Xu*y),e.lineTo(Xu*n+$u*s,Xu*s-$u*n),e.lineTo(Xu*A+$u*f,Xu*f-$u*A),e.lineTo(Xu*l+$u*y,Xu*y-$u*l),e.closePath()}};function lQ(e,t){let r=null,n=l5(s);e=typeof e=="function"?e:fa(e||u5),t=typeof t=="function"?t:fa(t===void 0?64:+t);function s(){let A;if(r||(r=A=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),A)return r=null,A+""||null}return s.type=function(A){return arguments.length?(e=typeof A=="function"?A:fa(A),s):e},s.size=function(A){return arguments.length?(t=typeof A=="function"?A:fa(+A),s):t},s.context=function(A){return arguments.length?(r=A??null,s):r},s}function Q1(){}function N1(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function dU(e){this._context=e}dU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:N1(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:N1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function AQ(e){return new dU(e)}function pU(e){this._context=e}pU.prototype={areaStart:Q1,areaEnd:Q1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:N1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function uQ(e){return new pU(e)}function gU(e){this._context=e}gU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:N1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function cQ(e){return new gU(e)}function mU(e){this._context=e}mU.prototype={areaStart:Q1,areaEnd:Q1,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function hQ(e){return new mU(e)}function SS(e){return e<0?-1:1}function ES(e,t,r){var n=e._x1-e._x0,s=t-e._x1,A=(e._y1-e._y0)/(n||s<0&&-0),f=(r-e._y1)/(s||n<0&&-0),l=(A*s+f*n)/(n+s);return(SS(A)+SS(f))*Math.min(Math.abs(A),Math.abs(f),.5*Math.abs(l))||0}function TS(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function sb(e,t,r){var n=e._x0,s=e._y0,A=e._x1,f=e._y1,l=(A-n)/3;e._context.bezierCurveTo(n+l,s+l*t,A-l,f-l*r,A,f)}function R1(e){this._context=e}R1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:sb(this,this._t0,TS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,sb(this,TS(this,r=ES(this,e,t)),r);break;default:sb(this,this._t0,r=ES(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function yU(e){this._context=new vU(e)}(yU.prototype=Object.create(R1.prototype)).point=function(e,t){R1.prototype.point.call(this,t,e)};function vU(e){this._context=e}vU.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,A){this._context.bezierCurveTo(t,e,n,r,A,s)}};function fQ(e){return new R1(e)}function dQ(e){return new yU(e)}function _U(e){this._context=e}_U.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=IS(e),s=IS(t),A=0,f=1;f<r;++A,++f)this._context.bezierCurveTo(n[0][A],s[0][A],n[1][A],s[1][A],e[f],t[f]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function IS(e){var t,r=e.length-1,n,s=new Array(r),A=new Array(r),f=new Array(r);for(s[0]=0,A[0]=2,f[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,A[t]=4,f[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,A[r-1]=7,f[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/A[t-1],A[t]-=n,f[t]-=n*f[t-1];for(s[r-1]=f[r-1]/A[r-1],t=r-2;t>=0;--t)s[t]=(f[t]-s[t+1])/A[t];for(A[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)A[t]=2*e[t+1]-s[t+1];return[s,A]}function pQ(e){return new _U(e)}function V_(e,t){this._context=e,this._t=t}V_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function gQ(e){return new V_(e,.5)}function mQ(e){return new V_(e,0)}function yQ(e){return new V_(e,1)}function Rg(e,t){if((f=e.length)>1)for(var r=1,n,s,A=e[t[0]],f,l=A.length;r<f;++r)for(s=A,A=e[t[r]],n=0;n<l;++n)A[n][1]+=A[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function L2(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function vQ(e,t){return e[t]}function _Q(e){const t=[];return t.key=e,t}function wQ(){var e=fa([]),t=L2,r=Rg,n=vQ;function s(A){var f=Array.from(e.apply(this,arguments),_Q),l,y=f.length,w=-1,b;for(const S of A)for(l=0,++w;l<y;++l)(f[l][w]=[0,+n(S,f[l].key,w,A)]).data=S;for(l=0,b=A5(t(f));l<y;++l)f[b[l]].index=l;return r(f,b),f}return s.keys=function(A){return arguments.length?(e=typeof A=="function"?A:fa(Array.from(A)),s):e},s.value=function(A){return arguments.length?(n=typeof A=="function"?A:fa(+A),s):n},s.order=function(A){return arguments.length?(t=A==null?L2:typeof A=="function"?A:fa(Array.from(A)),s):t},s.offset=function(A){return arguments.length?(r=A??Rg,s):r},s}function bQ(e,t){if((n=e.length)>0){for(var r,n,s=0,A=e[0].length,f;s<A;++s){for(f=r=0;r<n;++r)f+=e[r][s][1]||0;if(f)for(r=0;r<n;++r)e[r][s][1]/=f}Rg(e,t)}}function xQ(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,A=n.length;r<A;++r){for(var f=0,l=0;f<s;++f)l+=e[f][r][1]||0;n[r][1]+=n[r][0]=-l/2}Rg(e,t)}}function BQ(e,t){if(!(!((f=e.length)>0)||!((A=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,A,f;n<A;++n){for(var l=0,y=0,w=0;l<f;++l){for(var b=e[t[l]],S=b[n][1]||0,U=b[n-1][1]||0,I=(S-U)/2,z=0;z<l;++z){var H=e[t[z]],K=H[n][1]||0,V=H[n-1][1]||0;I+=K-V}y+=S,w+=I*S}s[n-1][1]+=s[n-1][0]=r,y&&(r-=w/y)}s[n-1][1]+=s[n-1][0]=r,Rg(e,t)}}var ob={},lb={},FS;function CQ(){return FS||(FS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(lb)),lb}var Ab={},US;function wU(){return US||(US=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Ab)),Ab}var ub={},LS;function c5(){return LS||(LS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(ub)),ub}var cb={},hb={},MS;function SQ(){return MS||(MS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(hb)),hb}var PS;function h5(){return PS||(PS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SQ(),r=c5();function n(s){if(Array.isArray(s))return s.map(r.toKey);if(typeof s=="symbol")return[s];s=t.toString(s);const A=[],f=s.length;if(f===0)return A;let l=0,y="",w="",b=!1;for(s.charCodeAt(0)===46&&(A.push(""),l++);l<f;){const S=s[l];w?S==="\\"&&l+1<f?(l++,y+=s[l]):S===w?w="":y+=S:b?S==='"'||S==="'"?w=S:S==="]"?(b=!1,A.push(y),y=""):y+=S:S==="["?(b=!0,y&&(A.push(y),y="")):S==="."?y&&(A.push(y),y=""):y+=S,l++}return y&&A.push(y),A}e.toPath=n})(cb)),cb}var OS;function f5(){return OS||(OS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CQ(),r=wU(),n=c5(),s=h5();function A(l,y,w){if(l==null)return w;switch(typeof y){case"string":{if(t.isUnsafeProperty(y))return w;const b=l[y];return b===void 0?r.isDeepKey(y)?A(l,s.toPath(y),w):w:b}case"number":case"symbol":{typeof y=="number"&&(y=n.toKey(y));const b=l[y];return b===void 0?w:b}default:{if(Array.isArray(y))return f(l,y,w);if(Object.is(y?.valueOf(),-0)?y="-0":y=String(y),t.isUnsafeProperty(y))return w;const b=l[y];return b===void 0?w:b}}}function f(l,y,w){if(y.length===0)return w;let b=l;for(let S=0;S<y.length;S++){if(b==null||t.isUnsafeProperty(y[S]))return w;b=b[y[S]]}return b===void 0?w:b}e.get=A})(ob)),ob}var fb,DS;function EQ(){return DS||(DS=1,fb=f5().get),fb}var TQ=EQ();const q_=wh(TQ);var ec=e=>e===0?0:e>0?1:-1,gh=e=>typeof e=="number"&&e!=+e,tf=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Yr=e=>(typeof e=="number"||e instanceof Number)&&!gh(e),mh=e=>Yr(e)||typeof e=="string",IQ=0,O0=e=>{var t=++IQ;return"".concat(e||"").concat(t)},dd=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Yr(t)&&typeof t!="string")return n;var A;if(tf(t)){if(r==null)return n;var f=t.indexOf("%");A=r*parseFloat(t.slice(0,f))/100}else A=+t;return gh(A)&&(A=n),s&&r!=null&&A>r&&(A=r),A},bU=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function qA(e,t,r){return Yr(e)&&Yr(t)?e+r*(t-e):t}function xU(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):q_(n,t))===r)}var Uo=e=>e===null||typeof e>"u",ny=e=>Uo(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function FQ(e){return e!=null}function iy(){}var UQ=["type","size","sizeType"];function M2(){return M2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M2.apply(null,arguments)}function kS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function QS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kS(Object(r),!0).forEach(function(n){LQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LQ(e,t,r){return(t=MQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MQ(e){var t=PQ(e,"string");return typeof t=="symbol"?t:t+""}function PQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OQ(e,t){if(e==null)return{};var r,n,s=DQ(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function DQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var BU={symbolCircle:u5,symbolCross:Wk,symbolDiamond:Jk,symbolSquare:eQ,symbolStar:iQ,symbolTriangle:aQ,symbolWye:oQ},kQ=Math.PI/180,QQ=e=>{var t="symbol".concat(ny(e));return BU[t]||u5},NQ=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*kQ;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},RQ=(e,t)=>{BU["symbol".concat(ny(e))]=t},d5=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,s=OQ(e,UQ),A=QS(QS({},s),{},{type:t,size:r,sizeType:n}),f="circle";typeof t=="string"&&(f=t);var l=()=>{var U=QQ(f),I=lQ().type(U).size(NQ(r,n,f)),z=I();if(z!==null)return z},{className:y,cx:w,cy:b}=A,S=hA(A);return Yr(w)&&Yr(b)&&Yr(r)?se.createElement("path",M2({},S,{className:Xi("recharts-symbols",y),transform:"translate(".concat(w,", ").concat(b,")"),d:l()})):null};d5.registerSymbol=RQ;var CU=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,p5=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(se.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(s=>{a5(s)&&(n[s]=(A=>r[s](r,A)))}),n},zQ=(e,t,r)=>n=>(e(t,r,n),null),SU=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(s=>{var A=e[s];a5(s)&&typeof A=="function"&&(n||(n={}),n[s]=zQ(A,t,r))}),n};function NS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function HQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NS(Object(r),!0).forEach(function(n){jQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jQ(e,t,r){return(t=KQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KQ(e){var t=VQ(e,"string");return typeof t=="symbol"?t:t+""}function VQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nl(e,t){var r=HQ({},e),n=t,s=Object.keys(t),A=s.reduce((f,l)=>(f[l]===void 0&&n[l]!==void 0&&(f[l]=n[l]),f),r);return A}function z1(){return z1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},z1.apply(null,arguments)}function RS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function qQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RS(Object(r),!0).forEach(function(n){GQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GQ(e,t,r){return(t=XQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XQ(e){var t=$Q(e,"string");return typeof t=="symbol"?t:t+""}function $Q(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wu=32,ZQ={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function WQ(e){var{data:t,iconType:r,inactiveColor:n}=e,s=Wu/2,A=Wu/6,f=Wu/3,l=t.inactive?n:t.color,y=r??t.type;if(y==="none")return null;if(y==="plainline"){var w;return se.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:(w=t.payload)===null||w===void 0?void 0:w.strokeDasharray,x1:0,y1:s,x2:Wu,y2:s,className:"recharts-legend-icon"})}if(y==="line")return se.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(s,"h").concat(f,`
            A`).concat(A,",").concat(A,",0,1,1,").concat(2*f,",").concat(s,`
            H`).concat(Wu,"M").concat(2*f,",").concat(s,`
            A`).concat(A,",").concat(A,",0,1,1,").concat(f,",").concat(s),className:"recharts-legend-icon"});if(y==="rect")return se.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Wu/8,"h").concat(Wu,"v").concat(Wu*3/4,"h").concat(-Wu,"z"),className:"recharts-legend-icon"});if(se.isValidElement(t.legendIcon)){var b=qQ({},t);return delete b.legendIcon,se.cloneElement(t.legendIcon,b)}return se.createElement(d5,{fill:l,cx:s,cy:s,size:Wu,sizeType:"diameter",type:y})}function YQ(e){var{payload:t,iconSize:r,layout:n,formatter:s,inactiveColor:A,iconType:f}=e,l={x:0,y:0,width:Wu,height:Wu},y={display:n==="horizontal"?"inline-block":"block",marginRight:10},w={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((b,S)=>{var U=b.formatter||s,I=Xi({"recharts-legend-item":!0,["legend-item-".concat(S)]:!0,inactive:b.inactive});if(b.type==="none")return null;var z=b.inactive?A:b.color,H=U?U(b.value,b,S):b.value;return se.createElement("li",z1({className:I,style:y,key:"legend-item-".concat(S)},SU(e,b,S)),se.createElement(s5,{width:r,height:r,viewBox:l,style:w,"aria-label":"".concat(H," legend icon")},se.createElement(WQ,{data:b,iconType:f,inactiveColor:A})),se.createElement("span",{className:"recharts-legend-item-text",style:{color:z}},H))})}var JQ=e=>{var t=Nl(e,ZQ),{payload:r,layout:n,align:s}=t;if(!r||!r.length)return null;var A={padding:0,margin:0,textAlign:n==="horizontal"?s:"left"};return se.createElement("ul",{className:"recharts-default-legend",style:A},se.createElement(YQ,z1({},t,{payload:r})))},db={},pb={},zS;function eN(){return zS||(zS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const s=new Map;for(let A=0;A<r.length;A++){const f=r[A],l=n(f);s.has(l)||s.set(l,f)}return Array.from(s.values())}e.uniqBy=t})(pb)),pb}var gb={},HS;function EU(){return HS||(HS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(gb)),gb}var mb={},yb={},vb={},jS;function tN(){return jS||(jS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(vb)),vb}var KS;function g5(){return KS||(KS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tN();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(yb)),yb}var _b={},VS;function rN(){return VS||(VS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(_b)),_b}var qS;function nN(){return qS||(qS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g5(),r=rN();function n(s){return r.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=n})(mb)),mb}var wb={},bb={},GS;function iN(){return GS||(GS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=f5();function r(n){return function(s){return t.get(s,n)}}e.property=r})(bb)),bb}var xb={},Bb={},Cb={},Sb={},XS;function TU(){return XS||(XS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Sb)),Sb}var Eb={},$S;function IU(){return $S||($S=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Eb)),Eb}var Tb={},ZS;function FU(){return ZS||(ZS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(Tb)),Tb}var WS;function aN(){return WS||(WS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TU(),r=IU(),n=FU();function s(b,S,U){return typeof U!="function"?s(b,S,()=>{}):A(b,S,function I(z,H,K,V,re,W){const le=U(z,H,K,V,re,W);return le!==void 0?!!le:A(z,H,I,W)},new Map)}function A(b,S,U,I){if(S===b)return!0;switch(typeof S){case"object":return f(b,S,U,I);case"function":return Object.keys(S).length>0?A(b,{...S},U,I):n.eq(b,S);default:return t.isObject(b)?typeof S=="string"?S==="":!0:n.eq(b,S)}}function f(b,S,U,I){if(S==null)return!0;if(Array.isArray(S))return y(b,S,U,I);if(S instanceof Map)return l(b,S,U,I);if(S instanceof Set)return w(b,S,U,I);const z=Object.keys(S);if(b==null)return z.length===0;if(z.length===0)return!0;if(I?.has(S))return I.get(S)===b;I?.set(S,b);try{for(let H=0;H<z.length;H++){const K=z[H];if(!r.isPrimitive(b)&&!(K in b)||S[K]===void 0&&b[K]!==void 0||S[K]===null&&b[K]!==null||!U(b[K],S[K],K,b,S,I))return!1}return!0}finally{I?.delete(S)}}function l(b,S,U,I){if(S.size===0)return!0;if(!(b instanceof Map))return!1;for(const[z,H]of S.entries()){const K=b.get(z);if(U(K,H,z,b,S,I)===!1)return!1}return!0}function y(b,S,U,I){if(S.length===0)return!0;if(!Array.isArray(b))return!1;const z=new Set;for(let H=0;H<S.length;H++){const K=S[H];let V=!1;for(let re=0;re<b.length;re++){if(z.has(re))continue;const W=b[re];let le=!1;if(U(W,K,H,b,S,I)&&(le=!0),le){z.add(re),V=!0;break}}if(!V)return!1}return!0}function w(b,S,U,I){return S.size===0?!0:b instanceof Set?y([...b],[...S],U,I):!1}e.isMatchWith=s,e.isSetMatch=w})(Cb)),Cb}var YS;function UU(){return YS||(YS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aN();function r(n,s){return t.isMatchWith(n,s,()=>{})}e.isMatch=r})(Bb)),Bb}var Ib={},Fb={},Ub={},JS;function sN(){return JS||(JS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(Ub)),Ub}var Lb={},eE;function LU(){return eE||(eE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Lb)),Lb}var Mb={},tE;function MU(){return tE||(tE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",s="[object Boolean]",A="[object Arguments]",f="[object Symbol]",l="[object Date]",y="[object Map]",w="[object Set]",b="[object Array]",S="[object Function]",U="[object ArrayBuffer]",I="[object Object]",z="[object Error]",H="[object DataView]",K="[object Uint8Array]",V="[object Uint8ClampedArray]",re="[object Uint16Array]",W="[object Uint32Array]",le="[object BigUint64Array]",ce="[object Int8Array]",me="[object Int16Array]",Ie="[object Int32Array]",Fe="[object BigInt64Array]",pe="[object Float32Array]",ze="[object Float64Array]";e.argumentsTag=A,e.arrayBufferTag=U,e.arrayTag=b,e.bigInt64ArrayTag=Fe,e.bigUint64ArrayTag=le,e.booleanTag=s,e.dataViewTag=H,e.dateTag=l,e.errorTag=z,e.float32ArrayTag=pe,e.float64ArrayTag=ze,e.functionTag=S,e.int16ArrayTag=me,e.int32ArrayTag=Ie,e.int8ArrayTag=ce,e.mapTag=y,e.numberTag=n,e.objectTag=I,e.regexpTag=t,e.setTag=w,e.stringTag=r,e.symbolTag=f,e.uint16ArrayTag=re,e.uint32ArrayTag=W,e.uint8ArrayTag=K,e.uint8ClampedArrayTag=V})(Mb)),Mb}var Pb={},rE;function oN(){return rE||(rE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(Pb)),Pb}var nE;function PU(){return nE||(nE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sN(),r=LU(),n=MU(),s=IU(),A=oN();function f(b,S){return l(b,void 0,b,new Map,S)}function l(b,S,U,I=new Map,z=void 0){const H=z?.(b,S,U,I);if(H!==void 0)return H;if(s.isPrimitive(b))return b;if(I.has(b))return I.get(b);if(Array.isArray(b)){const K=new Array(b.length);I.set(b,K);for(let V=0;V<b.length;V++)K[V]=l(b[V],V,U,I,z);return Object.hasOwn(b,"index")&&(K.index=b.index),Object.hasOwn(b,"input")&&(K.input=b.input),K}if(b instanceof Date)return new Date(b.getTime());if(b instanceof RegExp){const K=new RegExp(b.source,b.flags);return K.lastIndex=b.lastIndex,K}if(b instanceof Map){const K=new Map;I.set(b,K);for(const[V,re]of b)K.set(V,l(re,V,U,I,z));return K}if(b instanceof Set){const K=new Set;I.set(b,K);for(const V of b)K.add(l(V,void 0,U,I,z));return K}if(typeof Buffer<"u"&&Buffer.isBuffer(b))return b.subarray();if(A.isTypedArray(b)){const K=new(Object.getPrototypeOf(b)).constructor(b.length);I.set(b,K);for(let V=0;V<b.length;V++)K[V]=l(b[V],V,U,I,z);return K}if(b instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&b instanceof SharedArrayBuffer)return b.slice(0);if(b instanceof DataView){const K=new DataView(b.buffer.slice(0),b.byteOffset,b.byteLength);return I.set(b,K),y(K,b,U,I,z),K}if(typeof File<"u"&&b instanceof File){const K=new File([b],b.name,{type:b.type});return I.set(b,K),y(K,b,U,I,z),K}if(typeof Blob<"u"&&b instanceof Blob){const K=new Blob([b],{type:b.type});return I.set(b,K),y(K,b,U,I,z),K}if(b instanceof Error){const K=new b.constructor;return I.set(b,K),K.message=b.message,K.name=b.name,K.stack=b.stack,K.cause=b.cause,y(K,b,U,I,z),K}if(b instanceof Boolean){const K=new Boolean(b.valueOf());return I.set(b,K),y(K,b,U,I,z),K}if(b instanceof Number){const K=new Number(b.valueOf());return I.set(b,K),y(K,b,U,I,z),K}if(b instanceof String){const K=new String(b.valueOf());return I.set(b,K),y(K,b,U,I,z),K}if(typeof b=="object"&&w(b)){const K=Object.create(Object.getPrototypeOf(b));return I.set(b,K),y(K,b,U,I,z),K}return b}function y(b,S,U=b,I,z){const H=[...Object.keys(S),...t.getSymbols(S)];for(let K=0;K<H.length;K++){const V=H[K],re=Object.getOwnPropertyDescriptor(b,V);(re==null||re.writable)&&(b[V]=l(S[V],V,U,I,z))}}function w(b){switch(r.getTag(b)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=f,e.cloneDeepWithImpl=l,e.copyProperties=y})(Fb)),Fb}var iE;function lN(){return iE||(iE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PU();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(Ib)),Ib}var aE;function AN(){return aE||(aE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UU(),r=lN();function n(s){return s=r.cloneDeep(s),A=>t.isMatch(A,s)}e.matches=n})(xb)),xb}var Ob={},Db={},kb={},sE;function uN(){return sE||(sE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PU(),r=MU();function n(s,A){return t.cloneDeepWith(s,(f,l,y,w)=>{const b=A?.(f,l,y,w);if(b!==void 0)return b;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case r.numberTag:case r.stringTag:case r.booleanTag:{const S=new s.constructor(s?.valueOf());return t.copyProperties(S,s),S}case r.argumentsTag:{const S={};return t.copyProperties(S,s),S.length=s.length,S[Symbol.iterator]=s[Symbol.iterator],S}default:return}})}e.cloneDeepWith=n})(kb)),kb}var oE;function cN(){return oE||(oE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uN();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(Db)),Db}var Qb={},Nb={},lE;function OU(){return lE||(lE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,s=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<s;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Nb)),Nb}var Rb={},AE;function hN(){return AE||(AE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LU();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(Rb)),Rb}var uE;function fN(){return uE||(uE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wU(),r=OU(),n=hN(),s=h5();function A(f,l){let y;if(Array.isArray(l)?y=l:typeof l=="string"&&t.isDeepKey(l)&&f?.[l]==null?y=s.toPath(l):y=[l],y.length===0)return!1;let w=f;for(let b=0;b<y.length;b++){const S=y[b];if((w==null||!Object.hasOwn(w,S))&&!((Array.isArray(w)||n.isArguments(w))&&r.isIndex(S)&&S<w.length))return!1;w=w[S]}return!0}e.has=A})(Qb)),Qb}var cE;function dN(){return cE||(cE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UU(),r=c5(),n=cN(),s=f5(),A=fN();function f(l,y){switch(typeof l){case"object":{Object.is(l?.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return y=n.cloneDeep(y),function(w){const b=s.get(w,l);return b===void 0?A.has(w,l):y===void 0?b===void 0:t.isMatch(b,y)}}e.matchesProperty=f})(Ob)),Ob}var hE;function pN(){return hE||(hE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EU(),r=iN(),n=AN(),s=dN();function A(f){if(f==null)return t.identity;switch(typeof f){case"function":return f;case"object":return Array.isArray(f)&&f.length===2?s.matchesProperty(f[0],f[1]):n.matches(f);case"string":case"symbol":case"number":return r.property(f)}}e.iteratee=A})(wb)),wb}var fE;function gN(){return fE||(fE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eN(),r=EU(),n=nN(),s=pN();function A(f,l=r.identity){return n.isArrayLikeObject(f)?t.uniqBy(Array.from(f),s.iteratee(l)):[]}e.uniqBy=A})(db)),db}var zb,dE;function mN(){return dE||(dE=1,zb=gN().uniqBy),zb}var yN=mN();const pE=wh(yN);function DU(e,t,r){return t===!0?pE(e,r):typeof t=="function"?pE(e,t):e}var Hb={exports:{}},jb={},Kb={exports:{}},Vb={};var gE;function vN(){if(gE)return Vb;gE=1;var e=$g();function t(S,U){return S===U&&(S!==0||1/S===1/U)||S!==S&&U!==U}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,s=e.useEffect,A=e.useLayoutEffect,f=e.useDebugValue;function l(S,U){var I=U(),z=n({inst:{value:I,getSnapshot:U}}),H=z[0].inst,K=z[1];return A(function(){H.value=I,H.getSnapshot=U,y(H)&&K({inst:H})},[S,I,U]),s(function(){return y(H)&&K({inst:H}),S(function(){y(H)&&K({inst:H})})},[S]),f(I),I}function y(S){var U=S.getSnapshot;S=S.value;try{var I=U();return!r(S,I)}catch{return!0}}function w(S,U){return U()}var b=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?w:l;return Vb.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:b,Vb}var mE;function _N(){return mE||(mE=1,Kb.exports=vN()),Kb.exports}var yE;function wN(){if(yE)return jb;yE=1;var e=$g(),t=_N();function r(w,b){return w===b&&(w!==0||1/w===1/b)||w!==w&&b!==b}var n=typeof Object.is=="function"?Object.is:r,s=t.useSyncExternalStore,A=e.useRef,f=e.useEffect,l=e.useMemo,y=e.useDebugValue;return jb.useSyncExternalStoreWithSelector=function(w,b,S,U,I){var z=A(null);if(z.current===null){var H={hasValue:!1,value:null};z.current=H}else H=z.current;z=l(function(){function V(me){if(!re){if(re=!0,W=me,me=U(me),I!==void 0&&H.hasValue){var Ie=H.value;if(I(Ie,me))return le=Ie}return le=me}if(Ie=le,n(W,me))return Ie;var Fe=U(me);return I!==void 0&&I(Ie,Fe)?(W=me,Ie):(W=me,le=Fe)}var re=!1,W,le,ce=S===void 0?null:S;return[function(){return V(b())},ce===null?void 0:function(){return V(ce())}]},[b,S,U,I]);var K=s(w,z[0],z[1]);return f(function(){H.hasValue=!0,H.value=K},[K]),y(K),K},jb}var vE;function bN(){return vE||(vE=1,Hb.exports=wN()),Hb.exports}var xN=bN(),m5=se.createContext(null),BN=e=>e,zs=()=>{var e=se.useContext(m5);return e?e.store.dispatch:BN},_1=()=>{},CN=()=>_1,SN=(e,t)=>e===t;function Xr(e){var t=se.useContext(m5);return xN.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:CN,t?t.store.getState:_1,t?t.store.getState:_1,t?e:_1,SN)}function EN(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function TN(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function IN(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var _E=e=>Array.isArray(e)?e:[e];function FN(e){const t=Array.isArray(e[0])?e[0]:e;return IN(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function UN(e,t){const r=[],{length:n}=e;for(let s=0;s<n;s++)r.push(e[s].apply(null,t));return r}var LN=class{constructor(e){this.value=e}deref(){return this.value}},MN=typeof WeakRef<"u"?WeakRef:LN,PN=0,wE=1;function Sv(){return{s:PN,v:void 0,o:null,p:null}}function kU(e,t={}){let r=Sv();const{resultEqualityCheck:n}=t;let s,A=0;function f(){let l=r;const{length:y}=arguments;for(let S=0,U=y;S<U;S++){const I=arguments[S];if(typeof I=="function"||typeof I=="object"&&I!==null){let z=l.o;z===null&&(l.o=z=new WeakMap);const H=z.get(I);H===void 0?(l=Sv(),z.set(I,l)):l=H}else{let z=l.p;z===null&&(l.p=z=new Map);const H=z.get(I);H===void 0?(l=Sv(),z.set(I,l)):l=H}}const w=l;let b;if(l.s===wE)b=l.v;else if(b=e.apply(null,arguments),A++,n){const S=s?.deref?.()??s;S!=null&&n(S,b)&&(b=S,A!==0&&A--),s=typeof b=="object"&&b!==null||typeof b=="function"?new MN(b):b}return w.s=wE,w.v=b,b}return f.clearCache=()=>{r=Sv(),f.resetResultsCount()},f.resultsCount=()=>A,f.resetResultsCount=()=>{A=0},f}function ON(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...s)=>{let A=0,f=0,l,y={},w=s.pop();typeof w=="object"&&(y=w,w=s.pop()),EN(w,`createSelector expects an output function after the inputs, but received: [${typeof w}]`);const b={...r,...y},{memoize:S,memoizeOptions:U=[],argsMemoize:I=kU,argsMemoizeOptions:z=[]}=b,H=_E(U),K=_E(z),V=FN(s),re=S(function(){return A++,w.apply(null,arguments)},...H),W=I(function(){f++;const ce=UN(V,arguments);return l=re.apply(null,ce),l},...K);return Object.assign(W,{resultFunc:w,memoizedResultFunc:re,dependencies:V,dependencyRecomputations:()=>f,resetDependencyRecomputations:()=>{f=0},lastResult:()=>l,recomputations:()=>A,resetRecomputations:()=>{A=0},memoize:S,argsMemoize:I})};return Object.assign(n,{withTypes:()=>n}),n}var Mt=ON(kU),DN=Object.assign((e,t=Mt)=>{TN(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(A=>e[A]);return t(n,(...A)=>A.reduce((f,l,y)=>(f[r[y]]=l,f),{}))},{withTypes:()=>DN}),qb={},Gb={},Xb={},bE;function kN(){return bE||(bE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,s,A)=>{if(n!==s){const f=t(n),l=t(s);if(f===l&&f===0){if(n<s)return A==="desc"?1:-1;if(n>s)return A==="desc"?-1:1}return A==="desc"?l-f:f-l}return 0};e.compareValues=r})(Xb)),Xb}var $b={},Zb={},xE;function QU(){return xE||(xE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Zb)),Zb}var BE;function QN(){return BE||(BE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QU(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function s(A,f){return Array.isArray(A)?!1:typeof A=="number"||typeof A=="boolean"||A==null||t.isSymbol(A)?!0:typeof A=="string"&&(n.test(A)||!r.test(A))||f!=null&&Object.hasOwn(f,A)}e.isKey=s})($b)),$b}var CE;function NN(){return CE||(CE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kN(),r=QN(),n=h5();function s(A,f,l,y){if(A==null)return[];l=y?void 0:l,Array.isArray(A)||(A=Object.values(A)),Array.isArray(f)||(f=f==null?[null]:[f]),f.length===0&&(f=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(I=>String(I));const w=(I,z)=>{let H=I;for(let K=0;K<z.length&&H!=null;++K)H=H[z[K]];return H},b=(I,z)=>z==null||I==null?z:typeof I=="object"&&"key"in I?Object.hasOwn(z,I.key)?z[I.key]:w(z,I.path):typeof I=="function"?I(z):Array.isArray(I)?w(z,I):typeof z=="object"?z[I]:z,S=f.map(I=>(Array.isArray(I)&&I.length===1&&(I=I[0]),I==null||typeof I=="function"||Array.isArray(I)||r.isKey(I)?I:{key:I,path:n.toPath(I)}));return A.map(I=>({original:I,criteria:S.map(z=>b(z,I))})).slice().sort((I,z)=>{for(let H=0;H<S.length;H++){const K=t.compareValues(I.criteria[H],z.criteria[H],l[H]);if(K!==0)return K}return 0}).map(I=>I.original)}e.orderBy=s})(Gb)),Gb}var Wb={},SE;function RN(){return SE||(SE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const s=[],A=Math.floor(n),f=(l,y)=>{for(let w=0;w<l.length;w++){const b=l[w];Array.isArray(b)&&y<A?f(b,y+1):s.push(b)}};return f(r,0),s}e.flatten=t})(Wb)),Wb}var Yb={},EE;function NU(){return EE||(EE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OU(),r=g5(),n=TU(),s=FU();function A(f,l,y){return n.isObject(y)&&(typeof l=="number"&&r.isArrayLike(y)&&t.isIndex(l)&&l<y.length||typeof l=="string"&&l in y)?s.eq(y[l],f):!1}e.isIterateeCall=A})(Yb)),Yb}var TE;function zN(){return TE||(TE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NN(),r=RN(),n=NU();function s(A,...f){const l=f.length;return l>1&&n.isIterateeCall(A,f[0],f[1])?f=[]:l>2&&n.isIterateeCall(f[0],f[1],f[2])&&(f=[f[0]]),t.orderBy(A,r.flatten(f),["asc"])}e.sortBy=s})(qb)),qb}var Jb,IE;function HN(){return IE||(IE=1,Jb=zN().sortBy),Jb}var jN=HN();const G_=wh(jN);var RU=e=>e.legend.settings,KN=e=>e.legend.size,VN=e=>e.legend.payload,qN=Mt([VN,RU],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?G_(n,r):n});function GN(){return Xr(qN)}var Ev=1;function zU(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=se.useState({height:0,left:0,top:0,width:0}),n=se.useCallback(s=>{if(s!=null){var A=s.getBoundingClientRect(),f={height:A.height,left:A.left,top:A.top,width:A.width};(Math.abs(f.height-t.height)>Ev||Math.abs(f.left-t.left)>Ev||Math.abs(f.top-t.top)>Ev||Math.abs(f.width-t.width)>Ev)&&r({height:f.height,left:f.left,top:f.top,width:f.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Wo(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var XN=typeof Symbol=="function"&&Symbol.observable||"@@observable",FE=XN,ex=()=>Math.random().toString(36).substring(7).split("").join("."),$N={INIT:`@@redux/INIT${ex()}`,REPLACE:`@@redux/REPLACE${ex()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ex()}`},H1=$N;function y5(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function HU(e,t,r){if(typeof e!="function")throw new Error(Wo(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Wo(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Wo(1));return r(HU)(e,t)}let n=e,s=t,A=new Map,f=A,l=0,y=!1;function w(){f===A&&(f=new Map,A.forEach((K,V)=>{f.set(V,K)}))}function b(){if(y)throw new Error(Wo(3));return s}function S(K){if(typeof K!="function")throw new Error(Wo(4));if(y)throw new Error(Wo(5));let V=!0;w();const re=l++;return f.set(re,K),function(){if(V){if(y)throw new Error(Wo(6));V=!1,w(),f.delete(re),A=null}}}function U(K){if(!y5(K))throw new Error(Wo(7));if(typeof K.type>"u")throw new Error(Wo(8));if(typeof K.type!="string")throw new Error(Wo(17));if(y)throw new Error(Wo(9));try{y=!0,s=n(s,K)}finally{y=!1}return(A=f).forEach(re=>{re()}),K}function I(K){if(typeof K!="function")throw new Error(Wo(10));n=K,U({type:H1.REPLACE})}function z(){const K=S;return{subscribe(V){if(typeof V!="object"||V===null)throw new Error(Wo(11));function re(){const le=V;le.next&&le.next(b())}return re(),{unsubscribe:K(re)}},[FE](){return this}}}return U({type:H1.INIT}),{dispatch:U,subscribe:S,getState:b,replaceReducer:I,[FE]:z}}function ZN(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:H1.INIT})>"u")throw new Error(Wo(12));if(typeof r(void 0,{type:H1.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Wo(13))})}function jU(e){const t=Object.keys(e),r={};for(let A=0;A<t.length;A++){const f=t[A];typeof e[f]=="function"&&(r[f]=e[f])}const n=Object.keys(r);let s;try{ZN(r)}catch(A){s=A}return function(f={},l){if(s)throw s;let y=!1;const w={};for(let b=0;b<n.length;b++){const S=n[b],U=r[S],I=f[S],z=U(I,l);if(typeof z>"u")throw l&&l.type,new Error(Wo(14));w[S]=z,y=y||z!==I}return y=y||n.length!==Object.keys(f).length,y?w:f}}function j1(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function WN(...e){return t=>(r,n)=>{const s=t(r,n);let A=()=>{throw new Error(Wo(15))};const f={getState:s.getState,dispatch:(y,...w)=>A(y,...w)},l=e.map(y=>y(f));return A=j1(...l)(s.dispatch),{...s,dispatch:A}}}function KU(e){return y5(e)&&"type"in e&&typeof e.type=="string"}var VU=Symbol.for("immer-nothing"),UE=Symbol.for("immer-draftable"),fA=Symbol.for("immer-state");function Fc(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var xu=Object,zg=xu.getPrototypeOf,K1="constructor",X_="prototype",P2="configurable",V1="enumerable",w1="writable",D0="value",rf=e=>!!e&&!!e[fA];function yh(e){return e?qU(e)||$_(e)||!!e[UE]||!!e[K1]?.[UE]||Z_(e)||W_(e):!1}var YN=xu[X_][K1].toString(),LE=new WeakMap;function qU(e){if(!e||!v5(e))return!1;const t=zg(e);if(t===null||t===xu[X_])return!0;const r=xu.hasOwnProperty.call(t,K1)&&t[K1];if(r===Object)return!0;if(!Bg(r))return!1;let n=LE.get(r);return n===void 0&&(n=Function.toString.call(r),LE.set(r,n)),n===YN}function ay(e,t,r=!0){sy(e)===0?(r?Reflect.ownKeys(e):xu.keys(e)).forEach(s=>{t(s,e[s],e)}):e.forEach((n,s)=>t(s,n,e))}function sy(e){const t=e[fA];return t?t.type_:$_(e)?1:Z_(e)?2:W_(e)?3:0}var ME=(e,t,r=sy(e))=>r===2?e.has(t):xu[X_].hasOwnProperty.call(e,t),O2=(e,t,r=sy(e))=>r===2?e.get(t):e[t],q1=(e,t,r,n=sy(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function JN(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var $_=Array.isArray,Z_=e=>e instanceof Map,W_=e=>e instanceof Set,v5=e=>typeof e=="object",Bg=e=>typeof e=="function",tx=e=>typeof e=="boolean",Vh=e=>e.copy_||e.base_,_5=e=>e.modified_?e.copy_:e.base_;function D2(e,t){if(Z_(e))return new Map(e);if(W_(e))return new Set(e);if($_(e))return Array[X_].slice.call(e);const r=qU(e);if(t===!0||t==="class_only"&&!r){const n=xu.getOwnPropertyDescriptors(e);delete n[fA];let s=Reflect.ownKeys(n);for(let A=0;A<s.length;A++){const f=s[A],l=n[f];l[w1]===!1&&(l[w1]=!0,l[P2]=!0),(l.get||l.set)&&(n[f]={[P2]:!0,[w1]:!0,[V1]:l[V1],[D0]:e[f]})}return xu.create(zg(e),n)}else{const n=zg(e);if(n!==null&&r)return{...e};const s=xu.create(n);return xu.assign(s,e)}}function w5(e,t=!1){return Y_(e)||rf(e)||(sy(e)>1&&xu.defineProperties(e,{set:Tv,add:Tv,clear:Tv,delete:Tv}),xu.freeze(e),t&&ay(e,(r,n)=>{w5(n,!0)},!1)),e}function e8(){Fc(2)}var Tv={[D0]:e8};function Y_(e){return e===null||!v5(e)?!0:xu.isFrozen(e)}var G1="MapSet",k2="Patches",GU={};function Hg(e){const t=GU[e];return t||Fc(0,e),t}var t8=e=>!!GU[e],k0,XU=()=>k0,r8=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:t8(G1)?Hg(G1):void 0});function PE(e,t){t&&(e.patchPlugin_=Hg(k2),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Q2(e){N2(e),e.drafts_.forEach(n8),e.drafts_=null}function N2(e){e===k0&&(k0=e.parent_)}var OE=e=>k0=r8(k0,e);function n8(e){const t=e[fA];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function DE(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[fA].modified_&&(Q2(t),Fc(4)),yh(e)&&(e=kE(t,e));const{patchPlugin_:s}=t;s&&s.generateReplacementPatches_(r[fA].base_,e,t)}else e=kE(t,r);return i8(t,e,!0),Q2(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==VU?e:void 0}function kE(e,t){if(Y_(t))return t;const r=t[fA];if(!r)return b5(t,e.handledSet_,e);if(!J_(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);WU(r,e)}return r.copy_}function i8(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&w5(t,r)}function $U(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var J_=(e,t)=>e.scope_===t,a8=[];function ZU(e,t,r,n){const s=Vh(e),A=e.type_;if(n!==void 0&&O2(s,n,A)===t){q1(s,n,r,A);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;ay(s,(y,w)=>{if(rf(w)){const b=l.get(w)||[];b.push(y),l.set(w,b)}})}const f=e.draftLocations_.get(t)??a8;for(const l of f)q1(s,l,r,A)}function s8(e,t,r){e.callbacks_.push(function(s){const A=t;if(!A||!J_(A,s))return;s.mapSetPlugin_?.fixSetContents(A);const f=_5(A);ZU(e,A.draft_??A,f,r),WU(A,s)})}function WU(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||(e.assigned_?.size??0)>0)){const{patchPlugin_:n}=t;if(n){const s=n.getPath(e);s&&n.generatePatches_(e,s,t)}$U(e)}}function o8(e,t,r){const{scope_:n}=e;if(rf(r)){const s=r[fA];J_(s,n)&&s.callbacks_.push(function(){b1(e);const f=_5(s);ZU(e,r,f,t)})}else yh(r)&&e.callbacks_.push(function(){const A=Vh(e);O2(A,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&b5(O2(e.copy_,t,e.type_),n.handledSet_,n)})}function b5(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||rf(e)||t.has(e)||!yh(e)||Y_(e)||(t.add(e),ay(e,(n,s)=>{if(rf(s)){const A=s[fA];if(J_(A,r)){const f=_5(A);q1(e,n,f,e.type_),$U(A)}}else yh(s)&&b5(s,t,r)})),e}function l8(e,t){const r=$_(e),n={type_:r?1:0,scope_:t?t.scope_:XU(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let s=n,A=x5;r&&(s=[n],A=Q0);const{revoke:f,proxy:l}=Proxy.revocable(s,A);return n.draft_=l,n.revoke_=f,[l,n]}var x5={get(e,t){if(t===fA)return e;const r=Vh(e);if(!ME(r,t,e.type_))return A8(e,r,t);const n=r[t];if(e.finalized_||!yh(n))return n;if(n===rx(e.base_,t)){b1(e);const s=e.type_===1?+t:t,A=z2(e.scope_,n,e,s);return e.copy_[s]=A}return n},has(e,t){return t in Vh(e)},ownKeys(e){return Reflect.ownKeys(Vh(e))},set(e,t,r){const n=YU(Vh(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const s=rx(Vh(e),t),A=s?.[fA];if(A&&A.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(JN(r,s)&&(r!==void 0||ME(e.base_,t,e.type_)))return!0;b1(e),R2(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),o8(e,t,r)),!0},deleteProperty(e,t){return b1(e),rx(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),R2(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Vh(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[w1]:!0,[P2]:e.type_!==1||t!=="length",[V1]:n[V1],[D0]:r[t]}},defineProperty(){Fc(11)},getPrototypeOf(e){return zg(e.base_)},setPrototypeOf(){Fc(12)}},Q0={};ay(x5,(e,t)=>{Q0[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});Q0.deleteProperty=function(e,t){return Q0.set.call(this,e,t,void 0)};Q0.set=function(e,t,r){return x5.set.call(this,e[0],t,r,e[0])};function rx(e,t){const r=e[fA];return(r?Vh(r):e)[t]}function A8(e,t,r){const n=YU(t,r);return n?D0 in n?n[D0]:n.get?.call(e.draft_):void 0}function YU(e,t){if(!(t in e))return;let r=zg(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=zg(r)}}function R2(e){e.modified_||(e.modified_=!0,e.parent_&&R2(e.parent_))}function b1(e){e.copy_||(e.assigned_=new Map,e.copy_=D2(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var u8=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,s)=>{if(Bg(r)&&!Bg(n)){const f=n;n=r;const l=this;return function(w=f,...b){return l.produce(w,S=>n.call(this,S,...b))}}Bg(n)||Fc(6),s!==void 0&&!Bg(s)&&Fc(7);let A;if(yh(r)){const f=OE(this),l=z2(f,r,void 0);let y=!0;try{A=n(l),y=!1}finally{y?Q2(f):N2(f)}return PE(f,s),DE(A,f)}else if(!r||!v5(r)){if(A=n(r),A===void 0&&(A=r),A===VU&&(A=void 0),this.autoFreeze_&&w5(A,!0),s){const f=[],l=[];Hg(k2).generateReplacementPatches_(r,A,{patches_:f,inversePatches_:l}),s(f,l)}return A}else Fc(1,r)},this.produceWithPatches=(r,n)=>{if(Bg(r))return(l,...y)=>this.produceWithPatches(l,w=>r(w,...y));let s,A;return[this.produce(r,n,(l,y)=>{s=l,A=y}),s,A]},tx(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),tx(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),tx(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){yh(t)||Fc(8),rf(t)&&(t=Mc(t));const r=OE(this),n=z2(r,t,void 0);return n[fA].isManual_=!0,N2(r),n}finishDraft(t,r){const n=t&&t[fA];(!n||!n.isManual_)&&Fc(9);const{scope_:s}=n;return PE(s,r),DE(void 0,s)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const A=r[n];if(A.path.length===0&&A.op==="replace"){t=A.value;break}}n>-1&&(r=r.slice(n+1));const s=Hg(k2).applyPatches_;return rf(t)?s(t,r):this.produce(t,A=>s(A,r))}};function z2(e,t,r,n){const[s,A]=Z_(t)?Hg(G1).proxyMap_(t,r):W_(t)?Hg(G1).proxySet_(t,r):l8(t,r);return(r?.scope_??XU()).drafts_.push(s),A.callbacks_=r?.callbacks_??[],A.key_=n,r&&n!==void 0?s8(r,A,n):A.callbacks_.push(function(y){y.mapSetPlugin_?.fixSetContents(A);const{patchPlugin_:w}=y;A.modified_&&w&&w.generatePatches_(A,[],y)}),s}function Mc(e){return rf(e)||Fc(10,e),JU(e)}function JU(e){if(!yh(e)||Y_(e))return e;const t=e[fA];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=D2(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=D2(e,!0);return ay(r,(s,A)=>{q1(r,s,JU(A))},n),t&&(t.finalized_=!1),r}var c8=new u8,eL=c8.produce;function tL(e){return({dispatch:r,getState:n})=>s=>A=>typeof A=="function"?A(r,n,e):s(A)}var h8=tL(),f8=tL,d8=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?j1:j1.apply(null,arguments)};function ic(e,t){function r(...n){if(t){let s=t(...n);if(!s)throw new Error(Cu(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>KU(n)&&n.type===e,r}var rL=class y0 extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,y0.prototype)}static get[Symbol.species](){return y0}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new y0(...t[0].concat(this)):new y0(...t.concat(this))}};function QE(e){return yh(e)?eL(e,()=>{}):e}function Iv(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function p8(e){return typeof e=="boolean"}var g8=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:s=!0,actionCreatorCheck:A=!0}=t??{};let f=new rL;return r&&(p8(r)?f.push(h8):f.push(f8(r.extraArgument))),f},nL="RTK_autoBatch",Oa=()=>e=>({payload:e,meta:{[nL]:!0}}),NE=e=>t=>{setTimeout(t,e)},iL=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let s=!0,A=!1,f=!1;const l=new Set,y=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:NE(10):e.type==="callback"?e.queueNotification:NE(e.timeout),w=()=>{f=!1,A&&(A=!1,l.forEach(b=>b()))};return Object.assign({},n,{subscribe(b){const S=()=>s&&b(),U=n.subscribe(S);return l.add(b),()=>{U(),l.delete(b)}},dispatch(b){try{return s=!b?.meta?.[nL],A=!s,A&&(f||(f=!0,y(w))),n.dispatch(b)}finally{s=!0}}})},m8=e=>function(r){const{autoBatch:n=!0}=r??{};let s=new rL(e);return n&&s.push(iL(typeof n=="object"?n:void 0)),s};function y8(e){const t=g8(),{reducer:r=void 0,middleware:n,devTools:s=!0,preloadedState:A=void 0,enhancers:f=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(y5(r))l=jU(r);else throw new Error(Cu(1));let y;typeof n=="function"?y=n(t):y=t();let w=j1;s&&(w=d8({trace:!1,...typeof s=="object"&&s}));const b=WN(...y),S=m8(b);let U=typeof f=="function"?f(S):S();const I=w(...U);return HU(l,A,I)}function aL(e){const t={},r=[];let n;const s={addCase(A,f){const l=typeof A=="string"?A:A.type;if(!l)throw new Error(Cu(28));if(l in t)throw new Error(Cu(29));return t[l]=f,s},addAsyncThunk(A,f){return f.pending&&(t[A.pending.type]=f.pending),f.rejected&&(t[A.rejected.type]=f.rejected),f.fulfilled&&(t[A.fulfilled.type]=f.fulfilled),f.settled&&r.push({matcher:A.settled,reducer:f.settled}),s},addMatcher(A,f){return r.push({matcher:A,reducer:f}),s},addDefaultCase(A){return n=A,s}};return e(s),[t,r,n]}function v8(e){return typeof e=="function"}function _8(e,t){let[r,n,s]=aL(t),A;if(v8(e))A=()=>QE(e());else{const l=QE(e);A=()=>l}function f(l=A(),y){let w=[r[y.type],...n.filter(({matcher:b})=>b(y)).map(({reducer:b})=>b)];return w.filter(b=>!!b).length===0&&(w=[s]),w.reduce((b,S)=>{if(S)if(rf(b)){const I=S(b,y);return I===void 0?b:I}else{if(yh(b))return eL(b,U=>S(U,y));{const U=S(b,y);if(U===void 0){if(b===null)return b;throw Error("A case reducer on a non-draftable value must not return undefined")}return U}}return b},l)}return f.getInitialState=A,f}var w8="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",b8=(e=21)=>{let t="",r=e;for(;r--;)t+=w8[Math.random()*64|0];return t},x8=Symbol.for("rtk-slice-createasyncthunk");function B8(e,t){return`${e}/${t}`}function C8({creators:e}={}){const t=e?.asyncThunk?.[x8];return function(n){const{name:s,reducerPath:A=s}=n;if(!s)throw new Error(Cu(11));const f=(typeof n.reducers=="function"?n.reducers(E8()):n.reducers)||{},l=Object.keys(f),y={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},w={addCase(W,le){const ce=typeof W=="string"?W:W.type;if(!ce)throw new Error(Cu(12));if(ce in y.sliceCaseReducersByType)throw new Error(Cu(13));return y.sliceCaseReducersByType[ce]=le,w},addMatcher(W,le){return y.sliceMatchers.push({matcher:W,reducer:le}),w},exposeAction(W,le){return y.actionCreators[W]=le,w},exposeCaseReducer(W,le){return y.sliceCaseReducersByName[W]=le,w}};l.forEach(W=>{const le=f[W],ce={reducerName:W,type:B8(s,W),createNotation:typeof n.reducers=="function"};I8(le)?U8(ce,le,w,t):T8(ce,le,w)});function b(){const[W={},le=[],ce=void 0]=typeof n.extraReducers=="function"?aL(n.extraReducers):[n.extraReducers],me={...W,...y.sliceCaseReducersByType};return _8(n.initialState,Ie=>{for(let Fe in me)Ie.addCase(Fe,me[Fe]);for(let Fe of y.sliceMatchers)Ie.addMatcher(Fe.matcher,Fe.reducer);for(let Fe of le)Ie.addMatcher(Fe.matcher,Fe.reducer);ce&&Ie.addDefaultCase(ce)})}const S=W=>W,U=new Map,I=new WeakMap;let z;function H(W,le){return z||(z=b()),z(W,le)}function K(){return z||(z=b()),z.getInitialState()}function V(W,le=!1){function ce(Ie){let Fe=Ie[W];return typeof Fe>"u"&&le&&(Fe=Iv(I,ce,K)),Fe}function me(Ie=S){const Fe=Iv(U,le,()=>new WeakMap);return Iv(Fe,Ie,()=>{const pe={};for(const[ze,ie]of Object.entries(n.selectors??{}))pe[ze]=S8(ie,Ie,()=>Iv(I,Ie,K),le);return pe})}return{reducerPath:W,getSelectors:me,get selectors(){return me(ce)},selectSlice:ce}}const re={name:s,reducer:H,actions:y.actionCreators,caseReducers:y.sliceCaseReducersByName,getInitialState:K,...V(A),injectInto(W,{reducerPath:le,...ce}={}){const me=le??A;return W.inject({reducerPath:me,reducer:H},ce),{...re,...V(me,!0)}}};return re}}function S8(e,t,r,n){function s(A,...f){let l=t(A);return typeof l>"u"&&n&&(l=r()),e(l,...f)}return s.unwrapped=e,s}var XA=C8();function E8(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function T8({type:e,reducerName:t,createNotation:r},n,s){let A,f;if("reducer"in n){if(r&&!F8(n))throw new Error(Cu(17));A=n.reducer,f=n.prepare}else A=n;s.addCase(e,A).exposeCaseReducer(t,A).exposeAction(t,f?ic(e,f):ic(e))}function I8(e){return e._reducerDefinitionType==="asyncThunk"}function F8(e){return e._reducerDefinitionType==="reducerWithPrepare"}function U8({type:e,reducerName:t},r,n,s){if(!s)throw new Error(Cu(18));const{payloadCreator:A,fulfilled:f,pending:l,rejected:y,settled:w,options:b}=r,S=s(e,A,b);n.exposeAction(t,S),f&&n.addCase(S.fulfilled,f),l&&n.addCase(S.pending,l),y&&n.addCase(S.rejected,y),w&&n.addMatcher(S.settled,w),n.exposeCaseReducer(t,{fulfilled:f||Fv,pending:l||Fv,rejected:y||Fv,settled:w||Fv})}function Fv(){}var L8="task",sL="listener",oL="completed",B5="cancelled",M8=`task-${B5}`,P8=`task-${oL}`,H2=`${sL}-${B5}`,O8=`${sL}-${oL}`,ew=class{constructor(e){this.code=e,this.message=`${L8} ${B5} (reason: ${e})`}name="TaskAbortError";message},C5=(e,t)=>{if(typeof e!="function")throw new TypeError(Cu(32))},X1=()=>{},lL=(e,t=X1)=>(e.catch(t),e),AL=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),gp=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},mp=e=>{if(e.aborted){const{reason:t}=e;throw new ew(t)}};function uL(e,t){let r=X1;return new Promise((n,s)=>{const A=()=>s(new ew(e.reason));if(e.aborted){A();return}r=AL(e,A),t.finally(()=>r()).then(n,s)}).finally(()=>{r=X1})}var D8=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof ew?"cancelled":"rejected",error:r}}finally{t?.()}},$1=e=>t=>lL(uL(e,t).then(r=>(mp(e),r))),cL=e=>{const t=$1(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Mg}=Object,RE={},tw="listenerMiddleware",k8=(e,t)=>{const r=n=>AL(e,()=>gp(n,e.reason));return(n,s)=>{C5(n);const A=new AbortController;r(A);const f=D8(async()=>{mp(e),mp(A.signal);const l=await n({pause:$1(A.signal),delay:cL(A.signal),signal:A.signal});return mp(A.signal),l},()=>gp(A,P8));return s?.autoJoin&&t.push(f.catch(X1)),{result:$1(e)(f),cancel(){gp(A,M8)}}}},Q8=(e,t)=>{const r=async(n,s)=>{mp(t);let A=()=>{};const l=[new Promise((y,w)=>{let b=e({predicate:n,effect:(S,U)=>{U.unsubscribe(),y([S,U.getState(),U.getOriginalState()])}});A=()=>{b(),w()}})];s!=null&&l.push(new Promise(y=>setTimeout(y,s,null)));try{const y=await uL(t,Promise.race(l));return mp(t),y}finally{A()}};return(n,s)=>lL(r(n,s))},hL=e=>{let{type:t,actionCreator:r,matcher:n,predicate:s,effect:A}=e;if(t)s=ic(t).match;else if(r)t=r.type,s=r.match;else if(n)s=n;else if(!s)throw new Error(Cu(21));return C5(A),{predicate:s,type:t,effect:A}},fL=Mg(e=>{const{type:t,predicate:r,effect:n}=hL(e);return{id:b8(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Cu(22))}}},{withTypes:()=>fL}),zE=(e,t)=>{const{type:r,effect:n,predicate:s}=hL(t);return Array.from(e.values()).find(A=>(typeof r=="string"?A.type===r:A.predicate===s)&&A.effect===n)},j2=e=>{e.pending.forEach(t=>{gp(t,H2)})},N8=(e,t)=>()=>{for(const r of t.keys())j2(r);e.clear()},HE=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},dL=Mg(ic(`${tw}/add`),{withTypes:()=>dL}),R8=ic(`${tw}/removeAll`),pL=Mg(ic(`${tw}/remove`),{withTypes:()=>pL}),z8=(...e)=>{console.error(`${tw}/error`,...e)},oy=(e={})=>{const t=new Map,r=new Map,n=I=>{const z=r.get(I)??0;r.set(I,z+1)},s=I=>{const z=r.get(I)??1;z===1?r.delete(I):r.set(I,z-1)},{extra:A,onError:f=z8}=e;C5(f);const l=I=>(I.unsubscribe=()=>t.delete(I.id),t.set(I.id,I),z=>{I.unsubscribe(),z?.cancelActive&&j2(I)}),y=I=>{const z=zE(t,I)??fL(I);return l(z)};Mg(y,{withTypes:()=>y});const w=I=>{const z=zE(t,I);return z&&(z.unsubscribe(),I.cancelActive&&j2(z)),!!z};Mg(w,{withTypes:()=>w});const b=async(I,z,H,K)=>{const V=new AbortController,re=Q8(y,V.signal),W=[];try{I.pending.add(V),n(I),await Promise.resolve(I.effect(z,Mg({},H,{getOriginalState:K,condition:(le,ce)=>re(le,ce).then(Boolean),take:re,delay:cL(V.signal),pause:$1(V.signal),extra:A,signal:V.signal,fork:k8(V.signal,W),unsubscribe:I.unsubscribe,subscribe:()=>{t.set(I.id,I)},cancelActiveListeners:()=>{I.pending.forEach((le,ce,me)=>{le!==V&&(gp(le,H2),me.delete(le))})},cancel:()=>{gp(V,H2),I.pending.delete(V)},throwIfCancelled:()=>{mp(V.signal)}})))}catch(le){le instanceof ew||HE(f,le,{raisedBy:"effect"})}finally{await Promise.all(W),gp(V,O8),s(I),I.pending.delete(V)}},S=N8(t,r);return{middleware:I=>z=>H=>{if(!KU(H))return z(H);if(dL.match(H))return y(H.payload);if(R8.match(H)){S();return}if(pL.match(H))return w(H.payload);let K=I.getState();const V=()=>{if(K===RE)throw new Error(Cu(23));return K};let re;try{if(re=z(H),t.size>0){const W=I.getState(),le=Array.from(t.values());for(const ce of le){let me=!1;try{me=ce.predicate(H,W,K)}catch(Ie){me=!1,HE(f,Ie,{raisedBy:"predicate"})}me&&b(ce,H,I,V)}}}finally{K=RE}return re},startListening:y,stopListening:w,clearListeners:S}};function Cu(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var H8={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},gL=XA({name:"chartLayout",initialState:H8,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,s,A;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(s=t.payload.bottom)!==null&&s!==void 0?s:0,e.margin.left=(A=t.payload.left)!==null&&A!==void 0?A:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:j8,setLayout:K8,setChartSize:V8,setScale:q8}=gL.actions,G8=gL.reducer;function mL(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function jE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ig(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jE(Object(r),!0).forEach(function(n){X8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function X8(e,t,r){return(t=$8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $8(e){var t=Z8(e,"string");return typeof t=="symbol"?t:t+""}function Z8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ql(e,t,r){return Uo(e)||Uo(t)?r:mh(t)?q_(e,t,r):typeof t=="function"?t(e):r}var W8=(e,t,r)=>{if(t&&r){var{width:n,height:s}=r,{align:A,verticalAlign:f,layout:l}=t;if((l==="vertical"||l==="horizontal"&&f==="middle")&&A!=="center"&&Yr(e[A]))return Ig(Ig({},e),{},{[A]:e[A]+(n||0)});if((l==="horizontal"||l==="vertical"&&A==="center")&&f!=="middle"&&Yr(e[f]))return Ig(Ig({},e),{},{[f]:e[f]+(s||0)})}return e},yd=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",yL=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var s,A,f=e.map(l=>(l.coordinate===t&&(s=!0),l.coordinate===r&&(A=!0),l.coordinate));return s||f.push(t),A||f.push(r),f},vL=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:s,range:A,scale:f,realScaleType:l,isCategorical:y,categoricalDomain:w,tickCount:b,ticks:S,niceTicks:U,axisType:I}=e;if(!f)return null;var z=l==="scaleBand"&&f.bandwidth?f.bandwidth()/2:2,H=s==="category"&&f.bandwidth?f.bandwidth()/z:0;if(H=I==="angleAxis"&&A&&A.length>=2?ec(A[0]-A[1])*2*H:H,S||U){var K=(S||U||[]).map((V,re)=>{var W=n?n.indexOf(V):V;return{coordinate:f(W)+H,value:V,offset:H,index:re}});return K.filter(V=>!gh(V.coordinate))}return y&&w?w.map((V,re)=>({coordinate:f(V)+H,value:V,index:re,offset:H})):f.ticks&&b!=null?f.ticks(b).map((V,re)=>({coordinate:f(V)+H,value:V,offset:H,index:re})):f.domain().map((V,re)=>({coordinate:f(V)+H,value:n?n[V]:V,index:re,offset:H}))},KE=1e-4,Y8=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),s=Math.min(n[0],n[1])-KE,A=Math.max(n[0],n[1])+KE,f=e(t[0]),l=e(t[r-1]);(f<s||f>A||l<s||l>A)&&e.domain([t[0],t[r-1]])}},J8=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,A=0,f=0;f<t;++f){var l=gh(e[f][r][1])?e[f][r][0]:e[f][r][1];l>=0?(e[f][r][0]=s,e[f][r][1]=s+l,s=e[f][r][1]):(e[f][r][0]=A,e[f][r][1]=A+l,A=e[f][r][1])}},eR=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,A=0;A<t;++A){var f=gh(e[A][r][1])?e[A][r][0]:e[A][r][1];f>=0?(e[A][r][0]=s,e[A][r][1]=s+f,s=e[A][r][1]):(e[A][r][0]=0,e[A][r][1]=0)}},tR={sign:J8,expand:bQ,none:Rg,silhouette:xQ,wiggle:BQ,positive:eR},rR=(e,t,r)=>{var n=tR[r],s=wQ().keys(t).value((A,f)=>Number(Ql(A,f,0))).order(L2).offset(n);return s(e)};function VE(e){var{axis:t,ticks:r,bandSize:n,entry:s,index:A,dataKey:f}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Uo(s[t.dataKey])){var l=xU(r,"value",s[t.dataKey]);if(l)return l.coordinate+n/2}return r[A]?r[A].coordinate+n/2:null}var y=Ql(s,Uo(f)?t.dataKey:f);return Uo(y)?null:t.scale(y)}var nR=e=>{var t=e.flat(2).filter(Yr);return[Math.min(...t),Math.max(...t)]},iR=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],aR=(e,t,r)=>{if(e!=null)return iR(Object.keys(e).reduce((n,s)=>{var A=e[s],{stackedData:f}=A,l=f.reduce((y,w)=>{var b=mL(w,t,r),S=nR(b);return[Math.min(y[0],S[0]),Math.max(y[1],S[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},qE=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,GE=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Z1=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var s=G_(t,b=>b.coordinate),A=1/0,f=1,l=s.length;f<l;f++){var y=s[f],w=s[f-1];A=Math.min((y.coordinate||0)-(w.coordinate||0),A)}return A===1/0?0:A}return r?void 0:0};function XE(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:s,name:A}=e;return Ig(Ig({},t),{},{dataKey:r,payload:n,value:s,name:A})}function _L(e,t){if(e)return String(e);if(typeof t=="string")return t}var sR=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},oR=(e,t)=>t==="centric"?e.angle:e.radius,Af=e=>e.layout.width,uf=e=>e.layout.height,lR=e=>e.layout.scale,wL=e=>e.layout.margin,rw=Mt(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),nw=Mt(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),AR="data-recharts-item-index",uR="data-recharts-item-data-key",ly=60;function $E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Uv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$E(Object(r),!0).forEach(function(n){cR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$E(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cR(e,t,r){return(t=hR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hR(e){var t=fR(e,"string");return typeof t=="symbol"?t:t+""}function fR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dR=e=>e.brush.height;function pR(e){var t=nw(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var s=typeof n.width=="number"?n.width:ly;return r+s}return r},0)}function gR(e){var t=nw(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var s=typeof n.width=="number"?n.width:ly;return r+s}return r},0)}function mR(e){var t=rw(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function yR(e){var t=rw(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var tl=Mt([Af,uf,wL,dR,pR,gR,mR,yR,RU,KN],(e,t,r,n,s,A,f,l,y,w)=>{var b={left:(r.left||0)+s,right:(r.right||0)+A},S={top:(r.top||0)+f,bottom:(r.bottom||0)+l},U=Uv(Uv({},S),b),I=U.bottom;U.bottom+=n,U=W8(U,y,w);var z=e-U.left-U.right,H=t-U.top-U.bottom;return Uv(Uv({brushBottom:I},U),{},{width:Math.max(z,0),height:Math.max(H,0)})}),vR=Mt(tl,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),bL=Mt(Af,uf,(e,t)=>({x:0,y:0,width:e,height:t})),_R=se.createContext(null),$A=()=>se.useContext(_R)!=null,iw=e=>e.brush,aw=Mt([iw,tl,wL],(e,t,r)=>({height:e.height,x:Yr(e.x)?e.x:t.left,y:Yr(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:Yr(e.width)?e.width:t.width})),nx={},ix={},ax={},ZE;function wR(){return ZE||(ZE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:s,edges:A}={}){let f,l=null;const y=A!=null&&A.includes("leading"),w=A==null||A.includes("trailing"),b=()=>{l!==null&&(r.apply(f,l),f=void 0,l=null)},S=()=>{w&&b(),H()};let U=null;const I=()=>{U!=null&&clearTimeout(U),U=setTimeout(()=>{U=null,S()},n)},z=()=>{U!==null&&(clearTimeout(U),U=null)},H=()=>{z(),f=void 0,l=null},K=()=>{b()},V=function(...re){if(s?.aborted)return;f=this,l=re;const W=U==null;I(),y&&W&&b()};return V.schedule=I,V.cancel=H,V.flush=K,s?.addEventListener("abort",H,{once:!0}),V}e.debounce=t})(ax)),ax}var WE;function bR(){return WE||(WE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wR();function r(n,s=0,A={}){typeof A!="object"&&(A={});const{leading:f=!1,trailing:l=!0,maxWait:y}=A,w=Array(2);f&&(w[0]="leading"),l&&(w[1]="trailing");let b,S=null;const U=t.debounce(function(...H){b=n.apply(this,H),S=null},s,{edges:w}),I=function(...H){return y!=null&&(S===null&&(S=Date.now()),Date.now()-S>=y)?(b=n.apply(this,H),S=Date.now(),U.cancel(),U.schedule(),b):(U.apply(this,H),b)},z=()=>(U.flush(),b);return I.cancel=U.cancel,I.flush=z,I}e.debounce=r})(ix)),ix}var YE;function xR(){return YE||(YE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bR();function r(n,s=0,A={}){const{leading:f=!0,trailing:l=!0}=A;return t.debounce(n,s,{leading:f,maxWait:s,trailing:l})}e.throttle=r})(nx)),nx}var sx,JE;function BR(){return JE||(JE=1,sx=xR().throttle),sx}var CR=BR();const SR=wh(CR);var W1=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),A=2;A<n;A++)s[A-2]=arguments[A];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=0;console.warn(r.replace(/%s/g,()=>s[f++]))}},xL=(e,t,r)=>{var{width:n="100%",height:s="100%",aspect:A,maxHeight:f}=r,l=tf(n)?e:Number(n),y=tf(s)?t:Number(s);return A&&A>0&&(l?y=l/A:y&&(l=y*A),f&&y!=null&&y>f&&(y=f)),{calculatedWidth:l,calculatedHeight:y}},ER={width:0,height:0,overflow:"visible"},TR={width:0,overflowX:"visible"},IR={height:0,overflowY:"visible"},FR={},UR=e=>{var{width:t,height:r}=e,n=tf(t),s=tf(r);return n&&s?ER:n?TR:s?IR:FR};function LR(e){var{width:t,height:r,aspect:n}=e,s=t,A=r;return s===void 0&&A===void 0?(s="100%",A="100%"):s===void 0?s=n&&n>0?void 0:"100%":A===void 0&&(A=n&&n>0?void 0:"100%"),{width:s,height:A}}function Lo(e){return Number.isFinite(e)}function vh(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function K2(){return K2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},K2.apply(null,arguments)}function e4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function t4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e4(Object(r),!0).forEach(function(n){MR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MR(e,t,r){return(t=PR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PR(e){var t=OR(e,"string");return typeof t=="symbol"?t:t+""}function OR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BL=se.createContext({width:-1,height:-1});function DR(e){return vh(e.width)&&vh(e.height)}function CL(e){var{children:t,width:r,height:n}=e,s=se.useMemo(()=>({width:r,height:n}),[r,n]);return DR(s)?se.createElement(BL.Provider,{value:s},t):null}var S5=()=>se.useContext(BL),kR=se.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:s,height:A,minWidth:f=0,minHeight:l,maxHeight:y,children:w,debounce:b=0,id:S,className:U,onResize:I,style:z={}}=e,H=se.useRef(null),K=se.useRef();K.current=I,se.useImperativeHandle(t,()=>H.current);var[V,re]=se.useState({containerWidth:n.width,containerHeight:n.height}),W=se.useCallback((Fe,pe)=>{re(ze=>{var ie=Math.round(Fe),de=Math.round(pe);return ze.containerWidth===ie&&ze.containerHeight===de?ze:{containerWidth:ie,containerHeight:de}})},[]);se.useEffect(()=>{if(H.current==null||typeof ResizeObserver>"u")return iy;var Fe=de=>{var ve,{width:_e,height:tt}=de[0].contentRect;W(_e,tt),(ve=K.current)===null||ve===void 0||ve.call(K,_e,tt)};b>0&&(Fe=SR(Fe,b,{trailing:!0,leading:!1}));var pe=new ResizeObserver(Fe),{width:ze,height:ie}=H.current.getBoundingClientRect();return W(ze,ie),pe.observe(H.current),()=>{pe.disconnect()}},[W,b]);var{containerWidth:le,containerHeight:ce}=V;W1(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:me,calculatedHeight:Ie}=xL(le,ce,{width:s,height:A,aspect:r,maxHeight:y});return W1(me!=null&&me>0||Ie!=null&&Ie>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,me,Ie,s,A,f,l,r),se.createElement("div",{id:S?"".concat(S):void 0,className:Xi("recharts-responsive-container",U),style:t4(t4({},z),{},{width:s,height:A,minWidth:f,minHeight:l,maxHeight:y}),ref:H},se.createElement("div",{style:UR({width:s,height:A})},se.createElement(CL,{width:me,height:Ie},w)))}),SL=se.forwardRef((e,t)=>{var r=S5();if(vh(r.width)&&vh(r.height))return e.children;var{width:n,height:s}=LR({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:A,calculatedHeight:f}=xL(void 0,void 0,{width:n,height:s,aspect:e.aspect,maxHeight:e.maxHeight});return Yr(A)&&Yr(f)?se.createElement(CL,{width:A,height:f},e.children):se.createElement(kR,K2({},e,{width:n,height:s,ref:t}))});function EL(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var sw=()=>{var e,t=$A(),r=Xr(vR),n=Xr(aw),s=(e=Xr(iw))===null||e===void 0?void 0:e.padding;return!t||!n||!s?r:{width:n.width-s.left-s.right,height:n.height-s.top-s.bottom,x:s.left,y:s.top}},QR={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},TL=()=>{var e;return(e=Xr(tl))!==null&&e!==void 0?e:QR},E5=()=>Xr(Af),T5=()=>Xr(uf),NR=()=>Xr(e=>e.layout.margin),Ca=e=>e.layout.layoutType,ow=()=>Xr(Ca),RR=()=>{var e=ow();return e!==void 0},lw=e=>{var t=zs(),r=$A(),{width:n,height:s}=e,A=S5(),f=n,l=s;return A&&(f=A.width>0?A.width:n,l=A.height>0?A.height:s),se.useEffect(()=>{!r&&vh(f)&&vh(l)&&t(V8({width:f,height:l}))},[t,r,f,l]),null},IL=Symbol.for("immer-nothing"),r4=Symbol.for("immer-draftable"),Su=Symbol.for("immer-state");function Uc(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var N0=Object.getPrototypeOf;function jg(e){return!!e&&!!e[Su]}function xp(e){return e?FL(e)||Array.isArray(e)||!!e[r4]||!!e.constructor?.[r4]||Ay(e)||uw(e):!1}var zR=Object.prototype.constructor.toString(),n4=new WeakMap;function FL(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=n4.get(r);return n===void 0&&(n=Function.toString.call(r),n4.set(r,n)),n===zR}function Y1(e,t,r=!0){Aw(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(s=>{t(s,e[s],e)}):e.forEach((n,s)=>t(s,n,e))}function Aw(e){const t=e[Su];return t?t.type_:Array.isArray(e)?1:Ay(e)?2:uw(e)?3:0}function V2(e,t){return Aw(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function UL(e,t,r){const n=Aw(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function HR(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Ay(e){return e instanceof Map}function uw(e){return e instanceof Set}function sp(e){return e.copy_||e.base_}function q2(e,t){if(Ay(e))return new Map(e);if(uw(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=FL(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Su];let s=Reflect.ownKeys(n);for(let A=0;A<s.length;A++){const f=s[A],l=n[f];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[f]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[f]})}return Object.create(N0(e),n)}else{const n=N0(e);if(n!==null&&r)return{...e};const s=Object.create(n);return Object.assign(s,e)}}function I5(e,t=!1){return cw(e)||jg(e)||!xp(e)||(Aw(e)>1&&Object.defineProperties(e,{set:Lv,add:Lv,clear:Lv,delete:Lv}),Object.freeze(e),t&&Object.values(e).forEach(r=>I5(r,!0))),e}function jR(){Uc(2)}var Lv={value:jR};function cw(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var KR={};function Bp(e){const t=KR[e];return t||Uc(0,e),t}var R0;function LL(){return R0}function VR(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function i4(e,t){t&&(Bp("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function G2(e){X2(e),e.drafts_.forEach(qR),e.drafts_=null}function X2(e){e===R0&&(R0=e.parent_)}function a4(e){return R0=VR(R0,e)}function qR(e){const t=e[Su];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function s4(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Su].modified_&&(G2(t),Uc(4)),xp(e)&&(e=J1(t,e),t.parent_||e_(t,e)),t.patches_&&Bp("Patches").generateReplacementPatches_(r[Su].base_,e,t.patches_,t.inversePatches_)):e=J1(t,r,[]),G2(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==IL?e:void 0}function J1(e,t,r){if(cw(t))return t;const n=e.immer_.shouldUseStrictIteration(),s=t[Su];if(!s)return Y1(t,(A,f)=>o4(e,s,t,A,f,r),n),t;if(s.scope_!==e)return t;if(!s.modified_)return e_(e,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const A=s.copy_;let f=A,l=!1;s.type_===3&&(f=new Set(A),A.clear(),l=!0),Y1(f,(y,w)=>o4(e,s,A,y,w,r,l),n),e_(e,A,!1),r&&e.patches_&&Bp("Patches").generatePatches_(s,r,e.patches_,e.inversePatches_)}return s.copy_}function o4(e,t,r,n,s,A,f){if(s==null||typeof s!="object"&&!f)return;const l=cw(s);if(!(l&&!f)){if(jg(s)){const y=A&&t&&t.type_!==3&&!V2(t.assigned_,n)?A.concat(n):void 0,w=J1(e,s,y);if(UL(r,n,w),jg(w))e.canAutoFreeze_=!1;else return}else f&&r.add(s);if(xp(s)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===s&&l)return;J1(e,s),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Ay(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&e_(e,s)}}}function e_(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&I5(t,r)}function GR(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:LL(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=n,A=F5;r&&(s=[n],A=z0);const{revoke:f,proxy:l}=Proxy.revocable(s,A);return n.draft_=l,n.revoke_=f,l}var F5={get(e,t){if(t===Su)return e;const r=sp(e);if(!V2(r,t))return XR(e,r,t);const n=r[t];return e.finalized_||!xp(n)?n:n===ox(e.base_,t)?(lx(e),e.copy_[t]=Z2(n,e)):n},has(e,t){return t in sp(e)},ownKeys(e){return Reflect.ownKeys(sp(e))},set(e,t,r){const n=ML(sp(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const s=ox(sp(e),t),A=s?.[Su];if(A&&A.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(HR(r,s)&&(r!==void 0||V2(e.base_,t)))return!0;lx(e),$2(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return ox(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,lx(e),$2(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=sp(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Uc(11)},getPrototypeOf(e){return N0(e.base_)},setPrototypeOf(){Uc(12)}},z0={};Y1(F5,(e,t)=>{z0[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});z0.deleteProperty=function(e,t){return z0.set.call(this,e,t,void 0)};z0.set=function(e,t,r){return F5.set.call(this,e[0],t,r,e[0])};function ox(e,t){const r=e[Su];return(r?sp(r):e)[t]}function XR(e,t,r){const n=ML(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function ML(e,t){if(!(t in e))return;let r=N0(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=N0(r)}}function $2(e){e.modified_||(e.modified_=!0,e.parent_&&$2(e.parent_))}function lx(e){e.copy_||(e.copy_=q2(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var $R=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const A=r;r=t;const f=this;return function(y=A,...w){return f.produce(y,b=>r.call(this,b,...w))}}typeof r!="function"&&Uc(6),n!==void 0&&typeof n!="function"&&Uc(7);let s;if(xp(t)){const A=a4(this),f=Z2(t,void 0);let l=!0;try{s=r(f),l=!1}finally{l?G2(A):X2(A)}return i4(A,n),s4(s,A)}else if(!t||typeof t!="object"){if(s=r(t),s===void 0&&(s=t),s===IL&&(s=void 0),this.autoFreeze_&&I5(s,!0),n){const A=[],f=[];Bp("Patches").generateReplacementPatches_(t,s,A,f),n(A,f)}return s}else Uc(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(f,...l)=>this.produceWithPatches(f,y=>t(y,...l));let n,s;return[this.produce(t,r,(f,l)=>{n=f,s=l}),n,s]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){xp(e)||Uc(8),jg(e)&&(e=ZR(e));const t=a4(this),r=Z2(e,void 0);return r[Su].isManual_=!0,X2(t),r}finishDraft(e,t){const r=e&&e[Su];(!r||!r.isManual_)&&Uc(9);const{scope_:n}=r;return i4(n,t),s4(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const s=t[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(t=t.slice(r+1));const n=Bp("Patches").applyPatches_;return jg(e)?n(e,t):this.produce(e,s=>n(s,t))}};function Z2(e,t){const r=Ay(e)?Bp("MapSet").proxyMap_(e,t):uw(e)?Bp("MapSet").proxySet_(e,t):GR(e,t);return(t?t.scope_:LL()).drafts_.push(r),r}function ZR(e){return jg(e)||Uc(10,e),PL(e)}function PL(e){if(!xp(e)||cw(e))return e;const t=e[Su];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=q2(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=q2(e,!0);return Y1(r,(s,A)=>{UL(r,s,PL(A))},n),t&&(t.finalized_=!1),r}var WR=new $R;WR.produce;var YR={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},OL=XA({name:"legend",initialState:YR,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Oa()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,s=Mc(e).payload.indexOf(r);s>-1&&(e.payload[s]=n)},prepare:Oa()},removeLegendPayload:{reducer(e,t){var r=Mc(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Oa()}}}),{setLegendSize:l4,setLegendSettings:JR,addLegendPayload:ez,replaceLegendPayload:tz,removeLegendPayload:rz}=OL.actions,nz=OL.reducer,iz=["contextPayload"];function W2(){return W2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},W2.apply(null,arguments)}function A4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Kg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A4(Object(r),!0).forEach(function(n){az(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function az(e,t,r){return(t=sz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sz(e){var t=oz(e,"string");return typeof t=="symbol"?t:t+""}function oz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lz(e,t){if(e==null)return{};var r,n,s=Az(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Az(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function uz(e){return e.value}function cz(e){var{contextPayload:t}=e,r=lz(e,iz),n=DU(t,e.payloadUniqBy,uz),s=Kg(Kg({},r),{},{payload:n});return se.isValidElement(e.content)?se.cloneElement(e.content,s):typeof e.content=="function"?se.createElement(e.content,s):se.createElement(JQ,s)}function hz(e,t,r,n,s,A){var{layout:f,align:l,verticalAlign:y}=t,w,b;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&f==="vertical"?w={left:((n||0)-A.width)/2}:w=l==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(y==="middle"?b={top:((s||0)-A.height)/2}:b=y==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Kg(Kg({},w),b)}function fz(e){var t=zs();return se.useEffect(()=>{t(JR(e))},[t,e]),null}function dz(e){var t=zs();return se.useEffect(()=>(t(l4(e)),()=>{t(l4({width:0,height:0}))}),[t,e]),null}function pz(e,t,r,n){return e==="vertical"&&Yr(t)?{height:t}:e==="horizontal"?{width:r||n}:null}var gz={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function DL(e){var t=Nl(e,gz),r=GN(),n=Vk(),s=NR(),{width:A,height:f,wrapperStyle:l,portal:y}=t,[w,b]=zU([r]),S=E5(),U=T5();if(S==null||U==null)return null;var I=S-(s?.left||0)-(s?.right||0),z=pz(t.layout,f,A,I),H=y?l:Kg(Kg({position:"absolute",width:z?.width||A||"auto",height:z?.height||f||"auto"},hz(l,t,s,S,U,w)),l),K=y??n;if(K==null||r==null)return null;var V=se.createElement("div",{className:"recharts-legend-wrapper",style:H,ref:b},se.createElement(fz,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!y&&se.createElement(dz,{width:w.width,height:w.height}),se.createElement(cz,W2({},t,z,{margin:s,chartWidth:S,chartHeight:U,contextPayload:r})));return o5.createPortal(V,K)}DL.displayName="Legend";function Y2(){return Y2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Y2.apply(null,arguments)}function u4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ax(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u4(Object(r),!0).forEach(function(n){mz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mz(e,t,r){return(t=yz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yz(e){var t=vz(e,"string");return typeof t=="symbol"?t:t+""}function vz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _z(e){return Array.isArray(e)&&mh(e[0])&&mh(e[1])?e.join(" ~ "):e}var wz=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:s={},payload:A,formatter:f,itemSorter:l,wrapperClassName:y,labelClassName:w,label:b,labelFormatter:S,accessibilityLayer:U=!1}=e,I=()=>{if(A&&A.length){var ce={padding:0,margin:0},me=(l?G_(A,l):A).map((Ie,Fe)=>{if(Ie.type==="none")return null;var pe=Ie.formatter||f||_z,{value:ze,name:ie}=Ie,de=ze,ve=ie;if(pe){var _e=pe(ze,ie,Ie,Fe,A);if(Array.isArray(_e))[de,ve]=_e;else if(_e!=null)de=_e;else return null}var tt=Ax({display:"block",paddingTop:4,paddingBottom:4,color:Ie.color||"#000"},n);return se.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Fe),style:tt},mh(ve)?se.createElement("span",{className:"recharts-tooltip-item-name"},ve):null,mh(ve)?se.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,se.createElement("span",{className:"recharts-tooltip-item-value"},de),se.createElement("span",{className:"recharts-tooltip-item-unit"},Ie.unit||""))});return se.createElement("ul",{className:"recharts-tooltip-item-list",style:ce},me)}return null},z=Ax({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),H=Ax({margin:0},s),K=!Uo(b),V=K?b:"",re=Xi("recharts-default-tooltip",y),W=Xi("recharts-tooltip-label",w);K&&S&&A!==void 0&&A!==null&&(V=S(b,A));var le=U?{role:"status","aria-live":"assertive"}:{};return se.createElement("div",Y2({className:re,style:z},le),se.createElement("p",{className:W,style:H},se.isValidElement(V)?V:"".concat(V)),I())},a0="recharts-tooltip-wrapper",bz={visibility:"hidden"};function xz(e){var{coordinate:t,translateX:r,translateY:n}=e;return Xi(a0,{["".concat(a0,"-right")]:Yr(r)&&t&&Yr(t.x)&&r>=t.x,["".concat(a0,"-left")]:Yr(r)&&t&&Yr(t.x)&&r<t.x,["".concat(a0,"-bottom")]:Yr(n)&&t&&Yr(t.y)&&n>=t.y,["".concat(a0,"-top")]:Yr(n)&&t&&Yr(t.y)&&n<t.y})}function c4(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:s,position:A,reverseDirection:f,tooltipDimension:l,viewBox:y,viewBoxDimension:w}=e;if(A&&Yr(A[n]))return A[n];var b=r[n]-l-(s>0?s:0),S=r[n]+s;if(t[n])return f[n]?b:S;var U=y[n];if(U==null)return 0;if(f[n]){var I=b,z=U;return I<z?Math.max(S,U):Math.max(b,U)}if(w==null)return 0;var H=S+l,K=U+w;return H>K?Math.max(b,U):Math.max(S,U)}function Bz(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Cz(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:s,reverseDirection:A,tooltipBox:f,useTranslate3d:l,viewBox:y}=e,w,b,S;return f.height>0&&f.width>0&&r?(b=c4({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:A,tooltipDimension:f.width,viewBox:y,viewBoxDimension:y.width}),S=c4({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:A,tooltipDimension:f.height,viewBox:y,viewBoxDimension:y.height}),w=Bz({translateX:b,translateY:S,useTranslate3d:l})):w=bz,{cssProperties:w,cssClasses:xz({translateX:b,translateY:S,coordinate:r})}}function h4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Mv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h4(Object(r),!0).forEach(function(n){J2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function J2(e,t,r){return(t=Sz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sz(e){var t=Ez(e,"string");return typeof t=="symbol"?t:t+""}function Ez(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Tz extends se.PureComponent{constructor(){super(...arguments),J2(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),J2(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,s,A;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(s=(A=this.props.coordinate)===null||A===void 0?void 0:A.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:s,children:A,coordinate:f,hasPayload:l,isAnimationActive:y,offset:w,position:b,reverseDirection:S,useTranslate3d:U,viewBox:I,wrapperStyle:z,lastBoundingBox:H,innerRef:K,hasPortalFromProps:V}=this.props,{cssClasses:re,cssProperties:W}=Cz({allowEscapeViewBox:r,coordinate:f,offsetTopLeft:w,position:b,reverseDirection:S,tooltipBox:{height:H.height,width:H.width},useTranslate3d:U,viewBox:I}),le=V?{}:Mv(Mv({transition:y&&t?"transform ".concat(n,"ms ").concat(s):void 0},W),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),ce=Mv(Mv({},le),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},z);return se.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:re,style:ce,ref:K},A)}}var Iz=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Zg={devToolsEnabled:!1,isSsr:Iz()},kL=()=>{var e;return(e=Xr(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function eB(){return eB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eB.apply(null,arguments)}function f4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function d4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f4(Object(r),!0).forEach(function(n){Fz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fz(e,t,r){return(t=Uz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uz(e){var t=Lz(e,"string");return typeof t=="symbol"?t:t+""}function Lz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var p4={curveBasisClosed:uQ,curveBasisOpen:cQ,curveBasis:AQ,curveBumpX:$k,curveBumpY:Zk,curveLinearClosed:hQ,curveLinear:K_,curveMonotoneX:fQ,curveMonotoneY:dQ,curveNatural:pQ,curveStep:gQ,curveStepAfter:yQ,curveStepBefore:mQ},t_=e=>Lo(e.x)&&Lo(e.y),g4=e=>e.base!=null&&t_(e.base)&&t_(e),s0=e=>e.x,o0=e=>e.y,Mz=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(ny(e));return(r==="curveMonotone"||r==="curveBump")&&t?p4["".concat(r).concat(t==="vertical"?"Y":"X")]:p4[r]||K_},Pz=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:s,connectNulls:A=!1}=e,f=Mz(t,s),l=A?r.filter(t_):r,y;if(Array.isArray(n)){var w=r.map((I,z)=>d4(d4({},I),{},{base:n[z]}));s==="vertical"?y=Cv().y(o0).x1(s0).x0(I=>I.base.x):y=Cv().x(s0).y1(o0).y0(I=>I.base.y);var b=y.defined(g4).curve(f),S=A?w.filter(g4):w;return b(S)}s==="vertical"&&Yr(n)?y=Cv().y(o0).x1(s0).x0(n):Yr(n)?y=Cv().x(s0).y1(o0).y0(n):y=uU().x(s0).y(o0);var U=y.defined(t_).curve(f);return U(l)},QL=e=>{var{className:t,points:r,path:n,pathRef:s}=e;if((!r||!r.length)&&!n)return null;var A=r&&r.length?Pz(e):n;return se.createElement("path",eB({},ph(e),p5(e),{className:Xi("recharts-curve",t),d:A===null?void 0:A,ref:s}))},Oz=["x","y","top","left","width","height","className"];function tB(){return tB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tB.apply(null,arguments)}function m4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Dz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m4(Object(r),!0).forEach(function(n){kz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kz(e,t,r){return(t=Qz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qz(e){var t=Nz(e,"string");return typeof t=="symbol"?t:t+""}function Nz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rz(e,t){if(e==null)return{};var r,n,s=zz(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function zz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Hz=(e,t,r,n,s,A)=>"M".concat(e,",").concat(s,"v").concat(n,"M").concat(A,",").concat(t,"h").concat(r),jz=e=>{var{x:t=0,y:r=0,top:n=0,left:s=0,width:A=0,height:f=0,className:l}=e,y=Rz(e,Oz),w=Dz({x:t,y:r,top:n,left:s,width:A,height:f},y);return!Yr(t)||!Yr(r)||!Yr(A)||!Yr(f)||!Yr(n)||!Yr(s)?null:se.createElement("path",tB({},hA(w),{className:Xi("recharts-cross",l),d:Hz(t,r,A,f,n,s)}))};function Kz(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function y4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function v4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y4(Object(r),!0).forEach(function(n){Vz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vz(e,t,r){return(t=qz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qz(e){var t=Gz(e,"string");return typeof t=="symbol"?t:t+""}function Gz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xz=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),NL=(e,t,r)=>e.map(n=>"".concat(Xz(n)," ").concat(t,"ms ").concat(r)).join(","),$z=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(s=>n.includes(s))),H0=(e,t)=>Object.keys(t).reduce((r,n)=>v4(v4({},r),{},{[n]:e(n,t[n])}),{});function _4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function oo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_4(Object(r),!0).forEach(function(n){Zz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zz(e,t,r){return(t=Wz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wz(e){var t=Yz(e,"string");return typeof t=="symbol"?t:t+""}function Yz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var r_=(e,t,r)=>e+(t-e)*r,rB=e=>{var{from:t,to:r}=e;return t!==r},RL=(e,t,r)=>{var n=H0((s,A)=>{if(rB(A)){var[f,l]=e(A.from,A.to,A.velocity);return oo(oo({},A),{},{from:f,velocity:l})}return A},t);return r<1?H0((s,A)=>rB(A)?oo(oo({},A),{},{velocity:r_(A.velocity,n[s].velocity,r),from:r_(A.from,n[s].from,r)}):A,t):RL(e,n,r-1)};function Jz(e,t,r,n,s,A){var f,l=n.reduce((U,I)=>oo(oo({},U),{},{[I]:{from:e[I],velocity:0,to:t[I]}}),{}),y=()=>H0((U,I)=>I.from,l),w=()=>!Object.values(l).filter(rB).length,b=null,S=U=>{f||(f=U);var I=U-f,z=I/r.dt;l=RL(r,l,z),s(oo(oo(oo({},e),t),y())),f=U,w()||(b=A.setTimeout(S))};return()=>(b=A.setTimeout(S),()=>{var U;(U=b)===null||U===void 0||U()})}function eH(e,t,r,n,s,A,f){var l=null,y=s.reduce((S,U)=>oo(oo({},S),{},{[U]:[e[U],t[U]]}),{}),w,b=S=>{w||(w=S);var U=(S-w)/n,I=H0((H,K)=>r_(...K,r(U)),y);if(A(oo(oo(oo({},e),t),I)),U<1)l=f.setTimeout(b);else{var z=H0((H,K)=>r_(...K,r(1)),y);A(oo(oo(oo({},e),t),z))}};return()=>(l=f.setTimeout(b),()=>{var S;(S=l)===null||S===void 0||S()})}const tH=(e,t,r,n,s,A)=>{var f=$z(e,t);return r==null?()=>(s(oo(oo({},e),t)),()=>{}):r.isStepper===!0?Jz(e,t,r,f,s,A):eH(e,t,r,n,f,s,A)};var n_=1e-4,zL=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],HL=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),w4=(e,t)=>r=>{var n=zL(e,t);return HL(n,r)},rH=(e,t)=>r=>{var n=zL(e,t),s=[...n.map((A,f)=>A*f).slice(1),0];return HL(s,r)},nH=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var s,A=r[0].split("(");if(A[0]==="cubic-bezier"&&((s=A[1])===null||s===void 0?void 0:s.split(")")[0].split(",").length)===4){var f=A[1].split(")")[0].split(",").map(l=>parseFloat(l));return[f[0],f[1],f[2],f[3]]}}}return r.length===4?r:[0,0,1,1]},iH=(e,t,r,n)=>{var s=w4(e,r),A=w4(t,n),f=rH(e,r),l=w=>w>1?1:w<0?0:w,y=w=>{for(var b=w>1?1:w,S=b,U=0;U<8;++U){var I=s(S)-b,z=f(S);if(Math.abs(I-b)<n_||z<n_)return A(S);S=l(S-I/z)}return A(S)};return y.isStepper=!1,y},b4=function(){return iH(...nH(...arguments))},aH=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:s=17}=t,A=(f,l,y)=>{var w=-(f-l)*r,b=y*n,S=y+(w-b)*s/1e3,U=y*s/1e3+f;return Math.abs(U-l)<n_&&Math.abs(S)<n_?[l,0]:[U,S]};return A.isStepper=!0,A.dt=s,A},sH=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return b4(e);case"spring":return aH();default:if(e.split("(")[0]==="cubic-bezier")return b4(e)}return typeof e=="function"?e:null};function oH(e){var t,r=()=>null,n=!1,s=null,A=f=>{if(!n){if(Array.isArray(f)){if(!f.length)return;var l=f,[y,...w]=l;if(typeof y=="number"){s=e.setTimeout(A.bind(null,w),y);return}A(y),s=e.setTimeout(A.bind(null,w));return}typeof f=="string"&&(t=f,r(t)),typeof f=="object"&&(t=f,r(t)),typeof f=="function"&&f()}};return{stop:()=>{n=!0},start:f=>{n=!1,s&&(s(),s=null),A(f)},subscribe:f=>(r=f,()=>{r=()=>null}),getTimeoutController:()=>e}}class lH{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),s=null,A=f=>{f-n>=r?t(f):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(A))};return s=requestAnimationFrame(A),()=>{s!=null&&cancelAnimationFrame(s)}}}function AH(){return oH(new lH)}var uH=se.createContext(AH);function cH(e,t){var r=se.useContext(uH);return se.useMemo(()=>t??r(e),[e,t,r])}var hH={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},x4={t:0},ux={t:1};function U5(e){var t=Nl(e,hH),{isActive:r,canBegin:n,duration:s,easing:A,begin:f,onAnimationEnd:l,onAnimationStart:y,children:w}=t,b=r==="auto"?!Zg.isSsr:r,S=cH(t.animationId,t.animationManager),[U,I]=se.useState(b?x4:ux),z=se.useRef(null);return se.useEffect(()=>{b||I(ux)},[b]),se.useEffect(()=>{if(!b||!n)return iy;var H=tH(x4,ux,sH(A),s,I,S.getTimeoutController()),K=()=>{z.current=H()};return S.start([y,f,K,s,l]),()=>{S.stop(),z.current&&z.current(),l()}},[b,n,s,A,f,y,l,S]),w(U.t)}function L5(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=se.useRef(O0(t)),n=se.useRef(e);return n.current!==e&&(r.current=O0(t),n.current=e),r.current}var fH=["radius"],dH=["radius"];function B4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function C4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B4(Object(r),!0).forEach(function(n){pH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pH(e,t,r){return(t=gH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gH(e){var t=mH(e,"string");return typeof t=="symbol"?t:t+""}function mH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function i_(){return i_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i_.apply(null,arguments)}function S4(e,t){if(e==null)return{};var r,n,s=yH(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function yH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var E4=(e,t,r,n,s)=>{var A=Math.min(Math.abs(r)/2,Math.abs(n)/2),f=n>=0?1:-1,l=r>=0?1:-1,y=n>=0&&r>=0||n<0&&r<0?1:0,w;if(A>0&&s instanceof Array){for(var b=[0,0,0,0],S=0,U=4;S<U;S++)b[S]=s[S]>A?A:s[S];w="M".concat(e,",").concat(t+f*b[0]),b[0]>0&&(w+="A ".concat(b[0],",").concat(b[0],",0,0,").concat(y,",").concat(e+l*b[0],",").concat(t)),w+="L ".concat(e+r-l*b[1],",").concat(t),b[1]>0&&(w+="A ".concat(b[1],",").concat(b[1],",0,0,").concat(y,`,
        `).concat(e+r,",").concat(t+f*b[1])),w+="L ".concat(e+r,",").concat(t+n-f*b[2]),b[2]>0&&(w+="A ".concat(b[2],",").concat(b[2],",0,0,").concat(y,`,
        `).concat(e+r-l*b[2],",").concat(t+n)),w+="L ".concat(e+l*b[3],",").concat(t+n),b[3]>0&&(w+="A ".concat(b[3],",").concat(b[3],",0,0,").concat(y,`,
        `).concat(e,",").concat(t+n-f*b[3])),w+="Z"}else if(A>0&&s===+s&&s>0){var I=Math.min(A,s);w="M ".concat(e,",").concat(t+f*I,`
            A `).concat(I,",").concat(I,",0,0,").concat(y,",").concat(e+l*I,",").concat(t,`
            L `).concat(e+r-l*I,",").concat(t,`
            A `).concat(I,",").concat(I,",0,0,").concat(y,",").concat(e+r,",").concat(t+f*I,`
            L `).concat(e+r,",").concat(t+n-f*I,`
            A `).concat(I,",").concat(I,",0,0,").concat(y,",").concat(e+r-l*I,",").concat(t+n,`
            L `).concat(e+l*I,",").concat(t+n,`
            A `).concat(I,",").concat(I,",0,0,").concat(y,",").concat(e,",").concat(t+n-f*I," Z")}else w="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return w},T4={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},jL=e=>{var t=Nl(e,T4),r=se.useRef(null),[n,s]=se.useState(-1);se.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var Ne=r.current.getTotalLength();Ne&&s(Ne)}catch{}},[]);var{x:A,y:f,width:l,height:y,radius:w,className:b}=t,{animationEasing:S,animationDuration:U,animationBegin:I,isAnimationActive:z,isUpdateAnimationActive:H}=t,K=se.useRef(l),V=se.useRef(y),re=se.useRef(A),W=se.useRef(f),le=se.useMemo(()=>({x:A,y:f,width:l,height:y,radius:w}),[A,f,l,y,w]),ce=L5(le,"rectangle-");if(A!==+A||f!==+f||l!==+l||y!==+y||l===0||y===0)return null;var me=Xi("recharts-rectangle",b);if(!H){var Ie=hA(t),{radius:Fe}=Ie,pe=S4(Ie,fH);return se.createElement("path",i_({},pe,{radius:typeof w=="number"?w:void 0,className:me,d:E4(A,f,l,y,w)}))}var ze=K.current,ie=V.current,de=re.current,ve=W.current,_e="0px ".concat(n===-1?1:n,"px"),tt="".concat(n,"px 0px"),Le=NL(["strokeDasharray"],U,typeof S=="string"?S:T4.animationEasing);return se.createElement(U5,{animationId:ce,key:ce,canBegin:n>0,duration:U,easing:S,isActive:H,begin:I},Ne=>{var Ve=qA(ze,l,Ne),We=qA(ie,y,Ne),_t=qA(de,A,Ne),Te=qA(ve,f,Ne);r.current&&(K.current=Ve,V.current=We,re.current=_t,W.current=Te);var ne;z?Ne>0?ne={transition:Le,strokeDasharray:tt}:ne={strokeDasharray:_e}:ne={strokeDasharray:tt};var we=hA(t),{radius:Ue}=we,De=S4(we,dH);return se.createElement("path",i_({},De,{radius:typeof w=="number"?w:void 0,className:me,d:E4(_t,Te,Ve,We,w),ref:r,style:C4(C4({},ne),t.style)}))})};function I4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function F4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I4(Object(r),!0).forEach(function(n){vH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vH(e,t,r){return(t=_H(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _H(e){var t=wH(e,"string");return typeof t=="symbol"?t:t+""}function wH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var a_=Math.PI/180,bH=e=>e*180/Math.PI,Jo=(e,t,r,n)=>({x:e+Math.cos(-a_*n)*r,y:t+Math.sin(-a_*n)*r}),xH=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},BH=(e,t)=>{var{x:r,y:n}=e,{x:s,y:A}=t;return Math.sqrt((r-s)**2+(n-A)**2)},CH=(e,t)=>{var{x:r,y:n}=e,{cx:s,cy:A}=t,f=BH({x:r,y:n},{x:s,y:A});if(f<=0)return{radius:f,angle:0};var l=(r-s)/f,y=Math.acos(l);return n>A&&(y=2*Math.PI-y),{radius:f,angle:bH(y),angleInRadian:y}},SH=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),s=Math.floor(r/360),A=Math.min(n,s);return{startAngle:t-A*360,endAngle:r-A*360}},EH=(e,t)=>{var{startAngle:r,endAngle:n}=t,s=Math.floor(r/360),A=Math.floor(n/360),f=Math.min(s,A);return e+f*360},TH=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:s,angle:A}=CH({x:r,y:n},t),{innerRadius:f,outerRadius:l}=t;if(s<f||s>l||s===0)return null;var{startAngle:y,endAngle:w}=SH(t),b=A,S;if(y<=w){for(;b>w;)b-=360;for(;b<y;)b+=360;S=b>=y&&b<=w}else{for(;b>y;)b-=360;for(;b<w;)b+=360;S=b>=w&&b<=y}return S?F4(F4({},t),{},{radius:s,angle:EH(b,t)}):null};function KL(e){var{cx:t,cy:r,radius:n,startAngle:s,endAngle:A}=e,f=Jo(t,r,n,s),l=Jo(t,r,n,A);return{points:[f,l],cx:t,cy:r,radius:n,startAngle:s,endAngle:A}}function nB(){return nB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nB.apply(null,arguments)}var IH=(e,t)=>{var r=ec(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Pv=e=>{var{cx:t,cy:r,radius:n,angle:s,sign:A,isExternal:f,cornerRadius:l,cornerIsExternal:y}=e,w=l*(f?1:-1)+n,b=Math.asin(l/w)/a_,S=y?s:s+A*b,U=Jo(t,r,w,S),I=Jo(t,r,n,S),z=y?s-A*b:s,H=Jo(t,r,w*Math.cos(b*a_),z);return{center:U,circleTangency:I,lineTangency:H,theta:b}},VL=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:A,endAngle:f}=e,l=IH(A,f),y=A+l,w=Jo(t,r,s,A),b=Jo(t,r,s,y),S="M ".concat(w.x,",").concat(w.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(A>y),`,
    `).concat(b.x,",").concat(b.y,`
  `);if(n>0){var U=Jo(t,r,n,A),I=Jo(t,r,n,y);S+="L ".concat(I.x,",").concat(I.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(A<=y),`,
            `).concat(U.x,",").concat(U.y," Z")}else S+="L ".concat(t,",").concat(r," Z");return S},FH=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,cornerRadius:A,forceCornerRadius:f,cornerIsExternal:l,startAngle:y,endAngle:w}=e,b=ec(w-y),{circleTangency:S,lineTangency:U,theta:I}=Pv({cx:t,cy:r,radius:s,angle:y,sign:b,cornerRadius:A,cornerIsExternal:l}),{circleTangency:z,lineTangency:H,theta:K}=Pv({cx:t,cy:r,radius:s,angle:w,sign:-b,cornerRadius:A,cornerIsExternal:l}),V=l?Math.abs(y-w):Math.abs(y-w)-I-K;if(V<0)return f?"M ".concat(U.x,",").concat(U.y,`
        a`).concat(A,",").concat(A,",0,0,1,").concat(A*2,`,0
        a`).concat(A,",").concat(A,",0,0,1,").concat(-A*2,`,0
      `):VL({cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:y,endAngle:w});var re="M ".concat(U.x,",").concat(U.y,`
    A`).concat(A,",").concat(A,",0,0,").concat(+(b<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(V>180),",").concat(+(b<0),",").concat(z.x,",").concat(z.y,`
    A`).concat(A,",").concat(A,",0,0,").concat(+(b<0),",").concat(H.x,",").concat(H.y,`
  `);if(n>0){var{circleTangency:W,lineTangency:le,theta:ce}=Pv({cx:t,cy:r,radius:n,angle:y,sign:b,isExternal:!0,cornerRadius:A,cornerIsExternal:l}),{circleTangency:me,lineTangency:Ie,theta:Fe}=Pv({cx:t,cy:r,radius:n,angle:w,sign:-b,isExternal:!0,cornerRadius:A,cornerIsExternal:l}),pe=l?Math.abs(y-w):Math.abs(y-w)-ce-Fe;if(pe<0&&A===0)return"".concat(re,"L").concat(t,",").concat(r,"Z");re+="L".concat(Ie.x,",").concat(Ie.y,`
      A`).concat(A,",").concat(A,",0,0,").concat(+(b<0),",").concat(me.x,",").concat(me.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(pe>180),",").concat(+(b>0),",").concat(W.x,",").concat(W.y,`
      A`).concat(A,",").concat(A,",0,0,").concat(+(b<0),",").concat(le.x,",").concat(le.y,"Z")}else re+="L".concat(t,",").concat(r,"Z");return re},UH={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},qL=e=>{var t=Nl(e,UH),{cx:r,cy:n,innerRadius:s,outerRadius:A,cornerRadius:f,forceCornerRadius:l,cornerIsExternal:y,startAngle:w,endAngle:b,className:S}=t;if(A<s||w===b)return null;var U=Xi("recharts-sector",S),I=A-s,z=dd(f,I,0,!0),H;return z>0&&Math.abs(w-b)<360?H=FH({cx:r,cy:n,innerRadius:s,outerRadius:A,cornerRadius:Math.min(z,I/2),forceCornerRadius:l,cornerIsExternal:y,startAngle:w,endAngle:b}):H=VL({cx:r,cy:n,innerRadius:s,outerRadius:A,startAngle:w,endAngle:b}),se.createElement("path",nB({},hA(t),{className:U,d:H}))};function LH(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(CU(t)){if(e==="centric"){var{cx:n,cy:s,innerRadius:A,outerRadius:f,angle:l}=t,y=Jo(n,s,A,l),w=Jo(n,s,f,l);return[{x:y.x,y:y.y},{x:w.x,y:w.y}]}return KL(t)}}var cx={},hx={},fx={},U4;function MH(){return U4||(U4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QU();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(fx)),fx}var L4;function PH(){return L4||(L4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MH();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(hx)),hx}var M4;function OH(){return M4||(M4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NU(),r=PH();function n(s,A,f){f&&typeof f!="number"&&t.isIterateeCall(s,A,f)&&(A=f=void 0),s=r.toFinite(s),A===void 0?(A=s,s=0):A=r.toFinite(A),f=f===void 0?s<A?1:-1:r.toFinite(f);const l=Math.max(Math.ceil((A-s)/(f||1)),0),y=new Array(l);for(let w=0;w<l;w++)y[w]=s,s+=f;return y}e.range=n})(cx)),cx}var dx,P4;function DH(){return P4||(P4=1,dx=OH().range),dx}var kH=DH();const GL=wh(kH);function ud(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function QH(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function M5(e){let t,r,n;e.length!==2?(t=ud,r=(l,y)=>ud(e(l),y),n=(l,y)=>e(l)-y):(t=e===ud||e===QH?e:NH,r=e,n=e);function s(l,y,w=0,b=l.length){if(w<b){if(t(y,y)!==0)return b;do{const S=w+b>>>1;r(l[S],y)<0?w=S+1:b=S}while(w<b)}return w}function A(l,y,w=0,b=l.length){if(w<b){if(t(y,y)!==0)return b;do{const S=w+b>>>1;r(l[S],y)<=0?w=S+1:b=S}while(w<b)}return w}function f(l,y,w=0,b=l.length){const S=s(l,y,w,b-1);return S>w&&n(l[S-1],y)>-n(l[S],y)?S-1:S}return{left:s,center:f,right:A}}function NH(){return 0}function XL(e){return e===null?NaN:+e}function*RH(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const zH=M5(ud),uy=zH.right;M5(XL).center;class O4 extends Map{constructor(t,r=KH){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(D4(this,t))}has(t){return super.has(D4(this,t))}set(t,r){return super.set(HH(this,t),r)}delete(t){return super.delete(jH(this,t))}}function D4({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function HH({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function jH({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function KH(e){return e!==null&&typeof e=="object"?e.valueOf():e}function VH(e=ud){if(e===ud)return $L;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function $L(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const qH=Math.sqrt(50),GH=Math.sqrt(10),XH=Math.sqrt(2);function s_(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),A=n/Math.pow(10,s),f=A>=qH?10:A>=GH?5:A>=XH?2:1;let l,y,w;return s<0?(w=Math.pow(10,-s)/f,l=Math.round(e*w),y=Math.round(t*w),l/w<e&&++l,y/w>t&&--y,w=-w):(w=Math.pow(10,s)*f,l=Math.round(e/w),y=Math.round(t/w),l*w<e&&++l,y*w>t&&--y),y<l&&.5<=r&&r<2?s_(e,t,r*2):[l,y,w]}function iB(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,A,f]=n?s_(t,e,r):s_(e,t,r);if(!(A>=s))return[];const l=A-s+1,y=new Array(l);if(n)if(f<0)for(let w=0;w<l;++w)y[w]=(A-w)/-f;else for(let w=0;w<l;++w)y[w]=(A-w)*f;else if(f<0)for(let w=0;w<l;++w)y[w]=(s+w)/-f;else for(let w=0;w<l;++w)y[w]=(s+w)*f;return y}function aB(e,t,r){return t=+t,e=+e,r=+r,s_(e,t,r)[2]}function sB(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?aB(t,e,r):aB(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function k4(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Q4(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function ZL(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?$L:VH(s);n>r;){if(n-r>600){const y=n-r+1,w=t-r+1,b=Math.log(y),S=.5*Math.exp(2*b/3),U=.5*Math.sqrt(b*S*(y-S)/y)*(w-y/2<0?-1:1),I=Math.max(r,Math.floor(t-w*S/y+U)),z=Math.min(n,Math.floor(t+(y-w)*S/y+U));ZL(e,t,I,z,s)}const A=e[t];let f=r,l=n;for(l0(e,r,t),s(e[n],A)>0&&l0(e,r,n);f<l;){for(l0(e,f,l),++f,--l;s(e[f],A)<0;)++f;for(;s(e[l],A)>0;)--l}s(e[r],A)===0?l0(e,r,l):(++l,l0(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function l0(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function $H(e,t,r){if(e=Float64Array.from(RH(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Q4(e);if(t>=1)return k4(e);var n,s=(n-1)*t,A=Math.floor(s),f=k4(ZL(e,A).subarray(0,A+1)),l=Q4(e.subarray(A+1));return f+(l-f)*(s-A)}}function ZH(e,t,r=XL){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,A=Math.floor(s),f=+r(e[A],A,e),l=+r(e[A+1],A+1,e);return f+(l-f)*(s-A)}}function WH(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,A=new Array(s);++n<s;)A[n]=e+n*r;return A}function oc(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function cf(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const oB=Symbol("implicit");function P5(){var e=new O4,t=[],r=[],n=oB;function s(A){let f=e.get(A);if(f===void 0){if(n!==oB)return n;e.set(A,f=t.push(A)-1)}return r[f%r.length]}return s.domain=function(A){if(!arguments.length)return t.slice();t=[],e=new O4;for(const f of A)e.has(f)||e.set(f,t.push(f)-1);return s},s.range=function(A){return arguments.length?(r=Array.from(A),s):r.slice()},s.unknown=function(A){return arguments.length?(n=A,s):n},s.copy=function(){return P5(t,r).unknown(n)},oc.apply(s,arguments),s}function O5(){var e=P5().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,A,f,l=!1,y=0,w=0,b=.5;delete e.unknown;function S(){var U=t().length,I=s<n,z=I?s:n,H=I?n:s;A=(H-z)/Math.max(1,U-y+w*2),l&&(A=Math.floor(A)),z+=(H-z-A*(U-y))*b,f=A*(1-y),l&&(z=Math.round(z),f=Math.round(f));var K=WH(U).map(function(V){return z+A*V});return r(I?K.reverse():K)}return e.domain=function(U){return arguments.length?(t(U),S()):t()},e.range=function(U){return arguments.length?([n,s]=U,n=+n,s=+s,S()):[n,s]},e.rangeRound=function(U){return[n,s]=U,n=+n,s=+s,l=!0,S()},e.bandwidth=function(){return f},e.step=function(){return A},e.round=function(U){return arguments.length?(l=!!U,S()):l},e.padding=function(U){return arguments.length?(y=Math.min(1,w=+U),S()):y},e.paddingInner=function(U){return arguments.length?(y=Math.min(1,U),S()):y},e.paddingOuter=function(U){return arguments.length?(w=+U,S()):w},e.align=function(U){return arguments.length?(b=Math.max(0,Math.min(1,U)),S()):b},e.copy=function(){return O5(t(),[n,s]).round(l).paddingInner(y).paddingOuter(w).align(b)},oc.apply(S(),arguments)}function WL(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return WL(t())},e}function YH(){return WL(O5.apply(null,arguments).paddingInner(1))}function D5(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function YL(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function cy(){}var j0=.7,o_=1/j0,Pg="\\s*([+-]?\\d+)\\s*",K0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",dh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",JH=/^#([0-9a-f]{3,8})$/,e7=new RegExp(`^rgb\\(${Pg},${Pg},${Pg}\\)$`),t7=new RegExp(`^rgb\\(${dh},${dh},${dh}\\)$`),r7=new RegExp(`^rgba\\(${Pg},${Pg},${Pg},${K0}\\)$`),n7=new RegExp(`^rgba\\(${dh},${dh},${dh},${K0}\\)$`),i7=new RegExp(`^hsl\\(${K0},${dh},${dh}\\)$`),a7=new RegExp(`^hsla\\(${K0},${dh},${dh},${K0}\\)$`),N4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};D5(cy,V0,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:R4,formatHex:R4,formatHex8:s7,formatHsl:o7,formatRgb:z4,toString:z4});function R4(){return this.rgb().formatHex()}function s7(){return this.rgb().formatHex8()}function o7(){return JL(this).formatHsl()}function z4(){return this.rgb().formatRgb()}function V0(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=JH.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?H4(t):r===3?new GA(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Ov(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Ov(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=e7.exec(e))?new GA(t[1],t[2],t[3],1):(t=t7.exec(e))?new GA(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=r7.exec(e))?Ov(t[1],t[2],t[3],t[4]):(t=n7.exec(e))?Ov(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=i7.exec(e))?V4(t[1],t[2]/100,t[3]/100,1):(t=a7.exec(e))?V4(t[1],t[2]/100,t[3]/100,t[4]):N4.hasOwnProperty(e)?H4(N4[e]):e==="transparent"?new GA(NaN,NaN,NaN,0):null}function H4(e){return new GA(e>>16&255,e>>8&255,e&255,1)}function Ov(e,t,r,n){return n<=0&&(e=t=r=NaN),new GA(e,t,r,n)}function l7(e){return e instanceof cy||(e=V0(e)),e?(e=e.rgb(),new GA(e.r,e.g,e.b,e.opacity)):new GA}function lB(e,t,r,n){return arguments.length===1?l7(e):new GA(e,t,r,n??1)}function GA(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}D5(GA,lB,YL(cy,{brighter(e){return e=e==null?o_:Math.pow(o_,e),new GA(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?j0:Math.pow(j0,e),new GA(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new GA(yp(this.r),yp(this.g),yp(this.b),l_(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:j4,formatHex:j4,formatHex8:A7,formatRgb:K4,toString:K4}));function j4(){return`#${hp(this.r)}${hp(this.g)}${hp(this.b)}`}function A7(){return`#${hp(this.r)}${hp(this.g)}${hp(this.b)}${hp((isNaN(this.opacity)?1:this.opacity)*255)}`}function K4(){const e=l_(this.opacity);return`${e===1?"rgb(":"rgba("}${yp(this.r)}, ${yp(this.g)}, ${yp(this.b)}${e===1?")":`, ${e})`}`}function l_(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function yp(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function hp(e){return e=yp(e),(e<16?"0":"")+e.toString(16)}function V4(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Lc(e,t,r,n)}function JL(e){if(e instanceof Lc)return new Lc(e.h,e.s,e.l,e.opacity);if(e instanceof cy||(e=V0(e)),!e)return new Lc;if(e instanceof Lc)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),A=Math.max(t,r,n),f=NaN,l=A-s,y=(A+s)/2;return l?(t===A?f=(r-n)/l+(r<n)*6:r===A?f=(n-t)/l+2:f=(t-r)/l+4,l/=y<.5?A+s:2-A-s,f*=60):l=y>0&&y<1?0:f,new Lc(f,l,y,e.opacity)}function u7(e,t,r,n){return arguments.length===1?JL(e):new Lc(e,t,r,n??1)}function Lc(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}D5(Lc,u7,YL(cy,{brighter(e){return e=e==null?o_:Math.pow(o_,e),new Lc(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?j0:Math.pow(j0,e),new Lc(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new GA(px(e>=240?e-240:e+120,s,n),px(e,s,n),px(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new Lc(q4(this.h),Dv(this.s),Dv(this.l),l_(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=l_(this.opacity);return`${e===1?"hsl(":"hsla("}${q4(this.h)}, ${Dv(this.s)*100}%, ${Dv(this.l)*100}%${e===1?")":`, ${e})`}`}}));function q4(e){return e=(e||0)%360,e<0?e+360:e}function Dv(e){return Math.max(0,Math.min(1,e||0))}function px(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const k5=e=>()=>e;function c7(e,t){return function(r){return e+r*t}}function h7(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function f7(e){return(e=+e)==1?eM:function(t,r){return r-t?h7(t,r,e):k5(isNaN(t)?r:t)}}function eM(e,t){var r=t-e;return r?c7(e,r):k5(isNaN(e)?t:e)}const G4=(function e(t){var r=f7(t);function n(s,A){var f=r((s=lB(s)).r,(A=lB(A)).r),l=r(s.g,A.g),y=r(s.b,A.b),w=eM(s.opacity,A.opacity);return function(b){return s.r=f(b),s.g=l(b),s.b=y(b),s.opacity=w(b),s+""}}return n.gamma=e,n})(1);function d7(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(A){for(s=0;s<r;++s)n[s]=e[s]*(1-A)+t[s]*A;return n}}function p7(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function g7(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),A=new Array(r),f;for(f=0;f<n;++f)s[f]=Wg(e[f],t[f]);for(;f<r;++f)A[f]=t[f];return function(l){for(f=0;f<n;++f)A[f]=s[f](l);return A}}function m7(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function A_(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function y7(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=Wg(e[s],t[s]):n[s]=t[s];return function(A){for(s in r)n[s]=r[s](A);return n}}var AB=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,gx=new RegExp(AB.source,"g");function v7(e){return function(){return e}}function _7(e){return function(t){return e(t)+""}}function w7(e,t){var r=AB.lastIndex=gx.lastIndex=0,n,s,A,f=-1,l=[],y=[];for(e=e+"",t=t+"";(n=AB.exec(e))&&(s=gx.exec(t));)(A=s.index)>r&&(A=t.slice(r,A),l[f]?l[f]+=A:l[++f]=A),(n=n[0])===(s=s[0])?l[f]?l[f]+=s:l[++f]=s:(l[++f]=null,y.push({i:f,x:A_(n,s)})),r=gx.lastIndex;return r<t.length&&(A=t.slice(r),l[f]?l[f]+=A:l[++f]=A),l.length<2?y[0]?_7(y[0].x):v7(t):(t=y.length,function(w){for(var b=0,S;b<t;++b)l[(S=y[b]).i]=S.x(w);return l.join("")})}function Wg(e,t){var r=typeof t,n;return t==null||r==="boolean"?k5(t):(r==="number"?A_:r==="string"?(n=V0(t))?(t=n,G4):w7:t instanceof V0?G4:t instanceof Date?m7:p7(t)?d7:Array.isArray(t)?g7:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?y7:A_)(e,t)}function Q5(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function b7(e,t){t===void 0&&(t=e,e=Wg);for(var r=0,n=t.length-1,s=t[0],A=new Array(n<0?0:n);r<n;)A[r]=e(s,s=t[++r]);return function(f){var l=Math.max(0,Math.min(n-1,Math.floor(f*=n)));return A[l](f-l)}}function x7(e){return function(){return e}}function u_(e){return+e}var X4=[0,1];function uA(e){return e}function uB(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:x7(isNaN(t)?NaN:.5)}function B7(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function C7(e,t,r){var n=e[0],s=e[1],A=t[0],f=t[1];return s<n?(n=uB(s,n),A=r(f,A)):(n=uB(n,s),A=r(A,f)),function(l){return A(n(l))}}function S7(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),A=new Array(n),f=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++f<n;)s[f]=uB(e[f],e[f+1]),A[f]=r(t[f],t[f+1]);return function(l){var y=uy(e,l,1,n)-1;return A[y](s[y](l))}}function hy(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function hw(){var e=X4,t=X4,r=Wg,n,s,A,f=uA,l,y,w;function b(){var U=Math.min(e.length,t.length);return f!==uA&&(f=B7(e[0],e[U-1])),l=U>2?S7:C7,y=w=null,S}function S(U){return U==null||isNaN(U=+U)?A:(y||(y=l(e.map(n),t,r)))(n(f(U)))}return S.invert=function(U){return f(s((w||(w=l(t,e.map(n),A_)))(U)))},S.domain=function(U){return arguments.length?(e=Array.from(U,u_),b()):e.slice()},S.range=function(U){return arguments.length?(t=Array.from(U),b()):t.slice()},S.rangeRound=function(U){return t=Array.from(U),r=Q5,b()},S.clamp=function(U){return arguments.length?(f=U?!0:uA,b()):f!==uA},S.interpolate=function(U){return arguments.length?(r=U,b()):r},S.unknown=function(U){return arguments.length?(A=U,S):A},function(U,I){return n=U,s=I,b()}}function N5(){return hw()(uA,uA)}function E7(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function c_(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Vg(e){return e=c_(Math.abs(e)),e?e[1]:NaN}function T7(e,t){return function(r,n){for(var s=r.length,A=[],f=0,l=e[0],y=0;s>0&&l>0&&(y+l+1>n&&(l=Math.max(1,n-y)),A.push(r.substring(s-=l,s+l)),!((y+=l+1)>n));)l=e[f=(f+1)%e.length];return A.reverse().join(t)}}function I7(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var F7=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function q0(e){if(!(t=F7.exec(e)))throw new Error("invalid format: "+e);var t;return new R5({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}q0.prototype=R5.prototype;function R5(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}R5.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function U7(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var tM;function L7(e,t){var r=c_(e,t);if(!r)return e+"";var n=r[0],s=r[1],A=s-(tM=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,f=n.length;return A===f?n:A>f?n+new Array(A-f+1).join("0"):A>0?n.slice(0,A)+"."+n.slice(A):"0."+new Array(1-A).join("0")+c_(e,Math.max(0,t+A-1))[0]}function $4(e,t){var r=c_(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const Z4={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:E7,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>$4(e*100,t),r:$4,s:L7,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function W4(e){return e}var Y4=Array.prototype.map,J4=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function M7(e){var t=e.grouping===void 0||e.thousands===void 0?W4:T7(Y4.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",A=e.numerals===void 0?W4:I7(Y4.call(e.numerals,String)),f=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",y=e.nan===void 0?"NaN":e.nan+"";function w(S){S=q0(S);var U=S.fill,I=S.align,z=S.sign,H=S.symbol,K=S.zero,V=S.width,re=S.comma,W=S.precision,le=S.trim,ce=S.type;ce==="n"?(re=!0,ce="g"):Z4[ce]||(W===void 0&&(W=12),le=!0,ce="g"),(K||U==="0"&&I==="=")&&(K=!0,U="0",I="=");var me=H==="$"?r:H==="#"&&/[boxX]/.test(ce)?"0"+ce.toLowerCase():"",Ie=H==="$"?n:/[%p]/.test(ce)?f:"",Fe=Z4[ce],pe=/[defgprs%]/.test(ce);W=W===void 0?6:/[gprs]/.test(ce)?Math.max(1,Math.min(21,W)):Math.max(0,Math.min(20,W));function ze(ie){var de=me,ve=Ie,_e,tt,Le;if(ce==="c")ve=Fe(ie)+ve,ie="";else{ie=+ie;var Ne=ie<0||1/ie<0;if(ie=isNaN(ie)?y:Fe(Math.abs(ie),W),le&&(ie=U7(ie)),Ne&&+ie==0&&z!=="+"&&(Ne=!1),de=(Ne?z==="("?z:l:z==="-"||z==="("?"":z)+de,ve=(ce==="s"?J4[8+tM/3]:"")+ve+(Ne&&z==="("?")":""),pe){for(_e=-1,tt=ie.length;++_e<tt;)if(Le=ie.charCodeAt(_e),48>Le||Le>57){ve=(Le===46?s+ie.slice(_e+1):ie.slice(_e))+ve,ie=ie.slice(0,_e);break}}}re&&!K&&(ie=t(ie,1/0));var Ve=de.length+ie.length+ve.length,We=Ve<V?new Array(V-Ve+1).join(U):"";switch(re&&K&&(ie=t(We+ie,We.length?V-ve.length:1/0),We=""),I){case"<":ie=de+ie+ve+We;break;case"=":ie=de+We+ie+ve;break;case"^":ie=We.slice(0,Ve=We.length>>1)+de+ie+ve+We.slice(Ve);break;default:ie=We+de+ie+ve;break}return A(ie)}return ze.toString=function(){return S+""},ze}function b(S,U){var I=w((S=q0(S),S.type="f",S)),z=Math.max(-8,Math.min(8,Math.floor(Vg(U)/3)))*3,H=Math.pow(10,-z),K=J4[8+z/3];return function(V){return I(H*V)+K}}return{format:w,formatPrefix:b}}var kv,z5,rM;P7({thousands:",",grouping:[3],currency:["$",""]});function P7(e){return kv=M7(e),z5=kv.format,rM=kv.formatPrefix,kv}function O7(e){return Math.max(0,-Vg(Math.abs(e)))}function D7(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Vg(t)/3)))*3-Vg(Math.abs(e)))}function k7(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Vg(t)-Vg(e))+1}function nM(e,t,r,n){var s=sB(e,t,r),A;switch(n=q0(n??",f"),n.type){case"s":{var f=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(A=D7(s,f))&&(n.precision=A),rM(n,f)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(A=k7(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=A-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(A=O7(s))&&(n.precision=A-(n.type==="%")*2);break}}return z5(n)}function vd(e){var t=e.domain;return e.ticks=function(r){var n=t();return iB(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return nM(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,A=n.length-1,f=n[s],l=n[A],y,w,b=10;for(l<f&&(w=f,f=l,l=w,w=s,s=A,A=w);b-- >0;){if(w=aB(f,l,r),w===y)return n[s]=f,n[A]=l,t(n);if(w>0)f=Math.floor(f/w)*w,l=Math.ceil(l/w)*w;else if(w<0)f=Math.ceil(f*w)/w,l=Math.floor(l*w)/w;else break;y=w}return e},e}function iM(){var e=N5();return e.copy=function(){return hy(e,iM())},oc.apply(e,arguments),vd(e)}function aM(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,u_),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return aM(e).unknown(t)},e=arguments.length?Array.from(e,u_):[0,1],vd(r)}function sM(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],A=e[n],f;return A<s&&(f=r,r=n,n=f,f=s,s=A,A=f),e[r]=t.floor(s),e[n]=t.ceil(A),e}function e3(e){return Math.log(e)}function t3(e){return Math.exp(e)}function Q7(e){return-Math.log(-e)}function N7(e){return-Math.exp(-e)}function R7(e){return isFinite(e)?+("1e"+e):e<0?0:e}function z7(e){return e===10?R7:e===Math.E?Math.exp:t=>Math.pow(e,t)}function H7(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function r3(e){return(t,r)=>-e(-t,r)}function H5(e){const t=e(e3,t3),r=t.domain;let n=10,s,A;function f(){return s=H7(n),A=z7(n),r()[0]<0?(s=r3(s),A=r3(A),e(Q7,N7)):e(e3,t3),t}return t.base=function(l){return arguments.length?(n=+l,f()):n},t.domain=function(l){return arguments.length?(r(l),f()):r()},t.ticks=l=>{const y=r();let w=y[0],b=y[y.length-1];const S=b<w;S&&([w,b]=[b,w]);let U=s(w),I=s(b),z,H;const K=l==null?10:+l;let V=[];if(!(n%1)&&I-U<K){if(U=Math.floor(U),I=Math.ceil(I),w>0){for(;U<=I;++U)for(z=1;z<n;++z)if(H=U<0?z/A(-U):z*A(U),!(H<w)){if(H>b)break;V.push(H)}}else for(;U<=I;++U)for(z=n-1;z>=1;--z)if(H=U>0?z/A(-U):z*A(U),!(H<w)){if(H>b)break;V.push(H)}V.length*2<K&&(V=iB(w,b,K))}else V=iB(U,I,Math.min(I-U,K)).map(A);return S?V.reverse():V},t.tickFormat=(l,y)=>{if(l==null&&(l=10),y==null&&(y=n===10?"s":","),typeof y!="function"&&(!(n%1)&&(y=q0(y)).precision==null&&(y.trim=!0),y=z5(y)),l===1/0)return y;const w=Math.max(1,n*l/t.ticks().length);return b=>{let S=b/A(Math.round(s(b)));return S*n<n-.5&&(S*=n),S<=w?y(b):""}},t.nice=()=>r(sM(r(),{floor:l=>A(Math.floor(s(l))),ceil:l=>A(Math.ceil(s(l)))})),t}function oM(){const e=H5(hw()).domain([1,10]);return e.copy=()=>hy(e,oM()).base(e.base()),oc.apply(e,arguments),e}function n3(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function i3(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function j5(e){var t=1,r=e(n3(t),i3(t));return r.constant=function(n){return arguments.length?e(n3(t=+n),i3(t)):t},vd(r)}function lM(){var e=j5(hw());return e.copy=function(){return hy(e,lM()).constant(e.constant())},oc.apply(e,arguments)}function a3(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function j7(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function K7(e){return e<0?-e*e:e*e}function K5(e){var t=e(uA,uA),r=1;function n(){return r===1?e(uA,uA):r===.5?e(j7,K7):e(a3(r),a3(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},vd(t)}function V5(){var e=K5(hw());return e.copy=function(){return hy(e,V5()).exponent(e.exponent())},oc.apply(e,arguments),e}function V7(){return V5.apply(null,arguments).exponent(.5)}function s3(e){return Math.sign(e)*e*e}function q7(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function AM(){var e=N5(),t=[0,1],r=!1,n;function s(A){var f=q7(e(A));return isNaN(f)?n:r?Math.round(f):f}return s.invert=function(A){return e.invert(s3(A))},s.domain=function(A){return arguments.length?(e.domain(A),s):e.domain()},s.range=function(A){return arguments.length?(e.range((t=Array.from(A,u_)).map(s3)),s):t.slice()},s.rangeRound=function(A){return s.range(A).round(!0)},s.round=function(A){return arguments.length?(r=!!A,s):r},s.clamp=function(A){return arguments.length?(e.clamp(A),s):e.clamp()},s.unknown=function(A){return arguments.length?(n=A,s):n},s.copy=function(){return AM(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},oc.apply(s,arguments),vd(s)}function uM(){var e=[],t=[],r=[],n;function s(){var f=0,l=Math.max(1,t.length);for(r=new Array(l-1);++f<l;)r[f-1]=ZH(e,f/l);return A}function A(f){return f==null||isNaN(f=+f)?n:t[uy(r,f)]}return A.invertExtent=function(f){var l=t.indexOf(f);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},A.domain=function(f){if(!arguments.length)return e.slice();e=[];for(let l of f)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(ud),s()},A.range=function(f){return arguments.length?(t=Array.from(f),s()):t.slice()},A.unknown=function(f){return arguments.length?(n=f,A):n},A.quantiles=function(){return r.slice()},A.copy=function(){return uM().domain(e).range(t).unknown(n)},oc.apply(A,arguments)}function cM(){var e=0,t=1,r=1,n=[.5],s=[0,1],A;function f(y){return y!=null&&y<=y?s[uy(n,y,0,r)]:A}function l(){var y=-1;for(n=new Array(r);++y<r;)n[y]=((y+1)*t-(y-r)*e)/(r+1);return f}return f.domain=function(y){return arguments.length?([e,t]=y,e=+e,t=+t,l()):[e,t]},f.range=function(y){return arguments.length?(r=(s=Array.from(y)).length-1,l()):s.slice()},f.invertExtent=function(y){var w=s.indexOf(y);return w<0?[NaN,NaN]:w<1?[e,n[0]]:w>=r?[n[r-1],t]:[n[w-1],n[w]]},f.unknown=function(y){return arguments.length&&(A=y),f},f.thresholds=function(){return n.slice()},f.copy=function(){return cM().domain([e,t]).range(s).unknown(A)},oc.apply(vd(f),arguments)}function hM(){var e=[.5],t=[0,1],r,n=1;function s(A){return A!=null&&A<=A?t[uy(e,A,0,n)]:r}return s.domain=function(A){return arguments.length?(e=Array.from(A),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(A){return arguments.length?(t=Array.from(A),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(A){var f=t.indexOf(A);return[e[f-1],e[f]]},s.unknown=function(A){return arguments.length?(r=A,s):r},s.copy=function(){return hM().domain(e).range(t).unknown(r)},oc.apply(s,arguments)}const mx=new Date,yx=new Date;function Ao(e,t,r,n){function s(A){return e(A=arguments.length===0?new Date:new Date(+A)),A}return s.floor=A=>(e(A=new Date(+A)),A),s.ceil=A=>(e(A=new Date(A-1)),t(A,1),e(A),A),s.round=A=>{const f=s(A),l=s.ceil(A);return A-f<l-A?f:l},s.offset=(A,f)=>(t(A=new Date(+A),f==null?1:Math.floor(f)),A),s.range=(A,f,l)=>{const y=[];if(A=s.ceil(A),l=l==null?1:Math.floor(l),!(A<f)||!(l>0))return y;let w;do y.push(w=new Date(+A)),t(A,l),e(A);while(w<A&&A<f);return y},s.filter=A=>Ao(f=>{if(f>=f)for(;e(f),!A(f);)f.setTime(f-1)},(f,l)=>{if(f>=f)if(l<0)for(;++l<=0;)for(;t(f,-1),!A(f););else for(;--l>=0;)for(;t(f,1),!A(f););}),r&&(s.count=(A,f)=>(mx.setTime(+A),yx.setTime(+f),e(mx),e(yx),Math.floor(r(mx,yx))),s.every=A=>(A=Math.floor(A),!isFinite(A)||!(A>0)?null:A>1?s.filter(n?f=>n(f)%A===0:f=>s.count(0,f)%A===0):s)),s}const h_=Ao(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);h_.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ao(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):h_);h_.range;const $h=1e3,tc=$h*60,Zh=tc*60,nf=Zh*24,q5=nf*7,o3=nf*30,vx=nf*365,fp=Ao(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*$h)},(e,t)=>(t-e)/$h,e=>e.getUTCSeconds());fp.range;const G5=Ao(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*$h)},(e,t)=>{e.setTime(+e+t*tc)},(e,t)=>(t-e)/tc,e=>e.getMinutes());G5.range;const X5=Ao(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*tc)},(e,t)=>(t-e)/tc,e=>e.getUTCMinutes());X5.range;const $5=Ao(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*$h-e.getMinutes()*tc)},(e,t)=>{e.setTime(+e+t*Zh)},(e,t)=>(t-e)/Zh,e=>e.getHours());$5.range;const Z5=Ao(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Zh)},(e,t)=>(t-e)/Zh,e=>e.getUTCHours());Z5.range;const fy=Ao(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*tc)/nf,e=>e.getDate()-1);fy.range;const fw=Ao(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/nf,e=>e.getUTCDate()-1);fw.range;const fM=Ao(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/nf,e=>Math.floor(e/nf));fM.range;function Fp(e){return Ao(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*tc)/q5)}const dw=Fp(0),f_=Fp(1),G7=Fp(2),X7=Fp(3),qg=Fp(4),$7=Fp(5),Z7=Fp(6);dw.range;f_.range;G7.range;X7.range;qg.range;$7.range;Z7.range;function Up(e){return Ao(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/q5)}const pw=Up(0),d_=Up(1),W7=Up(2),Y7=Up(3),Gg=Up(4),J7=Up(5),ej=Up(6);pw.range;d_.range;W7.range;Y7.range;Gg.range;J7.range;ej.range;const W5=Ao(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());W5.range;const Y5=Ao(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Y5.range;const af=Ao(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());af.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ao(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});af.range;const sf=Ao(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());sf.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ao(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});sf.range;function dM(e,t,r,n,s,A){const f=[[fp,1,$h],[fp,5,5*$h],[fp,15,15*$h],[fp,30,30*$h],[A,1,tc],[A,5,5*tc],[A,15,15*tc],[A,30,30*tc],[s,1,Zh],[s,3,3*Zh],[s,6,6*Zh],[s,12,12*Zh],[n,1,nf],[n,2,2*nf],[r,1,q5],[t,1,o3],[t,3,3*o3],[e,1,vx]];function l(w,b,S){const U=b<w;U&&([w,b]=[b,w]);const I=S&&typeof S.range=="function"?S:y(w,b,S),z=I?I.range(w,+b+1):[];return U?z.reverse():z}function y(w,b,S){const U=Math.abs(b-w)/S,I=M5(([,,K])=>K).right(f,U);if(I===f.length)return e.every(sB(w/vx,b/vx,S));if(I===0)return h_.every(Math.max(sB(w,b,S),1));const[z,H]=f[U/f[I-1][2]<f[I][2]/U?I-1:I];return z.every(H)}return[l,y]}const[tj,rj]=dM(sf,Y5,pw,fM,Z5,X5),[nj,ij]=dM(af,W5,dw,fy,$5,G5);function _x(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function wx(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function A0(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function aj(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,A=e.days,f=e.shortDays,l=e.months,y=e.shortMonths,w=u0(s),b=c0(s),S=u0(A),U=c0(A),I=u0(f),z=c0(f),H=u0(l),K=c0(l),V=u0(y),re=c0(y),W={a:Ne,A:Ve,b:We,B:_t,c:null,d:f3,e:f3,f:Tj,g:Qj,G:Rj,H:Cj,I:Sj,j:Ej,L:pM,m:Ij,M:Fj,p:Te,q:ne,Q:g3,s:m3,S:Uj,u:Lj,U:Mj,V:Pj,w:Oj,W:Dj,x:null,X:null,y:kj,Y:Nj,Z:zj,"%":p3},le={a:we,A:Ue,b:De,B:Xe,c:null,d:d3,e:d3,f:Vj,g:t9,G:n9,H:Hj,I:jj,j:Kj,L:mM,m:qj,M:Gj,p:Je,q:dt,Q:g3,s:m3,S:Xj,u:$j,U:Zj,V:Wj,w:Yj,W:Jj,x:null,X:null,y:e9,Y:r9,Z:i9,"%":p3},ce={a:ze,A:ie,b:de,B:ve,c:_e,d:c3,e:c3,f:wj,g:u3,G:A3,H:h3,I:h3,j:mj,L:_j,m:gj,M:yj,p:pe,q:pj,Q:xj,s:Bj,S:vj,u:uj,U:cj,V:hj,w:Aj,W:fj,x:tt,X:Le,y:u3,Y:A3,Z:dj,"%":bj};W.x=me(r,W),W.X=me(n,W),W.c=me(t,W),le.x=me(r,le),le.X=me(n,le),le.c=me(t,le);function me(He,ft){return function(It){var ct=[],Xt=-1,$t=0,Pe=He.length,Ze,Nr,Er;for(It instanceof Date||(It=new Date(+It));++Xt<Pe;)He.charCodeAt(Xt)===37&&(ct.push(He.slice($t,Xt)),(Nr=l3[Ze=He.charAt(++Xt)])!=null?Ze=He.charAt(++Xt):Nr=Ze==="e"?" ":"0",(Er=ft[Ze])&&(Ze=Er(It,Nr)),ct.push(Ze),$t=Xt+1);return ct.push(He.slice($t,Xt)),ct.join("")}}function Ie(He,ft){return function(It){var ct=A0(1900,void 0,1),Xt=Fe(ct,He,It+="",0),$t,Pe;if(Xt!=It.length)return null;if("Q"in ct)return new Date(ct.Q);if("s"in ct)return new Date(ct.s*1e3+("L"in ct?ct.L:0));if(ft&&!("Z"in ct)&&(ct.Z=0),"p"in ct&&(ct.H=ct.H%12+ct.p*12),ct.m===void 0&&(ct.m="q"in ct?ct.q:0),"V"in ct){if(ct.V<1||ct.V>53)return null;"w"in ct||(ct.w=1),"Z"in ct?($t=wx(A0(ct.y,0,1)),Pe=$t.getUTCDay(),$t=Pe>4||Pe===0?d_.ceil($t):d_($t),$t=fw.offset($t,(ct.V-1)*7),ct.y=$t.getUTCFullYear(),ct.m=$t.getUTCMonth(),ct.d=$t.getUTCDate()+(ct.w+6)%7):($t=_x(A0(ct.y,0,1)),Pe=$t.getDay(),$t=Pe>4||Pe===0?f_.ceil($t):f_($t),$t=fy.offset($t,(ct.V-1)*7),ct.y=$t.getFullYear(),ct.m=$t.getMonth(),ct.d=$t.getDate()+(ct.w+6)%7)}else("W"in ct||"U"in ct)&&("w"in ct||(ct.w="u"in ct?ct.u%7:"W"in ct?1:0),Pe="Z"in ct?wx(A0(ct.y,0,1)).getUTCDay():_x(A0(ct.y,0,1)).getDay(),ct.m=0,ct.d="W"in ct?(ct.w+6)%7+ct.W*7-(Pe+5)%7:ct.w+ct.U*7-(Pe+6)%7);return"Z"in ct?(ct.H+=ct.Z/100|0,ct.M+=ct.Z%100,wx(ct)):_x(ct)}}function Fe(He,ft,It,ct){for(var Xt=0,$t=ft.length,Pe=It.length,Ze,Nr;Xt<$t;){if(ct>=Pe)return-1;if(Ze=ft.charCodeAt(Xt++),Ze===37){if(Ze=ft.charAt(Xt++),Nr=ce[Ze in l3?ft.charAt(Xt++):Ze],!Nr||(ct=Nr(He,It,ct))<0)return-1}else if(Ze!=It.charCodeAt(ct++))return-1}return ct}function pe(He,ft,It){var ct=w.exec(ft.slice(It));return ct?(He.p=b.get(ct[0].toLowerCase()),It+ct[0].length):-1}function ze(He,ft,It){var ct=I.exec(ft.slice(It));return ct?(He.w=z.get(ct[0].toLowerCase()),It+ct[0].length):-1}function ie(He,ft,It){var ct=S.exec(ft.slice(It));return ct?(He.w=U.get(ct[0].toLowerCase()),It+ct[0].length):-1}function de(He,ft,It){var ct=V.exec(ft.slice(It));return ct?(He.m=re.get(ct[0].toLowerCase()),It+ct[0].length):-1}function ve(He,ft,It){var ct=H.exec(ft.slice(It));return ct?(He.m=K.get(ct[0].toLowerCase()),It+ct[0].length):-1}function _e(He,ft,It){return Fe(He,t,ft,It)}function tt(He,ft,It){return Fe(He,r,ft,It)}function Le(He,ft,It){return Fe(He,n,ft,It)}function Ne(He){return f[He.getDay()]}function Ve(He){return A[He.getDay()]}function We(He){return y[He.getMonth()]}function _t(He){return l[He.getMonth()]}function Te(He){return s[+(He.getHours()>=12)]}function ne(He){return 1+~~(He.getMonth()/3)}function we(He){return f[He.getUTCDay()]}function Ue(He){return A[He.getUTCDay()]}function De(He){return y[He.getUTCMonth()]}function Xe(He){return l[He.getUTCMonth()]}function Je(He){return s[+(He.getUTCHours()>=12)]}function dt(He){return 1+~~(He.getUTCMonth()/3)}return{format:function(He){var ft=me(He+="",W);return ft.toString=function(){return He},ft},parse:function(He){var ft=Ie(He+="",!1);return ft.toString=function(){return He},ft},utcFormat:function(He){var ft=me(He+="",le);return ft.toString=function(){return He},ft},utcParse:function(He){var ft=Ie(He+="",!0);return ft.toString=function(){return He},ft}}}var l3={"-":"",_:" ",0:"0"},Mo=/^\s*\d+/,sj=/^%/,oj=/[\\^$*+?|[\]().{}]/g;function gi(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",A=s.length;return n+(A<r?new Array(r-A+1).join(t)+s:s)}function lj(e){return e.replace(oj,"\\$&")}function u0(e){return new RegExp("^(?:"+e.map(lj).join("|")+")","i")}function c0(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Aj(e,t,r){var n=Mo.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function uj(e,t,r){var n=Mo.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function cj(e,t,r){var n=Mo.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function hj(e,t,r){var n=Mo.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function fj(e,t,r){var n=Mo.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function A3(e,t,r){var n=Mo.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function u3(e,t,r){var n=Mo.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function dj(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function pj(e,t,r){var n=Mo.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function gj(e,t,r){var n=Mo.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function c3(e,t,r){var n=Mo.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function mj(e,t,r){var n=Mo.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function h3(e,t,r){var n=Mo.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function yj(e,t,r){var n=Mo.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function vj(e,t,r){var n=Mo.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function _j(e,t,r){var n=Mo.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function wj(e,t,r){var n=Mo.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function bj(e,t,r){var n=sj.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function xj(e,t,r){var n=Mo.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Bj(e,t,r){var n=Mo.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function f3(e,t){return gi(e.getDate(),t,2)}function Cj(e,t){return gi(e.getHours(),t,2)}function Sj(e,t){return gi(e.getHours()%12||12,t,2)}function Ej(e,t){return gi(1+fy.count(af(e),e),t,3)}function pM(e,t){return gi(e.getMilliseconds(),t,3)}function Tj(e,t){return pM(e,t)+"000"}function Ij(e,t){return gi(e.getMonth()+1,t,2)}function Fj(e,t){return gi(e.getMinutes(),t,2)}function Uj(e,t){return gi(e.getSeconds(),t,2)}function Lj(e){var t=e.getDay();return t===0?7:t}function Mj(e,t){return gi(dw.count(af(e)-1,e),t,2)}function gM(e){var t=e.getDay();return t>=4||t===0?qg(e):qg.ceil(e)}function Pj(e,t){return e=gM(e),gi(qg.count(af(e),e)+(af(e).getDay()===4),t,2)}function Oj(e){return e.getDay()}function Dj(e,t){return gi(f_.count(af(e)-1,e),t,2)}function kj(e,t){return gi(e.getFullYear()%100,t,2)}function Qj(e,t){return e=gM(e),gi(e.getFullYear()%100,t,2)}function Nj(e,t){return gi(e.getFullYear()%1e4,t,4)}function Rj(e,t){var r=e.getDay();return e=r>=4||r===0?qg(e):qg.ceil(e),gi(e.getFullYear()%1e4,t,4)}function zj(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+gi(t/60|0,"0",2)+gi(t%60,"0",2)}function d3(e,t){return gi(e.getUTCDate(),t,2)}function Hj(e,t){return gi(e.getUTCHours(),t,2)}function jj(e,t){return gi(e.getUTCHours()%12||12,t,2)}function Kj(e,t){return gi(1+fw.count(sf(e),e),t,3)}function mM(e,t){return gi(e.getUTCMilliseconds(),t,3)}function Vj(e,t){return mM(e,t)+"000"}function qj(e,t){return gi(e.getUTCMonth()+1,t,2)}function Gj(e,t){return gi(e.getUTCMinutes(),t,2)}function Xj(e,t){return gi(e.getUTCSeconds(),t,2)}function $j(e){var t=e.getUTCDay();return t===0?7:t}function Zj(e,t){return gi(pw.count(sf(e)-1,e),t,2)}function yM(e){var t=e.getUTCDay();return t>=4||t===0?Gg(e):Gg.ceil(e)}function Wj(e,t){return e=yM(e),gi(Gg.count(sf(e),e)+(sf(e).getUTCDay()===4),t,2)}function Yj(e){return e.getUTCDay()}function Jj(e,t){return gi(d_.count(sf(e)-1,e),t,2)}function e9(e,t){return gi(e.getUTCFullYear()%100,t,2)}function t9(e,t){return e=yM(e),gi(e.getUTCFullYear()%100,t,2)}function r9(e,t){return gi(e.getUTCFullYear()%1e4,t,4)}function n9(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Gg(e):Gg.ceil(e),gi(e.getUTCFullYear()%1e4,t,4)}function i9(){return"+0000"}function p3(){return"%"}function g3(e){return+e}function m3(e){return Math.floor(+e/1e3)}var hg,vM,_M;a9({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function a9(e){return hg=aj(e),vM=hg.format,hg.parse,_M=hg.utcFormat,hg.utcParse,hg}function s9(e){return new Date(e)}function o9(e){return e instanceof Date?+e:+new Date(+e)}function J5(e,t,r,n,s,A,f,l,y,w){var b=N5(),S=b.invert,U=b.domain,I=w(".%L"),z=w(":%S"),H=w("%I:%M"),K=w("%I %p"),V=w("%a %d"),re=w("%b %d"),W=w("%B"),le=w("%Y");function ce(me){return(y(me)<me?I:l(me)<me?z:f(me)<me?H:A(me)<me?K:n(me)<me?s(me)<me?V:re:r(me)<me?W:le)(me)}return b.invert=function(me){return new Date(S(me))},b.domain=function(me){return arguments.length?U(Array.from(me,o9)):U().map(s9)},b.ticks=function(me){var Ie=U();return e(Ie[0],Ie[Ie.length-1],me??10)},b.tickFormat=function(me,Ie){return Ie==null?ce:w(Ie)},b.nice=function(me){var Ie=U();return(!me||typeof me.range!="function")&&(me=t(Ie[0],Ie[Ie.length-1],me??10)),me?U(sM(Ie,me)):b},b.copy=function(){return hy(b,J5(e,t,r,n,s,A,f,l,y,w))},b}function l9(){return oc.apply(J5(nj,ij,af,W5,dw,fy,$5,G5,fp,vM).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function A9(){return oc.apply(J5(tj,rj,sf,Y5,pw,fw,Z5,X5,fp,_M).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function gw(){var e=0,t=1,r,n,s,A,f=uA,l=!1,y;function w(S){return S==null||isNaN(S=+S)?y:f(s===0?.5:(S=(A(S)-r)*s,l?Math.max(0,Math.min(1,S)):S))}w.domain=function(S){return arguments.length?([e,t]=S,r=A(e=+e),n=A(t=+t),s=r===n?0:1/(n-r),w):[e,t]},w.clamp=function(S){return arguments.length?(l=!!S,w):l},w.interpolator=function(S){return arguments.length?(f=S,w):f};function b(S){return function(U){var I,z;return arguments.length?([I,z]=U,f=S(I,z),w):[f(0),f(1)]}}return w.range=b(Wg),w.rangeRound=b(Q5),w.unknown=function(S){return arguments.length?(y=S,w):y},function(S){return A=S,r=S(e),n=S(t),s=r===n?0:1/(n-r),w}}function _d(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function wM(){var e=vd(gw()(uA));return e.copy=function(){return _d(e,wM())},cf.apply(e,arguments)}function bM(){var e=H5(gw()).domain([1,10]);return e.copy=function(){return _d(e,bM()).base(e.base())},cf.apply(e,arguments)}function xM(){var e=j5(gw());return e.copy=function(){return _d(e,xM()).constant(e.constant())},cf.apply(e,arguments)}function eC(){var e=K5(gw());return e.copy=function(){return _d(e,eC()).exponent(e.exponent())},cf.apply(e,arguments)}function u9(){return eC.apply(null,arguments).exponent(.5)}function BM(){var e=[],t=uA;function r(n){if(n!=null&&!isNaN(n=+n))return t((uy(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(ud),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,A)=>$H(e,A/n))},r.copy=function(){return BM(t).domain(e)},cf.apply(r,arguments)}function mw(){var e=0,t=.5,r=1,n=1,s,A,f,l,y,w=uA,b,S=!1,U;function I(H){return isNaN(H=+H)?U:(H=.5+((H=+b(H))-A)*(n*H<n*A?l:y),w(S?Math.max(0,Math.min(1,H)):H))}I.domain=function(H){return arguments.length?([e,t,r]=H,s=b(e=+e),A=b(t=+t),f=b(r=+r),l=s===A?0:.5/(A-s),y=A===f?0:.5/(f-A),n=A<s?-1:1,I):[e,t,r]},I.clamp=function(H){return arguments.length?(S=!!H,I):S},I.interpolator=function(H){return arguments.length?(w=H,I):w};function z(H){return function(K){var V,re,W;return arguments.length?([V,re,W]=K,w=b7(H,[V,re,W]),I):[w(0),w(.5),w(1)]}}return I.range=z(Wg),I.rangeRound=z(Q5),I.unknown=function(H){return arguments.length?(U=H,I):U},function(H){return b=H,s=H(e),A=H(t),f=H(r),l=s===A?0:.5/(A-s),y=A===f?0:.5/(f-A),n=A<s?-1:1,I}}function CM(){var e=vd(mw()(uA));return e.copy=function(){return _d(e,CM())},cf.apply(e,arguments)}function SM(){var e=H5(mw()).domain([.1,1,10]);return e.copy=function(){return _d(e,SM()).base(e.base())},cf.apply(e,arguments)}function EM(){var e=j5(mw());return e.copy=function(){return _d(e,EM()).constant(e.constant())},cf.apply(e,arguments)}function tC(){var e=K5(mw());return e.copy=function(){return _d(e,tC()).exponent(e.exponent())},cf.apply(e,arguments)}function c9(){return tC.apply(null,arguments).exponent(.5)}const v0=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:O5,scaleDiverging:CM,scaleDivergingLog:SM,scaleDivergingPow:tC,scaleDivergingSqrt:c9,scaleDivergingSymlog:EM,scaleIdentity:aM,scaleImplicit:oB,scaleLinear:iM,scaleLog:oM,scaleOrdinal:P5,scalePoint:YH,scalePow:V5,scaleQuantile:uM,scaleQuantize:cM,scaleRadial:AM,scaleSequential:wM,scaleSequentialLog:bM,scaleSequentialPow:eC,scaleSequentialQuantile:BM,scaleSequentialSqrt:u9,scaleSequentialSymlog:xM,scaleSqrt:V7,scaleSymlog:lM,scaleThreshold:hM,scaleTime:l9,scaleUtc:A9,tickFormat:nM},Symbol.toStringTag,{value:"Module"}));var wd=e=>e.chartData,h9=Mt([wd],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),rC=(e,t,r,n)=>n?h9(e):wd(e);function pd(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Lo(t)&&Lo(r))return!0}return!1}function y3(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function TM(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,s,A;if(Lo(r))s=r;else if(typeof r=="function")return;if(Lo(n))A=n;else if(typeof n=="function")return;var f=[s,A];if(pd(f))return f}}function f9(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(pd(n))return y3(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[s,A]=e,f,l;if(s==="auto")t!=null&&(f=Math.min(...t));else if(Yr(s))f=s;else if(typeof s=="function")try{t!=null&&(f=s(t?.[0]))}catch{}else if(typeof s=="string"&&qE.test(s)){var y=qE.exec(s);if(y==null||t==null)f=void 0;else{var w=+y[1];f=t[0]-w}}else f=t?.[0];if(A==="auto")t!=null&&(l=Math.max(...t));else if(Yr(A))l=A;else if(typeof A=="function")try{t!=null&&(l=A(t?.[1]))}catch{}else if(typeof A=="string"&&GE.test(A)){var b=GE.exec(A);if(b==null||t==null)l=void 0;else{var S=+b[1];l=t[1]+S}}else l=t?.[1];var U=[f,l];if(pd(U))return t==null?U:y3(U,t,r)}}}var Yg=1e9,d9={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},iC,Da=!0,ac="[DecimalError] ",vp=ac+"Invalid argument: ",nC=ac+"Exponent out of range: ",Jg=Math.floor,op=Math.pow,p9=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,bu,Io=1e7,xa=7,IM=9007199254740991,p_=Jg(IM/xa),Sr={};Sr.absoluteValue=Sr.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Sr.comparedTo=Sr.cmp=function(e){var t,r,n,s,A=this;if(e=new A.constructor(e),A.s!==e.s)return A.s||-e.s;if(A.e!==e.e)return A.e>e.e^A.s<0?1:-1;for(n=A.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(A.d[t]!==e.d[t])return A.d[t]>e.d[t]^A.s<0?1:-1;return n===s?0:n>s^A.s<0?1:-1};Sr.decimalPlaces=Sr.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*xa;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Sr.dividedBy=Sr.div=function(e){return Yh(this,new this.constructor(e))};Sr.dividedToIntegerBy=Sr.idiv=function(e){var t=this,r=t.constructor;return sa(Yh(t,new r(e),0,1),r.precision)};Sr.equals=Sr.eq=function(e){return!this.cmp(e)};Sr.exponent=function(){return Rs(this)};Sr.greaterThan=Sr.gt=function(e){return this.cmp(e)>0};Sr.greaterThanOrEqualTo=Sr.gte=function(e){return this.cmp(e)>=0};Sr.isInteger=Sr.isint=function(){return this.e>this.d.length-2};Sr.isNegative=Sr.isneg=function(){return this.s<0};Sr.isPositive=Sr.ispos=function(){return this.s>0};Sr.isZero=function(){return this.s===0};Sr.lessThan=Sr.lt=function(e){return this.cmp(e)<0};Sr.lessThanOrEqualTo=Sr.lte=function(e){return this.cmp(e)<1};Sr.logarithm=Sr.log=function(e){var t,r=this,n=r.constructor,s=n.precision,A=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(bu))throw Error(ac+"NaN");if(r.s<1)throw Error(ac+(r.s?"NaN":"-Infinity"));return r.eq(bu)?new n(0):(Da=!1,t=Yh(G0(r,A),G0(e,A),A),Da=!0,sa(t,s))};Sr.minus=Sr.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?LM(t,e):FM(t,(e.s=-e.s,e))};Sr.modulo=Sr.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(ac+"NaN");return r.s?(Da=!1,t=Yh(r,e,0,1).times(e),Da=!0,r.minus(t)):sa(new n(r),s)};Sr.naturalExponential=Sr.exp=function(){return UM(this)};Sr.naturalLogarithm=Sr.ln=function(){return G0(this)};Sr.negated=Sr.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Sr.plus=Sr.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?FM(t,e):LM(t,(e.s=-e.s,e))};Sr.precision=Sr.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(vp+e);if(t=Rs(s)+1,n=s.d.length-1,r=n*xa+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Sr.squareRoot=Sr.sqrt=function(){var e,t,r,n,s,A,f,l=this,y=l.constructor;if(l.s<1){if(!l.s)return new y(0);throw Error(ac+"NaN")}for(e=Rs(l),Da=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=hh(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Jg((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new y(t)):n=new y(s.toString()),r=y.precision,s=f=r+3;;)if(A=n,n=A.plus(Yh(l,A,f+2)).times(.5),hh(A.d).slice(0,f)===(t=hh(n.d)).slice(0,f)){if(t=t.slice(f-3,f+1),s==f&&t=="4999"){if(sa(A,r+1,0),A.times(A).eq(l)){n=A;break}}else if(t!="9999")break;f+=4}return Da=!0,sa(n,r)};Sr.times=Sr.mul=function(e){var t,r,n,s,A,f,l,y,w,b=this,S=b.constructor,U=b.d,I=(e=new S(e)).d;if(!b.s||!e.s)return new S(0);for(e.s*=b.s,r=b.e+e.e,y=U.length,w=I.length,y<w&&(A=U,U=I,I=A,f=y,y=w,w=f),A=[],f=y+w,n=f;n--;)A.push(0);for(n=w;--n>=0;){for(t=0,s=y+n;s>n;)l=A[s]+I[n]*U[s-n-1]+t,A[s--]=l%Io|0,t=l/Io|0;A[s]=(A[s]+t)%Io|0}for(;!A[--f];)A.pop();return t?++r:A.shift(),e.d=A,e.e=r,Da?sa(e,S.precision):e};Sr.toDecimalPlaces=Sr.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(_h(e,0,Yg),t===void 0?t=n.rounding:_h(t,0,8),sa(r,e+Rs(r)+1,t))};Sr.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=Cp(n,!0):(_h(e,0,Yg),t===void 0?t=s.rounding:_h(t,0,8),n=sa(new s(n),e+1,t),r=Cp(n,!0,e+1)),r};Sr.toFixed=function(e,t){var r,n,s=this,A=s.constructor;return e===void 0?Cp(s):(_h(e,0,Yg),t===void 0?t=A.rounding:_h(t,0,8),n=sa(new A(s),e+Rs(s)+1,t),r=Cp(n.abs(),!1,e+Rs(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};Sr.toInteger=Sr.toint=function(){var e=this,t=e.constructor;return sa(new t(e),Rs(e)+1,t.rounding)};Sr.toNumber=function(){return+this};Sr.toPower=Sr.pow=function(e){var t,r,n,s,A,f,l=this,y=l.constructor,w=12,b=+(e=new y(e));if(!e.s)return new y(bu);if(l=new y(l),!l.s){if(e.s<1)throw Error(ac+"Infinity");return l}if(l.eq(bu))return l;if(n=y.precision,e.eq(bu))return sa(l,n);if(t=e.e,r=e.d.length-1,f=t>=r,A=l.s,f){if((r=b<0?-b:b)<=IM){for(s=new y(bu),t=Math.ceil(n/xa+4),Da=!1;r%2&&(s=s.times(l),_3(s.d,t)),r=Jg(r/2),r!==0;)l=l.times(l),_3(l.d,t);return Da=!0,e.s<0?new y(bu).div(s):sa(s,n)}}else if(A<0)throw Error(ac+"NaN");return A=A<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Da=!1,s=e.times(G0(l,n+w)),Da=!0,s=UM(s),s.s=A,s};Sr.toPrecision=function(e,t){var r,n,s=this,A=s.constructor;return e===void 0?(r=Rs(s),n=Cp(s,r<=A.toExpNeg||r>=A.toExpPos)):(_h(e,1,Yg),t===void 0?t=A.rounding:_h(t,0,8),s=sa(new A(s),e,t),r=Rs(s),n=Cp(s,e<=r||r<=A.toExpNeg,e)),n};Sr.toSignificantDigits=Sr.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(_h(e,1,Yg),t===void 0?t=n.rounding:_h(t,0,8)),sa(new n(r),e,t)};Sr.toString=Sr.valueOf=Sr.val=Sr.toJSON=Sr[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Rs(e),r=e.constructor;return Cp(e,t<=r.toExpNeg||t>=r.toExpPos)};function FM(e,t){var r,n,s,A,f,l,y,w,b=e.constructor,S=b.precision;if(!e.s||!t.s)return t.s||(t=new b(e)),Da?sa(t,S):t;if(y=e.d,w=t.d,f=e.e,s=t.e,y=y.slice(),A=f-s,A){for(A<0?(n=y,A=-A,l=w.length):(n=w,s=f,l=y.length),f=Math.ceil(S/xa),l=f>l?f+1:l+1,A>l&&(A=l,n.length=1),n.reverse();A--;)n.push(0);n.reverse()}for(l=y.length,A=w.length,l-A<0&&(A=l,n=w,w=y,y=n),r=0;A;)r=(y[--A]=y[A]+w[A]+r)/Io|0,y[A]%=Io;for(r&&(y.unshift(r),++s),l=y.length;y[--l]==0;)y.pop();return t.d=y,t.e=s,Da?sa(t,S):t}function _h(e,t,r){if(e!==~~e||e<t||e>r)throw Error(vp+e)}function hh(e){var t,r,n,s=e.length-1,A="",f=e[0];if(s>0){for(A+=f,t=1;t<s;t++)n=e[t]+"",r=xa-n.length,r&&(A+=rd(r)),A+=n;f=e[t],n=f+"",r=xa-n.length,r&&(A+=rd(r))}else if(f===0)return"0";for(;f%10===0;)f/=10;return A+f}var Yh=(function(){function e(n,s){var A,f=0,l=n.length;for(n=n.slice();l--;)A=n[l]*s+f,n[l]=A%Io|0,f=A/Io|0;return f&&n.unshift(f),n}function t(n,s,A,f){var l,y;if(A!=f)y=A>f?1:-1;else for(l=y=0;l<A;l++)if(n[l]!=s[l]){y=n[l]>s[l]?1:-1;break}return y}function r(n,s,A){for(var f=0;A--;)n[A]-=f,f=n[A]<s[A]?1:0,n[A]=f*Io+n[A]-s[A];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,A,f){var l,y,w,b,S,U,I,z,H,K,V,re,W,le,ce,me,Ie,Fe,pe=n.constructor,ze=n.s==s.s?1:-1,ie=n.d,de=s.d;if(!n.s)return new pe(n);if(!s.s)throw Error(ac+"Division by zero");for(y=n.e-s.e,Ie=de.length,ce=ie.length,I=new pe(ze),z=I.d=[],w=0;de[w]==(ie[w]||0);)++w;if(de[w]>(ie[w]||0)&&--y,A==null?re=A=pe.precision:f?re=A+(Rs(n)-Rs(s))+1:re=A,re<0)return new pe(0);if(re=re/xa+2|0,w=0,Ie==1)for(b=0,de=de[0],re++;(w<ce||b)&&re--;w++)W=b*Io+(ie[w]||0),z[w]=W/de|0,b=W%de|0;else{for(b=Io/(de[0]+1)|0,b>1&&(de=e(de,b),ie=e(ie,b),Ie=de.length,ce=ie.length),le=Ie,H=ie.slice(0,Ie),K=H.length;K<Ie;)H[K++]=0;Fe=de.slice(),Fe.unshift(0),me=de[0],de[1]>=Io/2&&++me;do b=0,l=t(de,H,Ie,K),l<0?(V=H[0],Ie!=K&&(V=V*Io+(H[1]||0)),b=V/me|0,b>1?(b>=Io&&(b=Io-1),S=e(de,b),U=S.length,K=H.length,l=t(S,H,U,K),l==1&&(b--,r(S,Ie<U?Fe:de,U))):(b==0&&(l=b=1),S=de.slice()),U=S.length,U<K&&S.unshift(0),r(H,S,K),l==-1&&(K=H.length,l=t(de,H,Ie,K),l<1&&(b++,r(H,Ie<K?Fe:de,K))),K=H.length):l===0&&(b++,H=[0]),z[w++]=b,l&&H[0]?H[K++]=ie[le]||0:(H=[ie[le]],K=1);while((le++<ce||H[0]!==void 0)&&re--)}return z[0]||z.shift(),I.e=y,sa(I,f?A+Rs(I)+1:A)}})();function UM(e,t){var r,n,s,A,f,l,y=0,w=0,b=e.constructor,S=b.precision;if(Rs(e)>16)throw Error(nC+Rs(e));if(!e.s)return new b(bu);for(Da=!1,l=S,f=new b(.03125);e.abs().gte(.1);)e=e.times(f),w+=5;for(n=Math.log(op(2,w))/Math.LN10*2+5|0,l+=n,r=s=A=new b(bu),b.precision=l;;){if(s=sa(s.times(e),l),r=r.times(++y),f=A.plus(Yh(s,r,l)),hh(f.d).slice(0,l)===hh(A.d).slice(0,l)){for(;w--;)A=sa(A.times(A),l);return b.precision=S,t==null?(Da=!0,sa(A,S)):A}A=f}}function Rs(e){for(var t=e.e*xa,r=e.d[0];r>=10;r/=10)t++;return t}function bx(e,t,r){if(t>e.LN10.sd())throw Da=!0,r&&(e.precision=r),Error(ac+"LN10 precision limit exceeded");return sa(new e(e.LN10),t)}function rd(e){for(var t="";e--;)t+="0";return t}function G0(e,t){var r,n,s,A,f,l,y,w,b,S=1,U=10,I=e,z=I.d,H=I.constructor,K=H.precision;if(I.s<1)throw Error(ac+(I.s?"NaN":"-Infinity"));if(I.eq(bu))return new H(0);if(t==null?(Da=!1,w=K):w=t,I.eq(10))return t==null&&(Da=!0),bx(H,w);if(w+=U,H.precision=w,r=hh(z),n=r.charAt(0),A=Rs(I),Math.abs(A)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)I=I.times(e),r=hh(I.d),n=r.charAt(0),S++;A=Rs(I),n>1?(I=new H("0."+r),A++):I=new H(n+"."+r.slice(1))}else return y=bx(H,w+2,K).times(A+""),I=G0(new H(n+"."+r.slice(1)),w-U).plus(y),H.precision=K,t==null?(Da=!0,sa(I,K)):I;for(l=f=I=Yh(I.minus(bu),I.plus(bu),w),b=sa(I.times(I),w),s=3;;){if(f=sa(f.times(b),w),y=l.plus(Yh(f,new H(s),w)),hh(y.d).slice(0,w)===hh(l.d).slice(0,w))return l=l.times(2),A!==0&&(l=l.plus(bx(H,w+2,K).times(A+""))),l=Yh(l,new H(S),w),H.precision=K,t==null?(Da=!0,sa(l,K)):l;l=y,s+=2}}function v3(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=Jg(r/xa),e.d=[],n=(r+1)%xa,r<0&&(n+=xa),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=xa;n<s;)e.d.push(+t.slice(n,n+=xa));t=t.slice(n),n=xa-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),Da&&(e.e>p_||e.e<-p_))throw Error(nC+r)}else e.s=0,e.e=0,e.d=[0];return e}function sa(e,t,r){var n,s,A,f,l,y,w,b,S=e.d;for(f=1,A=S[0];A>=10;A/=10)f++;if(n=t-f,n<0)n+=xa,s=t,w=S[b=0];else{if(b=Math.ceil((n+1)/xa),A=S.length,b>=A)return e;for(w=A=S[b],f=1;A>=10;A/=10)f++;n%=xa,s=n-xa+f}if(r!==void 0&&(A=op(10,f-s-1),l=w/A%10|0,y=t<0||S[b+1]!==void 0||w%A,y=r<4?(l||y)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||y||r==6&&(n>0?s>0?w/op(10,f-s):0:S[b-1])%10&1||r==(e.s<0?8:7))),t<1||!S[0])return y?(A=Rs(e),S.length=1,t=t-A-1,S[0]=op(10,(xa-t%xa)%xa),e.e=Jg(-t/xa)||0):(S.length=1,S[0]=e.e=e.s=0),e;if(n==0?(S.length=b,A=1,b--):(S.length=b+1,A=op(10,xa-n),S[b]=s>0?(w/op(10,f-s)%op(10,s)|0)*A:0),y)for(;;)if(b==0){(S[0]+=A)==Io&&(S[0]=1,++e.e);break}else{if(S[b]+=A,S[b]!=Io)break;S[b--]=0,A=1}for(n=S.length;S[--n]===0;)S.pop();if(Da&&(e.e>p_||e.e<-p_))throw Error(nC+Rs(e));return e}function LM(e,t){var r,n,s,A,f,l,y,w,b,S,U=e.constructor,I=U.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new U(e),Da?sa(t,I):t;if(y=e.d,S=t.d,n=t.e,w=e.e,y=y.slice(),f=w-n,f){for(b=f<0,b?(r=y,f=-f,l=S.length):(r=S,n=w,l=y.length),s=Math.max(Math.ceil(I/xa),l)+2,f>s&&(f=s,r.length=1),r.reverse(),s=f;s--;)r.push(0);r.reverse()}else{for(s=y.length,l=S.length,b=s<l,b&&(l=s),s=0;s<l;s++)if(y[s]!=S[s]){b=y[s]<S[s];break}f=0}for(b&&(r=y,y=S,S=r,t.s=-t.s),l=y.length,s=S.length-l;s>0;--s)y[l++]=0;for(s=S.length;s>f;){if(y[--s]<S[s]){for(A=s;A&&y[--A]===0;)y[A]=Io-1;--y[A],y[s]+=Io}y[s]-=S[s]}for(;y[--l]===0;)y.pop();for(;y[0]===0;y.shift())--n;return y[0]?(t.d=y,t.e=n,Da?sa(t,I):t):new U(0)}function Cp(e,t,r){var n,s=Rs(e),A=hh(e.d),f=A.length;return t?(r&&(n=r-f)>0?A=A.charAt(0)+"."+A.slice(1)+rd(n):f>1&&(A=A.charAt(0)+"."+A.slice(1)),A=A+(s<0?"e":"e+")+s):s<0?(A="0."+rd(-s-1)+A,r&&(n=r-f)>0&&(A+=rd(n))):s>=f?(A+=rd(s+1-f),r&&(n=r-s-1)>0&&(A=A+"."+rd(n))):((n=s+1)<f&&(A=A.slice(0,n)+"."+A.slice(n)),r&&(n=r-f)>0&&(s+1===f&&(A+="."),A+=rd(n))),e.s<0?"-"+A:A}function _3(e,t){if(e.length>t)return e.length=t,!0}function MM(e){var t,r,n;function s(A){var f=this;if(!(f instanceof s))return new s(A);if(f.constructor=s,A instanceof s){f.s=A.s,f.e=A.e,f.d=(A=A.d)?A.slice():A;return}if(typeof A=="number"){if(A*0!==0)throw Error(vp+A);if(A>0)f.s=1;else if(A<0)A=-A,f.s=-1;else{f.s=0,f.e=0,f.d=[0];return}if(A===~~A&&A<1e7){f.e=0,f.d=[A];return}return v3(f,A.toString())}else if(typeof A!="string")throw Error(vp+A);if(A.charCodeAt(0)===45?(A=A.slice(1),f.s=-1):f.s=1,p9.test(A))v3(f,A);else throw Error(vp+A)}if(s.prototype=Sr,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=MM,s.config=s.set=g9,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function g9(e){if(!e||typeof e!="object")throw Error(ac+"Object expected");var t,r,n,s=["precision",1,Yg,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(Jg(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(vp+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(vp+r+": "+n);return this}var iC=MM(d9);bu=new iC(1);const Qi=iC;var m9=e=>e,PM={},OM=e=>e===PM,w3=e=>function t(){return arguments.length===0||arguments.length===1&&OM(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},DM=(e,t)=>e===1?t:w3(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];var A=n.filter(f=>f!==PM).length;return A>=e?t(...n):DM(e-A,w3(function(){for(var f=arguments.length,l=new Array(f),y=0;y<f;y++)l[y]=arguments[y];var w=n.map(b=>OM(b)?l.shift():b);return t(...w,...l)}))}),y9=e=>DM(e.length,e),cB=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},v9=y9((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),_9=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return m9;var s=r.reverse(),A=s[0],f=s.slice(1);return function(){return f.reduce((l,y)=>y(l),A(...arguments))}},hB=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function kM(e){var t;return e===0?t=1:t=Math.floor(new Qi(e).abs().log(10).toNumber())+1,t}function QM(e,t,r){for(var n=new Qi(e),s=0,A=[];n.lt(t)&&s<1e5;)A.push(n.toNumber()),n=n.add(r),s++;return A}var NM=e=>{var[t,r]=e,[n,s]=[t,r];return t>r&&([n,s]=[r,t]),[n,s]},RM=(e,t,r)=>{if(e.lte(0))return new Qi(0);var n=kM(e.toNumber()),s=new Qi(10).pow(n),A=e.div(s),f=n!==1?.05:.1,l=new Qi(Math.ceil(A.div(f).toNumber())).add(r).mul(f),y=l.mul(s);return t?new Qi(y.toNumber()):new Qi(Math.ceil(y.toNumber()))},w9=(e,t,r)=>{var n=new Qi(1),s=new Qi(e);if(!s.isint()&&r){var A=Math.abs(e);A<1?(n=new Qi(10).pow(kM(e)-1),s=new Qi(Math.floor(s.div(n).toNumber())).mul(n)):A>1&&(s=new Qi(Math.floor(e)))}else e===0?s=new Qi(Math.floor((t-1)/2)):r||(s=new Qi(Math.floor(e)));var f=Math.floor((t-1)/2),l=_9(v9(y=>s.add(new Qi(y-f).mul(n)).toNumber()),cB);return l(0,t)},zM=function(t,r,n,s){var A=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Qi(0),tickMin:new Qi(0),tickMax:new Qi(0)};var f=RM(new Qi(r).sub(t).div(n-1),s,A),l;t<=0&&r>=0?l=new Qi(0):(l=new Qi(t).add(r).div(2),l=l.sub(new Qi(l).mod(f)));var y=Math.ceil(l.sub(t).div(f).toNumber()),w=Math.ceil(new Qi(r).sub(l).div(f).toNumber()),b=y+w+1;return b>n?zM(t,r,n,s,A+1):(b<n&&(w=r>0?w+(n-b):w,y=r>0?y:y+(n-b)),{step:f,tickMin:l.sub(new Qi(y).mul(f)),tickMax:l.add(new Qi(w).mul(f))})},b9=function(t){var[r,n]=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,f=Math.max(s,2),[l,y]=NM([r,n]);if(l===-1/0||y===1/0){var w=y===1/0?[l,...cB(0,s-1).map(()=>1/0)]:[...cB(0,s-1).map(()=>-1/0),y];return r>n?hB(w):w}if(l===y)return w9(l,s,A);var{step:b,tickMin:S,tickMax:U}=zM(l,y,f,A,0),I=QM(S,U.add(new Qi(.1).mul(b)),b);return r>n?hB(I):I},x9=function(t,r){var[n,s]=t,A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[f,l]=NM([n,s]);if(f===-1/0||l===1/0)return[n,s];if(f===l)return[f];var y=Math.max(r,2),w=RM(new Qi(l).sub(f).div(y-1),A,0),b=[...QM(new Qi(f),new Qi(l),w),l];return A===!1&&(b=b.map(S=>Math.round(S))),n>s?hB(b):b},B9=e=>e.rootProps.barCategoryGap,yw=e=>e.rootProps.stackOffset,HM=e=>e.rootProps.reverseStackOrder,aC=e=>e.options.chartName,sC=e=>e.rootProps.syncId,jM=e=>e.rootProps.syncMethod,oC=e=>e.options.eventEmitter,cA={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Gh={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},wu={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},vw=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},C9={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Gh.angleAxisId,includeHidden:!1,name:void 0,reversed:Gh.reversed,scale:Gh.scale,tick:Gh.tick,tickCount:void 0,ticks:void 0,type:Gh.type,unit:void 0},S9={allowDataOverflow:wu.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:wu.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:wu.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:wu.scale,tick:wu.tick,tickCount:wu.tickCount,ticks:void 0,type:wu.type,unit:void 0},E9={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Gh.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Gh.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Gh.scale,tick:Gh.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},T9={allowDataOverflow:wu.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:wu.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:wu.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:wu.scale,tick:wu.tick,tickCount:wu.tickCount,ticks:void 0,type:"category",unit:void 0},lC=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?E9:C9,AC=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?T9:S9,_w=e=>e.polarOptions,uC=Mt([Af,uf,tl],xH),KM=Mt([_w,uC],(e,t)=>{if(e!=null)return dd(e.innerRadius,t,0)}),VM=Mt([_w,uC],(e,t)=>{if(e!=null)return dd(e.outerRadius,t,t*.8)}),I9=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},qM=Mt([_w],I9);Mt([lC,qM],vw);var GM=Mt([uC,KM,VM],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});Mt([AC,GM],vw);var XM=Mt([Ca,_w,KM,VM,Af,uf],(e,t,r,n,s,A)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:f,cy:l,startAngle:y,endAngle:w}=t;return{cx:dd(f,s,s/2),cy:dd(l,A,A/2),innerRadius:r,outerRadius:n,startAngle:y,endAngle:w,clockWise:!1}}}),uo=(e,t)=>t,ww=(e,t,r)=>r;function $M(e){return e?.id}function ZM(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:s,dataKey:A}=r,f=new Map;return e.forEach(l=>{var y,w=(y=l.data)!==null&&y!==void 0?y:n;if(!(w==null||w.length===0)){var b=$M(l);w.forEach((S,U)=>{var I=A==null||s?U:String(Ql(S,A,null)),z=Ql(S,l.dataKey,0),H;f.has(I)?H=f.get(I):H={},Object.assign(H,{[b]:z}),f.set(I,H)})}}),Array.from(f.values())}function cC(e){return e.stackId!=null&&e.dataKey!=null}var bw=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function xw(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function F9(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var co=e=>{var t=Ca(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},em=e=>e.tooltip.settings.axisId;function b3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function g_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b3(Object(r),!0).forEach(function(n){U9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U9(e,t,r){return(t=L9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L9(e){var t=M9(e,"string");return typeof t=="symbol"?t:t+""}function M9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fB=[0,"auto"],Eo={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},WM=(e,t)=>e.cartesianAxis.xAxis[t],hf=(e,t)=>{var r=WM(e,t);return r??Eo},To={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:fB,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:ly},YM=(e,t)=>e.cartesianAxis.yAxis[t],ff=(e,t)=>{var r=YM(e,t);return r??To},P9={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},hC=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??P9},dA=(e,t,r)=>{switch(t){case"xAxis":return hf(e,r);case"yAxis":return ff(e,r);case"zAxis":return hC(e,r);case"angleAxis":return lC(e,r);case"radiusAxis":return AC(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},O9=(e,t,r)=>{switch(t){case"xAxis":return hf(e,r);case"yAxis":return ff(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},dy=(e,t,r)=>{switch(t){case"xAxis":return hf(e,r);case"yAxis":return ff(e,r);case"angleAxis":return lC(e,r);case"radiusAxis":return AC(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},JM=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function eP(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var tP=e=>e.graphicalItems.cartesianItems,D9=Mt([uo,ww],eP),rP=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),py=Mt([tP,dA,D9],rP,{memoizeOptions:{resultEqualityCheck:xw}}),nP=Mt([py],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(cC)),iP=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),k9=Mt([py],iP),aP=e=>e.map(t=>t.data).filter(Boolean).flat(1),Q9=Mt([py],aP,{memoizeOptions:{resultEqualityCheck:xw}}),sP=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:s}=t;return e.length>0?e:r.slice(n,s+1)},fC=Mt([Q9,rC],sP),oP=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:Ql(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(s=>({value:Ql(s,n)}))):e.map(n=>({value:n})),Bw=Mt([fC,dA,py],oP);function lP(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function x1(e){if(mh(e)||e instanceof Date){var t=Number(e);if(Lo(t))return t}}function x3(e){if(Array.isArray(e)){var t=[x1(e[0]),x1(e[1])];return pd(t)?t:void 0}var r=x1(e);if(r!=null)return[r,r]}function of(e){return e.map(x1).filter(FQ)}function N9(e,t,r){return!r||typeof t!="number"||gh(t)?[]:r.length?of(r.flatMap(n=>{var s=Ql(e,n.dataKey),A,f;if(Array.isArray(s)?[A,f]=s:A=f=s,!(!Lo(A)||!Lo(f)))return[t-A,t+f]})):[]}var ho=e=>{var t=co(e),r=em(e);return dy(e,t,r)},gy=Mt([ho],e=>e?.dataKey),R9=Mt([nP,rC,ho],ZM),AP=(e,t,r,n)=>{var s={},A=t.reduce((f,l)=>(l.stackId==null||(f[l.stackId]==null&&(f[l.stackId]=[]),f[l.stackId].push(l)),f),s);return Object.fromEntries(Object.entries(A).map(f=>{var[l,y]=f,w=n?[...y].reverse():y,b=w.map($M);return[l,{stackedData:rR(e,b,r),graphicalItems:w}]}))},z9=Mt([R9,nP,yw,HM],AP),uP=(e,t,r,n)=>{var{dataStartIndex:s,dataEndIndex:A}=t;if(n==null&&r!=="zAxis"){var f=aR(e,s,A);if(!(f!=null&&f[0]===0&&f[1]===0))return f}},H9=Mt([dA],e=>e.allowDataOverflow),dC=e=>{var t;if(e==null||!("domain"in e))return fB;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=of(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:fB},cP=Mt([dA],dC),hP=Mt([cP,H9],TM),j9=Mt([z9,wd,uo,hP],uP,{memoizeOptions:{resultEqualityCheck:bw}}),pC=e=>e.errorBars,K9=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>lP(r,n)),m_=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r.filter(Boolean);if(s.length!==0){var A=s.flat(),f=Math.min(...A),l=Math.max(...A);return[f,l]}},fP=(e,t,r,n,s)=>{var A,f;if(r.length>0&&e.forEach(l=>{r.forEach(y=>{var w,b,S=(w=n[y.id])===null||w===void 0?void 0:w.filter(V=>lP(s,V)),U=Ql(l,(b=t.dataKey)!==null&&b!==void 0?b:y.dataKey),I=N9(l,U,S);if(I.length>=2){var z=Math.min(...I),H=Math.max(...I);(A==null||z<A)&&(A=z),(f==null||H>f)&&(f=H)}var K=x3(U);K!=null&&(A=A==null?K[0]:Math.min(A,K[0]),f=f==null?K[1]:Math.max(f,K[1]))})}),t?.dataKey!=null&&e.forEach(l=>{var y=x3(Ql(l,t.dataKey));y!=null&&(A=A==null?y[0]:Math.min(A,y[0]),f=f==null?y[1]:Math.max(f,y[1]))}),Lo(A)&&Lo(f))return[A,f]},V9=Mt([fC,dA,k9,pC,uo],fP,{memoizeOptions:{resultEqualityCheck:bw}});function q9(e){var{value:t}=e;if(mh(t)||t instanceof Date)return t}var G9=(e,t,r)=>{var n=e.map(q9).filter(s=>s!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&bU(n))?GL(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},dP=e=>e.referenceElements.dots,tm=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),X9=Mt([dP,uo,ww],tm),pP=e=>e.referenceElements.areas,$9=Mt([pP,uo,ww],tm),gP=e=>e.referenceElements.lines,Z9=Mt([gP,uo,ww],tm),mP=(e,t)=>{var r=of(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},W9=Mt(X9,uo,mP),yP=(e,t)=>{var r=of(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Y9=Mt([$9,uo],yP);function J9(e){var t;if(e.x!=null)return of([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:of(r)}function eK(e){var t;if(e.y!=null)return of([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:of(r)}var vP=(e,t)=>{var r=e.flatMap(n=>t==="xAxis"?J9(n):eK(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},tK=Mt([Z9,uo],vP),rK=Mt(W9,tK,Y9,(e,t,r)=>m_(e,r,t)),_P=(e,t,r,n,s,A,f,l)=>{if(r!=null)return r;var y=f==="vertical"&&l==="xAxis"||f==="horizontal"&&l==="yAxis",w=y?m_(n,A,s):m_(A,s);return f9(t,w,e.allowDataOverflow)},nK=Mt([dA,cP,hP,j9,V9,rK,Ca,uo],_P,{memoizeOptions:{resultEqualityCheck:bw}}),iK=[0,1],wP=(e,t,r,n,s,A,f)=>{if(!((e==null||r==null||r.length===0)&&f===void 0)){var{dataKey:l,type:y}=e,w=yd(t,A);if(w&&l==null){var b;return GL(0,(b=r?.length)!==null&&b!==void 0?b:0)}return y==="category"?G9(n,e,w):s==="expand"?iK:f}},gC=Mt([dA,Ca,fC,Bw,yw,uo,nK],wP),bP=(e,t,r,n,s)=>{if(e!=null){var{scale:A,type:f}=e;if(A==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":f==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":f==="category"?"band":"linear";if(typeof A=="string"){var l="scale".concat(ny(A));return l in v0?l:"point"}}},my=Mt([dA,Ca,JM,aC,uo],bP);function aK(e){if(e!=null){if(e in v0)return v0[e]();var t="scale".concat(ny(e));if(t in v0)return v0[t]()}}function mC(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var s=aK(t);if(s!=null){var A=s.domain(r).range(n);return Y8(A),A}}}var xP=(e,t,r)=>{var n=dC(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&pd(e))return b9(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&pd(e))return x9(e,t.tickCount,t.allowDecimals)}},yC=Mt([gC,dy,my],xP),BP=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&pd(t)&&Array.isArray(r)&&r.length>0){var s=t[0],A=r[0],f=t[1],l=r[r.length-1];return[Math.min(s,A),Math.max(f,l)]}return t},sK=Mt([dA,gC,yC,uo],BP),oK=Mt(Bw,dA,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(of(e.map(l=>l.value))).sort((l,y)=>l-y);if(n.length<2)return 1/0;var s=n[n.length-1]-n[0];if(s===0)return 1/0;for(var A=0;A<n.length-1;A++){var f=n[A+1]-n[A];r=Math.min(r,f)}return r/s}}),CP=Mt(oK,Ca,B9,tl,(e,t,r,n)=>n,(e,t,r,n,s)=>{if(!Lo(e))return 0;var A=t==="vertical"?n.height:n.width;if(s==="gap")return e*A/2;if(s==="no-gap"){var f=dd(r,e*A),l=e*A/2;return l-f-(l-f)/A*f}return 0}),lK=(e,t)=>{var r=hf(e,t);return r==null||typeof r.padding!="string"?0:CP(e,"xAxis",t,r.padding)},AK=(e,t)=>{var r=ff(e,t);return r==null||typeof r.padding!="string"?0:CP(e,"yAxis",t,r.padding)},uK=Mt(hf,lK,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((r=s.left)!==null&&r!==void 0?r:0)+t,right:((n=s.right)!==null&&n!==void 0?n:0)+t}}),cK=Mt(ff,AK,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((r=s.top)!==null&&r!==void 0?r:0)+t,bottom:((n=s.bottom)!==null&&n!==void 0?n:0)+t}}),hK=Mt([tl,uK,aw,iw,(e,t,r)=>r],(e,t,r,n,s)=>{var{padding:A}=n;return s?[A.left,r.width-A.right]:[e.left+t.left,e.left+e.width-t.right]}),fK=Mt([tl,Ca,cK,aw,iw,(e,t,r)=>r],(e,t,r,n,s,A)=>{var{padding:f}=s;return A?[n.height-f.bottom,f.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),yy=(e,t,r,n)=>{var s;switch(t){case"xAxis":return hK(e,r,n);case"yAxis":return fK(e,r,n);case"zAxis":return(s=hC(e,r))===null||s===void 0?void 0:s.range;case"angleAxis":return qM(e);case"radiusAxis":return GM(e,r);default:return}},SP=Mt([dA,yy],vw),rm=Mt([dA,my,sK,SP],mC);Mt([py,pC,uo],K9);function EP(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Cw=(e,t)=>t,Sw=(e,t,r)=>r,dK=Mt(rw,Cw,Sw,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(EP)),pK=Mt(nw,Cw,Sw,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(EP)),TP=(e,t)=>({width:e.width,height:t.height}),gK=(e,t)=>{var r=typeof t.width=="number"?t.width:ly;return{width:r,height:e.height}},mK=Mt(tl,hf,TP),yK=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},vK=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},_K=Mt(uf,tl,dK,Cw,Sw,(e,t,r,n,s)=>{var A={},f;return r.forEach(l=>{var y=TP(t,l);f==null&&(f=yK(t,n,e));var w=n==="top"&&!s||n==="bottom"&&s;A[l.id]=f-Number(w)*y.height,f+=(w?-1:1)*y.height}),A}),wK=Mt(Af,tl,pK,Cw,Sw,(e,t,r,n,s)=>{var A={},f;return r.forEach(l=>{var y=gK(t,l);f==null&&(f=vK(t,n,e));var w=n==="left"&&!s||n==="right"&&s;A[l.id]=f-Number(w)*y.width,f+=(w?-1:1)*y.width}),A}),bK=(e,t)=>{var r=hf(e,t);if(r!=null)return _K(e,r.orientation,r.mirror)},xK=Mt([tl,hf,bK,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var s=r?.[n];return s==null?{x:e.left,y:0}:{x:e.left,y:s}}}),BK=(e,t)=>{var r=ff(e,t);if(r!=null)return wK(e,r.orientation,r.mirror)},CK=Mt([tl,ff,BK,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var s=r?.[n];return s==null?{x:0,y:e.top}:{x:s,y:e.top}}}),SK=Mt(tl,ff,(e,t)=>{var r=typeof t.width=="number"?t.width:ly;return{width:r,height:e.height}}),IP=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:s,type:A,dataKey:f}=r,l=yd(e,n),y=t.map(w=>w.value);if(f&&l&&A==="category"&&s&&bU(y))return y}},vC=Mt([Ca,Bw,dA,uo],IP),FP=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:s,scale:A}=r,f=yd(e,n);if(f&&(s==="number"||A!=="auto"))return t.map(l=>l.value)}},_C=Mt([Ca,Bw,dy,uo],FP),B3=Mt([Ca,O9,my,rm,vC,_C,yy,yC,uo],(e,t,r,n,s,A,f,l,y)=>{if(t!=null){var w=yd(e,y);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:y,categoricalDomain:A,duplicateDomain:s,isCategorical:w,niceTicks:l,range:f,realScaleType:r,scale:n}}}),EK=(e,t,r,n,s,A,f,l,y)=>{if(!(t==null||n==null)){var w=yd(e,y),{type:b,ticks:S,tickCount:U}=t,I=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,z=b==="category"&&n.bandwidth?n.bandwidth()/I:0;z=y==="angleAxis"&&A!=null&&A.length>=2?ec(A[0]-A[1])*2*z:z;var H=S||s;if(H){var K=H.map((V,re)=>{var W=f?f.indexOf(V):V;return{index:re,coordinate:n(W)+z,value:V,offset:z}});return K.filter(V=>Lo(V.coordinate))}return w&&l?l.map((V,re)=>({coordinate:n(V)+z,value:V,index:re,offset:z})).filter(V=>Lo(V.coordinate)):n.ticks?n.ticks(U).map(V=>({coordinate:n(V)+z,value:V,offset:z})):n.domain().map((V,re)=>({coordinate:n(V)+z,value:f?f[V]:V,index:re,offset:z}))}},UP=Mt([Ca,dy,my,rm,yC,yy,vC,_C,uo],EK),TK=(e,t,r,n,s,A,f)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=yd(e,f),{tickCount:y}=t,w=0;return w=f==="angleAxis"&&n?.length>=2?ec(n[0]-n[1])*2*w:w,l&&A?A.map((b,S)=>({coordinate:r(b)+w,value:b,index:S,offset:w})):r.ticks?r.ticks(y).map(b=>({coordinate:r(b)+w,value:b,offset:w})):r.domain().map((b,S)=>({coordinate:r(b)+w,value:s?s[b]:b,index:S,offset:w}))}},LP=Mt([Ca,dy,rm,yy,vC,_C,uo],TK),MP=Mt(dA,rm,(e,t)=>{if(!(e==null||t==null))return g_(g_({},e),{},{scale:t})}),IK=Mt([dA,my,gC,SP],mC);Mt((e,t,r)=>hC(e,r),IK,(e,t)=>{if(!(e==null||t==null))return g_(g_({},e),{},{scale:t})});var FK=Mt([Ca,rw,nw],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),PP=e=>e.options.defaultTooltipEventType,OP=e=>e.options.validateTooltipEventTypes;function DP(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function wC(e,t){var r=PP(e),n=OP(e);return DP(t,r,n)}function UK(e){return Xr(t=>wC(t,e))}var kP=(e,t)=>{var r,n=Number(t);if(!(gh(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},LK=e=>e.tooltip.settings,ad={active:!1,index:null,dataKey:void 0,coordinate:void 0},MK={itemInteraction:{click:ad,hover:ad},axisInteraction:{click:ad,hover:ad},keyboardInteraction:ad,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},QP=XA({name:"tooltip",initialState:MK,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Oa()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,s=Mc(e).tooltipItemPayloads.indexOf(r);s>-1&&(e.tooltipItemPayloads[s]=n)},prepare:Oa()},removeTooltipEntrySettings:{reducer(e,t){var r=Mc(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Oa()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:PK,replaceTooltipEntrySettings:OK,removeTooltipEntrySettings:DK,setTooltipSettingsState:kK,setActiveMouseOverItemIndex:QK,mouseLeaveItem:Nse,mouseLeaveChart:NP,setActiveClickItemIndex:Rse,setMouseOverAxisIndex:RP,setMouseClickAxisIndex:NK,setSyncInteraction:dB,setKeyboardInteraction:pB}=QP.actions,RK=QP.reducer;function C3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Qv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C3(Object(r),!0).forEach(function(n){zK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zK(e,t,r){return(t=HK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HK(e){var t=jK(e,"string");return typeof t=="symbol"?t:t+""}function jK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KK(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function VK(e){return e.index!=null}var zP=(e,t,r,n)=>{if(t==null)return ad;var s=KK(e,t,r);if(s==null)return ad;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var A=e.settings.active===!0;if(VK(s)){if(A)return Qv(Qv({},s),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return Qv(Qv({},ad),{},{coordinate:s.coordinate})};function qK(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function GK(e,t){var r=qK(e),n=t[0],s=t[1];if(r===void 0)return!1;var A=Math.min(n,s),f=Math.max(n,s);return r>=A&&r<=f}function XK(e,t,r){if(r==null||t==null)return!0;var n=Ql(e,t);return n==null||!pd(r)?!0:GK(n,r)}var bC=(e,t,r,n)=>{var s=e?.index;if(s==null)return null;var A=Number(s);if(!Lo(A))return s;var f=0,l=1/0;t.length>0&&(l=t.length-1);var y=Math.max(f,Math.min(A,l)),w=t[y];return w==null||XK(w,r,n)?String(y):null},HP=(e,t,r,n,s,A,f,l)=>{if(!(A==null||l==null)){var y=f[0],w=y==null?void 0:l(y.positions,A);if(w!=null)return w;var b=s?.[Number(A)];if(b)switch(r){case"horizontal":return{x:b.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:b.coordinate}}}},jP=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;return r==="hover"?s=e.itemInteraction.hover.dataKey:s=e.itemInteraction.click.dataKey,s==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(A=>{var f;return((f=A.settings)===null||f===void 0?void 0:f.dataKey)===s})},vy=e=>e.options.tooltipPayloadSearcher,nm=e=>e.tooltip;function S3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function E3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S3(Object(r),!0).forEach(function(n){$K(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $K(e,t,r){return(t=ZK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZK(e){var t=WK(e,"string");return typeof t=="symbol"?t:t+""}function WK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YK(e,t){return e??t}var KP=(e,t,r,n,s,A,f)=>{if(!(t==null||A==null)){var{chartData:l,computedData:y,dataStartIndex:w,dataEndIndex:b}=r,S=[];return e.reduce((U,I)=>{var z,{dataDefinedOnItem:H,settings:K}=I,V=YK(H,l),re=Array.isArray(V)?mL(V,w,b):V,W=(z=K?.dataKey)!==null&&z!==void 0?z:n,le=K?.nameKey,ce;if(n&&Array.isArray(re)&&!Array.isArray(re[0])&&f==="axis"?ce=xU(re,n,s):ce=A(re,t,y,le),Array.isArray(ce))ce.forEach(Ie=>{var Fe=E3(E3({},K),{},{name:Ie.name,unit:Ie.unit,color:void 0,fill:void 0});U.push(XE({tooltipEntrySettings:Fe,dataKey:Ie.dataKey,payload:Ie.payload,value:Ql(Ie.payload,Ie.dataKey),name:Ie.name}))});else{var me;U.push(XE({tooltipEntrySettings:K,dataKey:W,payload:ce,value:Ql(ce,W),name:(me=Ql(ce,le))!==null&&me!==void 0?me:K?.name}))}return U},S)}},xC=Mt([ho,Ca,JM,aC,co],bP),JK=Mt([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),eV=Mt([co,em],eP),_y=Mt([JK,ho,eV],rP,{memoizeOptions:{resultEqualityCheck:xw}}),tV=Mt([_y],e=>e.filter(cC)),rV=Mt([_y],aP,{memoizeOptions:{resultEqualityCheck:xw}}),im=Mt([rV,wd],sP),nV=Mt([tV,wd,ho],ZM),BC=Mt([im,ho,_y],oP),VP=Mt([ho],dC),iV=Mt([ho],e=>e.allowDataOverflow),qP=Mt([VP,iV],TM),aV=Mt([_y],e=>e.filter(cC)),sV=Mt([nV,aV,yw,HM],AP),oV=Mt([sV,wd,co,qP],uP),lV=Mt([_y],iP),AV=Mt([im,ho,lV,pC,co],fP,{memoizeOptions:{resultEqualityCheck:bw}}),uV=Mt([dP,co,em],tm),cV=Mt([uV,co],mP),hV=Mt([pP,co,em],tm),fV=Mt([hV,co],yP),dV=Mt([gP,co,em],tm),pV=Mt([dV,co],vP),gV=Mt([cV,pV,fV],m_),mV=Mt([ho,VP,qP,oV,AV,gV,Ca,co],_P),wy=Mt([ho,Ca,im,BC,yw,co,mV],wP),yV=Mt([wy,ho,xC],xP),vV=Mt([ho,wy,yV,co],BP),GP=e=>{var t=co(e),r=em(e),n=!1;return yy(e,t,r,n)},XP=Mt([ho,GP],vw),$P=Mt([ho,xC,vV,XP],mC),_V=Mt([Ca,BC,ho,co],IP),wV=Mt([Ca,BC,ho,co],FP),bV=(e,t,r,n,s,A,f,l)=>{if(t){var{type:y}=t,w=yd(e,l);if(n){var b=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,S=y==="category"&&n.bandwidth?n.bandwidth()/b:0;return S=l==="angleAxis"&&s!=null&&s?.length>=2?ec(s[0]-s[1])*2*S:S,w&&f?f.map((U,I)=>({coordinate:n(U)+S,value:U,index:I,offset:S})):n.domain().map((U,I)=>({coordinate:n(U)+S,value:A?A[U]:U,index:I,offset:S}))}}},df=Mt([Ca,ho,xC,$P,GP,_V,wV,co],bV),CC=Mt([PP,OP,LK],(e,t,r)=>DP(r.shared,e,t)),ZP=e=>e.tooltip.settings.trigger,SC=e=>e.tooltip.settings.defaultIndex,Ew=Mt([nm,CC,ZP,SC],zP),X0=Mt([Ew,im,gy,wy],bC),WP=Mt([df,X0],kP),xV=Mt([Ew],e=>{if(e)return e.dataKey}),YP=Mt([nm,CC,ZP,SC],jP),BV=Mt([Af,uf,Ca,tl,df,SC,YP,vy],HP),CV=Mt([Ew,BV],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),SV=Mt([Ew],e=>e.active),EV=Mt([YP,X0,wd,gy,WP,vy,CC],KP),TV=Mt([EV],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function T3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function I3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T3(Object(r),!0).forEach(function(n){IV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IV(e,t,r){return(t=FV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FV(e){var t=UV(e,"string");return typeof t=="symbol"?t:t+""}function UV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LV=()=>Xr(ho),MV=()=>{var e=LV(),t=Xr(df),r=Xr($P);return Z1(!e||!r?void 0:I3(I3({},e),{},{scale:r}),t)};function F3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function fg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F3(Object(r),!0).forEach(function(n){PV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PV(e,t,r){return(t=OV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OV(e){var t=DV(e,"string");return typeof t=="symbol"?t:t+""}function DV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kV=(e,t,r,n)=>{var s=t.find(A=>A&&A.index===r);if(s){if(e==="horizontal")return{x:s.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:s.coordinate}}return{x:0,y:0}},QV=(e,t,r,n)=>{var s=t.find(w=>w&&w.index===r);if(s){if(e==="centric"){var A=s.coordinate,{radius:f}=n;return fg(fg(fg({},n),Jo(n.cx,n.cy,f,A)),{},{angle:A,radius:f})}var l=s.coordinate,{angle:y}=n;return fg(fg(fg({},n),Jo(n.cx,n.cy,l,y)),{},{angle:y,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function NV(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var JP=(e,t,r,n,s)=>{var A,f=-1,l=(A=t?.length)!==null&&A!==void 0?A:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var y=0;y<l;y++){var w=y>0?r[y-1].coordinate:r[l-1].coordinate,b=r[y].coordinate,S=y>=l-1?r[0].coordinate:r[y+1].coordinate,U=void 0;if(ec(b-w)!==ec(S-b)){var I=[];if(ec(S-b)===ec(s[1]-s[0])){U=S;var z=b+s[1]-s[0];I[0]=Math.min(z,(z+w)/2),I[1]=Math.max(z,(z+w)/2)}else{U=w;var H=S+s[1]-s[0];I[0]=Math.min(b,(H+b)/2),I[1]=Math.max(b,(H+b)/2)}var K=[Math.min(b,(U+b)/2),Math.max(b,(U+b)/2)];if(e>K[0]&&e<=K[1]||e>=I[0]&&e<=I[1]){({index:f}=r[y]);break}}else{var V=Math.min(w,S),re=Math.max(w,S);if(e>(V+b)/2&&e<=(re+b)/2){({index:f}=r[y]);break}}}else if(t){for(var W=0;W<l;W++)if(W===0&&e<=(t[W].coordinate+t[W+1].coordinate)/2||W>0&&W<l-1&&e>(t[W].coordinate+t[W-1].coordinate)/2&&e<=(t[W].coordinate+t[W+1].coordinate)/2||W===l-1&&e>(t[W].coordinate+t[W-1].coordinate)/2){({index:f}=t[W]);break}}return f},RV=()=>Xr(aC),EC=(e,t)=>t,eO=(e,t,r)=>r,TC=(e,t,r,n)=>n,zV=Mt(df,e=>G_(e,t=>t.coordinate)),IC=Mt([nm,EC,eO,TC],zP),FC=Mt([IC,im,gy,wy],bC),HV=(e,t,r)=>{if(t!=null){var n=nm(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},tO=Mt([nm,EC,eO,TC],jP),y_=Mt([Af,uf,Ca,tl,df,TC,tO,vy],HP),jV=Mt([IC,y_],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),rO=Mt([df,FC],kP),KV=Mt([tO,FC,wd,gy,rO,vy,EC],KP),VV=Mt([IC,FC],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),qV=(e,t,r,n,s,A,f)=>{if(!(!e||!r||!n||!s)&&NV(e,f)){var l=sR(e,t),y=JP(l,A,s,r,n),w=kV(t,s,y,e);return{activeIndex:String(y),activeCoordinate:w}}},GV=(e,t,r,n,s,A,f)=>{if(!(!e||!n||!s||!A||!r)){var l=TH(e,r);if(l){var y=oR(l,t),w=JP(y,f,A,n,s),b=QV(t,A,w,l);return{activeIndex:String(w),activeCoordinate:b}}}},XV=(e,t,r,n,s,A,f,l)=>{if(!(!e||!t||!n||!s||!A))return t==="horizontal"||t==="vertical"?qV(e,t,n,s,A,f,l):GV(e,t,r,n,s,A,f)},$V=Mt(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElementId:n.elementId}}),ZV=Mt(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(cA)),r=Array.from(new Set(t));return r.sort((n,s)=>n-s)},{memoizeOptions:{resultEqualityCheck:F9}});function U3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function L3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U3(Object(r),!0).forEach(function(n){WV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WV(e,t,r){return(t=YV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YV(e){var t=JV(e,"string");return typeof t=="symbol"?t:t+""}function JV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eq={},tq={zIndexMap:Object.values(cA).reduce((e,t)=>L3(L3({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),eq)},rq=new Set(Object.values(cA));function nq(e){return rq.has(e)}var nO=XA({name:"zIndex",initialState:tq,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Oa()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!nq(r)&&delete e.zIndexMap[r])},prepare:Oa()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:n,isPanorama:s}=t.payload;e.zIndexMap[r]?s?e.zIndexMap[r].panoramaElementId=n:e.zIndexMap[r].elementId=n:e.zIndexMap[r]={consumers:0,elementId:s?void 0:n,panoramaElementId:s?n:void 0}},prepare:Oa()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:Oa()}}}),{registerZIndexPortal:iq,unregisterZIndexPortal:aq,registerZIndexPortalId:sq,unregisterZIndexPortalId:oq}=nO.actions,lq=nO.reducer;function pf(e){var{zIndex:t,children:r}=e,n=RR(),s=n&&t!==void 0&&t!==0,A=$A(),f=zs();se.useLayoutEffect(()=>s?(f(iq({zIndex:t})),()=>{f(aq({zIndex:t}))}):iy,[f,t,s]);var l=Xr(w=>$V(w,t,A));if(!s)return r;if(!l)return null;var y=document.getElementById(l);return y?o5.createPortal(r,y):null}function gB(){return gB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gB.apply(null,arguments)}function M3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Nv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M3(Object(r),!0).forEach(function(n){Aq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Aq(e,t,r){return(t=uq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uq(e){var t=cq(e,"string");return typeof t=="symbol"?t:t+""}function cq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hq(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return se.isValidElement(t)?se.cloneElement(t,n):se.createElement(r,n)}function fq(e){var t,{coordinate:r,payload:n,index:s,offset:A,tooltipAxisBandSize:f,layout:l,cursor:y,tooltipEventType:w,chartName:b}=e,S=r,U=n,I=s;if(!y||!S||b!=="ScatterChart"&&w!=="axis")return null;var z,H,K;if(b==="ScatterChart")z=S,H=jz,K=cA.cursorLine;else if(b==="BarChart")z=Kz(l,S,A,f),H=jL,K=cA.cursorRectangle;else if(l==="radial"&&CU(S)){var{cx:V,cy:re,radius:W,startAngle:le,endAngle:ce}=KL(S);z={cx:V,cy:re,startAngle:le,endAngle:ce,innerRadius:W,outerRadius:W},H=qL,K=cA.cursorLine}else z={points:LH(l,S,A)},H=QL,K=cA.cursorLine;var me=typeof y=="object"&&"className"in y?y.className:void 0,Ie=Nv(Nv(Nv(Nv({stroke:"#ccc",pointerEvents:"none"},A),z),H_(y)),{},{payload:U,payloadIndex:I,className:Xi("recharts-tooltip-cursor",me)});return se.createElement(pf,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:K},se.createElement(hq,{cursor:y,cursorComp:H,cursorProps:Ie}))}function dq(e){var t=MV(),r=TL(),n=ow(),s=RV();return t==null||r==null||n==null||s==null?null:se.createElement(fq,gB({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:s}))}var iO=se.createContext(null),pq=()=>se.useContext(iO),xx={exports:{}},P3;function gq(){return P3||(P3=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(y,w,b){this.fn=y,this.context=w,this.once=b||!1}function A(y,w,b,S,U){if(typeof b!="function")throw new TypeError("The listener must be a function");var I=new s(b,S||y,U),z=r?r+w:w;return y._events[z]?y._events[z].fn?y._events[z]=[y._events[z],I]:y._events[z].push(I):(y._events[z]=I,y._eventsCount++),y}function f(y,w){--y._eventsCount===0?y._events=new n:delete y._events[w]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var w=[],b,S;if(this._eventsCount===0)return w;for(S in b=this._events)t.call(b,S)&&w.push(r?S.slice(1):S);return Object.getOwnPropertySymbols?w.concat(Object.getOwnPropertySymbols(b)):w},l.prototype.listeners=function(w){var b=r?r+w:w,S=this._events[b];if(!S)return[];if(S.fn)return[S.fn];for(var U=0,I=S.length,z=new Array(I);U<I;U++)z[U]=S[U].fn;return z},l.prototype.listenerCount=function(w){var b=r?r+w:w,S=this._events[b];return S?S.fn?1:S.length:0},l.prototype.emit=function(w,b,S,U,I,z){var H=r?r+w:w;if(!this._events[H])return!1;var K=this._events[H],V=arguments.length,re,W;if(K.fn){switch(K.once&&this.removeListener(w,K.fn,void 0,!0),V){case 1:return K.fn.call(K.context),!0;case 2:return K.fn.call(K.context,b),!0;case 3:return K.fn.call(K.context,b,S),!0;case 4:return K.fn.call(K.context,b,S,U),!0;case 5:return K.fn.call(K.context,b,S,U,I),!0;case 6:return K.fn.call(K.context,b,S,U,I,z),!0}for(W=1,re=new Array(V-1);W<V;W++)re[W-1]=arguments[W];K.fn.apply(K.context,re)}else{var le=K.length,ce;for(W=0;W<le;W++)switch(K[W].once&&this.removeListener(w,K[W].fn,void 0,!0),V){case 1:K[W].fn.call(K[W].context);break;case 2:K[W].fn.call(K[W].context,b);break;case 3:K[W].fn.call(K[W].context,b,S);break;case 4:K[W].fn.call(K[W].context,b,S,U);break;default:if(!re)for(ce=1,re=new Array(V-1);ce<V;ce++)re[ce-1]=arguments[ce];K[W].fn.apply(K[W].context,re)}}return!0},l.prototype.on=function(w,b,S){return A(this,w,b,S,!1)},l.prototype.once=function(w,b,S){return A(this,w,b,S,!0)},l.prototype.removeListener=function(w,b,S,U){var I=r?r+w:w;if(!this._events[I])return this;if(!b)return f(this,I),this;var z=this._events[I];if(z.fn)z.fn===b&&(!U||z.once)&&(!S||z.context===S)&&f(this,I);else{for(var H=0,K=[],V=z.length;H<V;H++)(z[H].fn!==b||U&&!z[H].once||S&&z[H].context!==S)&&K.push(z[H]);K.length?this._events[I]=K.length===1?K[0]:K:f(this,I)}return this},l.prototype.removeAllListeners=function(w){var b;return w?(b=r?r+w:w,this._events[b]&&f(this,b)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(xx)),xx.exports}var mq=gq();const yq=wh(mq);var $0=new yq,mB="recharts.syncEvent.tooltip",O3="recharts.syncEvent.brush";function vq(e,t){if(t){var r=Number.parseInt(t,10);if(!gh(r))return e?.[r]}}var _q={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},aO=XA({name:"options",initialState:_q,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),wq=aO.reducer,{createEventEmitter:bq}=aO.actions;function xq(e){return e.tooltip.syncInteraction}var Bq={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},sO=XA({name:"chartData",initialState:Bq,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:D3,setDataStartEndIndexes:Cq,setComputedData:zse}=sO.actions,Sq=sO.reducer,Eq=["x","y"];function k3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function dg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k3(Object(r),!0).forEach(function(n){Tq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tq(e,t,r){return(t=Iq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iq(e){var t=Fq(e,"string");return typeof t=="symbol"?t:t+""}function Fq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uq(e,t){if(e==null)return{};var r,n,s=Lq(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Lq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Mq(){var e=Xr(sC),t=Xr(oC),r=zs(),n=Xr(jM),s=Xr(df),A=ow(),f=sw(),l=Xr(y=>y.rootProps.className);se.useEffect(()=>{if(e==null)return iy;var y=(w,b,S)=>{if(t!==S&&e===w){if(n==="index"){var U;if(f&&b!==null&&b!==void 0&&(U=b.payload)!==null&&U!==void 0&&U.coordinate&&b.payload.sourceViewBox){var I=b.payload.coordinate,{x:z,y:H}=I,K=Uq(I,Eq),{x:V,y:re,width:W,height:le}=b.payload.sourceViewBox,ce=dg(dg({},K),{},{x:f.x+(W?(z-V)/W:0)*f.width,y:f.y+(le?(H-re)/le:0)*f.height});r(dg(dg({},b),{},{payload:dg(dg({},b.payload),{},{coordinate:ce})}))}else r(b);return}if(s!=null){var me;if(typeof n=="function"){var Ie={activeTooltipIndex:b.payload.index==null?void 0:Number(b.payload.index),isTooltipActive:b.payload.active,activeIndex:b.payload.index==null?void 0:Number(b.payload.index),activeLabel:b.payload.label,activeDataKey:b.payload.dataKey,activeCoordinate:b.payload.coordinate},Fe=n(s,Ie);me=s[Fe]}else n==="value"&&(me=s.find(Le=>String(Le.value)===b.payload.label));var{coordinate:pe}=b.payload;if(me==null||b.payload.active===!1||pe==null||f==null){r(dB({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:ze,y:ie}=pe,de=Math.min(ze,f.x+f.width),ve=Math.min(ie,f.y+f.height),_e={x:A==="horizontal"?me.coordinate:de,y:A==="horizontal"?ve:me.coordinate},tt=dB({active:b.payload.active,coordinate:_e,dataKey:b.payload.dataKey,index:String(me.index),label:b.payload.label,sourceViewBox:b.payload.sourceViewBox});r(tt)}}};return $0.on(mB,y),()=>{$0.off(mB,y)}},[l,r,t,e,n,s,A,f])}function Pq(){var e=Xr(sC),t=Xr(oC),r=zs();se.useEffect(()=>{if(e==null)return iy;var n=(s,A,f)=>{t!==f&&e===s&&r(Cq(A))};return $0.on(O3,n),()=>{$0.off(O3,n)}},[r,t,e])}function Oq(){var e=zs();se.useEffect(()=>{e(bq())},[e]),Mq(),Pq()}function Dq(e,t,r,n,s,A){var f=Xr(I=>HV(I,e,t)),l=Xr(oC),y=Xr(sC),w=Xr(jM),b=Xr(xq),S=b?.active,U=sw();se.useEffect(()=>{if(!S&&y!=null&&l!=null){var I=dB({active:A,coordinate:r,dataKey:f,index:s,label:typeof n=="number"?String(n):n,sourceViewBox:U});$0.emit(mB,y,I,l)}},[S,r,f,s,n,l,y,w,A,U])}function Q3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function N3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q3(Object(r),!0).forEach(function(n){kq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kq(e,t,r){return(t=Qq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qq(e){var t=Nq(e,"string");return typeof t=="symbol"?t:t+""}function Nq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rq(e){return e.dataKey}function zq(e,t){return se.isValidElement(e)?se.cloneElement(e,t):typeof e=="function"?se.createElement(e,t):se.createElement(wz,t)}var R3=[],Hq={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Zg.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function oO(e){var t,r,n=Nl(e,Hq),{active:s,allowEscapeViewBox:A,animationDuration:f,animationEasing:l,content:y,filterNull:w,isAnimationActive:b,offset:S,payloadUniqBy:U,position:I,reverseDirection:z,useTranslate3d:H,wrapperStyle:K,cursor:V,shared:re,trigger:W,defaultIndex:le,portal:ce,axisId:me}=n,Ie=zs(),Fe=typeof le=="number"?String(le):le;se.useEffect(()=>{Ie(kK({shared:re,trigger:W,axisId:me,active:s,defaultIndex:Fe}))},[Ie,re,W,me,s,Fe]);var pe=sw(),ze=kL(),ie=UK(re),{activeIndex:de,isActive:ve}=(t=Xr(Je=>VV(Je,ie,W,Fe)))!==null&&t!==void 0?t:{},_e=Xr(Je=>KV(Je,ie,W,Fe)),tt=Xr(Je=>rO(Je,ie,W,Fe)),Le=Xr(Je=>jV(Je,ie,W,Fe)),Ne=_e,Ve=pq(),We=(r=s??ve)!==null&&r!==void 0?r:!1,[_t,Te]=zU([Ne,We]),ne=ie==="axis"?tt:void 0;Dq(ie,W,Le,ne,de,We);var we=ce??Ve;if(we==null||pe==null||ie==null)return null;var Ue=Ne??R3;We||(Ue=R3),w&&Ue.length&&(Ue=DU(Ue.filter(Je=>Je.value!=null&&(Je.hide!==!0||n.includeHidden)),U,Rq));var De=Ue.length>0,Xe=se.createElement(Tz,{allowEscapeViewBox:A,animationDuration:f,animationEasing:l,isAnimationActive:b,active:We,coordinate:Le,hasPayload:De,offset:S,position:I,reverseDirection:z,useTranslate3d:H,viewBox:pe,wrapperStyle:K,lastBoundingBox:_t,innerRef:Te,hasPortalFromProps:!!ce},zq(y,N3(N3({},n),{},{payload:Ue,label:ne,active:We,activeIndex:de,coordinate:Le,accessibilityLayer:ze})));return se.createElement(se.Fragment,null,o5.createPortal(Xe,we),We&&se.createElement(dq,{cursor:V,tooltipEventType:ie,coordinate:Le,payload:Ue,index:de}))}function jq(e,t,r){return(t=Kq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kq(e){var t=Vq(e,"string");return typeof t=="symbol"?t:t+""}function Vq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class qq{constructor(t){jq(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function z3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Gq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z3(Object(r),!0).forEach(function(n){Xq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xq(e,t,r){return(t=$q(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $q(e){var t=Zq(e,"string");return typeof t=="symbol"?t:t+""}function Zq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wq={cacheSize:2e3,enableCache:!0},lO=Gq({},Wq),H3=new qq(lO.cacheSize),Yq={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},j3="recharts_measurement_span";function Jq(e,t){var r=t.fontSize||"",n=t.fontFamily||"",s=t.fontWeight||"",A=t.fontStyle||"",f=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(s,"|").concat(A,"|").concat(f,"|").concat(l)}var K3=(e,t)=>{try{var r=document.getElementById(j3);r||(r=document.createElement("span"),r.setAttribute("id",j3),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Yq,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},E0=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Zg.isSsr)return{width:0,height:0};if(!lO.enableCache)return K3(t,r);var n=Jq(t,r),s=H3.get(n);if(s)return s;var A=K3(t,r);return H3.set(n,A),A},V3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,q3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,eG=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,tG=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,AO={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},rG=Object.keys(AO),Fg="NaN";function nG(e,t){return e*AO[t]}class KA{static parse(t){var r,[,n,s]=(r=tG.exec(t))!==null&&r!==void 0?r:[];return new KA(parseFloat(n),s??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,gh(t)&&(this.unit=""),r!==""&&!eG.test(r)&&(this.num=NaN,this.unit=""),rG.includes(r)&&(this.num=nG(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new KA(NaN,""):new KA(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new KA(NaN,""):new KA(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new KA(NaN,""):new KA(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new KA(NaN,""):new KA(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return gh(this.num)}}function uO(e){if(e.includes(Fg))return Fg;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,s,A]=(r=V3.exec(t))!==null&&r!==void 0?r:[],f=KA.parse(n??""),l=KA.parse(A??""),y=s==="*"?f.multiply(l):f.divide(l);if(y.isNaN())return Fg;t=t.replace(V3,y.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var w,[,b,S,U]=(w=q3.exec(t))!==null&&w!==void 0?w:[],I=KA.parse(b??""),z=KA.parse(U??""),H=S==="+"?I.add(z):I.subtract(z);if(H.isNaN())return Fg;t=t.replace(q3,H.toString())}return t}var G3=/\(([^()]*)\)/;function iG(e){for(var t=e,r;(r=G3.exec(t))!=null;){var[,n]=r;t=t.replace(G3,uO(n))}return t}function aG(e){var t=e.replace(/\s+/g,"");return t=iG(t),t=uO(t),t}function sG(e){try{return aG(e)}catch{return Fg}}function Bx(e){var t=sG(e.slice(5,-1));return t===Fg?"":t}var oG=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],lG=["dx","dy","angle","className","breakAll"];function yB(){return yB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yB.apply(null,arguments)}function X3(e,t){if(e==null)return{};var r,n,s=AG(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function AG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var cO=/[ \f\n\r\t\v\u2028\u2029]+/,hO=e=>{var{children:t,breakAll:r,style:n}=e;try{var s=[];Uo(t)||(r?s=t.toString().split(""):s=t.toString().split(cO));var A=s.map(l=>({word:l,width:E0(l,n).width})),f=r?0:E0("",n).width;return{wordsWithComputedWidth:A,spaceWidth:f}}catch{return null}};function uG(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var fO=(e,t,r,n)=>e.reduce((s,A)=>{var{word:f,width:l}=A,y=s[s.length-1];if(y&&l!=null&&(t==null||n||y.width+l+r<Number(t)))y.words.push(f),y.width+=l+r;else{var w={words:[f],width:l};s.push(w)}return s},[]),dO=e=>e.reduce((t,r)=>t.width>r.width?t:r),cG="",$3=(e,t,r,n,s,A,f,l)=>{var y=e.slice(0,t),w=hO({breakAll:r,style:n,children:y+cG});if(!w)return[!1,[]];var b=fO(w.wordsWithComputedWidth,A,f,l),S=b.length>s||dO(b).width>Number(A);return[S,b]},hG=(e,t,r,n,s)=>{var{maxLines:A,children:f,style:l,breakAll:y}=e,w=Yr(A),b=String(f),S=fO(t,n,r,s);if(!w||s)return S;var U=S.length>A||dO(S).width>Number(n);if(!U)return S;for(var I=0,z=b.length-1,H=0,K;I<=z&&H<=b.length-1;){var V=Math.floor((I+z)/2),re=V-1,[W,le]=$3(b,re,y,l,A,n,r,s),[ce]=$3(b,V,y,l,A,n,r,s);if(!W&&!ce&&(I=V+1),W&&ce&&(z=V-1),!W&&ce){K=le;break}H++}return K||S},Z3=e=>{var t=Uo(e)?[]:e.toString().split(cO);return[{words:t,width:void 0}]},fG=e=>{var{width:t,scaleToFit:r,children:n,style:s,breakAll:A,maxLines:f}=e;if((t||r)&&!Zg.isSsr){var l,y,w=hO({breakAll:A,children:n,style:s});if(w){var{wordsWithComputedWidth:b,spaceWidth:S}=w;l=b,y=S}else return Z3(n);return hG({breakAll:A,children:n,maxLines:f,style:s},l,y,t,!!r)}return Z3(n)},pO="#808080",dG={angle:0,breakAll:!1,capHeight:"0.71em",fill:pO,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},UC=se.forwardRef((e,t)=>{var r=Nl(e,dG),{x:n,y:s,lineHeight:A,capHeight:f,fill:l,scaleToFit:y,textAnchor:w,verticalAnchor:b}=r,S=X3(r,oG),U=se.useMemo(()=>fG({breakAll:S.breakAll,children:S.children,maxLines:S.maxLines,scaleToFit:y,style:S.style,width:S.width}),[S.breakAll,S.children,S.maxLines,y,S.style,S.width]),{dx:I,dy:z,angle:H,className:K,breakAll:V}=S,re=X3(S,lG);if(!mh(n)||!mh(s)||U.length===0)return null;var W=Number(n)+(Yr(I)?I:0),le=Number(s)+(Yr(z)?z:0);if(!Lo(W)||!Lo(le))return null;var ce;switch(b){case"start":ce=Bx("calc(".concat(f,")"));break;case"middle":ce=Bx("calc(".concat((U.length-1)/2," * -").concat(A," + (").concat(f," / 2))"));break;default:ce=Bx("calc(".concat(U.length-1," * -").concat(A,")"));break}var me=[];if(y){var Ie=U[0].width,{width:Fe}=S;me.push("scale(".concat(Yr(Fe)&&Yr(Ie)?Fe/Ie:1,")"))}return H&&me.push("rotate(".concat(H,", ").concat(W,", ").concat(le,")")),me.length&&(re.transform=me.join(" ")),se.createElement("text",yB({},hA(re),{ref:t,x:W,y:le,className:Xi("recharts-text",K),textAnchor:w,fill:l.includes("url")?pO:l}),U.map((pe,ze)=>{var ie=pe.words.join(V?"":" ");return se.createElement("tspan",{x:W,dy:ze===0?ce:A,key:"".concat(ie,"-").concat(ze)},ie)}))});UC.displayName="Text";var pG=["labelRef"];function gG(e,t){if(e==null)return{};var r,n,s=mG(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function mG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function W3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function vs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W3(Object(r),!0).forEach(function(n){yG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yG(e,t,r){return(t=vG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vG(e){var t=_G(e,"string");return typeof t=="symbol"?t:t+""}function _G(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xh(){return Xh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xh.apply(null,arguments)}var gO=se.createContext(null),wG=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:s,width:A,height:f,children:l}=e,y=se.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:s,width:A,height:f}),[t,r,n,s,A,f]);return se.createElement(gO.Provider,{value:y},l)},mO=()=>{var e=se.useContext(gO),t=sw();return e||EL(t)},bG=se.createContext(null),xG=()=>{var e=se.useContext(bG),t=Xr(XM);return e||t},BG=e=>{var{value:t,formatter:r}=e,n=Uo(e.children)?t:e.children;return typeof r=="function"?r(n):n},LC=e=>e!=null&&typeof e=="function",CG=(e,t)=>{var r=ec(t-e),n=Math.min(Math.abs(t-e),360);return r*n},SG=(e,t,r,n,s)=>{var{offset:A,className:f}=e,{cx:l,cy:y,innerRadius:w,outerRadius:b,startAngle:S,endAngle:U,clockWise:I}=s,z=(w+b)/2,H=CG(S,U),K=H>=0?1:-1,V,re;switch(t){case"insideStart":V=S+K*A,re=I;break;case"insideEnd":V=U-K*A,re=!I;break;case"end":V=U+K*A,re=I;break;default:throw new Error("Unsupported position ".concat(t))}re=H<=0?re:!re;var W=Jo(l,y,z,V),le=Jo(l,y,z,V+(re?1:-1)*359),ce="M".concat(W.x,",").concat(W.y,`
    A`).concat(z,",").concat(z,",0,1,").concat(re?0:1,`,
    `).concat(le.x,",").concat(le.y),me=Uo(e.id)?O0("recharts-radial-line-"):e.id;return se.createElement("text",Xh({},n,{dominantBaseline:"central",className:Xi("recharts-radial-bar-label",f)}),se.createElement("defs",null,se.createElement("path",{id:me,d:ce})),se.createElement("textPath",{xlinkHref:"#".concat(me)},r))},EG=(e,t,r)=>{var{cx:n,cy:s,innerRadius:A,outerRadius:f,startAngle:l,endAngle:y}=e,w=(l+y)/2;if(r==="outside"){var{x:b,y:S}=Jo(n,s,f+t,w);return{x:b,y:S,textAnchor:b>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"end"};var U=(A+f)/2,{x:I,y:z}=Jo(n,s,U,w);return{x:I,y:z,textAnchor:"middle",verticalAnchor:"middle"}},vB=e=>"cx"in e&&Yr(e.cx),TG=(e,t)=>{var{parentViewBox:r,offset:n,position:s}=e,A;r!=null&&!vB(r)&&(A=r);var{x:f,y:l,upperWidth:y,lowerWidth:w,height:b}=t,S=f,U=f+(y-w)/2,I=(S+U)/2,z=(y+w)/2,H=S+y/2,K=b>=0?1:-1,V=K*n,re=K>0?"end":"start",W=K>0?"start":"end",le=y>=0?1:-1,ce=le*n,me=le>0?"end":"start",Ie=le>0?"start":"end";if(s==="top"){var Fe={x:S+y/2,y:l-V,textAnchor:"middle",verticalAnchor:re};return vs(vs({},Fe),A?{height:Math.max(l-A.y,0),width:y}:{})}if(s==="bottom"){var pe={x:U+w/2,y:l+b+V,textAnchor:"middle",verticalAnchor:W};return vs(vs({},pe),A?{height:Math.max(A.y+A.height-(l+b),0),width:w}:{})}if(s==="left"){var ze={x:I-ce,y:l+b/2,textAnchor:me,verticalAnchor:"middle"};return vs(vs({},ze),A?{width:Math.max(ze.x-A.x,0),height:b}:{})}if(s==="right"){var ie={x:I+z+ce,y:l+b/2,textAnchor:Ie,verticalAnchor:"middle"};return vs(vs({},ie),A?{width:Math.max(A.x+A.width-ie.x,0),height:b}:{})}var de=A?{width:z,height:b}:{};return s==="insideLeft"?vs({x:I+ce,y:l+b/2,textAnchor:Ie,verticalAnchor:"middle"},de):s==="insideRight"?vs({x:I+z-ce,y:l+b/2,textAnchor:me,verticalAnchor:"middle"},de):s==="insideTop"?vs({x:S+y/2,y:l+V,textAnchor:"middle",verticalAnchor:W},de):s==="insideBottom"?vs({x:U+w/2,y:l+b-V,textAnchor:"middle",verticalAnchor:re},de):s==="insideTopLeft"?vs({x:S+ce,y:l+V,textAnchor:Ie,verticalAnchor:W},de):s==="insideTopRight"?vs({x:S+y-ce,y:l+V,textAnchor:me,verticalAnchor:W},de):s==="insideBottomLeft"?vs({x:U+ce,y:l+b-V,textAnchor:Ie,verticalAnchor:re},de):s==="insideBottomRight"?vs({x:U+w-ce,y:l+b-V,textAnchor:me,verticalAnchor:re},de):s&&typeof s=="object"&&(Yr(s.x)||tf(s.x))&&(Yr(s.y)||tf(s.y))?vs({x:f+dd(s.x,z),y:l+dd(s.y,b),textAnchor:"end",verticalAnchor:"end"},de):vs({x:H,y:l+b/2,textAnchor:"middle",verticalAnchor:"middle"},de)},IG={angle:0,offset:5,zIndex:cA.label,position:"middle",textBreakAll:!1};function nd(e){var t=Nl(e,IG),{viewBox:r,position:n,value:s,children:A,content:f,className:l="",textBreakAll:y,labelRef:w}=t,b=xG(),S=mO(),U=n==="center"?S:b??S,I,z,H;if(r==null?I=U:vB(r)?I=r:I=EL(r),!I||Uo(s)&&Uo(A)&&!se.isValidElement(f)&&typeof f!="function")return null;var K=vs(vs({},t),{},{viewBox:I});if(se.isValidElement(f)){var{labelRef:V}=K,re=gG(K,pG);return se.cloneElement(f,re)}if(typeof f=="function"){if(z=se.createElement(f,K),se.isValidElement(z))return z}else z=BG(t);var W=hA(t);if(vB(I)){if(n==="insideStart"||n==="insideEnd"||n==="end")return SG(t,n,z,W,I);H=EG(I,t.offset,t.position)}else H=TG(t,I);return se.createElement(pf,{zIndex:t.zIndex},se.createElement(UC,Xh({ref:w,className:Xi("recharts-label",l)},W,H,{textAnchor:uG(W.textAnchor)?W.textAnchor:H.textAnchor,breakAll:y}),z))}nd.displayName="Label";var FG=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?se.createElement(nd,Xh({key:"label-implicit"},n)):mh(e)?se.createElement(nd,Xh({key:"label-implicit",value:e},n)):se.isValidElement(e)?e.type===nd?se.cloneElement(e,vs({key:"label-implicit"},n)):se.createElement(nd,Xh({key:"label-implicit",content:e},n)):LC(e)?se.createElement(nd,Xh({key:"label-implicit",content:e},n)):e&&typeof e=="object"?se.createElement(nd,Xh({},e,{key:"label-implicit"},n)):null};function UG(e){var{label:t,labelRef:r}=e,n=mO();return FG(t,n,r)||null}var Cx={},Sx={},Y3;function LG(){return Y3||(Y3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(Sx)),Sx}var Ex={},J3;function MG(){return J3||(J3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(Ex)),Ex}var eT;function PG(){return eT||(eT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LG(),r=MG(),n=g5();function s(A){if(n.isArrayLike(A))return t.last(r.toArray(A))}e.last=s})(Cx)),Cx}var Tx,tT;function OG(){return tT||(tT=1,Tx=PG().last),Tx}var DG=OG();const kG=wh(DG);var QG=["valueAccessor"],NG=["dataKey","clockWise","id","textBreakAll","zIndex"];function v_(){return v_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v_.apply(null,arguments)}function rT(e,t){if(e==null)return{};var r,n,s=RG(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function RG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var zG=e=>Array.isArray(e.value)?kG(e.value):e.value,yO=se.createContext(void 0),HG=yO.Provider,vO=se.createContext(void 0);vO.Provider;function jG(){return se.useContext(yO)}function KG(){return se.useContext(vO)}function B1(e){var{valueAccessor:t=zG}=e,r=rT(e,QG),{dataKey:n,clockWise:s,id:A,textBreakAll:f,zIndex:l}=r,y=rT(r,NG),w=jG(),b=KG(),S=w||b;return!S||!S.length?null:se.createElement(pf,{zIndex:l??cA.label},se.createElement(fd,{className:"recharts-label-list"},S.map((U,I)=>{var z,H=Uo(n)?t(U,I):Ql(U&&U.payload,n),K=Uo(A)?{}:{id:"".concat(A,"-").concat(I)};return se.createElement(nd,v_({key:"label-".concat(I)},hA(U),y,K,{fill:(z=r.fill)!==null&&z!==void 0?z:U.fill,parentViewBox:U.parentViewBox,value:H,textBreakAll:f,viewBox:U.viewBox,index:I,zIndex:0}))})))}B1.displayName="LabelList";function VG(e){var{label:t}=e;return t?t===!0?se.createElement(B1,{key:"labelList-implicit"}):se.isValidElement(t)||LC(t)?se.createElement(B1,{key:"labelList-implicit",content:t}):typeof t=="object"?se.createElement(B1,v_({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function _B(){return _B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_B.apply(null,arguments)}var _O=e=>{var{cx:t,cy:r,r:n,className:s}=e,A=Xi("recharts-dot",s);return Yr(t)&&Yr(r)&&Yr(n)?se.createElement("circle",_B({},ph(e),p5(e),{className:A,cx:t,cy:r,r:n})):null},qG={radiusAxis:{},angleAxis:{}},wO=XA({name:"polarAxis",initialState:qG,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Hse,removeRadiusAxis:jse,addAngleAxis:Kse,removeAngleAxis:Vse}=wO.actions,GG=wO.reducer,bO=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,Ix={},nT;function XG(){return nT||(nT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(Ix)),Ix}var Fx,iT;function $G(){return iT||(iT=1,Fx=XG().isPlainObject),Fx}var ZG=$G();const WG=wh(ZG);function aT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function sT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aT(Object(r),!0).forEach(function(n){YG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YG(e,t,r){return(t=JG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JG(e){var t=eX(e,"string");return typeof t=="symbol"?t:t+""}function eX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function __(){return __=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},__.apply(null,arguments)}var oT=(e,t,r,n,s)=>{var A=r-n,f;return f="M ".concat(e,",").concat(t),f+="L ".concat(e+r,",").concat(t),f+="L ".concat(e+r-A/2,",").concat(t+s),f+="L ".concat(e+r-A/2-n,",").concat(t+s),f+="L ".concat(e,",").concat(t," Z"),f},tX={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},rX=e=>{var t=Nl(e,tX),{x:r,y:n,upperWidth:s,lowerWidth:A,height:f,className:l}=t,{animationEasing:y,animationDuration:w,animationBegin:b,isUpdateAnimationActive:S}=t,U=se.useRef(null),[I,z]=se.useState(-1),H=se.useRef(s),K=se.useRef(A),V=se.useRef(f),re=se.useRef(r),W=se.useRef(n),le=L5(e,"trapezoid-");if(se.useEffect(()=>{if(U.current&&U.current.getTotalLength)try{var _e=U.current.getTotalLength();_e&&z(_e)}catch{}},[]),r!==+r||n!==+n||s!==+s||A!==+A||f!==+f||s===0&&A===0||f===0)return null;var ce=Xi("recharts-trapezoid",l);if(!S)return se.createElement("g",null,se.createElement("path",__({},hA(t),{className:ce,d:oT(r,n,s,A,f)})));var me=H.current,Ie=K.current,Fe=V.current,pe=re.current,ze=W.current,ie="0px ".concat(I===-1?1:I,"px"),de="".concat(I,"px 0px"),ve=NL(["strokeDasharray"],w,y);return se.createElement(U5,{animationId:le,key:le,canBegin:I>0,duration:w,easing:y,isActive:S,begin:b},_e=>{var tt=qA(me,s,_e),Le=qA(Ie,A,_e),Ne=qA(Fe,f,_e),Ve=qA(pe,r,_e),We=qA(ze,n,_e);U.current&&(H.current=tt,K.current=Le,V.current=Ne,re.current=Ve,W.current=We);var _t=_e>0?{transition:ve,strokeDasharray:de}:{strokeDasharray:ie};return se.createElement("path",__({},hA(t),{className:ce,d:oT(Ve,We,tt,Le,Ne),ref:U,style:sT(sT({},_t),t.style)}))})},nX=["option","shapeType","propTransformer","activeClassName"];function iX(e,t){if(e==null)return{};var r,n,s=aX(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function aX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function lT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function w_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lT(Object(r),!0).forEach(function(n){sX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sX(e,t,r){return(t=oX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oX(e){var t=lX(e,"string");return typeof t=="symbol"?t:t+""}function lX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AX(e,t){return w_(w_({},t),e)}function uX(e,t){return e==="symbols"}function AT(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return se.createElement(jL,r);case"trapezoid":return se.createElement(rX,r);case"sector":return se.createElement(qL,r);case"symbols":if(uX(t))return se.createElement(d5,r);break;case"curve":return se.createElement(QL,r);default:return null}}function cX(e){return se.isValidElement(e)?e.props:e}function hX(e){var{option:t,shapeType:r,propTransformer:n=AX,activeClassName:s="recharts-active-shape"}=e,A=iX(e,nX),f;if(se.isValidElement(t))f=se.cloneElement(t,w_(w_({},A),cX(t)));else if(typeof t=="function")f=t(A);else if(WG(t)&&typeof t!="boolean"){var l=n(t,A);f=se.createElement(AT,{shapeType:r,elementProps:l})}else{var y=A;f=se.createElement(AT,{shapeType:r,elementProps:y})}return A.isActive?se.createElement(fd,{className:s},f):f}function fX(e){var{tooltipEntrySettings:t}=e,r=zs(),n=$A(),s=se.useRef(null);return se.useLayoutEffect(()=>{n||(s.current===null?r(PK(t)):s.current!==t&&r(OK({prev:s.current,next:t})),s.current=t)},[t,r,n]),se.useLayoutEffect(()=>()=>{s.current&&(r(DK(s.current)),s.current=null)},[r]),null}function dX(e){var{legendPayload:t}=e,r=zs(),n=$A(),s=se.useRef(null);return se.useLayoutEffect(()=>{n||(s.current===null?r(ez(t)):s.current!==t&&r(tz({prev:s.current,next:t})),s.current=t)},[r,n,t]),se.useLayoutEffect(()=>()=>{s.current&&(r(rz(s.current)),s.current=null)},[r]),null}var Ux,pX=()=>{var[e]=se.useState(()=>O0("uid-"));return e},gX=(Ux=ak.useId)!==null&&Ux!==void 0?Ux:pX;function xO(e,t){var r=gX();return t||(e?"".concat(e,"-").concat(r):r)}var mX=se.createContext(void 0),yX=e=>{var{id:t,type:r,children:n}=e,s=xO("recharts-".concat(r),t);return se.createElement(mX.Provider,{value:s},n(s))},vX={cartesianItems:[],polarItems:[]},BO=XA({name:"graphicalItems",initialState:vX,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Oa()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,s=Mc(e).cartesianItems.indexOf(r);s>-1&&(e.cartesianItems[s]=n)},prepare:Oa()},removeCartesianGraphicalItem:{reducer(e,t){var r=Mc(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Oa()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Oa()},removePolarGraphicalItem:{reducer(e,t){var r=Mc(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Oa()}}}),{addCartesianGraphicalItem:_X,replaceCartesianGraphicalItem:wX,removeCartesianGraphicalItem:bX,addPolarGraphicalItem:qse,removePolarGraphicalItem:Gse}=BO.actions,xX=BO.reducer,BX=e=>{var t=zs(),r=se.useRef(null);return se.useLayoutEffect(()=>{r.current===null?t(_X(e)):r.current!==e&&t(wX({prev:r.current,next:e})),r.current=e},[t,e]),se.useLayoutEffect(()=>()=>{r.current&&(t(bX(r.current)),r.current=null)},[t]),null},CX=se.memo(BX),SX=["points"];function uT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Lx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uT(Object(r),!0).forEach(function(n){EX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EX(e,t,r){return(t=TX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TX(e){var t=IX(e,"string");return typeof t=="symbol"?t:t+""}function IX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function b_(){return b_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b_.apply(null,arguments)}function FX(e,t){if(e==null)return{};var r,n,s=UX(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function UX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function LX(e){var{option:t,dotProps:r,className:n}=e;if(se.isValidElement(t))return se.cloneElement(t,r);if(typeof t=="function")return t(r);var s=Xi(n,typeof t!="boolean"?t.className:""),A=r??{},{points:f}=A,l=FX(A,SX);return se.createElement(_O,b_({},l,{className:s}))}function MX(e,t){return e==null?!1:t?!0:e.length===1}function PX(e){var{points:t,dot:r,className:n,dotClassName:s,dataKey:A,baseProps:f,needClip:l,clipPathId:y,zIndex:w=cA.scatter}=e;if(!MX(t,r))return null;var b=bO(r),S=Qk(r),U=t.map((z,H)=>{var K,V,re=Lx(Lx(Lx({r:3},f),S),{},{index:H,cx:(K=z.x)!==null&&K!==void 0?K:void 0,cy:(V=z.y)!==null&&V!==void 0?V:void 0,dataKey:A,value:z.value,payload:z.payload,points:t});return se.createElement(LX,{key:"dot-".concat(H),option:r,dotProps:re,className:s})}),I={};return l&&y!=null&&(I.clipPath="url(#clipPath-".concat(b?"":"dots-").concat(y,")")),se.createElement(pf,{zIndex:w},se.createElement(fd,b_({className:n},I),U))}function cT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cT(Object(r),!0).forEach(function(n){OX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OX(e,t,r){return(t=DX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DX(e){var t=kX(e,"string");return typeof t=="symbol"?t:t+""}function kX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QX={xAxis:{},yAxis:{},zAxis:{}},CO=XA({name:"cartesianAxis",initialState:QX,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Oa()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Oa()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Oa()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Oa()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Oa()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Oa()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Oa()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Oa()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Oa()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,s=e.yAxis[r];if(s){var A=s.widthHistory||[];if(A.length===3&&A[0]===A[2]&&n===A[1]&&n!==s.width&&Math.abs(n-A[0])<=1)return;var f=[...A,n].slice(-3);e.yAxis[r]=hT(hT({},e.yAxis[r]),{},{width:n,widthHistory:f})}}}}),{addXAxis:NX,replaceXAxis:RX,removeXAxis:zX,addYAxis:HX,replaceYAxis:jX,removeYAxis:KX,addZAxis:Xse,replaceZAxis:$se,removeZAxis:Zse,updateYAxisWidth:VX}=CO.actions,qX=CO.reducer,GX=Mt([tl],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),XX=Mt([GX,Af,uf],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),MC=()=>Xr(XX),$X=()=>Xr(TV);function fT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Mx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fT(Object(r),!0).forEach(function(n){ZX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZX(e,t,r){return(t=WX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WX(e){var t=YX(e,"string");return typeof t=="symbol"?t:t+""}function YX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JX=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:s,dataKey:A,clipPath:f}=e;if(s===!1||t.x==null||t.y==null)return null;var l={index:r,dataKey:A,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},y=Mx(Mx(Mx({},l),H_(s)),p5(s)),w;return se.isValidElement(s)?w=se.cloneElement(s,y):typeof s=="function"?w=s(y):w=se.createElement(_O,y),se.createElement(fd,{className:"recharts-active-dot",clipPath:f},w)};function e$(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:s,clipPath:A,zIndex:f=cA.activeDot}=e,l=Xr(X0),y=$X();if(t==null||y==null)return null;var w=t.find(b=>y.includes(b.payload));return Uo(w)?null:se.createElement(pf,{zIndex:f},se.createElement(JX,{point:w,childIndex:Number(l),mainColor:r,dataKey:s,activeDot:n,clipPath:A}))}var t$={},SO=XA({name:"errorBars",initialState:t$,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:s}=t.payload;e[r]&&(e[r]=e[r].map(A=>A.dataKey===n.dataKey&&A.direction===n.direction?s:A))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(s=>s.dataKey!==n.dataKey||s.direction!==n.direction))}}}),{addErrorBar:Wse,replaceErrorBar:Yse,removeErrorBar:Jse}=SO.actions,r$=SO.reducer,n$=["children"];function i$(e,t){if(e==null)return{};var r,n,s=a$(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function a$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var s$={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},o$=se.createContext(s$);function l$(e){var{children:t}=e,r=i$(e,n$);return se.createElement(o$.Provider,{value:r},t)}function EO(e,t){var r,n,s=Xr(w=>hf(w,e)),A=Xr(w=>ff(w,t)),f=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:Eo.allowDataOverflow,l=(n=A?.allowDataOverflow)!==null&&n!==void 0?n:To.allowDataOverflow,y=f||l;return{needClip:y,needClipX:f,needClipY:l}}function A$(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,s=MC(),{needClipX:A,needClipY:f,needClip:l}=EO(t,r);if(!l||!s)return null;var{x:y,y:w,width:b,height:S}=s;return se.createElement("clipPath",{id:"clipPath-".concat(n)},se.createElement("rect",{x:A?y:y-b/2,y:f?w:w-S/2,width:A?b:b*2,height:f?S:S*2}))}var Px={exports:{}},Ox={};var dT;function u$(){if(dT)return Ox;dT=1;var e=$g();function t(y,w){return y===w&&(y!==0||1/y===1/w)||y!==y&&w!==w}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,s=e.useRef,A=e.useEffect,f=e.useMemo,l=e.useDebugValue;return Ox.useSyncExternalStoreWithSelector=function(y,w,b,S,U){var I=s(null);if(I.current===null){var z={hasValue:!1,value:null};I.current=z}else z=I.current;I=f(function(){function K(ce){if(!V){if(V=!0,re=ce,ce=S(ce),U!==void 0&&z.hasValue){var me=z.value;if(U(me,ce))return W=me}return W=ce}if(me=W,r(re,ce))return me;var Ie=S(ce);return U!==void 0&&U(me,Ie)?(re=ce,me):(re=ce,W=Ie)}var V=!1,re,W,le=b===void 0?null:b;return[function(){return K(w())},le===null?void 0:function(){return K(le())}]},[w,b,S,U]);var H=n(y,I[0],I[1]);return A(function(){z.hasValue=!0,z.value=H},[H]),l(H),H},Ox}var pT;function c$(){return pT||(pT=1,Px.exports=u$()),Px.exports}c$();function h$(e){e()}function f$(){let e=null,t=null;return{clear(){e=null,t=null},notify(){h$(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const s=t={callback:r,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!n||e===null||(n=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var gT={notify(){},get:()=>[]};function d$(e,t){let r,n=gT,s=0,A=!1;function f(H){b();const K=n.subscribe(H);let V=!1;return()=>{V||(V=!0,K(),S())}}function l(){n.notify()}function y(){z.onStateChange&&z.onStateChange()}function w(){return A}function b(){s++,r||(r=e.subscribe(y),n=f$())}function S(){s--,r&&s===0&&(r(),r=void 0,n.clear(),n=gT)}function U(){A||(A=!0,b())}function I(){A&&(A=!1,S())}const z={addNestedSub:f,notifyNestedSubs:l,handleChangeWrapper:y,isSubscribed:w,trySubscribe:U,tryUnsubscribe:I,getListeners:()=>n};return z}var p$=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",g$=p$(),m$=()=>typeof navigator<"u"&&navigator.product==="ReactNative",y$=m$(),v$=()=>g$||y$?se.useLayoutEffect:se.useEffect,_$=v$();function mT(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function w$(e,t){if(mT(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let s=0;s<r.length;s++)if(!Object.prototype.hasOwnProperty.call(t,r[s])||!mT(e[r[s]],t[r[s]]))return!1;return!0}var b$=Symbol.for("react-redux-context"),x$=typeof globalThis<"u"?globalThis:{};function B$(){if(!se.createContext)return{};const e=x$[b$]??=new Map;let t=e.get(se.createContext);return t||(t=se.createContext(null),e.set(se.createContext,t)),t}var C$=B$();function S$(e){const{children:t,context:r,serverState:n,store:s}=e,A=se.useMemo(()=>{const y=d$(s);return{store:s,subscription:y,getServerState:n?()=>n:void 0}},[s,n]),f=se.useMemo(()=>s.getState(),[s]);_$(()=>{const{subscription:y}=A;return y.onStateChange=y.notifyNestedSubs,y.trySubscribe(),f!==s.getState()&&y.notifyNestedSubs(),()=>{y.tryUnsubscribe(),y.onStateChange=void 0}},[A,f]);const l=r||C$;return se.createElement(l.Provider,{value:A},t)}var E$=S$,T$=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function I$(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function PC(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(T$.has(n)){if(e[n]==null&&t[n]==null)continue;if(!w$(e[n],t[n]))return!1}else if(!I$(e[n],t[n]))return!1;return!0}var F$=e=>{var{chartData:t}=e,r=zs(),n=$A();return se.useEffect(()=>n?()=>{}:(r(D3(t)),()=>{r(D3(void 0))}),[t,r,n]),null},yT={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},TO=XA({name:"brush",initialState:yT,reducers:{setBrushSettings(e,t){return t.payload==null?yT:t.payload}}}),{setBrushSettings:eoe}=TO.actions,U$=TO.reducer;function L$(e,t,r){return(t=M$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M$(e){var t=P$(e,"string");return typeof t=="symbol"?t:t+""}function P$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class OC{static create(t){return new OC(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var A=this.bandwidth?this.bandwidth():0;return this.scale(t)+A}default:return this.scale(t)}if(r){var f=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+f}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],s=r[r.length-1];return n<=s?t>=n&&t<=s:t>=s&&t<=n}}L$(OC,"EPS",1e-4);function O$(e){return(e%180+180)%180}var D$=function(t){var{width:r,height:n}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,A=O$(s),f=A*Math.PI/180,l=Math.atan(n/r),y=f>l&&f<Math.PI-l?n/Math.sin(f):r/Math.cos(f);return Math.abs(y)},k$={dots:[],areas:[],lines:[]},IO=XA({name:"referenceElements",initialState:k$,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Mc(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Mc(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Mc(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:toe,removeDot:roe,addArea:noe,removeArea:ioe,addLine:aoe,removeLine:soe}=IO.actions,Q$=IO.reducer,N$=se.createContext(void 0),R$=e=>{var{children:t}=e,[r]=se.useState("".concat(O0("recharts"),"-clip")),n=MC();if(n==null)return null;var{x:s,y:A,width:f,height:l}=n;return se.createElement(N$.Provider,{value:r},se.createElement("defs",null,se.createElement("clipPath",{id:r},se.createElement("rect",{x:s,y:A,height:l,width:f}))),t)};function FO(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r}function z$(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return D$(n,r)}function H$(e,t,r){var n=r==="width",{x:s,y:A,width:f,height:l}=e;return t===1?{start:n?s:A,end:n?s+f:A+l}:{start:n?s+f:A+l,end:n?s:A}}function x_(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var A=r();return e*(t-e*A/2-n)>=0&&e*(t+e*A/2-s)<=0}function j$(e,t){return FO(e,t+1)}function K$(e,t,r,n,s){for(var A=(n||[]).slice(),{start:f,end:l}=t,y=0,w=1,b=f,S=function(){var z=n?.[y];if(z===void 0)return{v:FO(n,w)};var H=y,K,V=()=>(K===void 0&&(K=r(z,H)),K),re=z.coordinate,W=y===0||x_(e,re,V,b,l);W||(y=0,b=f,w+=1),W&&(b=re+e*(V()/2+s),y+=w)},U;w<=A.length;)if(U=S(),U)return U.v;return[]}function vT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ol(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vT(Object(r),!0).forEach(function(n){V$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function V$(e,t,r){return(t=q$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q$(e){var t=G$(e,"string");return typeof t=="symbol"?t:t+""}function G$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X$(e,t,r,n,s){for(var A=(n||[]).slice(),f=A.length,{start:l}=t,{end:y}=t,w=function(U){var I=A[U],z,H=()=>(z===void 0&&(z=r(I,U)),z);if(U===f-1){var K=e*(I.coordinate+e*H()/2-y);A[U]=I=Ol(Ol({},I),{},{tickCoord:K>0?I.coordinate-K*e:I.coordinate})}else A[U]=I=Ol(Ol({},I),{},{tickCoord:I.coordinate});if(I.tickCoord!=null){var V=x_(e,I.tickCoord,H,l,y);V&&(y=I.tickCoord-e*(H()/2+s),A[U]=Ol(Ol({},I),{},{isShow:!0}))}},b=f-1;b>=0;b--)w(b);return A}function $$(e,t,r,n,s,A){var f=(n||[]).slice(),l=f.length,{start:y,end:w}=t;if(A){var b=n[l-1],S=r(b,l-1),U=e*(b.coordinate+e*S/2-w);if(f[l-1]=b=Ol(Ol({},b),{},{tickCoord:U>0?b.coordinate-U*e:b.coordinate}),b.tickCoord!=null){var I=x_(e,b.tickCoord,()=>S,y,w);I&&(w=b.tickCoord-e*(S/2+s),f[l-1]=Ol(Ol({},b),{},{isShow:!0}))}}for(var z=A?l-1:l,H=function(re){var W=f[re],le,ce=()=>(le===void 0&&(le=r(W,re)),le);if(re===0){var me=e*(W.coordinate-e*ce()/2-y);f[re]=W=Ol(Ol({},W),{},{tickCoord:me<0?W.coordinate-me*e:W.coordinate})}else f[re]=W=Ol(Ol({},W),{},{tickCoord:W.coordinate});if(W.tickCoord!=null){var Ie=x_(e,W.tickCoord,ce,y,w);Ie&&(y=W.tickCoord+e*(ce()/2+s),f[re]=Ol(Ol({},W),{},{isShow:!0}))}},K=0;K<z;K++)H(K);return f}function DC(e,t,r){var{tick:n,ticks:s,viewBox:A,minTickGap:f,orientation:l,interval:y,tickFormatter:w,unit:b,angle:S}=e;if(!s||!s.length||!n)return[];if(Yr(y)||Zg.isSsr){var U;return(U=j$(s,Yr(y)?y:0))!==null&&U!==void 0?U:[]}var I=[],z=l==="top"||l==="bottom"?"width":"height",H=b&&z==="width"?E0(b,{fontSize:t,letterSpacing:r}):{width:0,height:0},K=(W,le)=>{var ce=typeof w=="function"?w(W.value,le):W.value;return z==="width"?z$(E0(ce,{fontSize:t,letterSpacing:r}),H,S):E0(ce,{fontSize:t,letterSpacing:r})[z]},V=s.length>=2?ec(s[1].coordinate-s[0].coordinate):1,re=H$(A,V,z);return y==="equidistantPreserveStart"?K$(V,re,K,s,f):(y==="preserveStart"||y==="preserveStartEnd"?I=$$(V,re,K,s,f,y==="preserveStartEnd"):I=X$(V,re,K,s,f),I.filter(W=>W.isShow))}var Z$=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:s=0,tickMargin:A=0}=e,f=0;if(t){Array.from(t).forEach(b=>{if(b){var S=b.getBoundingClientRect();S.width>f&&(f=S.width)}});var l=r?r.getBoundingClientRect().width:0,y=s+A,w=f+y+l+(r?n:0);return Math.round(w)}return 0},W$=["axisLine","width","height","className","hide","ticks","axisType"];function Y$(e,t){if(e==null)return{};var r,n,s=J$(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function J$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Sp(){return Sp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sp.apply(null,arguments)}function _T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Qs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_T(Object(r),!0).forEach(function(n){eZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_T(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eZ(e,t,r){return(t=tZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tZ(e){var t=rZ(e,"string");return typeof t=="symbol"?t:t+""}function rZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jh={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:cA.axis};function nZ(e){var{x:t,y:r,width:n,height:s,orientation:A,mirror:f,axisLine:l,otherSvgProps:y}=e;if(!l)return null;var w=Qs(Qs(Qs({},y),ph(l)),{},{fill:"none"});if(A==="top"||A==="bottom"){var b=+(A==="top"&&!f||A==="bottom"&&f);w=Qs(Qs({},w),{},{x1:t,y1:r+b*s,x2:t+n,y2:r+b*s})}else{var S=+(A==="left"&&!f||A==="right"&&f);w=Qs(Qs({},w),{},{x1:t+S*n,y1:r,x2:t+S*n,y2:r+s})}return se.createElement("line",Sp({},w,{className:Xi("recharts-cartesian-axis-line",q_(l,"className"))}))}function iZ(e,t,r,n,s,A,f,l,y){var w,b,S,U,I,z,H=l?-1:1,K=e.tickSize||f,V=Yr(e.tickCoord)?e.tickCoord:e.coordinate;switch(A){case"top":w=b=e.coordinate,U=r+ +!l*s,S=U-H*K,z=S-H*y,I=V;break;case"left":S=U=e.coordinate,b=t+ +!l*n,w=b-H*K,I=w-H*y,z=V;break;case"right":S=U=e.coordinate,b=t+ +l*n,w=b+H*K,I=w+H*y,z=V;break;default:w=b=e.coordinate,U=r+ +l*s,S=U+H*K,z=S+H*y,I=V;break}return{line:{x1:w,y1:S,x2:b,y2:U},tick:{x:I,y:z}}}function aZ(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function sZ(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function oZ(e){var{option:t,tickProps:r,value:n}=e,s,A=Xi(r.className,"recharts-cartesian-axis-tick-value");if(se.isValidElement(t))s=se.cloneElement(t,Qs(Qs({},r),{},{className:A}));else if(typeof t=="function")s=t(Qs(Qs({},r),{},{className:A}));else{var f="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(f=Xi(f,t?.className)),s=se.createElement(UC,Sp({},r,{className:f}),n)}return s}var lZ=se.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:s,stroke:A,tickFormatter:f,unit:l,padding:y,tickTextProps:w,orientation:b,mirror:S,x:U,y:I,width:z,height:H,tickSize:K,tickMargin:V,fontSize:re,letterSpacing:W,getTicksConfig:le,events:ce,axisType:me}=e,Ie=DC(Qs(Qs({},le),{},{ticks:r}),re,W),Fe=aZ(b,S),pe=sZ(b,S),ze=ph(le),ie=H_(n),de={};typeof s=="object"&&(de=s);var ve=Qs(Qs({},ze),{},{fill:"none"},de),_e=Ie.map(Ne=>Qs({entry:Ne},iZ(Ne,U,I,z,H,b,K,S,V))),tt=_e.map(Ne=>{var{entry:Ve,line:We}=Ne;return se.createElement(fd,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(Ve.value,"-").concat(Ve.coordinate,"-").concat(Ve.tickCoord)},s&&se.createElement("line",Sp({},ve,We,{className:Xi("recharts-cartesian-axis-tick-line",q_(s,"className"))})))}),Le=_e.map((Ne,Ve)=>{var{entry:We,tick:_t}=Ne,Te=Qs(Qs(Qs(Qs({textAnchor:Fe,verticalAnchor:pe},ze),{},{stroke:"none",fill:A},ie),_t),{},{index:Ve,payload:We,visibleTicksCount:Ie.length,tickFormatter:f,padding:y},w);return se.createElement(fd,Sp({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(We.value,"-").concat(We.coordinate,"-").concat(We.tickCoord)},SU(ce,We,Ve)),n&&se.createElement(oZ,{option:n,tickProps:Te,value:"".concat(typeof f=="function"?f(We.value,Ve):We.value).concat(l||"")}))});return se.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(me,"-ticks")},Le.length>0&&se.createElement(pf,{zIndex:cA.label},se.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(me,"-tick-labels"),ref:t},Le)),tt.length>0&&se.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(me,"-tick-lines")},tt))}),AZ=se.forwardRef((e,t)=>{var{axisLine:r,width:n,height:s,className:A,hide:f,ticks:l,axisType:y}=e,w=Y$(e,W$),[b,S]=se.useState(""),[U,I]=se.useState(""),z=se.useRef(null);se.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var K;return Z$({ticks:z.current,label:(K=e.labelRef)===null||K===void 0?void 0:K.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var H=se.useCallback(K=>{if(K){var V=K.getElementsByClassName("recharts-cartesian-axis-tick-value");z.current=V;var re=V[0];if(re){var W=window.getComputedStyle(re),le=W.fontSize,ce=W.letterSpacing;(le!==b||ce!==U)&&(S(le),I(ce))}}},[b,U]);return f||n!=null&&n<=0||s!=null&&s<=0?null:se.createElement(pf,{zIndex:e.zIndex},se.createElement(fd,{className:Xi("recharts-cartesian-axis",A)},se.createElement(nZ,{x:e.x,y:e.y,width:n,height:s,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:ph(e)}),se.createElement(lZ,{ref:H,axisType:y,events:w,fontSize:b,getTicksConfig:e,height:e.height,letterSpacing:U,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),se.createElement(wG,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},se.createElement(UG,{label:e.label,labelRef:e.labelRef}),e.children)))}),kC=se.forwardRef((e,t)=>{var r=Nl(e,Jh);return se.createElement(AZ,Sp({},r,{ref:t}))});kC.displayName="CartesianAxis";var uZ=["x1","y1","x2","y2","key"],cZ=["offset"],hZ=["xAxisId","yAxisId"],fZ=["xAxisId","yAxisId"];function wT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function kl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wT(Object(r),!0).forEach(function(n){dZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dZ(e,t,r){return(t=pZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pZ(e){var t=gZ(e,"string");return typeof t=="symbol"?t:t+""}function gZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dp(){return dp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dp.apply(null,arguments)}function B_(e,t){if(e==null)return{};var r,n,s=mZ(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function mZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var yZ=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:s,width:A,height:f,ry:l}=e;return se.createElement("rect",{x:n,y:s,ry:l,width:A,height:f,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function UO(e){var{option:t,lineItemProps:r}=e,n;if(se.isValidElement(t))n=se.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var s,{x1:A,y1:f,x2:l,y2:y,key:w}=r,b=B_(r,uZ),S=(s=ph(b))!==null&&s!==void 0?s:{},{offset:U}=S,I=B_(S,cZ);n=se.createElement("line",dp({},I,{x1:A,y1:f,x2:l,y2:y,fill:"none",key:w}))}return n}function vZ(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:s}=e;if(!n||!s||!s.length)return null;var{xAxisId:A,yAxisId:f}=e,l=B_(e,hZ),y=s.map((w,b)=>{var S=kl(kl({},l),{},{x1:t,y1:w,x2:t+r,y2:w,key:"line-".concat(b),index:b});return se.createElement(UO,{key:"line-".concat(b),option:n,lineItemProps:S})});return se.createElement("g",{className:"recharts-cartesian-grid-horizontal"},y)}function _Z(e){var{y:t,height:r,vertical:n=!0,verticalPoints:s}=e;if(!n||!s||!s.length)return null;var{xAxisId:A,yAxisId:f}=e,l=B_(e,fZ),y=s.map((w,b)=>{var S=kl(kl({},l),{},{x1:w,y1:t,x2:w,y2:t+r,key:"line-".concat(b),index:b});return se.createElement(UO,{option:n,lineItemProps:S,key:"line-".concat(b)})});return se.createElement("g",{className:"recharts-cartesian-grid-vertical"},y)}function wZ(e){var{horizontalFill:t,fillOpacity:r,x:n,y:s,width:A,height:f,horizontalPoints:l,horizontal:y=!0}=e;if(!y||!t||!t.length||l==null)return null;var w=l.map(S=>Math.round(S+s-s)).sort((S,U)=>S-U);s!==w[0]&&w.unshift(0);var b=w.map((S,U)=>{var I=!w[U+1],z=I?s+f-S:w[U+1]-S;if(z<=0)return null;var H=U%t.length;return se.createElement("rect",{key:"react-".concat(U),y:S,x:n,height:z,width:A,stroke:"none",fill:t[H],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return se.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},b)}function bZ(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:s,y:A,width:f,height:l,verticalPoints:y}=e;if(!t||!r||!r.length)return null;var w=y.map(S=>Math.round(S+s-s)).sort((S,U)=>S-U);s!==w[0]&&w.unshift(0);var b=w.map((S,U)=>{var I=!w[U+1],z=I?s+f-S:w[U+1]-S;if(z<=0)return null;var H=U%r.length;return se.createElement("rect",{key:"react-".concat(U),x:S,y:A,width:z,height:l,stroke:"none",fill:r[H],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return se.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},b)}var xZ=(e,t)=>{var{xAxis:r,width:n,height:s,offset:A}=e;return yL(DC(kl(kl(kl({},Jh),r),{},{ticks:vL(r),viewBox:{x:0,y:0,width:n,height:s}})),A.left,A.left+A.width,t)},BZ=(e,t)=>{var{yAxis:r,width:n,height:s,offset:A}=e;return yL(DC(kl(kl(kl({},Jh),r),{},{ticks:vL(r),viewBox:{x:0,y:0,width:n,height:s}})),A.top,A.top+A.height,t)},CZ={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:cA.grid};function LO(e){var t=E5(),r=T5(),n=TL(),s=kl(kl({},Nl(e,CZ)),{},{x:Yr(e.x)?e.x:n.left,y:Yr(e.y)?e.y:n.top,width:Yr(e.width)?e.width:n.width,height:Yr(e.height)?e.height:n.height}),{xAxisId:A,yAxisId:f,x:l,y,width:w,height:b,syncWithTicks:S,horizontalValues:U,verticalValues:I}=s,z=$A(),H=Xr(pe=>B3(pe,"xAxis",A,z)),K=Xr(pe=>B3(pe,"yAxis",f,z));if(!vh(w)||!vh(b)||!Yr(l)||!Yr(y))return null;var V=s.verticalCoordinatesGenerator||xZ,re=s.horizontalCoordinatesGenerator||BZ,{horizontalPoints:W,verticalPoints:le}=s;if((!W||!W.length)&&typeof re=="function"){var ce=U&&U.length,me=re({yAxis:K?kl(kl({},K),{},{ticks:ce?U:K.ticks}):void 0,width:t??w,height:r??b,offset:n},ce?!0:S);W1(Array.isArray(me),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof me,"]")),Array.isArray(me)&&(W=me)}if((!le||!le.length)&&typeof V=="function"){var Ie=I&&I.length,Fe=V({xAxis:H?kl(kl({},H),{},{ticks:Ie?I:H.ticks}):void 0,width:t??w,height:r??b,offset:n},Ie?!0:S);W1(Array.isArray(Fe),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof Fe,"]")),Array.isArray(Fe)&&(le=Fe)}return se.createElement(pf,{zIndex:s.zIndex},se.createElement("g",{className:"recharts-cartesian-grid"},se.createElement(yZ,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),se.createElement(wZ,dp({},s,{horizontalPoints:W})),se.createElement(bZ,dp({},s,{verticalPoints:le})),se.createElement(vZ,dp({},s,{offset:n,horizontalPoints:W,xAxis:H,yAxis:K})),se.createElement(_Z,dp({},s,{offset:n,verticalPoints:le,xAxis:H,yAxis:K}))))}LO.displayName="CartesianGrid";var MO=(e,t,r,n)=>MP(e,"xAxis",t,n),PO=(e,t,r,n)=>LP(e,"xAxis",t,n),OO=(e,t,r,n)=>MP(e,"yAxis",r,n),DO=(e,t,r,n)=>LP(e,"yAxis",r,n),SZ=Mt([Ca,MO,OO,PO,DO],(e,t,r,n,s)=>yd(e,"xAxis")?Z1(t,n,!1):Z1(r,s,!1)),EZ=(e,t,r,n,s)=>s;function TZ(e){return e.type==="line"}var IZ=Mt([tP,EZ],(e,t)=>e.filter(TZ).find(r=>r.id===t)),FZ=Mt([Ca,MO,OO,PO,DO,IZ,SZ,rC],(e,t,r,n,s,A,f,l)=>{var{chartData:y,dataStartIndex:w,dataEndIndex:b}=l;if(!(A==null||t==null||r==null||n==null||s==null||n.length===0||s.length===0||f==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:S,data:U}=A,I;if(U!=null&&U.length>0?I=U:I=y?.slice(w,b+1),I!=null)return WZ({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:s,dataKey:S,bandSize:f,displayedData:I})}});function UZ(e){var t=H_(e),r=3,n=2;if(t!=null){var{r:s,strokeWidth:A}=t,f=Number(s),l=Number(A);return(Number.isNaN(f)||f<0)&&(f=r),(Number.isNaN(l)||l<0)&&(l=n),{r:f,strokeWidth:l}}return{r,strokeWidth:n}}var LZ=["id"],MZ=["type","layout","connectNulls","needClip","shape"],PZ=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Z0(){return Z0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Z0.apply(null,arguments)}function bT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ch(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bT(Object(r),!0).forEach(function(n){OZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OZ(e,t,r){return(t=DZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DZ(e){var t=kZ(e,"string");return typeof t=="symbol"?t:t+""}function kZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QC(e,t){if(e==null)return{};var r,n,s=QZ(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function QZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var NZ=e=>{var{dataKey:t,name:r,stroke:n,legendType:s,hide:A}=e;return[{inactive:A,dataKey:t,type:s,color:n,value:_L(r,t),payload:e}]},RZ=se.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:s,fill:A,name:f,hide:l,unit:y,tooltipType:w}=e,b={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:s,fill:A,dataKey:t,nameKey:void 0,name:_L(f,t),hide:l,type:w,color:n,unit:y}};return se.createElement(fX,{tooltipEntrySettings:b})}),kO=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function zZ(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],s=0;s<t;++s)n=[...n,...r];return n}var HZ=(e,t,r)=>{var n=r.reduce((S,U)=>S+U);if(!n)return kO(t,e);for(var s=Math.floor(e/n),A=e%n,f=t-e,l=[],y=0,w=0;y<r.length;w+=r[y],++y)if(w+r[y]>A){l=[...r.slice(0,y),A-w];break}var b=l.length%2===0?[0,f]:[f];return[...zZ(r,s),...l,...b].map(S=>"".concat(S,"px")).join(", ")};function jZ(e){var{clipPathId:t,points:r,props:n}=e,{dot:s,dataKey:A,needClip:f}=n,{id:l}=n,y=QC(n,LZ),w=ph(y);return se.createElement(PX,{points:r,dot:s,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:A,baseProps:w,needClip:f,clipPathId:t})}function KZ(e){var{showLabels:t,children:r,points:n}=e,s=se.useMemo(()=>n?.map(A=>{var f,l,y={x:(f=A.x)!==null&&f!==void 0?f:0,y:(l=A.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return ch(ch({},y),{},{value:A.value,payload:A.payload,viewBox:y,parentViewBox:void 0,fill:void 0})}),[n]);return se.createElement(HG,{value:t?s:void 0},r)}function xT(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:s,props:A}=e,{type:f,layout:l,connectNulls:y,needClip:w,shape:b}=A,S=QC(A,MZ),U=ch(ch({},hA(S)),{},{fill:"none",className:"recharts-line-curve",clipPath:w?"url(#clipPath-".concat(t,")"):void 0,points:n,type:f,layout:l,connectNulls:y,strokeDasharray:s??A.strokeDasharray});return se.createElement(se.Fragment,null,n?.length>1&&se.createElement(hX,Z0({shapeType:"curve",option:b},U,{pathRef:r})),se.createElement(jZ,{points:n,clipPathId:t,props:A}))}function VZ(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function qZ(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:s,longestAnimatedLengthRef:A}=e,{points:f,strokeDasharray:l,isAnimationActive:y,animationBegin:w,animationDuration:b,animationEasing:S,animateNewValues:U,width:I,height:z,onAnimationEnd:H,onAnimationStart:K}=r,V=s.current,re=L5(f,"recharts-line-"),W=se.useRef(re),[le,ce]=se.useState(!1),me=!le,Ie=se.useCallback(()=>{typeof H=="function"&&H(),ce(!1)},[H]),Fe=se.useCallback(()=>{typeof K=="function"&&K(),ce(!0)},[K]),pe=VZ(n.current),ze=se.useRef(0);W.current!==re&&(ze.current=A.current,W.current=re);var ie=ze.current;return se.createElement(KZ,{points:f,showLabels:me},r.children,se.createElement(U5,{animationId:re,begin:w,duration:b,isActive:y,easing:S,onAnimationEnd:Ie,onAnimationStart:Fe,key:re},de=>{var ve=qA(ie,pe+ie,de),_e=Math.min(ve,pe),tt;if(y)if(l){var Le="".concat(l).split(/[,\s]+/gim).map(We=>parseFloat(We));tt=HZ(_e,pe,Le)}else tt=kO(pe,_e);else tt=l==null?void 0:String(l);if(de>0&&pe>0&&(s.current=f,A.current=Math.max(A.current,_e)),V){var Ne=V.length/f.length,Ve=de===1?f:f.map((We,_t)=>{var Te=Math.floor(_t*Ne);if(V[Te]){var ne=V[Te];return ch(ch({},We),{},{x:qA(ne.x,We.x,de),y:qA(ne.y,We.y,de)})}return U?ch(ch({},We),{},{x:qA(I*2,We.x,de),y:qA(z/2,We.y,de)}):ch(ch({},We),{},{x:We.x,y:We.y})});return s.current=Ve,se.createElement(xT,{props:r,points:Ve,clipPathId:t,pathRef:n,strokeDasharray:tt})}return se.createElement(xT,{props:r,points:f,clipPathId:t,pathRef:n,strokeDasharray:tt})}),se.createElement(VG,{label:r.label}))}function GZ(e){var{clipPathId:t,props:r}=e,n=se.useRef(null),s=se.useRef(0),A=se.useRef(null);return se.createElement(qZ,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:s,pathRef:A})}var XZ=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:Ql(e.payload,t)}};class $Z extends se.Component{render(){var{hide:t,dot:r,points:n,className:s,xAxisId:A,yAxisId:f,top:l,left:y,width:w,height:b,id:S,needClip:U,zIndex:I}=this.props;if(t)return null;var z=Xi("recharts-line",s),H=S,{r:K,strokeWidth:V}=UZ(r),re=bO(r),W=K*2+V,le=U?"url(#clipPath-".concat(re?"":"dots-").concat(H,")"):void 0;return se.createElement(pf,{zIndex:I},se.createElement(fd,{className:z},U&&se.createElement("defs",null,se.createElement(A$,{clipPathId:H,xAxisId:A,yAxisId:f}),!re&&se.createElement("clipPath",{id:"clipPath-dots-".concat(H)},se.createElement("rect",{x:y-W/2,y:l-W/2,width:w+W,height:b+W}))),se.createElement(l$,{xAxisId:A,yAxisId:f,data:n,dataPointFormatter:XZ,errorBarOffset:0},se.createElement(GZ,{props:this.props,clipPathId:H}))),se.createElement(e$,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:le}))}}var QO={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:cA.line,type:"linear"};function ZZ(e){var t=Nl(e,QO),{activeDot:r,animateNewValues:n,animationBegin:s,animationDuration:A,animationEasing:f,connectNulls:l,dot:y,hide:w,isAnimationActive:b,label:S,legendType:U,xAxisId:I,yAxisId:z,id:H}=t,K=QC(t,PZ),{needClip:V}=EO(I,z),re=MC(),W=ow(),le=$A(),ce=Xr(ze=>FZ(ze,I,z,le,H));if(W!=="horizontal"&&W!=="vertical"||ce==null||re==null)return null;var{height:me,width:Ie,x:Fe,y:pe}=re;return se.createElement($Z,Z0({},K,{id:H,connectNulls:l,dot:y,activeDot:r,animateNewValues:n,animationBegin:s,animationDuration:A,animationEasing:f,isAnimationActive:b,hide:w,label:S,legendType:U,xAxisId:I,yAxisId:z,points:ce,layout:W,height:me,width:Ie,left:Fe,top:pe,needClip:V}))}function WZ(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:s,yAxisTicks:A,dataKey:f,bandSize:l,displayedData:y}=e;return y.map((w,b)=>{var S=Ql(w,f);if(t==="horizontal"){var U=VE({axis:r,ticks:s,bandSize:l,entry:w,index:b}),I=Uo(S)?null:n.scale(S);return{x:U,y:I,value:S,payload:w}}var z=Uo(S)?null:r.scale(S),H=VE({axis:n,ticks:A,bandSize:l,entry:w,index:b});return z==null||H==null?null:{x:z,y:H,value:S,payload:w}}).filter(Boolean)}function YZ(e){var t=Nl(e,QO),r=$A();return se.createElement(yX,{id:t.id,type:"line"},n=>se.createElement(se.Fragment,null,se.createElement(dX,{legendPayload:NZ(t)}),se.createElement(RZ,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),se.createElement(CX,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),se.createElement(ZZ,Z0({},t,{id:n}))))}var NC=se.memo(YZ,PC);NC.displayName="Line";var JZ=["domain","range"],eW=["domain","range"];function BT(e,t){if(e==null)return{};var r,n,s=tW(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function tW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function CT(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function NO(e,t){if(e===t)return!0;var{domain:r,range:n}=e,s=BT(e,JZ),{domain:A,range:f}=t,l=BT(t,eW);return!CT(r,A)||!CT(n,f)?!1:PC(s,l)}var rW=["dangerouslySetInnerHTML","ticks"],nW=["id"];function wB(){return wB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wB.apply(null,arguments)}function ST(e,t){if(e==null)return{};var r,n,s=iW(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function iW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function aW(e){var t=zs(),r=se.useRef(null);return se.useLayoutEffect(()=>{r.current===null?t(NX(e)):r.current!==e&&t(RX({prev:r.current,next:e})),r.current=e},[e,t]),se.useLayoutEffect(()=>()=>{r.current&&(t(zX(r.current)),r.current=null)},[t]),null}var sW=e=>{var{xAxisId:t,className:r}=e,n=Xr(bL),s=$A(),A="xAxis",f=Xr(K=>rm(K,A,t,s)),l=Xr(K=>UP(K,A,t,s)),y=Xr(K=>mK(K,t)),w=Xr(K=>xK(K,t)),b=Xr(K=>WM(K,t));if(y==null||w==null||b==null)return null;var{dangerouslySetInnerHTML:S,ticks:U}=e,I=ST(e,rW),{id:z}=b,H=ST(b,nW);return se.createElement(kC,wB({},I,H,{scale:f,x:w.x,y:w.y,width:y.width,height:y.height,className:Xi("recharts-".concat(A," ").concat(A),r),viewBox:n,ticks:l,axisType:A}))},oW={allowDataOverflow:Eo.allowDataOverflow,allowDecimals:Eo.allowDecimals,allowDuplicatedCategory:Eo.allowDuplicatedCategory,angle:Eo.angle,axisLine:Jh.axisLine,height:Eo.height,hide:!1,includeHidden:Eo.includeHidden,interval:Eo.interval,minTickGap:Eo.minTickGap,mirror:Eo.mirror,orientation:Eo.orientation,padding:Eo.padding,reversed:Eo.reversed,scale:Eo.scale,tick:Eo.tick,tickCount:Eo.tickCount,tickLine:Jh.tickLine,tickSize:Jh.tickSize,type:Eo.type,xAxisId:0},lW=e=>{var t=Nl(e,oW);return se.createElement(se.Fragment,null,se.createElement(aW,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),se.createElement(sW,t))},RC=se.memo(lW,NO);RC.displayName="XAxis";var AW=["dangerouslySetInnerHTML","ticks"],uW=["id"];function bB(){return bB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bB.apply(null,arguments)}function ET(e,t){if(e==null)return{};var r,n,s=cW(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function cW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function hW(e){var t=zs(),r=se.useRef(null);return se.useLayoutEffect(()=>{r.current===null?t(HX(e)):r.current!==e&&t(jX({prev:r.current,next:e})),r.current=e},[e,t]),se.useLayoutEffect(()=>()=>{r.current&&(t(KX(r.current)),r.current=null)},[t]),null}var fW=e=>{var{yAxisId:t,className:r,width:n,label:s}=e,A=se.useRef(null),f=se.useRef(null),l=Xr(bL),y=$A(),w=zs(),b="yAxis",S=Xr(ce=>rm(ce,b,t,y)),U=Xr(ce=>SK(ce,t)),I=Xr(ce=>CK(ce,t)),z=Xr(ce=>UP(ce,b,t,y)),H=Xr(ce=>YM(ce,t));if(se.useLayoutEffect(()=>{if(!(n!=="auto"||!U||LC(s)||se.isValidElement(s)||H==null)){var ce=A.current;if(ce){var me=ce.getCalculatedWidth();Math.round(U.width)!==Math.round(me)&&w(VX({id:t,width:me}))}}},[z,U,w,s,t,n,H]),U==null||I==null||H==null)return null;var{dangerouslySetInnerHTML:K,ticks:V}=e,re=ET(e,AW),{id:W}=H,le=ET(H,uW);return se.createElement(kC,bB({},re,le,{ref:A,labelRef:f,scale:S,x:I.x,y:I.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:U.width,height:U.height,className:Xi("recharts-".concat(b," ").concat(b),r),viewBox:l,ticks:z,axisType:b}))},dW={allowDataOverflow:To.allowDataOverflow,allowDecimals:To.allowDecimals,allowDuplicatedCategory:To.allowDuplicatedCategory,angle:To.angle,axisLine:Jh.axisLine,hide:!1,includeHidden:To.includeHidden,interval:To.interval,minTickGap:To.minTickGap,mirror:To.mirror,orientation:To.orientation,padding:To.padding,reversed:To.reversed,scale:To.scale,tick:To.tick,tickCount:To.tickCount,tickLine:Jh.tickLine,tickSize:Jh.tickSize,type:To.type,width:To.width,yAxisId:0},pW=e=>{var t=Nl(e,dW);return se.createElement(se.Fragment,null,se.createElement(hW,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),se.createElement(fW,t))},RO=se.memo(pW,NO);RO.displayName="YAxis";var gW=(e,t)=>t,zC=Mt([gW,Ca,XM,co,XP,df,zV,tl],XV),HC=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},zO=ic("mouseClick"),HO=oy();HO.startListening({actionCreator:zO,effect:(e,t)=>{var r=e.payload,n=zC(t.getState(),HC(r));n?.activeIndex!=null&&t.dispatch(NK({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var xB=ic("mouseMove"),jO=oy(),Rv=null;jO.startListening({actionCreator:xB,effect:(e,t)=>{var r=e.payload;Rv!==null&&cancelAnimationFrame(Rv);var n=HC(r);Rv=requestAnimationFrame(()=>{var s=t.getState(),A=wC(s,s.tooltip.settings.shared);if(A==="axis"){var f=zC(s,n);f?.activeIndex!=null?t.dispatch(RP({activeIndex:f.activeIndex,activeDataKey:void 0,activeCoordinate:f.activeCoordinate})):t.dispatch(NP())}Rv=null})}});var TT={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},KO=XA({name:"rootProps",initialState:TT,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:TT.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),mW=KO.reducer,{updateOptions:yW}=KO.actions,VO=XA({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:ooe}=VO.actions,vW=VO.reducer,qO=ic("keyDown"),GO=ic("focus"),jC=oy();jC.startListening({actionCreator:qO,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip,A=e.payload;if(!(A!=="ArrowRight"&&A!=="ArrowLeft"&&A!=="Enter")){var f=bC(s,im(r),gy(r),wy(r)),l=f==null?-1:Number(f);if(!(!Number.isFinite(l)||l<0)){var y=df(r);if(A==="Enter"){var w=y_(r,"axis","hover",String(s.index));t.dispatch(pB({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:w}));return}var b=FK(r),S=b==="left-to-right"?1:-1,U=A==="ArrowRight"?1:-1,I=l+U*S;if(!(y==null||I>=y.length||I<0)){var z=y_(r,"axis","hover",String(I));t.dispatch(pB({active:!0,activeIndex:I.toString(),activeDataKey:void 0,activeCoordinate:z}))}}}}}});jC.startListening({actionCreator:GO,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip;if(!s.active&&s.index==null){var A="0",f=y_(r,"axis","hover",String(A));t.dispatch(pB({activeDataKey:void 0,active:!0,activeIndex:A,activeCoordinate:f}))}}}});var Zu=ic("externalEvent"),XO=oy(),Dx=new Map;XO.startListening({actionCreator:Zu,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var s=n.type,A=Dx.get(s);A!==void 0&&cancelAnimationFrame(A);var f=requestAnimationFrame(()=>{try{var l=t.getState(),y={activeCoordinate:CV(l),activeDataKey:xV(l),activeIndex:X0(l),activeLabel:WP(l),activeTooltipIndex:X0(l),isTooltipActive:SV(l)};r(y,n)}finally{Dx.delete(s)}});Dx.set(s,f)}}});var _W=Mt([nm],e=>e.tooltipItemPayloads),wW=Mt([_W,vy,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var s=e.find(l=>l.settings.dataKey===n);if(s!=null){var{positions:A}=s;if(A!=null){var f=t(A,r);return f}}}),$O=ic("touchMove"),ZO=oy();ZO.startListening({actionCreator:$O,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),s=wC(n,n.tooltip.settings.shared);if(s==="axis"){var A=zC(n,HC({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));A?.activeIndex!=null&&t.dispatch(RP({activeIndex:A.activeIndex,activeDataKey:void 0,activeCoordinate:A.activeCoordinate}))}else if(s==="item"){var f,l=r.touches[0];if(document.elementFromPoint==null)return;var y=document.elementFromPoint(l.clientX,l.clientY);if(!y||!y.getAttribute)return;var w=y.getAttribute(AR),b=(f=y.getAttribute(uR))!==null&&f!==void 0?f:void 0,S=wW(t.getState(),w,b);t.dispatch(QK({activeDataKey:b,activeIndex:w,activeCoordinate:S}))}}}});var bW=jU({brush:U$,cartesianAxis:qX,chartData:Sq,errorBars:r$,graphicalItems:xX,layout:G8,legend:nz,options:wq,polarAxis:GG,polarOptions:vW,referenceElements:Q$,rootProps:mW,tooltip:RK,zIndex:lq}),xW=function(t){return y8({reducer:bW,preloadedState:t,middleware:r=>{var n;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((n="es6")!==null&&n!==void 0?n:"")}).concat([HO.middleware,jO.middleware,jC.middleware,XO.middleware,ZO.middleware])},enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(iL({type:"raf"}))},devTools:Zg.devToolsEnabled})};function BW(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,s=$A(),A=se.useRef(null);if(s)return r;A.current==null&&(A.current=xW(t));var f=m5;return se.createElement(E$,{context:f,store:A.current},r)}function CW(e){var{layout:t,margin:r}=e,n=zs(),s=$A();return se.useEffect(()=>{s||(n(K8(t)),n(j8(r)))},[n,s,t,r]),null}var SW=se.memo(CW,PC);function EW(e){var t=zs();return se.useEffect(()=>{t(yW(e))},[t,e]),null}function IT(e){var{zIndex:t,isPanorama:r}=e,n=r?"recharts-zindex-panorama-":"recharts-zindex-",s=xO("".concat(n).concat(t)),A=zs();return se.useLayoutEffect(()=>(A(sq({zIndex:t,elementId:s,isPanorama:r})),()=>{A(oq({zIndex:t,isPanorama:r}))}),[A,t,s,r]),se.createElement("g",{id:s})}function FT(e){var{children:t,isPanorama:r}=e,n=Xr(ZV);if(!n||n.length===0)return t;var s=n.filter(f=>f<0),A=n.filter(f=>f>0);return se.createElement(se.Fragment,null,s.map(f=>se.createElement(IT,{key:f,zIndex:f,isPanorama:r})),t,A.map(f=>se.createElement(IT,{key:f,zIndex:f,isPanorama:r})))}var TW=["children"];function IW(e,t){if(e==null)return{};var r,n,s=FW(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function FW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function C_(){return C_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C_.apply(null,arguments)}var UW={width:"100%",height:"100%",display:"block"},LW=se.forwardRef((e,t)=>{var r=E5(),n=T5(),s=kL();if(!vh(r)||!vh(n))return null;var{children:A,otherAttributes:f,title:l,desc:y}=e,w,b;return f!=null&&(typeof f.tabIndex=="number"?w=f.tabIndex:w=s?0:void 0,typeof f.role=="string"?b=f.role:b=s?"application":void 0),se.createElement(s5,C_({},f,{title:l,desc:y,role:b,tabIndex:w,width:r,height:n,style:UW,ref:t}),A)}),MW=e=>{var{children:t}=e,r=Xr(aw);if(!r)return null;var{width:n,height:s,y:A,x:f}=r;return se.createElement(s5,{width:n,height:s,x:f,y:A},t)},UT=se.forwardRef((e,t)=>{var{children:r}=e,n=IW(e,TW),s=$A();return s?se.createElement(MW,null,se.createElement(FT,{isPanorama:!0},r)):se.createElement(LW,C_({ref:t},n),se.createElement(FT,{isPanorama:!1},r))});function PW(){var e=zs(),[t,r]=se.useState(null),n=Xr(lR);return se.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),A=s.width/t.offsetWidth;Lo(A)&&A!==n&&e(q8(A))}},[t,e,n]),r}function LT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function OW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LT(Object(r),!0).forEach(function(n){DW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DW(e,t,r){return(t=kW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kW(e){var t=QW(e,"string");return typeof t=="symbol"?t:t+""}function QW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ep(){return Ep=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ep.apply(null,arguments)}var NW=()=>(Oq(),null);function S_(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var RW=se.forwardRef((e,t)=>{var r,n,s=se.useRef(null),[A,f]=se.useState({containerWidth:S_((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:S_((n=e.style)===null||n===void 0?void 0:n.height)}),l=se.useCallback((w,b)=>{f(S=>{var U=Math.round(w),I=Math.round(b);return S.containerWidth===U&&S.containerHeight===I?S:{containerWidth:U,containerHeight:I}})},[]),y=se.useCallback(w=>{if(typeof t=="function"&&t(w),w!=null&&typeof ResizeObserver<"u"){var{width:b,height:S}=w.getBoundingClientRect();l(b,S);var U=z=>{var{width:H,height:K}=z[0].contentRect;l(H,K)},I=new ResizeObserver(U);I.observe(w),s.current=I}},[t,l]);return se.useEffect(()=>()=>{var w=s.current;w?.disconnect()},[l]),se.createElement(se.Fragment,null,se.createElement(lw,{width:A.containerWidth,height:A.containerHeight}),se.createElement("div",Ep({ref:y},e)))}),zW=se.forwardRef((e,t)=>{var{width:r,height:n}=e,[s,A]=se.useState({containerWidth:S_(r),containerHeight:S_(n)}),f=se.useCallback((y,w)=>{A(b=>{var S=Math.round(y),U=Math.round(w);return b.containerWidth===S&&b.containerHeight===U?b:{containerWidth:S,containerHeight:U}})},[]),l=se.useCallback(y=>{if(typeof t=="function"&&t(y),y!=null){var{width:w,height:b}=y.getBoundingClientRect();f(w,b)}},[t,f]);return se.createElement(se.Fragment,null,se.createElement(lw,{width:s.containerWidth,height:s.containerHeight}),se.createElement("div",Ep({ref:l},e)))}),HW=se.forwardRef((e,t)=>{var{width:r,height:n}=e;return se.createElement(se.Fragment,null,se.createElement(lw,{width:r,height:n}),se.createElement("div",Ep({ref:t},e)))}),jW=se.forwardRef((e,t)=>{var{width:r,height:n}=e;return tf(r)||tf(n)?se.createElement(zW,Ep({},e,{ref:t})):se.createElement(HW,Ep({},e,{ref:t}))});function KW(e){return e===!0?RW:jW}var VW=se.forwardRef((e,t)=>{var{children:r,className:n,height:s,onClick:A,onContextMenu:f,onDoubleClick:l,onMouseDown:y,onMouseEnter:w,onMouseLeave:b,onMouseMove:S,onMouseUp:U,onTouchEnd:I,onTouchMove:z,onTouchStart:H,style:K,width:V,responsive:re,dispatchTouchEvents:W=!0}=e,le=se.useRef(null),ce=zs(),[me,Ie]=se.useState(null),[Fe,pe]=se.useState(null),ze=PW(),ie=S5(),de=ie?.width>0?ie.width:V,ve=ie?.height>0?ie.height:s,_e=se.useCallback(He=>{ze(He),typeof t=="function"&&t(He),Ie(He),pe(He),He!=null&&(le.current=He)},[ze,t,Ie,pe]),tt=se.useCallback(He=>{ce(zO(He)),ce(Zu({handler:A,reactEvent:He}))},[ce,A]),Le=se.useCallback(He=>{ce(xB(He)),ce(Zu({handler:w,reactEvent:He}))},[ce,w]),Ne=se.useCallback(He=>{ce(NP()),ce(Zu({handler:b,reactEvent:He}))},[ce,b]),Ve=se.useCallback(He=>{ce(xB(He)),ce(Zu({handler:S,reactEvent:He}))},[ce,S]),We=se.useCallback(()=>{ce(GO())},[ce]),_t=se.useCallback(He=>{ce(qO(He.key))},[ce]),Te=se.useCallback(He=>{ce(Zu({handler:f,reactEvent:He}))},[ce,f]),ne=se.useCallback(He=>{ce(Zu({handler:l,reactEvent:He}))},[ce,l]),we=se.useCallback(He=>{ce(Zu({handler:y,reactEvent:He}))},[ce,y]),Ue=se.useCallback(He=>{ce(Zu({handler:U,reactEvent:He}))},[ce,U]),De=se.useCallback(He=>{ce(Zu({handler:H,reactEvent:He}))},[ce,H]),Xe=se.useCallback(He=>{W&&ce($O(He)),ce(Zu({handler:z,reactEvent:He}))},[ce,W,z]),Je=se.useCallback(He=>{ce(Zu({handler:I,reactEvent:He}))},[ce,I]),dt=KW(re);return se.createElement(iO.Provider,{value:me},se.createElement(iU.Provider,{value:Fe},se.createElement(dt,{width:de??K?.width,height:ve??K?.height,className:Xi("recharts-wrapper",n),style:OW({position:"relative",cursor:"default",width:de,height:ve},K),onClick:tt,onContextMenu:Te,onDoubleClick:ne,onFocus:We,onKeyDown:_t,onMouseDown:we,onMouseEnter:Le,onMouseLeave:Ne,onMouseMove:Ve,onMouseUp:Ue,onTouchEnd:Je,onTouchMove:Xe,onTouchStart:De,ref:_e},se.createElement(NW,null),r)))}),qW=["width","height","responsive","children","className","style","compact","title","desc"];function GW(e,t){if(e==null)return{};var r,n,s=XW(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function XW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $W=se.forwardRef((e,t)=>{var{width:r,height:n,responsive:s,children:A,className:f,style:l,compact:y,title:w,desc:b}=e,S=GW(e,qW),U=ph(S);return y?se.createElement(se.Fragment,null,se.createElement(lw,{width:r,height:n}),se.createElement(UT,{otherAttributes:U,title:w,desc:b},A)):se.createElement(VW,{className:f,style:l,width:r,height:n,responsive:s??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},se.createElement(UT,{otherAttributes:U,title:w,desc:b,ref:t},se.createElement(R$,null,A)))});function BB(){return BB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},BB.apply(null,arguments)}var ZW={top:5,right:5,bottom:5,left:5},WW={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:ZW,reverseStackOrder:!1,syncMethod:"index",responsive:!1},YW=se.forwardRef(function(t,r){var n,s=Nl(t.categoricalChartProps,WW),{chartName:A,defaultTooltipEventType:f,validateTooltipEventTypes:l,tooltipPayloadSearcher:y,categoricalChartProps:w}=t,b={chartName:A,defaultTooltipEventType:f,validateTooltipEventTypes:l,tooltipPayloadSearcher:y,eventEmitter:void 0};return se.createElement(BW,{preloadedState:{options:b},reduxStoreName:(n=w.id)!==null&&n!==void 0?n:A},se.createElement(F$,{chartData:w.data}),se.createElement(SW,{layout:s.layout,margin:s.margin}),se.createElement(EW,{baseValue:s.baseValue,accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className,reverseStackOrder:s.reverseStackOrder}),se.createElement($W,BB({},s,{ref:r})))}),JW=["axis"],WO=se.forwardRef((e,t)=>se.createElement(YW,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:JW,tooltipPayloadSearcher:vq,categoricalChartProps:e,ref:t}));function eY({history:e,color:t}){if(!e||e.length===0)return null;const r=e.map(A=>({name:A.year,value:A.value})),n=Math.min(...r.map(A=>A.value)),s=Math.max(...r.map(A=>A.value));return wt.jsxs("div",{className:"w-full h-24 mt-1",children:[" ",wt.jsx(SL,{width:"100%",height:"100%",children:wt.jsxs(WO,{data:r,margin:{top:5,right:5,bottom:0,left:5},children:[wt.jsx(RC,{dataKey:"name",tick:{fill:"#64748b",fontSize:9,fontWeight:600},axisLine:!1,tickLine:!1,dy:5,interval:"preserveStartEnd"}),wt.jsx(RO,{domain:[n*.9,s*1.1],hide:!0}),wt.jsx(oO,{contentStyle:{backgroundColor:"rgba(15, 23, 42, 0.8)",backdropFilter:"blur(4px)",borderColor:"rgba(255,255,255,0.1)",borderRadius:"8px",fontSize:"10px",color:"#fff",padding:"4px 8px"},itemStyle:{color:t||"#22d3ee",padding:0},formatter:A=>[`${A} t`,""],labelStyle:{display:"none"},cursor:{stroke:"#fff",strokeWidth:1,strokeDasharray:"3 3",opacity:.3}}),wt.jsx(NC,{type:"monotone",dataKey:"value",stroke:t||"#22d3ee",strokeWidth:2,dot:{r:2,fill:"#0f172a",stroke:t||"#22d3ee",strokeWidth:1.5},activeDot:{r:4,fill:t||"#22d3ee"}})]})})]})}var tY={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const rY=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Rl=(e,t)=>{const r=se.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:A=2,absoluteStrokeWidth:f,className:l="",children:y,...w},b)=>se.createElement("svg",{ref:b,...tY,width:s,height:s,stroke:n,strokeWidth:f?Number(A)*24/Number(s):A,className:["lucide",`lucide-${rY(e)}`,l].join(" "),...w},[...t.map(([S,U])=>se.createElement(S,U)),...Array.isArray(y)?y:[y]]));return r.displayName=`${e}`,r};const nY=Rl("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const iY=Rl("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const MT=Rl("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const aY=Rl("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);const sY=Rl("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const oY=Rl("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);const lY=Rl("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);const AY=Rl("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const uY=Rl("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const PT=Rl("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);const cY=Rl("ScanEye",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["path",{d:"M5 12s2.5-5 7-5 7 5 7 5-2.5 5-7 5-7-5-7-5",key:"nhuolu"}]]);const hY=Rl("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const fY=Rl("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);const YO=Rl("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);const JO=Rl("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const dY=Rl("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function pY({mapData:e,onLocationSelect:t,flyToLocation:r,radius:n,highlightedName:s}){const A=se.useRef(null),f=se.useRef(null),l=se.useRef(null),y=se.useRef(null),w=se.useRef(null),b=se.useRef({mapData:e,radius:n,onLocationSelect:t});se.useEffect(()=>{b.current={mapData:e,radius:n,onLocationSelect:t}},[e,n,t]);const[S,U]=se.useState(!1),[I,z]=se.useState(null),[H,K]=se.useState(null),[V,re]=se.useState(!1),[W,le]=se.useState(2024),ce=se.useRef(V);se.useEffect(()=>{ce.current=V},[V]),se.useEffect(()=>{if(!H||!f.current||!w.current)return;const ve=()=>{if(!H||!w.current)return;const _e=f.current.project(H.lngLat);w.current.style.transform=`translate(${_e.x}px, ${_e.y}px)`};return ve(),f.current.on("move",ve),f.current.on("moveend",ve),()=>{f.current&&(f.current.off("move",ve),f.current.off("moveend",ve))}},[H]);const me=se.useCallback(()=>{if(!f.current||f.current.getSource("retc-source"))return;const ve=f.current.getStyle().layers;let _e;for(const tt of ve)if(tt.type==="symbol"){_e=tt.id;break}f.current.addSource("buffer-source",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),f.current.addSource("connections-source",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),f.current.addSource("retc-source",{type:"geojson",data:{type:"FeatureCollection",features:[]},cluster:!0,clusterMaxZoom:12,clusterRadius:60}),f.current.addLayer({id:"buffer-fill",type:"fill",source:"buffer-source",paint:{"fill-color":"#10b981","fill-opacity":.1}},_e),f.current.addLayer({id:"buffer-line",type:"line",source:"buffer-source",paint:{"line-color":"#34d399","line-width":2,"line-dasharray":[2,2]}},_e),f.current.addLayer({id:"cluster-glow-outer",type:"circle",source:"retc-source",filter:["has","point_count"],paint:{"circle-color":"#06b6d4","circle-radius":["step",["get","point_count"],30,100,40,500,55],"circle-opacity":.15,"circle-blur":1}},_e),f.current.addLayer({id:"cluster-glow-mid",type:"circle",source:"retc-source",filter:["has","point_count"],paint:{"circle-color":"#22d3ee","circle-radius":["step",["get","point_count"],22,100,28,500,38],"circle-opacity":.25,"circle-blur":.5}},_e),f.current.addLayer({id:"clusters",type:"circle",source:"retc-source",filter:["has","point_count"],paint:{"circle-color":"#0891b2","circle-radius":["step",["get","point_count"],14,100,18,500,24],"circle-stroke-width":2,"circle-stroke-color":"rgba(255, 255, 255, 0.4)"}},_e),f.current.addLayer({id:"cluster-core",type:"circle",source:"retc-source",filter:["has","point_count"],paint:{"circle-color":"#ffffff","circle-radius":["step",["get","point_count"],3,100,5,500,7],"circle-opacity":.6,"circle-blur":.3}},_e),f.current.addLayer({id:"cluster-count",type:"symbol",source:"retc-source",filter:["has","point_count"],layout:{"text-field":"{point_count_abbreviated}","text-font":["Open Sans Bold","Arial Unicode MS Bold"],"text-size":["step",["get","point_count"],10,100,12,500,14]},paint:{"text-color":"#ffffff","text-halo-color":"rgba(0, 0, 0, 0.5)","text-halo-width":1}}),f.current.addLayer({id:"connections-line",type:"line",source:"connections-source",layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#22d3ee","line-width":1.5,"line-opacity":.4,"line-dasharray":[1,3]}},_e),f.current.addLayer({id:"connections-label",type:"symbol",source:"connections-source",layout:{"text-field":["get","distLabel"],"symbol-placement":"line-center","text-size":12,"text-font":["Open Sans Bold","Arial Unicode MS Bold"],"text-offset":[0,-.8],"text-allow-overlap":!1,"text-ignore-placement":!1,"text-padding":5},paint:{"text-color":"rgba(255, 255, 255, 0.9)","text-halo-color":"#0f172a","text-halo-width":2,"text-opacity":.8}}),f.current.addLayer({id:"retc-points-hitbox",type:"circle",source:"retc-source",filter:["!",["has","point_count"]],paint:{"circle-color":"transparent","circle-radius":15}}),f.current.addLayer({id:"retc-pulse",type:"circle",source:"retc-source",filter:["all",["!",["has","point_count"]],["in","id_vu",""]],paint:{"circle-color":"#f43f5e","circle-radius":12,"circle-opacity":0,"circle-blur":.4}},_e),f.current.addLayer({id:"retc-highlight",type:"circle",source:"retc-source",filter:["all",["!",["has","point_count"]],["==","name",""]],paint:{"circle-color":"transparent","circle-radius":8,"circle-stroke-width":3,"circle-stroke-color":"#fbbf24","circle-opacity":1}},_e),f.current.addLayer({id:"retc-glow",type:"circle",source:"retc-source",filter:["!",["has","point_count"]],paint:{"circle-color":["step",["get","total_tonnage"],"#22c55e",30,"#84cc16",170,"#eab308",550,"#f97316",1700,"#ef4444"],"circle-radius":7,"circle-opacity":.25,"circle-blur":.5}},_e),f.current.addLayer({id:"retc-points",type:"circle",source:"retc-source",filter:["!",["has","point_count"]],paint:{"circle-color":["step",["get","total_tonnage"],"#22c55e",30,"#84cc16",170,"#eab308",550,"#f97316",1700,"#ef4444"],"circle-radius":4,"circle-stroke-width":1,"circle-stroke-color":"rgba(255,255,255,0.5)"}},_e),b.current.mapData&&f.current.getSource("retc-source").setData(b.current.mapData)},[]);se.useEffect(()=>{if(!f.current)return f.current=new Bv.Map({container:A.current,style:"https://basemaps.cartocdn.com/gl/dark-matter-gl-style/style.json",center:[-70.6483,-33.4569],zoom:10,attributionControl:!1,doubleClickZoom:!0,preserveDrawingBuffer:!0}),f.current.addControl(new Bv.NavigationControl({showCompass:!1}),"bottom-right"),f.current.on("load",()=>{me(),U(!0),Fe()}),f.current.on("click",ve=>{const _e=b.current,tt=f.current.queryRenderedFeatures(ve.point,{layers:["clusters"]});if(tt.length>0){const Ne=tt[0].properties.cluster_id;f.current.getSource("retc-source").getClusterExpansionZoom(Ne,(Ve,We)=>{Ve||f.current.easeTo({center:tt[0].geometry.coordinates,zoom:We+.5})});return}const Le=f.current.queryRenderedFeatures(ve.point,{layers:["retc-points-hitbox"]});if(Le.length>0){const Ne=Le[0],Ve=Ne.geometry.coordinates.slice();let We=Ne.properties.history;if(typeof We=="string")try{We=JSON.parse(We)}catch{}K({lngLat:Ve,properties:Ne.properties,history:We}),f.current.flyTo({center:Ve,speed:.5}),re(!1)}else ce.current&&(K(null),ze(ve.lngLat.lng,ve.lngLat.lat),Ie(ve.lngLat.lng,ve.lngLat.lat,_e.radius||3,_e.mapData),_e.onLocationSelect&&_e.onLocationSelect(ve.lngLat))}),f.current.on("mouseenter","clusters",()=>f.current.getCanvas().style.cursor="pointer"),f.current.on("mouseleave","clusters",()=>pe()),f.current.on("mouseenter","retc-points-hitbox",()=>f.current.getCanvas().style.cursor="pointer"),f.current.on("mouseleave","retc-points-hitbox",()=>pe()),()=>{y.current&&cancelAnimationFrame(y.current)}},[]),se.useEffect(()=>{S&&f.current&&f.current.getLayer("retc-highlight")&&(s?f.current.setFilter("retc-highlight",["==","name",s]):f.current.setFilter("retc-highlight",["==","name",""]))},[s,S]);const Ie=(ve,_e,tt,Le)=>{if(!f.current)return;const Ne=[ve,_e],We=Mk(Ne,tt,{steps:64,units:"kilometers"});if(f.current.getSource("buffer-source")&&f.current.getSource("buffer-source").setData(We),Le&&Le.features){const _t=Pk(Le,We),Te=_t.features.map(De=>De.properties.id_vu);f.current.getLayer("retc-pulse")&&(Te.length>0?f.current.setFilter("retc-pulse",["in","id_vu",...Te]):f.current.setFilter("retc-pulse",["in","id_vu","NonExistentID"]));const Ue={type:"FeatureCollection",features:_t.features.map(De=>{const Xe=JF(Ne,De.geometry.coordinates,{units:"kilometers"});return{feature:De,dist:Xe}}).sort((De,Xe)=>De.dist-Xe.dist).slice(0,5).map(({feature:De,dist:Xe})=>{const Je=gk([Ne,De.geometry.coordinates]);return Je.properties={distLabel:`${Xe.toFixed(2)} km`},Je})};f.current.getSource("connections-source")&&f.current.getSource("connections-source").setData(Ue)}},Fe=ve=>{if(ve||(ve=performance.now()),f.current&&f.current.getLayer("retc-pulse")){const _e=(Math.sin(ve/500)+1)/2*.6+.2,tt=15+Math.sin(ve/500)*3;!isNaN(_e)&&!isNaN(tt)&&(f.current.setPaintProperty("retc-pulse","circle-opacity",_e),f.current.setPaintProperty("retc-pulse","circle-radius",tt))}y.current=requestAnimationFrame(Fe)},pe=ve=>{f.current&&(f.current.getCanvas().style.cursor=V?"crosshair":"")};se.useEffect(()=>{pe()},[V]),se.useEffect(()=>{S&&e&&f.current.getSource("retc-source")&&f.current.getSource("retc-source").setData(e)},[e,S]),se.useEffect(()=>{S&&I&&n&&Ie(I.lng,I.lat,n,e)},[n,I,S,e]),se.useEffect(()=>{if(!S||!f.current)return;const ve=`tonnage_${W}`,_e=["step",["get",ve],"#3b82f6",30,"#8b5cf6",170,"#d946ef",550,"#f97316",1700,"#dc2626"],tt=["step",["get",ve],3,30,4,170,5,550,7,1700,10],Le=["step",["get",ve],5,30,6,170,8,550,10,1700,14];f.current.getLayer("retc-points")&&(f.current.setPaintProperty("retc-points","circle-color",_e),f.current.setPaintProperty("retc-points","circle-radius",tt)),f.current.getLayer("retc-glow")&&(f.current.setPaintProperty("retc-glow","circle-color",_e),f.current.setPaintProperty("retc-glow","circle-radius",Le))},[W,S]),se.useEffect(()=>{if(S&&r){const{lng:ve,lat:_e}=r;f.current.flyTo({center:[ve,_e],zoom:13.5}),z({lng:ve,lat:_e}),l.current?l.current.setLngLat([ve,_e]):l.current=new Bv.Marker({color:"#f43f5e"}).setLngLat([ve,_e]).addTo(f.current),Ie(ve,_e,n||3,e),K(null),re(!0)}},[r,S]);const ze=(ve,_e)=>{z({lng:ve,lat:_e}),l.current?l.current.setLngLat([ve,_e]):l.current=new Bv.Marker({color:"#f43f5e"}).setLngLat([ve,_e]).addTo(f.current),Ie(ve,_e,n||3,e),t({lng:ve,lat:_e})},ie=ve=>{ve.stopPropagation(),K(null)},de=()=>{re(!V)};return wt.jsxs("div",{ref:A,className:"w-full h-screen absolute top-0 left-0",children:[wt.jsx("button",{onClick:de,className:`absolute top-20 right-4 z-10 p-2.5 rounded-lg shadow-xl border transition-all duration-300 group ${V?"bg-emerald-500 border-emerald-400 text-white shadow-emerald-500/20":"bg-slate-900/90 backdrop-blur border-slate-600 text-slate-400 hover:text-white hover:border-slate-500"}`,title:"Activar modo anlisis",children:wt.jsx(cY,{size:20,className:V?"animate-pulse":""})}),wt.jsxs("div",{className:"absolute bottom-20 md:bottom-6 left-2 md:left-4 z-10 bg-slate-900/90 backdrop-blur-md border border-white/10 rounded-xl p-2 md:p-3 shadow-xl max-w-[160px] md:max-w-none",children:[wt.jsxs("div",{className:"mb-2 pb-2 border-b border-white/10",children:[wt.jsx("p",{className:"text-[8px] md:text-[9px] text-slate-500 uppercase tracking-wider font-bold mb-1.5",children:"Ao"}),wt.jsx("div",{className:"flex gap-1",children:[2021,2022,2023,2024].map(ve=>wt.jsx("button",{onClick:()=>le(ve),className:`text-[9px] md:text-[10px] font-bold px-1.5 md:px-2 py-0.5 md:py-1 rounded transition-all ${W===ve?"bg-cyan-500 text-white shadow-lg shadow-cyan-500/30":"bg-slate-800 text-slate-400 hover:bg-slate-700 hover:text-white"}`,children:ve},ve))})]}),wt.jsxs("p",{className:"text-[8px] md:text-[9px] text-slate-500 uppercase tracking-wider font-bold mb-1.5",children:["Toneladas/",W]}),wt.jsxs("div",{className:"flex flex-col gap-1 md:gap-1.5",children:[wt.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2",children:[wt.jsx("div",{className:"w-1.5 h-1.5 md:w-2 md:h-2 rounded-full bg-blue-500 border border-white/30 shrink-0"}),wt.jsx("span",{className:"text-[9px] md:text-[10px] text-slate-300",children:"< 30"})]}),wt.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2",children:[wt.jsx("div",{className:"w-2 h-2 md:w-2.5 md:h-2.5 rounded-full bg-violet-500 border border-white/30 shrink-0"}),wt.jsx("span",{className:"text-[9px] md:text-[10px] text-slate-300",children:"30-170"})]}),wt.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2",children:[wt.jsx("div",{className:"w-2.5 h-2.5 md:w-3 md:h-3 rounded-full bg-fuchsia-500 border border-white/30 shrink-0"}),wt.jsx("span",{className:"text-[9px] md:text-[10px] text-slate-300",children:"170-550"})]}),wt.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2",children:[wt.jsx("div",{className:"w-3 h-3 md:w-3.5 md:h-3.5 rounded-full bg-orange-500 border border-white/30 shrink-0"}),wt.jsx("span",{className:"text-[9px] md:text-[10px] text-slate-300",children:"550-1.7k"})]}),wt.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2",children:[wt.jsx("div",{className:"w-4 h-4 md:w-5 md:h-5 rounded-full bg-red-600 border border-white/30 shrink-0"}),wt.jsx("span",{className:"text-[9px] md:text-[10px] text-slate-300",children:"> 1.7k"})]})]}),wt.jsx("div",{className:"hidden md:block mt-2 pt-2 border-t border-white/5",children:wt.jsxs("div",{className:"flex items-center gap-2",children:[wt.jsx("div",{className:"w-3 h-3 rounded-full bg-cyan-600 border border-white/30"}),wt.jsx("span",{className:"text-[10px] text-slate-400",children:"Cluster"})]})})]}),H&&wt.jsx("div",{ref:w,className:"absolute top-0 left-0 z-50 pointer-events-none will-change-transform",children:wt.jsxs("div",{className:"transform -translate-x-1/2 -translate-y-[105%]",children:[wt.jsxs("div",{className:"w-60 p-3 bg-slate-950/70 backdrop-blur-xl border border-white/10 rounded-2xl shadow-2xl shadow-black/50 pointer-events-auto relative transition-all animate-in fade-in zoom-in-95 slide-in-from-bottom-2",children:[wt.jsx("button",{onClick:ie,className:"absolute -top-2 -right-2 bg-slate-800 text-slate-400 hover:text-white hover:bg-rose-500 rounded-full p-1 border border-slate-700 shadow-lg transition-all",children:wt.jsx(dY,{size:12})}),wt.jsxs("div",{className:"mb-1",children:[wt.jsx("h3",{className:"font-bold text-slate-100 text-xs leading-tight mb-0.5 pr-2",children:H.properties.name}),wt.jsx("span",{className:"inline-block px-1.5 py-0.5 rounded bg-white/5 border border-white/5 text-[9px] font-bold text-cyan-400 tracking-wide uppercase",children:H.properties.category})]}),wt.jsxs("div",{className:"relative",children:[wt.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-white/10 to-transparent"}),wt.jsx(eY,{history:H.history,color:"#22d3ee"})]})]}),wt.jsx("div",{className:"w-0 h-0 border-l-[6px] border-l-transparent border-r-[6px] border-r-transparent border-t-[6px] border-t-slate-900/80 absolute left-1/2 -translate-x-1/2 bottom-[-6px] blur-[1px]"})]})})]})}function gY({onSelectLocation:e}){const[t,r]=se.useState(""),[n,s]=se.useState([]),[A,f]=se.useState(!1),l=se.useRef(null);se.useEffect(()=>{const b=setTimeout(()=>{t.length>4?y(t):s([])},800);return()=>clearTimeout(b)},[t]);const y=async b=>{f(!0);try{const S=`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(b)}&countrycodes=cl&addressdetails=1&limit=5`,I=await(await fetch(S)).json();s(I)}catch(S){console.error("Error buscando:",S)}f(!1)},w=b=>{const S=parseFloat(b.lat),U=parseFloat(b.lon),I=b.address.road?`${b.address.road} ${b.address.house_number||""}, ${b.address.city||b.address.town||""}`:b.display_name.split(",")[0];r(I),s([]),e({lng:U,lat:S})};return wt.jsxs("div",{ref:l,className:"relative w-full max-w-md z-50 shadow-2xl",children:[wt.jsxs("div",{className:"relative group",children:[wt.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:wt.jsx(hY,{className:"h-5 w-5 text-slate-400 group-focus-within:text-emerald-400 transition-colors"})}),wt.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-3 border border-slate-600 rounded-xl leading-5 bg-slate-800 text-slate-100 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-500 sm:text-sm transition-all",placeholder:"Ej: Alameda 1340, Santiago",value:t,onChange:b=>r(b.target.value)}),A&&wt.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:wt.jsx(AY,{className:"animate-spin h-4 w-4 text-emerald-500"})})]}),n.length>0&&wt.jsx("ul",{className:"absolute mt-2 w-full bg-slate-800 border border-slate-600 rounded-xl shadow-2xl max-h-60 overflow-auto z-50 divide-y divide-slate-700",children:n.map((b,S)=>wt.jsxs("li",{onClick:()=>w(b),className:"cursor-pointer hover:bg-slate-700 p-3 transition-colors flex items-start gap-3",children:[wt.jsx(uY,{className:"h-4 w-4 text-emerald-400 mt-1 shrink-0"}),wt.jsxs("div",{children:[wt.jsxs("p",{className:"text-sm font-medium text-slate-200",children:[b.address?.road||b.display_name.split(",")[0]," ",b.address?.house_number]}),wt.jsx("p",{className:"text-xs text-slate-400 truncate w-64",children:b.display_name})]})]},S))})]})}const mY=(e,t,r=3)=>{if(!t||!e)return null;const n=S2([e.lng,e.lat]),s=t.features.map(I=>{const z=JF(n,I,{units:"kilometers"});return{...I,properties:{...I.properties,distance:z}}}),A=s.filter(I=>I.properties.distance<=r),f=A.sort((I,z)=>{const H=I.properties.history.reduce((V,re)=>V+re.value,0);return z.properties.history.reduce((V,re)=>V+re.value,0)-H}).slice(0,5),l=f.map(I=>I.properties.name),w=[2021,2022,2023,2024].map(I=>{const z={year:I.toString()};return f.forEach(H=>{const K=H.properties.history.find(V=>V.year===I);z[H.properties.name]=K?K.value:0}),z}),b=A.reduce((I,z)=>I+(z.properties.history.find(H=>H.year===2021)?.value||0),0),S=A.reduce((I,z)=>I+(z.properties.history.find(H=>H.year===2024)?.value||0),0);let U=0;return b>0&&(U=(S-b)/b*100),{stats:{count:A.length,trend:U,radius:r},chartData:w,lineKeys:l,nearest:s.sort((I,z)=>I.properties.distance-z.properties.distance)[0]}},OT=["#10b981","#3b82f6","#f59e0b","#ec4899","#8b5cf6","#06b6d4"],yY=({active:e,payload:t,label:r})=>{if(e&&t&&t.length){const n=[...t].sort((s,A)=>A.value-s.value);return wt.jsxs("div",{className:"bg-slate-950/80 backdrop-blur-md border border-white/10 p-2.5 rounded-lg shadow-xl min-w-[140px]",children:[wt.jsxs("p",{className:"text-xs font-bold text-slate-200 mb-1.5 border-b border-white/10 pb-1",children:["Ao ",r]}),wt.jsx("div",{className:"flex flex-col gap-1",children:n.map((s,A)=>wt.jsxs("div",{className:"flex items-center justify-between gap-3 text-[10px]",children:[wt.jsxs("div",{className:"flex items-center gap-1.5 overflow-hidden",children:[wt.jsx("span",{className:"w-1.5 h-1.5 rounded-full shrink-0 shadow-[0_0_5px_currentColor]",style:{backgroundColor:s.color,color:s.color}}),wt.jsx("span",{className:"text-slate-400 truncate max-w-[80px]",title:s.name,children:s.name})]}),wt.jsxs("span",{className:"font-mono font-medium text-white tabular-nums",children:[s.value," t"]})]},A))})]})}return null};function vY({data:e,keys:t,onHoverHighlight:r}){return!e||e.length===0||!t||t.length===0?wt.jsx("div",{className:"h-40 flex items-center justify-center border border-dashed border-slate-700 rounded-lg bg-slate-800/30",children:wt.jsx("p",{className:"text-slate-500 text-xs",children:"Sin datos."})}):wt.jsx("div",{className:"w-full h-64 mt-2 select-none",children:wt.jsx(SL,{width:"100%",height:"100%",children:wt.jsxs(WO,{data:e,margin:{top:10,right:10,left:10,bottom:0},children:[wt.jsx(LO,{strokeDasharray:"3 3",stroke:"#334155",vertical:!1,opacity:.5}),wt.jsx(RC,{dataKey:"year",tick:{fill:"#64748b",fontSize:10},axisLine:!1,tickLine:!1,dy:10,interval:0,padding:{left:20,right:20}}),wt.jsx(oO,{content:wt.jsx(yY,{}),cursor:{stroke:"#fff",strokeWidth:1,strokeDasharray:"4 4",opacity:.3}}),wt.jsx(DL,{wrapperStyle:{fontSize:"10px",paddingTop:"10px",opacity:.8,cursor:"pointer"},iconType:"circle",iconSize:8,onMouseEnter:n=>r(n.dataKey),onMouseLeave:()=>r(null)}),t.map((n,s)=>wt.jsx(NC,{type:"monotone",dataKey:n,stroke:OT[s%OT.length],strokeWidth:2,dot:!1,activeDot:{r:4,strokeWidth:0,fill:"#fff"},connectNulls:!0,animationDuration:1e3},n))]})})})}function _Y({analysis:e}){const t=se.useMemo(()=>{if(!e)return null;const{count:s,trend:A,topIndustry:f}=e.stats,l=A>10,y=A<0,w=f?`Principal rubro: ${f}.`:"";let b="",S="",U="neutral",I=PT;return s===0?(b="Sin actividad industrial",S="No se detectan fuentes emisoras registradas en el radio seleccionado. El aire est libre de emisiones fijas directas reportadas.",U="success",I=fY):l?(b="Alerta: Emisiones en alza",S=`Zona con ${s} industrias. Se registra un aumento preocupante del ${A.toFixed(1)}% en emisiones los ltimos 5 aos. ${w}`,U="warning",I=JO):y?(b="Mejora: Emisiones a la baja",S=`Zona con ${s} industrias, pero con tendencia positiva: las emisiones han cado un ${Math.abs(A).toFixed(1)}% recientemente. ${w}`,U="success",I=YO):(b="Actividad estable",S=`Zona con actividad moderada (${s} industrias). Las emisiones se mantienen estables (${A>0?"+":""}${A.toFixed(1)}%) en el periodo. ${w}`,U="neutral",I=PT),{title:b,description:S,tone:U,Icon:I,trendVal:A}},[e]);if(!t)return null;const n={warning:{text:"text-rose-100",badgeText:"text-rose-400",badgeBg:"bg-rose-500/10 border-rose-500/20",bg:"from-rose-500 to-orange-500"},success:{text:"text-emerald-100",badgeText:"text-emerald-400",badgeBg:"bg-emerald-500/10 border-emerald-500/20",bg:"from-emerald-500 to-teal-500"},neutral:{text:"text-slate-100",badgeText:"text-blue-400",badgeBg:"bg-blue-500/10 border-blue-500/20",bg:"from-blue-500 to-indigo-500"}}[t.tone];return wt.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50 shadow-sm relative overflow-hidden group hover:border-slate-600 transition-colors",children:[wt.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 bg-gradient-to-br opacity-10 blur-2xl rounded-full -translate-y-1/2 translate-x-1/2 ${n.bg}`}),wt.jsxs("div",{className:"relative z-10",children:[wt.jsxs("div",{className:"flex items-center justify-between mb-2",children:[wt.jsx("div",{className:"flex items-center gap-2",children:wt.jsx("span",{className:"font-bold text-slate-400 text-[10px] uppercase tracking-widest",children:"INFORME GENERADO"})}),t.tone!=="neutral"&&t.trendVal!==void 0&&wt.jsxs("div",{className:`flex items-center gap-1.5 text-xs font-bold px-2.5 py-1 rounded-full border ${n.badgeBg} ${n.badgeText}`,children:[wt.jsx(t.Icon,{size:14,strokeWidth:2.5}),wt.jsxs("span",{children:[Math.abs(t.trendVal).toFixed(1),"%"]})]})]}),wt.jsx("h4",{className:`text-base font-bold mb-1.5 leading-tight ${n.text}`,children:t.title}),wt.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:t.description})]})]})}var CB=function(e,t){return CB=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},CB(e,t)};function Dc(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");CB(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var SB=function(){return SB=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var A in r)Object.prototype.hasOwnProperty.call(r,A)&&(t[A]=r[A])}return t},SB.apply(this,arguments)};function AA(e,t,r,n){function s(A){return A instanceof r?A:new r(function(f){f(A)})}return new(r||(r=Promise))(function(A,f){function l(b){try{w(n.next(b))}catch(S){f(S)}}function y(b){try{w(n.throw(b))}catch(S){f(S)}}function w(b){b.done?A(b.value):s(b.value).then(l,y)}w((n=n.apply(e,[])).next())})}function Pl(e,t){var r={label:0,sent:function(){if(A[0]&1)throw A[1];return A[1]},trys:[],ops:[]},n,s,A,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(w){return function(b){return y([w,b])}}function y(w){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(A=w[0]&2?s.return:w[0]?s.throw||((A=s.return)&&A.call(s),0):s.next)&&!(A=A.call(s,w[1])).done)return A;switch(s=0,A&&(w=[w[0]&2,A.value]),w[0]){case 0:case 1:A=w;break;case 4:return r.label++,{value:w[1],done:!1};case 5:r.label++,s=w[1],w=[0];continue;case 7:w=r.ops.pop(),r.trys.pop();continue;default:if(A=r.trys,!(A=A.length>0&&A[A.length-1])&&(w[0]===6||w[0]===2)){r=0;continue}if(w[0]===3&&(!A||w[1]>A[0]&&w[1]<A[3])){r.label=w[1];break}if(w[0]===6&&r.label<A[1]){r.label=A[1],A=w;break}if(A&&r.label<A[2]){r.label=A[2],r.ops.push(w);break}A[2]&&r.ops.pop(),r.trys.pop();continue}w=t.call(e,r)}catch(b){w=[6,b],s=0}finally{n=A=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}}function zv(e,t,r){if(arguments.length===2)for(var n=0,s=t.length,A;n<s;n++)(A||!(n in t))&&(A||(A=Array.prototype.slice.call(t,0,n)),A[n]=t[n]);return e.concat(A||t)}var lf=(function(){function e(t,r,n,s){this.left=t,this.top=r,this.width=n,this.height=s}return e.prototype.add=function(t,r,n,s){return new e(this.left+t,this.top+r,this.width+n,this.height+s)},e.fromClientRect=function(t,r){return new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height)},e.fromDOMRectList=function(t,r){var n=Array.from(r).find(function(s){return s.width!==0});return n?new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e})(),Tw=function(e,t){return lf.fromClientRect(e,t.getBoundingClientRect())},wY=function(e){var t=e.body,r=e.documentElement;if(!t||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(t.scrollWidth,r.scrollWidth),Math.max(t.offsetWidth,r.offsetWidth),Math.max(t.clientWidth,r.clientWidth)),s=Math.max(Math.max(t.scrollHeight,r.scrollHeight),Math.max(t.offsetHeight,r.offsetHeight),Math.max(t.clientHeight,r.clientHeight));return new lf(0,0,n,s)},Iw=function(e){for(var t=[],r=0,n=e.length;r<n;){var s=e.charCodeAt(r++);if(s>=55296&&s<=56319&&r<n){var A=e.charCodeAt(r++);(A&64512)===56320?t.push(((s&1023)<<10)+(A&1023)+65536):(t.push(s),r--)}else t.push(s)}return t},_s=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],s=-1,A="";++s<r;){var f=e[s];f<=65535?n.push(f):(f-=65536,n.push((f>>10)+55296,f%1024+56320)),(s+1===r||n.length>16384)&&(A+=String.fromCharCode.apply(String,n),n.length=0)}return A},DT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bY=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Hv=0;Hv<DT.length;Hv++)bY[DT.charCodeAt(Hv)]=Hv;var kT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_0=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var jv=0;jv<kT.length;jv++)_0[kT.charCodeAt(jv)]=jv;var xY=function(e){var t=e.length*.75,r=e.length,n,s=0,A,f,l,y;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var w=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),b=Array.isArray(w)?w:new Uint8Array(w);for(n=0;n<r;n+=4)A=_0[e.charCodeAt(n)],f=_0[e.charCodeAt(n+1)],l=_0[e.charCodeAt(n+2)],y=_0[e.charCodeAt(n+3)],b[s++]=A<<2|f>>4,b[s++]=(f&15)<<4|l>>2,b[s++]=(l&3)<<6|y&63;return w},BY=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},CY=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},_p=5,KC=11,kx=2,SY=KC-_p,e6=65536>>_p,EY=1<<_p,Qx=EY-1,TY=1024>>_p,IY=e6+TY,FY=IY,UY=32,LY=FY+UY,MY=65536>>KC,PY=1<<SY,OY=PY-1,QT=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},DY=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},kY=function(e,t){var r=xY(e),n=Array.isArray(r)?CY(r):new Uint32Array(r),s=Array.isArray(r)?BY(r):new Uint16Array(r),A=24,f=QT(s,A/2,n[4]/2),l=n[5]===2?QT(s,(A+n[4])/2):DY(n,Math.ceil((A+n[4])/4));return new QY(n[0],n[1],n[2],n[3],f,l)},QY=(function(){function e(t,r,n,s,A,f){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=s,this.index=A,this.data=f}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>_p],r=(r<<kx)+(t&Qx),this.data[r];if(t<=65535)return r=this.index[e6+(t-55296>>_p)],r=(r<<kx)+(t&Qx),this.data[r];if(t<this.highStart)return r=LY-MY+(t>>KC),r=this.index[r],r+=t>>_p&OY,r=this.index[r],r=(r<<kx)+(t&Qx),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e})(),NT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",NY=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Kv=0;Kv<NT.length;Kv++)NY[NT.charCodeAt(Kv)]=Kv;var RY="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",RT=50,zY=1,t6=2,r6=3,HY=4,jY=5,zT=7,n6=8,HT=9,sd=10,EB=11,jT=12,TB=13,KY=14,w0=15,IB=16,Vv=17,h0=18,VY=19,KT=20,FB=21,f0=22,Nx=23,pg=24,_u=25,b0=26,x0=27,gg=28,qY=29,Ap=30,GY=31,qv=32,Gv=33,UB=34,LB=35,MB=36,W0=37,PB=38,C1=39,S1=40,Rx=41,i6=42,XY=43,$Y=[9001,65288],a6="!",Jn="",Xv="",OB=kY(RY),zh=[Ap,MB],DB=[zY,t6,r6,jY],s6=[sd,n6],VT=[x0,b0],ZY=DB.concat(s6),qT=[PB,C1,S1,UB,LB],WY=[w0,TB],YY=function(e,t){t===void 0&&(t="strict");var r=[],n=[],s=[];return e.forEach(function(A,f){var l=OB.get(A);if(l>RT?(s.push(!0),l-=RT):s.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(A)!==-1)return n.push(f),r.push(IB);if(l===HY||l===EB){if(f===0)return n.push(f),r.push(Ap);var y=r[f-1];return ZY.indexOf(y)===-1?(n.push(n[f-1]),r.push(y)):(n.push(f),r.push(Ap))}if(n.push(f),l===GY)return r.push(t==="strict"?FB:W0);if(l===i6||l===qY)return r.push(Ap);if(l===XY)return A>=131072&&A<=196605||A>=196608&&A<=262141?r.push(W0):r.push(Ap);r.push(l)}),[n,r,s]},zx=function(e,t,r,n){var s=n[r];if(Array.isArray(e)?e.indexOf(s)!==-1:e===s)for(var A=r;A<=n.length;){A++;var f=n[A];if(f===t)return!0;if(f!==sd)break}if(s===sd)for(var A=r;A>0;){A--;var l=n[A];if(Array.isArray(e)?e.indexOf(l)!==-1:e===l)for(var y=r;y<=n.length;){y++;var f=n[y];if(f===t)return!0;if(f!==sd)break}if(l!==sd)break}return!1},GT=function(e,t){for(var r=e;r>=0;){var n=t[r];if(n===sd)r--;else return n}return 0},JY=function(e,t,r,n,s){if(r[n]===0)return Jn;var A=n-1;if(Array.isArray(s)&&s[A]===!0)return Jn;var f=A-1,l=A+1,y=t[A],w=f>=0?t[f]:0,b=t[l];if(y===t6&&b===r6)return Jn;if(DB.indexOf(y)!==-1)return a6;if(DB.indexOf(b)!==-1||s6.indexOf(b)!==-1)return Jn;if(GT(A,t)===n6)return Xv;if(OB.get(e[A])===EB||(y===qv||y===Gv)&&OB.get(e[l])===EB||y===zT||b===zT||y===HT||[sd,TB,w0].indexOf(y)===-1&&b===HT||[Vv,h0,VY,pg,gg].indexOf(b)!==-1||GT(A,t)===f0||zx(Nx,f0,A,t)||zx([Vv,h0],FB,A,t)||zx(jT,jT,A,t))return Jn;if(y===sd)return Xv;if(y===Nx||b===Nx)return Jn;if(b===IB||y===IB)return Xv;if([TB,w0,FB].indexOf(b)!==-1||y===KY||w===MB&&WY.indexOf(y)!==-1||y===gg&&b===MB||b===KT||zh.indexOf(b)!==-1&&y===_u||zh.indexOf(y)!==-1&&b===_u||y===x0&&[W0,qv,Gv].indexOf(b)!==-1||[W0,qv,Gv].indexOf(y)!==-1&&b===b0||zh.indexOf(y)!==-1&&VT.indexOf(b)!==-1||VT.indexOf(y)!==-1&&zh.indexOf(b)!==-1||[x0,b0].indexOf(y)!==-1&&(b===_u||[f0,w0].indexOf(b)!==-1&&t[l+1]===_u)||[f0,w0].indexOf(y)!==-1&&b===_u||y===_u&&[_u,gg,pg].indexOf(b)!==-1)return Jn;if([_u,gg,pg,Vv,h0].indexOf(b)!==-1)for(var S=A;S>=0;){var U=t[S];if(U===_u)return Jn;if([gg,pg].indexOf(U)!==-1)S--;else break}if([x0,b0].indexOf(b)!==-1)for(var S=[Vv,h0].indexOf(y)!==-1?f:A;S>=0;){var U=t[S];if(U===_u)return Jn;if([gg,pg].indexOf(U)!==-1)S--;else break}if(PB===y&&[PB,C1,UB,LB].indexOf(b)!==-1||[C1,UB].indexOf(y)!==-1&&[C1,S1].indexOf(b)!==-1||[S1,LB].indexOf(y)!==-1&&b===S1||qT.indexOf(y)!==-1&&[KT,b0].indexOf(b)!==-1||qT.indexOf(b)!==-1&&y===x0||zh.indexOf(y)!==-1&&zh.indexOf(b)!==-1||y===pg&&zh.indexOf(b)!==-1||zh.concat(_u).indexOf(y)!==-1&&b===f0&&$Y.indexOf(e[l])===-1||zh.concat(_u).indexOf(b)!==-1&&y===h0)return Jn;if(y===Rx&&b===Rx){for(var I=r[A],z=1;I>0&&(I--,t[I]===Rx);)z++;if(z%2!==0)return Jn}return y===qv&&b===Gv?Jn:Xv},eJ=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var r=YY(e,t.lineBreak),n=r[0],s=r[1],A=r[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(s=s.map(function(l){return[_u,Ap,i6].indexOf(l)!==-1?W0:l}));var f=t.wordBreak==="keep-all"?A.map(function(l,y){return l&&e[y]>=19968&&e[y]<=40959}):void 0;return[n,s,f]},tJ=(function(){function e(t,r,n,s){this.codePoints=t,this.required=r===a6,this.start=n,this.end=s}return e.prototype.slice=function(){return _s.apply(void 0,this.codePoints.slice(this.start,this.end))},e})(),rJ=function(e,t){var r=Iw(e),n=eJ(r,t),s=n[0],A=n[1],f=n[2],l=r.length,y=0,w=0;return{next:function(){if(w>=l)return{done:!0,value:null};for(var b=Jn;w<l&&(b=JY(r,A,s,++w,f))===Jn;);if(b!==Jn||w===l){var S=new tJ(r,b,y,w);return y=w,{value:S,done:!1}}return{done:!0,value:null}}}},nJ=1,iJ=2,by=4,XT=8,E_=10,$T=47,T0=92,aJ=9,sJ=32,$v=34,d0=61,oJ=35,lJ=36,AJ=37,Zv=39,Wv=40,p0=41,uJ=95,VA=45,cJ=33,hJ=60,fJ=62,dJ=64,pJ=91,gJ=93,mJ=61,yJ=123,Yv=63,vJ=125,ZT=124,_J=126,wJ=128,WT=65533,Hx=42,pp=43,bJ=44,xJ=58,BJ=59,Y0=46,CJ=0,SJ=8,EJ=11,TJ=14,IJ=31,FJ=127,lh=-1,o6=48,l6=97,A6=101,UJ=102,LJ=117,MJ=122,u6=65,c6=69,h6=70,PJ=85,OJ=90,Dl=function(e){return e>=o6&&e<=57},DJ=function(e){return e>=55296&&e<=57343},mg=function(e){return Dl(e)||e>=u6&&e<=h6||e>=l6&&e<=UJ},kJ=function(e){return e>=l6&&e<=MJ},QJ=function(e){return e>=u6&&e<=OJ},NJ=function(e){return kJ(e)||QJ(e)},RJ=function(e){return e>=wJ},Jv=function(e){return e===E_||e===aJ||e===sJ},T_=function(e){return NJ(e)||RJ(e)||e===uJ},YT=function(e){return T_(e)||Dl(e)||e===VA},zJ=function(e){return e>=CJ&&e<=SJ||e===EJ||e>=TJ&&e<=IJ||e===FJ},id=function(e,t){return e!==T0?!1:t!==E_},e1=function(e,t,r){return e===VA?T_(t)||id(t,r):T_(e)?!0:!!(e===T0&&id(e,t))},jx=function(e,t,r){return e===pp||e===VA?Dl(t)?!0:t===Y0&&Dl(r):Dl(e===Y0?t:e)},HJ=function(e){var t=0,r=1;(e[t]===pp||e[t]===VA)&&(e[t]===VA&&(r=-1),t++);for(var n=[];Dl(e[t]);)n.push(e[t++]);var s=n.length?parseInt(_s.apply(void 0,n),10):0;e[t]===Y0&&t++;for(var A=[];Dl(e[t]);)A.push(e[t++]);var f=A.length,l=f?parseInt(_s.apply(void 0,A),10):0;(e[t]===c6||e[t]===A6)&&t++;var y=1;(e[t]===pp||e[t]===VA)&&(e[t]===VA&&(y=-1),t++);for(var w=[];Dl(e[t]);)w.push(e[t++]);var b=w.length?parseInt(_s.apply(void 0,w),10):0;return r*(s+l*Math.pow(10,-f))*Math.pow(10,y*b)},jJ={type:2},KJ={type:3},VJ={type:4},qJ={type:13},GJ={type:8},XJ={type:21},$J={type:9},ZJ={type:10},WJ={type:11},YJ={type:12},JJ={type:14},t1={type:23},eee={type:1},tee={type:25},ree={type:24},nee={type:26},iee={type:27},aee={type:28},see={type:29},oee={type:31},kB={type:32},f6=(function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat(Iw(t))},e.prototype.read=function(){for(var t=[],r=this.consumeToken();r!==kB;)t.push(r),r=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case $v:return this.consumeStringToken($v);case oJ:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),s=this.peekCodePoint(2);if(YT(r)||id(n,s)){var A=e1(r,n,s)?iJ:nJ,f=this.consumeName();return{type:5,value:f,flags:A}}break;case lJ:if(this.peekCodePoint(0)===d0)return this.consumeCodePoint(),qJ;break;case Zv:return this.consumeStringToken(Zv);case Wv:return jJ;case p0:return KJ;case Hx:if(this.peekCodePoint(0)===d0)return this.consumeCodePoint(),JJ;break;case pp:if(jx(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case bJ:return VJ;case VA:var l=t,y=this.peekCodePoint(0),w=this.peekCodePoint(1);if(jx(l,y,w))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(e1(l,y,w))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(y===VA&&w===fJ)return this.consumeCodePoint(),this.consumeCodePoint(),ree;break;case Y0:if(jx(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case $T:if(this.peekCodePoint(0)===Hx)for(this.consumeCodePoint();;){var b=this.consumeCodePoint();if(b===Hx&&(b=this.consumeCodePoint(),b===$T))return this.consumeToken();if(b===lh)return this.consumeToken()}break;case xJ:return nee;case BJ:return iee;case hJ:if(this.peekCodePoint(0)===cJ&&this.peekCodePoint(1)===VA&&this.peekCodePoint(2)===VA)return this.consumeCodePoint(),this.consumeCodePoint(),tee;break;case dJ:var S=this.peekCodePoint(0),U=this.peekCodePoint(1),I=this.peekCodePoint(2);if(e1(S,U,I)){var f=this.consumeName();return{type:7,value:f}}break;case pJ:return aee;case T0:if(id(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case gJ:return see;case mJ:if(this.peekCodePoint(0)===d0)return this.consumeCodePoint(),GJ;break;case yJ:return WJ;case vJ:return YJ;case LJ:case PJ:var z=this.peekCodePoint(0),H=this.peekCodePoint(1);return z===pp&&(mg(H)||H===Yv)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case ZT:if(this.peekCodePoint(0)===d0)return this.consumeCodePoint(),$J;if(this.peekCodePoint(0)===ZT)return this.consumeCodePoint(),XJ;break;case _J:if(this.peekCodePoint(0)===d0)return this.consumeCodePoint(),ZJ;break;case lh:return kB}return Jv(t)?(this.consumeWhiteSpace(),oee):Dl(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):T_(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:_s(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],r=this.consumeCodePoint();mg(r)&&t.length<6;)t.push(r),r=this.consumeCodePoint();for(var n=!1;r===Yv&&t.length<6;)t.push(r),r=this.consumeCodePoint(),n=!0;if(n){var s=parseInt(_s.apply(void 0,t.map(function(y){return y===Yv?o6:y})),16),A=parseInt(_s.apply(void 0,t.map(function(y){return y===Yv?h6:y})),16);return{type:30,start:s,end:A}}var f=parseInt(_s.apply(void 0,t),16);if(this.peekCodePoint(0)===VA&&mg(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var l=[];mg(r)&&l.length<6;)l.push(r),r=this.consumeCodePoint();var A=parseInt(_s.apply(void 0,l),16);return{type:30,start:f,end:A}}else return{type:30,start:f,end:f}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===Wv?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Wv?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===lh)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===Zv||r===$v){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===lh||this.peekCodePoint(0)===p0)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),t1)}for(;;){var s=this.consumeCodePoint();if(s===lh||s===p0)return{type:22,value:_s.apply(void 0,t)};if(Jv(s))return this.consumeWhiteSpace(),this.peekCodePoint(0)===lh||this.peekCodePoint(0)===p0?(this.consumeCodePoint(),{type:22,value:_s.apply(void 0,t)}):(this.consumeBadUrlRemnants(),t1);if(s===$v||s===Zv||s===Wv||zJ(s))return this.consumeBadUrlRemnants(),t1;if(s===T0)if(id(s,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),t1;else t.push(s)}},e.prototype.consumeWhiteSpace=function(){for(;Jv(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===p0||t===lh)return;id(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var r=5e4,n="";t>0;){var s=Math.min(r,t);n+=_s.apply(void 0,this._value.splice(0,s)),t-=s}return this._value.shift(),n},e.prototype.consumeStringToken=function(t){var r="",n=0;do{var s=this._value[n];if(s===lh||s===void 0||s===t)return r+=this.consumeStringSlice(n),{type:0,value:r};if(s===E_)return this._value.splice(0,n),eee;if(s===T0){var A=this._value[n+1];A!==lh&&A!==void 0&&(A===E_?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):id(s,A)&&(r+=this.consumeStringSlice(n),r+=_s(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},e.prototype.consumeNumber=function(){var t=[],r=by,n=this.peekCodePoint(0);for((n===pp||n===VA)&&t.push(this.consumeCodePoint());Dl(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0);var s=this.peekCodePoint(1);if(n===Y0&&Dl(s))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=XT;Dl(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0),s=this.peekCodePoint(1);var A=this.peekCodePoint(2);if((n===c6||n===A6)&&((s===pp||s===VA)&&Dl(A)||Dl(s)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=XT;Dl(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[HJ(t),r]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),r=t[0],n=t[1],s=this.peekCodePoint(0),A=this.peekCodePoint(1),f=this.peekCodePoint(2);if(e1(s,A,f)){var l=this.consumeName();return{type:15,number:r,flags:n,unit:l}}return s===AJ?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(mg(t)){for(var r=_s(t);mg(this.peekCodePoint(0))&&r.length<6;)r+=_s(this.consumeCodePoint());Jv(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||DJ(n)||n>1114111?WT:n}return t===lh?WT:t},e.prototype.consumeName=function(){for(var t="";;){var r=this.consumeCodePoint();if(YT(r))t+=_s(r);else if(id(r,this.peekCodePoint(0)))t+=_s(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),t}},e})(),d6=(function(){function e(t){this._tokens=t}return e.create=function(t){var r=new f6;return r.write(t),new e(r.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var r=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var r=this.consumeComponentValue();if(r.type===32)return t;t.push(r),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var r={type:t,values:[]},n=this.consumeToken();;){if(n.type===32||Aee(n,t))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var r={name:t.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?kB:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e})(),xy=function(e){return e.type===15},am=function(e){return e.type===17},Gi=function(e){return e.type===20},lee=function(e){return e.type===0},QB=function(e,t){return Gi(e)&&e.value===t},p6=function(e){return e.type!==31},Xg=function(e){return e.type!==31&&e.type!==4},bh=function(e){var t=[],r=[];return e.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&t.push(r),t},Aee=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},gd=function(e){return e.type===17||e.type===15},Ns=function(e){return e.type===16||gd(e)},g6=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},el={type:17,number:0,flags:by},VC={type:16,number:50,flags:by},od={type:16,number:100,flags:by},B0=function(e,t,r){var n=e[0],s=e[1];return[da(n,t),da(typeof s<"u"?s:n,r)]},da=function(e,t){if(e.type===16)return e.number/100*t;if(xy(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},m6="deg",y6="grad",v6="rad",_6="turn",Fw={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case m6:return Math.PI*t.number/180;case y6:return Math.PI/200*t.number;case v6:return t.number;case _6:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},w6=function(e){return e.type===15&&(e.unit===m6||e.unit===y6||e.unit===v6||e.unit===_6)},b6=function(e){var t=e.filter(Gi).map(function(r){return r.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[el,el];case"to top":case"bottom":return rc(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[el,od];case"to right":case"left":return rc(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[od,od];case"to bottom":case"top":return rc(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[od,el];case"to left":case"right":return rc(270)}return 0},rc=function(e){return Math.PI*e/180},cd={name:"color",parse:function(e,t){if(t.type===18){var r=uee[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return r(e,t.values)}if(t.type===5){if(t.value.length===3){var n=t.value.substring(0,1),s=t.value.substring(1,2),A=t.value.substring(2,3);return ld(parseInt(n+n,16),parseInt(s+s,16),parseInt(A+A,16),1)}if(t.value.length===4){var n=t.value.substring(0,1),s=t.value.substring(1,2),A=t.value.substring(2,3),f=t.value.substring(3,4);return ld(parseInt(n+n,16),parseInt(s+s,16),parseInt(A+A,16),parseInt(f+f,16)/255)}if(t.value.length===6){var n=t.value.substring(0,2),s=t.value.substring(2,4),A=t.value.substring(4,6);return ld(parseInt(n,16),parseInt(s,16),parseInt(A,16),1)}if(t.value.length===8){var n=t.value.substring(0,2),s=t.value.substring(2,4),A=t.value.substring(4,6),f=t.value.substring(6,8);return ld(parseInt(n,16),parseInt(s,16),parseInt(A,16),parseInt(f,16)/255)}}if(t.type===20){var l=ef[t.value.toUpperCase()];if(typeof l<"u")return l}return ef.TRANSPARENT}},hd=function(e){return(255&e)===0},So=function(e){var t=255&e,r=255&e>>8,n=255&e>>16,s=255&e>>24;return t<255?"rgba("+s+","+n+","+r+","+t/255+")":"rgb("+s+","+n+","+r+")"},ld=function(e,t,r,n){return(e<<24|t<<16|r<<8|Math.round(n*255)<<0)>>>0},JT=function(e,t){if(e.type===17)return e.number;if(e.type===16){var r=t===3?1:255;return t===3?e.number/100*r:Math.round(e.number/100*r)}return 0},eI=function(e,t){var r=t.filter(Xg);if(r.length===3){var n=r.map(JT),s=n[0],A=n[1],f=n[2];return ld(s,A,f,1)}if(r.length===4){var l=r.map(JT),s=l[0],A=l[1],f=l[2],y=l[3];return ld(s,A,f,y)}return 0};function Kx(e,t,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(t-e)*r*6+e:r<1/2?t:r<2/3?(t-e)*6*(2/3-r)+e:e}var tI=function(e,t){var r=t.filter(Xg),n=r[0],s=r[1],A=r[2],f=r[3],l=(n.type===17?rc(n.number):Fw.parse(e,n))/(Math.PI*2),y=Ns(s)?s.number/100:0,w=Ns(A)?A.number/100:0,b=typeof f<"u"&&Ns(f)?da(f,1):1;if(y===0)return ld(w*255,w*255,w*255,1);var S=w<=.5?w*(y+1):w+y-w*y,U=w*2-S,I=Kx(U,S,l+1/3),z=Kx(U,S,l),H=Kx(U,S,l-1/3);return ld(I*255,z*255,H*255,b)},uee={hsl:tI,hsla:tI,rgb:eI,rgba:eI},I0=function(e,t){return cd.parse(e,d6.create(t).parseComponentValue())},ef={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},cee={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(Gi(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},hee={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Uw=function(e,t){var r=cd.parse(e,t[0]),n=t[1];return n&&Ns(n)?{color:r,stop:n}:{color:r,stop:null}},rI=function(e,t){var r=e[0],n=e[e.length-1];r.stop===null&&(r.stop=el),n.stop===null&&(n.stop=od);for(var s=[],A=0,f=0;f<e.length;f++){var l=e[f].stop;if(l!==null){var y=da(l,t);y>A?s.push(y):s.push(A),A=y}else s.push(null)}for(var w=null,f=0;f<s.length;f++){var b=s[f];if(b===null)w===null&&(w=f);else if(w!==null){for(var S=f-w,U=s[w-1],I=(b-U)/(S+1),z=1;z<=S;z++)s[w+z-1]=I*z;w=null}}return e.map(function(H,K){var V=H.color;return{color:V,stop:Math.max(Math.min(1,s[K]/t),0)}})},fee=function(e,t,r){var n=t/2,s=r/2,A=da(e[0],t)-n,f=s-da(e[1],r);return(Math.atan2(f,A)+Math.PI*2)%(Math.PI*2)},dee=function(e,t,r){var n=typeof e=="number"?e:fee(e,t,r),s=Math.abs(t*Math.sin(n))+Math.abs(r*Math.cos(n)),A=t/2,f=r/2,l=s/2,y=Math.sin(n-Math.PI/2)*l,w=Math.cos(n-Math.PI/2)*l;return[s,A-w,A+w,f-y,f+y]},Ic=function(e,t){return Math.sqrt(e*e+t*t)},nI=function(e,t,r,n,s){var A=[[0,0],[0,t],[e,0],[e,t]];return A.reduce(function(f,l){var y=l[0],w=l[1],b=Ic(r-y,n-w);return(s?b<f.optimumDistance:b>f.optimumDistance)?{optimumCorner:l,optimumDistance:b}:f},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},pee=function(e,t,r,n,s){var A=0,f=0;switch(e.size){case 0:e.shape===0?A=f=Math.min(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-s)):e.shape===1&&(A=Math.min(Math.abs(t),Math.abs(t-n)),f=Math.min(Math.abs(r),Math.abs(r-s)));break;case 2:if(e.shape===0)A=f=Math.min(Ic(t,r),Ic(t,r-s),Ic(t-n,r),Ic(t-n,r-s));else if(e.shape===1){var l=Math.min(Math.abs(r),Math.abs(r-s))/Math.min(Math.abs(t),Math.abs(t-n)),y=nI(n,s,t,r,!0),w=y[0],b=y[1];A=Ic(w-t,(b-r)/l),f=l*A}break;case 1:e.shape===0?A=f=Math.max(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-s)):e.shape===1&&(A=Math.max(Math.abs(t),Math.abs(t-n)),f=Math.max(Math.abs(r),Math.abs(r-s)));break;case 3:if(e.shape===0)A=f=Math.max(Ic(t,r),Ic(t,r-s),Ic(t-n,r),Ic(t-n,r-s));else if(e.shape===1){var l=Math.max(Math.abs(r),Math.abs(r-s))/Math.max(Math.abs(t),Math.abs(t-n)),S=nI(n,s,t,r,!1),w=S[0],b=S[1];A=Ic(w-t,(b-r)/l),f=l*A}break}return Array.isArray(e.size)&&(A=da(e.size[0],n),f=e.size.length===2?da(e.size[1],s):A),[A,f]},gee=function(e,t){var r=rc(180),n=[];return bh(t).forEach(function(s,A){if(A===0){var f=s[0];if(f.type===20&&f.value==="to"){r=b6(s);return}else if(w6(f)){r=Fw.parse(e,f);return}}var l=Uw(e,s);n.push(l)}),{angle:r,stops:n,type:1}},r1=function(e,t){var r=rc(180),n=[];return bh(t).forEach(function(s,A){if(A===0){var f=s[0];if(f.type===20&&["top","left","right","bottom"].indexOf(f.value)!==-1){r=b6(s);return}else if(w6(f)){r=(Fw.parse(e,f)+rc(270))%rc(360);return}}var l=Uw(e,s);n.push(l)}),{angle:r,stops:n,type:1}},mee=function(e,t){var r=rc(180),n=[],s=1,A=0,f=3,l=[];return bh(t).forEach(function(y,w){var b=y[0];if(w===0){if(Gi(b)&&b.value==="linear"){s=1;return}else if(Gi(b)&&b.value==="radial"){s=2;return}}if(b.type===18){if(b.name==="from"){var S=cd.parse(e,b.values[0]);n.push({stop:el,color:S})}else if(b.name==="to"){var S=cd.parse(e,b.values[0]);n.push({stop:od,color:S})}else if(b.name==="color-stop"){var U=b.values.filter(Xg);if(U.length===2){var S=cd.parse(e,U[1]),I=U[0];am(I)&&n.push({stop:{type:16,number:I.number*100,flags:I.flags},color:S})}}}}),s===1?{angle:(r+rc(180))%rc(360),stops:n,type:s}:{size:f,shape:A,stops:n,position:l,type:s}},x6="closest-side",B6="farthest-side",C6="closest-corner",S6="farthest-corner",E6="circle",T6="ellipse",I6="cover",F6="contain",yee=function(e,t){var r=0,n=3,s=[],A=[];return bh(t).forEach(function(f,l){var y=!0;if(l===0){var w=!1;y=f.reduce(function(S,U){if(w)if(Gi(U))switch(U.value){case"center":return A.push(VC),S;case"top":case"left":return A.push(el),S;case"right":case"bottom":return A.push(od),S}else(Ns(U)||gd(U))&&A.push(U);else if(Gi(U))switch(U.value){case E6:return r=0,!1;case T6:return r=1,!1;case"at":return w=!0,!1;case x6:return n=0,!1;case I6:case B6:return n=1,!1;case F6:case C6:return n=2,!1;case S6:return n=3,!1}else if(gd(U)||Ns(U))return Array.isArray(n)||(n=[]),n.push(U),!1;return S},y)}if(y){var b=Uw(e,f);s.push(b)}}),{size:n,shape:r,stops:s,position:A,type:2}},n1=function(e,t){var r=0,n=3,s=[],A=[];return bh(t).forEach(function(f,l){var y=!0;if(l===0?y=f.reduce(function(b,S){if(Gi(S))switch(S.value){case"center":return A.push(VC),!1;case"top":case"left":return A.push(el),!1;case"right":case"bottom":return A.push(od),!1}else if(Ns(S)||gd(S))return A.push(S),!1;return b},y):l===1&&(y=f.reduce(function(b,S){if(Gi(S))switch(S.value){case E6:return r=0,!1;case T6:return r=1,!1;case F6:case x6:return n=0,!1;case B6:return n=1,!1;case C6:return n=2,!1;case I6:case S6:return n=3,!1}else if(gd(S)||Ns(S))return Array.isArray(n)||(n=[]),n.push(S),!1;return b},y)),y){var w=Uw(e,f);s.push(w)}}),{size:n,shape:r,stops:s,position:A,type:2}},vee=function(e){return e.type===1},_ee=function(e){return e.type===2},qC={name:"image",parse:function(e,t){if(t.type===22){var r={url:t.value,type:0};return e.cache.addImage(t.value),r}if(t.type===18){var n=U6[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return n(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function wee(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!U6[e.name])}var U6={"linear-gradient":gee,"-moz-linear-gradient":r1,"-ms-linear-gradient":r1,"-o-linear-gradient":r1,"-webkit-linear-gradient":r1,"radial-gradient":yee,"-moz-radial-gradient":n1,"-ms-radial-gradient":n1,"-o-radial-gradient":n1,"-webkit-radial-gradient":n1,"-webkit-gradient":mee},bee={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t.filter(function(n){return Xg(n)&&wee(n)}).map(function(n){return qC.parse(e,n)})}},xee={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(Gi(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Bee={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return bh(t).map(function(r){return r.filter(Ns)}).map(g6)}},Cee={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return bh(t).map(function(r){return r.filter(Gi).map(function(n){return n.value}).join(" ")}).map(See)}},See=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Og;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(Og||(Og={}));var Eee={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return bh(t).map(function(r){return r.filter(Tee)})}},Tee=function(e){return Gi(e)||Ns(e)},Lw=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Iee=Lw("top"),Fee=Lw("right"),Uee=Lw("bottom"),Lee=Lw("left"),Mw=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,r){return g6(r.filter(Ns))}}},Mee=Mw("top-left"),Pee=Mw("top-right"),Oee=Mw("bottom-right"),Dee=Mw("bottom-left"),Pw=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},kee=Pw("top"),Qee=Pw("right"),Nee=Pw("bottom"),Ree=Pw("left"),Ow=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,r){return xy(r)?r.number:0}}},zee=Ow("top"),Hee=Ow("right"),jee=Ow("bottom"),Kee=Ow("left"),Vee={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},qee={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},Gee={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(Gi).reduce(function(r,n){return r|Xee(n.value)},0)}},Xee=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},$ee={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Zee={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},I_;(function(e){e.NORMAL="normal",e.STRICT="strict"})(I_||(I_={}));var Wee={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return I_.STRICT;case"normal":default:return I_.NORMAL}}},Yee={name:"line-height",initialValue:"normal",prefix:!1,type:4},iI=function(e,t){return Gi(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:Ns(e)?da(e,t):t},Jee={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:qC.parse(e,t)}},ete={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},NB={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Dw=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},tte=Dw("top"),rte=Dw("right"),nte=Dw("bottom"),ite=Dw("left"),ate={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(Gi).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},ste={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},kw=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},ote=kw("top"),lte=kw("right"),Ate=kw("bottom"),ute=kw("left"),cte={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},hte={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},fte={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&QB(t[0],"none")?[]:bh(t).map(function(r){for(var n={color:ef.TRANSPARENT,offsetX:el,offsetY:el,blur:el},s=0,A=0;A<r.length;A++){var f=r[A];gd(f)?(s===0?n.offsetX=f:s===1?n.offsetY=f:n.blur=f,s++):n.color=cd.parse(e,f)}return n})}},dte={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},pte={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var r=yte[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return r(t.values)}return null}},gte=function(e){var t=e.filter(function(r){return r.type===17}).map(function(r){return r.number});return t.length===6?t:null},mte=function(e){var t=e.filter(function(y){return y.type===17}).map(function(y){return y.number}),r=t[0],n=t[1];t[2],t[3];var s=t[4],A=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var f=t[12],l=t[13];return t[14],t[15],t.length===16?[r,n,s,A,f,l]:null},yte={matrix:gte,matrix3d:mte},aI={type:16,number:50,flags:by},vte=[aI,aI],_te={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var r=t.filter(Ns);return r.length!==2?vte:[r[0],r[1]]}},wte={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},F0;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(F0||(F0={}));var bte={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return F0.BREAK_ALL;case"keep-all":return F0.KEEP_ALL;case"normal":default:return F0.NORMAL}}},xte={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(am(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},L6={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},Bte={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return am(t)?t.number:1}},Cte={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Ste={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(Gi).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},Ete={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var r=[],n=[];return t.forEach(function(s){switch(s.type){case 20:case 0:r.push(s.value);break;case 17:r.push(s.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(s){return s.indexOf(" ")===-1?s:"'"+s+"'"})}},Tte={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Ite={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(am(t))return t.number;if(Gi(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},Fte={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(Gi).map(function(r){return r.value})}},Ute={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},lo=function(e,t){return(e&t)!==0},Lte={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t}},Mte={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;for(var n=[],s=t.filter(p6),A=0;A<s.length;A++){var f=s[A],l=s[A+1];if(f.type===20){var y=l&&am(l)?l.number:1;n.push({counter:f.value,increment:y})}}return n}},Pte={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var r=[],n=t.filter(p6),s=0;s<n.length;s++){var A=n[s],f=n[s+1];if(Gi(A)&&A.value!=="none"){var l=f&&am(f)?f.number:0;r.push({counter:A.value,reset:l})}}return r}},Ote={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(xy).map(function(r){return L6.parse(e,r)})}},Dte={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;var n=[],s=t.filter(lee);if(s.length%2!==0)return null;for(var A=0;A<s.length;A+=2){var f=s[A].value,l=s[A+1].value;n.push({open:f,close:l})}return n}},sI=function(e,t,r){if(!e)return"";var n=e[Math.min(t,e.length-1)];return n?r?n.open:n.close:""},kte={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&QB(t[0],"none")?[]:bh(t).map(function(r){for(var n={color:255,offsetX:el,offsetY:el,blur:el,spread:el,inset:!1},s=0,A=0;A<r.length;A++){var f=r[A];QB(f,"inset")?n.inset=!0:gd(f)?(s===0?n.offsetX=f:s===1?n.offsetY=f:s===2?n.blur=f:n.spread=f,s++):n.color=cd.parse(e,f)}return n})}},Qte={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var r=[0,1,2],n=[];return t.filter(Gi).forEach(function(s){switch(s.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(s){n.indexOf(s)===-1&&n.push(s)}),n}},Nte={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Rte={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return xy(t)?t.number:0}},zte=(function(){function e(t,r){var n,s;this.animationDuration=xr(t,Ote,r.animationDuration),this.backgroundClip=xr(t,cee,r.backgroundClip),this.backgroundColor=xr(t,hee,r.backgroundColor),this.backgroundImage=xr(t,bee,r.backgroundImage),this.backgroundOrigin=xr(t,xee,r.backgroundOrigin),this.backgroundPosition=xr(t,Bee,r.backgroundPosition),this.backgroundRepeat=xr(t,Cee,r.backgroundRepeat),this.backgroundSize=xr(t,Eee,r.backgroundSize),this.borderTopColor=xr(t,Iee,r.borderTopColor),this.borderRightColor=xr(t,Fee,r.borderRightColor),this.borderBottomColor=xr(t,Uee,r.borderBottomColor),this.borderLeftColor=xr(t,Lee,r.borderLeftColor),this.borderTopLeftRadius=xr(t,Mee,r.borderTopLeftRadius),this.borderTopRightRadius=xr(t,Pee,r.borderTopRightRadius),this.borderBottomRightRadius=xr(t,Oee,r.borderBottomRightRadius),this.borderBottomLeftRadius=xr(t,Dee,r.borderBottomLeftRadius),this.borderTopStyle=xr(t,kee,r.borderTopStyle),this.borderRightStyle=xr(t,Qee,r.borderRightStyle),this.borderBottomStyle=xr(t,Nee,r.borderBottomStyle),this.borderLeftStyle=xr(t,Ree,r.borderLeftStyle),this.borderTopWidth=xr(t,zee,r.borderTopWidth),this.borderRightWidth=xr(t,Hee,r.borderRightWidth),this.borderBottomWidth=xr(t,jee,r.borderBottomWidth),this.borderLeftWidth=xr(t,Kee,r.borderLeftWidth),this.boxShadow=xr(t,kte,r.boxShadow),this.color=xr(t,Vee,r.color),this.direction=xr(t,qee,r.direction),this.display=xr(t,Gee,r.display),this.float=xr(t,$ee,r.cssFloat),this.fontFamily=xr(t,Ete,r.fontFamily),this.fontSize=xr(t,Tte,r.fontSize),this.fontStyle=xr(t,Ute,r.fontStyle),this.fontVariant=xr(t,Fte,r.fontVariant),this.fontWeight=xr(t,Ite,r.fontWeight),this.letterSpacing=xr(t,Zee,r.letterSpacing),this.lineBreak=xr(t,Wee,r.lineBreak),this.lineHeight=xr(t,Yee,r.lineHeight),this.listStyleImage=xr(t,Jee,r.listStyleImage),this.listStylePosition=xr(t,ete,r.listStylePosition),this.listStyleType=xr(t,NB,r.listStyleType),this.marginTop=xr(t,tte,r.marginTop),this.marginRight=xr(t,rte,r.marginRight),this.marginBottom=xr(t,nte,r.marginBottom),this.marginLeft=xr(t,ite,r.marginLeft),this.opacity=xr(t,Bte,r.opacity);var A=xr(t,ate,r.overflow);this.overflowX=A[0],this.overflowY=A[A.length>1?1:0],this.overflowWrap=xr(t,ste,r.overflowWrap),this.paddingTop=xr(t,ote,r.paddingTop),this.paddingRight=xr(t,lte,r.paddingRight),this.paddingBottom=xr(t,Ate,r.paddingBottom),this.paddingLeft=xr(t,ute,r.paddingLeft),this.paintOrder=xr(t,Qte,r.paintOrder),this.position=xr(t,hte,r.position),this.textAlign=xr(t,cte,r.textAlign),this.textDecorationColor=xr(t,Cte,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=xr(t,Ste,(s=r.textDecorationLine)!==null&&s!==void 0?s:r.textDecoration),this.textShadow=xr(t,fte,r.textShadow),this.textTransform=xr(t,dte,r.textTransform),this.transform=xr(t,pte,r.transform),this.transformOrigin=xr(t,_te,r.transformOrigin),this.visibility=xr(t,wte,r.visibility),this.webkitTextStrokeColor=xr(t,Nte,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=xr(t,Rte,r.webkitTextStrokeWidth),this.wordBreak=xr(t,bte,r.wordBreak),this.zIndex=xr(t,xte,r.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return hd(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return lo(this.display,4)||lo(this.display,33554432)||lo(this.display,268435456)||lo(this.display,536870912)||lo(this.display,67108864)||lo(this.display,134217728)},e})(),Hte=(function(){function e(t,r){this.content=xr(t,Lte,r.content),this.quotes=xr(t,Dte,r.quotes)}return e})(),oI=(function(){function e(t,r){this.counterIncrement=xr(t,Mte,r.counterIncrement),this.counterReset=xr(t,Pte,r.counterReset)}return e})(),xr=function(e,t,r){var n=new f6,s=r!==null&&typeof r<"u"?r.toString():t.initialValue;n.write(s);var A=new d6(n.read());switch(t.type){case 2:var f=A.parseComponentValue();return t.parse(e,Gi(f)?f.value:t.initialValue);case 0:return t.parse(e,A.parseComponentValue());case 1:return t.parse(e,A.parseComponentValues());case 4:return A.parseComponentValue();case 3:switch(t.format){case"angle":return Fw.parse(e,A.parseComponentValue());case"color":return cd.parse(e,A.parseComponentValue());case"image":return qC.parse(e,A.parseComponentValue());case"length":var l=A.parseComponentValue();return gd(l)?l:el;case"length-percentage":var y=A.parseComponentValue();return Ns(y)?y:el;case"time":return L6.parse(e,A.parseComponentValue())}break}},jte="data-html2canvas-debug",Kte=function(e){var t=e.getAttribute(jte);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},RB=function(e,t){var r=Kte(e);return r===1||t===r},xh=(function(){function e(t,r){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,RB(r,3))debugger;this.styles=new zte(t,window.getComputedStyle(r,null)),jB(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=Tw(this.context,r),RB(r,4)&&(this.flags|=16)}return e})(),Vte="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",lI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",C0=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var i1=0;i1<lI.length;i1++)C0[lI.charCodeAt(i1)]=i1;var qte=function(e){var t=e.length*.75,r=e.length,n,s=0,A,f,l,y;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var w=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),b=Array.isArray(w)?w:new Uint8Array(w);for(n=0;n<r;n+=4)A=C0[e.charCodeAt(n)],f=C0[e.charCodeAt(n+1)],l=C0[e.charCodeAt(n+2)],y=C0[e.charCodeAt(n+3)],b[s++]=A<<2|f>>4,b[s++]=(f&15)<<4|l>>2,b[s++]=(l&3)<<6|y&63;return w},Gte=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},Xte=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},wp=5,GC=11,Vx=2,$te=GC-wp,M6=65536>>wp,Zte=1<<wp,qx=Zte-1,Wte=1024>>wp,Yte=M6+Wte,Jte=Yte,ere=32,tre=Jte+ere,rre=65536>>GC,nre=1<<$te,ire=nre-1,AI=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},are=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},sre=function(e,t){var r=qte(e),n=Array.isArray(r)?Xte(r):new Uint32Array(r),s=Array.isArray(r)?Gte(r):new Uint16Array(r),A=24,f=AI(s,A/2,n[4]/2),l=n[5]===2?AI(s,(A+n[4])/2):are(n,Math.ceil((A+n[4])/4));return new ore(n[0],n[1],n[2],n[3],f,l)},ore=(function(){function e(t,r,n,s,A,f){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=s,this.index=A,this.data=f}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>wp],r=(r<<Vx)+(t&qx),this.data[r];if(t<=65535)return r=this.index[M6+(t-55296>>wp)],r=(r<<Vx)+(t&qx),this.data[r];if(t<this.highStart)return r=tre-rre+(t>>GC),r=this.index[r],r+=t>>wp&ire,r=this.index[r],r=(r<<Vx)+(t&qx),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e})(),uI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lre=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var a1=0;a1<uI.length;a1++)lre[uI.charCodeAt(a1)]=a1;var Are=1,Gx=2,Xx=3,cI=4,hI=5,ure=7,fI=8,$x=9,Zx=10,dI=11,pI=12,gI=13,mI=14,Wx=15,cre=function(e){for(var t=[],r=0,n=e.length;r<n;){var s=e.charCodeAt(r++);if(s>=55296&&s<=56319&&r<n){var A=e.charCodeAt(r++);(A&64512)===56320?t.push(((s&1023)<<10)+(A&1023)+65536):(t.push(s),r--)}else t.push(s)}return t},hre=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],s=-1,A="";++s<r;){var f=e[s];f<=65535?n.push(f):(f-=65536,n.push((f>>10)+55296,f%1024+56320)),(s+1===r||n.length>16384)&&(A+=String.fromCharCode.apply(String,n),n.length=0)}return A},fre=sre(Vte),Yu="",Yx="",dre=function(e){return fre.get(e)},pre=function(e,t,r){var n=r-2,s=t[n],A=t[r-1],f=t[r];if(A===Gx&&f===Xx)return Yu;if(A===Gx||A===Xx||A===cI||f===Gx||f===Xx||f===cI)return Yx;if(A===fI&&[fI,$x,dI,pI].indexOf(f)!==-1||(A===dI||A===$x)&&(f===$x||f===Zx)||(A===pI||A===Zx)&&f===Zx||f===gI||f===hI||f===ure||A===Are)return Yu;if(A===gI&&f===mI){for(;s===hI;)s=t[--n];if(s===mI)return Yu}if(A===Wx&&f===Wx){for(var l=0;s===Wx;)l++,s=t[--n];if(l%2===0)return Yu}return Yx},gre=function(e){var t=cre(e),r=t.length,n=0,s=0,A=t.map(dre);return{next:function(){if(n>=r)return{done:!0,value:null};for(var f=Yu;n<r&&(f=pre(t,A,++n))===Yu;);if(f!==Yu||n===r){var l=hre.apply(null,t.slice(s,n));return s=n,{value:l,done:!1}}return{done:!0,value:null}}}},mre=function(e){for(var t=gre(e),r=[],n;!(n=t.next()).done;)n.value&&r.push(n.value.slice());return r},yre=function(e){var t=123;if(e.createRange){var r=e.createRange();if(r.getBoundingClientRect){var n=e.createElement("boundtest");n.style.height=t+"px",n.style.display="block",e.body.appendChild(n),r.selectNode(n);var s=r.getBoundingClientRect(),A=Math.round(s.height);if(e.body.removeChild(n),A===t)return!0}}return!1},vre=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var r=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=t.firstChild,s=Iw(n.data).map(function(y){return _s(y)}),A=0,f={},l=s.every(function(y,w){r.setStart(n,A),r.setEnd(n,A+y.length);var b=r.getBoundingClientRect();A+=y.length;var S=b.x>f.x||b.y>f.y;return f=b,w===0?!0:S});return e.body.removeChild(t),l},_re=function(){return typeof new Image().crossOrigin<"u"},wre=function(){return typeof new XMLHttpRequest().responseType=="string"},bre=function(e){var t=new Image,r=e.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(t,0,0),r.toDataURL()}catch{return!1}return!0},yI=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},xre=function(e){var t=e.createElement("canvas"),r=100;t.width=r,t.height=r;var n=t.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var s=new Image,A=t.toDataURL();s.src=A;var f=zB(r,r,0,0,s);return n.fillStyle="red",n.fillRect(0,0,r,r),vI(f).then(function(l){n.drawImage(l,0,0);var y=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var w=e.createElement("div");return w.style.backgroundImage="url("+A+")",w.style.height=r+"px",yI(y)?vI(zB(r,r,0,0,w)):Promise.reject(!1)}).then(function(l){return n.drawImage(l,0,0),yI(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},zB=function(e,t,r,n,s){var A="http://www.w3.org/2000/svg",f=document.createElementNS(A,"svg"),l=document.createElementNS(A,"foreignObject");return f.setAttributeNS(null,"width",e.toString()),f.setAttributeNS(null,"height",t.toString()),l.setAttributeNS(null,"width","100%"),l.setAttributeNS(null,"height","100%"),l.setAttributeNS(null,"x",r.toString()),l.setAttributeNS(null,"y",n.toString()),l.setAttributeNS(null,"externalResourcesRequired","true"),f.appendChild(l),l.appendChild(s),f},vI=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){return t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},Yo={get SUPPORT_RANGE_BOUNDS(){var e=yre(document);return Object.defineProperty(Yo,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Yo.SUPPORT_RANGE_BOUNDS&&vre(document);return Object.defineProperty(Yo,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=bre(document);return Object.defineProperty(Yo,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?xre(document):Promise.resolve(!1);return Object.defineProperty(Yo,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=_re();return Object.defineProperty(Yo,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=wre();return Object.defineProperty(Yo,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Yo,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Yo,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},U0=(function(){function e(t,r){this.text=t,this.bounds=r}return e})(),Bre=function(e,t,r,n){var s=Ere(t,r),A=[],f=0;return s.forEach(function(l){if(r.textDecorationLine.length||l.trim().length>0)if(Yo.SUPPORT_RANGE_BOUNDS){var y=_I(n,f,l.length).getClientRects();if(y.length>1){var w=XC(l),b=0;w.forEach(function(U){A.push(new U0(U,lf.fromDOMRectList(e,_I(n,b+f,U.length).getClientRects()))),b+=U.length})}else A.push(new U0(l,lf.fromDOMRectList(e,y)))}else{var S=n.splitText(l.length);A.push(new U0(l,Cre(e,n))),n=S}else Yo.SUPPORT_RANGE_BOUNDS||(n=n.splitText(l.length));f+=l.length}),A},Cre=function(e,t){var r=t.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(t.cloneNode(!0));var s=t.parentNode;if(s){s.replaceChild(n,t);var A=Tw(e,n);return n.firstChild&&s.replaceChild(n.firstChild,n),A}}return lf.EMPTY},_I=function(e,t,r){var n=e.ownerDocument;if(!n)throw new Error("Node has no owner document");var s=n.createRange();return s.setStart(e,t),s.setEnd(e,t+r),s},XC=function(e){if(Yo.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(r){return r.segment})}return mre(e)},Sre=function(e,t){if(Yo.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(e)).map(function(n){return n.segment})}return Ire(e,t)},Ere=function(e,t){return t.letterSpacing!==0?XC(e):Sre(e,t)},Tre=[32,160,4961,65792,65793,4153,4241],Ire=function(e,t){for(var r=rJ(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),n=[],s,A=function(){if(s.value){var f=s.value.slice(),l=Iw(f),y="";l.forEach(function(w){Tre.indexOf(w)===-1?y+=_s(w):(y.length&&n.push(y),n.push(_s(w)),y="")}),y.length&&n.push(y)}};!(s=r.next()).done;)A();return n},Fre=(function(){function e(t,r,n){this.text=Ure(r.data,n.textTransform),this.textBounds=Bre(t,this.text,n,r)}return e})(),Ure=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(Lre,Mre);case 2:return e.toUpperCase();default:return e}},Lre=/(^|\s|:|-|\(|\))([a-z])/g,Mre=function(e,t,r){return e.length>0?t+r.toUpperCase():e},P6=(function(e){Dc(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.src=n.currentSrc||n.src,s.intrinsicWidth=n.naturalWidth,s.intrinsicHeight=n.naturalHeight,s.context.cache.addImage(s.src),s}return t})(xh),O6=(function(e){Dc(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.canvas=n,s.intrinsicWidth=n.width,s.intrinsicHeight=n.height,s}return t})(xh),D6=(function(e){Dc(t,e);function t(r,n){var s=e.call(this,r,n)||this,A=new XMLSerializer,f=Tw(r,n);return n.setAttribute("width",f.width+"px"),n.setAttribute("height",f.height+"px"),s.svg="data:image/svg+xml,"+encodeURIComponent(A.serializeToString(n)),s.intrinsicWidth=n.width.baseVal.value,s.intrinsicHeight=n.height.baseVal.value,s.context.cache.addImage(s.svg),s}return t})(xh),k6=(function(e){Dc(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.value=n.value,s}return t})(xh),HB=(function(e){Dc(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.start=n.start,s.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,s}return t})(xh),Pre=[{type:15,flags:0,unit:"px",number:3}],Ore=[{type:16,flags:0,number:50}],Dre=function(e){return e.width>e.height?new lf(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new lf(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},kre=function(e){var t=e.type===Qre?new Array(e.value.length+1).join(""):e.value;return t.length===0?e.placeholder||"":t},F_="checkbox",U_="radio",Qre="password",wI=707406591,$C=(function(e){Dc(t,e);function t(r,n){var s=e.call(this,r,n)||this;switch(s.type=n.type.toLowerCase(),s.checked=n.checked,s.value=kre(n),(s.type===F_||s.type===U_)&&(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=Dre(s.bounds)),s.type){case F_:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=Pre;break;case U_:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=Ore;break}return s}return t})(xh),Q6=(function(e){Dc(t,e);function t(r,n){var s=e.call(this,r,n)||this,A=n.options[n.selectedIndex||0];return s.value=A&&A.text||"",s}return t})(xh),N6=(function(e){Dc(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.value=n.value,s}return t})(xh),R6=(function(e){Dc(t,e);function t(r,n){var s=e.call(this,r,n)||this;s.src=n.src,s.width=parseInt(n.width,10)||0,s.height=parseInt(n.height,10)||0,s.backgroundColor=s.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){s.tree=H6(r,n.contentWindow.document.documentElement);var A=n.contentWindow.document.documentElement?I0(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):ef.TRANSPARENT,f=n.contentWindow.document.body?I0(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):ef.TRANSPARENT;s.backgroundColor=hd(A)?hd(f)?s.styles.backgroundColor:f:A}}catch{}return s}return t})(xh),Nre=["OL","UL","MENU"],E1=function(e,t,r,n){for(var s=t.firstChild,A=void 0;s;s=A)if(A=s.nextSibling,j6(s)&&s.data.trim().length>0)r.textNodes.push(new Fre(e,s,r.styles));else if(Ug(s))if(G6(s)&&s.assignedNodes)s.assignedNodes().forEach(function(l){return E1(e,l,r,n)});else{var f=z6(e,s);f.styles.isVisible()&&(Rre(s,f,n)?f.flags|=4:zre(f.styles)&&(f.flags|=2),Nre.indexOf(s.tagName)!==-1&&(f.flags|=8),r.elements.push(f),s.slot,s.shadowRoot?E1(e,s.shadowRoot,f,n):!L_(s)&&!K6(s)&&!M_(s)&&E1(e,s,f,n))}},z6=function(e,t){return KB(t)?new P6(e,t):V6(t)?new O6(e,t):K6(t)?new D6(e,t):Hre(t)?new k6(e,t):jre(t)?new HB(e,t):Kre(t)?new $C(e,t):M_(t)?new Q6(e,t):L_(t)?new N6(e,t):q6(t)?new R6(e,t):new xh(e,t)},H6=function(e,t){var r=z6(e,t);return r.flags|=4,E1(e,t,r,r),r},Rre=function(e,t,r){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||ZC(e)&&r.styles.isTransparent()},zre=function(e){return e.isPositioned()||e.isFloating()},j6=function(e){return e.nodeType===Node.TEXT_NODE},Ug=function(e){return e.nodeType===Node.ELEMENT_NODE},jB=function(e){return Ug(e)&&typeof e.style<"u"&&!T1(e)},T1=function(e){return typeof e.className=="object"},Hre=function(e){return e.tagName==="LI"},jre=function(e){return e.tagName==="OL"},Kre=function(e){return e.tagName==="INPUT"},Vre=function(e){return e.tagName==="HTML"},K6=function(e){return e.tagName==="svg"},ZC=function(e){return e.tagName==="BODY"},V6=function(e){return e.tagName==="CANVAS"},bI=function(e){return e.tagName==="VIDEO"},KB=function(e){return e.tagName==="IMG"},q6=function(e){return e.tagName==="IFRAME"},xI=function(e){return e.tagName==="STYLE"},qre=function(e){return e.tagName==="SCRIPT"},L_=function(e){return e.tagName==="TEXTAREA"},M_=function(e){return e.tagName==="SELECT"},G6=function(e){return e.tagName==="SLOT"},BI=function(e){return e.tagName.indexOf("-")>0},Gre=(function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(t){var r=this.counters[t];return r&&r.length?r[r.length-1]:1},e.prototype.getCounterValues=function(t){var r=this.counters[t];return r||[]},e.prototype.pop=function(t){var r=this;t.forEach(function(n){return r.counters[n].pop()})},e.prototype.parse=function(t){var r=this,n=t.counterIncrement,s=t.counterReset,A=!0;n!==null&&n.forEach(function(l){var y=r.counters[l.counter];y&&l.increment!==0&&(A=!1,y.length||y.push(1),y[Math.max(0,y.length-1)]+=l.increment)});var f=[];return A&&s.forEach(function(l){var y=r.counters[l.counter];f.push(l.counter),y||(y=r.counters[l.counter]=[]),y.push(l.reset)}),f},e})(),CI={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},SI={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Xre={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},$re={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},yg=function(e,t,r,n,s,A){return e<t||e>r?J0(e,s,A.length>0):n.integers.reduce(function(f,l,y){for(;e>=l;)e-=l,f+=n.values[y];return f},"")+A},X6=function(e,t,r,n){var s="";do r||e--,s=n(e)+s,e/=t;while(e*t>=t);return s},ys=function(e,t,r,n,s){var A=r-t+1;return(e<0?"-":"")+(X6(Math.abs(e),A,n,function(f){return _s(Math.floor(f%A)+t)})+s)},ip=function(e,t,r){r===void 0&&(r=". ");var n=t.length;return X6(Math.abs(e),n,!1,function(s){return t[Math.floor(s%n)]})+r},Cg=1,ed=2,td=4,S0=8,Hh=function(e,t,r,n,s,A){if(e<-9999||e>9999)return J0(e,4,s.length>0);var f=Math.abs(e),l=s;if(f===0)return t[0]+l;for(var y=0;f>0&&y<=4;y++){var w=f%10;w===0&&lo(A,Cg)&&l!==""?l=t[w]+l:w>1||w===1&&y===0||w===1&&y===1&&lo(A,ed)||w===1&&y===1&&lo(A,td)&&e>100||w===1&&y>1&&lo(A,S0)?l=t[w]+(y>0?r[y-1]:"")+l:w===1&&y>0&&(l=r[y-1]+l),f=Math.floor(f/10)}return(e<0?n:"")+l},EI="",TI="",II="",Jx="",J0=function(e,t,r){var n=r?". ":"",s=r?"":"",A=r?", ":"",f=r?" ":"";switch(t){case 0:return""+f;case 1:return""+f;case 2:return""+f;case 5:var l=ys(e,48,57,!0,n);return l.length<4?"0"+l:l;case 4:return ip(e,"",s);case 6:return yg(e,1,3999,CI,3,n).toLowerCase();case 7:return yg(e,1,3999,CI,3,n);case 8:return ys(e,945,969,!1,n);case 9:return ys(e,97,122,!1,n);case 10:return ys(e,65,90,!1,n);case 11:return ys(e,1632,1641,!0,n);case 12:case 49:return yg(e,1,9999,SI,3,n);case 35:return yg(e,1,9999,SI,3,n).toLowerCase();case 13:return ys(e,2534,2543,!0,n);case 14:case 30:return ys(e,6112,6121,!0,n);case 15:return ip(e,"",s);case 16:return ip(e,"",s);case 17:case 48:return Hh(e,"",EI,"",s,ed|td|S0);case 47:return Hh(e,"",TI,"",s,Cg|ed|td|S0);case 42:return Hh(e,"",EI,"",s,ed|td|S0);case 41:return Hh(e,"",TI,"",s,Cg|ed|td|S0);case 26:return Hh(e,"","",II,s,0);case 25:return Hh(e,"","",II,s,Cg|ed|td);case 31:return Hh(e,"","",Jx,A,Cg|ed|td);case 33:return Hh(e,"","",Jx,A,0);case 32:return Hh(e,"","",Jx,A,Cg|ed|td);case 18:return ys(e,2406,2415,!0,n);case 20:return yg(e,1,19999,$re,3,n);case 21:return ys(e,2790,2799,!0,n);case 22:return ys(e,2662,2671,!0,n);case 22:return yg(e,1,10999,Xre,3,n);case 23:return ip(e,"");case 24:return ip(e,"");case 27:return ys(e,3302,3311,!0,n);case 28:return ip(e,"",s);case 29:return ip(e,"",s);case 34:return ys(e,3792,3801,!0,n);case 37:return ys(e,6160,6169,!0,n);case 38:return ys(e,4160,4169,!0,n);case 39:return ys(e,2918,2927,!0,n);case 40:return ys(e,1776,1785,!0,n);case 43:return ys(e,3046,3055,!0,n);case 44:return ys(e,3174,3183,!0,n);case 45:return ys(e,3664,3673,!0,n);case 46:return ys(e,3872,3881,!0,n);case 3:default:return ys(e,48,57,!0,n)}},$6="data-html2canvas-ignore",FI=(function(){function e(t,r,n){if(this.context=t,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new Gre,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(t,r){var n=this,s=Zre(t,r);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var A=t.defaultView.pageXOffset,f=t.defaultView.pageYOffset,l=s.contentWindow,y=l.document,w=Jre(s).then(function(){return AA(n,void 0,void 0,function(){var b,S;return Pl(this,function(U){switch(U.label){case 0:return this.scrolledElements.forEach(nne),l&&(l.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(l.scrollY!==r.top||l.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-r.left,l.scrollY-r.top,0,0))),b=this.options.onclone,S=this.clonedReferenceElement,typeof S>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:y.fonts&&y.fonts.ready?[4,y.fonts.ready]:[3,2];case 1:U.sent(),U.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Yre(y)]:[3,4];case 3:U.sent(),U.label=4;case 4:return typeof b=="function"?[2,Promise.resolve().then(function(){return b(y,S)}).then(function(){return s})]:[2,s]}})})});return y.open(),y.write(tne(document.doctype)+"<html></html>"),rne(this.referenceElement.ownerDocument,A,f),y.replaceChild(y.adoptNode(this.documentElement),y.documentElement),y.close(),w},e.prototype.createElementClone=function(t){if(RB(t,2))debugger;if(V6(t))return this.createCanvasClone(t);if(bI(t))return this.createVideoClone(t);if(xI(t))return this.createStyleClone(t);var r=t.cloneNode(!1);return KB(r)&&(KB(t)&&t.currentSrc&&t.currentSrc!==t.src&&(r.src=t.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),BI(r)?this.createCustomElementClone(r):r},e.prototype.createCustomElementClone=function(t){var r=document.createElement("html2canvascustomelement");return e2(t.style,r),r},e.prototype.createStyleClone=function(t){try{var r=t.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(A,f){return f&&typeof f.cssText=="string"?A+f.cssText:A},""),s=t.cloneNode(!1);return s.textContent=n,s}}catch(A){if(this.context.logger.error("Unable to access cssRules property",A),A.name!=="SecurityError")throw A}return t.cloneNode(!1)},e.prototype.createCanvasClone=function(t){var r;if(this.options.inlineImages&&t.ownerDocument){var n=t.ownerDocument.createElement("img");try{return n.src=t.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var s=t.cloneNode(!1);try{s.width=t.width,s.height=t.height;var A=t.getContext("2d"),f=s.getContext("2d");if(f)if(!this.options.allowTaint&&A)f.putImageData(A.getImageData(0,0,t.width,t.height),0,0);else{var l=(r=t.getContext("webgl2"))!==null&&r!==void 0?r:t.getContext("webgl");if(l){var y=l.getContextAttributes();y?.preserveDrawingBuffer===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}f.drawImage(t,0,0)}return s}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return s},e.prototype.createVideoClone=function(t){var r=t.ownerDocument.createElement("canvas");r.width=t.offsetWidth,r.height=t.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(t,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var s=t.ownerDocument.createElement("canvas");return s.width=t.offsetWidth,s.height=t.offsetHeight,s},e.prototype.appendChildNode=function(t,r,n){(!Ug(r)||!qre(r)&&!r.hasAttribute($6)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!Ug(r)||!xI(r))&&t.appendChild(this.cloneNode(r,n))},e.prototype.cloneChildNodes=function(t,r,n){for(var s=this,A=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;A;A=A.nextSibling)if(Ug(A)&&G6(A)&&typeof A.assignedNodes=="function"){var f=A.assignedNodes();f.length&&f.forEach(function(l){return s.appendChildNode(r,l,n)})}else this.appendChildNode(r,A,n)},e.prototype.cloneNode=function(t,r){if(j6(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var n=t.ownerDocument.defaultView;if(n&&Ug(t)&&(jB(t)||T1(t))){var s=this.createElementClone(t);s.style.transitionProperty="none";var A=n.getComputedStyle(t),f=n.getComputedStyle(t,":before"),l=n.getComputedStyle(t,":after");this.referenceElement===t&&jB(s)&&(this.clonedReferenceElement=s),ZC(s)&&sne(s);var y=this.counters.parse(new oI(this.context,A)),w=this.resolvePseudoContent(t,s,f,L0.BEFORE);BI(t)&&(r=!0),bI(t)||this.cloneChildNodes(t,s,r),w&&s.insertBefore(w,s.firstChild);var b=this.resolvePseudoContent(t,s,l,L0.AFTER);return b&&s.appendChild(b),this.counters.pop(y),(A&&(this.options.copyStyles||T1(t))&&!q6(t)||r)&&e2(A,s),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([s,t.scrollLeft,t.scrollTop]),(L_(t)||M_(t))&&(L_(s)||M_(s))&&(s.value=t.value),s}return t.cloneNode(!1)},e.prototype.resolvePseudoContent=function(t,r,n,s){var A=this;if(n){var f=n.content,l=r.ownerDocument;if(!(!l||!f||f==="none"||f==="-moz-alt-content"||n.display==="none")){this.counters.parse(new oI(this.context,n));var y=new Hte(this.context,n),w=l.createElement("html2canvaspseudoelement");e2(n,w),y.content.forEach(function(S){if(S.type===0)w.appendChild(l.createTextNode(S.value));else if(S.type===22){var U=l.createElement("img");U.src=S.value,U.style.opacity="1",w.appendChild(U)}else if(S.type===18){if(S.name==="attr"){var I=S.values.filter(Gi);I.length&&w.appendChild(l.createTextNode(t.getAttribute(I[0].value)||""))}else if(S.name==="counter"){var z=S.values.filter(Xg),H=z[0],K=z[1];if(H&&Gi(H)){var V=A.counters.getCounterValue(H.value),re=K&&Gi(K)?NB.parse(A.context,K.value):3;w.appendChild(l.createTextNode(J0(V,re,!1)))}}else if(S.name==="counters"){var W=S.values.filter(Xg),H=W[0],le=W[1],K=W[2];if(H&&Gi(H)){var ce=A.counters.getCounterValues(H.value),me=K&&Gi(K)?NB.parse(A.context,K.value):3,Ie=le&&le.type===0?le.value:"",Fe=ce.map(function(ie){return J0(ie,me,!1)}).join(Ie);w.appendChild(l.createTextNode(Fe))}}}else if(S.type===20)switch(S.value){case"open-quote":w.appendChild(l.createTextNode(sI(y.quotes,A.quoteDepth++,!0)));break;case"close-quote":w.appendChild(l.createTextNode(sI(y.quotes,--A.quoteDepth,!1)));break;default:w.appendChild(l.createTextNode(S.value))}}),w.className=VB+" "+qB;var b=s===L0.BEFORE?" "+VB:" "+qB;return T1(r)?r.className.baseValue+=b:r.className+=b,w}}},e.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},e})(),L0;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(L0||(L0={}));var Zre=function(e,t){var r=e.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=t.width.toString(),r.height=t.height.toString(),r.scrolling="no",r.setAttribute($6,"true"),e.body.appendChild(r),r},Wre=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},Yre=function(e){return Promise.all([].slice.call(e.images,0).map(Wre))},Jre=function(e){return new Promise(function(t,r){var n=e.contentWindow;if(!n)return r("No window assigned for iframe");var s=n.document;n.onload=e.onload=function(){n.onload=e.onload=null;var A=setInterval(function(){s.body.childNodes.length>0&&s.readyState==="complete"&&(clearInterval(A),t(e))},50)}})},ene=["all","d","content"],e2=function(e,t){for(var r=e.length-1;r>=0;r--){var n=e.item(r);ene.indexOf(n)===-1&&t.style.setProperty(n,e.getPropertyValue(n))}return t},tne=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},rne=function(e,t,r){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||r!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,r)},nne=function(e){var t=e[0],r=e[1],n=e[2];t.scrollLeft=r,t.scrollTop=n},ine=":before",ane=":after",VB="___html2canvas___pseudoelement_before",qB="___html2canvas___pseudoelement_after",UI=`{
    content: "" !important;
    display: none !important;
}`,sne=function(e){one(e,"."+VB+ine+UI+`
         .`+qB+ane+UI)},one=function(e,t){var r=e.ownerDocument;if(r){var n=r.createElement("style");n.textContent=t,e.appendChild(n)}},Z6=(function(){function e(){}return e.getOrigin=function(t){var r=e._link;return r?(r.href=t,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e})(),lne=(function(){function e(t,r){this.context=t,this._options=r,this._cache={}}return e.prototype.addImage=function(t){var r=Promise.resolve();return this.has(t)||(r2(t)||hne(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),r},e.prototype.match=function(t){return this._cache[t]},e.prototype.loadImage=function(t){return AA(this,void 0,void 0,function(){var r,n,s,A,f=this;return Pl(this,function(l){switch(l.label){case 0:return r=Z6.isSameOrigin(t),n=!t2(t)&&this._options.useCORS===!0&&Yo.SUPPORT_CORS_IMAGES&&!r,s=!t2(t)&&!r&&!r2(t)&&typeof this._options.proxy=="string"&&Yo.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!t2(t)&&!r2(t)&&!s&&!n?[2]:(A=t,s?[4,this.proxy(A)]:[3,2]);case 1:A=l.sent(),l.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(y,w){var b=new Image;b.onload=function(){return y(b)},b.onerror=w,(fne(A)||n)&&(b.crossOrigin="anonymous"),b.src=A,b.complete===!0&&setTimeout(function(){return y(b)},500),f._options.imageTimeout>0&&setTimeout(function(){return w("Timed out ("+f._options.imageTimeout+"ms) loading image")},f._options.imageTimeout)})];case 3:return[2,l.sent()]}})})},e.prototype.has=function(t){return typeof this._cache[t]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(t){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var s=t.substring(0,256);return new Promise(function(A,f){var l=Yo.SUPPORT_RESPONSE_TYPE?"blob":"text",y=new XMLHttpRequest;y.onload=function(){if(y.status===200)if(l==="text")A(y.response);else{var S=new FileReader;S.addEventListener("load",function(){return A(S.result)},!1),S.addEventListener("error",function(U){return f(U)},!1),S.readAsDataURL(y.response)}else f("Failed to proxy resource "+s+" with status code "+y.status)},y.onerror=f;var w=n.indexOf("?")>-1?"&":"?";if(y.open("GET",""+n+w+"url="+encodeURIComponent(t)+"&responseType="+l),l!=="text"&&y instanceof XMLHttpRequest&&(y.responseType=l),r._options.imageTimeout){var b=r._options.imageTimeout;y.timeout=b,y.ontimeout=function(){return f("Timed out ("+b+"ms) proxying "+s)}}y.send()})},e})(),Ane=/^data:image\/svg\+xml/i,une=/^data:image\/.*;base64,/i,cne=/^data:image\/.*/i,hne=function(e){return Yo.SUPPORT_SVG_DRAWING||!dne(e)},t2=function(e){return cne.test(e)},fne=function(e){return une.test(e)},r2=function(e){return e.substr(0,4)==="blob"},dne=function(e){return e.substr(-3).toLowerCase()==="svg"||Ane.test(e)},gr=(function(){function e(t,r){this.type=0,this.x=t,this.y=r}return e.prototype.add=function(t,r){return new e(this.x+t,this.y+r)},e})(),vg=function(e,t,r){return new gr(e.x+(t.x-e.x)*r,e.y+(t.y-e.y)*r)},s1=(function(){function e(t,r,n,s){this.type=1,this.start=t,this.startControl=r,this.endControl=n,this.end=s}return e.prototype.subdivide=function(t,r){var n=vg(this.start,this.startControl,t),s=vg(this.startControl,this.endControl,t),A=vg(this.endControl,this.end,t),f=vg(n,s,t),l=vg(s,A,t),y=vg(f,l,t);return r?new e(this.start,n,f,y):new e(y,l,A,this.end)},e.prototype.add=function(t,r){return new e(this.start.add(t,r),this.startControl.add(t,r),this.endControl.add(t,r),this.end.add(t,r))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e})(),Ju=function(e){return e.type===1},pne=(function(){function e(t){var r=t.styles,n=t.bounds,s=B0(r.borderTopLeftRadius,n.width,n.height),A=s[0],f=s[1],l=B0(r.borderTopRightRadius,n.width,n.height),y=l[0],w=l[1],b=B0(r.borderBottomRightRadius,n.width,n.height),S=b[0],U=b[1],I=B0(r.borderBottomLeftRadius,n.width,n.height),z=I[0],H=I[1],K=[];K.push((A+y)/n.width),K.push((z+S)/n.width),K.push((f+H)/n.height),K.push((w+U)/n.height);var V=Math.max.apply(Math,K);V>1&&(A/=V,f/=V,y/=V,w/=V,S/=V,U/=V,z/=V,H/=V);var re=n.width-y,W=n.height-U,le=n.width-S,ce=n.height-H,me=r.borderTopWidth,Ie=r.borderRightWidth,Fe=r.borderBottomWidth,pe=r.borderLeftWidth,ze=da(r.paddingTop,t.bounds.width),ie=da(r.paddingRight,t.bounds.width),de=da(r.paddingBottom,t.bounds.width),ve=da(r.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=A>0||f>0?Ma(n.left+pe/3,n.top+me/3,A-pe/3,f-me/3,Fi.TOP_LEFT):new gr(n.left+pe/3,n.top+me/3),this.topRightBorderDoubleOuterBox=A>0||f>0?Ma(n.left+re,n.top+me/3,y-Ie/3,w-me/3,Fi.TOP_RIGHT):new gr(n.left+n.width-Ie/3,n.top+me/3),this.bottomRightBorderDoubleOuterBox=S>0||U>0?Ma(n.left+le,n.top+W,S-Ie/3,U-Fe/3,Fi.BOTTOM_RIGHT):new gr(n.left+n.width-Ie/3,n.top+n.height-Fe/3),this.bottomLeftBorderDoubleOuterBox=z>0||H>0?Ma(n.left+pe/3,n.top+ce,z-pe/3,H-Fe/3,Fi.BOTTOM_LEFT):new gr(n.left+pe/3,n.top+n.height-Fe/3),this.topLeftBorderDoubleInnerBox=A>0||f>0?Ma(n.left+pe*2/3,n.top+me*2/3,A-pe*2/3,f-me*2/3,Fi.TOP_LEFT):new gr(n.left+pe*2/3,n.top+me*2/3),this.topRightBorderDoubleInnerBox=A>0||f>0?Ma(n.left+re,n.top+me*2/3,y-Ie*2/3,w-me*2/3,Fi.TOP_RIGHT):new gr(n.left+n.width-Ie*2/3,n.top+me*2/3),this.bottomRightBorderDoubleInnerBox=S>0||U>0?Ma(n.left+le,n.top+W,S-Ie*2/3,U-Fe*2/3,Fi.BOTTOM_RIGHT):new gr(n.left+n.width-Ie*2/3,n.top+n.height-Fe*2/3),this.bottomLeftBorderDoubleInnerBox=z>0||H>0?Ma(n.left+pe*2/3,n.top+ce,z-pe*2/3,H-Fe*2/3,Fi.BOTTOM_LEFT):new gr(n.left+pe*2/3,n.top+n.height-Fe*2/3),this.topLeftBorderStroke=A>0||f>0?Ma(n.left+pe/2,n.top+me/2,A-pe/2,f-me/2,Fi.TOP_LEFT):new gr(n.left+pe/2,n.top+me/2),this.topRightBorderStroke=A>0||f>0?Ma(n.left+re,n.top+me/2,y-Ie/2,w-me/2,Fi.TOP_RIGHT):new gr(n.left+n.width-Ie/2,n.top+me/2),this.bottomRightBorderStroke=S>0||U>0?Ma(n.left+le,n.top+W,S-Ie/2,U-Fe/2,Fi.BOTTOM_RIGHT):new gr(n.left+n.width-Ie/2,n.top+n.height-Fe/2),this.bottomLeftBorderStroke=z>0||H>0?Ma(n.left+pe/2,n.top+ce,z-pe/2,H-Fe/2,Fi.BOTTOM_LEFT):new gr(n.left+pe/2,n.top+n.height-Fe/2),this.topLeftBorderBox=A>0||f>0?Ma(n.left,n.top,A,f,Fi.TOP_LEFT):new gr(n.left,n.top),this.topRightBorderBox=y>0||w>0?Ma(n.left+re,n.top,y,w,Fi.TOP_RIGHT):new gr(n.left+n.width,n.top),this.bottomRightBorderBox=S>0||U>0?Ma(n.left+le,n.top+W,S,U,Fi.BOTTOM_RIGHT):new gr(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=z>0||H>0?Ma(n.left,n.top+ce,z,H,Fi.BOTTOM_LEFT):new gr(n.left,n.top+n.height),this.topLeftPaddingBox=A>0||f>0?Ma(n.left+pe,n.top+me,Math.max(0,A-pe),Math.max(0,f-me),Fi.TOP_LEFT):new gr(n.left+pe,n.top+me),this.topRightPaddingBox=y>0||w>0?Ma(n.left+Math.min(re,n.width-Ie),n.top+me,re>n.width+Ie?0:Math.max(0,y-Ie),Math.max(0,w-me),Fi.TOP_RIGHT):new gr(n.left+n.width-Ie,n.top+me),this.bottomRightPaddingBox=S>0||U>0?Ma(n.left+Math.min(le,n.width-pe),n.top+Math.min(W,n.height-Fe),Math.max(0,S-Ie),Math.max(0,U-Fe),Fi.BOTTOM_RIGHT):new gr(n.left+n.width-Ie,n.top+n.height-Fe),this.bottomLeftPaddingBox=z>0||H>0?Ma(n.left+pe,n.top+Math.min(ce,n.height-Fe),Math.max(0,z-pe),Math.max(0,H-Fe),Fi.BOTTOM_LEFT):new gr(n.left+pe,n.top+n.height-Fe),this.topLeftContentBox=A>0||f>0?Ma(n.left+pe+ve,n.top+me+ze,Math.max(0,A-(pe+ve)),Math.max(0,f-(me+ze)),Fi.TOP_LEFT):new gr(n.left+pe+ve,n.top+me+ze),this.topRightContentBox=y>0||w>0?Ma(n.left+Math.min(re,n.width+pe+ve),n.top+me+ze,re>n.width+pe+ve?0:y-pe+ve,w-(me+ze),Fi.TOP_RIGHT):new gr(n.left+n.width-(Ie+ie),n.top+me+ze),this.bottomRightContentBox=S>0||U>0?Ma(n.left+Math.min(le,n.width-(pe+ve)),n.top+Math.min(W,n.height+me+ze),Math.max(0,S-(Ie+ie)),U-(Fe+de),Fi.BOTTOM_RIGHT):new gr(n.left+n.width-(Ie+ie),n.top+n.height-(Fe+de)),this.bottomLeftContentBox=z>0||H>0?Ma(n.left+pe+ve,n.top+ce,Math.max(0,z-(pe+ve)),H-(Fe+de),Fi.BOTTOM_LEFT):new gr(n.left+pe+ve,n.top+n.height-(Fe+de))}return e})(),Fi;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Fi||(Fi={}));var Ma=function(e,t,r,n,s){var A=4*((Math.sqrt(2)-1)/3),f=r*A,l=n*A,y=e+r,w=t+n;switch(s){case Fi.TOP_LEFT:return new s1(new gr(e,w),new gr(e,w-l),new gr(y-f,t),new gr(y,t));case Fi.TOP_RIGHT:return new s1(new gr(e,t),new gr(e+f,t),new gr(y,w-l),new gr(y,w));case Fi.BOTTOM_RIGHT:return new s1(new gr(y,t),new gr(y,t+l),new gr(e+f,w),new gr(e,w));case Fi.BOTTOM_LEFT:default:return new s1(new gr(y,w),new gr(y-f,w),new gr(e,t+l),new gr(e,t))}},P_=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},gne=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},O_=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},mne=(function(){function e(t,r,n){this.offsetX=t,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return e})(),o1=(function(){function e(t,r){this.path=t,this.target=r,this.type=1}return e})(),yne=(function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e})(),vne=function(e){return e.type===0},W6=function(e){return e.type===1},_ne=function(e){return e.type===2},LI=function(e,t){return e.length===t.length?e.some(function(r,n){return r===t[n]}):!1},wne=function(e,t,r,n,s){return e.map(function(A,f){switch(f){case 0:return A.add(t,r);case 1:return A.add(t+n,r);case 2:return A.add(t+n,r+s);case 3:return A.add(t,r+s)}return A})},Y6=(function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e})(),J6=(function(){function e(t,r){if(this.container=t,this.parent=r,this.effects=[],this.curves=new pne(this.container),this.container.styles.opacity<1&&this.effects.push(new yne(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,s=this.container.bounds.top+this.container.styles.transformOrigin[1].number,A=this.container.styles.transform;this.effects.push(new mne(n,s,A))}if(this.container.styles.overflowX!==0){var f=P_(this.curves),l=O_(this.curves);LI(f,l)?this.effects.push(new o1(f,6)):(this.effects.push(new o1(f,2)),this.effects.push(new o1(l,4)))}}return e.prototype.getEffects=function(t){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,s=this.effects.slice(0);n;){var A=n.effects.filter(function(y){return!W6(y)});if(r||n.container.styles.position!==0||!n.parent){if(s.unshift.apply(s,A),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var f=P_(n.curves),l=O_(n.curves);LI(f,l)||s.unshift(new o1(l,6))}}else s.unshift.apply(s,A);n=n.parent}return s.filter(function(y){return lo(y.target,t)})},e})(),GB=function(e,t,r,n){e.container.elements.forEach(function(s){var A=lo(s.flags,4),f=lo(s.flags,2),l=new J6(s,e);lo(s.styles.display,2048)&&n.push(l);var y=lo(s.flags,8)?[]:n;if(A||f){var w=A||s.styles.isPositioned()?r:t,b=new Y6(l);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var S=s.styles.zIndex.order;if(S<0){var U=0;w.negativeZIndex.some(function(z,H){return S>z.element.container.styles.zIndex.order?(U=H,!1):U>0}),w.negativeZIndex.splice(U,0,b)}else if(S>0){var I=0;w.positiveZIndex.some(function(z,H){return S>=z.element.container.styles.zIndex.order?(I=H+1,!1):I>0}),w.positiveZIndex.splice(I,0,b)}else w.zeroOrAutoZIndexOrTransformedOrOpacity.push(b)}else s.styles.isFloating()?w.nonPositionedFloats.push(b):w.nonPositionedInlineLevel.push(b);GB(l,b,A?b:r,y)}else s.styles.isInlineLevel()?t.inlineLevel.push(l):t.nonInlineLevel.push(l),GB(l,t,r,y);lo(s.flags,8)&&eD(s,y)})},eD=function(e,t){for(var r=e instanceof HB?e.start:1,n=e instanceof HB?e.reversed:!1,s=0;s<t.length;s++){var A=t[s];A.container instanceof k6&&typeof A.container.value=="number"&&A.container.value!==0&&(r=A.container.value),A.listValue=J0(r,A.container.styles.listStyleType,!0),r+=n?-1:1}},bne=function(e){var t=new J6(e,null),r=new Y6(t),n=[];return GB(t,r,r,n),eD(t.container,n),r},MI=function(e,t){switch(t){case 0:return nc(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return nc(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return nc(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return nc(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},xne=function(e,t){switch(t){case 0:return nc(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return nc(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return nc(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return nc(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},Bne=function(e,t){switch(t){case 0:return nc(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return nc(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return nc(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return nc(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},Cne=function(e,t){switch(t){case 0:return l1(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return l1(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return l1(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return l1(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},l1=function(e,t){var r=[];return Ju(e)?r.push(e.subdivide(.5,!1)):r.push(e),Ju(t)?r.push(t.subdivide(.5,!0)):r.push(t),r},nc=function(e,t,r,n){var s=[];return Ju(e)?s.push(e.subdivide(.5,!1)):s.push(e),Ju(r)?s.push(r.subdivide(.5,!0)):s.push(r),Ju(n)?s.push(n.subdivide(.5,!0).reverse()):s.push(n),Ju(t)?s.push(t.subdivide(.5,!1).reverse()):s.push(t),s},tD=function(e){var t=e.bounds,r=e.styles;return t.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},D_=function(e){var t=e.styles,r=e.bounds,n=da(t.paddingLeft,r.width),s=da(t.paddingRight,r.width),A=da(t.paddingTop,r.width),f=da(t.paddingBottom,r.width);return r.add(n+t.borderLeftWidth,A+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+n+s),-(t.borderTopWidth+t.borderBottomWidth+A+f))},Sne=function(e,t){return e===0?t.bounds:e===2?D_(t):tD(t)},Ene=function(e,t){return e===0?t.bounds:e===2?D_(t):tD(t)},n2=function(e,t,r){var n=Sne(Sg(e.styles.backgroundOrigin,t),e),s=Ene(Sg(e.styles.backgroundClip,t),e),A=Tne(Sg(e.styles.backgroundSize,t),r,n),f=A[0],l=A[1],y=B0(Sg(e.styles.backgroundPosition,t),n.width-f,n.height-l),w=Ine(Sg(e.styles.backgroundRepeat,t),y,A,n,s),b=Math.round(n.left+y[0]),S=Math.round(n.top+y[1]);return[w,b,S,f,l]},_g=function(e){return Gi(e)&&e.value===Og.AUTO},A1=function(e){return typeof e=="number"},Tne=function(e,t,r){var n=t[0],s=t[1],A=t[2],f=e[0],l=e[1];if(!f)return[0,0];if(Ns(f)&&l&&Ns(l))return[da(f,r.width),da(l,r.height)];var y=A1(A);if(Gi(f)&&(f.value===Og.CONTAIN||f.value===Og.COVER)){if(A1(A)){var w=r.width/r.height;return w<A!=(f.value===Og.COVER)?[r.width,r.width/A]:[r.height*A,r.height]}return[r.width,r.height]}var b=A1(n),S=A1(s),U=b||S;if(_g(f)&&(!l||_g(l))){if(b&&S)return[n,s];if(!y&&!U)return[r.width,r.height];if(U&&y){var I=b?n:s*A,z=S?s:n/A;return[I,z]}var H=b?n:r.width,K=S?s:r.height;return[H,K]}if(y){var V=0,re=0;return Ns(f)?V=da(f,r.width):Ns(l)&&(re=da(l,r.height)),_g(f)?V=re*A:(!l||_g(l))&&(re=V/A),[V,re]}var W=null,le=null;if(Ns(f)?W=da(f,r.width):l&&Ns(l)&&(le=da(l,r.height)),W!==null&&(!l||_g(l))&&(le=b&&S?W/n*s:r.height),le!==null&&_g(f)&&(W=b&&S?le/s*n:r.width),W!==null&&le!==null)return[W,le];throw new Error("Unable to calculate background-size for element")},Sg=function(e,t){var r=e[t];return typeof r>"u"?e[0]:r},Ine=function(e,t,r,n,s){var A=t[0],f=t[1],l=r[0],y=r[1];switch(e){case 2:return[new gr(Math.round(n.left),Math.round(n.top+f)),new gr(Math.round(n.left+n.width),Math.round(n.top+f)),new gr(Math.round(n.left+n.width),Math.round(y+n.top+f)),new gr(Math.round(n.left),Math.round(y+n.top+f))];case 3:return[new gr(Math.round(n.left+A),Math.round(n.top)),new gr(Math.round(n.left+A+l),Math.round(n.top)),new gr(Math.round(n.left+A+l),Math.round(n.height+n.top)),new gr(Math.round(n.left+A),Math.round(n.height+n.top))];case 1:return[new gr(Math.round(n.left+A),Math.round(n.top+f)),new gr(Math.round(n.left+A+l),Math.round(n.top+f)),new gr(Math.round(n.left+A+l),Math.round(n.top+f+y)),new gr(Math.round(n.left+A),Math.round(n.top+f+y))];default:return[new gr(Math.round(s.left),Math.round(s.top)),new gr(Math.round(s.left+s.width),Math.round(s.top)),new gr(Math.round(s.left+s.width),Math.round(s.height+s.top)),new gr(Math.round(s.left),Math.round(s.height+s.top))]}},Fne="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",PI="Hidden Text",Une=(function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,r){var n=this._document.createElement("div"),s=this._document.createElement("img"),A=this._document.createElement("span"),f=this._document.body;n.style.visibility="hidden",n.style.fontFamily=t,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",f.appendChild(n),s.src=Fne,s.width=1,s.height=1,s.style.margin="0",s.style.padding="0",s.style.verticalAlign="baseline",A.style.fontFamily=t,A.style.fontSize=r,A.style.margin="0",A.style.padding="0",A.appendChild(this._document.createTextNode(PI)),n.appendChild(A),n.appendChild(s);var l=s.offsetTop-A.offsetTop+2;n.removeChild(A),n.appendChild(this._document.createTextNode(PI)),n.style.lineHeight="normal",s.style.verticalAlign="super";var y=s.offsetTop-n.offsetTop+2;return f.removeChild(n),{baseline:l,middle:y}},e.prototype.getMetrics=function(t,r){var n=t+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(t,r)),this._data[n]},e})(),rD=(function(){function e(t,r){this.context=t,this.options=r}return e})(),Lne=1e4,Mne=(function(e){Dc(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s._activeEffects=[],s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),n.canvas||(s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px"),s.fontMetrics=new Une(document),s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.ctx.textBaseline="bottom",s._activeEffects=[],s.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),s}return t.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(s){return n.applyEffect(s)})},t.prototype.applyEffect=function(r){this.ctx.save(),_ne(r)&&(this.ctx.globalAlpha=r.opacity),vne(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),W6(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(r){return AA(this,void 0,void 0,function(){var n;return Pl(this,function(s){switch(s.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(r){return AA(this,void 0,void 0,function(){return Pl(this,function(n){switch(n.label){case 0:if(lo(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(r,n,s){var A=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+s);else{var f=XC(r.text);f.reduce(function(l,y){return A.ctx.fillText(y,l,r.bounds.top+s),l+A.ctx.measureText(y).width},r.bounds.left)}},t.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(f){return f==="normal"||f==="small-caps"}).join(""),s=Qne(r.fontFamily).join(", "),A=xy(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,A,s].join(" "),s,A]},t.prototype.renderTextNode=function(r,n){return AA(this,void 0,void 0,function(){var s,A,f,l,y,w,b,S,U=this;return Pl(this,function(I){return s=this.createFontStyle(n),A=s[0],f=s[1],l=s[2],this.ctx.font=A,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",y=this.fontMetrics.getMetrics(f,l),w=y.baseline,b=y.middle,S=n.paintOrder,r.textBounds.forEach(function(z){S.forEach(function(H){switch(H){case 0:U.ctx.fillStyle=So(n.color),U.renderTextWithLetterSpacing(z,n.letterSpacing,w);var K=n.textShadow;K.length&&z.text.trim().length&&(K.slice(0).reverse().forEach(function(V){U.ctx.shadowColor=So(V.color),U.ctx.shadowOffsetX=V.offsetX.number*U.options.scale,U.ctx.shadowOffsetY=V.offsetY.number*U.options.scale,U.ctx.shadowBlur=V.blur.number,U.renderTextWithLetterSpacing(z,n.letterSpacing,w)}),U.ctx.shadowColor="",U.ctx.shadowOffsetX=0,U.ctx.shadowOffsetY=0,U.ctx.shadowBlur=0),n.textDecorationLine.length&&(U.ctx.fillStyle=So(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(V){switch(V){case 1:U.ctx.fillRect(z.bounds.left,Math.round(z.bounds.top+w),z.bounds.width,1);break;case 2:U.ctx.fillRect(z.bounds.left,Math.round(z.bounds.top),z.bounds.width,1);break;case 3:U.ctx.fillRect(z.bounds.left,Math.ceil(z.bounds.top+b),z.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&z.text.trim().length&&(U.ctx.strokeStyle=So(n.webkitTextStrokeColor),U.ctx.lineWidth=n.webkitTextStrokeWidth,U.ctx.lineJoin=window.chrome?"miter":"round",U.ctx.strokeText(z.text,z.bounds.left,z.bounds.top+w)),U.ctx.strokeStyle="",U.ctx.lineWidth=0,U.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(r,n,s){if(s&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var A=D_(r),f=O_(n);this.path(f),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(s,0,0,r.intrinsicWidth,r.intrinsicHeight,A.left,A.top,A.width,A.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(r){return AA(this,void 0,void 0,function(){var n,s,A,f,l,y,re,re,w,b,S,U,le,I,z,ce,H,K,V,re,W,le,ce;return Pl(this,function(me){switch(me.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,s=r.curves,A=n.styles,f=0,l=n.textNodes,me.label=1;case 1:return f<l.length?(y=l[f],[4,this.renderTextNode(y,A)]):[3,4];case 2:me.sent(),me.label=3;case 3:return f++,[3,1];case 4:if(!(n instanceof P6))return[3,8];me.label=5;case 5:return me.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return re=me.sent(),this.renderReplacedElement(n,s,re),[3,8];case 7:return me.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof O6&&this.renderReplacedElement(n,s,n.canvas),!(n instanceof D6))return[3,12];me.label=9;case 9:return me.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return re=me.sent(),this.renderReplacedElement(n,s,re),[3,12];case 11:return me.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof R6&&n.tree?(w=new t(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,w.render(n.tree)]):[3,14];case 13:b=me.sent(),n.width&&n.height&&this.ctx.drawImage(b,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),me.label=14;case 14:if(n instanceof $C&&(S=Math.min(n.bounds.width,n.bounds.height),n.type===F_?n.checked&&(this.ctx.save(),this.path([new gr(n.bounds.left+S*.39363,n.bounds.top+S*.79),new gr(n.bounds.left+S*.16,n.bounds.top+S*.5549),new gr(n.bounds.left+S*.27347,n.bounds.top+S*.44071),new gr(n.bounds.left+S*.39694,n.bounds.top+S*.5649),new gr(n.bounds.left+S*.72983,n.bounds.top+S*.23),new gr(n.bounds.left+S*.84,n.bounds.top+S*.34085),new gr(n.bounds.left+S*.39363,n.bounds.top+S*.79)]),this.ctx.fillStyle=So(wI),this.ctx.fill(),this.ctx.restore()):n.type===U_&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+S/2,n.bounds.top+S/2,S/4,0,Math.PI*2,!0),this.ctx.fillStyle=So(wI),this.ctx.fill(),this.ctx.restore())),Pne(n)&&n.value.length){switch(U=this.createFontStyle(A),le=U[0],I=U[1],z=this.fontMetrics.getMetrics(le,I).baseline,this.ctx.font=le,this.ctx.fillStyle=So(A.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Dne(n.styles.textAlign),ce=D_(n),H=0,n.styles.textAlign){case 1:H+=ce.width/2;break;case 2:H+=ce.width;break}K=ce.add(H,0,0,-ce.height/2+1),this.ctx.save(),this.path([new gr(ce.left,ce.top),new gr(ce.left+ce.width,ce.top),new gr(ce.left+ce.width,ce.top+ce.height),new gr(ce.left,ce.top+ce.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new U0(n.value,K),A.letterSpacing,z),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!lo(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(V=n.styles.listStyleImage,V.type!==0)return[3,18];re=void 0,W=V.url,me.label=15;case 15:return me.trys.push([15,17,,18]),[4,this.context.cache.match(W)];case 16:return re=me.sent(),this.ctx.drawImage(re,n.bounds.left-(re.width+10),n.bounds.top),[3,18];case 17:return me.sent(),this.context.logger.error("Error loading list-style-image "+W),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(le=this.createFontStyle(A)[0],this.ctx.font=le,this.ctx.fillStyle=So(A.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",ce=new lf(n.bounds.left,n.bounds.top+da(n.styles.paddingTop,n.bounds.width),n.bounds.width,iI(A.lineHeight,A.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new U0(r.listValue,ce),A.letterSpacing,iI(A.lineHeight,A.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),me.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(r){return AA(this,void 0,void 0,function(){var n,s,V,A,f,V,l,y,V,w,b,V,S,U,V,I,z,V,H,K,V;return Pl(this,function(re){switch(re.label){case 0:if(lo(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:re.sent(),n=0,s=r.negativeZIndex,re.label=2;case 2:return n<s.length?(V=s[n],[4,this.renderStack(V)]):[3,5];case 3:re.sent(),re.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:re.sent(),A=0,f=r.nonInlineLevel,re.label=7;case 7:return A<f.length?(V=f[A],[4,this.renderNode(V)]):[3,10];case 8:re.sent(),re.label=9;case 9:return A++,[3,7];case 10:l=0,y=r.nonPositionedFloats,re.label=11;case 11:return l<y.length?(V=y[l],[4,this.renderStack(V)]):[3,14];case 12:re.sent(),re.label=13;case 13:return l++,[3,11];case 14:w=0,b=r.nonPositionedInlineLevel,re.label=15;case 15:return w<b.length?(V=b[w],[4,this.renderStack(V)]):[3,18];case 16:re.sent(),re.label=17;case 17:return w++,[3,15];case 18:S=0,U=r.inlineLevel,re.label=19;case 19:return S<U.length?(V=U[S],[4,this.renderNode(V)]):[3,22];case 20:re.sent(),re.label=21;case 21:return S++,[3,19];case 22:I=0,z=r.zeroOrAutoZIndexOrTransformedOrOpacity,re.label=23;case 23:return I<z.length?(V=z[I],[4,this.renderStack(V)]):[3,26];case 24:re.sent(),re.label=25;case 25:return I++,[3,23];case 26:H=0,K=r.positiveZIndex,re.label=27;case 27:return H<K.length?(V=K[H],[4,this.renderStack(V)]):[3,30];case 28:re.sent(),re.label=29;case 29:return H++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},t.prototype.formatPath=function(r){var n=this;r.forEach(function(s,A){var f=Ju(s)?s.start:s;A===0?n.ctx.moveTo(f.x,f.y):n.ctx.lineTo(f.x,f.y),Ju(s)&&n.ctx.bezierCurveTo(s.startControl.x,s.startControl.y,s.endControl.x,s.endControl.y,s.end.x,s.end.y)})},t.prototype.renderRepeat=function(r,n,s,A){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(s,A),this.ctx.fill(),this.ctx.translate(-s,-A)},t.prototype.resizeImage=function(r,n,s){var A;if(r.width===n&&r.height===s)return r;var f=(A=this.canvas.ownerDocument)!==null&&A!==void 0?A:document,l=f.createElement("canvas");l.width=Math.max(1,n),l.height=Math.max(1,s);var y=l.getContext("2d");return y.drawImage(r,0,0,r.width,r.height,0,0,n,s),l},t.prototype.renderBackgroundImage=function(r){return AA(this,void 0,void 0,function(){var n,s,A,f,l,y;return Pl(this,function(w){switch(w.label){case 0:n=r.styles.backgroundImage.length-1,s=function(b){var S,U,I,ze,Le,Ne,ve,_e,Fe,z,ze,Le,Ne,ve,_e,H,K,V,re,W,le,ce,me,Ie,Fe,pe,ze,ie,de,ve,_e,tt,Le,Ne,Ve,We,_t,Te,ne,we,Ue,De;return Pl(this,function(Xe){switch(Xe.label){case 0:if(b.type!==0)return[3,5];S=void 0,U=b.url,Xe.label=1;case 1:return Xe.trys.push([1,3,,4]),[4,A.context.cache.match(U)];case 2:return S=Xe.sent(),[3,4];case 3:return Xe.sent(),A.context.logger.error("Error loading background-image "+U),[3,4];case 4:return S&&(I=n2(r,n,[S.width,S.height,S.width/S.height]),ze=I[0],Le=I[1],Ne=I[2],ve=I[3],_e=I[4],Fe=A.ctx.createPattern(A.resizeImage(S,ve,_e),"repeat"),A.renderRepeat(ze,Fe,Le,Ne)),[3,6];case 5:vee(b)?(z=n2(r,n,[null,null,null]),ze=z[0],Le=z[1],Ne=z[2],ve=z[3],_e=z[4],H=dee(b.angle,ve,_e),K=H[0],V=H[1],re=H[2],W=H[3],le=H[4],ce=document.createElement("canvas"),ce.width=ve,ce.height=_e,me=ce.getContext("2d"),Ie=me.createLinearGradient(V,W,re,le),rI(b.stops,K).forEach(function(Je){return Ie.addColorStop(Je.stop,So(Je.color))}),me.fillStyle=Ie,me.fillRect(0,0,ve,_e),ve>0&&_e>0&&(Fe=A.ctx.createPattern(ce,"repeat"),A.renderRepeat(ze,Fe,Le,Ne))):_ee(b)&&(pe=n2(r,n,[null,null,null]),ze=pe[0],ie=pe[1],de=pe[2],ve=pe[3],_e=pe[4],tt=b.position.length===0?[VC]:b.position,Le=da(tt[0],ve),Ne=da(tt[tt.length-1],_e),Ve=pee(b,Le,Ne,ve,_e),We=Ve[0],_t=Ve[1],We>0&&_t>0&&(Te=A.ctx.createRadialGradient(ie+Le,de+Ne,0,ie+Le,de+Ne,We),rI(b.stops,We*2).forEach(function(Je){return Te.addColorStop(Je.stop,So(Je.color))}),A.path(ze),A.ctx.fillStyle=Te,We!==_t?(ne=r.bounds.left+.5*r.bounds.width,we=r.bounds.top+.5*r.bounds.height,Ue=_t/We,De=1/Ue,A.ctx.save(),A.ctx.translate(ne,we),A.ctx.transform(1,0,0,Ue,0,0),A.ctx.translate(-ne,-we),A.ctx.fillRect(ie,De*(de-we)+we,ve,_e*De),A.ctx.restore()):A.ctx.fill())),Xe.label=6;case 6:return n--,[2]}})},A=this,f=0,l=r.styles.backgroundImage.slice(0).reverse(),w.label=1;case 1:return f<l.length?(y=l[f],[5,s(y)]):[3,4];case 2:w.sent(),w.label=3;case 3:return f++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(r,n,s){return AA(this,void 0,void 0,function(){return Pl(this,function(A){return this.path(MI(s,n)),this.ctx.fillStyle=So(r),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(r,n,s,A){return AA(this,void 0,void 0,function(){var f,l;return Pl(this,function(y){switch(y.label){case 0:return n<3?[4,this.renderSolidBorder(r,s,A)]:[3,2];case 1:return y.sent(),[2];case 2:return f=xne(A,s),this.path(f),this.ctx.fillStyle=So(r),this.ctx.fill(),l=Bne(A,s),this.path(l),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(r){return AA(this,void 0,void 0,function(){var n,s,A,f,l,y,w,b,S=this;return Pl(this,function(U){switch(U.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,s=!hd(n.backgroundColor)||n.backgroundImage.length,A=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],f=One(Sg(n.backgroundClip,0),r.curves),s||n.boxShadow.length?(this.ctx.save(),this.path(f),this.ctx.clip(),hd(n.backgroundColor)||(this.ctx.fillStyle=So(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:U.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(I){S.ctx.save();var z=P_(r.curves),H=I.inset?0:Lne,K=wne(z,-H+(I.inset?1:-1)*I.spread.number,(I.inset?1:-1)*I.spread.number,I.spread.number*(I.inset?-2:2),I.spread.number*(I.inset?-2:2));I.inset?(S.path(z),S.ctx.clip(),S.mask(K)):(S.mask(z),S.ctx.clip(),S.path(K)),S.ctx.shadowOffsetX=I.offsetX.number+H,S.ctx.shadowOffsetY=I.offsetY.number,S.ctx.shadowColor=So(I.color),S.ctx.shadowBlur=I.blur.number,S.ctx.fillStyle=I.inset?So(I.color):"rgba(0,0,0,1)",S.ctx.fill(),S.ctx.restore()}),U.label=2;case 2:l=0,y=0,w=A,U.label=3;case 3:return y<w.length?(b=w[y],b.style!==0&&!hd(b.color)&&b.width>0?b.style!==2?[3,5]:[4,this.renderDashedDottedBorder(b.color,b.width,l,r.curves,2)]:[3,11]):[3,13];case 4:return U.sent(),[3,11];case 5:return b.style!==3?[3,7]:[4,this.renderDashedDottedBorder(b.color,b.width,l,r.curves,3)];case 6:return U.sent(),[3,11];case 7:return b.style!==4?[3,9]:[4,this.renderDoubleBorder(b.color,b.width,l,r.curves)];case 8:return U.sent(),[3,11];case 9:return[4,this.renderSolidBorder(b.color,l,r.curves)];case 10:U.sent(),U.label=11;case 11:l++,U.label=12;case 12:return y++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(r,n,s,A,f){return AA(this,void 0,void 0,function(){var l,y,w,b,S,U,I,z,H,K,V,re,W,le,ce,me,ce,me;return Pl(this,function(Ie){return this.ctx.save(),l=Cne(A,s),y=MI(A,s),f===2&&(this.path(y),this.ctx.clip()),Ju(y[0])?(w=y[0].start.x,b=y[0].start.y):(w=y[0].x,b=y[0].y),Ju(y[1])?(S=y[1].end.x,U=y[1].end.y):(S=y[1].x,U=y[1].y),s===0||s===2?I=Math.abs(w-S):I=Math.abs(b-U),this.ctx.beginPath(),f===3?this.formatPath(l):this.formatPath(y.slice(0,2)),z=n<3?n*3:n*2,H=n<3?n*2:n,f===3&&(z=n,H=n),K=!0,I<=z*2?K=!1:I<=z*2+H?(V=I/(2*z+H),z*=V,H*=V):(re=Math.floor((I+H)/(z+H)),W=(I-re*z)/(re-1),le=(I-(re+1)*z)/re,H=le<=0||Math.abs(H-W)<Math.abs(H-le)?W:le),K&&(f===3?this.ctx.setLineDash([0,z+H]):this.ctx.setLineDash([z,H])),f===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=So(r),this.ctx.stroke(),this.ctx.setLineDash([]),f===2&&(Ju(y[0])&&(ce=y[3],me=y[0],this.ctx.beginPath(),this.formatPath([new gr(ce.end.x,ce.end.y),new gr(me.start.x,me.start.y)]),this.ctx.stroke()),Ju(y[1])&&(ce=y[1],me=y[2],this.ctx.beginPath(),this.formatPath([new gr(ce.end.x,ce.end.y),new gr(me.start.x,me.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(r){return AA(this,void 0,void 0,function(){var n;return Pl(this,function(s){switch(s.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=So(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=bne(r),[4,this.renderStack(n)];case 1:return s.sent(),this.applyEffects([]),[2,this.canvas]}})})},t})(rD),Pne=function(e){return e instanceof N6||e instanceof Q6?!0:e instanceof $C&&e.type!==U_&&e.type!==F_},One=function(e,t){switch(e){case 0:return P_(t);case 2:return gne(t);case 1:default:return O_(t)}},Dne=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},kne=["-apple-system","system-ui"],Qne=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return kne.indexOf(t)===-1}):e},Nne=(function(e){Dc(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),s.options=n,s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px",s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),s}return t.prototype.render=function(r){return AA(this,void 0,void 0,function(){var n,s;return Pl(this,function(A){switch(A.label){case 0:return n=zB(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,Rne(n)];case 1:return s=A.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=So(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(s,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t})(rD),Rne=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},zne=(function(){function e(t){var r=t.id,n=t.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,zv([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,zv([this.id,this.getTime()+"ms"],t))},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,zv([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,zv([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.instances={},e})(),Hne=(function(){function e(t,r){var n;this.windowBounds=r,this.instanceName="#"+e.instanceCount++,this.logger=new zne({id:this.instanceName,enabled:t.logging}),this.cache=(n=t.cache)!==null&&n!==void 0?n:new lne(this,t)}return e.instanceCount=1,e})(),nD=function(e,t){return t===void 0&&(t={}),jne(e,t)};typeof window<"u"&&Z6.setContext(window);var jne=function(e,t){return AA(void 0,void 0,void 0,function(){var r,n,s,A,f,l,y,w,b,S,U,I,z,H,K,V,re,W,le,ce,Ie,me,Ie,Fe,pe,ze,ie,de,ve,_e,tt,Le,Ne,Ve,We,_t,Te,ne,we,Ue;return Pl(this,function(De){switch(De.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=e.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return s={allowTaint:(Fe=t.allowTaint)!==null&&Fe!==void 0?Fe:!1,imageTimeout:(pe=t.imageTimeout)!==null&&pe!==void 0?pe:15e3,proxy:t.proxy,useCORS:(ze=t.useCORS)!==null&&ze!==void 0?ze:!1},A=SB({logging:(ie=t.logging)!==null&&ie!==void 0?ie:!0,cache:t.cache},s),f={windowWidth:(de=t.windowWidth)!==null&&de!==void 0?de:n.innerWidth,windowHeight:(ve=t.windowHeight)!==null&&ve!==void 0?ve:n.innerHeight,scrollX:(_e=t.scrollX)!==null&&_e!==void 0?_e:n.pageXOffset,scrollY:(tt=t.scrollY)!==null&&tt!==void 0?tt:n.pageYOffset},l=new lf(f.scrollX,f.scrollY,f.windowWidth,f.windowHeight),y=new Hne(A,l),w=(Le=t.foreignObjectRendering)!==null&&Le!==void 0?Le:!1,b={allowTaint:(Ne=t.allowTaint)!==null&&Ne!==void 0?Ne:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:w,copyStyles:w},y.logger.debug("Starting document clone with size "+l.width+"x"+l.height+" scrolled to "+-l.left+","+-l.top),S=new FI(y,e,b),U=S.clonedReferenceElement,U?[4,S.toIFrame(r,l)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return I=De.sent(),z=ZC(U)||Vre(U)?wY(U.ownerDocument):Tw(y,U),H=z.width,K=z.height,V=z.left,re=z.top,W=Kne(y,U,t.backgroundColor),le={canvas:t.canvas,backgroundColor:W,scale:(We=(Ve=t.scale)!==null&&Ve!==void 0?Ve:n.devicePixelRatio)!==null&&We!==void 0?We:1,x:((_t=t.x)!==null&&_t!==void 0?_t:0)+V,y:((Te=t.y)!==null&&Te!==void 0?Te:0)+re,width:(ne=t.width)!==null&&ne!==void 0?ne:Math.ceil(H),height:(we=t.height)!==null&&we!==void 0?we:Math.ceil(K)},w?(y.logger.debug("Document cloned, using foreign object rendering"),Ie=new Nne(y,le),[4,Ie.render(U)]):[3,3];case 2:return ce=De.sent(),[3,5];case 3:return y.logger.debug("Document cloned, element located at "+V+","+re+" with size "+H+"x"+K+" using computed rendering"),y.logger.debug("Starting DOM parsing"),me=H6(y,U),W===me.styles.backgroundColor&&(me.styles.backgroundColor=ef.TRANSPARENT),y.logger.debug("Starting renderer for element at "+le.x+","+le.y+" with size "+le.width+"x"+le.height),Ie=new Mne(y,le),[4,Ie.render(me)];case 4:ce=De.sent(),De.label=5;case 5:return(!((Ue=t.removeContainer)!==null&&Ue!==void 0)||Ue)&&(FI.destroy(I)||y.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),y.logger.debug("Finished rendering"),[2,ce]}})})},Kne=function(e,t,r){var n=t.ownerDocument,s=n.documentElement?I0(e,getComputedStyle(n.documentElement).backgroundColor):ef.TRANSPARENT,A=n.body?I0(e,getComputedStyle(n.body).backgroundColor):ef.TRANSPARENT,f=typeof r=="string"?I0(e,r):r===null?ef.TRANSPARENT:4294967295;return t===n.documentElement?hd(s)?hd(A)?f:A:s:f};const Vne=Object.freeze(Object.defineProperty({__proto__:null,default:nD},Symbol.toStringTag,{value:"Module"})),qne="modulepreload",Gne=function(e){return"/retc-map/"+e},OI={},i2=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){let y=function(w){return Promise.all(w.map(b=>Promise.resolve(b).then(S=>({status:"fulfilled",value:S}),S=>({status:"rejected",reason:S}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),l=f?.nonce||f?.getAttribute("nonce");s=y(r.map(w=>{if(w=Gne(w),w in OI)return;OI[w]=!0;const b=w.endsWith(".css"),S=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${w}"]${S}`))return;const U=document.createElement("link");if(U.rel=b?"stylesheet":qne,b||(U.as="script"),U.crossOrigin="",U.href=w,l&&U.setAttribute("nonce",l),document.head.appendChild(U),b)return new Promise((I,z)=>{U.addEventListener("load",I),U.addEventListener("error",()=>z(new Error(`Unable to preload CSS for ${w}`)))})}))}function A(f){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=f,window.dispatchEvent(l),!l.defaultPrevented)throw f}return s.then(f=>{for(const l of f||[])l.status==="rejected"&&A(l.reason);return t().catch(A)})};function Ni(e){"@babel/helpers - typeof";return Ni=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ni(e)}var Pc=Uint8Array,Bu=Uint16Array,WC=Int32Array,YC=new Pc([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),JC=new Pc([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),DI=new Pc([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),iD=function(e,t){for(var r=new Bu(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var s=new WC(r[30]),n=1;n<30;++n)for(var A=r[n];A<r[n+1];++A)s[A]=A-r[n]<<5|n;return{b:r,r:s}},aD=iD(YC,2),Xne=aD.b,XB=aD.r;Xne[28]=258,XB[258]=28;var $ne=iD(JC,0),kI=$ne.r,$B=new Bu(32768);for(var Ba=0;Ba<32768;++Ba){var Yf=(Ba&43690)>>1|(Ba&21845)<<1;Yf=(Yf&52428)>>2|(Yf&13107)<<2,Yf=(Yf&61680)>>4|(Yf&3855)<<4,$B[Ba]=((Yf&65280)>>8|(Yf&255)<<8)>>1}var M0=(function(e,t,r){for(var n=e.length,s=0,A=new Bu(t);s<n;++s)e[s]&&++A[e[s]-1];var f=new Bu(t);for(s=1;s<t;++s)f[s]=f[s-1]+A[s-1]<<1;var l;if(r){l=new Bu(1<<t);var y=15-t;for(s=0;s<n;++s)if(e[s])for(var w=s<<4|e[s],b=t-e[s],S=f[e[s]-1]++<<b,U=S|(1<<b)-1;S<=U;++S)l[$B[S]>>y]=w}else for(l=new Bu(n),s=0;s<n;++s)e[s]&&(l[s]=$B[f[e[s]-1]++]>>15-e[s]);return l}),Tp=new Pc(288);for(var Ba=0;Ba<144;++Ba)Tp[Ba]=8;for(var Ba=144;Ba<256;++Ba)Tp[Ba]=9;for(var Ba=256;Ba<280;++Ba)Tp[Ba]=7;for(var Ba=280;Ba<288;++Ba)Tp[Ba]=8;var k_=new Pc(32);for(var Ba=0;Ba<32;++Ba)k_[Ba]=5;var Zne=M0(Tp,9,0),Wne=M0(k_,5,0),sD=function(e){return(e+7)/8|0},Yne=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Pc(e.subarray(t,r))},jh=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},g0=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},a2=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var s=r.length,A=r.slice();if(!s)return{t:lD,l:0};if(s==1){var f=new Pc(r[0].s+1);return f[r[0].s]=1,{t:f,l:1}}r.sort(function(ce,me){return ce.f-me.f}),r.push({s:-1,f:25001});var l=r[0],y=r[1],w=0,b=1,S=2;for(r[0]={s:-1,f:l.f+y.f,l,r:y};b!=s-1;)l=r[r[w].f<r[S].f?w++:S++],y=r[w!=b&&r[w].f<r[S].f?w++:S++],r[b++]={s:-1,f:l.f+y.f,l,r:y};for(var U=A[0].s,n=1;n<s;++n)A[n].s>U&&(U=A[n].s);var I=new Bu(U+1),z=ZB(r[b-1],I,0);if(z>t){var n=0,H=0,K=z-t,V=1<<K;for(A.sort(function(me,Ie){return I[Ie.s]-I[me.s]||me.f-Ie.f});n<s;++n){var re=A[n].s;if(I[re]>t)H+=V-(1<<z-I[re]),I[re]=t;else break}for(H>>=K;H>0;){var W=A[n].s;I[W]<t?H-=1<<t-I[W]++-1:++n}for(;n>=0&&H;--n){var le=A[n].s;I[le]==t&&(--I[le],++H)}z=t}return{t:new Pc(I),l:z}},ZB=function(e,t,r){return e.s==-1?Math.max(ZB(e.l,t,r+1),ZB(e.r,t,r+1)):t[e.s]=r},QI=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Bu(++t),n=0,s=e[0],A=1,f=function(y){r[n++]=y},l=1;l<=t;++l)if(e[l]==s&&l!=t)++A;else{if(!s&&A>2){for(;A>138;A-=138)f(32754);A>2&&(f(A>10?A-11<<5|28690:A-3<<5|12305),A=0)}else if(A>3){for(f(s),--A;A>6;A-=6)f(8304);A>2&&(f(A-3<<5|8208),A=0)}for(;A--;)f(s);A=1,s=e[l]}return{c:r.subarray(0,n),n:t}},m0=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},oD=function(e,t,r){var n=r.length,s=sD(t+2);e[s]=n&255,e[s+1]=n>>8,e[s+2]=e[s]^255,e[s+3]=e[s+1]^255;for(var A=0;A<n;++A)e[s+A+4]=r[A];return(s+4+n)*8},NI=function(e,t,r,n,s,A,f,l,y,w,b){jh(t,b++,r),++s[256];for(var S=a2(s,15),U=S.t,I=S.l,z=a2(A,15),H=z.t,K=z.l,V=QI(U),re=V.c,W=V.n,le=QI(H),ce=le.c,me=le.n,Ie=new Bu(19),Fe=0;Fe<re.length;++Fe)++Ie[re[Fe]&31];for(var Fe=0;Fe<ce.length;++Fe)++Ie[ce[Fe]&31];for(var pe=a2(Ie,7),ze=pe.t,ie=pe.l,de=19;de>4&&!ze[DI[de-1]];--de);var ve=w+5<<3,_e=m0(s,Tp)+m0(A,k_)+f,tt=m0(s,U)+m0(A,H)+f+14+3*de+m0(Ie,ze)+2*Ie[16]+3*Ie[17]+7*Ie[18];if(y>=0&&ve<=_e&&ve<=tt)return oD(t,b,e.subarray(y,y+w));var Le,Ne,Ve,We;if(jh(t,b,1+(tt<_e)),b+=2,tt<_e){Le=M0(U,I,0),Ne=U,Ve=M0(H,K,0),We=H;var _t=M0(ze,ie,0);jh(t,b,W-257),jh(t,b+5,me-1),jh(t,b+10,de-4),b+=14;for(var Fe=0;Fe<de;++Fe)jh(t,b+3*Fe,ze[DI[Fe]]);b+=3*de;for(var Te=[re,ce],ne=0;ne<2;++ne)for(var we=Te[ne],Fe=0;Fe<we.length;++Fe){var Ue=we[Fe]&31;jh(t,b,_t[Ue]),b+=ze[Ue],Ue>15&&(jh(t,b,we[Fe]>>5&127),b+=we[Fe]>>12)}}else Le=Zne,Ne=Tp,Ve=Wne,We=k_;for(var Fe=0;Fe<l;++Fe){var De=n[Fe];if(De>255){var Ue=De>>18&31;g0(t,b,Le[Ue+257]),b+=Ne[Ue+257],Ue>7&&(jh(t,b,De>>23&31),b+=YC[Ue]);var Xe=De&31;g0(t,b,Ve[Xe]),b+=We[Xe],Xe>3&&(g0(t,b,De>>5&8191),b+=JC[Xe])}else g0(t,b,Le[De]),b+=Ne[De]}return g0(t,b,Le[256]),b+Ne[256]},Jne=new WC([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),lD=new Pc(0),eie=function(e,t,r,n,s,A){var f=A.z||e.length,l=new Pc(n+f+5*(1+Math.ceil(f/7e3))+s),y=l.subarray(n,l.length-s),w=A.l,b=(A.r||0)&7;if(t){b&&(y[0]=A.r>>3);for(var S=Jne[t-1],U=S>>13,I=S&8191,z=(1<<r)-1,H=A.p||new Bu(32768),K=A.h||new Bu(z+1),V=Math.ceil(r/3),re=2*V,W=function($t){return(e[$t]^e[$t+1]<<V^e[$t+2]<<re)&z},le=new WC(25e3),ce=new Bu(288),me=new Bu(32),Ie=0,Fe=0,pe=A.i||0,ze=0,ie=A.w||0,de=0;pe+2<f;++pe){var ve=W(pe),_e=pe&32767,tt=K[ve];if(H[_e]=tt,K[ve]=_e,ie<=pe){var Le=f-pe;if((Ie>7e3||ze>24576)&&(Le>423||!w)){b=NI(e,y,0,le,ce,me,Fe,ze,de,pe-de,b),ze=Ie=Fe=0,de=pe;for(var Ne=0;Ne<286;++Ne)ce[Ne]=0;for(var Ne=0;Ne<30;++Ne)me[Ne]=0}var Ve=2,We=0,_t=I,Te=_e-tt&32767;if(Le>2&&ve==W(pe-Te))for(var ne=Math.min(U,Le)-1,we=Math.min(32767,pe),Ue=Math.min(258,Le);Te<=we&&--_t&&_e!=tt;){if(e[pe+Ve]==e[pe+Ve-Te]){for(var De=0;De<Ue&&e[pe+De]==e[pe+De-Te];++De);if(De>Ve){if(Ve=De,We=Te,De>ne)break;for(var Xe=Math.min(Te,De-2),Je=0,Ne=0;Ne<Xe;++Ne){var dt=pe-Te+Ne&32767,He=H[dt],ft=dt-He&32767;ft>Je&&(Je=ft,tt=dt)}}}_e=tt,tt=H[_e],Te+=_e-tt&32767}if(We){le[ze++]=268435456|XB[Ve]<<18|kI[We];var It=XB[Ve]&31,ct=kI[We]&31;Fe+=YC[It]+JC[ct],++ce[257+It],++me[ct],ie=pe+Ve,++Ie}else le[ze++]=e[pe],++ce[e[pe]]}}for(pe=Math.max(pe,ie);pe<f;++pe)le[ze++]=e[pe],++ce[e[pe]];b=NI(e,y,w,le,ce,me,Fe,ze,de,pe-de,b),w||(A.r=b&7|y[b/8|0]<<3,b-=7,A.h=K,A.p=H,A.i=pe,A.w=ie)}else{for(var pe=A.w||0;pe<f+w;pe+=65535){var Xt=pe+65535;Xt>=f&&(y[b/8|0]=w,Xt=f),b=oD(y,b+1,e.subarray(pe,Xt))}A.i=f}return Yne(l,0,n+sD(b)+s)},AD=function(){var e=1,t=0;return{p:function(r){for(var n=e,s=t,A=r.length|0,f=0;f!=A;){for(var l=Math.min(f+2655,A);f<l;++f)s+=n+=r[f];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}e=n,t=s},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},tie=function(e,t,r,n,s){if(!s&&(s={l:1},t.dictionary)){var A=t.dictionary.subarray(-32768),f=new Pc(A.length+e.length);f.set(A),f.set(e,A.length),e=f,s.w=A.length}return eie(e,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,s)},uD=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},rie=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var s=AD();s.p(t.dictionary),uD(e,2,s.d())}};function WB(e,t){t||(t={});var r=AD();r.p(e);var n=tie(e,t,t.dictionary?6:2,4);return rie(n,t),uD(n,n.length-4,r.d()),n}var nie=typeof TextDecoder<"u"&&new TextDecoder,iie=0;try{nie.decode(lD,{stream:!0}),iie=1}catch{}function aie(e){if(Array.isArray(e))return e}function sie(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,A,f,l=[],y=!0,w=!1;try{if(A=(r=r.call(e)).next,t!==0)for(;!(y=(n=A.call(r)).done)&&(l.push(n.value),l.length!==t);y=!0);}catch(b){w=!0,s=b}finally{try{if(!y&&r.return!=null&&(f=r.return(),Object(f)!==f))return}finally{if(w)throw s}}return l}}function RI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function oie(e,t){if(e){if(typeof e=="string")return RI(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?RI(e,t):void 0}}function lie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zI(e,t){return aie(e)||sie(e,t)||oie(e,t)||lie()}function HI(e,t="utf8"){return new TextDecoder(t).decode(e)}const Aie=new TextEncoder;function uie(e){return Aie.encode(e)}const cie=1024*8,hie=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),s2={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class eS{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(t=cie,r={}){let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const s=r.offset?r.offset>>>0:0,A=t.byteLength-s;let f=s;(ArrayBuffer.isView(t)||t instanceof eS)&&(t.byteLength!==t.buffer.byteLength&&(f=t.byteOffset+s),t=t.buffer),n?this.lastWrittenByte=A:this.lastWrittenByte=0,this.buffer=t,this.length=A,this.byteLength=A,this.byteOffset=f,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,f,A),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,s=new Uint8Array(n);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=s2[r].BYTES_PER_ELEMENT*t,s=this.byteOffset+this.offset,A=this.buffer.slice(s,s+n);if(this.littleEndian===hie&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(s,s+n));l.reverse();const y=new s2[r](l.buffer);return this.offset+=n,y.reverse(),y}const f=new s2[r](A);return this.offset+=n,f}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return HI(this.readBytes(t))}decodeText(t=1,r="utf8"){return HI(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(uie(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function sm(e){let t=e.length;for(;--t>=0;)e[t]=0}const fie=3,die=258,cD=29,pie=256,gie=pie+1+cD,hD=30,mie=512,yie=new Array((gie+2)*2);sm(yie);const vie=new Array(hD*2);sm(vie);const _ie=new Array(mie);sm(_ie);const wie=new Array(die-fie+1);sm(wie);const bie=new Array(cD);sm(bie);const xie=new Array(hD);sm(xie);const Bie=(e,t,r,n)=>{let s=e&65535|0,A=e>>>16&65535|0,f=0;for(;r!==0;){f=r>2e3?2e3:r,r-=f;do s=s+t[n++]|0,A=A+s|0;while(--f);s%=65521,A%=65521}return s|A<<16|0};var YB=Bie;const Cie=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},Sie=new Uint32Array(Cie()),Eie=(e,t,r,n)=>{const s=Sie,A=n+r;e^=-1;for(let f=n;f<A;f++)e=e>>>8^s[(e^t[f])&255];return e^-1};var Ah=Eie,JB={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},fD={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const Tie=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var Iie=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)Tie(r,n)&&(e[n]=r[n])}}return e},Fie=e=>{let t=0;for(let n=0,s=e.length;n<s;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,s=0,A=e.length;n<A;n++){let f=e[n];r.set(f,s),s+=f.length}return r},dD={assign:Iie,flattenChunks:Fie};let pD=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{pD=!1}const ey=new Uint8Array(256);for(let e=0;e<256;e++)ey[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;ey[254]=ey[254]=1;var Uie=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,s,A,f=e.length,l=0;for(s=0;s<f;s++)r=e.charCodeAt(s),(r&64512)===55296&&s+1<f&&(n=e.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(l),A=0,s=0;A<l;s++)r=e.charCodeAt(s),(r&64512)===55296&&s+1<f&&(n=e.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),r<128?t[A++]=r:r<2048?(t[A++]=192|r>>>6,t[A++]=128|r&63):r<65536?(t[A++]=224|r>>>12,t[A++]=128|r>>>6&63,t[A++]=128|r&63):(t[A++]=240|r>>>18,t[A++]=128|r>>>12&63,t[A++]=128|r>>>6&63,t[A++]=128|r&63);return t};const Lie=(e,t)=>{if(t<65534&&e.subarray&&pD)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var Mie=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,s;const A=new Array(r*2);for(s=0,n=0;n<r;){let f=e[n++];if(f<128){A[s++]=f;continue}let l=ey[f];if(l>4){A[s++]=65533,n+=l-1;continue}for(f&=l===2?31:l===3?15:7;l>1&&n<r;)f=f<<6|e[n++]&63,l--;if(l>1){A[s++]=65533;continue}f<65536?A[s++]=f:(f-=65536,A[s++]=55296|f>>10&1023,A[s++]=56320|f&1023)}return Lie(A,s)},Pie=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+ey[e[r]]>t?r:t},e5={string2buf:Uie,buf2string:Mie,utf8border:Pie};function Oie(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Die=Oie;const u1=16209,kie=16191;var Qie=function(t,r){let n,s,A,f,l,y,w,b,S,U,I,z,H,K,V,re,W,le,ce,me,Ie,Fe,pe,ze;const ie=t.state;n=t.next_in,pe=t.input,s=n+(t.avail_in-5),A=t.next_out,ze=t.output,f=A-(r-t.avail_out),l=A+(t.avail_out-257),y=ie.dmax,w=ie.wsize,b=ie.whave,S=ie.wnext,U=ie.window,I=ie.hold,z=ie.bits,H=ie.lencode,K=ie.distcode,V=(1<<ie.lenbits)-1,re=(1<<ie.distbits)-1;e:do{z<15&&(I+=pe[n++]<<z,z+=8,I+=pe[n++]<<z,z+=8),W=H[I&V];t:for(;;){if(le=W>>>24,I>>>=le,z-=le,le=W>>>16&255,le===0)ze[A++]=W&65535;else if(le&16){ce=W&65535,le&=15,le&&(z<le&&(I+=pe[n++]<<z,z+=8),ce+=I&(1<<le)-1,I>>>=le,z-=le),z<15&&(I+=pe[n++]<<z,z+=8,I+=pe[n++]<<z,z+=8),W=K[I&re];r:for(;;){if(le=W>>>24,I>>>=le,z-=le,le=W>>>16&255,le&16){if(me=W&65535,le&=15,z<le&&(I+=pe[n++]<<z,z+=8,z<le&&(I+=pe[n++]<<z,z+=8)),me+=I&(1<<le)-1,me>y){t.msg="invalid distance too far back",ie.mode=u1;break e}if(I>>>=le,z-=le,le=A-f,me>le){if(le=me-le,le>b&&ie.sane){t.msg="invalid distance too far back",ie.mode=u1;break e}if(Ie=0,Fe=U,S===0){if(Ie+=w-le,le<ce){ce-=le;do ze[A++]=U[Ie++];while(--le);Ie=A-me,Fe=ze}}else if(S<le){if(Ie+=w+S-le,le-=S,le<ce){ce-=le;do ze[A++]=U[Ie++];while(--le);if(Ie=0,S<ce){le=S,ce-=le;do ze[A++]=U[Ie++];while(--le);Ie=A-me,Fe=ze}}}else if(Ie+=S-le,le<ce){ce-=le;do ze[A++]=U[Ie++];while(--le);Ie=A-me,Fe=ze}for(;ce>2;)ze[A++]=Fe[Ie++],ze[A++]=Fe[Ie++],ze[A++]=Fe[Ie++],ce-=3;ce&&(ze[A++]=Fe[Ie++],ce>1&&(ze[A++]=Fe[Ie++]))}else{Ie=A-me;do ze[A++]=ze[Ie++],ze[A++]=ze[Ie++],ze[A++]=ze[Ie++],ce-=3;while(ce>2);ce&&(ze[A++]=ze[Ie++],ce>1&&(ze[A++]=ze[Ie++]))}}else if((le&64)===0){W=K[(W&65535)+(I&(1<<le)-1)];continue r}else{t.msg="invalid distance code",ie.mode=u1;break e}break}}else if((le&64)===0){W=H[(W&65535)+(I&(1<<le)-1)];continue t}else if(le&32){ie.mode=kie;break e}else{t.msg="invalid literal/length code",ie.mode=u1;break e}break}}while(n<s&&A<l);ce=z>>3,n-=ce,z-=ce<<3,I&=(1<<z)-1,t.next_in=n,t.next_out=A,t.avail_in=n<s?5+(s-n):5-(n-s),t.avail_out=A<l?257+(l-A):257-(A-l),ie.hold=I,ie.bits=z};const wg=15,jI=852,KI=592,VI=0,o2=1,qI=2,Nie=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Rie=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),zie=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Hie=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),jie=(e,t,r,n,s,A,f,l)=>{const y=l.bits;let w=0,b=0,S=0,U=0,I=0,z=0,H=0,K=0,V=0,re=0,W,le,ce,me,Ie,Fe=null,pe;const ze=new Uint16Array(wg+1),ie=new Uint16Array(wg+1);let de=null,ve,_e,tt;for(w=0;w<=wg;w++)ze[w]=0;for(b=0;b<n;b++)ze[t[r+b]]++;for(I=y,U=wg;U>=1&&ze[U]===0;U--);if(I>U&&(I=U),U===0)return s[A++]=1<<24|64<<16|0,s[A++]=1<<24|64<<16|0,l.bits=1,0;for(S=1;S<U&&ze[S]===0;S++);for(I<S&&(I=S),K=1,w=1;w<=wg;w++)if(K<<=1,K-=ze[w],K<0)return-1;if(K>0&&(e===VI||U!==1))return-1;for(ie[1]=0,w=1;w<wg;w++)ie[w+1]=ie[w]+ze[w];for(b=0;b<n;b++)t[r+b]!==0&&(f[ie[t[r+b]]++]=b);if(e===VI?(Fe=de=f,pe=20):e===o2?(Fe=Nie,de=Rie,pe=257):(Fe=zie,de=Hie,pe=0),re=0,b=0,w=S,Ie=A,z=I,H=0,ce=-1,V=1<<I,me=V-1,e===o2&&V>jI||e===qI&&V>KI)return 1;for(;;){ve=w-H,f[b]+1<pe?(_e=0,tt=f[b]):f[b]>=pe?(_e=de[f[b]-pe],tt=Fe[f[b]-pe]):(_e=96,tt=0),W=1<<w-H,le=1<<z,S=le;do le-=W,s[Ie+(re>>H)+le]=ve<<24|_e<<16|tt|0;while(le!==0);for(W=1<<w-1;re&W;)W>>=1;if(W!==0?(re&=W-1,re+=W):re=0,b++,--ze[w]===0){if(w===U)break;w=t[r+f[b]]}if(w>I&&(re&me)!==ce){for(H===0&&(H=I),Ie+=S,z=w-H,K=1<<z;z+H<U&&(K-=ze[z+H],!(K<=0));)z++,K<<=1;if(V+=1<<z,e===o2&&V>jI||e===qI&&V>KI)return 1;ce=re&me,s[ce]=I<<24|z<<16|Ie-A|0}}return re!==0&&(s[Ie+re]=w-H<<24|64<<16|0),l.bits=I,0};var P0=jie;const Kie=0,gD=1,mD=2,{Z_FINISH:GI,Z_BLOCK:Vie,Z_TREES:c1,Z_OK:Ip,Z_STREAM_END:qie,Z_NEED_DICT:Gie,Z_STREAM_ERROR:sc,Z_DATA_ERROR:yD,Z_MEM_ERROR:vD,Z_BUF_ERROR:Xie,Z_DEFLATED:XI}=fD,Qw=16180,$I=16181,ZI=16182,WI=16183,YI=16184,JI=16185,eF=16186,tF=16187,rF=16188,nF=16189,Q_=16190,Kh=16191,l2=16192,iF=16193,A2=16194,aF=16195,sF=16196,oF=16197,lF=16198,h1=16199,f1=16200,AF=16201,uF=16202,cF=16203,hF=16204,fF=16205,u2=16206,dF=16207,pF=16208,Pa=16209,_D=16210,wD=16211,$ie=852,Zie=592,Wie=15,Yie=Wie,gF=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function Jie(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Lp=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Qw||t.mode>wD?1:0},bD=e=>{if(Lp(e))return sc;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=Qw,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array($ie),t.distcode=t.distdyn=new Int32Array(Zie),t.sane=1,t.back=-1,Ip},xD=e=>{if(Lp(e))return sc;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,bD(e)},BD=(e,t)=>{let r;if(Lp(e))return sc;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?sc:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,xD(e))},CD=(e,t)=>{if(!e)return sc;const r=new Jie;e.state=r,r.strm=e,r.window=null,r.mode=Qw;const n=BD(e,t);return n!==Ip&&(e.state=null),n},eae=e=>CD(e,Yie);let mF=!0,c2,h2;const tae=e=>{if(mF){c2=new Int32Array(512),h2=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(P0(gD,e.lens,0,288,c2,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;P0(mD,e.lens,0,32,h2,0,e.work,{bits:5}),mF=!1}e.lencode=c2,e.lenbits=9,e.distcode=h2,e.distbits=5},SD=(e,t,r,n)=>{let s;const A=e.state;return A.window===null&&(A.wsize=1<<A.wbits,A.wnext=0,A.whave=0,A.window=new Uint8Array(A.wsize)),n>=A.wsize?(A.window.set(t.subarray(r-A.wsize,r),0),A.wnext=0,A.whave=A.wsize):(s=A.wsize-A.wnext,s>n&&(s=n),A.window.set(t.subarray(r-n,r-n+s),A.wnext),n-=s,n?(A.window.set(t.subarray(r-n,r),0),A.wnext=n,A.whave=A.wsize):(A.wnext+=s,A.wnext===A.wsize&&(A.wnext=0),A.whave<A.wsize&&(A.whave+=s))),0},rae=(e,t)=>{let r,n,s,A,f,l,y,w,b,S,U,I,z,H,K=0,V,re,W,le,ce,me,Ie,Fe;const pe=new Uint8Array(4);let ze,ie;const de=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Lp(e)||!e.output||!e.input&&e.avail_in!==0)return sc;r=e.state,r.mode===Kh&&(r.mode=l2),f=e.next_out,s=e.output,y=e.avail_out,A=e.next_in,n=e.input,l=e.avail_in,w=r.hold,b=r.bits,S=l,U=y,Fe=Ip;e:for(;;)switch(r.mode){case Qw:if(r.wrap===0){r.mode=l2;break}for(;b<16;){if(l===0)break e;l--,w+=n[A++]<<b,b+=8}if(r.wrap&2&&w===35615){r.wbits===0&&(r.wbits=15),r.check=0,pe[0]=w&255,pe[1]=w>>>8&255,r.check=Ah(r.check,pe,2,0),w=0,b=0,r.mode=$I;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((w&255)<<8)+(w>>8))%31){e.msg="incorrect header check",r.mode=Pa;break}if((w&15)!==XI){e.msg="unknown compression method",r.mode=Pa;break}if(w>>>=4,b-=4,Ie=(w&15)+8,r.wbits===0&&(r.wbits=Ie),Ie>15||Ie>r.wbits){e.msg="invalid window size",r.mode=Pa;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=w&512?nF:Kh,w=0,b=0;break;case $I:for(;b<16;){if(l===0)break e;l--,w+=n[A++]<<b,b+=8}if(r.flags=w,(r.flags&255)!==XI){e.msg="unknown compression method",r.mode=Pa;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=Pa;break}r.head&&(r.head.text=w>>8&1),r.flags&512&&r.wrap&4&&(pe[0]=w&255,pe[1]=w>>>8&255,r.check=Ah(r.check,pe,2,0)),w=0,b=0,r.mode=ZI;case ZI:for(;b<32;){if(l===0)break e;l--,w+=n[A++]<<b,b+=8}r.head&&(r.head.time=w),r.flags&512&&r.wrap&4&&(pe[0]=w&255,pe[1]=w>>>8&255,pe[2]=w>>>16&255,pe[3]=w>>>24&255,r.check=Ah(r.check,pe,4,0)),w=0,b=0,r.mode=WI;case WI:for(;b<16;){if(l===0)break e;l--,w+=n[A++]<<b,b+=8}r.head&&(r.head.xflags=w&255,r.head.os=w>>8),r.flags&512&&r.wrap&4&&(pe[0]=w&255,pe[1]=w>>>8&255,r.check=Ah(r.check,pe,2,0)),w=0,b=0,r.mode=YI;case YI:if(r.flags&1024){for(;b<16;){if(l===0)break e;l--,w+=n[A++]<<b,b+=8}r.length=w,r.head&&(r.head.extra_len=w),r.flags&512&&r.wrap&4&&(pe[0]=w&255,pe[1]=w>>>8&255,r.check=Ah(r.check,pe,2,0)),w=0,b=0}else r.head&&(r.head.extra=null);r.mode=JI;case JI:if(r.flags&1024&&(I=r.length,I>l&&(I=l),I&&(r.head&&(Ie=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(A,A+I),Ie)),r.flags&512&&r.wrap&4&&(r.check=Ah(r.check,n,I,A)),l-=I,A+=I,r.length-=I),r.length))break e;r.length=0,r.mode=eF;case eF:if(r.flags&2048){if(l===0)break e;I=0;do Ie=n[A+I++],r.head&&Ie&&r.length<65536&&(r.head.name+=String.fromCharCode(Ie));while(Ie&&I<l);if(r.flags&512&&r.wrap&4&&(r.check=Ah(r.check,n,I,A)),l-=I,A+=I,Ie)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=tF;case tF:if(r.flags&4096){if(l===0)break e;I=0;do Ie=n[A+I++],r.head&&Ie&&r.length<65536&&(r.head.comment+=String.fromCharCode(Ie));while(Ie&&I<l);if(r.flags&512&&r.wrap&4&&(r.check=Ah(r.check,n,I,A)),l-=I,A+=I,Ie)break e}else r.head&&(r.head.comment=null);r.mode=rF;case rF:if(r.flags&512){for(;b<16;){if(l===0)break e;l--,w+=n[A++]<<b,b+=8}if(r.wrap&4&&w!==(r.check&65535)){e.msg="header crc mismatch",r.mode=Pa;break}w=0,b=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Kh;break;case nF:for(;b<32;){if(l===0)break e;l--,w+=n[A++]<<b,b+=8}e.adler=r.check=gF(w),w=0,b=0,r.mode=Q_;case Q_:if(r.havedict===0)return e.next_out=f,e.avail_out=y,e.next_in=A,e.avail_in=l,r.hold=w,r.bits=b,Gie;e.adler=r.check=1,r.mode=Kh;case Kh:if(t===Vie||t===c1)break e;case l2:if(r.last){w>>>=b&7,b-=b&7,r.mode=u2;break}for(;b<3;){if(l===0)break e;l--,w+=n[A++]<<b,b+=8}switch(r.last=w&1,w>>>=1,b-=1,w&3){case 0:r.mode=iF;break;case 1:if(tae(r),r.mode=h1,t===c1){w>>>=2,b-=2;break e}break;case 2:r.mode=sF;break;case 3:e.msg="invalid block type",r.mode=Pa}w>>>=2,b-=2;break;case iF:for(w>>>=b&7,b-=b&7;b<32;){if(l===0)break e;l--,w+=n[A++]<<b,b+=8}if((w&65535)!==(w>>>16^65535)){e.msg="invalid stored block lengths",r.mode=Pa;break}if(r.length=w&65535,w=0,b=0,r.mode=A2,t===c1)break e;case A2:r.mode=aF;case aF:if(I=r.length,I){if(I>l&&(I=l),I>y&&(I=y),I===0)break e;s.set(n.subarray(A,A+I),f),l-=I,A+=I,y-=I,f+=I,r.length-=I;break}r.mode=Kh;break;case sF:for(;b<14;){if(l===0)break e;l--,w+=n[A++]<<b,b+=8}if(r.nlen=(w&31)+257,w>>>=5,b-=5,r.ndist=(w&31)+1,w>>>=5,b-=5,r.ncode=(w&15)+4,w>>>=4,b-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=Pa;break}r.have=0,r.mode=oF;case oF:for(;r.have<r.ncode;){for(;b<3;){if(l===0)break e;l--,w+=n[A++]<<b,b+=8}r.lens[de[r.have++]]=w&7,w>>>=3,b-=3}for(;r.have<19;)r.lens[de[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,ze={bits:r.lenbits},Fe=P0(Kie,r.lens,0,19,r.lencode,0,r.work,ze),r.lenbits=ze.bits,Fe){e.msg="invalid code lengths set",r.mode=Pa;break}r.have=0,r.mode=lF;case lF:for(;r.have<r.nlen+r.ndist;){for(;K=r.lencode[w&(1<<r.lenbits)-1],V=K>>>24,re=K>>>16&255,W=K&65535,!(V<=b);){if(l===0)break e;l--,w+=n[A++]<<b,b+=8}if(W<16)w>>>=V,b-=V,r.lens[r.have++]=W;else{if(W===16){for(ie=V+2;b<ie;){if(l===0)break e;l--,w+=n[A++]<<b,b+=8}if(w>>>=V,b-=V,r.have===0){e.msg="invalid bit length repeat",r.mode=Pa;break}Ie=r.lens[r.have-1],I=3+(w&3),w>>>=2,b-=2}else if(W===17){for(ie=V+3;b<ie;){if(l===0)break e;l--,w+=n[A++]<<b,b+=8}w>>>=V,b-=V,Ie=0,I=3+(w&7),w>>>=3,b-=3}else{for(ie=V+7;b<ie;){if(l===0)break e;l--,w+=n[A++]<<b,b+=8}w>>>=V,b-=V,Ie=0,I=11+(w&127),w>>>=7,b-=7}if(r.have+I>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=Pa;break}for(;I--;)r.lens[r.have++]=Ie}}if(r.mode===Pa)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=Pa;break}if(r.lenbits=9,ze={bits:r.lenbits},Fe=P0(gD,r.lens,0,r.nlen,r.lencode,0,r.work,ze),r.lenbits=ze.bits,Fe){e.msg="invalid literal/lengths set",r.mode=Pa;break}if(r.distbits=6,r.distcode=r.distdyn,ze={bits:r.distbits},Fe=P0(mD,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,ze),r.distbits=ze.bits,Fe){e.msg="invalid distances set",r.mode=Pa;break}if(r.mode=h1,t===c1)break e;case h1:r.mode=f1;case f1:if(l>=6&&y>=258){e.next_out=f,e.avail_out=y,e.next_in=A,e.avail_in=l,r.hold=w,r.bits=b,Qie(e,U),f=e.next_out,s=e.output,y=e.avail_out,A=e.next_in,n=e.input,l=e.avail_in,w=r.hold,b=r.bits,r.mode===Kh&&(r.back=-1);break}for(r.back=0;K=r.lencode[w&(1<<r.lenbits)-1],V=K>>>24,re=K>>>16&255,W=K&65535,!(V<=b);){if(l===0)break e;l--,w+=n[A++]<<b,b+=8}if(re&&(re&240)===0){for(le=V,ce=re,me=W;K=r.lencode[me+((w&(1<<le+ce)-1)>>le)],V=K>>>24,re=K>>>16&255,W=K&65535,!(le+V<=b);){if(l===0)break e;l--,w+=n[A++]<<b,b+=8}w>>>=le,b-=le,r.back+=le}if(w>>>=V,b-=V,r.back+=V,r.length=W,re===0){r.mode=fF;break}if(re&32){r.back=-1,r.mode=Kh;break}if(re&64){e.msg="invalid literal/length code",r.mode=Pa;break}r.extra=re&15,r.mode=AF;case AF:if(r.extra){for(ie=r.extra;b<ie;){if(l===0)break e;l--,w+=n[A++]<<b,b+=8}r.length+=w&(1<<r.extra)-1,w>>>=r.extra,b-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=uF;case uF:for(;K=r.distcode[w&(1<<r.distbits)-1],V=K>>>24,re=K>>>16&255,W=K&65535,!(V<=b);){if(l===0)break e;l--,w+=n[A++]<<b,b+=8}if((re&240)===0){for(le=V,ce=re,me=W;K=r.distcode[me+((w&(1<<le+ce)-1)>>le)],V=K>>>24,re=K>>>16&255,W=K&65535,!(le+V<=b);){if(l===0)break e;l--,w+=n[A++]<<b,b+=8}w>>>=le,b-=le,r.back+=le}if(w>>>=V,b-=V,r.back+=V,re&64){e.msg="invalid distance code",r.mode=Pa;break}r.offset=W,r.extra=re&15,r.mode=cF;case cF:if(r.extra){for(ie=r.extra;b<ie;){if(l===0)break e;l--,w+=n[A++]<<b,b+=8}r.offset+=w&(1<<r.extra)-1,w>>>=r.extra,b-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=Pa;break}r.mode=hF;case hF:if(y===0)break e;if(I=U-y,r.offset>I){if(I=r.offset-I,I>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=Pa;break}I>r.wnext?(I-=r.wnext,z=r.wsize-I):z=r.wnext-I,I>r.length&&(I=r.length),H=r.window}else H=s,z=f-r.offset,I=r.length;I>y&&(I=y),y-=I,r.length-=I;do s[f++]=H[z++];while(--I);r.length===0&&(r.mode=f1);break;case fF:if(y===0)break e;s[f++]=r.length,y--,r.mode=f1;break;case u2:if(r.wrap){for(;b<32;){if(l===0)break e;l--,w|=n[A++]<<b,b+=8}if(U-=y,e.total_out+=U,r.total+=U,r.wrap&4&&U&&(e.adler=r.check=r.flags?Ah(r.check,s,U,f-U):YB(r.check,s,U,f-U)),U=y,r.wrap&4&&(r.flags?w:gF(w))!==r.check){e.msg="incorrect data check",r.mode=Pa;break}w=0,b=0}r.mode=dF;case dF:if(r.wrap&&r.flags){for(;b<32;){if(l===0)break e;l--,w+=n[A++]<<b,b+=8}if(r.wrap&4&&w!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=Pa;break}w=0,b=0}r.mode=pF;case pF:Fe=qie;break e;case Pa:Fe=yD;break e;case _D:return vD;case wD:default:return sc}return e.next_out=f,e.avail_out=y,e.next_in=A,e.avail_in=l,r.hold=w,r.bits=b,(r.wsize||U!==e.avail_out&&r.mode<Pa&&(r.mode<u2||t!==GI))&&SD(e,e.output,e.next_out,U-e.avail_out),S-=e.avail_in,U-=e.avail_out,e.total_in+=S,e.total_out+=U,r.total+=U,r.wrap&4&&U&&(e.adler=r.check=r.flags?Ah(r.check,s,U,e.next_out-U):YB(r.check,s,U,e.next_out-U)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Kh?128:0)+(r.mode===h1||r.mode===A2?256:0),(S===0&&U===0||t===GI)&&Fe===Ip&&(Fe=Xie),Fe},nae=e=>{if(Lp(e))return sc;let t=e.state;return t.window&&(t.window=null),e.state=null,Ip},iae=(e,t)=>{if(Lp(e))return sc;const r=e.state;return(r.wrap&2)===0?sc:(r.head=t,t.done=!1,Ip)},aae=(e,t)=>{const r=t.length;let n,s,A;return Lp(e)||(n=e.state,n.wrap!==0&&n.mode!==Q_)?sc:n.mode===Q_&&(s=1,s=YB(s,t,r,0),s!==n.check)?yD:(A=SD(e,t,r,r),A?(n.mode=_D,vD):(n.havedict=1,Ip))};var sae=xD,oae=BD,lae=bD,Aae=eae,uae=CD,cae=rae,hae=nae,fae=iae,dae=aae,pae="pako inflate (from Nodeca project)",qh={inflateReset:sae,inflateReset2:oae,inflateResetKeep:lae,inflateInit:Aae,inflateInit2:uae,inflate:cae,inflateEnd:hae,inflateGetHeader:fae,inflateSetDictionary:dae,inflateInfo:pae};function gae(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var mae=gae;const ED=Object.prototype.toString,{Z_NO_FLUSH:yae,Z_FINISH:vae,Z_OK:ty,Z_STREAM_END:f2,Z_NEED_DICT:d2,Z_STREAM_ERROR:_ae,Z_DATA_ERROR:yF,Z_MEM_ERROR:wae}=fD;function By(e){this.options=dD.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Die,this.strm.avail_out=0;let r=qh.inflateInit2(this.strm,t.windowBits);if(r!==ty)throw new Error(JB[r]);if(this.header=new mae,qh.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=e5.string2buf(t.dictionary):ED.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=qh.inflateSetDictionary(this.strm,t.dictionary),r!==ty)))throw new Error(JB[r])}By.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,s=this.options.dictionary;let A,f,l;if(this.ended)return!1;for(t===~~t?f=t:f=t===!0?vae:yae,ED.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),A=qh.inflate(r,f),A===d2&&s&&(A=qh.inflateSetDictionary(r,s),A===ty?A=qh.inflate(r,f):A===yF&&(A=d2));r.avail_in>0&&A===f2&&r.state.wrap>0&&e[r.next_in]!==0;)qh.inflateReset(r),A=qh.inflate(r,f);switch(A){case _ae:case yF:case d2:case wae:return this.onEnd(A),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||A===f2))if(this.options.to==="string"){let y=e5.utf8border(r.output,r.next_out),w=r.next_out-y,b=e5.buf2string(r.output,y);r.next_out=w,r.avail_out=n-w,w&&r.output.set(r.output.subarray(y,y+w),0),this.onData(b)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(A===ty&&l===0)){if(A===f2)return A=qh.inflateEnd(this.strm),this.onEnd(A),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};By.prototype.onData=function(e){this.chunks.push(e)};By.prototype.onEnd=function(e){e===ty&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=dD.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function bae(e,t){const r=new By(t);if(r.push(e),r.err)throw r.msg||JB[r.err];return r.result}var xae=By,Bae=bae,Cae={Inflate:xae,inflate:Bae};const{Inflate:Sae,inflate:Eae}=Cae;var vF=Sae,Tae=Eae;const TD=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;TD[e]=t}const _F=4294967295;function Iae(e,t,r){let n=e;for(let s=0;s<r;s++)n=TD[(n^t[s])&255]^n>>>8;return n}function Fae(e,t){return(Iae(_F,e,t)^_F)>>>0}function wF(e,t,r){const n=e.readUint32(),s=Fae(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(s!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${s}`)}function ID(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function FD(e,t,r,n){let s=0;for(;s<n;s++)t[s]=e[s];for(;s<r;s++)t[s]=e[s]+t[s-n]&255}function UD(e,t,r,n){let s=0;if(r.length===0)for(;s<n;s++)t[s]=e[s];else for(;s<n;s++)t[s]=e[s]+r[s]&255}function LD(e,t,r,n,s){let A=0;if(r.length===0){for(;A<s;A++)t[A]=e[A];for(;A<n;A++)t[A]=e[A]+(t[A-s]>>1)&255}else{for(;A<s;A++)t[A]=e[A]+(r[A]>>1)&255;for(;A<n;A++)t[A]=e[A]+(t[A-s]+r[A]>>1)&255}}function MD(e,t,r,n,s){let A=0;if(r.length===0){for(;A<s;A++)t[A]=e[A];for(;A<n;A++)t[A]=e[A]+t[A-s]&255}else{for(;A<s;A++)t[A]=e[A]+r[A]&255;for(;A<n;A++)t[A]=e[A]+Uae(t[A-s],r[A],r[A-s])&255}}function Uae(e,t,r){const n=e+t-r,s=Math.abs(n-e),A=Math.abs(n-t),f=Math.abs(n-r);return s<=A&&s<=f?e:A<=f?t:r}function Lae(e,t,r,n,s,A){switch(e){case 0:ID(t,r,s);break;case 1:FD(t,r,s,A);break;case 2:UD(t,r,n,s);break;case 3:LD(t,r,n,s,A);break;case 4:MD(t,r,n,s,A);break;default:throw new Error(`Unsupported filter: ${e}`)}}const Mae=new Uint16Array([255]),Pae=new Uint8Array(Mae.buffer),Oae=Pae[0]===255;function Dae(e){const{data:t,width:r,height:n,channels:s,depth:A}=e,f=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(A/8)*s,y=new Uint8Array(n*r*l);let w=0;for(let b=0;b<7;b++){const S=f[b],U=Math.ceil((r-S.x)/S.xStep),I=Math.ceil((n-S.y)/S.yStep);if(U<=0||I<=0)continue;const z=U*l,H=new Uint8Array(z);for(let K=0;K<I;K++){const V=t[w++],re=t.subarray(w,w+z);w+=z;const W=new Uint8Array(z);Lae(V,re,W,H,z,l),H.set(W);for(let le=0;le<U;le++){const ce=S.x+le*S.xStep,me=S.y+K*S.yStep;if(!(ce>=r||me>=n))for(let Ie=0;Ie<l;Ie++)y[(me*r+ce)*l+Ie]=W[le*l+Ie]}}}if(A===16){const b=new Uint16Array(y.buffer);if(Oae)for(let S=0;S<b.length;S++)b[S]=kae(b[S]);return b}else return y}function kae(e){return(e&255)<<8|e>>8&255}const Qae=new Uint16Array([255]),Nae=new Uint8Array(Qae.buffer),Rae=Nae[0]===255,zae=new Uint8Array(0);function bF(e){const{data:t,width:r,height:n,channels:s,depth:A}=e,f=Math.ceil(A/8)*s,l=Math.ceil(A/8*s*r),y=new Uint8Array(n*l);let w=zae,b=0,S,U;for(let I=0;I<n;I++){switch(S=t.subarray(b+1,b+1+l),U=y.subarray(I*l,(I+1)*l),t[b]){case 0:ID(S,U,l);break;case 1:FD(S,U,l,f);break;case 2:UD(S,U,w,l);break;case 3:LD(S,U,w,l,f);break;case 4:MD(S,U,w,l,f);break;default:throw new Error(`Unsupported filter: ${t[b]}`)}w=U,b+=l+1}if(A===16){const I=new Uint16Array(y.buffer);if(Rae)for(let z=0;z<I.length;z++)I[z]=Hae(I[z]);return I}else return y}function Hae(e){return(e&255)<<8|e>>8&255}const I1=Uint8Array.of(137,80,78,71,13,10,26,10);function xF(e){if(!jae(e.readBytes(I1.length)))throw new Error("wrong PNG signature")}function jae(e){if(e.length<I1.length)return!1;for(let t=0;t<I1.length;t++)if(e[t]!==I1[t])return!1;return!0}const Kae="tEXt",Vae=0,PD=new TextDecoder("latin1");function qae(e){if(Xae(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const Gae=/^[\u0000-\u00FF]*$/;function Xae(e){if(!Gae.test(e))throw new Error("invalid latin1 text")}function $ae(e,t,r){const n=OD(t);e[n]=Zae(t,r-n.length-1)}function OD(e){for(e.mark();e.readByte()!==Vae;);const t=e.offset;e.reset();const r=PD.decode(e.readBytes(t-e.offset-1));return e.skip(1),qae(r),r}function Zae(e,t){return PD.decode(e.readBytes(t))}const vu={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},p2={UNKNOWN:-1,DEFLATE:0},BF={UNKNOWN:-1,ADAPTIVE:0},g2={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},d1={NONE:0,BACKGROUND:1,PREVIOUS:2},m2={SOURCE:0,OVER:1};class Wae extends eS{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(t,r={}){super(t);const{checkCrc:n=!1}=r;this._checkCrc=n,this._inflator=new vF,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=p2.UNKNOWN,this._filterMethod=BF.UNKNOWN,this._interlaceMethod=g2.UNKNOWN,this._colorType=vu.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(xF(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeChunk(t,r)}return this.decodeImage(),this._png}decodeApng(){for(xF(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(t,r)}return this.decodeApngImage(),this._apng}decodeChunk(t,r){const n=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case Kae:$ae(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-n!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?wF(this,t+4,r):this.skip(4)}decodeApngChunk(t,r){const n=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,r),this.offset=n+t;break}if(this.offset-n!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?wF(this,t+4,r):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=Yae(this.readUint8());const r=this.readUint8();this._colorType=r;let n;switch(r){case vu.GREYSCALE:n=1;break;case vu.TRUECOLOUR:n=3;break;case vu.INDEXED_COLOUR:n=1;break;case vu.GREYSCALE_ALPHA:n=2;break;case vu.TRUECOLOUR_ALPHA:n=4;break;case vu.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==p2.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const r=t/3;this._hasPalette=!0;const n=[];this._palette=n;for(let s=0;s<r;s++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const r=t,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let r=t,n=this.offset+this.byteOffset;if(n+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case vu.GREYSCALE:case vu.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let r=0;r<t/2;r++)this._transparency[r]=this.readUint16();break}case vu.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let r=0;for(;r<t;r++){const n=this.readByte();this._palette[r].push(n)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case vu.UNKNOWN:case vu.GREYSCALE_ALPHA:case vu.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const r=OD(this),n=this.readUint8();if(n!==p2.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const s=this.readBytes(t-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:Tae(s)}}decodepHYs(){const t=this.readUint32(),r=this.readUint32(),n=this.readByte();this._png.resolution={x:t,y:r,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const r={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(t);if(n){if(n.data=bF({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)r.data=n.data;else{const s=this._apng.frames.at(t-1);this.disposeFrame(n,s,r),this.addFrameDataToCanvas(r,n)}this._apng.frames.push(r)}}return this._apng}disposeFrame(t,r,n){switch(t.disposeOp){case d1.NONE:break;case d1.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let A=0;A<this._png.width;A++){const f=(s*t.width+A)*this._png.channels;for(let l=0;l<this._png.channels;l++)n.data[f+l]=0}break;case d1.PREVIOUS:n.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,r){const n=1<<this._png.depth,s=(A,f)=>{const l=((A+r.yOffset)*this._png.width+r.xOffset+f)*this._png.channels,y=(A*r.width+f)*this._png.channels;return{index:l,frameIndex:y}};switch(r.blendOp){case m2.SOURCE:for(let A=0;A<r.height;A++)for(let f=0;f<r.width;f++){const{index:l,frameIndex:y}=s(A,f);for(let w=0;w<this._png.channels;w++)t.data[l+w]=r.data[y+w]}break;case m2.OVER:for(let A=0;A<r.height;A++)for(let f=0;f<r.width;f++){const{index:l,frameIndex:y}=s(A,f);for(let w=0;w<this._png.channels;w++){const b=r.data[y+this._png.channels-1]/n,S=w%(this._png.channels-1)===0?1:r.data[y+w],U=Math.floor(b*S+(1-b)*t.data[l+w]);t.data[l+w]+=U}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==BF.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===g2.NO_INTERLACE)this._png.data=bF({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===g2.ADAM7)this._png.data=Dae({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,r=this._frames.at(-1);r?r.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:d1.NONE,blendOp:m2.SOURCE,data:t}),this._inflator=new vF,this._writingDataChunks=!1}}function Yae(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var CF;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(CF||(CF={}));function Jae(e,t){return new Wae(e,t).decode()}var mn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function y2(){mn.console&&typeof mn.console.log=="function"&&mn.console.log.apply(mn.console,arguments)}var aa={log:y2,warn:function(e){mn.console&&(typeof mn.console.warn=="function"?mn.console.warn.apply(mn.console,arguments):y2.call(null,arguments))},error:function(e){mn.console&&(typeof mn.console.error=="function"?mn.console.error.apply(mn.console,arguments):y2(e))}};function v2(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){lp(n.response,t,r)},n.onerror=function(){aa.error("could not download file")},n.send()}function SF(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function p1(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var lp=mn.saveAs||((typeof window>"u"?"undefined":Ni(window))!=="object"||window!==mn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=mn.URL||mn.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?SF(s.href)?v2(e,t,r):p1(s,s.target="_blank"):p1(s)):(s.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){p1(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(SF(e))v2(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){p1(n)})}else navigator.msSaveOrOpenBlob((function(s,A){return A===void 0?A={autoBom:!1}:Ni(A)!=="object"&&(aa.warn("Deprecated: Expected third argument to be a object"),A={autoBom:!A}),A.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s})(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return v2(e,t,r);var s=e.type==="application/octet-stream",A=/constructor/i.test(mn.HTMLElement)||mn.safari,f=/CriOS\/[\d]+/.test(navigator.userAgent);if((f||s&&A)&&(typeof FileReader>"u"?"undefined":Ni(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var b=l.result;b=f?b:b.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=b:location=b,n=null},l.readAsDataURL(e)}else{var y=mn.URL||mn.webkitURL,w=y.createObjectURL(e);n?n.location=w:location.href=w,n=null,setTimeout(function(){y.revokeObjectURL(w)},4e4)}});function DD(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var s=r[n].re,A=r[n].process,f=s.exec(e);f&&(t=A(f),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),y=this.g.toString(16),w=this.b.toString(16);return l.length==1&&(l="0"+l),y.length==1&&(y="0"+y),w.length==1&&(w="0"+w),"#"+l+y+w}}var F1=mn.atob.bind(mn),EF=mn.btoa.bind(mn);function _2(e,t){var r=e[0],n=e[1],s=e[2],A=e[3];r=Fl(r,n,s,A,t[0],7,-680876936),A=Fl(A,r,n,s,t[1],12,-389564586),s=Fl(s,A,r,n,t[2],17,606105819),n=Fl(n,s,A,r,t[3],22,-1044525330),r=Fl(r,n,s,A,t[4],7,-176418897),A=Fl(A,r,n,s,t[5],12,1200080426),s=Fl(s,A,r,n,t[6],17,-1473231341),n=Fl(n,s,A,r,t[7],22,-45705983),r=Fl(r,n,s,A,t[8],7,1770035416),A=Fl(A,r,n,s,t[9],12,-1958414417),s=Fl(s,A,r,n,t[10],17,-42063),n=Fl(n,s,A,r,t[11],22,-1990404162),r=Fl(r,n,s,A,t[12],7,1804603682),A=Fl(A,r,n,s,t[13],12,-40341101),s=Fl(s,A,r,n,t[14],17,-1502002290),r=Ul(r,n=Fl(n,s,A,r,t[15],22,1236535329),s,A,t[1],5,-165796510),A=Ul(A,r,n,s,t[6],9,-1069501632),s=Ul(s,A,r,n,t[11],14,643717713),n=Ul(n,s,A,r,t[0],20,-373897302),r=Ul(r,n,s,A,t[5],5,-701558691),A=Ul(A,r,n,s,t[10],9,38016083),s=Ul(s,A,r,n,t[15],14,-660478335),n=Ul(n,s,A,r,t[4],20,-405537848),r=Ul(r,n,s,A,t[9],5,568446438),A=Ul(A,r,n,s,t[14],9,-1019803690),s=Ul(s,A,r,n,t[3],14,-187363961),n=Ul(n,s,A,r,t[8],20,1163531501),r=Ul(r,n,s,A,t[13],5,-1444681467),A=Ul(A,r,n,s,t[2],9,-51403784),s=Ul(s,A,r,n,t[7],14,1735328473),r=Ll(r,n=Ul(n,s,A,r,t[12],20,-1926607734),s,A,t[5],4,-378558),A=Ll(A,r,n,s,t[8],11,-2022574463),s=Ll(s,A,r,n,t[11],16,1839030562),n=Ll(n,s,A,r,t[14],23,-35309556),r=Ll(r,n,s,A,t[1],4,-1530992060),A=Ll(A,r,n,s,t[4],11,1272893353),s=Ll(s,A,r,n,t[7],16,-155497632),n=Ll(n,s,A,r,t[10],23,-1094730640),r=Ll(r,n,s,A,t[13],4,681279174),A=Ll(A,r,n,s,t[0],11,-358537222),s=Ll(s,A,r,n,t[3],16,-722521979),n=Ll(n,s,A,r,t[6],23,76029189),r=Ll(r,n,s,A,t[9],4,-640364487),A=Ll(A,r,n,s,t[12],11,-421815835),s=Ll(s,A,r,n,t[15],16,530742520),r=Ml(r,n=Ll(n,s,A,r,t[2],23,-995338651),s,A,t[0],6,-198630844),A=Ml(A,r,n,s,t[7],10,1126891415),s=Ml(s,A,r,n,t[14],15,-1416354905),n=Ml(n,s,A,r,t[5],21,-57434055),r=Ml(r,n,s,A,t[12],6,1700485571),A=Ml(A,r,n,s,t[3],10,-1894986606),s=Ml(s,A,r,n,t[10],15,-1051523),n=Ml(n,s,A,r,t[1],21,-2054922799),r=Ml(r,n,s,A,t[8],6,1873313359),A=Ml(A,r,n,s,t[15],10,-30611744),s=Ml(s,A,r,n,t[6],15,-1560198380),n=Ml(n,s,A,r,t[13],21,1309151649),r=Ml(r,n,s,A,t[4],6,-145523070),A=Ml(A,r,n,s,t[11],10,-1120210379),s=Ml(s,A,r,n,t[2],15,718787259),n=Ml(n,s,A,r,t[9],21,-343485551),e[0]=Ad(r,e[0]),e[1]=Ad(n,e[1]),e[2]=Ad(s,e[2]),e[3]=Ad(A,e[3])}function Nw(e,t,r,n,s,A){return t=Ad(Ad(t,e),Ad(n,A)),Ad(t<<s|t>>>32-s,r)}function Fl(e,t,r,n,s,A,f){return Nw(t&r|~t&n,e,t,s,A,f)}function Ul(e,t,r,n,s,A,f){return Nw(t&n|r&~n,e,t,s,A,f)}function Ll(e,t,r,n,s,A,f){return Nw(t^r^n,e,t,s,A,f)}function Ml(e,t,r,n,s,A,f){return Nw(r^(t|~n),e,t,s,A,f)}function kD(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)_2(n,ese(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(_2(n,s),t=0;t<16;t++)s[t]=0;return s[14]=8*r,_2(n,s),n}function ese(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var TF="0123456789abcdef".split("");function tse(e){for(var t="",r=0;r<4;r++)t+=TF[e>>8*r+4&15]+TF[e>>8*r&15];return t}function rse(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function t5(e){return kD(e).map(rse).join("")}var nse=(function(e){for(var t=0;t<e.length;t++)e[t]=tse(e[t]);return e.join("")})(kD("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ad(e,t){if(nse){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}function r5(e,t){var r,n,s,A;if(e!==r){for(var f=(s=e,A=1+(256/e.length|0),new Array(A+1).join(s)),l=[],y=0;y<256;y++)l[y]=y;var w=0;for(y=0;y<256;y++){var b=l[y];w=(w+b+f.charCodeAt(y))%256,l[y]=l[w],l[w]=b}r=e,n=l}else l=n;var S=t.length,U=0,I=0,z="";for(y=0;y<S;y++)I=(I+(b=l[U=(U+1)%256]))%256,l[U]=l[I],l[I]=b,f=l[(l[U]+l[I])%256],z+=String.fromCharCode(t.charCodeAt(y)^f);return z}var IF={print:4,modify:8,copy:16,"annot-forms":32};function Eg(e,t,r,n){this.v=1,this.r=2;var s=192;e.forEach(function(l){if(IF.perm!==void 0)throw new Error("Invalid permission: "+l);s+=IF[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var A=(t+this.padding).substr(0,32),f=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(A,f),this.P=-(1+(255^s)),this.encryptionKey=t5(A+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=r5(this.encryptionKey,this.padding)}function Tg(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var s=e.charCodeAt(n);t+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):e[n]}return t}function FF(e){if(Ni(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,s){if(s=s||!1,typeof r!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var A=Math.random().toString(35);return t[r][A]=[n,!!s],A},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var A in t[r]){var f=t[r][A];try{f[0].apply(e,n)}catch(l){mn.console&&aa.error("jsPDF PubSub Error",l.message,l)}f[1]&&s.push(A)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function N_(e){if(!(this instanceof N_))return new N_(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function QD(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function up(e,t,r,n,s){if(!(this instanceof up))return new up(e,t,r,n,s);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,QD.call(this,n,s)}function Lg(e,t,r,n,s){if(!(this instanceof Lg))return new Lg(e,t,r,n,s);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,QD.call(this,n,s)}function Vr(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],A=arguments[3],f=[],l=1,y=16,w="S",b=null;Ni(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,s=e.format||s,A=e.compress||e.compressPdf||A,(b=e.encryption||null)!==null&&(b.userPassword=b.userPassword||"",b.ownerPassword=b.ownerPassword||"",b.userPermissions=b.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(y=e.floatPrecision),w=e.defaultPathOperation||"S"),f=e.filters||(A===!0?["FlateEncode"]:f),n=n||"mm",r=(""+(r||"P")).toLowerCase();var S=e.putOnlyUsedFonts||!1,U={},I={internal:{},__private__:{}};I.__private__.PubSub=FF;var z="1.3",H=I.__private__.getPdfVersion=function(){return z};I.__private__.setPdfVersion=function(j){z=j};var K={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};I.__private__.getPageFormats=function(){return K};var V=I.__private__.getPageFormat=function(j){return K[j]};s=s||"a4";var re="compat",W="advanced",le=re;function ce(){this.saveGraphicsState(),Pe(new je(Pr,0,0,-Pr,0,ll()*Pr).toString()+" cm"),this.setFontSize(this.getFontSize()/Pr),w="n",le=W}function me(){this.restoreGraphicsState(),w="S",le=re}var Ie=I.__private__.combineFontStyleAndFontWeight=function(j,fe){if(j=="bold"&&fe=="normal"||j=="bold"&&fe==400||j=="normal"&&fe=="italic"||j=="bold"&&fe=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return fe&&(j=fe==400||fe==="normal"?j==="italic"?"italic":"normal":fe!=700&&fe!=="bold"||j!=="normal"?(fe==700?"bold":fe)+""+j:"bold"),j};I.advancedAPI=function(j){var fe=le===re;return fe&&ce.call(this),typeof j!="function"||(j(this),fe&&me.call(this)),this},I.compatAPI=function(j){var fe=le===W;return fe&&me.call(this),typeof j!="function"||(j(this),fe&&ce.call(this)),this},I.isAdvancedAPI=function(){return le===W};var Fe,pe=function(j){if(le!==W)throw new Error(j+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ze=I.roundToPrecision=I.__private__.roundToPrecision=function(j,fe){var Qe=t||fe;if(isNaN(j)||isNaN(Qe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return j.toFixed(Qe).replace(/0+$/,"")};Fe=I.hpf=I.__private__.hpf=typeof y=="number"?function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return ze(j,y)}:y==="smart"?function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return ze(j,j>-1&&j<1?16:5)}:function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return ze(j,16)};var ie=I.f2=I.__private__.f2=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.f2");return ze(j,2)},de=I.__private__.f3=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.f3");return ze(j,3)},ve=I.scale=I.__private__.scale=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.scale");return le===re?j*Pr:le===W?j:void 0},_e=function(j){return ve((function(fe){return le===re?ll()-fe:le===W?fe:void 0})(j))};I.__private__.setPrecision=I.setPrecision=function(j){typeof parseInt(j,10)=="number"&&(t=parseInt(j,10))};var tt,Le="00000000000000000000000000000000",Ne=I.__private__.getFileId=function(){return Le},Ve=I.__private__.setFileId=function(j){return Le=j!==void 0&&/^[a-fA-F0-9]{32}$/.test(j)?j.toUpperCase():Le.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),b!==null&&(Ri=new Eg(b.userPermissions,b.userPassword,b.ownerPassword,Le)),Le};I.setFileId=function(j){return Ve(j),this},I.getFileId=function(){return Ne()};var We=I.__private__.convertDateToPDFDate=function(j){var fe=j.getTimezoneOffset(),Qe=fe<0?"+":"-",rt=Math.floor(Math.abs(fe/60)),lt=Math.abs(fe%60),Ot=[Qe,Ue(rt),"'",Ue(lt),"'"].join("");return["D:",j.getFullYear(),Ue(j.getMonth()+1),Ue(j.getDate()),Ue(j.getHours()),Ue(j.getMinutes()),Ue(j.getSeconds()),Ot].join("")},_t=I.__private__.convertPDFDateToDate=function(j){var fe=parseInt(j.substr(2,4),10),Qe=parseInt(j.substr(6,2),10)-1,rt=parseInt(j.substr(8,2),10),lt=parseInt(j.substr(10,2),10),Ot=parseInt(j.substr(12,2),10),jt=parseInt(j.substr(14,2),10);return new Date(fe,Qe,rt,lt,Ot,jt,0)},Te=I.__private__.setCreationDate=function(j){var fe;if(j===void 0&&(j=new Date),j instanceof Date)fe=We(j);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(j))throw new Error("Invalid argument passed to jsPDF.setCreationDate");fe=j}return tt=fe},ne=I.__private__.getCreationDate=function(j){var fe=tt;return j==="jsDate"&&(fe=_t(tt)),fe};I.setCreationDate=function(j){return Te(j),this},I.getCreationDate=function(j){return ne(j)};var we,Ue=I.__private__.padd2=function(j){return("0"+parseInt(j)).slice(-2)},De=I.__private__.padd2Hex=function(j){return("00"+(j=j.toString())).substr(j.length)},Xe=0,Je=[],dt=[],He=0,ft=[],It=[],ct=!1,Xt=dt;I.__private__.setCustomOutputDestination=function(j){ct=!0,Xt=j};var $t=function(j){ct||(Xt=j)};I.__private__.resetCustomOutputDestination=function(){ct=!1,Xt=dt};var Pe=I.__private__.out=function(j){return j=j.toString(),He+=j.length+1,Xt.push(j),Xt},Ze=I.__private__.write=function(j){return Pe(arguments.length===1?j.toString():Array.prototype.join.call(arguments," "))},Nr=I.__private__.getArrayBuffer=function(j){for(var fe=j.length,Qe=new ArrayBuffer(fe),rt=new Uint8Array(Qe);fe--;)rt[fe]=j.charCodeAt(fe);return Qe},Er=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];I.__private__.getStandardFonts=function(){return Er};var Et=e.fontSize||16;I.__private__.setFontSize=I.setFontSize=function(j){return Et=le===W?j/Pr:j,this};var nr,ur=I.__private__.getFontSize=I.getFontSize=function(){return le===re?Et:Et*Pr},Tr=e.R2L||!1;I.__private__.setR2L=I.setR2L=function(j){return Tr=j,this},I.__private__.getR2L=I.getR2L=function(){return Tr};var Br,rn=I.__private__.setZoomMode=function(j){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(j))nr=j;else if(isNaN(j)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(j)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+j+'" is not recognized.');nr=j}else nr=parseInt(j,10)};I.__private__.getZoomMode=function(){return nr};var nn,Jr=I.__private__.setPageMode=function(j){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(j)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+j+'" is not recognized.');Br=j};I.__private__.getPageMode=function(){return Br};var yn=I.__private__.setLayoutMode=function(j){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(j)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+j+'" is not recognized.');nn=j};I.__private__.getLayoutMode=function(){return nn},I.__private__.setDisplayMode=I.setDisplayMode=function(j,fe,Qe){return rn(j),yn(fe),Jr(Qe),this};var Ft={title:"",subject:"",author:"",keywords:"",creator:""};I.__private__.getDocumentProperty=function(j){if(Object.keys(Ft).indexOf(j)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ft[j]},I.__private__.getDocumentProperties=function(){return Ft},I.__private__.setDocumentProperties=I.setProperties=I.setDocumentProperties=function(j){for(var fe in Ft)Ft.hasOwnProperty(fe)&&j[fe]&&(Ft[fe]=j[fe]);return this},I.__private__.setDocumentProperty=function(j,fe){if(Object.keys(Ft).indexOf(j)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ft[j]=fe};var cr,Pr,fr,ri,Pt,Zt={},qt={},$r=[],_r={},sr={},Ur={},Rr={},kn=null,Gr=0,Me=[],oe=new FF(I),Ae=e.hotfixes||[],be={},ke={},Ye=[],je=function j(fe,Qe,rt,lt,Ot,jt){if(!(this instanceof j))return new j(fe,Qe,rt,lt,Ot,jt);isNaN(fe)&&(fe=1),isNaN(Qe)&&(Qe=0),isNaN(rt)&&(rt=0),isNaN(lt)&&(lt=1),isNaN(Ot)&&(Ot=0),isNaN(jt)&&(jt=0),this._matrix=[fe,Qe,rt,lt,Ot,jt]};Object.defineProperty(je.prototype,"sx",{get:function(){return this._matrix[0]},set:function(j){this._matrix[0]=j}}),Object.defineProperty(je.prototype,"shy",{get:function(){return this._matrix[1]},set:function(j){this._matrix[1]=j}}),Object.defineProperty(je.prototype,"shx",{get:function(){return this._matrix[2]},set:function(j){this._matrix[2]=j}}),Object.defineProperty(je.prototype,"sy",{get:function(){return this._matrix[3]},set:function(j){this._matrix[3]=j}}),Object.defineProperty(je.prototype,"tx",{get:function(){return this._matrix[4]},set:function(j){this._matrix[4]=j}}),Object.defineProperty(je.prototype,"ty",{get:function(){return this._matrix[5]},set:function(j){this._matrix[5]=j}}),Object.defineProperty(je.prototype,"a",{get:function(){return this._matrix[0]},set:function(j){this._matrix[0]=j}}),Object.defineProperty(je.prototype,"b",{get:function(){return this._matrix[1]},set:function(j){this._matrix[1]=j}}),Object.defineProperty(je.prototype,"c",{get:function(){return this._matrix[2]},set:function(j){this._matrix[2]=j}}),Object.defineProperty(je.prototype,"d",{get:function(){return this._matrix[3]},set:function(j){this._matrix[3]=j}}),Object.defineProperty(je.prototype,"e",{get:function(){return this._matrix[4]},set:function(j){this._matrix[4]=j}}),Object.defineProperty(je.prototype,"f",{get:function(){return this._matrix[5]},set:function(j){this._matrix[5]=j}}),Object.defineProperty(je.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(je.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(je.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(je.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),je.prototype.join=function(j){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(Fe).join(j)},je.prototype.multiply=function(j){var fe=j.sx*this.sx+j.shy*this.shx,Qe=j.sx*this.shy+j.shy*this.sy,rt=j.shx*this.sx+j.sy*this.shx,lt=j.shx*this.shy+j.sy*this.sy,Ot=j.tx*this.sx+j.ty*this.shx+this.tx,jt=j.tx*this.shy+j.ty*this.sy+this.ty;return new je(fe,Qe,rt,lt,Ot,jt)},je.prototype.decompose=function(){var j=this.sx,fe=this.shy,Qe=this.shx,rt=this.sy,lt=this.tx,Ot=this.ty,jt=Math.sqrt(j*j+fe*fe),yr=(j/=jt)*Qe+(fe/=jt)*rt;Qe-=j*yr,rt-=fe*yr;var wr=Math.sqrt(Qe*Qe+rt*rt);return yr/=wr,j*(rt/=wr)<fe*(Qe/=wr)&&(j=-j,fe=-fe,yr=-yr,jt=-jt),{scale:new je(jt,0,0,wr,0,0),translate:new je(1,0,0,1,lt,Ot),rotate:new je(j,fe,-fe,j,0,0),skew:new je(1,0,yr,1,0,0)}},je.prototype.toString=function(j){return this.join(" ")},je.prototype.inversed=function(){var j=this.sx,fe=this.shy,Qe=this.shx,rt=this.sy,lt=this.tx,Ot=this.ty,jt=1/(j*rt-fe*Qe),yr=rt*jt,wr=-fe*jt,tn=-Qe*jt,An=j*jt;return new je(yr,wr,tn,An,-yr*lt-tn*Ot,-wr*lt-An*Ot)},je.prototype.applyToPoint=function(j){var fe=j.x*this.sx+j.y*this.shx+this.tx,Qe=j.x*this.shy+j.y*this.sy+this.ty;return new po(fe,Qe)},je.prototype.applyToRectangle=function(j){var fe=this.applyToPoint(j),Qe=this.applyToPoint(new po(j.x+j.w,j.y+j.h));return new Do(fe.x,fe.y,Qe.x-fe.x,Qe.y-fe.y)},je.prototype.clone=function(){var j=this.sx,fe=this.shy,Qe=this.shx,rt=this.sy,lt=this.tx,Ot=this.ty;return new je(j,fe,Qe,rt,lt,Ot)},I.Matrix=je;var st=I.matrixMult=function(j,fe){return fe.multiply(j)},$e=new je(1,0,0,1,0,0);I.unitMatrix=I.identityMatrix=$e;var gt=function(j,fe){if(!sr[j]){var Qe=(fe instanceof up?"Sh":"P")+(Object.keys(_r).length+1).toString(10);fe.id=Qe,sr[j]=Qe,_r[Qe]=fe,oe.publish("addPattern",fe)}};I.ShadingPattern=up,I.TilingPattern=Lg,I.addShadingPattern=function(j,fe){return pe("addShadingPattern()"),gt(j,fe),this},I.beginTilingPattern=function(j){pe("beginTilingPattern()"),Es(j.boundingBox[0],j.boundingBox[1],j.boundingBox[2]-j.boundingBox[0],j.boundingBox[3]-j.boundingBox[1],j.matrix)},I.endTilingPattern=function(j,fe){pe("endTilingPattern()"),fe.stream=It[we].join(`
`),gt(j,fe),oe.publish("endTilingPattern",fe),Ye.pop().restore()};var Lt,ut=I.__private__.newObject=function(){var j=Nt();return Jt(j,!0),j},Nt=I.__private__.newObjectDeferred=function(){return Xe++,Je[Xe]=function(){return He},Xe},Jt=function(j,fe){return fe=typeof fe=="boolean"&&fe,Je[j]=He,fe&&Pe(j+" 0 obj"),j},dr=I.__private__.newAdditionalObject=function(){var j={objId:Nt(),content:""};return ft.push(j),j},Zr=Nt(),or=Nt(),Or=I.__private__.decodeColorString=function(j){var fe=j.split(" ");if(fe.length!==2||fe[1]!=="g"&&fe[1]!=="G")fe.length!==5||fe[4]!=="k"&&fe[4]!=="K"||(fe=[(1-fe[0])*(1-fe[3]),(1-fe[1])*(1-fe[3]),(1-fe[2])*(1-fe[3]),"r"]);else{var Qe=parseFloat(fe[0]);fe=[Qe,Qe,Qe,"r"]}for(var rt="#",lt=0;lt<3;lt++)rt+=("0"+Math.floor(255*parseFloat(fe[lt])).toString(16)).slice(-2);return rt},zr=I.__private__.encodeColorString=function(j){var fe;typeof j=="string"&&(j={ch1:j});var Qe=j.ch1,rt=j.ch2,lt=j.ch3,Ot=j.ch4,jt=j.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Qe=="string"&&Qe.charAt(0)!=="#"){var yr=new DD(Qe);if(yr.ok)Qe=yr.toHex();else if(!/^\d*\.?\d*$/.test(Qe))throw new Error('Invalid color "'+Qe+'" passed to jsPDF.encodeColorString.')}if(typeof Qe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Qe)&&(Qe="#"+Qe[1]+Qe[1]+Qe[2]+Qe[2]+Qe[3]+Qe[3]),typeof Qe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Qe)){var wr=parseInt(Qe.substr(1),16);Qe=wr>>16&255,rt=wr>>8&255,lt=255&wr}if(rt===void 0||Ot===void 0&&Qe===rt&&rt===lt)fe=typeof Qe=="string"?Qe+" "+jt[0]:j.precision===2?ie(Qe/255)+" "+jt[0]:de(Qe/255)+" "+jt[0];else if(Ot===void 0||Ni(Ot)==="object"){if(Ot&&!isNaN(Ot.a)&&Ot.a===0)return["1.","1.","1.",jt[1]].join(" ");fe=typeof Qe=="string"?[Qe,rt,lt,jt[1]].join(" "):j.precision===2?[ie(Qe/255),ie(rt/255),ie(lt/255),jt[1]].join(" "):[de(Qe/255),de(rt/255),de(lt/255),jt[1]].join(" ")}else fe=typeof Qe=="string"?[Qe,rt,lt,Ot,jt[2]].join(" "):j.precision===2?[ie(Qe),ie(rt),ie(lt),ie(Ot),jt[2]].join(" "):[de(Qe),de(rt),de(lt),de(Ot),jt[2]].join(" ");return fe},Kn=I.__private__.getFilters=function(){return f},Qn=I.__private__.putStream=function(j){var fe=(j=j||{}).data||"",Qe=j.filters||Kn(),rt=j.alreadyAppliedFilters||[],lt=j.addLength1||!1,Ot=fe.length,jt=j.objectId,yr=function(ua){return ua};if(b!==null&&jt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");b!==null&&(yr=Ri.encryptor(jt,0));var wr={};Qe===!0&&(Qe=["FlateEncode"]);var tn=j.additionalKeyValues||[],An=(wr=Vr.API.processDataByFilters!==void 0?Vr.API.processDataByFilters(fe,Qe):{data:fe,reverseChain:[]}).reverseChain+(Array.isArray(rt)?rt.join(" "):rt.toString());if(wr.data.length!==0&&(tn.push({key:"Length",value:wr.data.length}),lt===!0&&tn.push({key:"Length1",value:Ot})),An.length!=0)if(An.split("/").length-1==1)tn.push({key:"Filter",value:An});else{tn.push({key:"Filter",value:"["+An+"]"});for(var zn=0;zn<tn.length;zn+=1)if(tn[zn].key==="DecodeParms"){for(var Mi=[],zi=0;zi<wr.reverseChain.split("/").length-1;zi+=1)Mi.push("null");Mi.push(tn[zn].value),tn[zn].value="["+Mi.join(" ")+"]"}}Pe("<<");for(var si=0;si<tn.length;si++)Pe("/"+tn[si].key+" "+tn[si].value);Pe(">>"),wr.data.length!==0&&(Pe("stream"),Pe(yr(wr.data)),Pe("endstream"))},en=I.__private__.putPage=function(j){var fe=j.number,Qe=j.data,rt=j.objId,lt=j.contentsObjId;Jt(rt,!0),Pe("<</Type /Page"),Pe("/Parent "+j.rootDictionaryObjId+" 0 R"),Pe("/Resources "+j.resourceDictionaryObjId+" 0 R"),Pe("/MediaBox ["+parseFloat(Fe(j.mediaBox.bottomLeftX))+" "+parseFloat(Fe(j.mediaBox.bottomLeftY))+" "+Fe(j.mediaBox.topRightX)+" "+Fe(j.mediaBox.topRightY)+"]"),j.cropBox!==null&&Pe("/CropBox ["+Fe(j.cropBox.bottomLeftX)+" "+Fe(j.cropBox.bottomLeftY)+" "+Fe(j.cropBox.topRightX)+" "+Fe(j.cropBox.topRightY)+"]"),j.bleedBox!==null&&Pe("/BleedBox ["+Fe(j.bleedBox.bottomLeftX)+" "+Fe(j.bleedBox.bottomLeftY)+" "+Fe(j.bleedBox.topRightX)+" "+Fe(j.bleedBox.topRightY)+"]"),j.trimBox!==null&&Pe("/TrimBox ["+Fe(j.trimBox.bottomLeftX)+" "+Fe(j.trimBox.bottomLeftY)+" "+Fe(j.trimBox.topRightX)+" "+Fe(j.trimBox.topRightY)+"]"),j.artBox!==null&&Pe("/ArtBox ["+Fe(j.artBox.bottomLeftX)+" "+Fe(j.artBox.bottomLeftY)+" "+Fe(j.artBox.topRightX)+" "+Fe(j.artBox.topRightY)+"]"),typeof j.userUnit=="number"&&j.userUnit!==1&&Pe("/UserUnit "+j.userUnit),oe.publish("putPage",{objId:rt,pageContext:Me[fe],pageNumber:fe,page:Qe}),Pe("/Contents "+lt+" 0 R"),Pe(">>"),Pe("endobj");var Ot=Qe.join(`
`);return le===W&&(Ot+=`
Q`),Jt(lt,!0),Qn({data:Ot,filters:Kn(),objectId:lt}),Pe("endobj"),rt},vn=I.__private__.putPages=function(){var j,fe,Qe=[];for(j=1;j<=Gr;j++)Me[j].objId=Nt(),Me[j].contentsObjId=Nt();for(j=1;j<=Gr;j++)Qe.push(en({number:j,data:It[j],objId:Me[j].objId,contentsObjId:Me[j].contentsObjId,mediaBox:Me[j].mediaBox,cropBox:Me[j].cropBox,bleedBox:Me[j].bleedBox,trimBox:Me[j].trimBox,artBox:Me[j].artBox,userUnit:Me[j].userUnit,rootDictionaryObjId:Zr,resourceDictionaryObjId:or}));Jt(Zr,!0),Pe("<</Type /Pages");var rt="/Kids [";for(fe=0;fe<Gr;fe++)rt+=Qe[fe]+" 0 R ";Pe(rt+"]"),Pe("/Count "+Gr),Pe(">>"),Pe("endobj"),oe.publish("postPutPages")},Pn=function(j){oe.publish("putFont",{font:j,out:Pe,newObject:ut,putStream:Qn}),j.isAlreadyPutted!==!0&&(j.objectNumber=ut(),Pe("<<"),Pe("/Type /Font"),Pe("/BaseFont /"+Tg(j.postScriptName)),Pe("/Subtype /Type1"),typeof j.encoding=="string"&&Pe("/Encoding /"+j.encoding),Pe("/FirstChar 32"),Pe("/LastChar 255"),Pe(">>"),Pe("endobj"))},mi=function(j){j.objectNumber=ut();var fe=[];fe.push({key:"Type",value:"/XObject"}),fe.push({key:"Subtype",value:"/Form"}),fe.push({key:"BBox",value:"["+[Fe(j.x),Fe(j.y),Fe(j.x+j.width),Fe(j.y+j.height)].join(" ")+"]"}),fe.push({key:"Matrix",value:"["+j.matrix.toString()+"]"});var Qe=j.pages[1].join(`
`);Qn({data:Qe,additionalKeyValues:fe,objectId:j.objectNumber}),Pe("endobj")},ai=function(j,fe){fe||(fe=21);var Qe=ut(),rt=(function(jt,yr){var wr,tn=[],An=1/(yr-1);for(wr=0;wr<1;wr+=An)tn.push(wr);if(tn.push(1),jt[0].offset!=0){var zn={offset:0,color:jt[0].color};jt.unshift(zn)}if(jt[jt.length-1].offset!=1){var Mi={offset:1,color:jt[jt.length-1].color};jt.push(Mi)}for(var zi="",si=0,ua=0;ua<tn.length;ua++){for(wr=tn[ua];wr>jt[si+1].offset;)si++;var Hi=jt[si].offset,Ea=(wr-Hi)/(jt[si+1].offset-Hi),yo=jt[si].color,ga=jt[si+1].color;zi+=De(Math.round((1-Ea)*yo[0]+Ea*ga[0]).toString(16))+De(Math.round((1-Ea)*yo[1]+Ea*ga[1]).toString(16))+De(Math.round((1-Ea)*yo[2]+Ea*ga[2]).toString(16))}return zi.trim()})(j.colors,fe),lt=[];lt.push({key:"FunctionType",value:"0"}),lt.push({key:"Domain",value:"[0.0 1.0]"}),lt.push({key:"Size",value:"["+fe+"]"}),lt.push({key:"BitsPerSample",value:"8"}),lt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),lt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Qn({data:rt,additionalKeyValues:lt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Qe}),Pe("endobj"),j.objectNumber=ut(),Pe("<< /ShadingType "+j.type),Pe("/ColorSpace /DeviceRGB");var Ot="/Coords ["+Fe(parseFloat(j.coords[0]))+" "+Fe(parseFloat(j.coords[1]))+" ";j.type===2?Ot+=Fe(parseFloat(j.coords[2]))+" "+Fe(parseFloat(j.coords[3])):Ot+=Fe(parseFloat(j.coords[2]))+" "+Fe(parseFloat(j.coords[3]))+" "+Fe(parseFloat(j.coords[4]))+" "+Fe(parseFloat(j.coords[5])),Pe(Ot+="]"),j.matrix&&Pe("/Matrix ["+j.matrix.toString()+"]"),Pe("/Function "+Qe+" 0 R"),Pe("/Extend [true true]"),Pe(">>"),Pe("endobj")},yi=function(j,fe){var Qe=Nt(),rt=ut();fe.push({resourcesOid:Qe,objectOid:rt}),j.objectNumber=rt;var lt=[];lt.push({key:"Type",value:"/Pattern"}),lt.push({key:"PatternType",value:"1"}),lt.push({key:"PaintType",value:"1"}),lt.push({key:"TilingType",value:"1"}),lt.push({key:"BBox",value:"["+j.boundingBox.map(Fe).join(" ")+"]"}),lt.push({key:"XStep",value:Fe(j.xStep)}),lt.push({key:"YStep",value:Fe(j.yStep)}),lt.push({key:"Resources",value:Qe+" 0 R"}),j.matrix&&lt.push({key:"Matrix",value:"["+j.matrix.toString()+"]"}),Qn({data:j.stream,additionalKeyValues:lt,objectId:j.objectNumber}),Pe("endobj")},fo=function(j){for(var fe in j.objectNumber=ut(),Pe("<<"),j)switch(fe){case"opacity":Pe("/ca "+ie(j[fe]));break;case"stroke-opacity":Pe("/CA "+ie(j[fe]))}Pe(">>"),Pe("endobj")},bn=function(j){Jt(j.resourcesOid,!0),Pe("<<"),Pe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var fe in Pe("/Font <<"),Zt)Zt.hasOwnProperty(fe)&&(S===!1||S===!0&&U.hasOwnProperty(fe))&&Pe("/"+fe+" "+Zt[fe].objectNumber+" 0 R");Pe(">>")})(),(function(){if(Object.keys(_r).length>0){for(var fe in Pe("/Shading <<"),_r)_r.hasOwnProperty(fe)&&_r[fe]instanceof up&&_r[fe].objectNumber>=0&&Pe("/"+fe+" "+_r[fe].objectNumber+" 0 R");oe.publish("putShadingPatternDict"),Pe(">>")}})(),(function(fe){if(Object.keys(_r).length>0){for(var Qe in Pe("/Pattern <<"),_r)_r.hasOwnProperty(Qe)&&_r[Qe]instanceof I.TilingPattern&&_r[Qe].objectNumber>=0&&_r[Qe].objectNumber<fe&&Pe("/"+Qe+" "+_r[Qe].objectNumber+" 0 R");oe.publish("putTilingPatternDict"),Pe(">>")}})(j.objectOid),(function(){if(Object.keys(Ur).length>0){var fe;for(fe in Pe("/ExtGState <<"),Ur)Ur.hasOwnProperty(fe)&&Ur[fe].objectNumber>=0&&Pe("/"+fe+" "+Ur[fe].objectNumber+" 0 R");oe.publish("putGStateDict"),Pe(">>")}})(),(function(){for(var fe in Pe("/XObject <<"),be)be.hasOwnProperty(fe)&&be[fe].objectNumber>=0&&Pe("/"+fe+" "+be[fe].objectNumber+" 0 R");oe.publish("putXobjectDict"),Pe(">>")})(),Pe(">>"),Pe("endobj")},Ui=function(j){qt[j.fontName]=qt[j.fontName]||{},qt[j.fontName][j.fontStyle]=j.id},WA=function(j,fe,Qe,rt,lt){var Ot={id:"F"+(Object.keys(Zt).length+1).toString(10),postScriptName:j,fontName:fe,fontStyle:Qe,encoding:rt,isStandardFont:lt||!1,metadata:{}};return oe.publish("addFont",{font:Ot,instance:this}),Zt[Ot.id]=Ot,Ui(Ot),Ot.id},vi=I.__private__.pdfEscape=I.pdfEscape=function(j,fe){return(function(Qe,rt){var lt,Ot,jt,yr,wr,tn,An,zn,Mi;if(jt=(rt=rt||{}).sourceEncoding||"Unicode",wr=rt.outputEncoding,(rt.autoencode||wr)&&Zt[cr].metadata&&Zt[cr].metadata[jt]&&Zt[cr].metadata[jt].encoding&&(yr=Zt[cr].metadata[jt].encoding,!wr&&Zt[cr].encoding&&(wr=Zt[cr].encoding),!wr&&yr.codePages&&(wr=yr.codePages[0]),typeof wr=="string"&&(wr=yr[wr]),wr)){for(An=!1,tn=[],lt=0,Ot=Qe.length;lt<Ot;lt++)(zn=wr[Qe.charCodeAt(lt)])?tn.push(String.fromCharCode(zn)):tn.push(Qe[lt]),tn[lt].charCodeAt(0)>>8&&(An=!0);Qe=tn.join("")}for(lt=Qe.length;An===void 0&&lt!==0;)Qe.charCodeAt(lt-1)>>8&&(An=!0),lt--;if(!An)return Qe;for(tn=rt.noBOM?[]:[254,255],lt=0,Ot=Qe.length;lt<Ot;lt++){if((Mi=(zn=Qe.charCodeAt(lt))>>8)>>8)throw new Error("Character at position "+lt+" of string '"+Qe+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");tn.push(Mi),tn.push(zn-(Mi<<8))}return String.fromCharCode.apply(void 0,tn)})(j,fe).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Li=I.__private__.beginPage=function(j){It[++Gr]=[],Me[Gr]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(j[0]),topRightY:Number(j[1])}},ka(Gr),$t(It[we])},zl=function(j,fe){var Qe,rt,lt;switch(r=fe||r,typeof j=="string"&&(Qe=V(j.toLowerCase()),Array.isArray(Qe)&&(rt=Qe[0],lt=Qe[1])),Array.isArray(j)&&(rt=j[0]*Pr,lt=j[1]*Pr),isNaN(rt)&&(rt=s[0],lt=s[1]),(rt>14400||lt>14400)&&(aa.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),rt=Math.min(14400,rt),lt=Math.min(14400,lt)),s=[rt,lt],r.substr(0,1)){case"l":lt>rt&&(s=[lt,rt]);break;case"p":rt>lt&&(s=[lt,rt])}Li(s),jr(la),Pe(Vs),vA!==0&&Pe(vA+" J"),Aa!==0&&Pe(Aa+" j"),oe.publish("addPage",{pageNumber:Gr})},qa=function(j){j>0&&j<=Gr&&(It.splice(j,1),Me.splice(j,1),Gr--,we>Gr&&(we=Gr),this.setPage(we))},ka=function(j){j>0&&j<=Gr&&(we=j)},rl=I.__private__.getNumberOfPages=I.getNumberOfPages=function(){return It.length-1},nl=function(j,fe,Qe){var rt,lt=void 0;return Qe=Qe||{},j=j!==void 0?j:Zt[cr].fontName,fe=fe!==void 0?fe:Zt[cr].fontStyle,rt=j.toLowerCase(),qt[rt]!==void 0&&qt[rt][fe]!==void 0?lt=qt[rt][fe]:qt[j]!==void 0&&qt[j][fe]!==void 0?lt=qt[j][fe]:Qe.disableWarning===!1&&aa.warn("Unable to look up font label for font '"+j+"', '"+fe+"'. Refer to getFontList() for available fonts."),lt||Qe.noFallback||(lt=qt.times[fe])==null&&(lt=qt.times.normal),lt},Vn=I.__private__.putInfo=function(){var j=ut(),fe=function(rt){return rt};for(var Qe in b!==null&&(fe=Ri.encryptor(j,0)),Pe("<<"),Pe("/Producer ("+vi(fe("jsPDF "+Vr.version))+")"),Ft)Ft.hasOwnProperty(Qe)&&Ft[Qe]&&Pe("/"+Qe.substr(0,1).toUpperCase()+Qe.substr(1)+" ("+vi(fe(Ft[Qe]))+")");Pe("/CreationDate ("+vi(fe(tt))+")"),Pe(">>"),Pe("endobj")},Hs=I.__private__.putCatalog=function(j){var fe=(j=j||{}).rootDictionaryObjId||Zr;switch(ut(),Pe("<<"),Pe("/Type /Catalog"),Pe("/Pages "+fe+" 0 R"),nr||(nr="fullwidth"),nr){case"fullwidth":Pe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Pe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Pe("/OpenAction [3 0 R /Fit]");break;case"original":Pe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Qe=""+nr;Qe.substr(Qe.length-1)==="%"&&(nr=parseInt(nr)/100),typeof nr=="number"&&Pe("/OpenAction [3 0 R /XYZ null null "+ie(nr)+"]")}switch(nn||(nn="continuous"),nn){case"continuous":Pe("/PageLayout /OneColumn");break;case"single":Pe("/PageLayout /SinglePage");break;case"two":case"twoleft":Pe("/PageLayout /TwoColumnLeft");break;case"tworight":Pe("/PageLayout /TwoColumnRight")}Br&&Pe("/PageMode /"+Br),oe.publish("putCatalog"),Pe(">>"),Pe("endobj")},$i=I.__private__.putTrailer=function(){Pe("trailer"),Pe("<<"),Pe("/Size "+(Xe+1)),Pe("/Root "+Xe+" 0 R"),Pe("/Info "+(Xe-1)+" 0 R"),b!==null&&Pe("/Encrypt "+Ri.oid+" 0 R"),Pe("/ID [ <"+Le+"> <"+Le+"> ]"),Pe(">>")},qr=I.__private__.putHeader=function(){Pe("%PDF-"+z),Pe("%")},pA=I.__private__.putXRef=function(){var j="0000000000";Pe("xref"),Pe("0 "+(Xe+1)),Pe("0000000000 65535 f ");for(var fe=1;fe<=Xe;fe++)typeof Je[fe]=="function"?Pe((j+Je[fe]()).slice(-10)+" 00000 n "):Je[fe]!==void 0?Pe((j+Je[fe]).slice(-10)+" 00000 n "):Pe("0000000000 00000 n ")},oa=I.__private__.buildDocument=function(){var j;Xe=0,He=0,dt=[],Je=[],ft=[],Zr=Nt(),or=Nt(),$t(dt),oe.publish("buildDocument"),qr(),vn(),(function(){oe.publish("putAdditionalObjects");for(var Qe=0;Qe<ft.length;Qe++){var rt=ft[Qe];Jt(rt.objId,!0),Pe(rt.content),Pe("endobj")}oe.publish("postPutAdditionalObjects")})(),j=[],(function(){for(var Qe in Zt)Zt.hasOwnProperty(Qe)&&(S===!1||S===!0&&U.hasOwnProperty(Qe))&&Pn(Zt[Qe])})(),(function(){var Qe;for(Qe in Ur)Ur.hasOwnProperty(Qe)&&fo(Ur[Qe])})(),(function(){for(var Qe in be)be.hasOwnProperty(Qe)&&mi(be[Qe])})(),(function(Qe){var rt;for(rt in _r)_r.hasOwnProperty(rt)&&(_r[rt]instanceof up?ai(_r[rt]):_r[rt]instanceof Lg&&yi(_r[rt],Qe))})(j),oe.publish("putResources"),j.forEach(bn),bn({resourcesOid:or,objectOid:Number.MAX_SAFE_INTEGER}),oe.publish("postPutResources"),b!==null&&(Ri.oid=ut(),Pe("<<"),Pe("/Filter /Standard"),Pe("/V "+Ri.v),Pe("/R "+Ri.r),Pe("/U <"+Ri.toHexString(Ri.U)+">"),Pe("/O <"+Ri.toHexString(Ri.O)+">"),Pe("/P "+Ri.P),Pe(">>"),Pe("endobj")),Vn(),Hs();var fe=He;return pA(),$i(),Pe("startxref"),Pe(""+fe),Pe("%%EOF"),$t(It[we]),dt.join(`
`)},il=I.__private__.getBlob=function(j){return new Blob([Nr(j)],{type:"application/pdf"})},is=I.output=I.__private__.output=(Lt=function(j,fe){switch(typeof(fe=fe||{})=="string"?fe={filename:fe}:fe.filename=fe.filename||"generated.pdf",j){case void 0:return oa();case"save":I.save(fe.filename);break;case"arraybuffer":return Nr(oa());case"blob":return il(oa());case"bloburi":case"bloburl":if(mn.URL!==void 0&&typeof mn.URL.createObjectURL=="function")return mn.URL&&mn.URL.createObjectURL(il(oa()))||void 0;aa.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Qe="",rt=oa();try{Qe=EF(rt)}catch{Qe=EF(unescape(encodeURIComponent(rt)))}return"data:application/pdf;filename="+fe.filename+";base64,"+Qe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(mn)==="[object Window]"){var lt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ot=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';fe.pdfObjectUrl&&(lt=fe.pdfObjectUrl,Ot="");var jt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+lt+'"'+Ot+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(fe)+");<\/script></body></html>",yr=mn.open();return yr!==null&&yr.document.write(jt),yr}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(mn)==="[object Window]"){var wr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(fe.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+fe.filename+'" width="500px" height="400px" /></body></html>',tn=mn.open();if(tn!==null){tn.document.write(wr);var An=this;tn.document.documentElement.querySelector("#pdfViewer").onload=function(){tn.document.title=fe.filename,tn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(An.output("bloburl"))}}return tn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(mn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var zn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",fe)+'"></iframe></body></html>',Mi=mn.open();if(Mi!==null&&(Mi.document.write(zn),Mi.document.title=fe.filename),Mi||typeof safari>"u")return Mi;break;case"datauri":case"dataurl":return mn.document.location.href=this.output("datauristring",fe);default:return null}},Lt.foo=function(){try{return Lt.apply(this,arguments)}catch(Qe){var j=Qe.stack||"";~j.indexOf(" at ")&&(j=j.split(" at ")[1]);var fe="Error in function "+j.split(`
`)[0].split("<")[0]+": "+Qe.message;if(!mn.console)throw new Error(fe);mn.console.error(fe,Qe),mn.alert&&alert(fe)}},Lt.foo.bar=Lt,Lt.foo),as=function(j){return Array.isArray(Ae)===!0&&Ae.indexOf(j)>-1};switch(n){case"pt":Pr=1;break;case"mm":Pr=72/25.4;break;case"cm":Pr=72/2.54;break;case"in":Pr=72;break;case"px":Pr=as("px_scaling")==1?.75:96/72;break;case"pc":case"em":Pr=12;break;case"ex":Pr=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Pr=n}var Ri=null;Te(),Ve();var ui=I.__private__.getPageInfo=I.getPageInfo=function(j){if(isNaN(j)||j%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Me[j].objId,pageNumber:j,pageContext:Me[j]}},js=I.__private__.getPageInfoByObjId=function(j){if(isNaN(j)||j%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var fe in Me)if(Me[fe].objId===j)break;return ui(fe)},Un=I.__private__.getCurrentPageInfo=I.getCurrentPageInfo=function(){return{objId:Me[we].objId,pageNumber:we,pageContext:Me[we]}};I.addPage=function(){return zl.apply(this,arguments),this},I.setPage=function(){return ka.apply(this,arguments),$t.call(this,It[we]),this},I.insertPage=function(j){return this.addPage(),this.movePage(we,j),this},I.movePage=function(j,fe){var Qe,rt;if(j>fe){Qe=It[j],rt=Me[j];for(var lt=j;lt>fe;lt--)It[lt]=It[lt-1],Me[lt]=Me[lt-1];It[fe]=Qe,Me[fe]=rt,this.setPage(fe)}else if(j<fe){Qe=It[j],rt=Me[j];for(var Ot=j;Ot<fe;Ot++)It[Ot]=It[Ot+1],Me[Ot]=Me[Ot+1];It[fe]=Qe,Me[fe]=rt,this.setPage(fe)}return this},I.deletePage=function(){return qa.apply(this,arguments),this},I.__private__.text=I.text=function(j,fe,Qe,rt,lt){var Ot,jt,yr,wr,tn,An,zn,Mi,zi,si=(rt=rt||{}).scope||this;if(typeof j=="number"&&typeof fe=="number"&&(typeof Qe=="string"||Array.isArray(Qe))){var ua=Qe;Qe=fe,fe=j,j=ua}if(arguments[3]instanceof je==0?(yr=arguments[4],wr=arguments[5],Ni(zn=arguments[3])==="object"&&zn!==null||(typeof yr=="string"&&(wr=yr,yr=null),typeof zn=="string"&&(wr=zn,zn=null),typeof zn=="number"&&(yr=zn,zn=null),rt={flags:zn,angle:yr,align:wr})):(pe("The transform parameter of text() with a Matrix value"),zi=lt),isNaN(fe)||isNaN(Qe)||j==null)throw new Error("Invalid arguments passed to jsPDF.text");if(j.length===0)return si;var Hi,Ea="",yo=typeof rt.lineHeightFactor=="number"?rt.lineHeightFactor:Ks,ga=si.internal.scaleFactor;function ko(Ln){return Ln=Ln.split("	").join(Array(rt.TabLen||9).join(" ")),vi(Ln,zn)}function iu(Ln){for(var Bn,$n=Ln.concat(),Pi=[],As=$n.length;As--;)typeof(Bn=$n.shift())=="string"?Pi.push(Bn):Array.isArray(Ln)&&(Bn.length===1||Bn[1]===void 0&&Bn[2]===void 0)?Pi.push(Bn[0]):Pi.push([Bn[0],Bn[1],Bn[2]]);return Pi}function _A(Ln,Bn){var $n;if(typeof Ln=="string")$n=Bn(Ln)[0];else if(Array.isArray(Ln)){for(var Pi,As,us=Ln.concat(),pl=[],bA=us.length;bA--;)typeof(Pi=us.shift())=="string"?pl.push(Bn(Pi)[0]):Array.isArray(Pi)&&typeof Pi[0]=="string"&&(As=Bn(Pi[0],Pi[1],Pi[2]),pl.push([As[0],As[1],As[2]]));$n=pl}return $n}var qs=!1,Gs=!0;if(typeof j=="string")qs=!0;else if(Array.isArray(j)){var Xs=j.concat();jt=[];for(var Qo,Ta=Xs.length;Ta--;)(typeof(Qo=Xs.shift())!="string"||Array.isArray(Qo)&&typeof Qo[0]!="string")&&(Gs=!1);qs=Gs}if(qs===!1)throw new Error('Type of text must be string or Array. "'+j+'" is not recognized.');typeof j=="string"&&(j=j.match(/[\r?\n]/)?j.split(/\r\n|\r|\n/g):[j]);var ei=Et/si.internal.scaleFactor,wA=ei*(yo-1);switch(rt.baseline){case"bottom":Qe-=wA;break;case"top":Qe+=ei-wA;break;case"hanging":Qe+=ei-2*wA;break;case"middle":Qe+=ei/2-wA}if((An=rt.maxWidth||0)>0&&(typeof j=="string"?j=si.splitTextToSize(j,An):Object.prototype.toString.call(j)==="[object Array]"&&(j=j.reduce(function(Ln,Bn){return Ln.concat(si.splitTextToSize(Bn,An))},[]))),Ot={text:j,x:fe,y:Qe,options:rt,mutex:{pdfEscape:vi,activeFontKey:cr,fonts:Zt,activeFontSize:Et}},oe.publish("preProcessText",Ot),j=Ot.text,yr=(rt=Ot.options).angle,zi instanceof je==0&&yr&&typeof yr=="number"){yr*=Math.PI/180,rt.rotationDirection===0&&(yr=-yr),le===W&&(yr=-yr);var ln=Math.cos(yr),$s=Math.sin(yr);zi=new je(ln,$s,-$s,ln,0,0)}else yr&&yr instanceof je&&(zi=yr);le!==W||zi||(zi=$e),(tn=rt.charSpace||Ss)!==void 0&&(Ea+=Fe(ve(tn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Mi=rt.horizontalScale)!==void 0&&(Ea+=Fe(100*Mi)+` Tz
`),rt.lang;var gn=-1,Tn=rt.renderingMode!==void 0?rt.renderingMode:rt.stroke,vo=si.internal.getCurrentPageInfo().pageContext;switch(Tn){case 0:case!1:case"fill":gn=0;break;case 1:case!0:case"stroke":gn=1;break;case 2:case"fillThenStroke":gn=2;break;case 3:case"invisible":gn=3;break;case 4:case"fillAndAddForClipping":gn=4;break;case 5:case"strokeAndAddPathForClipping":gn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":gn=6;break;case 7:case"addToPathForClipping":gn=7}var Vl=vo.usedRenderingMode!==void 0?vo.usedRenderingMode:-1;gn!==-1?Ea+=gn+` Tr
`:Vl!==-1&&(Ea+=`0 Tr
`),gn!==-1&&(vo.usedRenderingMode=gn),wr=rt.align||"left";var za,Zs=Et*yo,ss=si.internal.pageSize.getWidth(),Al=Zt[cr];tn=rt.charSpace||Ss,An=rt.maxWidth||0,zn=Object.assign({autoencode:!0,noBOM:!0},rt.flags);var ji=[],ul=function(Ln){return si.getStringUnitWidth(Ln,{font:Al,charSpace:tn,fontSize:Et,doKerning:!1})*Et/ga};if(Object.prototype.toString.call(j)==="[object Array]"){var Ga;jt=iu(j),wr!=="left"&&(za=jt.map(ul));var Ha,Xa=0;if(wr==="right"){fe-=za[0],j=[],Ta=jt.length;for(var Ts=0;Ts<Ta;Ts++)Ts===0?(Ha=Sa(fe),Ga=Ra(Qe)):(Ha=ve(Xa-za[Ts]),Ga=-Zs),j.push([jt[Ts],Ha,Ga]),Xa=za[Ts]}else if(wr==="center"){fe-=za[0]/2,j=[],Ta=jt.length;for(var Ws=0;Ws<Ta;Ws++)Ws===0?(Ha=Sa(fe),Ga=Ra(Qe)):(Ha=ve((Xa-za[Ws])/2),Ga=-Zs),j.push([jt[Ws],Ha,Ga]),Xa=za[Ws]}else if(wr==="left"){j=[],Ta=jt.length;for(var No=0;No<Ta;No++)j.push(jt[No])}else if(wr==="justify"&&Al.encoding==="Identity-H"){j=[],Ta=jt.length,An=An!==0?An:ss;for(var cl=0,Ci=0;Ci<Ta;Ci++)if(Ga=Ci===0?Ra(Qe):-Zs,Ha=Ci===0?Sa(fe):cl,Ci<Ta-1){var ql=ve((An-za[Ci])/(jt[Ci].split(" ").length-1)),os=jt[Ci].split(" ");j.push([os[0]+" ",Ha,Ga]),cl=0;for(var Ro=1;Ro<os.length;Ro++){var ma=(ul(os[Ro-1]+" "+os[Ro])-ul(os[Ro]))*ga+ql;Ro==os.length-1?j.push([os[Ro],ma,0]):j.push([os[Ro]+" ",ma,0]),cl-=ma}}else j.push([jt[Ci],Ha,Ga]);j.push(["",cl,0])}else{if(wr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(j=[],Ta=jt.length,An=An!==0?An:ss,Ci=0;Ci<Ta;Ci++){Ga=Ci===0?Ra(Qe):-Zs,Ha=Ci===0?Sa(fe):0;var dn=jt[Ci].split(" ").length-1,Gl=dn>0?(An-za[Ci])/dn:0;Ci<Ta-1?ji.push(Fe(ve(Gl))):ji.push(0),j.push([jt[Ci],Ha,Ga])}}}(typeof rt.R2L=="boolean"?rt.R2L:Tr)===!0&&(j=_A(j,function(Ln,Bn,$n){return[Ln.split("").reverse().join(""),Bn,$n]})),Ot={text:j,x:fe,y:Qe,options:rt,mutex:{pdfEscape:vi,activeFontKey:cr,fonts:Zt,activeFontSize:Et}},oe.publish("postProcessText",Ot),j=Ot.text,Hi=Ot.mutex.isHex||!1;var Fu=Zt[cr].encoding;Fu!=="WinAnsiEncoding"&&Fu!=="StandardEncoding"||(j=_A(j,function(Ln,Bn,$n){return[ko(Ln),Bn,$n]})),jt=iu(j),j=[];for(var hl,Is,zo,fl=Array.isArray(jt[0])?1:0,Fs="",dl=function(Ln,Bn,$n){var Pi="";return $n instanceof je?($n=typeof rt.angle=="number"?st($n,new je(1,0,0,1,Ln,Bn)):st(new je(1,0,0,1,Ln,Bn),$n),le===W&&($n=st(new je(1,0,0,-1,0,0),$n)),Pi=$n.join(" ")+` Tm
`):Pi=Fe(Ln)+" "+Fe(Bn)+` Td
`,Pi},ya=0;ya<jt.length;ya++){switch(Fs="",fl){case 1:zo=(Hi?"<":"(")+jt[ya][0]+(Hi?">":")"),hl=parseFloat(jt[ya][1]),Is=parseFloat(jt[ya][2]);break;case 0:zo=(Hi?"<":"(")+jt[ya]+(Hi?">":")"),hl=Sa(fe),Is=Ra(Qe)}ji!==void 0&&ji[ya]!==void 0&&(Fs=ji[ya]+` Tw
`),ya===0?j.push(Fs+dl(hl,Is,zi)+zo):fl===0?j.push(Fs+zo):fl===1&&j.push(Fs+dl(hl,Is,zi)+zo)}j=fl===0?j.join(` Tj
T* `):j.join(` Tj
`),j+=` Tj
`;var ls=`BT
/`;return ls+=cr+" "+Et+` Tf
`,ls+=Fe(Et*yo)+` TL
`,ls+=Oo+`
`,ls+=Ea,ls+=j,Pe(ls+="ET"),U[cr]=!0,si};var YA=I.__private__.clip=I.clip=function(j){return Pe(j==="evenodd"?"W*":"W"),this};I.clipEvenOdd=function(){return YA("evenodd")},I.__private__.discardPath=I.discardPath=function(){return Pe("n"),this};var Qa=I.__private__.isValidStyle=function(j){var fe=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(j)!==-1&&(fe=!0),fe};I.__private__.setDefaultPathOperation=I.setDefaultPathOperation=function(j){return Qa(j)&&(w=j),this};var al=I.__private__.getStyle=I.getStyle=function(j){var fe=w;switch(j){case"D":case"S":fe="S";break;case"F":fe="f";break;case"FD":case"DF":fe="B";break;case"f":case"f*":case"B":case"B*":fe=j}return fe},JA=I.close=function(){return Pe("h"),this};I.stroke=function(){return Pe("S"),this},I.fill=function(j){return Bs("f",j),this},I.fillEvenOdd=function(j){return Bs("f*",j),this},I.fillStroke=function(j){return Bs("B",j),this},I.fillStrokeEvenOdd=function(j){return Bs("B*",j),this};var Bs=function(j,fe){Ni(fe)==="object"?Hl(fe,j):Pe(j)},Po=function(j){j===null||le===W&&j===void 0||(j=al(j),Pe(j))};function eu(j,fe,Qe,rt,lt){var Ot=new Lg(fe||this.boundingBox,Qe||this.xStep,rt||this.yStep,this.gState,lt||this.matrix);Ot.stream=this.stream;var jt=j+"$$"+this.cloneIndex+++"$$";return gt(jt,Ot),Ot}var Hl=function(j,fe){var Qe=sr[j.key],rt=_r[Qe];if(rt instanceof up)Pe("q"),Pe(Eu(fe)),rt.gState&&I.setGState(rt.gState),Pe(j.matrix.toString()+" cm"),Pe("/"+Qe+" sh"),Pe("Q");else if(rt instanceof Lg){var lt=new je(1,0,0,-1,0,ll());j.matrix&&(lt=lt.multiply(j.matrix||$e),Qe=eu.call(rt,j.key,j.boundingBox,j.xStep,j.yStep,lt).id),Pe("q"),Pe("/Pattern cs"),Pe("/"+Qe+" scn"),rt.gState&&I.setGState(rt.gState),Pe(fe),Pe("Q")}},Eu=function(j){switch(j){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},lc=I.moveTo=function(j,fe){return Pe(Fe(ve(j))+" "+Fe(_e(fe))+" m"),this},Ac=I.lineTo=function(j,fe){return Pe(Fe(ve(j))+" "+Fe(_e(fe))+" l"),this},Cs=I.curveTo=function(j,fe,Qe,rt,lt,Ot){return Pe([Fe(ve(j)),Fe(_e(fe)),Fe(ve(Qe)),Fe(_e(rt)),Fe(ve(lt)),Fe(_e(Ot)),"c"].join(" ")),this};I.__private__.line=I.line=function(j,fe,Qe,rt,lt){if(isNaN(j)||isNaN(fe)||isNaN(Qe)||isNaN(rt)||!Qa(lt))throw new Error("Invalid arguments passed to jsPDF.line");return le===re?this.lines([[Qe-j,rt-fe]],j,fe,[1,1],lt||"S"):this.lines([[Qe-j,rt-fe]],j,fe,[1,1]).stroke()},I.__private__.lines=I.lines=function(j,fe,Qe,rt,lt,Ot){var jt,yr,wr,tn,An,zn,Mi,zi,si,ua,Hi,Ea;if(typeof j=="number"&&(Ea=Qe,Qe=fe,fe=j,j=Ea),rt=rt||[1,1],Ot=Ot||!1,isNaN(fe)||isNaN(Qe)||!Array.isArray(j)||!Array.isArray(rt)||!Qa(lt)||typeof Ot!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(lc(fe,Qe),jt=rt[0],yr=rt[1],tn=j.length,ua=fe,Hi=Qe,wr=0;wr<tn;wr++)(An=j[wr]).length===2?(ua=An[0]*jt+ua,Hi=An[1]*yr+Hi,Ac(ua,Hi)):(zn=An[0]*jt+ua,Mi=An[1]*yr+Hi,zi=An[2]*jt+ua,si=An[3]*yr+Hi,ua=An[4]*jt+ua,Hi=An[5]*yr+Hi,Cs(zn,Mi,zi,si,ua,Hi));return Ot&&JA(),Po(lt),this},I.path=function(j){for(var fe=0;fe<j.length;fe++){var Qe=j[fe],rt=Qe.c;switch(Qe.op){case"m":lc(rt[0],rt[1]);break;case"l":Ac(rt[0],rt[1]);break;case"c":Cs.apply(this,rt);break;case"h":JA()}}return this},I.__private__.rect=I.rect=function(j,fe,Qe,rt,lt){if(isNaN(j)||isNaN(fe)||isNaN(Qe)||isNaN(rt)||!Qa(lt))throw new Error("Invalid arguments passed to jsPDF.rect");return le===re&&(rt=-rt),Pe([Fe(ve(j)),Fe(_e(fe)),Fe(ve(Qe)),Fe(ve(rt)),"re"].join(" ")),Po(lt),this},I.__private__.triangle=I.triangle=function(j,fe,Qe,rt,lt,Ot,jt){if(isNaN(j)||isNaN(fe)||isNaN(Qe)||isNaN(rt)||isNaN(lt)||isNaN(Ot)||!Qa(jt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Qe-j,rt-fe],[lt-Qe,Ot-rt],[j-lt,fe-Ot]],j,fe,[1,1],jt,!0),this},I.__private__.roundedRect=I.roundedRect=function(j,fe,Qe,rt,lt,Ot,jt){if(isNaN(j)||isNaN(fe)||isNaN(Qe)||isNaN(rt)||isNaN(lt)||isNaN(Ot)||!Qa(jt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var yr=4/3*(Math.SQRT2-1);return lt=Math.min(lt,.5*Qe),Ot=Math.min(Ot,.5*rt),this.lines([[Qe-2*lt,0],[lt*yr,0,lt,Ot-Ot*yr,lt,Ot],[0,rt-2*Ot],[0,Ot*yr,-lt*yr,Ot,-lt,Ot],[2*lt-Qe,0],[-lt*yr,0,-lt,-Ot*yr,-lt,-Ot],[0,2*Ot-rt],[0,-Ot*yr,lt*yr,-Ot,lt,-Ot]],j+lt,fe,[1,1],jt,!0),this},I.__private__.ellipse=I.ellipse=function(j,fe,Qe,rt,lt){if(isNaN(j)||isNaN(fe)||isNaN(Qe)||isNaN(rt)||!Qa(lt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ot=4/3*(Math.SQRT2-1)*Qe,jt=4/3*(Math.SQRT2-1)*rt;return lc(j+Qe,fe),Cs(j+Qe,fe-jt,j+Ot,fe-rt,j,fe-rt),Cs(j-Ot,fe-rt,j-Qe,fe-jt,j-Qe,fe),Cs(j-Qe,fe+jt,j-Ot,fe+rt,j,fe+rt),Cs(j+Ot,fe+rt,j+Qe,fe+jt,j+Qe,fe),Po(lt),this},I.__private__.circle=I.circle=function(j,fe,Qe,rt){if(isNaN(j)||isNaN(fe)||isNaN(Qe)||!Qa(rt))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(j,fe,Qe,Qe,rt)},I.setFont=function(j,fe,Qe){return Qe&&(fe=Ie(fe,Qe)),cr=nl(j,fe,{disableWarning:!1}),this};var Na=I.__private__.getFont=I.getFont=function(){return Zt[nl.apply(I,arguments)]};I.__private__.getFontList=I.getFontList=function(){var j,fe,Qe={};for(j in qt)if(qt.hasOwnProperty(j))for(fe in Qe[j]=[],qt[j])qt[j].hasOwnProperty(fe)&&Qe[j].push(fe);return Qe},I.addFont=function(j,fe,Qe,rt,lt){var Ot=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ot.indexOf(arguments[3])!==-1?lt=arguments[3]:arguments[3]&&Ot.indexOf(arguments[3])==-1&&(Qe=Ie(Qe,rt)),WA.call(this,j,fe,Qe,lt=lt||"Identity-H")};var Ks,la=e.lineWidth||.200025,Zi=I.__private__.getLineWidth=I.getLineWidth=function(){return la},jr=I.__private__.setLineWidth=I.setLineWidth=function(j){return la=j,Pe(Fe(ve(j))+" w"),this};I.__private__.setLineDash=Vr.API.setLineDash=Vr.API.setLineDashPattern=function(j,fe){if(j=j||[],fe=fe||0,isNaN(fe)||!Array.isArray(j))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return j=j.map(function(Qe){return Fe(ve(Qe))}).join(" "),fe=Fe(ve(fe)),Pe("["+j+"] "+fe+" d"),this};var tu=I.__private__.getLineHeight=I.getLineHeight=function(){return Et*Ks};I.__private__.getLineHeight=I.getLineHeight=function(){return Et*Ks};var gA=I.__private__.setLineHeightFactor=I.setLineHeightFactor=function(j){return typeof(j=j||1.15)=="number"&&(Ks=j),this},uc=I.__private__.getLineHeightFactor=I.getLineHeightFactor=function(){return Ks};gA(e.lineHeight);var Sa=I.__private__.getHorizontalCoordinate=function(j){return ve(j)},Ra=I.__private__.getVerticalCoordinate=function(j){return le===W?j:Me[we].mediaBox.topRightY-Me[we].mediaBox.bottomLeftY-ve(j)},Tu=I.__private__.getHorizontalCoordinateString=I.getHorizontalCoordinateString=function(j){return Fe(Sa(j))},mA=I.__private__.getVerticalCoordinateString=I.getVerticalCoordinateString=function(j){return Fe(Ra(j))},Vs=e.strokeColor||"0 G";I.__private__.getStrokeColor=I.getDrawColor=function(){return Or(Vs)},I.__private__.setStrokeColor=I.setDrawColor=function(j,fe,Qe,rt){return Vs=zr({ch1:j,ch2:fe,ch3:Qe,ch4:rt,pdfColorType:"draw",precision:2}),Pe(Vs),this};var ru=e.fillColor||"0 g";I.__private__.getFillColor=I.getFillColor=function(){return Or(ru)},I.__private__.setFillColor=I.setFillColor=function(j,fe,Qe,rt){return ru=zr({ch1:j,ch2:fe,ch3:Qe,ch4:rt,pdfColorType:"fill",precision:2}),Pe(ru),this};var Oo=e.textColor||"0 g",yA=I.__private__.getTextColor=I.getTextColor=function(){return Or(Oo)};I.__private__.setTextColor=I.setTextColor=function(j,fe,Qe,rt){return Oo=zr({ch1:j,ch2:fe,ch3:Qe,ch4:rt,pdfColorType:"text",precision:3}),this};var Ss=e.charSpace,jl=I.__private__.getCharSpace=I.getCharSpace=function(){return parseFloat(Ss||0)};I.__private__.setCharSpace=I.setCharSpace=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ss=j,this};var vA=0;I.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},I.__private__.setLineCap=I.setLineCap=function(j){var fe=I.CapJoinStyles[j];if(fe===void 0)throw new Error("Line cap style of '"+j+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return vA=fe,Pe(fe+" J"),this};var Aa=0;I.__private__.setLineJoin=I.setLineJoin=function(j){var fe=I.CapJoinStyles[j];if(fe===void 0)throw new Error("Line join style of '"+j+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Aa=fe,Pe(fe+" j"),this},I.__private__.setLineMiterLimit=I.__private__.setMiterLimit=I.setLineMiterLimit=I.setMiterLimit=function(j){if(j=j||0,isNaN(j))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Pe(Fe(ve(j))+" M"),this},I.GState=N_,I.setGState=function(j){(j=typeof j=="string"?Ur[Rr[j]]:pa(null,j)).equals(kn)||(Pe("/"+j.id+" gs"),kn=j)};var pa=function(j,fe){if(!j||!Rr[j]){var Qe=!1;for(var rt in Ur)if(Ur.hasOwnProperty(rt)&&Ur[rt].equals(fe)){Qe=!0;break}if(Qe)fe=Ur[rt];else{var lt="GS"+(Object.keys(Ur).length+1).toString(10);Ur[lt]=fe,fe.id=lt}return j&&(Rr[j]=fe.id),oe.publish("addGState",fe),fe}};I.addGState=function(j,fe){return pa(j,fe),this},I.saveGraphicsState=function(){return Pe("q"),$r.push({key:cr,size:Et,color:Oo}),this},I.restoreGraphicsState=function(){Pe("Q");var j=$r.pop();return cr=j.key,Et=j.size,Oo=j.color,kn=null,this},I.setCurrentTransformationMatrix=function(j){return Pe(j.toString()+" cm"),this},I.comment=function(j){return Pe("#"+j),this};var po=function(j,fe){var Qe=j||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Qe},set:function(Ot){isNaN(Ot)||(Qe=parseFloat(Ot))}});var rt=fe||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return rt},set:function(Ot){isNaN(Ot)||(rt=parseFloat(Ot))}});var lt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return lt},set:function(Ot){lt=Ot.toString()}}),this},Do=function(j,fe,Qe,rt){po.call(this,j,fe),this.type="rect";var lt=Qe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return lt},set:function(jt){isNaN(jt)||(lt=parseFloat(jt))}});var Ot=rt||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ot},set:function(jt){isNaN(jt)||(Ot=parseFloat(jt))}}),this},go=function(){this.page=Gr,this.currentPage=we,this.pages=It.slice(0),this.pagesContext=Me.slice(0),this.x=fr,this.y=ri,this.matrix=Pt,this.width=mo(we),this.height=sl(we),this.outputDestination=Xt,this.id="",this.objectNumber=-1};go.prototype.restore=function(){Gr=this.page,we=this.currentPage,Me=this.pagesContext,It=this.pages,fr=this.x,ri=this.y,Pt=this.matrix,nu(we,this.width),Kl(we,this.height),Xt=this.outputDestination};var Es=function(j,fe,Qe,rt,lt){Ye.push(new go),Gr=we=0,It=[],fr=j,ri=fe,Pt=lt,Li([Qe,rt])};for(var _n in I.beginFormObject=function(j,fe,Qe,rt,lt){return Es(j,fe,Qe,rt,lt),this},I.endFormObject=function(j){return(function(fe){if(ke[fe])Ye.pop().restore();else{var Qe=new go,rt="Xo"+(Object.keys(be).length+1).toString(10);Qe.id=rt,ke[fe]=rt,be[rt]=Qe,oe.publish("addFormObject",Qe),Ye.pop().restore()}})(j),this},I.doFormObject=function(j,fe){var Qe=be[ke[j]];return Pe("q"),Pe(fe.toString()+" cm"),Pe("/"+Qe.id+" Do"),Pe("Q"),this},I.getFormObject=function(j){var fe=be[ke[j]];return{x:fe.x,y:fe.y,width:fe.width,height:fe.height,matrix:fe.matrix}},I.save=function(j,fe){return j=j||"generated.pdf",(fe=fe||{}).returnPromise=fe.returnPromise||!1,fe.returnPromise===!1?(lp(il(oa()),j),typeof lp.unload=="function"&&mn.setTimeout&&setTimeout(lp.unload,911),this):new Promise(function(Qe,rt){try{var lt=lp(il(oa()),j);typeof lp.unload=="function"&&mn.setTimeout&&setTimeout(lp.unload,911),Qe(lt)}catch(Ot){rt(Ot.message)}})},Vr.API)Vr.API.hasOwnProperty(_n)&&(_n==="events"&&Vr.API.events.length?(function(j,fe){var Qe,rt,lt;for(lt=fe.length-1;lt!==-1;lt--)Qe=fe[lt][0],rt=fe[lt][1],j.subscribe.apply(j,[Qe].concat(typeof rt=="function"?[rt]:rt))})(oe,Vr.API.events):I[_n]=Vr.API[_n]);function mo(j){return Me[j].mediaBox.topRightX-Me[j].mediaBox.bottomLeftX}function nu(j,fe){Me[j].mediaBox.topRightX=fe+Me[j].mediaBox.bottomLeftX}function sl(j){return Me[j].mediaBox.topRightY-Me[j].mediaBox.bottomLeftY}function Kl(j,fe){Me[j].mediaBox.topRightY=fe+Me[j].mediaBox.bottomLeftY}var ol=I.getPageWidth=function(j){return mo(j=j||we)/Pr},Nc=I.setPageWidth=function(j,fe){nu(j,fe*Pr)},ll=I.getPageHeight=function(j){return sl(j=j||we)/Pr},Iu=I.setPageHeight=function(j,fe){Kl(j,fe*Pr)};return I.internal={pdfEscape:vi,getStyle:al,getFont:Na,getFontSize:ur,getCharSpace:jl,getTextColor:yA,getLineHeight:tu,getLineHeightFactor:uc,getLineWidth:Zi,write:Ze,getHorizontalCoordinate:Sa,getVerticalCoordinate:Ra,getCoordinateString:Tu,getVerticalCoordinateString:mA,collections:{},newObject:ut,newAdditionalObject:dr,newObjectDeferred:Nt,newObjectDeferredBegin:Jt,getFilters:Kn,putStream:Qn,events:oe,scaleFactor:Pr,pageSize:{getWidth:function(){return ol(we)},setWidth:function(j){Nc(we,j)},getHeight:function(){return ll(we)},setHeight:function(j){Iu(we,j)}},encryptionOptions:b,encryption:Ri,getEncryptor:function(j){return b!==null?Ri.encryptor(j,0):function(fe){return fe}},output:is,getNumberOfPages:rl,get pages(){return It},out:Pe,f2:ie,f3:de,getPageInfo:ui,getPageInfoByObjId:js,getCurrentPageInfo:Un,getPDFVersion:H,Point:po,Rectangle:Do,Matrix:je,hasHotfix:as},Object.defineProperty(I.internal.pageSize,"width",{get:function(){return ol(we)},set:function(j){Nc(we,j)},enumerable:!0,configurable:!0}),Object.defineProperty(I.internal.pageSize,"height",{get:function(){return ll(we)},set:function(j){Iu(we,j)},enumerable:!0,configurable:!0}),(function(j){for(var fe=0,Qe=Er.length;fe<Qe;fe++){var rt=WA.call(this,j[fe][0],j[fe][1],j[fe][2],Er[fe][3],!0);S===!1&&(U[rt]=!0);var lt=j[fe][0].split("-");Ui({id:rt,fontName:lt[0],fontStyle:lt[1]||""})}oe.publish("addFonts",{fonts:Zt,dictionary:qt})}).call(I,Er),cr="F1",zl(s,r),oe.publish("initialized"),I}Eg.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Eg.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Eg.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Eg.prototype.processOwnerPassword=function(e,t){return r5(t5(t).substr(0,5),e)},Eg.prototype.encryptor=function(e,t){var r=t5(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return r5(r,n)}},N_.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Ni(e)!==Ni(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Vr.API={events:[]},Vr.version="3.0.4";var ns=Vr.API,tS=1,Mp=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},bg=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},En=function(e){return e.toFixed(2)},Jf=function(e){return e.toFixed(5)};ns.__acroform__={};var ZA=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},UF=function(e){return e*tS},uh=function(e){var t=new RD,r=Mr.internal.getHeight(e)||0,n=Mr.internal.getWidth(e)||0;return t.BBox=[0,0,Number(En(n)),Number(En(r))],t},ise=ns.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},ase=ns.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},sse=ns.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},ws=ns.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return sse(e,t-1)},bs=ns.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return ise(e,t-1)},xs=ns.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return ase(e,t-1)},ose=ns.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,s=e[0],A=e[1],f=e[2],l=e[3],y={};return y.lowerLeft_X=r(s)||0,y.lowerLeft_Y=n(A+l)||0,y.upperRight_X=r(s+f)||0,y.upperRight_Y=n(A)||0,[Number(En(y.lowerLeft_X)),Number(En(y.lowerLeft_Y)),Number(En(y.upperRight_X)),Number(En(y.upperRight_Y))]},lse=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=n5(e,r),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+En(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var A=uh(e);return A.scope=e.scope,A.stream=t.join(`
`),A}},n5=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map(function(ie){return ie.split(`
`)}):s.map(function(ie){return[ie]});var A=r,f=Mr.internal.getHeight(e)||0;f=f<0?-f:f;var l=Mr.internal.getWidth(e)||0;l=l<0?-l:l;var y=function(ie,de,ve){if(ie+1<s.length){var _e=de+" "+s[ie+1][0];return g1(_e,e,ve).width<=l-4}return!1};A++;e:for(;A>0;){t="",A--;var w,b,S=g1("3",e,A).height,U=e.multiline?f-A:(f-S)/2,I=U+=2,z=0,H=0,K=0;if(A<=0){t=`(...) Tj
`,t+="% Width of Text: "+g1(t,e,A=12).width+", FieldWidth:"+l+`
`;break}for(var V="",re=0,W=0;W<s.length;W++)if(s.hasOwnProperty(W)){var le=!1;if(s[W].length!==1&&K!==s[W].length-1){if((S+2)*(re+2)+2>f)continue e;V+=s[W][K],le=!0,H=W,W--}else{V=(V+=s[W][K]+" ").substr(V.length-1)==" "?V.substr(0,V.length-1):V;var ce=parseInt(W),me=y(ce,V,A),Ie=W>=s.length-1;if(me&&!Ie){V+=" ",K=0;continue}if(me||Ie){if(Ie)H=ce;else if(e.multiline&&(S+2)*(re+2)+2>f)continue e}else{if(!e.multiline||(S+2)*(re+2)+2>f)continue e;H=ce}}for(var Fe="",pe=z;pe<=H;pe++){var ze=s[pe];if(e.multiline){if(pe===H){Fe+=ze[K]+" ",K=(K+1)%ze.length;continue}if(pe===z){Fe+=ze[ze.length-1]+" ";continue}}Fe+=ze[0]+" "}switch(Fe=Fe.substr(Fe.length-1)==" "?Fe.substr(0,Fe.length-1):Fe,b=g1(Fe,e,A).width,e.textAlign){case"right":w=l-b-2;break;case"center":w=(l-b)/2;break;default:w=2}t+=En(w)+" "+En(I)+` Td
`,t+="("+Mp(Fe)+`) Tj
`,t+=-En(w)+` 0 Td
`,I=-(A+2),b=0,z=le?H:H+1,re++,V=""}break}return n.text=t,n.fontSize=A,n},g1=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:s}},Ase={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},use=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},cse=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(kc.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(Ase)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");tS=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new zD,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var A=n[s];A.objId=void 0,A.hasAnnotation&&use(A,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,s){var A=!n;for(var f in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(f)){var l=n[f],y=[],w=l.Rect;if(l.Rect&&(l.Rect=ose(l.Rect,s)),s.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Mr.createDefaultAppearanceStream(l),Ni(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(y=l.getKeyValueListForStream()),l.Rect=w,l.hasAppearanceStream&&!l.appearanceStreamContent){var b=lse(l);y.push({key:"AP",value:"<</N "+b+">>"}),s.internal.acroformPlugin.xForms.push(b)}if(l.appearanceStreamContent){var S="";for(var U in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(U)){var I=l.appearanceStreamContent[U];if(S+="/"+U+" ",S+="<<",Object.keys(I).length>=1||Array.isArray(I)){for(var f in I)if(I.hasOwnProperty(f)){var z=I[f];typeof z=="function"&&(z=z.call(s,l)),S+="/"+f+" "+z+" ",s.internal.acroformPlugin.xForms.indexOf(z)>=0||s.internal.acroformPlugin.xForms.push(z)}}else typeof(z=I)=="function"&&(z=z.call(s,l)),S+="/"+f+" "+z,s.internal.acroformPlugin.xForms.indexOf(z)>=0||s.internal.acroformPlugin.xForms.push(z);S+=">>"}y.push({key:"AP",value:`<<
`+S+">>"})}s.internal.putStream({additionalKeyValues:y,objectId:l.objId}),s.internal.out("endobj")}A&&(function(H,K){for(var V in H)if(H.hasOwnProperty(V)){var re=V,W=H[V];K.internal.newObjectDeferredBegin(W.objId,!0),Ni(W)==="object"&&typeof W.putStream=="function"&&W.putStream(),delete H[re]}})(s.internal.acroformPlugin.xForms,s)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},ND=ns.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(f){return f};if(Array.isArray(e)){for(var s="[",A=0;A<e.length;A++)switch(A!==0&&(s+=" "),Ni(e[A])){case"boolean":case"number":case"object":s+=e[A].toString();break;case"string":e[A].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),s+="("+Mp(n(e[A].toString()))+")"):s+=e[A].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},w2=function(e,t,r){var n=function(s){return s};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+Mp(n(e))+")"},fh=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};fh.prototype.toString=function(){return this.objId+" 0 R"},fh.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},fh.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(A){return A!="content"&&A!="appearanceStreamContent"&&A!="scope"&&A!="objId"&&A.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],s=this[n];s&&(Array.isArray(s)?e.push({key:n,value:ND(s,this.objId,this.scope)}):s instanceof fh?(s.scope=this.scope,e.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:n,value:s}))}return e};var RD=function(){fh.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};ZA(RD,fh);var zD=function(){fh.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Mp(r(e))+")"}},set:function(r){e=r}})};ZA(zD,fh);var kc=function e(){fh.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(V){if(isNaN(V))throw new Error('Invalid value "'+V+'" for attribute F supplied.');t=V}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ws(t,3)},set:function(V){V?this.F=bs(t,3):this.F=xs(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(V){if(isNaN(V))throw new Error('Invalid value "'+V+'" for attribute Ff supplied.');r=V}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(V){n=V!==void 0?V:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(V){n[0]=V}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(V){n[1]=V}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(V){n[2]=V}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(V){n[3]=V}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(V){switch(V){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=V;break;default:throw new Error('Invalid value "'+V+'" for attribute FT supplied.')}}});var A=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!A||A.length<1){if(this instanceof R_)return;A="FieldObject"+e.FieldNum++}var V=function(re){return re};return this.scope&&(V=this.scope.internal.getEncryptor(this.objId)),"("+Mp(V(A))+")"},set:function(V){A=V.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return A},set:function(V){A=V}});var f="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return f},set:function(V){f=V}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(V){l=V}});var y=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return y},set:function(V){y=V}});var w=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return w===void 0?50/tS:w},set:function(V){w=V}});var b="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return b},set:function(V){b=V}});var S="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!S||this instanceof R_||this instanceof bp))return w2(S,this.objId,this.scope)},set:function(V){V=V.toString(),S=V}});var U=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(U)return this instanceof Fo==0?w2(U,this.objId,this.scope):U},set:function(V){V=V.toString(),U=this instanceof Fo==0?V.substr(0,1)==="("?bg(V.substr(1,V.length-2)):bg(V):V}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Fo==1?bg(U.substr(1,U.length-1)):U},set:function(V){V=V.toString(),U=this instanceof Fo==1?"/"+V:V}});var I=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(I)return I},set:function(V){this.V=V}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(I)return this instanceof Fo==0?w2(I,this.objId,this.scope):I},set:function(V){V=V.toString(),I=this instanceof Fo==0?V.substr(0,1)==="("?bg(V.substr(1,V.length-2)):bg(V):V}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Fo==1?bg(I.substr(1,I.length-1)):I},set:function(V){V=V.toString(),I=this instanceof Fo==1?"/"+V:V}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var z,H=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return H},set:function(V){V=!!V,H=V}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(z)return z},set:function(V){z=V}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ws(this.Ff,1)},set:function(V){V?this.Ff=bs(this.Ff,1):this.Ff=xs(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ws(this.Ff,2)},set:function(V){V?this.Ff=bs(this.Ff,2):this.Ff=xs(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ws(this.Ff,3)},set:function(V){V?this.Ff=bs(this.Ff,3):this.Ff=xs(this.Ff,3)}});var K=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(K!==null)return K},set:function(V){if([0,1,2].indexOf(V)===-1)throw new Error('Invalid value "'+V+'" for attribute Q supplied.');K=V}}),Object.defineProperty(this,"textAlign",{get:function(){var V;switch(K){case 0:default:V="left";break;case 1:V="center";break;case 2:V="right"}return V},configurable:!0,enumerable:!0,set:function(V){switch(V){case"right":case 2:K=2;break;case"center":case 1:K=1;break;default:K=0}}})};ZA(kc,fh);var Dg=function(){kc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return ND(t,this.objId,this.scope)},set:function(r){var n,s;s=[],typeof(n=r)=="string"&&(s=(function(A,f,l){l||(l=1);for(var y,w=[];y=f.exec(A);)w.push(y[l]);return w})(n,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ws(this.Ff,18)},set:function(r){r?this.Ff=bs(this.Ff,18):this.Ff=xs(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ws(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=bs(this.Ff,19):this.Ff=xs(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ws(this.Ff,20)},set:function(r){r?(this.Ff=bs(this.Ff,20),t.sort()):this.Ff=xs(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ws(this.Ff,22)},set:function(r){r?this.Ff=bs(this.Ff,22):this.Ff=xs(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ws(this.Ff,23)},set:function(r){r?this.Ff=bs(this.Ff,23):this.Ff=xs(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ws(this.Ff,27)},set:function(r){r?this.Ff=bs(this.Ff,27):this.Ff=xs(this.Ff,27)}}),this.hasAppearanceStream=!1};ZA(Dg,kc);var kg=function(){Dg.call(this),this.fontName="helvetica",this.combo=!1};ZA(kg,Dg);var Qg=function(){kg.call(this),this.combo=!0};ZA(Qg,kg);var U1=function(){Qg.call(this),this.edit=!0};ZA(U1,Qg);var Fo=function(){kc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ws(this.Ff,15)},set:function(r){r?this.Ff=bs(this.Ff,15):this.Ff=xs(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ws(this.Ff,16)},set:function(r){r?this.Ff=bs(this.Ff,16):this.Ff=xs(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ws(this.Ff,17)},set:function(r){r?this.Ff=bs(this.Ff,17):this.Ff=xs(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ws(this.Ff,26)},set:function(r){r?this.Ff=bs(this.Ff,26):this.Ff=xs(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(A){return A};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,s=[];for(n in s.push("<<"),t)s.push("/"+n+" ("+Mp(r(t[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(r){Ni(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};ZA(Fo,kc);var L1=function(){Fo.call(this),this.pushButton=!0};ZA(L1,Fo);var Ng=function(){Fo.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};ZA(Ng,Fo);var R_=function(){var e,t;kc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(l){return l};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var A,f=[];for(A in f.push("<<"),n)f.push("/"+A+" ("+Mp(s(n[A]))+")");return f.push(">>"),f.join(`
`)},set:function(s){Ni(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(s){r="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Mr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ZA(R_,kc),Ng.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Ng.prototype.createOption=function(e){var t=new R_;return t.Parent=this,t.optionName=e,this.Kids.push(t),hse.call(this.scope,t),t};var M1=function(){Fo.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Mr.CheckBox.createAppearanceStream()};ZA(M1,Fo);var bp=function(){kc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ws(this.Ff,13)},set:function(t){t?this.Ff=bs(this.Ff,13):this.Ff=xs(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ws(this.Ff,21)},set:function(t){t?this.Ff=bs(this.Ff,21):this.Ff=xs(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ws(this.Ff,23)},set:function(t){t?this.Ff=bs(this.Ff,23):this.Ff=xs(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ws(this.Ff,24)},set:function(t){t?this.Ff=bs(this.Ff,24):this.Ff=xs(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ws(this.Ff,25)},set:function(t){t?this.Ff=bs(this.Ff,25):this.Ff=xs(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ws(this.Ff,26)},set:function(t){t?this.Ff=bs(this.Ff,26):this.Ff=xs(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ZA(bp,kc);var P1=function(){bp.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ws(this.Ff,14)},set:function(e){e?this.Ff=bs(this.Ff,14):this.Ff=xs(this.Ff,14)}}),this.password=!0};ZA(P1,bp);var Mr={CheckBox:{createAppearanceStream:function(){return{N:{On:Mr.CheckBox.YesNormal},D:{On:Mr.CheckBox.YesPushDown,Off:Mr.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=uh(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),A=n5(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+En(Mr.internal.getWidth(e))+" "+En(Mr.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+En(A.fontSize)+" Tf "+s),r.push("BT"),r.push(A.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=uh(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),s=[],A=Mr.internal.getHeight(e),f=Mr.internal.getWidth(e),l=n5(e,e.caption);return s.push("1 g"),s.push("0 0 "+En(f)+" "+En(A)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+En(f-1)+" "+En(A-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+r+" "+En(l.fontSize)+" Tf "+n),s.push(l.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=uh(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+En(Mr.internal.getWidth(e))+" "+En(Mr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Mr.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Mr.RadioButton.Circle.YesNormal,t.D[e]=Mr.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=uh(e);t.scope=e.scope;var r=[],n=Mr.internal.getWidth(e)<=Mr.internal.getHeight(e)?Mr.internal.getWidth(e)/4:Mr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Mr.internal.Bezier_C,A=Number((n*s).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Jf(Mr.internal.getWidth(e)/2)+" "+Jf(Mr.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+A+" "+A+" "+n+" 0 "+n+" c"),r.push("-"+A+" "+n+" -"+n+" "+A+" -"+n+" 0 c"),r.push("-"+n+" -"+A+" -"+A+" -"+n+" 0 -"+n+" c"),r.push(A+" -"+n+" "+n+" -"+A+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=uh(e);t.scope=e.scope;var r=[],n=Mr.internal.getWidth(e)<=Mr.internal.getHeight(e)?Mr.internal.getWidth(e)/4:Mr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),A=Number((s*Mr.internal.Bezier_C).toFixed(5)),f=Number((n*Mr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Jf(Mr.internal.getWidth(e)/2)+" "+Jf(Mr.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+A+" "+A+" "+s+" 0 "+s+" c"),r.push("-"+A+" "+s+" -"+s+" "+A+" -"+s+" 0 c"),r.push("-"+s+" -"+A+" -"+A+" -"+s+" 0 -"+s+" c"),r.push(A+" -"+s+" "+s+" -"+A+" "+s+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Jf(Mr.internal.getWidth(e)/2)+" "+Jf(Mr.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+f+" "+f+" "+n+" 0 "+n+" c"),r.push("-"+f+" "+n+" -"+n+" "+f+" -"+n+" 0 c"),r.push("-"+n+" -"+f+" -"+f+" -"+n+" 0 -"+n+" c"),r.push(f+" -"+n+" "+n+" -"+f+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=uh(e);t.scope=e.scope;var r=[],n=Mr.internal.getWidth(e)<=Mr.internal.getHeight(e)?Mr.internal.getWidth(e)/4:Mr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),A=Number((s*Mr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Jf(Mr.internal.getWidth(e)/2)+" "+Jf(Mr.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+A+" "+A+" "+s+" 0 "+s+" c"),r.push("-"+A+" "+s+" -"+s+" "+A+" -"+s+" 0 c"),r.push("-"+s+" -"+A+" -"+A+" -"+s+" 0 -"+s+" c"),r.push(A+" -"+s+" "+s+" -"+A+" "+s+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Mr.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Mr.RadioButton.Cross.YesNormal,t.D[e]=Mr.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=uh(e);t.scope=e.scope;var r=[],n=Mr.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+En(Mr.internal.getWidth(e)-2)+" "+En(Mr.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(En(n.x1.x)+" "+En(n.x1.y)+" m"),r.push(En(n.x2.x)+" "+En(n.x2.y)+" l"),r.push(En(n.x4.x)+" "+En(n.x4.y)+" m"),r.push(En(n.x3.x)+" "+En(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=uh(e);t.scope=e.scope;var r=Mr.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+En(Mr.internal.getWidth(e))+" "+En(Mr.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+En(Mr.internal.getWidth(e)-2)+" "+En(Mr.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(En(r.x1.x)+" "+En(r.x1.y)+" m"),n.push(En(r.x2.x)+" "+En(r.x2.y)+" l"),n.push(En(r.x4.x)+" "+En(r.x4.y)+" m"),n.push(En(r.x3.x)+" "+En(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=uh(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+En(Mr.internal.getWidth(e))+" "+En(Mr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Mr.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Mr.internal.getWidth(e),r=Mr.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Mr.internal.getWidth=function(e){var t=0;return Ni(e)==="object"&&(t=UF(e.Rect[2])),t},Mr.internal.getHeight=function(e){var t=0;return Ni(e)==="object"&&(t=UF(e.Rect[3])),t};var hse=ns.addField=function(e){if(cse(this,e),!(e instanceof kc))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};ns.AcroFormChoiceField=Dg,ns.AcroFormListBox=kg,ns.AcroFormComboBox=Qg,ns.AcroFormEditBox=U1,ns.AcroFormButton=Fo,ns.AcroFormPushButton=L1,ns.AcroFormRadioButton=Ng,ns.AcroFormCheckBox=M1,ns.AcroFormTextField=bp,ns.AcroFormPasswordField=P1,ns.AcroFormAppearance=Mr,ns.AcroForm={ChoiceField:Dg,ListBox:kg,ComboBox:Qg,EditBox:U1,Button:Fo,PushButton:L1,RadioButton:Ng,CheckBox:M1,TextField:bp,PasswordField:P1,Appearance:Mr},Vr.AcroForm={ChoiceField:Dg,ListBox:kg,ComboBox:Qg,EditBox:U1,Button:Fo,PushButton:L1,RadioButton:Ng,CheckBox:M1,TextField:bp,PasswordField:P1,Appearance:Mr};Vr.AcroForm;function HD(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=e.__addimage__.getImageFileTypeByImageData=function(ie,de){var ve,_e,tt,Le,Ne,Ve=r;if((de=de||r)==="RGBA"||ie.data!==void 0&&ie.data instanceof Uint8ClampedArray&&"height"in ie&&"width"in ie)return"RGBA";if(me(ie))for(Ne in n)for(tt=n[Ne],ve=0;ve<tt.length;ve+=1){for(Le=!0,_e=0;_e<tt[ve].length;_e+=1)if(tt[ve][_e]!==void 0&&tt[ve][_e]!==ie[_e]){Le=!1;break}if(Le===!0){Ve=Ne;break}}else for(Ne in n)for(tt=n[Ne],ve=0;ve<tt.length;ve+=1){for(Le=!0,_e=0;_e<tt[ve].length;_e+=1)if(tt[ve][_e]!==void 0&&tt[ve][_e]!==ie.charCodeAt(_e)){Le=!1;break}if(Le===!0){Ve=Ne;break}}return Ve===r&&de!==r&&(Ve=de),Ve},A=function ie(de){for(var ve=this.internal.write,_e=this.internal.putStream,tt=(0,this.internal.getFilters)();tt.indexOf("FlateEncode")!==-1;)tt.splice(tt.indexOf("FlateEncode"),1);de.objectId=this.internal.newObject();var Le=[];if(Le.push({key:"Type",value:"/XObject"}),Le.push({key:"Subtype",value:"/Image"}),Le.push({key:"Width",value:de.width}),Le.push({key:"Height",value:de.height}),de.colorSpace===V.INDEXED?Le.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(de.palette.length/3-1)+" "+("sMask"in de&&de.sMask!==void 0?de.objectId+2:de.objectId+1)+" 0 R]"}):(Le.push({key:"ColorSpace",value:"/"+de.colorSpace}),de.colorSpace===V.DEVICE_CMYK&&Le.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Le.push({key:"BitsPerComponent",value:de.bitsPerComponent}),"decodeParameters"in de&&de.decodeParameters!==void 0&&Le.push({key:"DecodeParms",value:"<<"+de.decodeParameters+">>"}),"transparency"in de&&Array.isArray(de.transparency)&&de.transparency.length>0){for(var Ne="",Ve=0,We=de.transparency.length;Ve<We;Ve++)Ne+=de.transparency[Ve]+" "+de.transparency[Ve]+" ";Le.push({key:"Mask",value:"["+Ne+"]"})}de.sMask!==void 0&&Le.push({key:"SMask",value:de.objectId+1+" 0 R"});var _t=de.filter!==void 0?["/"+de.filter]:void 0;if(_e({data:de.data,additionalKeyValues:Le,alreadyAppliedFilters:_t,objectId:de.objectId}),ve("endobj"),"sMask"in de&&de.sMask!==void 0){var Te,ne=(Te=de.sMaskBitsPerComponent)!==null&&Te!==void 0?Te:de.bitsPerComponent,we={width:de.width,height:de.height,colorSpace:"DeviceGray",bitsPerComponent:ne,data:de.sMask};"filter"in de&&(we.decodeParameters="/Predictor ".concat(de.predictor," /Colors 1 /BitsPerComponent ").concat(ne," /Columns ").concat(de.width),we.filter=de.filter),ie.call(this,we)}if(de.colorSpace===V.INDEXED){var Ue=this.internal.newObject();_e({data:Fe(new Uint8Array(de.palette)),objectId:Ue}),ve("endobj")}},f=function(){var ie=this.internal.collections[t+"images"];for(var de in ie)A.call(this,ie[de])},l=function(){var ie,de=this.internal.collections[t+"images"],ve=this.internal.write;for(var _e in de)ve("/I"+(ie=de[_e]).index,ie.objectId,"0","R")},y=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",f),this.internal.events.subscribe("putXobjectDict",l))},w=function(){var ie=this.internal.collections[t+"images"];return y.call(this),ie},b=function(){return Object.keys(this.internal.collections[t+"images"]).length},S=function(ie){return typeof e["process"+ie.toUpperCase()]=="function"},U=function(ie){return Ni(ie)==="object"&&ie.nodeType===1},I=function(ie,de){if(ie.nodeName==="IMG"&&ie.hasAttribute("src")){var ve=""+ie.getAttribute("src");if(ve.indexOf("data:image/")===0)return F1(unescape(ve).split("base64,").pop());var _e=e.loadFile(ve,!0);if(_e!==void 0)return _e}if(ie.nodeName==="CANVAS"){if(ie.width===0||ie.height===0)throw new Error("Given canvas must have data. Canvas width: "+ie.width+", height: "+ie.height);var tt;switch(de){case"PNG":tt="image/png";break;case"WEBP":tt="image/webp";break;default:tt="image/jpeg"}return F1(ie.toDataURL(tt,1).split("base64,").pop())}},z=function(ie){var de=this.internal.collections[t+"images"];if(de){for(var ve in de)if(ie===de[ve].alias)return de[ve]}},H=function(ie,de,ve){return ie||de||(ie=-96,de=-96),ie<0&&(ie=-1*ve.width*72/ie/this.internal.scaleFactor),de<0&&(de=-1*ve.height*72/de/this.internal.scaleFactor),ie===0&&(ie=de*ve.width/ve.height),de===0&&(de=ie*ve.height/ve.width),[ie,de]},K=function(ie,de,ve,_e,tt,Le){var Ne=H.call(this,ve,_e,tt),Ve=this.internal.getCoordinateString,We=this.internal.getVerticalCoordinateString,_t=w.call(this);if(ve=Ne[0],_e=Ne[1],_t[tt.index]=tt,Le){Le*=Math.PI/180;var Te=Math.cos(Le),ne=Math.sin(Le),we=function(De){return De.toFixed(4)},Ue=[we(Te),we(ne),we(-1*ne),we(Te),0,0,"cm"]}this.internal.write("q"),Le?(this.internal.write([1,"0","0",1,Ve(ie),We(de+_e),"cm"].join(" ")),this.internal.write(Ue.join(" ")),this.internal.write([Ve(ve),"0","0",Ve(_e),"0","0","cm"].join(" "))):this.internal.write([Ve(ve),"0","0",Ve(_e),Ve(ie),We(de+_e),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+tt.index+" Do"),this.internal.write("Q")},V=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var re=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},W=e.__addimage__.sHashCode=function(ie){var de,ve,_e=0;if(typeof ie=="string")for(ve=ie.length,de=0;de<ve;de++)_e=(_e<<5)-_e+ie.charCodeAt(de),_e|=0;else if(me(ie))for(ve=ie.byteLength/2,de=0;de<ve;de++)_e=(_e<<5)-_e+ie[de],_e|=0;return _e},le=e.__addimage__.validateStringAsBase64=function(ie){(ie=ie||"").toString().trim();var de=!0;return ie.length===0&&(de=!1),ie.length%4!=0&&(de=!1),/^[A-Za-z0-9+/]+$/.test(ie.substr(0,ie.length-2))===!1&&(de=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(ie.substr(-2))===!1&&(de=!1),de},ce=e.__addimage__.extractImageFromDataUrl=function(ie){if(ie==null||!(ie=ie.trim()).startsWith("data:"))return null;var de=ie.indexOf(",");return de<0?null:ie.substring(0,de).trim().endsWith("base64")?ie.substring(de+1):null};e.__addimage__.isArrayBuffer=function(ie){return ie instanceof ArrayBuffer};var me=e.__addimage__.isArrayBufferView=function(ie){return ie instanceof Int8Array||ie instanceof Uint8Array||ie instanceof Uint8ClampedArray||ie instanceof Int16Array||ie instanceof Uint16Array||ie instanceof Int32Array||ie instanceof Uint32Array||ie instanceof Float32Array||ie instanceof Float64Array},Ie=e.__addimage__.binaryStringToUint8Array=function(ie){for(var de=ie.length,ve=new Uint8Array(de),_e=0;_e<de;_e++)ve[_e]=ie.charCodeAt(_e);return ve},Fe=e.__addimage__.arrayBufferToBinaryString=function(ie){for(var de="",ve=me(ie)?ie:new Uint8Array(ie),_e=0;_e<ve.length;_e+=8192)de+=String.fromCharCode.apply(null,ve.subarray(_e,_e+8192));return de};e.addImage=function(){var ie,de,ve,_e,tt,Le,Ne,Ve,We;if(typeof arguments[1]=="number"?(de=r,ve=arguments[1],_e=arguments[2],tt=arguments[3],Le=arguments[4],Ne=arguments[5],Ve=arguments[6],We=arguments[7]):(de=arguments[1],ve=arguments[2],_e=arguments[3],tt=arguments[4],Le=arguments[5],Ne=arguments[6],Ve=arguments[7],We=arguments[8]),Ni(ie=arguments[0])==="object"&&!U(ie)&&"imageData"in ie){var _t=ie;ie=_t.imageData,de=_t.format||de||r,ve=_t.x||ve||0,_e=_t.y||_e||0,tt=_t.w||_t.width||tt,Le=_t.h||_t.height||Le,Ne=_t.alias||Ne,Ve=_t.compression||Ve,We=_t.rotation||_t.angle||We}var Te=this.internal.getFilters();if(Ve===void 0&&Te.indexOf("FlateEncode")!==-1&&(Ve="SLOW"),isNaN(ve)||isNaN(_e))throw new Error("Invalid coordinates passed to jsPDF.addImage");y.call(this);var ne=pe.call(this,ie,de,Ne,Ve);return K.call(this,ve,_e,tt,Le,ne,We),this};var pe=function(ie,de,ve,_e){var tt,Le,Ne;if(typeof ie=="string"&&s(ie)===r){ie=unescape(ie);var Ve=ze(ie,!1);(Ve!==""||(Ve=e.loadFile(ie,!0))!==void 0)&&(ie=Ve)}if(U(ie)&&(ie=I(ie,de)),de=s(ie,de),!S(de))throw new Error("addImage does not support files of type '"+de+"', please ensure that a plugin for '"+de+"' support is added.");if(((Ne=ve)==null||Ne.length===0)&&(ve=(function(We){return typeof We=="string"||me(We)?W(We):me(We.data)?W(We.data):null})(ie)),(tt=z.call(this,ve))||(ie instanceof Uint8Array||de==="RGBA"||(Le=ie,ie=Ie(ie)),tt=this["process"+de.toUpperCase()](ie,b.call(this),ve,(function(We){return We&&typeof We=="string"&&(We=We.toUpperCase()),We in e.image_compression?We:re.NONE})(_e),Le)),!tt)throw new Error("An unknown error occurred whilst processing the image.");return tt},ze=e.__addimage__.convertBase64ToBinaryString=function(ie,de){de=typeof de!="boolean"||de;var ve,_e="";if(typeof ie=="string"){var tt;ve=(tt=ce(ie))!==null&&tt!==void 0?tt:ie;try{_e=F1(ve)}catch(Le){if(de)throw le(ve)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Le.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return _e};e.getImageProperties=function(ie){var de,ve,_e="";if(U(ie)&&(ie=I(ie)),typeof ie=="string"&&s(ie)===r&&((_e=ze(ie,!1))===""&&(_e=e.loadFile(ie)||""),ie=_e),ve=s(ie),!S(ve))throw new Error("addImage does not support files of type '"+ve+"', please ensure that a plugin for '"+ve+"' support is added.");if(ie instanceof Uint8Array||(ie=Ie(ie)),!(de=this["process"+ve.toUpperCase()](ie)))throw new Error("An unknown error occurred whilst processing the image");return de.fileType=ve,de}})(Vr.API),(function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Vr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,s,A,f=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,y=this.internal.getPageInfoByObjId(r.objId),w=r.pageContext.annotations,b=!1,S=0;S<w.length&&!b;S++)switch((n=w[S]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(b=!0);break;case"reference":case"text":case"freetext":b=!0}if(b!=0){this.internal.write("/Annots [");for(var U=0;U<w.length;U++){n=w[U];var I=this.internal.pdfEscape,z=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var H=this.internal.newAdditionalObject(),K=this.internal.newAdditionalObject(),V=this.internal.getEncryptor(H.objId),re=n.title||"Note";A="<</Type /Annot /Subtype /Text "+(s="/Rect ["+f(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+f(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+I(V(n.contents))+")",A+=" /Popup "+K.objId+" 0 R",A+=" /P "+y.objId+" 0 R",A+=" /T ("+I(V(re))+") >>",H.content=A;var W=H.objId+" 0 R";A="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+f(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+f(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+W,n.open&&(A+=" /Open true"),A+=" >>",K.content=A,this.internal.write(H.objId,"0 R",K.objId,"0 R");break;case"freetext":s="/Rect ["+f(n.bounds.x)+" "+l(n.bounds.y)+" "+f(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var le=n.color||"#000000";A="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+I(z(n.contents))+")",A+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+le+")",A+=" /Border [0 0 0]",A+=" >>",this.internal.write(A);break;case"link":if(n.options.name){var ce=this.annotations._nameMap[n.options.name];n.options.pageNumber=ce.page,n.options.top=ce.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",A="",n.options.url)A="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+I(z(n.options.url))+") >>";else if(n.options.pageNumber)switch(A="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":A+=" /Fit]";break;case"FitH":A+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,A+=" /FitV "+n.options.left+"]";break;default:var me=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),A+=" /XYZ "+n.options.left+" "+me+" "+n.options.zoom+"]"}A!=""&&(A+=" >>",this.internal.write(A))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,s,A,f){var l=this.internal.getCurrentPageInfo(),y=this.internal.getCoordinateString,w=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:y(r),y:w(n),w:y(r+s),h:w(n+A)},options:f,type:"link"})},e.textWithLink=function(r,n,s,A){var f,l,y=this.getTextWidth(r),w=this.internal.getLineHeight()/this.internal.scaleFactor;if(A.maxWidth!==void 0){l=A.maxWidth;var b=this.splitTextToSize(r,l).length;f=Math.ceil(w*b)}else l=y,f=w;return this.text(r,n,s,A),s+=.2*w,A.align==="center"&&(n-=y/2),A.align==="right"&&(n-=y),this.link(n,s-w,l,f,A),y},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(Vr.API),(function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var A=e.__arabicParser__.isInArabicSubstitutionA=function(H){return t[H.charCodeAt(0)]!==void 0},f=e.__arabicParser__.isArabicLetter=function(H){return typeof H=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(H)},l=e.__arabicParser__.isArabicEndLetter=function(H){return f(H)&&A(H)&&t[H.charCodeAt(0)].length<=2},y=e.__arabicParser__.isArabicAlfLetter=function(H){return f(H)&&s.indexOf(H.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(H){return f(H)&&A(H)&&t[H.charCodeAt(0)].length>=1};var w=e.__arabicParser__.arabicLetterHasFinalForm=function(H){return f(H)&&A(H)&&t[H.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(H){return f(H)&&A(H)&&t[H.charCodeAt(0)].length>=3};var b=e.__arabicParser__.arabicLetterHasMedialForm=function(H){return f(H)&&A(H)&&t[H.charCodeAt(0)].length==4},S=e.__arabicParser__.resolveLigatures=function(H){var K=0,V=r,re="",W=0;for(K=0;K<H.length;K+=1)V[H.charCodeAt(K)]!==void 0?(W++,typeof(V=V[H.charCodeAt(K)])=="number"&&(re+=String.fromCharCode(V),V=r,W=0),K===H.length-1&&(V=r,re+=H.charAt(K-(W-1)),K-=W-1,W=0)):(V=r,re+=H.charAt(K-W),K-=W,W=0);return re};e.__arabicParser__.isArabicDiacritic=function(H){return H!==void 0&&n[H.charCodeAt(0)]!==void 0};var U=e.__arabicParser__.getCorrectForm=function(H,K,V){return f(H)?A(H)===!1?-1:!w(H)||!f(K)&&!f(V)||!f(V)&&l(K)||l(H)&&!f(K)||l(H)&&y(K)||l(H)&&l(K)?0:b(H)&&f(K)&&!l(K)&&f(V)&&w(V)?3:l(H)||!f(V)?1:2:-1},I=function(H){var K=0,V=0,re=0,W="",le="",ce="",me=(H=H||"").split("\\s+"),Ie=[];for(K=0;K<me.length;K+=1){for(Ie.push(""),V=0;V<me[K].length;V+=1)W=me[K][V],le=me[K][V-1],ce=me[K][V+1],f(W)?(re=U(W,le,ce),Ie[K]+=re!==-1?String.fromCharCode(t[W.charCodeAt(0)][re]):W):Ie[K]+=W;Ie[K]=S(Ie[K])}return Ie.join(" ")},z=e.__arabicParser__.processArabic=e.processArabic=function(){var H,K=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,V=[];if(Array.isArray(K)){var re=0;for(V=[],re=0;re<K.length;re+=1)Array.isArray(K[re])?V.push([I(K[re][0]),K[re][1],K[re][2]]):V.push([I(K[re])]);H=V}else H=I(K);return typeof arguments[0]=="string"?H:(arguments[0].text=H,arguments[0])};e.events.push(["preProcessText",z])})(Vr.API),Vr.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var A=[];Object.defineProperty(this,"childNodes",{get:function(){return A},set:function(l){A=l}});var f={};Object.defineProperty(this,"style",{get:function(){return f},set:function(l){f=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var s;if((r=r||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(Vr.API),(function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new A,this.internal.__cell__.pages=1},A=function(){var y=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return y},set:function(H){y=H}});var w=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return w},set:function(H){w=H}});var b=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return b},set:function(H){b=H}});var S=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return S},set:function(H){S=H}});var U=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return U},set:function(H){U=H}});var I=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return I},set:function(H){I=H}});var z=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return z},set:function(H){z=H}}),this};A.prototype.clone=function(){return new A(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},A.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(y){return n.call(this),this.internal.__cell__.headerFunction=typeof y=="function"?y:void 0,this},e.getTextDimensions=function(y,w){n.call(this);var b=(w=w||{}).fontSize||this.getFontSize(),S=w.font||this.getFont(),U=w.scaleFactor||this.internal.scaleFactor,I=0,z=0,H=0,K=this;if(!Array.isArray(y)&&typeof y!="string"){if(typeof y!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");y=String(y)}var V=w.maxWidth;V>0?typeof y=="string"?y=this.splitTextToSize(y,V):Object.prototype.toString.call(y)==="[object Array]"&&(y=y.reduce(function(W,le){return W.concat(K.splitTextToSize(le,V))},[])):y=Array.isArray(y)?y:[y];for(var re=0;re<y.length;re++)I<(H=this.getStringUnitWidth(y[re],{font:S})*b)&&(I=H);return I!==0&&(z=y.length),{w:I/=U,h:Math.max((z*b*this.getLineHeightFactor()-b*(this.getLineHeightFactor()-1))/U,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var y=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new A(y.left,y.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var f=e.cell=function(){var y;y=arguments[0]instanceof A?arguments[0]:new A(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var w=this.internal.__cell__.lastCell,b=this.internal.__cell__.padding,S=this.internal.__cell__.margins||t,U=this.internal.__cell__.tableHeaderRow,I=this.internal.__cell__.printHeaders;return w.lineNumber!==void 0&&(w.lineNumber===y.lineNumber?(y.x=(w.x||0)+(w.width||0),y.y=w.y||0):w.y+w.height+y.height+S.bottom>this.getPageHeight()?(this.cellAddPage(),y.y=S.top,I&&U&&(this.printHeaderRow(y.lineNumber,!0),y.y+=U[0].height)):y.y=w.y+w.height||y.y),y.text[0]!==void 0&&(this.rect(y.x,y.y,y.width,y.height,r===!0?"FD":void 0),y.align==="right"?this.text(y.text,y.x+y.width-b,y.y+b,{align:"right",baseline:"top"}):y.align==="center"?this.text(y.text,y.x+y.width/2,y.y+b,{align:"center",baseline:"top",maxWidth:y.width-b-b}):this.text(y.text,y.x+b,y.y+b,{align:"left",baseline:"top",maxWidth:y.width-b-b})),this.internal.__cell__.lastCell=y,this};e.table=function(y,w,b,S,U){if(n.call(this),!b)throw new Error("No data for PDF table.");var I,z,H,K,V=[],re=[],W=[],le={},ce={},me=[],Ie=[],Fe=(U=U||{}).autoSize||!1,pe=U.printHeaders!==!1,ze=U.css&&U.css["font-size"]!==void 0?16*U.css["font-size"]:U.fontSize||12,ie=U.margins||Object.assign({width:this.getPageWidth()},t),de=typeof U.padding=="number"?U.padding:3,ve=U.headerBackgroundColor||"#c8c8c8",_e=U.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=pe,this.internal.__cell__.margins=ie,this.internal.__cell__.table_font_size=ze,this.internal.__cell__.padding=de,this.internal.__cell__.headerBackgroundColor=ve,this.internal.__cell__.headerTextColor=_e,this.setFontSize(ze),S==null)re=V=Object.keys(b[0]),W=V.map(function(){return"left"});else if(Array.isArray(S)&&Ni(S[0])==="object")for(V=S.map(function(_t){return _t.name}),re=S.map(function(_t){return _t.prompt||_t.name||""}),W=S.map(function(_t){return _t.align||"left"}),I=0;I<S.length;I+=1)ce[S[I].name]=.7499990551181103*S[I].width;else Array.isArray(S)&&typeof S[0]=="string"&&(re=V=S,W=V.map(function(){return"left"}));if(Fe||Array.isArray(S)&&typeof S[0]=="string")for(I=0;I<V.length;I+=1){for(le[K=V[I]]=b.map(function(_t){return _t[K]}),this.setFont(void 0,"bold"),me.push(this.getTextDimensions(re[I],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),z=le[K],this.setFont(void 0,"normal"),H=0;H<z.length;H+=1)me.push(this.getTextDimensions(z[H],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ce[K]=Math.max.apply(null,me)+de+de,me=[]}if(pe){var tt={};for(I=0;I<V.length;I+=1)tt[V[I]]={},tt[V[I]].text=re[I],tt[V[I]].align=W[I];var Le=l.call(this,tt,ce);Ie=V.map(function(_t){return new A(y,w,ce[_t],Le,tt[_t].text,void 0,tt[_t].align)}),this.setTableHeaderRow(Ie),this.printHeaderRow(1,!1)}var Ne=S.reduce(function(_t,Te){return _t[Te.name]=Te.align,_t},{});for(I=0;I<b.length;I+=1){"rowStart"in U&&U.rowStart instanceof Function&&U.rowStart({row:I,data:b[I]},this);var Ve=l.call(this,b[I],ce);for(H=0;H<V.length;H+=1){var We=b[I][V[H]];"cellStart"in U&&U.cellStart instanceof Function&&U.cellStart({row:I,col:H,data:We},this),f.call(this,new A(y,w,ce[V[H]],Ve,We,I+2,Ne[V[H]]))}}return this.internal.__cell__.table_x=y,this.internal.__cell__.table_y=w,this};var l=function(y,w){var b=this.internal.__cell__.padding,S=this.internal.__cell__.table_font_size,U=this.internal.scaleFactor;return Object.keys(y).map(function(I){var z=y[I];return this.splitTextToSize(z.hasOwnProperty("text")?z.text:z,w[I]-b-b)},this).map(function(I){return this.getLineHeightFactor()*I.length*S/U+b+b},this).reduce(function(I,z){return Math.max(I,z)},0)};e.setTableHeaderRow=function(y){n.call(this),this.internal.__cell__.tableHeaderRow=y},e.printHeaderRow=function(y,w){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var b;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var S=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new A(S[0],S[1],S[2],S[3],void 0,-1)}this.setFont(void 0,"bold");for(var U=[],I=0;I<this.internal.__cell__.tableHeaderRow.length;I+=1){b=this.internal.__cell__.tableHeaderRow[I].clone(),w&&(b.y=this.internal.__cell__.margins.top||0,U.push(b)),b.lineNumber=y;var z=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),f.call(this,b),this.setTextColor(z)}U.length>0&&this.setTableHeaderRow(U),this.setFont(void 0,"normal"),r=!1}})(Vr.API);var jD={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},KD=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],i5=HD(KD),VD=[100,200,300,400,500,600,700,800,900],fse=HD(VD);function b2(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=(function(A){return jD[A=A||"normal"]?A:"normal"})(e.style),n=(function(A){return A?typeof A=="number"?A>=100&&A<=900&&A%100==0?A:400:/^\d00$/.test(A)?parseInt(A):A==="bold"?700:400:400})(e.weight),s=(function(A){return typeof i5[A=A||"normal"]=="number"?A:"normal"})(e.stretch);return{family:t,style:r,weight:n,stretch:s,src:e.src||[],ref:e.ref||{name:t,style:[s,r,n].join(" ")}}}function LF(e,t,r,n){var s;for(s=r;s>=0&&s<t.length;s+=n)if(e[t[s]])return e[t[s]];for(s=r;s>=0&&s<t.length;s-=n)if(e[t[s]])return e[t[s]]}var dse={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},MF={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function PF(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function OF(e){return e.trimLeft()}function pse(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function gse(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var m1,DF,kF,xg,y1,QF,NF,RF,x2=["times"];function zF(e,t,r,n,s){var A=4,f=jF;switch(s){case Vr.API.image_compression.FAST:A=1,f=HF;break;case Vr.API.image_compression.MEDIUM:A=6,f=KF;break;case Vr.API.image_compression.SLOW:A=9,f=VF}e=(function(y,w,b,S){for(var U,I=y.length/w,z=new Uint8Array(y.length+I),H=[mse,HF,jF,KF,VF],K=0;K<I;K+=1){var V=K*w,re=y.subarray(V,V+w);if(S)z.set(S(re,b,U),V+K);else{for(var W=H.length,le=[],ce=0;ce<W;ce+=1)le[ce]=H[ce](re,b,U);var me=vse(le.concat());z.set(le[me],V+K)}U=re}return z})(e,t,Math.ceil(r*n/8),f);var l=WB(e,{level:A});return Vr.API.__addimage__.arrayBufferToBinaryString(l)}function mse(e){var t=Array.apply([],e);return t.unshift(0),t}function HF(e,t){var r=e.length,n=[];n[0]=1;for(var s=0;s<r;s+=1){var A=e[s-t]||0;n[s+1]=e[s]-A+256&255}return n}function jF(e,t,r){var n=e.length,s=[];s[0]=2;for(var A=0;A<n;A+=1){var f=r&&r[A]||0;s[A+1]=e[A]-f+256&255}return s}function KF(e,t,r){var n=e.length,s=[];s[0]=3;for(var A=0;A<n;A+=1){var f=e[A-t]||0,l=r&&r[A]||0;s[A+1]=e[A]+256-(f+l>>>1)&255}return s}function VF(e,t,r){var n=e.length,s=[];s[0]=4;for(var A=0;A<n;A+=1){var f=yse(e[A-t]||0,r&&r[A]||0,r&&r[A-t]||0);s[A+1]=e[A]-f+256&255}return s}function yse(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),s=Math.abs(e-r),A=Math.abs(e+t-r-r);return n<=s&&n<=A?e:s<=A?t:r}function vse(e){var t=e.map(function(r){return r.reduce(function(n,s){return n+Math.abs(s)},0)});return t.indexOf(Math.min.apply(null,t))}function B2(e,t,r){var n=t*r,s=Math.floor(n/8),A=16-(n-8*s+r),f=(1<<r)-1;return qD(e,s)>>A&f}function qF(e,t,r,n){var s=r*n,A=Math.floor(s/8),f=16-(s-8*A+n),l=(1<<n)-1,y=(t&l)<<f;(function(w,b,S){if(b+1<w.byteLength)w.setUint16(b,S,!1);else{var U=S>>8&255;w.setUint8(b,U)}})(e,A,qD(e,A)&~(l<<f)&65535|y)}function qD(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function _se(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,s=e[t++],A=s>>7,f=1<<1+(7&s);e[t++],e[t++];var l=null,y=null;A&&(l=t,y=f,t+=3*f);var w=!0,b=[],S=0,U=null,I=0,z=null;for(this.width=r,this.height=n;w&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,z=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((ie=e[t++])>=0))throw Error("Invalid block size");if(ie===0)break;t+=ie}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var H=e[t++];S=e[t++]|e[t++]<<8,U=e[t++],1&H||(U=null),I=H>>2&7,t++;break;case 254:for(;;){if(!((ie=e[t++])>=0))throw Error("Invalid block size");if(ie===0)break;t+=ie}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var K=e[t++]|e[t++]<<8,V=e[t++]|e[t++]<<8,re=e[t++]|e[t++]<<8,W=e[t++]|e[t++]<<8,le=e[t++],ce=le>>6&1,me=1<<1+(7&le),Ie=l,Fe=y,pe=!1;le>>7&&(pe=!0,Ie=t,Fe=me,t+=3*me);var ze=t;for(t++;;){var ie;if(!((ie=e[t++])>=0))throw Error("Invalid block size");if(ie===0)break;t+=ie}b.push({x:K,y:V,width:re,height:W,has_local_palette:pe,palette_offset:Ie,palette_size:Fe,data_offset:ze,data_length:t-ze,transparent_index:U,interlaced:!!ce,delay:S,disposal:I});break;case 59:w=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return b.length},this.loopCount=function(){return z},this.frameInfo=function(de){if(de<0||de>=b.length)throw new Error("Frame index out of range.");return b[de]},this.decodeAndBlitFrameBGRA=function(de,ve){var _e=this.frameInfo(de),tt=_e.width*_e.height,Le=new Uint8Array(tt);GF(e,_e.data_offset,Le,tt);var Ne=_e.palette_offset,Ve=_e.transparent_index;Ve===null&&(Ve=256);var We=_e.width,_t=r-We,Te=We,ne=4*(_e.y*r+_e.x),we=4*((_e.y+_e.height)*r+_e.x),Ue=ne,De=4*_t;_e.interlaced===!0&&(De+=4*r*7);for(var Xe=8,Je=0,dt=Le.length;Je<dt;++Je){var He=Le[Je];if(Te===0&&(Te=We,(Ue+=De)>=we&&(De=4*_t+4*r*(Xe-1),Ue=ne+(We+_t)*(Xe<<1),Xe>>=1)),He===Ve)Ue+=4;else{var ft=e[Ne+3*He],It=e[Ne+3*He+1],ct=e[Ne+3*He+2];ve[Ue++]=ct,ve[Ue++]=It,ve[Ue++]=ft,ve[Ue++]=255}--Te}},this.decodeAndBlitFrameRGBA=function(de,ve){var _e=this.frameInfo(de),tt=_e.width*_e.height,Le=new Uint8Array(tt);GF(e,_e.data_offset,Le,tt);var Ne=_e.palette_offset,Ve=_e.transparent_index;Ve===null&&(Ve=256);var We=_e.width,_t=r-We,Te=We,ne=4*(_e.y*r+_e.x),we=4*((_e.y+_e.height)*r+_e.x),Ue=ne,De=4*_t;_e.interlaced===!0&&(De+=4*r*7);for(var Xe=8,Je=0,dt=Le.length;Je<dt;++Je){var He=Le[Je];if(Te===0&&(Te=We,(Ue+=De)>=we&&(De=4*_t+4*r*(Xe-1),Ue=ne+(We+_t)*(Xe<<1),Xe>>=1)),He===Ve)Ue+=4;else{var ft=e[Ne+3*He],It=e[Ne+3*He+1],ct=e[Ne+3*He+2];ve[Ue++]=ft,ve[Ue++]=It,ve[Ue++]=ct,ve[Ue++]=255}--Te}}}function GF(e,t,r,n){for(var s=e[t++],A=1<<s,f=A+1,l=f+1,y=s+1,w=(1<<y)-1,b=0,S=0,U=0,I=e[t++],z=new Int32Array(4096),H=null;;){for(;b<16&&I!==0;)S|=e[t++]<<b,b+=8,I===1?I=e[t++]:--I;if(b<y)break;var K=S&w;if(S>>=y,b-=y,K!==A){if(K===f)break;for(var V=K<l?K:H,re=0,W=V;W>A;)W=z[W]>>8,++re;var le=W;if(U+re+(V!==K?1:0)>n)return void aa.log("Warning, gif stream longer than expected.");r[U++]=le;var ce=U+=re;for(V!==K&&(r[U++]=le),W=V;re--;)W=z[W],r[--ce]=255&W,W>>=8;H!==null&&l<4096&&(z[l++]=H<<8|le,l>=w+1&&y<12&&(++y,w=w<<1|1)),H=K}else l=f+1,w=(1<<(y=s+1))-1,H=null}return U!==n&&aa.log("Warning, gif stream shorter than expected."),r}function C2(e){var t,r,n,s,A,f=Math.floor,l=new Array(64),y=new Array(64),w=new Array(64),b=new Array(64),S=new Array(65535),U=new Array(65535),I=new Array(64),z=new Array(64),H=[],K=0,V=7,re=new Array(64),W=new Array(64),le=new Array(64),ce=new Array(256),me=new Array(2048),Ie=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Fe=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],pe=[0,1,2,3,4,5,6,7,8,9,10,11],ze=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],ie=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],de=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ve=[0,1,2,3,4,5,6,7,8,9,10,11],_e=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],tt=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Le(ne,we){for(var Ue=0,De=0,Xe=new Array,Je=1;Je<=16;Je++){for(var dt=1;dt<=ne[Je];dt++)Xe[we[De]]=[],Xe[we[De]][0]=Ue,Xe[we[De]][1]=Je,De++,Ue++;Ue*=2}return Xe}function Ne(ne){for(var we=ne[0],Ue=ne[1]-1;Ue>=0;)we&1<<Ue&&(K|=1<<V),Ue--,--V<0&&(K==255?(Ve(255),Ve(0)):Ve(K),V=7,K=0)}function Ve(ne){H.push(ne)}function We(ne){Ve(ne>>8&255),Ve(255&ne)}function _t(ne,we,Ue,De,Xe){for(var Je,dt=Xe[0],He=Xe[240],ft=(function(Et,nr){var ur,Tr,Br,rn,nn,Jr,yn,Ft,cr,Pr,fr=0;for(cr=0;cr<8;++cr){ur=Et[fr],Tr=Et[fr+1],Br=Et[fr+2],rn=Et[fr+3],nn=Et[fr+4],Jr=Et[fr+5],yn=Et[fr+6];var ri=ur+(Ft=Et[fr+7]),Pt=ur-Ft,Zt=Tr+yn,qt=Tr-yn,$r=Br+Jr,_r=Br-Jr,sr=rn+nn,Ur=rn-nn,Rr=ri+sr,kn=ri-sr,Gr=Zt+$r,Me=Zt-$r;Et[fr]=Rr+Gr,Et[fr+4]=Rr-Gr;var oe=.707106781*(Me+kn);Et[fr+2]=kn+oe,Et[fr+6]=kn-oe;var Ae=.382683433*((Rr=Ur+_r)-(Me=qt+Pt)),be=.5411961*Rr+Ae,ke=1.306562965*Me+Ae,Ye=.707106781*(Gr=_r+qt),je=Pt+Ye,st=Pt-Ye;Et[fr+5]=st+be,Et[fr+3]=st-be,Et[fr+1]=je+ke,Et[fr+7]=je-ke,fr+=8}for(fr=0,cr=0;cr<8;++cr){ur=Et[fr],Tr=Et[fr+8],Br=Et[fr+16],rn=Et[fr+24],nn=Et[fr+32],Jr=Et[fr+40],yn=Et[fr+48];var $e=ur+(Ft=Et[fr+56]),gt=ur-Ft,Lt=Tr+yn,ut=Tr-yn,Nt=Br+Jr,Jt=Br-Jr,dr=rn+nn,Zr=rn-nn,or=$e+dr,Or=$e-dr,zr=Lt+Nt,Kn=Lt-Nt;Et[fr]=or+zr,Et[fr+32]=or-zr;var Qn=.707106781*(Kn+Or);Et[fr+16]=Or+Qn,Et[fr+48]=Or-Qn;var en=.382683433*((or=Zr+Jt)-(Kn=ut+gt)),vn=.5411961*or+en,Pn=1.306562965*Kn+en,mi=.707106781*(zr=Jt+ut),ai=gt+mi,yi=gt-mi;Et[fr+40]=yi+vn,Et[fr+24]=yi-vn,Et[fr+8]=ai+Pn,Et[fr+56]=ai-Pn,fr++}for(cr=0;cr<64;++cr)Pr=Et[cr]*nr[cr],I[cr]=Pr>0?Pr+.5|0:Pr-.5|0;return I})(ne,we),It=0;It<64;++It)z[Ie[It]]=ft[It];var ct=z[0]-Ue;Ue=z[0],ct==0?Ne(De[0]):(Ne(De[U[Je=32767+ct]]),Ne(S[Je]));for(var Xt=63;Xt>0&&z[Xt]==0;)Xt--;if(Xt==0)return Ne(dt),Ue;for(var $t,Pe=1;Pe<=Xt;){for(var Ze=Pe;z[Pe]==0&&Pe<=Xt;)++Pe;var Nr=Pe-Ze;if(Nr>=16){$t=Nr>>4;for(var Er=1;Er<=$t;++Er)Ne(He);Nr&=15}Je=32767+z[Pe],Ne(Xe[(Nr<<4)+U[Je]]),Ne(S[Je]),Pe++}return Xt!=63&&Ne(dt),Ue}function Te(ne){ne=Math.min(Math.max(ne,1),100),A!=ne&&((function(we){for(var Ue=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],De=0;De<64;De++){var Xe=f((Ue[De]*we+50)/100);Xe=Math.min(Math.max(Xe,1),255),l[Ie[De]]=Xe}for(var Je=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],dt=0;dt<64;dt++){var He=f((Je[dt]*we+50)/100);He=Math.min(Math.max(He,1),255),y[Ie[dt]]=He}for(var ft=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],It=0,ct=0;ct<8;ct++)for(var Xt=0;Xt<8;Xt++)w[It]=1/(l[Ie[It]]*ft[ct]*ft[Xt]*8),b[It]=1/(y[Ie[It]]*ft[ct]*ft[Xt]*8),It++})(ne<50?Math.floor(5e3/ne):Math.floor(200-2*ne)),A=ne)}this.encode=function(ne,we){we&&Te(we),H=new Array,K=0,V=7,We(65496),We(65504),We(16),Ve(74),Ve(70),Ve(73),Ve(70),Ve(0),Ve(1),Ve(1),Ve(0),We(1),We(1),Ve(0),Ve(0),(function(){We(65499),We(132),Ve(0);for(var Tr=0;Tr<64;Tr++)Ve(l[Tr]);Ve(1);for(var Br=0;Br<64;Br++)Ve(y[Br])})(),(function(Tr,Br){We(65472),We(17),Ve(8),We(Br),We(Tr),Ve(3),Ve(1),Ve(17),Ve(0),Ve(2),Ve(17),Ve(1),Ve(3),Ve(17),Ve(1)})(ne.width,ne.height),(function(){We(65476),We(418),Ve(0);for(var Tr=0;Tr<16;Tr++)Ve(Fe[Tr+1]);for(var Br=0;Br<=11;Br++)Ve(pe[Br]);Ve(16);for(var rn=0;rn<16;rn++)Ve(ze[rn+1]);for(var nn=0;nn<=161;nn++)Ve(ie[nn]);Ve(1);for(var Jr=0;Jr<16;Jr++)Ve(de[Jr+1]);for(var yn=0;yn<=11;yn++)Ve(ve[yn]);Ve(17);for(var Ft=0;Ft<16;Ft++)Ve(_e[Ft+1]);for(var cr=0;cr<=161;cr++)Ve(tt[cr])})(),We(65498),We(12),Ve(3),Ve(1),Ve(0),Ve(2),Ve(17),Ve(3),Ve(17),Ve(0),Ve(63),Ve(0);var Ue=0,De=0,Xe=0;K=0,V=7,this.encode.displayName="_encode_";for(var Je,dt,He,ft,It,ct,Xt,$t,Pe,Ze=ne.data,Nr=ne.width,Er=ne.height,Et=4*Nr,nr=0;nr<Er;){for(Je=0;Je<Et;){for(It=Et*nr+Je,Xt=-1,$t=0,Pe=0;Pe<64;Pe++)ct=It+($t=Pe>>3)*Et+(Xt=4*(7&Pe)),nr+$t>=Er&&(ct-=Et*(nr+1+$t-Er)),Je+Xt>=Et&&(ct-=Je+Xt-Et+4),dt=Ze[ct++],He=Ze[ct++],ft=Ze[ct++],re[Pe]=(me[dt]+me[He+256|0]+me[ft+512|0]>>16)-128,W[Pe]=(me[dt+768|0]+me[He+1024|0]+me[ft+1280|0]>>16)-128,le[Pe]=(me[dt+1280|0]+me[He+1536|0]+me[ft+1792|0]>>16)-128;Ue=_t(re,w,Ue,t,n),De=_t(W,b,De,r,s),Xe=_t(le,b,Xe,r,s),Je+=32}nr+=8}if(V>=0){var ur=[];ur[1]=V+1,ur[0]=(1<<V+1)-1,Ne(ur)}return We(65497),new Uint8Array(H)},e=e||50,(function(){for(var ne=String.fromCharCode,we=0;we<256;we++)ce[we]=ne(we)})(),t=Le(Fe,pe),r=Le(de,ve),n=Le(ze,ie),s=Le(_e,tt),(function(){for(var ne=1,we=2,Ue=1;Ue<=15;Ue++){for(var De=ne;De<we;De++)U[32767+De]=Ue,S[32767+De]=[],S[32767+De][1]=Ue,S[32767+De][0]=De;for(var Xe=-(we-1);Xe<=-ne;Xe++)U[32767+Xe]=Ue,S[32767+Xe]=[],S[32767+Xe][1]=Ue,S[32767+Xe][0]=we-1+Xe;ne<<=1,we<<=1}})(),(function(){for(var ne=0;ne<256;ne++)me[ne]=19595*ne,me[ne+256|0]=38470*ne,me[ne+512|0]=7471*ne+32768,me[ne+768|0]=-11059*ne,me[ne+1024|0]=-21709*ne,me[ne+1280|0]=32768*ne+8421375,me[ne+1536|0]=-27439*ne,me[ne+1792|0]=-5329*ne})(),Te(e)}function Tc(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function XF(e){function t(pe){if(!pe)throw Error("assert :P")}function r(pe,ze,ie){for(var de=0;4>de;de++)if(pe[ze+de]!=ie.charCodeAt(de))return!0;return!1}function n(pe,ze,ie,de,ve){for(var _e=0;_e<ve;_e++)pe[ze+_e]=ie[de+_e]}function s(pe,ze,ie,de){for(var ve=0;ve<de;ve++)pe[ze+ve]=ie}function A(pe){return new Int32Array(pe)}function f(pe,ze){for(var ie=[],de=0;de<pe;de++)ie.push(new ze);return ie}function l(pe,ze){var ie=[];return(function de(ve,_e,tt){for(var Le=tt[_e],Ne=0;Ne<Le&&(ve.push(tt.length>_e+1?[]:new ze),!(tt.length<_e+1));Ne++)de(ve[Ne],_e+1,tt)})(ie,0,pe),ie}var y=function(){var pe=this;function ze(L,D){for(var $=1<<D-1>>>0;L&$;)$>>>=1;return $?(L&$-1)+$:L}function ie(L,D,$,_,i){t(!(_%$));do L[D+(_-=$)]=i;while(0<_)}function de(L,D,$,_,i){if(t(2328>=i),512>=i)var h=A(512);else if((h=A(i))==null)return 0;return(function(p,v,x,F,M,k){var Q,G,X=v,J=1<<x,ee=A(16),ue=A(16);for(t(M!=0),t(F!=null),t(p!=null),t(0<x),G=0;G<M;++G){if(15<F[G])return 0;++ee[F[G]]}if(ee[0]==M)return 0;for(ue[1]=0,Q=1;15>Q;++Q){if(ee[Q]>1<<Q)return 0;ue[Q+1]=ue[Q]+ee[Q]}for(G=0;G<M;++G)Q=F[G],0<F[G]&&(k[ue[Q]++]=G);if(ue[15]==1)return(F=new ve).g=0,F.value=k[0],ie(p,X,1,J,F),J;var ge,Ce=-1,xe=J-1,Oe=0,Ee=1,qe=1,Ke=1<<x;for(G=0,Q=1,M=2;Q<=x;++Q,M<<=1){if(Ee+=qe<<=1,0>(qe-=ee[Q]))return 0;for(;0<ee[Q];--ee[Q])(F=new ve).g=Q,F.value=k[G++],ie(p,X+Oe,M,Ke,F),Oe=ze(Oe,Q)}for(Q=x+1,M=2;15>=Q;++Q,M<<=1){if(Ee+=qe<<=1,0>(qe-=ee[Q]))return 0;for(;0<ee[Q];--ee[Q]){if(F=new ve,(Oe&xe)!=Ce){for(X+=Ke,ge=1<<(Ce=Q)-x;15>Ce&&!(0>=(ge-=ee[Ce]));)++Ce,ge<<=1;J+=Ke=1<<(ge=Ce-x),p[v+(Ce=Oe&xe)].g=ge+x,p[v+Ce].value=X-v-Ce}F.g=Q-x,F.value=k[G++],ie(p,X+(Oe>>x),M,Ke,F),Oe=ze(Oe,Q)}}return Ee!=2*ue[15]-1?0:J})(L,D,$,_,i,h)}function ve(){this.value=this.g=0}function _e(){this.value=this.g=0}function tt(){this.G=f(5,ve),this.H=A(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=f(ul,_e)}function Le(L,D,$,_){t(L!=null),t(D!=null),t(2147483648>_),L.Ca=254,L.I=0,L.b=-8,L.Ka=0,L.oa=D,L.pa=$,L.Jd=D,L.Yc=$+_,L.Zc=4<=_?$+_-4+1:$,dt(L)}function Ne(L,D){for(var $=0;0<D--;)$|=ft(L,128)<<D;return $}function Ve(L,D){var $=Ne(L,D);return He(L)?-$:$}function We(L,D,$,_){var i,h=0;for(t(L!=null),t(D!=null),t(4294967288>_),L.Sb=_,L.Ra=0,L.u=0,L.h=0,4<_&&(_=4),i=0;i<_;++i)h+=D[$+i]<<8*i;L.Ra=h,L.bb=_,L.oa=D,L.pa=$}function _t(L){for(;8<=L.u&&L.bb<L.Sb;)L.Ra>>>=8,L.Ra+=L.oa[L.pa+L.bb]<<Xa-8>>>0,++L.bb,L.u-=8;De(L)&&(L.h=1,L.u=0)}function Te(L,D){if(t(0<=D),!L.h&&D<=Ha){var $=Ue(L)&Ga[D];return L.u+=D,_t(L),$}return L.h=1,L.u=0}function ne(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function we(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Ue(L){return L.Ra>>>(L.u&Xa-1)>>>0}function De(L){return t(L.bb<=L.Sb),L.h||L.bb==L.Sb&&L.u>Xa}function Xe(L,D){L.u=D,L.h=De(L)}function Je(L){L.u>=Ts&&(t(L.u>=Ts),_t(L))}function dt(L){t(L!=null&&L.oa!=null),L.pa<L.Zc?(L.I=(L.oa[L.pa++]|L.I<<8)>>>0,L.b+=8):(t(L!=null&&L.oa!=null),L.pa<L.Yc?(L.b+=8,L.I=L.oa[L.pa++]|L.I<<8):L.Ka?L.b=0:(L.I<<=8,L.b+=8,L.Ka=1))}function He(L){return Ne(L,1)}function ft(L,D){var $=L.Ca;0>L.b&&dt(L);var _=L.b,i=$*D>>>8,h=(L.I>>>_>i)+0;for(h?($-=i,L.I-=i+1<<_>>>0):$=i+1,_=$,i=0;256<=_;)i+=8,_>>=8;return _=7^i+Ws[_],L.b-=_,L.Ca=($<<_)-1,h}function It(L,D,$){L[D+0]=$>>24&255,L[D+1]=$>>16&255,L[D+2]=$>>8&255,L[D+3]=255&$}function ct(L,D){return L[D+0]|L[D+1]<<8}function Xt(L,D){return ct(L,D)|L[D+2]<<16}function $t(L,D){return ct(L,D)|ct(L,D+2)<<16}function Pe(L,D){var $=1<<D;return t(L!=null),t(0<D),L.X=A($),L.X==null?0:(L.Mb=32-D,L.Xa=D,1)}function Ze(L,D){t(L!=null),t(D!=null),t(L.Xa==D.Xa),n(D.X,0,L.X,0,1<<D.Xa)}function Nr(){this.X=[],this.Xa=this.Mb=0}function Er(L,D,$,_){t($!=null),t(_!=null);var i=$[0],h=_[0];return i==0&&(i=(L*h+D/2)/D),h==0&&(h=(D*i+L/2)/L),0>=i||0>=h?0:($[0]=i,_[0]=h,1)}function Et(L,D){return L+(1<<D)-1>>>D}function nr(L,D){return((4278255360&L)+(4278255360&D)>>>0&4278255360)+((16711935&L)+(16711935&D)>>>0&16711935)>>>0}function ur(L,D){pe[D]=function($,_,i,h,p,v,x){var F;for(F=0;F<p;++F){var M=pe[L](v[x+F-1],i,h+F);v[x+F]=nr($[_+F],M)}}}function Tr(){this.ud=this.hd=this.jd=0}function Br(L,D){return((4278124286&(L^D))>>>1)+(L&D)>>>0}function rn(L){return 0<=L&&256>L?L:0>L?0:255<L?255:void 0}function nn(L,D){return rn(L+(L-D+.5>>1))}function Jr(L,D,$){return Math.abs(D-$)-Math.abs(L-$)}function yn(L,D,$,_,i,h,p){for(_=h[p-1],$=0;$<i;++$)h[p+$]=_=nr(L[D+$],_)}function Ft(L,D,$,_,i){var h;for(h=0;h<$;++h){var p=L[D+h],v=p>>8&255,x=16711935&(x=(x=16711935&p)+((v<<16)+v));_[i+h]=(4278255360&p)+x>>>0}}function cr(L,D){D.jd=255&L,D.hd=L>>8&255,D.ud=L>>16&255}function Pr(L,D,$,_,i,h){var p;for(p=0;p<_;++p){var v=D[$+p],x=v>>>8,F=v,M=255&(M=(M=v>>>16)+((L.jd<<24>>24)*(x<<24>>24)>>>5));F=255&(F=(F+=(L.hd<<24>>24)*(x<<24>>24)>>>5)+((L.ud<<24>>24)*(M<<24>>24)>>>5)),i[h+p]=(4278255360&v)+(M<<16)+F}}function fr(L,D,$,_,i){pe[D]=function(h,p,v,x,F,M,k,Q,G){for(x=k;x<Q;++x)for(k=0;k<G;++k)F[M++]=i(v[_(h[p++])])},pe[L]=function(h,p,v,x,F,M,k){var Q=8>>h.b,G=h.Ea,X=h.K[0],J=h.w;if(8>Q)for(h=(1<<h.b)-1,J=(1<<Q)-1;p<v;++p){var ee,ue=0;for(ee=0;ee<G;++ee)ee&h||(ue=_(x[F++])),M[k++]=i(X[ue&J]),ue>>=Q}else pe["VP8LMapColor"+$](x,F,X,J,M,k,p,v,G)}}function ri(L,D,$,_,i){for($=D+$;D<$;){var h=L[D++];_[i++]=h>>16&255,_[i++]=h>>8&255,_[i++]=255&h}}function Pt(L,D,$,_,i){for($=D+$;D<$;){var h=L[D++];_[i++]=h>>16&255,_[i++]=h>>8&255,_[i++]=255&h,_[i++]=h>>24&255}}function Zt(L,D,$,_,i){for($=D+$;D<$;){var h=(p=L[D++])>>16&240|p>>12&15,p=240&p|p>>28&15;_[i++]=h,_[i++]=p}}function qt(L,D,$,_,i){for($=D+$;D<$;){var h=(p=L[D++])>>16&248|p>>13&7,p=p>>5&224|p>>3&31;_[i++]=h,_[i++]=p}}function $r(L,D,$,_,i){for($=D+$;D<$;){var h=L[D++];_[i++]=255&h,_[i++]=h>>8&255,_[i++]=h>>16&255}}function _r(L,D,$,_,i,h){if(h==0)for($=D+$;D<$;)It(_,((h=L[D++])[0]>>24|h[1]>>8&65280|h[2]<<8&16711680|h[3]<<24)>>>0),i+=32;else n(_,i,L,D,$)}function sr(L,D){pe[D][0]=pe[L+"0"],pe[D][1]=pe[L+"1"],pe[D][2]=pe[L+"2"],pe[D][3]=pe[L+"3"],pe[D][4]=pe[L+"4"],pe[D][5]=pe[L+"5"],pe[D][6]=pe[L+"6"],pe[D][7]=pe[L+"7"],pe[D][8]=pe[L+"8"],pe[D][9]=pe[L+"9"],pe[D][10]=pe[L+"10"],pe[D][11]=pe[L+"11"],pe[D][12]=pe[L+"12"],pe[D][13]=pe[L+"13"],pe[D][14]=pe[L+"0"],pe[D][15]=pe[L+"0"]}function Ur(L){return L==EA||L==TA||L==IA||L==Mu}function Rr(){this.eb=[],this.size=this.A=this.fb=0}function kn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Gr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Rr,this.f.kb=new kn,this.sd=null}function Me(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function oe(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ae(L){return alert("todo:WebPSamplerProcessPlane"),L.T}function be(L,D){var $=L.T,_=D.ba.f.RGBA,i=_.eb,h=_.fb+L.ka*_.A,p=Hr[D.ba.S],v=L.y,x=L.O,F=L.f,M=L.N,k=L.ea,Q=L.W,G=D.cc,X=D.dc,J=D.Mc,ee=D.Nc,ue=L.ka,ge=L.ka+L.T,Ce=L.U,xe=Ce+1>>1;for(ue==0?p(v,x,null,null,F,M,k,Q,F,M,k,Q,i,h,null,null,Ce):(p(D.ec,D.fc,v,x,G,X,J,ee,F,M,k,Q,i,h-_.A,i,h,Ce),++$);ue+2<ge;ue+=2)G=F,X=M,J=k,ee=Q,M+=L.Rc,Q+=L.Rc,h+=2*_.A,p(v,(x+=2*L.fa)-L.fa,v,x,G,X,J,ee,F,M,k,Q,i,h-_.A,i,h,Ce);return x+=L.fa,L.j+ge<L.o?(n(D.ec,D.fc,v,x,Ce),n(D.cc,D.dc,F,M,xe),n(D.Mc,D.Nc,k,Q,xe),$--):1&ge||p(v,x,null,null,F,M,k,Q,F,M,k,Q,i,h+_.A,null,null,Ce),$}function ke(L,D,$){var _=L.F,i=[L.J];if(_!=null){var h=L.U,p=D.ba.S,v=p==su||p==IA;D=D.ba.f.RGBA;var x=[0],F=L.ka;x[0]=L.T,L.Kb&&(F==0?--x[0]:(--F,i[0]-=L.width),L.j+L.ka+L.T==L.o&&(x[0]=L.o-L.j-F));var M=D.eb;F=D.fb+F*D.A,L=jo(_,i[0],L.width,h,x,M,F+(v?0:3),D.A),t($==x),L&&Ur(p)&&Ho(M,F,v,h,x,D.A)}return 0}function Ye(L){var D=L.ma,$=D.ba.S,_=11>$,i=$==va||$==hs||$==su||$==SA||$==12||Ur($);if(D.memory=null,D.Ib=null,D.Jb=null,D.Nd=null,!ss(D.Oa,L,i?11:12))return 0;if(i&&Ur($)&&iu(),L.da)alert("todo:use_scaling");else{if(_){if(D.Ib=Ae,L.Kb){if($=L.U+1>>1,D.memory=A(L.U+2*$),D.memory==null)return 0;D.ec=D.memory,D.fc=0,D.cc=D.ec,D.dc=D.fc+L.U,D.Mc=D.cc,D.Nc=D.dc+$,D.Ib=be,iu()}}else alert("todo:EmitYUV");i&&(D.Jb=ke,_&&ga())}if(_&&!ca){for(L=0;256>L;++L)pn[L]=89858*(L-128)+Ou>>to,Kc[L]=-22014*(L-128)+Ou,pc[L]=-45773*(L-128),Zl[L]=113618*(L-128)+Ou>>to;for(L=$l;L<PA;++L)D=76283*(L-16)+Ou>>to,yf[L-$l]=Vn(D,255),gc[L-$l]=Vn(D+8>>4,15);ca=1}return 1}function je(L){var D=L.ma,$=L.U,_=L.T;return t(!(1&L.ka)),0>=$||0>=_?0:($=D.Ib(L,D),D.Jb!=null&&D.Jb(L,D,$),D.Dc+=$,1)}function st(L){L.ma.memory=null}function $e(L,D,$,_){return Te(L,8)!=47?0:(D[0]=Te(L,14)+1,$[0]=Te(L,14)+1,_[0]=Te(L,1),Te(L,3)!=0?0:!L.h)}function gt(L,D){if(4>L)return L+1;var $=L-2>>1;return(2+(1&L)<<$)+Te(D,$)+1}function Lt(L,D){return 120<D?D-120:1<=($=(($=Oi[D-1])>>4)*L+(8-(15&$)))?$:1;var $}function ut(L,D,$){var _=Ue($),i=L[D+=255&_].g-8;return 0<i&&(Xe($,$.u+8),_=Ue($),D+=L[D].value,D+=_&(1<<i)-1),Xe($,$.u+L[D].g),L[D].value}function Nt(L,D,$){return $.g+=L.g,$.value+=L.value<<D>>>0,t(8>=$.g),L.g}function Jt(L,D,$){var _=L.xc;return t((D=_==0?0:L.vc[L.md*($>>_)+(D>>_)])<L.Wb),L.Ya[D]}function dr(L,D,$,_){var i=L.ab,h=L.c*D,p=L.C;D=p+D;var v=$,x=_;for(_=L.Ta,$=L.Ua;0<i--;){var F=L.gc[i],M=p,k=D,Q=v,G=x,X=(x=_,v=$,F.Ea);switch(t(M<k),t(k<=F.nc),F.hc){case 2:Ci(Q,G,(k-M)*X,x,v);break;case 0:var J=M,ee=k,ue=x,ge=v,Ce=(Ke=F).Ea;J==0&&(No(Q,G,null,null,1,ue,ge),yn(Q,G+1,0,0,Ce-1,ue,ge+1),G+=Ce,ge+=Ce,++J);for(var xe=1<<Ke.b,Oe=xe-1,Ee=Et(Ce,Ke.b),qe=Ke.K,Ke=Ke.w+(J>>Ke.b)*Ee;J<ee;){var it=qe,bt=Ke,Ct=1;for(cl(Q,G,ue,ge-Ce,1,ue,ge);Ct<Ce;){var yt=(Ct&~Oe)+xe;yt>Ce&&(yt=Ce),(0,dn[it[bt++]>>8&15])(Q,G+ +Ct,ue,ge+Ct-Ce,yt-Ct,ue,ge+Ct),Ct=yt}G+=Ce,ge+=Ce,++J&Oe||(Ke+=Ee)}k!=F.nc&&n(x,v-X,x,v+(k-M-1)*X,X);break;case 1:for(X=Q,ee=G,Ce=(Q=F.Ea)-(ge=Q&~(ue=(G=1<<F.b)-1)),J=Et(Q,F.b),xe=F.K,F=F.w+(M>>F.b)*J;M<k;){for(Oe=xe,Ee=F,qe=new Tr,Ke=ee+ge,it=ee+Q;ee<Ke;)cr(Oe[Ee++],qe),Gl(qe,X,ee,G,x,v),ee+=G,v+=G;ee<it&&(cr(Oe[Ee++],qe),Gl(qe,X,ee,Ce,x,v),ee+=Ce,v+=Ce),++M&ue||(F+=J)}break;case 3:if(Q==x&&G==v&&0<F.b){for(ee=x,Q=X=v+(k-M)*X-(ge=(k-M)*Et(F.Ea,F.b)),G=x,ue=v,J=[],ge=(Ce=ge)-1;0<=ge;--ge)J[ge]=G[ue+ge];for(ge=Ce-1;0<=ge;--ge)ee[Q+ge]=J[ge];ql(F,M,k,x,X,x,v)}else ql(F,M,k,Q,G,x,v)}v=_,x=$}x!=$&&n(_,$,v,x,h)}function Zr(L,D){var $=L.V,_=L.Ba+L.c*L.C,i=D-L.C;if(t(D<=L.l.o),t(16>=i),0<i){var h=L.l,p=L.Ta,v=L.Ua,x=h.width;if(dr(L,i,$,_),i=v=[v],t(($=L.C)<(_=D)),t(h.v<h.va),_>h.o&&(_=h.o),$<h.j){var F=h.j-$;$=h.j,i[0]+=F*x}if($>=_?$=0:(i[0]+=4*h.v,h.ka=$-h.j,h.U=h.va-h.v,h.T=_-$,$=1),$){if(v=v[0],11>($=L.ca).S){var M=$.f.RGBA,k=(_=$.S,i=h.U,h=h.T,F=M.eb,M.A),Q=h;for(M=M.fb+L.Ma*M.A;0<Q--;){var G=p,X=v,J=i,ee=F,ue=M;switch(_){case Uu:Fu(G,X,J,ee,ue);break;case va:hl(G,X,J,ee,ue);break;case EA:hl(G,X,J,ee,ue),Ho(ee,ue,0,J,1,0);break;case Lu:fl(G,X,J,ee,ue);break;case hs:_r(G,X,J,ee,ue,1);break;case TA:_r(G,X,J,ee,ue,1),Ho(ee,ue,0,J,1,0);break;case su:_r(G,X,J,ee,ue,0);break;case IA:_r(G,X,J,ee,ue,0),Ho(ee,ue,1,J,1,0);break;case SA:Is(G,X,J,ee,ue);break;case Mu:Is(G,X,J,ee,ue),oi(ee,ue,J,1,0);break;case Ls:zo(G,X,J,ee,ue);break;default:t(0)}v+=x,M+=k}L.Ma+=h}else alert("todo:EmitRescaledRowsYUVA");t(L.Ma<=$.height)}}L.C=D,t(L.C<=L.i)}function or(L){var D;if(0<L.ua)return 0;for(D=0;D<L.Wb;++D){var $=L.Ya[D].G,_=L.Ya[D].H;if(0<$[1][_[1]+0].g||0<$[2][_[2]+0].g||0<$[3][_[3]+0].g)return 0}return 1}function Or(L,D,$,_,i,h){if(L.Z!=0){var p=L.qd,v=L.rd;for(t(Vo[L.Z]!=null);D<$;++D)Vo[L.Z](p,v,_,i,_,i,h),p=_,v=i,i+=h;L.qd=p,L.rd=v}}function zr(L,D){var $=L.l.ma,_=$.Z==0||$.Z==1?L.l.j:L.C;if(_=L.C<_?_:L.C,t(D<=L.l.o),D>_){var i=L.l.width,h=$.ca,p=$.tb+i*_,v=L.V,x=L.Ba+L.c*_,F=L.gc;t(L.ab==1),t(F[0].hc==3),Ro(F[0],_,D,v,x,h,p),Or($,_,D,h,p,i)}L.C=L.Ma=D}function Kn(L,D,$,_,i,h,p){var v=L.$/_,x=L.$%_,F=L.m,M=L.s,k=$+L.$,Q=k;i=$+_*i;var G=$+_*h,X=280+M.ua,J=L.Pb?v:16777216,ee=0<M.ua?M.Wa:null,ue=M.wc,ge=k<G?Jt(M,x,v):null;t(L.C<h),t(G<=i);var Ce=!1;e:for(;;){for(;Ce||k<G;){var xe=0;if(v>=J){var Oe=k-$;t((J=L).Pb),J.wd=J.m,J.xd=Oe,0<J.s.ua&&Ze(J.s.Wa,J.s.vb),J=v+ml}if(x&ue||(ge=Jt(M,x,v)),t(ge!=null),ge.Qb&&(D[k]=ge.qb,Ce=!0),!Ce)if(Je(F),ge.jc){xe=F,Oe=D;var Ee=k,qe=ge.pd[Ue(xe)&ul-1];t(ge.jc),256>qe.g?(Xe(xe,xe.u+qe.g),Oe[Ee]=qe.value,xe=0):(Xe(xe,xe.u+qe.g-256),t(256<=qe.value),xe=qe.value),xe==0&&(Ce=!0)}else xe=ut(ge.G[0],ge.H[0],F);if(F.h)break;if(Ce||256>xe){if(!Ce)if(ge.nd)D[k]=(ge.qb|xe<<8)>>>0;else{if(Je(F),Ce=ut(ge.G[1],ge.H[1],F),Je(F),Oe=ut(ge.G[2],ge.H[2],F),Ee=ut(ge.G[3],ge.H[3],F),F.h)break;D[k]=(Ee<<24|Ce<<16|xe<<8|Oe)>>>0}if(Ce=!1,++k,++x>=_&&(x=0,++v,p!=null&&v<=h&&!(v%16)&&p(L,v),ee!=null))for(;Q<k;)xe=D[Q++],ee.X[(506832829*xe&4294967295)>>>ee.Mb]=xe}else if(280>xe){if(xe=gt(xe-256,F),Oe=ut(ge.G[4],ge.H[4],F),Je(F),Oe=Lt(_,Oe=gt(Oe,F)),F.h)break;if(k-$<Oe||i-k<xe)break e;for(Ee=0;Ee<xe;++Ee)D[k+Ee]=D[k+Ee-Oe];for(k+=xe,x+=xe;x>=_;)x-=_,++v,p!=null&&v<=h&&!(v%16)&&p(L,v);if(t(k<=i),x&ue&&(ge=Jt(M,x,v)),ee!=null)for(;Q<k;)xe=D[Q++],ee.X[(506832829*xe&4294967295)>>>ee.Mb]=xe}else{if(!(xe<X))break e;for(Ce=xe-280,t(ee!=null);Q<k;)xe=D[Q++],ee.X[(506832829*xe&4294967295)>>>ee.Mb]=xe;xe=k,t(!(Ce>>>(Oe=ee).Xa)),D[xe]=Oe.X[Ce],Ce=!0}Ce||t(F.h==De(F))}if(L.Pb&&F.h&&k<i)t(L.m.h),L.a=5,L.m=L.wd,L.$=L.xd,0<L.s.ua&&Ze(L.s.vb,L.s.Wa);else{if(F.h)break e;p?.(L,v>h?h:v),L.a=0,L.$=k-$}return 1}return L.a=3,0}function Qn(L){t(L!=null),L.vc=null,L.yc=null,L.Ya=null;var D=L.Wa;D!=null&&(D.X=null),L.vb=null,t(L!=null)}function en(){var L=new tn;return L==null?null:(L.a=0,L.xb=LA,sr("Predictor","VP8LPredictors"),sr("Predictor","VP8LPredictors_C"),sr("PredictorAdd","VP8LPredictorsAdd"),sr("PredictorAdd","VP8LPredictorsAdd_C"),Ci=Ft,Gl=Pr,Fu=ri,hl=Pt,Is=Zt,zo=qt,fl=$r,pe.VP8LMapColor32b=os,pe.VP8LMapColor8b=ma,L)}function vn(L,D,$,_,i){var h=1,p=[L],v=[D],x=_.m,F=_.s,M=null,k=0;e:for(;;){if($)for(;h&&Te(x,1);){var Q=p,G=v,X=_,J=1,ee=X.m,ue=X.gc[X.ab],ge=Te(ee,2);if(X.Oc&1<<ge)h=0;else{switch(X.Oc|=1<<ge,ue.hc=ge,ue.Ea=Q[0],ue.nc=G[0],ue.K=[null],++X.ab,t(4>=X.ab),ge){case 0:case 1:ue.b=Te(ee,3)+2,J=vn(Et(ue.Ea,ue.b),Et(ue.nc,ue.b),0,X,ue.K),ue.K=ue.K[0];break;case 3:var Ce,xe=Te(ee,8)+1,Oe=16<xe?0:4<xe?1:2<xe?2:3;if(Q[0]=Et(ue.Ea,Oe),ue.b=Oe,Ce=J=vn(xe,1,0,X,ue.K)){var Ee,qe=xe,Ke=ue,it=1<<(8>>Ke.b),bt=A(it);if(bt==null)Ce=0;else{var Ct=Ke.K[0],yt=Ke.w;for(bt[0]=Ke.K[0][0],Ee=1;Ee<1*qe;++Ee)bt[Ee]=nr(Ct[yt+Ee],bt[Ee-1]);for(;Ee<4*it;++Ee)bt[Ee]=0;Ke.K[0]=null,Ke.K[0]=bt,Ce=1}}J=Ce;break;case 2:break;default:t(0)}h=J}}if(p=p[0],v=v[0],h&&Te(x,1)&&!(h=1<=(k=Te(x,4))&&11>=k)){_.a=3;break e}var pt;if(pt=h)t:{var Qt,St,zt,tr=_,Vt=p,Gt=v,rr=k,un=$,Ir=tr.m,Lr=tr.s,br=[null],an=1,Hn=0,Dr=Yi[rr];r:for(;;){if(un&&Te(Ir,1)){var qn=Te(Ir,3)+2,In=Et(Vt,qn),sn=Et(Gt,qn),On=In*sn;if(!vn(In,sn,0,tr,br))break r;for(br=br[0],Lr.xc=qn,Qt=0;Qt<On;++Qt){var Cn=br[Qt]>>8&65535;br[Qt]=Cn,Cn>=an&&(an=Cn+1)}}if(Ir.h)break r;for(St=0;5>St;++St){var xi=gl[St];!St&&0<rr&&(xi+=1<<rr),Hn<xi&&(Hn=xi)}var Di=f(an*Dr,ve),Gn=an,fn=f(Gn,tt);if(fn==null)var _a=null;else t(65536>=Gn),_a=fn;var Ei=A(Hn);if(_a==null||Ei==null||Di==null){tr.a=1;break r}var mr=Di;for(Qt=zt=0;Qt<an;++Qt){var vr=_a[Qt],xn=vr.G,Ti=vr.H,ni=0,Wn=1,Xn=0;for(St=0;5>St;++St){xi=gl[St],xn[St]=mr,Ti[St]=zt,!St&&0<rr&&(xi+=1<<rr);i:{var cn,Ps=xi,Yl=tr,Zn=Ei,Vc=mr,Eh=zt,mc=0,$a=Yl.m,vf=Te($a,1);if(s(Zn,0,0,Ps),vf){var Du=Te($a,1)+1,ou=Te($a,1),lu=Te($a,ou==0?1:8);Zn[lu]=1,Du==2&&(Zn[lu=Te($a,8)]=1);var Ji=1}else{var li=A(19),Jl=Te($a,4)+4;if(19<Jl){Yl.a=3;var eA=0;break i}for(cn=0;cn<Jl;++cn)li[Pu[cn]]=Te($a,3);var yc=void 0,ku=void 0,OA=Yl,qc=li,DA=Ps,Au=Zn,vl=0,Ka=OA.m,kA=8,_f=f(128,ve);n:for(;de(_f,0,7,qc,19);){if(Te(Ka,1)){var Qu=2+2*Te(Ka,3);if((yc=2+Te(Ka,Qu))>DA)break n}else yc=DA;for(ku=0;ku<DA&&yc--;){Je(Ka);var bd=_f[0+(127&Ue(Ka))];Xe(Ka,Ka.u+bd.g);var uu=bd.value;if(16>uu)Au[ku++]=uu,uu!=0&&(kA=uu);else{var ea=uu==16,wf=uu-16,xd=FA[wf],cu=Te(Ka,Ms[wf])+xd;if(ku+cu>DA)break n;for(var Nu=ea?kA:0;0<cu--;)Au[ku++]=Nu}}vl=1;break n}vl||(OA.a=3),Ji=vl}(Ji=Ji&&!$a.h)&&(mc=de(Vc,Eh,8,Zn,Ps)),Ji&&mc!=0?eA=mc:(Yl.a=3,eA=0)}if(eA==0)break r;if(Wn&&UA[St]==1&&(Wn=mr[zt].g==0),ni+=mr[zt].g,zt+=eA,3>=St){var QA,Gc=Ei[0];for(QA=1;QA<xi;++QA)Ei[QA]>Gc&&(Gc=Ei[QA]);Xn+=Gc}}if(vr.nd=Wn,vr.Qb=0,Wn&&(vr.qb=(xn[3][Ti[3]+0].value<<24|xn[1][Ti[1]+0].value<<16|xn[2][Ti[2]+0].value)>>>0,ni==0&&256>xn[0][Ti[0]+0].value&&(vr.Qb=1,vr.qb+=xn[0][Ti[0]+0].value<<8)),vr.jc=!vr.Qb&&6>Xn,vr.jc){var Xc,NA=vr;for(Xc=0;Xc<ul;++Xc){var RA=Xc,hu=NA.pd[RA],$c=NA.G[0][NA.H[0]+RA];256<=$c.value?(hu.g=$c.g+256,hu.value=$c.value):(hu.g=0,hu.value=0,RA>>=Nt($c,8,hu),RA>>=Nt(NA.G[1][NA.H[1]+RA],16,hu),RA>>=Nt(NA.G[2][NA.H[2]+RA],0,hu),Nt(NA.G[3][NA.H[3]+RA],24,hu))}}}Lr.vc=br,Lr.Wb=an,Lr.Ya=_a,Lr.yc=Di,pt=1;break t}pt=0}if(!(h=pt)){_.a=3;break e}if(0<k){if(F.ua=1<<k,!Pe(F.Wa,k)){_.a=1,h=0;break e}}else F.ua=0;var bf=_,fu=p,Bd=v,vc=bf.s,tA=vc.xc;if(bf.c=fu,bf.i=Bd,vc.md=Et(fu,tA),vc.wc=tA==0?-1:(1<<tA)-1,$){_.xb=Js;break e}if((M=A(p*v))==null){_.a=1,h=0;break e}h=(h=Kn(_,M,0,p,v,v,null))&&!x.h;break e}return h?(i!=null?i[0]=M:(t(M==null),t($)),_.$=0,$||Qn(F)):Qn(F),h}function Pn(L,D){var $=L.c*L.i,_=$+D+16*D;return t(L.c<=D),L.V=A(_),L.V==null?(L.Ta=null,L.Ua=0,L.a=1,0):(L.Ta=L.V,L.Ua=L.Ba+$+D,1)}function mi(L,D){var $=L.C,_=D-$,i=L.V,h=L.Ba+L.c*$;for(t(D<=L.l.o);0<_;){var p=16<_?16:_,v=L.l.ma,x=L.l.width,F=x*p,M=v.ca,k=v.tb+x*$,Q=L.Ta,G=L.Ua;dr(L,p,i,h),Us(Q,G,M,k,F),Or(v,$,$+p,M,k,x),_-=p,i+=p*L.c,$+=p}t($==D),L.C=L.Ma=D}function ai(){this.ub=this.yd=this.td=this.Rb=0}function yi(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function fo(){this.Fb=this.Bb=this.Cb=0,this.Zb=A(4),this.Lb=A(4)}function bn(){this.Yb=(function(){var L=[];return(function D($,_,i){for(var h=i[_],p=0;p<h&&($.push(i.length>_+1?[]:0),!(i.length<_+1));p++)D($[p],_+1,i)})(L,0,[3,11]),L})()}function Ui(){this.jb=A(3),this.Wc=l([4,8],bn),this.Xc=l([4,17],bn)}function WA(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new A(4),this.od=new A(4)}function vi(){this.ld=this.La=this.dd=this.tc=0}function Li(){this.Na=this.la=0}function zl(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function qa(){this.ad=A(384),this.Za=0,this.Ob=A(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ka(){this.uc=this.M=this.Nb=0,this.wa=Array(new vi),this.Y=0,this.ya=Array(new qa),this.aa=0,this.l=new Hs}function rl(){this.y=A(16),this.f=A(8),this.ea=A(8)}function nl(){this.cb=this.a=0,this.sc="",this.m=new ne,this.Od=new ai,this.Kc=new yi,this.ed=new WA,this.Qa=new fo,this.Ic=this.$c=this.Aa=0,this.D=new ka,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=f(8,ne),this.ia=0,this.pb=f(4,zl),this.Pa=new Ui,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new rl),this.Hd=0,this.rb=Array(new Li),this.sb=0,this.wa=Array(new vi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new qa),this.L=this.aa=0,this.gd=l([4,2],vi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Vn(L,D){return 0>L?0:L>D?D:L}function Hs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function $i(){var L=new nl;return L!=null&&(L.a=0,L.sc="OK",L.cb=0,L.Xb=0,Ys||(Ys=il)),L}function qr(L,D,$){return L.a==0&&(L.a=D,L.sc=$,L.cb=0),0}function pA(L,D,$){return 3<=$&&L[D+0]==157&&L[D+1]==1&&L[D+2]==42}function oa(L,D){if(L==null)return 0;if(L.a=0,L.sc="OK",D==null)return qr(L,2,"null VP8Io passed to VP8GetHeaders()");var $=D.data,_=D.w,i=D.ha;if(4>i)return qr(L,7,"Truncated header.");var h=$[_+0]|$[_+1]<<8|$[_+2]<<16,p=L.Od;if(p.Rb=!(1&h),p.td=h>>1&7,p.yd=h>>4&1,p.ub=h>>5,3<p.td)return qr(L,3,"Incorrect keyframe parameters.");if(!p.yd)return qr(L,4,"Frame not displayable.");_+=3,i-=3;var v=L.Kc;if(p.Rb){if(7>i)return qr(L,7,"cannot parse picture header");if(!pA($,_,i))return qr(L,3,"Bad code word");v.c=16383&($[_+4]<<8|$[_+3]),v.Td=$[_+4]>>6,v.i=16383&($[_+6]<<8|$[_+5]),v.Ud=$[_+6]>>6,_+=7,i-=7,L.za=v.c+15>>4,L.Ub=v.i+15>>4,D.width=v.c,D.height=v.i,D.Da=0,D.j=0,D.v=0,D.va=D.width,D.o=D.height,D.da=0,D.ib=D.width,D.hb=D.height,D.U=D.width,D.T=D.height,s((h=L.Pa).jb,0,255,h.jb.length),t((h=L.Qa)!=null),h.Cb=0,h.Bb=0,h.Fb=1,s(h.Zb,0,0,h.Zb.length),s(h.Lb,0,0,h.Lb)}if(p.ub>i)return qr(L,7,"bad partition length");Le(h=L.m,$,_,p.ub),_+=p.ub,i-=p.ub,p.Rb&&(v.Ld=He(h),v.Kd=He(h)),v=L.Qa;var x,F=L.Pa;if(t(h!=null),t(v!=null),v.Cb=He(h),v.Cb){if(v.Bb=He(h),He(h)){for(v.Fb=He(h),x=0;4>x;++x)v.Zb[x]=He(h)?Ve(h,7):0;for(x=0;4>x;++x)v.Lb[x]=He(h)?Ve(h,6):0}if(v.Bb)for(x=0;3>x;++x)F.jb[x]=He(h)?Ne(h,8):255}else v.Bb=0;if(h.Ka)return qr(L,3,"cannot parse segment header");if((v=L.ed).zd=He(h),v.Tb=Ne(h,6),v.wb=Ne(h,3),v.Pc=He(h),v.Pc&&He(h)){for(F=0;4>F;++F)He(h)&&(v.vd[F]=Ve(h,6));for(F=0;4>F;++F)He(h)&&(v.od[F]=Ve(h,6))}if(L.L=v.Tb==0?0:v.zd?1:2,h.Ka)return qr(L,3,"cannot parse filter header");var M=i;if(i=x=_,_=x+M,v=M,L.Xb=(1<<Ne(L.m,2))-1,M<3*(F=L.Xb))$=7;else{for(x+=3*F,v-=3*F,M=0;M<F;++M){var k=$[i+0]|$[i+1]<<8|$[i+2]<<16;k>v&&(k=v),Le(L.Jc[+M],$,x,k),x+=k,v-=k,i+=3}Le(L.Jc[+F],$,x,v),$=x<_?0:5}if($!=0)return qr(L,$,"cannot parse partitions");for($=Ne(x=L.m,7),i=He(x)?Ve(x,4):0,_=He(x)?Ve(x,4):0,v=He(x)?Ve(x,4):0,F=He(x)?Ve(x,4):0,x=He(x)?Ve(x,4):0,M=L.Qa,k=0;4>k;++k){if(M.Cb){var Q=M.Zb[k];M.Fb||(Q+=$)}else{if(0<k){L.pb[k]=L.pb[0];continue}Q=$}var G=L.pb[k];G.Sc[0]=Ki[Vn(Q+i,127)],G.Sc[1]=Ia[Vn(Q+0,127)],G.Eb[0]=2*Ki[Vn(Q+_,127)],G.Eb[1]=101581*Ia[Vn(Q+v,127)]>>16,8>G.Eb[1]&&(G.Eb[1]=8),G.Qc[0]=Ki[Vn(Q+F,117)],G.Qc[1]=Ia[Vn(Q+x,127)],G.lc=Q+x}if(!p.Rb)return qr(L,4,"Not a key frame.");for(He(h),p=L.Pa,$=0;4>$;++$){for(i=0;8>i;++i)for(_=0;3>_;++_)for(v=0;11>v;++v)F=ft(h,Mn[$][i][_][v])?Ne(h,8):zc[$][i][_][v],p.Wc[$][i].Yb[_][v]=F;for(i=0;17>i;++i)p.Xc[$][i]=p.Wc[$][Rt[i]]}return L.kc=He(h),L.kc&&(L.Bd=Ne(h,8)),L.cb=1}function il(L,D,$,_,i,h,p){var v=D[i].Yb[$];for($=0;16>i;++i){if(!ft(L,v[$+0]))return i;for(;!ft(L,v[$+1]);)if(v=D[++i].Yb[0],$=0,i==16)return 16;var x=D[i+1].Yb;if(ft(L,v[$+2])){var F=L,M=0;if(ft(F,(Q=v)[(k=$)+3]))if(ft(F,Q[k+6])){for(v=0,k=2*(M=ft(F,Q[k+8]))+(Q=ft(F,Q[k+9+M])),M=0,Q=mf[k];Q[v];++v)M+=M+ft(F,Q[v]);M+=3+(8<<k)}else ft(F,Q[k+7])?(M=7+2*ft(F,165),M+=ft(F,145)):M=5+ft(F,159);else M=ft(F,Q[k+4])?3+ft(F,Q[k+5]):2;v=x[2]}else M=1,v=x[1];x=p+Rc[i],0>(F=L).b&&dt(F);var k,Q=F.b,G=(k=F.Ca>>1)-(F.I>>Q)>>31;--F.b,F.Ca+=G,F.Ca|=1,F.I-=(k+1&G)<<Q,h[x]=((M^G)-G)*_[(0<i)+0]}return 16}function is(L){var D=L.rb[L.sb-1];D.la=0,D.Na=0,s(L.zc,0,0,L.zc.length),L.ja=0}function as(L,D,$,_,i){i=L[D+$+32*_]+(i>>3),L[D+$+32*_]=-256&i?0>i?0:255:i}function Ri(L,D,$,_,i,h){as(L,D,0,$,_+i),as(L,D,1,$,_+h),as(L,D,2,$,_-h),as(L,D,3,$,_-i)}function ui(L){return(20091*L>>16)+L}function js(L,D,$,_){var i,h=0,p=A(16);for(i=0;4>i;++i){var v=L[D+0]+L[D+8],x=L[D+0]-L[D+8],F=(35468*L[D+4]>>16)-ui(L[D+12]),M=ui(L[D+4])+(35468*L[D+12]>>16);p[h+0]=v+M,p[h+1]=x+F,p[h+2]=x-F,p[h+3]=v-M,h+=4,D++}for(i=h=0;4>i;++i)v=(L=p[h+0]+4)+p[h+8],x=L-p[h+8],F=(35468*p[h+4]>>16)-ui(p[h+12]),as($,_,0,0,v+(M=ui(p[h+4])+(35468*p[h+12]>>16))),as($,_,1,0,x+F),as($,_,2,0,x-F),as($,_,3,0,v-M),h++,_+=32}function Un(L,D,$,_){var i=L[D+0]+4,h=35468*L[D+4]>>16,p=ui(L[D+4]),v=35468*L[D+1]>>16;Ri($,_,0,i+p,L=ui(L[D+1]),v),Ri($,_,1,i+h,L,v),Ri($,_,2,i-h,L,v),Ri($,_,3,i-p,L,v)}function YA(L,D,$,_,i){js(L,D,$,_),i&&js(L,D+16,$,_+4)}function Qa(L,D,$,_){dl(L,D+0,$,_,1),dl(L,D+32,$,_+128,1)}function al(L,D,$,_){var i;for(L=L[D+0]+4,i=0;4>i;++i)for(D=0;4>D;++D)as($,_,D,i,L)}function JA(L,D,$,_){L[D+0]&&Ln(L,D+0,$,_),L[D+16]&&Ln(L,D+16,$,_+4),L[D+32]&&Ln(L,D+32,$,_+128),L[D+48]&&Ln(L,D+48,$,_+128+4)}function Bs(L,D,$,_){var i,h=A(16);for(i=0;4>i;++i){var p=L[D+0+i]+L[D+12+i],v=L[D+4+i]+L[D+8+i],x=L[D+4+i]-L[D+8+i],F=L[D+0+i]-L[D+12+i];h[0+i]=p+v,h[8+i]=p-v,h[4+i]=F+x,h[12+i]=F-x}for(i=0;4>i;++i)p=(L=h[0+4*i]+3)+h[3+4*i],v=h[1+4*i]+h[2+4*i],x=h[1+4*i]-h[2+4*i],F=L-h[3+4*i],$[_+0]=p+v>>3,$[_+16]=F+x>>3,$[_+32]=p-v>>3,$[_+48]=F-x>>3,_+=64}function Po(L,D,$){var _,i=D-32,h=Wi,p=255-L[i-1];for(_=0;_<$;++_){var v,x=h,F=p+L[D-1];for(v=0;v<$;++v)L[D+v]=x[F+L[i+v]];D+=32}}function eu(L,D){Po(L,D,4)}function Hl(L,D){Po(L,D,8)}function Eu(L,D){Po(L,D,16)}function lc(L,D){var $;for($=0;16>$;++$)n(L,D+32*$,L,D-32,16)}function Ac(L,D){var $;for($=16;0<$;--$)s(L,D,L[D-1],16),D+=32}function Cs(L,D,$){var _;for(_=0;16>_;++_)s(D,$+32*_,L,16)}function Na(L,D){var $,_=16;for($=0;16>$;++$)_+=L[D-1+32*$]+L[D+$-32];Cs(_>>5,L,D)}function Ks(L,D){var $,_=8;for($=0;16>$;++$)_+=L[D-1+32*$];Cs(_>>4,L,D)}function la(L,D){var $,_=8;for($=0;16>$;++$)_+=L[D+$-32];Cs(_>>4,L,D)}function Zi(L,D){Cs(128,L,D)}function jr(L,D,$){return L+2*D+$+2>>2}function tu(L,D){var $,_=D-32;for(_=new Uint8Array([jr(L[_-1],L[_+0],L[_+1]),jr(L[_+0],L[_+1],L[_+2]),jr(L[_+1],L[_+2],L[_+3]),jr(L[_+2],L[_+3],L[_+4])]),$=0;4>$;++$)n(L,D+32*$,_,0,_.length)}function gA(L,D){var $=L[D-1],_=L[D-1+32],i=L[D-1+64],h=L[D-1+96];It(L,D+0,16843009*jr(L[D-1-32],$,_)),It(L,D+32,16843009*jr($,_,i)),It(L,D+64,16843009*jr(_,i,h)),It(L,D+96,16843009*jr(i,h,h))}function uc(L,D){var $,_=4;for($=0;4>$;++$)_+=L[D+$-32]+L[D-1+32*$];for(_>>=3,$=0;4>$;++$)s(L,D+32*$,_,4)}function Sa(L,D){var $=L[D-1+0],_=L[D-1+32],i=L[D-1+64],h=L[D-1-32],p=L[D+0-32],v=L[D+1-32],x=L[D+2-32],F=L[D+3-32];L[D+0+96]=jr(_,i,L[D-1+96]),L[D+1+96]=L[D+0+64]=jr($,_,i),L[D+2+96]=L[D+1+64]=L[D+0+32]=jr(h,$,_),L[D+3+96]=L[D+2+64]=L[D+1+32]=L[D+0+0]=jr(p,h,$),L[D+3+64]=L[D+2+32]=L[D+1+0]=jr(v,p,h),L[D+3+32]=L[D+2+0]=jr(x,v,p),L[D+3+0]=jr(F,x,v)}function Ra(L,D){var $=L[D+1-32],_=L[D+2-32],i=L[D+3-32],h=L[D+4-32],p=L[D+5-32],v=L[D+6-32],x=L[D+7-32];L[D+0+0]=jr(L[D+0-32],$,_),L[D+1+0]=L[D+0+32]=jr($,_,i),L[D+2+0]=L[D+1+32]=L[D+0+64]=jr(_,i,h),L[D+3+0]=L[D+2+32]=L[D+1+64]=L[D+0+96]=jr(i,h,p),L[D+3+32]=L[D+2+64]=L[D+1+96]=jr(h,p,v),L[D+3+64]=L[D+2+96]=jr(p,v,x),L[D+3+96]=jr(v,x,x)}function Tu(L,D){var $=L[D-1+0],_=L[D-1+32],i=L[D-1+64],h=L[D-1-32],p=L[D+0-32],v=L[D+1-32],x=L[D+2-32],F=L[D+3-32];L[D+0+0]=L[D+1+64]=h+p+1>>1,L[D+1+0]=L[D+2+64]=p+v+1>>1,L[D+2+0]=L[D+3+64]=v+x+1>>1,L[D+3+0]=x+F+1>>1,L[D+0+96]=jr(i,_,$),L[D+0+64]=jr(_,$,h),L[D+0+32]=L[D+1+96]=jr($,h,p),L[D+1+32]=L[D+2+96]=jr(h,p,v),L[D+2+32]=L[D+3+96]=jr(p,v,x),L[D+3+32]=jr(v,x,F)}function mA(L,D){var $=L[D+0-32],_=L[D+1-32],i=L[D+2-32],h=L[D+3-32],p=L[D+4-32],v=L[D+5-32],x=L[D+6-32],F=L[D+7-32];L[D+0+0]=$+_+1>>1,L[D+1+0]=L[D+0+64]=_+i+1>>1,L[D+2+0]=L[D+1+64]=i+h+1>>1,L[D+3+0]=L[D+2+64]=h+p+1>>1,L[D+0+32]=jr($,_,i),L[D+1+32]=L[D+0+96]=jr(_,i,h),L[D+2+32]=L[D+1+96]=jr(i,h,p),L[D+3+32]=L[D+2+96]=jr(h,p,v),L[D+3+64]=jr(p,v,x),L[D+3+96]=jr(v,x,F)}function Vs(L,D){var $=L[D-1+0],_=L[D-1+32],i=L[D-1+64],h=L[D-1+96];L[D+0+0]=$+_+1>>1,L[D+2+0]=L[D+0+32]=_+i+1>>1,L[D+2+32]=L[D+0+64]=i+h+1>>1,L[D+1+0]=jr($,_,i),L[D+3+0]=L[D+1+32]=jr(_,i,h),L[D+3+32]=L[D+1+64]=jr(i,h,h),L[D+3+64]=L[D+2+64]=L[D+0+96]=L[D+1+96]=L[D+2+96]=L[D+3+96]=h}function ru(L,D){var $=L[D-1+0],_=L[D-1+32],i=L[D-1+64],h=L[D-1+96],p=L[D-1-32],v=L[D+0-32],x=L[D+1-32],F=L[D+2-32];L[D+0+0]=L[D+2+32]=$+p+1>>1,L[D+0+32]=L[D+2+64]=_+$+1>>1,L[D+0+64]=L[D+2+96]=i+_+1>>1,L[D+0+96]=h+i+1>>1,L[D+3+0]=jr(v,x,F),L[D+2+0]=jr(p,v,x),L[D+1+0]=L[D+3+32]=jr($,p,v),L[D+1+32]=L[D+3+64]=jr(_,$,p),L[D+1+64]=L[D+3+96]=jr(i,_,$),L[D+1+96]=jr(h,i,_)}function Oo(L,D){var $;for($=0;8>$;++$)n(L,D+32*$,L,D-32,8)}function yA(L,D){var $;for($=0;8>$;++$)s(L,D,L[D-1],8),D+=32}function Ss(L,D,$){var _;for(_=0;8>_;++_)s(D,$+32*_,L,8)}function jl(L,D){var $,_=8;for($=0;8>$;++$)_+=L[D+$-32]+L[D-1+32*$];Ss(_>>4,L,D)}function vA(L,D){var $,_=4;for($=0;8>$;++$)_+=L[D+$-32];Ss(_>>3,L,D)}function Aa(L,D){var $,_=4;for($=0;8>$;++$)_+=L[D-1+32*$];Ss(_>>3,L,D)}function pa(L,D){Ss(128,L,D)}function po(L,D,$){var _=L[D-$],i=L[D+0],h=3*(i-_)+Ko[1020+L[D-2*$]-L[D+$]],p=CA[112+(h+4>>3)];L[D-$]=Wi[255+_+CA[112+(h+3>>3)]],L[D+0]=Wi[255+i-p]}function Do(L,D,$,_){var i=L[D+0],h=L[D+$];return wi[255+L[D-2*$]-L[D-$]]>_||wi[255+h-i]>_}function go(L,D,$,_){return 4*wi[255+L[D-$]-L[D+0]]+wi[255+L[D-2*$]-L[D+$]]<=_}function Es(L,D,$,_,i){var h=L[D-3*$],p=L[D-2*$],v=L[D-$],x=L[D+0],F=L[D+$],M=L[D+2*$],k=L[D+3*$];return 4*wi[255+v-x]+wi[255+p-F]>_?0:wi[255+L[D-4*$]-h]<=i&&wi[255+h-p]<=i&&wi[255+p-v]<=i&&wi[255+k-M]<=i&&wi[255+M-F]<=i&&wi[255+F-x]<=i}function _n(L,D,$,_){var i=2*_+1;for(_=0;16>_;++_)go(L,D+_,$,i)&&po(L,D+_,$)}function mo(L,D,$,_){var i=2*_+1;for(_=0;16>_;++_)go(L,D+_*$,1,i)&&po(L,D+_*$,1)}function nu(L,D,$,_){var i;for(i=3;0<i;--i)_n(L,D+=4*$,$,_)}function sl(L,D,$,_){var i;for(i=3;0<i;--i)mo(L,D+=4,$,_)}function Kl(L,D,$,_,i,h,p,v){for(h=2*h+1;0<i--;){if(Es(L,D,$,h,p))if(Do(L,D,$,v))po(L,D,$);else{var x=L,F=D,M=$,k=x[F-2*M],Q=x[F-M],G=x[F+0],X=x[F+M],J=x[F+2*M],ee=27*(ge=Ko[1020+3*(G-Q)+Ko[1020+k-X]])+63>>7,ue=18*ge+63>>7,ge=9*ge+63>>7;x[F-3*M]=Wi[255+x[F-3*M]+ge],x[F-2*M]=Wi[255+k+ue],x[F-M]=Wi[255+Q+ee],x[F+0]=Wi[255+G-ee],x[F+M]=Wi[255+X-ue],x[F+2*M]=Wi[255+J-ge]}D+=_}}function ol(L,D,$,_,i,h,p,v){for(h=2*h+1;0<i--;){if(Es(L,D,$,h,p))if(Do(L,D,$,v))po(L,D,$);else{var x=L,F=D,M=$,k=x[F-M],Q=x[F+0],G=x[F+M],X=CA[112+(4+(J=3*(Q-k))>>3)],J=CA[112+(J+3>>3)],ee=X+1>>1;x[F-2*M]=Wi[255+x[F-2*M]+ee],x[F-M]=Wi[255+k+J],x[F+0]=Wi[255+Q-X],x[F+M]=Wi[255+G-ee]}D+=_}}function Nc(L,D,$,_,i,h){Kl(L,D,$,1,16,_,i,h)}function ll(L,D,$,_,i,h){Kl(L,D,1,$,16,_,i,h)}function Iu(L,D,$,_,i,h){var p;for(p=3;0<p;--p)ol(L,D+=4*$,$,1,16,_,i,h)}function j(L,D,$,_,i,h){var p;for(p=3;0<p;--p)ol(L,D+=4,1,$,16,_,i,h)}function fe(L,D,$,_,i,h,p,v){Kl(L,D,i,1,8,h,p,v),Kl($,_,i,1,8,h,p,v)}function Qe(L,D,$,_,i,h,p,v){Kl(L,D,1,i,8,h,p,v),Kl($,_,1,i,8,h,p,v)}function rt(L,D,$,_,i,h,p,v){ol(L,D+4*i,i,1,8,h,p,v),ol($,_+4*i,i,1,8,h,p,v)}function lt(L,D,$,_,i,h,p,v){ol(L,D+4,1,i,8,h,p,v),ol($,_+4,1,i,8,h,p,v)}function Ot(){this.ba=new Gr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new oe,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function jt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function yr(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function wr(){this.ua=0,this.Wa=new Nr,this.vb=new Nr,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new tt,this.yc=new ve}function tn(){this.xb=this.a=0,this.l=new Hs,this.ca=new Gr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new we,this.Pb=0,this.wd=new we,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new wr,this.ab=0,this.gc=f(4,yr),this.Oc=0}function An(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Hs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function zn(L,D,$,_,i,h,p){for(L=L==null?0:L[D+0],D=0;D<p;++D)i[h+D]=L+$[_+D]&255,L=i[h+D]}function Mi(L,D,$,_,i,h,p){var v;if(L==null)zn(null,null,$,_,i,h,p);else for(v=0;v<p;++v)i[h+v]=L[D+v]+$[_+v]&255}function zi(L,D,$,_,i,h,p){if(L==null)zn(null,null,$,_,i,h,p);else{var v,x=L[D+0],F=x,M=x;for(v=0;v<p;++v)F=M+(x=L[D+v])-F,M=$[_+v]+(-256&F?0>F?0:255:F)&255,F=x,i[h+v]=M}}function si(L,D,$,_){var i=D.width,h=D.o;if(t(L!=null&&D!=null),0>$||0>=_||$+_>h)return null;if(!L.Cc){if(L.ga==null){var p;if(L.ga=new An,(p=L.ga==null)||(p=D.width*D.o,t(L.Gb.length==0),L.Gb=A(p),L.Uc=0,L.Gb==null?p=0:(L.mb=L.Gb,L.nb=L.Uc,L.rc=null,p=1),p=!p),!p){p=L.ga;var v=L.Fa,x=L.P,F=L.qc,M=L.mb,k=L.nb,Q=x+1,G=F-1,X=p.l;if(t(v!=null&&M!=null&&D!=null),Vo[0]=null,Vo[1]=zn,Vo[2]=Mi,Vo[3]=zi,p.ca=M,p.tb=k,p.c=D.width,p.i=D.height,t(0<p.c&&0<p.i),1>=F)D=0;else if(p.$a=3&v[x+0],p.Z=v[x+0]>>2&3,p.Lc=v[x+0]>>4&3,x=v[x+0]>>6&3,0>p.$a||1<p.$a||4<=p.Z||1<p.Lc||x)D=0;else if(X.put=je,X.ac=Ye,X.bc=st,X.ma=p,X.width=D.width,X.height=D.height,X.Da=D.Da,X.v=D.v,X.va=D.va,X.j=D.j,X.o=D.o,p.$a)e:{t(p.$a==1),D=en();t:for(;;){if(D==null){D=0;break e}if(t(p!=null),p.mc=D,D.c=p.c,D.i=p.i,D.l=p.l,D.l.ma=p,D.l.width=p.c,D.l.height=p.i,D.a=0,We(D.m,v,Q,G),!vn(p.c,p.i,1,D,null)||(D.ab==1&&D.gc[0].hc==3&&or(D.s)?(p.ic=1,v=D.c*D.i,D.Ta=null,D.Ua=0,D.V=A(v),D.Ba=0,D.V==null?(D.a=1,D=0):D=1):(p.ic=0,D=Pn(D,p.c)),!D))break t;D=1;break e}p.mc=null,D=0}else D=G>=p.c*p.i;p=!D}if(p)return null;L.ga.Lc!=1?L.Ga=0:_=h-$}t(L.ga!=null),t($+_<=h);e:{if(D=(v=L.ga).c,h=v.l.o,v.$a==0){if(Q=L.rc,G=L.Vc,X=L.Fa,x=L.P+1+$*D,F=L.mb,M=L.nb+$*D,t(x<=L.P+L.qc),v.Z!=0)for(t(Vo[v.Z]!=null),p=0;p<_;++p)Vo[v.Z](Q,G,X,x,F,M,D),Q=F,G=M,M+=D,x+=D;else for(p=0;p<_;++p)n(F,M,X,x,D),Q=F,G=M,M+=D,x+=D;L.rc=Q,L.Vc=G}else{if(t(v.mc!=null),D=$+_,t((p=v.mc)!=null),t(D<=p.i),p.C>=D)D=1;else if(v.ic||ga(),v.ic){v=p.V,Q=p.Ba,G=p.c;var J=p.i,ee=(X=1,x=p.$/G,F=p.$%G,M=p.m,k=p.s,p.$),ue=G*J,ge=G*D,Ce=k.wc,xe=ee<ge?Jt(k,F,x):null;t(ee<=ue),t(D<=J),t(or(k));t:for(;;){for(;!M.h&&ee<ge;){if(F&Ce||(xe=Jt(k,F,x)),t(xe!=null),Je(M),256>(J=ut(xe.G[0],xe.H[0],M)))v[Q+ee]=J,++ee,++F>=G&&(F=0,++x<=D&&!(x%16)&&zr(p,x));else{if(!(280>J)){X=0;break t}J=gt(J-256,M);var Oe,Ee=ut(xe.G[4],xe.H[4],M);if(Je(M),!(ee>=(Ee=Lt(G,Ee=gt(Ee,M)))&&ue-ee>=J)){X=0;break t}for(Oe=0;Oe<J;++Oe)v[Q+ee+Oe]=v[Q+ee+Oe-Ee];for(ee+=J,F+=J;F>=G;)F-=G,++x<=D&&!(x%16)&&zr(p,x);ee<ge&&F&Ce&&(xe=Jt(k,F,x))}t(M.h==De(M))}zr(p,x>D?D:x);break t}!X||M.h&&ee<ue?(X=0,p.a=M.h?5:3):p.$=ee,D=X}else D=Kn(p,p.V,p.Ba,p.c,p.i,D,mi);if(!D){_=0;break e}}$+_>=h&&(L.Cc=1),_=1}if(!_)return null;if(L.Cc&&((_=L.ga)!=null&&(_.mc=null),L.ga=null,0<L.Ga))return alert("todo:WebPDequantizeLevels"),null}return L.nb+$*i}function ua(L,D,$,_,i,h){for(;0<i--;){var p,v=L,x=D+($?1:0),F=L,M=D+($?0:3);for(p=0;p<_;++p){var k=F[M+4*p];k!=255&&(k*=32897,v[x+4*p+0]=v[x+4*p+0]*k>>23,v[x+4*p+1]=v[x+4*p+1]*k>>23,v[x+4*p+2]=v[x+4*p+2]*k>>23)}D+=h}}function Hi(L,D,$,_,i){for(;0<_--;){var h;for(h=0;h<$;++h){var p=L[D+2*h+0],v=15&(F=L[D+2*h+1]),x=4369*v,F=(240&F|F>>4)*x>>16;L[D+2*h+0]=(240&p|p>>4)*x>>16&240|(15&p|p<<4)*x>>16>>4&15,L[D+2*h+1]=240&F|v}D+=i}}function Ea(L,D,$,_,i,h,p,v){var x,F,M=255;for(F=0;F<i;++F){for(x=0;x<_;++x){var k=L[D+x];h[p+4*x]=k,M&=k}D+=$,p+=v}return M!=255}function yo(L,D,$,_,i){var h;for(h=0;h<i;++h)$[_+h]=L[D+h]>>8}function ga(){Ho=ua,oi=Hi,jo=Ea,Us=yo}function ko(L,D,$){pe[L]=function(_,i,h,p,v,x,F,M,k,Q,G,X,J,ee,ue,ge,Ce){var xe,Oe=Ce-1>>1,Ee=v[x+0]|F[M+0]<<16,qe=k[Q+0]|G[X+0]<<16;t(_!=null);var Ke=3*Ee+qe+131074>>2;for(D(_[i+0],255&Ke,Ke>>16,J,ee),h!=null&&(Ke=3*qe+Ee+131074>>2,D(h[p+0],255&Ke,Ke>>16,ue,ge)),xe=1;xe<=Oe;++xe){var it=v[x+xe]|F[M+xe]<<16,bt=k[Q+xe]|G[X+xe]<<16,Ct=Ee+it+qe+bt+524296,yt=Ct+2*(it+qe)>>3;Ke=yt+Ee>>1,Ee=(Ct=Ct+2*(Ee+bt)>>3)+it>>1,D(_[i+2*xe-1],255&Ke,Ke>>16,J,ee+(2*xe-1)*$),D(_[i+2*xe-0],255&Ee,Ee>>16,J,ee+(2*xe-0)*$),h!=null&&(Ke=Ct+qe>>1,Ee=yt+bt>>1,D(h[p+2*xe-1],255&Ke,Ke>>16,ue,ge+(2*xe-1)*$),D(h[p+2*xe+0],255&Ee,Ee>>16,ue,ge+(2*xe+0)*$)),Ee=it,qe=bt}1&Ce||(Ke=3*Ee+qe+131074>>2,D(_[i+Ce-1],255&Ke,Ke>>16,J,ee+(Ce-1)*$),h!=null&&(Ke=3*qe+Ee+131074>>2,D(h[p+Ce-1],255&Ke,Ke>>16,ue,ge+(Ce-1)*$)))}}function iu(){Hr[Uu]=Xl,Hr[va]=MA,Hr[Lu]=Sh,Hr[hs]=Hc,Hr[su]=eo,Hr[SA]=qo,Hr[Ls]=yl,Hr[EA]=MA,Hr[TA]=Hc,Hr[IA]=eo,Hr[Mu]=qo}function _A(L){return L&-16384?0>L?0:255:L>>jc}function qs(L,D){return _A((19077*L>>8)+(26149*D>>8)-14234)}function Gs(L,D,$){return _A((19077*L>>8)-(6419*D>>8)-(13320*$>>8)+8708)}function Xs(L,D){return _A((19077*L>>8)+(33050*D>>8)-17685)}function Qo(L,D,$,_,i){_[i+0]=qs(L,$),_[i+1]=Gs(L,D,$),_[i+2]=Xs(L,D)}function Ta(L,D,$,_,i){_[i+0]=Xs(L,D),_[i+1]=Gs(L,D,$),_[i+2]=qs(L,$)}function ei(L,D,$,_,i){var h=Gs(L,D,$);D=h<<3&224|Xs(L,D)>>3,_[i+0]=248&qs(L,$)|h>>5,_[i+1]=D}function wA(L,D,$,_,i){var h=240&Xs(L,D)|15;_[i+0]=240&qs(L,$)|Gs(L,D,$)>>4,_[i+1]=h}function ln(L,D,$,_,i){_[i+0]=255,Qo(L,D,$,_,i+1)}function $s(L,D,$,_,i){Ta(L,D,$,_,i),_[i+3]=255}function gn(L,D,$,_,i){Qo(L,D,$,_,i),_[i+3]=255}function Tn(L,D,$){pe[L]=function(_,i,h,p,v,x,F,M,k){for(var Q=M+(-2&k)*$;M!=Q;)D(_[i+0],h[p+0],v[x+0],F,M),D(_[i+1],h[p+0],v[x+0],F,M+$),i+=2,++p,++x,M+=2*$;1&k&&D(_[i+0],h[p+0],v[x+0],F,M)}}function vo(L,D,$){return $==0?L==0?D==0?6:5:D==0?4:0:$}function Vl(L,D,$,_,i){switch(L>>>30){case 3:dl(D,$,_,i,0);break;case 2:ya(D,$,_,i);break;case 1:Ln(D,$,_,i)}}function za(L,D){var $,_,i=D.M,h=D.Nb,p=L.oc,v=L.pc+40,x=L.oc,F=L.pc+584,M=L.oc,k=L.pc+600;for($=0;16>$;++$)p[v+32*$-1]=129;for($=0;8>$;++$)x[F+32*$-1]=129,M[k+32*$-1]=129;for(0<i?p[v-1-32]=x[F-1-32]=M[k-1-32]=129:(s(p,v-32-1,127,21),s(x,F-32-1,127,9),s(M,k-32-1,127,9)),_=0;_<L.za;++_){var Q=D.ya[D.aa+_];if(0<_){for($=-1;16>$;++$)n(p,v+32*$-4,p,v+32*$+12,4);for($=-1;8>$;++$)n(x,F+32*$-4,x,F+32*$+4,4),n(M,k+32*$-4,M,k+32*$+4,4)}var G=L.Gd,X=L.Hd+_,J=Q.ad,ee=Q.Hc;if(0<i&&(n(p,v-32,G[X].y,0,16),n(x,F-32,G[X].f,0,8),n(M,k-32,G[X].ea,0,8)),Q.Za){var ue=p,ge=v-32+16;for(0<i&&(_>=L.za-1?s(ue,ge,G[X].y[15],4):n(ue,ge,G[X+1].y,0,4)),$=0;4>$;$++)ue[ge+128+$]=ue[ge+256+$]=ue[ge+384+$]=ue[ge+0+$];for($=0;16>$;++$,ee<<=2)ue=p,ge=v+bi[$],Si[Q.Ob[$]](ue,ge),Vl(ee,J,16*+$,ue,ge)}else if(ue=vo(_,i,Q.Ob[0]),Fa[ue](p,v),ee!=0)for($=0;16>$;++$,ee<<=2)Vl(ee,J,16*+$,p,v+bi[$]);for($=Q.Gc,ue=vo(_,i,Q.Dd),_o[ue](x,F),_o[ue](M,k),ee=J,ue=x,ge=F,255&(Q=0|$)&&(170&Q?ls(ee,256,ue,ge):Bn(ee,256,ue,ge)),Q=M,ee=k,255&($>>=8)&&(170&$?ls(J,320,Q,ee):Bn(J,320,Q,ee)),i<L.Ub-1&&(n(G[X].y,0,p,v+480,16),n(G[X].f,0,x,F+224,8),n(G[X].ea,0,M,k+224,8)),$=8*h*L.B,G=L.sa,X=L.ta+16*_+16*h*L.R,J=L.qa,Q=L.ra+8*_+$,ee=L.Ha,ue=L.Ia+8*_+$,$=0;16>$;++$)n(G,X+$*L.R,p,v+32*$,16);for($=0;8>$;++$)n(J,Q+$*L.B,x,F+32*$,8),n(ee,ue+$*L.B,M,k+32*$,8)}}function Zs(L,D,$,_,i,h,p,v,x){var F=[0],M=[0],k=0,Q=x!=null?x.kd:0,G=x??new jt;if(L==null||12>$)return 7;G.data=L,G.w=D,G.ha=$,D=[D],$=[$],G.gb=[G.gb];e:{var X=D,J=$,ee=G.gb;if(t(L!=null),t(J!=null),t(ee!=null),ee[0]=0,12<=J[0]&&!r(L,X[0],"RIFF")){if(r(L,X[0]+8,"WEBP")){ee=3;break e}var ue=$t(L,X[0]+4);if(12>ue||4294967286<ue){ee=3;break e}if(Q&&ue>J[0]-8){ee=7;break e}ee[0]=ue,X[0]+=12,J[0]-=12}ee=0}if(ee!=0)return ee;for(ue=0<G.gb[0],$=$[0];;){e:{var ge=L;J=D,ee=$;var Ce=F,xe=M,Oe=X=[0];if((Ke=k=[k])[0]=0,8>ee[0])ee=7;else{if(!r(ge,J[0],"VP8X")){if($t(ge,J[0]+4)!=10){ee=3;break e}if(18>ee[0]){ee=7;break e}var Ee=$t(ge,J[0]+8),qe=1+Xt(ge,J[0]+12);if(2147483648<=qe*(ge=1+Xt(ge,J[0]+15))){ee=3;break e}Oe!=null&&(Oe[0]=Ee),Ce!=null&&(Ce[0]=qe),xe!=null&&(xe[0]=ge),J[0]+=18,ee[0]-=18,Ke[0]=1}ee=0}}if(k=k[0],X=X[0],ee!=0)return ee;if(J=!!(2&X),!ue&&k)return 3;if(h!=null&&(h[0]=!!(16&X)),p!=null&&(p[0]=J),v!=null&&(v[0]=0),p=F[0],X=M[0],k&&J&&x==null){ee=0;break}if(4>$){ee=7;break}if(ue&&k||!ue&&!k&&!r(L,D[0],"ALPH")){$=[$],G.na=[G.na],G.P=[G.P],G.Sa=[G.Sa];e:{Ee=L,ee=D,ue=$;var Ke=G.gb;Ce=G.na,xe=G.P,Oe=G.Sa,qe=22,t(Ee!=null),t(ue!=null),ge=ee[0];var it=ue[0];for(t(Ce!=null),t(Oe!=null),Ce[0]=null,xe[0]=null,Oe[0]=0;;){if(ee[0]=ge,ue[0]=it,8>it){ee=7;break e}var bt=$t(Ee,ge+4);if(4294967286<bt){ee=3;break e}var Ct=8+bt+1&-2;if(qe+=Ct,0<Ke&&qe>Ke){ee=3;break e}if(!r(Ee,ge,"VP8 ")||!r(Ee,ge,"VP8L")){ee=0;break e}if(it[0]<Ct){ee=7;break e}r(Ee,ge,"ALPH")||(Ce[0]=Ee,xe[0]=ge+8,Oe[0]=bt),ge+=Ct,it-=Ct}}if($=$[0],G.na=G.na[0],G.P=G.P[0],G.Sa=G.Sa[0],ee!=0)break}$=[$],G.Ja=[G.Ja],G.xa=[G.xa];e:if(Ke=L,ee=D,ue=$,Ce=G.gb[0],xe=G.Ja,Oe=G.xa,Ee=ee[0],ge=!r(Ke,Ee,"VP8 "),qe=!r(Ke,Ee,"VP8L"),t(Ke!=null),t(ue!=null),t(xe!=null),t(Oe!=null),8>ue[0])ee=7;else{if(ge||qe){if(Ke=$t(Ke,Ee+4),12<=Ce&&Ke>Ce-12){ee=3;break e}if(Q&&Ke>ue[0]-8){ee=7;break e}xe[0]=Ke,ee[0]+=8,ue[0]-=8,Oe[0]=qe}else Oe[0]=5<=ue[0]&&Ke[Ee+0]==47&&!(Ke[Ee+4]>>5),xe[0]=ue[0];ee=0}if($=$[0],G.Ja=G.Ja[0],G.xa=G.xa[0],D=D[0],ee!=0)break;if(4294967286<G.Ja)return 3;if(v==null||J||(v[0]=G.xa?2:1),p=[p],X=[X],G.xa){if(5>$){ee=7;break}v=p,Q=X,J=h,L==null||5>$?L=0:5<=$&&L[D+0]==47&&!(L[D+4]>>5)?(ue=[0],Ke=[0],Ce=[0],We(xe=new we,L,D,$),$e(xe,ue,Ke,Ce)?(v!=null&&(v[0]=ue[0]),Q!=null&&(Q[0]=Ke[0]),J!=null&&(J[0]=Ce[0]),L=1):L=0):L=0}else{if(10>$){ee=7;break}v=X,L==null||10>$||!pA(L,D+3,$-3)?L=0:(Q=L[D+0]|L[D+1]<<8|L[D+2]<<16,J=16383&(L[D+7]<<8|L[D+6]),L=16383&(L[D+9]<<8|L[D+8]),1&Q||3<(Q>>1&7)||!(Q>>4&1)||Q>>5>=G.Ja||!J||!L?L=0:(p&&(p[0]=J),v&&(v[0]=L),L=1))}if(!L||(p=p[0],X=X[0],k&&(F[0]!=p||M[0]!=X)))return 3;x!=null&&(x[0]=G,x.offset=D-x.w,t(4294967286>D-x.w),t(x.offset==x.ha-$));break}return ee==0||ee==7&&k&&x==null?(h!=null&&(h[0]|=G.na!=null&&0<G.na.length),_!=null&&(_[0]=p),i!=null&&(i[0]=X),0):ee}function ss(L,D,$){var _=D.width,i=D.height,h=0,p=0,v=_,x=i;if(D.Da=L!=null&&0<L.Da,D.Da&&(v=L.cd,x=L.bd,h=L.v,p=L.j,11>$||(h&=-2,p&=-2),0>h||0>p||0>=v||0>=x||h+v>_||p+x>i))return 0;if(D.v=h,D.j=p,D.va=h+v,D.o=p+x,D.U=v,D.T=x,D.da=L!=null&&0<L.da,D.da){if(!Er(v,x,$=[L.ib],h=[L.hb]))return 0;D.ib=$[0],D.hb=h[0]}return D.ob=L!=null&&L.ob,D.Kb=L==null||!L.Sd,D.da&&(D.ob=D.ib<3*_/4&&D.hb<3*i/4,D.Kb=0),1}function Al(L){if(L==null)return 2;if(11>L.S){var D=L.f.RGBA;D.fb+=(L.height-1)*D.A,D.A=-D.A}else D=L.f.kb,L=L.height,D.O+=(L-1)*D.fa,D.fa=-D.fa,D.N+=(L-1>>1)*D.Ab,D.Ab=-D.Ab,D.W+=(L-1>>1)*D.Db,D.Db=-D.Db,D.F!=null&&(D.J+=(L-1)*D.lb,D.lb=-D.lb);return 0}function ji(L,D,$,_){if(_==null||0>=L||0>=D)return 2;if($!=null){if($.Da){var i=$.cd,h=$.bd,p=-2&$.v,v=-2&$.j;if(0>p||0>v||0>=i||0>=h||p+i>L||v+h>D)return 2;L=i,D=h}if($.da){if(!Er(L,D,i=[$.ib],h=[$.hb]))return 2;L=i[0],D=h[0]}}_.width=L,_.height=D;e:{var x=_.width,F=_.height;if(L=_.S,0>=x||0>=F||!(L>=Uu&&13>L))L=2;else{if(0>=_.Rd&&_.sd==null){p=h=i=D=0;var M=(v=x*Cr[L])*F;if(11>L||(h=(F+1)/2*(D=(x+1)/2),L==12&&(p=(i=x)*F)),(F=A(M+2*h+p))==null){L=1;break e}_.sd=F,11>L?((x=_.f.RGBA).eb=F,x.fb=0,x.A=v,x.size=M):((x=_.f.kb).y=F,x.O=0,x.fa=v,x.Fd=M,x.f=F,x.N=0+M,x.Ab=D,x.Cd=h,x.ea=F,x.W=0+M+h,x.Db=D,x.Ed=h,L==12&&(x.F=F,x.J=0+M+2*h),x.Tc=p,x.lb=i)}if(D=1,i=_.S,h=_.width,p=_.height,i>=Uu&&13>i)if(11>i)L=_.f.RGBA,D&=(v=Math.abs(L.A))*(p-1)+h<=L.size,D&=v>=h*Cr[i],D&=L.eb!=null;else{L=_.f.kb,v=(h+1)/2,M=(p+1)/2,x=Math.abs(L.fa),F=Math.abs(L.Ab);var k=Math.abs(L.Db),Q=Math.abs(L.lb),G=Q*(p-1)+h;D&=x*(p-1)+h<=L.Fd,D&=F*(M-1)+v<=L.Cd,D=(D&=k*(M-1)+v<=L.Ed)&x>=h&F>=v&k>=v,D&=L.y!=null,D&=L.f!=null,D&=L.ea!=null,i==12&&(D&=Q>=h,D&=G<=L.Tc,D&=L.F!=null)}else D=0;L=D?0:2}}return L!=0||$!=null&&$.fd&&(L=Al(_)),L}var ul=64,Ga=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ha=24,Xa=32,Ts=8,Ws=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ur("Predictor0","PredictorAdd0"),pe.Predictor0=function(){return 4278190080},pe.Predictor1=function(L){return L},pe.Predictor2=function(L,D,$){return D[$+0]},pe.Predictor3=function(L,D,$){return D[$+1]},pe.Predictor4=function(L,D,$){return D[$-1]},pe.Predictor5=function(L,D,$){return Br(Br(L,D[$+1]),D[$+0])},pe.Predictor6=function(L,D,$){return Br(L,D[$-1])},pe.Predictor7=function(L,D,$){return Br(L,D[$+0])},pe.Predictor8=function(L,D,$){return Br(D[$-1],D[$+0])},pe.Predictor9=function(L,D,$){return Br(D[$+0],D[$+1])},pe.Predictor10=function(L,D,$){return Br(Br(L,D[$-1]),Br(D[$+0],D[$+1]))},pe.Predictor11=function(L,D,$){var _=D[$+0];return 0>=Jr(_>>24&255,L>>24&255,(D=D[$-1])>>24&255)+Jr(_>>16&255,L>>16&255,D>>16&255)+Jr(_>>8&255,L>>8&255,D>>8&255)+Jr(255&_,255&L,255&D)?_:L},pe.Predictor12=function(L,D,$){var _=D[$+0];return(rn((L>>24&255)+(_>>24&255)-((D=D[$-1])>>24&255))<<24|rn((L>>16&255)+(_>>16&255)-(D>>16&255))<<16|rn((L>>8&255)+(_>>8&255)-(D>>8&255))<<8|rn((255&L)+(255&_)-(255&D)))>>>0},pe.Predictor13=function(L,D,$){var _=D[$-1];return(nn((L=Br(L,D[$+0]))>>24&255,_>>24&255)<<24|nn(L>>16&255,_>>16&255)<<16|nn(L>>8&255,_>>8&255)<<8|nn(255&L,255&_))>>>0};var No=pe.PredictorAdd0;pe.PredictorAdd1=yn,ur("Predictor2","PredictorAdd2"),ur("Predictor3","PredictorAdd3"),ur("Predictor4","PredictorAdd4"),ur("Predictor5","PredictorAdd5"),ur("Predictor6","PredictorAdd6"),ur("Predictor7","PredictorAdd7"),ur("Predictor8","PredictorAdd8"),ur("Predictor9","PredictorAdd9"),ur("Predictor10","PredictorAdd10"),ur("Predictor11","PredictorAdd11"),ur("Predictor12","PredictorAdd12"),ur("Predictor13","PredictorAdd13");var cl=pe.PredictorAdd2;fr("ColorIndexInverseTransform","MapARGB","32b",function(L){return L>>8&255},function(L){return L}),fr("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(L){return L},function(L){return L>>8&255});var Ci,ql=pe.ColorIndexInverseTransform,os=pe.MapARGB,Ro=pe.VP8LColorIndexInverseTransformAlpha,ma=pe.MapAlpha,dn=pe.VP8LPredictorsAdd=[];dn.length=16,(pe.VP8LPredictors=[]).length=16,(pe.VP8LPredictorsAdd_C=[]).length=16,(pe.VP8LPredictors_C=[]).length=16;var Gl,Fu,hl,Is,zo,fl,Fs,dl,ya,ls,Ln,Bn,$n,Pi,As,us,pl,bA,cc,gf,Ch,hc,fc,au,Ho,oi,jo,Us,xA=A(511),_i=A(2041),cs=A(225),ja=A(767),BA=0,Ko=_i,CA=cs,Wi=ja,wi=xA,Uu=0,va=1,Lu=2,hs=3,su=4,SA=5,Ls=6,EA=7,TA=8,IA=9,Mu=10,Ms=[2,3,7],FA=[3,3,11],gl=[280,256,256,256,40],UA=[0,1,1,1,0],Pu=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Oi=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Yi=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ml=8,Ki=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ia=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ys=null,mf=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Rc=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],dc=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],zc=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Vi=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Mn=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Rt=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Fa=[],Si=[],_o=[],Js=1,LA=2,Vo=[],Hr=[];ko("UpsampleRgbLinePair",Qo,3),ko("UpsampleBgrLinePair",Ta,3),ko("UpsampleRgbaLinePair",gn,4),ko("UpsampleBgraLinePair",$s,4),ko("UpsampleArgbLinePair",ln,4),ko("UpsampleRgba4444LinePair",wA,2),ko("UpsampleRgb565LinePair",ei,2);var Xl=pe.UpsampleRgbLinePair,Sh=pe.UpsampleBgrLinePair,MA=pe.UpsampleRgbaLinePair,Hc=pe.UpsampleBgraLinePair,eo=pe.UpsampleArgbLinePair,qo=pe.UpsampleRgba4444LinePair,yl=pe.UpsampleRgb565LinePair,to=16,Ou=1<<to-1,$l=-227,PA=482,jc=6,ca=0,pn=A(256),Zl=A(256),pc=A(256),Kc=A(256),yf=A(PA-$l),gc=A(PA-$l);Tn("YuvToRgbRow",Qo,3),Tn("YuvToBgrRow",Ta,3),Tn("YuvToRgbaRow",gn,4),Tn("YuvToBgraRow",$s,4),Tn("YuvToArgbRow",ln,4),Tn("YuvToRgba4444Row",wA,2),Tn("YuvToRgb565Row",ei,2);var bi=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],fs=[0,2,8],Wl=[8,7,6,4,4,2,2,2,1,1,1,1],lr=1;this.WebPDecodeRGBA=function(L,D,$,_,i){var h=va,p=new Ot,v=new Gr;p.ba=v,v.S=h,v.width=[v.width],v.height=[v.height];var x=v.width,F=v.height,M=new Me;if(M==null||L==null)var k=2;else t(M!=null),k=Zs(L,D,$,M.width,M.height,M.Pd,M.Qd,M.format,null);if(k!=0?x=0:(x!=null&&(x[0]=M.width[0]),F!=null&&(F[0]=M.height[0]),x=1),x){v.width=v.width[0],v.height=v.height[0],_!=null&&(_[0]=v.width),i!=null&&(i[0]=v.height);e:{if(_=new Hs,(i=new jt).data=L,i.w=D,i.ha=$,i.kd=1,D=[0],t(i!=null),((L=Zs(i.data,i.w,i.ha,null,null,null,D,null,i))==0||L==7)&&D[0]&&(L=4),(D=L)==0){if(t(p!=null),_.data=i.data,_.w=i.w+i.offset,_.ha=i.ha-i.offset,_.put=je,_.ac=Ye,_.bc=st,_.ma=p,i.xa){if((L=en())==null){p=1;break e}if((function(Q,G){var X=[0],J=[0],ee=[0];t:for(;;){if(Q==null)return 0;if(G==null)return Q.a=2,0;if(Q.l=G,Q.a=0,We(Q.m,G.data,G.w,G.ha),!$e(Q.m,X,J,ee)){Q.a=3;break t}if(Q.xb=LA,G.width=X[0],G.height=J[0],!vn(X[0],J[0],1,Q,null))break t;return 1}return t(Q.a!=0),0})(L,_)){if(_=(D=ji(_.width,_.height,p.Oa,p.ba))==0){t:{_=L;r:for(;;){if(_==null){_=0;break t}if(t(_.s.yc!=null),t(_.s.Ya!=null),t(0<_.s.Wb),t(($=_.l)!=null),t((i=$.ma)!=null),_.xb!=0){if(_.ca=i.ba,_.tb=i.tb,t(_.ca!=null),!ss(i.Oa,$,hs)){_.a=2;break r}if(!Pn(_,$.width)||$.da)break r;if(($.da||Ur(_.ca.S))&&ga(),11>_.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),_.ca.f.kb.F!=null&&ga()),_.Pb&&0<_.s.ua&&_.s.vb.X==null&&!Pe(_.s.vb,_.s.Wa.Xa)){_.a=1;break r}_.xb=0}if(!Kn(_,_.V,_.Ba,_.c,_.i,$.o,Zr))break r;i.Dc=_.Ma,_=1;break t}t(_.a!=0),_=0}_=!_}_&&(D=L.a)}else D=L.a}else{if((L=new $i)==null){p=1;break e}if(L.Fa=i.na,L.P=i.P,L.qc=i.Sa,oa(L,_)){if((D=ji(_.width,_.height,p.Oa,p.ba))==0){if(L.Aa=0,$=p.Oa,t((i=L)!=null),$!=null){if(0<(x=0>(x=$.Md)?0:100<x?255:255*x/100)){for(F=M=0;4>F;++F)12>(k=i.pb[F]).lc&&(k.ia=x*Wl[0>k.lc?0:k.lc]>>3),M|=k.ia;M&&(alert("todo:VP8InitRandom"),i.ia=1)}i.Ga=$.Id,100<i.Ga?i.Ga=100:0>i.Ga&&(i.Ga=0)}(function(Q,G){if(Q==null)return 0;if(G==null)return qr(Q,2,"NULL VP8Io parameter in VP8Decode().");if(!Q.cb&&!oa(Q,G))return 0;if(t(Q.cb),G.ac==null||G.ac(G)){G.ob&&(Q.L=0);var X=fs[Q.L];if(Q.L==2?(Q.yb=0,Q.zb=0):(Q.yb=G.v-X>>4,Q.zb=G.j-X>>4,0>Q.yb&&(Q.yb=0),0>Q.zb&&(Q.zb=0)),Q.Va=G.o+15+X>>4,Q.Hb=G.va+15+X>>4,Q.Hb>Q.za&&(Q.Hb=Q.za),Q.Va>Q.Ub&&(Q.Va=Q.Ub),0<Q.L){var J=Q.ed;for(X=0;4>X;++X){var ee;if(Q.Qa.Cb){var ue=Q.Qa.Lb[X];Q.Qa.Fb||(ue+=J.Tb)}else ue=J.Tb;for(ee=0;1>=ee;++ee){var ge=Q.gd[X][ee],Ce=ue;if(J.Pc&&(Ce+=J.vd[0],ee&&(Ce+=J.od[0])),0<(Ce=0>Ce?0:63<Ce?63:Ce)){var xe=Ce;0<J.wb&&(xe=4<J.wb?xe>>2:xe>>1)>9-J.wb&&(xe=9-J.wb),1>xe&&(xe=1),ge.dd=xe,ge.tc=2*Ce+xe,ge.ld=40<=Ce?2:15<=Ce?1:0}else ge.tc=0;ge.La=ee}}}X=0}else qr(Q,6,"Frame setup failed"),X=Q.a;if(X=X==0){if(X){Q.$c=0,0<Q.Aa||(Q.Ic=lr);t:{X=Q.Ic,J=4*(xe=Q.za);var Oe=32*xe,Ee=xe+1,qe=0<Q.L?xe*(0<Q.Aa?2:1):0,Ke=(Q.Aa==2?2:1)*xe;if((ge=J+832+(ee=3*(16*X+fs[Q.L])/2*Oe)+(ue=Q.Fa!=null&&0<Q.Fa.length?Q.Kc.c*Q.Kc.i:0))!=ge)X=0;else{if(ge>Q.Vb){if(Q.Vb=0,Q.Ec=A(ge),Q.Fc=0,Q.Ec==null){X=qr(Q,1,"no memory during frame initialization.");break t}Q.Vb=ge}ge=Q.Ec,Ce=Q.Fc,Q.Ac=ge,Q.Bc=Ce,Ce+=J,Q.Gd=f(Oe,rl),Q.Hd=0,Q.rb=f(Ee+1,Li),Q.sb=1,Q.wa=qe?f(qe,vi):null,Q.Y=0,Q.D.Nb=0,Q.D.wa=Q.wa,Q.D.Y=Q.Y,0<Q.Aa&&(Q.D.Y+=xe),t(!0),Q.oc=ge,Q.pc=Ce,Ce+=832,Q.ya=f(Ke,qa),Q.aa=0,Q.D.ya=Q.ya,Q.D.aa=Q.aa,Q.Aa==2&&(Q.D.aa+=xe),Q.R=16*xe,Q.B=8*xe,xe=(Oe=fs[Q.L])*Q.R,Oe=Oe/2*Q.B,Q.sa=ge,Q.ta=Ce+xe,Q.qa=Q.sa,Q.ra=Q.ta+16*X*Q.R+Oe,Q.Ha=Q.qa,Q.Ia=Q.ra+8*X*Q.B+Oe,Q.$c=0,Ce+=ee,Q.mb=ue?ge:null,Q.nb=ue?Ce:null,t(Ce+ue<=Q.Fc+Q.Vb),is(Q),s(Q.Ac,Q.Bc,0,J),X=1}}if(X){if(G.ka=0,G.y=Q.sa,G.O=Q.ta,G.f=Q.qa,G.N=Q.ra,G.ea=Q.Ha,G.Vd=Q.Ia,G.fa=Q.R,G.Rc=Q.B,G.F=null,G.J=0,!BA){for(X=-255;255>=X;++X)xA[255+X]=0>X?-X:X;for(X=-1020;1020>=X;++X)_i[1020+X]=-128>X?-128:127<X?127:X;for(X=-112;112>=X;++X)cs[112+X]=-16>X?-16:15<X?15:X;for(X=-255;510>=X;++X)ja[255+X]=0>X?0:255<X?255:X;BA=1}Fs=Bs,dl=YA,ls=Qa,Ln=al,Bn=JA,ya=Un,$n=Nc,Pi=ll,As=fe,us=Qe,pl=Iu,bA=j,cc=rt,gf=lt,Ch=_n,hc=mo,fc=nu,au=sl,Si[0]=uc,Si[1]=eu,Si[2]=tu,Si[3]=gA,Si[4]=Sa,Si[5]=Tu,Si[6]=Ra,Si[7]=mA,Si[8]=ru,Si[9]=Vs,Fa[0]=Na,Fa[1]=Eu,Fa[2]=lc,Fa[3]=Ac,Fa[4]=Ks,Fa[5]=la,Fa[6]=Zi,_o[0]=jl,_o[1]=Hl,_o[2]=Oo,_o[3]=yA,_o[4]=Aa,_o[5]=vA,_o[6]=pa,X=1}else X=0}X&&(X=(function(it,bt){for(it.M=0;it.M<it.Va;++it.M){var Ct,yt=it.Jc[it.M&it.Xb],pt=it.m,Qt=it;for(Ct=0;Ct<Qt.za;++Ct){var St=pt,zt=Qt,tr=zt.Ac,Vt=zt.Bc+4*Ct,Gt=zt.zc,rr=zt.ya[zt.aa+Ct];if(zt.Qa.Bb?rr.$b=ft(St,zt.Pa.jb[0])?2+ft(St,zt.Pa.jb[2]):ft(St,zt.Pa.jb[1]):rr.$b=0,zt.kc&&(rr.Ad=ft(St,zt.Bd)),rr.Za=!ft(St,145)+0,rr.Za){var un=rr.Ob,Ir=0;for(zt=0;4>zt;++zt){var Lr,br=Gt[0+zt];for(Lr=0;4>Lr;++Lr){br=Vi[tr[Vt+Lr]][br];for(var an=dc[ft(St,br[0])];0<an;)an=dc[2*an+ft(St,br[an])];br=-an,tr[Vt+Lr]=br}n(un,Ir,tr,Vt,4),Ir+=4,Gt[0+zt]=br}}else br=ft(St,156)?ft(St,128)?1:3:ft(St,163)?2:0,rr.Ob[0]=br,s(tr,Vt,br,4),s(Gt,0,br,4);rr.Dd=ft(St,142)?ft(St,114)?ft(St,183)?1:3:2:0}if(Qt.m.Ka)return qr(it,7,"Premature end-of-partition0 encountered.");for(;it.ja<it.za;++it.ja){if(Qt=yt,St=(pt=it).rb[pt.sb-1],tr=pt.rb[pt.sb+pt.ja],Ct=pt.ya[pt.aa+pt.ja],Vt=pt.kc?Ct.Ad:0)St.la=tr.la=0,Ct.Za||(St.Na=tr.Na=0),Ct.Hc=0,Ct.Gc=0,Ct.ia=0;else{var Hn,Dr;if(St=tr,tr=Qt,Vt=pt.Pa.Xc,Gt=pt.ya[pt.aa+pt.ja],rr=pt.pb[Gt.$b],zt=Gt.ad,un=0,Ir=pt.rb[pt.sb-1],br=Lr=0,s(zt,un,0,384),Gt.Za)var qn=0,In=Vt[3];else{an=A(16);var sn=St.Na+Ir.Na;if(sn=Ys(tr,Vt[1],sn,rr.Eb,0,an,0),St.Na=Ir.Na=(0<sn)+0,1<sn)Fs(an,0,zt,un);else{var On=an[0]+3>>3;for(an=0;256>an;an+=16)zt[un+an]=On}qn=1,In=Vt[0]}var Cn=15&St.la,xi=15&Ir.la;for(an=0;4>an;++an){var Di=1&xi;for(On=Dr=0;4>On;++On)Cn=Cn>>1|(Di=(sn=Ys(tr,In,sn=Di+(1&Cn),rr.Sc,qn,zt,un))>qn)<<7,Dr=Dr<<2|(3<sn?3:1<sn?2:zt[un+0]!=0),un+=16;Cn>>=4,xi=xi>>1|Di<<7,Lr=(Lr<<8|Dr)>>>0}for(In=Cn,qn=xi>>4,Hn=0;4>Hn;Hn+=2){for(Dr=0,Cn=St.la>>4+Hn,xi=Ir.la>>4+Hn,an=0;2>an;++an){for(Di=1&xi,On=0;2>On;++On)sn=Di+(1&Cn),Cn=Cn>>1|(Di=0<(sn=Ys(tr,Vt[2],sn,rr.Qc,0,zt,un)))<<3,Dr=Dr<<2|(3<sn?3:1<sn?2:zt[un+0]!=0),un+=16;Cn>>=2,xi=xi>>1|Di<<5}br|=Dr<<4*Hn,In|=Cn<<4<<Hn,qn|=(240&xi)<<Hn}St.la=In,Ir.la=qn,Gt.Hc=Lr,Gt.Gc=br,Gt.ia=43690&br?0:rr.ia,Vt=!(Lr|br)}if(0<pt.L&&(pt.wa[pt.Y+pt.ja]=pt.gd[Ct.$b][Ct.Za],pt.wa[pt.Y+pt.ja].La|=!Vt),Qt.Ka)return qr(it,7,"Premature end-of-file encountered.")}if(is(it),pt=bt,Qt=1,Ct=(yt=it).D,St=0<yt.L&&yt.M>=yt.zb&&yt.M<=yt.Va,yt.Aa==0)t:{if(Ct.M=yt.M,Ct.uc=St,za(yt,Ct),Qt=1,Ct=(Dr=yt.D).Nb,St=(br=fs[yt.L])*yt.R,tr=br/2*yt.B,an=16*Ct*yt.R,On=8*Ct*yt.B,Vt=yt.sa,Gt=yt.ta-St+an,rr=yt.qa,zt=yt.ra-tr+On,un=yt.Ha,Ir=yt.Ia-tr+On,xi=(Cn=Dr.M)==0,Lr=Cn>=yt.Va-1,yt.Aa==2&&za(yt,Dr),Dr.uc)for(Di=(sn=yt).D.M,t(sn.D.uc),Dr=sn.yb;Dr<sn.Hb;++Dr){qn=Dr,In=Di;var Gn=(fn=(Xn=sn).D).Nb;Hn=Xn.R;var fn=fn.wa[fn.Y+qn],_a=Xn.sa,Ei=Xn.ta+16*Gn*Hn+16*qn,mr=fn.dd,vr=fn.tc;if(vr!=0)if(t(3<=vr),Xn.L==1)0<qn&&hc(_a,Ei,Hn,vr+4),fn.La&&au(_a,Ei,Hn,vr),0<In&&Ch(_a,Ei,Hn,vr+4),fn.La&&fc(_a,Ei,Hn,vr);else{var xn=Xn.B,Ti=Xn.qa,ni=Xn.ra+8*Gn*xn+8*qn,Wn=Xn.Ha,Xn=Xn.Ia+8*Gn*xn+8*qn;Gn=fn.ld,0<qn&&(Pi(_a,Ei,Hn,vr+4,mr,Gn),us(Ti,ni,Wn,Xn,xn,vr+4,mr,Gn)),fn.La&&(bA(_a,Ei,Hn,vr,mr,Gn),gf(Ti,ni,Wn,Xn,xn,vr,mr,Gn)),0<In&&($n(_a,Ei,Hn,vr+4,mr,Gn),As(Ti,ni,Wn,Xn,xn,vr+4,mr,Gn)),fn.La&&(pl(_a,Ei,Hn,vr,mr,Gn),cc(Ti,ni,Wn,Xn,xn,vr,mr,Gn))}}if(yt.ia&&alert("todo:DitherRow"),pt.put!=null){if(Dr=16*Cn,Cn=16*(Cn+1),xi?(pt.y=yt.sa,pt.O=yt.ta+an,pt.f=yt.qa,pt.N=yt.ra+On,pt.ea=yt.Ha,pt.W=yt.Ia+On):(Dr-=br,pt.y=Vt,pt.O=Gt,pt.f=rr,pt.N=zt,pt.ea=un,pt.W=Ir),Lr||(Cn-=br),Cn>pt.o&&(Cn=pt.o),pt.F=null,pt.J=null,yt.Fa!=null&&0<yt.Fa.length&&Dr<Cn&&(pt.J=si(yt,pt,Dr,Cn-Dr),pt.F=yt.mb,pt.F==null&&pt.F.length==0)){Qt=qr(yt,3,"Could not decode alpha data.");break t}Dr<pt.j&&(br=pt.j-Dr,Dr=pt.j,t(!(1&br)),pt.O+=yt.R*br,pt.N+=yt.B*(br>>1),pt.W+=yt.B*(br>>1),pt.F!=null&&(pt.J+=pt.width*br)),Dr<Cn&&(pt.O+=pt.v,pt.N+=pt.v>>1,pt.W+=pt.v>>1,pt.F!=null&&(pt.J+=pt.v),pt.ka=Dr-pt.j,pt.U=pt.va-pt.v,pt.T=Cn-Dr,Qt=pt.put(pt))}Ct+1!=yt.Ic||Lr||(n(yt.sa,yt.ta-St,Vt,Gt+16*yt.R,St),n(yt.qa,yt.ra-tr,rr,zt+8*yt.B,tr),n(yt.Ha,yt.Ia-tr,un,Ir+8*yt.B,tr))}if(!Qt)return qr(it,6,"Output aborted.")}return 1})(Q,G)),G.bc!=null&&G.bc(G),X&=1}return X?(Q.cb=0,X):0})(L,_)||(D=L.a)}}else D=L.a}D==0&&p.Oa!=null&&p.Oa.fd&&(D=Al(p.ba))}p=D}h=p!=0?null:11>h?v.f.RGBA.eb:v.f.kb.y}else h=null;return h};var Cr=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function w(pe,ze){for(var ie="",de=0;de<4;de++)ie+=String.fromCharCode(pe[ze++]);return ie}function b(pe,ze){return pe[ze+0]|pe[ze+1]<<8}function S(pe,ze){return(pe[ze+0]|pe[ze+1]<<8|pe[ze+2]<<16)>>>0}function U(pe,ze){return(pe[ze+0]|pe[ze+1]<<8|pe[ze+2]<<16|pe[ze+3]<<24)>>>0}new y;var I=[0],z=[0],H=[],K=new y,V=e,re=(function(pe,ze){var ie={},de=0,ve=!1,_e=0,tt=0;if(ie.frames=[],!(function(ne,we){for(var Ue=0;Ue<4;Ue++)if(ne[we+Ue]!="RIFF".charCodeAt(Ue))return!0;return!1})(pe,ze)){for(U(pe,ze+=4),ze+=8;ze<pe.length;){var Le=w(pe,ze),Ne=U(pe,ze+=4);ze+=4;var Ve=Ne+(1&Ne);switch(Le){case"VP8 ":case"VP8L":ie.frames[de]===void 0&&(ie.frames[de]={}),(Te=ie.frames[de]).src_off=ve?tt:ze-8,Te.src_size=_e+Ne+8,de++,ve&&(ve=!1,_e=0,tt=0);break;case"VP8X":(Te=ie.header={}).feature_flags=pe[ze];var We=ze+4;Te.canvas_width=1+S(pe,We),We+=3,Te.canvas_height=1+S(pe,We),We+=3;break;case"ALPH":ve=!0,_e=Ve+8,tt=ze-8;break;case"ANIM":(Te=ie.header).bgcolor=U(pe,ze),We=ze+4,Te.loop_count=b(pe,We),We+=2;break;case"ANMF":var _t,Te;(Te=ie.frames[de]={}).offset_x=2*S(pe,ze),ze+=3,Te.offset_y=2*S(pe,ze),ze+=3,Te.width=1+S(pe,ze),ze+=3,Te.height=1+S(pe,ze),ze+=3,Te.duration=S(pe,ze),ze+=3,_t=pe[ze++],Te.dispose=1&_t,Te.blend=_t>>1&1}Le!="ANMF"&&(ze+=Ve)}return ie}})(V,0);re.response=V,re.rgbaoutput=!0,re.dataurl=!1;var W=re.header?re.header:null,le=re.frames?re.frames:null;if(W){W.loop_counter=W.loop_count,I=[W.canvas_height],z=[W.canvas_width];for(var ce=0;ce<le.length&&le[ce].blend!=0;ce++);}var me=le[0],Ie=K.WebPDecodeRGBA(V,me.src_off,me.src_size,z,I);me.rgba=Ie,me.imgwidth=z[0],me.imgheight=I[0];for(var Fe=0;Fe<z[0]*I[0]*4;Fe++)H[Fe]=Ie[Fe];return this.width=z,this.height=I,this.data=H,this}(function(e){var t,r,n,s,A,f,l,y,w,b=function(ne){return ne=ne||{},this.isStrokeTransparent=ne.isStrokeTransparent||!1,this.strokeOpacity=ne.strokeOpacity||1,this.strokeStyle=ne.strokeStyle||"#000000",this.fillStyle=ne.fillStyle||"#000000",this.isFillTransparent=ne.isFillTransparent||!1,this.fillOpacity=ne.fillOpacity||1,this.font=ne.font||"10px sans-serif",this.textBaseline=ne.textBaseline||"alphabetic",this.textAlign=ne.textAlign||"left",this.lineWidth=ne.lineWidth||1,this.lineJoin=ne.lineJoin||"miter",this.lineCap=ne.lineCap||"butt",this.path=ne.path||[],this.transform=ne.transform!==void 0?ne.transform.clone():new y,this.globalCompositeOperation=ne.globalCompositeOperation||"normal",this.globalAlpha=ne.globalAlpha||1,this.clip_path=ne.clip_path||[],this.currentPoint=ne.currentPoint||new f,this.miterLimit=ne.miterLimit||10,this.lastPoint=ne.lastPoint||new f,this.lineDashOffset=ne.lineDashOffset||0,this.lineDash=ne.lineDash||[],this.margin=ne.margin||[0,0,0,0],this.prevPageLastElemOffset=ne.prevPageLastElemOffset||0,this.ignoreClearRect=typeof ne.ignoreClearRect!="boolean"||ne.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new S(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,A=this.internal.getVerticalCoordinate,f=this.internal.Point,l=this.internal.Rectangle,y=this.internal.Matrix,w=new b}]);var S=function(ne){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var we=ne;Object.defineProperty(this,"pdf",{get:function(){return we}});var Ue=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Ue},set:function(Pe){Ue=!!Pe}});var De=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return De},set:function(Pe){De=!!Pe}});var Xe=0;Object.defineProperty(this,"posX",{get:function(){return Xe},set:function(Pe){isNaN(Pe)||(Xe=Pe)}});var Je=0;Object.defineProperty(this,"posY",{get:function(){return Je},set:function(Pe){isNaN(Pe)||(Je=Pe)}}),Object.defineProperty(this,"margin",{get:function(){return w.margin},set:function(Pe){var Ze;typeof Pe=="number"?Ze=[Pe,Pe,Pe,Pe]:((Ze=new Array(4))[0]=Pe[0],Ze[1]=Pe.length>=2?Pe[1]:Ze[0],Ze[2]=Pe.length>=3?Pe[2]:Ze[0],Ze[3]=Pe.length>=4?Pe[3]:Ze[1]),w.margin=Ze}});var dt=!1;Object.defineProperty(this,"autoPaging",{get:function(){return dt},set:function(Pe){dt=Pe}});var He=0;Object.defineProperty(this,"lastBreak",{get:function(){return He},set:function(Pe){He=Pe}});var ft=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ft},set:function(Pe){ft=Pe}}),Object.defineProperty(this,"ctx",{get:function(){return w},set:function(Pe){Pe instanceof b&&(w=Pe)}}),Object.defineProperty(this,"path",{get:function(){return w.path},set:function(Pe){w.path=Pe}});var It=[];Object.defineProperty(this,"ctxStack",{get:function(){return It},set:function(Pe){It=Pe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Pe){var Ze;Ze=U(Pe),this.ctx.fillStyle=Ze.style,this.ctx.isFillTransparent=Ze.a===0,this.ctx.fillOpacity=Ze.a,this.pdf.setFillColor(Ze.r,Ze.g,Ze.b,{a:Ze.a}),this.pdf.setTextColor(Ze.r,Ze.g,Ze.b,{a:Ze.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Pe){var Ze=U(Pe);this.ctx.strokeStyle=Ze.style,this.ctx.isStrokeTransparent=Ze.a===0,this.ctx.strokeOpacity=Ze.a,Ze.a===0?this.pdf.setDrawColor(255,255,255):(Ze.a,this.pdf.setDrawColor(Ze.r,Ze.g,Ze.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Pe){["butt","round","square"].indexOf(Pe)!==-1&&(this.ctx.lineCap=Pe,this.pdf.setLineCap(Pe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Pe){isNaN(Pe)||(this.ctx.lineWidth=Pe,this.pdf.setLineWidth(Pe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Pe){["bevel","round","miter"].indexOf(Pe)!==-1&&(this.ctx.lineJoin=Pe,this.pdf.setLineJoin(Pe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Pe){isNaN(Pe)||(this.ctx.miterLimit=Pe,this.pdf.setMiterLimit(Pe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Pe){this.ctx.textBaseline=Pe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Pe){["right","end","center","left","start"].indexOf(Pe)!==-1&&(this.ctx.textAlign=Pe)}});var ct=null,Xt=null,$t=null;Object.defineProperty(this,"fontFaces",{get:function(){return $t},set:function(Pe){ct=null,Xt=null,$t=Pe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Pe){var Ze;if(this.ctx.font=Pe,(Ze=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(Pe))!==null){var Nr=Ze[1];Ze[2];var Er=Ze[3],Et=Ze[4];Ze[5];var nr=Ze[6],ur=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Et)[2];Et=Math.floor(ur==="px"?parseFloat(Et)*this.pdf.internal.scaleFactor:ur==="em"?parseFloat(Et)*this.pdf.getFontSize():parseFloat(Et)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Et);var Tr=(function(fr){var ri,Pt,Zt=[],qt=fr.trim();if(qt==="")return x2;if(qt in MF)return[MF[qt]];for(;qt!=="";){switch(Pt=null,ri=(qt=OF(qt)).charAt(0)){case'"':case"'":Pt=pse(qt.substring(1),ri);break;default:Pt=gse(qt)}if(Pt===null||(Zt.push(Pt[0]),(qt=OF(Pt[1]))!==""&&qt.charAt(0)!==","))return x2;qt=qt.replace(/^,/,"")}return Zt})(nr);if(this.fontFaces){var Br=(function(fr,ri){var Pt=fr.getFontList(),Zt=JSON.stringify(Pt);if(ct===null||Xt!==Zt){var qt=(function($r){var _r=[];return Object.keys($r).forEach(function(sr){$r[sr].forEach(function(Ur){var Rr=null;switch(Ur){case"bold":Rr={family:sr,weight:"bold"};break;case"italic":Rr={family:sr,style:"italic"};break;case"bolditalic":Rr={family:sr,weight:"bold",style:"italic"};break;case"":case"normal":Rr={family:sr}}Rr!==null&&(Rr.ref={name:sr,style:Ur},_r.push(Rr))})}),_r})(Pt);ct=(function($r){for(var _r={},sr=0;sr<$r.length;++sr){var Ur=b2($r[sr]),Rr=Ur.family,kn=Ur.stretch,Gr=Ur.style,Me=Ur.weight;_r[Rr]=_r[Rr]||{},_r[Rr][kn]=_r[Rr][kn]||{},_r[Rr][kn][Gr]=_r[Rr][kn][Gr]||{},_r[Rr][kn][Gr][Me]=Ur}return _r})(qt.concat(ri)),Xt=Zt}return ct})(this.pdf,this.fontFaces),rn=Tr.map(function(fr){return{family:fr,stretch:"normal",weight:Er,style:Nr}}),nn=(function(fr,ri,Pt){for(var Zt=(Pt=Pt||{}).defaultFontFamily||"times",qt=Object.assign({},dse,Pt.genericFontFamilies||{}),$r=null,_r=null,sr=0;sr<ri.length;++sr)if(qt[($r=b2(ri[sr])).family]&&($r.family=qt[$r.family]),fr.hasOwnProperty($r.family)){_r=fr[$r.family];break}if(!(_r=_r||fr[Zt]))throw new Error("Could not find a font-family for the rule '"+PF($r)+"' and default family '"+Zt+"'.");if(_r=(function(Ur,Rr){if(Rr[Ur])return Rr[Ur];var kn=i5[Ur],Gr=kn<=i5.normal?-1:1,Me=LF(Rr,KD,kn,Gr);if(!Me)throw new Error("Could not find a matching font-stretch value for "+Ur);return Me})($r.stretch,_r),_r=(function(Ur,Rr){if(Rr[Ur])return Rr[Ur];for(var kn=jD[Ur],Gr=0;Gr<kn.length;++Gr)if(Rr[kn[Gr]])return Rr[kn[Gr]];throw new Error("Could not find a matching font-style for "+Ur)})($r.style,_r),!(_r=(function(Ur,Rr){if(Rr[Ur])return Rr[Ur];if(Ur===400&&Rr[500])return Rr[500];if(Ur===500&&Rr[400])return Rr[400];var kn=fse[Ur],Gr=LF(Rr,VD,kn,Ur<400?-1:1);if(!Gr)throw new Error("Could not find a matching font-weight for value "+Ur);return Gr})($r.weight,_r)))throw new Error("Failed to resolve a font for the rule '"+PF($r)+"'.");return _r})(Br,rn);this.pdf.setFont(nn.ref.name,nn.ref.style)}else{var Jr="";(Er==="bold"||parseInt(Er,10)>=700||Nr==="bold")&&(Jr="bold"),Nr==="italic"&&(Jr+="italic"),Jr.length===0&&(Jr="normal");for(var yn="",Ft={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},cr=0;cr<Tr.length;cr++){if(this.pdf.internal.getFont(Tr[cr],Jr,{noFallback:!0,disableWarning:!0})!==void 0){yn=Tr[cr];break}if(Jr==="bolditalic"&&this.pdf.internal.getFont(Tr[cr],"bold",{noFallback:!0,disableWarning:!0})!==void 0)yn=Tr[cr],Jr="bold";else if(this.pdf.internal.getFont(Tr[cr],"normal",{noFallback:!0,disableWarning:!0})!==void 0){yn=Tr[cr],Jr="normal";break}}if(yn===""){for(var Pr=0;Pr<Tr.length;Pr++)if(Ft[Tr[Pr]]){yn=Ft[Tr[Pr]];break}}yn=yn===""?"Times":yn,this.pdf.setFont(yn,Jr)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Pe){this.ctx.globalCompositeOperation=Pe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Pe){this.ctx.globalAlpha=Pe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Pe){this.ctx.lineDashOffset=Pe,Te.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Pe){this.ctx.lineDash=Pe,Te.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Pe){this.ctx.ignoreClearRect=!!Pe}})};S.prototype.setLineDash=function(ne){this.lineDash=ne},S.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},S.prototype.fill=function(){le.call(this,"fill",!1)},S.prototype.stroke=function(){le.call(this,"stroke",!1)},S.prototype.beginPath=function(){this.path=[{type:"begin"}]},S.prototype.moveTo=function(ne,we){if(isNaN(ne)||isNaN(we))throw aa.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Ue=this.ctx.transform.applyToPoint(new f(ne,we));this.path.push({type:"mt",x:Ue.x,y:Ue.y}),this.ctx.lastPoint=new f(ne,we)},S.prototype.closePath=function(){var ne=new f(0,0),we=0;for(we=this.path.length-1;we!==-1;we--)if(this.path[we].type==="begin"&&Ni(this.path[we+1])==="object"&&typeof this.path[we+1].x=="number"){ne=new f(this.path[we+1].x,this.path[we+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new f(ne.x,ne.y)},S.prototype.lineTo=function(ne,we){if(isNaN(ne)||isNaN(we))throw aa.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Ue=this.ctx.transform.applyToPoint(new f(ne,we));this.path.push({type:"lt",x:Ue.x,y:Ue.y}),this.ctx.lastPoint=new f(Ue.x,Ue.y)},S.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),le.call(this,null,!0)},S.prototype.quadraticCurveTo=function(ne,we,Ue,De){if(isNaN(Ue)||isNaN(De)||isNaN(ne)||isNaN(we))throw aa.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Xe=this.ctx.transform.applyToPoint(new f(Ue,De)),Je=this.ctx.transform.applyToPoint(new f(ne,we));this.path.push({type:"qct",x1:Je.x,y1:Je.y,x:Xe.x,y:Xe.y}),this.ctx.lastPoint=new f(Xe.x,Xe.y)},S.prototype.bezierCurveTo=function(ne,we,Ue,De,Xe,Je){if(isNaN(Xe)||isNaN(Je)||isNaN(ne)||isNaN(we)||isNaN(Ue)||isNaN(De))throw aa.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var dt=this.ctx.transform.applyToPoint(new f(Xe,Je)),He=this.ctx.transform.applyToPoint(new f(ne,we)),ft=this.ctx.transform.applyToPoint(new f(Ue,De));this.path.push({type:"bct",x1:He.x,y1:He.y,x2:ft.x,y2:ft.y,x:dt.x,y:dt.y}),this.ctx.lastPoint=new f(dt.x,dt.y)},S.prototype.arc=function(ne,we,Ue,De,Xe,Je){if(isNaN(ne)||isNaN(we)||isNaN(Ue)||isNaN(De)||isNaN(Xe))throw aa.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Je=!!Je,!this.ctx.transform.isIdentity){var dt=this.ctx.transform.applyToPoint(new f(ne,we));ne=dt.x,we=dt.y;var He=this.ctx.transform.applyToPoint(new f(0,Ue)),ft=this.ctx.transform.applyToPoint(new f(0,0));Ue=Math.sqrt(Math.pow(He.x-ft.x,2)+Math.pow(He.y-ft.y,2))}Math.abs(Xe-De)>=2*Math.PI&&(De=0,Xe=2*Math.PI),this.path.push({type:"arc",x:ne,y:we,radius:Ue,startAngle:De,endAngle:Xe,counterclockwise:Je})},S.prototype.arcTo=function(ne,we,Ue,De,Xe){throw new Error("arcTo not implemented.")},S.prototype.rect=function(ne,we,Ue,De){if(isNaN(ne)||isNaN(we)||isNaN(Ue)||isNaN(De))throw aa.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(ne,we),this.lineTo(ne+Ue,we),this.lineTo(ne+Ue,we+De),this.lineTo(ne,we+De),this.lineTo(ne,we),this.lineTo(ne+Ue,we),this.lineTo(ne,we)},S.prototype.fillRect=function(ne,we,Ue,De){if(isNaN(ne)||isNaN(we)||isNaN(Ue)||isNaN(De))throw aa.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!I.call(this)){var Xe={};this.lineCap!=="butt"&&(Xe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Xe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(ne,we,Ue,De),this.fill(),Xe.hasOwnProperty("lineCap")&&(this.lineCap=Xe.lineCap),Xe.hasOwnProperty("lineJoin")&&(this.lineJoin=Xe.lineJoin)}},S.prototype.strokeRect=function(ne,we,Ue,De){if(isNaN(ne)||isNaN(we)||isNaN(Ue)||isNaN(De))throw aa.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");z.call(this)||(this.beginPath(),this.rect(ne,we,Ue,De),this.stroke())},S.prototype.clearRect=function(ne,we,Ue,De){if(isNaN(ne)||isNaN(we)||isNaN(Ue)||isNaN(De))throw aa.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(ne,we,Ue,De))},S.prototype.save=function(ne){ne=typeof ne!="boolean"||ne;for(var we=this.pdf.internal.getCurrentPageInfo().pageNumber,Ue=0;Ue<this.pdf.internal.getNumberOfPages();Ue++)this.pdf.setPage(Ue+1),this.pdf.internal.out("q");if(this.pdf.setPage(we),ne){this.ctx.fontSize=this.pdf.internal.getFontSize();var De=new b(this.ctx);this.ctxStack.push(this.ctx),this.ctx=De}},S.prototype.restore=function(ne){ne=typeof ne!="boolean"||ne;for(var we=this.pdf.internal.getCurrentPageInfo().pageNumber,Ue=0;Ue<this.pdf.internal.getNumberOfPages();Ue++)this.pdf.setPage(Ue+1),this.pdf.internal.out("Q");this.pdf.setPage(we),ne&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},S.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var U=function(ne){var we,Ue,De,Xe;if(ne.isCanvasGradient===!0&&(ne=ne.getColor()),!ne)return{r:0,g:0,b:0,a:0,style:ne};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(ne))we=0,Ue=0,De=0,Xe=0;else{var Je=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(ne);if(Je!==null)we=parseInt(Je[1]),Ue=parseInt(Je[2]),De=parseInt(Je[3]),Xe=1;else if((Je=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(ne))!==null)we=parseInt(Je[1]),Ue=parseInt(Je[2]),De=parseInt(Je[3]),Xe=parseFloat(Je[4]);else{if(Xe=1,typeof ne=="string"&&ne.charAt(0)!=="#"){var dt=new DD(ne);ne=dt.ok?dt.toHex():"#000000"}ne.length===4?(we=ne.substring(1,2),we+=we,Ue=ne.substring(2,3),Ue+=Ue,De=ne.substring(3,4),De+=De):(we=ne.substring(1,3),Ue=ne.substring(3,5),De=ne.substring(5,7)),we=parseInt(we,16),Ue=parseInt(Ue,16),De=parseInt(De,16)}}return{r:we,g:Ue,b:De,a:Xe,style:ne}},I=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},z=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};S.prototype.fillText=function(ne,we,Ue,De){if(isNaN(we)||isNaN(Ue)||typeof ne!="string")throw aa.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(De=isNaN(De)?void 0:De,!I.call(this)){var Xe=Ve(this.ctx.transform.rotation),Je=this.ctx.transform.scaleX;de.call(this,{text:ne,x:we,y:Ue,scale:Je,angle:Xe,align:this.textAlign,maxWidth:De})}},S.prototype.strokeText=function(ne,we,Ue,De){if(isNaN(we)||isNaN(Ue)||typeof ne!="string")throw aa.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!z.call(this)){De=isNaN(De)?void 0:De;var Xe=Ve(this.ctx.transform.rotation),Je=this.ctx.transform.scaleX;de.call(this,{text:ne,x:we,y:Ue,scale:Je,renderingMode:"stroke",angle:Xe,align:this.textAlign,maxWidth:De})}},S.prototype.measureText=function(ne){if(typeof ne!="string")throw aa.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var we=this.pdf,Ue=this.pdf.internal.scaleFactor,De=we.internal.getFontSize(),Xe=we.getStringUnitWidth(ne)*De/we.internal.scaleFactor;return new function(Je){var dt=(Je=Je||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return dt}}),this}({width:Xe*=Math.round(96*Ue/72*1e4)/1e4})},S.prototype.scale=function(ne,we){if(isNaN(ne)||isNaN(we))throw aa.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Ue=new y(ne,0,0,we,0,0);this.ctx.transform=this.ctx.transform.multiply(Ue)},S.prototype.rotate=function(ne){if(isNaN(ne))throw aa.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var we=new y(Math.cos(ne),Math.sin(ne),-Math.sin(ne),Math.cos(ne),0,0);this.ctx.transform=this.ctx.transform.multiply(we)},S.prototype.translate=function(ne,we){if(isNaN(ne)||isNaN(we))throw aa.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Ue=new y(1,0,0,1,ne,we);this.ctx.transform=this.ctx.transform.multiply(Ue)},S.prototype.transform=function(ne,we,Ue,De,Xe,Je){if(isNaN(ne)||isNaN(we)||isNaN(Ue)||isNaN(De)||isNaN(Xe)||isNaN(Je))throw aa.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var dt=new y(ne,we,Ue,De,Xe,Je);this.ctx.transform=this.ctx.transform.multiply(dt)},S.prototype.setTransform=function(ne,we,Ue,De,Xe,Je){ne=isNaN(ne)?1:ne,we=isNaN(we)?0:we,Ue=isNaN(Ue)?0:Ue,De=isNaN(De)?1:De,Xe=isNaN(Xe)?0:Xe,Je=isNaN(Je)?0:Je,this.ctx.transform=new y(ne,we,Ue,De,Xe,Je)};var H=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};S.prototype.drawImage=function(ne,we,Ue,De,Xe,Je,dt,He,ft){var It=this.pdf.getImageProperties(ne),ct=1,Xt=1,$t=1,Pe=1;De!==void 0&&He!==void 0&&($t=He/De,Pe=ft/Xe,ct=It.width/De*He/De,Xt=It.height/Xe*ft/Xe),Je===void 0&&(Je=we,dt=Ue,we=0,Ue=0),De!==void 0&&He===void 0&&(He=De,ft=Xe),De===void 0&&He===void 0&&(He=It.width,ft=It.height);var Ze=this.ctx.transform.decompose(),Nr=Ve(Ze.rotate.shx),Er=new y,Et=(Er=(Er=(Er=Er.multiply(Ze.translate)).multiply(Ze.skew)).multiply(Ze.scale)).applyToRectangle(new l(Je-we*$t,dt-Ue*Pe,De*ct,Xe*Xt));if(this.autoPaging){for(var nr,ur=K.call(this,Et),Tr=[],Br=0;Br<ur.length;Br+=1)Tr.indexOf(ur[Br])===-1&&Tr.push(ur[Br]);W(Tr);for(var rn=Tr[0],nn=Tr[Tr.length-1],Jr=rn;Jr<nn+1;Jr++){this.pdf.setPage(Jr);var yn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ft=Jr===1?this.posY+this.margin[0]:this.margin[0],cr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Pr=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],fr=Jr===1?0:cr+(Jr-2)*Pr;if(this.ctx.clip_path.length!==0){var ri=this.path;nr=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=re(nr,this.posX+this.margin[3],-fr+Ft+this.ctx.prevPageLastElemOffset),ce.call(this,"fill",!0),this.path=ri}var Pt=JSON.parse(JSON.stringify(Et));Pt=re([Pt],this.posX+this.margin[3],-fr+Ft+this.ctx.prevPageLastElemOffset)[0];var Zt=(Jr>rn||Jr<nn)&&H.call(this);Zt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],yn,Pr,null).clip().discardPath()),this.pdf.addImage(ne,"JPEG",Pt.x,Pt.y,Pt.w,Pt.h,null,null,Nr),Zt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(ne,"JPEG",Et.x,Et.y,Et.w,Et.h,null,null,Nr)};var K=function(ne,we,Ue){var De=[];we=we||this.pdf.internal.pageSize.width,Ue=Ue||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Xe=this.posY+this.ctx.prevPageLastElemOffset;switch(ne.type){default:case"mt":case"lt":De.push(Math.floor((ne.y+Xe)/Ue)+1);break;case"arc":De.push(Math.floor((ne.y+Xe-ne.radius)/Ue)+1),De.push(Math.floor((ne.y+Xe+ne.radius)/Ue)+1);break;case"qct":var Je=We(this.ctx.lastPoint.x,this.ctx.lastPoint.y,ne.x1,ne.y1,ne.x,ne.y);De.push(Math.floor((Je.y+Xe)/Ue)+1),De.push(Math.floor((Je.y+Je.h+Xe)/Ue)+1);break;case"bct":var dt=_t(this.ctx.lastPoint.x,this.ctx.lastPoint.y,ne.x1,ne.y1,ne.x2,ne.y2,ne.x,ne.y);De.push(Math.floor((dt.y+Xe)/Ue)+1),De.push(Math.floor((dt.y+dt.h+Xe)/Ue)+1);break;case"rect":De.push(Math.floor((ne.y+Xe)/Ue)+1),De.push(Math.floor((ne.y+ne.h+Xe)/Ue)+1)}for(var He=0;He<De.length;He+=1)for(;this.pdf.internal.getNumberOfPages()<De[He];)V.call(this);return De},V=function(){var ne=this.fillStyle,we=this.strokeStyle,Ue=this.font,De=this.lineCap,Xe=this.lineWidth,Je=this.lineJoin;this.pdf.addPage(),this.fillStyle=ne,this.strokeStyle=we,this.font=Ue,this.lineCap=De,this.lineWidth=Xe,this.lineJoin=Je},re=function(ne,we,Ue){for(var De=0;De<ne.length;De++)switch(ne[De].type){case"bct":ne[De].x2+=we,ne[De].y2+=Ue;case"qct":ne[De].x1+=we,ne[De].y1+=Ue;default:ne[De].x+=we,ne[De].y+=Ue}return ne},W=function(ne){return ne.sort(function(we,Ue){return we-Ue})},le=function(ne,we){var Ue=this.fillStyle,De=this.strokeStyle,Xe=this.lineCap,Je=this.lineWidth,dt=Math.abs(Je*this.ctx.transform.scaleX),He=this.lineJoin;if(this.autoPaging){for(var ft,It,ct=JSON.parse(JSON.stringify(this.path)),Xt=JSON.parse(JSON.stringify(this.path)),$t=[],Pe=0;Pe<Xt.length;Pe++)if(Xt[Pe].x!==void 0)for(var Ze=K.call(this,Xt[Pe]),Nr=0;Nr<Ze.length;Nr+=1)$t.indexOf(Ze[Nr])===-1&&$t.push(Ze[Nr]);for(var Er=0;Er<$t.length;Er++)for(;this.pdf.internal.getNumberOfPages()<$t[Er];)V.call(this);W($t);for(var Et=$t[0],nr=$t[$t.length-1],ur=Et;ur<nr+1;ur++){this.pdf.setPage(ur),this.fillStyle=Ue,this.strokeStyle=De,this.lineCap=Xe,this.lineWidth=dt,this.lineJoin=He;var Tr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Br=ur===1?this.posY+this.margin[0]:this.margin[0],rn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],nn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Jr=ur===1?0:rn+(ur-2)*nn;if(this.ctx.clip_path.length!==0){var yn=this.path;ft=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=re(ft,this.posX+this.margin[3],-Jr+Br+this.ctx.prevPageLastElemOffset),ce.call(this,ne,!0),this.path=yn}if(It=JSON.parse(JSON.stringify(ct)),this.path=re(It,this.posX+this.margin[3],-Jr+Br+this.ctx.prevPageLastElemOffset),we===!1||ur===0){var Ft=(ur>Et||ur<nr)&&H.call(this);Ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Tr,nn,null).clip().discardPath()),ce.call(this,ne,we),Ft&&this.pdf.restoreGraphicsState()}this.lineWidth=Je}this.path=ct}else this.lineWidth=dt,ce.call(this,ne,we),this.lineWidth=Je},ce=function(ne,we){if((ne!=="stroke"||we||!z.call(this))&&(ne==="stroke"||we||!I.call(this))){for(var Ue,De,Xe=[],Je=this.path,dt=0;dt<Je.length;dt++){var He=Je[dt];switch(He.type){case"begin":Xe.push({begin:!0});break;case"close":Xe.push({close:!0});break;case"mt":Xe.push({start:He,deltas:[],abs:[]});break;case"lt":var ft=Xe.length;if(Je[dt-1]&&!isNaN(Je[dt-1].x)&&(Ue=[He.x-Je[dt-1].x,He.y-Je[dt-1].y],ft>0)){for(;ft>=0;ft--)if(Xe[ft-1].close!==!0&&Xe[ft-1].begin!==!0){Xe[ft-1].deltas.push(Ue),Xe[ft-1].abs.push(He);break}}break;case"bct":Ue=[He.x1-Je[dt-1].x,He.y1-Je[dt-1].y,He.x2-Je[dt-1].x,He.y2-Je[dt-1].y,He.x-Je[dt-1].x,He.y-Je[dt-1].y],Xe[Xe.length-1].deltas.push(Ue);break;case"qct":var It=Je[dt-1].x+2/3*(He.x1-Je[dt-1].x),ct=Je[dt-1].y+2/3*(He.y1-Je[dt-1].y),Xt=He.x+2/3*(He.x1-He.x),$t=He.y+2/3*(He.y1-He.y),Pe=He.x,Ze=He.y;Ue=[It-Je[dt-1].x,ct-Je[dt-1].y,Xt-Je[dt-1].x,$t-Je[dt-1].y,Pe-Je[dt-1].x,Ze-Je[dt-1].y],Xe[Xe.length-1].deltas.push(Ue);break;case"arc":Xe.push({deltas:[],abs:[],arc:!0}),Array.isArray(Xe[Xe.length-1].abs)&&Xe[Xe.length-1].abs.push(He)}}De=we?null:ne==="stroke"?"stroke":"fill";for(var Nr=!1,Er=0;Er<Xe.length;Er++)if(Xe[Er].arc)for(var Et=Xe[Er].abs,nr=0;nr<Et.length;nr++){var ur=Et[nr];ur.type==="arc"?Fe.call(this,ur.x,ur.y,ur.radius,ur.startAngle,ur.endAngle,ur.counterclockwise,void 0,we,!Nr):ve.call(this,ur.x,ur.y),Nr=!0}else if(Xe[Er].close===!0)this.pdf.internal.out("h"),Nr=!1;else if(Xe[Er].begin!==!0){var Tr=Xe[Er].start.x,Br=Xe[Er].start.y;_e.call(this,Xe[Er].deltas,Tr,Br),Nr=!0}De&&pe.call(this,De),we&&ze.call(this)}},me=function(ne){var we=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Ue=we*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return ne-Ue;case"top":return ne+we-Ue;case"hanging":return ne+we-2*Ue;case"middle":return ne+we/2-Ue;default:return ne}},Ie=function(ne){return ne+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};S.prototype.createLinearGradient=function(){var ne=function(){};return ne.colorStops=[],ne.addColorStop=function(we,Ue){this.colorStops.push([we,Ue])},ne.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},ne.isCanvasGradient=!0,ne},S.prototype.createPattern=function(){return this.createLinearGradient()},S.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Fe=function(ne,we,Ue,De,Xe,Je,dt,He,ft){for(var It=Le.call(this,Ue,De,Xe,Je),ct=0;ct<It.length;ct++){var Xt=It[ct];ct===0&&(ft?ie.call(this,Xt.x1+ne,Xt.y1+we):ve.call(this,Xt.x1+ne,Xt.y1+we)),tt.call(this,ne,we,Xt.x2,Xt.y2,Xt.x3,Xt.y3,Xt.x4,Xt.y4)}He?ze.call(this):pe.call(this,dt)},pe=function(ne){switch(ne){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ze=function(){this.pdf.clip(),this.pdf.discardPath()},ie=function(ne,we){this.pdf.internal.out(r(ne)+" "+n(we)+" m")},de=function(ne){var we;switch(ne.align){case"right":case"end":we="right";break;case"center":we="center";break;default:we="left"}var Ue,De,Xe,Je=this.pdf.getTextDimensions(ne.text),dt=me.call(this,ne.y),He=Ie.call(this,dt)-Je.h,ft=this.ctx.transform.applyToPoint(new f(ne.x,dt));if(this.autoPaging){var It=this.ctx.transform.decompose(),ct=new y;ct=(ct=(ct=ct.multiply(It.translate)).multiply(It.skew)).multiply(It.scale);for(var Xt=this.ctx.transform.applyToRectangle(new l(ne.x,dt,Je.w,Je.h)),$t=ct.applyToRectangle(new l(ne.x,He,Je.w,Je.h)),Pe=K.call(this,$t),Ze=[],Nr=0;Nr<Pe.length;Nr+=1)Ze.indexOf(Pe[Nr])===-1&&Ze.push(Pe[Nr]);W(Ze);for(var Er=Ze[0],Et=Ze[Ze.length-1],nr=Er;nr<Et+1;nr++){this.pdf.setPage(nr);var ur=nr===1?this.posY+this.margin[0]:this.margin[0],Tr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Br=this.pdf.internal.pageSize.height-this.margin[2],rn=Br-this.margin[0],nn=this.pdf.internal.pageSize.width-this.margin[1],Jr=nn-this.margin[3],yn=nr===1?0:Tr+(nr-2)*rn;if(this.ctx.clip_path.length!==0){var Ft=this.path;Ue=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=re(Ue,this.posX+this.margin[3],-1*yn+ur),ce.call(this,"fill",!0),this.path=Ft}var cr=re([JSON.parse(JSON.stringify($t))],this.posX+this.margin[3],-yn+ur+this.ctx.prevPageLastElemOffset)[0];ne.scale>=.01&&(De=this.pdf.internal.getFontSize(),this.pdf.setFontSize(De*ne.scale),Xe=this.lineWidth,this.lineWidth=Xe*ne.scale);var Pr=this.autoPaging!=="text";if(Pr||cr.y+cr.h<=Br){if(Pr||cr.y>=ur&&cr.x<=nn){var fr=Pr?ne.text:this.pdf.splitTextToSize(ne.text,ne.maxWidth||nn-cr.x)[0],ri=re([JSON.parse(JSON.stringify(Xt))],this.posX+this.margin[3],-yn+ur+this.ctx.prevPageLastElemOffset)[0],Pt=Pr&&(nr>Er||nr<Et)&&H.call(this);Pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Jr,rn,null).clip().discardPath()),this.pdf.text(fr,ri.x,ri.y,{angle:ne.angle,align:we,renderingMode:ne.renderingMode}),Pt&&this.pdf.restoreGraphicsState()}}else cr.y<Br&&(this.ctx.prevPageLastElemOffset+=Br-cr.y);ne.scale>=.01&&(this.pdf.setFontSize(De),this.lineWidth=Xe)}}else ne.scale>=.01&&(De=this.pdf.internal.getFontSize(),this.pdf.setFontSize(De*ne.scale),Xe=this.lineWidth,this.lineWidth=Xe*ne.scale),this.pdf.text(ne.text,ft.x+this.posX,ft.y+this.posY,{angle:ne.angle,align:we,renderingMode:ne.renderingMode,maxWidth:ne.maxWidth}),ne.scale>=.01&&(this.pdf.setFontSize(De),this.lineWidth=Xe)},ve=function(ne,we,Ue,De){Ue=Ue||0,De=De||0,this.pdf.internal.out(r(ne+Ue)+" "+n(we+De)+" l")},_e=function(ne,we,Ue){return this.pdf.lines(ne,we,Ue,null,null)},tt=function(ne,we,Ue,De,Xe,Je,dt,He){this.pdf.internal.out([t(s(Ue+ne)),t(A(De+we)),t(s(Xe+ne)),t(A(Je+we)),t(s(dt+ne)),t(A(He+we)),"c"].join(" "))},Le=function(ne,we,Ue,De){for(var Xe=2*Math.PI,Je=Math.PI/2;we>Ue;)we-=Xe;var dt=Math.abs(Ue-we);dt<Xe&&De&&(dt=Xe-dt);for(var He=[],ft=De?-1:1,It=we;dt>1e-5;){var ct=It+ft*Math.min(dt,Je);He.push(Ne.call(this,ne,It,ct)),dt-=Math.abs(ct-It),It=ct}return He},Ne=function(ne,we,Ue){var De=(Ue-we)/2,Xe=ne*Math.cos(De),Je=ne*Math.sin(De),dt=Xe,He=-Je,ft=dt*dt+He*He,It=ft+dt*Xe+He*Je,ct=4/3*(Math.sqrt(2*ft*It)-It)/(dt*Je-He*Xe),Xt=dt-ct*He,$t=He+ct*dt,Pe=Xt,Ze=-$t,Nr=De+we,Er=Math.cos(Nr),Et=Math.sin(Nr);return{x1:ne*Math.cos(we),y1:ne*Math.sin(we),x2:Xt*Er-$t*Et,y2:Xt*Et+$t*Er,x3:Pe*Er-Ze*Et,y3:Pe*Et+Ze*Er,x4:ne*Math.cos(Ue),y4:ne*Math.sin(Ue)}},Ve=function(ne){return 180*ne/Math.PI},We=function(ne,we,Ue,De,Xe,Je){var dt=ne+.5*(Ue-ne),He=we+.5*(De-we),ft=Xe+.5*(Ue-Xe),It=Je+.5*(De-Je),ct=Math.min(ne,Xe,dt,ft),Xt=Math.max(ne,Xe,dt,ft),$t=Math.min(we,Je,He,It),Pe=Math.max(we,Je,He,It);return new l(ct,$t,Xt-ct,Pe-$t)},_t=function(ne,we,Ue,De,Xe,Je,dt,He){var ft,It,ct,Xt,$t,Pe,Ze,Nr,Er,Et,nr,ur,Tr,Br,rn=Ue-ne,nn=De-we,Jr=Xe-Ue,yn=Je-De,Ft=dt-Xe,cr=He-Je;for(It=0;It<41;It++)Er=(Ze=(ct=ne+(ft=It/40)*rn)+ft*(($t=Ue+ft*Jr)-ct))+ft*($t+ft*(Xe+ft*Ft-$t)-Ze),Et=(Nr=(Xt=we+ft*nn)+ft*((Pe=De+ft*yn)-Xt))+ft*(Pe+ft*(Je+ft*cr-Pe)-Nr),It==0?(nr=Er,ur=Et,Tr=Er,Br=Et):(nr=Math.min(nr,Er),ur=Math.min(ur,Et),Tr=Math.max(Tr,Er),Br=Math.max(Br,Et));return new l(Math.round(nr),Math.round(ur),Math.round(Tr-nr),Math.round(Br-ur))},Te=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var ne,we,Ue=(ne=this.ctx.lineDash,we=this.ctx.lineDashOffset,JSON.stringify({lineDash:ne,lineDashOffset:we}));this.prevLineDash!==Ue&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Ue)}}})(Vr.API),(function(e){var t=function(f){var l,y,w,b,S,U,I,z,H,K;for(y=[],w=0,b=(f+=l="\0\0\0\0".slice(f.length%4||4)).length;b>w;w+=4)(S=(f.charCodeAt(w)<<24)+(f.charCodeAt(w+1)<<16)+(f.charCodeAt(w+2)<<8)+f.charCodeAt(w+3))!==0?(U=(S=((S=((S=((S=(S-(K=S%85))/85)-(H=S%85))/85)-(z=S%85))/85)-(I=S%85))/85)%85,y.push(U+33,I+33,z+33,H+33,K+33)):y.push(122);return(function(V,re){for(var W=re;W>0;W--)V.pop()})(y,l.length),String.fromCharCode.apply(String,y)+"~>"},r=function(f){var l,y,w,b,S,U=String,I="length",z=255,H="charCodeAt",K="slice",V="replace";for(f[K](-2),f=f[K](0,-2)[V](/\s/g,"")[V]("z","!!!!!"),w=[],b=0,S=(f+=l="uuuuu"[K](f[I]%5||5))[I];S>b;b+=5)y=52200625*(f[H](b)-33)+614125*(f[H](b+1)-33)+7225*(f[H](b+2)-33)+85*(f[H](b+3)-33)+(f[H](b+4)-33),w.push(z&y>>24,z&y>>16,z&y>>8,z&y);return(function(re,W){for(var le=W;le>0;le--)re.pop()})(w,l[I]),U.fromCharCode.apply(U,w)},n=function(f){return f.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(f){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((f=f.replace(/\s/g,"")).indexOf(">")!==-1&&(f=f.substr(0,f.indexOf(">"))),f.length%2&&(f+="0"),l.test(f)===!1)return"";for(var y="",w=0;w<f.length;w+=2)y+=String.fromCharCode("0x"+(f[w]+f[w+1]));return y},A=function(f){for(var l=new Uint8Array(f.length),y=f.length;y--;)l[y]=f.charCodeAt(y);return(l=WB(l)).reduce(function(w,b){return w+String.fromCharCode(b)},"")};e.processDataByFilters=function(f,l){var y=0,w=f||"",b=[];for(typeof(l=l||[])=="string"&&(l=[l]),y=0;y<l.length;y+=1)switch(l[y]){case"ASCII85Decode":case"/ASCII85Decode":w=r(w),b.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":w=t(w),b.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":w=s(w),b.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":w=n(w),b.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":w=A(w),b.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[y]+'" is not implemented')}return{data:w,reverseChain:b.reverse().join(" ")}}})(Vr.API),(function(e){e.loadFile=function(t,r,n){return(function(s,A,f){A=A!==!1,f=typeof f=="function"?f:function(){};var l=void 0;try{l=(function(y,w,b){var S=new XMLHttpRequest,U=0,I=function(z){var H=z.length,K=[],V=String.fromCharCode;for(U=0;U<H;U+=1)K.push(V(255&z.charCodeAt(U)));return K.join("")};if(S.open("GET",y,!w),S.overrideMimeType("text/plain; charset=x-user-defined"),w===!1&&(S.onload=function(){S.status===200?b(I(this.responseText)):b(void 0)}),S.send(null),w&&S.status===200)return I(S.responseText)})(s,A,f)}catch{}return l})(t,r,n)},e.loadImageFile=e.loadFile})(Vr.API),(function(e){function t(){return(mn.html2canvas?Promise.resolve(mn.html2canvas):i2(()=>Promise.resolve().then(()=>Vne),void 0)).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(mn.DOMPurify?Promise.resolve(mn.DOMPurify):i2(()=>import("./purify.es-C65SP4u9.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var y=Ni(l);return y==="undefined"?"undefined":y==="string"||l instanceof String?"string":y==="number"||l instanceof Number?"number":y==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":y==="object"?"object":"unknown"},s=function(l,y){var w=document.createElement(l);for(var b in y.className&&(w.className=y.className),y.innerHTML&&y.dompurify&&(w.innerHTML=y.dompurify.sanitize(y.innerHTML)),y.style)w.style[b]=y.style[b];return w},A=function l(y,w){for(var b=y.nodeType===3?document.createTextNode(y.nodeValue):y.cloneNode(!1),S=y.firstChild;S;S=S.nextSibling)w!==!0&&S.nodeType===1&&S.nodeName==="SCRIPT"||b.appendChild(l(S,w));return y.nodeType===1&&(y.nodeName==="CANVAS"?(b.width=y.width,b.height=y.height,b.getContext("2d").drawImage(y,0,0)):y.nodeName!=="TEXTAREA"&&y.nodeName!=="SELECT"||(b.value=y.value),b.addEventListener("load",function(){b.scrollTop=y.scrollTop,b.scrollLeft=y.scrollLeft},!0)),b},f=function l(y){var w=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),b=l.convert(Promise.resolve(),w);return(b=b.setProgress(1,l,1,[l])).set(y)};(f.prototype=Object.create(Promise.prototype)).constructor=f,f.convert=function(l,y){return l.__proto__=y||f.prototype,l},f.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},f.prototype.from=function(l,y){return this.then(function(){switch(y=y||(function(w){switch(n(w)){case"string":return"string";case"element":return w.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),y){case"string":return this.then(r).then(function(w){return this.set({src:s("div",{innerHTML:l,dompurify:w})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},f.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},f.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},y=A(this.prop.src,this.opt.html2canvas.javascriptEnabled);y.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(y),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},f.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(y){var w=Object.assign({},this.opt.html2canvas);return delete w.onrendered,y(this.prop.container,w)}).then(function(y){(this.opt.html2canvas.onrendered||function(){})(y),this.prop.canvas=y,document.body.removeChild(this.prop.overlay)})},f.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(y){var w=this.opt.jsPDF,b=this.opt.fontFaces,S=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,U=Object.assign({async:!0,allowTaint:!0,scale:S,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete U.onrendered,w.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,w.context2d.posX=this.opt.x,w.context2d.posY=this.opt.y,w.context2d.margin=this.opt.margin,w.context2d.fontFaces=b,b)for(var I=0;I<b.length;++I){var z=b[I],H=z.src.find(function(K){return K.format==="truetype"});H&&w.addFont(H.url,z.ref.name,z.ref.style)}return U.windowHeight=U.windowHeight||0,U.windowHeight=U.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):U.windowHeight,w.context2d.save(!0),y(this.prop.container,U)}).then(function(y){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(y),this.prop.canvas=y,document.body.removeChild(this.prop.overlay)})},f.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},f.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},f.prototype.output=function(l,y,w){return(w=w||"pdf").toLowerCase()==="img"||w.toLowerCase()==="image"?this.outputImg(l,y):this.outputPdf(l,y)},f.prototype.outputPdf=function(l,y){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,y)})},f.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},f.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},f.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},f.prototype.set=function(l){if(n(l)!=="object")return this;var y=Object.keys(l||{}).map(function(w){if(w in f.template.prop)return function(){this.prop[w]=l[w]};switch(w){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[w]=l[w]}}},this);return this.then(function(){return this.thenList(y)})},f.prototype.get=function(l,y){return this.then(function(){var w=l in f.template.prop?this.prop[l]:this.opt[l];return y?y(w):w})},f.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},f.prototype.setPageSize=function(l){function y(w,b){return Math.floor(w*b/72*96)}return this.then(function(){(l=l||Vr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:y(l.inner.width,l.k),height:y(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},f.prototype.setProgress=function(l,y,w,b){return l!=null&&(this.progress.val=l),y!=null&&(this.progress.state=y),w!=null&&(this.progress.n=w),b!=null&&(this.progress.stack=b),this.progress.ratio=this.progress.val/this.progress.state,this},f.prototype.updateProgress=function(l,y,w,b){return this.setProgress(l?this.progress.val+l:null,y||null,w?this.progress.n+w:null,b?this.progress.stack.concat(b):null)},f.prototype.then=function(l,y){var w=this;return this.thenCore(l,y,function(b,S){return w.updateProgress(null,null,1,[b]),Promise.prototype.then.call(this,function(U){return w.updateProgress(null,b),U}).then(b,S).then(function(U){return w.updateProgress(1),U})})},f.prototype.thenCore=function(l,y,w){w=w||Promise.prototype.then;var b=this;l&&(l=l.bind(b)),y&&(y=y.bind(b));var S=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?b:f.convert(Object.assign({},b),Promise.prototype),U=w.call(S,l,y);return f.convert(U,b.__proto__)},f.prototype.thenExternal=function(l,y){return Promise.prototype.then.call(this,l,y)},f.prototype.thenList=function(l){var y=this;return l.forEach(function(w){y=y.thenCore(w)}),y},f.prototype.catch=function(l){l&&(l=l.bind(this));var y=Promise.prototype.catch.call(this,l);return f.convert(y,this)},f.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},f.prototype.error=function(l){return this.then(function(){throw new Error(l)})},f.prototype.using=f.prototype.set,f.prototype.saveAs=f.prototype.save,f.prototype.export=f.prototype.output,f.prototype.run=f.prototype.then,Vr.getPageSize=function(l,y,w){if(Ni(l)==="object"){var b=l;l=b.orientation,y=b.unit||y,w=b.format||w}y=y||"mm",w=w||"a4",l=(""+(l||"P")).toLowerCase();var S,U=(""+w).toLowerCase(),I={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(y){case"pt":S=1;break;case"mm":S=72/25.4;break;case"cm":S=72/2.54;break;case"in":S=72;break;case"px":S=.75;break;case"pc":case"em":S=12;break;case"ex":S=6;break;default:throw"Invalid unit: "+y}var z,H=0,K=0;if(I.hasOwnProperty(U))H=I[U][1]/S,K=I[U][0]/S;else try{H=w[1],K=w[0]}catch{throw new Error("Invalid format: "+w)}if(l==="p"||l==="portrait")l="p",K>H&&(z=K,K=H,H=z);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",H>K&&(z=K,K=H,H=z)}return{width:K,height:H,unit:y,k:S,orientation:l}},e.html=function(l,y){(y=y||{}).callback=y.callback||function(){},y.html2canvas=y.html2canvas||{},y.html2canvas.canvas=y.html2canvas.canvas||this.canvas,y.jsPDF=y.jsPDF||this,y.fontFaces=y.fontFaces?y.fontFaces.map(b2):null;var w=new f(y);return y.worker?w:w.from(l).doCallback()}})(Vr.API),Vr.API.addJS=function(e){return kF=e,this.internal.events.subscribe("postPutResources",function(){m1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(m1+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),DF=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+kF+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){m1!==void 0&&DF!==void 0&&this.internal.out("/Names <</JavaScript "+m1+" 0 R>>")}),this},(function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=r.outline.render().split(/\r\n/),A=0;A<s.length;A++){var f=s[A],l=n.exec(f);if(l!=null){var y=l[1];r.internal.newObjectDeferredBegin(y,!1)}r.internal.write(f)}if(this.outline.createNamedDestinations){var w=this.internal.pages.length,b=[];for(A=0;A<w;A++){var S=r.internal.newObject();b.push(S);var U=r.internal.getPageInfo(A+1);r.internal.write("<< /D["+U.objId+" 0 R /XYZ null null null]>> endobj")}var I=r.internal.newObject();for(r.internal.write("<< /Names [ "),A=0;A<b.length;A++)r.internal.write("(page_"+(A+1)+")"+b[A]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+I+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,s,A){var f={title:s,options:A,children:[]};return n==null&&(n=this.root),n.children.push(f),f},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,A=0;A<n.children.length;A++){var f=n.children[A];this.objStart(f),this.line("/Title "+this.makeString(f.title)),this.line("/Parent "+this.makeRef(n)),A>0&&this.line("/Prev "+this.makeRef(n.children[A-1])),A<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[A+1])),f.children.length>0&&(this.line("/First "+this.makeRef(f.children[0])),this.line("/Last "+this.makeRef(f.children[f.children.length-1])));var l=this.count=this.count_r({count:0},f);if(l>0&&this.line("/Count "+l),f.options&&f.options.pageNumber){var y=r.internal.getPageInfo(f.options.pageNumber);this.line("/Dest ["+y.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var w=0;w<n.children.length;w++)this.renderItems(n.children[w])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,s){for(var A=0;A<s.children.length;A++)n.count++,this.count_r(n,s.children[A]);return n.count}}])})(Vr.API),(function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,s,A,f,l){var y,w=this.decode.DCT_DECODE,b=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=f||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,y=(function(S){for(var U,I=256*S.charCodeAt(4)+S.charCodeAt(5),z=S.length,H={width:0,height:0,numcomponents:1},K=4;K<z;K+=2){if(K+=I,t.indexOf(S.charCodeAt(K+1))!==-1){U=256*S.charCodeAt(K+5)+S.charCodeAt(K+6),H={width:256*S.charCodeAt(K+7)+S.charCodeAt(K+8),height:U,numcomponents:S.charCodeAt(K+9)};break}I=256*S.charCodeAt(K+2)+S.charCodeAt(K+3)}return H})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),y.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}b={data:r,width:y.width,height:y.height,colorSpace:l,bitsPerComponent:8,filter:w,index:n,alias:s}}return b}})(Vr.API),Vr.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var s,A=Jae(e,{checkCrc:!0}),f=A.width,l=A.height,y=A.channels,w=A.palette,b=A.depth;s=w&&y===1?(function(Fe){for(var pe=Fe.width,ze=Fe.height,ie=Fe.data,de=Fe.palette,ve=Fe.depth,_e=!1,tt=[],Le=[],Ne=void 0,Ve=!1,We=0,_t=0;_t<de.length;_t++){var Te=zI(de[_t],4),ne=Te[0],we=Te[1],Ue=Te[2],De=Te[3];tt.push(ne,we,Ue),De!=null&&(De===0?(We++,Le.length<1&&Le.push(_t)):De<255&&(Ve=!0))}if(Ve||We>1){_e=!0,Le=void 0;var Xe=pe*ze;Ne=new Uint8Array(Xe);for(var Je=new DataView(ie.buffer),dt=0;dt<Xe;dt++){var He=B2(Je,dt,ve),ft=zI(de[He],4)[3];Ne[dt]=ft}}else We===0&&(Le=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:_e?8:void 0,colorBytes:ie,alphaBytes:Ne,needSMask:_e,palette:tt,mask:Le}})(A):y===2||y===4?(function(Fe){for(var pe=Fe.data,ze=Fe.width,ie=Fe.height,de=Fe.channels,ve=Fe.depth,_e=de===2?"DeviceGray":"DeviceRGB",tt=de-1,Le=ze*ie,Ne=tt,Ve=Le*Ne,We=1*Le,_t=Math.ceil(Ve*ve/8),Te=Math.ceil(We*ve/8),ne=new Uint8Array(_t),we=new Uint8Array(Te),Ue=new DataView(pe.buffer),De=new DataView(ne.buffer),Xe=new DataView(we.buffer),Je=!1,dt=0;dt<Le;dt++){for(var He=dt*de,ft=0;ft<Ne;ft++)qF(De,B2(Ue,He+ft,ve),dt*Ne+ft,ve);var It=B2(Ue,He+Ne,ve);It<(1<<ve)-1&&(Je=!0),qF(Xe,It,1*dt,ve)}return{colorSpace:_e,colorsPerPixel:tt,sMaskBitsPerComponent:Je?ve:void 0,colorBytes:ne,alphaBytes:we,needSMask:Je}})(A):(function(Fe){var pe=Fe.data,ze=Fe.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:ze,colorsPerPixel:ze==="DeviceGray"?1:3,colorBytes:pe instanceof Uint16Array?(function(ie){for(var de=ie.length,ve=new Uint8Array(2*de),_e=new DataView(ve.buffer,ve.byteOffset,ve.byteLength),tt=0;tt<de;tt++)_e.setUint16(2*tt,ie[tt],!1);return ve})(pe):pe,needSMask:!1}})(A);var S,U,I,z=s,H=z.colorSpace,K=z.colorsPerPixel,V=z.sMaskBitsPerComponent,re=z.colorBytes,W=z.alphaBytes,le=z.needSMask,ce=z.palette,me=z.mask,Ie=null;return n!==Vr.API.image_compression.NONE&&typeof WB=="function"?(Ie=(function(Fe){var pe;switch(Fe){case Vr.API.image_compression.FAST:pe=11;break;case Vr.API.image_compression.MEDIUM:pe=13;break;case Vr.API.image_compression.SLOW:pe=14;break;default:pe=12}return pe})(n),S=this.decode.FLATE_DECODE,U="/Predictor ".concat(Ie," /Colors ").concat(K," /BitsPerComponent ").concat(b," /Columns ").concat(f),e=zF(re,Math.ceil(f*K*b/8),K,b,n),le&&(I=zF(W,Math.ceil(f*V/8),1,V,n))):(S=void 0,U=void 0,e=re,le&&(I=W)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(I&&this.__addimage__.isArrayBuffer(I)||this.__addimage__.isArrayBufferView(I))&&(I=this.__addimage__.arrayBufferToBinaryString(I)),{alias:r,data:e,index:t,filter:S,decodeParameters:U,transparency:me,palette:ce,sMask:I,predictor:Ie,width:f,height:l,bitsPerComponent:b,sMaskBitsPerComponent:V,colorSpace:H}}},(function(e){e.processGIF89A=function(t,r,n,s){var A=new _se(t),f=A.width,l=A.height,y=[];A.decodeAndBlitFrameRGBA(0,y);var w={data:y,width:f,height:l},b=new C2(100).encode(w,100);return e.processJPEG.call(this,b,r,n,s)},e.processGIF87A=e.processGIF89A})(Vr.API),Tc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),A=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:n,blue:r,quad:A}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Tc.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){aa.log("bit decode error:"+r)}},Tc.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var A=this.datav.getUint8(this.pos++,!0),f=n*this.width*4+8*s*4,l=0;l<8&&8*s+l<this.width;l++){var y=this.palette[A>>7-l&1];this.data[f+4*l]=y.blue,this.data[f+4*l+1]=y.green,this.data[f+4*l+2]=y.red,this.data[f+4*l+3]=255}r!==0&&(this.pos+=4-r)}},Tc.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<e;s++){var A=this.datav.getUint8(this.pos++,!0),f=n*this.width*4+2*s*4,l=A>>4,y=15&A,w=this.palette[l];if(this.data[f]=w.blue,this.data[f+1]=w.green,this.data[f+2]=w.red,this.data[f+3]=255,2*s+1>=this.width)break;w=this.palette[y],this.data[f+4]=w.blue,this.data[f+4+1]=w.green,this.data[f+4+2]=w.red,this.data[f+4+3]=255}t!==0&&(this.pos+=4-t)}},Tc.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),A=r*this.width*4+4*n;if(s<this.palette.length){var f=this.palette[s];this.data[A]=f.red,this.data[A+1]=f.green,this.data[A+2]=f.blue,this.data[A+3]=255}else this.data[A]=255,this.data[A+1]=255,this.data[A+2]=255,this.data[A+3]=255}e!==0&&(this.pos+=4-e)}},Tc.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var A=this.datav.getUint16(this.pos,!0);this.pos+=2;var f=(A&t)/t*255|0,l=(A>>5&t)/t*255|0,y=(A>>10&t)/t*255|0,w=A>>15?255:0,b=n*this.width*4+4*s;this.data[b]=y,this.data[b+1]=l,this.data[b+2]=f,this.data[b+3]=w}this.pos+=e}},Tc.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,A=0;A<this.width;A++){var f=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(f&t)/t*255|0,y=(f>>5&r)/r*255|0,w=(f>>11)/t*255|0,b=s*this.width*4+4*A;this.data[b]=w,this.data[b+1]=y,this.data[b+2]=l,this.data[b+3]=255}this.pos+=e}},Tc.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),A=this.datav.getUint8(this.pos++,!0),f=t*this.width*4+4*r;this.data[f]=A,this.data[f+1]=s,this.data[f+2]=n,this.data[f+3]=255}this.pos+=this.width%4}},Tc.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),A=this.datav.getUint8(this.pos++,!0),f=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=A,this.data[l+1]=s,this.data[l+2]=n,this.data[l+3]=f}},Tc.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(t,r,n,s){var A=new Tc(t,!1),f=A.width,l=A.height,y={data:A.getData(),width:f,height:l},w=new C2(100).encode(y,100);return e.processJPEG.call(this,w,r,n,s)}})(Vr.API),XF.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(t,r,n,s){var A=new XF(t),f=A.width,l=A.height,y={data:A.getData(),width:f,height:l},w=new C2(100).encode(y,100);return e.processJPEG.call(this,w,r,n,s)}})(Vr.API),Vr.API.processRGBA=function(e,t,r){for(var n=e.data,s=n.length,A=new Uint8Array(s/4*3),f=new Uint8Array(s/4),l=0,y=0,w=0;w<s;w+=4){var b=n[w],S=n[w+1],U=n[w+2],I=n[w+3];A[l++]=b,A[l++]=S,A[l++]=U,f[y++]=I}var z=this.__addimage__.arrayBufferToBinaryString(A);return{alpha:this.__addimage__.arrayBufferToBinaryString(f),data:z,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Vr.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},xg=Vr.API,y1=xg.getCharWidthsArray=function(e,t){var r,n,s=(t=t||{}).font||this.internal.getFont(),A=t.fontSize||this.internal.getFontSize(),f=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:s.metadata.Unicode.widths,y=l.fof?l.fof:1,w=t.kerning?t.kerning:s.metadata.Unicode.kerning,b=w.fof?w.fof:1,S=t.doKerning!==!1,U=0,I=e.length,z=0,H=l[0]||y,K=[];for(r=0;r<I;r++)n=e.charCodeAt(r),typeof s.metadata.widthOfString=="function"?K.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+f*(1e3/A)||0)/1e3):(U=S&&Ni(w[n])==="object"&&!isNaN(parseInt(w[n][z],10))?w[n][z]/b:0,K.push((l[n]||H)/y+U)),z=n;return K},QF=xg.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return xg.processArabic&&(e=xg.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,s)/r:y1.apply(this,arguments).reduce(function(A,f){return A+f},0)},NF=function(e,t,r,n){for(var s=[],A=0,f=e.length,l=0;A!==f&&l+t[A]<r;)l+=t[A],A++;s.push(e.slice(0,A));var y=A;for(l=0;A!==f;)l+t[A]>n&&(s.push(e.slice(y,A)),l=0,y=A),l+=t[A],A++;return y!==A&&s.push(e.slice(y,A)),s},RF=function(e,t,r){r||(r={});var n,s,A,f,l,y,w,b=[],S=[b],U=r.textIndent||0,I=0,z=0,H=e.split(" "),K=y1.apply(this,[" ",r])[0];if(y=r.lineIndent===-1?H[0].length+2:r.lineIndent||0){var V=Array(y).join(" "),re=[];H.map(function(le){(le=le.split(/\s*\n/)).length>1?re=re.concat(le.map(function(ce,me){return(me&&ce.length?`
`:"")+ce})):re.push(le[0])}),H=re,y=QF.apply(this,[V,r])}for(A=0,f=H.length;A<f;A++){var W=0;if(n=H[A],y&&n[0]==`
`&&(n=n.substr(1),W=1),U+I+(z=(s=y1.apply(this,[n,r])).reduce(function(le,ce){return le+ce},0))>t||W){if(z>t){for(l=NF.apply(this,[n,s,t-(U+I),t]),b.push(l.shift()),b=[l.pop()];l.length;)S.push([l.shift()]);z=s.slice(n.length-(b[0]?b[0].length:0)).reduce(function(le,ce){return le+ce},0)}else b=[n];S.push(b),U=z+y,I=K}else b.push(n),U+=I+z,I=K}return w=y?function(le,ce){return(ce?V:"")+le.join(" ")}:function(le){return le.join(" ")},S.map(w)},xg.splitTextToSize=function(e,t,r){var n,s=(r=r||{}).fontSize||this.internal.getFontSize(),A=(function(b){if(b.widths&&b.kerning)return{widths:b.widths,kerning:b.kerning};var S=this.internal.getFont(b.fontName,b.fontStyle),U="Unicode";return S.metadata[U]?{widths:S.metadata[U].widths||{0:1},kerning:S.metadata[U].kerning||{}}:{font:S.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var f=1*this.internal.scaleFactor*t/s;A.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,A.lineIndent=r.lineIndent;var l,y,w=[];for(l=0,y=n.length;l<y;l++)w=w.concat(RF.apply(this,[n[l],f,A]));return w},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},s={},A=0;A<16;A++)n[r[A]]=t[A],s[t[A]]=r[A];var f=function(U){return"0x"+parseInt(U,10).toString(16)},l=e.__fontmetrics__.compress=function(U){var I,z,H,K,V=["{"];for(var re in U){if(I=U[re],isNaN(parseInt(re,10))?z="'"+re+"'":(re=parseInt(re,10),z=(z=f(re).slice(2)).slice(0,-1)+s[z.slice(-1)]),typeof I=="number")I<0?(H=f(I).slice(3),K="-"):(H=f(I).slice(2),K=""),H=K+H.slice(0,-1)+s[H.slice(-1)];else{if(Ni(I)!=="object")throw new Error("Don't know what to do with value type "+Ni(I)+".");H=l(I)}V.push(z+H)}return V.push("}"),V.join("")},y=e.__fontmetrics__.uncompress=function(U){if(typeof U!="string")throw new Error("Invalid argument passed to uncompress.");for(var I,z,H,K,V={},re=1,W=V,le=[],ce="",me="",Ie=U.length-1,Fe=1;Fe<Ie;Fe+=1)(K=U[Fe])=="'"?I?(H=I.join(""),I=void 0):I=[]:I?I.push(K):K=="{"?(le.push([W,H]),W={},H=void 0):K=="}"?((z=le.pop())[0][z[1]]=W,H=void 0,W=z[0]):K=="-"?re=-1:H===void 0?n.hasOwnProperty(K)?(ce+=n[K],H=parseInt(ce,16)*re,re=1,ce=""):ce+=K:n.hasOwnProperty(K)?(me+=n[K],W[H]=parseInt(me,16)*re,re=1,H=void 0,me=""):me+=K;return V},w={codePages:["WinAnsiEncoding"],WinAnsiEncoding:y("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},b={Unicode:{Courier:w,"Courier-Bold":w,"Courier-BoldOblique":w,"Courier-Oblique":w,Helvetica:w,"Helvetica-Bold":w,"Helvetica-BoldOblique":w,"Helvetica-Oblique":w,"Times-Roman":w,"Times-Bold":w,"Times-BoldItalic":w,"Times-Italic":w}},S={Unicode:{"Courier-Oblique":y("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":y("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":y("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:y("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":y("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":y("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:y("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:y("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":y("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:y("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":y("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":y("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":y("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":y("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(U){var I=U.font,z=S.Unicode[I.postScriptName];z&&(I.metadata.Unicode={},I.metadata.Unicode.widths=z.widths,I.metadata.Unicode.kerning=z.kerning);var H=b.Unicode[I.postScriptName];H&&(I.metadata.Unicode.encoding=H,I.encoding=H.codePages[0])}])})(Vr.API),(function(e){var t=function(r){for(var n=r.length,s=new Uint8Array(n),A=0;A<n;A++)s[A]=r.charCodeAt(A);return s};e.API.events.push(["addFont",function(r){var n=void 0,s=r.font,A=r.instance;if(!s.isStandardFont){if(A===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=A.existsFileInVFS(s.postScriptName)===!1?A.loadFile(s.postScriptName):A.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(f,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(F1(l)),f.metadata=e.API.TTFFont.open(l),f.metadata.Unicode=f.metadata.Unicode||{encoding:{},kerning:{},widths:[]},f.metadata.glyIdsUsed=[0]})(s,n)}}])})(Vr),Vr.API.addSvgAsImage=function(e,t,r,n,s,A,f,l){if(isNaN(t)||isNaN(r))throw aa.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(s))throw aa.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var y=document.createElement("canvas");y.width=n,y.height=s;var w=y.getContext("2d");w.fillStyle="#fff",w.fillRect(0,0,y.width,y.height);var b={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},S=this;return(mn.canvg?Promise.resolve(mn.canvg):i2(()=>import("./index.es-afSeynCG.js"),[])).catch(function(U){return Promise.reject(new Error("Could not load canvg: "+U))}).then(function(U){return U.default?U.default:U}).then(function(U){return U.fromString(w,e,b)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(U){return U.render(b)}).then(function(){S.addImage(y.toDataURL("image/jpeg",1),t,r,n,s,f,l)})},Vr.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(t,r);return this},Vr.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,s,A,f={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(f),y=[],w=0,b=0,S=0;function U(z,H){var K,V=!1;for(K=0;K<z.length;K+=1)z[K]===H&&(V=!0);return V}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(f)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var I=l.length;for(S=0;S<I;S+=1)r[l[S]].value=r[l[S]].defaultValue,r[l[S]].explicitSet=!1}if(Ni(e)==="object"){for(s in e)if(A=e[s],U(l,s)&&A!==void 0){if(r[s].type==="boolean"&&typeof A=="boolean")r[s].value=A;else if(r[s].type==="name"&&U(r[s].valueSet,A))r[s].value=A;else if(r[s].type==="integer"&&Number.isInteger(A))r[s].value=A;else if(r[s].type==="array"){for(w=0;w<A.length;w+=1)if(n=!0,A[w].length===1&&typeof A[w][0]=="number")y.push(String(A[w]-1));else if(A[w].length>1){for(b=0;b<A[w].length;b+=1)typeof A[w][b]!="number"&&(n=!1);n===!0&&y.push([A[w][0]-1,A[w][1]-1].join(" "))}r[s].value="["+y.join(" ")+"]"}else r[s].value=r[s].defaultValue;r[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var z,H=[];for(z in r)r[z].explicitSet===!0&&(r[z].type==="name"?H.push("/"+z+" /"+r[z].value):H.push("/"+z+" "+r[z].value));H.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+H.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),A=unescape(encodeURIComponent(n)),f=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),y=unescape(encodeURIComponent("</x:xmpmeta>")),w=A.length+f.length+l.length+s.length+y.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+w+" >>"),this.internal.write("stream"),this.internal.write(s+A+f+l+y),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}})(Vr.API),(function(e){var t=e.API,r=t.pdfEscape16=function(A,f){for(var l,y=f.metadata.Unicode.widths,w=["","0","00","000","0000"],b=[""],S=0,U=A.length;S<U;++S){if(l=f.metadata.characterToGlyph(A.charCodeAt(S)),f.metadata.glyIdsUsed.push(l),f.metadata.toUnicode[l]=A.charCodeAt(S),y.indexOf(l)==-1&&(y.push(l),y.push([parseInt(f.metadata.widthOfGlyph(l),10)])),l=="0")return b.join("");l=l.toString(16),b.push(w[4-l.length],l)}return b.join("")},n=function(A){var f,l,y,w,b,S,U;for(b=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,y=[],S=0,U=(l=Object.keys(A).sort(function(I,z){return I-z})).length;S<U;S++)f=l[S],y.length>=100&&(b+=`
`+y.length+` beginbfchar
`+y.join(`
`)+`
endbfchar`,y=[]),A[f]!==void 0&&A[f]!==null&&typeof A[f].toString=="function"&&(w=("0000"+A[f].toString(16)).slice(-4),f=("0000"+(+f).toString(16)).slice(-4),y.push("<"+f+"><"+w+">"));return y.length&&(b+=`
`+y.length+` beginbfchar
`+y.join(`
`)+`
endbfchar
`),b+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(A){(function(f){var l=f.font,y=f.out,w=f.newObject,b=f.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var S=l.metadata.Unicode.widths,U=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),I="",z=0;z<U.length;z++)I+=String.fromCharCode(U[z]);var H=w();b({data:I,addLength1:!0,objectId:H}),y("endobj");var K=w();b({data:n(l.metadata.toUnicode),addLength1:!0,objectId:K}),y("endobj");var V=w();y("<<"),y("/Type /FontDescriptor"),y("/FontName /"+Tg(l.fontName)),y("/FontFile2 "+H+" 0 R"),y("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),y("/Flags "+l.metadata.flags),y("/StemV "+l.metadata.stemV),y("/ItalicAngle "+l.metadata.italicAngle),y("/Ascent "+l.metadata.ascender),y("/Descent "+l.metadata.decender),y("/CapHeight "+l.metadata.capHeight),y(">>"),y("endobj");var re=w();y("<<"),y("/Type /Font"),y("/BaseFont /"+Tg(l.fontName)),y("/FontDescriptor "+V+" 0 R"),y("/W "+e.API.PDFObject.convert(S)),y("/CIDToGIDMap /Identity"),y("/DW 1000"),y("/Subtype /CIDFontType2"),y("/CIDSystemInfo"),y("<<"),y("/Supplement 0"),y("/Registry (Adobe)"),y("/Ordering ("+l.encoding+")"),y(">>"),y(">>"),y("endobj"),l.objectNumber=w(),y("<<"),y("/Type /Font"),y("/Subtype /Type0"),y("/ToUnicode "+K+" 0 R"),y("/BaseFont /"+Tg(l.fontName)),y("/Encoding /"+l.encoding),y("/DescendantFonts ["+re+" 0 R]"),y(">>"),y("endobj"),l.isAlreadyPutted=!0}})(A)}]),t.events.push(["putFont",function(A){(function(f){var l=f.font,y=f.out,w=f.newObject,b=f.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var S=l.metadata.rawData,U="",I=0;I<S.length;I++)U+=String.fromCharCode(S[I]);var z=w();b({data:U,addLength1:!0,objectId:z}),y("endobj");var H=w();b({data:n(l.metadata.toUnicode),addLength1:!0,objectId:H}),y("endobj");var K=w();y("<<"),y("/Descent "+l.metadata.decender),y("/CapHeight "+l.metadata.capHeight),y("/StemV "+l.metadata.stemV),y("/Type /FontDescriptor"),y("/FontFile2 "+z+" 0 R"),y("/Flags 96"),y("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),y("/FontName /"+Tg(l.fontName)),y("/ItalicAngle "+l.metadata.italicAngle),y("/Ascent "+l.metadata.ascender),y(">>"),y("endobj"),l.objectNumber=w();for(var V=0;V<l.metadata.hmtx.widths.length;V++)l.metadata.hmtx.widths[V]=parseInt(l.metadata.hmtx.widths[V]*(1e3/l.metadata.head.unitsPerEm));y("<</Subtype/TrueType/Type/Font/ToUnicode "+H+" 0 R/BaseFont/"+Tg(l.fontName)+"/FontDescriptor "+K+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),y("endobj"),l.isAlreadyPutted=!0}})(A)}]);var s=function(A){var f,l=A.text||"",y=A.x,w=A.y,b=A.options||{},S=A.mutex||{},U=S.pdfEscape,I=S.activeFontKey,z=S.fonts,H=I,K="",V=0,re="",W=z[H].encoding;if(z[H].encoding!=="Identity-H")return{text:l,x:y,y:w,options:b,mutex:S};for(re=l,H=I,Array.isArray(l)&&(re=l[0]),V=0;V<re.length;V+=1)z[H].metadata.hasOwnProperty("cmap")&&(f=z[H].metadata.cmap.unicode.codeMap[re[V].charCodeAt(0)]),f||re[V].charCodeAt(0)<256&&z[H].metadata.hasOwnProperty("Unicode")?K+=re[V]:K+="";var le="";return parseInt(H.slice(1))<14||W==="WinAnsiEncoding"?le=U(K,H).split("").map(function(ce){return ce.charCodeAt(0).toString(16)}).join(""):W==="Identity-H"&&(le=r(K,z[H])),S.isHex=!0,{text:le,x:y,y:w,options:b,mutex:S}};t.events.push(["postProcessText",function(A){var f=A.text||"",l=[],y={text:f,x:A.x,y:A.y,options:A.options,mutex:A.mutex};if(Array.isArray(f)){var w=0;for(w=0;w<f.length;w+=1)Array.isArray(f[w])&&f[w].length===3?l.push([s(Object.assign({},y,{text:f[w][0]})).text,f[w][1],f[w][2]]):l.push(s(Object.assign({},y,{text:f[w]})).text);A.text=l}else A.text=s(Object.assign({},y,{text:f})).text}])})(Vr),(function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(Vr.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var s,A,f,l,y,w,b,S=t,U=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],I=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],z={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},H={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},K=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],V=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),re=!1,W=0;this.__bidiEngine__={};var le=function(ie){var de=ie.charCodeAt(),ve=de>>8,_e=H[ve];return _e!==void 0?S[256*_e+(255&de)]:ve===252||ve===253?"AL":V.test(ve)?"L":ve===8?"R":"N"},ce=function(ie){for(var de,ve=0;ve<ie.length;ve++){if((de=le(ie.charAt(ve)))==="L")return!1;if(de==="R")return!0}return!1},me=function(ie,de,ve,_e){var tt,Le,Ne,Ve,We=de[_e];switch(We){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":re=!1;break;case"N":case"AN":break;case"EN":re&&(We="AN");break;case"AL":re=!0,We="R";break;case"WS":case"BN":We="N";break;case"CS":_e<1||_e+1>=de.length||(tt=ve[_e-1])!=="EN"&&tt!=="AN"||(Le=de[_e+1])!=="EN"&&Le!=="AN"?We="N":re&&(Le="AN"),We=Le===tt?Le:"N";break;case"ES":We=(tt=_e>0?ve[_e-1]:"B")==="EN"&&_e+1<de.length&&de[_e+1]==="EN"?"EN":"N";break;case"ET":if(_e>0&&ve[_e-1]==="EN"){We="EN";break}if(re){We="N";break}for(Ne=_e+1,Ve=de.length;Ne<Ve&&de[Ne]==="ET";)Ne++;We=Ne<Ve&&de[Ne]==="EN"?"EN":"N";break;case"NSM":if(f&&!l){for(Ve=de.length,Ne=_e+1;Ne<Ve&&de[Ne]==="NSM";)Ne++;if(Ne<Ve){var _t=ie[_e],Te=_t>=1425&&_t<=2303||_t===64286;if(tt=de[Ne],Te&&(tt==="R"||tt==="AL")){We="R";break}}}We=_e<1||(tt=de[_e-1])==="B"?"N":ve[_e-1];break;case"B":re=!1,s=!0,We=W;break;case"S":A=!0,We="N"}return We},Ie=function(ie,de,ve){var _e=ie.split("");return ve&&Fe(_e,ve,{hiLevel:W}),_e.reverse(),de&&de.reverse(),_e.join("")},Fe=function(ie,de,ve){var _e,tt,Le,Ne,Ve,We=-1,_t=ie.length,Te=0,ne=[],we=W?I:U,Ue=[];for(re=!1,s=!1,A=!1,tt=0;tt<_t;tt++)Ue[tt]=le(ie[tt]);for(Le=0;Le<_t;Le++){if(Ve=Te,ne[Le]=me(ie,Ue,ne,Le),_e=240&(Te=we[Ve][z[ne[Le]]]),Te&=15,de[Le]=Ne=we[Te][5],_e>0)if(_e===16){for(tt=We;tt<Le;tt++)de[tt]=1;We=-1}else We=-1;if(we[Te][6])We===-1&&(We=Le);else if(We>-1){for(tt=We;tt<Le;tt++)de[tt]=Ne;We=-1}Ue[Le]==="B"&&(de[Le]=0),ve.hiLevel|=Ne}A&&(function(De,Xe,Je){for(var dt=0;dt<Je;dt++)if(De[dt]==="S"){Xe[dt]=W;for(var He=dt-1;He>=0&&De[He]==="WS";He--)Xe[He]=W}})(Ue,de,_t)},pe=function(ie,de,ve,_e,tt){if(!(tt.hiLevel<ie)){if(ie===1&&W===1&&!s)return de.reverse(),void(ve&&ve.reverse());for(var Le,Ne,Ve,We,_t=de.length,Te=0;Te<_t;){if(_e[Te]>=ie){for(Ve=Te+1;Ve<_t&&_e[Ve]>=ie;)Ve++;for(We=Te,Ne=Ve-1;We<Ne;We++,Ne--)Le=de[We],de[We]=de[Ne],de[Ne]=Le,ve&&(Le=ve[We],ve[We]=ve[Ne],ve[Ne]=Le);Te=Ve}Te++}}},ze=function(ie,de,ve){var _e=ie.split(""),tt={hiLevel:W};return ve||(ve=[]),Fe(_e,ve,tt),(function(Le,Ne,Ve){if(Ve.hiLevel!==0&&b)for(var We,_t=0;_t<Le.length;_t++)Ne[_t]===1&&(We=K.indexOf(Le[_t]))>=0&&(Le[_t]=K[We+1])})(_e,ve,tt),pe(2,_e,de,ve,tt),pe(1,_e,de,ve,tt),_e.join("")};return this.__bidiEngine__.doBidiReorder=function(ie,de,ve){if((function(tt,Le){if(Le)for(var Ne=0;Ne<tt.length;Ne++)Le[Ne]=Ne;l===void 0&&(l=ce(tt)),w===void 0&&(w=ce(tt))})(ie,de),f||!y||w)if(f&&y&&l^w)W=l?1:0,ie=Ie(ie,de,ve);else if(!f&&y&&w)W=l?1:0,ie=ze(ie,de,ve),ie=Ie(ie,de);else if(!f||l||y||w){if(f&&!y&&l^w)ie=Ie(ie,de),l?(W=0,ie=ze(ie,de,ve)):(W=1,ie=ze(ie,de,ve),ie=Ie(ie,de));else if(f&&l&&!y&&w)W=1,ie=ze(ie,de,ve),ie=Ie(ie,de);else if(!f&&!y&&l^w){var _e=b;l?(W=1,ie=ze(ie,de,ve),W=0,b=!1,ie=ze(ie,de,ve),b=_e):(W=0,ie=ze(ie,de,ve),ie=Ie(ie,de),W=1,b=!1,ie=ze(ie,de,ve),b=_e,ie=Ie(ie,de))}}else W=0,ie=ze(ie,de,ve);else W=l?1:0,ie=ze(ie,de,ve);return ie},this.__bidiEngine__.setOptions=function(ie){ie&&(f=ie.isInputVisual,y=ie.isOutputVisual,l=ie.isInputRtl,w=ie.isOutputRtl,b=ie.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var s=n.text;n.x,n.y;var A=n.options||{};n.mutex,A.lang;var f=[];if(A.isInputVisual=typeof A.isInputVisual!="boolean"||A.isInputVisual,r.setOptions(A),Object.prototype.toString.call(s)==="[object Array]"){var l=0;for(f=[],l=0;l<s.length;l+=1)Object.prototype.toString.call(s[l])==="[object Array]"?f.push([r.doBidiReorder(s[l][0]),s[l][1],s[l][2]]):f.push([r.doBidiReorder(s[l])]);n.text=f}else n.text=r.doBidiReorder(s);r.setOptions({isInputVisual:!0})}])})(Vr),Vr.API.TTFFont=(function(){function e(t){var r;if(this.rawData=t,r=this.contents=new md(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Ose(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new wse(this.contents),this.head=new xse(this),this.name=new Tse(this),this.cmap=new GD(this),this.toUnicode={},this.hhea=new Bse(this),this.maxp=new Ise(this),this.hmtx=new Fse(this),this.post=new Sse(this),this.os2=new Cse(this),this.loca=new Pse(this),this.glyf=new Use(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,s,A;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var f,l,y,w;for(w=[],f=0,l=(y=this.bbox).length;f<l;f++)t=y[f],w.push(Math.round(t*this.scaleFactor));return w}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),32768&(r=s>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(A=this.familyClass)===1||A===2||A===3||A===4||A===5||A===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var s,A,f,l;for(f=0,A=0,l=(t=""+t).length;0<=l?A<l:A>l;A=0<=l?++A:--A)s=t.charCodeAt(A),f+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/r)||0;return f*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e})();var Qc,md=(function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,s;for(s=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)s.push(this.writeByte(t.charCodeAt(r)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,s,A,f,l,y;return t=this.readByte(),r=this.readByte(),n=this.readByte(),s=this.readByte(),A=this.readByte(),f=this.readByte(),l=this.readByte(),y=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^A)+65536*(255^f)+256*(255^l)+(255^y)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*s+16777216*A+65536*f+256*l+y},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,s,A;for(A=[],n=0,s=t.length;n<s;n++)r=t[n],A.push(this.writeByte(r));return A},e})(),wse=(function(){var e;function t(r){var n,s,A;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},s=0,A=this.tableCount;0<=A?s<A:s>A;s=0<=A?++s:--s)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,s,A,f,l,y,w,b,S,U,I,z,H;for(H in I=Object.keys(r).length,y=Math.log(2),S=16*Math.floor(Math.log(I)/y),f=Math.floor(S/y),b=16*I-S,(s=new md).writeInt(this.scalarType),s.writeShort(I),s.writeShort(S),s.writeShort(f),s.writeShort(b),A=16*I,w=s.pos+A,l=null,z=[],r)for(U=r[H],s.writeString(H),s.writeInt(e(U)),s.writeInt(w),s.writeInt(U.length),z=z.concat(U),H==="head"&&(l=w),w+=U.length;w%4;)z.push(0),w++;return s.write(z),n=2981146554-e(s.data),s.pos=l+8,s.writeUInt32(n),s.data},e=function(r){var n,s,A,f;for(r=XD.call(r);r.length%4;)r.push(0);for(A=new md(r),s=0,n=0,f=r.length;n<f;n=n+=4)s+=A.readUInt32();return 4294967295&s},t})(),bse={}.hasOwnProperty,Bh=function(e,t){for(var r in t)bse.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Qc=(function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var xse=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Bh(e,Qc),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new md).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e})(),$F=(function(){function e(t,r){var n,s,A,f,l,y,w,b,S,U,I,z,H,K,V,re,W;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),S=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(y=0;y<256;++y)this.codeMap[y]=t.readByte();break;case 4:for(I=t.readUInt16(),U=I/2,t.pos+=6,A=(function(){var le,ce;for(ce=[],y=le=0;0<=U?le<U:le>U;y=0<=U?++le:--le)ce.push(t.readUInt16());return ce})(),t.pos+=2,H=(function(){var le,ce;for(ce=[],y=le=0;0<=U?le<U:le>U;y=0<=U?++le:--le)ce.push(t.readUInt16());return ce})(),w=(function(){var le,ce;for(ce=[],y=le=0;0<=U?le<U:le>U;y=0<=U?++le:--le)ce.push(t.readUInt16());return ce})(),b=(function(){var le,ce;for(ce=[],y=le=0;0<=U?le<U:le>U;y=0<=U?++le:--le)ce.push(t.readUInt16());return ce})(),s=(this.length-t.pos+this.offset)/2,l=(function(){var le,ce;for(ce=[],y=le=0;0<=s?le<s:le>s;y=0<=s?++le:--le)ce.push(t.readUInt16());return ce})(),y=V=0,W=A.length;V<W;y=++V)for(K=A[y],n=re=z=H[y];z<=K?re<=K:re>=K;n=z<=K?++re:--re)b[y]===0?f=n+w[y]:(f=l[b[y]/2+(n-z)-(U-y)]||0)!==0&&(f+=w[y]),this.codeMap[n]=65535&f}t.pos=S}return e.encode=function(t,r){var n,s,A,f,l,y,w,b,S,U,I,z,H,K,V,re,W,le,ce,me,Ie,Fe,pe,ze,ie,de,ve,_e,tt,Le,Ne,Ve,We,_t,Te,ne,we,Ue,De,Xe,Je,dt,He,ft,It,ct;switch(_e=new md,f=Object.keys(t).sort(function(Xt,$t){return Xt-$t}),r){case"macroman":for(H=0,K=(function(){var Xt=[];for(z=0;z<256;++z)Xt.push(0);return Xt})(),re={0:0},A={},tt=0,We=f.length;tt<We;tt++)re[He=t[s=f[tt]]]==null&&(re[He]=++H),A[s]={old:t[s],new:re[t[s]]},K[s]=re[t[s]];return _e.writeUInt16(1),_e.writeUInt16(0),_e.writeUInt32(12),_e.writeUInt16(0),_e.writeUInt16(262),_e.writeUInt16(0),_e.write(K),{charMap:A,subtable:_e.data,maxGlyphID:H+1};case"unicode":for(de=[],S=[],W=0,re={},n={},V=w=null,Le=0,_t=f.length;Le<_t;Le++)re[ce=t[s=f[Le]]]==null&&(re[ce]=++W),n[s]={old:ce,new:re[ce]},l=re[ce]-s,V!=null&&l===w||(V&&S.push(V),de.push(s),w=l),V=s;for(V&&S.push(V),S.push(65535),de.push(65535),ze=2*(pe=de.length),Fe=2*Math.pow(Math.log(pe)/Math.LN2,2),U=Math.log(Fe/2)/Math.LN2,Ie=2*pe-Fe,y=[],me=[],I=[],z=Ne=0,Te=de.length;Ne<Te;z=++Ne){if(ie=de[z],b=S[z],ie===65535){y.push(0),me.push(0);break}if(ie-(ve=n[ie].new)>=32768)for(y.push(0),me.push(2*(I.length+pe-z)),s=Ve=ie;ie<=b?Ve<=b:Ve>=b;s=ie<=b?++Ve:--Ve)I.push(n[s].new);else y.push(ve-ie),me.push(0)}for(_e.writeUInt16(3),_e.writeUInt16(1),_e.writeUInt32(12),_e.writeUInt16(4),_e.writeUInt16(16+8*pe+2*I.length),_e.writeUInt16(0),_e.writeUInt16(ze),_e.writeUInt16(Fe),_e.writeUInt16(U),_e.writeUInt16(Ie),Je=0,ne=S.length;Je<ne;Je++)s=S[Je],_e.writeUInt16(s);for(_e.writeUInt16(0),dt=0,we=de.length;dt<we;dt++)s=de[dt],_e.writeUInt16(s);for(ft=0,Ue=y.length;ft<Ue;ft++)l=y[ft],_e.writeUInt16(l);for(It=0,De=me.length;It<De;It++)le=me[It],_e.writeUInt16(le);for(ct=0,Xe=I.length;ct<Xe;ct++)H=I[ct],_e.writeUInt16(H);return{charMap:n,subtable:_e.data,maxGlyphID:W+1}}},e})(),GD=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Bh(e,Qc),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=s?n<s:n>s;n=0<=s?++n:--n)r=new $F(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,s;return r==null&&(r="macroman"),n=$F.encode(t,r),(s=new md).writeUInt16(0),s.writeUInt16(1),n.table=s.data.concat(n.subtable),n},e})(),Bse=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Bh(e,Qc),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e})(),Cse=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Bh(e,Qc),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n})(),this.charRange=(function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e})(),Sse=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Bh(e,Qc),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var A;for(n=t.readUInt16(),this.glyphNameIndex=[],A=0;0<=n?A<n:A>n;A=0<=n?++A:--A)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)r=t.readByte(),s.push(this.names.push(t.readString(r)));return s;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var f,l,y;for(y=[],A=f=0,l=this.file.maxp.numGlyphs;0<=l?f<l:f>l;A=0<=l?++f:--f)y.push(t.readUInt32());return y}).call(this)}},e})(),Ese=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Tse=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Bh(e,Qc),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,s,A,f,l,y,w,b,S,U;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),n=[],A=0;0<=r?A<r:A>r;A=0<=r?++A:--A)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(y={},A=b=0,S=n.length;b<S;A=++b)s=n[A],t.pos=s.offset,w=t.readString(s.length),f=new Ese(w,s),y[U=s.nameID]==null&&(y[U]=[]),y[s.nameID].push(f);this.strings=y,this.copyright=y[0],this.fontFamily=y[1],this.fontSubfamily=y[2],this.uniqueSubfamily=y[3],this.fontName=y[4],this.version=y[5];try{this.postscriptName=y[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=y[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=y[7],this.manufacturer=y[8],this.designer=y[9],this.description=y[10],this.vendorUrl=y[11],this.designerUrl=y[12],this.license=y[13],this.licenseUrl=y[14],this.preferredFamily=y[15],this.preferredSubfamily=y[17],this.compatibleFull=y[18],this.sampleText=y[19]},e})(),Ise=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Bh(e,Qc),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e})(),Fse=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Bh(e,Qc),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,s,A,f,l,y;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var w,b;for(b=[],r=w=0;0<=s?w<s:w>s;r=0<=s?++w:--w)b.push(t.readInt16());return b})(),this.widths=(function(){var w,b,S,U;for(U=[],w=0,b=(S=this.metrics).length;w<b;w++)A=S[w],U.push(A.advance);return U}).call(this),n=this.widths[this.widths.length-1],y=[],r=f=0;0<=s?f<s:f>s;r=0<=s?++f:--f)y.push(this.widths.push(n));return y},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e})(),XD=[].slice,Use=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Bh(e,Qc),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,s,A,f,l,y,w,b,S;return t in this.cache?this.cache[t]:(A=this.file.loca,r=this.file.contents,n=A.indexOf(t),(s=A.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,f=(l=new md(r.read(s))).readShort(),w=l.readShort(),S=l.readShort(),y=l.readShort(),b=l.readShort(),this.cache[t]=f===-1?new Mse(l,w,S,y,b):new Lse(l,f,w,S,y,b),this.cache[t]))},e.prototype.encode=function(t,r,n){var s,A,f,l,y;for(f=[],A=[],l=0,y=r.length;l<y;l++)s=t[r[l]],A.push(f.length),s&&(f=f.concat(s.encode(n)));return A.push(f.length),{table:f,offsets:A}},e})(),Lse=(function(){function e(t,r,n,s,A,f){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=s,this.xMax=A,this.yMax=f,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),Mse=(function(){function e(t,r,n,s,A){var f,l;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=s,this.yMax=A,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],f=this.raw;l=f.readShort(),this.glyphOffsets.push(f.pos),this.glyphIDs.push(f.readUInt16()),32&l;)f.pos+=1&l?4:2,128&l?f.pos+=8:64&l?f.pos+=4:8&l&&(f.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new md(XD.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e})(),Pse=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Bh(e,Qc),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,A;for(A=[],n=0,s=this.length;n<s;n+=2)A.push(2*t.readUInt16());return A}).call(this):(function(){var s,A;for(A=[],n=0,s=this.length;n<s;n+=4)A.push(t.readUInt32());return A}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),s=0,A=0,f=0;f<n.length;++f)if(n[f]=s,A<r.length&&r[A]==f){++A,n[f]=s;var l=this.offsets[f],y=this.offsets[f+1]-l;y>0&&(s+=y)}for(var w=new Array(4*n.length),b=0;b<n.length;++b)w[4*b+3]=255&n[b],w[4*b+2]=(65280&n[b])>>8,w[4*b+1]=(16711680&n[b])>>16,w[4*b]=(4278190080&n[b])>>24;return w},e})(),Ose=(function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,s,A;for(r in s=this.font.cmap.tables[0].codeMap,t={},A=this.subset)n=A[r],t[r]=s[n];return t},e.prototype.glyphsFor=function(t){var r,n,s,A,f,l,y;for(s={},f=0,l=t.length;f<l;f++)s[A=t[f]]=this.font.glyf.glyphFor(A);for(A in r=[],s)(n=s[A])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(A in y=this.glyphsFor(r))n=y[A],s[A]=n;return s},e.prototype.encode=function(t,r){var n,s,A,f,l,y,w,b,S,U,I,z,H,K,V;for(s in n=GD.encode(this.generateCmap(),"unicode"),f=this.glyphsFor(t),I={0:0},V=n.charMap)I[(y=V[s]).old]=y.new;for(z in U=n.maxGlyphID,f)z in I||(I[z]=U++);return b=(function(re){var W,le;for(W in le={},re)le[re[W]]=W;return le})(I),S=Object.keys(b).sort(function(re,W){return re-W}),H=(function(){var re,W,le;for(le=[],re=0,W=S.length;re<W;re++)l=S[re],le.push(b[l]);return le})(),A=this.font.glyf.encode(f,H,I),w=this.font.loca.encode(A.offsets,H),K={cmap:this.font.cmap.raw(),glyf:A.table,loca:w,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(K["OS/2"]=this.font.os2.raw()),this.font.directory.encode(K)},e})();Vr.API.PDFObject=(function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,s,A,f;if(Array.isArray(r))return"["+(function(){var l,y,w;for(w=[],l=0,y=r.length;l<y;l++)n=r[l],w.push(t.convert(n));return w})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(s in A=["<<"],r)f=r[s],A.push("/"+s+" "+t.convert(f));return A.push(">>"),A.join(`
`)}return""+r},t})();function Dse(){const[e,t]=se.useState(null),[r,n]=se.useState(null),[s,A]=se.useState(null),[f,l]=se.useState(3),[y,w]=se.useState(null),[b,S]=se.useState(!0),[U,I]=se.useState(null),[z,H]=se.useState(!0),[K,V]=se.useState(!1),[re,W]=se.useState(!1);se.useEffect(()=>{const ze="/retc-map/retc_data.geojson".replace("//","/");fetch(ze).then(ie=>ie.ok?ie.json():Promise.reject(ie.status)).then(ie=>{t(ie),S(!1)}).catch(ie=>{console.error(ie),S(!1)})},[]),se.useEffect(()=>{r&&H(!0)},[r]);const le=(pe,ze)=>{e&&n(mY(pe,e,ze))},ce=pe=>{w(pe),le(pe,f)},me=pe=>{A(pe),w(pe),le(pe,f)},Ie=pe=>{l(pe),y&&le(y,pe)},Fe=async pe=>{W(!0),V(!1),await new Promise(_e=>setTimeout(_e,1e3));const ze=document.querySelector(".maplibregl-canvas"),ie=document.querySelector(".maplibregl-map");let de=null;if(ze&&ie)try{de=document.createElement("img"),de.src=ze.toDataURL(),de.style.position="absolute",de.style.left="0",de.style.top="0",de.style.width="100%",de.style.height="100%",de.style.zIndex="0",de.style.pointerEvents="none",ie.appendChild(de),ze.style.visibility="hidden"}catch(_e){console.warn(_e)}const ve=document.getElementById("main-container");if(!ve){W(!1);return}try{const _e=await nD(ve,{useCORS:!0,allowTaint:!0,backgroundColor:"#0f172a",scale:2,logging:!1,ignoreElements:Le=>Le.id==="export-controls"||Le.id==="export-overlay"||Le.classList.contains("no-print")}),tt=new Date().toISOString().replace(/[:.]/g,"-").slice(0,19);if(pe==="png"){const Le=document.createElement("a");Le.download=`EcoMap_${tt}.png`,Le.href=_e.toDataURL("image/png"),Le.click()}else if(pe==="pdf"){const Le=_e.toDataURL("image/png"),Ne=new Vr({orientation:"landscape",unit:"px",format:[_e.width/2,_e.height/2]});Ne.addImage(Le,"PNG",0,0,_e.width/2,_e.height/2),Ne.save(`EcoMap_${tt}.pdf`)}}catch{alert("Error al exportar.")}finally{de&&de.remove(),ze&&(ze.style.visibility="visible"),W(!1)}};return wt.jsxs("div",{id:"main-container",className:"relative w-full h-screen bg-slate-900 text-slate-100 overflow-hidden font-sans",children:[wt.jsx("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 z-20 w-[85%] max-w-sm md:px-0 no-print",children:wt.jsx(gY,{onSelectLocation:me})}),wt.jsxs("div",{id:"export-controls",className:"absolute top-4 right-4 z-20 flex flex-col items-end",children:[wt.jsx("button",{onClick:()=>V(!K),className:"bg-slate-800 hover:bg-slate-700 text-slate-200 p-2.5 rounded-lg border border-slate-600 shadow-xl transition-all",children:wt.jsx(MT,{size:20})}),K&&wt.jsxs("div",{className:"mt-2 bg-slate-900 border border-slate-700 rounded-lg shadow-xl overflow-hidden flex flex-col animate-in fade-in slide-in-from-top-2 w-40",children:[wt.jsxs("button",{onClick:()=>Fe("png"),className:"flex items-center gap-3 px-4 py-3 hover:bg-slate-800 text-sm text-left text-slate-300 hover:text-white border-b border-slate-800",children:[wt.jsx(oY,{size:16,className:"text-emerald-400"})," ",wt.jsx("span",{children:"Imagen PNG"})]}),wt.jsxs("button",{onClick:()=>Fe("pdf"),className:"flex items-center gap-3 px-4 py-3 hover:bg-slate-800 text-sm text-left text-slate-300 hover:text-white",children:[wt.jsx(sY,{size:16,className:"text-rose-400"})," ",wt.jsx("span",{children:"Reporte PDF"})]})]})]}),re&&wt.jsxs("div",{id:"export-overlay",className:"absolute inset-0 z-[60] bg-slate-900/90 backdrop-blur-sm flex flex-col items-center justify-center cursor-wait",children:[wt.jsx("div",{className:"animate-spin text-emerald-500 mb-4",children:wt.jsx(MT,{size:40})}),wt.jsx("p",{className:"text-xl font-bold text-white",children:"Generando captura..."})]}),wt.jsx(pY,{mapData:e,onLocationSelect:ce,flyToLocation:s,radius:f,highlightedName:U}),b&&wt.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-slate-900/80",children:wt.jsx("div",{className:"text-emerald-400 font-bold animate-pulse",children:"Cargando..."})}),r&&wt.jsxs("div",{className:`
            fixed z-30 transition-transform duration-300 ease-in-out shadow-2xl border-slate-700 bg-slate-900/95 backdrop-blur-md
            bottom-0 left-0 right-0 w-full rounded-t-2xl border-t border-x max-h-[45vh] flex flex-col
            md:top-20 md:bottom-6 md:left-4 md:right-auto md:w-80 md:max-h-[85vh] md:rounded-2xl md:border
            ${z?"translate-y-0 md:translate-x-0":"translate-y-[100%] md:-translate-x-[calc(100%+2rem)]"}
        `,children:[wt.jsx("div",{onClick:()=>H(!z),className:"md:hidden w-full h-6 flex items-center justify-center cursor-pointer border-b border-white/5 active:bg-white/5 shrink-0 hover:bg-white/5 transition-colors",children:wt.jsx("div",{className:"w-12 h-1 bg-slate-600 rounded-full"})}),wt.jsx("button",{onClick:()=>H(!z),className:`hidden md:flex absolute top-6 -right-8 w-8 h-10 bg-slate-800 border-y border-r border-slate-600 text-emerald-400 hover:text-white hover:bg-slate-700 rounded-r-lg shadow-lg items-center justify-center transition-opacity duration-300 no-print ${z?"opacity-100":"opacity-0 pointer-events-none"}`,children:wt.jsx(nY,{size:20})}),wt.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[wt.jsx("div",{className:"p-5 pb-0 shrink-0",children:wt.jsxs("div",{className:"flex justify-between items-start mb-4 border-b border-slate-700 pb-4",children:[wt.jsxs("div",{children:[wt.jsxs("h1",{className:"text-lg font-bold text-white leading-none flex items-center gap-2",children:[wt.jsx(lY,{size:18,className:"text-emerald-400"})," Anlisis Zonal"]}),wt.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Radio de impacto"})]}),wt.jsx("div",{className:"flex bg-slate-800 rounded-lg p-1 gap-1",children:[1,3,5].map(pe=>wt.jsxs("button",{onClick:()=>Ie(pe),className:`text-xs font-bold px-2 py-1 rounded transition-all ${f===pe?"bg-emerald-500 text-white shadow":"text-slate-400 hover:text-white hover:bg-slate-700"}`,children:[pe,"km"]},pe))})]})}),wt.jsxs("div",{className:"flex-1 overflow-y-auto overflow-x-hidden custom-scrollbar p-5 pt-0 pb-10",children:[wt.jsxs("div",{className:"mb-4 flex items-end justify-between mt-2",children:[wt.jsxs("div",{children:[wt.jsxs("div",{className:`flex items-center gap-2 text-xl font-bold ${r.stats.trend>0?"text-rose-400":"text-emerald-400"}`,children:[r.stats.trend>0?wt.jsx(JO,{size:20}):wt.jsx(YO,{size:20}),Math.abs(r.stats.trend).toFixed(1),"%"]}),wt.jsx("p",{className:"text-xs text-slate-500",children:"Variacin (5 aos)"})]}),wt.jsxs("div",{className:"text-right",children:[wt.jsx("span",{className:"text-3xl font-bold text-white block leading-none",children:r.stats.count}),wt.jsx("span",{className:"text-xs text-slate-400",children:"Industrias"})]})]}),wt.jsxs("div",{className:"mb-4 border-b border-slate-700 pb-6",children:[wt.jsx("div",{className:"flex justify-between items-center mb-1",children:wt.jsx("p",{className:"text-[10px] text-slate-400 uppercase tracking-wider font-bold",children:"Evolucin por Industria (Top 5)"})}),wt.jsx(vY,{data:r.chartData,keys:r.lineKeys,onHoverHighlight:I})]}),wt.jsx(_Y,{analysis:r}),r.nearest&&wt.jsx("div",{className:"bg-slate-800/50 p-3 rounded-xl border border-slate-700 mt-4 mb-2",children:wt.jsxs("div",{className:"flex items-start gap-3",children:[wt.jsx("div",{className:"bg-slate-700 p-2 rounded-full mt-1 shrink-0",children:wt.jsx(aY,{size:14,className:"text-slate-300"})}),wt.jsxs("div",{className:"w-full min-w-0",children:[wt.jsx("p",{className:"font-bold text-slate-400 text-[10px] uppercase tracking-widest mb-1",children:"Referencia ms cercana"}),wt.jsx("p",{className:"font-bold text-base text-white leading-tight truncate",children:r.nearest.properties.name}),wt.jsxs("div",{className:"flex justify-between items-center mt-2",children:[wt.jsx("span",{className:"text-[10px] bg-cyan-900/30 px-2 py-0.5 rounded text-cyan-400 border border-cyan-800/50 truncate max-w-[60%] font-bold tracking-wide",children:r.nearest.properties.category}),wt.jsxs("span",{className:"text-xs text-slate-400 font-mono ml-2 shrink-0",children:[r.nearest.properties.distance.toFixed(2)," km"]})]})]})]})})]})]})]}),r&&!z&&wt.jsx("button",{onClick:()=>H(!0),className:"absolute left-0 top-20 md:top-20 bg-slate-900 border-r border-y border-slate-600 text-emerald-400 p-3 rounded-r-xl shadow-2xl hover:bg-slate-800 hover:text-white transition-all animate-in slide-in-from-left-2 z-20 no-print",children:wt.jsx(iY,{size:24})})]})}ck.createRoot(document.getElementById("root")).render(wt.jsx(se.StrictMode,{children:wt.jsx(Dse,{})}));export{Ni as _,kse as c,wh as g};
