function rN(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const A=Object.getOwnPropertyDescriptor(n,s);A&&Object.defineProperty(e,s,A.get?A:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const A of s)if(A.type==="childList")for(const f of A.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&n(f)}).observe(document,{childList:!0,subtree:!0});function r(s){const A={};return s.integrity&&(A.integrity=s.integrity),s.referrerPolicy&&(A.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?A.credentials="include":s.crossOrigin==="anonymous"?A.credentials="omit":A.credentials="same-origin",A}function n(s){if(s.ep)return;s.ep=!0;const A=r(s);fetch(s.href,A)}})();var jle=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Sh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ww={exports:{}},c0={};var jS;function nN(){if(jS)return c0;jS=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,s,A){var f=null;if(A!==void 0&&(f=""+A),s.key!==void 0&&(f=""+s.key),"key"in s){A={};for(var l in s)l!=="key"&&(A[l]=s[l])}else A=s;return s=A.ref,{$$typeof:e,type:n,key:f,ref:s!==void 0?s:null,props:A}}return c0.Fragment=t,c0.jsx=r,c0.jsxs=r,c0}var HS;function iN(){return HS||(HS=1,ww.exports=nN()),ww.exports}var _e=iN(),xw={exports:{}},Sn={};var KS;function aN(){if(KS)return Sn;KS=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),f=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),b=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),F=Symbol.iterator;function T(be){return be===null||typeof be!="object"?null:(be=F&&be[F]||be["@@iterator"],typeof be=="function"?be:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,H={};function K(be,re,ye){this.props=be,this.context=re,this.refs=H,this.updater=ye||j}K.prototype.isReactComponent={},K.prototype.setState=function(be,re){if(typeof be!="object"&&typeof be!="function"&&be!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,be,re,"setState")},K.prototype.forceUpdate=function(be){this.updater.enqueueForceUpdate(this,be,"forceUpdate")};function Y(){}Y.prototype=K.prototype;function W(be,re,ye){this.props=be,this.context=re,this.refs=H,this.updater=ye||j}var ae=W.prototype=new Y;ae.constructor=W,k(ae,K.prototype),ae.isPureReactComponent=!0;var Ae=Array.isArray;function pe(){}var Be={H:null,A:null,T:null,S:null},Fe=Object.prototype.hasOwnProperty;function me(be,re,ye){var Ie=ye.ref;return{$$typeof:e,type:be,key:re,ref:Ie!==void 0?Ie:null,props:ye}}function He(be,re){return me(be.type,re,be.props)}function se(be){return typeof be=="object"&&be!==null&&be.$$typeof===e}function de(be){var re={"=":"=0",":":"=2"};return"$"+be.replace(/[=:]/g,function(ye){return re[ye]})}var Le=/\/+/g;function Ue(be,re){return typeof be=="object"&&be!==null&&be.key!=null?de(""+be.key):re.toString(36)}function nt(be){switch(be.status){case"fulfilled":return be.value;case"rejected":throw be.reason;default:switch(typeof be.status=="string"?be.then(pe,pe):(be.status="pending",be.then(function(re){be.status==="pending"&&(be.status="fulfilled",be.value=re)},function(re){be.status==="pending"&&(be.status="rejected",be.reason=re)})),be.status){case"fulfilled":return be.value;case"rejected":throw be.reason}}throw be}function Oe(be,re,ye,Ie,ke){var $e=typeof be;($e==="undefined"||$e==="boolean")&&(be=null);var Je=!1;if(be===null)Je=!0;else switch($e){case"bigint":case"string":case"number":Je=!0;break;case"object":switch(be.$$typeof){case e:case t:Je=!0;break;case w:return Je=be._init,Oe(Je(be._payload),re,ye,Ie,ke)}}if(Je)return ke=ke(be),Je=Ie===""?"."+Ue(be,0):Ie,Ae(ke)?(ye="",Je!=null&&(ye=Je.replace(Le,"$&/")+"/"),Oe(ke,re,ye,"",function(pt){return pt})):ke!=null&&(se(ke)&&(ke=He(ke,ye+(ke.key==null||be&&be.key===ke.key?"":(""+ke.key).replace(Le,"$&/")+"/")+Je)),re.push(ke)),1;Je=0;var mt=Ie===""?".":Ie+":";if(Ae(be))for(var Ke=0;Ke<be.length;Ke++)Ie=be[Ke],$e=mt+Ue(Ie,Ke),Je+=Oe(Ie,re,ye,$e,ke);else if(Ke=T(be),typeof Ke=="function")for(be=Ke.call(be),Ke=0;!(Ie=be.next()).done;)Ie=Ie.value,$e=mt+Ue(Ie,Ke++),Je+=Oe(Ie,re,ye,$e,ke);else if($e==="object"){if(typeof be.then=="function")return Oe(nt(be),re,ye,Ie,ke);throw re=String(be),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(be).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return Je}function Ne(be,re,ye){if(be==null)return be;var Ie=[],ke=0;return Oe(be,Ie,"","",function($e){return re.call(ye,$e,ke++)}),Ie}function Ve(be){if(be._status===-1){var re=be._result;re=re(),re.then(function(ye){(be._status===0||be._status===-1)&&(be._status=1,be._result=ye)},function(ye){(be._status===0||be._status===-1)&&(be._status=2,be._result=ye)}),be._status===-1&&(be._status=0,be._result=re)}if(be._status===1)return be._result.default;throw be._result}var De=typeof reportError=="function"?reportError:function(be){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof be=="object"&&be!==null&&typeof be.message=="string"?String(be.message):String(be),error:be});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",be);return}console.error(be)},ot={map:Ne,forEach:function(be,re,ye){Ne(be,function(){re.apply(this,arguments)},ye)},count:function(be){var re=0;return Ne(be,function(){re++}),re},toArray:function(be){return Ne(be,function(re){return re})||[]},only:function(be){if(!se(be))throw Error("React.Children.only expected to receive a single React element child.");return be}};return Sn.Activity=C,Sn.Children=ot,Sn.Component=K,Sn.Fragment=r,Sn.Profiler=s,Sn.PureComponent=W,Sn.StrictMode=n,Sn.Suspense=y,Sn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Be,Sn.__COMPILER_RUNTIME={__proto__:null,c:function(be){return Be.H.useMemoCache(be)}},Sn.cache=function(be){return function(){return be.apply(null,arguments)}},Sn.cacheSignal=function(){return null},Sn.cloneElement=function(be,re,ye){if(be==null)throw Error("The argument must be a React element, but you passed "+be+".");var Ie=k({},be.props),ke=be.key;if(re!=null)for($e in re.key!==void 0&&(ke=""+re.key),re)!Fe.call(re,$e)||$e==="key"||$e==="__self"||$e==="__source"||$e==="ref"&&re.ref===void 0||(Ie[$e]=re[$e]);var $e=arguments.length-2;if($e===1)Ie.children=ye;else if(1<$e){for(var Je=Array($e),mt=0;mt<$e;mt++)Je[mt]=arguments[mt+2];Ie.children=Je}return me(be.type,ke,Ie)},Sn.createContext=function(be){return be={$$typeof:f,_currentValue:be,_currentValue2:be,_threadCount:0,Provider:null,Consumer:null},be.Provider=be,be.Consumer={$$typeof:A,_context:be},be},Sn.createElement=function(be,re,ye){var Ie,ke={},$e=null;if(re!=null)for(Ie in re.key!==void 0&&($e=""+re.key),re)Fe.call(re,Ie)&&Ie!=="key"&&Ie!=="__self"&&Ie!=="__source"&&(ke[Ie]=re[Ie]);var Je=arguments.length-2;if(Je===1)ke.children=ye;else if(1<Je){for(var mt=Array(Je),Ke=0;Ke<Je;Ke++)mt[Ke]=arguments[Ke+2];ke.children=mt}if(be&&be.defaultProps)for(Ie in Je=be.defaultProps,Je)ke[Ie]===void 0&&(ke[Ie]=Je[Ie]);return me(be,$e,ke)},Sn.createRef=function(){return{current:null}},Sn.forwardRef=function(be){return{$$typeof:l,render:be}},Sn.isValidElement=se,Sn.lazy=function(be){return{$$typeof:w,_payload:{_status:-1,_result:be},_init:Ve}},Sn.memo=function(be,re){return{$$typeof:b,type:be,compare:re===void 0?null:re}},Sn.startTransition=function(be){var re=Be.T,ye={};Be.T=ye;try{var Ie=be(),ke=Be.S;ke!==null&&ke(ye,Ie),typeof Ie=="object"&&Ie!==null&&typeof Ie.then=="function"&&Ie.then(pe,De)}catch($e){De($e)}finally{re!==null&&ye.types!==null&&(re.types=ye.types),Be.T=re}},Sn.unstable_useCacheRefresh=function(){return Be.H.useCacheRefresh()},Sn.use=function(be){return Be.H.use(be)},Sn.useActionState=function(be,re,ye){return Be.H.useActionState(be,re,ye)},Sn.useCallback=function(be,re){return Be.H.useCallback(be,re)},Sn.useContext=function(be){return Be.H.useContext(be)},Sn.useDebugValue=function(){},Sn.useDeferredValue=function(be,re){return Be.H.useDeferredValue(be,re)},Sn.useEffect=function(be,re){return Be.H.useEffect(be,re)},Sn.useEffectEvent=function(be){return Be.H.useEffectEvent(be)},Sn.useId=function(){return Be.H.useId()},Sn.useImperativeHandle=function(be,re,ye){return Be.H.useImperativeHandle(be,re,ye)},Sn.useInsertionEffect=function(be,re){return Be.H.useInsertionEffect(be,re)},Sn.useLayoutEffect=function(be,re){return Be.H.useLayoutEffect(be,re)},Sn.useMemo=function(be,re){return Be.H.useMemo(be,re)},Sn.useOptimistic=function(be,re){return Be.H.useOptimistic(be,re)},Sn.useReducer=function(be,re,ye){return Be.H.useReducer(be,re,ye)},Sn.useRef=function(be){return Be.H.useRef(be)},Sn.useState=function(be){return Be.H.useState(be)},Sn.useSyncExternalStore=function(be,re,ye){return Be.H.useSyncExternalStore(be,re,ye)},Sn.useTransition=function(){return Be.H.useTransition()},Sn.version="19.2.0",Sn}var VS;function ng(){return VS||(VS=1,xw.exports=aN()),xw.exports}var te=ng();const sN=Sh(te),oN=rN({__proto__:null,default:sN},[te]);var Bw={exports:{}},h0={},Cw={exports:{}},Sw={};var qS;function lN(){return qS||(qS=1,(function(e){function t(Oe,Ne){var Ve=Oe.length;Oe.push(Ne);e:for(;0<Ve;){var De=Ve-1>>>1,ot=Oe[De];if(0<s(ot,Ne))Oe[De]=Ne,Oe[Ve]=ot,Ve=De;else break e}}function r(Oe){return Oe.length===0?null:Oe[0]}function n(Oe){if(Oe.length===0)return null;var Ne=Oe[0],Ve=Oe.pop();if(Ve!==Ne){Oe[0]=Ve;e:for(var De=0,ot=Oe.length,be=ot>>>1;De<be;){var re=2*(De+1)-1,ye=Oe[re],Ie=re+1,ke=Oe[Ie];if(0>s(ye,Ve))Ie<ot&&0>s(ke,ye)?(Oe[De]=ke,Oe[Ie]=Ve,De=Ie):(Oe[De]=ye,Oe[re]=Ve,De=re);else if(Ie<ot&&0>s(ke,Ve))Oe[De]=ke,Oe[Ie]=Ve,De=Ie;else break e}}return Ne}function s(Oe,Ne){var Ve=Oe.sortIndex-Ne.sortIndex;return Ve!==0?Ve:Oe.id-Ne.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var A=performance;e.unstable_now=function(){return A.now()}}else{var f=Date,l=f.now();e.unstable_now=function(){return f.now()-l}}var y=[],b=[],w=1,C=null,F=3,T=!1,j=!1,k=!1,H=!1,K=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function ae(Oe){for(var Ne=r(b);Ne!==null;){if(Ne.callback===null)n(b);else if(Ne.startTime<=Oe)n(b),Ne.sortIndex=Ne.expirationTime,t(y,Ne);else break;Ne=r(b)}}function Ae(Oe){if(k=!1,ae(Oe),!j)if(r(y)!==null)j=!0,pe||(pe=!0,de());else{var Ne=r(b);Ne!==null&&nt(Ae,Ne.startTime-Oe)}}var pe=!1,Be=-1,Fe=5,me=-1;function He(){return H?!0:!(e.unstable_now()-me<Fe)}function se(){if(H=!1,pe){var Oe=e.unstable_now();me=Oe;var Ne=!0;try{e:{j=!1,k&&(k=!1,Y(Be),Be=-1),T=!0;var Ve=F;try{t:{for(ae(Oe),C=r(y);C!==null&&!(C.expirationTime>Oe&&He());){var De=C.callback;if(typeof De=="function"){C.callback=null,F=C.priorityLevel;var ot=De(C.expirationTime<=Oe);if(Oe=e.unstable_now(),typeof ot=="function"){C.callback=ot,ae(Oe),Ne=!0;break t}C===r(y)&&n(y),ae(Oe)}else n(y);C=r(y)}if(C!==null)Ne=!0;else{var be=r(b);be!==null&&nt(Ae,be.startTime-Oe),Ne=!1}}break e}finally{C=null,F=Ve,T=!1}Ne=void 0}}finally{Ne?de():pe=!1}}}var de;if(typeof W=="function")de=function(){W(se)};else if(typeof MessageChannel<"u"){var Le=new MessageChannel,Ue=Le.port2;Le.port1.onmessage=se,de=function(){Ue.postMessage(null)}}else de=function(){K(se,0)};function nt(Oe,Ne){Be=K(function(){Oe(e.unstable_now())},Ne)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Oe){Oe.callback=null},e.unstable_forceFrameRate=function(Oe){0>Oe||125<Oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Fe=0<Oe?Math.floor(1e3/Oe):5},e.unstable_getCurrentPriorityLevel=function(){return F},e.unstable_next=function(Oe){switch(F){case 1:case 2:case 3:var Ne=3;break;default:Ne=F}var Ve=F;F=Ne;try{return Oe()}finally{F=Ve}},e.unstable_requestPaint=function(){H=!0},e.unstable_runWithPriority=function(Oe,Ne){switch(Oe){case 1:case 2:case 3:case 4:case 5:break;default:Oe=3}var Ve=F;F=Oe;try{return Ne()}finally{F=Ve}},e.unstable_scheduleCallback=function(Oe,Ne,Ve){var De=e.unstable_now();switch(typeof Ve=="object"&&Ve!==null?(Ve=Ve.delay,Ve=typeof Ve=="number"&&0<Ve?De+Ve:De):Ve=De,Oe){case 1:var ot=-1;break;case 2:ot=250;break;case 5:ot=1073741823;break;case 4:ot=1e4;break;default:ot=5e3}return ot=Ve+ot,Oe={id:w++,callback:Ne,priorityLevel:Oe,startTime:Ve,expirationTime:ot,sortIndex:-1},Ve>De?(Oe.sortIndex=Ve,t(b,Oe),r(y)===null&&Oe===r(b)&&(k?(Y(Be),Be=-1):k=!0,nt(Ae,Ve-De))):(Oe.sortIndex=ot,t(y,Oe),j||T||(j=!0,pe||(pe=!0,de()))),Oe},e.unstable_shouldYield=He,e.unstable_wrapCallback=function(Oe){var Ne=F;return function(){var Ve=F;F=Ne;try{return Oe.apply(this,arguments)}finally{F=Ve}}}})(Sw)),Sw}var GS;function AN(){return GS||(GS=1,Cw.exports=lN()),Cw.exports}var Ew={exports:{}},Pl={};var $S;function uN(){if($S)return Pl;$S=1;var e=ng();function t(y){var b="https://react.dev/errors/"+y;if(1<arguments.length){b+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)b+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+y+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},s=Symbol.for("react.portal");function A(y,b,w){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:C==null?null:""+C,children:y,containerInfo:b,implementation:w}}var f=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(y,b){if(y==="font")return"";if(typeof b=="string")return b==="use-credentials"?b:""}return Pl.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Pl.createPortal=function(y,b){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11)throw Error(t(299));return A(y,b,null,w)},Pl.flushSync=function(y){var b=f.T,w=n.p;try{if(f.T=null,n.p=2,y)return y()}finally{f.T=b,n.p=w,n.d.f()}},Pl.preconnect=function(y,b){typeof y=="string"&&(b?(b=b.crossOrigin,b=typeof b=="string"?b==="use-credentials"?b:"":void 0):b=null,n.d.C(y,b))},Pl.prefetchDNS=function(y){typeof y=="string"&&n.d.D(y)},Pl.preinit=function(y,b){if(typeof y=="string"&&b&&typeof b.as=="string"){var w=b.as,C=l(w,b.crossOrigin),F=typeof b.integrity=="string"?b.integrity:void 0,T=typeof b.fetchPriority=="string"?b.fetchPriority:void 0;w==="style"?n.d.S(y,typeof b.precedence=="string"?b.precedence:void 0,{crossOrigin:C,integrity:F,fetchPriority:T}):w==="script"&&n.d.X(y,{crossOrigin:C,integrity:F,fetchPriority:T,nonce:typeof b.nonce=="string"?b.nonce:void 0})}},Pl.preinitModule=function(y,b){if(typeof y=="string")if(typeof b=="object"&&b!==null){if(b.as==null||b.as==="script"){var w=l(b.as,b.crossOrigin);n.d.M(y,{crossOrigin:w,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0})}}else b==null&&n.d.M(y)},Pl.preload=function(y,b){if(typeof y=="string"&&typeof b=="object"&&b!==null&&typeof b.as=="string"){var w=b.as,C=l(w,b.crossOrigin);n.d.L(y,w,{crossOrigin:C,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0,type:typeof b.type=="string"?b.type:void 0,fetchPriority:typeof b.fetchPriority=="string"?b.fetchPriority:void 0,referrerPolicy:typeof b.referrerPolicy=="string"?b.referrerPolicy:void 0,imageSrcSet:typeof b.imageSrcSet=="string"?b.imageSrcSet:void 0,imageSizes:typeof b.imageSizes=="string"?b.imageSizes:void 0,media:typeof b.media=="string"?b.media:void 0})}},Pl.preloadModule=function(y,b){if(typeof y=="string")if(b){var w=l(b.as,b.crossOrigin);n.d.m(y,{as:typeof b.as=="string"&&b.as!=="script"?b.as:void 0,crossOrigin:w,integrity:typeof b.integrity=="string"?b.integrity:void 0})}else n.d.m(y)},Pl.requestFormReset=function(y){n.d.r(y)},Pl.unstable_batchedUpdates=function(y,b){return y(b)},Pl.useFormState=function(y,b,w){return f.H.useFormState(y,b,w)},Pl.useFormStatus=function(){return f.H.useHostTransitionStatus()},Pl.version="19.2.0",Pl}var XS;function zL(){if(XS)return Ew.exports;XS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Ew.exports=uN(),Ew.exports}var ZS;function cN(){if(ZS)return h0;ZS=1;var e=AN(),t=ng(),r=zL();function n(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)c+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function A(o){var c=o,m=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(m=c.return),o=c.return;while(o)}return c.tag===3?m:null}function f(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function l(o){if(o.tag===31){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function y(o){if(A(o)!==o)throw Error(n(188))}function b(o){var c=o.alternate;if(!c){if(c=A(o),c===null)throw Error(n(188));return c!==o?null:o}for(var m=o,S=c;;){var P=m.return;if(P===null)break;var z=P.alternate;if(z===null){if(S=P.return,S!==null){m=S;continue}break}if(P.child===z.child){for(z=P.child;z;){if(z===m)return y(P),o;if(z===S)return y(P),c;z=z.sibling}throw Error(n(188))}if(m.return!==S.return)m=P,S=z;else{for(var ie=!1,Ee=P.child;Ee;){if(Ee===m){ie=!0,m=P,S=z;break}if(Ee===S){ie=!0,S=P,m=z;break}Ee=Ee.sibling}if(!ie){for(Ee=z.child;Ee;){if(Ee===m){ie=!0,m=z,S=P;break}if(Ee===S){ie=!0,S=z,m=P;break}Ee=Ee.sibling}if(!ie)throw Error(n(189))}}if(m.alternate!==S)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?o:c}function w(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=w(o),c!==null)return c;o=o.sibling}return null}var C=Object.assign,F=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),Y=Symbol.for("react.consumer"),W=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),Ae=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),Be=Symbol.for("react.memo"),Fe=Symbol.for("react.lazy"),me=Symbol.for("react.activity"),He=Symbol.for("react.memo_cache_sentinel"),se=Symbol.iterator;function de(o){return o===null||typeof o!="object"?null:(o=se&&o[se]||o["@@iterator"],typeof o=="function"?o:null)}var Le=Symbol.for("react.client.reference");function Ue(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===Le?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case k:return"Fragment";case K:return"Profiler";case H:return"StrictMode";case Ae:return"Suspense";case pe:return"SuspenseList";case me:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case j:return"Portal";case W:return o.displayName||"Context";case Y:return(o._context.displayName||"Context")+".Consumer";case ae:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Be:return c=o.displayName||null,c!==null?c:Ue(o.type)||"Memo";case Fe:c=o._payload,o=o._init;try{return Ue(o(c))}catch{}}return null}var nt=Array.isArray,Oe=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ne=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ve={pending:!1,data:null,method:null,action:null},De=[],ot=-1;function be(o){return{current:o}}function re(o){0>ot||(o.current=De[ot],De[ot]=null,ot--)}function ye(o,c){ot++,De[ot]=o.current,o.current=c}var Ie=be(null),ke=be(null),$e=be(null),Je=be(null);function mt(o,c){switch(ye($e,c),ye(ke,o),ye(Ie,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?E(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=E(c),o=I(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}re(Ie),ye(Ie,o)}function Ke(){re(Ie),re(ke),re($e)}function pt(o){o.memoizedState!==null&&ye(Je,o);var c=Ie.current,m=I(c,o.type);c!==m&&(ye(ke,o),ye(Ie,m))}function Ct(o){ke.current===o&&(re(Ie),re(ke)),Je.current===o&&(re(Je),ed._currentValue=Ve)}var ct,qt;function Xt(o){if(ct===void 0)try{throw Error()}catch(m){var c=m.stack.trim().match(/\n( *(at )?)/);ct=c&&c[1]||"",qt=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ct+o+qt}var Pe=!1;function Ye(o,c){if(!o||Pe)return"";Pe=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var S={DetermineComponentFrameRoot:function(){try{if(c){var jt=function(){throw Error()};if(Object.defineProperty(jt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(jt,[])}catch(Ft){var xt=Ft}Reflect.construct(o,[],jt)}else{try{jt.call()}catch(Ft){xt=Ft}o.call(jt.prototype)}}else{try{throw Error()}catch(Ft){xt=Ft}(jt=o())&&typeof jt.catch=="function"&&jt.catch(function(){})}}catch(Ft){if(Ft&&xt&&typeof Ft.stack=="string")return[Ft.stack,xt.stack]}return[null,null]}};S.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var P=Object.getOwnPropertyDescriptor(S.DetermineComponentFrameRoot,"name");P&&P.configurable&&Object.defineProperty(S.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var z=S.DetermineComponentFrameRoot(),ie=z[0],Ee=z[1];if(ie&&Ee){var tt=ie.split(`
`),bt=Ee.split(`
`);for(P=S=0;S<tt.length&&!tt[S].includes("DetermineComponentFrameRoot");)S++;for(;P<bt.length&&!bt[P].includes("DetermineComponentFrameRoot");)P++;if(S===tt.length||P===bt.length)for(S=tt.length-1,P=bt.length-1;1<=S&&0<=P&&tt[S]!==bt[P];)P--;for(;1<=S&&0<=P;S--,P--)if(tt[S]!==bt[P]){if(S!==1||P!==1)do if(S--,P--,0>P||tt[S]!==bt[P]){var Dt=`
`+tt[S].replace(" at new "," at ");return o.displayName&&Dt.includes("<anonymous>")&&(Dt=Dt.replace("<anonymous>",o.displayName)),Dt}while(1<=S&&0<=P);break}}}finally{Pe=!1,Error.prepareStackTrace=m}return(m=o?o.displayName||o.name:"")?Xt(m):""}function Rr(o,c){switch(o.tag){case 26:case 27:case 5:return Xt(o.type);case 16:return Xt("Lazy");case 13:return o.child!==c&&c!==null?Xt("Suspense Fallback"):Xt("Suspense");case 19:return Xt("SuspenseList");case 0:case 15:return Ye(o.type,!1);case 11:return Ye(o.type.render,!1);case 1:return Ye(o.type,!0);case 31:return Xt("Activity");default:return""}}function Er(o){try{var c="",m=null;do c+=Rr(o,m),m=o,o=o.return;while(o);return c}catch(S){return`
Error generating stack: `+S.message+`
`+S.stack}}var It=Object.prototype.hasOwnProperty,nr=e.unstable_scheduleCallback,ur=e.unstable_cancelCallback,Tr=e.unstable_shouldYield,Br=e.unstable_requestPaint,rn=e.unstable_now,nn=e.unstable_getCurrentPriorityLevel,Jr=e.unstable_ImmediatePriority,yn=e.unstable_UserBlockingPriority,Lt=e.unstable_NormalPriority,cr=e.unstable_LowPriority,Pr=e.unstable_IdlePriority,fr=e.log,ri=e.unstable_setDisableYieldValue,Pt=null,Zt=null;function Gt(o){if(typeof fr=="function"&&ri(o),Zt&&typeof Zt.setStrictMode=="function")try{Zt.setStrictMode(Pt,o)}catch{}}var Zr=Math.clz32?Math.clz32:Lr,_r=Math.log,sr=Math.LN2;function Lr(o){return o>>>=0,o===0?32:31-(_r(o)/sr|0)|0}var zr=256,kn=262144,Xr=4194304;function Me(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function le(o,c,m){var S=o.pendingLanes;if(S===0)return 0;var P=0,z=o.suspendedLanes,ie=o.pingedLanes;o=o.warmLanes;var Ee=S&134217727;return Ee!==0?(S=Ee&~z,S!==0?P=Me(S):(ie&=Ee,ie!==0?P=Me(ie):m||(m=Ee&~o,m!==0&&(P=Me(m))))):(Ee=S&~z,Ee!==0?P=Me(Ee):ie!==0?P=Me(ie):m||(m=S&~o,m!==0&&(P=Me(m)))),P===0?0:c!==0&&c!==P&&(c&z)===0&&(z=P&-P,m=c&-c,z>=m||z===32&&(m&4194048)!==0)?c:P}function ue(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function we(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Re(){var o=Xr;return Xr<<=1,(Xr&62914560)===0&&(Xr=4194304),o}function et(o){for(var c=[],m=0;31>m;m++)c.push(o);return c}function qe(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function lt(o,c,m,S,P,z){var ie=o.pendingLanes;o.pendingLanes=m,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=m,o.entangledLanes&=m,o.errorRecoveryDisabledLanes&=m,o.shellSuspendCounter=0;var Ee=o.entanglements,tt=o.expirationTimes,bt=o.hiddenUpdates;for(m=ie&~m;0<m;){var Dt=31-Zr(m),jt=1<<Dt;Ee[Dt]=0,tt[Dt]=-1;var xt=bt[Dt];if(xt!==null)for(bt[Dt]=null,Dt=0;Dt<xt.length;Dt++){var Ft=xt[Dt];Ft!==null&&(Ft.lane&=-536870913)}m&=~jt}S!==0&&We(o,S,0),z!==0&&P===0&&o.tag!==0&&(o.suspendedLanes|=z&~(ie&~c))}function We(o,c,m){o.pendingLanes|=c,o.suspendedLanes&=~c;var S=31-Zr(c);o.entangledLanes|=c,o.entanglements[S]=o.entanglements[S]|1073741824|m&261930}function yt(o,c){var m=o.entangledLanes|=c;for(o=o.entanglements;m;){var S=31-Zr(m),P=1<<S;P&c|o[S]&c&&(o[S]|=c),m&=~P}}function Mt(o,c){var m=c&-c;return m=(m&42)!==0?1:ft(m),(m&(o.suspendedLanes|c))!==0?0:m}function ft(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Qt(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Jt(){var o=Ne.p;return o!==0?o:(o=window.event,o===void 0?32:js(o.type))}function dr(o,c){var m=Ne.p;try{return Ne.p=o,c()}finally{Ne.p=m}}var Wr=Math.random().toString(36).slice(2),or="__reactFiber$"+Wr,Or="__reactProps$"+Wr,jr="__reactContainer$"+Wr,Kn="__reactEvents$"+Wr,Nn="__reactListeners$"+Wr,en="__reactHandles$"+Wr,vn="__reactResources$"+Wr,Pn="__reactMarker$"+Wr;function gi(o){delete o[or],delete o[Or],delete o[Kn],delete o[Nn],delete o[en]}function ai(o){var c=o[or];if(c)return c;for(var m=o.parentNode;m;){if(c=m[jr]||m[or]){if(m=c.alternate,c.child!==null||m!==null&&m.child!==null)for(o=Ar(o);o!==null;){if(m=o[or])return m;o=Ar(o)}return c}o=m,m=o.parentNode}return null}function yi(o){if(o=o[or]||o[jr]){var c=o.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return o}return null}function _o(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(n(33))}function wn(o){var c=o[vn];return c||(c=o[vn]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Ui(o){o[Pn]=!0}var eu=new Set,vi={};function Mi(o,c){Vl(o,c),Vl(o+"Capture",c)}function Vl(o,c){for(vi[o]=c,o=0;o<c.length;o++)eu.add(c[o])}var Za=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qa={},ll={};function Al(o){return It.call(ll,o)?!0:It.call(Qa,o)?!1:Za.test(o)?ll[o]=!0:(Qa[o]=!0,!1)}function Vn(o,c,m){if(Al(c))if(m===null)o.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var S=c.toLowerCase().slice(0,5);if(S!=="data-"&&S!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+m)}}function Gs(o,c,m){if(m===null)o.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+m)}}function Wi(o,c,m,S){if(S===null)o.removeAttribute(m);else{switch(typeof S){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(m);return}o.setAttributeNS(c,m,""+S)}}function $r(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function vA(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Aa(o,c,m){var S=Object.getOwnPropertyDescriptor(o.constructor.prototype,c);if(!o.hasOwnProperty(c)&&typeof S<"u"&&typeof S.get=="function"&&typeof S.set=="function"){var P=S.get,z=S.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return P.call(this)},set:function(ie){m=""+ie,z.call(this,ie)}}),Object.defineProperty(o,c,{enumerable:S.enumerable}),{getValue:function(){return m},setValue:function(ie){m=""+ie},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function ul(o){if(!o._valueTracker){var c=vA(o)?"checked":"value";o._valueTracker=Aa(o,c,""+o[c])}}function As(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var m=c.getValue(),S="";return o&&(S=vA(o)?o.checked?"true":"false":o.value),o=S,o!==m?(c.setValue(o),!0):!1}function us(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var ji=/[\n"\\]/g;function ui(o){return o.replace(ji,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function $s(o,c,m,S,P,z,ie,Ee){o.name="",ie!=null&&typeof ie!="function"&&typeof ie!="symbol"&&typeof ie!="boolean"?o.type=ie:o.removeAttribute("type"),c!=null?ie==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+$r(c)):o.value!==""+$r(c)&&(o.value=""+$r(c)):ie!=="submit"&&ie!=="reset"||o.removeAttribute("value"),c!=null?tu(o,ie,$r(c)):m!=null?tu(o,ie,$r(m)):S!=null&&o.removeAttribute("value"),P==null&&z!=null&&(o.defaultChecked=!!z),P!=null&&(o.checked=P&&typeof P!="function"&&typeof P!="symbol"),Ee!=null&&typeof Ee!="function"&&typeof Ee!="symbol"&&typeof Ee!="boolean"?o.name=""+$r(Ee):o.removeAttribute("name")}function Ln(o,c,m,S,P,z,ie,Ee){if(z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"&&(o.type=z),c!=null||m!=null){if(!(z!=="submit"&&z!=="reset"||c!=null)){ul(o);return}m=m!=null?""+$r(m):"",c=c!=null?""+$r(c):m,Ee||c===o.value||(o.value=c),o.defaultValue=c}S=S??P,S=typeof S!="function"&&typeof S!="symbol"&&!!S,o.checked=Ee?o.checked:!!S,o.defaultChecked=!!S,ie!=null&&typeof ie!="function"&&typeof ie!="symbol"&&typeof ie!="boolean"&&(o.name=ie),ul(o)}function tu(o,c,m){c==="number"&&us(o.ownerDocument)===o||o.defaultValue===""+m||(o.defaultValue=""+m)}function Ra(o,c,m,S){if(o=o.options,c){c={};for(var P=0;P<m.length;P++)c["$"+m[P]]=!0;for(m=0;m<o.length;m++)P=c.hasOwnProperty("$"+o[m].value),o[m].selected!==P&&(o[m].selected=P),P&&S&&(o[m].defaultSelected=!0)}else{for(m=""+$r(m),c=null,P=0;P<o.length;P++){if(o[P].value===m){o[P].selected=!0,S&&(o[P].defaultSelected=!0);return}c!==null||o[P].disabled||(c=o[P])}c!==null&&(c.selected=!0)}}function cl(o,c,m){if(c!=null&&(c=""+$r(c),c!==o.value&&(o.value=c),m==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=m!=null?""+$r(m):""}function ru(o,c,m,S){if(c==null){if(S!=null){if(m!=null)throw Error(n(92));if(nt(S)){if(1<S.length)throw Error(n(93));S=S[0]}m=S}m==null&&(m=""),c=m}m=$r(c),o.defaultValue=m,S=o.textContent,S===m&&S!==""&&S!==null&&(o.value=S),ul(o)}function Fs(o,c){if(c){var m=o.firstChild;if(m&&m===o.lastChild&&m.nodeType===3){m.nodeValue=c;return}}o.textContent=c}var Ro=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nu(o,c,m){var S=c.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?S?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":S?o.setProperty(c,m):typeof m!="number"||m===0||Ro.has(c)?c==="float"?o.cssFloat=m:o[c]=(""+m).trim():o[c]=m+"px"}function ql(o,c,m){if(c!=null&&typeof c!="object")throw Error(n(62));if(o=o.style,m!=null){for(var S in m)!m.hasOwnProperty(S)||c!=null&&c.hasOwnProperty(S)||(S.indexOf("--")===0?o.setProperty(S,""):S==="float"?o.cssFloat="":o[S]="");for(var P in c)S=c[P],c.hasOwnProperty(P)&&m[P]!==S&&nu(o,P,S)}else for(var z in c)c.hasOwnProperty(z)&&nu(o,z,c[z])}function Fu(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ls(o){return fc.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function za(){}var Xs=null;function ua(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Yi=null,Vr=null;function iu(o){var c=yi(o);if(c&&(o=c.stateNode)){var m=o[Or]||null;e:switch(o=c.stateNode,c.type){case"input":if($s(o,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),c=m.name,m.type==="radio"&&c!=null){for(m=o;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+ui(""+c)+'"][type="radio"]'),c=0;c<m.length;c++){var S=m[c];if(S!==o&&S.form===o.form){var P=S[Or]||null;if(!P)throw Error(n(90));$s(S,P.value,P.defaultValue,P.defaultValue,P.checked,P.defaultChecked,P.type,P.name)}}for(c=0;c<m.length;c++)S=m[c],S.form===o.form&&As(S)}break e;case"textarea":cl(o,m.value,m.defaultValue);break e;case"select":c=m.value,c!=null&&Ra(o,!!m.multiple,c,!1)}}}var _A=!1;function dc(o,c,m){if(_A)return o(c,m);_A=!0;try{var S=o(c);return S}finally{if(_A=!1,(Yi!==null||Vr!==null)&&(Wd(),Yi&&(c=Yi,o=Vr,Vr=Yi=null,iu(c),o)))for(c=0;c<o.length;c++)iu(o[c])}}function Ea(o,c){var m=o.stateNode;if(m===null)return null;var S=m[Or]||null;if(S===null)return null;m=S[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(S=!S.disabled)||(o=o.type,S=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!S;break e;default:o=!1}if(o)return null;if(m&&typeof m!="function")throw Error(n(231,c,typeof m));return m}var ja=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lu=!1;if(ja)try{var bA={};Object.defineProperty(bA,"passive",{get:function(){Lu=!0}}),window.addEventListener("test",bA,bA),window.removeEventListener("test",bA,bA)}catch{Lu=!1}var Zs=null,au=null,zo=null;function wA(){if(zo)return zo;var o,c=au,m=c.length,S,P="value"in Zs?Zs.value:Zs.textContent,z=P.length;for(o=0;o<m&&c[o]===P[o];o++);var ie=m-o;for(S=1;S<=ie&&c[m-S]===P[z-S];S++);return zo=P.slice(o,1<S?1-S:void 0)}function Us(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function Gl(){return!0}function xA(){return!1}function ca(o){function c(m,S,P,z,ie){this._reactName=m,this._targetInst=P,this.type=S,this.nativeEvent=z,this.target=ie,this.currentTarget=null;for(var Ee in o)o.hasOwnProperty(Ee)&&(m=o[Ee],this[Ee]=m?m(z):z[Ee]);return this.isDefaultPrevented=(z.defaultPrevented!=null?z.defaultPrevented:z.returnValue===!1)?Gl:xA,this.isPropagationStopped=xA,this}return C(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Gl)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Gl)},persist:function(){},isPersistent:Gl}),c}var ga={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bo=ca(ga),jo=C({},ga,{view:0,detail:0}),wo=ca(jo),Ms,_n,xo,su=C({},jo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tn,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==xo&&(xo&&o.type==="mousemove"?(Ms=o.screenX-xo.screenX,_n=o.screenY-xo.screenY):_n=Ms=0,xo=o),Ms)},movementY:function(o){return"movementY"in o?o.movementY:_n}}),hl=ca(su),$l=C({},su,{dataTransfer:0}),fl=ca($l),qc=C({},jo,{relatedTarget:0}),dl=ca(qc),Uu=C({},ga,{animationName:0,elapsedTime:0,pseudoElement:0}),V=ca(Uu),fe=C({},ga,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),ze=ca(fe),rt=C({},ga,{data:0}),ut=ca(rt),Ot={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ht={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function br(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=yr[o])?!!c[o]:!1}function tn(){return br}var An=C({},jo,{key:function(o){if(o.key){var c=Ot[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=Us(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Ht[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tn,charCode:function(o){return o.type==="keypress"?Us(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Us(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),zn=ca(An),Pi=C({},su,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hi=ca(Pi),si=C({},jo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tn}),ha=ca(si),Ki=C({},ga,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ta=ca(Ki),Bo=C({},su,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),ya=ca(Bo),Ho=C({},ga,{newState:0,oldState:0}),ou=ca(Ho),BA=[9,13,27,32],Ws=ja&&"CompositionEvent"in window,Ys=null;ja&&"documentMode"in document&&(Ys=document.documentMode);var Js=ja&&"TextEvent"in window&&!Ys,Ko=ja&&(!Ws||Ys&&8<Ys&&11>=Ys),Ia=" ",ei=!1;function CA(o,c){switch(o){case"keyup":return BA.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ln(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var eo=!1;function mn(o,c){switch(o){case"compositionend":return ln(c);case"keypress":return c.which!==32?null:(ei=!0,Ia);case"textInput":return o=c.data,o===Ia&&ei?null:o;default:return null}}function Tn(o,c){if(eo)return o==="compositionend"||!Ws&&CA(o,c)?(o=wA(),zo=au=Zs=null,eo=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Ko&&c.locale!=="ko"?null:c.data;default:return null}}var Co={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xl(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!Co[o.type]:c==="textarea"}function Ha(o,c,m,S){Yi?Vr?Vr.push(S):Vr=[S]:Yi=S,c=ip(c,"onChange"),0<c.length&&(m=new bo("onChange","change",null,m,S),o.push({event:m,listeners:c}))}var to=null,cs=null;function pl(o){Am(o,0)}function Vi(o){var c=_o(o);if(As(c))return o}function ml(o,c){if(o==="change")return c}var Wa=!1;if(ja){var Ka;if(ja){var Ya="oninput"in document;if(!Ya){var Ps=document.createElement("div");Ps.setAttribute("oninput","return;"),Ya=typeof Ps.oninput=="function"}Ka=Ya}else Ka=!1;Wa=Ka&&(!document.documentMode||9<document.documentMode)}function ro(){to&&(to.detachEvent("onpropertychange",Vo),cs=to=null)}function Vo(o){if(o.propertyName==="value"&&Vi(cs)){var c=[];Ha(c,cs,o,ua(o)),dc(pl,c)}}function gl(o,c,m){o==="focusin"?(ro(),to=c,cs=m,to.attachEvent("onpropertychange",Vo)):o==="focusout"&&ro()}function Si(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Vi(cs)}function Zl(o,c){if(o==="click")return Vi(c)}function hs(o,c){if(o==="input"||o==="change")return Vi(c)}function qo(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var va=typeof Object.is=="function"?Object.is:qo;function dn(o,c){if(va(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var m=Object.keys(o),S=Object.keys(c);if(m.length!==S.length)return!1;for(S=0;S<m.length;S++){var P=m[S];if(!It.call(c,P)||!va(o[P],c[P]))return!1}return!0}function Wl(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Mu(o,c){var m=Wl(o);o=0;for(var S;m;){if(m.nodeType===3){if(S=o+m.textContent.length,o<=c&&S>=c)return{node:m,offset:c-o};o=S}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=Wl(m)}}function yl(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?yl(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function Os(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=us(o.document);c instanceof o.HTMLIFrameElement;){try{var m=typeof c.contentWindow.location.href=="string"}catch{m=!1}if(m)o=c.contentWindow;else break;c=us(o.document)}return c}function Go(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var vl=ja&&"documentMode"in document&&11>=document.documentMode,Ds=null,_l=null,_a=null,fs=!1;function Un(o,c,m){var S=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;fs||Ds==null||Ds!==us(S)||(S=Ds,"selectionStart"in S&&Go(S)?S={start:S.selectionStart,end:S.selectionEnd}:(S=(S.ownerDocument&&S.ownerDocument.defaultView||window).getSelection(),S={anchorNode:S.anchorNode,anchorOffset:S.anchorOffset,focusNode:S.focusNode,focusOffset:S.focusOffset}),_a&&dn(_a,S)||(_a=S,S=ip(_l,"onSelect"),0<S.length&&(c=new bo("onSelect","select",null,c,m),o.push({event:c,listeners:S}),c.target=Ds)))}function Bn(o,c){var m={};return m[o.toLowerCase()]=c.toLowerCase(),m["Webkit"+o]="webkit"+c,m["Moz"+o]="moz"+c,m}var Xn={animationend:Bn("Animation","AnimationEnd"),animationiteration:Bn("Animation","AnimationIteration"),animationstart:Bn("Animation","AnimationStart"),transitionrun:Bn("Transition","TransitionRun"),transitionstart:Bn("Transition","TransitionStart"),transitioncancel:Bn("Transition","TransitionCancel"),transitionend:Bn("Transition","TransitionEnd")},Oi={},ds={};ja&&(ds=document.createElement("div").style,"AnimationEvent"in window||(delete Xn.animationend.animation,delete Xn.animationiteration.animation,delete Xn.animationstart.animation),"TransitionEvent"in window||delete Xn.transitionend.transition);function ps(o){if(Oi[o])return Oi[o];if(!Xn[o])return o;var c=Xn[o],m;for(m in c)if(c.hasOwnProperty(m)&&m in ds)return Oi[o]=c[m];return o}var bl=ps("animationend"),SA=ps("animationiteration"),pc=ps("animationstart"),bf=ps("transitionrun"),Fh=ps("transitionstart"),mc=ps("transitioncancel"),gc=ps("transitionend"),lu=new Map,$o="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$o.push("scrollEnd");function oi(o,c){lu.set(o,c),Mi(c,[o])}var Xo=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},ks=[],EA=0,_i=0;function ms(){for(var o=EA,c=_i=EA=0;c<o;){var m=ks[c];ks[c++]=null;var S=ks[c];ks[c++]=null;var P=ks[c];ks[c++]=null;var z=ks[c];if(ks[c++]=null,S!==null&&P!==null){var ie=S.pending;ie===null?P.next=P:(P.next=ie.next,ie.next=P),S.pending=P}z!==0&&IA(m,P,z)}}function Va(o,c,m,S){ks[EA++]=o,ks[EA++]=c,ks[EA++]=m,ks[EA++]=S,_i|=S,o.lanes|=S,o=o.alternate,o!==null&&(o.lanes|=S)}function TA(o,c,m,S){return Va(o,c,m,S),Ji(o)}function Zo(o,c){return Va(o,null,null,c),Ji(o)}function IA(o,c,m){o.lanes|=m;var S=o.alternate;S!==null&&(S.lanes|=m);for(var P=!1,z=o.return;z!==null;)z.childLanes|=m,S=z.alternate,S!==null&&(S.childLanes|=m),z.tag===22&&(o=z.stateNode,o===null||o._visibility&1||(P=!0)),o=z,z=z.return;return o.tag===3?(z=o.stateNode,P&&c!==null&&(P=31-Zr(m),o=z.hiddenUpdates,S=o[P],S===null?o[P]=[c]:S.push(c),c.lane=m|536870912),z):null}function Ji(o){if(50<Ah)throw Ah=0,Zd=null,Error(n(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var bi={};function Pu(o,c,m,S){this.tag=o,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ba(o,c,m,S){return new Pu(o,c,m,S)}function Ou(o){return o=o.prototype,!(!o||!o.isReactComponent)}function gs(o,c){var m=o.alternate;return m===null?(m=ba(o.tag,c,o.key,o.mode),m.elementType=o.elementType,m.type=o.type,m.stateNode=o.stateNode,m.alternate=o,o.alternate=m):(m.pendingProps=c,m.type=o.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=o.flags&65011712,m.childLanes=o.childLanes,m.lanes=o.lanes,m.child=o.child,m.memoizedProps=o.memoizedProps,m.memoizedState=o.memoizedState,m.updateQueue=o.updateQueue,c=o.dependencies,m.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},m.sibling=o.sibling,m.index=o.index,m.ref=o.ref,m.refCleanup=o.refCleanup,m}function Au(o,c){o.flags&=65011714;var m=o.alternate;return m===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=m.childLanes,o.lanes=m.lanes,o.child=m.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=m.memoizedProps,o.memoizedState=m.memoizedState,o.updateQueue=m.updateQueue,o.type=m.type,c=m.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function FA(o,c,m,S,P,z){var ie=0;if(S=o,typeof o=="function")Ou(o)&&(ie=1);else if(typeof o=="string")ie=cA(o,m,Ie.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case me:return o=ba(31,m,c,P),o.elementType=me,o.lanes=z,o;case k:return Ns(m.children,P,z,c);case H:ie=8,P|=24;break;case K:return o=ba(12,m,c,P|2),o.elementType=K,o.lanes=z,o;case Ae:return o=ba(13,m,c,P),o.elementType=Ae,o.lanes=z,o;case pe:return o=ba(19,m,c,P),o.elementType=pe,o.lanes=z,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case W:ie=10;break e;case Y:ie=9;break e;case ae:ie=11;break e;case Be:ie=14;break e;case Fe:ie=16,S=null;break e}ie=29,m=Error(n(130,o===null?"null":typeof o,"")),S=null}return c=ba(ie,m,c,P),c.elementType=o,c.type=S,c.lanes=z,c}function Ns(o,c,m,S){return o=ba(7,o,S,c),o.lanes=m,o}function LA(o,c,m){return o=ba(6,o,null,c),o.lanes=m,o}function UA(o){var c=ba(18,null,null,0);return c.stateNode=o,c}function MA(o,c,m){return c=ba(4,o.children!==null?o.children:[],o.key,c),c.lanes=m,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var Du=new WeakMap;function Qs(o,c){if(typeof o=="object"&&o!==null){var m=Du.get(o);return m!==void 0?m:(c={value:o,source:c,stack:Er(c)},Du.set(o,c),c)}return{value:o,source:c,stack:Er(c)}}var PA=[],wl=0,OA=null,ku=0,Di=[],ea=0,xl=null,qi=1,Fa="";function no(o,c){PA[wl++]=ku,PA[wl++]=OA,OA=o,ku=c}function wf(o,c,m){Di[ea++]=qi,Di[ea++]=Fa,Di[ea++]=xl,xl=o;var S=qi;o=Fa;var P=32-Zr(S)-1;S&=~(1<<P),m+=1;var z=32-Zr(c)+P;if(30<z){var ie=P-P%5;z=(S&(1<<ie)-1).toString(32),S>>=ie,P-=ie,qi=1<<32-Zr(c)+P|m<<P|S,Fa=z+o}else qi=1<<z|m<<P|S,Fa=o}function Gc(o){o.return!==null&&(no(o,1),wf(o,1,0))}function yc(o){for(;o===OA;)OA=PA[--wl],PA[wl]=null,ku=PA[--wl],PA[wl]=null;for(;o===xl;)xl=Di[--ea],Di[ea]=null,Fa=Di[--ea],Di[ea]=null,qi=Di[--ea],Di[ea]=null}function $c(o,c){Di[ea++]=qi,Di[ea++]=Fa,Di[ea++]=xl,qi=c.id,Fa=c.overflow,xl=o}var Gi=null,Mn=null,Rt=!1,La=null,Ei=!1,So=Error(n(519));function io(o){var c=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw kA(Qs(c,o)),So}function DA(o){var c=o.stateNode,m=o.type,S=o.memoizedProps;switch(c[or]=o,c[Or]=S,m){case"dialog":Hn("cancel",c),Hn("close",c);break;case"iframe":case"object":case"embed":Hn("load",c);break;case"video":case"audio":for(m=0;m<Zf.length;m++)Hn(Zf[m],c);break;case"source":Hn("error",c);break;case"img":case"image":case"link":Hn("error",c),Hn("load",c);break;case"details":Hn("toggle",c);break;case"input":Hn("invalid",c),Ln(c,S.value,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name,!0);break;case"select":Hn("invalid",c);break;case"textarea":Hn("invalid",c),ru(c,S.value,S.defaultValue,S.children)}m=S.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||c.textContent===""+m||S.suppressHydrationWarning===!0||Wf(c.textContent,m)?(S.popover!=null&&(Hn("beforetoggle",c),Hn("toggle",c)),S.onScroll!=null&&Hn("scroll",c),S.onScrollEnd!=null&&Hn("scrollend",c),S.onClick!=null&&(c.onclick=za),c=!0):c=!1,c||io(o,!0)}function Wo(o){for(Gi=o.return;Gi;)switch(Gi.tag){case 5:case 31:case 13:Ei=!1;return;case 27:case 3:Ei=!0;return;default:Gi=Gi.return}}function Hr(o){if(o!==Gi)return!1;if(!Rt)return Wo(o),Rt=!0,!1;var c=o.tag,m;if((m=c!==3&&c!==27)&&((m=c===5)&&(m=o.type,m=!(m!=="form"&&m!=="button")||O(o.type,o.memoizedProps)),m=!m),m&&Mn&&io(o),Wo(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));Mn=pr(o)}else if(c===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));Mn=pr(o)}else c===27?(c=Mn,Ce(o.type)?(o=Yt,Yt=null,Mn=o):Mn=c):Mn=Gi?Wt(o.stateNode.nextSibling):null;return!0}function Yl(){Mn=Gi=null,Rt=!1}function Lh(){var o=La;return o!==null&&(el===null?el=o:el.push.apply(el,o),La=null),o}function kA(o){La===null?La=[o]:La.push(o)}var Xc=be(null),ao=null,Yo=null;function Bl(o,c,m){ye(Xc,c._currentValue),c._currentValue=m}function so(o){o._currentValue=Xc.current,re(Xc)}function Nu(o,c,m){for(;o!==null;){var S=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,S!==null&&(S.childLanes|=c)):S!==null&&(S.childLanes&c)!==c&&(S.childLanes|=c),o===m)break;o=o.return}}function Jl(o,c,m,S){var P=o.child;for(P!==null&&(P.return=o);P!==null;){var z=P.dependencies;if(z!==null){var ie=P.child;z=z.firstContext;e:for(;z!==null;){var Ee=z;z=P;for(var tt=0;tt<c.length;tt++)if(Ee.context===c[tt]){z.lanes|=m,Ee=z.alternate,Ee!==null&&(Ee.lanes|=m),Nu(z.return,m,o),S||(ie=null);break e}z=Ee.next}}else if(P.tag===18){if(ie=P.return,ie===null)throw Error(n(341));ie.lanes|=m,z=ie.alternate,z!==null&&(z.lanes|=m),Nu(ie,m,o),ie=null}else ie=P.child;if(ie!==null)ie.return=P;else for(ie=P;ie!==null;){if(ie===o){ie=null;break}if(P=ie.sibling,P!==null){P.return=ie.return,ie=P;break}ie=ie.return}P=ie}}function NA(o,c,m,S){o=null;for(var P=c,z=!1;P!==null;){if(!z){if((P.flags&524288)!==0)z=!0;else if((P.flags&262144)!==0)break}if(P.tag===10){var ie=P.alternate;if(ie===null)throw Error(n(387));if(ie=ie.memoizedProps,ie!==null){var Ee=P.type;va(P.pendingProps.value,ie.value)||(o!==null?o.push(Ee):o=[Ee])}}else if(P===Je.current){if(ie=P.alternate,ie===null)throw Error(n(387));ie.memoizedState.memoizedState!==P.memoizedState.memoizedState&&(o!==null?o.push(ed):o=[ed])}P=P.return}o!==null&&Jl(c,o,m,S),c.flags|=262144}function Zc(o){for(o=o.firstContext;o!==null;){if(!va(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function fa(o){ao=o,Yo=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function pn(o){return vc(ao,o)}function eA(o,c){return ao===null&&fa(o),vc(o,c)}function vc(o,c){var m=c._currentValue;if(c={context:c,memoizedValue:m,next:null},Yo===null){if(o===null)throw Error(n(308));Yo=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else Yo=Yo.next=c;return m}var Wc=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(m,S){o.push(S)}};this.abort=function(){c.aborted=!0,o.forEach(function(m){return m()})}},xf=e.unstable_scheduleCallback,_c=e.unstable_NormalPriority,wi={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ys(){return{controller:new Wc,data:new Map,refCount:0}}function tA(o){o.refCount--,o.refCount===0&&xf(_c,function(){o.controller.abort()})}var lr=null,Cr=0,U=0,D=null;function X(o,c){if(lr===null){var m=lr=[];Cr=0,U=Xf(),D={status:"pending",value:void 0,then:function(S){m.push(S)}}}return Cr++,c.then(_,_),c}function _(){if(--Cr===0&&lr!==null){D!==null&&(D.status="fulfilled");var o=lr;lr=null,U=0,D=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function i(o,c){var m=[],S={status:"pending",value:null,reason:null,then:function(P){m.push(P)}};return o.then(function(){S.status="fulfilled",S.value=c;for(var P=0;P<m.length;P++)(0,m[P])(c)},function(P){for(S.status="rejected",S.reason=P,P=0;P<m.length;P++)(0,m[P])(void 0)}),S}var h=Oe.S;Oe.S=function(o,c){uv=rn(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&X(o,c),h!==null&&h(o,c)};var p=be(null);function v(){var o=p.current;return o!==null?o:Fi.pooledCache}function x(o,c){c===null?ye(p,p.current):ye(p,c.pool)}function L(){var o=v();return o===null?null:{parent:wi._currentValue,pool:o}}var M=Error(n(460)),N=Error(n(474)),Q=Error(n(542)),G={then:function(){}};function $(o){return o=o.status,o==="fulfilled"||o==="rejected"}function ee(o,c,m){switch(m=o[m],m===void 0?o.push(c):m!==c&&(c.then(za,za),c=m),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,Se(o),o;default:if(typeof c.status=="string")c.then(za,za);else{if(o=Fi,o!==null&&100<o.shellSuspendCounter)throw Error(n(482));o=c,o.status="pending",o.then(function(S){if(c.status==="pending"){var P=c;P.status="fulfilled",P.value=S}},function(S){if(c.status==="pending"){var P=c;P.status="rejected",P.reason=S}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,Se(o),o}throw ce=c,M}}function ne(o){try{var c=o._init;return c(o._payload)}catch(m){throw m!==null&&typeof m=="object"&&typeof m.then=="function"?(ce=m,M):m}}var ce=null;function ge(){if(ce===null)throw Error(n(459));var o=ce;return ce=null,o}function Se(o){if(o===M||o===Q)throw Error(n(483))}var xe=null,Qe=0;function Te(o){var c=Qe;return Qe+=1,xe===null&&(xe=[]),ee(xe,o,c)}function Xe(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function Ge(o,c){throw c.$$typeof===F?Error(n(525)):(o=Object.prototype.toString.call(c),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function at(o){function c(dt,st){if(o){var vt=dt.deletions;vt===null?(dt.deletions=[st],dt.flags|=16):vt.push(st)}}function m(dt,st){if(!o)return null;for(;st!==null;)c(dt,st),st=st.sibling;return null}function S(dt){for(var st=new Map;dt!==null;)dt.key!==null?st.set(dt.key,dt):st.set(dt.index,dt),dt=dt.sibling;return st}function P(dt,st){return dt=gs(dt,st),dt.index=0,dt.sibling=null,dt}function z(dt,st,vt){return dt.index=vt,o?(vt=dt.alternate,vt!==null?(vt=vt.index,vt<st?(dt.flags|=67108866,st):vt):(dt.flags|=67108866,st)):(dt.flags|=1048576,st)}function ie(dt){return o&&dt.alternate===null&&(dt.flags|=67108866),dt}function Ee(dt,st,vt,kt){return st===null||st.tag!==6?(st=LA(vt,dt.mode,kt),st.return=dt,st):(st=P(st,vt),st.return=dt,st)}function tt(dt,st,vt,kt){var Yr=vt.type;return Yr===k?Dt(dt,st,vt.props.children,kt,vt.key):st!==null&&(st.elementType===Yr||typeof Yr=="object"&&Yr!==null&&Yr.$$typeof===Fe&&ne(Yr)===st.type)?(st=P(st,vt.props),Xe(st,vt),st.return=dt,st):(st=FA(vt.type,vt.key,vt.props,null,dt.mode,kt),Xe(st,vt),st.return=dt,st)}function bt(dt,st,vt,kt){return st===null||st.tag!==4||st.stateNode.containerInfo!==vt.containerInfo||st.stateNode.implementation!==vt.implementation?(st=MA(vt,dt.mode,kt),st.return=dt,st):(st=P(st,vt.children||[]),st.return=dt,st)}function Dt(dt,st,vt,kt,Yr){return st===null||st.tag!==7?(st=Ns(vt,dt.mode,kt,Yr),st.return=dt,st):(st=P(st,vt),st.return=dt,st)}function jt(dt,st,vt){if(typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint")return st=LA(""+st,dt.mode,vt),st.return=dt,st;if(typeof st=="object"&&st!==null){switch(st.$$typeof){case T:return vt=FA(st.type,st.key,st.props,null,dt.mode,vt),Xe(vt,st),vt.return=dt,vt;case j:return st=MA(st,dt.mode,vt),st.return=dt,st;case Fe:return st=ne(st),jt(dt,st,vt)}if(nt(st)||de(st))return st=Ns(st,dt.mode,vt,null),st.return=dt,st;if(typeof st.then=="function")return jt(dt,Te(st),vt);if(st.$$typeof===W)return jt(dt,eA(dt,st),vt);Ge(dt,st)}return null}function xt(dt,st,vt,kt){var Yr=st!==null?st.key:null;if(typeof vt=="string"&&vt!==""||typeof vt=="number"||typeof vt=="bigint")return Yr!==null?null:Ee(dt,st,""+vt,kt);if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case T:return vt.key===Yr?tt(dt,st,vt,kt):null;case j:return vt.key===Yr?bt(dt,st,vt,kt):null;case Fe:return vt=ne(vt),xt(dt,st,vt,kt)}if(nt(vt)||de(vt))return Yr!==null?null:Dt(dt,st,vt,kt,null);if(typeof vt.then=="function")return xt(dt,st,Te(vt),kt);if(vt.$$typeof===W)return xt(dt,st,eA(dt,vt),kt);Ge(dt,vt)}return null}function Ft(dt,st,vt,kt,Yr){if(typeof kt=="string"&&kt!==""||typeof kt=="number"||typeof kt=="bigint")return dt=dt.get(vt)||null,Ee(st,dt,""+kt,Yr);if(typeof kt=="object"&&kt!==null){switch(kt.$$typeof){case T:return dt=dt.get(kt.key===null?vt:kt.key)||null,tt(st,dt,kt,Yr);case j:return dt=dt.get(kt.key===null?vt:kt.key)||null,bt(st,dt,kt,Yr);case Fe:return kt=ne(kt),Ft(dt,st,vt,kt,Yr)}if(nt(kt)||de(kt))return dt=dt.get(vt)||null,Dt(st,dt,kt,Yr,null);if(typeof kt.then=="function")return Ft(dt,st,vt,Te(kt),Yr);if(kt.$$typeof===W)return Ft(dt,st,vt,eA(st,kt),Yr);Ge(st,kt)}return null}function Fr(dt,st,vt,kt){for(var Yr=null,di=null,Nr=st,Dn=st=0,Yn=null;Nr!==null&&Dn<vt.length;Dn++){Nr.index>Dn?(Yn=Nr,Nr=null):Yn=Nr.sibling;var pi=xt(dt,Nr,vt[Dn],kt);if(pi===null){Nr===null&&(Nr=Yn);break}o&&Nr&&pi.alternate===null&&c(dt,Nr),st=z(pi,st,Dn),di===null?Yr=pi:di.sibling=pi,di=pi,Nr=Yn}if(Dn===vt.length)return m(dt,Nr),Rt&&no(dt,Dn),Yr;if(Nr===null){for(;Dn<vt.length;Dn++)Nr=jt(dt,vt[Dn],kt),Nr!==null&&(st=z(Nr,st,Dn),di===null?Yr=Nr:di.sibling=Nr,di=Nr);return Rt&&no(dt,Dn),Yr}for(Nr=S(Nr);Dn<vt.length;Dn++)Yn=Ft(Nr,dt,Dn,vt[Dn],kt),Yn!==null&&(o&&Yn.alternate!==null&&Nr.delete(Yn.key===null?Dn:Yn.key),st=z(Yn,st,Dn),di===null?Yr=Yn:di.sibling=Yn,di=Yn);return o&&Nr.forEach(function(rd){return c(dt,rd)}),Rt&&no(dt,Dn),Yr}function hn(dt,st,vt,kt){if(vt==null)throw Error(n(151));for(var Yr=null,di=null,Nr=st,Dn=st=0,Yn=null,pi=vt.next();Nr!==null&&!pi.done;Dn++,pi=vt.next()){Nr.index>Dn?(Yn=Nr,Nr=null):Yn=Nr.sibling;var rd=xt(dt,Nr,pi.value,kt);if(rd===null){Nr===null&&(Nr=Yn);break}o&&Nr&&rd.alternate===null&&c(dt,Nr),st=z(rd,st,Dn),di===null?Yr=rd:di.sibling=rd,di=rd,Nr=Yn}if(pi.done)return m(dt,Nr),Rt&&no(dt,Dn),Yr;if(Nr===null){for(;!pi.done;Dn++,pi=vt.next())pi=jt(dt,pi.value,kt),pi!==null&&(st=z(pi,st,Dn),di===null?Yr=pi:di.sibling=pi,di=pi);return Rt&&no(dt,Dn),Yr}for(Nr=S(Nr);!pi.done;Dn++,pi=vt.next())pi=Ft(Nr,dt,Dn,pi.value,kt),pi!==null&&(o&&pi.alternate!==null&&Nr.delete(pi.key===null?Dn:pi.key),st=z(pi,st,Dn),di===null?Yr=pi:di.sibling=pi,di=pi);return o&&Nr.forEach(function(tN){return c(dt,tN)}),Rt&&no(dt,Dn),Yr}function $i(dt,st,vt,kt){if(typeof vt=="object"&&vt!==null&&vt.type===k&&vt.key===null&&(vt=vt.props.children),typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case T:e:{for(var Yr=vt.key;st!==null;){if(st.key===Yr){if(Yr=vt.type,Yr===k){if(st.tag===7){m(dt,st.sibling),kt=P(st,vt.props.children),kt.return=dt,dt=kt;break e}}else if(st.elementType===Yr||typeof Yr=="object"&&Yr!==null&&Yr.$$typeof===Fe&&ne(Yr)===st.type){m(dt,st.sibling),kt=P(st,vt.props),Xe(kt,vt),kt.return=dt,dt=kt;break e}m(dt,st);break}else c(dt,st);st=st.sibling}vt.type===k?(kt=Ns(vt.props.children,dt.mode,kt,vt.key),kt.return=dt,dt=kt):(kt=FA(vt.type,vt.key,vt.props,null,dt.mode,kt),Xe(kt,vt),kt.return=dt,dt=kt)}return ie(dt);case j:e:{for(Yr=vt.key;st!==null;){if(st.key===Yr)if(st.tag===4&&st.stateNode.containerInfo===vt.containerInfo&&st.stateNode.implementation===vt.implementation){m(dt,st.sibling),kt=P(st,vt.children||[]),kt.return=dt,dt=kt;break e}else{m(dt,st);break}else c(dt,st);st=st.sibling}kt=MA(vt,dt.mode,kt),kt.return=dt,dt=kt}return ie(dt);case Fe:return vt=ne(vt),$i(dt,st,vt,kt)}if(nt(vt))return Fr(dt,st,vt,kt);if(de(vt)){if(Yr=de(vt),typeof Yr!="function")throw Error(n(150));return vt=Yr.call(vt),hn(dt,st,vt,kt)}if(typeof vt.then=="function")return $i(dt,st,Te(vt),kt);if(vt.$$typeof===W)return $i(dt,st,eA(dt,vt),kt);Ge(dt,vt)}return typeof vt=="string"&&vt!==""||typeof vt=="number"||typeof vt=="bigint"?(vt=""+vt,st!==null&&st.tag===6?(m(dt,st.sibling),kt=P(st,vt),kt.return=dt,dt=kt):(m(dt,st),kt=LA(vt,dt.mode,kt),kt.return=dt,dt=kt),ie(dt)):m(dt,st)}return function(dt,st,vt,kt){try{Qe=0;var Yr=$i(dt,st,vt,kt);return xe=null,Yr}catch(Nr){if(Nr===M||Nr===Q)throw Nr;var di=ba(29,Nr,null,dt.mode);return di.lanes=kt,di.return=dt,di}finally{}}}var wt=at(!0),St=at(!1),_t=!1;function gt(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nt(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Et(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function zt(o,c,m){var S=o.updateQueue;if(S===null)return null;if(S=S.shared,(ii&2)!==0){var P=S.pending;return P===null?c.next=c:(c.next=P.next,P.next=c),S.pending=c,c=Ji(o),IA(o,null,m),c}return Va(o,S,c,m),Ji(o)}function tr(o,c,m){if(c=c.updateQueue,c!==null&&(c=c.shared,(m&4194048)!==0)){var S=c.lanes;S&=o.pendingLanes,m|=S,c.lanes=m,yt(o,m)}}function Vt(o,c){var m=o.updateQueue,S=o.alternate;if(S!==null&&(S=S.updateQueue,m===S)){var P=null,z=null;if(m=m.firstBaseUpdate,m!==null){do{var ie={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};z===null?P=z=ie:z=z.next=ie,m=m.next}while(m!==null);z===null?P=z=c:z=z.next=c}else P=z=c;m={baseState:S.baseState,firstBaseUpdate:P,lastBaseUpdate:z,shared:S.shared,callbacks:S.callbacks},o.updateQueue=m;return}o=m.lastBaseUpdate,o===null?m.firstBaseUpdate=c:o.next=c,m.lastBaseUpdate=c}var $t=!1;function rr(){if($t){var o=D;if(o!==null)throw o}}function un(o,c,m,S){$t=!1;var P=o.updateQueue;_t=!1;var z=P.firstBaseUpdate,ie=P.lastBaseUpdate,Ee=P.shared.pending;if(Ee!==null){P.shared.pending=null;var tt=Ee,bt=tt.next;tt.next=null,ie===null?z=bt:ie.next=bt,ie=tt;var Dt=o.alternate;Dt!==null&&(Dt=Dt.updateQueue,Ee=Dt.lastBaseUpdate,Ee!==ie&&(Ee===null?Dt.firstBaseUpdate=bt:Ee.next=bt,Dt.lastBaseUpdate=tt))}if(z!==null){var jt=P.baseState;ie=0,Dt=bt=tt=null,Ee=z;do{var xt=Ee.lane&-536870913,Ft=xt!==Ee.lane;if(Ft?(Qn&xt)===xt:(S&xt)===xt){xt!==0&&xt===U&&($t=!0),Dt!==null&&(Dt=Dt.next={lane:0,tag:Ee.tag,payload:Ee.payload,callback:null,next:null});e:{var Fr=o,hn=Ee;xt=c;var $i=m;switch(hn.tag){case 1:if(Fr=hn.payload,typeof Fr=="function"){jt=Fr.call($i,jt,xt);break e}jt=Fr;break e;case 3:Fr.flags=Fr.flags&-65537|128;case 0:if(Fr=hn.payload,xt=typeof Fr=="function"?Fr.call($i,jt,xt):Fr,xt==null)break e;jt=C({},jt,xt);break e;case 2:_t=!0}}xt=Ee.callback,xt!==null&&(o.flags|=64,Ft&&(o.flags|=8192),Ft=P.callbacks,Ft===null?P.callbacks=[xt]:Ft.push(xt))}else Ft={lane:xt,tag:Ee.tag,payload:Ee.payload,callback:Ee.callback,next:null},Dt===null?(bt=Dt=Ft,tt=jt):Dt=Dt.next=Ft,ie|=xt;if(Ee=Ee.next,Ee===null){if(Ee=P.shared.pending,Ee===null)break;Ft=Ee,Ee=Ft.next,Ft.next=null,P.lastBaseUpdate=Ft,P.shared.pending=null}}while(!0);Dt===null&&(tt=jt),P.baseState=tt,P.firstBaseUpdate=bt,P.lastBaseUpdate=Dt,z===null&&(P.shared.lanes=0),lh|=ie,o.lanes=ie,o.memoizedState=jt}}function Ir(o,c){if(typeof o!="function")throw Error(n(191,o));o.call(c)}function Ur(o,c){var m=o.callbacks;if(m!==null)for(o.callbacks=null,o=0;o<m.length;o++)Ir(m[o],c)}var wr=be(null),an=be(0);function jn(o,c){o=GA,ye(an,o),ye(wr,c),GA=o|c.baseLanes}function Dr(){ye(an,GA),ye(wr,wr.current)}function qn(){GA=an.current,re(wr),re(an)}var In=be(null),sn=null;function On(o){var c=o.alternate;ye(fn,fn.current&1),ye(In,o),sn===null&&(c===null||wr.current!==null||c.memoizedState!==null)&&(sn=o)}function Cn(o){ye(fn,fn.current),ye(In,o),sn===null&&(sn=o)}function xi(o){o.tag===22?(ye(fn,fn.current),ye(In,o),sn===null&&(sn=o)):ki()}function ki(){ye(fn,fn.current),ye(In,In.current)}function Gn(o){re(In),sn===o&&(sn=null),re(fn)}var fn=be(0);function wa(o){for(var c=o;c!==null;){if(c.tag===13){var m=c.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||Kt(m)||er(m)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Ti=0,gr=null,vr=null,xn=null,Ii=!1,ni=!1,Wn=!1,$n=0,cn=0,Rs=null,rA=0;function Zn(){throw Error(n(321))}function Yc(o,c){if(c===null)return!1;for(var m=0;m<c.length&&m<o.length;m++)if(!va(o[m],c[m]))return!1;return!0}function Uh(o,c,m,S,P,z){return Ti=z,gr=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Oe.H=o===null||o.memoizedState===null?zy:Bg,Wn=!1,z=m(S,P),Wn=!1,ni&&(z=Ja(c,m,S,P)),bc(o),z}function bc(o){Oe.H=Pd;var c=vr!==null&&vr.next!==null;if(Ti=0,xn=vr=gr=null,Ii=!1,cn=0,Rs=null,c)throw Error(n(300));o===null||xa||(o=o.dependencies,o!==null&&Zc(o)&&(xa=!0))}function Ja(o,c,m,S){gr=o;var P=0;do{if(ni&&(Rs=null),cn=0,ni=!1,25<=P)throw Error(n(301));if(P+=1,xn=vr=null,o.updateQueue!=null){var z=o.updateQueue;z.lastEffect=null,z.events=null,z.stores=null,z.memoCache!=null&&(z.memoCache.index=0)}Oe.H=Cg,z=c(m,S)}while(ni);return z}function Bf(){var o=Oe.H,c=o.useState()[0];return c=typeof c.then=="function"?iA(c):c,o=o.useState()[0],(vr!==null?vr.memoizedState:null)!==o&&(gr.flags|=1024),c}function Qu(){var o=$n!==0;return $n=0,o}function uu(o,c,m){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~m}function cu(o){if(Ii){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}Ii=!1}Ti=0,xn=vr=gr=null,ni=!1,cn=$n=0,Rs=null}function ta(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xn===null?gr.memoizedState=xn=o:xn=xn.next=o,xn}function li(){if(vr===null){var o=gr.alternate;o=o!==null?o.memoizedState:null}else o=vr.next;var c=xn===null?gr.memoizedState:xn.next;if(c!==null)xn=c,vr=o;else{if(o===null)throw gr.alternate===null?Error(n(467)):Error(n(310));vr=o,o={memoizedState:vr.memoizedState,baseState:vr.baseState,baseQueue:vr.baseQueue,queue:vr.queue,next:null},xn===null?gr.memoizedState=xn=o:xn=xn.next=o}return xn}function nA(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function iA(o){var c=cn;return cn+=1,Rs===null&&(Rs=[]),o=ee(Rs,o,c),c=gr,(xn===null?c.memoizedState:xn.next)===null&&(c=c.alternate,Oe.H=c===null||c.memoizedState===null?zy:Bg),o}function wc(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return iA(o);if(o.$$typeof===W)return pn(o)}throw Error(n(438,String(o)))}function Ru(o){var c=null,m=gr.updateQueue;if(m!==null&&(c=m.memoCache),c==null){var S=gr.alternate;S!==null&&(S=S.updateQueue,S!==null&&(S=S.memoCache,S!=null&&(c={data:S.data.map(function(P){return P.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),m===null&&(m=nA(),gr.updateQueue=m),m.memoCache=c,m=c.data[c.index],m===void 0)for(m=c.data[c.index]=Array(o),S=0;S<o;S++)m[S]=He;return c.index++,m}function QA(o,c){return typeof c=="function"?c(o):c}function Jc(o){var c=li();return RA(c,vr,o)}function RA(o,c,m){var S=o.queue;if(S===null)throw Error(n(311));S.lastRenderedReducer=m;var P=o.baseQueue,z=S.pending;if(z!==null){if(P!==null){var ie=P.next;P.next=z.next,z.next=ie}c.baseQueue=P=z,S.pending=null}if(z=o.baseState,P===null)o.memoizedState=z;else{c=P.next;var Ee=ie=null,tt=null,bt=c,Dt=!1;do{var jt=bt.lane&-536870913;if(jt!==bt.lane?(Qn&jt)===jt:(Ti&jt)===jt){var xt=bt.revertLane;if(xt===0)tt!==null&&(tt=tt.next={lane:0,revertLane:0,gesture:null,action:bt.action,hasEagerState:bt.hasEagerState,eagerState:bt.eagerState,next:null}),jt===U&&(Dt=!0);else if((Ti&xt)===xt){bt=bt.next,xt===U&&(Dt=!0);continue}else jt={lane:0,revertLane:bt.revertLane,gesture:null,action:bt.action,hasEagerState:bt.hasEagerState,eagerState:bt.eagerState,next:null},tt===null?(Ee=tt=jt,ie=z):tt=tt.next=jt,gr.lanes|=xt,lh|=xt;jt=bt.action,Wn&&m(z,jt),z=bt.hasEagerState?bt.eagerState:m(z,jt)}else xt={lane:jt,revertLane:bt.revertLane,gesture:bt.gesture,action:bt.action,hasEagerState:bt.hasEagerState,eagerState:bt.eagerState,next:null},tt===null?(Ee=tt=xt,ie=z):tt=tt.next=xt,gr.lanes|=jt,lh|=jt;bt=bt.next}while(bt!==null&&bt!==c);if(tt===null?ie=z:tt.next=Ee,!va(z,o.memoizedState)&&(xa=!0,Dt&&(m=D,m!==null)))throw m;o.memoizedState=z,o.baseState=ie,o.baseQueue=tt,S.lastRenderedState=z}return P===null&&(S.lanes=0),[o.memoizedState,S.dispatch]}function hu(o){var c=li(),m=c.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=o;var S=m.dispatch,P=m.pending,z=c.memoizedState;if(P!==null){m.pending=null;var ie=P=P.next;do z=o(z,ie.action),ie=ie.next;while(ie!==P);va(z,c.memoizedState)||(xa=!0),c.memoizedState=z,c.baseQueue===null&&(c.baseState=z),m.lastRenderedState=z}return[z,S]}function Cl(o,c,m){var S=gr,P=li(),z=Rt;if(z){if(m===void 0)throw Error(n(407));m=m()}else m=c();var ie=!va((vr||P).memoizedState,m);if(ie&&(P.memoizedState=m,xa=!0),P=P.queue,Mh(Cf.bind(null,S,P,o),[o]),P.getSnapshot!==c||ie||xn!==null&&xn.memoizedState.tag&1){if(S.flags|=2048,mu(9,{destroy:void 0},zA.bind(null,S,P,m,c),null),Fi===null)throw Error(n(349));z||(Ti&127)!==0||qa(S,c,m)}return m}function qa(o,c,m){o.flags|=16384,o={getSnapshot:c,value:m},c=gr.updateQueue,c===null?(c=nA(),gr.updateQueue=c,c.stores=[o]):(m=c.stores,m===null?c.stores=[o]:m.push(o))}function zA(o,c,m,S){c.value=m,c.getSnapshot=S,zu(c)&&Ed(o)}function Cf(o,c,m){return m(function(){zu(c)&&Ed(o)})}function zu(o){var c=o.getSnapshot;o=o.value;try{var m=c();return!va(o,m)}catch{return!0}}function Ed(o){var c=Zo(o,2);c!==null&&Eo(c,o,2)}function fu(o){var c=ta();if(typeof o=="function"){var m=o;if(o=m(),Wn){Gt(!0);try{m()}finally{Gt(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:QA,lastRenderedState:o},c}function ra(o,c,m,S){return o.baseState=m,RA(o,vr,typeof S=="function"?S:QA)}function Sf(o,c,m,S,P){if(Kp(o))throw Error(n(485));if(o=c.action,o!==null){var z={payload:P,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ie){z.listeners.push(ie)}};Oe.T!==null?m(!0):z.isTransition=!1,S(z),m=c.pending,m===null?(z.next=c.pending=z,Td(c,z)):(z.next=m.next,c.pending=m.next=z)}}function Td(o,c){var m=c.action,S=c.payload,P=o.state;if(c.isTransition){var z=Oe.T,ie={};Oe.T=ie;try{var Ee=m(P,S),tt=Oe.S;tt!==null&&tt(ie,Ee),du(o,c,Ee)}catch(bt){jA(o,c,bt)}finally{z!==null&&ie.types!==null&&(z.types=ie.types),Oe.T=z}}else try{z=m(P,S),du(o,c,z)}catch(bt){jA(o,c,bt)}}function du(o,c,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(S){ju(o,c,S)},function(S){return jA(o,c,S)}):ju(o,c,m)}function ju(o,c,m){c.status="fulfilled",c.value=m,eh(c),o.state=m,c=o.pending,c!==null&&(m=c.next,m===c?o.pending=null:(m=m.next,c.next=m,Td(o,m)))}function jA(o,c,m){var S=o.pending;if(o.pending=null,S!==null){S=S.next;do c.status="rejected",c.reason=m,eh(c),c=c.next;while(c!==S)}o.action=null}function eh(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function th(o,c){return c}function HA(o,c){if(Rt){var m=Fi.formState;if(m!==null){e:{var S=gr;if(Rt){if(Mn){t:{for(var P=Mn,z=Ei;P.nodeType!==8;){if(!z){P=null;break t}if(P=Wt(P.nextSibling),P===null){P=null;break t}}z=P.data,P=z==="F!"||z==="F"?P:null}if(P){Mn=Wt(P.nextSibling),S=P.data==="F!";break e}}io(S)}S=!1}S&&(c=m[0])}}return m=ta(),m.memoizedState=m.baseState=c,S={pending:null,lanes:0,dispatch:null,lastRenderedReducer:th,lastRenderedState:c},m.queue=S,m=Sl.bind(null,gr,S),S.dispatch=m,S=fu(!1),z=Md.bind(null,gr,!1,S.queue),S=ta(),P={state:c,dispatch:null,action:o,pending:null},S.queue=P,m=Sf.bind(null,gr,P,z,m),P.dispatch=m,S.memoizedState=o,[c,m,!1]}function KA(o){var c=li();return pu(c,vr,o)}function pu(o,c,m){if(c=RA(o,c,th)[0],o=Jc(QA)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var S=iA(c)}catch(ie){throw ie===M?Q:ie}else S=c;c=li();var P=c.queue,z=P.dispatch;return m!==c.memoizedState&&(gr.flags|=2048,mu(9,{destroy:void 0},rh.bind(null,P,m),null)),[S,z,o]}function rh(o,c){o.action=c}function Ef(o){var c=li(),m=vr;if(m!==null)return pu(c,m,o);li(),c=c.memoizedState,m=li();var S=m.queue.dispatch;return m.memoizedState=o,[c,S,!1]}function mu(o,c,m,S){return o={tag:o,create:m,deps:S,inst:c,next:null},c=gr.updateQueue,c===null&&(c=nA(),gr.updateQueue=c),m=c.lastEffect,m===null?c.lastEffect=o.next=o:(S=m.next,m.next=o,o.next=S,c.lastEffect=o),o}function Id(){return li().memoizedState}function xc(o,c,m,S){var P=ta();gr.flags|=o,P.memoizedState=mu(1|c,{destroy:void 0},m,S===void 0?null:S)}function aA(o,c,m,S){var P=li();S=S===void 0?null:S;var z=P.memoizedState.inst;vr!==null&&S!==null&&Yc(S,vr.memoizedState.deps)?P.memoizedState=mu(c,z,m,S):(gr.flags|=o,P.memoizedState=mu(1|c,z,m,S))}function ky(o,c){xc(8390656,8,o,c)}function Mh(o,c){aA(2048,8,o,c)}function Rp(o){gr.flags|=4;var c=gr.updateQueue;if(c===null)c=nA(),gr.updateQueue=c,c.events=[o];else{var m=c.events;m===null?c.events=[o]:m.push(o)}}function Fd(o){var c=li().memoizedState;return Rp({ref:c,nextImpl:o}),function(){if((ii&2)!==0)throw Error(n(440));return c.impl.apply(void 0,arguments)}}function pg(o,c){return aA(4,2,o,c)}function mg(o,c){return aA(4,4,o,c)}function Ny(o,c){if(typeof c=="function"){o=o();var m=c(o);return function(){typeof m=="function"?m():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function oo(o,c,m){m=m!=null?m.concat([o]):null,aA(4,4,Ny.bind(null,c,o),m)}function nh(){}function zp(o,c){var m=li();c=c===void 0?null:c;var S=m.memoizedState;return c!==null&&Yc(c,S[1])?S[0]:(m.memoizedState=[o,c],o)}function gg(o,c){var m=li();c=c===void 0?null:c;var S=m.memoizedState;if(c!==null&&Yc(c,S[1]))return S[0];if(S=o(),Wn){Gt(!0);try{o()}finally{Gt(!1)}}return m.memoizedState=[S,c],S}function Ph(o,c,m){return m===void 0||(Ti&1073741824)!==0&&(Qn&261930)===0?o.memoizedState=c:(o.memoizedState=m,o=tm(),gr.lanes|=o,lh|=o,m)}function Qy(o,c,m,S){return va(m,c)?m:wr.current!==null?(o=Ph(o,m,S),va(o,c)||(xa=!0),o):(Ti&42)===0||(Ti&1073741824)!==0&&(Qn&261930)===0?(xa=!0,o.memoizedState=m):(o=tm(),gr.lanes|=o,lh|=o,c)}function Ld(o,c,m,S,P){var z=Ne.p;Ne.p=z!==0&&8>z?z:8;var ie=Oe.T,Ee={};Oe.T=Ee,Md(o,!1,c,m);try{var tt=P(),bt=Oe.S;if(bt!==null&&bt(Ee,tt),tt!==null&&typeof tt=="object"&&typeof tt.then=="function"){var Dt=i(tt,S);Tf(o,c,Dt,lA(o))}else Tf(o,c,S,lA(o))}catch(jt){Tf(o,c,{then:function(){},status:"rejected",reason:jt},lA())}finally{Ne.p=z,ie!==null&&Ee.types!==null&&(ie.types=Ee.types),Oe.T=ie}}function uw(){}function jp(o,c,m,S){if(o.tag!==5)throw Error(n(476));var P=yg(o).queue;Ld(o,P,c,Ve,m===null?uw:function(){return vg(o),m(S)})}function yg(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:Ve,baseState:Ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:QA,lastRenderedState:Ve},next:null};var m={};return c.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:QA,lastRenderedState:m},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function vg(o){var c=yg(o);c.next===null&&(c=o.alternate.memoizedState),Tf(o,c.next.queue,{},lA())}function _g(){return pn(ed)}function Hp(){return li().memoizedState}function bg(){return li().memoizedState}function wg(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var m=lA();o=Et(m);var S=zt(c,o,m);S!==null&&(Eo(S,c,m),tr(S,c,m)),c={cache:ys()},o.payload=c;return}c=c.return}}function Ud(o,c,m){var S=lA();m={lane:S,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Kp(o)?xg(c,m):(m=TA(o,c,m,S),m!==null&&(Eo(m,o,S),Ry(m,c,S)))}function Sl(o,c,m){var S=lA();Tf(o,c,m,S)}function Tf(o,c,m,S){var P={lane:S,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null};if(Kp(o))xg(c,P);else{var z=o.alternate;if(o.lanes===0&&(z===null||z.lanes===0)&&(z=c.lastRenderedReducer,z!==null))try{var ie=c.lastRenderedState,Ee=z(ie,m);if(P.hasEagerState=!0,P.eagerState=Ee,va(Ee,ie))return Va(o,c,P,0),Fi===null&&ms(),!1}catch{}finally{}if(m=TA(o,c,P,S),m!==null)return Eo(m,o,S),Ry(m,c,S),!0}return!1}function Md(o,c,m,S){if(S={lane:2,revertLane:Xf(),gesture:null,action:S,hasEagerState:!1,eagerState:null,next:null},Kp(o)){if(c)throw Error(n(479))}else c=TA(o,m,S,2),c!==null&&Eo(c,o,2)}function Kp(o){var c=o.alternate;return o===gr||c!==null&&c===gr}function xg(o,c){ni=Ii=!0;var m=o.pending;m===null?c.next=c:(c.next=m.next,m.next=c),o.pending=c}function Ry(o,c,m){if((m&4194048)!==0){var S=c.lanes;S&=o.pendingLanes,m|=S,c.lanes=m,yt(o,m)}}var Pd={readContext:pn,use:wc,useCallback:Zn,useContext:Zn,useEffect:Zn,useImperativeHandle:Zn,useLayoutEffect:Zn,useInsertionEffect:Zn,useMemo:Zn,useReducer:Zn,useRef:Zn,useState:Zn,useDebugValue:Zn,useDeferredValue:Zn,useTransition:Zn,useSyncExternalStore:Zn,useId:Zn,useHostTransitionStatus:Zn,useFormState:Zn,useActionState:Zn,useOptimistic:Zn,useMemoCache:Zn,useCacheRefresh:Zn};Pd.useEffectEvent=Zn;var zy={readContext:pn,use:wc,useCallback:function(o,c){return ta().memoizedState=[o,c===void 0?null:c],o},useContext:pn,useEffect:ky,useImperativeHandle:function(o,c,m){m=m!=null?m.concat([o]):null,xc(4194308,4,Ny.bind(null,c,o),m)},useLayoutEffect:function(o,c){return xc(4194308,4,o,c)},useInsertionEffect:function(o,c){xc(4,2,o,c)},useMemo:function(o,c){var m=ta();c=c===void 0?null:c;var S=o();if(Wn){Gt(!0);try{o()}finally{Gt(!1)}}return m.memoizedState=[S,c],S},useReducer:function(o,c,m){var S=ta();if(m!==void 0){var P=m(c);if(Wn){Gt(!0);try{m(c)}finally{Gt(!1)}}}else P=c;return S.memoizedState=S.baseState=P,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:P},S.queue=o,o=o.dispatch=Ud.bind(null,gr,o),[S.memoizedState,o]},useRef:function(o){var c=ta();return o={current:o},c.memoizedState=o},useState:function(o){o=fu(o);var c=o.queue,m=Sl.bind(null,gr,c);return c.dispatch=m,[o.memoizedState,m]},useDebugValue:nh,useDeferredValue:function(o,c){var m=ta();return Ph(m,o,c)},useTransition:function(){var o=fu(!1);return o=Ld.bind(null,gr,o.queue,!0,!1),ta().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,m){var S=gr,P=ta();if(Rt){if(m===void 0)throw Error(n(407));m=m()}else{if(m=c(),Fi===null)throw Error(n(349));(Qn&127)!==0||qa(S,c,m)}P.memoizedState=m;var z={value:m,getSnapshot:c};return P.queue=z,ky(Cf.bind(null,S,z,o),[o]),S.flags|=2048,mu(9,{destroy:void 0},zA.bind(null,S,z,m,c),null),m},useId:function(){var o=ta(),c=Fi.identifierPrefix;if(Rt){var m=Fa,S=qi;m=(S&~(1<<32-Zr(S)-1)).toString(32)+m,c="_"+c+"R_"+m,m=$n++,0<m&&(c+="H"+m.toString(32)),c+="_"}else m=rA++,c="_"+c+"r_"+m.toString(32)+"_";return o.memoizedState=c},useHostTransitionStatus:_g,useFormState:HA,useActionState:HA,useOptimistic:function(o){var c=ta();c.memoizedState=c.baseState=o;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=m,c=Md.bind(null,gr,!0,m),m.dispatch=c,[o,c]},useMemoCache:Ru,useCacheRefresh:function(){return ta().memoizedState=wg.bind(null,gr)},useEffectEvent:function(o){var c=ta(),m={impl:o};return c.memoizedState=m,function(){if((ii&2)!==0)throw Error(n(440));return m.impl.apply(void 0,arguments)}}},Bg={readContext:pn,use:wc,useCallback:zp,useContext:pn,useEffect:Mh,useImperativeHandle:oo,useInsertionEffect:pg,useLayoutEffect:mg,useMemo:gg,useReducer:Jc,useRef:Id,useState:function(){return Jc(QA)},useDebugValue:nh,useDeferredValue:function(o,c){var m=li();return Qy(m,vr.memoizedState,o,c)},useTransition:function(){var o=Jc(QA)[0],c=li().memoizedState;return[typeof o=="boolean"?o:iA(o),c]},useSyncExternalStore:Cl,useId:Hp,useHostTransitionStatus:_g,useFormState:KA,useActionState:KA,useOptimistic:function(o,c){var m=li();return ra(m,vr,o,c)},useMemoCache:Ru,useCacheRefresh:bg};Bg.useEffectEvent=Fd;var Cg={readContext:pn,use:wc,useCallback:zp,useContext:pn,useEffect:Mh,useImperativeHandle:oo,useInsertionEffect:pg,useLayoutEffect:mg,useMemo:gg,useReducer:hu,useRef:Id,useState:function(){return hu(QA)},useDebugValue:nh,useDeferredValue:function(o,c){var m=li();return vr===null?Ph(m,o,c):Qy(m,vr.memoizedState,o,c)},useTransition:function(){var o=hu(QA)[0],c=li().memoizedState;return[typeof o=="boolean"?o:iA(o),c]},useSyncExternalStore:Cl,useId:Hp,useHostTransitionStatus:_g,useFormState:Ef,useActionState:Ef,useOptimistic:function(o,c){var m=li();return vr!==null?ra(m,vr,o,c):(m.baseState=o,[o,m.queue.dispatch])},useMemoCache:Ru,useCacheRefresh:bg};Cg.useEffectEvent=Fd;function Vp(o,c,m,S){c=o.memoizedState,m=m(S,c),m=m==null?c:C({},c,m),o.memoizedState=m,o.lanes===0&&(o.updateQueue.baseState=m)}var Bc={enqueueSetState:function(o,c,m){o=o._reactInternals;var S=lA(),P=Et(S);P.payload=c,m!=null&&(P.callback=m),c=zt(o,P,S),c!==null&&(Eo(c,o,S),tr(c,o,S))},enqueueReplaceState:function(o,c,m){o=o._reactInternals;var S=lA(),P=Et(S);P.tag=1,P.payload=c,m!=null&&(P.callback=m),c=zt(o,P,S),c!==null&&(Eo(c,o,S),tr(c,o,S))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var m=lA(),S=Et(m);S.tag=2,c!=null&&(S.callback=c),c=zt(o,S,m),c!==null&&(Eo(c,o,m),tr(c,o,m))}};function If(o,c,m,S,P,z,ie){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(S,z,ie):c.prototype&&c.prototype.isPureReactComponent?!dn(m,S)||!dn(P,z):!0}function jy(o,c,m,S){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(m,S),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(m,S),c.state!==o&&Bc.enqueueReplaceState(c,c.state,null)}function Oh(o,c){var m=c;if("ref"in c){m={};for(var S in c)S!=="ref"&&(m[S]=c[S])}if(o=o.defaultProps){m===c&&(m=C({},m));for(var P in o)m[P]===void 0&&(m[P]=o[P])}return m}function Hy(o){Xo(o)}function Ky(o){console.error(o)}function Vy(o){Xo(o)}function qp(o,c){try{var m=o.onUncaughtError;m(c.value,{componentStack:c.stack})}catch(S){setTimeout(function(){throw S})}}function qy(o,c,m){try{var S=o.onCaughtError;S(m.value,{componentStack:m.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(P){setTimeout(function(){throw P})}}function Od(o,c,m){return m=Et(m),m.tag=3,m.payload={element:null},m.callback=function(){qp(o,c)},m}function Gy(o){return o=Et(o),o.tag=3,o}function Dh(o,c,m,S){var P=m.type.getDerivedStateFromError;if(typeof P=="function"){var z=S.value;o.payload=function(){return P(z)},o.callback=function(){qy(c,m,S)}}var ie=m.stateNode;ie!==null&&typeof ie.componentDidCatch=="function"&&(o.callback=function(){qy(c,m,S),typeof P!="function"&&(Ic===null?Ic=new Set([this]):Ic.add(this));var Ee=S.stack;this.componentDidCatch(S.value,{componentStack:Ee!==null?Ee:""})})}function cw(o,c,m,S,P){if(m.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){if(c=m.alternate,c!==null&&NA(c,m,P,!0),m=In.current,m!==null){switch(m.tag){case 31:case 13:return sn===null?rm():m.alternate===null&&sa===0&&(sa=3),m.flags&=-257,m.flags|=65536,m.lanes=P,S===G?m.flags|=16384:(c=m.updateQueue,c===null?m.updateQueue=new Set([S]):c.add(S),am(o,S,P)),!1;case 22:return m.flags|=65536,S===G?m.flags|=16384:(c=m.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([S])},m.updateQueue=c):(m=c.retryQueue,m===null?c.retryQueue=new Set([S]):m.add(S)),am(o,S,P)),!1}throw Error(n(435,m.tag))}return am(o,S,P),rm(),!1}if(Rt)return c=In.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=P,S!==So&&(o=Error(n(422),{cause:S}),kA(Qs(o,m)))):(S!==So&&(c=Error(n(423),{cause:S}),kA(Qs(c,m))),o=o.current.alternate,o.flags|=65536,P&=-P,o.lanes|=P,S=Qs(S,m),P=Od(o.stateNode,S,P),Vt(o,P),sa!==4&&(sa=2)),!1;var z=Error(n(520),{cause:S});if(z=Qs(z,m),jf===null?jf=[z]:jf.push(z),sa!==4&&(sa=2),c===null)return!0;S=Qs(S,m),m=c;do{switch(m.tag){case 3:return m.flags|=65536,o=P&-P,m.lanes|=o,o=Od(m.stateNode,S,o),Vt(m,o),!1;case 1:if(c=m.type,z=m.stateNode,(m.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(Ic===null||!Ic.has(z))))return m.flags|=65536,P&=-P,m.lanes|=P,P=Gy(P),Dh(P,o,m,S),Vt(m,P),!1}m=m.return}while(m!==null);return!1}var na=Error(n(461)),xa=!1;function zs(o,c,m,S){c.child=o===null?St(c,null,m,S):wt(c,o.child,m,S)}function Dd(o,c,m,S,P){m=m.render;var z=c.ref;if("ref"in S){var ie={};for(var Ee in S)Ee!=="ref"&&(ie[Ee]=S[Ee])}else ie=S;return fa(c),S=Uh(o,c,m,ie,z,P),Ee=Qu(),o!==null&&!xa?(uu(o,c,P),Hu(o,c,P)):(Rt&&Ee&&Gc(c),c.flags|=1,zs(o,c,S,P),c.child)}function kd(o,c,m,S,P){if(o===null){var z=m.type;return typeof z=="function"&&!Ou(z)&&z.defaultProps===void 0&&m.compare===null?(c.tag=15,c.type=z,Ff(o,c,z,S,P)):(o=FA(m.type,null,S,c,c.mode,P),o.ref=c.ref,o.return=c,c.child=o)}if(z=o.child,!Xp(o,P)){var ie=z.memoizedProps;if(m=m.compare,m=m!==null?m:dn,m(ie,S)&&o.ref===c.ref)return Hu(o,c,P)}return c.flags|=1,o=gs(z,S),o.ref=c.ref,o.return=c,c.child=o}function Ff(o,c,m,S,P){if(o!==null){var z=o.memoizedProps;if(dn(z,S)&&o.ref===c.ref)if(xa=!1,c.pendingProps=S=z,Xp(o,P))(o.flags&131072)!==0&&(xa=!0);else return c.lanes=o.lanes,Hu(o,c,P)}return $p(o,c,m,S,P)}function Sg(o,c,m,S){var P=S.children,z=o!==null?o.memoizedState:null;if(o===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),S.mode==="hidden"){if((c.flags&128)!==0){if(z=z!==null?z.baseLanes|m:m,o!==null){for(S=c.child=o.child,P=0;S!==null;)P=P|S.lanes|S.childLanes,S=S.sibling;S=P&~z}else S=0,c.child=null;return Uf(o,c,z,m,S)}if((m&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&x(c,z!==null?z.cachePool:null),z!==null?jn(c,z):Dr(),xi(c);else return S=c.lanes=536870912,Uf(o,c,z!==null?z.baseLanes|m:m,m,S)}else z!==null?(x(c,z.cachePool),jn(c,z),ki(),c.memoizedState=null):(o!==null&&x(c,null),Dr(),ki());return zs(o,c,P,m),c.child}function Lf(o,c){return o!==null&&o.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function Uf(o,c,m,S,P){var z=v();return z=z===null?null:{parent:wi._currentValue,pool:z},c.memoizedState={baseLanes:m,cachePool:z},o!==null&&x(c,null),Dr(),xi(c),o!==null&&NA(o,c,S,!0),c.childLanes=P,null}function Mf(o,c){return c=Nd({mode:c.mode,children:c.children},o.mode),c.ref=o.ref,o.child=c,c.return=o,c}function Gp(o,c,m){return wt(c,o.child,null,m),o=Mf(c,c.pendingProps),o.flags|=2,Gn(c),c.memoizedState=null,o}function Eg(o,c,m){var S=c.pendingProps,P=(c.flags&128)!==0;if(c.flags&=-129,o===null){if(Rt){if(S.mode==="hidden")return o=Mf(c,S),c.lanes=536870912,Lf(null,o);if(Cn(c),(o=Mn)?(o=Bt(o,Ei),o=o!==null&&o.data==="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:xl!==null?{id:qi,overflow:Fa}:null,retryLane:536870912,hydrationErrors:null},m=UA(o),m.return=c,c.child=m,Gi=c,Mn=null)):o=null,o===null)throw io(c);return c.lanes=536870912,null}return Mf(c,S)}var z=o.memoizedState;if(z!==null){var ie=z.dehydrated;if(Cn(c),P)if(c.flags&256)c.flags&=-257,c=Gp(o,c,m);else if(c.memoizedState!==null)c.child=o.child,c.flags|=128,c=null;else throw Error(n(558));else if(xa||NA(o,c,m,!1),P=(m&o.childLanes)!==0,xa||P){if(S=Fi,S!==null&&(ie=Mt(S,m),ie!==0&&ie!==z.retryLane))throw z.retryLane=ie,Zo(o,ie),Eo(S,o,ie),na;rm(),c=Gp(o,c,m)}else o=z.treeContext,Mn=Wt(ie.nextSibling),Gi=c,Rt=!0,La=null,Ei=!1,o!==null&&$c(c,o),c=Mf(c,S),c.flags|=4096;return c}return o=gs(o.child,{mode:S.mode,children:S.children}),o.ref=c.ref,c.child=o,o.return=c,o}function Pf(o,c){var m=c.ref;if(m===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(n(284));(o===null||o.ref!==m)&&(c.flags|=4194816)}}function $p(o,c,m,S,P){return fa(c),m=Uh(o,c,m,S,void 0,P),S=Qu(),o!==null&&!xa?(uu(o,c,P),Hu(o,c,P)):(Rt&&S&&Gc(c),c.flags|=1,zs(o,c,m,P),c.child)}function Tg(o,c,m,S,P,z){return fa(c),c.updateQueue=null,m=Ja(c,S,m,P),bc(o),S=Qu(),o!==null&&!xa?(uu(o,c,z),Hu(o,c,z)):(Rt&&S&&Gc(c),c.flags|=1,zs(o,c,m,z),c.child)}function $y(o,c,m,S,P){if(fa(c),c.stateNode===null){var z=bi,ie=m.contextType;typeof ie=="object"&&ie!==null&&(z=pn(ie)),z=new m(S,z),c.memoizedState=z.state!==null&&z.state!==void 0?z.state:null,z.updater=Bc,c.stateNode=z,z._reactInternals=c,z=c.stateNode,z.props=S,z.state=c.memoizedState,z.refs={},gt(c),ie=m.contextType,z.context=typeof ie=="object"&&ie!==null?pn(ie):bi,z.state=c.memoizedState,ie=m.getDerivedStateFromProps,typeof ie=="function"&&(Vp(c,m,ie,S),z.state=c.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof z.getSnapshotBeforeUpdate=="function"||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(ie=z.state,typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount(),ie!==z.state&&Bc.enqueueReplaceState(z,z.state,null),un(c,S,z,P),rr(),z.state=c.memoizedState),typeof z.componentDidMount=="function"&&(c.flags|=4194308),S=!0}else if(o===null){z=c.stateNode;var Ee=c.memoizedProps,tt=Oh(m,Ee);z.props=tt;var bt=z.context,Dt=m.contextType;ie=bi,typeof Dt=="object"&&Dt!==null&&(ie=pn(Dt));var jt=m.getDerivedStateFromProps;Dt=typeof jt=="function"||typeof z.getSnapshotBeforeUpdate=="function",Ee=c.pendingProps!==Ee,Dt||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(Ee||bt!==ie)&&jy(c,z,S,ie),_t=!1;var xt=c.memoizedState;z.state=xt,un(c,S,z,P),rr(),bt=c.memoizedState,Ee||xt!==bt||_t?(typeof jt=="function"&&(Vp(c,m,jt,S),bt=c.memoizedState),(tt=_t||If(c,m,tt,S,xt,bt,ie))?(Dt||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount()),typeof z.componentDidMount=="function"&&(c.flags|=4194308)):(typeof z.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=S,c.memoizedState=bt),z.props=S,z.state=bt,z.context=ie,S=tt):(typeof z.componentDidMount=="function"&&(c.flags|=4194308),S=!1)}else{z=c.stateNode,Nt(o,c),ie=c.memoizedProps,Dt=Oh(m,ie),z.props=Dt,jt=c.pendingProps,xt=z.context,bt=m.contextType,tt=bi,typeof bt=="object"&&bt!==null&&(tt=pn(bt)),Ee=m.getDerivedStateFromProps,(bt=typeof Ee=="function"||typeof z.getSnapshotBeforeUpdate=="function")||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(ie!==jt||xt!==tt)&&jy(c,z,S,tt),_t=!1,xt=c.memoizedState,z.state=xt,un(c,S,z,P),rr();var Ft=c.memoizedState;ie!==jt||xt!==Ft||_t||o!==null&&o.dependencies!==null&&Zc(o.dependencies)?(typeof Ee=="function"&&(Vp(c,m,Ee,S),Ft=c.memoizedState),(Dt=_t||If(c,m,Dt,S,xt,Ft,tt)||o!==null&&o.dependencies!==null&&Zc(o.dependencies))?(bt||typeof z.UNSAFE_componentWillUpdate!="function"&&typeof z.componentWillUpdate!="function"||(typeof z.componentWillUpdate=="function"&&z.componentWillUpdate(S,Ft,tt),typeof z.UNSAFE_componentWillUpdate=="function"&&z.UNSAFE_componentWillUpdate(S,Ft,tt)),typeof z.componentDidUpdate=="function"&&(c.flags|=4),typeof z.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof z.componentDidUpdate!="function"||ie===o.memoizedProps&&xt===o.memoizedState||(c.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||ie===o.memoizedProps&&xt===o.memoizedState||(c.flags|=1024),c.memoizedProps=S,c.memoizedState=Ft),z.props=S,z.state=Ft,z.context=tt,S=Dt):(typeof z.componentDidUpdate!="function"||ie===o.memoizedProps&&xt===o.memoizedState||(c.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||ie===o.memoizedProps&&xt===o.memoizedState||(c.flags|=1024),S=!1)}return z=S,Pf(o,c),S=(c.flags&128)!==0,z||S?(z=c.stateNode,m=S&&typeof m.getDerivedStateFromError!="function"?null:z.render(),c.flags|=1,o!==null&&S?(c.child=wt(c,o.child,null,P),c.child=wt(c,null,m,P)):zs(o,c,m,P),c.memoizedState=z.state,o=c.child):o=Hu(o,c,P),o}function Xy(o,c,m,S){return Yl(),c.flags|=256,zs(o,c,m,S),c.child}var Ig={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fg(o){return{baseLanes:o,cachePool:L()}}function Lg(o,c,m){return o=o!==null?o.childLanes&~m:0,c&&(o|=Il),o}function Cc(o,c,m){var S=c.pendingProps,P=!1,z=(c.flags&128)!==0,ie;if((ie=z)||(ie=o!==null&&o.memoizedState===null?!1:(fn.current&2)!==0),ie&&(P=!0,c.flags&=-129),ie=(c.flags&32)!==0,c.flags&=-33,o===null){if(Rt){if(P?On(c):ki(),(o=Mn)?(o=Bt(o,Ei),o=o!==null&&o.data!=="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:xl!==null?{id:qi,overflow:Fa}:null,retryLane:536870912,hydrationErrors:null},m=UA(o),m.return=c,c.child=m,Gi=c,Mn=null)):o=null,o===null)throw io(c);return er(o)?c.lanes=32:c.lanes=536870912,null}var Ee=S.children;return S=S.fallback,P?(ki(),P=c.mode,Ee=Nd({mode:"hidden",children:Ee},P),S=Ns(S,P,m,null),Ee.return=c,S.return=c,Ee.sibling=S,c.child=Ee,S=c.child,S.memoizedState=Fg(m),S.childLanes=Lg(o,ie,m),c.memoizedState=Ig,Lf(null,S)):(On(c),Ug(c,Ee))}var tt=o.memoizedState;if(tt!==null&&(Ee=tt.dehydrated,Ee!==null)){if(z)c.flags&256?(On(c),c.flags&=-257,c=ih(o,c,m)):c.memoizedState!==null?(ki(),c.child=o.child,c.flags|=128,c=null):(ki(),Ee=S.fallback,P=c.mode,S=Nd({mode:"visible",children:S.children},P),Ee=Ns(Ee,P,m,null),Ee.flags|=2,S.return=c,Ee.return=c,S.sibling=Ee,c.child=S,wt(c,o.child,null,m),S=c.child,S.memoizedState=Fg(m),S.childLanes=Lg(o,ie,m),c.memoizedState=Ig,c=Lf(null,S));else if(On(c),er(Ee)){if(ie=Ee.nextSibling&&Ee.nextSibling.dataset,ie)var bt=ie.dgst;ie=bt,S=Error(n(419)),S.stack="",S.digest=ie,kA({value:S,source:null,stack:null}),c=ih(o,c,m)}else if(xa||NA(o,c,m,!1),ie=(m&o.childLanes)!==0,xa||ie){if(ie=Fi,ie!==null&&(S=Mt(ie,m),S!==0&&S!==tt.retryLane))throw tt.retryLane=S,Zo(o,S),Eo(ie,o,S),na;Kt(Ee)||rm(),c=ih(o,c,m)}else Kt(Ee)?(c.flags|=192,c.child=o.child,c=null):(o=tt.treeContext,Mn=Wt(Ee.nextSibling),Gi=c,Rt=!0,La=null,Ei=!1,o!==null&&$c(c,o),c=Ug(c,S.children),c.flags|=4096);return c}return P?(ki(),Ee=S.fallback,P=c.mode,tt=o.child,bt=tt.sibling,S=gs(tt,{mode:"hidden",children:S.children}),S.subtreeFlags=tt.subtreeFlags&65011712,bt!==null?Ee=gs(bt,Ee):(Ee=Ns(Ee,P,m,null),Ee.flags|=2),Ee.return=c,S.return=c,S.sibling=Ee,c.child=S,Lf(null,S),S=c.child,Ee=o.child.memoizedState,Ee===null?Ee=Fg(m):(P=Ee.cachePool,P!==null?(tt=wi._currentValue,P=P.parent!==tt?{parent:tt,pool:tt}:P):P=L(),Ee={baseLanes:Ee.baseLanes|m,cachePool:P}),S.memoizedState=Ee,S.childLanes=Lg(o,ie,m),c.memoizedState=Ig,Lf(o.child,S)):(On(c),m=o.child,o=m.sibling,m=gs(m,{mode:"visible",children:S.children}),m.return=c,m.sibling=null,o!==null&&(ie=c.deletions,ie===null?(c.deletions=[o],c.flags|=16):ie.push(o)),c.child=m,c.memoizedState=null,m)}function Ug(o,c){return c=Nd({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function Nd(o,c){return o=ba(22,o,null,c),o.lanes=0,o}function ih(o,c,m){return wt(c,o.child,null,m),o=Ug(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function Zy(o,c,m){o.lanes|=c;var S=o.alternate;S!==null&&(S.lanes|=c),Nu(o.return,c,m)}function Mg(o,c,m,S,P,z){var ie=o.memoizedState;ie===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:S,tail:m,tailMode:P,treeForkCount:z}:(ie.isBackwards=c,ie.rendering=null,ie.renderingStartTime=0,ie.last=S,ie.tail=m,ie.tailMode=P,ie.treeForkCount=z)}function Wy(o,c,m){var S=c.pendingProps,P=S.revealOrder,z=S.tail;S=S.children;var ie=fn.current,Ee=(ie&2)!==0;if(Ee?(ie=ie&1|2,c.flags|=128):ie&=1,ye(fn,ie),zs(o,c,S,m),S=Rt?ku:0,!Ee&&o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Zy(o,m,c);else if(o.tag===19)Zy(o,m,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(P){case"forwards":for(m=c.child,P=null;m!==null;)o=m.alternate,o!==null&&wa(o)===null&&(P=m),m=m.sibling;m=P,m===null?(P=c.child,c.child=null):(P=m.sibling,m.sibling=null),Mg(c,!1,P,m,z,S);break;case"backwards":case"unstable_legacy-backwards":for(m=null,P=c.child,c.child=null;P!==null;){if(o=P.alternate,o!==null&&wa(o)===null){c.child=P;break}o=P.sibling,P.sibling=m,m=P,P=o}Mg(c,!0,m,null,z,S);break;case"together":Mg(c,!1,null,null,void 0,S);break;default:c.memoizedState=null}return c.child}function Hu(o,c,m){if(o!==null&&(c.dependencies=o.dependencies),lh|=c.lanes,(m&c.childLanes)===0)if(o!==null){if(NA(o,c,m,!1),(m&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(n(153));if(c.child!==null){for(o=c.child,m=gs(o,o.pendingProps),c.child=m,m.return=c;o.sibling!==null;)o=o.sibling,m=m.sibling=gs(o,o.pendingProps),m.return=c;m.sibling=null}return c.child}function Xp(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&Zc(o)))}function hw(o,c,m){switch(c.tag){case 3:mt(c,c.stateNode.containerInfo),Bl(c,wi,o.memoizedState.cache),Yl();break;case 27:case 5:pt(c);break;case 4:mt(c,c.stateNode.containerInfo);break;case 10:Bl(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,Cn(c),null;break;case 13:var S=c.memoizedState;if(S!==null)return S.dehydrated!==null?(On(c),c.flags|=128,null):(m&c.child.childLanes)!==0?Cc(o,c,m):(On(c),o=Hu(o,c,m),o!==null?o.sibling:null);On(c);break;case 19:var P=(o.flags&128)!==0;if(S=(m&c.childLanes)!==0,S||(NA(o,c,m,!1),S=(m&c.childLanes)!==0),P){if(S)return Wy(o,c,m);c.flags|=128}if(P=c.memoizedState,P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),ye(fn,fn.current),S)break;return null;case 22:return c.lanes=0,Sg(o,c,m,c.pendingProps);case 24:Bl(c,wi,o.memoizedState.cache)}return Hu(o,c,m)}function Yy(o,c,m){if(o!==null)if(o.memoizedProps!==c.pendingProps)xa=!0;else{if(!Xp(o,m)&&(c.flags&128)===0)return xa=!1,hw(o,c,m);xa=(o.flags&131072)!==0}else xa=!1,Rt&&(c.flags&1048576)!==0&&wf(c,ku,c.index);switch(c.lanes=0,c.tag){case 16:e:{var S=c.pendingProps;if(o=ne(c.elementType),c.type=o,typeof o=="function")Ou(o)?(S=Oh(o,S),c.tag=1,c=$y(null,c,o,S,m)):(c.tag=0,c=$p(null,c,o,S,m));else{if(o!=null){var P=o.$$typeof;if(P===ae){c.tag=11,c=Dd(null,c,o,S,m);break e}else if(P===Be){c.tag=14,c=kd(null,c,o,S,m);break e}}throw c=Ue(o)||o,Error(n(306,c,""))}}return c;case 0:return $p(o,c,c.type,c.pendingProps,m);case 1:return S=c.type,P=Oh(S,c.pendingProps),$y(o,c,S,P,m);case 3:e:{if(mt(c,c.stateNode.containerInfo),o===null)throw Error(n(387));S=c.pendingProps;var z=c.memoizedState;P=z.element,Nt(o,c),un(c,S,null,m);var ie=c.memoizedState;if(S=ie.cache,Bl(c,wi,S),S!==z.cache&&Jl(c,[wi],m,!0),rr(),S=ie.element,z.isDehydrated)if(z={element:S,isDehydrated:!1,cache:ie.cache},c.updateQueue.baseState=z,c.memoizedState=z,c.flags&256){c=Xy(o,c,S,m);break e}else if(S!==P){P=Qs(Error(n(424)),c),kA(P),c=Xy(o,c,S,m);break e}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Mn=Wt(o.firstChild),Gi=c,Rt=!0,La=null,Ei=!0,m=St(c,null,S,m),c.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if(Yl(),S===P){c=Hu(o,c,m);break e}zs(o,c,S,m)}c=c.child}return c;case 26:return Pf(o,c),o===null?(m=ws(c.type,null,c.pendingProps,null))?c.memoizedState=m:Rt||(m=c.type,o=c.pendingProps,S=B($e.current).createElement(m),S[or]=c,S[Or]=o,_s(S,m,o),Ui(S),c.stateNode=S):c.memoizedState=ws(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return pt(c),o===null&&Rt&&(S=c.stateNode=ir(c.type,c.pendingProps,$e.current),Gi=c,Ei=!0,P=Mn,Ce(c.type)?(Yt=P,Mn=Wt(S.firstChild)):Mn=P),zs(o,c,c.pendingProps.children,m),Pf(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&Rt&&((P=S=Mn)&&(S=it(S,c.type,c.pendingProps,Ei),S!==null?(c.stateNode=S,Gi=c,Mn=Wt(S.firstChild),Ei=!1,P=!0):P=!1),P||io(c)),pt(c),P=c.type,z=c.pendingProps,ie=o!==null?o.memoizedProps:null,S=z.children,O(P,z)?S=null:ie!==null&&O(P,ie)&&(c.flags|=32),c.memoizedState!==null&&(P=Uh(o,c,Bf,null,null,m),ed._currentValue=P),Pf(o,c),zs(o,c,S,m),c.child;case 6:return o===null&&Rt&&((o=m=Mn)&&(m=At(m,c.pendingProps,Ei),m!==null?(c.stateNode=m,Gi=c,Mn=null,o=!0):o=!1),o||io(c)),null;case 13:return Cc(o,c,m);case 4:return mt(c,c.stateNode.containerInfo),S=c.pendingProps,o===null?c.child=wt(c,null,S,m):zs(o,c,S,m),c.child;case 11:return Dd(o,c,c.type,c.pendingProps,m);case 7:return zs(o,c,c.pendingProps,m),c.child;case 8:return zs(o,c,c.pendingProps.children,m),c.child;case 12:return zs(o,c,c.pendingProps.children,m),c.child;case 10:return S=c.pendingProps,Bl(c,c.type,S.value),zs(o,c,S.children,m),c.child;case 9:return P=c.type._context,S=c.pendingProps.children,fa(c),P=pn(P),S=S(P),c.flags|=1,zs(o,c,S,m),c.child;case 14:return kd(o,c,c.type,c.pendingProps,m);case 15:return Ff(o,c,c.type,c.pendingProps,m);case 19:return Wy(o,c,m);case 31:return Eg(o,c,m);case 22:return Sg(o,c,m,c.pendingProps);case 24:return fa(c),S=pn(wi),o===null?(P=v(),P===null&&(P=Fi,z=ys(),P.pooledCache=z,z.refCount++,z!==null&&(P.pooledCacheLanes|=m),P=z),c.memoizedState={parent:S,cache:P},gt(c),Bl(c,wi,P)):((o.lanes&m)!==0&&(Nt(o,c),un(c,null,null,m),rr()),P=o.memoizedState,z=c.memoizedState,P.parent!==S?(P={parent:S,cache:S},c.memoizedState=P,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=P),Bl(c,wi,S)):(S=z.cache,Bl(c,wi,S),S!==P.cache&&Jl(c,[wi],m,!0))),zs(o,c,c.pendingProps.children,m),c.child;case 29:throw c.pendingProps}throw Error(n(156,c.tag))}function Sc(o){o.flags|=4}function Pg(o,c,m,S,P){if((c=(o.mode&32)!==0)&&(c=!1),c){if(o.flags|=16777216,(P&335544128)===P)if(o.stateNode.complete)o.flags|=8192;else if(dv())o.flags|=8192;else throw ce=G,N}else o.flags&=-16777217}function Zp(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!ss(c))if(dv())o.flags|=8192;else throw ce=G,N}function ah(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?Re():536870912,o.lanes|=c,zf|=c)}function kh(o,c){if(!Rt)switch(o.tailMode){case"hidden":c=o.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?o.tail=null:m.sibling=null;break;case"collapsed":m=o.tail;for(var S=null;m!==null;)m.alternate!==null&&(S=m),m=m.sibling;S===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:S.sibling=null}}function ia(o){var c=o.alternate!==null&&o.alternate.child===o.child,m=0,S=0;if(c)for(var P=o.child;P!==null;)m|=P.lanes|P.childLanes,S|=P.subtreeFlags&65011712,S|=P.flags&65011712,P.return=o,P=P.sibling;else for(P=o.child;P!==null;)m|=P.lanes|P.childLanes,S|=P.subtreeFlags,S|=P.flags,P.return=o,P=P.sibling;return o.subtreeFlags|=S,o.childLanes=m,c}function fw(o,c,m){var S=c.pendingProps;switch(yc(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ia(c),null;case 1:return ia(c),null;case 3:return m=c.stateNode,S=null,o!==null&&(S=o.memoizedState.cache),c.memoizedState.cache!==S&&(c.flags|=2048),so(wi),Ke(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(o===null||o.child===null)&&(Hr(c)?Sc(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Lh())),ia(c),null;case 26:var P=c.type,z=c.memoizedState;return o===null?(Sc(c),z!==null?(ia(c),Zp(c,z)):(ia(c),Pg(c,P,null,S,m))):z?z!==o.memoizedState?(Sc(c),ia(c),Zp(c,z)):(ia(c),c.flags&=-16777217):(o=o.memoizedProps,o!==S&&Sc(c),ia(c),Pg(c,P,o,S,m)),null;case 27:if(Ct(c),m=$e.current,P=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==S&&Sc(c);else{if(!S){if(c.stateNode===null)throw Error(n(166));return ia(c),null}o=Ie.current,Hr(c)?DA(c):(o=ir(P,S,m),c.stateNode=o,Sc(c))}return ia(c),null;case 5:if(Ct(c),P=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==S&&Sc(c);else{if(!S){if(c.stateNode===null)throw Error(n(166));return ia(c),null}if(z=Ie.current,Hr(c))DA(c);else{var ie=B($e.current);switch(z){case 1:z=ie.createElementNS("http://www.w3.org/2000/svg",P);break;case 2:z=ie.createElementNS("http://www.w3.org/1998/Math/MathML",P);break;default:switch(P){case"svg":z=ie.createElementNS("http://www.w3.org/2000/svg",P);break;case"math":z=ie.createElementNS("http://www.w3.org/1998/Math/MathML",P);break;case"script":z=ie.createElement("div"),z.innerHTML="<script><\/script>",z=z.removeChild(z.firstChild);break;case"select":z=typeof S.is=="string"?ie.createElement("select",{is:S.is}):ie.createElement("select"),S.multiple?z.multiple=!0:S.size&&(z.size=S.size);break;default:z=typeof S.is=="string"?ie.createElement(P,{is:S.is}):ie.createElement(P)}}z[or]=c,z[Or]=S;e:for(ie=c.child;ie!==null;){if(ie.tag===5||ie.tag===6)z.appendChild(ie.stateNode);else if(ie.tag!==4&&ie.tag!==27&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===c)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===c)break e;ie=ie.return}ie.sibling.return=ie.return,ie=ie.sibling}c.stateNode=z;e:switch(_s(z,P,S),P){case"button":case"input":case"select":case"textarea":S=!!S.autoFocus;break e;case"img":S=!0;break e;default:S=!1}S&&Sc(c)}}return ia(c),Pg(c,c.type,o===null?null:o.memoizedProps,c.pendingProps,m),null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==S&&Sc(c);else{if(typeof S!="string"&&c.stateNode===null)throw Error(n(166));if(o=$e.current,Hr(c)){if(o=c.stateNode,m=c.memoizedProps,S=null,P=Gi,P!==null)switch(P.tag){case 27:case 5:S=P.memoizedProps}o[or]=c,o=!!(o.nodeValue===m||S!==null&&S.suppressHydrationWarning===!0||Wf(o.nodeValue,m)),o||io(c,!0)}else o=B(o).createTextNode(S),o[or]=c,c.stateNode=o}return ia(c),null;case 31:if(m=c.memoizedState,o===null||o.memoizedState!==null){if(S=Hr(c),m!==null){if(o===null){if(!S)throw Error(n(318));if(o=c.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(557));o[or]=c}else Yl(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;ia(c),o=!1}else m=Lh(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=m),o=!0;if(!o)return c.flags&256?(Gn(c),c):(Gn(c),null);if((c.flags&128)!==0)throw Error(n(558))}return ia(c),null;case 13:if(S=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(P=Hr(c),S!==null&&S.dehydrated!==null){if(o===null){if(!P)throw Error(n(318));if(P=c.memoizedState,P=P!==null?P.dehydrated:null,!P)throw Error(n(317));P[or]=c}else Yl(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;ia(c),P=!1}else P=Lh(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=P),P=!0;if(!P)return c.flags&256?(Gn(c),c):(Gn(c),null)}return Gn(c),(c.flags&128)!==0?(c.lanes=m,c):(m=S!==null,o=o!==null&&o.memoizedState!==null,m&&(S=c.child,P=null,S.alternate!==null&&S.alternate.memoizedState!==null&&S.alternate.memoizedState.cachePool!==null&&(P=S.alternate.memoizedState.cachePool.pool),z=null,S.memoizedState!==null&&S.memoizedState.cachePool!==null&&(z=S.memoizedState.cachePool.pool),z!==P&&(S.flags|=2048)),m!==o&&m&&(c.child.flags|=8192),ah(c,c.updateQueue),ia(c),null);case 4:return Ke(),o===null&&n0(c.stateNode.containerInfo),ia(c),null;case 10:return so(c.type),ia(c),null;case 19:if(re(fn),S=c.memoizedState,S===null)return ia(c),null;if(P=(c.flags&128)!==0,z=S.rendering,z===null)if(P)kh(S,!1);else{if(sa!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(z=wa(o),z!==null){for(c.flags|=128,kh(S,!1),o=z.updateQueue,c.updateQueue=o,ah(c,o),c.subtreeFlags=0,o=m,m=c.child;m!==null;)Au(m,o),m=m.sibling;return ye(fn,fn.current&1|2),Rt&&no(c,S.treeForkCount),c.child}o=o.sibling}S.tail!==null&&rn()>em&&(c.flags|=128,P=!0,kh(S,!1),c.lanes=4194304)}else{if(!P)if(o=wa(z),o!==null){if(c.flags|=128,P=!0,o=o.updateQueue,c.updateQueue=o,ah(c,o),kh(S,!0),S.tail===null&&S.tailMode==="hidden"&&!z.alternate&&!Rt)return ia(c),null}else 2*rn()-S.renderingStartTime>em&&m!==536870912&&(c.flags|=128,P=!0,kh(S,!1),c.lanes=4194304);S.isBackwards?(z.sibling=c.child,c.child=z):(o=S.last,o!==null?o.sibling=z:c.child=z,S.last=z)}return S.tail!==null?(o=S.tail,S.rendering=o,S.tail=o.sibling,S.renderingStartTime=rn(),o.sibling=null,m=fn.current,ye(fn,P?m&1|2:m&1),Rt&&no(c,S.treeForkCount),o):(ia(c),null);case 22:case 23:return Gn(c),qn(),S=c.memoizedState!==null,o!==null?o.memoizedState!==null!==S&&(c.flags|=8192):S&&(c.flags|=8192),S?(m&536870912)!==0&&(c.flags&128)===0&&(ia(c),c.subtreeFlags&6&&(c.flags|=8192)):ia(c),m=c.updateQueue,m!==null&&ah(c,m.retryQueue),m=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),S=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(S=c.memoizedState.cachePool.pool),S!==m&&(c.flags|=2048),o!==null&&re(p),null;case 24:return m=null,o!==null&&(m=o.memoizedState.cache),c.memoizedState.cache!==m&&(c.flags|=2048),so(wi),ia(c),null;case 25:return null;case 30:return null}throw Error(n(156,c.tag))}function Jy(o,c){switch(yc(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return so(wi),Ke(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return Ct(c),null;case 31:if(c.memoizedState!==null){if(Gn(c),c.alternate===null)throw Error(n(340));Yl()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 13:if(Gn(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(n(340));Yl()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return re(fn),null;case 4:return Ke(),null;case 10:return so(c.type),null;case 22:case 23:return Gn(c),qn(),o!==null&&re(p),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return so(wi),null;case 25:return null;default:return null}}function ev(o,c){switch(yc(c),c.tag){case 3:so(wi),Ke();break;case 26:case 27:case 5:Ct(c);break;case 4:Ke();break;case 31:c.memoizedState!==null&&Gn(c);break;case 13:Gn(c);break;case 19:re(fn);break;case 10:so(c.type);break;case 22:case 23:Gn(c),qn(),o!==null&&re(p);break;case 24:so(wi)}}function Qd(o,c){try{var m=c.updateQueue,S=m!==null?m.lastEffect:null;if(S!==null){var P=S.next;m=P;do{if((m.tag&o)===o){S=void 0;var z=m.create,ie=m.inst;S=z(),ie.destroy=S}m=m.next}while(m!==P)}}catch(Ee){hi(c,c.return,Ee)}}function VA(o,c,m){try{var S=c.updateQueue,P=S!==null?S.lastEffect:null;if(P!==null){var z=P.next;S=z;do{if((S.tag&o)===o){var ie=S.inst,Ee=ie.destroy;if(Ee!==void 0){ie.destroy=void 0,P=c;var tt=m,bt=Ee;try{bt()}catch(Dt){hi(P,tt,Dt)}}}S=S.next}while(S!==z)}}catch(Dt){hi(c,c.return,Dt)}}function Og(o){var c=o.updateQueue;if(c!==null){var m=o.stateNode;try{Ur(c,m)}catch(S){hi(o,o.return,S)}}}function tv(o,c,m){m.props=Oh(o.type,o.memoizedProps),m.state=o.memoizedState;try{m.componentWillUnmount()}catch(S){hi(o,c,S)}}function Rd(o,c){try{var m=o.ref;if(m!==null){switch(o.tag){case 26:case 27:case 5:var S=o.stateNode;break;case 30:S=o.stateNode;break;default:S=o.stateNode}typeof m=="function"?o.refCleanup=m(S):m.current=S}}catch(P){hi(o,c,P)}}function Ku(o,c){var m=o.ref,S=o.refCleanup;if(m!==null)if(typeof S=="function")try{S()}catch(P){hi(o,c,P)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(P){hi(o,c,P)}else m.current=null}function rv(o){var c=o.type,m=o.memoizedProps,S=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":m.autoFocus&&S.focus();break e;case"img":m.src?S.src=m.src:m.srcSet&&(S.srcset=m.srcSet)}}catch(P){hi(o,o.return,P)}}function Dg(o,c,m){try{var S=o.stateNode;_w(S,o.type,m,c),S[Or]=c}catch(P){hi(o,o.return,P)}}function nv(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Ce(o.type)||o.tag===4}function Wp(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||nv(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Ce(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function zd(o,c,m){var S=o.tag;if(S===5||S===6)o=o.stateNode,c?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(o,c):(c=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,c.appendChild(o),m=m._reactRootContainer,m!=null||c.onclick!==null||(c.onclick=za));else if(S!==4&&(S===27&&Ce(o.type)&&(m=o.stateNode,c=null),o=o.child,o!==null))for(zd(o,c,m),o=o.sibling;o!==null;)zd(o,c,m),o=o.sibling}function jd(o,c,m){var S=o.tag;if(S===5||S===6)o=o.stateNode,c?m.insertBefore(o,c):m.appendChild(o);else if(S!==4&&(S===27&&Ce(o.type)&&(m=o.stateNode),o=o.child,o!==null))for(jd(o,c,m),o=o.sibling;o!==null;)jd(o,c,m),o=o.sibling}function kg(o){var c=o.stateNode,m=o.memoizedProps;try{for(var S=o.type,P=c.attributes;P.length;)c.removeAttributeNode(P[0]);_s(c,S,m),c[or]=o,c[Or]=m}catch(z){hi(o,o.return,z)}}var Vu=!1,es=!1,Of=!1,iv=typeof WeakSet=="function"?WeakSet:Set,vs=null;function dw(o,c){if(o=o.containerInfo,d=hm,o=Os(o),Go(o)){if("selectionStart"in o)var m={start:o.selectionStart,end:o.selectionEnd};else e:{m=(m=o.ownerDocument)&&m.defaultView||window;var S=m.getSelection&&m.getSelection();if(S&&S.rangeCount!==0){m=S.anchorNode;var P=S.anchorOffset,z=S.focusNode;S=S.focusOffset;try{m.nodeType,z.nodeType}catch{m=null;break e}var ie=0,Ee=-1,tt=-1,bt=0,Dt=0,jt=o,xt=null;t:for(;;){for(var Ft;jt!==m||P!==0&&jt.nodeType!==3||(Ee=ie+P),jt!==z||S!==0&&jt.nodeType!==3||(tt=ie+S),jt.nodeType===3&&(ie+=jt.nodeValue.length),(Ft=jt.firstChild)!==null;)xt=jt,jt=Ft;for(;;){if(jt===o)break t;if(xt===m&&++bt===P&&(Ee=ie),xt===z&&++Dt===S&&(tt=ie),(Ft=jt.nextSibling)!==null)break;jt=xt,xt=jt.parentNode}jt=Ft}m=Ee===-1||tt===-1?null:{start:Ee,end:tt}}else m=null}m=m||{start:0,end:0}}else m=null;for(g={focusedElem:o,selectionRange:m},hm=!1,vs=c;vs!==null;)if(c=vs,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,vs=o;else for(;vs!==null;){switch(c=vs,z=c.alternate,o=c.flags,c.tag){case 0:if((o&4)!==0&&(o=c.updateQueue,o=o!==null?o.events:null,o!==null))for(m=0;m<o.length;m++)P=o[m],P.ref.impl=P.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&z!==null){o=void 0,m=c,P=z.memoizedProps,z=z.memoizedState,S=m.stateNode;try{var Fr=Oh(m.type,P);o=S.getSnapshotBeforeUpdate(Fr,z),S.__reactInternalSnapshotBeforeUpdate=o}catch(hn){hi(m,m.return,hn)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,m=o.nodeType,m===9)ht(o);else if(m===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":ht(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(n(163))}if(o=c.sibling,o!==null){o.return=c.return,vs=o;break}vs=c.return}}function av(o,c,m){var S=m.flags;switch(m.tag){case 0:case 11:case 15:Tl(o,m),S&4&&Qd(5,m);break;case 1:if(Tl(o,m),S&4)if(o=m.stateNode,c===null)try{o.componentDidMount()}catch(ie){hi(m,m.return,ie)}else{var P=Oh(m.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(P,c,o.__reactInternalSnapshotBeforeUpdate)}catch(ie){hi(m,m.return,ie)}}S&64&&Og(m),S&512&&Rd(m,m.return);break;case 3:if(Tl(o,m),S&64&&(o=m.updateQueue,o!==null)){if(c=null,m.child!==null)switch(m.child.tag){case 27:case 5:c=m.child.stateNode;break;case 1:c=m.child.stateNode}try{Ur(o,c)}catch(ie){hi(m,m.return,ie)}}break;case 27:c===null&&S&4&&kg(m);case 26:case 5:Tl(o,m),c===null&&S&4&&rv(m),S&512&&Rd(m,m.return);break;case 12:Tl(o,m);break;case 31:Tl(o,m),S&4&&Ua(o,m);break;case 13:Tl(o,m),S&4&&Ng(o,m),S&64&&(o=m.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(m=gv.bind(null,m),kr(o,m))));break;case 22:if(S=m.memoizedState!==null||Vu,!S){c=c!==null&&c.memoizedState!==null||es,P=Vu;var z=es;Vu=S,(es=c)&&!z?Tc(o,m,(m.subtreeFlags&8772)!==0):Tl(o,m),Vu=P,es=z}break;case 30:break;default:Tl(o,m)}}function sv(o){var c=o.alternate;c!==null&&(o.alternate=null,sv(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&gi(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var aa=null,El=!1;function Ec(o,c,m){for(m=m.child;m!==null;)Df(o,c,m),m=m.sibling}function Df(o,c,m){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(Pt,m)}catch{}switch(m.tag){case 26:es||Ku(m,c),Ec(o,c,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:es||Ku(m,c);var S=aa,P=El;Ce(m.type)&&(aa=m.stateNode,El=!1),Ec(o,c,m),Ut(m.stateNode),aa=S,El=P;break;case 5:es||Ku(m,c);case 6:if(S=aa,P=El,aa=null,Ec(o,c,m),aa=S,El=P,aa!==null)if(El)try{(aa.nodeType===9?aa.body:aa.nodeName==="HTML"?aa.ownerDocument.body:aa).removeChild(m.stateNode)}catch(z){hi(m,c,z)}else try{aa.removeChild(m.stateNode)}catch(z){hi(m,c,z)}break;case 18:aa!==null&&(El?(o=aa,je(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,m.stateNode),mm(o)):je(aa,m.stateNode));break;case 4:S=aa,P=El,aa=m.stateNode.containerInfo,El=!0,Ec(o,c,m),aa=S,El=P;break;case 0:case 11:case 14:case 15:VA(2,m,c),es||VA(4,m,c),Ec(o,c,m);break;case 1:es||(Ku(m,c),S=m.stateNode,typeof S.componentWillUnmount=="function"&&tv(m,c,S)),Ec(o,c,m);break;case 21:Ec(o,c,m);break;case 22:es=(S=es)||m.memoizedState!==null,Ec(o,c,m),es=S;break;default:Ec(o,c,m)}}function Ua(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{mm(o)}catch(m){hi(c,c.return,m)}}}function Ng(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{mm(o)}catch(m){hi(c,c.return,m)}}function ov(o){switch(o.tag){case 31:case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new iv),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new iv),c;default:throw Error(n(435,o.tag))}}function Hd(o,c){var m=ov(o);c.forEach(function(S){if(!m.has(S)){m.add(S);var P=yw.bind(null,o,S);S.then(P,P)}})}function bn(o,c){var m=c.deletions;if(m!==null)for(var S=0;S<m.length;S++){var P=m[S],z=o,ie=c,Ee=ie;e:for(;Ee!==null;){switch(Ee.tag){case 27:if(Ce(Ee.type)){aa=Ee.stateNode,El=!1;break e}break;case 5:aa=Ee.stateNode,El=!1;break e;case 3:case 4:aa=Ee.stateNode.containerInfo,El=!0;break e}Ee=Ee.return}if(aa===null)throw Error(n(160));Df(z,ie,P),aa=null,El=!1,z=P.alternate,z!==null&&(z.return=null),P.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)Qg(c,o),c=c.sibling}var sA=null;function Qg(o,c){var m=o.alternate,S=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:bn(c,o),Jo(o),S&4&&(VA(3,o,o.return),Qd(3,o),VA(5,o,o.return));break;case 1:bn(c,o),Jo(o),S&512&&(es||m===null||Ku(m,m.return)),S&64&&Vu&&(o=o.updateQueue,o!==null&&(S=o.callbacks,S!==null&&(m=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=m===null?S:m.concat(S))));break;case 26:var P=sA;if(bn(c,o),Jo(o),S&512&&(es||m===null||Ku(m,m.return)),S&4){var z=m!==null?m.memoizedState:null;if(S=o.memoizedState,m===null)if(S===null)if(o.stateNode===null){e:{S=o.type,m=o.memoizedProps,P=P.ownerDocument||P;t:switch(S){case"title":z=P.getElementsByTagName("title")[0],(!z||z[Pn]||z[or]||z.namespaceURI==="http://www.w3.org/2000/svg"||z.hasAttribute("itemprop"))&&(z=P.createElement(S),P.head.insertBefore(z,P.querySelector("head > title"))),_s(z,S,m),z[or]=o,Ui(z),S=z;break e;case"link":var ie=vu("link","href",P).get(S+(m.href||""));if(ie){for(var Ee=0;Ee<ie.length;Ee++)if(z=ie[Ee],z.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&z.getAttribute("rel")===(m.rel==null?null:m.rel)&&z.getAttribute("title")===(m.title==null?null:m.title)&&z.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){ie.splice(Ee,1);break t}}z=P.createElement(S),_s(z,S,m),P.head.appendChild(z);break;case"meta":if(ie=vu("meta","content",P).get(S+(m.content||""))){for(Ee=0;Ee<ie.length;Ee++)if(z=ie[Ee],z.getAttribute("content")===(m.content==null?null:""+m.content)&&z.getAttribute("name")===(m.name==null?null:m.name)&&z.getAttribute("property")===(m.property==null?null:m.property)&&z.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&z.getAttribute("charset")===(m.charSet==null?null:m.charSet)){ie.splice(Ee,1);break t}}z=P.createElement(S),_s(z,S,m),P.head.appendChild(z);break;default:throw Error(n(468,S))}z[or]=o,Ui(z),S=z}o.stateNode=S}else uA(P,o.type,o.stateNode);else o.stateNode=Bi(P,S,o.memoizedProps);else z!==S?(z===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):z.count--,S===null?uA(P,o.type,o.stateNode):Bi(P,S,o.memoizedProps)):S===null&&o.stateNode!==null&&Dg(o,o.memoizedProps,m.memoizedProps)}break;case 27:bn(c,o),Jo(o),S&512&&(es||m===null||Ku(m,m.return)),m!==null&&S&4&&Dg(o,o.memoizedProps,m.memoizedProps);break;case 5:if(bn(c,o),Jo(o),S&512&&(es||m===null||Ku(m,m.return)),o.flags&32){P=o.stateNode;try{Fs(P,"")}catch(Fr){hi(o,o.return,Fr)}}S&4&&o.stateNode!=null&&(P=o.memoizedProps,Dg(o,P,m!==null?m.memoizedProps:P)),S&1024&&(Of=!0);break;case 6:if(bn(c,o),Jo(o),S&4){if(o.stateNode===null)throw Error(n(162));S=o.memoizedProps,m=o.stateNode;try{m.nodeValue=S}catch(Fr){hi(o,o.return,Fr)}}break;case 3:if(AA=null,P=sA,sA=qr(c.containerInfo),bn(c,o),sA=P,Jo(o),S&4&&m!==null&&m.memoizedState.isDehydrated)try{mm(c.containerInfo)}catch(Fr){hi(o,o.return,Fr)}Of&&(Of=!1,qu(o));break;case 4:S=sA,sA=qr(o.stateNode.containerInfo),bn(c,o),Jo(o),sA=S;break;case 12:bn(c,o),Jo(o);break;case 31:bn(c,o),Jo(o),S&4&&(S=o.updateQueue,S!==null&&(o.updateQueue=null,Hd(o,S)));break;case 13:bn(c,o),Jo(o),o.child.flags&8192&&o.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(Hf=rn()),S&4&&(S=o.updateQueue,S!==null&&(o.updateQueue=null,Hd(o,S)));break;case 22:P=o.memoizedState!==null;var tt=m!==null&&m.memoizedState!==null,bt=Vu,Dt=es;if(Vu=bt||P,es=Dt||tt,bn(c,o),es=Dt,Vu=bt,Jo(o),S&8192)e:for(c=o.stateNode,c._visibility=P?c._visibility&-2:c._visibility|1,P&&(m===null||tt||Vu||es||sh(o)),m=null,c=o;;){if(c.tag===5||c.tag===26){if(m===null){tt=m=c;try{if(z=tt.stateNode,P)ie=z.style,typeof ie.setProperty=="function"?ie.setProperty("display","none","important"):ie.display="none";else{Ee=tt.stateNode;var jt=tt.memoizedProps.style,xt=jt!=null&&jt.hasOwnProperty("display")?jt.display:null;Ee.style.display=xt==null||typeof xt=="boolean"?"":(""+xt).trim()}}catch(Fr){hi(tt,tt.return,Fr)}}}else if(c.tag===6){if(m===null){tt=c;try{tt.stateNode.nodeValue=P?"":tt.memoizedProps}catch(Fr){hi(tt,tt.return,Fr)}}}else if(c.tag===18){if(m===null){tt=c;try{var Ft=tt.stateNode;P?Ze(Ft,!0):Ze(tt.stateNode,!1)}catch(Fr){hi(tt,tt.return,Fr)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;m===c&&(m=null),c=c.return}m===c&&(m=null),c.sibling.return=c.return,c=c.sibling}S&4&&(S=o.updateQueue,S!==null&&(m=S.retryQueue,m!==null&&(S.retryQueue=null,Hd(o,m))));break;case 19:bn(c,o),Jo(o),S&4&&(S=o.updateQueue,S!==null&&(o.updateQueue=null,Hd(o,S)));break;case 30:break;case 21:break;default:bn(c,o),Jo(o)}}function Jo(o){var c=o.flags;if(c&2){try{for(var m,S=o.return;S!==null;){if(nv(S)){m=S;break}S=S.return}if(m==null)throw Error(n(160));switch(m.tag){case 27:var P=m.stateNode,z=Wp(o);jd(o,z,P);break;case 5:var ie=m.stateNode;m.flags&32&&(Fs(ie,""),m.flags&=-33);var Ee=Wp(o);jd(o,Ee,ie);break;case 3:case 4:var tt=m.stateNode.containerInfo,bt=Wp(o);zd(o,bt,tt);break;default:throw Error(n(161))}}catch(Dt){hi(o,o.return,Dt)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function qu(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;qu(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function Tl(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)av(o,c.alternate,c),c=c.sibling}function sh(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:VA(4,c,c.return),sh(c);break;case 1:Ku(c,c.return);var m=c.stateNode;typeof m.componentWillUnmount=="function"&&tv(c,c.return,m),sh(c);break;case 27:Ut(c.stateNode);case 26:case 5:Ku(c,c.return),sh(c);break;case 22:c.memoizedState===null&&sh(c);break;case 30:sh(c);break;default:sh(c)}o=o.sibling}}function Tc(o,c,m){for(m=m&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var S=c.alternate,P=o,z=c,ie=z.flags;switch(z.tag){case 0:case 11:case 15:Tc(P,z,m),Qd(4,z);break;case 1:if(Tc(P,z,m),S=z,P=S.stateNode,typeof P.componentDidMount=="function")try{P.componentDidMount()}catch(bt){hi(S,S.return,bt)}if(S=z,P=S.updateQueue,P!==null){var Ee=S.stateNode;try{var tt=P.shared.hiddenCallbacks;if(tt!==null)for(P.shared.hiddenCallbacks=null,P=0;P<tt.length;P++)Ir(tt[P],Ee)}catch(bt){hi(S,S.return,bt)}}m&&ie&64&&Og(z),Rd(z,z.return);break;case 27:kg(z);case 26:case 5:Tc(P,z,m),m&&S===null&&ie&4&&rv(z),Rd(z,z.return);break;case 12:Tc(P,z,m);break;case 31:Tc(P,z,m),m&&ie&4&&Ua(P,z);break;case 13:Tc(P,z,m),m&&ie&4&&Ng(P,z);break;case 22:z.memoizedState===null&&Tc(P,z,m),Rd(z,z.return);break;case 30:break;default:Tc(P,z,m)}c=c.sibling}}function Rg(o,c){var m=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==m&&(o!=null&&o.refCount++,m!=null&&tA(m))}function zg(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&tA(o))}function gu(o,c,m,S){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)lv(o,c,m,S),c=c.sibling}function lv(o,c,m,S){var P=c.flags;switch(c.tag){case 0:case 11:case 15:gu(o,c,m,S),P&2048&&Qd(9,c);break;case 1:gu(o,c,m,S);break;case 3:gu(o,c,m,S),P&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&tA(o)));break;case 12:if(P&2048){gu(o,c,m,S),o=c.stateNode;try{var z=c.memoizedProps,ie=z.id,Ee=z.onPostCommit;typeof Ee=="function"&&Ee(ie,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(tt){hi(c,c.return,tt)}}else gu(o,c,m,S);break;case 31:gu(o,c,m,S);break;case 13:gu(o,c,m,S);break;case 23:break;case 22:z=c.stateNode,ie=c.alternate,c.memoizedState!==null?z._visibility&2?gu(o,c,m,S):Kd(o,c):z._visibility&2?gu(o,c,m,S):(z._visibility|=2,kf(o,c,m,S,(c.subtreeFlags&10256)!==0||!1)),P&2048&&Rg(ie,c);break;case 24:gu(o,c,m,S),P&2048&&zg(c.alternate,c);break;default:gu(o,c,m,S)}}function kf(o,c,m,S,P){for(P=P&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var z=o,ie=c,Ee=m,tt=S,bt=ie.flags;switch(ie.tag){case 0:case 11:case 15:kf(z,ie,Ee,tt,P),Qd(8,ie);break;case 23:break;case 22:var Dt=ie.stateNode;ie.memoizedState!==null?Dt._visibility&2?kf(z,ie,Ee,tt,P):Kd(z,ie):(Dt._visibility|=2,kf(z,ie,Ee,tt,P)),P&&bt&2048&&Rg(ie.alternate,ie);break;case 24:kf(z,ie,Ee,tt,P),P&&bt&2048&&zg(ie.alternate,ie);break;default:kf(z,ie,Ee,tt,P)}c=c.sibling}}function Kd(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var m=o,S=c,P=S.flags;switch(S.tag){case 22:Kd(m,S),P&2048&&Rg(S.alternate,S);break;case 24:Kd(m,S),P&2048&&zg(S.alternate,S);break;default:Kd(m,S)}c=c.sibling}}var Vd=8192;function Nf(o,c,m){if(o.subtreeFlags&Vd)for(o=o.child;o!==null;)qd(o,c,m),o=o.sibling}function qd(o,c,m){switch(o.tag){case 26:Nf(o,c,m),o.flags&Vd&&o.memoizedState!==null&&Fc(m,sA,o.memoizedState,o.memoizedProps);break;case 5:Nf(o,c,m);break;case 3:case 4:var S=sA;sA=qr(o.stateNode.containerInfo),Nf(o,c,m),sA=S;break;case 22:o.memoizedState===null&&(S=o.alternate,S!==null&&S.memoizedState!==null?(S=Vd,Vd=16777216,Nf(o,c,m),Vd=S):Nf(o,c,m));break;default:Nf(o,c,m)}}function Nh(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function Qf(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var S=c[m];vs=S,Av(S,o)}Nh(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Yp(o),o=o.sibling}function Yp(o){switch(o.tag){case 0:case 11:case 15:Qf(o),o.flags&2048&&VA(9,o,o.return);break;case 3:Qf(o);break;case 12:Qf(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,Rf(o)):Qf(o);break;default:Qf(o)}}function Rf(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var S=c[m];vs=S,Av(S,o)}Nh(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:VA(8,c,c.return),Rf(c);break;case 22:m=c.stateNode,m._visibility&2&&(m._visibility&=-3,Rf(c));break;default:Rf(c)}o=o.sibling}}function Av(o,c){for(;vs!==null;){var m=vs;switch(m.tag){case 0:case 11:case 15:VA(8,m,c);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var S=m.memoizedState.cachePool.pool;S!=null&&S.refCount++}break;case 24:tA(m.memoizedState.cache)}if(S=m.child,S!==null)S.return=m,vs=S;else e:for(m=o;vs!==null;){S=vs;var P=S.sibling,z=S.return;if(sv(S),S===m){vs=null;break e}if(P!==null){P.return=z,vs=P;break e}vs=z}}}var pw={getCacheForType:function(o){var c=pn(wi),m=c.data.get(o);return m===void 0&&(m=o(),c.data.set(o,m)),m},cacheSignal:function(){return pn(wi).controller.signal}},mw=typeof WeakMap=="function"?WeakMap:Map,ii=0,Fi=null,on=null,Qn=0,ci=0,ts=null,qA=!1,Gu=!1,oh=!1,GA=0,sa=0,lh=0,Qh=0,Jp=0,Il=0,zf=0,jf=null,el=null,Gd=!1,Hf=0,uv=0,em=1/0,$d=null,Ic=null,Ba=0,lo=null,oA=null,$u=0,Xd=0,jg=null,cv=null,Ah=0,Zd=null;function lA(){return(ii&2)!==0&&Qn!==0?Qn&-Qn:Oe.T!==null?Xf():Jt()}function tm(){if(Il===0)if((Qn&536870912)===0||Rt){var o=kn;kn<<=1,(kn&3932160)===0&&(kn=262144),Il=o}else Il=536870912;return o=In.current,o!==null&&(o.flags|=32),Il}function Eo(o,c,m){(o===Fi&&(ci===2||ci===9)||o.cancelPendingCommit!==null)&&(zh(o,0),Xu(o,Qn,Il,!1)),qe(o,m),((ii&2)===0||o!==Fi)&&(o===Fi&&((ii&2)===0&&(Qh|=m),sa===4&&Xu(o,Qn,Il,!1)),Zu(o))}function Rh(o,c,m){if((ii&6)!==0)throw Error(n(327));var S=!m&&(c&127)===0&&(c&o.expiredLanes)===0||ue(o,c),P=S?qg(o,c):Vg(o,c,!0),z=S;do{if(P===0){Gu&&!S&&Xu(o,c,0,!1);break}else{if(m=o.current.alternate,z&&!hv(m)){P=Vg(o,c,!1),z=!1;continue}if(P===2){if(z=c,o.errorRecoveryDisabledLanes&z)var ie=0;else ie=o.pendingLanes&-536870913,ie=ie!==0?ie:ie&536870912?536870912:0;if(ie!==0){c=ie;e:{var Ee=o;P=jf;var tt=Ee.current.memoizedState.isDehydrated;if(tt&&(zh(Ee,ie).flags|=256),ie=Vg(Ee,ie,!1),ie!==2){if(oh&&!tt){Ee.errorRecoveryDisabledLanes|=z,Qh|=z,P=4;break e}z=el,el=P,z!==null&&(el===null?el=z:el.push.apply(el,z))}P=ie}if(z=!1,P!==2)continue}}if(P===1){zh(o,0),Xu(o,c,0,!0);break}e:{switch(S=o,z=P,z){case 0:case 1:throw Error(n(345));case 4:if((c&4194048)!==c)break;case 6:Xu(S,c,Il,!qA);break e;case 2:el=null;break;case 3:case 5:break;default:throw Error(n(329))}if((c&62914560)===c&&(P=Hf+300-rn(),10<P)){if(Xu(S,c,Il,!qA),le(S,0,!0)!==0)break e;$u=c,S.timeoutHandle=Z(Hg.bind(null,S,m,el,$d,Gd,c,Il,Qh,zf,qA,z,"Throttled",-0,0),P);break e}Hg(S,m,el,$d,Gd,c,Il,Qh,zf,qA,z,null,-0,0)}}break}while(!0);Zu(o)}function Hg(o,c,m,S,P,z,ie,Ee,tt,bt,Dt,jt,xt,Ft){if(o.timeoutHandle=-1,jt=c.subtreeFlags,jt&8192||(jt&16785408)===16785408){jt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:za},qd(c,z,jt);var Fr=(z&62914560)===z?Hf-rn():(z&4194048)===z?uv-rn():0;if(Fr=xv(jt,Fr),Fr!==null){$u=z,o.cancelPendingCommit=Fr(nm.bind(null,o,c,z,m,S,P,ie,Ee,tt,Dt,jt,null,xt,Ft)),Xu(o,z,ie,!bt);return}}nm(o,c,z,m,S,P,ie,Ee,tt)}function hv(o){for(var c=o;;){var m=c.tag;if((m===0||m===11||m===15)&&c.flags&16384&&(m=c.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var S=0;S<m.length;S++){var P=m[S],z=P.getSnapshot;P=P.value;try{if(!va(z(),P))return!1}catch{return!1}}if(m=c.child,c.subtreeFlags&16384&&m!==null)m.return=c,c=m;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Xu(o,c,m,S){c&=~Jp,c&=~Qh,o.suspendedLanes|=c,o.pingedLanes&=~c,S&&(o.warmLanes|=c),S=o.expirationTimes;for(var P=c;0<P;){var z=31-Zr(P),ie=1<<z;S[z]=-1,P&=~ie}m!==0&&We(o,m,c)}function Wd(){return(ii&6)===0?(Gf(0),!1):!0}function Kf(){if(on!==null){if(ci===0)var o=on.return;else o=on,Yo=ao=null,cu(o),xe=null,Qe=0,o=on;for(;o!==null;)ev(o.alternate,o),o=o.return;on=null}}function zh(o,c){var m=o.timeoutHandle;m!==-1&&(o.timeoutHandle=-1,J(m)),m=o.cancelPendingCommit,m!==null&&(o.cancelPendingCommit=null,m()),$u=0,Kf(),Fi=o,on=m=gs(o.current,null),Qn=c,ci=0,ts=null,qA=!1,Gu=ue(o,c),oh=!1,zf=Il=Jp=Qh=lh=sa=0,el=jf=null,Gd=!1,(c&8)!==0&&(c|=c&32);var S=o.entangledLanes;if(S!==0)for(o=o.entanglements,S&=c;0<S;){var P=31-Zr(S),z=1<<P;c|=o[P],S&=~z}return GA=c,ms(),m}function fv(o,c){gr=null,Oe.H=Pd,c===M||c===Q?(c=ge(),ci=3):c===N?(c=ge(),ci=4):ci=c===na?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,ts=c,on===null&&(sa=1,qp(o,Qs(c,o.current)))}function dv(){var o=In.current;return o===null?!0:(Qn&4194048)===Qn?sn===null:(Qn&62914560)===Qn||(Qn&536870912)!==0?o===sn:!1}function Kg(){var o=Oe.H;return Oe.H=Pd,o===null?Pd:o}function pv(){var o=Oe.A;return Oe.A=pw,o}function rm(){sa=4,qA||(Qn&4194048)!==Qn&&In.current!==null||(Gu=!0),(lh&134217727)===0&&(Qh&134217727)===0||Fi===null||Xu(Fi,Qn,Il,!1)}function Vg(o,c,m){var S=ii;ii|=2;var P=Kg(),z=pv();(Fi!==o||Qn!==c)&&($d=null,zh(o,c)),c=!1;var ie=sa;e:do try{if(ci!==0&&on!==null){var Ee=on,tt=ts;switch(ci){case 8:Kf(),ie=6;break e;case 3:case 2:case 9:case 6:In.current===null&&(c=!0);var bt=ci;if(ci=0,ts=null,jh(o,Ee,tt,bt),m&&Gu){ie=0;break e}break;default:bt=ci,ci=0,ts=null,jh(o,Ee,tt,bt)}}gw(),ie=sa;break}catch(Dt){fv(o,Dt)}while(!0);return c&&o.shellSuspendCounter++,Yo=ao=null,ii=S,Oe.H=P,Oe.A=z,on===null&&(Fi=null,Qn=0,ms()),ie}function gw(){for(;on!==null;)Gg(on)}function qg(o,c){var m=ii;ii|=2;var S=Kg(),P=pv();Fi!==o||Qn!==c?($d=null,em=rn()+500,zh(o,c)):Gu=ue(o,c);e:do try{if(ci!==0&&on!==null){c=on;var z=ts;t:switch(ci){case 1:ci=0,ts=null,jh(o,c,z,1);break;case 2:case 9:if($(z)){ci=0,ts=null,$g(c);break}c=function(){ci!==2&&ci!==9||Fi!==o||(ci=7),Zu(o)},z.then(c,c);break e;case 3:ci=7;break e;case 4:ci=5;break e;case 7:$(z)?(ci=0,ts=null,$g(c)):(ci=0,ts=null,jh(o,c,z,7));break;case 5:var ie=null;switch(on.tag){case 26:ie=on.memoizedState;case 5:case 27:var Ee=on;if(ie?ss(ie):Ee.stateNode.complete){ci=0,ts=null;var tt=Ee.sibling;if(tt!==null)on=tt;else{var bt=Ee.return;bt!==null?(on=bt,Yd(bt)):on=null}break t}}ci=0,ts=null,jh(o,c,z,5);break;case 6:ci=0,ts=null,jh(o,c,z,6);break;case 8:Kf(),sa=6;break e;default:throw Error(n(462))}}uh();break}catch(Dt){fv(o,Dt)}while(!0);return Yo=ao=null,Oe.H=S,Oe.A=P,ii=m,on!==null?0:(Fi=null,Qn=0,ms(),sa)}function uh(){for(;on!==null&&!Tr();)Gg(on)}function Gg(o){var c=Yy(o.alternate,o,GA);o.memoizedProps=o.pendingProps,c===null?Yd(o):on=c}function $g(o){var c=o,m=c.alternate;switch(c.tag){case 15:case 0:c=Tg(m,c,c.pendingProps,c.type,void 0,Qn);break;case 11:c=Tg(m,c,c.pendingProps,c.type.render,c.ref,Qn);break;case 5:cu(c);default:ev(m,c),c=on=Au(c,GA),c=Yy(m,c,GA)}o.memoizedProps=o.pendingProps,c===null?Yd(o):on=c}function jh(o,c,m,S){Yo=ao=null,cu(c),xe=null,Qe=0;var P=c.return;try{if(cw(o,P,c,m,Qn)){sa=1,qp(o,Qs(m,o.current)),on=null;return}}catch(z){if(P!==null)throw on=P,z;sa=1,qp(o,Qs(m,o.current)),on=null;return}c.flags&32768?(Rt||S===1?o=!0:Gu||(Qn&536870912)!==0?o=!1:(qA=o=!0,(S===2||S===9||S===3||S===6)&&(S=In.current,S!==null&&S.tag===13&&(S.flags|=16384))),Xg(c,o)):Yd(c)}function Yd(o){var c=o;do{if((c.flags&32768)!==0){Xg(c,qA);return}o=c.return;var m=fw(c.alternate,c,GA);if(m!==null){on=m;return}if(c=c.sibling,c!==null){on=c;return}on=c=o}while(c!==null);sa===0&&(sa=5)}function Xg(o,c){do{var m=Jy(o.alternate,o);if(m!==null){m.flags&=32767,on=m;return}if(m=o.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!c&&(o=o.sibling,o!==null)){on=o;return}on=o=m}while(o!==null);sa=6,on=null}function nm(o,c,m,S,P,z,ie,Ee,tt){o.cancelPendingCommit=null;do To();while(Ba!==0);if((ii&6)!==0)throw Error(n(327));if(c!==null){if(c===o.current)throw Error(n(177));if(z=c.lanes|c.childLanes,z|=_i,lt(o,m,z,ie,Ee,tt),o===Fi&&(on=Fi=null,Qn=0),oA=c,lo=o,$u=m,Xd=z,jg=P,cv=S,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,yv(Lt,function(){return qf(),null})):(o.callbackNode=null,o.callbackPriority=0),S=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||S){S=Oe.T,Oe.T=null,P=Ne.p,Ne.p=2,ie=ii,ii|=4;try{dw(o,c,m)}finally{ii=ie,Ne.p=P,Oe.T=S}}Ba=1,Vf(),Zg(),im()}}function Vf(){if(Ba===1){Ba=0;var o=lo,c=oA,m=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||m){m=Oe.T,Oe.T=null;var S=Ne.p;Ne.p=2;var P=ii;ii|=4;try{Qg(c,o);var z=g,ie=Os(o.containerInfo),Ee=z.focusedElem,tt=z.selectionRange;if(ie!==Ee&&Ee&&Ee.ownerDocument&&yl(Ee.ownerDocument.documentElement,Ee)){if(tt!==null&&Go(Ee)){var bt=tt.start,Dt=tt.end;if(Dt===void 0&&(Dt=bt),"selectionStart"in Ee)Ee.selectionStart=bt,Ee.selectionEnd=Math.min(Dt,Ee.value.length);else{var jt=Ee.ownerDocument||document,xt=jt&&jt.defaultView||window;if(xt.getSelection){var Ft=xt.getSelection(),Fr=Ee.textContent.length,hn=Math.min(tt.start,Fr),$i=tt.end===void 0?hn:Math.min(tt.end,Fr);!Ft.extend&&hn>$i&&(ie=$i,$i=hn,hn=ie);var dt=Mu(Ee,hn),st=Mu(Ee,$i);if(dt&&st&&(Ft.rangeCount!==1||Ft.anchorNode!==dt.node||Ft.anchorOffset!==dt.offset||Ft.focusNode!==st.node||Ft.focusOffset!==st.offset)){var vt=jt.createRange();vt.setStart(dt.node,dt.offset),Ft.removeAllRanges(),hn>$i?(Ft.addRange(vt),Ft.extend(st.node,st.offset)):(vt.setEnd(st.node,st.offset),Ft.addRange(vt))}}}}for(jt=[],Ft=Ee;Ft=Ft.parentNode;)Ft.nodeType===1&&jt.push({element:Ft,left:Ft.scrollLeft,top:Ft.scrollTop});for(typeof Ee.focus=="function"&&Ee.focus(),Ee=0;Ee<jt.length;Ee++){var kt=jt[Ee];kt.element.scrollLeft=kt.left,kt.element.scrollTop=kt.top}}hm=!!d,g=d=null}finally{ii=P,Ne.p=S,Oe.T=m}}o.current=c,Ba=2}}function Zg(){if(Ba===2){Ba=0;var o=lo,c=oA,m=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||m){m=Oe.T,Oe.T=null;var S=Ne.p;Ne.p=2;var P=ii;ii|=4;try{av(o,c.alternate,c)}finally{ii=P,Ne.p=S,Oe.T=m}}Ba=3}}function im(){if(Ba===4||Ba===3){Ba=0,Br();var o=lo,c=oA,m=$u,S=cv;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Ba=5:(Ba=0,oA=lo=null,Wg(o,o.pendingLanes));var P=o.pendingLanes;if(P===0&&(Ic=null),Qt(m),c=c.stateNode,Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(Pt,c,void 0,(c.current.flags&128)===128)}catch{}if(S!==null){c=Oe.T,P=Ne.p,Ne.p=2,Oe.T=null;try{for(var z=o.onRecoverableError,ie=0;ie<S.length;ie++){var Ee=S[ie];z(Ee.value,{componentStack:Ee.stack})}}finally{Oe.T=c,Ne.p=P}}($u&3)!==0&&To(),Zu(o),P=o.pendingLanes,(m&261930)!==0&&(P&42)!==0?o===Zd?Ah++:(Ah=0,Zd=o):Ah=0,Gf(0)}}function Wg(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,tA(c)))}function To(){return Vf(),Zg(),im(),qf()}function qf(){if(Ba!==5)return!1;var o=lo,c=Xd;Xd=0;var m=Qt($u),S=Oe.T,P=Ne.p;try{Ne.p=32>m?32:m,Oe.T=null,m=jg,jg=null;var z=lo,ie=$u;if(Ba=0,oA=lo=null,$u=0,(ii&6)!==0)throw Error(n(331));var Ee=ii;if(ii|=4,Yp(z.current),lv(z,z.current,ie,m),ii=Ee,Gf(0,!1),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(Pt,z)}catch{}return!0}finally{Ne.p=P,Oe.T=S,Wg(o,c)}}function Yg(o,c,m){c=Qs(m,c),c=Od(o.stateNode,c,2),o=zt(o,c,2),o!==null&&(qe(o,2),Zu(o))}function hi(o,c,m){if(o.tag===3)Yg(o,o,m);else for(;c!==null;){if(c.tag===3){Yg(c,o,m);break}else if(c.tag===1){var S=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(Ic===null||!Ic.has(S))){o=Qs(m,o),m=Gy(2),S=zt(c,m,2),S!==null&&(Dh(m,S,c,o),qe(S,2),Zu(S));break}}c=c.return}}function am(o,c,m){var S=o.pingCache;if(S===null){S=o.pingCache=new mw;var P=new Set;S.set(c,P)}else P=S.get(c),P===void 0&&(P=new Set,S.set(c,P));P.has(m)||(oh=!0,P.add(m),o=mv.bind(null,o,c,m),c.then(o,o))}function mv(o,c,m){var S=o.pingCache;S!==null&&S.delete(c),o.pingedLanes|=o.suspendedLanes&m,o.warmLanes&=~m,Fi===o&&(Qn&m)===m&&(sa===4||sa===3&&(Qn&62914560)===Qn&&300>rn()-Hf?(ii&2)===0&&zh(o,0):Jp|=m,zf===Qn&&(zf=0)),Zu(o)}function Jg(o,c){c===0&&(c=Re()),o=Zo(o,c),o!==null&&(qe(o,c),Zu(o))}function gv(o){var c=o.memoizedState,m=0;c!==null&&(m=c.retryLane),Jg(o,m)}function yw(o,c){var m=0;switch(o.tag){case 31:case 13:var S=o.stateNode,P=o.memoizedState;P!==null&&(m=P.retryLane);break;case 19:S=o.stateNode;break;case 22:S=o.stateNode._retryCache;break;default:throw Error(n(314))}S!==null&&S.delete(c),Jg(o,m)}function yv(o,c){return nr(o,c)}var yu=null,Hh=null,sm=!1,Jd=!1,om=!1,ch=0;function Zu(o){o!==Hh&&o.next===null&&(Hh===null?yu=Hh=o:Hh=Hh.next=o),Jd=!0,sm||(sm=!0,lm())}function Gf(o,c){if(!om&&Jd){om=!0;do for(var m=!1,S=yu;S!==null;){if(o!==0){var P=S.pendingLanes;if(P===0)var z=0;else{var ie=S.suspendedLanes,Ee=S.pingedLanes;z=(1<<31-Zr(42|o)+1)-1,z&=P&~(ie&~Ee),z=z&201326741?z&201326741|1:z?z|2:0}z!==0&&(m=!0,tp(S,z))}else z=Qn,z=le(S,S===Fi?z:0,S.cancelPendingCommit!==null||S.timeoutHandle!==-1),(z&3)===0||ue(S,z)||(m=!0,tp(S,z));S=S.next}while(m);om=!1}}function $f(){e0()}function e0(){Jd=sm=!1;var o=0;ch!==0&&q()&&(o=ch);for(var c=rn(),m=null,S=yu;S!==null;){var P=S.next,z=ep(S,c);z===0?(S.next=null,m===null?yu=P:m.next=P,P===null&&(Hh=m)):(m=S,(o!==0||(z&3)!==0)&&(Jd=!0)),S=P}Ba!==0&&Ba!==5||Gf(o),ch!==0&&(ch=0)}function ep(o,c){for(var m=o.suspendedLanes,S=o.pingedLanes,P=o.expirationTimes,z=o.pendingLanes&-62914561;0<z;){var ie=31-Zr(z),Ee=1<<ie,tt=P[ie];tt===-1?((Ee&m)===0||(Ee&S)!==0)&&(P[ie]=we(Ee,c)):tt<=c&&(o.expiredLanes|=Ee),z&=~Ee}if(c=Fi,m=Qn,m=le(o,o===c?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),S=o.callbackNode,m===0||o===c&&(ci===2||ci===9)||o.cancelPendingCommit!==null)return S!==null&&S!==null&&ur(S),o.callbackNode=null,o.callbackPriority=0;if((m&3)===0||ue(o,m)){if(c=m&-m,c===o.callbackPriority)return c;switch(S!==null&&ur(S),Qt(m)){case 2:case 8:m=yn;break;case 32:m=Lt;break;case 268435456:m=Pr;break;default:m=Lt}return S=t0.bind(null,o),m=nr(m,S),o.callbackPriority=c,o.callbackNode=m,c}return S!==null&&S!==null&&ur(S),o.callbackPriority=2,o.callbackNode=null,2}function t0(o,c){if(Ba!==0&&Ba!==5)return o.callbackNode=null,o.callbackPriority=0,null;var m=o.callbackNode;if(To()&&o.callbackNode!==m)return null;var S=Qn;return S=le(o,o===Fi?S:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),S===0?null:(Rh(o,S,c),ep(o,rn()),o.callbackNode!=null&&o.callbackNode===m?t0.bind(null,o):null)}function tp(o,c){if(To())return null;Rh(o,c,!0)}function lm(){he(function(){(ii&6)!==0?nr(Jr,$f):e0()})}function Xf(){if(ch===0){var o=U;o===0&&(o=zr,zr<<=1,(zr&261888)===0&&(zr=256)),ch=o}return ch}function vv(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Ls(""+o)}function _v(o,c){var m=c.ownerDocument.createElement("input");return m.name=c.name,m.value=c.value,o.id&&m.setAttribute("form",o.id),c.parentNode.insertBefore(m,c),o=new FormData(o),m.parentNode.removeChild(m),o}function vw(o,c,m,S,P){if(c==="submit"&&m&&m.stateNode===P){var z=vv((P[Or]||null).action),ie=S.submitter;ie&&(c=(c=ie[Or]||null)?vv(c.formAction):ie.getAttribute("formAction"),c!==null&&(z=c,ie=null));var Ee=new bo("action","action",null,S,P);o.push({event:Ee,listeners:[{instance:null,listener:function(){if(S.defaultPrevented){if(ch!==0){var tt=ie?_v(P,ie):new FormData(P);jp(m,{pending:!0,data:tt,method:P.method,action:z},null,tt)}}else typeof z=="function"&&(Ee.preventDefault(),tt=ie?_v(P,ie):new FormData(P),jp(m,{pending:!0,data:tt,method:P.method,action:z},z,tt))},currentTarget:P}]})}}for(var hh=0;hh<$o.length;hh++){var rs=$o[hh],fh=rs.toLowerCase(),r0=rs[0].toUpperCase()+rs.slice(1);oi(fh,"on"+r0)}oi(bl,"onAnimationEnd"),oi(SA,"onAnimationIteration"),oi(pc,"onAnimationStart"),oi("dblclick","onDoubleClick"),oi("focusin","onFocus"),oi("focusout","onBlur"),oi(bf,"onTransitionRun"),oi(Fh,"onTransitionStart"),oi(mc,"onTransitionCancel"),oi(gc,"onTransitionEnd"),Vl("onMouseEnter",["mouseout","mouseover"]),Vl("onMouseLeave",["mouseout","mouseover"]),Vl("onPointerEnter",["pointerout","pointerover"]),Vl("onPointerLeave",["pointerout","pointerover"]),Mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zf));function Am(o,c){c=(c&4)!==0;for(var m=0;m<o.length;m++){var S=o[m],P=S.event;S=S.listeners;e:{var z=void 0;if(c)for(var ie=S.length-1;0<=ie;ie--){var Ee=S[ie],tt=Ee.instance,bt=Ee.currentTarget;if(Ee=Ee.listener,tt!==z&&P.isPropagationStopped())break e;z=Ee,P.currentTarget=bt;try{z(P)}catch(Dt){Xo(Dt)}P.currentTarget=null,z=tt}else for(ie=0;ie<S.length;ie++){if(Ee=S[ie],tt=Ee.instance,bt=Ee.currentTarget,Ee=Ee.listener,tt!==z&&P.isPropagationStopped())break e;z=Ee,P.currentTarget=bt;try{z(P)}catch(Dt){Xo(Dt)}P.currentTarget=null,z=tt}}}}function Hn(o,c){var m=c[Kn];m===void 0&&(m=c[Kn]=new Set);var S=o+"__bubble";m.has(S)||(i0(c,o,2,!1),m.add(S))}function um(o,c,m){var S=0;c&&(S|=4),i0(m,o,S,c)}var rp="_reactListening"+Math.random().toString(36).slice(2);function n0(o){if(!o[rp]){o[rp]=!0,eu.forEach(function(m){m!=="selectionchange"&&(bv.has(m)||um(m,!1,o),um(m,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[rp]||(c[rp]=!0,um("selectionchange",!1,c))}}function i0(o,c,m,S){switch(js(c)){case 2:var P=_u;break;case 8:P=fm;break;default:P=dm}m=P.bind(null,c,m,o),P=void 0,!Lu||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(P=!0),S?P!==void 0?o.addEventListener(c,m,{capture:!0,passive:P}):o.addEventListener(c,m,!0):P!==void 0?o.addEventListener(c,m,{passive:P}):o.addEventListener(c,m,!1)}function np(o,c,m,S,P){var z=S;if((c&1)===0&&(c&2)===0&&S!==null)e:for(;;){if(S===null)return;var ie=S.tag;if(ie===3||ie===4){var Ee=S.stateNode.containerInfo;if(Ee===P)break;if(ie===4)for(ie=S.return;ie!==null;){var tt=ie.tag;if((tt===3||tt===4)&&ie.stateNode.containerInfo===P)return;ie=ie.return}for(;Ee!==null;){if(ie=ai(Ee),ie===null)return;if(tt=ie.tag,tt===5||tt===6||tt===26||tt===27){S=z=ie;continue e}Ee=Ee.parentNode}}S=S.return}dc(function(){var bt=z,Dt=ua(m),jt=[];e:{var xt=lu.get(o);if(xt!==void 0){var Ft=bo,Fr=o;switch(o){case"keypress":if(Us(m)===0)break e;case"keydown":case"keyup":Ft=zn;break;case"focusin":Fr="focus",Ft=dl;break;case"focusout":Fr="blur",Ft=dl;break;case"beforeblur":case"afterblur":Ft=dl;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ft=hl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ft=fl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ft=ha;break;case bl:case SA:case pc:Ft=V;break;case gc:Ft=Ta;break;case"scroll":case"scrollend":Ft=wo;break;case"wheel":Ft=ya;break;case"copy":case"cut":case"paste":Ft=ze;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ft=Hi;break;case"toggle":case"beforetoggle":Ft=ou}var hn=(c&4)!==0,$i=!hn&&(o==="scroll"||o==="scrollend"),dt=hn?xt!==null?xt+"Capture":null:xt;hn=[];for(var st=bt,vt;st!==null;){var kt=st;if(vt=kt.stateNode,kt=kt.tag,kt!==5&&kt!==26&&kt!==27||vt===null||dt===null||(kt=Ea(st,dt),kt!=null&&hn.push(Kh(st,kt,vt))),$i)break;st=st.return}0<hn.length&&(xt=new Ft(xt,Fr,null,m,Dt),jt.push({event:xt,listeners:hn}))}}if((c&7)===0){e:{if(xt=o==="mouseover"||o==="pointerover",Ft=o==="mouseout"||o==="pointerout",xt&&m!==Xs&&(Fr=m.relatedTarget||m.fromElement)&&(ai(Fr)||Fr[jr]))break e;if((Ft||xt)&&(xt=Dt.window===Dt?Dt:(xt=Dt.ownerDocument)?xt.defaultView||xt.parentWindow:window,Ft?(Fr=m.relatedTarget||m.toElement,Ft=bt,Fr=Fr?ai(Fr):null,Fr!==null&&($i=A(Fr),hn=Fr.tag,Fr!==$i||hn!==5&&hn!==27&&hn!==6)&&(Fr=null)):(Ft=null,Fr=bt),Ft!==Fr)){if(hn=hl,kt="onMouseLeave",dt="onMouseEnter",st="mouse",(o==="pointerout"||o==="pointerover")&&(hn=Hi,kt="onPointerLeave",dt="onPointerEnter",st="pointer"),$i=Ft==null?xt:_o(Ft),vt=Fr==null?xt:_o(Fr),xt=new hn(kt,st+"leave",Ft,m,Dt),xt.target=$i,xt.relatedTarget=vt,kt=null,ai(Dt)===bt&&(hn=new hn(dt,st+"enter",Fr,m,Dt),hn.target=vt,hn.relatedTarget=$i,kt=hn),$i=kt,Ft&&Fr)t:{for(hn=ap,dt=Ft,st=Fr,vt=0,kt=dt;kt;kt=hn(kt))vt++;kt=0;for(var Yr=st;Yr;Yr=hn(Yr))kt++;for(;0<vt-kt;)dt=hn(dt),vt--;for(;0<kt-vt;)st=hn(st),kt--;for(;vt--;){if(dt===st||st!==null&&dt===st.alternate){hn=dt;break t}dt=hn(dt),st=hn(st)}hn=null}else hn=null;Ft!==null&&cm(jt,xt,Ft,hn,!1),Fr!==null&&$i!==null&&cm(jt,$i,Fr,hn,!0)}}e:{if(xt=bt?_o(bt):window,Ft=xt.nodeName&&xt.nodeName.toLowerCase(),Ft==="select"||Ft==="input"&&xt.type==="file")var di=ml;else if(Xl(xt))if(Wa)di=hs;else{di=Si;var Nr=gl}else Ft=xt.nodeName,!Ft||Ft.toLowerCase()!=="input"||xt.type!=="checkbox"&&xt.type!=="radio"?bt&&Fu(bt.elementType)&&(di=ml):di=Zl;if(di&&(di=di(o,bt))){Ha(jt,di,m,Dt);break e}Nr&&Nr(o,xt,bt),o==="focusout"&&bt&&xt.type==="number"&&bt.memoizedProps.value!=null&&tu(xt,"number",xt.value)}switch(Nr=bt?_o(bt):window,o){case"focusin":(Xl(Nr)||Nr.contentEditable==="true")&&(Ds=Nr,_l=bt,_a=null);break;case"focusout":_a=_l=Ds=null;break;case"mousedown":fs=!0;break;case"contextmenu":case"mouseup":case"dragend":fs=!1,Un(jt,m,Dt);break;case"selectionchange":if(vl)break;case"keydown":case"keyup":Un(jt,m,Dt)}var Dn;if(Ws)e:{switch(o){case"compositionstart":var Yn="onCompositionStart";break e;case"compositionend":Yn="onCompositionEnd";break e;case"compositionupdate":Yn="onCompositionUpdate";break e}Yn=void 0}else eo?CA(o,m)&&(Yn="onCompositionEnd"):o==="keydown"&&m.keyCode===229&&(Yn="onCompositionStart");Yn&&(Ko&&m.locale!=="ko"&&(eo||Yn!=="onCompositionStart"?Yn==="onCompositionEnd"&&eo&&(Dn=wA()):(Zs=Dt,au="value"in Zs?Zs.value:Zs.textContent,eo=!0)),Nr=ip(bt,Yn),0<Nr.length&&(Yn=new ut(Yn,o,null,m,Dt),jt.push({event:Yn,listeners:Nr}),Dn?Yn.data=Dn:(Dn=ln(m),Dn!==null&&(Yn.data=Dn)))),(Dn=Js?mn(o,m):Tn(o,m))&&(Yn=ip(bt,"onBeforeInput"),0<Yn.length&&(Nr=new ut("onBeforeInput","beforeinput",null,m,Dt),jt.push({event:Nr,listeners:Yn}),Nr.data=Dn)),vw(jt,o,bt,m,Dt)}Am(jt,c)})}function Kh(o,c,m){return{instance:o,listener:c,currentTarget:m}}function ip(o,c){for(var m=c+"Capture",S=[];o!==null;){var P=o,z=P.stateNode;if(P=P.tag,P!==5&&P!==26&&P!==27||z===null||(P=Ea(o,m),P!=null&&S.unshift(Kh(o,P,z)),P=Ea(o,c),P!=null&&S.push(Kh(o,P,z))),o.tag===3)return S;o=o.return}return[]}function ap(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function cm(o,c,m,S,P){for(var z=c._reactName,ie=[];m!==null&&m!==S;){var Ee=m,tt=Ee.alternate,bt=Ee.stateNode;if(Ee=Ee.tag,tt!==null&&tt===S)break;Ee!==5&&Ee!==26&&Ee!==27||bt===null||(tt=bt,P?(bt=Ea(m,z),bt!=null&&ie.unshift(Kh(m,bt,tt))):P||(bt=Ea(m,z),bt!=null&&ie.push(Kh(m,bt,tt)))),m=m.return}ie.length!==0&&o.push({event:c,listeners:ie})}var wv=/\r\n?/g,a0=/\u0000|\uFFFD/g;function sp(o){return(typeof o=="string"?o:""+o).replace(wv,`
`).replace(a0,"")}function Wf(o,c){return c=sp(c),sp(o)===c}function fi(o,c,m,S,P,z){switch(m){case"children":typeof S=="string"?c==="body"||c==="textarea"&&S===""||Fs(o,S):(typeof S=="number"||typeof S=="bigint")&&c!=="body"&&Fs(o,""+S);break;case"className":Gs(o,"class",S);break;case"tabIndex":Gs(o,"tabindex",S);break;case"dir":case"role":case"viewBox":case"width":case"height":Gs(o,m,S);break;case"style":ql(o,S,z);break;case"data":if(c!=="object"){Gs(o,"data",S);break}case"src":case"href":if(S===""&&(c!=="a"||m!=="href")){o.removeAttribute(m);break}if(S==null||typeof S=="function"||typeof S=="symbol"||typeof S=="boolean"){o.removeAttribute(m);break}S=Ls(""+S),o.setAttribute(m,S);break;case"action":case"formAction":if(typeof S=="function"){o.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof z=="function"&&(m==="formAction"?(c!=="input"&&fi(o,c,"name",P.name,P,null),fi(o,c,"formEncType",P.formEncType,P,null),fi(o,c,"formMethod",P.formMethod,P,null),fi(o,c,"formTarget",P.formTarget,P,null)):(fi(o,c,"encType",P.encType,P,null),fi(o,c,"method",P.method,P,null),fi(o,c,"target",P.target,P,null)));if(S==null||typeof S=="symbol"||typeof S=="boolean"){o.removeAttribute(m);break}S=Ls(""+S),o.setAttribute(m,S);break;case"onClick":S!=null&&(o.onclick=za);break;case"onScroll":S!=null&&Hn("scroll",o);break;case"onScrollEnd":S!=null&&Hn("scrollend",o);break;case"dangerouslySetInnerHTML":if(S!=null){if(typeof S!="object"||!("__html"in S))throw Error(n(61));if(m=S.__html,m!=null){if(P.children!=null)throw Error(n(60));o.innerHTML=m}}break;case"multiple":o.multiple=S&&typeof S!="function"&&typeof S!="symbol";break;case"muted":o.muted=S&&typeof S!="function"&&typeof S!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(S==null||typeof S=="function"||typeof S=="boolean"||typeof S=="symbol"){o.removeAttribute("xlink:href");break}m=Ls(""+S),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":S!=null&&typeof S!="function"&&typeof S!="symbol"?o.setAttribute(m,""+S):o.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":S&&typeof S!="function"&&typeof S!="symbol"?o.setAttribute(m,""):o.removeAttribute(m);break;case"capture":case"download":S===!0?o.setAttribute(m,""):S!==!1&&S!=null&&typeof S!="function"&&typeof S!="symbol"?o.setAttribute(m,S):o.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":S!=null&&typeof S!="function"&&typeof S!="symbol"&&!isNaN(S)&&1<=S?o.setAttribute(m,S):o.removeAttribute(m);break;case"rowSpan":case"start":S==null||typeof S=="function"||typeof S=="symbol"||isNaN(S)?o.removeAttribute(m):o.setAttribute(m,S);break;case"popover":Hn("beforetoggle",o),Hn("toggle",o),Vn(o,"popover",S);break;case"xlinkActuate":Wi(o,"http://www.w3.org/1999/xlink","xlink:actuate",S);break;case"xlinkArcrole":Wi(o,"http://www.w3.org/1999/xlink","xlink:arcrole",S);break;case"xlinkRole":Wi(o,"http://www.w3.org/1999/xlink","xlink:role",S);break;case"xlinkShow":Wi(o,"http://www.w3.org/1999/xlink","xlink:show",S);break;case"xlinkTitle":Wi(o,"http://www.w3.org/1999/xlink","xlink:title",S);break;case"xlinkType":Wi(o,"http://www.w3.org/1999/xlink","xlink:type",S);break;case"xmlBase":Wi(o,"http://www.w3.org/XML/1998/namespace","xml:base",S);break;case"xmlLang":Wi(o,"http://www.w3.org/XML/1998/namespace","xml:lang",S);break;case"xmlSpace":Wi(o,"http://www.w3.org/XML/1998/namespace","xml:space",S);break;case"is":Vn(o,"is",S);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=hc.get(m)||m,Vn(o,m,S))}}function op(o,c,m,S,P,z){switch(m){case"style":ql(o,S,z);break;case"dangerouslySetInnerHTML":if(S!=null){if(typeof S!="object"||!("__html"in S))throw Error(n(61));if(m=S.__html,m!=null){if(P.children!=null)throw Error(n(60));o.innerHTML=m}}break;case"children":typeof S=="string"?Fs(o,S):(typeof S=="number"||typeof S=="bigint")&&Fs(o,""+S);break;case"onScroll":S!=null&&Hn("scroll",o);break;case"onScrollEnd":S!=null&&Hn("scrollend",o);break;case"onClick":S!=null&&(o.onclick=za);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vi.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(P=m.endsWith("Capture"),c=m.slice(2,P?m.length-7:void 0),z=o[Or]||null,z=z!=null?z[m]:null,typeof z=="function"&&o.removeEventListener(c,z,P),typeof S=="function")){typeof z!="function"&&z!==null&&(m in o?o[m]=null:o.hasAttribute(m)&&o.removeAttribute(m)),o.addEventListener(c,S,P);break e}m in o?o[m]=S:S===!0?o.setAttribute(m,""):Vn(o,m,S)}}}function _s(o,c,m){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Hn("error",o),Hn("load",o);var S=!1,P=!1,z;for(z in m)if(m.hasOwnProperty(z)){var ie=m[z];if(ie!=null)switch(z){case"src":S=!0;break;case"srcSet":P=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:fi(o,c,z,ie,m,null)}}P&&fi(o,c,"srcSet",m.srcSet,m,null),S&&fi(o,c,"src",m.src,m,null);return;case"input":Hn("invalid",o);var Ee=z=ie=P=null,tt=null,bt=null;for(S in m)if(m.hasOwnProperty(S)){var Dt=m[S];if(Dt!=null)switch(S){case"name":P=Dt;break;case"type":ie=Dt;break;case"checked":tt=Dt;break;case"defaultChecked":bt=Dt;break;case"value":z=Dt;break;case"defaultValue":Ee=Dt;break;case"children":case"dangerouslySetInnerHTML":if(Dt!=null)throw Error(n(137,c));break;default:fi(o,c,S,Dt,m,null)}}Ln(o,z,Ee,tt,bt,ie,P,!1);return;case"select":Hn("invalid",o),S=ie=z=null;for(P in m)if(m.hasOwnProperty(P)&&(Ee=m[P],Ee!=null))switch(P){case"value":z=Ee;break;case"defaultValue":ie=Ee;break;case"multiple":S=Ee;default:fi(o,c,P,Ee,m,null)}c=z,m=ie,o.multiple=!!S,c!=null?Ra(o,!!S,c,!1):m!=null&&Ra(o,!!S,m,!0);return;case"textarea":Hn("invalid",o),z=P=S=null;for(ie in m)if(m.hasOwnProperty(ie)&&(Ee=m[ie],Ee!=null))switch(ie){case"value":S=Ee;break;case"defaultValue":P=Ee;break;case"children":z=Ee;break;case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(n(91));break;default:fi(o,c,ie,Ee,m,null)}ru(o,S,P,z);return;case"option":for(tt in m)if(m.hasOwnProperty(tt)&&(S=m[tt],S!=null))switch(tt){case"selected":o.selected=S&&typeof S!="function"&&typeof S!="symbol";break;default:fi(o,c,tt,S,m,null)}return;case"dialog":Hn("beforetoggle",o),Hn("toggle",o),Hn("cancel",o),Hn("close",o);break;case"iframe":case"object":Hn("load",o);break;case"video":case"audio":for(S=0;S<Zf.length;S++)Hn(Zf[S],o);break;case"image":Hn("error",o),Hn("load",o);break;case"details":Hn("toggle",o);break;case"embed":case"source":case"link":Hn("error",o),Hn("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(bt in m)if(m.hasOwnProperty(bt)&&(S=m[bt],S!=null))switch(bt){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:fi(o,c,bt,S,m,null)}return;default:if(Fu(c)){for(Dt in m)m.hasOwnProperty(Dt)&&(S=m[Dt],S!==void 0&&op(o,c,Dt,S,m,void 0));return}}for(Ee in m)m.hasOwnProperty(Ee)&&(S=m[Ee],S!=null&&fi(o,c,Ee,S,m,null))}function _w(o,c,m,S){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var P=null,z=null,ie=null,Ee=null,tt=null,bt=null,Dt=null;for(Ft in m){var jt=m[Ft];if(m.hasOwnProperty(Ft)&&jt!=null)switch(Ft){case"checked":break;case"value":break;case"defaultValue":tt=jt;default:S.hasOwnProperty(Ft)||fi(o,c,Ft,null,S,jt)}}for(var xt in S){var Ft=S[xt];if(jt=m[xt],S.hasOwnProperty(xt)&&(Ft!=null||jt!=null))switch(xt){case"type":z=Ft;break;case"name":P=Ft;break;case"checked":bt=Ft;break;case"defaultChecked":Dt=Ft;break;case"value":ie=Ft;break;case"defaultValue":Ee=Ft;break;case"children":case"dangerouslySetInnerHTML":if(Ft!=null)throw Error(n(137,c));break;default:Ft!==jt&&fi(o,c,xt,Ft,S,jt)}}$s(o,ie,Ee,tt,bt,Dt,z,P);return;case"select":Ft=ie=Ee=xt=null;for(z in m)if(tt=m[z],m.hasOwnProperty(z)&&tt!=null)switch(z){case"value":break;case"multiple":Ft=tt;default:S.hasOwnProperty(z)||fi(o,c,z,null,S,tt)}for(P in S)if(z=S[P],tt=m[P],S.hasOwnProperty(P)&&(z!=null||tt!=null))switch(P){case"value":xt=z;break;case"defaultValue":Ee=z;break;case"multiple":ie=z;default:z!==tt&&fi(o,c,P,z,S,tt)}c=Ee,m=ie,S=Ft,xt!=null?Ra(o,!!m,xt,!1):!!S!=!!m&&(c!=null?Ra(o,!!m,c,!0):Ra(o,!!m,m?[]:"",!1));return;case"textarea":Ft=xt=null;for(Ee in m)if(P=m[Ee],m.hasOwnProperty(Ee)&&P!=null&&!S.hasOwnProperty(Ee))switch(Ee){case"value":break;case"children":break;default:fi(o,c,Ee,null,S,P)}for(ie in S)if(P=S[ie],z=m[ie],S.hasOwnProperty(ie)&&(P!=null||z!=null))switch(ie){case"value":xt=P;break;case"defaultValue":Ft=P;break;case"children":break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(n(91));break;default:P!==z&&fi(o,c,ie,P,S,z)}cl(o,xt,Ft);return;case"option":for(var Fr in m)if(xt=m[Fr],m.hasOwnProperty(Fr)&&xt!=null&&!S.hasOwnProperty(Fr))switch(Fr){case"selected":o.selected=!1;break;default:fi(o,c,Fr,null,S,xt)}for(tt in S)if(xt=S[tt],Ft=m[tt],S.hasOwnProperty(tt)&&xt!==Ft&&(xt!=null||Ft!=null))switch(tt){case"selected":o.selected=xt&&typeof xt!="function"&&typeof xt!="symbol";break;default:fi(o,c,tt,xt,S,Ft)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var hn in m)xt=m[hn],m.hasOwnProperty(hn)&&xt!=null&&!S.hasOwnProperty(hn)&&fi(o,c,hn,null,S,xt);for(bt in S)if(xt=S[bt],Ft=m[bt],S.hasOwnProperty(bt)&&xt!==Ft&&(xt!=null||Ft!=null))switch(bt){case"children":case"dangerouslySetInnerHTML":if(xt!=null)throw Error(n(137,c));break;default:fi(o,c,bt,xt,S,Ft)}return;default:if(Fu(c)){for(var $i in m)xt=m[$i],m.hasOwnProperty($i)&&xt!==void 0&&!S.hasOwnProperty($i)&&op(o,c,$i,void 0,S,xt);for(Dt in S)xt=S[Dt],Ft=m[Dt],!S.hasOwnProperty(Dt)||xt===Ft||xt===void 0&&Ft===void 0||op(o,c,Dt,xt,S,Ft);return}}for(var dt in m)xt=m[dt],m.hasOwnProperty(dt)&&xt!=null&&!S.hasOwnProperty(dt)&&fi(o,c,dt,null,S,xt);for(jt in S)xt=S[jt],Ft=m[jt],!S.hasOwnProperty(jt)||xt===Ft||xt==null&&Ft==null||fi(o,c,jt,xt,S,Ft)}function u(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function a(){if(typeof performance.getEntriesByType=="function"){for(var o=0,c=0,m=performance.getEntriesByType("resource"),S=0;S<m.length;S++){var P=m[S],z=P.transferSize,ie=P.initiatorType,Ee=P.duration;if(z&&Ee&&u(ie)){for(ie=0,Ee=P.responseEnd,S+=1;S<m.length;S++){var tt=m[S],bt=tt.startTime;if(bt>Ee)break;var Dt=tt.transferSize,jt=tt.initiatorType;Dt&&u(jt)&&(tt=tt.responseEnd,ie+=Dt*(tt<Ee?1:(Ee-bt)/(tt-bt)))}if(--S,c+=8*(z+ie)/(P.duration/1e3),o++,10<o)break}}if(0<o)return c/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var d=null,g=null;function B(o){return o.nodeType===9?o:o.ownerDocument}function E(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function I(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function O(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var R=null;function q(){var o=window.event;return o&&o.type==="popstate"?o===R?!1:(R=o,!0):(R=null,!1)}var Z=typeof setTimeout=="function"?setTimeout:void 0,J=typeof clearTimeout=="function"?clearTimeout:void 0,oe=typeof Promise=="function"?Promise:void 0,he=typeof queueMicrotask=="function"?queueMicrotask:typeof oe<"u"?function(o){return oe.resolve(null).then(o).catch(ve)}:Z;function ve(o){setTimeout(function(){throw o})}function Ce(o){return o==="head"}function je(o,c){var m=c,S=0;do{var P=m.nextSibling;if(o.removeChild(m),P&&P.nodeType===8)if(m=P.data,m==="/$"||m==="/&"){if(S===0){o.removeChild(P),mm(c);return}S--}else if(m==="$"||m==="$?"||m==="$~"||m==="$!"||m==="&")S++;else if(m==="html")Ut(o.ownerDocument.documentElement);else if(m==="head"){m=o.ownerDocument.head,Ut(m);for(var z=m.firstChild;z;){var ie=z.nextSibling,Ee=z.nodeName;z[Pn]||Ee==="SCRIPT"||Ee==="STYLE"||Ee==="LINK"&&z.rel.toLowerCase()==="stylesheet"||m.removeChild(z),z=ie}}else m==="body"&&Ut(o.ownerDocument.body);m=P}while(m);mm(c)}function Ze(o,c){var m=o;o=0;do{var S=m.nextSibling;if(m.nodeType===1?c?(m._stashedDisplay=m.style.display,m.style.display="none"):(m.style.display=m._stashedDisplay||"",m.getAttribute("style")===""&&m.removeAttribute("style")):m.nodeType===3&&(c?(m._stashedText=m.nodeValue,m.nodeValue=""):m.nodeValue=m._stashedText||""),S&&S.nodeType===8)if(m=S.data,m==="/$"){if(o===0)break;o--}else m!=="$"&&m!=="$?"&&m!=="$~"&&m!=="$!"||o++;m=S}while(m)}function ht(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var m=c;switch(c=c.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":ht(m),gi(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}o.removeChild(m)}}function it(o,c,m,S){for(;o.nodeType===1;){var P=m;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!S&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(S){if(!o[Pn])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(z=o.getAttribute("rel"),z==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(z!==P.rel||o.getAttribute("href")!==(P.href==null||P.href===""?null:P.href)||o.getAttribute("crossorigin")!==(P.crossOrigin==null?null:P.crossOrigin)||o.getAttribute("title")!==(P.title==null?null:P.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(z=o.getAttribute("src"),(z!==(P.src==null?null:P.src)||o.getAttribute("type")!==(P.type==null?null:P.type)||o.getAttribute("crossorigin")!==(P.crossOrigin==null?null:P.crossOrigin))&&z&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var z=P.name==null?null:""+P.name;if(P.type==="hidden"&&o.getAttribute("name")===z)return o}else return o;if(o=Wt(o.nextSibling),o===null)break}return null}function At(o,c,m){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!m||(o=Wt(o.nextSibling),o===null))return null;return o}function Bt(o,c){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!c||(o=Wt(o.nextSibling),o===null))return null;return o}function Kt(o){return o.data==="$?"||o.data==="$~"}function er(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function kr(o,c){var m=o.ownerDocument;if(o.data==="$~")o._reactRetry=c;else if(o.data!=="$?"||m.readyState!=="loading")c();else{var S=function(){c(),m.removeEventListener("DOMContentLoaded",S)};m.addEventListener("DOMContentLoaded",S),o._reactRetry=S}}function Wt(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return o}var Yt=null;function pr(o){o=o.nextSibling;for(var c=0;o;){if(o.nodeType===8){var m=o.data;if(m==="/$"||m==="/&"){if(c===0)return Wt(o.nextSibling);c--}else m!=="$"&&m!=="$!"&&m!=="$?"&&m!=="$~"&&m!=="&"||c++}o=o.nextSibling}return null}function Ar(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var m=o.data;if(m==="$"||m==="$!"||m==="$?"||m==="$~"||m==="&"){if(c===0)return o;c--}else m!=="/$"&&m!=="/&"||c++}o=o.previousSibling}return null}function ir(o,c,m){switch(c=B(m),o){case"html":if(o=c.documentElement,!o)throw Error(n(452));return o;case"head":if(o=c.head,!o)throw Error(n(453));return o;case"body":if(o=c.body,!o)throw Error(n(454));return o;default:throw Error(n(451))}}function Ut(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);gi(o)}var ar=new Map,hr=new Set;function qr(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Rn=Ne.d;Ne.d={f:Ai,r:ns,D:is,C:Io,L:Fo,m:Lo,X:as,S:da,M:uo};function Ai(){var o=Rn.f(),c=Wd();return o||c}function ns(o){var c=yi(o);c!==null&&c.tag===5&&c.type==="form"?vg(c):Rn.r(o)}var Ao=typeof document>"u"?null:document;function bs(o,c,m){var S=Ao;if(S&&typeof c=="string"&&c){var P=ui(c);P='link[rel="'+o+'"][href="'+P+'"]',typeof m=="string"&&(P+='[crossorigin="'+m+'"]'),hr.has(P)||(hr.add(P),o={rel:o,crossOrigin:m,href:c},S.querySelector(P)===null&&(c=S.createElement("link"),_s(c,"link",o),Ui(c),S.head.appendChild(c)))}}function is(o){Rn.D(o),bs("dns-prefetch",o,null)}function Io(o,c){Rn.C(o,c),bs("preconnect",o,c)}function Fo(o,c,m){Rn.L(o,c,m);var S=Ao;if(S&&o&&c){var P='link[rel="preload"][as="'+ui(c)+'"]';c==="image"&&m&&m.imageSrcSet?(P+='[imagesrcset="'+ui(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(P+='[imagesizes="'+ui(m.imageSizes)+'"]')):P+='[href="'+ui(o)+'"]';var z=P;switch(c){case"style":z=Ga(o);break;case"script":z=Fn(o)}ar.has(z)||(o=C({rel:"preload",href:c==="image"&&m&&m.imageSrcSet?void 0:o,as:c},m),ar.set(z,o),S.querySelector(P)!==null||c==="style"&&S.querySelector(Ma(z))||c==="script"&&S.querySelector(ti(z))||(c=S.createElement("link"),_s(c,"link",o),Ui(c),S.head.appendChild(c)))}}function Lo(o,c){Rn.m(o,c);var m=Ao;if(m&&o){var S=c&&typeof c.as=="string"?c.as:"script",P='link[rel="modulepreload"][as="'+ui(S)+'"][href="'+ui(o)+'"]',z=P;switch(S){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":z=Fn(o)}if(!ar.has(z)&&(o=C({rel:"modulepreload",href:o},c),ar.set(z,o),m.querySelector(P)===null)){switch(S){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(ti(z)))return}S=m.createElement("link"),_s(S,"link",o),Ui(S),m.head.appendChild(S)}}}function da(o,c,m){Rn.S(o,c,m);var S=Ao;if(S&&o){var P=wn(S).hoistableStyles,z=Ga(o);c=c||"default";var ie=P.get(z);if(!ie){var Ee={loading:0,preload:null};if(ie=S.querySelector(Ma(z)))Ee.loading=5;else{o=C({rel:"stylesheet",href:o,"data-precedence":c},m),(m=ar.get(z))&&Ni(o,m);var tt=ie=S.createElement("link");Ui(tt),_s(tt,"link",o),tt._p=new Promise(function(bt,Dt){tt.onload=bt,tt.onerror=Dt}),tt.addEventListener("load",function(){Ee.loading|=1}),tt.addEventListener("error",function(){Ee.loading|=2}),Ee.loading|=4,co(ie,c,S)}ie={type:"stylesheet",instance:ie,count:1,state:Ee},P.set(z,ie)}}}function as(o,c){Rn.X(o,c);var m=Ao;if(m&&o){var S=wn(m).hoistableScripts,P=Fn(o),z=S.get(P);z||(z=m.querySelector(ti(P)),z||(o=C({src:o,async:!0},c),(c=ar.get(P))&&dh(o,c),z=m.createElement("script"),Ui(z),_s(z,"link",o),m.head.appendChild(z)),z={type:"script",instance:z,count:1,state:null},S.set(P,z))}}function uo(o,c){Rn.M(o,c);var m=Ao;if(m&&o){var S=wn(m).hoistableScripts,P=Fn(o),z=S.get(P);z||(z=m.querySelector(ti(P)),z||(o=C({src:o,async:!0,type:"module"},c),(c=ar.get(P))&&dh(o,c),z=m.createElement("script"),Ui(z),_s(z,"link",o),m.head.appendChild(z)),z={type:"script",instance:z,count:1,state:null},S.set(P,z))}}function ws(o,c,m,S){var P=(P=$e.current)?qr(P):null;if(!P)throw Error(n(446));switch(o){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(c=Ga(m.href),m=wn(P).hoistableStyles,S=m.get(c),S||(S={type:"style",instance:null,count:0,state:null},m.set(c,S)),S):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){o=Ga(m.href);var z=wn(P).hoistableStyles,ie=z.get(o);if(ie||(P=P.ownerDocument||P,ie={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},z.set(o,ie),(z=P.querySelector(Ma(o)))&&!z._p&&(ie.instance=z,ie.state.loading=5),ar.has(o)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},ar.set(o,m),z||tl(P,o,m,ie.state))),c&&S===null)throw Error(n(528,""));return ie}if(c&&S!==null)throw Error(n(529,""));return null;case"script":return c=m.async,m=m.src,typeof m=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Fn(m),m=wn(P).hoistableScripts,S=m.get(c),S||(S={type:"script",instance:null,count:0,state:null},m.set(c,S)),S):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,o))}}function Ga(o){return'href="'+ui(o)+'"'}function Ma(o){return'link[rel="stylesheet"]['+o+"]"}function Fl(o){return C({},o,{"data-precedence":o.precedence,precedence:null})}function tl(o,c,m,S){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?S.loading=1:(c=o.createElement("link"),S.preload=c,c.addEventListener("load",function(){return S.loading|=1}),c.addEventListener("error",function(){return S.loading|=2}),_s(c,"link",m),Ui(c),o.head.appendChild(c))}function Fn(o){return'[src="'+ui(o)+'"]'}function ti(o){return"script[async]"+o}function Bi(o,c,m){if(c.count++,c.instance===null)switch(c.type){case"style":var S=o.querySelector('style[data-href~="'+ui(m.href)+'"]');if(S)return c.instance=S,Ui(S),S;var P=C({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return S=(o.ownerDocument||o).createElement("style"),Ui(S),_s(S,"style",P),co(S,m.precedence,o),c.instance=S;case"stylesheet":P=Ga(m.href);var z=o.querySelector(Ma(P));if(z)return c.state.loading|=4,c.instance=z,Ui(z),z;S=Fl(m),(P=ar.get(P))&&Ni(S,P),z=(o.ownerDocument||o).createElement("link"),Ui(z);var ie=z;return ie._p=new Promise(function(Ee,tt){ie.onload=Ee,ie.onerror=tt}),_s(z,"link",S),c.state.loading|=4,co(z,m.precedence,o),c.instance=z;case"script":return z=Fn(m.src),(P=o.querySelector(ti(z)))?(c.instance=P,Ui(P),P):(S=m,(P=ar.get(z))&&(S=C({},m),dh(S,P)),o=o.ownerDocument||o,P=o.createElement("script"),Ui(P),_s(P,"link",S),o.head.appendChild(P),c.instance=P);case"void":return null;default:throw Error(n(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(S=c.instance,c.state.loading|=4,co(S,m.precedence,o));return c.instance}function co(o,c,m){for(var S=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),P=S.length?S[S.length-1]:null,z=P,ie=0;ie<S.length;ie++){var Ee=S[ie];if(Ee.dataset.precedence===c)z=Ee;else if(z!==P)break}z?z.parentNode.insertBefore(o,z.nextSibling):(c=m.nodeType===9?m.head:m,c.insertBefore(o,c.firstChild))}function Ni(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function dh(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var AA=null;function vu(o,c,m){if(AA===null){var S=new Map,P=AA=new Map;P.set(m,S)}else P=AA,S=P.get(m),S||(S=new Map,P.set(m,S));if(S.has(o))return S;for(S.set(o,null),m=m.getElementsByTagName(o),P=0;P<m.length;P++){var z=m[P];if(!(z[Pn]||z[or]||o==="link"&&z.getAttribute("rel")==="stylesheet")&&z.namespaceURI!=="http://www.w3.org/2000/svg"){var ie=z.getAttribute(c)||"";ie=o+ie;var Ee=S.get(ie);Ee?Ee.push(z):S.set(ie,[z])}}return S}function uA(o,c,m){o=o.ownerDocument||o,o.head.insertBefore(m,c==="title"?o.querySelector("head > title"):null)}function cA(o,c,m){if(m===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function ss(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function Fc(o,c,m,S){if(m.type==="stylesheet"&&(typeof S.media!="string"||matchMedia(S.media).matches!==!1)&&(m.state.loading&4)===0){if(m.instance===null){var P=Ga(S.href),z=c.querySelector(Ma(P));if(z){c=z._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(o.count++,o=lp.bind(o),c.then(o,o)),m.state.loading|=4,m.instance=z,Ui(z);return}z=c.ownerDocument||c,S=Fl(S),(P=ar.get(P))&&Ni(S,P),z=z.createElement("link"),Ui(z);var ie=z;ie._p=new Promise(function(Ee,tt){ie.onload=Ee,ie.onerror=tt}),_s(z,"link",S),m.instance=z}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(m,c),(c=m.state.preload)&&(m.state.loading&3)===0&&(o.count++,m=lp.bind(o),c.addEventListener("load",m),c.addEventListener("error",m))}}var Vh=0;function xv(o,c){return o.stylesheets&&o.count===0&&Jf(o,o.stylesheets),0<o.count||0<o.imgCount?function(m){var S=setTimeout(function(){if(o.stylesheets&&Jf(o,o.stylesheets),o.unsuspend){var z=o.unsuspend;o.unsuspend=null,z()}},6e4+c);0<o.imgBytes&&Vh===0&&(Vh=62500*a());var P=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&Jf(o,o.stylesheets),o.unsuspend)){var z=o.unsuspend;o.unsuspend=null,z()}},(o.imgBytes>Vh?50:800)+c);return o.unsuspend=m,function(){o.unsuspend=null,clearTimeout(S),clearTimeout(P)}}:null}function lp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Jf(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Yf=null;function Jf(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Yf=new Map,c.forEach(Lc,o),Yf=null,lp.call(o))}function Lc(o,c){if(!(c.state.loading&4)){var m=Yf.get(o);if(m)var S=m.get(null);else{m=new Map,Yf.set(o,m);for(var P=o.querySelectorAll("link[data-precedence],style[data-precedence]"),z=0;z<P.length;z++){var ie=P[z];(ie.nodeName==="LINK"||ie.getAttribute("media")!=="not all")&&(m.set(ie.dataset.precedence,ie),S=ie)}S&&m.set(null,S)}P=c.instance,ie=P.getAttribute("data-precedence"),z=m.get(ie)||S,z===S&&m.set(null,P),m.set(ie,P),this.count++,S=lp.bind(this),P.addEventListener("load",S),P.addEventListener("error",S),z?z.parentNode.insertBefore(P,z.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(P,o.firstChild)),c.state.loading|=4}}var ed={$$typeof:W,Provider:null,Consumer:null,_currentValue:Ve,_currentValue2:Ve,_threadCount:0};function Bv(o,c,m,S,P,z,ie,Ee,tt){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=et(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=et(0),this.hiddenUpdates=et(null),this.identifierPrefix=S,this.onUncaughtError=P,this.onCaughtError=z,this.onRecoverableError=ie,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=tt,this.incompleteTransitions=new Map}function Cv(o,c,m,S,P,z,ie,Ee,tt,bt,Dt,jt){return o=new Bv(o,c,m,ie,tt,bt,Dt,jt,Ee),c=1,z===!0&&(c|=24),z=ba(3,null,null,c),o.current=z,z.stateNode=o,c=ys(),c.refCount++,o.pooledCache=c,c.refCount++,z.memoizedState={element:S,isDehydrated:m,cache:c},gt(z),o}function Sv(o){return o?(o=bi,o):bi}function Ev(o,c,m,S,P,z){P=Sv(P),S.context===null?S.context=P:S.pendingContext=P,S=Et(c),S.payload={element:m},z=z===void 0?null:z,z!==null&&(S.callback=z),m=zt(o,S,c),m!==null&&(Eo(m,o,c),tr(m,o,c))}function Tv(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var m=o.retryLane;o.retryLane=m!==0&&m<c?m:c}}function s0(o,c){Tv(o,c),(o=o.alternate)&&Tv(o,c)}function Iv(o){if(o.tag===13||o.tag===31){var c=Zo(o,67108864);c!==null&&Eo(c,o,67108864),s0(o,67108864)}}function Fv(o){if(o.tag===13||o.tag===31){var c=lA();c=ft(c);var m=Zo(o,c);m!==null&&Eo(m,o,c),s0(o,c)}}var hm=!0;function _u(o,c,m,S){var P=Oe.T;Oe.T=null;var z=Ne.p;try{Ne.p=2,dm(o,c,m,S)}finally{Ne.p=z,Oe.T=P}}function fm(o,c,m,S){var P=Oe.T;Oe.T=null;var z=Ne.p;try{Ne.p=8,dm(o,c,m,S)}finally{Ne.p=z,Oe.T=P}}function dm(o,c,m,S){if(hm){var P=o0(S);if(P===null)np(o,c,S,pm,m),DS(o,S);else if(Yk(P,o,c,m,S))S.stopPropagation();else if(DS(o,S),c&4&&-1<Wk.indexOf(o)){for(;P!==null;){var z=yi(P);if(z!==null)switch(z.tag){case 3:if(z=z.stateNode,z.current.memoizedState.isDehydrated){var ie=Me(z.pendingLanes);if(ie!==0){var Ee=z;for(Ee.pendingLanes|=2,Ee.entangledLanes|=2;ie;){var tt=1<<31-Zr(ie);Ee.entanglements[1]|=tt,ie&=~tt}Zu(z),(ii&6)===0&&(em=rn()+500,Gf(0))}}break;case 31:case 13:Ee=Zo(z,2),Ee!==null&&Eo(Ee,z,2),Wd(),s0(z,2)}if(z=o0(S),z===null&&np(o,c,S,pm,m),z===P)break;P=z}P!==null&&S.stopPropagation()}else np(o,c,S,null,m)}}function o0(o){return o=ua(o),l0(o)}var pm=null;function l0(o){if(pm=null,o=ai(o),o!==null){var c=A(o);if(c===null)o=null;else{var m=c.tag;if(m===13){if(o=f(c),o!==null)return o;o=null}else if(m===31){if(o=l(c),o!==null)return o;o=null}else if(m===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return pm=o,null}function js(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nn()){case Jr:return 2;case yn:return 8;case Lt:case cr:return 32;case Pr:return 268435456;default:return 32}default:return 32}}var rl=!1,Ll=null,Hs=null,Ul=null,Ml=new Map,A0=new Map,td=[],Wk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function DS(o,c){switch(o){case"focusin":case"focusout":Ll=null;break;case"dragenter":case"dragleave":Hs=null;break;case"mouseover":case"mouseout":Ul=null;break;case"pointerover":case"pointerout":Ml.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":A0.delete(c.pointerId)}}function u0(o,c,m,S,P,z){return o===null||o.nativeEvent!==z?(o={blockedOn:c,domEventName:m,eventSystemFlags:S,nativeEvent:z,targetContainers:[P]},c!==null&&(c=yi(c),c!==null&&Iv(c)),o):(o.eventSystemFlags|=S,c=o.targetContainers,P!==null&&c.indexOf(P)===-1&&c.push(P),o)}function Yk(o,c,m,S,P){switch(c){case"focusin":return Ll=u0(Ll,o,c,m,S,P),!0;case"dragenter":return Hs=u0(Hs,o,c,m,S,P),!0;case"mouseover":return Ul=u0(Ul,o,c,m,S,P),!0;case"pointerover":var z=P.pointerId;return Ml.set(z,u0(Ml.get(z)||null,o,c,m,S,P)),!0;case"gotpointercapture":return z=P.pointerId,A0.set(z,u0(A0.get(z)||null,o,c,m,S,P)),!0}return!1}function kS(o){var c=ai(o.target);if(c!==null){var m=A(c);if(m!==null){if(c=m.tag,c===13){if(c=f(m),c!==null){o.blockedOn=c,dr(o.priority,function(){Fv(m)});return}}else if(c===31){if(c=l(m),c!==null){o.blockedOn=c,dr(o.priority,function(){Fv(m)});return}}else if(c===3&&m.stateNode.current.memoizedState.isDehydrated){o.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Lv(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var m=o0(o.nativeEvent);if(m===null){m=o.nativeEvent;var S=new m.constructor(m.type,m);Xs=S,m.target.dispatchEvent(S),Xs=null}else return c=yi(m),c!==null&&Iv(c),o.blockedOn=m,!1;c.shift()}return!0}function NS(o,c,m){Lv(o)&&m.delete(c)}function Jk(){rl=!1,Ll!==null&&Lv(Ll)&&(Ll=null),Hs!==null&&Lv(Hs)&&(Hs=null),Ul!==null&&Lv(Ul)&&(Ul=null),Ml.forEach(NS),A0.forEach(NS)}function Uv(o,c){o.blockedOn===c&&(o.blockedOn=null,rl||(rl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Jk)))}var Mv=null;function QS(o){Mv!==o&&(Mv=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Mv===o&&(Mv=null);for(var c=0;c<o.length;c+=3){var m=o[c],S=o[c+1],P=o[c+2];if(typeof S!="function"){if(l0(S||m)===null)continue;break}var z=yi(m);z!==null&&(o.splice(c,3),c-=3,jp(z,{pending:!0,data:P,method:m.method,action:S},S,P))}}))}function mm(o){function c(tt){return Uv(tt,o)}Ll!==null&&Uv(Ll,o),Hs!==null&&Uv(Hs,o),Ul!==null&&Uv(Ul,o),Ml.forEach(c),A0.forEach(c);for(var m=0;m<td.length;m++){var S=td[m];S.blockedOn===o&&(S.blockedOn=null)}for(;0<td.length&&(m=td[0],m.blockedOn===null);)kS(m),m.blockedOn===null&&td.shift();if(m=(o.ownerDocument||o).$$reactFormReplay,m!=null)for(S=0;S<m.length;S+=3){var P=m[S],z=m[S+1],ie=P[Or]||null;if(typeof z=="function")ie||QS(m);else if(ie){var Ee=null;if(z&&z.hasAttribute("formAction")){if(P=z,ie=z[Or]||null)Ee=ie.formAction;else if(l0(P)!==null)continue}else Ee=ie.action;typeof Ee=="function"?m[S+1]=Ee:(m.splice(S,3),S-=3),QS(m)}}}function RS(){function o(z){z.canIntercept&&z.info==="react-transition"&&z.intercept({handler:function(){return new Promise(function(ie){return P=ie})},focusReset:"manual",scroll:"manual"})}function c(){P!==null&&(P(),P=null),S||setTimeout(m,20)}function m(){if(!S&&!navigation.transition){var z=navigation.currentEntry;z&&z.url!=null&&navigation.navigate(z.url,{state:z.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var S=!1,P=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(m,100),function(){S=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),P!==null&&(P(),P=null)}}}function bw(o){this._internalRoot=o}Pv.prototype.render=bw.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(n(409));var m=c.current,S=lA();Ev(m,S,o,c,null,null)},Pv.prototype.unmount=bw.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;Ev(o.current,2,null,o,null,null),Wd(),c[jr]=null}};function Pv(o){this._internalRoot=o}Pv.prototype.unstable_scheduleHydration=function(o){if(o){var c=Jt();o={blockedOn:null,target:o,priority:c};for(var m=0;m<td.length&&c!==0&&c<td[m].priority;m++);td.splice(m,0,o),m===0&&kS(o)}};var zS=t.version;if(zS!=="19.2.0")throw Error(n(527,zS,"19.2.0"));Ne.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=b(c),o=o!==null?w(o):null,o=o===null?null:o.stateNode,o};var eN={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Oe,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ov=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ov.isDisabled&&Ov.supportsFiber)try{Pt=Ov.inject(eN),Zt=Ov}catch{}}return h0.createRoot=function(o,c){if(!s(o))throw Error(n(299));var m=!1,S="",P=Hy,z=Ky,ie=Vy;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(S=c.identifierPrefix),c.onUncaughtError!==void 0&&(P=c.onUncaughtError),c.onCaughtError!==void 0&&(z=c.onCaughtError),c.onRecoverableError!==void 0&&(ie=c.onRecoverableError)),c=Cv(o,1,!1,null,null,m,S,null,P,z,ie,RS),o[jr]=c.current,n0(o),new bw(c)},h0.hydrateRoot=function(o,c,m){if(!s(o))throw Error(n(299));var S=!1,P="",z=Hy,ie=Ky,Ee=Vy,tt=null;return m!=null&&(m.unstable_strictMode===!0&&(S=!0),m.identifierPrefix!==void 0&&(P=m.identifierPrefix),m.onUncaughtError!==void 0&&(z=m.onUncaughtError),m.onCaughtError!==void 0&&(ie=m.onCaughtError),m.onRecoverableError!==void 0&&(Ee=m.onRecoverableError),m.formState!==void 0&&(tt=m.formState)),c=Cv(o,1,!0,c,m??null,S,P,tt,z,ie,Ee,RS),c.context=Sv(null),m=c.current,S=lA(),S=ft(S),P=Et(S),P.callback=null,zt(m,P,S),m=S,c.current.lanes=m,qe(c,m),Zu(c),o[jr]=c.current,n0(o),new Pv(c)},h0.version="19.2.0",h0}var WS;function hN(){if(WS)return Bw.exports;WS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Bw.exports=cN(),Bw.exports}var fN=hN(),U1={exports:{}};var dN=U1.exports,YS;function pN(){return YS||(YS=1,(function(e,t){(function(r,n){e.exports=n()})(dN,(function(){var r={},n={};function s(f,l,y){if(n[f]=y,f==="index"){var b="var sharedModule = {}; ("+n.shared+")(sharedModule); ("+n.worker+")(sharedModule);",w={};return n.shared(w),n.index(r,w),typeof window<"u"&&r.setWorkerUrl(window.URL.createObjectURL(new Blob([b],{type:"text/javascript"}))),r}}s("shared",["exports"],(function(f){function l(u,a,d,g){return new(d||(d=Promise))((function(B,E){function I(q){try{R(g.next(q))}catch(Z){E(Z)}}function O(q){try{R(g.throw(q))}catch(Z){E(Z)}}function R(q){var Z;q.done?B(q.value):(Z=q.value,Z instanceof d?Z:new d((function(J){J(Z)}))).then(I,O)}R((g=g.apply(u,a||[])).next())}))}function y(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}typeof SuppressedError=="function"&&SuppressedError;var b=w;function w(u,a){this.x=u,this.y=a}w.prototype={clone:function(){return new w(this.x,this.y)},add:function(u){return this.clone()._add(u)},sub:function(u){return this.clone()._sub(u)},multByPoint:function(u){return this.clone()._multByPoint(u)},divByPoint:function(u){return this.clone()._divByPoint(u)},mult:function(u){return this.clone()._mult(u)},div:function(u){return this.clone()._div(u)},rotate:function(u){return this.clone()._rotate(u)},rotateAround:function(u,a){return this.clone()._rotateAround(u,a)},matMult:function(u){return this.clone()._matMult(u)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(u){return this.x===u.x&&this.y===u.y},dist:function(u){return Math.sqrt(this.distSqr(u))},distSqr:function(u){var a=u.x-this.x,d=u.y-this.y;return a*a+d*d},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(u){return Math.atan2(this.y-u.y,this.x-u.x)},angleWith:function(u){return this.angleWithSep(u.x,u.y)},angleWithSep:function(u,a){return Math.atan2(this.x*a-this.y*u,this.x*u+this.y*a)},_matMult:function(u){var a=u[2]*this.x+u[3]*this.y;return this.x=u[0]*this.x+u[1]*this.y,this.y=a,this},_add:function(u){return this.x+=u.x,this.y+=u.y,this},_sub:function(u){return this.x-=u.x,this.y-=u.y,this},_mult:function(u){return this.x*=u,this.y*=u,this},_div:function(u){return this.x/=u,this.y/=u,this},_multByPoint:function(u){return this.x*=u.x,this.y*=u.y,this},_divByPoint:function(u){return this.x/=u.x,this.y/=u.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var u=this.y;return this.y=this.x,this.x=-u,this},_rotate:function(u){var a=Math.cos(u),d=Math.sin(u),g=d*this.x+a*this.y;return this.x=a*this.x-d*this.y,this.y=g,this},_rotateAround:function(u,a){var d=Math.cos(u),g=Math.sin(u),B=a.y+g*(this.x-a.x)+d*(this.y-a.y);return this.x=a.x+d*(this.x-a.x)-g*(this.y-a.y),this.y=B,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},w.convert=function(u){return u instanceof w?u:Array.isArray(u)?new w(u[0],u[1]):u};var C=y(b),F=T;function T(u,a,d,g){this.cx=3*u,this.bx=3*(d-u)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*a,this.by=3*(g-a)-this.cy,this.ay=1-this.cy-this.by,this.p1x=u,this.p1y=a,this.p2x=d,this.p2y=g}T.prototype={sampleCurveX:function(u){return((this.ax*u+this.bx)*u+this.cx)*u},sampleCurveY:function(u){return((this.ay*u+this.by)*u+this.cy)*u},sampleCurveDerivativeX:function(u){return(3*this.ax*u+2*this.bx)*u+this.cx},solveCurveX:function(u,a){if(a===void 0&&(a=1e-6),u<0)return 0;if(u>1)return 1;for(var d=u,g=0;g<8;g++){var B=this.sampleCurveX(d)-u;if(Math.abs(B)<a)return d;var E=this.sampleCurveDerivativeX(d);if(Math.abs(E)<1e-6)break;d-=B/E}var I=0,O=1;for(d=u,g=0;g<20&&(B=this.sampleCurveX(d),!(Math.abs(B-u)<a));g++)u>B?I=d:O=d,d=.5*(O-I)+I;return d},solve:function(u,a){return this.sampleCurveY(this.solveCurveX(u,a))}};var j=y(F);let k,H;function K(){return k==null&&(k=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),k}function Y(){if(H==null&&(H=!1,K())){const a=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(a){for(let g=0;g<25;g++){const B=4*g;a.fillStyle=`rgb(${B},${B+1},${B+2})`,a.fillRect(g%5,Math.floor(g/5),1,1)}const d=a.getImageData(0,0,5,5).data;for(let g=0;g<100;g++)if(g%4!=3&&d[g]!==g){H=!0;break}}}return H||!1}function W(u,a,d,g){const B=new j(u,a,d,g);return E=>B.solve(E)}const ae=W(.25,.1,.25,1);function Ae(u,a,d){return Math.min(d,Math.max(a,u))}function pe(u,a,d){const g=d-a,B=((u-a)%g+g)%g+a;return B===a?d:B}function Be(u,...a){for(const d of a)for(const g in d)u[g]=d[g];return u}let Fe=1;function me(u,a,d){const g={};for(const B in u)g[B]=a.call(this,u[B],B,u);return g}function He(u,a,d){const g={};for(const B in u)a.call(this,u[B],B,u)&&(g[B]=u[B]);return g}function se(u){return Array.isArray(u)?u.map(se):typeof u=="object"&&u?me(u,se):u}const de={};function Le(u){de[u]||(typeof console<"u"&&console.warn(u),de[u]=!0)}function Ue(u,a,d){return(d.y-u.y)*(a.x-u.x)>(a.y-u.y)*(d.x-u.x)}function nt(u){return typeof WorkerGlobalScope<"u"&&u!==void 0&&u instanceof WorkerGlobalScope}let Oe=null;function Ne(u){return typeof ImageBitmap<"u"&&u instanceof ImageBitmap}const Ve="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function De(u,a,d,g,B){return l(this,void 0,void 0,(function*(){if(typeof VideoFrame>"u")throw new Error("VideoFrame not supported");const E=new VideoFrame(u,{timestamp:0});try{const I=E?.format;if(!I||!I.startsWith("BGR")&&!I.startsWith("RGB"))throw new Error(`Unrecognized format ${I}`);const O=I.startsWith("BGR"),R=new Uint8ClampedArray(g*B*4);if(yield E.copyTo(R,(function(q,Z,J,oe,he){const ve=4*Math.max(-Z,0),Ce=(Math.max(0,J)-J)*oe*4+ve,je=4*oe,Ze=Math.max(0,Z),ht=Math.max(0,J);return{rect:{x:Ze,y:ht,width:Math.min(q.width,Z+oe)-Ze,height:Math.min(q.height,J+he)-ht},layout:[{offset:Ce,stride:je}]}})(u,a,d,g,B)),O)for(let q=0;q<R.length;q+=4){const Z=R[q];R[q]=R[q+2],R[q+2]=Z}return R}finally{E.close()}}))}let ot,be;const re="AbortError";function ye(){return new Error(re)}const Ie={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};function ke(u){return Ie.REGISTERED_PROTOCOLS[u.substring(0,u.indexOf("://"))]}const $e="global-dispatcher";class Je extends Error{constructor(a,d,g,B){super(`AJAXError: ${d} (${a}): ${g}`),this.status=a,this.statusText=d,this.url=g,this.body=B}}const mt=()=>nt(self)?self.worker&&self.worker.referrer:(window.location.protocol==="blob:"?window.parent:window).location.href,Ke=function(u,a){if(/:\/\//.test(u.url)&&!/^https?:|^file:/.test(u.url)){const g=ke(u.url);if(g)return g(u,a);if(nt(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:u,targetMapId:$e},a)}if(!(/^file:/.test(d=u.url)||/^file:/.test(mt())&&!/^\w+:/.test(d))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return(function(g,B){return l(this,void 0,void 0,(function*(){const E=new Request(g.url,{method:g.method||"GET",body:g.body,credentials:g.credentials,headers:g.headers,cache:g.cache,referrer:mt(),signal:B.signal});g.type!=="json"||E.headers.has("Accept")||E.headers.set("Accept","application/json");const I=yield fetch(E);if(!I.ok){const q=yield I.blob();throw new Je(I.status,I.statusText,g.url,q)}let O;O=g.type==="arrayBuffer"||g.type==="image"?I.arrayBuffer():g.type==="json"?I.json():I.text();const R=yield O;if(B.signal.aborted)throw ye();return{data:R,cacheControl:I.headers.get("Cache-Control"),expires:I.headers.get("Expires")}}))})(u,a);if(nt(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:u,mustQueue:!0,targetMapId:$e},a)}var d;return(function(g,B){return new Promise(((E,I)=>{var O;const R=new XMLHttpRequest;R.open(g.method||"GET",g.url,!0),g.type!=="arrayBuffer"&&g.type!=="image"||(R.responseType="arraybuffer");for(const q in g.headers)R.setRequestHeader(q,g.headers[q]);g.type==="json"&&(R.responseType="text",!((O=g.headers)===null||O===void 0)&&O.Accept||R.setRequestHeader("Accept","application/json")),R.withCredentials=g.credentials==="include",R.onerror=()=>{I(new Error(R.statusText))},R.onload=()=>{if(!B.signal.aborted)if((R.status>=200&&R.status<300||R.status===0)&&R.response!==null){let q=R.response;if(g.type==="json")try{q=JSON.parse(R.response)}catch(Z){return void I(Z)}E({data:q,cacheControl:R.getResponseHeader("Cache-Control"),expires:R.getResponseHeader("Expires")})}else{const q=new Blob([R.response],{type:R.getResponseHeader("Content-Type")});I(new Je(R.status,R.statusText,g.url,q))}},B.signal.addEventListener("abort",(()=>{R.abort(),I(ye())})),R.send(g.body)}))})(u,a)};function pt(u){if(!u||u.indexOf("://")<=0||u.indexOf("data:image/")===0||u.indexOf("blob:")===0)return!0;const a=new URL(u),d=window.location;return a.protocol===d.protocol&&a.host===d.host}function Ct(u,a,d){d[u]&&d[u].indexOf(a)!==-1||(d[u]=d[u]||[],d[u].push(a))}function ct(u,a,d){if(d&&d[u]){const g=d[u].indexOf(a);g!==-1&&d[u].splice(g,1)}}class qt{constructor(a,d={}){Be(this,d),this.type=a}}class Xt extends qt{constructor(a,d={}){super("error",Be({error:a},d))}}class Pe{on(a,d){return this._listeners=this._listeners||{},Ct(a,d,this._listeners),this}off(a,d){return ct(a,d,this._listeners),ct(a,d,this._oneTimeListeners),this}once(a,d){return d?(this._oneTimeListeners=this._oneTimeListeners||{},Ct(a,d,this._oneTimeListeners),this):new Promise((g=>this.once(a,g)))}fire(a,d){typeof a=="string"&&(a=new qt(a,d||{}));const g=a.type;if(this.listens(g)){a.target=this;const B=this._listeners&&this._listeners[g]?this._listeners[g].slice():[];for(const O of B)O.call(this,a);const E=this._oneTimeListeners&&this._oneTimeListeners[g]?this._oneTimeListeners[g].slice():[];for(const O of E)ct(g,O,this._oneTimeListeners),O.call(this,a);const I=this._eventedParent;I&&(Be(a,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),I.fire(a))}else a instanceof Xt&&console.error(a.error);return this}listens(a){return this._listeners&&this._listeners[a]&&this._listeners[a].length>0||this._oneTimeListeners&&this._oneTimeListeners[a]&&this._oneTimeListeners[a].length>0||this._eventedParent&&this._eventedParent.listens(a)}setEventedParent(a,d){return this._eventedParent=a,this._eventedParentData=d,this}}var Ye={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sky:{type:"sky"},projection:{type:"projection"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},sky:{"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},projection:{type:{type:"enum",default:"mercator",values:{mercator:{},globe:{}}}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const Rr=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function Er(u,a){const d={};for(const g in u)g!=="ref"&&(d[g]=u[g]);return Rr.forEach((g=>{g in a&&(d[g]=a[g])})),d}function It(u,a){if(Array.isArray(u)){if(!Array.isArray(a)||u.length!==a.length)return!1;for(let d=0;d<u.length;d++)if(!It(u[d],a[d]))return!1;return!0}if(typeof u=="object"&&u!==null&&a!==null){if(typeof a!="object"||Object.keys(u).length!==Object.keys(a).length)return!1;for(const d in u)if(!It(u[d],a[d]))return!1;return!0}return u===a}function nr(u,a){u.push(a)}function ur(u,a,d){nr(d,{command:"addSource",args:[u,a[u]]})}function Tr(u,a,d){nr(a,{command:"removeSource",args:[u]}),d[u]=!0}function Br(u,a,d,g){Tr(u,d,g),ur(u,a,d)}function rn(u,a,d){let g;for(g in u[d])if(Object.prototype.hasOwnProperty.call(u[d],g)&&g!=="data"&&!It(u[d][g],a[d][g]))return!1;for(g in a[d])if(Object.prototype.hasOwnProperty.call(a[d],g)&&g!=="data"&&!It(u[d][g],a[d][g]))return!1;return!0}function nn(u,a,d,g,B,E){u=u||{},a=a||{};for(const I in u)Object.prototype.hasOwnProperty.call(u,I)&&(It(u[I],a[I])||d.push({command:E,args:[g,I,a[I],B]}));for(const I in a)Object.prototype.hasOwnProperty.call(a,I)&&!Object.prototype.hasOwnProperty.call(u,I)&&(It(u[I],a[I])||d.push({command:E,args:[g,I,a[I],B]}))}function Jr(u){return u.id}function yn(u,a){return u[a.id]=a,u}class Lt{constructor(a,d,g,B){this.message=(a?`${a}: `:"")+g,B&&(this.identifier=B),d!=null&&d.__line__&&(this.line=d.__line__)}}function cr(u,...a){for(const d of a)for(const g in d)u[g]=d[g];return u}class Pr extends Error{constructor(a,d){super(d),this.message=d,this.key=a}}class fr{constructor(a,d=[]){this.parent=a,this.bindings={};for(const[g,B]of d)this.bindings[g]=B}concat(a){return new fr(this,a)}get(a){if(this.bindings[a])return this.bindings[a];if(this.parent)return this.parent.get(a);throw new Error(`${a} not found in scope.`)}has(a){return!!this.bindings[a]||!!this.parent&&this.parent.has(a)}}const ri={kind:"null"},Pt={kind:"number"},Zt={kind:"string"},Gt={kind:"boolean"},Zr={kind:"color"},_r={kind:"object"},sr={kind:"value"},Lr={kind:"collator"},zr={kind:"formatted"},kn={kind:"padding"},Xr={kind:"resolvedImage"},Me={kind:"variableAnchorOffsetCollection"};function le(u,a){return{kind:"array",itemType:u,N:a}}function ue(u){if(u.kind==="array"){const a=ue(u.itemType);return typeof u.N=="number"?`array<${a}, ${u.N}>`:u.itemType.kind==="value"?"array":`array<${a}>`}return u.kind}const we=[ri,Pt,Zt,Gt,Zr,zr,_r,le(sr),kn,Xr,Me];function Re(u,a){if(a.kind==="error")return null;if(u.kind==="array"){if(a.kind==="array"&&(a.N===0&&a.itemType.kind==="value"||!Re(u.itemType,a.itemType))&&(typeof u.N!="number"||u.N===a.N))return null}else{if(u.kind===a.kind)return null;if(u.kind==="value"){for(const d of we)if(!Re(d,a))return null}}return`Expected ${ue(u)} but found ${ue(a)} instead.`}function et(u,a){return a.some((d=>d.kind===u.kind))}function qe(u,a){return a.some((d=>d==="null"?u===null:d==="array"?Array.isArray(u):d==="object"?u&&!Array.isArray(u)&&typeof u=="object":d===typeof u))}function lt(u,a){return u.kind==="array"&&a.kind==="array"?u.itemType.kind===a.itemType.kind&&typeof u.N=="number":u.kind===a.kind}const We=.96422,yt=.82521,Mt=4/29,ft=6/29,Qt=3*ft*ft,Jt=ft*ft*ft,dr=Math.PI/180,Wr=180/Math.PI;function or(u){return(u%=360)<0&&(u+=360),u}function Or([u,a,d,g]){let B,E;const I=Kn((.2225045*(u=jr(u))+.7168786*(a=jr(a))+.0606169*(d=jr(d)))/1);u===a&&a===d?B=E=I:(B=Kn((.4360747*u+.3850649*a+.1430804*d)/We),E=Kn((.0139322*u+.0971045*a+.7141733*d)/yt));const O=116*I-16;return[O<0?0:O,500*(B-I),200*(I-E),g]}function jr(u){return u<=.04045?u/12.92:Math.pow((u+.055)/1.055,2.4)}function Kn(u){return u>Jt?Math.pow(u,1/3):u/Qt+Mt}function Nn([u,a,d,g]){let B=(u+16)/116,E=isNaN(a)?B:B+a/500,I=isNaN(d)?B:B-d/200;return B=1*vn(B),E=We*vn(E),I=yt*vn(I),[en(3.1338561*E-1.6168667*B-.4906146*I),en(-.9787684*E+1.9161415*B+.033454*I),en(.0719453*E-.2289914*B+1.4052427*I),g]}function en(u){return(u=u<=.00304?12.92*u:1.055*Math.pow(u,1/2.4)-.055)<0?0:u>1?1:u}function vn(u){return u>ft?u*u*u:Qt*(u-Mt)}function Pn(u){return parseInt(u.padEnd(2,u),16)/255}function gi(u,a){return ai(a?u/100:u,0,1)}function ai(u,a,d){return Math.min(Math.max(a,u),d)}function yi(u){return!u.some(Number.isNaN)}const _o={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};class wn{constructor(a,d,g,B=1,E=!0){this.r=a,this.g=d,this.b=g,this.a=B,E||(this.r*=B,this.g*=B,this.b*=B,B||this.overwriteGetter("rgb",[a,d,g,B]))}static parse(a){if(a instanceof wn)return a;if(typeof a!="string")return;const d=(function(g){if((g=g.toLowerCase().trim())==="transparent")return[0,0,0,0];const B=_o[g];if(B){const[I,O,R]=B;return[I/255,O/255,R/255,1]}if(g.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(g)){const I=g.length<6?1:2;let O=1;return[Pn(g.slice(O,O+=I)),Pn(g.slice(O,O+=I)),Pn(g.slice(O,O+=I)),Pn(g.slice(O,O+I)||"ff")]}if(g.startsWith("rgb")){const I=g.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(I){const[O,R,q,Z,J,oe,he,ve,Ce,je,Ze,ht]=I,it=[Z||" ",he||" ",je].join("");if(it==="  "||it==="  /"||it===",,"||it===",,,"){const At=[q,oe,Ce].join(""),Bt=At==="%%%"?100:At===""?255:0;if(Bt){const Kt=[ai(+R/Bt,0,1),ai(+J/Bt,0,1),ai(+ve/Bt,0,1),Ze?gi(+Ze,ht):1];if(yi(Kt))return Kt}}return}}const E=g.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(E){const[I,O,R,q,Z,J,oe,he,ve]=E,Ce=[R||" ",Z||" ",oe].join("");if(Ce==="  "||Ce==="  /"||Ce===",,"||Ce===",,,"){const je=[+O,ai(+q,0,100),ai(+J,0,100),he?gi(+he,ve):1];if(yi(je))return(function([Ze,ht,it,At]){function Bt(Kt){const er=(Kt+Ze/30)%12,kr=ht*Math.min(it,1-it);return it-kr*Math.max(-1,Math.min(er-3,9-er,1))}return Ze=or(Ze),ht/=100,it/=100,[Bt(0),Bt(8),Bt(4),At]})(je)}}})(a);return d?new wn(...d,!1):void 0}get rgb(){const{r:a,g:d,b:g,a:B}=this,E=B||1/0;return this.overwriteGetter("rgb",[a/E,d/E,g/E,B])}get hcl(){return this.overwriteGetter("hcl",(function(a){const[d,g,B,E]=Or(a),I=Math.sqrt(g*g+B*B);return[Math.round(1e4*I)?or(Math.atan2(B,g)*Wr):NaN,I,d,E]})(this.rgb))}get lab(){return this.overwriteGetter("lab",Or(this.rgb))}overwriteGetter(a,d){return Object.defineProperty(this,a,{value:d}),d}toString(){const[a,d,g,B]=this.rgb;return`rgba(${[a,d,g].map((E=>Math.round(255*E))).join(",")},${B})`}}wn.black=new wn(0,0,0,1),wn.white=new wn(1,1,1,1),wn.transparent=new wn(0,0,0,0),wn.red=new wn(1,0,0,1);class Ui{constructor(a,d,g){this.sensitivity=a?d?"variant":"case":d?"accent":"base",this.locale=g,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(a,d){return this.collator.compare(a,d)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class eu{constructor(a,d,g,B,E){this.text=a,this.image=d,this.scale=g,this.fontStack=B,this.textColor=E}}class vi{constructor(a){this.sections=a}static fromString(a){return new vi([new eu(a,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some((a=>a.text.length!==0||a.image&&a.image.name.length!==0))}static factory(a){return a instanceof vi?a:vi.fromString(a)}toString(){return this.sections.length===0?"":this.sections.map((a=>a.text)).join("")}}class Mi{constructor(a){this.values=a.slice()}static parse(a){if(a instanceof Mi)return a;if(typeof a=="number")return new Mi([a,a,a,a]);if(Array.isArray(a)&&!(a.length<1||a.length>4)){for(const d of a)if(typeof d!="number")return;switch(a.length){case 1:a=[a[0],a[0],a[0],a[0]];break;case 2:a=[a[0],a[1],a[0],a[1]];break;case 3:a=[a[0],a[1],a[2],a[1]]}return new Mi(a)}}toString(){return JSON.stringify(this.values)}}const Vl=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class Za{constructor(a){this.values=a.slice()}static parse(a){if(a instanceof Za)return a;if(Array.isArray(a)&&!(a.length<1)&&a.length%2==0){for(let d=0;d<a.length;d+=2){const g=a[d],B=a[d+1];if(typeof g!="string"||!Vl.has(g)||!Array.isArray(B)||B.length!==2||typeof B[0]!="number"||typeof B[1]!="number")return}return new Za(a)}}toString(){return JSON.stringify(this.values)}}class Qa{constructor(a){this.name=a.name,this.available=a.available}toString(){return this.name}static fromString(a){return a?new Qa({name:a,available:!1}):null}}function ll(u,a,d,g){return typeof u=="number"&&u>=0&&u<=255&&typeof a=="number"&&a>=0&&a<=255&&typeof d=="number"&&d>=0&&d<=255?g===void 0||typeof g=="number"&&g>=0&&g<=1?null:`Invalid rgba value [${[u,a,d,g].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof g=="number"?[u,a,d,g]:[u,a,d]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Al(u){if(u===null||typeof u=="string"||typeof u=="boolean"||typeof u=="number"||u instanceof wn||u instanceof Ui||u instanceof vi||u instanceof Mi||u instanceof Za||u instanceof Qa)return!0;if(Array.isArray(u)){for(const a of u)if(!Al(a))return!1;return!0}if(typeof u=="object"){for(const a in u)if(!Al(u[a]))return!1;return!0}return!1}function Vn(u){if(u===null)return ri;if(typeof u=="string")return Zt;if(typeof u=="boolean")return Gt;if(typeof u=="number")return Pt;if(u instanceof wn)return Zr;if(u instanceof Ui)return Lr;if(u instanceof vi)return zr;if(u instanceof Mi)return kn;if(u instanceof Za)return Me;if(u instanceof Qa)return Xr;if(Array.isArray(u)){const a=u.length;let d;for(const g of u){const B=Vn(g);if(d){if(d===B)continue;d=sr;break}d=B}return le(d||sr,a)}return _r}function Gs(u){const a=typeof u;return u===null?"":a==="string"||a==="number"||a==="boolean"?String(u):u instanceof wn||u instanceof vi||u instanceof Mi||u instanceof Za||u instanceof Qa?u.toString():JSON.stringify(u)}class Wi{constructor(a,d){this.type=a,this.value=d}static parse(a,d){if(a.length!==2)return d.error(`'literal' expression requires exactly one argument, but found ${a.length-1} instead.`);if(!Al(a[1]))return d.error("invalid value");const g=a[1];let B=Vn(g);const E=d.expectedType;return B.kind!=="array"||B.N!==0||!E||E.kind!=="array"||typeof E.N=="number"&&E.N!==0||(B=E),new Wi(B,g)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class $r{constructor(a){this.name="ExpressionEvaluationError",this.message=a}toJSON(){return this.message}}const vA={string:Zt,number:Pt,boolean:Gt,object:_r};class Aa{constructor(a,d){this.type=a,this.args=d}static parse(a,d){if(a.length<2)return d.error("Expected at least one argument.");let g,B=1;const E=a[0];if(E==="array"){let O,R;if(a.length>2){const q=a[1];if(typeof q!="string"||!(q in vA)||q==="object")return d.error('The item type argument of "array" must be one of string, number, boolean',1);O=vA[q],B++}else O=sr;if(a.length>3){if(a[2]!==null&&(typeof a[2]!="number"||a[2]<0||a[2]!==Math.floor(a[2])))return d.error('The length argument to "array" must be a positive integer literal',2);R=a[2],B++}g=le(O,R)}else{if(!vA[E])throw new Error(`Types doesn't contain name = ${E}`);g=vA[E]}const I=[];for(;B<a.length;B++){const O=d.parse(a[B],B,sr);if(!O)return null;I.push(O)}return new Aa(g,I)}evaluate(a){for(let d=0;d<this.args.length;d++){const g=this.args[d].evaluate(a);if(!Re(this.type,Vn(g)))return g;if(d===this.args.length-1)throw new $r(`Expected value to be of type ${ue(this.type)}, but found ${ue(Vn(g))} instead.`)}throw new Error}eachChild(a){this.args.forEach(a)}outputDefined(){return this.args.every((a=>a.outputDefined()))}}const ul={"to-boolean":Gt,"to-color":Zr,"to-number":Pt,"to-string":Zt};class As{constructor(a,d){this.type=a,this.args=d}static parse(a,d){if(a.length<2)return d.error("Expected at least one argument.");const g=a[0];if(!ul[g])throw new Error(`Can't parse ${g} as it is not part of the known types`);if((g==="to-boolean"||g==="to-string")&&a.length!==2)return d.error("Expected one argument.");const B=ul[g],E=[];for(let I=1;I<a.length;I++){const O=d.parse(a[I],I,sr);if(!O)return null;E.push(O)}return new As(B,E)}evaluate(a){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(a);case"color":{let d,g;for(const B of this.args){if(d=B.evaluate(a),g=null,d instanceof wn)return d;if(typeof d=="string"){const E=a.parseColor(d);if(E)return E}else if(Array.isArray(d)&&(g=d.length<3||d.length>4?`Invalid rbga value ${JSON.stringify(d)}: expected an array containing either three or four numeric values.`:ll(d[0],d[1],d[2],d[3]),!g))return new wn(d[0]/255,d[1]/255,d[2]/255,d[3])}throw new $r(g||`Could not parse color from value '${typeof d=="string"?d:JSON.stringify(d)}'`)}case"padding":{let d;for(const g of this.args){d=g.evaluate(a);const B=Mi.parse(d);if(B)return B}throw new $r(`Could not parse padding from value '${typeof d=="string"?d:JSON.stringify(d)}'`)}case"variableAnchorOffsetCollection":{let d;for(const g of this.args){d=g.evaluate(a);const B=Za.parse(d);if(B)return B}throw new $r(`Could not parse variableAnchorOffsetCollection from value '${typeof d=="string"?d:JSON.stringify(d)}'`)}case"number":{let d=null;for(const g of this.args){if(d=g.evaluate(a),d===null)return 0;const B=Number(d);if(!isNaN(B))return B}throw new $r(`Could not convert ${JSON.stringify(d)} to number.`)}case"formatted":return vi.fromString(Gs(this.args[0].evaluate(a)));case"resolvedImage":return Qa.fromString(Gs(this.args[0].evaluate(a)));default:return Gs(this.args[0].evaluate(a))}}eachChild(a){this.args.forEach(a)}outputDefined(){return this.args.every((a=>a.outputDefined()))}}const us=["Unknown","Point","LineString","Polygon"];class ji{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?us[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(a){let d=this._parseColorCache[a];return d||(d=this._parseColorCache[a]=wn.parse(a)),d}}class ui{constructor(a,d,g=[],B,E=new fr,I=[]){this.registry=a,this.path=g,this.key=g.map((O=>`[${O}]`)).join(""),this.scope=E,this.errors=I,this.expectedType=B,this._isConstant=d}parse(a,d,g,B,E={}){return d?this.concat(d,g,B)._parse(a,E):this._parse(a,E)}_parse(a,d){function g(B,E,I){return I==="assert"?new Aa(E,[B]):I==="coerce"?new As(E,[B]):B}if(a!==null&&typeof a!="string"&&typeof a!="boolean"&&typeof a!="number"||(a=["literal",a]),Array.isArray(a)){if(a.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const B=a[0];if(typeof B!="string")return this.error(`Expression name must be a string, but found ${typeof B} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const E=this.registry[B];if(E){let I=E.parse(a,this);if(!I)return null;if(this.expectedType){const O=this.expectedType,R=I.type;if(O.kind!=="string"&&O.kind!=="number"&&O.kind!=="boolean"&&O.kind!=="object"&&O.kind!=="array"||R.kind!=="value")if(O.kind!=="color"&&O.kind!=="formatted"&&O.kind!=="resolvedImage"||R.kind!=="value"&&R.kind!=="string")if(O.kind!=="padding"||R.kind!=="value"&&R.kind!=="number"&&R.kind!=="array")if(O.kind!=="variableAnchorOffsetCollection"||R.kind!=="value"&&R.kind!=="array"){if(this.checkSubtype(O,R))return null}else I=g(I,O,d.typeAnnotation||"coerce");else I=g(I,O,d.typeAnnotation||"coerce");else I=g(I,O,d.typeAnnotation||"coerce");else I=g(I,O,d.typeAnnotation||"assert")}if(!(I instanceof Wi)&&I.type.kind!=="resolvedImage"&&this._isConstant(I)){const O=new ji;try{I=new Wi(I.type,I.evaluate(O))}catch(R){return this.error(R.message),null}}return I}return this.error(`Unknown expression "${B}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(a===void 0?"'undefined' value invalid. Use null instead.":typeof a=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof a} instead.`)}concat(a,d,g){const B=typeof a=="number"?this.path.concat(a):this.path,E=g?this.scope.concat(g):this.scope;return new ui(this.registry,this._isConstant,B,d||null,E,this.errors)}error(a,...d){const g=`${this.key}${d.map((B=>`[${B}]`)).join("")}`;this.errors.push(new Pr(g,a))}checkSubtype(a,d){const g=Re(a,d);return g&&this.error(g),g}}class $s{constructor(a,d){this.type=d.type,this.bindings=[].concat(a),this.result=d}evaluate(a){return this.result.evaluate(a)}eachChild(a){for(const d of this.bindings)a(d[1]);a(this.result)}static parse(a,d){if(a.length<4)return d.error(`Expected at least 3 arguments, but found ${a.length-1} instead.`);const g=[];for(let E=1;E<a.length-1;E+=2){const I=a[E];if(typeof I!="string")return d.error(`Expected string, but found ${typeof I} instead.`,E);if(/[^a-zA-Z0-9_]/.test(I))return d.error("Variable names must contain only alphanumeric characters or '_'.",E);const O=d.parse(a[E+1],E+1);if(!O)return null;g.push([I,O])}const B=d.parse(a[a.length-1],a.length-1,d.expectedType,g);return B?new $s(g,B):null}outputDefined(){return this.result.outputDefined()}}class Ln{constructor(a,d){this.type=d.type,this.name=a,this.boundExpression=d}static parse(a,d){if(a.length!==2||typeof a[1]!="string")return d.error("'var' expression requires exactly one string literal argument.");const g=a[1];return d.scope.has(g)?new Ln(g,d.scope.get(g)):d.error(`Unknown variable "${g}". Make sure "${g}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(a){return this.boundExpression.evaluate(a)}eachChild(){}outputDefined(){return!1}}class tu{constructor(a,d,g){this.type=a,this.index=d,this.input=g}static parse(a,d){if(a.length!==3)return d.error(`Expected 2 arguments, but found ${a.length-1} instead.`);const g=d.parse(a[1],1,Pt),B=d.parse(a[2],2,le(d.expectedType||sr));return g&&B?new tu(B.type.itemType,g,B):null}evaluate(a){const d=this.index.evaluate(a),g=this.input.evaluate(a);if(d<0)throw new $r(`Array index out of bounds: ${d} < 0.`);if(d>=g.length)throw new $r(`Array index out of bounds: ${d} > ${g.length-1}.`);if(d!==Math.floor(d))throw new $r(`Array index must be an integer, but found ${d} instead.`);return g[d]}eachChild(a){a(this.index),a(this.input)}outputDefined(){return!1}}class Ra{constructor(a,d){this.type=Gt,this.needle=a,this.haystack=d}static parse(a,d){if(a.length!==3)return d.error(`Expected 2 arguments, but found ${a.length-1} instead.`);const g=d.parse(a[1],1,sr),B=d.parse(a[2],2,sr);return g&&B?et(g.type,[Gt,Zt,Pt,ri,sr])?new Ra(g,B):d.error(`Expected first argument to be of type boolean, string, number or null, but found ${ue(g.type)} instead`):null}evaluate(a){const d=this.needle.evaluate(a),g=this.haystack.evaluate(a);if(!g)return!1;if(!qe(d,["boolean","string","number","null"]))throw new $r(`Expected first argument to be of type boolean, string, number or null, but found ${ue(Vn(d))} instead.`);if(!qe(g,["string","array"]))throw new $r(`Expected second argument to be of type array or string, but found ${ue(Vn(g))} instead.`);return g.indexOf(d)>=0}eachChild(a){a(this.needle),a(this.haystack)}outputDefined(){return!0}}class cl{constructor(a,d,g){this.type=Pt,this.needle=a,this.haystack=d,this.fromIndex=g}static parse(a,d){if(a.length<=2||a.length>=5)return d.error(`Expected 3 or 4 arguments, but found ${a.length-1} instead.`);const g=d.parse(a[1],1,sr),B=d.parse(a[2],2,sr);if(!g||!B)return null;if(!et(g.type,[Gt,Zt,Pt,ri,sr]))return d.error(`Expected first argument to be of type boolean, string, number or null, but found ${ue(g.type)} instead`);if(a.length===4){const E=d.parse(a[3],3,Pt);return E?new cl(g,B,E):null}return new cl(g,B)}evaluate(a){const d=this.needle.evaluate(a),g=this.haystack.evaluate(a);if(!qe(d,["boolean","string","number","null"]))throw new $r(`Expected first argument to be of type boolean, string, number or null, but found ${ue(Vn(d))} instead.`);let B;if(this.fromIndex&&(B=this.fromIndex.evaluate(a)),qe(g,["string"])){const E=g.indexOf(d,B);return E===-1?-1:[...g.slice(0,E)].length}if(qe(g,["array"]))return g.indexOf(d,B);throw new $r(`Expected second argument to be of type array or string, but found ${ue(Vn(g))} instead.`)}eachChild(a){a(this.needle),a(this.haystack),this.fromIndex&&a(this.fromIndex)}outputDefined(){return!1}}class ru{constructor(a,d,g,B,E,I){this.inputType=a,this.type=d,this.input=g,this.cases=B,this.outputs=E,this.otherwise=I}static parse(a,d){if(a.length<5)return d.error(`Expected at least 4 arguments, but found only ${a.length-1}.`);if(a.length%2!=1)return d.error("Expected an even number of arguments.");let g,B;d.expectedType&&d.expectedType.kind!=="value"&&(B=d.expectedType);const E={},I=[];for(let q=2;q<a.length-1;q+=2){let Z=a[q];const J=a[q+1];Array.isArray(Z)||(Z=[Z]);const oe=d.concat(q);if(Z.length===0)return oe.error("Expected at least one branch label.");for(const ve of Z){if(typeof ve!="number"&&typeof ve!="string")return oe.error("Branch labels must be numbers or strings.");if(typeof ve=="number"&&Math.abs(ve)>Number.MAX_SAFE_INTEGER)return oe.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof ve=="number"&&Math.floor(ve)!==ve)return oe.error("Numeric branch labels must be integer values.");if(g){if(oe.checkSubtype(g,Vn(ve)))return null}else g=Vn(ve);if(E[String(ve)]!==void 0)return oe.error("Branch labels must be unique.");E[String(ve)]=I.length}const he=d.parse(J,q,B);if(!he)return null;B=B||he.type,I.push(he)}const O=d.parse(a[1],1,sr);if(!O)return null;const R=d.parse(a[a.length-1],a.length-1,B);return R?O.type.kind!=="value"&&d.concat(1).checkSubtype(g,O.type)?null:new ru(g,B,O,E,I,R):null}evaluate(a){const d=this.input.evaluate(a);return(Vn(d)===this.inputType&&this.outputs[this.cases[d]]||this.otherwise).evaluate(a)}eachChild(a){a(this.input),this.outputs.forEach(a),a(this.otherwise)}outputDefined(){return this.outputs.every((a=>a.outputDefined()))&&this.otherwise.outputDefined()}}class Fs{constructor(a,d,g){this.type=a,this.branches=d,this.otherwise=g}static parse(a,d){if(a.length<4)return d.error(`Expected at least 3 arguments, but found only ${a.length-1}.`);if(a.length%2!=0)return d.error("Expected an odd number of arguments.");let g;d.expectedType&&d.expectedType.kind!=="value"&&(g=d.expectedType);const B=[];for(let I=1;I<a.length-1;I+=2){const O=d.parse(a[I],I,Gt);if(!O)return null;const R=d.parse(a[I+1],I+1,g);if(!R)return null;B.push([O,R]),g=g||R.type}const E=d.parse(a[a.length-1],a.length-1,g);if(!E)return null;if(!g)throw new Error("Can't infer output type");return new Fs(g,B,E)}evaluate(a){for(const[d,g]of this.branches)if(d.evaluate(a))return g.evaluate(a);return this.otherwise.evaluate(a)}eachChild(a){for(const[d,g]of this.branches)a(d),a(g);a(this.otherwise)}outputDefined(){return this.branches.every((([a,d])=>d.outputDefined()))&&this.otherwise.outputDefined()}}class Ro{constructor(a,d,g,B){this.type=a,this.input=d,this.beginIndex=g,this.endIndex=B}static parse(a,d){if(a.length<=2||a.length>=5)return d.error(`Expected 3 or 4 arguments, but found ${a.length-1} instead.`);const g=d.parse(a[1],1,sr),B=d.parse(a[2],2,Pt);if(!g||!B)return null;if(!et(g.type,[le(sr),Zt,sr]))return d.error(`Expected first argument to be of type array or string, but found ${ue(g.type)} instead`);if(a.length===4){const E=d.parse(a[3],3,Pt);return E?new Ro(g.type,g,B,E):null}return new Ro(g.type,g,B)}evaluate(a){const d=this.input.evaluate(a),g=this.beginIndex.evaluate(a);let B;if(this.endIndex&&(B=this.endIndex.evaluate(a)),qe(d,["string"]))return[...d].slice(g,B).join("");if(qe(d,["array"]))return d.slice(g,B);throw new $r(`Expected first argument to be of type array or string, but found ${ue(Vn(d))} instead.`)}eachChild(a){a(this.input),a(this.beginIndex),this.endIndex&&a(this.endIndex)}outputDefined(){return!1}}function nu(u,a){const d=u.length-1;let g,B,E=0,I=d,O=0;for(;E<=I;)if(O=Math.floor((E+I)/2),g=u[O],B=u[O+1],g<=a){if(O===d||a<B)return O;E=O+1}else{if(!(g>a))throw new $r("Input is not a number.");I=O-1}return 0}class ql{constructor(a,d,g){this.type=a,this.input=d,this.labels=[],this.outputs=[];for(const[B,E]of g)this.labels.push(B),this.outputs.push(E)}static parse(a,d){if(a.length-1<4)return d.error(`Expected at least 4 arguments, but found only ${a.length-1}.`);if((a.length-1)%2!=0)return d.error("Expected an even number of arguments.");const g=d.parse(a[1],1,Pt);if(!g)return null;const B=[];let E=null;d.expectedType&&d.expectedType.kind!=="value"&&(E=d.expectedType);for(let I=1;I<a.length;I+=2){const O=I===1?-1/0:a[I],R=a[I+1],q=I,Z=I+1;if(typeof O!="number")return d.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',q);if(B.length&&B[B.length-1][0]>=O)return d.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',q);const J=d.parse(R,Z,E);if(!J)return null;E=E||J.type,B.push([O,J])}return new ql(E,g,B)}evaluate(a){const d=this.labels,g=this.outputs;if(d.length===1)return g[0].evaluate(a);const B=this.input.evaluate(a);if(B<=d[0])return g[0].evaluate(a);const E=d.length;return B>=d[E-1]?g[E-1].evaluate(a):g[nu(d,B)].evaluate(a)}eachChild(a){a(this.input);for(const d of this.outputs)a(d)}outputDefined(){return this.outputs.every((a=>a.outputDefined()))}}function Fu(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var hc=fc;function fc(u,a,d,g){this.cx=3*u,this.bx=3*(d-u)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*a,this.by=3*(g-a)-this.cy,this.ay=1-this.cy-this.by,this.p1x=u,this.p1y=a,this.p2x=d,this.p2y=g}fc.prototype={sampleCurveX:function(u){return((this.ax*u+this.bx)*u+this.cx)*u},sampleCurveY:function(u){return((this.ay*u+this.by)*u+this.cy)*u},sampleCurveDerivativeX:function(u){return(3*this.ax*u+2*this.bx)*u+this.cx},solveCurveX:function(u,a){if(a===void 0&&(a=1e-6),u<0)return 0;if(u>1)return 1;for(var d=u,g=0;g<8;g++){var B=this.sampleCurveX(d)-u;if(Math.abs(B)<a)return d;var E=this.sampleCurveDerivativeX(d);if(Math.abs(E)<1e-6)break;d-=B/E}var I=0,O=1;for(d=u,g=0;g<20&&(B=this.sampleCurveX(d),!(Math.abs(B-u)<a));g++)u>B?I=d:O=d,d=.5*(O-I)+I;return d},solve:function(u,a){return this.sampleCurveY(this.solveCurveX(u,a))}};var Ls=Fu(hc);function za(u,a,d){return u+d*(a-u)}function Xs(u,a,d){return u.map(((g,B)=>za(g,a[B],d)))}const ua={number:za,color:function(u,a,d,g="rgb"){switch(g){case"rgb":{const[B,E,I,O]=Xs(u.rgb,a.rgb,d);return new wn(B,E,I,O,!1)}case"hcl":{const[B,E,I,O]=u.hcl,[R,q,Z,J]=a.hcl;let oe,he;if(isNaN(B)||isNaN(R))isNaN(B)?isNaN(R)?oe=NaN:(oe=R,I!==1&&I!==0||(he=q)):(oe=B,Z!==1&&Z!==0||(he=E));else{let ht=R-B;R>B&&ht>180?ht-=360:R<B&&B-R>180&&(ht+=360),oe=B+d*ht}const[ve,Ce,je,Ze]=(function([ht,it,At,Bt]){return ht=isNaN(ht)?0:ht*dr,Nn([At,Math.cos(ht)*it,Math.sin(ht)*it,Bt])})([oe,he??za(E,q,d),za(I,Z,d),za(O,J,d)]);return new wn(ve,Ce,je,Ze,!1)}case"lab":{const[B,E,I,O]=Nn(Xs(u.lab,a.lab,d));return new wn(B,E,I,O,!1)}}},array:Xs,padding:function(u,a,d){return new Mi(Xs(u.values,a.values,d))},variableAnchorOffsetCollection:function(u,a,d){const g=u.values,B=a.values;if(g.length!==B.length)throw new $r(`Cannot interpolate values of different length. from: ${u.toString()}, to: ${a.toString()}`);const E=[];for(let I=0;I<g.length;I+=2){if(g[I]!==B[I])throw new $r(`Cannot interpolate values containing mismatched anchors. from[${I}]: ${g[I]}, to[${I}]: ${B[I]}`);E.push(g[I]);const[O,R]=g[I+1],[q,Z]=B[I+1];E.push([za(O,q,d),za(R,Z,d)])}return new Za(E)}};class Yi{constructor(a,d,g,B,E){this.type=a,this.operator=d,this.interpolation=g,this.input=B,this.labels=[],this.outputs=[];for(const[I,O]of E)this.labels.push(I),this.outputs.push(O)}static interpolationFactor(a,d,g,B){let E=0;if(a.name==="exponential")E=Vr(d,a.base,g,B);else if(a.name==="linear")E=Vr(d,1,g,B);else if(a.name==="cubic-bezier"){const I=a.controlPoints;E=new Ls(I[0],I[1],I[2],I[3]).solve(Vr(d,1,g,B))}return E}static parse(a,d){let[g,B,E,...I]=a;if(!Array.isArray(B)||B.length===0)return d.error("Expected an interpolation type expression.",1);if(B[0]==="linear")B={name:"linear"};else if(B[0]==="exponential"){const q=B[1];if(typeof q!="number")return d.error("Exponential interpolation requires a numeric base.",1,1);B={name:"exponential",base:q}}else{if(B[0]!=="cubic-bezier")return d.error(`Unknown interpolation type ${String(B[0])}`,1,0);{const q=B.slice(1);if(q.length!==4||q.some((Z=>typeof Z!="number"||Z<0||Z>1)))return d.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);B={name:"cubic-bezier",controlPoints:q}}}if(a.length-1<4)return d.error(`Expected at least 4 arguments, but found only ${a.length-1}.`);if((a.length-1)%2!=0)return d.error("Expected an even number of arguments.");if(E=d.parse(E,2,Pt),!E)return null;const O=[];let R=null;g==="interpolate-hcl"||g==="interpolate-lab"?R=Zr:d.expectedType&&d.expectedType.kind!=="value"&&(R=d.expectedType);for(let q=0;q<I.length;q+=2){const Z=I[q],J=I[q+1],oe=q+3,he=q+4;if(typeof Z!="number")return d.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',oe);if(O.length&&O[O.length-1][0]>=Z)return d.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',oe);const ve=d.parse(J,he,R);if(!ve)return null;R=R||ve.type,O.push([Z,ve])}return lt(R,Pt)||lt(R,Zr)||lt(R,kn)||lt(R,Me)||lt(R,le(Pt))?new Yi(R,g,B,E,O):d.error(`Type ${ue(R)} is not interpolatable.`)}evaluate(a){const d=this.labels,g=this.outputs;if(d.length===1)return g[0].evaluate(a);const B=this.input.evaluate(a);if(B<=d[0])return g[0].evaluate(a);const E=d.length;if(B>=d[E-1])return g[E-1].evaluate(a);const I=nu(d,B),O=Yi.interpolationFactor(this.interpolation,B,d[I],d[I+1]),R=g[I].evaluate(a),q=g[I+1].evaluate(a);switch(this.operator){case"interpolate":return ua[this.type.kind](R,q,O);case"interpolate-hcl":return ua.color(R,q,O,"hcl");case"interpolate-lab":return ua.color(R,q,O,"lab")}}eachChild(a){a(this.input);for(const d of this.outputs)a(d)}outputDefined(){return this.outputs.every((a=>a.outputDefined()))}}function Vr(u,a,d,g){const B=g-d,E=u-d;return B===0?0:a===1?E/B:(Math.pow(a,E)-1)/(Math.pow(a,B)-1)}class iu{constructor(a,d){this.type=a,this.args=d}static parse(a,d){if(a.length<2)return d.error("Expectected at least one argument.");let g=null;const B=d.expectedType;B&&B.kind!=="value"&&(g=B);const E=[];for(const O of a.slice(1)){const R=d.parse(O,1+E.length,g,void 0,{typeAnnotation:"omit"});if(!R)return null;g=g||R.type,E.push(R)}if(!g)throw new Error("No output type");const I=B&&E.some((O=>Re(B,O.type)));return new iu(I?sr:g,E)}evaluate(a){let d,g=null,B=0;for(const E of this.args)if(B++,g=E.evaluate(a),g&&g instanceof Qa&&!g.available&&(d||(d=g.name),g=null,B===this.args.length&&(g=d)),g!==null)break;return g}eachChild(a){this.args.forEach(a)}outputDefined(){return this.args.every((a=>a.outputDefined()))}}function _A(u,a){return u==="=="||u==="!="?a.kind==="boolean"||a.kind==="string"||a.kind==="number"||a.kind==="null"||a.kind==="value":a.kind==="string"||a.kind==="number"||a.kind==="value"}function dc(u,a,d,g){return g.compare(a,d)===0}function Ea(u,a,d){const g=u!=="=="&&u!=="!=";return class jL{constructor(E,I,O){this.type=Gt,this.lhs=E,this.rhs=I,this.collator=O,this.hasUntypedArgument=E.type.kind==="value"||I.type.kind==="value"}static parse(E,I){if(E.length!==3&&E.length!==4)return I.error("Expected two or three arguments.");const O=E[0];let R=I.parse(E[1],1,sr);if(!R)return null;if(!_A(O,R.type))return I.concat(1).error(`"${O}" comparisons are not supported for type '${ue(R.type)}'.`);let q=I.parse(E[2],2,sr);if(!q)return null;if(!_A(O,q.type))return I.concat(2).error(`"${O}" comparisons are not supported for type '${ue(q.type)}'.`);if(R.type.kind!==q.type.kind&&R.type.kind!=="value"&&q.type.kind!=="value")return I.error(`Cannot compare types '${ue(R.type)}' and '${ue(q.type)}'.`);g&&(R.type.kind==="value"&&q.type.kind!=="value"?R=new Aa(q.type,[R]):R.type.kind!=="value"&&q.type.kind==="value"&&(q=new Aa(R.type,[q])));let Z=null;if(E.length===4){if(R.type.kind!=="string"&&q.type.kind!=="string"&&R.type.kind!=="value"&&q.type.kind!=="value")return I.error("Cannot use collator to compare non-string types.");if(Z=I.parse(E[3],3,Lr),!Z)return null}return new jL(R,q,Z)}evaluate(E){const I=this.lhs.evaluate(E),O=this.rhs.evaluate(E);if(g&&this.hasUntypedArgument){const R=Vn(I),q=Vn(O);if(R.kind!==q.kind||R.kind!=="string"&&R.kind!=="number")throw new $r(`Expected arguments for "${u}" to be (string, string) or (number, number), but found (${R.kind}, ${q.kind}) instead.`)}if(this.collator&&!g&&this.hasUntypedArgument){const R=Vn(I),q=Vn(O);if(R.kind!=="string"||q.kind!=="string")return a(E,I,O)}return this.collator?d(E,I,O,this.collator.evaluate(E)):a(E,I,O)}eachChild(E){E(this.lhs),E(this.rhs),this.collator&&E(this.collator)}outputDefined(){return!0}}}const ja=Ea("==",(function(u,a,d){return a===d}),dc),Lu=Ea("!=",(function(u,a,d){return a!==d}),(function(u,a,d,g){return!dc(0,a,d,g)})),bA=Ea("<",(function(u,a,d){return a<d}),(function(u,a,d,g){return g.compare(a,d)<0})),Zs=Ea(">",(function(u,a,d){return a>d}),(function(u,a,d,g){return g.compare(a,d)>0})),au=Ea("<=",(function(u,a,d){return a<=d}),(function(u,a,d,g){return g.compare(a,d)<=0})),zo=Ea(">=",(function(u,a,d){return a>=d}),(function(u,a,d,g){return g.compare(a,d)>=0}));class wA{constructor(a,d,g){this.type=Lr,this.locale=g,this.caseSensitive=a,this.diacriticSensitive=d}static parse(a,d){if(a.length!==2)return d.error("Expected one argument.");const g=a[1];if(typeof g!="object"||Array.isArray(g))return d.error("Collator options argument must be an object.");const B=d.parse(g["case-sensitive"]!==void 0&&g["case-sensitive"],1,Gt);if(!B)return null;const E=d.parse(g["diacritic-sensitive"]!==void 0&&g["diacritic-sensitive"],1,Gt);if(!E)return null;let I=null;return g.locale&&(I=d.parse(g.locale,1,Zt),!I)?null:new wA(B,E,I)}evaluate(a){return new Ui(this.caseSensitive.evaluate(a),this.diacriticSensitive.evaluate(a),this.locale?this.locale.evaluate(a):null)}eachChild(a){a(this.caseSensitive),a(this.diacriticSensitive),this.locale&&a(this.locale)}outputDefined(){return!1}}class Us{constructor(a,d,g,B,E){this.type=Zt,this.number=a,this.locale=d,this.currency=g,this.minFractionDigits=B,this.maxFractionDigits=E}static parse(a,d){if(a.length!==3)return d.error("Expected two arguments.");const g=d.parse(a[1],1,Pt);if(!g)return null;const B=a[2];if(typeof B!="object"||Array.isArray(B))return d.error("NumberFormat options argument must be an object.");let E=null;if(B.locale&&(E=d.parse(B.locale,1,Zt),!E))return null;let I=null;if(B.currency&&(I=d.parse(B.currency,1,Zt),!I))return null;let O=null;if(B["min-fraction-digits"]&&(O=d.parse(B["min-fraction-digits"],1,Pt),!O))return null;let R=null;return B["max-fraction-digits"]&&(R=d.parse(B["max-fraction-digits"],1,Pt),!R)?null:new Us(g,E,I,O,R)}evaluate(a){return new Intl.NumberFormat(this.locale?this.locale.evaluate(a):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(a):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(a):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(a):void 0}).format(this.number.evaluate(a))}eachChild(a){a(this.number),this.locale&&a(this.locale),this.currency&&a(this.currency),this.minFractionDigits&&a(this.minFractionDigits),this.maxFractionDigits&&a(this.maxFractionDigits)}outputDefined(){return!1}}class Gl{constructor(a){this.type=zr,this.sections=a}static parse(a,d){if(a.length<2)return d.error("Expected at least one argument.");const g=a[1];if(!Array.isArray(g)&&typeof g=="object")return d.error("First argument must be an image or text section.");const B=[];let E=!1;for(let I=1;I<=a.length-1;++I){const O=a[I];if(E&&typeof O=="object"&&!Array.isArray(O)){E=!1;let R=null;if(O["font-scale"]&&(R=d.parse(O["font-scale"],1,Pt),!R))return null;let q=null;if(O["text-font"]&&(q=d.parse(O["text-font"],1,le(Zt)),!q))return null;let Z=null;if(O["text-color"]&&(Z=d.parse(O["text-color"],1,Zr),!Z))return null;const J=B[B.length-1];J.scale=R,J.font=q,J.textColor=Z}else{const R=d.parse(a[I],1,sr);if(!R)return null;const q=R.type.kind;if(q!=="string"&&q!=="value"&&q!=="null"&&q!=="resolvedImage")return d.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");E=!0,B.push({content:R,scale:null,font:null,textColor:null})}}return new Gl(B)}evaluate(a){return new vi(this.sections.map((d=>{const g=d.content.evaluate(a);return Vn(g)===Xr?new eu("",g,null,null,null):new eu(Gs(g),null,d.scale?d.scale.evaluate(a):null,d.font?d.font.evaluate(a).join(","):null,d.textColor?d.textColor.evaluate(a):null)})))}eachChild(a){for(const d of this.sections)a(d.content),d.scale&&a(d.scale),d.font&&a(d.font),d.textColor&&a(d.textColor)}outputDefined(){return!1}}class xA{constructor(a){this.type=Xr,this.input=a}static parse(a,d){if(a.length!==2)return d.error("Expected two arguments.");const g=d.parse(a[1],1,Zt);return g?new xA(g):d.error("No image name provided.")}evaluate(a){const d=this.input.evaluate(a),g=Qa.fromString(d);return g&&a.availableImages&&(g.available=a.availableImages.indexOf(d)>-1),g}eachChild(a){a(this.input)}outputDefined(){return!1}}class ca{constructor(a){this.type=Pt,this.input=a}static parse(a,d){if(a.length!==2)return d.error(`Expected 1 argument, but found ${a.length-1} instead.`);const g=d.parse(a[1],1);return g?g.type.kind!=="array"&&g.type.kind!=="string"&&g.type.kind!=="value"?d.error(`Expected argument of type string or array, but found ${ue(g.type)} instead.`):new ca(g):null}evaluate(a){const d=this.input.evaluate(a);if(typeof d=="string")return[...d].length;if(Array.isArray(d))return d.length;throw new $r(`Expected value to be of type string or array, but found ${ue(Vn(d))} instead.`)}eachChild(a){a(this.input)}outputDefined(){return!1}}const ga=8192;function bo(u,a){const d=(180+u[0])/360,g=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+u[1]*Math.PI/360)))/360,B=Math.pow(2,a.z);return[Math.round(d*B*ga),Math.round(g*B*ga)]}function jo(u,a){const d=Math.pow(2,a.z);return[(B=(u[0]/ga+a.x)/d,360*B-180),(g=(u[1]/ga+a.y)/d,360/Math.PI*Math.atan(Math.exp((180-360*g)*Math.PI/180))-90)];var g,B}function wo(u,a){u[0]=Math.min(u[0],a[0]),u[1]=Math.min(u[1],a[1]),u[2]=Math.max(u[2],a[0]),u[3]=Math.max(u[3],a[1])}function Ms(u,a){return!(u[0]<=a[0]||u[2]>=a[2]||u[1]<=a[1]||u[3]>=a[3])}function _n(u,a,d){const g=u[0]-a[0],B=u[1]-a[1],E=u[0]-d[0],I=u[1]-d[1];return g*I-E*B==0&&g*E<=0&&B*I<=0}function xo(u,a,d,g){return(B=[g[0]-d[0],g[1]-d[1]])[0]*(E=[a[0]-u[0],a[1]-u[1]])[1]-B[1]*E[0]!=0&&!(!dl(u,a,d,g)||!dl(d,g,u,a));var B,E}function su(u,a,d){for(const g of d)for(let B=0;B<g.length-1;++B)if(xo(u,a,g[B],g[B+1]))return!0;return!1}function hl(u,a,d=!1){let g=!1;for(const O of a)for(let R=0;R<O.length-1;R++){if(_n(u,O[R],O[R+1]))return d;(E=O[R])[1]>(B=u)[1]!=(I=O[R+1])[1]>B[1]&&B[0]<(I[0]-E[0])*(B[1]-E[1])/(I[1]-E[1])+E[0]&&(g=!g)}var B,E,I;return g}function $l(u,a){for(const d of a)if(hl(u,d))return!0;return!1}function fl(u,a){for(const d of u)if(!hl(d,a))return!1;for(let d=0;d<u.length-1;++d)if(su(u[d],u[d+1],a))return!1;return!0}function qc(u,a){for(const d of a)if(fl(u,d))return!0;return!1}function dl(u,a,d,g){const B=g[0]-d[0],E=g[1]-d[1],I=(u[0]-d[0])*E-B*(u[1]-d[1]),O=(a[0]-d[0])*E-B*(a[1]-d[1]);return I>0&&O<0||I<0&&O>0}function Uu(u,a,d){const g=[];for(let B=0;B<u.length;B++){const E=[];for(let I=0;I<u[B].length;I++){const O=bo(u[B][I],d);wo(a,O),E.push(O)}g.push(E)}return g}function V(u,a,d){const g=[];for(let B=0;B<u.length;B++){const E=Uu(u[B],a,d);g.push(E)}return g}function fe(u,a,d,g){if(u[0]<d[0]||u[0]>d[2]){const B=.5*g;let E=u[0]-d[0]>B?-g:d[0]-u[0]>B?g:0;E===0&&(E=u[0]-d[2]>B?-g:d[2]-u[0]>B?g:0),u[0]+=E}wo(a,u)}function ze(u,a,d,g){const B=Math.pow(2,g.z)*ga,E=[g.x*ga,g.y*ga],I=[];for(const O of u)for(const R of O){const q=[R.x+E[0],R.y+E[1]];fe(q,a,d,B),I.push(q)}return I}function rt(u,a,d,g){const B=Math.pow(2,g.z)*ga,E=[g.x*ga,g.y*ga],I=[];for(const R of u){const q=[];for(const Z of R){const J=[Z.x+E[0],Z.y+E[1]];wo(a,J),q.push(J)}I.push(q)}if(a[2]-a[0]<=B/2){(O=a)[0]=O[1]=1/0,O[2]=O[3]=-1/0;for(const R of I)for(const q of R)fe(q,a,d,B)}var O;return I}class ut{constructor(a,d){this.type=Gt,this.geojson=a,this.geometries=d}static parse(a,d){if(a.length!==2)return d.error(`'within' expression requires exactly one argument, but found ${a.length-1} instead.`);if(Al(a[1])){const g=a[1];if(g.type==="FeatureCollection"){const B=[];for(const E of g.features){const{type:I,coordinates:O}=E.geometry;I==="Polygon"&&B.push(O),I==="MultiPolygon"&&B.push(...O)}if(B.length)return new ut(g,{type:"MultiPolygon",coordinates:B})}else if(g.type==="Feature"){const B=g.geometry.type;if(B==="Polygon"||B==="MultiPolygon")return new ut(g,g.geometry)}else if(g.type==="Polygon"||g.type==="MultiPolygon")return new ut(g,g)}return d.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(a){if(a.geometry()!=null&&a.canonicalID()!=null){if(a.geometryType()==="Point")return(function(d,g){const B=[1/0,1/0,-1/0,-1/0],E=[1/0,1/0,-1/0,-1/0],I=d.canonicalID();if(g.type==="Polygon"){const O=Uu(g.coordinates,E,I),R=ze(d.geometry(),B,E,I);if(!Ms(B,E))return!1;for(const q of R)if(!hl(q,O))return!1}if(g.type==="MultiPolygon"){const O=V(g.coordinates,E,I),R=ze(d.geometry(),B,E,I);if(!Ms(B,E))return!1;for(const q of R)if(!$l(q,O))return!1}return!0})(a,this.geometries);if(a.geometryType()==="LineString")return(function(d,g){const B=[1/0,1/0,-1/0,-1/0],E=[1/0,1/0,-1/0,-1/0],I=d.canonicalID();if(g.type==="Polygon"){const O=Uu(g.coordinates,E,I),R=rt(d.geometry(),B,E,I);if(!Ms(B,E))return!1;for(const q of R)if(!fl(q,O))return!1}if(g.type==="MultiPolygon"){const O=V(g.coordinates,E,I),R=rt(d.geometry(),B,E,I);if(!Ms(B,E))return!1;for(const q of R)if(!qc(q,O))return!1}return!0})(a,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}let Ot=class{constructor(u=[],a=((d,g)=>d<g?-1:d>g?1:0)){if(this.data=u,this.length=this.data.length,this.compare=a,this.length>0)for(let d=(this.length>>1)-1;d>=0;d--)this._down(d)}push(u){this.data.push(u),this._up(this.length++)}pop(){if(this.length===0)return;const u=this.data[0],a=this.data.pop();return--this.length>0&&(this.data[0]=a,this._down(0)),u}peek(){return this.data[0]}_up(u){const{data:a,compare:d}=this,g=a[u];for(;u>0;){const B=u-1>>1,E=a[B];if(d(g,E)>=0)break;a[u]=E,u=B}a[u]=g}_down(u){const{data:a,compare:d}=this,g=this.length>>1,B=a[u];for(;u<g;){let E=1+(u<<1);const I=E+1;if(I<this.length&&d(a[I],a[E])<0&&(E=I),d(a[E],B)>=0)break;a[u]=a[E],u=E}a[u]=B}};function Ht(u,a,d,g,B){yr(u,a,d,g||u.length-1,B||tn)}function yr(u,a,d,g,B){for(;g>d;){if(g-d>600){var E=g-d+1,I=a-d+1,O=Math.log(E),R=.5*Math.exp(2*O/3),q=.5*Math.sqrt(O*R*(E-R)/E)*(I-E/2<0?-1:1);yr(u,a,Math.max(d,Math.floor(a-I*R/E+q)),Math.min(g,Math.floor(a+(E-I)*R/E+q)),B)}var Z=u[a],J=d,oe=g;for(br(u,d,a),B(u[g],Z)>0&&br(u,d,g);J<oe;){for(br(u,J,oe),J++,oe--;B(u[J],Z)<0;)J++;for(;B(u[oe],Z)>0;)oe--}B(u[d],Z)===0?br(u,d,oe):br(u,++oe,g),oe<=a&&(d=oe+1),a<=oe&&(g=oe-1)}}function br(u,a,d){var g=u[a];u[a]=u[d],u[d]=g}function tn(u,a){return u<a?-1:u>a?1:0}function An(u,a){if(u.length<=1)return[u];const d=[];let g,B;for(const E of u){const I=Pi(E);I!==0&&(E.area=Math.abs(I),B===void 0&&(B=I<0),B===I<0?(g&&d.push(g),g=[E]):g.push(E))}if(g&&d.push(g),a>1)for(let E=0;E<d.length;E++)d[E].length<=a||(Ht(d[E],a,1,d[E].length-1,zn),d[E]=d[E].slice(0,a));return d}function zn(u,a){return a.area-u.area}function Pi(u){let a=0;for(let d,g,B=0,E=u.length,I=E-1;B<E;I=B++)d=u[B],g=u[I],a+=(g.x-d.x)*(d.y+g.y);return a}const Hi=1/298.257223563,si=Hi*(2-Hi),ha=Math.PI/180;class Ki{constructor(a){const d=6378.137*ha*1e3,g=Math.cos(a*ha),B=1/(1-si*(1-g*g)),E=Math.sqrt(B);this.kx=d*E*g,this.ky=d*E*B*(1-si)}distance(a,d){const g=this.wrap(a[0]-d[0])*this.kx,B=(a[1]-d[1])*this.ky;return Math.sqrt(g*g+B*B)}pointOnLine(a,d){let g,B,E,I,O=1/0;for(let R=0;R<a.length-1;R++){let q=a[R][0],Z=a[R][1],J=this.wrap(a[R+1][0]-q)*this.kx,oe=(a[R+1][1]-Z)*this.ky,he=0;J===0&&oe===0||(he=(this.wrap(d[0]-q)*this.kx*J+(d[1]-Z)*this.ky*oe)/(J*J+oe*oe),he>1?(q=a[R+1][0],Z=a[R+1][1]):he>0&&(q+=J/this.kx*he,Z+=oe/this.ky*he)),J=this.wrap(d[0]-q)*this.kx,oe=(d[1]-Z)*this.ky;const ve=J*J+oe*oe;ve<O&&(O=ve,g=q,B=Z,E=R,I=he)}return{point:[g,B],index:E,t:Math.max(0,Math.min(1,I))}}wrap(a){for(;a<-180;)a+=360;for(;a>180;)a-=360;return a}}function Ta(u,a){return a[0]-u[0]}function Bo(u){return u[1]-u[0]+1}function ya(u,a){return u[1]>=u[0]&&u[1]<a}function Ho(u,a){if(u[0]>u[1])return[null,null];const d=Bo(u);if(a){if(d===2)return[u,null];const B=Math.floor(d/2);return[[u[0],u[0]+B],[u[0]+B,u[1]]]}if(d===1)return[u,null];const g=Math.floor(d/2)-1;return[[u[0],u[0]+g],[u[0]+g+1,u[1]]]}function ou(u,a){if(!ya(a,u.length))return[1/0,1/0,-1/0,-1/0];const d=[1/0,1/0,-1/0,-1/0];for(let g=a[0];g<=a[1];++g)wo(d,u[g]);return d}function BA(u){const a=[1/0,1/0,-1/0,-1/0];for(const d of u)for(const g of d)wo(a,g);return a}function Ws(u){return u[0]!==-1/0&&u[1]!==-1/0&&u[2]!==1/0&&u[3]!==1/0}function Ys(u,a,d){if(!Ws(u)||!Ws(a))return NaN;let g=0,B=0;return u[2]<a[0]&&(g=a[0]-u[2]),u[0]>a[2]&&(g=u[0]-a[2]),u[1]>a[3]&&(B=u[1]-a[3]),u[3]<a[1]&&(B=a[1]-u[3]),d.distance([0,0],[g,B])}function Js(u,a,d){const g=d.pointOnLine(a,u);return d.distance(u,g.point)}function Ko(u,a,d,g,B){const E=Math.min(Js(u,[d,g],B),Js(a,[d,g],B)),I=Math.min(Js(d,[u,a],B),Js(g,[u,a],B));return Math.min(E,I)}function Ia(u,a,d,g,B){if(!ya(a,u.length)||!ya(g,d.length))return 1/0;let E=1/0;for(let I=a[0];I<a[1];++I){const O=u[I],R=u[I+1];for(let q=g[0];q<g[1];++q){const Z=d[q],J=d[q+1];if(xo(O,R,Z,J))return 0;E=Math.min(E,Ko(O,R,Z,J,B))}}return E}function ei(u,a,d,g,B){if(!ya(a,u.length)||!ya(g,d.length))return NaN;let E=1/0;for(let I=a[0];I<=a[1];++I)for(let O=g[0];O<=g[1];++O)if(E=Math.min(E,B.distance(u[I],d[O])),E===0)return E;return E}function CA(u,a,d){if(hl(u,a,!0))return 0;let g=1/0;for(const B of a){const E=B[0],I=B[B.length-1];if(E!==I&&(g=Math.min(g,Js(u,[I,E],d)),g===0))return g;const O=d.pointOnLine(B,u);if(g=Math.min(g,d.distance(u,O.point)),g===0)return g}return g}function ln(u,a,d,g){if(!ya(a,u.length))return NaN;for(let E=a[0];E<=a[1];++E)if(hl(u[E],d,!0))return 0;let B=1/0;for(let E=a[0];E<a[1];++E){const I=u[E],O=u[E+1];for(const R of d)for(let q=0,Z=R.length,J=Z-1;q<Z;J=q++){const oe=R[J],he=R[q];if(xo(I,O,oe,he))return 0;B=Math.min(B,Ko(I,O,oe,he,g))}}return B}function eo(u,a){for(const d of u)for(const g of d)if(hl(g,a,!0))return!0;return!1}function mn(u,a,d,g=1/0){const B=BA(u),E=BA(a);if(g!==1/0&&Ys(B,E,d)>=g)return g;if(Ms(B,E)){if(eo(u,a))return 0}else if(eo(a,u))return 0;let I=1/0;for(const O of u)for(let R=0,q=O.length,Z=q-1;R<q;Z=R++){const J=O[Z],oe=O[R];for(const he of a)for(let ve=0,Ce=he.length,je=Ce-1;ve<Ce;je=ve++){const Ze=he[je],ht=he[ve];if(xo(J,oe,Ze,ht))return 0;I=Math.min(I,Ko(J,oe,Ze,ht,d))}}return I}function Tn(u,a,d,g,B,E){if(!E)return;const I=Ys(ou(g,E),B,d);I<a&&u.push([I,E,[0,0]])}function Co(u,a,d,g,B,E,I){if(!E||!I)return;const O=Ys(ou(g,E),ou(B,I),d);O<a&&u.push([O,E,I])}function Xl(u,a,d,g,B=1/0){let E=Math.min(g.distance(u[0],d[0][0]),B);if(E===0)return E;const I=new Ot([[0,[0,u.length-1],[0,0]]],Ta),O=BA(d);for(;I.length>0;){const R=I.pop();if(R[0]>=E)continue;const q=R[1],Z=a?50:100;if(Bo(q)<=Z){if(!ya(q,u.length))return NaN;if(a){const J=ln(u,q,d,g);if(isNaN(J)||J===0)return J;E=Math.min(E,J)}else for(let J=q[0];J<=q[1];++J){const oe=CA(u[J],d,g);if(E=Math.min(E,oe),E===0)return 0}}else{const J=Ho(q,a);Tn(I,E,g,u,O,J[0]),Tn(I,E,g,u,O,J[1])}}return E}function Ha(u,a,d,g,B,E=1/0){let I=Math.min(E,B.distance(u[0],d[0]));if(I===0)return I;const O=new Ot([[0,[0,u.length-1],[0,d.length-1]]],Ta);for(;O.length>0;){const R=O.pop();if(R[0]>=I)continue;const q=R[1],Z=R[2],J=a?50:100,oe=g?50:100;if(Bo(q)<=J&&Bo(Z)<=oe){if(!ya(q,u.length)&&ya(Z,d.length))return NaN;let he;if(a&&g)he=Ia(u,q,d,Z,B),I=Math.min(I,he);else if(a&&!g){const ve=u.slice(q[0],q[1]+1);for(let Ce=Z[0];Ce<=Z[1];++Ce)if(he=Js(d[Ce],ve,B),I=Math.min(I,he),I===0)return I}else if(!a&&g){const ve=d.slice(Z[0],Z[1]+1);for(let Ce=q[0];Ce<=q[1];++Ce)if(he=Js(u[Ce],ve,B),I=Math.min(I,he),I===0)return I}else he=ei(u,q,d,Z,B),I=Math.min(I,he)}else{const he=Ho(q,a),ve=Ho(Z,g);Co(O,I,B,u,d,he[0],ve[0]),Co(O,I,B,u,d,he[0],ve[1]),Co(O,I,B,u,d,he[1],ve[0]),Co(O,I,B,u,d,he[1],ve[1])}}return I}function to(u){return u.type==="MultiPolygon"?u.coordinates.map((a=>({type:"Polygon",coordinates:a}))):u.type==="MultiLineString"?u.coordinates.map((a=>({type:"LineString",coordinates:a}))):u.type==="MultiPoint"?u.coordinates.map((a=>({type:"Point",coordinates:a}))):[u]}class cs{constructor(a,d){this.type=Pt,this.geojson=a,this.geometries=d}static parse(a,d){if(a.length!==2)return d.error(`'distance' expression requires exactly one argument, but found ${a.length-1} instead.`);if(Al(a[1])){const g=a[1];if(g.type==="FeatureCollection")return new cs(g,g.features.map((B=>to(B.geometry))).flat());if(g.type==="Feature")return new cs(g,to(g.geometry));if("type"in g&&"coordinates"in g)return new cs(g,to(g))}return d.error("'distance' expression requires valid geojson object that contains polygon geometry type.")}evaluate(a){if(a.geometry()!=null&&a.canonicalID()!=null){if(a.geometryType()==="Point")return(function(d,g){const B=d.geometry(),E=B.flat().map((R=>jo([R.x,R.y],d.canonical)));if(B.length===0)return NaN;const I=new Ki(E[0][1]);let O=1/0;for(const R of g){switch(R.type){case"Point":O=Math.min(O,Ha(E,!1,[R.coordinates],!1,I,O));break;case"LineString":O=Math.min(O,Ha(E,!1,R.coordinates,!0,I,O));break;case"Polygon":O=Math.min(O,Xl(E,!1,R.coordinates,I,O))}if(O===0)return O}return O})(a,this.geometries);if(a.geometryType()==="LineString")return(function(d,g){const B=d.geometry(),E=B.flat().map((R=>jo([R.x,R.y],d.canonical)));if(B.length===0)return NaN;const I=new Ki(E[0][1]);let O=1/0;for(const R of g){switch(R.type){case"Point":O=Math.min(O,Ha(E,!0,[R.coordinates],!1,I,O));break;case"LineString":O=Math.min(O,Ha(E,!0,R.coordinates,!0,I,O));break;case"Polygon":O=Math.min(O,Xl(E,!0,R.coordinates,I,O))}if(O===0)return O}return O})(a,this.geometries);if(a.geometryType()==="Polygon")return(function(d,g){const B=d.geometry();if(B.length===0||B[0].length===0)return NaN;const E=An(B,0).map((R=>R.map((q=>q.map((Z=>jo([Z.x,Z.y],d.canonical))))))),I=new Ki(E[0][0][0][1]);let O=1/0;for(const R of g)for(const q of E){switch(R.type){case"Point":O=Math.min(O,Xl([R.coordinates],!1,q,I,O));break;case"LineString":O=Math.min(O,Xl(R.coordinates,!0,q,I,O));break;case"Polygon":O=Math.min(O,mn(q,R.coordinates,I,O))}if(O===0)return O}return O})(a,this.geometries)}return NaN}eachChild(){}outputDefined(){return!0}}const pl={"==":ja,"!=":Lu,">":Zs,"<":bA,">=":zo,"<=":au,array:Aa,at:tu,boolean:Aa,case:Fs,coalesce:iu,collator:wA,format:Gl,image:xA,in:Ra,"index-of":cl,interpolate:Yi,"interpolate-hcl":Yi,"interpolate-lab":Yi,length:ca,let:$s,literal:Wi,match:ru,number:Aa,"number-format":Us,object:Aa,slice:Ro,step:ql,string:Aa,"to-boolean":As,"to-color":As,"to-number":As,"to-string":As,var:Ln,within:ut,distance:cs};class Vi{constructor(a,d,g,B){this.name=a,this.type=d,this._evaluate=g,this.args=B}evaluate(a){return this._evaluate(a,this.args)}eachChild(a){this.args.forEach(a)}outputDefined(){return!1}static parse(a,d){const g=a[0],B=Vi.definitions[g];if(!B)return d.error(`Unknown expression "${g}". If you wanted a literal array, use ["literal", [...]].`,0);const E=Array.isArray(B)?B[0]:B.type,I=Array.isArray(B)?[[B[1],B[2]]]:B.overloads,O=I.filter((([q])=>!Array.isArray(q)||q.length===a.length-1));let R=null;for(const[q,Z]of O){R=new ui(d.registry,Ps,d.path,null,d.scope);const J=[];let oe=!1;for(let he=1;he<a.length;he++){const ve=a[he],Ce=Array.isArray(q)?q[he-1]:q.type,je=R.parse(ve,1+J.length,Ce);if(!je){oe=!0;break}J.push(je)}if(!oe)if(Array.isArray(q)&&q.length!==J.length)R.error(`Expected ${q.length} arguments, but found ${J.length} instead.`);else{for(let he=0;he<J.length;he++){const ve=Array.isArray(q)?q[he]:q.type,Ce=J[he];R.concat(he+1).checkSubtype(ve,Ce.type)}if(R.errors.length===0)return new Vi(g,E,Z,J)}}if(O.length===1)d.errors.push(...R.errors);else{const q=(O.length?O:I).map((([J])=>{return oe=J,Array.isArray(oe)?`(${oe.map(ue).join(", ")})`:`(${ue(oe.type)}...)`;var oe})).join(" | "),Z=[];for(let J=1;J<a.length;J++){const oe=d.parse(a[J],1+Z.length);if(!oe)return null;Z.push(ue(oe.type))}d.error(`Expected arguments of type ${q}, but found (${Z.join(", ")}) instead.`)}return null}static register(a,d){Vi.definitions=d;for(const g in d)a[g]=Vi}}function ml(u,[a,d,g,B]){a=a.evaluate(u),d=d.evaluate(u),g=g.evaluate(u);const E=B?B.evaluate(u):1,I=ll(a,d,g,E);if(I)throw new $r(I);return new wn(a/255,d/255,g/255,E,!1)}function Wa(u,a){return u in a}function Ka(u,a){const d=a[u];return d===void 0?null:d}function Ya(u){return{type:u}}function Ps(u){if(u instanceof Ln)return Ps(u.boundExpression);if(u instanceof Vi&&u.name==="error"||u instanceof wA||u instanceof ut||u instanceof cs)return!1;const a=u instanceof As||u instanceof Aa;let d=!0;return u.eachChild((g=>{d=a?d&&Ps(g):d&&g instanceof Wi})),!!d&&ro(u)&&gl(u,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function ro(u){if(u instanceof Vi&&(u.name==="get"&&u.args.length===1||u.name==="feature-state"||u.name==="has"&&u.args.length===1||u.name==="properties"||u.name==="geometry-type"||u.name==="id"||/^filter-/.test(u.name))||u instanceof ut||u instanceof cs)return!1;let a=!0;return u.eachChild((d=>{a&&!ro(d)&&(a=!1)})),a}function Vo(u){if(u instanceof Vi&&u.name==="feature-state")return!1;let a=!0;return u.eachChild((d=>{a&&!Vo(d)&&(a=!1)})),a}function gl(u,a){if(u instanceof Vi&&a.indexOf(u.name)>=0)return!1;let d=!0;return u.eachChild((g=>{d&&!gl(g,a)&&(d=!1)})),d}function Si(u){return{result:"success",value:u}}function Zl(u){return{result:"error",value:u}}function hs(u){return u["property-type"]==="data-driven"||u["property-type"]==="cross-faded-data-driven"}function qo(u){return!!u.expression&&u.expression.parameters.indexOf("zoom")>-1}function va(u){return!!u.expression&&u.expression.interpolated}function dn(u){return u instanceof Number?"number":u instanceof String?"string":u instanceof Boolean?"boolean":Array.isArray(u)?"array":u===null?"null":typeof u}function Wl(u){return typeof u=="object"&&u!==null&&!Array.isArray(u)}function Mu(u){return u}function yl(u,a){const d=a.type==="color",g=u.stops&&typeof u.stops[0][0]=="object",B=g||!(g||u.property!==void 0),E=u.type||(va(a)?"exponential":"interval");if(d||a.type==="padding"){const Z=d?wn.parse:Mi.parse;(u=cr({},u)).stops&&(u.stops=u.stops.map((J=>[J[0],Z(J[1])]))),u.default=Z(u.default?u.default:a.default)}if(u.colorSpace&&(I=u.colorSpace)!=="rgb"&&I!=="hcl"&&I!=="lab")throw new Error(`Unknown color space: "${u.colorSpace}"`);var I;let O,R,q;if(E==="exponential")O=Ds;else if(E==="interval")O=vl;else if(E==="categorical"){O=Go,R=Object.create(null);for(const Z of u.stops)R[Z[0]]=Z[1];q=typeof u.stops[0][0]}else{if(E!=="identity")throw new Error(`Unknown function type "${E}"`);O=_l}if(g){const Z={},J=[];for(let ve=0;ve<u.stops.length;ve++){const Ce=u.stops[ve],je=Ce[0].zoom;Z[je]===void 0&&(Z[je]={zoom:je,type:u.type,property:u.property,default:u.default,stops:[]},J.push(je)),Z[je].stops.push([Ce[0].value,Ce[1]])}const oe=[];for(const ve of J)oe.push([Z[ve].zoom,yl(Z[ve],a)]);const he={name:"linear"};return{kind:"composite",interpolationType:he,interpolationFactor:Yi.interpolationFactor.bind(void 0,he),zoomStops:oe.map((ve=>ve[0])),evaluate:({zoom:ve},Ce)=>Ds({stops:oe,base:u.base},a,ve).evaluate(ve,Ce)}}if(B){const Z=E==="exponential"?{name:"exponential",base:u.base!==void 0?u.base:1}:null;return{kind:"camera",interpolationType:Z,interpolationFactor:Yi.interpolationFactor.bind(void 0,Z),zoomStops:u.stops.map((J=>J[0])),evaluate:({zoom:J})=>O(u,a,J,R,q)}}return{kind:"source",evaluate(Z,J){const oe=J&&J.properties?J.properties[u.property]:void 0;return oe===void 0?Os(u.default,a.default):O(u,a,oe,R,q)}}}function Os(u,a,d){return u!==void 0?u:a!==void 0?a:d!==void 0?d:void 0}function Go(u,a,d,g,B){return Os(typeof d===B?g[d]:void 0,u.default,a.default)}function vl(u,a,d){if(dn(d)!=="number")return Os(u.default,a.default);const g=u.stops.length;if(g===1||d<=u.stops[0][0])return u.stops[0][1];if(d>=u.stops[g-1][0])return u.stops[g-1][1];const B=nu(u.stops.map((E=>E[0])),d);return u.stops[B][1]}function Ds(u,a,d){const g=u.base!==void 0?u.base:1;if(dn(d)!=="number")return Os(u.default,a.default);const B=u.stops.length;if(B===1||d<=u.stops[0][0])return u.stops[0][1];if(d>=u.stops[B-1][0])return u.stops[B-1][1];const E=nu(u.stops.map((Z=>Z[0])),d),I=(function(Z,J,oe,he){const ve=he-oe,Ce=Z-oe;return ve===0?0:J===1?Ce/ve:(Math.pow(J,Ce)-1)/(Math.pow(J,ve)-1)})(d,g,u.stops[E][0],u.stops[E+1][0]),O=u.stops[E][1],R=u.stops[E+1][1],q=ua[a.type]||Mu;return typeof O.evaluate=="function"?{evaluate(...Z){const J=O.evaluate.apply(void 0,Z),oe=R.evaluate.apply(void 0,Z);if(J!==void 0&&oe!==void 0)return q(J,oe,I,u.colorSpace)}}:q(O,R,I,u.colorSpace)}function _l(u,a,d){switch(a.type){case"color":d=wn.parse(d);break;case"formatted":d=vi.fromString(d.toString());break;case"resolvedImage":d=Qa.fromString(d.toString());break;case"padding":d=Mi.parse(d);break;default:dn(d)===a.type||a.type==="enum"&&a.values[d]||(d=void 0)}return Os(d,u.default,a.default)}Vi.register(pl,{error:[{kind:"error"},[Zt],(u,[a])=>{throw new $r(a.evaluate(u))}],typeof:[Zt,[sr],(u,[a])=>ue(Vn(a.evaluate(u)))],"to-rgba":[le(Pt,4),[Zr],(u,[a])=>{const[d,g,B,E]=a.evaluate(u).rgb;return[255*d,255*g,255*B,E]}],rgb:[Zr,[Pt,Pt,Pt],ml],rgba:[Zr,[Pt,Pt,Pt,Pt],ml],has:{type:Gt,overloads:[[[Zt],(u,[a])=>Wa(a.evaluate(u),u.properties())],[[Zt,_r],(u,[a,d])=>Wa(a.evaluate(u),d.evaluate(u))]]},get:{type:sr,overloads:[[[Zt],(u,[a])=>Ka(a.evaluate(u),u.properties())],[[Zt,_r],(u,[a,d])=>Ka(a.evaluate(u),d.evaluate(u))]]},"feature-state":[sr,[Zt],(u,[a])=>Ka(a.evaluate(u),u.featureState||{})],properties:[_r,[],u=>u.properties()],"geometry-type":[Zt,[],u=>u.geometryType()],id:[sr,[],u=>u.id()],zoom:[Pt,[],u=>u.globals.zoom],"heatmap-density":[Pt,[],u=>u.globals.heatmapDensity||0],"line-progress":[Pt,[],u=>u.globals.lineProgress||0],accumulated:[sr,[],u=>u.globals.accumulated===void 0?null:u.globals.accumulated],"+":[Pt,Ya(Pt),(u,a)=>{let d=0;for(const g of a)d+=g.evaluate(u);return d}],"*":[Pt,Ya(Pt),(u,a)=>{let d=1;for(const g of a)d*=g.evaluate(u);return d}],"-":{type:Pt,overloads:[[[Pt,Pt],(u,[a,d])=>a.evaluate(u)-d.evaluate(u)],[[Pt],(u,[a])=>-a.evaluate(u)]]},"/":[Pt,[Pt,Pt],(u,[a,d])=>a.evaluate(u)/d.evaluate(u)],"%":[Pt,[Pt,Pt],(u,[a,d])=>a.evaluate(u)%d.evaluate(u)],ln2:[Pt,[],()=>Math.LN2],pi:[Pt,[],()=>Math.PI],e:[Pt,[],()=>Math.E],"^":[Pt,[Pt,Pt],(u,[a,d])=>Math.pow(a.evaluate(u),d.evaluate(u))],sqrt:[Pt,[Pt],(u,[a])=>Math.sqrt(a.evaluate(u))],log10:[Pt,[Pt],(u,[a])=>Math.log(a.evaluate(u))/Math.LN10],ln:[Pt,[Pt],(u,[a])=>Math.log(a.evaluate(u))],log2:[Pt,[Pt],(u,[a])=>Math.log(a.evaluate(u))/Math.LN2],sin:[Pt,[Pt],(u,[a])=>Math.sin(a.evaluate(u))],cos:[Pt,[Pt],(u,[a])=>Math.cos(a.evaluate(u))],tan:[Pt,[Pt],(u,[a])=>Math.tan(a.evaluate(u))],asin:[Pt,[Pt],(u,[a])=>Math.asin(a.evaluate(u))],acos:[Pt,[Pt],(u,[a])=>Math.acos(a.evaluate(u))],atan:[Pt,[Pt],(u,[a])=>Math.atan(a.evaluate(u))],min:[Pt,Ya(Pt),(u,a)=>Math.min(...a.map((d=>d.evaluate(u))))],max:[Pt,Ya(Pt),(u,a)=>Math.max(...a.map((d=>d.evaluate(u))))],abs:[Pt,[Pt],(u,[a])=>Math.abs(a.evaluate(u))],round:[Pt,[Pt],(u,[a])=>{const d=a.evaluate(u);return d<0?-Math.round(-d):Math.round(d)}],floor:[Pt,[Pt],(u,[a])=>Math.floor(a.evaluate(u))],ceil:[Pt,[Pt],(u,[a])=>Math.ceil(a.evaluate(u))],"filter-==":[Gt,[Zt,sr],(u,[a,d])=>u.properties()[a.value]===d.value],"filter-id-==":[Gt,[sr],(u,[a])=>u.id()===a.value],"filter-type-==":[Gt,[Zt],(u,[a])=>u.geometryType()===a.value],"filter-<":[Gt,[Zt,sr],(u,[a,d])=>{const g=u.properties()[a.value],B=d.value;return typeof g==typeof B&&g<B}],"filter-id-<":[Gt,[sr],(u,[a])=>{const d=u.id(),g=a.value;return typeof d==typeof g&&d<g}],"filter->":[Gt,[Zt,sr],(u,[a,d])=>{const g=u.properties()[a.value],B=d.value;return typeof g==typeof B&&g>B}],"filter-id->":[Gt,[sr],(u,[a])=>{const d=u.id(),g=a.value;return typeof d==typeof g&&d>g}],"filter-<=":[Gt,[Zt,sr],(u,[a,d])=>{const g=u.properties()[a.value],B=d.value;return typeof g==typeof B&&g<=B}],"filter-id-<=":[Gt,[sr],(u,[a])=>{const d=u.id(),g=a.value;return typeof d==typeof g&&d<=g}],"filter->=":[Gt,[Zt,sr],(u,[a,d])=>{const g=u.properties()[a.value],B=d.value;return typeof g==typeof B&&g>=B}],"filter-id->=":[Gt,[sr],(u,[a])=>{const d=u.id(),g=a.value;return typeof d==typeof g&&d>=g}],"filter-has":[Gt,[sr],(u,[a])=>a.value in u.properties()],"filter-has-id":[Gt,[],u=>u.id()!==null&&u.id()!==void 0],"filter-type-in":[Gt,[le(Zt)],(u,[a])=>a.value.indexOf(u.geometryType())>=0],"filter-id-in":[Gt,[le(sr)],(u,[a])=>a.value.indexOf(u.id())>=0],"filter-in-small":[Gt,[Zt,le(sr)],(u,[a,d])=>d.value.indexOf(u.properties()[a.value])>=0],"filter-in-large":[Gt,[Zt,le(sr)],(u,[a,d])=>(function(g,B,E,I){for(;E<=I;){const O=E+I>>1;if(B[O]===g)return!0;B[O]>g?I=O-1:E=O+1}return!1})(u.properties()[a.value],d.value,0,d.value.length-1)],all:{type:Gt,overloads:[[[Gt,Gt],(u,[a,d])=>a.evaluate(u)&&d.evaluate(u)],[Ya(Gt),(u,a)=>{for(const d of a)if(!d.evaluate(u))return!1;return!0}]]},any:{type:Gt,overloads:[[[Gt,Gt],(u,[a,d])=>a.evaluate(u)||d.evaluate(u)],[Ya(Gt),(u,a)=>{for(const d of a)if(d.evaluate(u))return!0;return!1}]]},"!":[Gt,[Gt],(u,[a])=>!a.evaluate(u)],"is-supported-script":[Gt,[Zt],(u,[a])=>{const d=u.globals&&u.globals.isSupportedScript;return!d||d(a.evaluate(u))}],upcase:[Zt,[Zt],(u,[a])=>a.evaluate(u).toUpperCase()],downcase:[Zt,[Zt],(u,[a])=>a.evaluate(u).toLowerCase()],concat:[Zt,Ya(sr),(u,a)=>a.map((d=>Gs(d.evaluate(u)))).join("")],"resolved-locale":[Zt,[Lr],(u,[a])=>a.evaluate(u).resolvedLocale()]});class _a{constructor(a,d){var g;this.expression=a,this._warningHistory={},this._evaluator=new ji,this._defaultValue=d?(g=d).type==="color"&&Wl(g.default)?new wn(0,0,0,0):g.type==="color"?wn.parse(g.default)||null:g.type==="padding"?Mi.parse(g.default)||null:g.type==="variableAnchorOffsetCollection"?Za.parse(g.default)||null:g.default===void 0?null:g.default:null,this._enumValues=d&&d.type==="enum"?d.values:null}evaluateWithoutErrorHandling(a,d,g,B,E,I){return this._evaluator.globals=a,this._evaluator.feature=d,this._evaluator.featureState=g,this._evaluator.canonical=B,this._evaluator.availableImages=E||null,this._evaluator.formattedSection=I,this.expression.evaluate(this._evaluator)}evaluate(a,d,g,B,E,I){this._evaluator.globals=a,this._evaluator.feature=d||null,this._evaluator.featureState=g||null,this._evaluator.canonical=B,this._evaluator.availableImages=E||null,this._evaluator.formattedSection=I||null;try{const O=this.expression.evaluate(this._evaluator);if(O==null||typeof O=="number"&&O!=O)return this._defaultValue;if(this._enumValues&&!(O in this._enumValues))throw new $r(`Expected value to be one of ${Object.keys(this._enumValues).map((R=>JSON.stringify(R))).join(", ")}, but found ${JSON.stringify(O)} instead.`);return O}catch(O){return this._warningHistory[O.message]||(this._warningHistory[O.message]=!0,typeof console<"u"&&console.warn(O.message)),this._defaultValue}}}function fs(u){return Array.isArray(u)&&u.length>0&&typeof u[0]=="string"&&u[0]in pl}function Un(u,a){const d=new ui(pl,Ps,[],a?(function(B){const E={color:Zr,string:Zt,number:Pt,enum:Zt,boolean:Gt,formatted:zr,padding:kn,resolvedImage:Xr,variableAnchorOffsetCollection:Me};return B.type==="array"?le(E[B.value]||sr,B.length):E[B.type]})(a):void 0),g=d.parse(u,void 0,void 0,void 0,a&&a.type==="string"?{typeAnnotation:"coerce"}:void 0);return g?Si(new _a(g,a)):Zl(d.errors)}class Bn{constructor(a,d){this.kind=a,this._styleExpression=d,this.isStateDependent=a!=="constant"&&!Vo(d.expression)}evaluateWithoutErrorHandling(a,d,g,B,E,I){return this._styleExpression.evaluateWithoutErrorHandling(a,d,g,B,E,I)}evaluate(a,d,g,B,E,I){return this._styleExpression.evaluate(a,d,g,B,E,I)}}class Xn{constructor(a,d,g,B){this.kind=a,this.zoomStops=g,this._styleExpression=d,this.isStateDependent=a!=="camera"&&!Vo(d.expression),this.interpolationType=B}evaluateWithoutErrorHandling(a,d,g,B,E,I){return this._styleExpression.evaluateWithoutErrorHandling(a,d,g,B,E,I)}evaluate(a,d,g,B,E,I){return this._styleExpression.evaluate(a,d,g,B,E,I)}interpolationFactor(a,d,g){return this.interpolationType?Yi.interpolationFactor(this.interpolationType,a,d,g):0}}function Oi(u,a){const d=Un(u,a);if(d.result==="error")return d;const g=d.value.expression,B=ro(g);if(!B&&!hs(a))return Zl([new Pr("","data expressions not supported")]);const E=gl(g,["zoom"]);if(!E&&!qo(a))return Zl([new Pr("","zoom expressions not supported")]);const I=ps(g);return I||E?I instanceof Pr?Zl([I]):I instanceof Yi&&!va(a)?Zl([new Pr("",'"interpolate" expressions cannot be used with this property')]):Si(I?new Xn(B?"camera":"composite",d.value,I.labels,I instanceof Yi?I.interpolation:void 0):new Bn(B?"constant":"source",d.value)):Zl([new Pr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class ds{constructor(a,d){this._parameters=a,this._specification=d,cr(this,yl(this._parameters,this._specification))}static deserialize(a){return new ds(a._parameters,a._specification)}static serialize(a){return{_parameters:a._parameters,_specification:a._specification}}}function ps(u){let a=null;if(u instanceof $s)a=ps(u.result);else if(u instanceof iu){for(const d of u.args)if(a=ps(d),a)break}else(u instanceof ql||u instanceof Yi)&&u.input instanceof Vi&&u.input.name==="zoom"&&(a=u);return a instanceof Pr||u.eachChild((d=>{const g=ps(d);g instanceof Pr?a=g:!a&&g?a=new Pr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):a&&g&&a!==g&&(a=new Pr("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),a}function bl(u){if(u===!0||u===!1)return!0;if(!Array.isArray(u)||u.length===0)return!1;switch(u[0]){case"has":return u.length>=2&&u[1]!=="$id"&&u[1]!=="$type";case"in":return u.length>=3&&(typeof u[1]!="string"||Array.isArray(u[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return u.length!==3||Array.isArray(u[1])||Array.isArray(u[2]);case"any":case"all":for(const a of u.slice(1))if(!bl(a)&&typeof a!="boolean")return!1;return!0;default:return!0}}const SA={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function pc(u){if(u==null)return{filter:()=>!0,needGeometry:!1};bl(u)||(u=mc(u));const a=Un(u,SA);if(a.result==="error")throw new Error(a.value.map((d=>`${d.key}: ${d.message}`)).join(", "));return{filter:(d,g,B)=>a.value.evaluate(d,g,{},B),needGeometry:Fh(u)}}function bf(u,a){return u<a?-1:u>a?1:0}function Fh(u){if(!Array.isArray(u))return!1;if(u[0]==="within"||u[0]==="distance")return!0;for(let a=1;a<u.length;a++)if(Fh(u[a]))return!0;return!1}function mc(u){if(!u)return!0;const a=u[0];return u.length<=1?a!=="any":a==="=="?gc(u[1],u[2],"=="):a==="!="?oi(gc(u[1],u[2],"==")):a==="<"||a===">"||a==="<="||a===">="?gc(u[1],u[2],a):a==="any"?(d=u.slice(1),["any"].concat(d.map(mc))):a==="all"?["all"].concat(u.slice(1).map(mc)):a==="none"?["all"].concat(u.slice(1).map(mc).map(oi)):a==="in"?lu(u[1],u.slice(2)):a==="!in"?oi(lu(u[1],u.slice(2))):a==="has"?$o(u[1]):a!=="!has"||oi($o(u[1]));var d}function gc(u,a,d){switch(u){case"$type":return[`filter-type-${d}`,a];case"$id":return[`filter-id-${d}`,a];default:return[`filter-${d}`,u,a]}}function lu(u,a){if(a.length===0)return!1;switch(u){case"$type":return["filter-type-in",["literal",a]];case"$id":return["filter-id-in",["literal",a]];default:return a.length>200&&!a.some((d=>typeof d!=typeof a[0]))?["filter-in-large",u,["literal",a.sort(bf)]]:["filter-in-small",u,["literal",a]]}}function $o(u){switch(u){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",u]}}function oi(u){return["!",u]}function Xo(u){const a=typeof u;if(a==="number"||a==="boolean"||a==="string"||u==null)return JSON.stringify(u);if(Array.isArray(u)){let B="[";for(const E of u)B+=`${Xo(E)},`;return`${B}]`}const d=Object.keys(u).sort();let g="{";for(let B=0;B<d.length;B++)g+=`${JSON.stringify(d[B])}:${Xo(u[d[B]])},`;return`${g}}`}function ks(u){let a="";for(const d of Rr)a+=`/${Xo(u[d])}`;return a}function EA(u){const a=u.value;return a?[new Lt(u.key,a,"constants have been deprecated as of v8")]:[]}function _i(u){return u instanceof Number||u instanceof String||u instanceof Boolean?u.valueOf():u}function ms(u){if(Array.isArray(u))return u.map(ms);if(u instanceof Object&&!(u instanceof Number||u instanceof String||u instanceof Boolean)){const a={};for(const d in u)a[d]=ms(u[d]);return a}return _i(u)}function Va(u){const a=u.key,d=u.value,g=u.valueSpec||{},B=u.objectElementValidators||{},E=u.style,I=u.styleSpec,O=u.validateSpec;let R=[];const q=dn(d);if(q!=="object")return[new Lt(a,d,`object expected, ${q} found`)];for(const Z in d){const J=Z.split(".")[0],oe=g[J]||g["*"];let he;if(B[J])he=B[J];else if(g[J])he=O;else if(B["*"])he=B["*"];else{if(!g["*"]){R.push(new Lt(a,d[Z],`unknown property "${Z}"`));continue}he=O}R=R.concat(he({key:(a&&`${a}.`)+Z,value:d[Z],valueSpec:oe,style:E,styleSpec:I,object:d,objectKey:Z,validateSpec:O},d))}for(const Z in g)B[Z]||g[Z].required&&g[Z].default===void 0&&d[Z]===void 0&&R.push(new Lt(a,d,`missing required property "${Z}"`));return R}function TA(u){const a=u.value,d=u.valueSpec,g=u.style,B=u.styleSpec,E=u.key,I=u.arrayElementValidator||u.validateSpec;if(dn(a)!=="array")return[new Lt(E,a,`array expected, ${dn(a)} found`)];if(d.length&&a.length!==d.length)return[new Lt(E,a,`array length ${d.length} expected, length ${a.length} found`)];if(d["min-length"]&&a.length<d["min-length"])return[new Lt(E,a,`array length at least ${d["min-length"]} expected, length ${a.length} found`)];let O={type:d.value,values:d.values};B.$version<7&&(O.function=d.function),dn(d.value)==="object"&&(O=d.value);let R=[];for(let q=0;q<a.length;q++)R=R.concat(I({array:a,arrayIndex:q,value:a[q],valueSpec:O,validateSpec:u.validateSpec,style:g,styleSpec:B,key:`${E}[${q}]`}));return R}function Zo(u){const a=u.key,d=u.value,g=u.valueSpec;let B=dn(d);return B==="number"&&d!=d&&(B="NaN"),B!=="number"?[new Lt(a,d,`number expected, ${B} found`)]:"minimum"in g&&d<g.minimum?[new Lt(a,d,`${d} is less than the minimum value ${g.minimum}`)]:"maximum"in g&&d>g.maximum?[new Lt(a,d,`${d} is greater than the maximum value ${g.maximum}`)]:[]}function IA(u){const a=u.valueSpec,d=_i(u.value.type);let g,B,E,I={};const O=d!=="categorical"&&u.value.property===void 0,R=!O,q=dn(u.value.stops)==="array"&&dn(u.value.stops[0])==="array"&&dn(u.value.stops[0][0])==="object",Z=Va({key:u.key,value:u.value,valueSpec:u.styleSpec.function,validateSpec:u.validateSpec,style:u.style,styleSpec:u.styleSpec,objectElementValidators:{stops:function(he){if(d==="identity")return[new Lt(he.key,he.value,'identity function may not have a "stops" property')];let ve=[];const Ce=he.value;return ve=ve.concat(TA({key:he.key,value:Ce,valueSpec:he.valueSpec,validateSpec:he.validateSpec,style:he.style,styleSpec:he.styleSpec,arrayElementValidator:J})),dn(Ce)==="array"&&Ce.length===0&&ve.push(new Lt(he.key,Ce,"array must have at least one stop")),ve},default:function(he){return he.validateSpec({key:he.key,value:he.value,valueSpec:a,validateSpec:he.validateSpec,style:he.style,styleSpec:he.styleSpec})}}});return d==="identity"&&O&&Z.push(new Lt(u.key,u.value,'missing required property "property"')),d==="identity"||u.value.stops||Z.push(new Lt(u.key,u.value,'missing required property "stops"')),d==="exponential"&&u.valueSpec.expression&&!va(u.valueSpec)&&Z.push(new Lt(u.key,u.value,"exponential functions not supported")),u.styleSpec.$version>=8&&(R&&!hs(u.valueSpec)?Z.push(new Lt(u.key,u.value,"property functions not supported")):O&&!qo(u.valueSpec)&&Z.push(new Lt(u.key,u.value,"zoom functions not supported"))),d!=="categorical"&&!q||u.value.property!==void 0||Z.push(new Lt(u.key,u.value,'"property" property is required')),Z;function J(he){let ve=[];const Ce=he.value,je=he.key;if(dn(Ce)!=="array")return[new Lt(je,Ce,`array expected, ${dn(Ce)} found`)];if(Ce.length!==2)return[new Lt(je,Ce,`array length 2 expected, length ${Ce.length} found`)];if(q){if(dn(Ce[0])!=="object")return[new Lt(je,Ce,`object expected, ${dn(Ce[0])} found`)];if(Ce[0].zoom===void 0)return[new Lt(je,Ce,"object stop key must have zoom")];if(Ce[0].value===void 0)return[new Lt(je,Ce,"object stop key must have value")];if(E&&E>_i(Ce[0].zoom))return[new Lt(je,Ce[0].zoom,"stop zoom values must appear in ascending order")];_i(Ce[0].zoom)!==E&&(E=_i(Ce[0].zoom),B=void 0,I={}),ve=ve.concat(Va({key:`${je}[0]`,value:Ce[0],valueSpec:{zoom:{}},validateSpec:he.validateSpec,style:he.style,styleSpec:he.styleSpec,objectElementValidators:{zoom:Zo,value:oe}}))}else ve=ve.concat(oe({key:`${je}[0]`,value:Ce[0],validateSpec:he.validateSpec,style:he.style,styleSpec:he.styleSpec},Ce));return fs(ms(Ce[1]))?ve.concat([new Lt(`${je}[1]`,Ce[1],"expressions are not allowed in function stops.")]):ve.concat(he.validateSpec({key:`${je}[1]`,value:Ce[1],valueSpec:a,validateSpec:he.validateSpec,style:he.style,styleSpec:he.styleSpec}))}function oe(he,ve){const Ce=dn(he.value),je=_i(he.value),Ze=he.value!==null?he.value:ve;if(g){if(Ce!==g)return[new Lt(he.key,Ze,`${Ce} stop domain type must match previous stop domain type ${g}`)]}else g=Ce;if(Ce!=="number"&&Ce!=="string"&&Ce!=="boolean")return[new Lt(he.key,Ze,"stop domain value must be a number, string, or boolean")];if(Ce!=="number"&&d!=="categorical"){let ht=`number expected, ${Ce} found`;return hs(a)&&d===void 0&&(ht+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Lt(he.key,Ze,ht)]}return d!=="categorical"||Ce!=="number"||isFinite(je)&&Math.floor(je)===je?d!=="categorical"&&Ce==="number"&&B!==void 0&&je<B?[new Lt(he.key,Ze,"stop domain values must appear in ascending order")]:(B=je,d==="categorical"&&je in I?[new Lt(he.key,Ze,"stop domain values must be unique")]:(I[je]=!0,[])):[new Lt(he.key,Ze,`integer expected, found ${je}`)]}}function Ji(u){const a=(u.expressionContext==="property"?Oi:Un)(ms(u.value),u.valueSpec);if(a.result==="error")return a.value.map((g=>new Lt(`${u.key}${g.key}`,u.value,g.message)));const d=a.value.expression||a.value._styleExpression.expression;if(u.expressionContext==="property"&&u.propertyKey==="text-font"&&!d.outputDefined())return[new Lt(u.key,u.value,`Invalid data expression for "${u.propertyKey}". Output values must be contained as literals within the expression.`)];if(u.expressionContext==="property"&&u.propertyType==="layout"&&!Vo(d))return[new Lt(u.key,u.value,'"feature-state" data expressions are not supported with layout properties.')];if(u.expressionContext==="filter"&&!Vo(d))return[new Lt(u.key,u.value,'"feature-state" data expressions are not supported with filters.')];if(u.expressionContext&&u.expressionContext.indexOf("cluster")===0){if(!gl(d,["zoom","feature-state"]))return[new Lt(u.key,u.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(u.expressionContext==="cluster-initial"&&!ro(d))return[new Lt(u.key,u.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function bi(u){const a=u.key,d=u.value,g=u.valueSpec,B=[];return Array.isArray(g.values)?g.values.indexOf(_i(d))===-1&&B.push(new Lt(a,d,`expected one of [${g.values.join(", ")}], ${JSON.stringify(d)} found`)):Object.keys(g.values).indexOf(_i(d))===-1&&B.push(new Lt(a,d,`expected one of [${Object.keys(g.values).join(", ")}], ${JSON.stringify(d)} found`)),B}function Pu(u){return bl(ms(u.value))?Ji(cr({},u,{expressionContext:"filter",valueSpec:{value:"boolean"}})):ba(u)}function ba(u){const a=u.value,d=u.key;if(dn(a)!=="array")return[new Lt(d,a,`array expected, ${dn(a)} found`)];const g=u.styleSpec;let B,E=[];if(a.length<1)return[new Lt(d,a,"filter array must have at least 1 element")];switch(E=E.concat(bi({key:`${d}[0]`,value:a[0],valueSpec:g.filter_operator,style:u.style,styleSpec:u.styleSpec})),_i(a[0])){case"<":case"<=":case">":case">=":a.length>=2&&_i(a[1])==="$type"&&E.push(new Lt(d,a,`"$type" cannot be use with operator "${a[0]}"`));case"==":case"!=":a.length!==3&&E.push(new Lt(d,a,`filter array for operator "${a[0]}" must have 3 elements`));case"in":case"!in":a.length>=2&&(B=dn(a[1]),B!=="string"&&E.push(new Lt(`${d}[1]`,a[1],`string expected, ${B} found`)));for(let I=2;I<a.length;I++)B=dn(a[I]),_i(a[1])==="$type"?E=E.concat(bi({key:`${d}[${I}]`,value:a[I],valueSpec:g.geometry_type,style:u.style,styleSpec:u.styleSpec})):B!=="string"&&B!=="number"&&B!=="boolean"&&E.push(new Lt(`${d}[${I}]`,a[I],`string, number, or boolean expected, ${B} found`));break;case"any":case"all":case"none":for(let I=1;I<a.length;I++)E=E.concat(ba({key:`${d}[${I}]`,value:a[I],style:u.style,styleSpec:u.styleSpec}));break;case"has":case"!has":B=dn(a[1]),a.length!==2?E.push(new Lt(d,a,`filter array for "${a[0]}" operator must have 2 elements`)):B!=="string"&&E.push(new Lt(`${d}[1]`,a[1],`string expected, ${B} found`))}return E}function Ou(u,a){const d=u.key,g=u.validateSpec,B=u.style,E=u.styleSpec,I=u.value,O=u.objectKey,R=E[`${a}_${u.layerType}`];if(!R)return[];const q=O.match(/^(.*)-transition$/);if(a==="paint"&&q&&R[q[1]]&&R[q[1]].transition)return g({key:d,value:I,valueSpec:E.transition,style:B,styleSpec:E});const Z=u.valueSpec||R[O];if(!Z)return[new Lt(d,I,`unknown property "${O}"`)];let J;if(dn(I)==="string"&&hs(Z)&&!Z.tokens&&(J=/^{([^}]+)}$/.exec(I)))return[new Lt(d,I,`"${O}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(J[1])} }\`.`)];const oe=[];return u.layerType==="symbol"&&(O==="text-field"&&B&&!B.glyphs&&oe.push(new Lt(d,I,'use of "text-field" requires a style "glyphs" property')),O==="text-font"&&Wl(ms(I))&&_i(I.type)==="identity"&&oe.push(new Lt(d,I,'"text-font" does not support identity functions'))),oe.concat(g({key:u.key,value:I,valueSpec:Z,style:B,styleSpec:E,expressionContext:"property",propertyType:a,propertyKey:O}))}function gs(u){return Ou(u,"paint")}function Au(u){return Ou(u,"layout")}function FA(u){let a=[];const d=u.value,g=u.key,B=u.style,E=u.styleSpec;d.type||d.ref||a.push(new Lt(g,d,'either "type" or "ref" is required'));let I=_i(d.type);const O=_i(d.ref);if(d.id){const R=_i(d.id);for(let q=0;q<u.arrayIndex;q++){const Z=B.layers[q];_i(Z.id)===R&&a.push(new Lt(g,d.id,`duplicate layer id "${d.id}", previously used at line ${Z.id.__line__}`))}}if("ref"in d){let R;["type","source","source-layer","filter","layout"].forEach((q=>{q in d&&a.push(new Lt(g,d[q],`"${q}" is prohibited for ref layers`))})),B.layers.forEach((q=>{_i(q.id)===O&&(R=q)})),R?R.ref?a.push(new Lt(g,d.ref,"ref cannot reference another ref layer")):I=_i(R.type):a.push(new Lt(g,d.ref,`ref layer "${O}" not found`))}else if(I!=="background")if(d.source){const R=B.sources&&B.sources[d.source],q=R&&_i(R.type);R?q==="vector"&&I==="raster"?a.push(new Lt(g,d.source,`layer "${d.id}" requires a raster source`)):q!=="raster-dem"&&I==="hillshade"?a.push(new Lt(g,d.source,`layer "${d.id}" requires a raster-dem source`)):q==="raster"&&I!=="raster"?a.push(new Lt(g,d.source,`layer "${d.id}" requires a vector source`)):q!=="vector"||d["source-layer"]?q==="raster-dem"&&I!=="hillshade"?a.push(new Lt(g,d.source,"raster-dem source can only be used with layer type 'hillshade'.")):I!=="line"||!d.paint||!d.paint["line-gradient"]||q==="geojson"&&R.lineMetrics||a.push(new Lt(g,d,`layer "${d.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):a.push(new Lt(g,d,`layer "${d.id}" must specify a "source-layer"`)):a.push(new Lt(g,d.source,`source "${d.source}" not found`))}else a.push(new Lt(g,d,'missing required property "source"'));return a=a.concat(Va({key:g,value:d,valueSpec:E.layer,style:u.style,styleSpec:u.styleSpec,validateSpec:u.validateSpec,objectElementValidators:{"*":()=>[],type:()=>u.validateSpec({key:`${g}.type`,value:d.type,valueSpec:E.layer.type,style:u.style,styleSpec:u.styleSpec,validateSpec:u.validateSpec,object:d,objectKey:"type"}),filter:Pu,layout:R=>Va({layer:d,key:R.key,value:R.value,style:R.style,styleSpec:R.styleSpec,validateSpec:R.validateSpec,objectElementValidators:{"*":q=>Au(cr({layerType:I},q))}}),paint:R=>Va({layer:d,key:R.key,value:R.value,style:R.style,styleSpec:R.styleSpec,validateSpec:R.validateSpec,objectElementValidators:{"*":q=>gs(cr({layerType:I},q))}})}})),a}function Ns(u){const a=u.value,d=u.key,g=dn(a);return g!=="string"?[new Lt(d,a,`string expected, ${g} found`)]:[]}const LA={promoteId:function({key:u,value:a}){if(dn(a)==="string")return Ns({key:u,value:a});{const d=[];for(const g in a)d.push(...Ns({key:`${u}.${g}`,value:a[g]}));return d}}};function UA(u){const a=u.value,d=u.key,g=u.styleSpec,B=u.style,E=u.validateSpec;if(!a.type)return[new Lt(d,a,'"type" is required')];const I=_i(a.type);let O;switch(I){case"vector":case"raster":return O=Va({key:d,value:a,valueSpec:g[`source_${I.replace("-","_")}`],style:u.style,styleSpec:g,objectElementValidators:LA,validateSpec:E}),O;case"raster-dem":return O=(function(R){var q;const Z=(q=R.sourceName)!==null&&q!==void 0?q:"",J=R.value,oe=R.styleSpec,he=oe.source_raster_dem,ve=R.style;let Ce=[];const je=dn(J);if(J===void 0)return Ce;if(je!=="object")return Ce.push(new Lt("source_raster_dem",J,`object expected, ${je} found`)),Ce;const Ze=_i(J.encoding)==="custom",ht=["redFactor","greenFactor","blueFactor","baseShift"],it=R.value.encoding?`"${R.value.encoding}"`:"Default";for(const At in J)!Ze&&ht.includes(At)?Ce.push(new Lt(At,J[At],`In "${Z}": "${At}" is only valid when "encoding" is set to "custom". ${it} encoding found`)):he[At]?Ce=Ce.concat(R.validateSpec({key:At,value:J[At],valueSpec:he[At],validateSpec:R.validateSpec,style:ve,styleSpec:oe})):Ce.push(new Lt(At,J[At],`unknown property "${At}"`));return Ce})({sourceName:d,value:a,style:u.style,styleSpec:g,validateSpec:E}),O;case"geojson":if(O=Va({key:d,value:a,valueSpec:g.source_geojson,style:B,styleSpec:g,validateSpec:E,objectElementValidators:LA}),a.cluster)for(const R in a.clusterProperties){const[q,Z]=a.clusterProperties[R],J=typeof q=="string"?[q,["accumulated"],["get",R]]:q;O.push(...Ji({key:`${d}.${R}.map`,value:Z,expressionContext:"cluster-map"})),O.push(...Ji({key:`${d}.${R}.reduce`,value:J,expressionContext:"cluster-reduce"}))}return O;case"video":return Va({key:d,value:a,valueSpec:g.source_video,style:B,validateSpec:E,styleSpec:g});case"image":return Va({key:d,value:a,valueSpec:g.source_image,style:B,validateSpec:E,styleSpec:g});case"canvas":return[new Lt(d,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return bi({key:`${d}.type`,value:a.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]}})}}function MA(u){const a=u.value,d=u.styleSpec,g=d.light,B=u.style;let E=[];const I=dn(a);if(a===void 0)return E;if(I!=="object")return E=E.concat([new Lt("light",a,`object expected, ${I} found`)]),E;for(const O in a){const R=O.match(/^(.*)-transition$/);E=E.concat(R&&g[R[1]]&&g[R[1]].transition?u.validateSpec({key:O,value:a[O],valueSpec:d.transition,validateSpec:u.validateSpec,style:B,styleSpec:d}):g[O]?u.validateSpec({key:O,value:a[O],valueSpec:g[O],validateSpec:u.validateSpec,style:B,styleSpec:d}):[new Lt(O,a[O],`unknown property "${O}"`)])}return E}function Du(u){const a=u.value,d=u.styleSpec,g=d.sky,B=u.style,E=dn(a);if(a===void 0)return[];if(E!=="object")return[new Lt("sky",a,`object expected, ${E} found`)];let I=[];for(const O in a)I=I.concat(g[O]?u.validateSpec({key:O,value:a[O],valueSpec:g[O],style:B,styleSpec:d}):[new Lt(O,a[O],`unknown property "${O}"`)]);return I}function Qs(u){const a=u.value,d=u.styleSpec,g=d.terrain,B=u.style;let E=[];const I=dn(a);if(a===void 0)return E;if(I!=="object")return E=E.concat([new Lt("terrain",a,`object expected, ${I} found`)]),E;for(const O in a)E=E.concat(g[O]?u.validateSpec({key:O,value:a[O],valueSpec:g[O],validateSpec:u.validateSpec,style:B,styleSpec:d}):[new Lt(O,a[O],`unknown property "${O}"`)]);return E}function PA(u){let a=[];const d=u.value,g=u.key;if(Array.isArray(d)){const B=[],E=[];for(const I in d)d[I].id&&B.includes(d[I].id)&&a.push(new Lt(g,d,`all the sprites' ids must be unique, but ${d[I].id} is duplicated`)),B.push(d[I].id),d[I].url&&E.includes(d[I].url)&&a.push(new Lt(g,d,`all the sprites' URLs must be unique, but ${d[I].url} is duplicated`)),E.push(d[I].url),a=a.concat(Va({key:`${g}[${I}]`,value:d[I],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:u.validateSpec}));return a}return Ns({key:g,value:d})}const wl={"*":()=>[],array:TA,boolean:function(u){const a=u.value,d=u.key,g=dn(a);return g!=="boolean"?[new Lt(d,a,`boolean expected, ${g} found`)]:[]},number:Zo,color:function(u){const a=u.key,d=u.value,g=dn(d);return g!=="string"?[new Lt(a,d,`color expected, ${g} found`)]:wn.parse(String(d))?[]:[new Lt(a,d,`color expected, "${d}" found`)]},constants:EA,enum:bi,filter:Pu,function:IA,layer:FA,object:Va,source:UA,light:MA,sky:Du,terrain:Qs,projection:function(u){const a=u.value,d=u.styleSpec,g=d.projection,B=u.style,E=dn(a);if(a===void 0)return[];if(E!=="object")return[new Lt("projection",a,`object expected, ${E} found`)];let I=[];for(const O in a)I=I.concat(g[O]?u.validateSpec({key:O,value:a[O],valueSpec:g[O],style:B,styleSpec:d}):[new Lt(O,a[O],`unknown property "${O}"`)]);return I},string:Ns,formatted:function(u){return Ns(u).length===0?[]:Ji(u)},resolvedImage:function(u){return Ns(u).length===0?[]:Ji(u)},padding:function(u){const a=u.key,d=u.value;if(dn(d)==="array"){if(d.length<1||d.length>4)return[new Lt(a,d,`padding requires 1 to 4 values; ${d.length} values found`)];const g={type:"number"};let B=[];for(let E=0;E<d.length;E++)B=B.concat(u.validateSpec({key:`${a}[${E}]`,value:d[E],validateSpec:u.validateSpec,valueSpec:g}));return B}return Zo({key:a,value:d,valueSpec:{}})},variableAnchorOffsetCollection:function(u){const a=u.key,d=u.value,g=dn(d),B=u.styleSpec;if(g!=="array"||d.length<1||d.length%2!=0)return[new Lt(a,d,"variableAnchorOffsetCollection requires a non-empty array of even length")];let E=[];for(let I=0;I<d.length;I+=2)E=E.concat(bi({key:`${a}[${I}]`,value:d[I],valueSpec:B.layout_symbol["text-anchor"]})),E=E.concat(TA({key:`${a}[${I+1}]`,value:d[I+1],valueSpec:{length:2,value:"number"},validateSpec:u.validateSpec,style:u.style,styleSpec:B}));return E},sprite:PA};function OA(u){const a=u.value,d=u.valueSpec,g=u.styleSpec;return u.validateSpec=OA,d.expression&&Wl(_i(a))?IA(u):d.expression&&fs(ms(a))?Ji(u):d.type&&wl[d.type]?wl[d.type](u):Va(cr({},u,{valueSpec:d.type?g[d.type]:d}))}function ku(u){const a=u.value,d=u.key,g=Ns(u);return g.length||(a.indexOf("{fontstack}")===-1&&g.push(new Lt(d,a,'"glyphs" url must include a "{fontstack}" token')),a.indexOf("{range}")===-1&&g.push(new Lt(d,a,'"glyphs" url must include a "{range}" token'))),g}function Di(u,a=Ye){let d=[];return d=d.concat(OA({key:"",value:u,valueSpec:a.$root,styleSpec:a,style:u,validateSpec:OA,objectElementValidators:{glyphs:ku,"*":()=>[]}})),u.constants&&(d=d.concat(EA({key:"constants",value:u.constants}))),xl(d)}function ea(u){return function(a){return u({...a,validateSpec:OA})}}function xl(u){return[].concat(u).sort(((a,d)=>a.line-d.line))}function qi(u){return function(...a){return xl(u.apply(this,a))}}Di.source=qi(ea(UA)),Di.sprite=qi(ea(PA)),Di.glyphs=qi(ea(ku)),Di.light=qi(ea(MA)),Di.sky=qi(ea(Du)),Di.terrain=qi(ea(Qs)),Di.layer=qi(ea(FA)),Di.filter=qi(ea(Pu)),Di.paintProperty=qi(ea(gs)),Di.layoutProperty=qi(ea(Au));const Fa=Di,no=Fa.light,wf=Fa.sky,Gc=Fa.paintProperty,yc=Fa.layoutProperty;function $c(u,a){let d=!1;if(a&&a.length)for(const g of a)u.fire(new Xt(new Error(g.message))),d=!0;return d}class Gi{constructor(a,d,g){const B=this.cells=[];if(a instanceof ArrayBuffer){this.arrayBuffer=a;const I=new Int32Array(this.arrayBuffer);a=I[0],this.d=(d=I[1])+2*(g=I[2]);for(let R=0;R<this.d*this.d;R++){const q=I[3+R],Z=I[3+R+1];B.push(q===Z?null:I.subarray(q,Z))}const O=I[3+B.length+1];this.keys=I.subarray(I[3+B.length],O),this.bboxes=I.subarray(O),this.insert=this._insertReadonly}else{this.d=d+2*g;for(let I=0;I<this.d*this.d;I++)B.push([]);this.keys=[],this.bboxes=[]}this.n=d,this.extent=a,this.padding=g,this.scale=d/a,this.uid=0;const E=g/d*a;this.min=-E,this.max=a+E}insert(a,d,g,B,E){this._forEachCell(d,g,B,E,this._insertCell,this.uid++,void 0,void 0),this.keys.push(a),this.bboxes.push(d),this.bboxes.push(g),this.bboxes.push(B),this.bboxes.push(E)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(a,d,g,B,E,I){this.cells[E].push(I)}query(a,d,g,B,E){const I=this.min,O=this.max;if(a<=I&&d<=I&&O<=g&&O<=B&&!E)return Array.prototype.slice.call(this.keys);{const R=[];return this._forEachCell(a,d,g,B,this._queryCell,R,{},E),R}}_queryCell(a,d,g,B,E,I,O,R){const q=this.cells[E];if(q!==null){const Z=this.keys,J=this.bboxes;for(let oe=0;oe<q.length;oe++){const he=q[oe];if(O[he]===void 0){const ve=4*he;(R?R(J[ve+0],J[ve+1],J[ve+2],J[ve+3]):a<=J[ve+2]&&d<=J[ve+3]&&g>=J[ve+0]&&B>=J[ve+1])?(O[he]=!0,I.push(Z[he])):O[he]=!1}}}}_forEachCell(a,d,g,B,E,I,O,R){const q=this._convertToCellCoord(a),Z=this._convertToCellCoord(d),J=this._convertToCellCoord(g),oe=this._convertToCellCoord(B);for(let he=q;he<=J;he++)for(let ve=Z;ve<=oe;ve++){const Ce=this.d*ve+he;if((!R||R(this._convertFromCellCoord(he),this._convertFromCellCoord(ve),this._convertFromCellCoord(he+1),this._convertFromCellCoord(ve+1)))&&E.call(this,a,d,g,B,Ce,I,O,R))return}}_convertFromCellCoord(a){return(a-this.padding)/this.scale}_convertToCellCoord(a){return Math.max(0,Math.min(this.d-1,Math.floor(a*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const a=this.cells,d=3+this.cells.length+1+1;let g=0;for(let I=0;I<this.cells.length;I++)g+=this.cells[I].length;const B=new Int32Array(d+g+this.keys.length+this.bboxes.length);B[0]=this.extent,B[1]=this.n,B[2]=this.padding;let E=d;for(let I=0;I<a.length;I++){const O=a[I];B[3+I]=E,B.set(O,E),E+=O.length}return B[3+a.length]=E,B.set(this.keys,E),E+=this.keys.length,B[3+a.length+1]=E,B.set(this.bboxes,E),E+=this.bboxes.length,B.buffer}static serialize(a,d){const g=a.toArrayBuffer();return d&&d.push(g),{buffer:g}}static deserialize(a){return new Gi(a.buffer)}}const Mn={};function Rt(u,a,d={}){if(Mn[u])throw new Error(`${u} is already registered.`);Object.defineProperty(a,"_classRegistryKey",{value:u,writeable:!1}),Mn[u]={klass:a,omit:d.omit||[],shallow:d.shallow||[]}}Rt("Object",Object),Rt("TransferableGridIndex",Gi),Rt("Color",wn),Rt("Error",Error),Rt("AJAXError",Je),Rt("ResolvedImage",Qa),Rt("StylePropertyFunction",ds),Rt("StyleExpression",_a,{omit:["_evaluator"]}),Rt("ZoomDependentExpression",Xn),Rt("ZoomConstantExpression",Bn),Rt("CompoundExpression",Vi,{omit:["_evaluate"]});for(const u in pl)pl[u]._classRegistryKey||Rt(`Expression_${u}`,pl[u]);function La(u){return u&&typeof ArrayBuffer<"u"&&(u instanceof ArrayBuffer||u.constructor&&u.constructor.name==="ArrayBuffer")}function Ei(u){return u.$name||u.constructor._classRegistryKey}function So(u){return!(function(a){if(a===null||typeof a!="object")return!1;const d=Ei(a);return!(!d||d==="Object")})(u)&&(u==null||typeof u=="boolean"||typeof u=="number"||typeof u=="string"||u instanceof Boolean||u instanceof Number||u instanceof String||u instanceof Date||u instanceof RegExp||u instanceof Blob||u instanceof Error||La(u)||Ne(u)||ArrayBuffer.isView(u)||u instanceof ImageData)}function io(u,a){if(So(u))return(La(u)||Ne(u))&&a&&a.push(u),ArrayBuffer.isView(u)&&a&&a.push(u.buffer),u instanceof ImageData&&a&&a.push(u.data.buffer),u;if(Array.isArray(u)){const E=[];for(const I of u)E.push(io(I,a));return E}if(typeof u!="object")throw new Error("can't serialize object of type "+typeof u);const d=Ei(u);if(!d)throw new Error(`can't serialize object of unregistered class ${u.constructor.name}`);if(!Mn[d])throw new Error(`${d} is not registered.`);const{klass:g}=Mn[d],B=g.serialize?g.serialize(u,a):{};if(g.serialize){if(a&&B===a[a.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const E in u){if(!u.hasOwnProperty(E)||Mn[d].omit.indexOf(E)>=0)continue;const I=u[E];B[E]=Mn[d].shallow.indexOf(E)>=0?I:io(I,a)}u instanceof Error&&(B.message=u.message)}if(B.$name)throw new Error("$name property is reserved for worker serialization logic.");return d!=="Object"&&(B.$name=d),B}function DA(u){if(So(u))return u;if(Array.isArray(u))return u.map(DA);if(typeof u!="object")throw new Error("can't deserialize object of type "+typeof u);const a=Ei(u)||"Object";if(!Mn[a])throw new Error(`can't deserialize unregistered class ${a}`);const{klass:d}=Mn[a];if(!d)throw new Error(`can't deserialize unregistered class ${a}`);if(d.deserialize)return d.deserialize(u);const g=Object.create(d.prototype);for(const B of Object.keys(u)){if(B==="$name")continue;const E=u[B];g[B]=Mn[a].shallow.indexOf(B)>=0?E:DA(E)}return g}class Wo{constructor(){this.first=!0}update(a,d){const g=Math.floor(a);return this.first?(this.first=!1,this.lastIntegerZoom=g,this.lastIntegerZoomTime=0,this.lastZoom=a,this.lastFloorZoom=g,!0):(this.lastFloorZoom>g?(this.lastIntegerZoom=g+1,this.lastIntegerZoomTime=d):this.lastFloorZoom<g&&(this.lastIntegerZoom=g,this.lastIntegerZoomTime=d),a!==this.lastZoom&&(this.lastZoom=a,this.lastFloorZoom=g,!0))}}const Hr={"Latin-1 Supplement":u=>u>=128&&u<=255,"Hangul Jamo":u=>u>=4352&&u<=4607,Khmer:u=>u>=6016&&u<=6143,"General Punctuation":u=>u>=8192&&u<=8303,"Letterlike Symbols":u=>u>=8448&&u<=8527,"Number Forms":u=>u>=8528&&u<=8591,"Miscellaneous Technical":u=>u>=8960&&u<=9215,"Control Pictures":u=>u>=9216&&u<=9279,"Optical Character Recognition":u=>u>=9280&&u<=9311,"Enclosed Alphanumerics":u=>u>=9312&&u<=9471,"Geometric Shapes":u=>u>=9632&&u<=9727,"Miscellaneous Symbols":u=>u>=9728&&u<=9983,"Miscellaneous Symbols and Arrows":u=>u>=11008&&u<=11263,"Ideographic Description Characters":u=>u>=12272&&u<=12287,"CJK Symbols and Punctuation":u=>u>=12288&&u<=12351,Katakana:u=>u>=12448&&u<=12543,Kanbun:u=>u>=12688&&u<=12703,"CJK Strokes":u=>u>=12736&&u<=12783,"Enclosed CJK Letters and Months":u=>u>=12800&&u<=13055,"CJK Compatibility":u=>u>=13056&&u<=13311,"Yijing Hexagram Symbols":u=>u>=19904&&u<=19967,"Private Use Area":u=>u>=57344&&u<=63743,"Vertical Forms":u=>u>=65040&&u<=65055,"CJK Compatibility Forms":u=>u>=65072&&u<=65103,"Small Form Variants":u=>u>=65104&&u<=65135,"Halfwidth and Fullwidth Forms":u=>u>=65280&&u<=65519};function Yl(u){for(const a of u)if(Bl(a.charCodeAt(0)))return!0;return!1}function Lh(u){for(const a of u)if(!ao(a.charCodeAt(0)))return!1;return!0}function kA(u){const a=u.map((d=>{try{return new RegExp(`\\p{sc=${d}}`,"u").source}catch{return null}})).filter((d=>d));return new RegExp(a.join("|"),"u")}const Xc=kA(["Arab","Dupl","Mong","Ougr","Syrc"]);function ao(u){return!Xc.test(String.fromCodePoint(u))}const Yo=kA(["Bopo","Hani","Hira","Kana","Kits","Nshu","Tang","Yiii"]);function Bl(u){return!(u!==746&&u!==747&&(u<4352||!(Hr["CJK Compatibility Forms"](u)&&!(u>=65097&&u<=65103)||Hr["CJK Compatibility"](u)||Hr["CJK Strokes"](u)||!(!Hr["CJK Symbols and Punctuation"](u)||u>=12296&&u<=12305||u>=12308&&u<=12319||u===12336)||Hr["Enclosed CJK Letters and Months"](u)||Hr["Ideographic Description Characters"](u)||Hr.Kanbun(u)||Hr.Katakana(u)&&u!==12540||!(!Hr["Halfwidth and Fullwidth Forms"](u)||u===65288||u===65289||u===65293||u>=65306&&u<=65310||u===65339||u===65341||u===65343||u>=65371&&u<=65503||u===65507||u>=65512&&u<=65519)||!(!Hr["Small Form Variants"](u)||u>=65112&&u<=65118||u>=65123&&u<=65126)||Hr["Vertical Forms"](u)||Hr["Yijing Hexagram Symbols"](u)||new RegExp("\\p{sc=Cans}","u").test(String.fromCodePoint(u))||new RegExp("\\p{sc=Hang}","u").test(String.fromCodePoint(u))||Yo.test(String.fromCodePoint(u)))))}function so(u){return!(Bl(u)||(function(a){return!!(Hr["Latin-1 Supplement"](a)&&(a===167||a===169||a===174||a===177||a===188||a===189||a===190||a===215||a===247)||Hr["General Punctuation"](a)&&(a===8214||a===8224||a===8225||a===8240||a===8241||a===8251||a===8252||a===8258||a===8263||a===8264||a===8265||a===8273)||Hr["Letterlike Symbols"](a)||Hr["Number Forms"](a)||Hr["Miscellaneous Technical"](a)&&(a>=8960&&a<=8967||a>=8972&&a<=8991||a>=8996&&a<=9e3||a===9003||a>=9085&&a<=9114||a>=9150&&a<=9165||a===9167||a>=9169&&a<=9179||a>=9186&&a<=9215)||Hr["Control Pictures"](a)&&a!==9251||Hr["Optical Character Recognition"](a)||Hr["Enclosed Alphanumerics"](a)||Hr["Geometric Shapes"](a)||Hr["Miscellaneous Symbols"](a)&&!(a>=9754&&a<=9759)||Hr["Miscellaneous Symbols and Arrows"](a)&&(a>=11026&&a<=11055||a>=11088&&a<=11097||a>=11192&&a<=11243)||Hr["CJK Symbols and Punctuation"](a)||Hr.Katakana(a)||Hr["Private Use Area"](a)||Hr["CJK Compatibility Forms"](a)||Hr["Small Form Variants"](a)||Hr["Halfwidth and Fullwidth Forms"](a)||a===8734||a===8756||a===8757||a>=9984&&a<=10087||a>=10102&&a<=10131||a===65532||a===65533)})(u))}const Nu=kA(["Adlm","Arab","Armi","Avst","Chrs","Cprt","Egyp","Elym","Gara","Hatr","Hebr","Hung","Khar","Lydi","Mand","Mani","Mend","Merc","Mero","Narb","Nbat","Nkoo","Orkh","Palm","Phli","Phlp","Phnx","Prti","Rohg","Samr","Sarb","Sogo","Syrc","Thaa","Todr","Yezi"]);function Jl(u){return Nu.test(String.fromCodePoint(u))}function NA(u,a){return!(!a&&Jl(u)||u>=2304&&u<=3583||u>=3840&&u<=4255||Hr.Khmer(u))}function Zc(u){for(const a of u)if(Jl(a.charCodeAt(0)))return!0;return!1}const fa=new class{constructor(){this.applyArabicShaping=null,this.processBidirectionalText=null,this.processStyledBidirectionalText=null,this.pluginStatus="unavailable",this.pluginURL=null}setState(u){this.pluginStatus=u.pluginStatus,this.pluginURL=u.pluginURL}getState(){return{pluginStatus:this.pluginStatus,pluginURL:this.pluginURL}}setMethods(u){this.applyArabicShaping=u.applyArabicShaping,this.processBidirectionalText=u.processBidirectionalText,this.processStyledBidirectionalText=u.processStyledBidirectionalText}isParsed(){return this.applyArabicShaping!=null&&this.processBidirectionalText!=null&&this.processStyledBidirectionalText!=null}getPluginURL(){return this.pluginURL}getRTLTextPluginStatus(){return this.pluginStatus}};class pn{constructor(a,d){this.zoom=a,d?(this.now=d.now,this.fadeDuration=d.fadeDuration,this.zoomHistory=d.zoomHistory,this.transition=d.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Wo,this.transition={})}isSupportedScript(a){return(function(d,g){for(const B of d)if(!NA(B.charCodeAt(0),g))return!1;return!0})(a,fa.getRTLTextPluginStatus()==="loaded")}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const a=this.zoom,d=a-Math.floor(a),g=this.crossFadingFactor();return a>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:d+(1-d)*g}:{fromScale:.5,toScale:1,t:1-(1-g)*d}}}class eA{constructor(a,d){this.property=a,this.value=d,this.expression=(function(g,B){if(Wl(g))return new ds(g,B);if(fs(g)){const E=Oi(g,B);if(E.result==="error")throw new Error(E.value.map((I=>`${I.key}: ${I.message}`)).join(", "));return E.value}{let E=g;return B.type==="color"&&typeof g=="string"?E=wn.parse(g):B.type!=="padding"||typeof g!="number"&&!Array.isArray(g)?B.type==="variableAnchorOffsetCollection"&&Array.isArray(g)&&(E=Za.parse(g)):E=Mi.parse(g),{kind:"constant",evaluate:()=>E}}})(d===void 0?a.specification.default:d,a.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(a,d,g){return this.property.possiblyEvaluate(this,a,d,g)}}class vc{constructor(a){this.property=a,this.value=new eA(a,void 0)}transitioned(a,d){return new xf(this.property,this.value,d,Be({},a.transition,this.transition),a.now)}untransitioned(){return new xf(this.property,this.value,null,{},0)}}class Wc{constructor(a){this._properties=a,this._values=Object.create(a.defaultTransitionablePropertyValues)}getValue(a){return se(this._values[a].value.value)}setValue(a,d){Object.prototype.hasOwnProperty.call(this._values,a)||(this._values[a]=new vc(this._values[a].property)),this._values[a].value=new eA(this._values[a].property,d===null?void 0:se(d))}getTransition(a){return se(this._values[a].transition)}setTransition(a,d){Object.prototype.hasOwnProperty.call(this._values,a)||(this._values[a]=new vc(this._values[a].property)),this._values[a].transition=se(d)||void 0}serialize(){const a={};for(const d of Object.keys(this._values)){const g=this.getValue(d);g!==void 0&&(a[d]=g);const B=this.getTransition(d);B!==void 0&&(a[`${d}-transition`]=B)}return a}transitioned(a,d){const g=new _c(this._properties);for(const B of Object.keys(this._values))g._values[B]=this._values[B].transitioned(a,d._values[B]);return g}untransitioned(){const a=new _c(this._properties);for(const d of Object.keys(this._values))a._values[d]=this._values[d].untransitioned();return a}}class xf{constructor(a,d,g,B,E){this.property=a,this.value=d,this.begin=E+B.delay||0,this.end=this.begin+B.duration||0,a.specification.transition&&(B.delay||B.duration)&&(this.prior=g)}possiblyEvaluate(a,d,g){const B=a.now||0,E=this.value.possiblyEvaluate(a,d,g),I=this.prior;if(I){if(B>this.end)return this.prior=null,E;if(this.value.isDataDriven())return this.prior=null,E;if(B<this.begin)return I.possiblyEvaluate(a,d,g);{const O=(B-this.begin)/(this.end-this.begin);return this.property.interpolate(I.possiblyEvaluate(a,d,g),E,(function(R){if(R<=0)return 0;if(R>=1)return 1;const q=R*R,Z=q*R;return 4*(R<.5?Z:3*(R-q)+Z-.75)})(O))}}return E}}class _c{constructor(a){this._properties=a,this._values=Object.create(a.defaultTransitioningPropertyValues)}possiblyEvaluate(a,d,g){const B=new tA(this._properties);for(const E of Object.keys(this._values))B._values[E]=this._values[E].possiblyEvaluate(a,d,g);return B}hasTransition(){for(const a of Object.keys(this._values))if(this._values[a].prior)return!0;return!1}}class wi{constructor(a){this._properties=a,this._values=Object.create(a.defaultPropertyValues)}hasValue(a){return this._values[a].value!==void 0}getValue(a){return se(this._values[a].value)}setValue(a,d){this._values[a]=new eA(this._values[a].property,d===null?void 0:se(d))}serialize(){const a={};for(const d of Object.keys(this._values)){const g=this.getValue(d);g!==void 0&&(a[d]=g)}return a}possiblyEvaluate(a,d,g){const B=new tA(this._properties);for(const E of Object.keys(this._values))B._values[E]=this._values[E].possiblyEvaluate(a,d,g);return B}}class ys{constructor(a,d,g){this.property=a,this.value=d,this.parameters=g}isConstant(){return this.value.kind==="constant"}constantOr(a){return this.value.kind==="constant"?this.value.value:a}evaluate(a,d,g,B){return this.property.evaluate(this.value,this.parameters,a,d,g,B)}}class tA{constructor(a){this._properties=a,this._values=Object.create(a.defaultPossiblyEvaluatedValues)}get(a){return this._values[a]}}class lr{constructor(a){this.specification=a}possiblyEvaluate(a,d){if(a.isDataDriven())throw new Error("Value should not be data driven");return a.expression.evaluate(d)}interpolate(a,d,g){const B=ua[this.specification.type];return B?B(a,d,g):a}}class Cr{constructor(a,d){this.specification=a,this.overrides=d}possiblyEvaluate(a,d,g,B){return new ys(this,a.expression.kind==="constant"||a.expression.kind==="camera"?{kind:"constant",value:a.expression.evaluate(d,null,{},g,B)}:a.expression,d)}interpolate(a,d,g){if(a.value.kind!=="constant"||d.value.kind!=="constant")return a;if(a.value.value===void 0||d.value.value===void 0)return new ys(this,{kind:"constant",value:void 0},a.parameters);const B=ua[this.specification.type];if(B){const E=B(a.value.value,d.value.value,g);return new ys(this,{kind:"constant",value:E},a.parameters)}return a}evaluate(a,d,g,B,E,I){return a.kind==="constant"?a.value:a.evaluate(d,g,B,E,I)}}class U extends Cr{possiblyEvaluate(a,d,g,B){if(a.value===void 0)return new ys(this,{kind:"constant",value:void 0},d);if(a.expression.kind==="constant"){const E=a.expression.evaluate(d,null,{},g,B),I=a.property.specification.type==="resolvedImage"&&typeof E!="string"?E.name:E,O=this._calculate(I,I,I,d);return new ys(this,{kind:"constant",value:O},d)}if(a.expression.kind==="camera"){const E=this._calculate(a.expression.evaluate({zoom:d.zoom-1}),a.expression.evaluate({zoom:d.zoom}),a.expression.evaluate({zoom:d.zoom+1}),d);return new ys(this,{kind:"constant",value:E},d)}return new ys(this,a.expression,d)}evaluate(a,d,g,B,E,I){if(a.kind==="source"){const O=a.evaluate(d,g,B,E,I);return this._calculate(O,O,O,d)}return a.kind==="composite"?this._calculate(a.evaluate({zoom:Math.floor(d.zoom)-1},g,B),a.evaluate({zoom:Math.floor(d.zoom)},g,B),a.evaluate({zoom:Math.floor(d.zoom)+1},g,B),d):a.value}_calculate(a,d,g,B){return B.zoom>B.zoomHistory.lastIntegerZoom?{from:a,to:d}:{from:g,to:d}}interpolate(a){return a}}class D{constructor(a){this.specification=a}possiblyEvaluate(a,d,g,B){if(a.value!==void 0){if(a.expression.kind==="constant"){const E=a.expression.evaluate(d,null,{},g,B);return this._calculate(E,E,E,d)}return this._calculate(a.expression.evaluate(new pn(Math.floor(d.zoom-1),d)),a.expression.evaluate(new pn(Math.floor(d.zoom),d)),a.expression.evaluate(new pn(Math.floor(d.zoom+1),d)),d)}}_calculate(a,d,g,B){return B.zoom>B.zoomHistory.lastIntegerZoom?{from:a,to:d}:{from:g,to:d}}interpolate(a){return a}}class X{constructor(a){this.specification=a}possiblyEvaluate(a,d,g,B){return!!a.expression.evaluate(d,null,{},g,B)}interpolate(){return!1}}class _{constructor(a){this.properties=a,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const d in a){const g=a[d];g.specification.overridable&&this.overridableProperties.push(d);const B=this.defaultPropertyValues[d]=new eA(g,void 0),E=this.defaultTransitionablePropertyValues[d]=new vc(g);this.defaultTransitioningPropertyValues[d]=E.untransitioned(),this.defaultPossiblyEvaluatedValues[d]=B.possiblyEvaluate({})}}}Rt("DataDrivenProperty",Cr),Rt("DataConstantProperty",lr),Rt("CrossFadedDataDrivenProperty",U),Rt("CrossFadedProperty",D),Rt("ColorRampProperty",X);const i="-transition";class h extends Pe{constructor(a,d){if(super(),this.id=a.id,this.type=a.type,this._featureFilter={filter:()=>!0,needGeometry:!1},a.type!=="custom"&&(this.metadata=a.metadata,this.minzoom=a.minzoom,this.maxzoom=a.maxzoom,a.type!=="background"&&(this.source=a.source,this.sourceLayer=a["source-layer"],this.filter=a.filter),d.layout&&(this._unevaluatedLayout=new wi(d.layout)),d.paint)){this._transitionablePaint=new Wc(d.paint);for(const g in a.paint)this.setPaintProperty(g,a.paint[g],{validate:!1});for(const g in a.layout)this.setLayoutProperty(g,a.layout[g],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new tA(d.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(a){return a==="visibility"?this.visibility:this._unevaluatedLayout.getValue(a)}setLayoutProperty(a,d,g={}){d!=null&&this._validate(yc,`layers.${this.id}.layout.${a}`,a,d,g)||(a!=="visibility"?this._unevaluatedLayout.setValue(a,d):this.visibility=d)}getPaintProperty(a){return a.endsWith(i)?this._transitionablePaint.getTransition(a.slice(0,-11)):this._transitionablePaint.getValue(a)}setPaintProperty(a,d,g={}){if(d!=null&&this._validate(Gc,`layers.${this.id}.paint.${a}`,a,d,g))return!1;if(a.endsWith(i))return this._transitionablePaint.setTransition(a.slice(0,-11),d||void 0),!1;{const B=this._transitionablePaint._values[a],E=B.property.specification["property-type"]==="cross-faded-data-driven",I=B.value.isDataDriven(),O=B.value;this._transitionablePaint.setValue(a,d),this._handleSpecialPaintPropertyUpdate(a);const R=this._transitionablePaint._values[a].value;return R.isDataDriven()||I||E||this._handleOverridablePaintPropertyUpdate(a,O,R)}}_handleSpecialPaintPropertyUpdate(a){}_handleOverridablePaintPropertyUpdate(a,d,g){return!1}isHidden(a){return!!(this.minzoom&&a<this.minzoom)||!!(this.maxzoom&&a>=this.maxzoom)||this.visibility==="none"}updateTransitions(a){this._transitioningPaint=this._transitionablePaint.transitioned(a,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(a,d){a.getCrossfadeParameters&&(this._crossfadeParameters=a.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(a,void 0,d)),this.paint=this._transitioningPaint.possiblyEvaluate(a,void 0,d)}serialize(){const a={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(a.layout=a.layout||{},a.layout.visibility=this.visibility),He(a,((d,g)=>!(d===void 0||g==="layout"&&!Object.keys(d).length||g==="paint"&&!Object.keys(d).length)))}_validate(a,d,g,B,E={}){return(!E||E.validate!==!1)&&$c(this,a.call(Fa,{key:d,layerType:this.type,objectKey:g,value:B,styleSpec:Ye,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const a in this.paint._values){const d=this.paint.get(a);if(d instanceof ys&&hs(d.property.specification)&&(d.value.kind==="source"||d.value.kind==="composite")&&d.value.isStateDependent)return!0}return!1}}const p={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class v{constructor(a,d){this._structArray=a,this._pos1=d*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class x{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(a,d){return a._trim(),d&&(a.isTransferred=!0,d.push(a.arrayBuffer)),{length:a.length,arrayBuffer:a.arrayBuffer}}static deserialize(a){const d=Object.create(this.prototype);return d.arrayBuffer=a.arrayBuffer,d.length=a.length,d.capacity=a.arrayBuffer.byteLength/d.bytesPerElement,d._refreshViews(),d}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(a){this.reserve(a),this.length=a}reserve(a){if(a>this.capacity){this.capacity=Math.max(a,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const d=this.uint8;this._refreshViews(),d&&this.uint8.set(d)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function L(u,a=1){let d=0,g=0;return{members:u.map((B=>{const E=p[B.type].BYTES_PER_ELEMENT,I=d=M(d,Math.max(a,E)),O=B.components||1;return g=Math.max(g,E),d+=E*O,{name:B.name,type:B.type,components:O,offset:I}})),size:M(d,Math.max(g,a)),alignment:a}}function M(u,a){return Math.ceil(u/a)*a}class N extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,d){const g=this.length;return this.resize(g+1),this.emplace(g,a,d)}emplace(a,d,g){const B=2*a;return this.int16[B+0]=d,this.int16[B+1]=g,a}}N.prototype.bytesPerElement=4,Rt("StructArrayLayout2i4",N);class Q extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,d,g){const B=this.length;return this.resize(B+1),this.emplace(B,a,d,g)}emplace(a,d,g,B){const E=3*a;return this.int16[E+0]=d,this.int16[E+1]=g,this.int16[E+2]=B,a}}Q.prototype.bytesPerElement=6,Rt("StructArrayLayout3i6",Q);class G extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,d,g,B){const E=this.length;return this.resize(E+1),this.emplace(E,a,d,g,B)}emplace(a,d,g,B,E){const I=4*a;return this.int16[I+0]=d,this.int16[I+1]=g,this.int16[I+2]=B,this.int16[I+3]=E,a}}G.prototype.bytesPerElement=8,Rt("StructArrayLayout4i8",G);class $ extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,d,g,B,E,I){const O=this.length;return this.resize(O+1),this.emplace(O,a,d,g,B,E,I)}emplace(a,d,g,B,E,I,O){const R=6*a;return this.int16[R+0]=d,this.int16[R+1]=g,this.int16[R+2]=B,this.int16[R+3]=E,this.int16[R+4]=I,this.int16[R+5]=O,a}}$.prototype.bytesPerElement=12,Rt("StructArrayLayout2i4i12",$);class ee extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,d,g,B,E,I){const O=this.length;return this.resize(O+1),this.emplace(O,a,d,g,B,E,I)}emplace(a,d,g,B,E,I,O){const R=4*a,q=8*a;return this.int16[R+0]=d,this.int16[R+1]=g,this.uint8[q+4]=B,this.uint8[q+5]=E,this.uint8[q+6]=I,this.uint8[q+7]=O,a}}ee.prototype.bytesPerElement=8,Rt("StructArrayLayout2i4ub8",ee);class ne extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,d){const g=this.length;return this.resize(g+1),this.emplace(g,a,d)}emplace(a,d,g){const B=2*a;return this.float32[B+0]=d,this.float32[B+1]=g,a}}ne.prototype.bytesPerElement=8,Rt("StructArrayLayout2f8",ne);class ce extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,d,g,B,E,I,O,R,q,Z){const J=this.length;return this.resize(J+1),this.emplace(J,a,d,g,B,E,I,O,R,q,Z)}emplace(a,d,g,B,E,I,O,R,q,Z,J){const oe=10*a;return this.uint16[oe+0]=d,this.uint16[oe+1]=g,this.uint16[oe+2]=B,this.uint16[oe+3]=E,this.uint16[oe+4]=I,this.uint16[oe+5]=O,this.uint16[oe+6]=R,this.uint16[oe+7]=q,this.uint16[oe+8]=Z,this.uint16[oe+9]=J,a}}ce.prototype.bytesPerElement=20,Rt("StructArrayLayout10ui20",ce);class ge extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,d,g,B,E,I,O,R,q,Z,J,oe){const he=this.length;return this.resize(he+1),this.emplace(he,a,d,g,B,E,I,O,R,q,Z,J,oe)}emplace(a,d,g,B,E,I,O,R,q,Z,J,oe,he){const ve=12*a;return this.int16[ve+0]=d,this.int16[ve+1]=g,this.int16[ve+2]=B,this.int16[ve+3]=E,this.uint16[ve+4]=I,this.uint16[ve+5]=O,this.uint16[ve+6]=R,this.uint16[ve+7]=q,this.int16[ve+8]=Z,this.int16[ve+9]=J,this.int16[ve+10]=oe,this.int16[ve+11]=he,a}}ge.prototype.bytesPerElement=24,Rt("StructArrayLayout4i4ui4i24",ge);class Se extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,d,g){const B=this.length;return this.resize(B+1),this.emplace(B,a,d,g)}emplace(a,d,g,B){const E=3*a;return this.float32[E+0]=d,this.float32[E+1]=g,this.float32[E+2]=B,a}}Se.prototype.bytesPerElement=12,Rt("StructArrayLayout3f12",Se);class xe extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(a){const d=this.length;return this.resize(d+1),this.emplace(d,a)}emplace(a,d){return this.uint32[1*a+0]=d,a}}xe.prototype.bytesPerElement=4,Rt("StructArrayLayout1ul4",xe);class Qe extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,d,g,B,E,I,O,R,q){const Z=this.length;return this.resize(Z+1),this.emplace(Z,a,d,g,B,E,I,O,R,q)}emplace(a,d,g,B,E,I,O,R,q,Z){const J=10*a,oe=5*a;return this.int16[J+0]=d,this.int16[J+1]=g,this.int16[J+2]=B,this.int16[J+3]=E,this.int16[J+4]=I,this.int16[J+5]=O,this.uint32[oe+3]=R,this.uint16[J+8]=q,this.uint16[J+9]=Z,a}}Qe.prototype.bytesPerElement=20,Rt("StructArrayLayout6i1ul2ui20",Qe);class Te extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,d,g,B,E,I){const O=this.length;return this.resize(O+1),this.emplace(O,a,d,g,B,E,I)}emplace(a,d,g,B,E,I,O){const R=6*a;return this.int16[R+0]=d,this.int16[R+1]=g,this.int16[R+2]=B,this.int16[R+3]=E,this.int16[R+4]=I,this.int16[R+5]=O,a}}Te.prototype.bytesPerElement=12,Rt("StructArrayLayout2i2i2i12",Te);class Xe extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,d,g,B,E){const I=this.length;return this.resize(I+1),this.emplace(I,a,d,g,B,E)}emplace(a,d,g,B,E,I){const O=4*a,R=8*a;return this.float32[O+0]=d,this.float32[O+1]=g,this.float32[O+2]=B,this.int16[R+6]=E,this.int16[R+7]=I,a}}Xe.prototype.bytesPerElement=16,Rt("StructArrayLayout2f1f2i16",Xe);class Ge extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,d,g,B,E,I){const O=this.length;return this.resize(O+1),this.emplace(O,a,d,g,B,E,I)}emplace(a,d,g,B,E,I,O){const R=16*a,q=4*a,Z=8*a;return this.uint8[R+0]=d,this.uint8[R+1]=g,this.float32[q+1]=B,this.float32[q+2]=E,this.int16[Z+6]=I,this.int16[Z+7]=O,a}}Ge.prototype.bytesPerElement=16,Rt("StructArrayLayout2ub2f2i16",Ge);class at extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,d,g){const B=this.length;return this.resize(B+1),this.emplace(B,a,d,g)}emplace(a,d,g,B){const E=3*a;return this.uint16[E+0]=d,this.uint16[E+1]=g,this.uint16[E+2]=B,a}}at.prototype.bytesPerElement=6,Rt("StructArrayLayout3ui6",at);class wt extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,d,g,B,E,I,O,R,q,Z,J,oe,he,ve,Ce,je,Ze){const ht=this.length;return this.resize(ht+1),this.emplace(ht,a,d,g,B,E,I,O,R,q,Z,J,oe,he,ve,Ce,je,Ze)}emplace(a,d,g,B,E,I,O,R,q,Z,J,oe,he,ve,Ce,je,Ze,ht){const it=24*a,At=12*a,Bt=48*a;return this.int16[it+0]=d,this.int16[it+1]=g,this.uint16[it+2]=B,this.uint16[it+3]=E,this.uint32[At+2]=I,this.uint32[At+3]=O,this.uint32[At+4]=R,this.uint16[it+10]=q,this.uint16[it+11]=Z,this.uint16[it+12]=J,this.float32[At+7]=oe,this.float32[At+8]=he,this.uint8[Bt+36]=ve,this.uint8[Bt+37]=Ce,this.uint8[Bt+38]=je,this.uint32[At+10]=Ze,this.int16[it+22]=ht,a}}wt.prototype.bytesPerElement=48,Rt("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",wt);class St extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,d,g,B,E,I,O,R,q,Z,J,oe,he,ve,Ce,je,Ze,ht,it,At,Bt,Kt,er,kr,Wt,Yt,pr,Ar){const ir=this.length;return this.resize(ir+1),this.emplace(ir,a,d,g,B,E,I,O,R,q,Z,J,oe,he,ve,Ce,je,Ze,ht,it,At,Bt,Kt,er,kr,Wt,Yt,pr,Ar)}emplace(a,d,g,B,E,I,O,R,q,Z,J,oe,he,ve,Ce,je,Ze,ht,it,At,Bt,Kt,er,kr,Wt,Yt,pr,Ar,ir){const Ut=32*a,ar=16*a;return this.int16[Ut+0]=d,this.int16[Ut+1]=g,this.int16[Ut+2]=B,this.int16[Ut+3]=E,this.int16[Ut+4]=I,this.int16[Ut+5]=O,this.int16[Ut+6]=R,this.int16[Ut+7]=q,this.uint16[Ut+8]=Z,this.uint16[Ut+9]=J,this.uint16[Ut+10]=oe,this.uint16[Ut+11]=he,this.uint16[Ut+12]=ve,this.uint16[Ut+13]=Ce,this.uint16[Ut+14]=je,this.uint16[Ut+15]=Ze,this.uint16[Ut+16]=ht,this.uint16[Ut+17]=it,this.uint16[Ut+18]=At,this.uint16[Ut+19]=Bt,this.uint16[Ut+20]=Kt,this.uint16[Ut+21]=er,this.uint16[Ut+22]=kr,this.uint32[ar+12]=Wt,this.float32[ar+13]=Yt,this.float32[ar+14]=pr,this.uint16[Ut+30]=Ar,this.uint16[Ut+31]=ir,a}}St.prototype.bytesPerElement=64,Rt("StructArrayLayout8i15ui1ul2f2ui64",St);class _t extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a){const d=this.length;return this.resize(d+1),this.emplace(d,a)}emplace(a,d){return this.float32[1*a+0]=d,a}}_t.prototype.bytesPerElement=4,Rt("StructArrayLayout1f4",_t);class gt extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,d,g){const B=this.length;return this.resize(B+1),this.emplace(B,a,d,g)}emplace(a,d,g,B){const E=3*a;return this.uint16[6*a+0]=d,this.float32[E+1]=g,this.float32[E+2]=B,a}}gt.prototype.bytesPerElement=12,Rt("StructArrayLayout1ui2f12",gt);class Nt extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,d,g){const B=this.length;return this.resize(B+1),this.emplace(B,a,d,g)}emplace(a,d,g,B){const E=4*a;return this.uint32[2*a+0]=d,this.uint16[E+2]=g,this.uint16[E+3]=B,a}}Nt.prototype.bytesPerElement=8,Rt("StructArrayLayout1ul2ui8",Nt);class Et extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,d){const g=this.length;return this.resize(g+1),this.emplace(g,a,d)}emplace(a,d,g){const B=2*a;return this.uint16[B+0]=d,this.uint16[B+1]=g,a}}Et.prototype.bytesPerElement=4,Rt("StructArrayLayout2ui4",Et);class zt extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a){const d=this.length;return this.resize(d+1),this.emplace(d,a)}emplace(a,d){return this.uint16[1*a+0]=d,a}}zt.prototype.bytesPerElement=2,Rt("StructArrayLayout1ui2",zt);class tr extends x{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,d,g,B){const E=this.length;return this.resize(E+1),this.emplace(E,a,d,g,B)}emplace(a,d,g,B,E){const I=4*a;return this.float32[I+0]=d,this.float32[I+1]=g,this.float32[I+2]=B,this.float32[I+3]=E,a}}tr.prototype.bytesPerElement=16,Rt("StructArrayLayout4f16",tr);class Vt extends v{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new C(this.anchorPointX,this.anchorPointY)}}Vt.prototype.size=20;class $t extends Qe{get(a){return new Vt(this,a)}}Rt("CollisionBoxArray",$t);class rr extends v{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(a){this._structArray.uint8[this._pos1+37]=a}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(a){this._structArray.uint8[this._pos1+38]=a}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(a){this._structArray.uint32[this._pos4+10]=a}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}rr.prototype.size=48;class un extends wt{get(a){return new rr(this,a)}}Rt("PlacedSymbolArray",un);class Ir extends v{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(a){this._structArray.uint32[this._pos4+12]=a}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}Ir.prototype.size=64;class Ur extends St{get(a){return new Ir(this,a)}}Rt("SymbolInstanceArray",Ur);class wr extends _t{getoffsetX(a){return this.float32[1*a+0]}}Rt("GlyphOffsetArray",wr);class an extends Q{getx(a){return this.int16[3*a+0]}gety(a){return this.int16[3*a+1]}gettileUnitDistanceFromAnchor(a){return this.int16[3*a+2]}}Rt("SymbolLineVertexArray",an);class jn extends v{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}jn.prototype.size=12;class Dr extends gt{get(a){return new jn(this,a)}}Rt("TextAnchorOffsetArray",Dr);class qn extends v{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}qn.prototype.size=8;class In extends Nt{get(a){return new qn(this,a)}}Rt("FeatureIndexArray",In);class sn extends N{}class On extends N{}class Cn extends N{}class xi extends ${}class ki extends ee{}class Gn extends ne{}class fn extends ce{}class wa extends ge{}class Ti extends Se{}class gr extends xe{}class vr extends Te{}class xn extends Ge{}class Ii extends at{}class ni extends Et{}const Wn=L([{name:"a_pos",components:2,type:"Int16"}],4),{members:$n}=Wn;class cn{constructor(a=[]){this.segments=a}prepareSegment(a,d,g,B){let E=this.segments[this.segments.length-1];return a>cn.MAX_VERTEX_ARRAY_LENGTH&&Le(`Max vertices per segment is ${cn.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${a}`),(!E||E.vertexLength+a>cn.MAX_VERTEX_ARRAY_LENGTH||E.sortKey!==B)&&(E={vertexOffset:d.length,primitiveOffset:g.length,vertexLength:0,primitiveLength:0},B!==void 0&&(E.sortKey=B),this.segments.push(E)),E}get(){return this.segments}destroy(){for(const a of this.segments)for(const d in a.vaos)a.vaos[d].destroy()}static simpleSegment(a,d,g,B){return new cn([{vertexOffset:a,primitiveOffset:d,vertexLength:g,primitiveLength:B,vaos:{},sortKey:0}])}}function Rs(u,a){return 256*(u=Ae(Math.floor(u),0,255))+Ae(Math.floor(a),0,255)}cn.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Rt("SegmentVector",cn);const rA=L([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var Zn={exports:{}},Yc={exports:{}};Yc.exports=function(u,a){var d,g,B,E,I,O,R,q;for(g=u.length-(d=3&u.length),B=a,I=3432918353,O=461845907,q=0;q<g;)R=255&u.charCodeAt(q)|(255&u.charCodeAt(++q))<<8|(255&u.charCodeAt(++q))<<16|(255&u.charCodeAt(++q))<<24,++q,B=27492+(65535&(E=5*(65535&(B=(B^=R=(65535&(R=(R=(65535&R)*I+(((R>>>16)*I&65535)<<16)&4294967295)<<15|R>>>17))*O+(((R>>>16)*O&65535)<<16)&4294967295)<<13|B>>>19))+((5*(B>>>16)&65535)<<16)&4294967295))+((58964+(E>>>16)&65535)<<16);switch(R=0,d){case 3:R^=(255&u.charCodeAt(q+2))<<16;case 2:R^=(255&u.charCodeAt(q+1))<<8;case 1:B^=R=(65535&(R=(R=(65535&(R^=255&u.charCodeAt(q)))*I+(((R>>>16)*I&65535)<<16)&4294967295)<<15|R>>>17))*O+(((R>>>16)*O&65535)<<16)&4294967295}return B^=u.length,B=2246822507*(65535&(B^=B>>>16))+((2246822507*(B>>>16)&65535)<<16)&4294967295,B=3266489909*(65535&(B^=B>>>13))+((3266489909*(B>>>16)&65535)<<16)&4294967295,(B^=B>>>16)>>>0};var Uh=Yc.exports,bc={exports:{}};bc.exports=function(u,a){for(var d,g=u.length,B=a^g,E=0;g>=4;)d=1540483477*(65535&(d=255&u.charCodeAt(E)|(255&u.charCodeAt(++E))<<8|(255&u.charCodeAt(++E))<<16|(255&u.charCodeAt(++E))<<24))+((1540483477*(d>>>16)&65535)<<16),B=1540483477*(65535&B)+((1540483477*(B>>>16)&65535)<<16)^(d=1540483477*(65535&(d^=d>>>24))+((1540483477*(d>>>16)&65535)<<16)),g-=4,++E;switch(g){case 3:B^=(255&u.charCodeAt(E+2))<<16;case 2:B^=(255&u.charCodeAt(E+1))<<8;case 1:B=1540483477*(65535&(B^=255&u.charCodeAt(E)))+((1540483477*(B>>>16)&65535)<<16)}return B=1540483477*(65535&(B^=B>>>13))+((1540483477*(B>>>16)&65535)<<16),(B^=B>>>15)>>>0};var Ja=Uh,Bf=bc.exports;Zn.exports=Ja,Zn.exports.murmur3=Ja,Zn.exports.murmur2=Bf;var Qu=y(Zn.exports);class uu{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(a,d,g,B){this.ids.push(cu(a)),this.positions.push(d,g,B)}getPositions(a){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const d=cu(a);let g=0,B=this.ids.length-1;for(;g<B;){const I=g+B>>1;this.ids[I]>=d?B=I:g=I+1}const E=[];for(;this.ids[g]===d;)E.push({index:this.positions[3*g],start:this.positions[3*g+1],end:this.positions[3*g+2]}),g++;return E}static serialize(a,d){const g=new Float64Array(a.ids),B=new Uint32Array(a.positions);return ta(g,B,0,g.length-1),d&&d.push(g.buffer,B.buffer),{ids:g,positions:B}}static deserialize(a){const d=new uu;return d.ids=a.ids,d.positions=a.positions,d.indexed=!0,d}}function cu(u){const a=+u;return!isNaN(a)&&a<=Number.MAX_SAFE_INTEGER?a:Qu(String(u))}function ta(u,a,d,g){for(;d<g;){const B=u[d+g>>1];let E=d-1,I=g+1;for(;;){do E++;while(u[E]<B);do I--;while(u[I]>B);if(E>=I)break;li(u,E,I),li(a,3*E,3*I),li(a,3*E+1,3*I+1),li(a,3*E+2,3*I+2)}I-d<g-I?(ta(u,a,d,I),d=I+1):(ta(u,a,I+1,g),g=I)}}function li(u,a,d){const g=u[a];u[a]=u[d],u[d]=g}Rt("FeaturePositionMap",uu);class nA{constructor(a,d){this.gl=a.gl,this.location=d}}class iA extends nA{constructor(a,d){super(a,d),this.current=0}set(a){this.current!==a&&(this.current=a,this.gl.uniform1f(this.location,a))}}class wc extends nA{constructor(a,d){super(a,d),this.current=[0,0,0,0]}set(a){a[0]===this.current[0]&&a[1]===this.current[1]&&a[2]===this.current[2]&&a[3]===this.current[3]||(this.current=a,this.gl.uniform4f(this.location,a[0],a[1],a[2],a[3]))}}class Ru extends nA{constructor(a,d){super(a,d),this.current=wn.transparent}set(a){a.r===this.current.r&&a.g===this.current.g&&a.b===this.current.b&&a.a===this.current.a||(this.current=a,this.gl.uniform4f(this.location,a.r,a.g,a.b,a.a))}}const QA=new Float32Array(16);function Jc(u){return[Rs(255*u.r,255*u.g),Rs(255*u.b,255*u.a)]}class RA{constructor(a,d,g){this.value=a,this.uniformNames=d.map((B=>`u_${B}`)),this.type=g}setUniform(a,d,g){a.set(g.constantOr(this.value))}getBinding(a,d,g){return this.type==="color"?new Ru(a,d):new iA(a,d)}}class hu{constructor(a,d){this.uniformNames=d.map((g=>`u_${g}`)),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(a,d){this.pixelRatioFrom=d.pixelRatio,this.pixelRatioTo=a.pixelRatio,this.patternFrom=d.tlbr,this.patternTo=a.tlbr}setUniform(a,d,g,B){const E=B==="u_pattern_to"?this.patternTo:B==="u_pattern_from"?this.patternFrom:B==="u_pixel_ratio_to"?this.pixelRatioTo:B==="u_pixel_ratio_from"?this.pixelRatioFrom:null;E&&a.set(E)}getBinding(a,d,g){return g.substr(0,9)==="u_pattern"?new wc(a,d):new iA(a,d)}}class Cl{constructor(a,d,g,B){this.expression=a,this.type=g,this.maxValue=0,this.paintVertexAttributes=d.map((E=>({name:`a_${E}`,type:"Float32",components:g==="color"?2:1,offset:0}))),this.paintVertexArray=new B}populatePaintArray(a,d,g,B,E){const I=this.paintVertexArray.length,O=this.expression.evaluate(new pn(0),d,{},B,[],E);this.paintVertexArray.resize(a),this._setPaintValue(I,a,O)}updatePaintArray(a,d,g,B){const E=this.expression.evaluate({zoom:0},g,B);this._setPaintValue(a,d,E)}_setPaintValue(a,d,g){if(this.type==="color"){const B=Jc(g);for(let E=a;E<d;E++)this.paintVertexArray.emplace(E,B[0],B[1])}else{for(let B=a;B<d;B++)this.paintVertexArray.emplace(B,g);this.maxValue=Math.max(this.maxValue,Math.abs(g))}}upload(a){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=a.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class qa{constructor(a,d,g,B,E,I){this.expression=a,this.uniformNames=d.map((O=>`u_${O}_t`)),this.type=g,this.useIntegerZoom=B,this.zoom=E,this.maxValue=0,this.paintVertexAttributes=d.map((O=>({name:`a_${O}`,type:"Float32",components:g==="color"?4:2,offset:0}))),this.paintVertexArray=new I}populatePaintArray(a,d,g,B,E){const I=this.expression.evaluate(new pn(this.zoom),d,{},B,[],E),O=this.expression.evaluate(new pn(this.zoom+1),d,{},B,[],E),R=this.paintVertexArray.length;this.paintVertexArray.resize(a),this._setPaintValue(R,a,I,O)}updatePaintArray(a,d,g,B){const E=this.expression.evaluate({zoom:this.zoom},g,B),I=this.expression.evaluate({zoom:this.zoom+1},g,B);this._setPaintValue(a,d,E,I)}_setPaintValue(a,d,g,B){if(this.type==="color"){const E=Jc(g),I=Jc(B);for(let O=a;O<d;O++)this.paintVertexArray.emplace(O,E[0],E[1],I[0],I[1])}else{for(let E=a;E<d;E++)this.paintVertexArray.emplace(E,g,B);this.maxValue=Math.max(this.maxValue,Math.abs(g),Math.abs(B))}}upload(a){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=a.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(a,d){const g=this.useIntegerZoom?Math.floor(d.zoom):d.zoom,B=Ae(this.expression.interpolationFactor(g,this.zoom,this.zoom+1),0,1);a.set(B)}getBinding(a,d,g){return new iA(a,d)}}class zA{constructor(a,d,g,B,E,I){this.expression=a,this.type=d,this.useIntegerZoom=g,this.zoom=B,this.layerId=I,this.zoomInPaintVertexArray=new E,this.zoomOutPaintVertexArray=new E}populatePaintArray(a,d,g){const B=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(a),this.zoomOutPaintVertexArray.resize(a),this._setPaintValues(B,a,d.patterns&&d.patterns[this.layerId],g)}updatePaintArray(a,d,g,B,E){this._setPaintValues(a,d,g.patterns&&g.patterns[this.layerId],E)}_setPaintValues(a,d,g,B){if(!B||!g)return;const{min:E,mid:I,max:O}=g,R=B[E],q=B[I],Z=B[O];if(R&&q&&Z)for(let J=a;J<d;J++)this.zoomInPaintVertexArray.emplace(J,q.tl[0],q.tl[1],q.br[0],q.br[1],R.tl[0],R.tl[1],R.br[0],R.br[1],q.pixelRatio,R.pixelRatio),this.zoomOutPaintVertexArray.emplace(J,q.tl[0],q.tl[1],q.br[0],q.br[1],Z.tl[0],Z.tl[1],Z.br[0],Z.br[1],q.pixelRatio,Z.pixelRatio)}upload(a){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=a.createVertexBuffer(this.zoomInPaintVertexArray,rA.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=a.createVertexBuffer(this.zoomOutPaintVertexArray,rA.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class Cf{constructor(a,d,g){this.binders={},this._buffers=[];const B=[];for(const E in a.paint._values){if(!g(E))continue;const I=a.paint.get(E);if(!(I instanceof ys&&hs(I.property.specification)))continue;const O=Ed(E,a.type),R=I.value,q=I.property.specification.type,Z=I.property.useIntegerZoom,J=I.property.specification["property-type"],oe=J==="cross-faded"||J==="cross-faded-data-driven";if(R.kind==="constant")this.binders[E]=oe?new hu(R.value,O):new RA(R.value,O,q),B.push(`/u_${E}`);else if(R.kind==="source"||oe){const he=fu(E,q,"source");this.binders[E]=oe?new zA(R,q,Z,d,he,a.id):new Cl(R,O,q,he),B.push(`/a_${E}`)}else{const he=fu(E,q,"composite");this.binders[E]=new qa(R,O,q,Z,d,he),B.push(`/z_${E}`)}}this.cacheKey=B.sort().join("")}getMaxValue(a){const d=this.binders[a];return d instanceof Cl||d instanceof qa?d.maxValue:0}populatePaintArrays(a,d,g,B,E){for(const I in this.binders){const O=this.binders[I];(O instanceof Cl||O instanceof qa||O instanceof zA)&&O.populatePaintArray(a,d,g,B,E)}}setConstantPatternPositions(a,d){for(const g in this.binders){const B=this.binders[g];B instanceof hu&&B.setConstantPatternPositions(a,d)}}updatePaintArrays(a,d,g,B,E){let I=!1;for(const O in a){const R=d.getPositions(O);for(const q of R){const Z=g.feature(q.index);for(const J in this.binders){const oe=this.binders[J];if((oe instanceof Cl||oe instanceof qa||oe instanceof zA)&&oe.expression.isStateDependent===!0){const he=B.paint.get(J);oe.expression=he.value,oe.updatePaintArray(q.start,q.end,Z,a[O],E),I=!0}}}}return I}defines(){const a=[];for(const d in this.binders){const g=this.binders[d];(g instanceof RA||g instanceof hu)&&a.push(...g.uniformNames.map((B=>`#define HAS_UNIFORM_${B}`)))}return a}getBinderAttributes(){const a=[];for(const d in this.binders){const g=this.binders[d];if(g instanceof Cl||g instanceof qa)for(let B=0;B<g.paintVertexAttributes.length;B++)a.push(g.paintVertexAttributes[B].name);else if(g instanceof zA)for(let B=0;B<rA.members.length;B++)a.push(rA.members[B].name)}return a}getBinderUniforms(){const a=[];for(const d in this.binders){const g=this.binders[d];if(g instanceof RA||g instanceof hu||g instanceof qa)for(const B of g.uniformNames)a.push(B)}return a}getPaintVertexBuffers(){return this._buffers}getUniforms(a,d){const g=[];for(const B in this.binders){const E=this.binders[B];if(E instanceof RA||E instanceof hu||E instanceof qa){for(const I of E.uniformNames)if(d[I]){const O=E.getBinding(a,d[I],I);g.push({name:I,property:B,binding:O})}}}return g}setUniforms(a,d,g,B){for(const{name:E,property:I,binding:O}of d)this.binders[I].setUniform(O,B,g.get(I),E)}updatePaintBuffers(a){this._buffers=[];for(const d in this.binders){const g=this.binders[d];if(a&&g instanceof zA){const B=a.fromScale===2?g.zoomInPaintVertexBuffer:g.zoomOutPaintVertexBuffer;B&&this._buffers.push(B)}else(g instanceof Cl||g instanceof qa)&&g.paintVertexBuffer&&this._buffers.push(g.paintVertexBuffer)}}upload(a){for(const d in this.binders){const g=this.binders[d];(g instanceof Cl||g instanceof qa||g instanceof zA)&&g.upload(a)}this.updatePaintBuffers()}destroy(){for(const a in this.binders){const d=this.binders[a];(d instanceof Cl||d instanceof qa||d instanceof zA)&&d.destroy()}}}class zu{constructor(a,d,g=(()=>!0)){this.programConfigurations={};for(const B of a)this.programConfigurations[B.id]=new Cf(B,d,g);this.needsUpload=!1,this._featureMap=new uu,this._bufferOffset=0}populatePaintArrays(a,d,g,B,E,I){for(const O in this.programConfigurations)this.programConfigurations[O].populatePaintArrays(a,d,B,E,I);d.id!==void 0&&this._featureMap.add(d.id,g,this._bufferOffset,a),this._bufferOffset=a,this.needsUpload=!0}updatePaintArrays(a,d,g,B){for(const E of g)this.needsUpload=this.programConfigurations[E.id].updatePaintArrays(a,this._featureMap,d,E,B)||this.needsUpload}get(a){return this.programConfigurations[a]}upload(a){if(this.needsUpload){for(const d in this.programConfigurations)this.programConfigurations[d].upload(a);this.needsUpload=!1}}destroy(){for(const a in this.programConfigurations)this.programConfigurations[a].destroy()}}function Ed(u,a){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[u]||[u.replace(`${a}-`,"").replace(/-/g,"_")]}function fu(u,a,d){const g={color:{source:ne,composite:tr},number:{source:_t,composite:ne}},B=(function(E){return{"line-pattern":{source:fn,composite:fn},"fill-pattern":{source:fn,composite:fn},"fill-extrusion-pattern":{source:fn,composite:fn}}[E]})(u);return B&&B[d]||g[a][d]}Rt("ConstantBinder",RA),Rt("CrossFadedConstantBinder",hu),Rt("SourceExpressionBinder",Cl),Rt("CrossFadedCompositeBinder",zA),Rt("CompositeExpressionBinder",qa),Rt("ProgramConfiguration",Cf,{omit:["_buffers"]}),Rt("ProgramConfigurationSet",zu);const ra=8192,Sf=Math.pow(2,14)-1,Td=-Sf-1;function du(u){const a=ra/u.extent,d=u.loadGeometry();for(let g=0;g<d.length;g++){const B=d[g];for(let E=0;E<B.length;E++){const I=B[E],O=Math.round(I.x*a),R=Math.round(I.y*a);I.x=Ae(O,Td,Sf),I.y=Ae(R,Td,Sf),(O<I.x||O>I.x+1||R<I.y||R>I.y+1)&&Le("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return d}function ju(u,a){return{type:u.type,id:u.id,properties:u.properties,geometry:a?du(u):[]}}function jA(u,a,d,g,B){u.emplaceBack(2*a+(g+1)/2,2*d+(B+1)/2)}class eh{constructor(a){this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map((d=>d.id)),this.index=a.index,this.hasPattern=!1,this.layoutVertexArray=new On,this.indexArray=new Ii,this.segments=new cn,this.programConfigurations=new zu(a.layers,a.zoom),this.stateDependentLayerIds=this.layers.filter((d=>d.isStateDependent())).map((d=>d.id))}populate(a,d,g){const B=this.layers[0],E=[];let I=null,O=!1;B.type==="circle"&&(I=B.layout.get("circle-sort-key"),O=!I.isConstant());for(const{feature:R,id:q,index:Z,sourceLayerIndex:J}of a){const oe=this.layers[0]._featureFilter.needGeometry,he=ju(R,oe);if(!this.layers[0]._featureFilter.filter(new pn(this.zoom),he,g))continue;const ve=O?I.evaluate(he,{},g):void 0,Ce={id:q,properties:R.properties,type:R.type,sourceLayerIndex:J,index:Z,geometry:oe?he.geometry:du(R),patterns:{},sortKey:ve};E.push(Ce)}O&&E.sort(((R,q)=>R.sortKey-q.sortKey));for(const R of E){const{geometry:q,index:Z,sourceLayerIndex:J}=R,oe=a[Z].feature;this.addFeature(R,q,Z,g),d.featureIndex.insert(oe,q,Z,J,this.index)}}update(a,d,g){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(a,d,this.stateDependentLayers,g)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(a){this.uploaded||(this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,$n),this.indexBuffer=a.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(a),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(a,d,g,B){for(const E of d)for(const I of E){const O=I.x,R=I.y;if(O<0||O>=ra||R<0||R>=ra)continue;const q=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,a.sortKey),Z=q.vertexLength;jA(this.layoutVertexArray,O,R,-1,-1),jA(this.layoutVertexArray,O,R,1,-1),jA(this.layoutVertexArray,O,R,1,1),jA(this.layoutVertexArray,O,R,-1,1),this.indexArray.emplaceBack(Z,Z+1,Z+2),this.indexArray.emplaceBack(Z,Z+3,Z+2),q.vertexLength+=4,q.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,a,g,{},B)}}function th(u,a){for(let d=0;d<u.length;d++)if(aA(a,u[d]))return!0;for(let d=0;d<a.length;d++)if(aA(u,a[d]))return!0;return!!rh(u,a)}function HA(u,a,d){return!!aA(u,a)||!!mu(a,u,d)}function KA(u,a){if(u.length===1)return xc(a,u[0]);for(let d=0;d<a.length;d++){const g=a[d];for(let B=0;B<g.length;B++)if(aA(u,g[B]))return!0}for(let d=0;d<u.length;d++)if(xc(a,u[d]))return!0;for(let d=0;d<a.length;d++)if(rh(u,a[d]))return!0;return!1}function pu(u,a,d){if(u.length>1){if(rh(u,a))return!0;for(let g=0;g<a.length;g++)if(mu(a[g],u,d))return!0}for(let g=0;g<u.length;g++)if(mu(u[g],a,d))return!0;return!1}function rh(u,a){if(u.length===0||a.length===0)return!1;for(let d=0;d<u.length-1;d++){const g=u[d],B=u[d+1];for(let E=0;E<a.length-1;E++)if(Ef(g,B,a[E],a[E+1]))return!0}return!1}function Ef(u,a,d,g){return Ue(u,d,g)!==Ue(a,d,g)&&Ue(u,a,d)!==Ue(u,a,g)}function mu(u,a,d){const g=d*d;if(a.length===1)return u.distSqr(a[0])<g;for(let B=1;B<a.length;B++)if(Id(u,a[B-1],a[B])<g)return!0;return!1}function Id(u,a,d){const g=a.distSqr(d);if(g===0)return u.distSqr(a);const B=((u.x-a.x)*(d.x-a.x)+(u.y-a.y)*(d.y-a.y))/g;return u.distSqr(B<0?a:B>1?d:d.sub(a)._mult(B)._add(a))}function xc(u,a){let d,g,B,E=!1;for(let I=0;I<u.length;I++){d=u[I];for(let O=0,R=d.length-1;O<d.length;R=O++)g=d[O],B=d[R],g.y>a.y!=B.y>a.y&&a.x<(B.x-g.x)*(a.y-g.y)/(B.y-g.y)+g.x&&(E=!E)}return E}function aA(u,a){let d=!1;for(let g=0,B=u.length-1;g<u.length;B=g++){const E=u[g],I=u[B];E.y>a.y!=I.y>a.y&&a.x<(I.x-E.x)*(a.y-E.y)/(I.y-E.y)+E.x&&(d=!d)}return d}function ky(u,a,d){const g=d[0],B=d[2];if(u.x<g.x&&a.x<g.x||u.x>B.x&&a.x>B.x||u.y<g.y&&a.y<g.y||u.y>B.y&&a.y>B.y)return!1;const E=Ue(u,a,d[0]);return E!==Ue(u,a,d[1])||E!==Ue(u,a,d[2])||E!==Ue(u,a,d[3])}function Mh(u,a,d){const g=a.paint.get(u).value;return g.kind==="constant"?g.value:d.programConfigurations.get(a.id).getMaxValue(u)}function Rp(u){return Math.sqrt(u[0]*u[0]+u[1]*u[1])}function Fd(u,a,d,g,B){if(!a[0]&&!a[1])return u;const E=C.convert(a)._mult(B);d==="viewport"&&E._rotate(-g);const I=[];for(let O=0;O<u.length;O++)I.push(u[O].sub(E));return I}let pg,mg;Rt("CircleBucket",eh,{omit:["layers"]});var Ny={get paint(){return mg=mg||new _({"circle-radius":new Cr(Ye.paint_circle["circle-radius"]),"circle-color":new Cr(Ye.paint_circle["circle-color"]),"circle-blur":new Cr(Ye.paint_circle["circle-blur"]),"circle-opacity":new Cr(Ye.paint_circle["circle-opacity"]),"circle-translate":new lr(Ye.paint_circle["circle-translate"]),"circle-translate-anchor":new lr(Ye.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new lr(Ye.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new lr(Ye.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Cr(Ye.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Cr(Ye.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Cr(Ye.paint_circle["circle-stroke-opacity"])})},get layout(){return pg=pg||new _({"circle-sort-key":new Cr(Ye.layout_circle["circle-sort-key"])})}},oo=1e-6,nh=typeof Float32Array<"u"?Float32Array:Array;function zp(u){return u[0]=1,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=1,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=1,u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u}function gg(u,a,d){var g=a[0],B=a[1],E=a[2],I=a[3],O=a[4],R=a[5],q=a[6],Z=a[7],J=a[8],oe=a[9],he=a[10],ve=a[11],Ce=a[12],je=a[13],Ze=a[14],ht=a[15],it=d[0],At=d[1],Bt=d[2],Kt=d[3];return u[0]=it*g+At*O+Bt*J+Kt*Ce,u[1]=it*B+At*R+Bt*oe+Kt*je,u[2]=it*E+At*q+Bt*he+Kt*Ze,u[3]=it*I+At*Z+Bt*ve+Kt*ht,u[4]=(it=d[4])*g+(At=d[5])*O+(Bt=d[6])*J+(Kt=d[7])*Ce,u[5]=it*B+At*R+Bt*oe+Kt*je,u[6]=it*E+At*q+Bt*he+Kt*Ze,u[7]=it*I+At*Z+Bt*ve+Kt*ht,u[8]=(it=d[8])*g+(At=d[9])*O+(Bt=d[10])*J+(Kt=d[11])*Ce,u[9]=it*B+At*R+Bt*oe+Kt*je,u[10]=it*E+At*q+Bt*he+Kt*Ze,u[11]=it*I+At*Z+Bt*ve+Kt*ht,u[12]=(it=d[12])*g+(At=d[13])*O+(Bt=d[14])*J+(Kt=d[15])*Ce,u[13]=it*B+At*R+Bt*oe+Kt*je,u[14]=it*E+At*q+Bt*he+Kt*Ze,u[15]=it*I+At*Z+Bt*ve+Kt*ht,u}Math.hypot||(Math.hypot=function(){for(var u=0,a=arguments.length;a--;)u+=arguments[a]*arguments[a];return Math.sqrt(u)});var Ph,Qy=gg;function Ld(u,a,d){var g=a[0],B=a[1],E=a[2],I=a[3];return u[0]=d[0]*g+d[4]*B+d[8]*E+d[12]*I,u[1]=d[1]*g+d[5]*B+d[9]*E+d[13]*I,u[2]=d[2]*g+d[6]*B+d[10]*E+d[14]*I,u[3]=d[3]*g+d[7]*B+d[11]*E+d[15]*I,u}Ph=new nh(4),nh!=Float32Array&&(Ph[0]=0,Ph[1]=0,Ph[2]=0,Ph[3]=0);class uw extends h{constructor(a){super(a,Ny)}createBucket(a){return new eh(a)}queryRadius(a){const d=a;return Mh("circle-radius",this,d)+Mh("circle-stroke-width",this,d)+Rp(this.paint.get("circle-translate"))}queryIntersectsFeature(a,d,g,B,E,I,O,R){const q=Fd(a,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),I.angle,O),Z=this.paint.get("circle-radius").evaluate(d,g)+this.paint.get("circle-stroke-width").evaluate(d,g),J=this.paint.get("circle-pitch-alignment")==="map",oe=J?q:(function(ve,Ce){return ve.map((je=>jp(je,Ce)))})(q,R),he=J?Z*O:Z;for(const ve of B)for(const Ce of ve){const je=J?Ce:jp(Ce,R);let Ze=he;const ht=Ld([],[Ce.x,Ce.y,0,1],R);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?Ze*=ht[3]/I.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(Ze*=I.cameraToCenterDistance/ht[3]),HA(oe,je,Ze))return!0}return!1}}function jp(u,a){const d=Ld([],[u.x,u.y,0,1],a);return new C(d[0]/d[3],d[1]/d[3])}class yg extends eh{}let vg;Rt("HeatmapBucket",yg,{omit:["layers"]});var _g={get paint(){return vg=vg||new _({"heatmap-radius":new Cr(Ye.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Cr(Ye.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new lr(Ye.paint_heatmap["heatmap-intensity"]),"heatmap-color":new X(Ye.paint_heatmap["heatmap-color"]),"heatmap-opacity":new lr(Ye.paint_heatmap["heatmap-opacity"])})}};function Hp(u,{width:a,height:d},g,B){if(B){if(B instanceof Uint8ClampedArray)B=new Uint8Array(B.buffer);else if(B.length!==a*d*g)throw new RangeError(`mismatched image size. expected: ${B.length} but got: ${a*d*g}`)}else B=new Uint8Array(a*d*g);return u.width=a,u.height=d,u.data=B,u}function bg(u,{width:a,height:d},g){if(a===u.width&&d===u.height)return;const B=Hp({},{width:a,height:d},g);wg(u,B,{x:0,y:0},{x:0,y:0},{width:Math.min(u.width,a),height:Math.min(u.height,d)},g),u.width=a,u.height=d,u.data=B.data}function wg(u,a,d,g,B,E){if(B.width===0||B.height===0)return a;if(B.width>u.width||B.height>u.height||d.x>u.width-B.width||d.y>u.height-B.height)throw new RangeError("out of range source coordinates for image copy");if(B.width>a.width||B.height>a.height||g.x>a.width-B.width||g.y>a.height-B.height)throw new RangeError("out of range destination coordinates for image copy");const I=u.data,O=a.data;if(I===O)throw new Error("srcData equals dstData, so image is already copied");for(let R=0;R<B.height;R++){const q=((d.y+R)*u.width+d.x)*E,Z=((g.y+R)*a.width+g.x)*E;for(let J=0;J<B.width*E;J++)O[Z+J]=I[q+J]}return a}class Ud{constructor(a,d){Hp(this,a,1,d)}resize(a){bg(this,a,1)}clone(){return new Ud({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(a,d,g,B,E){wg(a,d,g,B,E,1)}}class Sl{constructor(a,d){Hp(this,a,4,d)}resize(a){bg(this,a,4)}replace(a,d){d?this.data.set(a):this.data=a instanceof Uint8ClampedArray?new Uint8Array(a.buffer):a}clone(){return new Sl({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(a,d,g,B,E){wg(a,d,g,B,E,4)}}function Tf(u){const a={},d=u.resolution||256,g=u.clips?u.clips.length:1,B=u.image||new Sl({width:d,height:g});if(Math.log(d)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${d}`);const E=(I,O,R)=>{a[u.evaluationKey]=R;const q=u.expression.evaluate(a);B.data[I+O+0]=Math.floor(255*q.r/q.a),B.data[I+O+1]=Math.floor(255*q.g/q.a),B.data[I+O+2]=Math.floor(255*q.b/q.a),B.data[I+O+3]=Math.floor(255*q.a)};if(u.clips)for(let I=0,O=0;I<g;++I,O+=4*d)for(let R=0,q=0;R<d;R++,q+=4){const Z=R/(d-1),{start:J,end:oe}=u.clips[I];E(O,q,J*(1-Z)+oe*Z)}else for(let I=0,O=0;I<d;I++,O+=4)E(0,O,I/(d-1));return B}Rt("AlphaImage",Ud),Rt("RGBAImage",Sl);const Md="big-fb";class Kp extends h{createBucket(a){return new yg(a)}constructor(a){super(a,_g),this.heatmapFbos=new Map,this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(a){a==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=Tf({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbos.has(Md)&&this.heatmapFbos.delete(Md)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}}let xg;var Ry={get paint(){return xg=xg||new _({"hillshade-illumination-direction":new lr(Ye.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new lr(Ye.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new lr(Ye.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new lr(Ye.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new lr(Ye.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new lr(Ye.paint_hillshade["hillshade-accent-color"])})}};class Pd extends h{constructor(a){super(a,Ry)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}}const zy=L([{name:"a_pos",components:2,type:"Int16"}],4),{members:Bg}=zy;function Cg(u,a,d=2){const g=a&&a.length,B=g?a[0]*d:u.length;let E=Vp(u,0,B,d,!0);const I=[];if(!E||E.next===E.prev)return I;let O,R,q;if(g&&(E=(function(Z,J,oe,he){const ve=[];for(let Ce=0,je=J.length;Ce<je;Ce++){const Ze=Vp(Z,J[Ce]*he,Ce<je-1?J[Ce+1]*he:Z.length,he,!1);Ze===Ze.next&&(Ze.steiner=!0),ve.push(Gy(Ze))}ve.sort(Vy);for(let Ce=0;Ce<ve.length;Ce++)oe=qp(ve[Ce],oe);return oe})(u,a,E,d)),u.length>80*d){O=1/0,R=1/0;let Z=-1/0,J=-1/0;for(let oe=d;oe<B;oe+=d){const he=u[oe],ve=u[oe+1];he<O&&(O=he),ve<R&&(R=ve),he>Z&&(Z=he),ve>J&&(J=ve)}q=Math.max(Z-O,J-R),q=q!==0?32767/q:0}return If(E,I,d,O,R,q,0),I}function Vp(u,a,d,g,B){let E;if(B===(function(I,O,R,q){let Z=0;for(let J=O,oe=R-q;J<R;J+=q)Z+=(I[oe]-I[J])*(I[J+1]+I[oe+1]),oe=J;return Z})(u,a,d,g)>0)for(let I=a;I<d;I+=g)E=Lf(I/g|0,u[I],u[I+1],E);else for(let I=d-g;I>=a;I-=g)E=Lf(I/g|0,u[I],u[I+1],E);return E&&xa(E,E.next)&&(Uf(E),E=E.next),E}function Bc(u,a){if(!u)return u;a||(a=u);let d,g=u;do if(d=!1,g.steiner||!xa(g,g.next)&&na(g.prev,g,g.next)!==0)g=g.next;else{if(Uf(g),g=a=g.prev,g===g.next)break;d=!0}while(d||g!==a);return a}function If(u,a,d,g,B,E,I){if(!u)return;!I&&E&&(function(R,q,Z,J){let oe=R;do oe.z===0&&(oe.z=Od(oe.x,oe.y,q,Z,J)),oe.prevZ=oe.prev,oe.nextZ=oe.next,oe=oe.next;while(oe!==R);oe.prevZ.nextZ=null,oe.prevZ=null,(function(he){let ve,Ce=1;do{let je,Ze=he;he=null;let ht=null;for(ve=0;Ze;){ve++;let it=Ze,At=0;for(let Kt=0;Kt<Ce&&(At++,it=it.nextZ,it);Kt++);let Bt=Ce;for(;At>0||Bt>0&&it;)At!==0&&(Bt===0||!it||Ze.z<=it.z)?(je=Ze,Ze=Ze.nextZ,At--):(je=it,it=it.nextZ,Bt--),ht?ht.nextZ=je:he=je,je.prevZ=ht,ht=je;Ze=it}ht.nextZ=null,Ce*=2}while(ve>1)})(oe)})(u,g,B,E);let O=u;for(;u.prev!==u.next;){const R=u.prev,q=u.next;if(E?Oh(u,g,B,E):jy(u))a.push(R.i,u.i,q.i),Uf(u),u=q.next,O=q.next;else if((u=q)===O){I?I===1?If(u=Hy(Bc(u),a),a,d,g,B,E,2):I===2&&Ky(u,a,d,g,B,E):If(Bc(u),a,d,g,B,E,1);break}}}function jy(u){const a=u.prev,d=u,g=u.next;if(na(a,d,g)>=0)return!1;const B=a.x,E=d.x,I=g.x,O=a.y,R=d.y,q=g.y,Z=B<E?B<I?B:I:E<I?E:I,J=O<R?O<q?O:q:R<q?R:q,oe=B>E?B>I?B:I:E>I?E:I,he=O>R?O>q?O:q:R>q?R:q;let ve=g.next;for(;ve!==a;){if(ve.x>=Z&&ve.x<=oe&&ve.y>=J&&ve.y<=he&&Dh(B,O,E,R,I,q,ve.x,ve.y)&&na(ve.prev,ve,ve.next)>=0)return!1;ve=ve.next}return!0}function Oh(u,a,d,g){const B=u.prev,E=u,I=u.next;if(na(B,E,I)>=0)return!1;const O=B.x,R=E.x,q=I.x,Z=B.y,J=E.y,oe=I.y,he=O<R?O<q?O:q:R<q?R:q,ve=Z<J?Z<oe?Z:oe:J<oe?J:oe,Ce=O>R?O>q?O:q:R>q?R:q,je=Z>J?Z>oe?Z:oe:J>oe?J:oe,Ze=Od(he,ve,a,d,g),ht=Od(Ce,je,a,d,g);let it=u.prevZ,At=u.nextZ;for(;it&&it.z>=Ze&&At&&At.z<=ht;){if(it.x>=he&&it.x<=Ce&&it.y>=ve&&it.y<=je&&it!==B&&it!==I&&Dh(O,Z,R,J,q,oe,it.x,it.y)&&na(it.prev,it,it.next)>=0||(it=it.prevZ,At.x>=he&&At.x<=Ce&&At.y>=ve&&At.y<=je&&At!==B&&At!==I&&Dh(O,Z,R,J,q,oe,At.x,At.y)&&na(At.prev,At,At.next)>=0))return!1;At=At.nextZ}for(;it&&it.z>=Ze;){if(it.x>=he&&it.x<=Ce&&it.y>=ve&&it.y<=je&&it!==B&&it!==I&&Dh(O,Z,R,J,q,oe,it.x,it.y)&&na(it.prev,it,it.next)>=0)return!1;it=it.prevZ}for(;At&&At.z<=ht;){if(At.x>=he&&At.x<=Ce&&At.y>=ve&&At.y<=je&&At!==B&&At!==I&&Dh(O,Z,R,J,q,oe,At.x,At.y)&&na(At.prev,At,At.next)>=0)return!1;At=At.nextZ}return!0}function Hy(u,a){let d=u;do{const g=d.prev,B=d.next.next;!xa(g,B)&&zs(g,d,d.next,B)&&Ff(g,B)&&Ff(B,g)&&(a.push(g.i,d.i,B.i),Uf(d),Uf(d.next),d=u=B),d=d.next}while(d!==u);return Bc(d)}function Ky(u,a,d,g,B,E){let I=u;do{let O=I.next.next;for(;O!==I.prev;){if(I.i!==O.i&&cw(I,O)){let R=Sg(I,O);return I=Bc(I,I.next),R=Bc(R,R.next),If(I,a,d,g,B,E,0),void If(R,a,d,g,B,E,0)}O=O.next}I=I.next}while(I!==u)}function Vy(u,a){return u.x-a.x}function qp(u,a){const d=(function(B,E){let I=E;const O=B.x,R=B.y;let q,Z=-1/0;do{if(R<=I.y&&R>=I.next.y&&I.next.y!==I.y){const Ce=I.x+(R-I.y)*(I.next.x-I.x)/(I.next.y-I.y);if(Ce<=O&&Ce>Z&&(Z=Ce,q=I.x<I.next.x?I:I.next,Ce===O))return q}I=I.next}while(I!==E);if(!q)return null;const J=q,oe=q.x,he=q.y;let ve=1/0;I=q;do{if(O>=I.x&&I.x>=oe&&O!==I.x&&Dh(R<he?O:Z,R,oe,he,R<he?Z:O,R,I.x,I.y)){const Ce=Math.abs(R-I.y)/(O-I.x);Ff(I,B)&&(Ce<ve||Ce===ve&&(I.x>q.x||I.x===q.x&&qy(q,I)))&&(q=I,ve=Ce)}I=I.next}while(I!==J);return q})(u,a);if(!d)return a;const g=Sg(d,u);return Bc(g,g.next),Bc(d,d.next)}function qy(u,a){return na(u.prev,u,a.prev)<0&&na(a.next,u,u.next)<0}function Od(u,a,d,g,B){return(u=1431655765&((u=858993459&((u=252645135&((u=16711935&((u=(u-d)*B|0)|u<<8))|u<<4))|u<<2))|u<<1))|(a=1431655765&((a=858993459&((a=252645135&((a=16711935&((a=(a-g)*B|0)|a<<8))|a<<4))|a<<2))|a<<1))<<1}function Gy(u){let a=u,d=u;do(a.x<d.x||a.x===d.x&&a.y<d.y)&&(d=a),a=a.next;while(a!==u);return d}function Dh(u,a,d,g,B,E,I,O){return(B-I)*(a-O)>=(u-I)*(E-O)&&(u-I)*(g-O)>=(d-I)*(a-O)&&(d-I)*(E-O)>=(B-I)*(g-O)}function cw(u,a){return u.next.i!==a.i&&u.prev.i!==a.i&&!(function(d,g){let B=d;do{if(B.i!==d.i&&B.next.i!==d.i&&B.i!==g.i&&B.next.i!==g.i&&zs(B,B.next,d,g))return!0;B=B.next}while(B!==d);return!1})(u,a)&&(Ff(u,a)&&Ff(a,u)&&(function(d,g){let B=d,E=!1;const I=(d.x+g.x)/2,O=(d.y+g.y)/2;do B.y>O!=B.next.y>O&&B.next.y!==B.y&&I<(B.next.x-B.x)*(O-B.y)/(B.next.y-B.y)+B.x&&(E=!E),B=B.next;while(B!==d);return E})(u,a)&&(na(u.prev,u,a.prev)||na(u,a.prev,a))||xa(u,a)&&na(u.prev,u,u.next)>0&&na(a.prev,a,a.next)>0)}function na(u,a,d){return(a.y-u.y)*(d.x-a.x)-(a.x-u.x)*(d.y-a.y)}function xa(u,a){return u.x===a.x&&u.y===a.y}function zs(u,a,d,g){const B=kd(na(u,a,d)),E=kd(na(u,a,g)),I=kd(na(d,g,u)),O=kd(na(d,g,a));return B!==E&&I!==O||!(B!==0||!Dd(u,d,a))||!(E!==0||!Dd(u,g,a))||!(I!==0||!Dd(d,u,g))||!(O!==0||!Dd(d,a,g))}function Dd(u,a,d){return a.x<=Math.max(u.x,d.x)&&a.x>=Math.min(u.x,d.x)&&a.y<=Math.max(u.y,d.y)&&a.y>=Math.min(u.y,d.y)}function kd(u){return u>0?1:u<0?-1:0}function Ff(u,a){return na(u.prev,u,u.next)<0?na(u,a,u.next)>=0&&na(u,u.prev,a)>=0:na(u,a,u.prev)<0||na(u,u.next,a)<0}function Sg(u,a){const d=Mf(u.i,u.x,u.y),g=Mf(a.i,a.x,a.y),B=u.next,E=a.prev;return u.next=a,a.prev=u,d.next=B,B.prev=d,g.next=d,d.prev=g,E.next=g,g.prev=E,g}function Lf(u,a,d,g){const B=Mf(u,a,d);return g?(B.next=g.next,B.prev=g,g.next.prev=B,g.next=B):(B.prev=B,B.next=B),B}function Uf(u){u.next.prev=u.prev,u.prev.next=u.next,u.prevZ&&(u.prevZ.nextZ=u.nextZ),u.nextZ&&(u.nextZ.prevZ=u.prevZ)}function Mf(u,a,d){return{i:u,x:a,y:d,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function Gp(u,a,d){const g=d.patternDependencies;let B=!1;for(const E of a){const I=E.paint.get(`${u}-pattern`);I.isConstant()||(B=!0);const O=I.constantOr(null);O&&(B=!0,g[O.to]=!0,g[O.from]=!0)}return B}function Eg(u,a,d,g,B){const E=B.patternDependencies;for(const I of a){const O=I.paint.get(`${u}-pattern`).value;if(O.kind!=="constant"){let R=O.evaluate({zoom:g-1},d,{},B.availableImages),q=O.evaluate({zoom:g},d,{},B.availableImages),Z=O.evaluate({zoom:g+1},d,{},B.availableImages);R=R&&R.name?R.name:R,q=q&&q.name?q.name:q,Z=Z&&Z.name?Z.name:Z,E[R]=!0,E[q]=!0,E[Z]=!0,d.patterns[I.id]={min:R,mid:q,max:Z}}}return d}class Pf{constructor(a){this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map((d=>d.id)),this.index=a.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Cn,this.indexArray=new Ii,this.indexArray2=new ni,this.programConfigurations=new zu(a.layers,a.zoom),this.segments=new cn,this.segments2=new cn,this.stateDependentLayerIds=this.layers.filter((d=>d.isStateDependent())).map((d=>d.id))}populate(a,d,g){this.hasPattern=Gp("fill",this.layers,d);const B=this.layers[0].layout.get("fill-sort-key"),E=!B.isConstant(),I=[];for(const{feature:O,id:R,index:q,sourceLayerIndex:Z}of a){const J=this.layers[0]._featureFilter.needGeometry,oe=ju(O,J);if(!this.layers[0]._featureFilter.filter(new pn(this.zoom),oe,g))continue;const he=E?B.evaluate(oe,{},g,d.availableImages):void 0,ve={id:R,properties:O.properties,type:O.type,sourceLayerIndex:Z,index:q,geometry:J?oe.geometry:du(O),patterns:{},sortKey:he};I.push(ve)}E&&I.sort(((O,R)=>O.sortKey-R.sortKey));for(const O of I){const{geometry:R,index:q,sourceLayerIndex:Z}=O;if(this.hasPattern){const J=Eg("fill",this.layers,O,this.zoom,d);this.patternFeatures.push(J)}else this.addFeature(O,R,q,g,{});d.featureIndex.insert(a[q].feature,R,q,Z,this.index)}}update(a,d,g){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(a,d,this.stateDependentLayers,g)}addFeatures(a,d,g){for(const B of this.patternFeatures)this.addFeature(B,B.geometry,B.index,d,g)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(a){this.uploaded||(this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,Bg),this.indexBuffer=a.createIndexBuffer(this.indexArray),this.indexBuffer2=a.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(a),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(a,d,g,B,E){for(const I of An(d,500)){let O=0;for(const he of I)O+=he.length;const R=this.segments.prepareSegment(O,this.layoutVertexArray,this.indexArray),q=R.vertexLength,Z=[],J=[];for(const he of I){if(he.length===0)continue;he!==I[0]&&J.push(Z.length/2);const ve=this.segments2.prepareSegment(he.length,this.layoutVertexArray,this.indexArray2),Ce=ve.vertexLength;this.layoutVertexArray.emplaceBack(he[0].x,he[0].y),this.indexArray2.emplaceBack(Ce+he.length-1,Ce),Z.push(he[0].x),Z.push(he[0].y);for(let je=1;je<he.length;je++)this.layoutVertexArray.emplaceBack(he[je].x,he[je].y),this.indexArray2.emplaceBack(Ce+je-1,Ce+je),Z.push(he[je].x),Z.push(he[je].y);ve.vertexLength+=he.length,ve.primitiveLength+=he.length}const oe=Cg(Z,J);for(let he=0;he<oe.length;he+=3)this.indexArray.emplaceBack(q+oe[he],q+oe[he+1],q+oe[he+2]);R.vertexLength+=O,R.primitiveLength+=oe.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,a,g,E,B)}}let $p,Tg;Rt("FillBucket",Pf,{omit:["layers","patternFeatures"]});var $y={get paint(){return Tg=Tg||new _({"fill-antialias":new lr(Ye.paint_fill["fill-antialias"]),"fill-opacity":new Cr(Ye.paint_fill["fill-opacity"]),"fill-color":new Cr(Ye.paint_fill["fill-color"]),"fill-outline-color":new Cr(Ye.paint_fill["fill-outline-color"]),"fill-translate":new lr(Ye.paint_fill["fill-translate"]),"fill-translate-anchor":new lr(Ye.paint_fill["fill-translate-anchor"]),"fill-pattern":new U(Ye.paint_fill["fill-pattern"])})},get layout(){return $p=$p||new _({"fill-sort-key":new Cr(Ye.layout_fill["fill-sort-key"])})}};class Xy extends h{constructor(a){super(a,$y)}recalculate(a,d){super.recalculate(a,d);const g=this.paint._values["fill-outline-color"];g.value.kind==="constant"&&g.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(a){return new Pf(a)}queryRadius(){return Rp(this.paint.get("fill-translate"))}queryIntersectsFeature(a,d,g,B,E,I,O){return KA(Fd(a,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),I.angle,O),B)}isTileClipped(){return!0}}const Ig=L([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),Fg=L([{name:"a_centroid",components:2,type:"Int16"}],4),{members:Lg}=Ig;var Cc={},Ug=b,Nd=ih;function ih(u,a,d,g,B){this.properties={},this.extent=d,this.type=0,this._pbf=u,this._geometry=-1,this._keys=g,this._values=B,u.readFields(Zy,this,a)}function Zy(u,a,d){u==1?a.id=d.readVarint():u==2?(function(g,B){for(var E=g.readVarint()+g.pos;g.pos<E;){var I=B._keys[g.readVarint()],O=B._values[g.readVarint()];B.properties[I]=O}})(d,a):u==3?a.type=d.readVarint():u==4&&(a._geometry=d.pos)}function Mg(u){for(var a,d,g=0,B=0,E=u.length,I=E-1;B<E;I=B++)g+=((d=u[I]).x-(a=u[B]).x)*(a.y+d.y);return g}ih.types=["Unknown","Point","LineString","Polygon"],ih.prototype.loadGeometry=function(){var u=this._pbf;u.pos=this._geometry;for(var a,d=u.readVarint()+u.pos,g=1,B=0,E=0,I=0,O=[];u.pos<d;){if(B<=0){var R=u.readVarint();g=7&R,B=R>>3}if(B--,g===1||g===2)E+=u.readSVarint(),I+=u.readSVarint(),g===1&&(a&&O.push(a),a=[]),a.push(new Ug(E,I));else{if(g!==7)throw new Error("unknown command "+g);a&&a.push(a[0].clone())}}return a&&O.push(a),O},ih.prototype.bbox=function(){var u=this._pbf;u.pos=this._geometry;for(var a=u.readVarint()+u.pos,d=1,g=0,B=0,E=0,I=1/0,O=-1/0,R=1/0,q=-1/0;u.pos<a;){if(g<=0){var Z=u.readVarint();d=7&Z,g=Z>>3}if(g--,d===1||d===2)(B+=u.readSVarint())<I&&(I=B),B>O&&(O=B),(E+=u.readSVarint())<R&&(R=E),E>q&&(q=E);else if(d!==7)throw new Error("unknown command "+d)}return[I,R,O,q]},ih.prototype.toGeoJSON=function(u,a,d){var g,B,E=this.extent*Math.pow(2,d),I=this.extent*u,O=this.extent*a,R=this.loadGeometry(),q=ih.types[this.type];function Z(he){for(var ve=0;ve<he.length;ve++){var Ce=he[ve];he[ve]=[360*(Ce.x+I)/E-180,360/Math.PI*Math.atan(Math.exp((180-360*(Ce.y+O)/E)*Math.PI/180))-90]}}switch(this.type){case 1:var J=[];for(g=0;g<R.length;g++)J[g]=R[g][0];Z(R=J);break;case 2:for(g=0;g<R.length;g++)Z(R[g]);break;case 3:for(R=(function(he){var ve=he.length;if(ve<=1)return[he];for(var Ce,je,Ze=[],ht=0;ht<ve;ht++){var it=Mg(he[ht]);it!==0&&(je===void 0&&(je=it<0),je===it<0?(Ce&&Ze.push(Ce),Ce=[he[ht]]):Ce.push(he[ht]))}return Ce&&Ze.push(Ce),Ze})(R),g=0;g<R.length;g++)for(B=0;B<R[g].length;B++)Z(R[g][B])}R.length===1?R=R[0]:q="Multi"+q;var oe={type:"Feature",geometry:{type:q,coordinates:R},properties:this.properties};return"id"in this&&(oe.id=this.id),oe};var Wy=Nd,Hu=Xp;function Xp(u,a){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=u,this._keys=[],this._values=[],this._features=[],u.readFields(hw,this,a),this.length=this._features.length}function hw(u,a,d){u===15?a.version=d.readVarint():u===1?a.name=d.readString():u===5?a.extent=d.readVarint():u===2?a._features.push(d.pos):u===3?a._keys.push(d.readString()):u===4&&a._values.push((function(g){for(var B=null,E=g.readVarint()+g.pos;g.pos<E;){var I=g.readVarint()>>3;B=I===1?g.readString():I===2?g.readFloat():I===3?g.readDouble():I===4?g.readVarint64():I===5?g.readVarint():I===6?g.readSVarint():I===7?g.readBoolean():null}return B})(d))}Xp.prototype.feature=function(u){if(u<0||u>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[u];var a=this._pbf.readVarint()+this._pbf.pos;return new Wy(this._pbf,a,this.extent,this._keys,this._values)};var Yy=Hu;function Sc(u,a,d){if(u===3){var g=new Yy(d,d.readVarint()+d.pos);g.length&&(a[g.name]=g)}}Cc.VectorTile=function(u,a){this.layers=u.readFields(Sc,{},a)},Cc.VectorTileFeature=Nd,Cc.VectorTileLayer=Hu;const Pg=Cc.VectorTileFeature.types,Zp=Math.pow(2,13);function ah(u,a,d,g,B,E,I,O){u.emplaceBack(a,d,2*Math.floor(g*Zp)+I,B*Zp*2,E*Zp*2,Math.round(O))}class kh{constructor(a){this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map((d=>d.id)),this.index=a.index,this.hasPattern=!1,this.layoutVertexArray=new xi,this.centroidVertexArray=new sn,this.indexArray=new Ii,this.programConfigurations=new zu(a.layers,a.zoom),this.segments=new cn,this.stateDependentLayerIds=this.layers.filter((d=>d.isStateDependent())).map((d=>d.id))}populate(a,d,g){this.features=[],this.hasPattern=Gp("fill-extrusion",this.layers,d);for(const{feature:B,id:E,index:I,sourceLayerIndex:O}of a){const R=this.layers[0]._featureFilter.needGeometry,q=ju(B,R);if(!this.layers[0]._featureFilter.filter(new pn(this.zoom),q,g))continue;const Z={id:E,sourceLayerIndex:O,index:I,geometry:R?q.geometry:du(B),properties:B.properties,type:B.type,patterns:{}};this.hasPattern?this.features.push(Eg("fill-extrusion",this.layers,Z,this.zoom,d)):this.addFeature(Z,Z.geometry,I,g,{}),d.featureIndex.insert(B,Z.geometry,I,O,this.index,!0)}}addFeatures(a,d,g){for(const B of this.features){const{geometry:E}=B;this.addFeature(B,E,B.index,d,g)}}update(a,d,g){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(a,d,this.stateDependentLayers,g)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(a){this.uploaded||(this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,Lg),this.centroidVertexBuffer=a.createVertexBuffer(this.centroidVertexArray,Fg.members,!0),this.indexBuffer=a.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(a),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(a,d,g,B,E){for(const I of An(d,500)){const O={x:0,y:0,vertexCount:0};let R=0;for(const ve of I)R+=ve.length;let q=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const ve of I){if(ve.length===0||fw(ve))continue;let Ce=0;for(let je=0;je<ve.length;je++){const Ze=ve[je];if(je>=1){const ht=ve[je-1];if(!ia(Ze,ht)){q.vertexLength+4>cn.MAX_VERTEX_ARRAY_LENGTH&&(q=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const it=Ze.sub(ht)._perp()._unit(),At=ht.dist(Ze);Ce+At>32768&&(Ce=0),ah(this.layoutVertexArray,Ze.x,Ze.y,it.x,it.y,0,0,Ce),ah(this.layoutVertexArray,Ze.x,Ze.y,it.x,it.y,0,1,Ce),O.x+=2*Ze.x,O.y+=2*Ze.y,O.vertexCount+=2,Ce+=At,ah(this.layoutVertexArray,ht.x,ht.y,it.x,it.y,0,0,Ce),ah(this.layoutVertexArray,ht.x,ht.y,it.x,it.y,0,1,Ce),O.x+=2*ht.x,O.y+=2*ht.y,O.vertexCount+=2;const Bt=q.vertexLength;this.indexArray.emplaceBack(Bt,Bt+2,Bt+1),this.indexArray.emplaceBack(Bt+1,Bt+2,Bt+3),q.vertexLength+=4,q.primitiveLength+=2}}}}if(q.vertexLength+R>cn.MAX_VERTEX_ARRAY_LENGTH&&(q=this.segments.prepareSegment(R,this.layoutVertexArray,this.indexArray)),Pg[a.type]!=="Polygon")continue;const Z=[],J=[],oe=q.vertexLength;for(const ve of I)if(ve.length!==0){ve!==I[0]&&J.push(Z.length/2);for(let Ce=0;Ce<ve.length;Ce++){const je=ve[Ce];ah(this.layoutVertexArray,je.x,je.y,0,0,1,1,0),O.x+=je.x,O.y+=je.y,O.vertexCount+=1,Z.push(je.x),Z.push(je.y)}}const he=Cg(Z,J);for(let ve=0;ve<he.length;ve+=3)this.indexArray.emplaceBack(oe+he[ve],oe+he[ve+2],oe+he[ve+1]);q.primitiveLength+=he.length/3,q.vertexLength+=R;for(let ve=0;ve<O.vertexCount;ve++){const Ce=Math.floor(O.x/O.vertexCount),je=Math.floor(O.y/O.vertexCount);this.centroidVertexArray.emplaceBack(Ce,je)}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,a,g,E,B)}}function ia(u,a){return u.x===a.x&&(u.x<0||u.x>ra)||u.y===a.y&&(u.y<0||u.y>ra)}function fw(u){return u.every((a=>a.x<0))||u.every((a=>a.x>ra))||u.every((a=>a.y<0))||u.every((a=>a.y>ra))}let Jy;Rt("FillExtrusionBucket",kh,{omit:["layers","features"]});var ev={get paint(){return Jy=Jy||new _({"fill-extrusion-opacity":new lr(Ye["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Cr(Ye["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new lr(Ye["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new lr(Ye["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new U(Ye["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Cr(Ye["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Cr(Ye["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new lr(Ye["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class Qd extends h{constructor(a){super(a,ev)}createBucket(a){return new kh(a)}queryRadius(){return Rp(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(a,d,g,B,E,I,O,R){const q=Fd(a,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),I.angle,O),Z=this.paint.get("fill-extrusion-height").evaluate(d,g),J=this.paint.get("fill-extrusion-base").evaluate(d,g),oe=(function(ve,Ce,je,Ze){const ht=[];for(const it of ve){const At=[it.x,it.y,0,1];Ld(At,At,Ce),ht.push(new C(At[0]/At[3],At[1]/At[3]))}return ht})(q,R),he=(function(ve,Ce,je,Ze){const ht=[],it=[],At=Ze[8]*Ce,Bt=Ze[9]*Ce,Kt=Ze[10]*Ce,er=Ze[11]*Ce,kr=Ze[8]*je,Wt=Ze[9]*je,Yt=Ze[10]*je,pr=Ze[11]*je;for(const Ar of ve){const ir=[],Ut=[];for(const ar of Ar){const hr=ar.x,qr=ar.y,Rn=Ze[0]*hr+Ze[4]*qr+Ze[12],Ai=Ze[1]*hr+Ze[5]*qr+Ze[13],ns=Ze[2]*hr+Ze[6]*qr+Ze[14],Ao=Ze[3]*hr+Ze[7]*qr+Ze[15],bs=ns+Kt,is=Ao+er,Io=Rn+kr,Fo=Ai+Wt,Lo=ns+Yt,da=Ao+pr,as=new C((Rn+At)/is,(Ai+Bt)/is);as.z=bs/is,ir.push(as);const uo=new C(Io/da,Fo/da);uo.z=Lo/da,Ut.push(uo)}ht.push(ir),it.push(Ut)}return[ht,it]})(B,J,Z,R);return(function(ve,Ce,je){let Ze=1/0;KA(je,Ce)&&(Ze=Og(je,Ce[0]));for(let ht=0;ht<Ce.length;ht++){const it=Ce[ht],At=ve[ht];for(let Bt=0;Bt<it.length-1;Bt++){const Kt=it[Bt],er=[Kt,it[Bt+1],At[Bt+1],At[Bt],Kt];th(je,er)&&(Ze=Math.min(Ze,Og(je,er)))}}return Ze!==1/0&&Ze})(he[0],he[1],oe)}}function VA(u,a){return u.x*a.x+u.y*a.y}function Og(u,a){if(u.length===1){let d=0;const g=a[d++];let B;for(;!B||g.equals(B);)if(B=a[d++],!B)return 1/0;for(;d<a.length;d++){const E=a[d],I=u[0],O=B.sub(g),R=E.sub(g),q=I.sub(g),Z=VA(O,O),J=VA(O,R),oe=VA(R,R),he=VA(q,O),ve=VA(q,R),Ce=Z*oe-J*J,je=(oe*he-J*ve)/Ce,Ze=(Z*ve-J*he)/Ce,ht=g.z*(1-je-Ze)+B.z*je+E.z*Ze;if(isFinite(ht))return ht}return 1/0}{let d=1/0;for(const g of a)d=Math.min(d,g.z);return d}}const tv=L([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:Rd}=tv,Ku=L([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:rv}=Ku,Dg=Cc.VectorTileFeature.types,nv=Math.cos(Math.PI/180*37.5),Wp=Math.pow(2,14)/.5;class zd{constructor(a){this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map((d=>d.id)),this.index=a.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach((d=>{this.gradients[d.id]={}})),this.layoutVertexArray=new ki,this.layoutVertexArray2=new Gn,this.indexArray=new Ii,this.programConfigurations=new zu(a.layers,a.zoom),this.segments=new cn,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter((d=>d.isStateDependent())).map((d=>d.id))}populate(a,d,g){this.hasPattern=Gp("line",this.layers,d);const B=this.layers[0].layout.get("line-sort-key"),E=!B.isConstant(),I=[];for(const{feature:O,id:R,index:q,sourceLayerIndex:Z}of a){const J=this.layers[0]._featureFilter.needGeometry,oe=ju(O,J);if(!this.layers[0]._featureFilter.filter(new pn(this.zoom),oe,g))continue;const he=E?B.evaluate(oe,{},g):void 0,ve={id:R,properties:O.properties,type:O.type,sourceLayerIndex:Z,index:q,geometry:J?oe.geometry:du(O),patterns:{},sortKey:he};I.push(ve)}E&&I.sort(((O,R)=>O.sortKey-R.sortKey));for(const O of I){const{geometry:R,index:q,sourceLayerIndex:Z}=O;if(this.hasPattern){const J=Eg("line",this.layers,O,this.zoom,d);this.patternFeatures.push(J)}else this.addFeature(O,R,q,g,{});d.featureIndex.insert(a[q].feature,R,q,Z,this.index)}}update(a,d,g){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(a,d,this.stateDependentLayers,g)}addFeatures(a,d,g){for(const B of this.patternFeatures)this.addFeature(B,B.geometry,B.index,d,g)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(a){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=a.createVertexBuffer(this.layoutVertexArray2,rv)),this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,Rd),this.indexBuffer=a.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(a),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(a){if(a.properties&&Object.prototype.hasOwnProperty.call(a.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(a.properties,"mapbox_clip_end"))return{start:+a.properties.mapbox_clip_start,end:+a.properties.mapbox_clip_end}}addFeature(a,d,g,B,E){const I=this.layers[0].layout,O=I.get("line-join").evaluate(a,{}),R=I.get("line-cap"),q=I.get("line-miter-limit"),Z=I.get("line-round-limit");this.lineClips=this.lineFeatureClips(a);for(const J of d)this.addLine(J,a,O,R,q,Z);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,a,g,E,B)}addLine(a,d,g,B,E,I){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let Ze=0;Ze<a.length-1;Ze++)this.totalDistance+=a[Ze].dist(a[Ze+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const O=Dg[d.type]==="Polygon";let R=a.length;for(;R>=2&&a[R-1].equals(a[R-2]);)R--;let q=0;for(;q<R-1&&a[q].equals(a[q+1]);)q++;if(R<(O?3:2))return;g==="bevel"&&(E=1.05);const Z=this.overscaling<=16?15*ra/(512*this.overscaling):0,J=this.segments.prepareSegment(10*R,this.layoutVertexArray,this.indexArray);let oe,he,ve,Ce,je;this.e1=this.e2=-1,O&&(oe=a[R-2],je=a[q].sub(oe)._unit()._perp());for(let Ze=q;Ze<R;Ze++){if(ve=Ze===R-1?O?a[q+1]:void 0:a[Ze+1],ve&&a[Ze].equals(ve))continue;je&&(Ce=je),oe&&(he=oe),oe=a[Ze],je=ve?ve.sub(oe)._unit()._perp():Ce,Ce=Ce||je;let ht=Ce.add(je);ht.x===0&&ht.y===0||ht._unit();const it=Ce.x*je.x+Ce.y*je.y,At=ht.x*je.x+ht.y*je.y,Bt=At!==0?1/At:1/0,Kt=2*Math.sqrt(2-2*At),er=At<nv&&he&&ve,kr=Ce.x*je.y-Ce.y*je.x>0;if(er&&Ze>q){const pr=oe.dist(he);if(pr>2*Z){const Ar=oe.sub(oe.sub(he)._mult(Z/pr)._round());this.updateDistance(he,Ar),this.addCurrentVertex(Ar,Ce,0,0,J),he=Ar}}const Wt=he&&ve;let Yt=Wt?g:O?"butt":B;if(Wt&&Yt==="round"&&(Bt<I?Yt="miter":Bt<=2&&(Yt="fakeround")),Yt==="miter"&&Bt>E&&(Yt="bevel"),Yt==="bevel"&&(Bt>2&&(Yt="flipbevel"),Bt<E&&(Yt="miter")),he&&this.updateDistance(he,oe),Yt==="miter")ht._mult(Bt),this.addCurrentVertex(oe,ht,0,0,J);else if(Yt==="flipbevel"){if(Bt>100)ht=je.mult(-1);else{const pr=Bt*Ce.add(je).mag()/Ce.sub(je).mag();ht._perp()._mult(pr*(kr?-1:1))}this.addCurrentVertex(oe,ht,0,0,J),this.addCurrentVertex(oe,ht.mult(-1),0,0,J)}else if(Yt==="bevel"||Yt==="fakeround"){const pr=-Math.sqrt(Bt*Bt-1),Ar=kr?pr:0,ir=kr?0:pr;if(he&&this.addCurrentVertex(oe,Ce,Ar,ir,J),Yt==="fakeround"){const Ut=Math.round(180*Kt/Math.PI/20);for(let ar=1;ar<Ut;ar++){let hr=ar/Ut;if(hr!==.5){const Rn=hr-.5;hr+=hr*Rn*(hr-1)*((1.0904+it*(it*(3.55645-1.43519*it)-3.2452))*Rn*Rn+(.848013+it*(.215638*it-1.06021)))}const qr=je.sub(Ce)._mult(hr)._add(Ce)._unit()._mult(kr?-1:1);this.addHalfVertex(oe,qr.x,qr.y,!1,kr,0,J)}}ve&&this.addCurrentVertex(oe,je,-Ar,-ir,J)}else if(Yt==="butt")this.addCurrentVertex(oe,ht,0,0,J);else if(Yt==="square"){const pr=he?1:-1;this.addCurrentVertex(oe,ht,pr,pr,J)}else Yt==="round"&&(he&&(this.addCurrentVertex(oe,Ce,0,0,J),this.addCurrentVertex(oe,Ce,1,1,J,!0)),ve&&(this.addCurrentVertex(oe,je,-1,-1,J,!0),this.addCurrentVertex(oe,je,0,0,J)));if(er&&Ze<R-1){const pr=oe.dist(ve);if(pr>2*Z){const Ar=oe.add(ve.sub(oe)._mult(Z/pr)._round());this.updateDistance(oe,Ar),this.addCurrentVertex(Ar,je,0,0,J),oe=Ar}}}}addCurrentVertex(a,d,g,B,E,I=!1){const O=d.y*B-d.x,R=-d.y-d.x*B;this.addHalfVertex(a,d.x+d.y*g,d.y-d.x*g,I,!1,g,E),this.addHalfVertex(a,O,R,I,!0,-B,E),this.distance>Wp/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(a,d,g,B,E,I))}addHalfVertex({x:a,y:d},g,B,E,I,O,R){const q=.5*(this.lineClips?this.scaledDistance*(Wp-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((a<<1)+(E?1:0),(d<<1)+(I?1:0),Math.round(63*g)+128,Math.round(63*B)+128,1+(O===0?0:O<0?-1:1)|(63&q)<<2,q>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const Z=R.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,Z),R.primitiveLength++),I?this.e2=Z:this.e1=Z}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(a,d){this.distance+=a.dist(d),this.updateScaledDistance()}}let jd,kg;Rt("LineBucket",zd,{omit:["layers","patternFeatures"]});var Vu={get paint(){return kg=kg||new _({"line-opacity":new Cr(Ye.paint_line["line-opacity"]),"line-color":new Cr(Ye.paint_line["line-color"]),"line-translate":new lr(Ye.paint_line["line-translate"]),"line-translate-anchor":new lr(Ye.paint_line["line-translate-anchor"]),"line-width":new Cr(Ye.paint_line["line-width"]),"line-gap-width":new Cr(Ye.paint_line["line-gap-width"]),"line-offset":new Cr(Ye.paint_line["line-offset"]),"line-blur":new Cr(Ye.paint_line["line-blur"]),"line-dasharray":new D(Ye.paint_line["line-dasharray"]),"line-pattern":new U(Ye.paint_line["line-pattern"]),"line-gradient":new X(Ye.paint_line["line-gradient"])})},get layout(){return jd=jd||new _({"line-cap":new lr(Ye.layout_line["line-cap"]),"line-join":new Cr(Ye.layout_line["line-join"]),"line-miter-limit":new lr(Ye.layout_line["line-miter-limit"]),"line-round-limit":new lr(Ye.layout_line["line-round-limit"]),"line-sort-key":new Cr(Ye.layout_line["line-sort-key"])})}};class es extends Cr{possiblyEvaluate(a,d){return d=new pn(Math.floor(d.zoom),{now:d.now,fadeDuration:d.fadeDuration,zoomHistory:d.zoomHistory,transition:d.transition}),super.possiblyEvaluate(a,d)}evaluate(a,d,g,B){return d=Be({},d,{zoom:Math.floor(d.zoom)}),super.evaluate(a,d,g,B)}}let Of;class iv extends h{constructor(a){super(a,Vu),this.gradientVersion=0,Of||(Of=new es(Vu.paint.properties["line-width"].specification),Of.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(a){if(a==="line-gradient"){const d=this.gradientExpression();this.stepInterpolant=!!(function(g){return g._styleExpression!==void 0})(d)&&d._styleExpression.expression instanceof ql,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(a,d){super.recalculate(a,d),this.paint._values["line-floorwidth"]=Of.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,a)}createBucket(a){return new zd(a)}queryRadius(a){const d=a,g=vs(Mh("line-width",this,d),Mh("line-gap-width",this,d)),B=Mh("line-offset",this,d);return g/2+Math.abs(B)+Rp(this.paint.get("line-translate"))}queryIntersectsFeature(a,d,g,B,E,I,O){const R=Fd(a,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),I.angle,O),q=O/2*vs(this.paint.get("line-width").evaluate(d,g),this.paint.get("line-gap-width").evaluate(d,g)),Z=this.paint.get("line-offset").evaluate(d,g);return Z&&(B=(function(J,oe){const he=[];for(let ve=0;ve<J.length;ve++){const Ce=J[ve],je=[];for(let Ze=0;Ze<Ce.length;Ze++){const ht=Ce[Ze-1],it=Ce[Ze],At=Ce[Ze+1],Bt=Ze===0?new C(0,0):it.sub(ht)._unit()._perp(),Kt=Ze===Ce.length-1?new C(0,0):At.sub(it)._unit()._perp(),er=Bt._add(Kt)._unit(),kr=er.x*Kt.x+er.y*Kt.y;kr!==0&&er._mult(1/kr),je.push(er._mult(oe)._add(it))}he.push(je)}return he})(B,Z*O)),(function(J,oe,he){for(let ve=0;ve<oe.length;ve++){const Ce=oe[ve];if(J.length>=3){for(let je=0;je<Ce.length;je++)if(aA(J,Ce[je]))return!0}if(pu(J,Ce,he))return!0}return!1})(R,B,q)}isTileClipped(){return!0}}function vs(u,a){return a>0?a+2*u:u}const dw=L([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),av=L([{name:"a_projected_pos",components:3,type:"Float32"}],4);L([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const sv=L([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"},{name:"a_box_real",components:2,type:"Int16"}]);L([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const aa=L([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),El=L([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function Ec(u,a,d){return u.sections.forEach((g=>{g.text=(function(B,E,I){const O=E.layout.get("text-transform").evaluate(I,{});return O==="uppercase"?B=B.toLocaleUpperCase():O==="lowercase"&&(B=B.toLocaleLowerCase()),fa.applyArabicShaping&&(B=fa.applyArabicShaping(B)),B})(g.text,a,d)})),u}L([{name:"triangle",components:3,type:"Uint16"}]),L([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),L([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),L([{type:"Float32",name:"offsetX"}]),L([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),L([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const Df={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};var Ua=24,Ng=bn,ov=function(u,a,d,g,B){var E,I,O=8*B-g-1,R=(1<<O)-1,q=R>>1,Z=-7,J=B-1,oe=-1,he=u[a+J];for(J+=oe,E=he&(1<<-Z)-1,he>>=-Z,Z+=O;Z>0;E=256*E+u[a+J],J+=oe,Z-=8);for(I=E&(1<<-Z)-1,E>>=-Z,Z+=g;Z>0;I=256*I+u[a+J],J+=oe,Z-=8);if(E===0)E=1-q;else{if(E===R)return I?NaN:1/0*(he?-1:1);I+=Math.pow(2,g),E-=q}return(he?-1:1)*I*Math.pow(2,E-g)},Hd=function(u,a,d,g,B,E){var I,O,R,q=8*E-B-1,Z=(1<<q)-1,J=Z>>1,oe=B===23?Math.pow(2,-24)-Math.pow(2,-77):0,he=0,ve=1,Ce=a<0||a===0&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(O=isNaN(a)?1:0,I=Z):(I=Math.floor(Math.log(a)/Math.LN2),a*(R=Math.pow(2,-I))<1&&(I--,R*=2),(a+=I+J>=1?oe/R:oe*Math.pow(2,1-J))*R>=2&&(I++,R/=2),I+J>=Z?(O=0,I=Z):I+J>=1?(O=(a*R-1)*Math.pow(2,B),I+=J):(O=a*Math.pow(2,J-1)*Math.pow(2,B),I=0));B>=8;u[d+he]=255&O,he+=ve,O/=256,B-=8);for(I=I<<B|O,q+=B;q>0;u[d+he]=255&I,he+=ve,I/=256,q-=8);u[d+he-ve]|=128*Ce};function bn(u){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(u)?u:new Uint8Array(u||0),this.pos=0,this.type=0,this.length=this.buf.length}bn.Varint=0,bn.Fixed64=1,bn.Bytes=2,bn.Fixed32=5;var sA=4294967296,Qg=1/sA,Jo=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");function qu(u){return u.type===bn.Bytes?u.readVarint()+u.pos:u.pos+1}function Tl(u,a,d){return d?4294967296*a+(u>>>0):4294967296*(a>>>0)+(u>>>0)}function sh(u,a,d){var g=a<=16383?1:a<=2097151?2:a<=268435455?3:Math.floor(Math.log(a)/(7*Math.LN2));d.realloc(g);for(var B=d.pos-1;B>=u;B--)d.buf[B+g]=d.buf[B]}function Tc(u,a){for(var d=0;d<u.length;d++)a.writeVarint(u[d])}function Rg(u,a){for(var d=0;d<u.length;d++)a.writeSVarint(u[d])}function zg(u,a){for(var d=0;d<u.length;d++)a.writeFloat(u[d])}function gu(u,a){for(var d=0;d<u.length;d++)a.writeDouble(u[d])}function lv(u,a){for(var d=0;d<u.length;d++)a.writeBoolean(u[d])}function kf(u,a){for(var d=0;d<u.length;d++)a.writeFixed32(u[d])}function Kd(u,a){for(var d=0;d<u.length;d++)a.writeSFixed32(u[d])}function Vd(u,a){for(var d=0;d<u.length;d++)a.writeFixed64(u[d])}function Nf(u,a){for(var d=0;d<u.length;d++)a.writeSFixed64(u[d])}function qd(u,a){return(u[a]|u[a+1]<<8|u[a+2]<<16)+16777216*u[a+3]}function Nh(u,a,d){u[d]=a,u[d+1]=a>>>8,u[d+2]=a>>>16,u[d+3]=a>>>24}function Qf(u,a){return(u[a]|u[a+1]<<8|u[a+2]<<16)+(u[a+3]<<24)}bn.prototype={destroy:function(){this.buf=null},readFields:function(u,a,d){for(d=d||this.length;this.pos<d;){var g=this.readVarint(),B=g>>3,E=this.pos;this.type=7&g,u(B,a,this),this.pos===E&&this.skip(g)}return a},readMessage:function(u,a){return this.readFields(u,a,this.readVarint()+this.pos)},readFixed32:function(){var u=qd(this.buf,this.pos);return this.pos+=4,u},readSFixed32:function(){var u=Qf(this.buf,this.pos);return this.pos+=4,u},readFixed64:function(){var u=qd(this.buf,this.pos)+qd(this.buf,this.pos+4)*sA;return this.pos+=8,u},readSFixed64:function(){var u=qd(this.buf,this.pos)+Qf(this.buf,this.pos+4)*sA;return this.pos+=8,u},readFloat:function(){var u=ov(this.buf,this.pos,!0,23,4);return this.pos+=4,u},readDouble:function(){var u=ov(this.buf,this.pos,!0,52,8);return this.pos+=8,u},readVarint:function(u){var a,d,g=this.buf;return a=127&(d=g[this.pos++]),d<128?a:(a|=(127&(d=g[this.pos++]))<<7,d<128?a:(a|=(127&(d=g[this.pos++]))<<14,d<128?a:(a|=(127&(d=g[this.pos++]))<<21,d<128?a:(function(B,E,I){var O,R,q=I.buf;if(O=(112&(R=q[I.pos++]))>>4,R<128||(O|=(127&(R=q[I.pos++]))<<3,R<128)||(O|=(127&(R=q[I.pos++]))<<10,R<128)||(O|=(127&(R=q[I.pos++]))<<17,R<128)||(O|=(127&(R=q[I.pos++]))<<24,R<128)||(O|=(1&(R=q[I.pos++]))<<31,R<128))return Tl(B,O,E);throw new Error("Expected varint not more than 10 bytes")})(a|=(15&(d=g[this.pos]))<<28,u,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var u=this.readVarint();return u%2==1?(u+1)/-2:u/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var u=this.readVarint()+this.pos,a=this.pos;return this.pos=u,u-a>=12&&Jo?(function(d,g,B){return Jo.decode(d.subarray(g,B))})(this.buf,a,u):(function(d,g,B){for(var E="",I=g;I<B;){var O,R,q,Z=d[I],J=null,oe=Z>239?4:Z>223?3:Z>191?2:1;if(I+oe>B)break;oe===1?Z<128&&(J=Z):oe===2?(192&(O=d[I+1]))==128&&(J=(31&Z)<<6|63&O)<=127&&(J=null):oe===3?(R=d[I+2],(192&(O=d[I+1]))==128&&(192&R)==128&&((J=(15&Z)<<12|(63&O)<<6|63&R)<=2047||J>=55296&&J<=57343)&&(J=null)):oe===4&&(R=d[I+2],q=d[I+3],(192&(O=d[I+1]))==128&&(192&R)==128&&(192&q)==128&&((J=(15&Z)<<18|(63&O)<<12|(63&R)<<6|63&q)<=65535||J>=1114112)&&(J=null)),J===null?(J=65533,oe=1):J>65535&&(J-=65536,E+=String.fromCharCode(J>>>10&1023|55296),J=56320|1023&J),E+=String.fromCharCode(J),I+=oe}return E})(this.buf,a,u)},readBytes:function(){var u=this.readVarint()+this.pos,a=this.buf.subarray(this.pos,u);return this.pos=u,a},readPackedVarint:function(u,a){if(this.type!==bn.Bytes)return u.push(this.readVarint(a));var d=qu(this);for(u=u||[];this.pos<d;)u.push(this.readVarint(a));return u},readPackedSVarint:function(u){if(this.type!==bn.Bytes)return u.push(this.readSVarint());var a=qu(this);for(u=u||[];this.pos<a;)u.push(this.readSVarint());return u},readPackedBoolean:function(u){if(this.type!==bn.Bytes)return u.push(this.readBoolean());var a=qu(this);for(u=u||[];this.pos<a;)u.push(this.readBoolean());return u},readPackedFloat:function(u){if(this.type!==bn.Bytes)return u.push(this.readFloat());var a=qu(this);for(u=u||[];this.pos<a;)u.push(this.readFloat());return u},readPackedDouble:function(u){if(this.type!==bn.Bytes)return u.push(this.readDouble());var a=qu(this);for(u=u||[];this.pos<a;)u.push(this.readDouble());return u},readPackedFixed32:function(u){if(this.type!==bn.Bytes)return u.push(this.readFixed32());var a=qu(this);for(u=u||[];this.pos<a;)u.push(this.readFixed32());return u},readPackedSFixed32:function(u){if(this.type!==bn.Bytes)return u.push(this.readSFixed32());var a=qu(this);for(u=u||[];this.pos<a;)u.push(this.readSFixed32());return u},readPackedFixed64:function(u){if(this.type!==bn.Bytes)return u.push(this.readFixed64());var a=qu(this);for(u=u||[];this.pos<a;)u.push(this.readFixed64());return u},readPackedSFixed64:function(u){if(this.type!==bn.Bytes)return u.push(this.readSFixed64());var a=qu(this);for(u=u||[];this.pos<a;)u.push(this.readSFixed64());return u},skip:function(u){var a=7&u;if(a===bn.Varint)for(;this.buf[this.pos++]>127;);else if(a===bn.Bytes)this.pos=this.readVarint()+this.pos;else if(a===bn.Fixed32)this.pos+=4;else{if(a!==bn.Fixed64)throw new Error("Unimplemented type: "+a);this.pos+=8}},writeTag:function(u,a){this.writeVarint(u<<3|a)},realloc:function(u){for(var a=this.length||16;a<this.pos+u;)a*=2;if(a!==this.length){var d=new Uint8Array(a);d.set(this.buf),this.buf=d,this.length=a}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(u){this.realloc(4),Nh(this.buf,u,this.pos),this.pos+=4},writeSFixed32:function(u){this.realloc(4),Nh(this.buf,u,this.pos),this.pos+=4},writeFixed64:function(u){this.realloc(8),Nh(this.buf,-1&u,this.pos),Nh(this.buf,Math.floor(u*Qg),this.pos+4),this.pos+=8},writeSFixed64:function(u){this.realloc(8),Nh(this.buf,-1&u,this.pos),Nh(this.buf,Math.floor(u*Qg),this.pos+4),this.pos+=8},writeVarint:function(u){(u=+u||0)>268435455||u<0?(function(a,d){var g,B;if(a>=0?(g=a%4294967296|0,B=a/4294967296|0):(B=~(-a/4294967296),4294967295^(g=~(-a%4294967296))?g=g+1|0:(g=0,B=B+1|0)),a>=18446744073709552e3||a<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");d.realloc(10),(function(E,I,O){O.buf[O.pos++]=127&E|128,E>>>=7,O.buf[O.pos++]=127&E|128,E>>>=7,O.buf[O.pos++]=127&E|128,E>>>=7,O.buf[O.pos++]=127&E|128,O.buf[O.pos]=127&(E>>>=7)})(g,0,d),(function(E,I){var O=(7&E)<<4;I.buf[I.pos++]|=O|((E>>>=3)?128:0),E&&(I.buf[I.pos++]=127&E|((E>>>=7)?128:0),E&&(I.buf[I.pos++]=127&E|((E>>>=7)?128:0),E&&(I.buf[I.pos++]=127&E|((E>>>=7)?128:0),E&&(I.buf[I.pos++]=127&E|((E>>>=7)?128:0),E&&(I.buf[I.pos++]=127&E)))))})(B,d)})(u,this):(this.realloc(4),this.buf[this.pos++]=127&u|(u>127?128:0),u<=127||(this.buf[this.pos++]=127&(u>>>=7)|(u>127?128:0),u<=127||(this.buf[this.pos++]=127&(u>>>=7)|(u>127?128:0),u<=127||(this.buf[this.pos++]=u>>>7&127))))},writeSVarint:function(u){this.writeVarint(u<0?2*-u-1:2*u)},writeBoolean:function(u){this.writeVarint(!!u)},writeString:function(u){u=String(u),this.realloc(4*u.length),this.pos++;var a=this.pos;this.pos=(function(g,B,E){for(var I,O,R=0;R<B.length;R++){if((I=B.charCodeAt(R))>55295&&I<57344){if(!O){I>56319||R+1===B.length?(g[E++]=239,g[E++]=191,g[E++]=189):O=I;continue}if(I<56320){g[E++]=239,g[E++]=191,g[E++]=189,O=I;continue}I=O-55296<<10|I-56320|65536,O=null}else O&&(g[E++]=239,g[E++]=191,g[E++]=189,O=null);I<128?g[E++]=I:(I<2048?g[E++]=I>>6|192:(I<65536?g[E++]=I>>12|224:(g[E++]=I>>18|240,g[E++]=I>>12&63|128),g[E++]=I>>6&63|128),g[E++]=63&I|128)}return E})(this.buf,u,this.pos);var d=this.pos-a;d>=128&&sh(a,d,this),this.pos=a-1,this.writeVarint(d),this.pos+=d},writeFloat:function(u){this.realloc(4),Hd(this.buf,u,this.pos,!0,23,4),this.pos+=4},writeDouble:function(u){this.realloc(8),Hd(this.buf,u,this.pos,!0,52,8),this.pos+=8},writeBytes:function(u){var a=u.length;this.writeVarint(a),this.realloc(a);for(var d=0;d<a;d++)this.buf[this.pos++]=u[d]},writeRawMessage:function(u,a){this.pos++;var d=this.pos;u(a,this);var g=this.pos-d;g>=128&&sh(d,g,this),this.pos=d-1,this.writeVarint(g),this.pos+=g},writeMessage:function(u,a,d){this.writeTag(u,bn.Bytes),this.writeRawMessage(a,d)},writePackedVarint:function(u,a){a.length&&this.writeMessage(u,Tc,a)},writePackedSVarint:function(u,a){a.length&&this.writeMessage(u,Rg,a)},writePackedBoolean:function(u,a){a.length&&this.writeMessage(u,lv,a)},writePackedFloat:function(u,a){a.length&&this.writeMessage(u,zg,a)},writePackedDouble:function(u,a){a.length&&this.writeMessage(u,gu,a)},writePackedFixed32:function(u,a){a.length&&this.writeMessage(u,kf,a)},writePackedSFixed32:function(u,a){a.length&&this.writeMessage(u,Kd,a)},writePackedFixed64:function(u,a){a.length&&this.writeMessage(u,Vd,a)},writePackedSFixed64:function(u,a){a.length&&this.writeMessage(u,Nf,a)},writeBytesField:function(u,a){this.writeTag(u,bn.Bytes),this.writeBytes(a)},writeFixed32Field:function(u,a){this.writeTag(u,bn.Fixed32),this.writeFixed32(a)},writeSFixed32Field:function(u,a){this.writeTag(u,bn.Fixed32),this.writeSFixed32(a)},writeFixed64Field:function(u,a){this.writeTag(u,bn.Fixed64),this.writeFixed64(a)},writeSFixed64Field:function(u,a){this.writeTag(u,bn.Fixed64),this.writeSFixed64(a)},writeVarintField:function(u,a){this.writeTag(u,bn.Varint),this.writeVarint(a)},writeSVarintField:function(u,a){this.writeTag(u,bn.Varint),this.writeSVarint(a)},writeStringField:function(u,a){this.writeTag(u,bn.Bytes),this.writeString(a)},writeFloatField:function(u,a){this.writeTag(u,bn.Fixed32),this.writeFloat(a)},writeDoubleField:function(u,a){this.writeTag(u,bn.Fixed64),this.writeDouble(a)},writeBooleanField:function(u,a){this.writeVarintField(u,!!a)}};var Yp=y(Ng);const Rf=3;function Av(u,a,d){u===1&&d.readMessage(pw,a)}function pw(u,a,d){if(u===3){const{id:g,bitmap:B,width:E,height:I,left:O,top:R,advance:q}=d.readMessage(mw,{});a.push({id:g,bitmap:new Ud({width:E+2*Rf,height:I+2*Rf},B),metrics:{width:E,height:I,left:O,top:R,advance:q}})}}function mw(u,a,d){u===1?a.id=d.readVarint():u===2?a.bitmap=d.readBytes():u===3?a.width=d.readVarint():u===4?a.height=d.readVarint():u===5?a.left=d.readSVarint():u===6?a.top=d.readSVarint():u===7&&(a.advance=d.readVarint())}const ii=Rf;function Fi(u){let a=0,d=0;for(const I of u)a+=I.w*I.h,d=Math.max(d,I.w);u.sort(((I,O)=>O.h-I.h));const g=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(a/.95)),d),h:1/0}];let B=0,E=0;for(const I of u)for(let O=g.length-1;O>=0;O--){const R=g[O];if(!(I.w>R.w||I.h>R.h)){if(I.x=R.x,I.y=R.y,E=Math.max(E,I.y+I.h),B=Math.max(B,I.x+I.w),I.w===R.w&&I.h===R.h){const q=g.pop();O<g.length&&(g[O]=q)}else I.h===R.h?(R.x+=I.w,R.w-=I.w):I.w===R.w?(R.y+=I.h,R.h-=I.h):(g.push({x:R.x+I.w,y:R.y,w:R.w-I.w,h:I.h}),R.y+=I.h,R.h-=I.h);break}}return{w:B,h:E,fill:a/(B*E)||0}}const on=1;class Qn{constructor(a,{pixelRatio:d,version:g,stretchX:B,stretchY:E,content:I,textFitWidth:O,textFitHeight:R}){this.paddedRect=a,this.pixelRatio=d,this.stretchX=B,this.stretchY=E,this.content=I,this.version=g,this.textFitWidth=O,this.textFitHeight=R}get tl(){return[this.paddedRect.x+on,this.paddedRect.y+on]}get br(){return[this.paddedRect.x+this.paddedRect.w-on,this.paddedRect.y+this.paddedRect.h-on]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2*on)/this.pixelRatio,(this.paddedRect.h-2*on)/this.pixelRatio]}}class ci{constructor(a,d){const g={},B={};this.haveRenderCallbacks=[];const E=[];this.addImages(a,g,E),this.addImages(d,B,E);const{w:I,h:O}=Fi(E),R=new Sl({width:I||1,height:O||1});for(const q in a){const Z=a[q],J=g[q].paddedRect;Sl.copy(Z.data,R,{x:0,y:0},{x:J.x+on,y:J.y+on},Z.data)}for(const q in d){const Z=d[q],J=B[q].paddedRect,oe=J.x+on,he=J.y+on,ve=Z.data.width,Ce=Z.data.height;Sl.copy(Z.data,R,{x:0,y:0},{x:oe,y:he},Z.data),Sl.copy(Z.data,R,{x:0,y:Ce-1},{x:oe,y:he-1},{width:ve,height:1}),Sl.copy(Z.data,R,{x:0,y:0},{x:oe,y:he+Ce},{width:ve,height:1}),Sl.copy(Z.data,R,{x:ve-1,y:0},{x:oe-1,y:he},{width:1,height:Ce}),Sl.copy(Z.data,R,{x:0,y:0},{x:oe+ve,y:he},{width:1,height:Ce})}this.image=R,this.iconPositions=g,this.patternPositions=B}addImages(a,d,g){for(const B in a){const E=a[B],I={x:0,y:0,w:E.data.width+2*on,h:E.data.height+2*on};g.push(I),d[B]=new Qn(I,E),E.hasRenderCallback&&this.haveRenderCallbacks.push(B)}}patchUpdatedImages(a,d){a.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const g in a.updatedImages)this.patchUpdatedImage(this.iconPositions[g],a.getImage(g),d),this.patchUpdatedImage(this.patternPositions[g],a.getImage(g),d)}patchUpdatedImage(a,d,g){if(!a||!d||a.version===d.version)return;a.version=d.version;const[B,E]=a.tl;g.update(d.data,void 0,{x:B,y:E})}}var ts;Rt("ImagePosition",Qn),Rt("ImageAtlas",ci),f.ah=void 0,(ts=f.ah||(f.ah={}))[ts.none=0]="none",ts[ts.horizontal=1]="horizontal",ts[ts.vertical=2]="vertical",ts[ts.horizontalOnly=3]="horizontalOnly";const qA=-17;class Gu{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(a,d){const g=new Gu;return g.scale=a||1,g.fontStack=d,g}static forImage(a){const d=new Gu;return d.imageName=a,d}}class oh{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(a,d){const g=new oh;for(let B=0;B<a.sections.length;B++){const E=a.sections[B];E.image?g.addImageSection(E):g.addTextSection(E,d)}return g}length(){return this.text.length}getSection(a){return this.sections[this.sectionIndex[a]]}getSectionIndex(a){return this.sectionIndex[a]}getCharCode(a){return this.text.charCodeAt(a)}verticalizePunctuation(){this.text=(function(a){let d="";for(let g=0;g<a.length;g++){const B=a.charCodeAt(g+1)||null,E=a.charCodeAt(g-1)||null;d+=B&&so(B)&&!Df[a[g+1]]||E&&so(E)&&!Df[a[g-1]]||!Df[a[g]]?a[g]:Df[a[g]]}return d})(this.text)}trim(){let a=0;for(let g=0;g<this.text.length&&sa[this.text.charCodeAt(g)];g++)a++;let d=this.text.length;for(let g=this.text.length-1;g>=0&&g>=a&&sa[this.text.charCodeAt(g)];g--)d--;this.text=this.text.substring(a,d),this.sectionIndex=this.sectionIndex.slice(a,d)}substring(a,d){const g=new oh;return g.text=this.text.substring(a,d),g.sectionIndex=this.sectionIndex.slice(a,d),g.sections=this.sections,g}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce(((a,d)=>Math.max(a,this.sections[d].scale)),0)}addTextSection(a,d){this.text+=a.text,this.sections.push(Gu.forText(a.scale,a.fontStack||d));const g=this.sections.length-1;for(let B=0;B<a.text.length;++B)this.sectionIndex.push(g)}addImageSection(a){const d=a.image?a.image.name:"";if(d.length===0)return void Le("Can't add FormattedSection with an empty image.");const g=this.getNextImageSectionCharCode();g?(this.text+=String.fromCharCode(g),this.sections.push(Gu.forImage(d)),this.sectionIndex.push(this.sections.length-1)):Le("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function GA(u,a,d,g,B,E,I,O,R,q,Z,J,oe,he,ve){const Ce=oh.fromFeature(u,B);let je;J===f.ah.vertical&&Ce.verticalizePunctuation();const{processBidirectionalText:Ze,processStyledBidirectionalText:ht}=fa;if(Ze&&Ce.sections.length===1){je=[];const Bt=Ze(Ce.toString(),Gd(Ce,q,E,a,g,he));for(const Kt of Bt){const er=new oh;er.text=Kt,er.sections=Ce.sections;for(let kr=0;kr<Kt.length;kr++)er.sectionIndex.push(0);je.push(er)}}else if(ht){je=[];const Bt=ht(Ce.text,Ce.sectionIndex,Gd(Ce,q,E,a,g,he));for(const Kt of Bt){const er=new oh;er.text=Kt[0],er.sectionIndex=Kt[1],er.sections=Ce.sections,je.push(er)}}else je=(function(Bt,Kt){const er=[],kr=Bt.text;let Wt=0;for(const Yt of Kt)er.push(Bt.substring(Wt,Yt)),Wt=Yt;return Wt<kr.length&&er.push(Bt.substring(Wt,kr.length)),er})(Ce,Gd(Ce,q,E,a,g,he));const it=[],At={positionedLines:it,text:Ce.toString(),top:Z[1],bottom:Z[1],left:Z[0],right:Z[0],writingMode:J,iconsInText:!1,verticalizable:!1};return(function(Bt,Kt,er,kr,Wt,Yt,pr,Ar,ir,Ut,ar,hr){let qr=0,Rn=qA,Ai=0,ns=0;const Ao=Ar==="right"?1:Ar==="left"?0:.5;let bs=0;for(const da of Wt){da.trim();const as=da.getMaxScale(),uo=(as-1)*Ua,ws={positionedGlyphs:[],lineOffset:0};Bt.positionedLines[bs]=ws;const Ga=ws.positionedGlyphs;let Ma=0;if(!da.length()){Rn+=Yt,++bs;continue}for(let tl=0;tl<da.length();tl++){const Fn=da.getSection(tl),ti=da.getSectionIndex(tl),Bi=da.getCharCode(tl);let co=0,Ni=null,dh=null,AA=null,vu=Ua;const uA=!(ir===f.ah.horizontal||!ar&&!Bl(Bi)||ar&&(sa[Bi]||(is=Bi,new RegExp("\\p{sc=Arab}","u").test(String.fromCodePoint(is)))));if(Fn.imageName){const cA=kr[Fn.imageName];if(!cA)continue;AA=Fn.imageName,Bt.iconsInText=Bt.iconsInText||!0,dh=cA.paddedRect;const ss=cA.displaySize;Fn.scale=Fn.scale*Ua/hr,Ni={width:ss[0],height:ss[1],left:on,top:-ii,advance:uA?ss[1]:ss[0]},co=uo+(Ua-ss[1]*Fn.scale),vu=Ni.advance;const Fc=uA?ss[0]*Fn.scale-Ua*as:ss[1]*Fn.scale-Ua*as;Fc>0&&Fc>Ma&&(Ma=Fc)}else{const cA=er[Fn.fontStack],ss=cA&&cA[Bi];if(ss&&ss.rect)dh=ss.rect,Ni=ss.metrics;else{const Fc=Kt[Fn.fontStack],Vh=Fc&&Fc[Bi];if(!Vh)continue;Ni=Vh.metrics}co=(as-Fn.scale)*Ua}uA?(Bt.verticalizable=!0,Ga.push({glyph:Bi,imageName:AA,x:qr,y:Rn+co,vertical:uA,scale:Fn.scale,fontStack:Fn.fontStack,sectionIndex:ti,metrics:Ni,rect:dh}),qr+=vu*Fn.scale+Ut):(Ga.push({glyph:Bi,imageName:AA,x:qr,y:Rn+co,vertical:uA,scale:Fn.scale,fontStack:Fn.fontStack,sectionIndex:ti,metrics:Ni,rect:dh}),qr+=Ni.advance*Fn.scale+Ut)}Ga.length!==0&&(Ai=Math.max(qr-Ut,Ai),uv(Ga,0,Ga.length-1,Ao,Ma)),qr=0;const Fl=Yt*as+Ma;ws.lineOffset=Math.max(Ma,uo),Rn+=Fl,ns=Math.max(Fl,ns),++bs}var is;const Io=Rn-qA,{horizontalAlign:Fo,verticalAlign:Lo}=Hf(pr);(function(da,as,uo,ws,Ga,Ma,Fl,tl,Fn){const ti=(as-uo)*Ga;let Bi=0;Bi=Ma!==Fl?-tl*ws-qA:(-ws*Fn+.5)*Fl;for(const co of da)for(const Ni of co.positionedGlyphs)Ni.x+=ti,Ni.y+=Bi})(Bt.positionedLines,Ao,Fo,Lo,Ai,ns,Yt,Io,Wt.length),Bt.top+=-Lo*Io,Bt.bottom=Bt.top+Io,Bt.left+=-Fo*Ai,Bt.right=Bt.left+Ai})(At,a,d,g,je,I,O,R,J,q,oe,ve),!(function(Bt){for(const Kt of Bt)if(Kt.positionedGlyphs.length!==0)return!1;return!0})(it)&&At}const sa={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},lh={10:!0,32:!0,38:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0},Qh={40:!0};function Jp(u,a,d,g,B,E){if(a.imageName){const I=g[a.imageName];return I?I.displaySize[0]*a.scale*Ua/E+B:0}{const I=d[a.fontStack],O=I&&I[u];return O?O.metrics.advance*a.scale+B:0}}function Il(u,a,d,g){const B=Math.pow(u-a,2);return g?u<a?B/2:2*B:B+Math.abs(d)*d}function zf(u,a,d){let g=0;return u===10&&(g-=1e4),d&&(g+=150),u!==40&&u!==65288||(g+=50),a!==41&&a!==65289||(g+=50),g}function jf(u,a,d,g,B,E){let I=null,O=Il(a,d,B,E);for(const R of g){const q=Il(a-R.x,d,B,E)+R.badness;q<=O&&(I=R,O=q)}return{index:u,x:a,priorBreak:I,badness:O}}function el(u){return u?el(u.priorBreak).concat(u.index):[]}function Gd(u,a,d,g,B,E){if(!u)return[];const I=[],O=(function(J,oe,he,ve,Ce,je){let Ze=0;for(let ht=0;ht<J.length();ht++){const it=J.getSection(ht);Ze+=Jp(J.getCharCode(ht),it,ve,Ce,oe,je)}return Ze/Math.max(1,Math.ceil(Ze/he))})(u,a,d,g,B,E),R=u.text.indexOf("")>=0;let q=0;for(let J=0;J<u.length();J++){const oe=u.getSection(J),he=u.getCharCode(J);if(sa[he]||(q+=Jp(he,oe,g,B,a,E)),J<u.length()-1){const ve=!((Z=he)<11904)&&(!!Hr["CJK Compatibility Forms"](Z)||!!Hr["CJK Compatibility"](Z)||!!Hr["CJK Strokes"](Z)||!!Hr["CJK Symbols and Punctuation"](Z)||!!Hr["Enclosed CJK Letters and Months"](Z)||!!Hr["Halfwidth and Fullwidth Forms"](Z)||!!Hr["Ideographic Description Characters"](Z)||!!Hr["Vertical Forms"](Z)||Yo.test(String.fromCodePoint(Z)));(lh[he]||ve||oe.imageName||J!==u.length()-2&&Qh[u.getCharCode(J+1)])&&I.push(jf(J+1,q,O,I,zf(he,u.getCharCode(J+1),ve&&R),!1))}}var Z;return el(jf(u.length(),q,O,I,0,!0))}function Hf(u){let a=.5,d=.5;switch(u){case"right":case"top-right":case"bottom-right":a=1;break;case"left":case"top-left":case"bottom-left":a=0}switch(u){case"bottom":case"bottom-right":case"bottom-left":d=1;break;case"top":case"top-right":case"top-left":d=0}return{horizontalAlign:a,verticalAlign:d}}function uv(u,a,d,g,B){if(!g&&!B)return;const E=u[d],I=(u[d].x+E.metrics.advance*E.scale)*g;for(let O=a;O<=d;O++)u[O].x-=I,u[O].y+=B}function em(u,a,d){const{horizontalAlign:g,verticalAlign:B}=Hf(d),E=a[0]-u.displaySize[0]*g,I=a[1]-u.displaySize[1]*B;return{image:u,top:I,bottom:I+u.displaySize[1],left:E,right:E+u.displaySize[0]}}function $d(u){var a,d;let g=u.left,B=u.top,E=u.right-g,I=u.bottom-B;const O=(a=u.image.textFitWidth)!==null&&a!==void 0?a:"stretchOrShrink",R=(d=u.image.textFitHeight)!==null&&d!==void 0?d:"stretchOrShrink",q=(u.image.content[2]-u.image.content[0])/(u.image.content[3]-u.image.content[1]);if(R==="proportional"){if(O==="stretchOnly"&&E/I<q||O==="proportional"){const Z=Math.ceil(I*q);g*=Z/E,E=Z}}else if(O==="proportional"&&R==="stretchOnly"&&q!==0&&E/I>q){const Z=Math.ceil(E/q);B*=Z/I,I=Z}return{x1:g,y1:B,x2:g+E,y2:B+I}}function Ic(u,a,d,g,B,E){const I=u.image;let O;if(I.content){const je=I.content,Ze=I.pixelRatio||1;O=[je[0]/Ze,je[1]/Ze,I.displaySize[0]-je[2]/Ze,I.displaySize[1]-je[3]/Ze]}const R=a.left*E,q=a.right*E;let Z,J,oe,he;d==="width"||d==="both"?(he=B[0]+R-g[3],J=B[0]+q+g[1]):(he=B[0]+(R+q-I.displaySize[0])/2,J=he+I.displaySize[0]);const ve=a.top*E,Ce=a.bottom*E;return d==="height"||d==="both"?(Z=B[1]+ve-g[0],oe=B[1]+Ce+g[2]):(Z=B[1]+(ve+Ce-I.displaySize[1])/2,oe=Z+I.displaySize[1]),{image:I,top:Z,right:J,bottom:oe,left:he,collisionPadding:O}}const Ba=255,lo=128,oA=Ba*lo;function $u(u,a){const{expression:d}=a;if(d.kind==="constant")return{kind:"constant",layoutSize:d.evaluate(new pn(u+1))};if(d.kind==="source")return{kind:"source"};{const{zoomStops:g,interpolationType:B}=d;let E=0;for(;E<g.length&&g[E]<=u;)E++;E=Math.max(0,E-1);let I=E;for(;I<g.length&&g[I]<u+1;)I++;I=Math.min(g.length-1,I);const O=g[E],R=g[I];return d.kind==="composite"?{kind:"composite",minZoom:O,maxZoom:R,interpolationType:B}:{kind:"camera",minZoom:O,maxZoom:R,minSize:d.evaluate(new pn(O)),maxSize:d.evaluate(new pn(R)),interpolationType:B}}}function Xd(u,a,d){let g="never";const B=u.get(a);return B?g=B:u.get(d)&&(g="always"),g}const jg=Cc.VectorTileFeature.types,cv=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Ah(u,a,d,g,B,E,I,O,R,q,Z,J,oe){const he=O?Math.min(oA,Math.round(O[0])):0,ve=O?Math.min(oA,Math.round(O[1])):0;u.emplaceBack(a,d,Math.round(32*g),Math.round(32*B),E,I,(he<<1)+(R?1:0),ve,16*q,16*Z,256*J,256*oe)}function Zd(u,a,d){u.emplaceBack(a.x,a.y,d),u.emplaceBack(a.x,a.y,d),u.emplaceBack(a.x,a.y,d),u.emplaceBack(a.x,a.y,d)}function lA(u){for(const a of u.sections)if(Zc(a.text))return!0;return!1}class tm{constructor(a){this.layoutVertexArray=new wa,this.indexArray=new Ii,this.programConfigurations=a,this.segments=new cn,this.dynamicLayoutVertexArray=new Ti,this.opacityVertexArray=new gr,this.hasVisibleVertices=!1,this.placedSymbolArray=new un}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(a,d,g,B){this.isEmpty()||(g&&(this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,dw.members),this.indexBuffer=a.createIndexBuffer(this.indexArray,d),this.dynamicLayoutVertexBuffer=a.createVertexBuffer(this.dynamicLayoutVertexArray,av.members,!0),this.opacityVertexBuffer=a.createVertexBuffer(this.opacityVertexArray,cv,!0),this.opacityVertexBuffer.itemSize=1),(g||B)&&this.programConfigurations.upload(a))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}Rt("SymbolBuffers",tm);class Eo{constructor(a,d,g){this.layoutVertexArray=new a,this.layoutAttributes=d,this.indexArray=new g,this.segments=new cn,this.collisionVertexArray=new xn}upload(a){this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=a.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=a.createVertexBuffer(this.collisionVertexArray,sv.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}Rt("CollisionBuffers",Eo);class Rh{constructor(a){this.collisionBoxArray=a.collisionBoxArray,this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map((I=>I.id)),this.index=a.index,this.pixelRatio=a.pixelRatio,this.sourceLayerIndex=a.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=zp([]),this.placementViewportMatrix=zp([]);const d=this.layers[0]._unevaluatedLayout._values;this.textSizeData=$u(this.zoom,d["text-size"]),this.iconSizeData=$u(this.zoom,d["icon-size"]);const g=this.layers[0].layout,B=g.get("symbol-sort-key"),E=g.get("symbol-z-order");this.canOverlap=Xd(g,"text-overlap","text-allow-overlap")!=="never"||Xd(g,"icon-overlap","icon-allow-overlap")!=="never"||g.get("text-ignore-placement")||g.get("icon-ignore-placement"),this.sortFeaturesByKey=E!=="viewport-y"&&!B.isConstant(),this.sortFeaturesByY=(E==="viewport-y"||E==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,g.get("symbol-placement")==="point"&&(this.writingModes=g.get("text-writing-mode").map((I=>f.ah[I]))),this.stateDependentLayerIds=this.layers.filter((I=>I.isStateDependent())).map((I=>I.id)),this.sourceID=a.sourceID}createArrays(){this.text=new tm(new zu(this.layers,this.zoom,(a=>/^text/.test(a)))),this.icon=new tm(new zu(this.layers,this.zoom,(a=>/^icon/.test(a)))),this.glyphOffsetArray=new wr,this.lineVertexArray=new an,this.symbolInstances=new Ur,this.textAnchorOffsets=new Dr}calculateGlyphDependencies(a,d,g,B,E){for(let I=0;I<a.length;I++)if(d[a.charCodeAt(I)]=!0,(g||B)&&E){const O=Df[a.charAt(I)];O&&(d[O.charCodeAt(0)]=!0)}}populate(a,d,g){const B=this.layers[0],E=B.layout,I=E.get("text-font"),O=E.get("text-field"),R=E.get("icon-image"),q=(O.value.kind!=="constant"||O.value.value instanceof vi&&!O.value.value.isEmpty()||O.value.value.toString().length>0)&&(I.value.kind!=="constant"||I.value.value.length>0),Z=R.value.kind!=="constant"||!!R.value.value||Object.keys(R.parameters).length>0,J=E.get("symbol-sort-key");if(this.features=[],!q&&!Z)return;const oe=d.iconDependencies,he=d.glyphDependencies,ve=d.availableImages,Ce=new pn(this.zoom);for(const{feature:je,id:Ze,index:ht,sourceLayerIndex:it}of a){const At=B._featureFilter.needGeometry,Bt=ju(je,At);if(!B._featureFilter.filter(Ce,Bt,g))continue;let Kt,er;if(At||(Bt.geometry=du(je)),q){const Wt=B.getValueAndResolveTokens("text-field",Bt,g,ve),Yt=vi.factory(Wt),pr=this.hasRTLText=this.hasRTLText||lA(Yt);(!pr||fa.getRTLTextPluginStatus()==="unavailable"||pr&&fa.isParsed())&&(Kt=Ec(Yt,B,Bt))}if(Z){const Wt=B.getValueAndResolveTokens("icon-image",Bt,g,ve);er=Wt instanceof Qa?Wt:Qa.fromString(Wt)}if(!Kt&&!er)continue;const kr=this.sortFeaturesByKey?J.evaluate(Bt,{},g):void 0;if(this.features.push({id:Ze,text:Kt,icon:er,index:ht,sourceLayerIndex:it,geometry:Bt.geometry,properties:je.properties,type:jg[je.type],sortKey:kr}),er&&(oe[er.name]=!0),Kt){const Wt=I.evaluate(Bt,{},g).join(","),Yt=E.get("text-rotation-alignment")!=="viewport"&&E.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(f.ah.vertical)>=0;for(const pr of Kt.sections)if(pr.image)oe[pr.image.name]=!0;else{const Ar=Yl(Kt.toString()),ir=pr.fontStack||Wt,Ut=he[ir]=he[ir]||{};this.calculateGlyphDependencies(pr.text,Ut,Yt,this.allowVerticalPlacement,Ar)}}}E.get("symbol-placement")==="line"&&(this.features=(function(je){const Ze={},ht={},it=[];let At=0;function Bt(Wt){it.push(je[Wt]),At++}function Kt(Wt,Yt,pr){const Ar=ht[Wt];return delete ht[Wt],ht[Yt]=Ar,it[Ar].geometry[0].pop(),it[Ar].geometry[0]=it[Ar].geometry[0].concat(pr[0]),Ar}function er(Wt,Yt,pr){const Ar=Ze[Yt];return delete Ze[Yt],Ze[Wt]=Ar,it[Ar].geometry[0].shift(),it[Ar].geometry[0]=pr[0].concat(it[Ar].geometry[0]),Ar}function kr(Wt,Yt,pr){const Ar=pr?Yt[0][Yt[0].length-1]:Yt[0][0];return`${Wt}:${Ar.x}:${Ar.y}`}for(let Wt=0;Wt<je.length;Wt++){const Yt=je[Wt],pr=Yt.geometry,Ar=Yt.text?Yt.text.toString():null;if(!Ar){Bt(Wt);continue}const ir=kr(Ar,pr),Ut=kr(Ar,pr,!0);if(ir in ht&&Ut in Ze&&ht[ir]!==Ze[Ut]){const ar=er(ir,Ut,pr),hr=Kt(ir,Ut,it[ar].geometry);delete Ze[ir],delete ht[Ut],ht[kr(Ar,it[hr].geometry,!0)]=hr,it[ar].geometry=null}else ir in ht?Kt(ir,Ut,pr):Ut in Ze?er(ir,Ut,pr):(Bt(Wt),Ze[ir]=At-1,ht[Ut]=At-1)}return it.filter((Wt=>Wt.geometry))})(this.features)),this.sortFeaturesByKey&&this.features.sort(((je,Ze)=>je.sortKey-Ze.sortKey))}update(a,d,g){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(a,d,this.layers,g),this.icon.programConfigurations.updatePaintArrays(a,d,this.layers,g))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(a){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(a),this.iconCollisionBox.upload(a)),this.text.upload(a,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(a,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(a,d){const g=this.lineVertexArray.length;if(a.segment!==void 0){let B=a.dist(d[a.segment+1]),E=a.dist(d[a.segment]);const I={};for(let O=a.segment+1;O<d.length;O++)I[O]={x:d[O].x,y:d[O].y,tileUnitDistanceFromAnchor:B},O<d.length-1&&(B+=d[O+1].dist(d[O]));for(let O=a.segment||0;O>=0;O--)I[O]={x:d[O].x,y:d[O].y,tileUnitDistanceFromAnchor:E},O>0&&(E+=d[O-1].dist(d[O]));for(let O=0;O<d.length;O++){const R=I[O];this.lineVertexArray.emplaceBack(R.x,R.y,R.tileUnitDistanceFromAnchor)}}return{lineStartIndex:g,lineLength:this.lineVertexArray.length-g}}addSymbols(a,d,g,B,E,I,O,R,q,Z,J,oe){const he=a.indexArray,ve=a.layoutVertexArray,Ce=a.segments.prepareSegment(4*d.length,ve,he,this.canOverlap?I.sortKey:void 0),je=this.glyphOffsetArray.length,Ze=Ce.vertexLength,ht=this.allowVerticalPlacement&&O===f.ah.vertical?Math.PI/2:0,it=I.text&&I.text.sections;for(let At=0;At<d.length;At++){const{tl:Bt,tr:Kt,bl:er,br:kr,tex:Wt,pixelOffsetTL:Yt,pixelOffsetBR:pr,minFontScaleX:Ar,minFontScaleY:ir,glyphOffset:Ut,isSDF:ar,sectionIndex:hr}=d[At],qr=Ce.vertexLength,Rn=Ut[1];Ah(ve,R.x,R.y,Bt.x,Rn+Bt.y,Wt.x,Wt.y,g,ar,Yt.x,Yt.y,Ar,ir),Ah(ve,R.x,R.y,Kt.x,Rn+Kt.y,Wt.x+Wt.w,Wt.y,g,ar,pr.x,Yt.y,Ar,ir),Ah(ve,R.x,R.y,er.x,Rn+er.y,Wt.x,Wt.y+Wt.h,g,ar,Yt.x,pr.y,Ar,ir),Ah(ve,R.x,R.y,kr.x,Rn+kr.y,Wt.x+Wt.w,Wt.y+Wt.h,g,ar,pr.x,pr.y,Ar,ir),Zd(a.dynamicLayoutVertexArray,R,ht),he.emplaceBack(qr,qr+1,qr+2),he.emplaceBack(qr+1,qr+2,qr+3),Ce.vertexLength+=4,Ce.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Ut[0]),At!==d.length-1&&hr===d[At+1].sectionIndex||a.programConfigurations.populatePaintArrays(ve.length,I,I.index,{},oe,it&&it[hr])}a.placedSymbolArray.emplaceBack(R.x,R.y,je,this.glyphOffsetArray.length-je,Ze,q,Z,R.segment,g?g[0]:0,g?g[1]:0,B[0],B[1],O,0,!1,0,J)}_addCollisionDebugVertex(a,d,g,B,E,I){return d.emplaceBack(0,0),a.emplaceBack(g.x,g.y,B,E,Math.round(I.x),Math.round(I.y))}addCollisionDebugVertices(a,d,g,B,E,I,O){const R=E.segments.prepareSegment(4,E.layoutVertexArray,E.indexArray),q=R.vertexLength,Z=E.layoutVertexArray,J=E.collisionVertexArray,oe=O.anchorX,he=O.anchorY;this._addCollisionDebugVertex(Z,J,I,oe,he,new C(a,d)),this._addCollisionDebugVertex(Z,J,I,oe,he,new C(g,d)),this._addCollisionDebugVertex(Z,J,I,oe,he,new C(g,B)),this._addCollisionDebugVertex(Z,J,I,oe,he,new C(a,B)),R.vertexLength+=4;const ve=E.indexArray;ve.emplaceBack(q,q+1),ve.emplaceBack(q+1,q+2),ve.emplaceBack(q+2,q+3),ve.emplaceBack(q+3,q),R.primitiveLength+=4}addDebugCollisionBoxes(a,d,g,B){for(let E=a;E<d;E++){const I=this.collisionBoxArray.get(E);this.addCollisionDebugVertices(I.x1,I.y1,I.x2,I.y2,B?this.textCollisionBox:this.iconCollisionBox,I.anchorPoint,g)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Eo(vr,aa.members,ni),this.iconCollisionBox=new Eo(vr,aa.members,ni);for(let a=0;a<this.symbolInstances.length;a++){const d=this.symbolInstances.get(a);this.addDebugCollisionBoxes(d.textBoxStartIndex,d.textBoxEndIndex,d,!0),this.addDebugCollisionBoxes(d.verticalTextBoxStartIndex,d.verticalTextBoxEndIndex,d,!0),this.addDebugCollisionBoxes(d.iconBoxStartIndex,d.iconBoxEndIndex,d,!1),this.addDebugCollisionBoxes(d.verticalIconBoxStartIndex,d.verticalIconBoxEndIndex,d,!1)}}_deserializeCollisionBoxesForSymbol(a,d,g,B,E,I,O,R,q){const Z={};for(let J=d;J<g;J++){const oe=a.get(J);Z.textBox={x1:oe.x1,y1:oe.y1,x2:oe.x2,y2:oe.y2,anchorPointX:oe.anchorPointX,anchorPointY:oe.anchorPointY},Z.textFeatureIndex=oe.featureIndex;break}for(let J=B;J<E;J++){const oe=a.get(J);Z.verticalTextBox={x1:oe.x1,y1:oe.y1,x2:oe.x2,y2:oe.y2,anchorPointX:oe.anchorPointX,anchorPointY:oe.anchorPointY},Z.verticalTextFeatureIndex=oe.featureIndex;break}for(let J=I;J<O;J++){const oe=a.get(J);Z.iconBox={x1:oe.x1,y1:oe.y1,x2:oe.x2,y2:oe.y2,anchorPointX:oe.anchorPointX,anchorPointY:oe.anchorPointY},Z.iconFeatureIndex=oe.featureIndex;break}for(let J=R;J<q;J++){const oe=a.get(J);Z.verticalIconBox={x1:oe.x1,y1:oe.y1,x2:oe.x2,y2:oe.y2,anchorPointX:oe.anchorPointX,anchorPointY:oe.anchorPointY},Z.verticalIconFeatureIndex=oe.featureIndex;break}return Z}deserializeCollisionBoxes(a){this.collisionArrays=[];for(let d=0;d<this.symbolInstances.length;d++){const g=this.symbolInstances.get(d);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(a,g.textBoxStartIndex,g.textBoxEndIndex,g.verticalTextBoxStartIndex,g.verticalTextBoxEndIndex,g.iconBoxStartIndex,g.iconBoxEndIndex,g.verticalIconBoxStartIndex,g.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(a,d){const g=a.placedSymbolArray.get(d),B=g.vertexStartIndex+4*g.numGlyphs;for(let E=g.vertexStartIndex;E<B;E+=4)a.indexArray.emplaceBack(E,E+1,E+2),a.indexArray.emplaceBack(E+1,E+2,E+3)}getSortedSymbolIndexes(a){if(this.sortedAngle===a&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const d=Math.sin(a),g=Math.cos(a),B=[],E=[],I=[];for(let O=0;O<this.symbolInstances.length;++O){I.push(O);const R=this.symbolInstances.get(O);B.push(0|Math.round(d*R.anchorX+g*R.anchorY)),E.push(R.featureIndex)}return I.sort(((O,R)=>B[O]-B[R]||E[R]-E[O])),I}addToSortKeyRanges(a,d){const g=this.sortKeyRanges[this.sortKeyRanges.length-1];g&&g.sortKey===d?g.symbolInstanceEnd=a+1:this.sortKeyRanges.push({sortKey:d,symbolInstanceStart:a,symbolInstanceEnd:a+1})}sortFeatures(a){if(this.sortFeaturesByY&&this.sortedAngle!==a&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(a),this.sortedAngle=a,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const d of this.symbolInstanceIndexes){const g=this.symbolInstances.get(d);this.featureSortOrder.push(g.featureIndex),[g.rightJustifiedTextSymbolIndex,g.centerJustifiedTextSymbolIndex,g.leftJustifiedTextSymbolIndex].forEach(((B,E,I)=>{B>=0&&I.indexOf(B)===E&&this.addIndicesForPlacedSymbol(this.text,B)})),g.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,g.verticalPlacedTextSymbolIndex),g.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,g.placedIconSymbolIndex),g.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,g.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let Hg,hv;Rt("SymbolBucket",Rh,{omit:["layers","collisionBoxArray","features","compareText"]}),Rh.MAX_GLYPHS=65535,Rh.addDynamicAttributes=Zd;var Xu={get paint(){return hv=hv||new _({"icon-opacity":new Cr(Ye.paint_symbol["icon-opacity"]),"icon-color":new Cr(Ye.paint_symbol["icon-color"]),"icon-halo-color":new Cr(Ye.paint_symbol["icon-halo-color"]),"icon-halo-width":new Cr(Ye.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Cr(Ye.paint_symbol["icon-halo-blur"]),"icon-translate":new lr(Ye.paint_symbol["icon-translate"]),"icon-translate-anchor":new lr(Ye.paint_symbol["icon-translate-anchor"]),"text-opacity":new Cr(Ye.paint_symbol["text-opacity"]),"text-color":new Cr(Ye.paint_symbol["text-color"],{runtimeType:Zr,getOverride:u=>u.textColor,hasOverride:u=>!!u.textColor}),"text-halo-color":new Cr(Ye.paint_symbol["text-halo-color"]),"text-halo-width":new Cr(Ye.paint_symbol["text-halo-width"]),"text-halo-blur":new Cr(Ye.paint_symbol["text-halo-blur"]),"text-translate":new lr(Ye.paint_symbol["text-translate"]),"text-translate-anchor":new lr(Ye.paint_symbol["text-translate-anchor"])})},get layout(){return Hg=Hg||new _({"symbol-placement":new lr(Ye.layout_symbol["symbol-placement"]),"symbol-spacing":new lr(Ye.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new lr(Ye.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Cr(Ye.layout_symbol["symbol-sort-key"]),"symbol-z-order":new lr(Ye.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new lr(Ye.layout_symbol["icon-allow-overlap"]),"icon-overlap":new lr(Ye.layout_symbol["icon-overlap"]),"icon-ignore-placement":new lr(Ye.layout_symbol["icon-ignore-placement"]),"icon-optional":new lr(Ye.layout_symbol["icon-optional"]),"icon-rotation-alignment":new lr(Ye.layout_symbol["icon-rotation-alignment"]),"icon-size":new Cr(Ye.layout_symbol["icon-size"]),"icon-text-fit":new lr(Ye.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new lr(Ye.layout_symbol["icon-text-fit-padding"]),"icon-image":new Cr(Ye.layout_symbol["icon-image"]),"icon-rotate":new Cr(Ye.layout_symbol["icon-rotate"]),"icon-padding":new Cr(Ye.layout_symbol["icon-padding"]),"icon-keep-upright":new lr(Ye.layout_symbol["icon-keep-upright"]),"icon-offset":new Cr(Ye.layout_symbol["icon-offset"]),"icon-anchor":new Cr(Ye.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new lr(Ye.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new lr(Ye.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new lr(Ye.layout_symbol["text-rotation-alignment"]),"text-field":new Cr(Ye.layout_symbol["text-field"]),"text-font":new Cr(Ye.layout_symbol["text-font"]),"text-size":new Cr(Ye.layout_symbol["text-size"]),"text-max-width":new Cr(Ye.layout_symbol["text-max-width"]),"text-line-height":new lr(Ye.layout_symbol["text-line-height"]),"text-letter-spacing":new Cr(Ye.layout_symbol["text-letter-spacing"]),"text-justify":new Cr(Ye.layout_symbol["text-justify"]),"text-radial-offset":new Cr(Ye.layout_symbol["text-radial-offset"]),"text-variable-anchor":new lr(Ye.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new Cr(Ye.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new Cr(Ye.layout_symbol["text-anchor"]),"text-max-angle":new lr(Ye.layout_symbol["text-max-angle"]),"text-writing-mode":new lr(Ye.layout_symbol["text-writing-mode"]),"text-rotate":new Cr(Ye.layout_symbol["text-rotate"]),"text-padding":new lr(Ye.layout_symbol["text-padding"]),"text-keep-upright":new lr(Ye.layout_symbol["text-keep-upright"]),"text-transform":new Cr(Ye.layout_symbol["text-transform"]),"text-offset":new Cr(Ye.layout_symbol["text-offset"]),"text-allow-overlap":new lr(Ye.layout_symbol["text-allow-overlap"]),"text-overlap":new lr(Ye.layout_symbol["text-overlap"]),"text-ignore-placement":new lr(Ye.layout_symbol["text-ignore-placement"]),"text-optional":new lr(Ye.layout_symbol["text-optional"])})}};class Wd{constructor(a){if(a.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=a.property.overrides?a.property.overrides.runtimeType:ri,this.defaultValue=a}evaluate(a){if(a.formattedSection){const d=this.defaultValue.property.overrides;if(d&&d.hasOverride(a.formattedSection))return d.getOverride(a.formattedSection)}return a.feature&&a.featureState?this.defaultValue.evaluate(a.feature,a.featureState):this.defaultValue.property.specification.default}eachChild(a){this.defaultValue.isConstant()||a(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Rt("FormatSectionOverride",Wd,{omit:["defaultValue"]});class Kf extends h{constructor(a){super(a,Xu)}recalculate(a,d){if(super.recalculate(a,d),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const g=this.layout.get("text-writing-mode");if(g){const B=[];for(const E of g)B.indexOf(E)<0&&B.push(E);this.layout._values["text-writing-mode"]=B}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(a,d,g,B){const E=this.layout.get(a).evaluate(d,{},g,B),I=this._unevaluatedLayout._values[a];return I.isDataDriven()||fs(I.value)||!E?E:(function(O,R){return R.replace(/{([^{}]+)}/g,((q,Z)=>O&&Z in O?String(O[Z]):""))})(d.properties,E)}createBucket(a){return new Rh(a)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const a of Xu.paint.overridableProperties){if(!Kf.hasPaintOverride(this.layout,a))continue;const d=this.paint.get(a),g=new Wd(d),B=new _a(g,d.property.specification);let E=null;E=d.value.kind==="constant"||d.value.kind==="source"?new Bn("source",B):new Xn("composite",B,d.value.zoomStops),this.paint._values[a]=new ys(d.property,E,d.parameters)}}_handleOverridablePaintPropertyUpdate(a,d,g){return!(!this.layout||d.isDataDriven()||g.isDataDriven())&&Kf.hasPaintOverride(this.layout,a)}static hasPaintOverride(a,d){const g=a.get("text-field"),B=Xu.paint.properties[d];let E=!1;const I=O=>{for(const R of O)if(B.overrides&&B.overrides.hasOverride(R))return void(E=!0)};if(g.value.kind==="constant"&&g.value.value instanceof vi)I(g.value.value.sections);else if(g.value.kind==="source"){const O=q=>{E||(q instanceof Wi&&Vn(q.value)===zr?I(q.value.sections):q instanceof Gl?I(q.sections):q.eachChild(O))},R=g.value;R._styleExpression&&O(R._styleExpression.expression)}return E}}let zh;var fv={get paint(){return zh=zh||new _({"background-color":new lr(Ye.paint_background["background-color"]),"background-pattern":new D(Ye.paint_background["background-pattern"]),"background-opacity":new lr(Ye.paint_background["background-opacity"])})}};class dv extends h{constructor(a){super(a,fv)}}let Kg;var pv={get paint(){return Kg=Kg||new _({"raster-opacity":new lr(Ye.paint_raster["raster-opacity"]),"raster-hue-rotate":new lr(Ye.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new lr(Ye.paint_raster["raster-brightness-min"]),"raster-brightness-max":new lr(Ye.paint_raster["raster-brightness-max"]),"raster-saturation":new lr(Ye.paint_raster["raster-saturation"]),"raster-contrast":new lr(Ye.paint_raster["raster-contrast"]),"raster-resampling":new lr(Ye.paint_raster["raster-resampling"]),"raster-fade-duration":new lr(Ye.paint_raster["raster-fade-duration"])})}};class rm extends h{constructor(a){super(a,pv)}}class Vg extends h{constructor(a){super(a,{}),this.onAdd=d=>{this.implementation.onAdd&&this.implementation.onAdd(d,d.painter.context.gl)},this.onRemove=d=>{this.implementation.onRemove&&this.implementation.onRemove(d,d.painter.context.gl)},this.implementation=a}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class gw{constructor(a){this._methodToThrottle=a,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._methodToThrottle()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((()=>{this._triggered=!1,this._methodToThrottle()}),0))}remove(){delete this._channel,this._methodToThrottle=()=>{}}}const qg=63710088e-1;class uh{constructor(a,d){if(isNaN(a)||isNaN(d))throw new Error(`Invalid LngLat object: (${a}, ${d})`);if(this.lng=+a,this.lat=+d,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new uh(pe(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(a){const d=Math.PI/180,g=this.lat*d,B=a.lat*d,E=Math.sin(g)*Math.sin(B)+Math.cos(g)*Math.cos(B)*Math.cos((a.lng-this.lng)*d);return qg*Math.acos(Math.min(E,1))}static convert(a){if(a instanceof uh)return a;if(Array.isArray(a)&&(a.length===2||a.length===3))return new uh(Number(a[0]),Number(a[1]));if(!Array.isArray(a)&&typeof a=="object"&&a!==null)return new uh(Number("lng"in a?a.lng:a.lon),Number(a.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const Gg=2*Math.PI*qg;function $g(u){return Gg*Math.cos(u*Math.PI/180)}function jh(u){return(180+u)/360}function Yd(u){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+u*Math.PI/360)))/360}function Xg(u,a){return u/$g(a)}function nm(u){return 360/Math.PI*Math.atan(Math.exp((180-360*u)*Math.PI/180))-90}class Vf{constructor(a,d,g=0){this.x=+a,this.y=+d,this.z=+g}static fromLngLat(a,d=0){const g=uh.convert(a);return new Vf(jh(g.lng),Yd(g.lat),Xg(d,g.lat))}toLngLat(){return new uh(360*this.x-180,nm(this.y))}toAltitude(){return this.z*$g(nm(this.y))}meterInMercatorCoordinateUnits(){return 1/Gg*(a=nm(this.y),1/Math.cos(a*Math.PI/180));var a}}function Zg(u,a,d){var g=2*Math.PI*6378137/256/Math.pow(2,d);return[u*g-2*Math.PI*6378137/2,a*g-2*Math.PI*6378137/2]}class im{constructor(a,d,g){if(!(function(B,E,I){return!(B<0||B>25||I<0||I>=Math.pow(2,B)||E<0||E>=Math.pow(2,B))})(a,d,g))throw new Error(`x=${d}, y=${g}, z=${a} outside of bounds. 0<=x<${Math.pow(2,a)}, 0<=y<${Math.pow(2,a)} 0<=z<=25 `);this.z=a,this.x=d,this.y=g,this.key=qf(0,a,a,d,g)}equals(a){return this.z===a.z&&this.x===a.x&&this.y===a.y}url(a,d,g){const B=(I=this.y,O=this.z,R=Zg(256*(E=this.x),256*(I=Math.pow(2,O)-I-1),O),q=Zg(256*(E+1),256*(I+1),O),R[0]+","+R[1]+","+q[0]+","+q[1]);var E,I,O,R,q;const Z=(function(J,oe,he){let ve,Ce="";for(let je=J;je>0;je--)ve=1<<je-1,Ce+=(oe&ve?1:0)+(he&ve?2:0);return Ce})(this.z,this.x,this.y);return a[(this.x+this.y)%a.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(g==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,d>1?"@2x":"").replace(/{quadkey}/g,Z).replace(/{bbox-epsg-3857}/g,B)}isChildOf(a){const d=this.z-a.z;return d>0&&a.x===this.x>>d&&a.y===this.y>>d}getTilePoint(a){const d=Math.pow(2,this.z);return new C((a.x*d-this.x)*ra,(a.y*d-this.y)*ra)}toString(){return`${this.z}/${this.x}/${this.y}`}}class Wg{constructor(a,d){this.wrap=a,this.canonical=d,this.key=qf(a,d.z,d.z,d.x,d.y)}}class To{constructor(a,d,g,B,E){if(a<g)throw new Error(`overscaledZ should be >= z; overscaledZ = ${a}; z = ${g}`);this.overscaledZ=a,this.wrap=d,this.canonical=new im(g,+B,+E),this.key=qf(d,a,g,B,E)}clone(){return new To(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(a){return this.overscaledZ===a.overscaledZ&&this.wrap===a.wrap&&this.canonical.equals(a.canonical)}scaledTo(a){if(a>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${a}; overscaledZ = ${this.overscaledZ}`);const d=this.canonical.z-a;return a>this.canonical.z?new To(a,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new To(a,this.wrap,a,this.canonical.x>>d,this.canonical.y>>d)}calculateScaledKey(a,d){if(a>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${a}; overscaledZ = ${this.overscaledZ}`);const g=this.canonical.z-a;return a>this.canonical.z?qf(this.wrap*+d,a,this.canonical.z,this.canonical.x,this.canonical.y):qf(this.wrap*+d,a,a,this.canonical.x>>g,this.canonical.y>>g)}isChildOf(a){if(a.wrap!==this.wrap)return!1;const d=this.canonical.z-a.canonical.z;return a.overscaledZ===0||a.overscaledZ<this.overscaledZ&&a.canonical.x===this.canonical.x>>d&&a.canonical.y===this.canonical.y>>d}children(a){if(this.overscaledZ>=a)return[new To(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const d=this.canonical.z+1,g=2*this.canonical.x,B=2*this.canonical.y;return[new To(d,this.wrap,d,g,B),new To(d,this.wrap,d,g+1,B),new To(d,this.wrap,d,g,B+1),new To(d,this.wrap,d,g+1,B+1)]}isLessThan(a){return this.wrap<a.wrap||!(this.wrap>a.wrap)&&(this.overscaledZ<a.overscaledZ||!(this.overscaledZ>a.overscaledZ)&&(this.canonical.x<a.canonical.x||!(this.canonical.x>a.canonical.x)&&this.canonical.y<a.canonical.y))}wrapped(){return new To(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(a){return new To(this.overscaledZ,a,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new Wg(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(a){return this.canonical.getTilePoint(new Vf(a.x-this.wrap,a.y))}}function qf(u,a,d,g,B){(u*=2)<0&&(u=-1*u-1);const E=1<<d;return(E*E*u+E*B+g).toString(36)+d.toString(36)+a.toString(36)}Rt("CanonicalTileID",im),Rt("OverscaledTileID",To,{omit:["posMatrix"]});class Yg{constructor(a,d,g,B=1,E=1,I=1,O=0){if(this.uid=a,d.height!==d.width)throw new RangeError("DEM tiles must be square");if(g&&!["mapbox","terrarium","custom"].includes(g))return void Le(`"${g}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=d.height;const R=this.dim=d.height-2;switch(this.data=new Uint32Array(d.data.buffer),g){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=B,this.greenFactor=E,this.blueFactor=I,this.baseShift=O;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let q=0;q<R;q++)this.data[this._idx(-1,q)]=this.data[this._idx(0,q)],this.data[this._idx(R,q)]=this.data[this._idx(R-1,q)],this.data[this._idx(q,-1)]=this.data[this._idx(q,0)],this.data[this._idx(q,R)]=this.data[this._idx(q,R-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(R,-1)]=this.data[this._idx(R-1,0)],this.data[this._idx(-1,R)]=this.data[this._idx(0,R-1)],this.data[this._idx(R,R)]=this.data[this._idx(R-1,R-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let q=0;q<R;q++)for(let Z=0;Z<R;Z++){const J=this.get(q,Z);J>this.max&&(this.max=J),J<this.min&&(this.min=J)}}get(a,d){const g=new Uint8Array(this.data.buffer),B=4*this._idx(a,d);return this.unpack(g[B],g[B+1],g[B+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(a,d){if(a<-1||a>=this.dim+1||d<-1||d>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(d+1)*this.stride+(a+1)}unpack(a,d,g){return a*this.redFactor+d*this.greenFactor+g*this.blueFactor-this.baseShift}getPixels(){return new Sl({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(a,d,g){if(this.dim!==a.dim)throw new Error("dem dimension mismatch");let B=d*this.dim,E=d*this.dim+this.dim,I=g*this.dim,O=g*this.dim+this.dim;switch(d){case-1:B=E-1;break;case 1:E=B+1}switch(g){case-1:I=O-1;break;case 1:O=I+1}const R=-d*this.dim,q=-g*this.dim;for(let Z=I;Z<O;Z++)for(let J=B;J<E;J++)this.data[this._idx(J,Z)]=a.data[this._idx(J+R,Z+q)]}}Rt("DEMData",Yg);class hi{constructor(a){this._stringToNumber={},this._numberToString=[];for(let d=0;d<a.length;d++){const g=a[d];this._stringToNumber[g]=d,this._numberToString[d]=g}}encode(a){return this._stringToNumber[a]}decode(a){if(a>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${a} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[a]}}class am{constructor(a,d,g,B,E){this.type="Feature",this._vectorTileFeature=a,a._z=d,a._x=g,a._y=B,this.properties=a.properties,this.id=E}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(a){this._geometry=a}toJSON(){const a={geometry:this.geometry};for(const d in this)d!=="_geometry"&&d!=="_vectorTileFeature"&&(a[d]=this[d]);return a}}class mv{constructor(a,d){this.tileID=a,this.x=a.canonical.x,this.y=a.canonical.y,this.z=a.canonical.z,this.grid=new Gi(ra,16,0),this.grid3D=new Gi(ra,16,0),this.featureIndexArray=new In,this.promoteId=d}insert(a,d,g,B,E,I){const O=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(g,B,E);const R=I?this.grid3D:this.grid;for(let q=0;q<d.length;q++){const Z=d[q],J=[1/0,1/0,-1/0,-1/0];for(let oe=0;oe<Z.length;oe++){const he=Z[oe];J[0]=Math.min(J[0],he.x),J[1]=Math.min(J[1],he.y),J[2]=Math.max(J[2],he.x),J[3]=Math.max(J[3],he.y)}J[0]<ra&&J[1]<ra&&J[2]>=0&&J[3]>=0&&R.insert(O,J[0],J[1],J[2],J[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new Cc.VectorTile(new Yp(this.rawTileData)).layers,this.sourceLayerCoder=new hi(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(a,d,g,B){this.loadVTLayers();const E=a.params||{},I=ra/a.tileSize/a.scale,O=pc(E.filter),R=a.queryGeometry,q=a.queryPadding*I,Z=gv(R),J=this.grid.query(Z.minX-q,Z.minY-q,Z.maxX+q,Z.maxY+q),oe=gv(a.cameraQueryGeometry),he=this.grid3D.query(oe.minX-q,oe.minY-q,oe.maxX+q,oe.maxY+q,((je,Ze,ht,it)=>(function(At,Bt,Kt,er,kr){for(const Yt of At)if(Bt<=Yt.x&&Kt<=Yt.y&&er>=Yt.x&&kr>=Yt.y)return!0;const Wt=[new C(Bt,Kt),new C(Bt,kr),new C(er,kr),new C(er,Kt)];if(At.length>2){for(const Yt of Wt)if(aA(At,Yt))return!0}for(let Yt=0;Yt<At.length-1;Yt++)if(ky(At[Yt],At[Yt+1],Wt))return!0;return!1})(a.cameraQueryGeometry,je-q,Ze-q,ht+q,it+q)));for(const je of he)J.push(je);J.sort(yw);const ve={};let Ce;for(let je=0;je<J.length;je++){const Ze=J[je];if(Ze===Ce)continue;Ce=Ze;const ht=this.featureIndexArray.get(Ze);let it=null;this.loadMatchingFeature(ve,ht.bucketIndex,ht.sourceLayerIndex,ht.featureIndex,O,E.layers,E.availableImages,d,g,B,((At,Bt,Kt)=>(it||(it=du(At)),Bt.queryIntersectsFeature(R,At,Kt,it,this.z,a.transform,I,a.pixelPosMatrix))))}return ve}loadMatchingFeature(a,d,g,B,E,I,O,R,q,Z,J){const oe=this.bucketLayerIDs[d];if(I&&!(function(je,Ze){for(let ht=0;ht<je.length;ht++)if(Ze.indexOf(je[ht])>=0)return!0;return!1})(I,oe))return;const he=this.sourceLayerCoder.decode(g),ve=this.vtLayers[he].feature(B);if(E.needGeometry){const je=ju(ve,!0);if(!E.filter(new pn(this.tileID.overscaledZ),je,this.tileID.canonical))return}else if(!E.filter(new pn(this.tileID.overscaledZ),ve))return;const Ce=this.getId(ve,he);for(let je=0;je<oe.length;je++){const Ze=oe[je];if(I&&I.indexOf(Ze)<0)continue;const ht=R[Ze];if(!ht)continue;let it={};Ce&&Z&&(it=Z.getState(ht.sourceLayer||"_geojsonTileLayer",Ce));const At=Be({},q[Ze]);At.paint=Jg(At.paint,ht.paint,ve,it,O),At.layout=Jg(At.layout,ht.layout,ve,it,O);const Bt=!J||J(ve,ht,it);if(!Bt)continue;const Kt=new am(ve,this.z,this.x,this.y,Ce);Kt.layer=At;let er=a[Ze];er===void 0&&(er=a[Ze]=[]),er.push({featureIndex:B,feature:Kt,intersectionZ:Bt})}}lookupSymbolFeatures(a,d,g,B,E,I,O,R){const q={};this.loadVTLayers();const Z=pc(E);for(const J of a)this.loadMatchingFeature(q,g,B,J,Z,I,O,R,d);return q}hasLayer(a){for(const d of this.bucketLayerIDs)for(const g of d)if(a===g)return!0;return!1}getId(a,d){let g=a.id;return this.promoteId&&(g=a.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[d]],typeof g=="boolean"&&(g=Number(g))),g}}function Jg(u,a,d,g,B){return me(u,((E,I)=>{const O=a instanceof tA?a.get(I):null;return O&&O.evaluate?O.evaluate(d,g,B):O}))}function gv(u){let a=1/0,d=1/0,g=-1/0,B=-1/0;for(const E of u)a=Math.min(a,E.x),d=Math.min(d,E.y),g=Math.max(g,E.x),B=Math.max(B,E.y);return{minX:a,minY:d,maxX:g,maxY:B}}function yw(u,a){return a-u}function yv(u,a,d,g,B){const E=[];for(let I=0;I<u.length;I++){const O=u[I];let R;for(let q=0;q<O.length-1;q++){let Z=O[q],J=O[q+1];Z.x<a&&J.x<a||(Z.x<a?Z=new C(a,Z.y+(a-Z.x)/(J.x-Z.x)*(J.y-Z.y))._round():J.x<a&&(J=new C(a,Z.y+(a-Z.x)/(J.x-Z.x)*(J.y-Z.y))._round()),Z.y<d&&J.y<d||(Z.y<d?Z=new C(Z.x+(d-Z.y)/(J.y-Z.y)*(J.x-Z.x),d)._round():J.y<d&&(J=new C(Z.x+(d-Z.y)/(J.y-Z.y)*(J.x-Z.x),d)._round()),Z.x>=g&&J.x>=g||(Z.x>=g?Z=new C(g,Z.y+(g-Z.x)/(J.x-Z.x)*(J.y-Z.y))._round():J.x>=g&&(J=new C(g,Z.y+(g-Z.x)/(J.x-Z.x)*(J.y-Z.y))._round()),Z.y>=B&&J.y>=B||(Z.y>=B?Z=new C(Z.x+(B-Z.y)/(J.y-Z.y)*(J.x-Z.x),B)._round():J.y>=B&&(J=new C(Z.x+(B-Z.y)/(J.y-Z.y)*(J.x-Z.x),B)._round()),R&&Z.equals(R[R.length-1])||(R=[Z],E.push(R)),R.push(J)))))}}return E}Rt("FeatureIndex",mv,{omit:["rawTileData","sourceLayerCoder"]});class yu extends C{constructor(a,d,g,B){super(a,d),this.angle=g,B!==void 0&&(this.segment=B)}clone(){return new yu(this.x,this.y,this.angle,this.segment)}}function Hh(u,a,d,g,B){if(a.segment===void 0||d===0)return!0;let E=a,I=a.segment+1,O=0;for(;O>-d/2;){if(I--,I<0)return!1;O-=u[I].dist(E),E=u[I]}O+=u[I].dist(u[I+1]),I++;const R=[];let q=0;for(;O<d/2;){const Z=u[I],J=u[I+1];if(!J)return!1;let oe=u[I-1].angleTo(Z)-Z.angleTo(J);for(oe=Math.abs((oe+3*Math.PI)%(2*Math.PI)-Math.PI),R.push({distance:O,angleDelta:oe}),q+=oe;O-R[0].distance>g;)q-=R.shift().angleDelta;if(q>B)return!1;I++,O+=Z.dist(J)}return!0}function sm(u){let a=0;for(let d=0;d<u.length-1;d++)a+=u[d].dist(u[d+1]);return a}function Jd(u,a,d){return u?.6*a*d:0}function om(u,a){return Math.max(u?u.right-u.left:0,a?a.right-a.left:0)}function ch(u,a,d,g,B,E){const I=Jd(d,B,E),O=om(d,g)*E;let R=0;const q=sm(u)/2;for(let Z=0;Z<u.length-1;Z++){const J=u[Z],oe=u[Z+1],he=J.dist(oe);if(R+he>q){const ve=(q-R)/he,Ce=ua.number(J.x,oe.x,ve),je=ua.number(J.y,oe.y,ve),Ze=new yu(Ce,je,oe.angleTo(J),Z);return Ze._round(),!I||Hh(u,Ze,O,I,a)?Ze:void 0}R+=he}}function Zu(u,a,d,g,B,E,I,O,R){const q=Jd(g,E,I),Z=om(g,B),J=Z*I,oe=u[0].x===0||u[0].x===R||u[0].y===0||u[0].y===R;return a-J<a/4&&(a=J+a/4),Gf(u,oe?a/2*O%a:(Z/2+2*E)*I*O%a,a,q,d,J,oe,!1,R)}function Gf(u,a,d,g,B,E,I,O,R){const q=E/2,Z=sm(u);let J=0,oe=a-d,he=[];for(let ve=0;ve<u.length-1;ve++){const Ce=u[ve],je=u[ve+1],Ze=Ce.dist(je),ht=je.angleTo(Ce);for(;oe+d<J+Ze;){oe+=d;const it=(oe-J)/Ze,At=ua.number(Ce.x,je.x,it),Bt=ua.number(Ce.y,je.y,it);if(At>=0&&At<R&&Bt>=0&&Bt<R&&oe-q>=0&&oe+q<=Z){const Kt=new yu(At,Bt,ht,ve);Kt._round(),g&&!Hh(u,Kt,E,g,B)||he.push(Kt)}}J+=Ze}return O||he.length||I||(he=Gf(u,J/2,d,g,B,E,I,!0,R)),he}Rt("Anchor",yu);const $f=on;function e0(u,a,d,g){const B=[],E=u.image,I=E.pixelRatio,O=E.paddedRect.w-2*$f,R=E.paddedRect.h-2*$f;let q={x1:u.left,y1:u.top,x2:u.right,y2:u.bottom};const Z=E.stretchX||[[0,O]],J=E.stretchY||[[0,R]],oe=(Ut,ar)=>Ut+ar[1]-ar[0],he=Z.reduce(oe,0),ve=J.reduce(oe,0),Ce=O-he,je=R-ve;let Ze=0,ht=he,it=0,At=ve,Bt=0,Kt=Ce,er=0,kr=je;if(E.content&&g){const Ut=E.content,ar=Ut[2]-Ut[0],hr=Ut[3]-Ut[1];(E.textFitWidth||E.textFitHeight)&&(q=$d(u)),Ze=ep(Z,0,Ut[0]),it=ep(J,0,Ut[1]),ht=ep(Z,Ut[0],Ut[2]),At=ep(J,Ut[1],Ut[3]),Bt=Ut[0]-Ze,er=Ut[1]-it,Kt=ar-ht,kr=hr-At}const Wt=q.x1,Yt=q.y1,pr=q.x2-Wt,Ar=q.y2-Yt,ir=(Ut,ar,hr,qr)=>{const Rn=tp(Ut.stretch-Ze,ht,pr,Wt),Ai=lm(Ut.fixed-Bt,Kt,Ut.stretch,he),ns=tp(ar.stretch-it,At,Ar,Yt),Ao=lm(ar.fixed-er,kr,ar.stretch,ve),bs=tp(hr.stretch-Ze,ht,pr,Wt),is=lm(hr.fixed-Bt,Kt,hr.stretch,he),Io=tp(qr.stretch-it,At,Ar,Yt),Fo=lm(qr.fixed-er,kr,qr.stretch,ve),Lo=new C(Rn,ns),da=new C(bs,ns),as=new C(bs,Io),uo=new C(Rn,Io),ws=new C(Ai/I,Ao/I),Ga=new C(is/I,Fo/I),Ma=a*Math.PI/180;if(Ma){const Fn=Math.sin(Ma),ti=Math.cos(Ma),Bi=[ti,-Fn,Fn,ti];Lo._matMult(Bi),da._matMult(Bi),uo._matMult(Bi),as._matMult(Bi)}const Fl=Ut.stretch+Ut.fixed,tl=ar.stretch+ar.fixed;return{tl:Lo,tr:da,bl:uo,br:as,tex:{x:E.paddedRect.x+$f+Fl,y:E.paddedRect.y+$f+tl,w:hr.stretch+hr.fixed-Fl,h:qr.stretch+qr.fixed-tl},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:ws,pixelOffsetBR:Ga,minFontScaleX:Kt/I/pr,minFontScaleY:kr/I/Ar,isSDF:d}};if(g&&(E.stretchX||E.stretchY)){const Ut=t0(Z,Ce,he),ar=t0(J,je,ve);for(let hr=0;hr<Ut.length-1;hr++){const qr=Ut[hr],Rn=Ut[hr+1];for(let Ai=0;Ai<ar.length-1;Ai++)B.push(ir(qr,ar[Ai],Rn,ar[Ai+1]))}}else B.push(ir({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:O+1},{fixed:0,stretch:R+1}));return B}function ep(u,a,d){let g=0;for(const B of u)g+=Math.max(a,Math.min(d,B[1]))-Math.max(a,Math.min(d,B[0]));return g}function t0(u,a,d){const g=[{fixed:-$f,stretch:0}];for(const[B,E]of u){const I=g[g.length-1];g.push({fixed:B-I.stretch,stretch:I.stretch}),g.push({fixed:B-I.stretch,stretch:I.stretch+(E-B)})}return g.push({fixed:a+$f,stretch:d}),g}function tp(u,a,d,g){return u/a*d+g}function lm(u,a,d,g){return u-a*d/g}class Xf{constructor(a,d,g,B,E,I,O,R,q,Z){var J;if(this.boxStartIndex=a.length,q){let oe=I.top,he=I.bottom;const ve=I.collisionPadding;ve&&(oe-=ve[1],he+=ve[3]);let Ce=he-oe;Ce>0&&(Ce=Math.max(10,Ce),this.circleDiameter=Ce)}else{const oe=!((J=I.image)===null||J===void 0)&&J.content&&(I.image.textFitWidth||I.image.textFitHeight)?$d(I):{x1:I.left,y1:I.top,x2:I.right,y2:I.bottom};oe.y1=oe.y1*O-R[0],oe.y2=oe.y2*O+R[2],oe.x1=oe.x1*O-R[3],oe.x2=oe.x2*O+R[1];const he=I.collisionPadding;if(he&&(oe.x1-=he[0]*O,oe.y1-=he[1]*O,oe.x2+=he[2]*O,oe.y2+=he[3]*O),Z){const ve=new C(oe.x1,oe.y1),Ce=new C(oe.x2,oe.y1),je=new C(oe.x1,oe.y2),Ze=new C(oe.x2,oe.y2),ht=Z*Math.PI/180;ve._rotate(ht),Ce._rotate(ht),je._rotate(ht),Ze._rotate(ht),oe.x1=Math.min(ve.x,Ce.x,je.x,Ze.x),oe.x2=Math.max(ve.x,Ce.x,je.x,Ze.x),oe.y1=Math.min(ve.y,Ce.y,je.y,Ze.y),oe.y2=Math.max(ve.y,Ce.y,je.y,Ze.y)}a.emplaceBack(d.x,d.y,oe.x1,oe.y1,oe.x2,oe.y2,g,B,E)}this.boxEndIndex=a.length}}class vv{constructor(a=[],d=((g,B)=>g<B?-1:g>B?1:0)){if(this.data=a,this.length=this.data.length,this.compare=d,this.length>0)for(let g=(this.length>>1)-1;g>=0;g--)this._down(g)}push(a){this.data.push(a),this._up(this.length++)}pop(){if(this.length===0)return;const a=this.data[0],d=this.data.pop();return--this.length>0&&(this.data[0]=d,this._down(0)),a}peek(){return this.data[0]}_up(a){const{data:d,compare:g}=this,B=d[a];for(;a>0;){const E=a-1>>1,I=d[E];if(g(B,I)>=0)break;d[a]=I,a=E}d[a]=B}_down(a){const{data:d,compare:g}=this,B=this.length>>1,E=d[a];for(;a<B;){let I=1+(a<<1);const O=I+1;if(O<this.length&&g(d[O],d[I])<0&&(I=O),g(d[I],E)>=0)break;d[a]=d[I],a=I}d[a]=E}}function _v(u,a=1,d=!1){let g=1/0,B=1/0,E=-1/0,I=-1/0;const O=u[0];for(let he=0;he<O.length;he++){const ve=O[he];(!he||ve.x<g)&&(g=ve.x),(!he||ve.y<B)&&(B=ve.y),(!he||ve.x>E)&&(E=ve.x),(!he||ve.y>I)&&(I=ve.y)}const R=Math.min(E-g,I-B);let q=R/2;const Z=new vv([],vw);if(R===0)return new C(g,B);for(let he=g;he<E;he+=R)for(let ve=B;ve<I;ve+=R)Z.push(new hh(he+q,ve+q,q,u));let J=(function(he){let ve=0,Ce=0,je=0;const Ze=he[0];for(let ht=0,it=Ze.length,At=it-1;ht<it;At=ht++){const Bt=Ze[ht],Kt=Ze[At],er=Bt.x*Kt.y-Kt.x*Bt.y;Ce+=(Bt.x+Kt.x)*er,je+=(Bt.y+Kt.y)*er,ve+=3*er}return new hh(Ce/ve,je/ve,0,he)})(u),oe=Z.length;for(;Z.length;){const he=Z.pop();(he.d>J.d||!J.d)&&(J=he,d&&console.log("found best %d after %d probes",Math.round(1e4*he.d)/1e4,oe)),he.max-J.d<=a||(q=he.h/2,Z.push(new hh(he.p.x-q,he.p.y-q,q,u)),Z.push(new hh(he.p.x+q,he.p.y-q,q,u)),Z.push(new hh(he.p.x-q,he.p.y+q,q,u)),Z.push(new hh(he.p.x+q,he.p.y+q,q,u)),oe+=4)}return d&&(console.log(`num probes: ${oe}`),console.log(`best distance: ${J.d}`)),J.p}function vw(u,a){return a.max-u.max}function hh(u,a,d,g){this.p=new C(u,a),this.h=d,this.d=(function(B,E){let I=!1,O=1/0;for(let R=0;R<E.length;R++){const q=E[R];for(let Z=0,J=q.length,oe=J-1;Z<J;oe=Z++){const he=q[Z],ve=q[oe];he.y>B.y!=ve.y>B.y&&B.x<(ve.x-he.x)*(B.y-he.y)/(ve.y-he.y)+he.x&&(I=!I),O=Math.min(O,Id(B,he,ve))}}return(I?1:-1)*Math.sqrt(O)})(this.p,g),this.max=this.d+this.h*Math.SQRT2}var rs;f.aq=void 0,(rs=f.aq||(f.aq={}))[rs.center=1]="center",rs[rs.left=2]="left",rs[rs.right=3]="right",rs[rs.top=4]="top",rs[rs.bottom=5]="bottom",rs[rs["top-left"]=6]="top-left",rs[rs["top-right"]=7]="top-right",rs[rs["bottom-left"]=8]="bottom-left",rs[rs["bottom-right"]=9]="bottom-right";const fh=7,r0=Number.POSITIVE_INFINITY;function Zf(u,a){return a[1]!==r0?(function(d,g,B){let E=0,I=0;switch(g=Math.abs(g),B=Math.abs(B),d){case"top-right":case"top-left":case"top":I=B-fh;break;case"bottom-right":case"bottom-left":case"bottom":I=-B+fh}switch(d){case"top-right":case"bottom-right":case"right":E=-g;break;case"top-left":case"bottom-left":case"left":E=g}return[E,I]})(u,a[0],a[1]):(function(d,g){let B=0,E=0;g<0&&(g=0);const I=g/Math.SQRT2;switch(d){case"top-right":case"top-left":E=I-fh;break;case"bottom-right":case"bottom-left":E=-I+fh;break;case"bottom":E=-g+fh;break;case"top":E=g-fh}switch(d){case"top-right":case"bottom-right":B=-I;break;case"top-left":case"bottom-left":B=I;break;case"left":B=g;break;case"right":B=-g}return[B,E]})(u,a[0])}function bv(u,a,d){var g;const B=u.layout,E=(g=B.get("text-variable-anchor-offset"))===null||g===void 0?void 0:g.evaluate(a,{},d);if(E){const O=E.values,R=[];for(let q=0;q<O.length;q+=2){const Z=R[q]=O[q],J=O[q+1].map((oe=>oe*Ua));Z.startsWith("top")?J[1]-=fh:Z.startsWith("bottom")&&(J[1]+=fh),R[q+1]=J}return new Za(R)}const I=B.get("text-variable-anchor");if(I){let O;O=u._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[B.get("text-radial-offset").evaluate(a,{},d)*Ua,r0]:B.get("text-offset").evaluate(a,{},d).map((q=>q*Ua));const R=[];for(const q of I)R.push(q,Zf(q,O));return new Za(R)}return null}function Am(u){switch(u){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function Hn(u,a,d,g,B,E,I,O,R,q,Z){let J=E.textMaxSize.evaluate(a,{});J===void 0&&(J=I);const oe=u.layers[0].layout,he=oe.get("icon-offset").evaluate(a,{},Z),ve=rp(d.horizontal),Ce=I/24,je=u.tilePixelRatio*Ce,Ze=u.tilePixelRatio*J/24,ht=u.tilePixelRatio*O,it=u.tilePixelRatio*oe.get("symbol-spacing"),At=oe.get("text-padding")*u.tilePixelRatio,Bt=(function(Ut,ar,hr,qr=1){const Rn=Ut.get("icon-padding").evaluate(ar,{},hr),Ai=Rn&&Rn.values;return[Ai[0]*qr,Ai[1]*qr,Ai[2]*qr,Ai[3]*qr]})(oe,a,Z,u.tilePixelRatio),Kt=oe.get("text-max-angle")/180*Math.PI,er=oe.get("text-rotation-alignment")!=="viewport"&&oe.get("symbol-placement")!=="point",kr=oe.get("icon-rotation-alignment")==="map"&&oe.get("symbol-placement")!=="point",Wt=oe.get("symbol-placement"),Yt=it/2,pr=oe.get("icon-text-fit");let Ar;g&&pr!=="none"&&(u.allowVerticalPlacement&&d.vertical&&(Ar=Ic(g,d.vertical,pr,oe.get("icon-text-fit-padding"),he,Ce)),ve&&(g=Ic(g,ve,pr,oe.get("icon-text-fit-padding"),he,Ce)));const ir=(Ut,ar)=>{ar.x<0||ar.x>=ra||ar.y<0||ar.y>=ra||(function(hr,qr,Rn,Ai,ns,Ao,bs,is,Io,Fo,Lo,da,as,uo,ws,Ga,Ma,Fl,tl,Fn,ti,Bi,co,Ni,dh){const AA=hr.addToLineVertexArray(qr,Rn);let vu,uA,cA,ss,Fc=0,Vh=0,xv=0,lp=0,Yf=-1,Jf=-1;const Lc={};let ed=Qu("");if(hr.allowVerticalPlacement&&Ai.vertical){const js=is.layout.get("text-rotate").evaluate(ti,{},Ni)+90;cA=new Xf(Io,qr,Fo,Lo,da,Ai.vertical,as,uo,ws,js),bs&&(ss=new Xf(Io,qr,Fo,Lo,da,bs,Ma,Fl,ws,js))}if(ns){const js=is.layout.get("icon-rotate").evaluate(ti,{}),rl=is.layout.get("icon-text-fit")!=="none",Ll=e0(ns,js,co,rl),Hs=bs?e0(bs,js,co,rl):void 0;uA=new Xf(Io,qr,Fo,Lo,da,ns,Ma,Fl,!1,js),Fc=4*Ll.length;const Ul=hr.iconSizeData;let Ml=null;Ul.kind==="source"?(Ml=[lo*is.layout.get("icon-size").evaluate(ti,{})],Ml[0]>oA&&Le(`${hr.layerIds[0]}: Value for "icon-size" is >= ${Ba}. Reduce your "icon-size".`)):Ul.kind==="composite"&&(Ml=[lo*Bi.compositeIconSizes[0].evaluate(ti,{},Ni),lo*Bi.compositeIconSizes[1].evaluate(ti,{},Ni)],(Ml[0]>oA||Ml[1]>oA)&&Le(`${hr.layerIds[0]}: Value for "icon-size" is >= ${Ba}. Reduce your "icon-size".`)),hr.addSymbols(hr.icon,Ll,Ml,Fn,tl,ti,f.ah.none,qr,AA.lineStartIndex,AA.lineLength,-1,Ni),Yf=hr.icon.placedSymbolArray.length-1,Hs&&(Vh=4*Hs.length,hr.addSymbols(hr.icon,Hs,Ml,Fn,tl,ti,f.ah.vertical,qr,AA.lineStartIndex,AA.lineLength,-1,Ni),Jf=hr.icon.placedSymbolArray.length-1)}const Bv=Object.keys(Ai.horizontal);for(const js of Bv){const rl=Ai.horizontal[js];if(!vu){ed=Qu(rl.text);const Hs=is.layout.get("text-rotate").evaluate(ti,{},Ni);vu=new Xf(Io,qr,Fo,Lo,da,rl,as,uo,ws,Hs)}const Ll=rl.positionedLines.length===1;if(xv+=um(hr,qr,rl,Ao,is,ws,ti,Ga,AA,Ai.vertical?f.ah.horizontal:f.ah.horizontalOnly,Ll?Bv:[js],Lc,Yf,Bi,Ni),Ll)break}Ai.vertical&&(lp+=um(hr,qr,Ai.vertical,Ao,is,ws,ti,Ga,AA,f.ah.vertical,["vertical"],Lc,Jf,Bi,Ni));const Cv=vu?vu.boxStartIndex:hr.collisionBoxArray.length,Sv=vu?vu.boxEndIndex:hr.collisionBoxArray.length,Ev=cA?cA.boxStartIndex:hr.collisionBoxArray.length,Tv=cA?cA.boxEndIndex:hr.collisionBoxArray.length,s0=uA?uA.boxStartIndex:hr.collisionBoxArray.length,Iv=uA?uA.boxEndIndex:hr.collisionBoxArray.length,Fv=ss?ss.boxStartIndex:hr.collisionBoxArray.length,hm=ss?ss.boxEndIndex:hr.collisionBoxArray.length;let _u=-1;const fm=(js,rl)=>js&&js.circleDiameter?Math.max(js.circleDiameter,rl):rl;_u=fm(vu,_u),_u=fm(cA,_u),_u=fm(uA,_u),_u=fm(ss,_u);const dm=_u>-1?1:0;dm&&(_u*=dh/Ua),hr.glyphOffsetArray.length>=Rh.MAX_GLYPHS&&Le("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),ti.sortKey!==void 0&&hr.addToSortKeyRanges(hr.symbolInstances.length,ti.sortKey);const o0=bv(is,ti,Ni),[pm,l0]=(function(js,rl){const Ll=js.length,Hs=rl?.values;if(Hs?.length>0)for(let Ul=0;Ul<Hs.length;Ul+=2){const Ml=Hs[Ul+1];js.emplaceBack(f.aq[Hs[Ul]],Ml[0],Ml[1])}return[Ll,js.length]})(hr.textAnchorOffsets,o0);hr.symbolInstances.emplaceBack(qr.x,qr.y,Lc.right>=0?Lc.right:-1,Lc.center>=0?Lc.center:-1,Lc.left>=0?Lc.left:-1,Lc.vertical||-1,Yf,Jf,ed,Cv,Sv,Ev,Tv,s0,Iv,Fv,hm,Fo,xv,lp,Fc,Vh,dm,0,as,_u,pm,l0)})(u,ar,Ut,d,g,B,Ar,u.layers[0],u.collisionBoxArray,a.index,a.sourceLayerIndex,u.index,je,[At,At,At,At],er,R,ht,Bt,kr,he,a,E,q,Z,I)};if(Wt==="line")for(const Ut of yv(a.geometry,0,0,ra,ra)){const ar=Zu(Ut,it,Kt,d.vertical||ve,g,24,Ze,u.overscaling,ra);for(const hr of ar)ve&&n0(u,ve.text,Yt,hr)||ir(Ut,hr)}else if(Wt==="line-center"){for(const Ut of a.geometry)if(Ut.length>1){const ar=ch(Ut,Kt,d.vertical||ve,g,24,Ze);ar&&ir(Ut,ar)}}else if(a.type==="Polygon")for(const Ut of An(a.geometry,0)){const ar=_v(Ut,16);ir(Ut[0],new yu(ar.x,ar.y,0))}else if(a.type==="LineString")for(const Ut of a.geometry)ir(Ut,new yu(Ut[0].x,Ut[0].y,0));else if(a.type==="Point")for(const Ut of a.geometry)for(const ar of Ut)ir([ar],new yu(ar.x,ar.y,0))}function um(u,a,d,g,B,E,I,O,R,q,Z,J,oe,he,ve){const Ce=(function(ht,it,At,Bt,Kt,er,kr,Wt){const Yt=Bt.layout.get("text-rotate").evaluate(er,{})*Math.PI/180,pr=[];for(const Ar of it.positionedLines)for(const ir of Ar.positionedGlyphs){if(!ir.rect)continue;const Ut=ir.rect||{};let ar=ii+1,hr=!0,qr=1,Rn=0;const Ai=(Kt||Wt)&&ir.vertical,ns=ir.metrics.advance*ir.scale/2;if(Wt&&it.verticalizable&&(Rn=Ar.lineOffset/2-(ir.imageName?-(Ua-ir.metrics.width*ir.scale)/2:(ir.scale-1)*Ua)),ir.imageName){const Fn=kr[ir.imageName];hr=Fn.sdf,qr=Fn.pixelRatio,ar=on/qr}const Ao=Kt?[ir.x+ns,ir.y]:[0,0];let bs=Kt?[0,0]:[ir.x+ns+At[0],ir.y+At[1]-Rn],is=[0,0];Ai&&(is=bs,bs=[0,0]);const Io=ir.metrics.isDoubleResolution?2:1,Fo=(ir.metrics.left-ar)*ir.scale-ns+bs[0],Lo=(-ir.metrics.top-ar)*ir.scale+bs[1],da=Fo+Ut.w/Io*ir.scale/qr,as=Lo+Ut.h/Io*ir.scale/qr,uo=new C(Fo,Lo),ws=new C(da,Lo),Ga=new C(Fo,as),Ma=new C(da,as);if(Ai){const Fn=new C(-ns,ns-qA),ti=-Math.PI/2,Bi=Ua/2-ns,co=new C(5-qA-Bi,-(ir.imageName?Bi:0)),Ni=new C(...is);uo._rotateAround(ti,Fn)._add(co)._add(Ni),ws._rotateAround(ti,Fn)._add(co)._add(Ni),Ga._rotateAround(ti,Fn)._add(co)._add(Ni),Ma._rotateAround(ti,Fn)._add(co)._add(Ni)}if(Yt){const Fn=Math.sin(Yt),ti=Math.cos(Yt),Bi=[ti,-Fn,Fn,ti];uo._matMult(Bi),ws._matMult(Bi),Ga._matMult(Bi),Ma._matMult(Bi)}const Fl=new C(0,0),tl=new C(0,0);pr.push({tl:uo,tr:ws,bl:Ga,br:Ma,tex:Ut,writingMode:it.writingMode,glyphOffset:Ao,sectionIndex:ir.sectionIndex,isSDF:hr,pixelOffsetTL:Fl,pixelOffsetBR:tl,minFontScaleX:0,minFontScaleY:0})}return pr})(0,d,O,B,E,I,g,u.allowVerticalPlacement),je=u.textSizeData;let Ze=null;je.kind==="source"?(Ze=[lo*B.layout.get("text-size").evaluate(I,{})],Ze[0]>oA&&Le(`${u.layerIds[0]}: Value for "text-size" is >= ${Ba}. Reduce your "text-size".`)):je.kind==="composite"&&(Ze=[lo*he.compositeTextSizes[0].evaluate(I,{},ve),lo*he.compositeTextSizes[1].evaluate(I,{},ve)],(Ze[0]>oA||Ze[1]>oA)&&Le(`${u.layerIds[0]}: Value for "text-size" is >= ${Ba}. Reduce your "text-size".`)),u.addSymbols(u.text,Ce,Ze,O,E,I,q,a,R.lineStartIndex,R.lineLength,oe,ve);for(const ht of Z)J[ht]=u.text.placedSymbolArray.length-1;return 4*Ce.length}function rp(u){for(const a in u)return u[a];return null}function n0(u,a,d,g){const B=u.compareText;if(a in B){const E=B[a];for(let I=E.length-1;I>=0;I--)if(g.dist(E[I])<d)return!0}else B[a]=[];return B[a].push(g),!1}const i0=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class np{static from(a){if(!(a instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[d,g]=new Uint8Array(a,0,2);if(d!==219)throw new Error("Data does not appear to be in a KDBush format.");const B=g>>4;if(B!==1)throw new Error(`Got v${B} data when expected v1.`);const E=i0[15&g];if(!E)throw new Error("Unrecognized array type.");const[I]=new Uint16Array(a,2,1),[O]=new Uint32Array(a,4,1);return new np(O,I,E,a)}constructor(a,d=64,g=Float64Array,B){if(isNaN(a)||a<0)throw new Error(`Unpexpected numItems value: ${a}.`);this.numItems=+a,this.nodeSize=Math.min(Math.max(+d,2),65535),this.ArrayType=g,this.IndexArrayType=a<65536?Uint16Array:Uint32Array;const E=i0.indexOf(this.ArrayType),I=2*a*this.ArrayType.BYTES_PER_ELEMENT,O=a*this.IndexArrayType.BYTES_PER_ELEMENT,R=(8-O%8)%8;if(E<0)throw new Error(`Unexpected typed array class: ${g}.`);B&&B instanceof ArrayBuffer?(this.data=B,this.ids=new this.IndexArrayType(this.data,8,a),this.coords=new this.ArrayType(this.data,8+O+R,2*a),this._pos=2*a,this._finished=!0):(this.data=new ArrayBuffer(8+I+O+R),this.ids=new this.IndexArrayType(this.data,8,a),this.coords=new this.ArrayType(this.data,8+O+R,2*a),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+E]),new Uint16Array(this.data,2,1)[0]=d,new Uint32Array(this.data,4,1)[0]=a)}add(a,d){const g=this._pos>>1;return this.ids[g]=g,this.coords[this._pos++]=a,this.coords[this._pos++]=d,g}finish(){const a=this._pos>>1;if(a!==this.numItems)throw new Error(`Added ${a} items when expected ${this.numItems}.`);return Kh(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(a,d,g,B){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:E,coords:I,nodeSize:O}=this,R=[0,E.length-1,0],q=[];for(;R.length;){const Z=R.pop()||0,J=R.pop()||0,oe=R.pop()||0;if(J-oe<=O){for(let je=oe;je<=J;je++){const Ze=I[2*je],ht=I[2*je+1];Ze>=a&&Ze<=g&&ht>=d&&ht<=B&&q.push(E[je])}continue}const he=oe+J>>1,ve=I[2*he],Ce=I[2*he+1];ve>=a&&ve<=g&&Ce>=d&&Ce<=B&&q.push(E[he]),(Z===0?a<=ve:d<=Ce)&&(R.push(oe),R.push(he-1),R.push(1-Z)),(Z===0?g>=ve:B>=Ce)&&(R.push(he+1),R.push(J),R.push(1-Z))}return q}within(a,d,g){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:B,coords:E,nodeSize:I}=this,O=[0,B.length-1,0],R=[],q=g*g;for(;O.length;){const Z=O.pop()||0,J=O.pop()||0,oe=O.pop()||0;if(J-oe<=I){for(let je=oe;je<=J;je++)wv(E[2*je],E[2*je+1],a,d)<=q&&R.push(B[je]);continue}const he=oe+J>>1,ve=E[2*he],Ce=E[2*he+1];wv(ve,Ce,a,d)<=q&&R.push(B[he]),(Z===0?a-g<=ve:d-g<=Ce)&&(O.push(oe),O.push(he-1),O.push(1-Z)),(Z===0?a+g>=ve:d+g>=Ce)&&(O.push(he+1),O.push(J),O.push(1-Z))}return R}}function Kh(u,a,d,g,B,E){if(B-g<=d)return;const I=g+B>>1;ip(u,a,I,g,B,E),Kh(u,a,d,g,I-1,1-E),Kh(u,a,d,I+1,B,1-E)}function ip(u,a,d,g,B,E){for(;B>g;){if(B-g>600){const q=B-g+1,Z=d-g+1,J=Math.log(q),oe=.5*Math.exp(2*J/3),he=.5*Math.sqrt(J*oe*(q-oe)/q)*(Z-q/2<0?-1:1);ip(u,a,d,Math.max(g,Math.floor(d-Z*oe/q+he)),Math.min(B,Math.floor(d+(q-Z)*oe/q+he)),E)}const I=a[2*d+E];let O=g,R=B;for(ap(u,a,g,d),a[2*B+E]>I&&ap(u,a,g,B);O<R;){for(ap(u,a,O,R),O++,R--;a[2*O+E]<I;)O++;for(;a[2*R+E]>I;)R--}a[2*g+E]===I?ap(u,a,g,R):(R++,ap(u,a,R,B)),R<=d&&(g=R+1),d<=R&&(B=R-1)}}function ap(u,a,d,g){cm(u,d,g),cm(a,2*d,2*g),cm(a,2*d+1,2*g+1)}function cm(u,a,d){const g=u[a];u[a]=u[d],u[d]=g}function wv(u,a,d,g){const B=u-d,E=a-g;return B*B+E*E}var a0;f.bg=void 0,(a0=f.bg||(f.bg={})).create="create",a0.load="load",a0.fullLoad="fullLoad";let sp=null,Wf=[];const fi=1e3/60,op="loadTime",_s="fullLoadTime",_w={mark(u){performance.mark(u)},frame(u){const a=u;sp!=null&&Wf.push(a-sp),sp=a},clearMetrics(){sp=null,Wf=[],performance.clearMeasures(op),performance.clearMeasures(_s);for(const u in f.bg)performance.clearMarks(f.bg[u])},getPerformanceMetrics(){performance.measure(op,f.bg.create,f.bg.load),performance.measure(_s,f.bg.create,f.bg.fullLoad);const u=performance.getEntriesByName(op)[0].duration,a=performance.getEntriesByName(_s)[0].duration,d=Wf.length,g=1/(Wf.reduce(((E,I)=>E+I),0)/d/1e3),B=Wf.filter((E=>E>fi)).reduce(((E,I)=>E+(I-fi)/fi),0);return{loadTime:u,fullLoadTime:a,fps:g,percentDroppedFrames:B/(d+B)*100,totalFrames:d}}};f.$=class extends G{},f.A=nh,f.B=wf,f.C=function(u){if(Oe==null){const a=u.navigator?u.navigator.userAgent:null;Oe=!!u.safari||!(!a||!(/\b(iPad|iPhone|iPod)\b/.test(a)||a.match("Safari")&&!a.match("Chrome")))}return Oe},f.D=lr,f.E=Pe,f.F=class{constructor(u,a){this.target=u,this.mapId=a,this.resolveRejects={},this.tasks={},this.taskQueue=[],this.abortControllers={},this.messageHandlers={},this.invoker=new gw((()=>this.process())),this.subscription=(function(d,g,B,E){return d.addEventListener(g,B,!1),{unsubscribe:()=>{d.removeEventListener(g,B,!1)}}})(this.target,"message",(d=>this.receive(d))),this.globalScope=nt(self)?u:window}registerMessageHandler(u,a){this.messageHandlers[u]=a}sendAsync(u,a){return new Promise(((d,g)=>{const B=Math.round(1e18*Math.random()).toString(36).substring(0,10);this.resolveRejects[B]={resolve:d,reject:g},a&&a.signal.addEventListener("abort",(()=>{delete this.resolveRejects[B];const O={id:B,type:"<cancel>",origin:location.origin,targetMapId:u.targetMapId,sourceMapId:this.mapId};this.target.postMessage(O)}),{once:!0});const E=[],I=Object.assign(Object.assign({},u),{id:B,sourceMapId:this.mapId,origin:location.origin,data:io(u.data,E)});this.target.postMessage(I,{transfer:E})}))}receive(u){const a=u.data,d=a.id;if(!(a.origin!=="file://"&&location.origin!=="file://"&&a.origin!=="resource://android"&&location.origin!=="resource://android"&&a.origin!==location.origin||a.targetMapId&&this.mapId!==a.targetMapId)){if(a.type==="<cancel>"){delete this.tasks[d];const g=this.abortControllers[d];return delete this.abortControllers[d],void(g&&g.abort())}if(nt(self)||a.mustQueue)return this.tasks[d]=a,this.taskQueue.push(d),void this.invoker.trigger();this.processTask(d,a)}}process(){if(this.taskQueue.length===0)return;const u=this.taskQueue.shift(),a=this.tasks[u];delete this.tasks[u],this.taskQueue.length>0&&this.invoker.trigger(),a&&this.processTask(u,a)}processTask(u,a){return l(this,void 0,void 0,(function*(){if(a.type==="<response>"){const B=this.resolveRejects[u];return delete this.resolveRejects[u],B?void(a.error?B.reject(DA(a.error)):B.resolve(DA(a.data))):void 0}if(!this.messageHandlers[a.type])return void this.completeTask(u,new Error(`Could not find a registered handler for ${a.type}, map ID: ${this.mapId}, available handlers: ${Object.keys(this.messageHandlers).join(", ")}`));const d=DA(a.data),g=new AbortController;this.abortControllers[u]=g;try{const B=yield this.messageHandlers[a.type](a.sourceMapId,d,g);this.completeTask(u,null,B)}catch(B){this.completeTask(u,B)}}))}completeTask(u,a,d){const g=[];delete this.abortControllers[u];const B={id:u,type:"<response>",sourceMapId:this.mapId,origin:location.origin,error:a?io(a):null,data:io(d,g)};this.target.postMessage(B,{transfer:g})}remove(){this.invoker.remove(),this.subscription.unsubscribe()}},f.G=$e,f.H=function(){var u=new nh(16);return nh!=Float32Array&&(u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[11]=0,u[12]=0,u[13]=0,u[14]=0),u[0]=1,u[5]=1,u[10]=1,u[15]=1,u},f.I=Qn,f.J=function(u,a,d){var g,B,E,I,O,R,q,Z,J,oe,he,ve,Ce=d[0],je=d[1],Ze=d[2];return a===u?(u[12]=a[0]*Ce+a[4]*je+a[8]*Ze+a[12],u[13]=a[1]*Ce+a[5]*je+a[9]*Ze+a[13],u[14]=a[2]*Ce+a[6]*je+a[10]*Ze+a[14],u[15]=a[3]*Ce+a[7]*je+a[11]*Ze+a[15]):(B=a[1],E=a[2],I=a[3],O=a[4],R=a[5],q=a[6],Z=a[7],J=a[8],oe=a[9],he=a[10],ve=a[11],u[0]=g=a[0],u[1]=B,u[2]=E,u[3]=I,u[4]=O,u[5]=R,u[6]=q,u[7]=Z,u[8]=J,u[9]=oe,u[10]=he,u[11]=ve,u[12]=g*Ce+O*je+J*Ze+a[12],u[13]=B*Ce+R*je+oe*Ze+a[13],u[14]=E*Ce+q*je+he*Ze+a[14],u[15]=I*Ce+Z*je+ve*Ze+a[15]),u},f.K=function(u,a,d){var g=d[0],B=d[1],E=d[2];return u[0]=a[0]*g,u[1]=a[1]*g,u[2]=a[2]*g,u[3]=a[3]*g,u[4]=a[4]*B,u[5]=a[5]*B,u[6]=a[6]*B,u[7]=a[7]*B,u[8]=a[8]*E,u[9]=a[9]*E,u[10]=a[10]*E,u[11]=a[11]*E,u[12]=a[12],u[13]=a[13],u[14]=a[14],u[15]=a[15],u},f.L=gg,f.M=function(u,a){const d={};for(let g=0;g<a.length;g++){const B=a[g];B in u&&(d[B]=u[B])}return d},f.N=uh,f.O=jh,f.P=C,f.Q=Yd,f.R=Sl,f.S=To,f.T=Wc,f.U=K,f.V=Y,f.W=De,f.X=ra,f.Y=L,f.Z=Vf,f._=l,f.a=Ie,f.a$=function(u,a){var d=u[0],g=u[1],B=u[2],E=u[3],I=u[4],O=u[5],R=u[6],q=u[7],Z=u[8],J=u[9],oe=u[10],he=u[11],ve=u[12],Ce=u[13],je=u[14],Ze=u[15],ht=a[0],it=a[1],At=a[2],Bt=a[3],Kt=a[4],er=a[5],kr=a[6],Wt=a[7],Yt=a[8],pr=a[9],Ar=a[10],ir=a[11],Ut=a[12],ar=a[13],hr=a[14],qr=a[15];return Math.abs(d-ht)<=oo*Math.max(1,Math.abs(d),Math.abs(ht))&&Math.abs(g-it)<=oo*Math.max(1,Math.abs(g),Math.abs(it))&&Math.abs(B-At)<=oo*Math.max(1,Math.abs(B),Math.abs(At))&&Math.abs(E-Bt)<=oo*Math.max(1,Math.abs(E),Math.abs(Bt))&&Math.abs(I-Kt)<=oo*Math.max(1,Math.abs(I),Math.abs(Kt))&&Math.abs(O-er)<=oo*Math.max(1,Math.abs(O),Math.abs(er))&&Math.abs(R-kr)<=oo*Math.max(1,Math.abs(R),Math.abs(kr))&&Math.abs(q-Wt)<=oo*Math.max(1,Math.abs(q),Math.abs(Wt))&&Math.abs(Z-Yt)<=oo*Math.max(1,Math.abs(Z),Math.abs(Yt))&&Math.abs(J-pr)<=oo*Math.max(1,Math.abs(J),Math.abs(pr))&&Math.abs(oe-Ar)<=oo*Math.max(1,Math.abs(oe),Math.abs(Ar))&&Math.abs(he-ir)<=oo*Math.max(1,Math.abs(he),Math.abs(ir))&&Math.abs(ve-Ut)<=oo*Math.max(1,Math.abs(ve),Math.abs(Ut))&&Math.abs(Ce-ar)<=oo*Math.max(1,Math.abs(Ce),Math.abs(ar))&&Math.abs(je-hr)<=oo*Math.max(1,Math.abs(je),Math.abs(hr))&&Math.abs(Ze-qr)<=oo*Math.max(1,Math.abs(Ze),Math.abs(qr))},f.a0=cn,f.a1=im,f.a2=Lt,f.a3=u=>{const a=window.document.createElement("video");return a.muted=!0,new Promise((d=>{a.onloadstart=()=>{d(a)};for(const g of u){const B=window.document.createElement("source");pt(g)||(a.crossOrigin="Anonymous"),B.src=g,a.appendChild(B)}}))},f.a4=function(){return Fe++},f.a5=$t,f.a6=Rh,f.a7=pc,f.a8=ju,f.a9=am,f.aA=function(u){if(u.type==="custom")return new Vg(u);switch(u.type){case"background":return new dv(u);case"circle":return new uw(u);case"fill":return new Xy(u);case"fill-extrusion":return new Qd(u);case"heatmap":return new Kp(u);case"hillshade":return new Pd(u);case"line":return new iv(u);case"raster":return new rm(u);case"symbol":return new Kf(u)}},f.aB=se,f.aC=function(u,a){if(!u)return[{command:"setStyle",args:[a]}];let d=[];try{if(!It(u.version,a.version))return[{command:"setStyle",args:[a]}];It(u.center,a.center)||d.push({command:"setCenter",args:[a.center]}),It(u.zoom,a.zoom)||d.push({command:"setZoom",args:[a.zoom]}),It(u.bearing,a.bearing)||d.push({command:"setBearing",args:[a.bearing]}),It(u.pitch,a.pitch)||d.push({command:"setPitch",args:[a.pitch]}),It(u.sprite,a.sprite)||d.push({command:"setSprite",args:[a.sprite]}),It(u.glyphs,a.glyphs)||d.push({command:"setGlyphs",args:[a.glyphs]}),It(u.transition,a.transition)||d.push({command:"setTransition",args:[a.transition]}),It(u.light,a.light)||d.push({command:"setLight",args:[a.light]}),It(u.terrain,a.terrain)||d.push({command:"setTerrain",args:[a.terrain]}),It(u.sky,a.sky)||d.push({command:"setSky",args:[a.sky]}),It(u.projection,a.projection)||d.push({command:"setProjection",args:[a.projection]});const g={},B=[];(function(I,O,R,q){let Z;for(Z in O=O||{},I=I||{})Object.prototype.hasOwnProperty.call(I,Z)&&(Object.prototype.hasOwnProperty.call(O,Z)||Tr(Z,R,q));for(Z in O)Object.prototype.hasOwnProperty.call(O,Z)&&(Object.prototype.hasOwnProperty.call(I,Z)?It(I[Z],O[Z])||(I[Z].type==="geojson"&&O[Z].type==="geojson"&&rn(I,O,Z)?nr(R,{command:"setGeoJSONSourceData",args:[Z,O[Z].data]}):Br(Z,O,R,q)):ur(Z,O,R))})(u.sources,a.sources,B,g);const E=[];u.layers&&u.layers.forEach((I=>{"source"in I&&g[I.source]?d.push({command:"removeLayer",args:[I.id]}):E.push(I)})),d=d.concat(B),(function(I,O,R){O=O||[];const q=(I=I||[]).map(Jr),Z=O.map(Jr),J=I.reduce(yn,{}),oe=O.reduce(yn,{}),he=q.slice(),ve=Object.create(null);let Ce,je,Ze,ht,it;for(let At=0,Bt=0;At<q.length;At++)Ce=q[At],Object.prototype.hasOwnProperty.call(oe,Ce)?Bt++:(nr(R,{command:"removeLayer",args:[Ce]}),he.splice(he.indexOf(Ce,Bt),1));for(let At=0,Bt=0;At<Z.length;At++)Ce=Z[Z.length-1-At],he[he.length-1-At]!==Ce&&(Object.prototype.hasOwnProperty.call(J,Ce)?(nr(R,{command:"removeLayer",args:[Ce]}),he.splice(he.lastIndexOf(Ce,he.length-Bt),1)):Bt++,ht=he[he.length-At],nr(R,{command:"addLayer",args:[oe[Ce],ht]}),he.splice(he.length-At,0,Ce),ve[Ce]=!0);for(let At=0;At<Z.length;At++)if(Ce=Z[At],je=J[Ce],Ze=oe[Ce],!ve[Ce]&&!It(je,Ze))if(It(je.source,Ze.source)&&It(je["source-layer"],Ze["source-layer"])&&It(je.type,Ze.type)){for(it in nn(je.layout,Ze.layout,R,Ce,null,"setLayoutProperty"),nn(je.paint,Ze.paint,R,Ce,null,"setPaintProperty"),It(je.filter,Ze.filter)||nr(R,{command:"setFilter",args:[Ce,Ze.filter]}),It(je.minzoom,Ze.minzoom)&&It(je.maxzoom,Ze.maxzoom)||nr(R,{command:"setLayerZoomRange",args:[Ce,Ze.minzoom,Ze.maxzoom]}),je)Object.prototype.hasOwnProperty.call(je,it)&&it!=="layout"&&it!=="paint"&&it!=="filter"&&it!=="metadata"&&it!=="minzoom"&&it!=="maxzoom"&&(it.indexOf("paint.")===0?nn(je[it],Ze[it],R,Ce,it.slice(6),"setPaintProperty"):It(je[it],Ze[it])||nr(R,{command:"setLayerProperty",args:[Ce,it,Ze[it]]}));for(it in Ze)Object.prototype.hasOwnProperty.call(Ze,it)&&!Object.prototype.hasOwnProperty.call(je,it)&&it!=="layout"&&it!=="paint"&&it!=="filter"&&it!=="metadata"&&it!=="minzoom"&&it!=="maxzoom"&&(it.indexOf("paint.")===0?nn(je[it],Ze[it],R,Ce,it.slice(6),"setPaintProperty"):It(je[it],Ze[it])||nr(R,{command:"setLayerProperty",args:[Ce,it,Ze[it]]}))}else nr(R,{command:"removeLayer",args:[Ce]}),ht=he[he.lastIndexOf(Ce)+1],nr(R,{command:"addLayer",args:[Ze,ht]})})(E,a.layers,d)}catch(g){console.warn("Unable to compute style diff:",g),d=[{command:"setStyle",args:[a]}]}return d},f.aD=function(u){const a=[],d=u.id;return d===void 0&&a.push({message:`layers.${d}: missing required property "id"`}),u.render===void 0&&a.push({message:`layers.${d}: missing required method "render"`}),u.renderingMode&&u.renderingMode!=="2d"&&u.renderingMode!=="3d"&&a.push({message:`layers.${d}: property "renderingMode" must be either "2d" or "3d"`}),a},f.aE=function u(a,d){if(Array.isArray(a)){if(!Array.isArray(d)||a.length!==d.length)return!1;for(let g=0;g<a.length;g++)if(!u(a[g],d[g]))return!1;return!0}if(typeof a=="object"&&a!==null&&d!==null){if(typeof d!="object"||Object.keys(a).length!==Object.keys(d).length)return!1;for(const g in a)if(!u(a[g],d[g]))return!1;return!0}return a===d},f.aF=me,f.aG=He,f.aH=class extends nA{constructor(u,a){super(u,a),this.current=0}set(u){this.current!==u&&(this.current=u,this.gl.uniform1i(this.location,u))}},f.aI=iA,f.aJ=class extends nA{constructor(u,a){super(u,a),this.current=QA}set(u){if(u[12]!==this.current[12]||u[0]!==this.current[0])return this.current=u,void this.gl.uniformMatrix4fv(this.location,!1,u);for(let a=1;a<16;a++)if(u[a]!==this.current[a]){this.current=u,this.gl.uniformMatrix4fv(this.location,!1,u);break}}},f.aK=wc,f.aL=Ru,f.aM=wn,f.aN=class extends nA{constructor(u,a){super(u,a),this.current=[0,0,0]}set(u){u[0]===this.current[0]&&u[1]===this.current[1]&&u[2]===this.current[2]||(this.current=u,this.gl.uniform3f(this.location,u[0],u[1],u[2]))}},f.aO=class extends nA{constructor(u,a){super(u,a),this.current=[0,0]}set(u){u[0]===this.current[0]&&u[1]===this.current[1]||(this.current=u,this.gl.uniform2f(this.location,u[0],u[1]))}},f.aP=function(u,a,d,g,B,E,I){var O=1/(a-d),R=1/(g-B),q=1/(E-I);return u[0]=-2*O,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=-2*R,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=2*q,u[11]=0,u[12]=(a+d)*O,u[13]=(B+g)*R,u[14]=(I+E)*q,u[15]=1,u},f.aQ=Qy,f.aR=class extends Xe{},f.aS=El,f.aT=class extends at{},f.aU=Md,f.aV=function(u){return u<=1?1:Math.pow(2,Math.ceil(Math.log(u)/Math.LN2))},f.aW=Tf,f.aX=sn,f.aY=Ii,f.aZ=class extends zt{},f.a_=function(u,a){return u[0]===a[0]&&u[1]===a[1]&&u[2]===a[2]&&u[3]===a[3]&&u[4]===a[4]&&u[5]===a[5]&&u[6]===a[6]&&u[7]===a[7]&&u[8]===a[8]&&u[9]===a[9]&&u[10]===a[10]&&u[11]===a[11]&&u[12]===a[12]&&u[13]===a[13]&&u[14]===a[14]&&u[15]===a[15]},f.aa=function(u){const a={};if(u.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,((d,g,B,E)=>{const I=B||E;return a[g]=!I||I.toLowerCase(),""})),a["max-age"]){const d=parseInt(a["max-age"],10);isNaN(d)?delete a["max-age"]:a["max-age"]=d}return a},f.ab=function(u,a){const d=[];for(const g in u)g in a||d.push(g);return d},f.ac=Ae,f.ad=function(u,a,d){var g=Math.sin(d),B=Math.cos(d),E=a[0],I=a[1],O=a[2],R=a[3],q=a[4],Z=a[5],J=a[6],oe=a[7];return a!==u&&(u[8]=a[8],u[9]=a[9],u[10]=a[10],u[11]=a[11],u[12]=a[12],u[13]=a[13],u[14]=a[14],u[15]=a[15]),u[0]=E*B+q*g,u[1]=I*B+Z*g,u[2]=O*B+J*g,u[3]=R*B+oe*g,u[4]=q*B-E*g,u[5]=Z*B-I*g,u[6]=J*B-O*g,u[7]=oe*B-R*g,u},f.ae=function(u){var a=new nh(16);return a[0]=u[0],a[1]=u[1],a[2]=u[2],a[3]=u[3],a[4]=u[4],a[5]=u[5],a[6]=u[6],a[7]=u[7],a[8]=u[8],a[9]=u[9],a[10]=u[10],a[11]=u[11],a[12]=u[12],a[13]=u[13],a[14]=u[14],a[15]=u[15],a},f.af=Ld,f.ag=function(u,a){let d=0,g=0;if(u.kind==="constant")g=u.layoutSize;else if(u.kind!=="source"){const{interpolationType:B,minZoom:E,maxZoom:I}=u,O=B?Ae(Yi.interpolationFactor(B,a,E,I),0,1):0;u.kind==="camera"?g=ua.number(u.minSize,u.maxSize,O):d=O}return{uSizeT:d,uSize:g}},f.ai=function(u,{uSize:a,uSizeT:d},{lowerSize:g,upperSize:B}){return u.kind==="source"?g/lo:u.kind==="composite"?ua.number(g/lo,B/lo,d):a},f.aj=Zd,f.ak=function(u,a,d,g){const B=a.y-u.y,E=a.x-u.x,I=g.y-d.y,O=g.x-d.x,R=I*E-O*B;if(R===0)return null;const q=(O*(u.y-d.y)-I*(u.x-d.x))/R;return new C(u.x+q*E,u.y+q*B)},f.al=yv,f.am=th,f.an=zp,f.ao=function(u){let a=1/0,d=1/0,g=-1/0,B=-1/0;for(const E of u)a=Math.min(a,E.x),d=Math.min(d,E.y),g=Math.max(g,E.x),B=Math.max(B,E.y);return[a,d,g,B]},f.ap=Ua,f.ar=Xd,f.as=function(u,a){var d=a[0],g=a[1],B=a[2],E=a[3],I=a[4],O=a[5],R=a[6],q=a[7],Z=a[8],J=a[9],oe=a[10],he=a[11],ve=a[12],Ce=a[13],je=a[14],Ze=a[15],ht=d*O-g*I,it=d*R-B*I,At=d*q-E*I,Bt=g*R-B*O,Kt=g*q-E*O,er=B*q-E*R,kr=Z*Ce-J*ve,Wt=Z*je-oe*ve,Yt=Z*Ze-he*ve,pr=J*je-oe*Ce,Ar=J*Ze-he*Ce,ir=oe*Ze-he*je,Ut=ht*ir-it*Ar+At*pr+Bt*Yt-Kt*Wt+er*kr;return Ut?(u[0]=(O*ir-R*Ar+q*pr)*(Ut=1/Ut),u[1]=(B*Ar-g*ir-E*pr)*Ut,u[2]=(Ce*er-je*Kt+Ze*Bt)*Ut,u[3]=(oe*Kt-J*er-he*Bt)*Ut,u[4]=(R*Yt-I*ir-q*Wt)*Ut,u[5]=(d*ir-B*Yt+E*Wt)*Ut,u[6]=(je*At-ve*er-Ze*it)*Ut,u[7]=(Z*er-oe*At+he*it)*Ut,u[8]=(I*Ar-O*Yt+q*kr)*Ut,u[9]=(g*Yt-d*Ar-E*kr)*Ut,u[10]=(ve*Kt-Ce*At+Ze*ht)*Ut,u[11]=(J*At-Z*Kt-he*ht)*Ut,u[12]=(O*Wt-I*pr-R*kr)*Ut,u[13]=(d*pr-g*Wt+B*kr)*Ut,u[14]=(Ce*it-ve*Bt-je*ht)*Ut,u[15]=(Z*Bt-J*it+oe*ht)*Ut,u):null},f.at=Am,f.au=Hf,f.av=np,f.aw=function(){const u={},a=Ye.$version;for(const d in Ye.$root){const g=Ye.$root[d];if(g.required){let B=null;B=d==="version"?a:g.type==="array"?[]:{},B!=null&&(u[d]=B)}}return u},f.ax=Wo,f.ay=mt,f.az=function(u){u=u.slice();const a=Object.create(null);for(let d=0;d<u.length;d++)a[u[d].id]=u[d];for(let d=0;d<u.length;d++)"ref"in u[d]&&(u[d]=Er(u[d],a[u[d].ref]));return u},f.b=Ne,f.b0=function(u,a){return u[0]=a[0],u[1]=a[1],u[2]=a[2],u[3]=a[3],u[4]=a[4],u[5]=a[5],u[6]=a[6],u[7]=a[7],u[8]=a[8],u[9]=a[9],u[10]=a[10],u[11]=a[11],u[12]=a[12],u[13]=a[13],u[14]=a[14],u[15]=a[15],u},f.b1=function(u,a,d){return u[0]=a[0]*d[0],u[1]=a[1]*d[1],u[2]=a[2]*d[2],u[3]=a[3]*d[3],u},f.b2=function(u,a){return u[0]*a[0]+u[1]*a[1]+u[2]*a[2]+u[3]*a[3]},f.b3=pe,f.b4=Wg,f.b5=Xg,f.b6=function(u,a,d,g,B){var E,I=1/Math.tan(a/2);return u[0]=I/d,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=I,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[11]=-1,u[12]=0,u[13]=0,u[15]=0,B!=null&&B!==1/0?(u[10]=(B+g)*(E=1/(g-B)),u[14]=2*B*g*E):(u[10]=-1,u[14]=-2*g),u},f.b7=function(u,a,d){var g=Math.sin(d),B=Math.cos(d),E=a[4],I=a[5],O=a[6],R=a[7],q=a[8],Z=a[9],J=a[10],oe=a[11];return a!==u&&(u[0]=a[0],u[1]=a[1],u[2]=a[2],u[3]=a[3],u[12]=a[12],u[13]=a[13],u[14]=a[14],u[15]=a[15]),u[4]=E*B+q*g,u[5]=I*B+Z*g,u[6]=O*B+J*g,u[7]=R*B+oe*g,u[8]=q*B-E*g,u[9]=Z*B-I*g,u[10]=J*B-O*g,u[11]=oe*B-R*g,u},f.b8=W,f.b9=ae,f.bA=Ng,f.bB=function(u){return u.message===re},f.bC=Un,f.bD=fa,f.ba=function(u){return u*Math.PI/180},f.bb=function(u,a){const{x:d,y:g}=Vf.fromLngLat(a);return!(u<0||u>25||g<0||g>=1||d<0||d>=1)},f.bc=function(u,a){return u[0]=a[0],u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=a[1],u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=a[2],u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u},f.bd=class extends Q{},f.be=qg,f.bf=_w,f.bh=Je,f.bi=function(u,a){Ie.REGISTERED_PROTOCOLS[u]=a},f.bj=function(u){delete Ie.REGISTERED_PROTOCOLS[u]},f.bk=function(u,a){const d={};for(let B=0;B<u.length;B++){const E=a&&a[u[B].id]||ks(u[B]);a&&(a[u[B].id]=E);let I=d[E];I||(I=d[E]=[]),I.push(u[B])}const g=[];for(const B in d)g.push(d[B]);return g},f.bl=Rt,f.bm=hi,f.bn=mv,f.bo=ci,f.bp=function(u){u.bucket.createArrays(),u.bucket.tilePixelRatio=ra/(512*u.bucket.overscaling),u.bucket.compareText={},u.bucket.iconsNeedLinear=!1;const a=u.bucket.layers[0],d=a.layout,g=a._unevaluatedLayout._values,B={layoutIconSize:g["icon-size"].possiblyEvaluate(new pn(u.bucket.zoom+1),u.canonical),layoutTextSize:g["text-size"].possiblyEvaluate(new pn(u.bucket.zoom+1),u.canonical),textMaxSize:g["text-size"].possiblyEvaluate(new pn(18))};if(u.bucket.textSizeData.kind==="composite"){const{minZoom:q,maxZoom:Z}=u.bucket.textSizeData;B.compositeTextSizes=[g["text-size"].possiblyEvaluate(new pn(q),u.canonical),g["text-size"].possiblyEvaluate(new pn(Z),u.canonical)]}if(u.bucket.iconSizeData.kind==="composite"){const{minZoom:q,maxZoom:Z}=u.bucket.iconSizeData;B.compositeIconSizes=[g["icon-size"].possiblyEvaluate(new pn(q),u.canonical),g["icon-size"].possiblyEvaluate(new pn(Z),u.canonical)]}const E=d.get("text-line-height")*Ua,I=d.get("text-rotation-alignment")!=="viewport"&&d.get("symbol-placement")!=="point",O=d.get("text-keep-upright"),R=d.get("text-size");for(const q of u.bucket.features){const Z=d.get("text-font").evaluate(q,{},u.canonical).join(","),J=R.evaluate(q,{},u.canonical),oe=B.layoutTextSize.evaluate(q,{},u.canonical),he=B.layoutIconSize.evaluate(q,{},u.canonical),ve={horizontal:{},vertical:void 0},Ce=q.text;let je,Ze=[0,0];if(Ce){const At=Ce.toString(),Bt=d.get("text-letter-spacing").evaluate(q,{},u.canonical)*Ua,Kt=Lh(At)?Bt:0,er=d.get("text-anchor").evaluate(q,{},u.canonical),kr=bv(a,q,u.canonical);if(!kr){const Ar=d.get("text-radial-offset").evaluate(q,{},u.canonical);Ze=Ar?Zf(er,[Ar*Ua,r0]):d.get("text-offset").evaluate(q,{},u.canonical).map((ir=>ir*Ua))}let Wt=I?"center":d.get("text-justify").evaluate(q,{},u.canonical);const Yt=d.get("symbol-placement")==="point"?d.get("text-max-width").evaluate(q,{},u.canonical)*Ua:1/0,pr=()=>{u.bucket.allowVerticalPlacement&&Yl(At)&&(ve.vertical=GA(Ce,u.glyphMap,u.glyphPositions,u.imagePositions,Z,Yt,E,er,"left",Kt,Ze,f.ah.vertical,!0,oe,J))};if(!I&&kr){const Ar=new Set;if(Wt==="auto")for(let Ut=0;Ut<kr.values.length;Ut+=2)Ar.add(Am(kr.values[Ut]));else Ar.add(Wt);let ir=!1;for(const Ut of Ar)if(!ve.horizontal[Ut])if(ir)ve.horizontal[Ut]=ve.horizontal[0];else{const ar=GA(Ce,u.glyphMap,u.glyphPositions,u.imagePositions,Z,Yt,E,"center",Ut,Kt,Ze,f.ah.horizontal,!1,oe,J);ar&&(ve.horizontal[Ut]=ar,ir=ar.positionedLines.length===1)}pr()}else{Wt==="auto"&&(Wt=Am(er));const Ar=GA(Ce,u.glyphMap,u.glyphPositions,u.imagePositions,Z,Yt,E,er,Wt,Kt,Ze,f.ah.horizontal,!1,oe,J);Ar&&(ve.horizontal[Wt]=Ar),pr(),Yl(At)&&I&&O&&(ve.vertical=GA(Ce,u.glyphMap,u.glyphPositions,u.imagePositions,Z,Yt,E,er,Wt,Kt,Ze,f.ah.vertical,!1,oe,J))}}let ht=!1;if(q.icon&&q.icon.name){const At=u.imageMap[q.icon.name];At&&(je=em(u.imagePositions[q.icon.name],d.get("icon-offset").evaluate(q,{},u.canonical),d.get("icon-anchor").evaluate(q,{},u.canonical)),ht=!!At.sdf,u.bucket.sdfIcons===void 0?u.bucket.sdfIcons=ht:u.bucket.sdfIcons!==ht&&Le("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(At.pixelRatio!==u.bucket.pixelRatio||d.get("icon-rotate").constantOr(1)!==0)&&(u.bucket.iconsNeedLinear=!0))}const it=rp(ve.horizontal)||ve.vertical;u.bucket.iconsInText=!!it&&it.iconsInText,(it||je)&&Hn(u.bucket,q,ve,je,u.imageMap,B,oe,he,Ze,ht,u.canonical)}u.showCollisionBoxes&&u.bucket.generateCollisionDebugBuffers()},f.bq=zd,f.br=Pf,f.bs=kh,f.bt=Cc,f.bu=Yp,f.bv=class{constructor(u){this._marks={start:[u.url,"start"].join("#"),end:[u.url,"end"].join("#"),measure:u.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let u=performance.getEntriesByName(this._marks.measure);return u.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),u=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),u}},f.bw=function(u,a,d,g,B){return l(this,void 0,void 0,(function*(){if(Y())try{return yield De(u,a,d,g,B)}catch{}return(function(E,I,O,R,q){const Z=E.width,J=E.height;ot&&be||(ot=new OffscreenCanvas(Z,J),be=ot.getContext("2d",{willReadFrequently:!0})),ot.width=Z,ot.height=J,be.drawImage(E,0,0,Z,J);const oe=be.getImageData(I,O,R,q);return be.clearRect(0,0,Z,J),oe.data})(u,a,d,g,B)}))},f.bx=Yg,f.by=y,f.bz=b,f.c=ye,f.d=u=>l(void 0,void 0,void 0,(function*(){if(u.byteLength===0)return createImageBitmap(new ImageData(1,1));const a=new Blob([new Uint8Array(u)],{type:"image/png"});try{return createImageBitmap(a)}catch(d){throw new Error(`Could not load image because of ${d.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`)}})),f.e=Be,f.f=u=>new Promise(((a,d)=>{const g=new Image;g.onload=()=>{a(g),URL.revokeObjectURL(g.src),g.onload=null,window.requestAnimationFrame((()=>{g.src=Ve}))},g.onerror=()=>d(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const B=new Blob([new Uint8Array(u)],{type:"image/png"});g.src=u.byteLength?URL.createObjectURL(B):Ve})),f.g=ke,f.h=(u,a)=>Ke(Be(u,{type:"json"}),a),f.i=nt,f.j=Xt,f.k=qt,f.l=(u,a)=>Ke(Be(u,{type:"arrayBuffer"}),a),f.m=Ke,f.n=function(u){return new Yp(u).readFields(Av,[])},f.o=Ud,f.p=Fi,f.q=_,f.r=no,f.s=pt,f.t=$c,f.u=Fa,f.v=Ye,f.w=Le,f.x=function([u,a,d]){return a+=90,a*=Math.PI/180,d*=Math.PI/180,{x:u*Math.cos(a)*Math.sin(d),y:u*Math.sin(a)*Math.sin(d),z:u*Math.cos(d)}},f.y=ua,f.z=pn})),s("worker",["./shared"],(function(f){class l{constructor(le){this.keyCache={},le&&this.replace(le)}replace(le){this._layerConfigs={},this._layers={},this.update(le,[])}update(le,ue){for(const Re of le){this._layerConfigs[Re.id]=Re;const et=this._layers[Re.id]=f.aA(Re);et._featureFilter=f.a7(et.filter),this.keyCache[Re.id]&&delete this.keyCache[Re.id]}for(const Re of ue)delete this.keyCache[Re],delete this._layerConfigs[Re],delete this._layers[Re];this.familiesBySource={};const we=f.bk(Object.values(this._layerConfigs),this.keyCache);for(const Re of we){const et=Re.map((ft=>this._layers[ft.id])),qe=et[0];if(qe.visibility==="none")continue;const lt=qe.source||"";let We=this.familiesBySource[lt];We||(We=this.familiesBySource[lt]={});const yt=qe.sourceLayer||"_geojsonTileLayer";let Mt=We[yt];Mt||(Mt=We[yt]=[]),Mt.push(et)}}}class y{constructor(le){const ue={},we=[];for(const lt in le){const We=le[lt],yt=ue[lt]={};for(const Mt in We){const ft=We[+Mt];if(!ft||ft.bitmap.width===0||ft.bitmap.height===0)continue;const Qt={x:0,y:0,w:ft.bitmap.width+2,h:ft.bitmap.height+2};we.push(Qt),yt[Mt]={rect:Qt,metrics:ft.metrics}}}const{w:Re,h:et}=f.p(we),qe=new f.o({width:Re||1,height:et||1});for(const lt in le){const We=le[lt];for(const yt in We){const Mt=We[+yt];if(!Mt||Mt.bitmap.width===0||Mt.bitmap.height===0)continue;const ft=ue[lt][yt].rect;f.o.copy(Mt.bitmap,qe,{x:0,y:0},{x:ft.x+1,y:ft.y+1},Mt.bitmap)}}this.image=qe,this.positions=ue}}f.bl("GlyphAtlas",y);class b{constructor(le){this.tileID=new f.S(le.tileID.overscaledZ,le.tileID.wrap,le.tileID.canonical.z,le.tileID.canonical.x,le.tileID.canonical.y),this.uid=le.uid,this.zoom=le.zoom,this.pixelRatio=le.pixelRatio,this.tileSize=le.tileSize,this.source=le.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=le.showCollisionBoxes,this.collectResourceTiming=!!le.collectResourceTiming,this.returnDependencies=!!le.returnDependencies,this.promoteId=le.promoteId,this.inFlightDependencies=[]}parse(le,ue,we,Re){return f._(this,void 0,void 0,(function*(){this.status="parsing",this.data=le,this.collisionBoxArray=new f.a5;const et=new f.bm(Object.keys(le.layers).sort()),qe=new f.bn(this.tileID,this.promoteId);qe.bucketLayerIDs=[];const lt={},We={featureIndex:qe,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:we},yt=ue.familiesBySource[this.source];for(const en in yt){const vn=le.layers[en];if(!vn)continue;vn.version===1&&f.w(`Vector tile source "${this.source}" layer "${en}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Pn=et.encode(en),gi=[];for(let ai=0;ai<vn.length;ai++){const yi=vn.feature(ai),_o=qe.getId(yi,en);gi.push({feature:yi,id:_o,index:ai,sourceLayerIndex:Pn})}for(const ai of yt[en]){const yi=ai[0];yi.source!==this.source&&f.w(`layer.source = ${yi.source} does not equal this.source = ${this.source}`),yi.minzoom&&this.zoom<Math.floor(yi.minzoom)||yi.maxzoom&&this.zoom>=yi.maxzoom||yi.visibility!=="none"&&(w(ai,this.zoom,we),(lt[yi.id]=yi.createBucket({index:qe.bucketLayerIDs.length,layers:ai,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Pn,sourceID:this.source})).populate(gi,We,this.tileID.canonical),qe.bucketLayerIDs.push(ai.map((_o=>_o.id))))}}const Mt=f.aF(We.glyphDependencies,(en=>Object.keys(en).map(Number)));this.inFlightDependencies.forEach((en=>en?.abort())),this.inFlightDependencies=[];let ft=Promise.resolve({});if(Object.keys(Mt).length){const en=new AbortController;this.inFlightDependencies.push(en),ft=Re.sendAsync({type:"GG",data:{stacks:Mt,source:this.source,tileID:this.tileID,type:"glyphs"}},en)}const Qt=Object.keys(We.iconDependencies);let Jt=Promise.resolve({});if(Qt.length){const en=new AbortController;this.inFlightDependencies.push(en),Jt=Re.sendAsync({type:"GI",data:{icons:Qt,source:this.source,tileID:this.tileID,type:"icons"}},en)}const dr=Object.keys(We.patternDependencies);let Wr=Promise.resolve({});if(dr.length){const en=new AbortController;this.inFlightDependencies.push(en),Wr=Re.sendAsync({type:"GI",data:{icons:dr,source:this.source,tileID:this.tileID,type:"patterns"}},en)}const[or,Or,jr]=yield Promise.all([ft,Jt,Wr]),Kn=new y(or),Nn=new f.bo(Or,jr);for(const en in lt){const vn=lt[en];vn instanceof f.a6?(w(vn.layers,this.zoom,we),f.bp({bucket:vn,glyphMap:or,glyphPositions:Kn.positions,imageMap:Or,imagePositions:Nn.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):vn.hasPattern&&(vn instanceof f.bq||vn instanceof f.br||vn instanceof f.bs)&&(w(vn.layers,this.zoom,we),vn.addFeatures(We,this.tileID.canonical,Nn.patternPositions))}return this.status="done",{buckets:Object.values(lt).filter((en=>!en.isEmpty())),featureIndex:qe,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Kn.image,imageAtlas:Nn,glyphMap:this.returnDependencies?or:null,iconMap:this.returnDependencies?Or:null,glyphPositions:this.returnDependencies?Kn.positions:null}}))}}function w(Me,le,ue){const we=new f.z(le);for(const Re of Me)Re.recalculate(we,ue)}class C{constructor(le,ue,we){this.actor=le,this.layerIndex=ue,this.availableImages=we,this.fetching={},this.loading={},this.loaded={}}loadVectorTile(le,ue){return f._(this,void 0,void 0,(function*(){const we=yield f.l(le.request,ue);try{return{vectorTile:new f.bt.VectorTile(new f.bu(we.data)),rawData:we.data,cacheControl:we.cacheControl,expires:we.expires}}catch(Re){const et=new Uint8Array(we.data);let qe=`Unable to parse the tile at ${le.request.url}, `;throw qe+=et[0]===31&&et[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${Re.message}`,new Error(qe)}}))}loadTile(le){return f._(this,void 0,void 0,(function*(){const ue=le.uid,we=!!(le&&le.request&&le.request.collectResourceTiming)&&new f.bv(le.request),Re=new b(le);this.loading[ue]=Re;const et=new AbortController;Re.abort=et;try{const qe=yield this.loadVectorTile(le,et);if(delete this.loading[ue],!qe)return null;const lt=qe.rawData,We={};qe.expires&&(We.expires=qe.expires),qe.cacheControl&&(We.cacheControl=qe.cacheControl);const yt={};if(we){const ft=we.finish();ft&&(yt.resourceTiming=JSON.parse(JSON.stringify(ft)))}Re.vectorTile=qe.vectorTile;const Mt=Re.parse(qe.vectorTile,this.layerIndex,this.availableImages,this.actor);this.loaded[ue]=Re,this.fetching[ue]={rawTileData:lt,cacheControl:We,resourceTiming:yt};try{const ft=yield Mt;return f.e({rawTileData:lt.slice(0)},ft,We,yt)}finally{delete this.fetching[ue]}}catch(qe){throw delete this.loading[ue],Re.status="done",this.loaded[ue]=Re,qe}}))}reloadTile(le){return f._(this,void 0,void 0,(function*(){const ue=le.uid;if(!this.loaded||!this.loaded[ue])throw new Error("Should not be trying to reload a tile that was never loaded or has been removed");const we=this.loaded[ue];if(we.showCollisionBoxes=le.showCollisionBoxes,we.status==="parsing"){const Re=yield we.parse(we.vectorTile,this.layerIndex,this.availableImages,this.actor);let et;if(this.fetching[ue]){const{rawTileData:qe,cacheControl:lt,resourceTiming:We}=this.fetching[ue];delete this.fetching[ue],et=f.e({rawTileData:qe.slice(0)},Re,lt,We)}else et=Re;return et}if(we.status==="done"&&we.vectorTile)return we.parse(we.vectorTile,this.layerIndex,this.availableImages,this.actor)}))}abortTile(le){return f._(this,void 0,void 0,(function*(){const ue=this.loading,we=le.uid;ue&&ue[we]&&ue[we].abort&&(ue[we].abort.abort(),delete ue[we])}))}removeTile(le){return f._(this,void 0,void 0,(function*(){this.loaded&&this.loaded[le.uid]&&delete this.loaded[le.uid]}))}}class F{constructor(){this.loaded={}}loadTile(le){return f._(this,void 0,void 0,(function*(){const{uid:ue,encoding:we,rawImageData:Re,redFactor:et,greenFactor:qe,blueFactor:lt,baseShift:We}=le,yt=Re.width+2,Mt=Re.height+2,ft=f.b(Re)?new f.R({width:yt,height:Mt},yield f.bw(Re,-1,-1,yt,Mt)):Re,Qt=new f.bx(ue,ft,we,et,qe,lt,We);return this.loaded=this.loaded||{},this.loaded[ue]=Qt,Qt}))}removeTile(le){const ue=this.loaded,we=le.uid;ue&&ue[we]&&delete ue[we]}}function T(Me,le){if(Me.length!==0){j(Me[0],le);for(var ue=1;ue<Me.length;ue++)j(Me[ue],!le)}}function j(Me,le){for(var ue=0,we=0,Re=0,et=Me.length,qe=et-1;Re<et;qe=Re++){var lt=(Me[Re][0]-Me[qe][0])*(Me[qe][1]+Me[Re][1]),We=ue+lt;we+=Math.abs(ue)>=Math.abs(lt)?ue-We+lt:lt-We+ue,ue=We}ue+we>=0!=!!le&&Me.reverse()}var k=f.by((function Me(le,ue){var we,Re=le&&le.type;if(Re==="FeatureCollection")for(we=0;we<le.features.length;we++)Me(le.features[we],ue);else if(Re==="GeometryCollection")for(we=0;we<le.geometries.length;we++)Me(le.geometries[we],ue);else if(Re==="Feature")Me(le.geometry,ue);else if(Re==="Polygon")T(le.coordinates,ue);else if(Re==="MultiPolygon")for(we=0;we<le.coordinates.length;we++)T(le.coordinates[we],ue);return le}));const H=f.bt.VectorTileFeature.prototype.toGeoJSON;var K={exports:{}},Y=f.bz,W=f.bt.VectorTileFeature,ae=Ae;function Ae(Me,le){this.options=le||{},this.features=Me,this.length=Me.length}function pe(Me,le){this.id=typeof Me.id=="number"?Me.id:void 0,this.type=Me.type,this.rawGeometry=Me.type===1?[Me.geometry]:Me.geometry,this.properties=Me.tags,this.extent=le||4096}Ae.prototype.feature=function(Me){return new pe(this.features[Me],this.options.extent)},pe.prototype.loadGeometry=function(){var Me=this.rawGeometry;this.geometry=[];for(var le=0;le<Me.length;le++){for(var ue=Me[le],we=[],Re=0;Re<ue.length;Re++)we.push(new Y(ue[Re][0],ue[Re][1]));this.geometry.push(we)}return this.geometry},pe.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var Me=this.geometry,le=1/0,ue=-1/0,we=1/0,Re=-1/0,et=0;et<Me.length;et++)for(var qe=Me[et],lt=0;lt<qe.length;lt++){var We=qe[lt];le=Math.min(le,We.x),ue=Math.max(ue,We.x),we=Math.min(we,We.y),Re=Math.max(Re,We.y)}return[le,we,ue,Re]},pe.prototype.toGeoJSON=W.prototype.toGeoJSON;var Be=f.bA,Fe=ae;function me(Me){var le=new Be;return(function(ue,we){for(var Re in ue.layers)we.writeMessage(3,He,ue.layers[Re])})(Me,le),le.finish()}function He(Me,le){var ue;le.writeVarintField(15,Me.version||1),le.writeStringField(1,Me.name||""),le.writeVarintField(5,Me.extent||4096);var we={keys:[],values:[],keycache:{},valuecache:{}};for(ue=0;ue<Me.length;ue++)we.feature=Me.feature(ue),le.writeMessage(2,se,we);var Re=we.keys;for(ue=0;ue<Re.length;ue++)le.writeStringField(3,Re[ue]);var et=we.values;for(ue=0;ue<et.length;ue++)le.writeMessage(4,Oe,et[ue])}function se(Me,le){var ue=Me.feature;ue.id!==void 0&&le.writeVarintField(1,ue.id),le.writeMessage(2,de,Me),le.writeVarintField(3,ue.type),le.writeMessage(4,nt,ue)}function de(Me,le){var ue=Me.feature,we=Me.keys,Re=Me.values,et=Me.keycache,qe=Me.valuecache;for(var lt in ue.properties){var We=ue.properties[lt],yt=et[lt];if(We!==null){yt===void 0&&(we.push(lt),et[lt]=yt=we.length-1),le.writeVarint(yt);var Mt=typeof We;Mt!=="string"&&Mt!=="boolean"&&Mt!=="number"&&(We=JSON.stringify(We));var ft=Mt+":"+We,Qt=qe[ft];Qt===void 0&&(Re.push(We),qe[ft]=Qt=Re.length-1),le.writeVarint(Qt)}}}function Le(Me,le){return(le<<3)+(7&Me)}function Ue(Me){return Me<<1^Me>>31}function nt(Me,le){for(var ue=Me.loadGeometry(),we=Me.type,Re=0,et=0,qe=ue.length,lt=0;lt<qe;lt++){var We=ue[lt],yt=1;we===1&&(yt=We.length),le.writeVarint(Le(1,yt));for(var Mt=we===3?We.length-1:We.length,ft=0;ft<Mt;ft++){ft===1&&we!==1&&le.writeVarint(Le(2,Mt-1));var Qt=We[ft].x-Re,Jt=We[ft].y-et;le.writeVarint(Ue(Qt)),le.writeVarint(Ue(Jt)),Re+=Qt,et+=Jt}we===3&&le.writeVarint(Le(7,1))}}function Oe(Me,le){var ue=typeof Me;ue==="string"?le.writeStringField(1,Me):ue==="boolean"?le.writeBooleanField(7,Me):ue==="number"&&(Me%1!=0?le.writeDoubleField(3,Me):Me<0?le.writeSVarintField(6,Me):le.writeVarintField(5,Me))}K.exports=me,K.exports.fromVectorTileJs=me,K.exports.fromGeojsonVt=function(Me,le){le=le||{};var ue={};for(var we in Me)ue[we]=new Fe(Me[we].features,le),ue[we].name=we,ue[we].version=le.version,ue[we].extent=le.extent;return me({layers:ue})},K.exports.GeoJSONWrapper=Fe;var Ne=f.by(K.exports);const Ve={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:Me=>Me},De=Math.fround||(ot=new Float32Array(1),Me=>(ot[0]=+Me,ot[0]));var ot;const be=3,re=5,ye=6;class Ie{constructor(le){this.options=Object.assign(Object.create(Ve),le),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(le){const{log:ue,minZoom:we,maxZoom:Re}=this.options;ue&&console.time("total time");const et=`prepare ${le.length} points`;ue&&console.time(et),this.points=le;const qe=[];for(let We=0;We<le.length;We++){const yt=le[We];if(!yt.geometry)continue;const[Mt,ft]=yt.geometry.coordinates,Qt=De(Je(Mt)),Jt=De(mt(ft));qe.push(Qt,Jt,1/0,We,-1,1),this.options.reduce&&qe.push(0)}let lt=this.trees[Re+1]=this._createTree(qe);ue&&console.timeEnd(et);for(let We=Re;We>=we;We--){const yt=+Date.now();lt=this.trees[We]=this._createTree(this._cluster(lt,We)),ue&&console.log("z%d: %d clusters in %dms",We,lt.numItems,+Date.now()-yt)}return ue&&console.timeEnd("total time"),this}getClusters(le,ue){let we=((le[0]+180)%360+360)%360-180;const Re=Math.max(-90,Math.min(90,le[1]));let et=le[2]===180?180:((le[2]+180)%360+360)%360-180;const qe=Math.max(-90,Math.min(90,le[3]));if(le[2]-le[0]>=360)we=-180,et=180;else if(we>et){const ft=this.getClusters([we,Re,180,qe],ue),Qt=this.getClusters([-180,Re,et,qe],ue);return ft.concat(Qt)}const lt=this.trees[this._limitZoom(ue)],We=lt.range(Je(we),mt(qe),Je(et),mt(Re)),yt=lt.data,Mt=[];for(const ft of We){const Qt=this.stride*ft;Mt.push(yt[Qt+re]>1?ke(yt,Qt,this.clusterProps):this.points[yt[Qt+be]])}return Mt}getChildren(le){const ue=this._getOriginId(le),we=this._getOriginZoom(le),Re="No cluster with the specified id.",et=this.trees[we];if(!et)throw new Error(Re);const qe=et.data;if(ue*this.stride>=qe.length)throw new Error(Re);const lt=this.options.radius/(this.options.extent*Math.pow(2,we-1)),We=et.within(qe[ue*this.stride],qe[ue*this.stride+1],lt),yt=[];for(const Mt of We){const ft=Mt*this.stride;qe[ft+4]===le&&yt.push(qe[ft+re]>1?ke(qe,ft,this.clusterProps):this.points[qe[ft+be]])}if(yt.length===0)throw new Error(Re);return yt}getLeaves(le,ue,we){const Re=[];return this._appendLeaves(Re,le,ue=ue||10,we=we||0,0),Re}getTile(le,ue,we){const Re=this.trees[this._limitZoom(le)],et=Math.pow(2,le),{extent:qe,radius:lt}=this.options,We=lt/qe,yt=(we-We)/et,Mt=(we+1+We)/et,ft={features:[]};return this._addTileFeatures(Re.range((ue-We)/et,yt,(ue+1+We)/et,Mt),Re.data,ue,we,et,ft),ue===0&&this._addTileFeatures(Re.range(1-We/et,yt,1,Mt),Re.data,et,we,et,ft),ue===et-1&&this._addTileFeatures(Re.range(0,yt,We/et,Mt),Re.data,-1,we,et,ft),ft.features.length?ft:null}getClusterExpansionZoom(le){let ue=this._getOriginZoom(le)-1;for(;ue<=this.options.maxZoom;){const we=this.getChildren(le);if(ue++,we.length!==1)break;le=we[0].properties.cluster_id}return ue}_appendLeaves(le,ue,we,Re,et){const qe=this.getChildren(ue);for(const lt of qe){const We=lt.properties;if(We&&We.cluster?et+We.point_count<=Re?et+=We.point_count:et=this._appendLeaves(le,We.cluster_id,we,Re,et):et<Re?et++:le.push(lt),le.length===we)break}return et}_createTree(le){const ue=new f.av(le.length/this.stride|0,this.options.nodeSize,Float32Array);for(let we=0;we<le.length;we+=this.stride)ue.add(le[we],le[we+1]);return ue.finish(),ue.data=le,ue}_addTileFeatures(le,ue,we,Re,et,qe){for(const lt of le){const We=lt*this.stride,yt=ue[We+re]>1;let Mt,ft,Qt;if(yt)Mt=$e(ue,We,this.clusterProps),ft=ue[We],Qt=ue[We+1];else{const Wr=this.points[ue[We+be]];Mt=Wr.properties;const[or,Or]=Wr.geometry.coordinates;ft=Je(or),Qt=mt(Or)}const Jt={type:1,geometry:[[Math.round(this.options.extent*(ft*et-we)),Math.round(this.options.extent*(Qt*et-Re))]],tags:Mt};let dr;dr=yt||this.options.generateId?ue[We+be]:this.points[ue[We+be]].id,dr!==void 0&&(Jt.id=dr),qe.features.push(Jt)}}_limitZoom(le){return Math.max(this.options.minZoom,Math.min(Math.floor(+le),this.options.maxZoom+1))}_cluster(le,ue){const{radius:we,extent:Re,reduce:et,minPoints:qe}=this.options,lt=we/(Re*Math.pow(2,ue)),We=le.data,yt=[],Mt=this.stride;for(let ft=0;ft<We.length;ft+=Mt){if(We[ft+2]<=ue)continue;We[ft+2]=ue;const Qt=We[ft],Jt=We[ft+1],dr=le.within(We[ft],We[ft+1],lt),Wr=We[ft+re];let or=Wr;for(const Or of dr){const jr=Or*Mt;We[jr+2]>ue&&(or+=We[jr+re])}if(or>Wr&&or>=qe){let Or,jr=Qt*Wr,Kn=Jt*Wr,Nn=-1;const en=((ft/Mt|0)<<5)+(ue+1)+this.points.length;for(const vn of dr){const Pn=vn*Mt;if(We[Pn+2]<=ue)continue;We[Pn+2]=ue;const gi=We[Pn+re];jr+=We[Pn]*gi,Kn+=We[Pn+1]*gi,We[Pn+4]=en,et&&(Or||(Or=this._map(We,ft,!0),Nn=this.clusterProps.length,this.clusterProps.push(Or)),et(Or,this._map(We,Pn)))}We[ft+4]=en,yt.push(jr/or,Kn/or,1/0,en,-1,or),et&&yt.push(Nn)}else{for(let Or=0;Or<Mt;Or++)yt.push(We[ft+Or]);if(or>1)for(const Or of dr){const jr=Or*Mt;if(!(We[jr+2]<=ue)){We[jr+2]=ue;for(let Kn=0;Kn<Mt;Kn++)yt.push(We[jr+Kn])}}}}return yt}_getOriginId(le){return le-this.points.length>>5}_getOriginZoom(le){return(le-this.points.length)%32}_map(le,ue,we){if(le[ue+re]>1){const qe=this.clusterProps[le[ue+ye]];return we?Object.assign({},qe):qe}const Re=this.points[le[ue+be]].properties,et=this.options.map(Re);return we&&et===Re?Object.assign({},et):et}}function ke(Me,le,ue){return{type:"Feature",id:Me[le+be],properties:$e(Me,le,ue),geometry:{type:"Point",coordinates:[(we=Me[le],360*(we-.5)),Ke(Me[le+1])]}};var we}function $e(Me,le,ue){const we=Me[le+re],Re=we>=1e4?`${Math.round(we/1e3)}k`:we>=1e3?Math.round(we/100)/10+"k":we,et=Me[le+ye],qe=et===-1?{}:Object.assign({},ue[et]);return Object.assign(qe,{cluster:!0,cluster_id:Me[le+be],point_count:we,point_count_abbreviated:Re})}function Je(Me){return Me/360+.5}function mt(Me){const le=Math.sin(Me*Math.PI/180),ue=.5-.25*Math.log((1+le)/(1-le))/Math.PI;return ue<0?0:ue>1?1:ue}function Ke(Me){const le=(180-360*Me)*Math.PI/180;return 360*Math.atan(Math.exp(le))/Math.PI-90}function pt(Me,le,ue,we){let Re=we;const et=le+(ue-le>>1);let qe,lt=ue-le;const We=Me[le],yt=Me[le+1],Mt=Me[ue],ft=Me[ue+1];for(let Qt=le+3;Qt<ue;Qt+=3){const Jt=Ct(Me[Qt],Me[Qt+1],We,yt,Mt,ft);if(Jt>Re)qe=Qt,Re=Jt;else if(Jt===Re){const dr=Math.abs(Qt-et);dr<lt&&(qe=Qt,lt=dr)}}Re>we&&(qe-le>3&&pt(Me,le,qe,we),Me[qe+2]=Re,ue-qe>3&&pt(Me,qe,ue,we))}function Ct(Me,le,ue,we,Re,et){let qe=Re-ue,lt=et-we;if(qe!==0||lt!==0){const We=((Me-ue)*qe+(le-we)*lt)/(qe*qe+lt*lt);We>1?(ue=Re,we=et):We>0&&(ue+=qe*We,we+=lt*We)}return qe=Me-ue,lt=le-we,qe*qe+lt*lt}function ct(Me,le,ue,we){const Re={id:Me??null,type:le,geometry:ue,tags:we,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};if(le==="Point"||le==="MultiPoint"||le==="LineString")qt(Re,ue);else if(le==="Polygon")qt(Re,ue[0]);else if(le==="MultiLineString")for(const et of ue)qt(Re,et);else if(le==="MultiPolygon")for(const et of ue)qt(Re,et[0]);return Re}function qt(Me,le){for(let ue=0;ue<le.length;ue+=3)Me.minX=Math.min(Me.minX,le[ue]),Me.minY=Math.min(Me.minY,le[ue+1]),Me.maxX=Math.max(Me.maxX,le[ue]),Me.maxY=Math.max(Me.maxY,le[ue+1])}function Xt(Me,le,ue,we){if(!le.geometry)return;const Re=le.geometry.coordinates;if(Re&&Re.length===0)return;const et=le.geometry.type,qe=Math.pow(ue.tolerance/((1<<ue.maxZoom)*ue.extent),2);let lt=[],We=le.id;if(ue.promoteId?We=le.properties[ue.promoteId]:ue.generateId&&(We=we||0),et==="Point")Pe(Re,lt);else if(et==="MultiPoint")for(const yt of Re)Pe(yt,lt);else if(et==="LineString")Ye(Re,lt,qe,!1);else if(et==="MultiLineString"){if(ue.lineMetrics){for(const yt of Re)lt=[],Ye(yt,lt,qe,!1),Me.push(ct(We,"LineString",lt,le.properties));return}Rr(Re,lt,qe,!1)}else if(et==="Polygon")Rr(Re,lt,qe,!0);else{if(et!=="MultiPolygon"){if(et==="GeometryCollection"){for(const yt of le.geometry.geometries)Xt(Me,{id:We,geometry:yt,properties:le.properties},ue,we);return}throw new Error("Input data is not a valid GeoJSON object.")}for(const yt of Re){const Mt=[];Rr(yt,Mt,qe,!0),lt.push(Mt)}}Me.push(ct(We,et,lt,le.properties))}function Pe(Me,le){le.push(Er(Me[0]),It(Me[1]),0)}function Ye(Me,le,ue,we){let Re,et,qe=0;for(let We=0;We<Me.length;We++){const yt=Er(Me[We][0]),Mt=It(Me[We][1]);le.push(yt,Mt,0),We>0&&(qe+=we?(Re*Mt-yt*et)/2:Math.sqrt(Math.pow(yt-Re,2)+Math.pow(Mt-et,2))),Re=yt,et=Mt}const lt=le.length-3;le[2]=1,pt(le,0,lt,ue),le[lt+2]=1,le.size=Math.abs(qe),le.start=0,le.end=le.size}function Rr(Me,le,ue,we){for(let Re=0;Re<Me.length;Re++){const et=[];Ye(Me[Re],et,ue,we),le.push(et)}}function Er(Me){return Me/360+.5}function It(Me){const le=Math.sin(Me*Math.PI/180),ue=.5-.25*Math.log((1+le)/(1-le))/Math.PI;return ue<0?0:ue>1?1:ue}function nr(Me,le,ue,we,Re,et,qe,lt){if(we/=le,et>=(ue/=le)&&qe<we)return Me;if(qe<ue||et>=we)return null;const We=[];for(const yt of Me){const Mt=yt.geometry;let ft=yt.type;const Qt=Re===0?yt.minX:yt.minY,Jt=Re===0?yt.maxX:yt.maxY;if(Qt>=ue&&Jt<we){We.push(yt);continue}if(Jt<ue||Qt>=we)continue;let dr=[];if(ft==="Point"||ft==="MultiPoint")ur(Mt,dr,ue,we,Re);else if(ft==="LineString")Tr(Mt,dr,ue,we,Re,!1,lt.lineMetrics);else if(ft==="MultiLineString")rn(Mt,dr,ue,we,Re,!1);else if(ft==="Polygon")rn(Mt,dr,ue,we,Re,!0);else if(ft==="MultiPolygon")for(const Wr of Mt){const or=[];rn(Wr,or,ue,we,Re,!0),or.length&&dr.push(or)}if(dr.length){if(lt.lineMetrics&&ft==="LineString"){for(const Wr of dr)We.push(ct(yt.id,ft,Wr,yt.tags));continue}ft!=="LineString"&&ft!=="MultiLineString"||(dr.length===1?(ft="LineString",dr=dr[0]):ft="MultiLineString"),ft!=="Point"&&ft!=="MultiPoint"||(ft=dr.length===3?"Point":"MultiPoint"),We.push(ct(yt.id,ft,dr,yt.tags))}}return We.length?We:null}function ur(Me,le,ue,we,Re){for(let et=0;et<Me.length;et+=3){const qe=Me[et+Re];qe>=ue&&qe<=we&&nn(le,Me[et],Me[et+1],Me[et+2])}}function Tr(Me,le,ue,we,Re,et,qe){let lt=Br(Me);const We=Re===0?Jr:yn;let yt,Mt,ft=Me.start;for(let or=0;or<Me.length-3;or+=3){const Or=Me[or],jr=Me[or+1],Kn=Me[or+2],Nn=Me[or+3],en=Me[or+4],vn=Re===0?Or:jr,Pn=Re===0?Nn:en;let gi=!1;qe&&(yt=Math.sqrt(Math.pow(Or-Nn,2)+Math.pow(jr-en,2))),vn<ue?Pn>ue&&(Mt=We(lt,Or,jr,Nn,en,ue),qe&&(lt.start=ft+yt*Mt)):vn>we?Pn<we&&(Mt=We(lt,Or,jr,Nn,en,we),qe&&(lt.start=ft+yt*Mt)):nn(lt,Or,jr,Kn),Pn<ue&&vn>=ue&&(Mt=We(lt,Or,jr,Nn,en,ue),gi=!0),Pn>we&&vn<=we&&(Mt=We(lt,Or,jr,Nn,en,we),gi=!0),!et&&gi&&(qe&&(lt.end=ft+yt*Mt),le.push(lt),lt=Br(Me)),qe&&(ft+=yt)}let Qt=Me.length-3;const Jt=Me[Qt],dr=Me[Qt+1],Wr=Re===0?Jt:dr;Wr>=ue&&Wr<=we&&nn(lt,Jt,dr,Me[Qt+2]),Qt=lt.length-3,et&&Qt>=3&&(lt[Qt]!==lt[0]||lt[Qt+1]!==lt[1])&&nn(lt,lt[0],lt[1],lt[2]),lt.length&&le.push(lt)}function Br(Me){const le=[];return le.size=Me.size,le.start=Me.start,le.end=Me.end,le}function rn(Me,le,ue,we,Re,et){for(const qe of Me)Tr(qe,le,ue,we,Re,et,!1)}function nn(Me,le,ue,we){Me.push(le,ue,we)}function Jr(Me,le,ue,we,Re,et){const qe=(et-le)/(we-le);return nn(Me,et,ue+(Re-ue)*qe,1),qe}function yn(Me,le,ue,we,Re,et){const qe=(et-ue)/(Re-ue);return nn(Me,le+(we-le)*qe,et,1),qe}function Lt(Me,le){const ue=[];for(let we=0;we<Me.length;we++){const Re=Me[we],et=Re.type;let qe;if(et==="Point"||et==="MultiPoint"||et==="LineString")qe=cr(Re.geometry,le);else if(et==="MultiLineString"||et==="Polygon"){qe=[];for(const lt of Re.geometry)qe.push(cr(lt,le))}else if(et==="MultiPolygon"){qe=[];for(const lt of Re.geometry){const We=[];for(const yt of lt)We.push(cr(yt,le));qe.push(We)}}ue.push(ct(Re.id,et,qe,Re.tags))}return ue}function cr(Me,le){const ue=[];ue.size=Me.size,Me.start!==void 0&&(ue.start=Me.start,ue.end=Me.end);for(let we=0;we<Me.length;we+=3)ue.push(Me[we]+le,Me[we+1],Me[we+2]);return ue}function Pr(Me,le){if(Me.transformed)return Me;const ue=1<<Me.z,we=Me.x,Re=Me.y;for(const et of Me.features){const qe=et.geometry,lt=et.type;if(et.geometry=[],lt===1)for(let We=0;We<qe.length;We+=2)et.geometry.push(fr(qe[We],qe[We+1],le,ue,we,Re));else for(let We=0;We<qe.length;We++){const yt=[];for(let Mt=0;Mt<qe[We].length;Mt+=2)yt.push(fr(qe[We][Mt],qe[We][Mt+1],le,ue,we,Re));et.geometry.push(yt)}}return Me.transformed=!0,Me}function fr(Me,le,ue,we,Re,et){return[Math.round(ue*(Me*we-Re)),Math.round(ue*(le*we-et))]}function ri(Me,le,ue,we,Re){const et=le===Re.maxZoom?0:Re.tolerance/((1<<le)*Re.extent),qe={features:[],numPoints:0,numSimplified:0,numFeatures:Me.length,source:null,x:ue,y:we,z:le,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0};for(const lt of Me)Pt(qe,lt,et,Re);return qe}function Pt(Me,le,ue,we){const Re=le.geometry,et=le.type,qe=[];if(Me.minX=Math.min(Me.minX,le.minX),Me.minY=Math.min(Me.minY,le.minY),Me.maxX=Math.max(Me.maxX,le.maxX),Me.maxY=Math.max(Me.maxY,le.maxY),et==="Point"||et==="MultiPoint")for(let lt=0;lt<Re.length;lt+=3)qe.push(Re[lt],Re[lt+1]),Me.numPoints++,Me.numSimplified++;else if(et==="LineString")Zt(qe,Re,Me,ue,!1,!1);else if(et==="MultiLineString"||et==="Polygon")for(let lt=0;lt<Re.length;lt++)Zt(qe,Re[lt],Me,ue,et==="Polygon",lt===0);else if(et==="MultiPolygon")for(let lt=0;lt<Re.length;lt++){const We=Re[lt];for(let yt=0;yt<We.length;yt++)Zt(qe,We[yt],Me,ue,!0,yt===0)}if(qe.length){let lt=le.tags||null;if(et==="LineString"&&we.lineMetrics){lt={};for(const yt in le.tags)lt[yt]=le.tags[yt];lt.mapbox_clip_start=Re.start/Re.size,lt.mapbox_clip_end=Re.end/Re.size}const We={geometry:qe,type:et==="Polygon"||et==="MultiPolygon"?3:et==="LineString"||et==="MultiLineString"?2:1,tags:lt};le.id!==null&&(We.id=le.id),Me.features.push(We)}}function Zt(Me,le,ue,we,Re,et){const qe=we*we;if(we>0&&le.size<(Re?qe:we))return void(ue.numPoints+=le.length/3);const lt=[];for(let We=0;We<le.length;We+=3)(we===0||le[We+2]>qe)&&(ue.numSimplified++,lt.push(le[We],le[We+1])),ue.numPoints++;Re&&(function(We,yt){let Mt=0;for(let ft=0,Qt=We.length,Jt=Qt-2;ft<Qt;Jt=ft,ft+=2)Mt+=(We[ft]-We[Jt])*(We[ft+1]+We[Jt+1]);if(Mt>0===yt)for(let ft=0,Qt=We.length;ft<Qt/2;ft+=2){const Jt=We[ft],dr=We[ft+1];We[ft]=We[Qt-2-ft],We[ft+1]=We[Qt-1-ft],We[Qt-2-ft]=Jt,We[Qt-1-ft]=dr}})(lt,et),Me.push(lt)}const Gt={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0};class Zr{constructor(le,ue){const we=(ue=this.options=(function(et,qe){for(const lt in qe)et[lt]=qe[lt];return et})(Object.create(Gt),ue)).debug;if(we&&console.time("preprocess data"),ue.maxZoom<0||ue.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(ue.promoteId&&ue.generateId)throw new Error("promoteId and generateId cannot be used together.");let Re=(function(et,qe){const lt=[];if(et.type==="FeatureCollection")for(let We=0;We<et.features.length;We++)Xt(lt,et.features[We],qe,We);else Xt(lt,et.type==="Feature"?et:{geometry:et},qe);return lt})(le,ue);this.tiles={},this.tileCoords=[],we&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",ue.indexMaxZoom,ue.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Re=(function(et,qe){const lt=qe.buffer/qe.extent;let We=et;const yt=nr(et,1,-1-lt,lt,0,-1,2,qe),Mt=nr(et,1,1-lt,2+lt,0,-1,2,qe);return(yt||Mt)&&(We=nr(et,1,-lt,1+lt,0,-1,2,qe)||[],yt&&(We=Lt(yt,1).concat(We)),Mt&&(We=We.concat(Lt(Mt,-1)))),We})(Re,ue),Re.length&&this.splitTile(Re,0,0,0),we&&(Re.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}splitTile(le,ue,we,Re,et,qe,lt){const We=[le,ue,we,Re],yt=this.options,Mt=yt.debug;for(;We.length;){Re=We.pop(),we=We.pop(),ue=We.pop(),le=We.pop();const ft=1<<ue,Qt=_r(ue,we,Re);let Jt=this.tiles[Qt];if(!Jt&&(Mt>1&&console.time("creation"),Jt=this.tiles[Qt]=ri(le,ue,we,Re,yt),this.tileCoords.push({z:ue,x:we,y:Re}),Mt)){Mt>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",ue,we,Re,Jt.numFeatures,Jt.numPoints,Jt.numSimplified),console.timeEnd("creation"));const gi=`z${ue}`;this.stats[gi]=(this.stats[gi]||0)+1,this.total++}if(Jt.source=le,et==null){if(ue===yt.indexMaxZoom||Jt.numPoints<=yt.indexMaxPoints)continue}else{if(ue===yt.maxZoom||ue===et)continue;if(et!=null){const gi=et-ue;if(we!==qe>>gi||Re!==lt>>gi)continue}}if(Jt.source=null,le.length===0)continue;Mt>1&&console.time("clipping");const dr=.5*yt.buffer/yt.extent,Wr=.5-dr,or=.5+dr,Or=1+dr;let jr=null,Kn=null,Nn=null,en=null,vn=nr(le,ft,we-dr,we+or,0,Jt.minX,Jt.maxX,yt),Pn=nr(le,ft,we+Wr,we+Or,0,Jt.minX,Jt.maxX,yt);le=null,vn&&(jr=nr(vn,ft,Re-dr,Re+or,1,Jt.minY,Jt.maxY,yt),Kn=nr(vn,ft,Re+Wr,Re+Or,1,Jt.minY,Jt.maxY,yt),vn=null),Pn&&(Nn=nr(Pn,ft,Re-dr,Re+or,1,Jt.minY,Jt.maxY,yt),en=nr(Pn,ft,Re+Wr,Re+Or,1,Jt.minY,Jt.maxY,yt),Pn=null),Mt>1&&console.timeEnd("clipping"),We.push(jr||[],ue+1,2*we,2*Re),We.push(Kn||[],ue+1,2*we,2*Re+1),We.push(Nn||[],ue+1,2*we+1,2*Re),We.push(en||[],ue+1,2*we+1,2*Re+1)}}getTile(le,ue,we){le=+le,ue=+ue,we=+we;const Re=this.options,{extent:et,debug:qe}=Re;if(le<0||le>24)return null;const lt=1<<le,We=_r(le,ue=ue+lt&lt-1,we);if(this.tiles[We])return Pr(this.tiles[We],et);qe>1&&console.log("drilling down to z%d-%d-%d",le,ue,we);let yt,Mt=le,ft=ue,Qt=we;for(;!yt&&Mt>0;)Mt--,ft>>=1,Qt>>=1,yt=this.tiles[_r(Mt,ft,Qt)];return yt&&yt.source?(qe>1&&(console.log("found parent tile z%d-%d-%d",Mt,ft,Qt),console.time("drilling down")),this.splitTile(yt.source,Mt,ft,Qt,le,ue,we),qe>1&&console.timeEnd("drilling down"),this.tiles[We]?Pr(this.tiles[We],et):null):null}}function _r(Me,le,ue){return 32*((1<<Me)*ue+le)+Me}function sr(Me,le){return le?Me.properties[le]:Me.id}function Lr(Me,le){if(Me==null)return!0;if(Me.type==="Feature")return sr(Me,le)!=null;if(Me.type==="FeatureCollection"){const ue=new Set;for(const we of Me.features){const Re=sr(we,le);if(Re==null||ue.has(Re))return!1;ue.add(Re)}return!0}return!1}function zr(Me,le){const ue=new Map;if(Me!=null)if(Me.type==="Feature")ue.set(sr(Me,le),Me);else for(const we of Me.features)ue.set(sr(we,le),we);return ue}class kn extends C{constructor(){super(...arguments),this._dataUpdateable=new Map}loadVectorTile(le,ue){return f._(this,void 0,void 0,(function*(){const we=le.tileID.canonical;if(!this._geoJSONIndex)throw new Error("Unable to parse the data into a cluster or geojson");const Re=this._geoJSONIndex.getTile(we.z,we.x,we.y);if(!Re)return null;const et=new class{constructor(lt){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=f.X,this.length=lt.length,this._features=lt}feature(lt){return new class{constructor(We){this._feature=We,this.extent=f.X,this.type=We.type,this.properties=We.tags,"id"in We&&!isNaN(We.id)&&(this.id=parseInt(We.id,10))}loadGeometry(){if(this._feature.type===1){const We=[];for(const yt of this._feature.geometry)We.push([new f.P(yt[0],yt[1])]);return We}{const We=[];for(const yt of this._feature.geometry){const Mt=[];for(const ft of yt)Mt.push(new f.P(ft[0],ft[1]));We.push(Mt)}return We}}toGeoJSON(We,yt,Mt){return H.call(this,We,yt,Mt)}}(this._features[lt])}}(Re.features);let qe=Ne(et);return qe.byteOffset===0&&qe.byteLength===qe.buffer.byteLength||(qe=new Uint8Array(qe)),{vectorTile:et,rawData:qe.buffer}}))}loadData(le){return f._(this,void 0,void 0,(function*(){var ue;(ue=this._pendingRequest)===null||ue===void 0||ue.abort();const we=!!(le&&le.request&&le.request.collectResourceTiming)&&new f.bv(le.request);this._pendingRequest=new AbortController;try{this._pendingData=this.loadAndProcessGeoJSON(le,this._pendingRequest),this._geoJSONIndex=le.cluster?new Ie((function({superclusterOptions:qe,clusterProperties:lt}){if(!lt||!qe)return qe;const We={},yt={},Mt={accumulated:null,zoom:0},ft={properties:null},Qt=Object.keys(lt);for(const Jt of Qt){const[dr,Wr]=lt[Jt],or=f.bC(Wr),Or=f.bC(typeof dr=="string"?[dr,["accumulated"],["get",Jt]]:dr);We[Jt]=or.value,yt[Jt]=Or.value}return qe.map=Jt=>{ft.properties=Jt;const dr={};for(const Wr of Qt)dr[Wr]=We[Wr].evaluate(Mt,ft);return dr},qe.reduce=(Jt,dr)=>{ft.properties=dr;for(const Wr of Qt)Mt.accumulated=Jt[Wr],Jt[Wr]=yt[Wr].evaluate(Mt,ft)},qe})(le)).load((yield this._pendingData).features):(Re=yield this._pendingData,new Zr(Re,le.geojsonVtOptions)),this.loaded={};const et={};if(we){const qe=we.finish();qe&&(et.resourceTiming={},et.resourceTiming[le.source]=JSON.parse(JSON.stringify(qe)))}return et}catch(et){if(delete this._pendingRequest,f.bB(et))return{abandoned:!0};throw et}var Re}))}getData(){return f._(this,void 0,void 0,(function*(){return this._pendingData}))}reloadTile(le){const ue=this.loaded;return ue&&ue[le.uid]?super.reloadTile(le):this.loadTile(le)}loadAndProcessGeoJSON(le,ue){return f._(this,void 0,void 0,(function*(){let we=yield this.loadGeoJSON(le,ue);if(delete this._pendingRequest,typeof we!="object")throw new Error(`Input data given to '${le.source}' is not a valid GeoJSON object.`);if(k(we,!0),le.filter){const Re=f.bC(le.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(Re.result==="error")throw new Error(Re.value.map((qe=>`${qe.key}: ${qe.message}`)).join(", "));we={type:"FeatureCollection",features:we.features.filter((qe=>Re.value.evaluate({zoom:0},qe)))}}return we}))}loadGeoJSON(le,ue){return f._(this,void 0,void 0,(function*(){const{promoteId:we}=le;if(le.request){const Re=yield f.h(le.request,ue);return this._dataUpdateable=Lr(Re.data,we)?zr(Re.data,we):void 0,Re.data}if(typeof le.data=="string")try{const Re=JSON.parse(le.data);return this._dataUpdateable=Lr(Re,we)?zr(Re,we):void 0,Re}catch{throw new Error(`Input data given to '${le.source}' is not a valid GeoJSON object.`)}if(!le.dataDiff)throw new Error(`Input data given to '${le.source}' is not a valid GeoJSON object.`);if(!this._dataUpdateable)throw new Error(`Cannot update existing geojson data in ${le.source}`);return(function(Re,et,qe){var lt,We,yt,Mt;if(et.removeAll&&Re.clear(),et.remove)for(const ft of et.remove)Re.delete(ft);if(et.add)for(const ft of et.add){const Qt=sr(ft,qe);Qt!=null&&Re.set(Qt,ft)}if(et.update)for(const ft of et.update){let Qt=Re.get(ft.id);if(Qt==null)continue;const Jt=!ft.removeAllProperties&&(((lt=ft.removeProperties)===null||lt===void 0?void 0:lt.length)>0||((We=ft.addOrUpdateProperties)===null||We===void 0?void 0:We.length)>0);if((ft.newGeometry||ft.removeAllProperties||Jt)&&(Qt=Object.assign({},Qt),Re.set(ft.id,Qt),Jt&&(Qt.properties=Object.assign({},Qt.properties))),ft.newGeometry&&(Qt.geometry=ft.newGeometry),ft.removeAllProperties)Qt.properties={};else if(((yt=ft.removeProperties)===null||yt===void 0?void 0:yt.length)>0)for(const dr of ft.removeProperties)Object.prototype.hasOwnProperty.call(Qt.properties,dr)&&delete Qt.properties[dr];if(((Mt=ft.addOrUpdateProperties)===null||Mt===void 0?void 0:Mt.length)>0)for(const{key:dr,value:Wr}of ft.addOrUpdateProperties)Qt.properties[dr]=Wr}})(this._dataUpdateable,le.dataDiff,we),{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())}}))}removeSource(le){return f._(this,void 0,void 0,(function*(){this._pendingRequest&&this._pendingRequest.abort()}))}getClusterExpansionZoom(le){return this._geoJSONIndex.getClusterExpansionZoom(le.clusterId)}getClusterChildren(le){return this._geoJSONIndex.getChildren(le.clusterId)}getClusterLeaves(le){return this._geoJSONIndex.getLeaves(le.clusterId,le.limit,le.offset)}}class Xr{constructor(le){this.self=le,this.actor=new f.F(le),this.layerIndexes={},this.availableImages={},this.workerSources={},this.demWorkerSources={},this.externalWorkerSourceTypes={},this.self.registerWorkerSource=(ue,we)=>{if(this.externalWorkerSourceTypes[ue])throw new Error(`Worker source with name "${ue}" already registered.`);this.externalWorkerSourceTypes[ue]=we},this.self.addProtocol=f.bi,this.self.removeProtocol=f.bj,this.self.registerRTLTextPlugin=ue=>{if(f.bD.isParsed())throw new Error("RTL text plugin already registered.");f.bD.setMethods(ue)},this.actor.registerMessageHandler("LDT",((ue,we)=>this._getDEMWorkerSource(ue,we.source).loadTile(we))),this.actor.registerMessageHandler("RDT",((ue,we)=>f._(this,void 0,void 0,(function*(){this._getDEMWorkerSource(ue,we.source).removeTile(we)})))),this.actor.registerMessageHandler("GCEZ",((ue,we)=>f._(this,void 0,void 0,(function*(){return this._getWorkerSource(ue,we.type,we.source).getClusterExpansionZoom(we)})))),this.actor.registerMessageHandler("GCC",((ue,we)=>f._(this,void 0,void 0,(function*(){return this._getWorkerSource(ue,we.type,we.source).getClusterChildren(we)})))),this.actor.registerMessageHandler("GCL",((ue,we)=>f._(this,void 0,void 0,(function*(){return this._getWorkerSource(ue,we.type,we.source).getClusterLeaves(we)})))),this.actor.registerMessageHandler("LD",((ue,we)=>this._getWorkerSource(ue,we.type,we.source).loadData(we))),this.actor.registerMessageHandler("GD",((ue,we)=>this._getWorkerSource(ue,we.type,we.source).getData())),this.actor.registerMessageHandler("LT",((ue,we)=>this._getWorkerSource(ue,we.type,we.source).loadTile(we))),this.actor.registerMessageHandler("RT",((ue,we)=>this._getWorkerSource(ue,we.type,we.source).reloadTile(we))),this.actor.registerMessageHandler("AT",((ue,we)=>this._getWorkerSource(ue,we.type,we.source).abortTile(we))),this.actor.registerMessageHandler("RMT",((ue,we)=>this._getWorkerSource(ue,we.type,we.source).removeTile(we))),this.actor.registerMessageHandler("RS",((ue,we)=>f._(this,void 0,void 0,(function*(){if(!this.workerSources[ue]||!this.workerSources[ue][we.type]||!this.workerSources[ue][we.type][we.source])return;const Re=this.workerSources[ue][we.type][we.source];delete this.workerSources[ue][we.type][we.source],Re.removeSource!==void 0&&Re.removeSource(we)})))),this.actor.registerMessageHandler("RM",(ue=>f._(this,void 0,void 0,(function*(){delete this.layerIndexes[ue],delete this.availableImages[ue],delete this.workerSources[ue],delete this.demWorkerSources[ue]})))),this.actor.registerMessageHandler("SR",((ue,we)=>f._(this,void 0,void 0,(function*(){this.referrer=we})))),this.actor.registerMessageHandler("SRPS",((ue,we)=>this._syncRTLPluginState(ue,we))),this.actor.registerMessageHandler("IS",((ue,we)=>f._(this,void 0,void 0,(function*(){this.self.importScripts(we)})))),this.actor.registerMessageHandler("SI",((ue,we)=>this._setImages(ue,we))),this.actor.registerMessageHandler("UL",((ue,we)=>f._(this,void 0,void 0,(function*(){this._getLayerIndex(ue).update(we.layers,we.removedIds)})))),this.actor.registerMessageHandler("SL",((ue,we)=>f._(this,void 0,void 0,(function*(){this._getLayerIndex(ue).replace(we)}))))}_setImages(le,ue){return f._(this,void 0,void 0,(function*(){this.availableImages[le]=ue;for(const we in this.workerSources[le]){const Re=this.workerSources[le][we];for(const et in Re)Re[et].availableImages=ue}}))}_syncRTLPluginState(le,ue){return f._(this,void 0,void 0,(function*(){if(f.bD.isParsed())return f.bD.getState();if(ue.pluginStatus!=="loading")return f.bD.setState(ue),ue;const we=ue.pluginURL;if(this.self.importScripts(we),f.bD.isParsed()){const Re={pluginStatus:"loaded",pluginURL:we};return f.bD.setState(Re),Re}throw f.bD.setState({pluginStatus:"error",pluginURL:""}),new Error(`RTL Text Plugin failed to import scripts from ${we}`)}))}_getAvailableImages(le){let ue=this.availableImages[le];return ue||(ue=[]),ue}_getLayerIndex(le){let ue=this.layerIndexes[le];return ue||(ue=this.layerIndexes[le]=new l),ue}_getWorkerSource(le,ue,we){if(this.workerSources[le]||(this.workerSources[le]={}),this.workerSources[le][ue]||(this.workerSources[le][ue]={}),!this.workerSources[le][ue][we]){const Re={sendAsync:(et,qe)=>(et.targetMapId=le,this.actor.sendAsync(et,qe))};switch(ue){case"vector":this.workerSources[le][ue][we]=new C(Re,this._getLayerIndex(le),this._getAvailableImages(le));break;case"geojson":this.workerSources[le][ue][we]=new kn(Re,this._getLayerIndex(le),this._getAvailableImages(le));break;default:this.workerSources[le][ue][we]=new this.externalWorkerSourceTypes[ue](Re,this._getLayerIndex(le),this._getAvailableImages(le))}}return this.workerSources[le][ue][we]}_getDEMWorkerSource(le,ue){return this.demWorkerSources[le]||(this.demWorkerSources[le]={}),this.demWorkerSources[le][ue]||(this.demWorkerSources[le][ue]=new F),this.demWorkerSources[le][ue]}}return f.i(self)&&(self.worker=new Xr(self)),Xr})),s("index",["exports","./shared"],(function(f,l){var y="4.7.1";let b,w;const C={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frameAsync:_=>new Promise(((i,h)=>{const p=requestAnimationFrame(i);_.signal.addEventListener("abort",(()=>{cancelAnimationFrame(p),h(l.c())}))})),getImageData(_,i=0){return this.getImageCanvasContext(_).getImageData(-i,-i,_.width+2*i,_.height+2*i)},getImageCanvasContext(_){const i=window.document.createElement("canvas"),h=i.getContext("2d",{willReadFrequently:!0});if(!h)throw new Error("failed to create canvas 2d context");return i.width=_.width,i.height=_.height,h.drawImage(_,0,0,_.width,_.height),h},resolveURL:_=>(b||(b=document.createElement("a")),b.href=_,b.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(w==null&&(w=matchMedia("(prefers-reduced-motion: reduce)")),w.matches)}};class F{static testProp(i){if(!F.docStyle)return i[0];for(let h=0;h<i.length;h++)if(i[h]in F.docStyle)return i[h];return i[0]}static create(i,h,p){const v=window.document.createElement(i);return h!==void 0&&(v.className=h),p&&p.appendChild(v),v}static createNS(i,h){return window.document.createElementNS(i,h)}static disableDrag(){F.docStyle&&F.selectProp&&(F.userSelect=F.docStyle[F.selectProp],F.docStyle[F.selectProp]="none")}static enableDrag(){F.docStyle&&F.selectProp&&(F.docStyle[F.selectProp]=F.userSelect)}static setTransform(i,h){i.style[F.transformProp]=h}static addEventListener(i,h,p,v={}){i.addEventListener(h,p,"passive"in v?v:v.capture)}static removeEventListener(i,h,p,v={}){i.removeEventListener(h,p,"passive"in v?v:v.capture)}static suppressClickInternal(i){i.preventDefault(),i.stopPropagation(),window.removeEventListener("click",F.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",F.suppressClickInternal,!0),window.setTimeout((()=>{window.removeEventListener("click",F.suppressClickInternal,!0)}),0)}static getScale(i){const h=i.getBoundingClientRect();return{x:h.width/i.offsetWidth||1,y:h.height/i.offsetHeight||1,boundingClientRect:h}}static getPoint(i,h,p){const v=h.boundingClientRect;return new l.P((p.clientX-v.left)/h.x-i.clientLeft,(p.clientY-v.top)/h.y-i.clientTop)}static mousePos(i,h){const p=F.getScale(i);return F.getPoint(i,p,h)}static touchPos(i,h){const p=[],v=F.getScale(i);for(let x=0;x<h.length;x++)p.push(F.getPoint(i,v,h[x]));return p}static mouseButton(i){return i.button}static remove(i){i.parentNode&&i.parentNode.removeChild(i)}}F.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,F.selectProp=F.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),F.transformProp=F.testProp(["transform","WebkitTransform"]);const T={supported:!1,testSupport:function(_){!H&&k&&(K?Y(_):j=_)}};let j,k,H=!1,K=!1;function Y(_){const i=_.createTexture();_.bindTexture(_.TEXTURE_2D,i);try{if(_.texImage2D(_.TEXTURE_2D,0,_.RGBA,_.RGBA,_.UNSIGNED_BYTE,k),_.isContextLost())return;T.supported=!0}catch{}_.deleteTexture(i),H=!0}var W;typeof document<"u"&&(k=document.createElement("img"),k.onload=()=>{j&&Y(j),j=null,K=!0},k.onerror=()=>{H=!0,j=null},k.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),(function(_){let i,h,p,v;_.resetRequestQueue=()=>{i=[],h=0,p=0,v={}},_.addThrottleControl=N=>{const Q=p++;return v[Q]=N,Q},_.removeThrottleControl=N=>{delete v[N],L()},_.getImage=(N,Q,G=!0)=>new Promise((($,ee)=>{T.supported&&(N.headers||(N.headers={}),N.headers.accept="image/webp,*/*"),l.e(N,{type:"image"}),i.push({abortController:Q,requestParameters:N,supportImageRefresh:G,state:"queued",onError:ne=>{ee(ne)},onSuccess:ne=>{$(ne)}}),L()}));const x=N=>l._(this,void 0,void 0,(function*(){N.state="running";const{requestParameters:Q,supportImageRefresh:G,onError:$,onSuccess:ee,abortController:ne}=N,ce=G===!1&&!l.i(self)&&!l.g(Q.url)&&(!Q.headers||Object.keys(Q.headers).reduce(((xe,Qe)=>xe&&Qe==="accept"),!0));h++;const ge=ce?M(Q,ne):l.m(Q,ne);try{const xe=yield ge;delete N.abortController,N.state="completed",xe.data instanceof HTMLImageElement||l.b(xe.data)?ee(xe):xe.data&&ee({data:yield(Se=xe.data,typeof createImageBitmap=="function"?l.d(Se):l.f(Se)),cacheControl:xe.cacheControl,expires:xe.expires})}catch(xe){delete N.abortController,$(xe)}finally{h--,L()}var Se})),L=()=>{const N=(()=>{for(const Q of Object.keys(v))if(v[Q]())return!0;return!1})()?l.a.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:l.a.MAX_PARALLEL_IMAGE_REQUESTS;for(let Q=h;Q<N&&i.length>0;Q++){const G=i.shift();G.abortController.signal.aborted?Q--:x(G)}},M=(N,Q)=>new Promise(((G,$)=>{const ee=new Image,ne=N.url,ce=N.credentials;ce&&ce==="include"?ee.crossOrigin="use-credentials":(ce&&ce==="same-origin"||!l.s(ne))&&(ee.crossOrigin="anonymous"),Q.signal.addEventListener("abort",(()=>{ee.src="",$(l.c())})),ee.fetchPriority="high",ee.onload=()=>{ee.onerror=ee.onload=null,G({data:ee})},ee.onerror=()=>{ee.onerror=ee.onload=null,Q.signal.aborted||$(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))},ee.src=ne}))})(W||(W={})),W.resetRequestQueue();class ae{constructor(i){this._transformRequestFn=i}transformRequest(i,h){return this._transformRequestFn&&this._transformRequestFn(i,h)||{url:i}}setTransformRequest(i){this._transformRequestFn=i}}function Ae(_){var i=new l.A(3);return i[0]=_[0],i[1]=_[1],i[2]=_[2],i}var pe,Be=function(_,i,h){return _[0]=i[0]-h[0],_[1]=i[1]-h[1],_[2]=i[2]-h[2],_};pe=new l.A(3),l.A!=Float32Array&&(pe[0]=0,pe[1]=0,pe[2]=0);var Fe=function(_){var i=_[0],h=_[1];return i*i+h*h};function me(_){const i=[];if(typeof _=="string")i.push({id:"default",url:_});else if(_&&_.length>0){const h=[];for(const{id:p,url:v}of _){const x=`${p}${v}`;h.indexOf(x)===-1&&(h.push(x),i.push({id:p,url:v}))}}return i}function He(_,i,h){const p=_.split("?");return p[0]+=`${i}${h}`,p.join("?")}(function(){var _=new l.A(2);l.A!=Float32Array&&(_[0]=0,_[1]=0)})();class se{constructor(i,h,p,v){this.context=i,this.format=p,this.texture=i.gl.createTexture(),this.update(h,v)}update(i,h,p){const{width:v,height:x}=i,L=!(this.size&&this.size[0]===v&&this.size[1]===x||p),{context:M}=this,{gl:N}=M;if(this.useMipmap=!!(h&&h.useMipmap),N.bindTexture(N.TEXTURE_2D,this.texture),M.pixelStoreUnpackFlipY.set(!1),M.pixelStoreUnpack.set(1),M.pixelStoreUnpackPremultiplyAlpha.set(this.format===N.RGBA&&(!h||h.premultiply!==!1)),L)this.size=[v,x],i instanceof HTMLImageElement||i instanceof HTMLCanvasElement||i instanceof HTMLVideoElement||i instanceof ImageData||l.b(i)?N.texImage2D(N.TEXTURE_2D,0,this.format,this.format,N.UNSIGNED_BYTE,i):N.texImage2D(N.TEXTURE_2D,0,this.format,v,x,0,this.format,N.UNSIGNED_BYTE,i.data);else{const{x:Q,y:G}=p||{x:0,y:0};i instanceof HTMLImageElement||i instanceof HTMLCanvasElement||i instanceof HTMLVideoElement||i instanceof ImageData||l.b(i)?N.texSubImage2D(N.TEXTURE_2D,0,Q,G,N.RGBA,N.UNSIGNED_BYTE,i):N.texSubImage2D(N.TEXTURE_2D,0,Q,G,v,x,N.RGBA,N.UNSIGNED_BYTE,i.data)}this.useMipmap&&this.isSizePowerOfTwo()&&N.generateMipmap(N.TEXTURE_2D)}bind(i,h,p){const{context:v}=this,{gl:x}=v;x.bindTexture(x.TEXTURE_2D,this.texture),p!==x.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(p=x.LINEAR),i!==this.filter&&(x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MAG_FILTER,i),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MIN_FILTER,p||i),this.filter=i),h!==this.wrap&&(x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_S,h),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_T,h),this.wrap=h)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:i}=this.context;i.deleteTexture(this.texture),this.texture=null}}function de(_){const{userImage:i}=_;return!!(i&&i.render&&i.render())&&(_.data.replace(new Uint8Array(i.data.buffer)),!0)}class Le extends l.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new l.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(i){if(this.loaded!==i&&(this.loaded=i,i)){for(const{ids:h,promiseResolve:p}of this.requestors)p(this._getImagesForIds(h));this.requestors=[]}}getImage(i){const h=this.images[i];if(h&&!h.data&&h.spriteData){const p=h.spriteData;h.data=new l.R({width:p.width,height:p.height},p.context.getImageData(p.x,p.y,p.width,p.height).data),h.spriteData=null}return h}addImage(i,h){if(this.images[i])throw new Error(`Image id ${i} already exist, use updateImage instead`);this._validate(i,h)&&(this.images[i]=h)}_validate(i,h){let p=!0;const v=h.data||h.spriteData;return this._validateStretch(h.stretchX,v&&v.width)||(this.fire(new l.j(new Error(`Image "${i}" has invalid "stretchX" value`))),p=!1),this._validateStretch(h.stretchY,v&&v.height)||(this.fire(new l.j(new Error(`Image "${i}" has invalid "stretchY" value`))),p=!1),this._validateContent(h.content,h)||(this.fire(new l.j(new Error(`Image "${i}" has invalid "content" value`))),p=!1),p}_validateStretch(i,h){if(!i)return!0;let p=0;for(const v of i){if(v[0]<p||v[1]<v[0]||h<v[1])return!1;p=v[1]}return!0}_validateContent(i,h){if(!i)return!0;if(i.length!==4)return!1;const p=h.spriteData,v=p&&p.width||h.data.width,x=p&&p.height||h.data.height;return!(i[0]<0||v<i[0]||i[1]<0||x<i[1]||i[2]<0||v<i[2]||i[3]<0||x<i[3]||i[2]<i[0]||i[3]<i[1])}updateImage(i,h,p=!0){const v=this.getImage(i);if(p&&(v.data.width!==h.data.width||v.data.height!==h.data.height))throw new Error(`size mismatch between old image (${v.data.width}x${v.data.height}) and new image (${h.data.width}x${h.data.height}).`);h.version=v.version+1,this.images[i]=h,this.updatedImages[i]=!0}removeImage(i){const h=this.images[i];delete this.images[i],delete this.patterns[i],h.userImage&&h.userImage.onRemove&&h.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(i){return new Promise(((h,p)=>{let v=!0;if(!this.isLoaded())for(const x of i)this.images[x]||(v=!1);this.isLoaded()||v?h(this._getImagesForIds(i)):this.requestors.push({ids:i,promiseResolve:h})}))}_getImagesForIds(i){const h={};for(const p of i){let v=this.getImage(p);v||(this.fire(new l.k("styleimagemissing",{id:p})),v=this.getImage(p)),v?h[p]={data:v.data.clone(),pixelRatio:v.pixelRatio,sdf:v.sdf,version:v.version,stretchX:v.stretchX,stretchY:v.stretchY,content:v.content,textFitWidth:v.textFitWidth,textFitHeight:v.textFitHeight,hasRenderCallback:!!(v.userImage&&v.userImage.render)}:l.w(`Image "${p}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}return h}getPixelSize(){const{width:i,height:h}=this.atlasImage;return{width:i,height:h}}getPattern(i){const h=this.patterns[i],p=this.getImage(i);if(!p)return null;if(h&&h.position.version===p.version)return h.position;if(h)h.position.version=p.version;else{const v={w:p.data.width+2,h:p.data.height+2,x:0,y:0},x=new l.I(v,p);this.patterns[i]={bin:v,position:x}}return this._updatePatternAtlas(),this.patterns[i].position}bind(i){const h=i.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new se(i,this.atlasImage,h.RGBA),this.atlasTexture.bind(h.LINEAR,h.CLAMP_TO_EDGE)}_updatePatternAtlas(){const i=[];for(const x in this.patterns)i.push(this.patterns[x].bin);const{w:h,h:p}=l.p(i),v=this.atlasImage;v.resize({width:h||1,height:p||1});for(const x in this.patterns){const{bin:L}=this.patterns[x],M=L.x+1,N=L.y+1,Q=this.getImage(x).data,G=Q.width,$=Q.height;l.R.copy(Q,v,{x:0,y:0},{x:M,y:N},{width:G,height:$}),l.R.copy(Q,v,{x:0,y:$-1},{x:M,y:N-1},{width:G,height:1}),l.R.copy(Q,v,{x:0,y:0},{x:M,y:N+$},{width:G,height:1}),l.R.copy(Q,v,{x:G-1,y:0},{x:M-1,y:N},{width:1,height:$}),l.R.copy(Q,v,{x:0,y:0},{x:M+G,y:N},{width:1,height:$})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(i){for(const h of i){if(this.callbackDispatchedThisFrame[h])continue;this.callbackDispatchedThisFrame[h]=!0;const p=this.getImage(h);p||l.w(`Image with ID: "${h}" was not found`),de(p)&&this.updateImage(h,p)}}}const Ue=1e20;function nt(_,i,h,p,v,x,L,M,N){for(let Q=i;Q<i+p;Q++)Oe(_,h*x+Q,x,v,L,M,N);for(let Q=h;Q<h+v;Q++)Oe(_,Q*x+i,1,p,L,M,N)}function Oe(_,i,h,p,v,x,L){x[0]=0,L[0]=-Ue,L[1]=Ue,v[0]=_[i];for(let M=1,N=0,Q=0;M<p;M++){v[M]=_[i+M*h];const G=M*M;do{const $=x[N];Q=(v[M]-v[$]+G-$*$)/(M-$)/2}while(Q<=L[N]&&--N>-1);N++,x[N]=M,L[N]=Q,L[N+1]=Ue}for(let M=0,N=0;M<p;M++){for(;L[N+1]<M;)N++;const Q=x[N],G=M-Q;_[i+M*h]=v[Q]+G*G}}class Ne{constructor(i,h){this.requestManager=i,this.localIdeographFontFamily=h,this.entries={}}setURL(i){this.url=i}getGlyphs(i){return l._(this,void 0,void 0,(function*(){const h=[];for(const x in i)for(const L of i[x])h.push(this._getAndCacheGlyphsPromise(x,L));const p=yield Promise.all(h),v={};for(const{stack:x,id:L,glyph:M}of p)v[x]||(v[x]={}),v[x][L]=M&&{id:M.id,bitmap:M.bitmap.clone(),metrics:M.metrics};return v}))}_getAndCacheGlyphsPromise(i,h){return l._(this,void 0,void 0,(function*(){let p=this.entries[i];p||(p=this.entries[i]={glyphs:{},requests:{},ranges:{}});let v=p.glyphs[h];if(v!==void 0)return{stack:i,id:h,glyph:v};if(v=this._tinySDF(p,i,h),v)return p.glyphs[h]=v,{stack:i,id:h,glyph:v};const x=Math.floor(h/256);if(256*x>65535)throw new Error("glyphs > 65535 not supported");if(p.ranges[x])return{stack:i,id:h,glyph:v};if(!this.url)throw new Error("glyphsUrl is not set");if(!p.requests[x]){const M=Ne.loadGlyphRange(i,x,this.url,this.requestManager);p.requests[x]=M}const L=yield p.requests[x];for(const M in L)this._doesCharSupportLocalGlyph(+M)||(p.glyphs[+M]=L[+M]);return p.ranges[x]=!0,{stack:i,id:h,glyph:L[h]||null}}))}_doesCharSupportLocalGlyph(i){return!!this.localIdeographFontFamily&&new RegExp("\\p{Ideo}|\\p{sc=Hang}|\\p{sc=Hira}|\\p{sc=Kana}","u").test(String.fromCodePoint(i))}_tinySDF(i,h,p){const v=this.localIdeographFontFamily;if(!v||!this._doesCharSupportLocalGlyph(p))return;let x=i.tinySDF;if(!x){let M="400";/bold/i.test(h)?M="900":/medium/i.test(h)?M="500":/light/i.test(h)&&(M="200"),x=i.tinySDF=new Ne.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:v,fontWeight:M})}const L=x.draw(String.fromCharCode(p));return{id:p,bitmap:new l.o({width:L.width||60,height:L.height||60},L.data),metrics:{width:L.glyphWidth/2||24,height:L.glyphHeight/2||24,left:L.glyphLeft/2+.5||0,top:L.glyphTop/2-27.5||-8,advance:L.glyphAdvance/2||24,isDoubleResolution:!0}}}}Ne.loadGlyphRange=function(_,i,h,p){return l._(this,void 0,void 0,(function*(){const v=256*i,x=v+255,L=p.transformRequest(h.replace("{fontstack}",_).replace("{range}",`${v}-${x}`),"Glyphs"),M=yield l.l(L,new AbortController);if(!M||!M.data)throw new Error(`Could not load glyph range. range: ${i}, ${v}-${x}`);const N={};for(const Q of l.n(M.data))N[Q.id]=Q;return N}))},Ne.TinySDF=class{constructor({fontSize:_=24,buffer:i=3,radius:h=8,cutoff:p=.25,fontFamily:v="sans-serif",fontWeight:x="normal",fontStyle:L="normal"}={}){this.buffer=i,this.cutoff=p,this.radius=h;const M=this.size=_+4*i,N=this._createCanvas(M),Q=this.ctx=N.getContext("2d",{willReadFrequently:!0});Q.font=`${L} ${x} ${_}px ${v}`,Q.textBaseline="alphabetic",Q.textAlign="left",Q.fillStyle="black",this.gridOuter=new Float64Array(M*M),this.gridInner=new Float64Array(M*M),this.f=new Float64Array(M),this.z=new Float64Array(M+1),this.v=new Uint16Array(M)}_createCanvas(_){const i=document.createElement("canvas");return i.width=i.height=_,i}draw(_){const{width:i,actualBoundingBoxAscent:h,actualBoundingBoxDescent:p,actualBoundingBoxLeft:v,actualBoundingBoxRight:x}=this.ctx.measureText(_),L=Math.ceil(h),M=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(x-v))),N=Math.min(this.size-this.buffer,L+Math.ceil(p)),Q=M+2*this.buffer,G=N+2*this.buffer,$=Math.max(Q*G,0),ee=new Uint8ClampedArray($),ne={data:ee,width:Q,height:G,glyphWidth:M,glyphHeight:N,glyphTop:L,glyphLeft:0,glyphAdvance:i};if(M===0||N===0)return ne;const{ctx:ce,buffer:ge,gridInner:Se,gridOuter:xe}=this;ce.clearRect(ge,ge,M,N),ce.fillText(_,ge,ge+L);const Qe=ce.getImageData(ge,ge,M,N);xe.fill(Ue,0,$),Se.fill(0,0,$);for(let Te=0;Te<N;Te++)for(let Xe=0;Xe<M;Xe++){const Ge=Qe.data[4*(Te*M+Xe)+3]/255;if(Ge===0)continue;const at=(Te+ge)*Q+Xe+ge;if(Ge===1)xe[at]=0,Se[at]=Ue;else{const wt=.5-Ge;xe[at]=wt>0?wt*wt:0,Se[at]=wt<0?wt*wt:0}}nt(xe,0,0,Q,G,Q,this.f,this.v,this.z),nt(Se,ge,ge,M,N,Q,this.f,this.v,this.z);for(let Te=0;Te<$;Te++){const Xe=Math.sqrt(xe[Te])-Math.sqrt(Se[Te]);ee[Te]=Math.round(255-255*(Xe/this.radius+this.cutoff))}return ne}};class Ve{constructor(){this.specification=l.v.light.position}possiblyEvaluate(i,h){return l.x(i.expression.evaluate(h))}interpolate(i,h,p){return{x:l.y.number(i.x,h.x,p),y:l.y.number(i.y,h.y,p),z:l.y.number(i.z,h.z,p)}}}let De;class ot extends l.E{constructor(i){super(),De=De||new l.q({anchor:new l.D(l.v.light.anchor),position:new Ve,color:new l.D(l.v.light.color),intensity:new l.D(l.v.light.intensity)}),this._transitionable=new l.T(De),this.setLight(i),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(i,h={}){if(!this._validate(l.r,i,h))for(const p in i){const v=i[p];p.endsWith("-transition")?this._transitionable.setTransition(p.slice(0,-11),v):this._transitionable.setValue(p,v)}}updateTransitions(i){this._transitioning=this._transitionable.transitioned(i,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(i){this.properties=this._transitioning.possiblyEvaluate(i)}_validate(i,h,p){return(!p||p.validate!==!1)&&l.t(this,i.call(l.u,{value:h,style:{glyphs:!0,sprite:!0},styleSpec:l.v}))}}const be=new l.q({"sky-color":new l.D(l.v.sky["sky-color"]),"horizon-color":new l.D(l.v.sky["horizon-color"]),"fog-color":new l.D(l.v.sky["fog-color"]),"fog-ground-blend":new l.D(l.v.sky["fog-ground-blend"]),"horizon-fog-blend":new l.D(l.v.sky["horizon-fog-blend"]),"sky-horizon-blend":new l.D(l.v.sky["sky-horizon-blend"]),"atmosphere-blend":new l.D(l.v.sky["atmosphere-blend"])});class re extends l.E{constructor(i){super(),this._transitionable=new l.T(be),this.setSky(i),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new l.z(0))}setSky(i,h={}){if(!this._validate(l.B,i,h)){i||(i={"sky-color":"transparent","horizon-color":"transparent","fog-color":"transparent","fog-ground-blend":1,"atmosphere-blend":0});for(const p in i){const v=i[p];p.endsWith("-transition")?this._transitionable.setTransition(p.slice(0,-11),v):this._transitionable.setValue(p,v)}}}getSky(){return this._transitionable.serialize()}updateTransitions(i){this._transitioning=this._transitionable.transitioned(i,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(i){this.properties=this._transitioning.possiblyEvaluate(i)}_validate(i,h,p={}){return p?.validate!==!1&&l.t(this,i.call(l.u,l.e({value:h,style:{glyphs:!0,sprite:!0},styleSpec:l.v})))}calculateFogBlendOpacity(i){return i<60?0:i<70?(i-60)/10:1}}class ye{constructor(i,h){this.width=i,this.height=h,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(i,h){const p=i.join(",")+String(h);return this.dashEntry[p]||(this.dashEntry[p]=this.addDash(i,h)),this.dashEntry[p]}getDashRanges(i,h,p){const v=[];let x=i.length%2==1?-i[i.length-1]*p:0,L=i[0]*p,M=!0;v.push({left:x,right:L,isDash:M,zeroLength:i[0]===0});let N=i[0];for(let Q=1;Q<i.length;Q++){M=!M;const G=i[Q];x=N*p,N+=G,L=N*p,v.push({left:x,right:L,isDash:M,zeroLength:G===0})}return v}addRoundDash(i,h,p){const v=h/2;for(let x=-p;x<=p;x++){const L=this.width*(this.nextRow+p+x);let M=0,N=i[M];for(let Q=0;Q<this.width;Q++){Q/N.right>1&&(N=i[++M]);const G=Math.abs(Q-N.left),$=Math.abs(Q-N.right),ee=Math.min(G,$);let ne;const ce=x/p*(v+1);if(N.isDash){const ge=v-Math.abs(ce);ne=Math.sqrt(ee*ee+ge*ge)}else ne=v-Math.sqrt(ee*ee+ce*ce);this.data[L+Q]=Math.max(0,Math.min(255,ne+128))}}}addRegularDash(i){for(let M=i.length-1;M>=0;--M){const N=i[M],Q=i[M+1];N.zeroLength?i.splice(M,1):Q&&Q.isDash===N.isDash&&(Q.left=N.left,i.splice(M,1))}const h=i[0],p=i[i.length-1];h.isDash===p.isDash&&(h.left=p.left-this.width,p.right=h.right+this.width);const v=this.width*this.nextRow;let x=0,L=i[x];for(let M=0;M<this.width;M++){M/L.right>1&&(L=i[++x]);const N=Math.abs(M-L.left),Q=Math.abs(M-L.right),G=Math.min(N,Q);this.data[v+M]=Math.max(0,Math.min(255,(L.isDash?G:-G)+128))}}addDash(i,h){const p=h?7:0,v=2*p+1;if(this.nextRow+v>this.height)return l.w("LineAtlas out of space"),null;let x=0;for(let M=0;M<i.length;M++)x+=i[M];if(x!==0){const M=this.width/x,N=this.getDashRanges(i,this.width,M);h?this.addRoundDash(N,M,p):this.addRegularDash(N)}const L={y:(this.nextRow+p+.5)/this.height,height:2*p/this.height,width:x};return this.nextRow+=v,this.dirty=!0,L}bind(i){const h=i.gl;this.texture?(h.bindTexture(h.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,h.texSubImage2D(h.TEXTURE_2D,0,0,0,this.width,this.height,h.ALPHA,h.UNSIGNED_BYTE,this.data))):(this.texture=h.createTexture(),h.bindTexture(h.TEXTURE_2D,this.texture),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.REPEAT),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.REPEAT),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.LINEAR),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.LINEAR),h.texImage2D(h.TEXTURE_2D,0,h.ALPHA,this.width,this.height,0,h.ALPHA,h.UNSIGNED_BYTE,this.data))}}const Ie="maplibre_preloaded_worker_pool";class ke{constructor(){this.active={}}acquire(i){if(!this.workers)for(this.workers=[];this.workers.length<ke.workerCount;)this.workers.push(new Worker(l.a.WORKER_URL));return this.active[i]=!0,this.workers.slice()}release(i){delete this.active[i],this.numActive()===0&&(this.workers.forEach((h=>{h.terminate()})),this.workers=null)}isPreloaded(){return!!this.active[Ie]}numActive(){return Object.keys(this.active).length}}const $e=Math.floor(C.hardwareConcurrency/2);let Je,mt;function Ke(){return Je||(Je=new ke),Je}ke.workerCount=l.C(globalThis)?Math.max(Math.min($e,3),1):1;class pt{constructor(i,h){this.workerPool=i,this.actors=[],this.currentActor=0,this.id=h;const p=this.workerPool.acquire(h);for(let v=0;v<p.length;v++){const x=new l.F(p[v],h);x.name=`Worker ${v}`,this.actors.push(x)}if(!this.actors.length)throw new Error("No actors found")}broadcast(i,h){const p=[];for(const v of this.actors)p.push(v.sendAsync({type:i,data:h}));return Promise.all(p)}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(i=!0){this.actors.forEach((h=>{h.remove()})),this.actors=[],i&&this.workerPool.release(this.id)}registerMessageHandler(i,h){for(const p of this.actors)p.registerMessageHandler(i,h)}}function Ct(){return mt||(mt=new pt(Ke(),l.G),mt.registerMessageHandler("GR",((_,i,h)=>l.m(i,h)))),mt}function ct(_,i){const h=l.H();return l.J(h,h,[1,1,0]),l.K(h,h,[.5*_.width,.5*_.height,1]),l.L(h,h,_.calculatePosMatrix(i.toUnwrapped()))}function qt(_,i,h,p,v,x){const L=(function($,ee,ne){if($)for(const ce of $){const ge=ee[ce];if(ge&&ge.source===ne&&ge.type==="fill-extrusion")return!0}else for(const ce in ee){const ge=ee[ce];if(ge.source===ne&&ge.type==="fill-extrusion")return!0}return!1})(v&&v.layers,i,_.id),M=x.maxPitchScaleFactor(),N=_.tilesIn(p,M,L);N.sort(Xt);const Q=[];for(const $ of N)Q.push({wrappedTileID:$.tileID.wrapped().key,queryResults:$.tile.queryRenderedFeatures(i,h,_._state,$.queryGeometry,$.cameraQueryGeometry,$.scale,v,x,M,ct(_.transform,$.tileID))});const G=(function($){const ee={},ne={};for(const ce of $){const ge=ce.queryResults,Se=ce.wrappedTileID,xe=ne[Se]=ne[Se]||{};for(const Qe in ge){const Te=ge[Qe],Xe=xe[Qe]=xe[Qe]||{},Ge=ee[Qe]=ee[Qe]||[];for(const at of Te)Xe[at.featureIndex]||(Xe[at.featureIndex]=!0,Ge.push(at))}}return ee})(Q);for(const $ in G)G[$].forEach((ee=>{const ne=ee.feature,ce=_.getFeatureState(ne.layer["source-layer"],ne.id);ne.source=ne.layer.source,ne.layer["source-layer"]&&(ne.sourceLayer=ne.layer["source-layer"]),ne.state=ce}));return G}function Xt(_,i){const h=_.tileID,p=i.tileID;return h.overscaledZ-p.overscaledZ||h.canonical.y-p.canonical.y||h.wrap-p.wrap||h.canonical.x-p.canonical.x}function Pe(_,i,h){return l._(this,void 0,void 0,(function*(){let p=_;if(_.url?p=(yield l.h(i.transformRequest(_.url,"Source"),h)).data:yield C.frameAsync(h),!p)return null;const v=l.M(l.e(p,_),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);return"vector_layers"in p&&p.vector_layers&&(v.vectorLayerIds=p.vector_layers.map((x=>x.id))),v}))}class Ye{constructor(i,h){i&&(h?this.setSouthWest(i).setNorthEast(h):Array.isArray(i)&&(i.length===4?this.setSouthWest([i[0],i[1]]).setNorthEast([i[2],i[3]]):this.setSouthWest(i[0]).setNorthEast(i[1])))}setNorthEast(i){return this._ne=i instanceof l.N?new l.N(i.lng,i.lat):l.N.convert(i),this}setSouthWest(i){return this._sw=i instanceof l.N?new l.N(i.lng,i.lat):l.N.convert(i),this}extend(i){const h=this._sw,p=this._ne;let v,x;if(i instanceof l.N)v=i,x=i;else{if(!(i instanceof Ye))return Array.isArray(i)?i.length===4||i.every(Array.isArray)?this.extend(Ye.convert(i)):this.extend(l.N.convert(i)):i&&("lng"in i||"lon"in i)&&"lat"in i?this.extend(l.N.convert(i)):this;if(v=i._sw,x=i._ne,!v||!x)return this}return h||p?(h.lng=Math.min(v.lng,h.lng),h.lat=Math.min(v.lat,h.lat),p.lng=Math.max(x.lng,p.lng),p.lat=Math.max(x.lat,p.lat)):(this._sw=new l.N(v.lng,v.lat),this._ne=new l.N(x.lng,x.lat)),this}getCenter(){return new l.N((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new l.N(this.getWest(),this.getNorth())}getSouthEast(){return new l.N(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(i){const{lng:h,lat:p}=l.N.convert(i);let v=this._sw.lng<=h&&h<=this._ne.lng;return this._sw.lng>this._ne.lng&&(v=this._sw.lng>=h&&h>=this._ne.lng),this._sw.lat<=p&&p<=this._ne.lat&&v}static convert(i){return i instanceof Ye?i:i&&new Ye(i)}static fromLngLat(i,h=0){const p=360*h/40075017,v=p/Math.cos(Math.PI/180*i.lat);return new Ye(new l.N(i.lng-v,i.lat-p),new l.N(i.lng+v,i.lat+p))}adjustAntiMeridian(){const i=new l.N(this._sw.lng,this._sw.lat),h=new l.N(this._ne.lng,this._ne.lat);return new Ye(i,i.lng>h.lng?new l.N(h.lng+360,h.lat):h)}}class Rr{constructor(i,h,p){this.bounds=Ye.convert(this.validateBounds(i)),this.minzoom=h||0,this.maxzoom=p||24}validateBounds(i){return Array.isArray(i)&&i.length===4?[Math.max(-180,i[0]),Math.max(-90,i[1]),Math.min(180,i[2]),Math.min(90,i[3])]:[-180,-90,180,90]}contains(i){const h=Math.pow(2,i.z),p=Math.floor(l.O(this.bounds.getWest())*h),v=Math.floor(l.Q(this.bounds.getNorth())*h),x=Math.ceil(l.O(this.bounds.getEast())*h),L=Math.ceil(l.Q(this.bounds.getSouth())*h);return i.x>=p&&i.x<x&&i.y>=v&&i.y<L}}class Er extends l.E{constructor(i,h,p,v){if(super(),this.id=i,this.dispatcher=p,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,l.e(this,l.M(h,["url","scheme","tileSize","promoteId"])),this._options=l.e({type:"vector"},h),this._collectResourceTiming=h.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(v)}load(){return l._(this,void 0,void 0,(function*(){this._loaded=!1,this.fire(new l.k("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const i=yield Pe(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),i&&(l.e(this,i),i.bounds&&(this.tileBounds=new Rr(i.bounds,this.minzoom,this.maxzoom)),this.fire(new l.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new l.k("data",{dataType:"source",sourceDataType:"content"})))}catch(i){this._tileJSONRequest=null,this.fire(new l.j(i))}}))}loaded(){return this._loaded}hasTile(i){return!this.tileBounds||this.tileBounds.contains(i.canonical)}onAdd(i){this.map=i,this.load()}setSourceProperty(i){this._tileJSONRequest&&this._tileJSONRequest.abort(),i(),this.load()}setTiles(i){return this.setSourceProperty((()=>{this._options.tiles=i})),this}setUrl(i){return this.setSourceProperty((()=>{this.url=i,this._options.url=i})),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}serialize(){return l.e({},this._options)}loadTile(i){return l._(this,void 0,void 0,(function*(){const h=i.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),p={request:this.map._requestManager.transformRequest(h,"Tile"),uid:i.uid,tileID:i.tileID,zoom:i.tileID.overscaledZ,tileSize:this.tileSize*i.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};p.request.collectResourceTiming=this._collectResourceTiming;let v="RT";if(i.actor&&i.state!=="expired"){if(i.state==="loading")return new Promise(((x,L)=>{i.reloadPromise={resolve:x,reject:L}}))}else i.actor=this.dispatcher.getActor(),v="LT";i.abortController=new AbortController;try{const x=yield i.actor.sendAsync({type:v,data:p},i.abortController);if(delete i.abortController,i.aborted)return;this._afterTileLoadWorkerResponse(i,x)}catch(x){if(delete i.abortController,i.aborted)return;if(x&&x.status!==404)throw x;this._afterTileLoadWorkerResponse(i,null)}}))}_afterTileLoadWorkerResponse(i,h){if(h&&h.resourceTiming&&(i.resourceTiming=h.resourceTiming),h&&this.map._refreshExpiredTiles&&i.setExpiryData(h),i.loadVectorData(h,this.map.painter),i.reloadPromise){const p=i.reloadPromise;i.reloadPromise=null,this.loadTile(i).then(p.resolve).catch(p.reject)}}abortTile(i){return l._(this,void 0,void 0,(function*(){i.abortController&&(i.abortController.abort(),delete i.abortController),i.actor&&(yield i.actor.sendAsync({type:"AT",data:{uid:i.uid,type:this.type,source:this.id}}))}))}unloadTile(i){return l._(this,void 0,void 0,(function*(){i.unloadVectorData(),i.actor&&(yield i.actor.sendAsync({type:"RMT",data:{uid:i.uid,type:this.type,source:this.id}}))}))}hasTransition(){return!1}}class It extends l.E{constructor(i,h,p,v){super(),this.id=i,this.dispatcher=p,this.setEventedParent(v),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=l.e({type:"raster"},h),l.e(this,l.M(h,["url","scheme","tileSize"]))}load(){return l._(this,void 0,void 0,(function*(){this._loaded=!1,this.fire(new l.k("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const i=yield Pe(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,i&&(l.e(this,i),i.bounds&&(this.tileBounds=new Rr(i.bounds,this.minzoom,this.maxzoom)),this.fire(new l.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new l.k("data",{dataType:"source",sourceDataType:"content"})))}catch(i){this._tileJSONRequest=null,this.fire(new l.j(i))}}))}loaded(){return this._loaded}onAdd(i){this.map=i,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}setSourceProperty(i){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null),i(),this.load()}setTiles(i){return this.setSourceProperty((()=>{this._options.tiles=i})),this}setUrl(i){return this.setSourceProperty((()=>{this.url=i,this._options.url=i})),this}serialize(){return l.e({},this._options)}hasTile(i){return!this.tileBounds||this.tileBounds.contains(i.canonical)}loadTile(i){return l._(this,void 0,void 0,(function*(){const h=i.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);i.abortController=new AbortController;try{const p=yield W.getImage(this.map._requestManager.transformRequest(h,"Tile"),i.abortController,this.map._refreshExpiredTiles);if(delete i.abortController,i.aborted)return void(i.state="unloaded");if(p&&p.data){this.map._refreshExpiredTiles&&p.cacheControl&&p.expires&&i.setExpiryData({cacheControl:p.cacheControl,expires:p.expires});const v=this.map.painter.context,x=v.gl,L=p.data;i.texture=this.map.painter.getTileTexture(L.width),i.texture?i.texture.update(L,{useMipmap:!0}):(i.texture=new se(v,L,x.RGBA,{useMipmap:!0}),i.texture.bind(x.LINEAR,x.CLAMP_TO_EDGE,x.LINEAR_MIPMAP_NEAREST)),i.state="loaded"}}catch(p){if(delete i.abortController,i.aborted)i.state="unloaded";else if(p)throw i.state="errored",p}}))}abortTile(i){return l._(this,void 0,void 0,(function*(){i.abortController&&(i.abortController.abort(),delete i.abortController)}))}unloadTile(i){return l._(this,void 0,void 0,(function*(){i.texture&&this.map.painter.saveTileTexture(i.texture)}))}hasTransition(){return!1}}class nr extends It{constructor(i,h,p,v){super(i,h,p,v),this.type="raster-dem",this.maxzoom=22,this._options=l.e({type:"raster-dem"},h),this.encoding=h.encoding||"mapbox",this.redFactor=h.redFactor,this.greenFactor=h.greenFactor,this.blueFactor=h.blueFactor,this.baseShift=h.baseShift}loadTile(i){return l._(this,void 0,void 0,(function*(){const h=i.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),p=this.map._requestManager.transformRequest(h,"Tile");i.neighboringTiles=this._getNeighboringTiles(i.tileID),i.abortController=new AbortController;try{const v=yield W.getImage(p,i.abortController,this.map._refreshExpiredTiles);if(delete i.abortController,i.aborted)return void(i.state="unloaded");if(v&&v.data){const x=v.data;this.map._refreshExpiredTiles&&v.cacheControl&&v.expires&&i.setExpiryData({cacheControl:v.cacheControl,expires:v.expires});const L=l.b(x)&&l.U()?x:yield this.readImageNow(x),M={type:this.type,uid:i.uid,source:this.id,rawImageData:L,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};if(!i.actor||i.state==="expired"){i.actor=this.dispatcher.getActor();const N=yield i.actor.sendAsync({type:"LDT",data:M});i.dem=N,i.needsHillshadePrepare=!0,i.needsTerrainPrepare=!0,i.state="loaded"}}}catch(v){if(delete i.abortController,i.aborted)i.state="unloaded";else if(v)throw i.state="errored",v}}))}readImageNow(i){return l._(this,void 0,void 0,(function*(){if(typeof VideoFrame<"u"&&l.V()){const h=i.width+2,p=i.height+2;try{return new l.R({width:h,height:p},yield l.W(i,-1,-1,h,p))}catch{}}return C.getImageData(i,1)}))}_getNeighboringTiles(i){const h=i.canonical,p=Math.pow(2,h.z),v=(h.x-1+p)%p,x=h.x===0?i.wrap-1:i.wrap,L=(h.x+1+p)%p,M=h.x+1===p?i.wrap+1:i.wrap,N={};return N[new l.S(i.overscaledZ,x,h.z,v,h.y).key]={backfilled:!1},N[new l.S(i.overscaledZ,M,h.z,L,h.y).key]={backfilled:!1},h.y>0&&(N[new l.S(i.overscaledZ,x,h.z,v,h.y-1).key]={backfilled:!1},N[new l.S(i.overscaledZ,i.wrap,h.z,h.x,h.y-1).key]={backfilled:!1},N[new l.S(i.overscaledZ,M,h.z,L,h.y-1).key]={backfilled:!1}),h.y+1<p&&(N[new l.S(i.overscaledZ,x,h.z,v,h.y+1).key]={backfilled:!1},N[new l.S(i.overscaledZ,i.wrap,h.z,h.x,h.y+1).key]={backfilled:!1},N[new l.S(i.overscaledZ,M,h.z,L,h.y+1).key]={backfilled:!1}),N}unloadTile(i){return l._(this,void 0,void 0,(function*(){i.demTexture&&this.map.painter.saveTileTexture(i.demTexture),i.fbo&&(i.fbo.destroy(),delete i.fbo),i.dem&&delete i.dem,delete i.neighboringTiles,i.state="unloaded",i.actor&&(yield i.actor.sendAsync({type:"RDT",data:{type:this.type,uid:i.uid,source:this.id}}))}))}}class ur extends l.E{constructor(i,h,p,v){super(),this.id=i,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=p.getActor(),this.setEventedParent(v),this._data=h.data,this._options=l.e({},h),this._collectResourceTiming=h.collectResourceTiming,h.maxzoom!==void 0&&(this.maxzoom=h.maxzoom),h.type&&(this.type=h.type),h.attribution&&(this.attribution=h.attribution),this.promoteId=h.promoteId;const x=l.X/this.tileSize;h.clusterMaxZoom!==void 0&&this.maxzoom<=h.clusterMaxZoom&&l.w(`The maxzoom value "${this.maxzoom}" is expected to be greater than the clusterMaxZoom value "${h.clusterMaxZoom}".`),this.workerOptions=l.e({source:this.id,cluster:h.cluster||!1,geojsonVtOptions:{buffer:(h.buffer!==void 0?h.buffer:128)*x,tolerance:(h.tolerance!==void 0?h.tolerance:.375)*x,extent:l.X,maxZoom:this.maxzoom,lineMetrics:h.lineMetrics||!1,generateId:h.generateId||!1},superclusterOptions:{maxZoom:h.clusterMaxZoom!==void 0?h.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,h.clusterMinPoints||2),extent:l.X,radius:(h.clusterRadius||50)*x,log:!1,generateId:h.generateId||!1},clusterProperties:h.clusterProperties,filter:h.filter},h.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}load(){return l._(this,void 0,void 0,(function*(){yield this._updateWorkerData()}))}onAdd(i){this.map=i,this.load()}setData(i){return this._data=i,this._updateWorkerData(),this}updateData(i){return this._updateWorkerData(i),this}getData(){return l._(this,void 0,void 0,(function*(){const i=l.e({type:this.type},this.workerOptions);return this.actor.sendAsync({type:"GD",data:i})}))}setClusterOptions(i){return this.workerOptions.cluster=i.cluster,i&&(i.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=i.clusterRadius),i.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=i.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(i){return this.actor.sendAsync({type:"GCEZ",data:{type:this.type,clusterId:i,source:this.id}})}getClusterChildren(i){return this.actor.sendAsync({type:"GCC",data:{type:this.type,clusterId:i,source:this.id}})}getClusterLeaves(i,h,p){return this.actor.sendAsync({type:"GCL",data:{type:this.type,source:this.id,clusterId:i,limit:h,offset:p}})}_updateWorkerData(i){return l._(this,void 0,void 0,(function*(){const h=l.e({type:this.type},this.workerOptions);i?h.dataDiff=i:typeof this._data=="string"?(h.request=this.map._requestManager.transformRequest(C.resolveURL(this._data),"Source"),h.request.collectResourceTiming=this._collectResourceTiming):h.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new l.k("dataloading",{dataType:"source"}));try{const p=yield this.actor.sendAsync({type:"LD",data:h});if(this._pendingLoads--,this._removed||p.abandoned)return void this.fire(new l.k("dataabort",{dataType:"source"}));let v=null;p.resourceTiming&&p.resourceTiming[this.id]&&(v=p.resourceTiming[this.id].slice(0));const x={dataType:"source"};this._collectResourceTiming&&v&&v.length>0&&l.e(x,{resourceTiming:v}),this.fire(new l.k("data",Object.assign(Object.assign({},x),{sourceDataType:"metadata"}))),this.fire(new l.k("data",Object.assign(Object.assign({},x),{sourceDataType:"content"})))}catch(p){if(this._pendingLoads--,this._removed)return void this.fire(new l.k("dataabort",{dataType:"source"}));this.fire(new l.j(p))}}))}loaded(){return this._pendingLoads===0}loadTile(i){return l._(this,void 0,void 0,(function*(){const h=i.actor?"RT":"LT";i.actor=this.actor;const p={type:this.type,uid:i.uid,tileID:i.tileID,zoom:i.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};i.abortController=new AbortController;const v=yield this.actor.sendAsync({type:h,data:p},i.abortController);delete i.abortController,i.unloadVectorData(),i.aborted||i.loadVectorData(v,this.map.painter,h==="RT")}))}abortTile(i){return l._(this,void 0,void 0,(function*(){i.abortController&&(i.abortController.abort(),delete i.abortController),i.aborted=!0}))}unloadTile(i){return l._(this,void 0,void 0,(function*(){i.unloadVectorData(),yield this.actor.sendAsync({type:"RMT",data:{uid:i.uid,type:this.type,source:this.id}})}))}onRemove(){this._removed=!0,this.actor.sendAsync({type:"RS",data:{type:this.type,source:this.id}})}serialize(){return l.e({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}}var Tr=l.Y([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class Br extends l.E{constructor(i,h,p,v){super(),this.id=i,this.dispatcher=p,this.coordinates=h.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(v),this.options=h}load(i){return l._(this,void 0,void 0,(function*(){this._loaded=!1,this.fire(new l.k("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=new AbortController;try{const h=yield W.getImage(this.map._requestManager.transformRequest(this.url,"Image"),this._request);this._request=null,this._loaded=!0,h&&h.data&&(this.image=h.data,i&&(this.coordinates=i),this._finishLoading())}catch(h){this._request=null,this._loaded=!0,this.fire(new l.j(h))}}))}loaded(){return this._loaded}updateImage(i){return i.url?(this._request&&(this._request.abort(),this._request=null),this.options.url=i.url,this.load(i.coordinates).finally((()=>{this.texture=null})),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new l.k("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(i){this.map=i,this.load()}onRemove(){this._request&&(this._request.abort(),this._request=null)}setCoordinates(i){this.coordinates=i;const h=i.map(l.Z.fromLngLat);this.tileID=(function(v){let x=1/0,L=1/0,M=-1/0,N=-1/0;for(const ee of v)x=Math.min(x,ee.x),L=Math.min(L,ee.y),M=Math.max(M,ee.x),N=Math.max(N,ee.y);const Q=Math.max(M-x,N-L),G=Math.max(0,Math.floor(-Math.log(Q)/Math.LN2)),$=Math.pow(2,G);return new l.a1(G,Math.floor((x+M)/2*$),Math.floor((L+N)/2*$))})(h),this.minzoom=this.maxzoom=this.tileID.z;const p=h.map((v=>this.tileID.getTilePoint(v)._round()));return this._boundsArray=new l.$,this._boundsArray.emplaceBack(p[0].x,p[0].y,0,0),this._boundsArray.emplaceBack(p[1].x,p[1].y,l.X,0),this._boundsArray.emplaceBack(p[3].x,p[3].y,0,l.X),this._boundsArray.emplaceBack(p[2].x,p[2].y,l.X,l.X),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new l.k("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const i=this.map.painter.context,h=i.gl;this.boundsBuffer||(this.boundsBuffer=i.createVertexBuffer(this._boundsArray,Tr.members)),this.boundsSegments||(this.boundsSegments=l.a0.simpleSegment(0,0,4,2)),this.texture||(this.texture=new se(i,this.image,h.RGBA),this.texture.bind(h.LINEAR,h.CLAMP_TO_EDGE));let p=!1;for(const v in this.tiles){const x=this.tiles[v];x.state!=="loaded"&&(x.state="loaded",x.texture=this.texture,p=!0)}p&&this.fire(new l.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}loadTile(i){return l._(this,void 0,void 0,(function*(){this.tileID&&this.tileID.equals(i.tileID.canonical)?(this.tiles[String(i.tileID.wrap)]=i,i.buckets={}):i.state="errored"}))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}class rn extends Br{constructor(i,h,p,v){super(i,h,p,v),this.roundZoom=!0,this.type="video",this.options=h}load(){return l._(this,void 0,void 0,(function*(){this._loaded=!1;const i=this.options;this.urls=[];for(const h of i.urls)this.urls.push(this.map._requestManager.transformRequest(h,"Source").url);try{const h=yield l.a3(this.urls);if(this._loaded=!0,!h)return;this.video=h,this.video.loop=!0,this.video.addEventListener("playing",(()=>{this.map.triggerRepaint()})),this.map&&this.video.play(),this._finishLoading()}catch(h){this.fire(new l.j(h))}}))}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(i){if(this.video){const h=this.video.seekable;i<h.start(0)||i>h.end(0)?this.fire(new l.j(new l.a2(`sources.${this.id}`,null,`Playback for this video can be set only between the ${h.start(0)} and ${h.end(0)}-second mark.`))):this.video.currentTime=i}}getVideo(){return this.video}onAdd(i){this.map||(this.map=i,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const i=this.map.painter.context,h=i.gl;this.boundsBuffer||(this.boundsBuffer=i.createVertexBuffer(this._boundsArray,Tr.members)),this.boundsSegments||(this.boundsSegments=l.a0.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(h.LINEAR,h.CLAMP_TO_EDGE),h.texSubImage2D(h.TEXTURE_2D,0,0,0,h.RGBA,h.UNSIGNED_BYTE,this.video)):(this.texture=new se(i,this.video,h.RGBA),this.texture.bind(h.LINEAR,h.CLAMP_TO_EDGE));let p=!1;for(const v in this.tiles){const x=this.tiles[v];x.state!=="loaded"&&(x.state="loaded",x.texture=this.texture,p=!0)}p&&this.fire(new l.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class nn extends Br{constructor(i,h,p,v){super(i,h,p,v),h.coordinates?Array.isArray(h.coordinates)&&h.coordinates.length===4&&!h.coordinates.some((x=>!Array.isArray(x)||x.length!==2||x.some((L=>typeof L!="number"))))||this.fire(new l.j(new l.a2(`sources.${i}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new l.j(new l.a2(`sources.${i}`,null,'missing required property "coordinates"'))),h.animate&&typeof h.animate!="boolean"&&this.fire(new l.j(new l.a2(`sources.${i}`,null,'optional "animate" property must be a boolean value'))),h.canvas?typeof h.canvas=="string"||h.canvas instanceof HTMLCanvasElement||this.fire(new l.j(new l.a2(`sources.${i}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new l.j(new l.a2(`sources.${i}`,null,'missing required property "canvas"'))),this.options=h,this.animate=h.animate===void 0||h.animate}load(){return l._(this,void 0,void 0,(function*(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new l.j(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}))}getCanvas(){return this.canvas}onAdd(i){this.map=i,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let i=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,i=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,i=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const h=this.map.painter.context,p=h.gl;this.boundsBuffer||(this.boundsBuffer=h.createVertexBuffer(this._boundsArray,Tr.members)),this.boundsSegments||(this.boundsSegments=l.a0.simpleSegment(0,0,4,2)),this.texture?(i||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new se(h,this.canvas,p.RGBA,{premultiply:!0});let v=!1;for(const x in this.tiles){const L=this.tiles[x];L.state!=="loaded"&&(L.state="loaded",L.texture=this.texture,v=!0)}v&&this.fire(new l.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const i of[this.canvas.width,this.canvas.height])if(isNaN(i)||i<=0)return!0;return!1}}const Jr={},yn=_=>{switch(_){case"geojson":return ur;case"image":return Br;case"raster":return It;case"raster-dem":return nr;case"vector":return Er;case"video":return rn;case"canvas":return nn}return Jr[_]},Lt="RTLPluginLoaded";class cr extends l.E{constructor(){super(...arguments),this.status="unavailable",this.url=null,this.dispatcher=Ct()}_syncState(i){return this.status=i,this.dispatcher.broadcast("SRPS",{pluginStatus:i,pluginURL:this.url}).catch((h=>{throw this.status="error",h}))}getRTLTextPluginStatus(){return this.status}clearRTLTextPlugin(){this.status="unavailable",this.url=null}setRTLTextPlugin(i){return l._(this,arguments,void 0,(function*(h,p=!1){if(this.url)throw new Error("setRTLTextPlugin cannot be called multiple times.");if(this.url=C.resolveURL(h),!this.url)throw new Error(`requested url ${h} is invalid`);if(this.status==="unavailable"){if(!p)return this._requestImport();this.status="deferred",this._syncState(this.status)}else if(this.status==="requested")return this._requestImport()}))}_requestImport(){return l._(this,void 0,void 0,(function*(){yield this._syncState("loading"),this.status="loaded",this.fire(new l.k(Lt))}))}lazyLoad(){this.status==="unavailable"?this.status="requested":this.status==="deferred"&&this._requestImport()}}let Pr=null;function fr(){return Pr||(Pr=new cr),Pr}class ri{constructor(i,h){this.timeAdded=0,this.fadeEndTime=0,this.tileID=i,this.uid=l.a4(),this.uses=0,this.tileSize=h,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(i){const h=i+this.timeAdded;h<this.fadeEndTime||(this.fadeEndTime=h)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(i){this.demTexture&&i.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(i,h,p){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",i){i.featureIndex&&(this.latestFeatureIndex=i.featureIndex,i.rawTileData?(this.latestRawTileData=i.rawTileData,this.latestFeatureIndex.rawTileData=i.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=i.collisionBoxArray,this.buckets=(function(v,x){const L={};if(!x)return L;for(const M of v){const N=M.layerIds.map((Q=>x.getLayer(Q))).filter(Boolean);if(N.length!==0){M.layers=N,M.stateDependentLayerIds&&(M.stateDependentLayers=M.stateDependentLayerIds.map((Q=>N.filter((G=>G.id===Q))[0])));for(const Q of N)L[Q.id]=M}}return L})(i.buckets,h.style),this.hasSymbolBuckets=!1;for(const v in this.buckets){const x=this.buckets[v];if(x instanceof l.a6){if(this.hasSymbolBuckets=!0,!p)break;x.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const v in this.buckets){const x=this.buckets[v];if(x instanceof l.a6&&x.hasRTLText){this.hasRTLText=!0,fr().lazyLoad();break}}this.queryPadding=0;for(const v in this.buckets){const x=this.buckets[v];this.queryPadding=Math.max(this.queryPadding,h.style.getLayer(v).queryRadius(x))}i.imageAtlas&&(this.imageAtlas=i.imageAtlas),i.glyphAtlasImage&&(this.glyphAtlasImage=i.glyphAtlasImage)}else this.collisionBoxArray=new l.a5}unloadVectorData(){for(const i in this.buckets)this.buckets[i].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(i){return this.buckets[i.id]}upload(i){for(const p in this.buckets){const v=this.buckets[p];v.uploadPending()&&v.upload(i)}const h=i.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new se(i,this.imageAtlas.image,h.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new se(i,this.glyphAtlasImage,h.ALPHA),this.glyphAtlasImage=null)}prepare(i){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(i,this.imageAtlasTexture)}queryRenderedFeatures(i,h,p,v,x,L,M,N,Q,G){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:v,cameraQueryGeometry:x,scale:L,tileSize:this.tileSize,pixelPosMatrix:G,transform:N,params:M,queryPadding:this.queryPadding*Q},i,h,p):{}}querySourceFeatures(i,h){const p=this.latestFeatureIndex;if(!p||!p.rawTileData)return;const v=p.loadVTLayers(),x=h&&h.sourceLayer?h.sourceLayer:"",L=v._geojsonTileLayer||v[x];if(!L)return;const M=l.a7(h&&h.filter),{z:N,x:Q,y:G}=this.tileID.canonical,$={z:N,x:Q,y:G};for(let ee=0;ee<L.length;ee++){const ne=L.feature(ee);if(M.needGeometry){const Se=l.a8(ne,!0);if(!M.filter(new l.z(this.tileID.overscaledZ),Se,this.tileID.canonical))continue}else if(!M.filter(new l.z(this.tileID.overscaledZ),ne))continue;const ce=p.getId(ne,x),ge=new l.a9(ne,N,Q,G,ce);ge.tile=$,i.push(ge)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(i){const h=this.expirationTime;if(i.cacheControl){const p=l.aa(i.cacheControl);p["max-age"]&&(this.expirationTime=Date.now()+1e3*p["max-age"])}else i.expires&&(this.expirationTime=new Date(i.expires).getTime());if(this.expirationTime){const p=Date.now();let v=!1;if(this.expirationTime>p)v=!1;else if(h)if(this.expirationTime<h)v=!0;else{const x=this.expirationTime-h;x?this.expirationTime=p+Math.max(x,3e4):v=!0}else v=!0;v?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(i,h){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(i).length===0)return;const p=this.latestFeatureIndex.loadVTLayers();for(const v in this.buckets){if(!h.style.hasLayer(v))continue;const x=this.buckets[v],L=x.layers[0].sourceLayer||"_geojsonTileLayer",M=p[L],N=i[L];if(!M||!N||Object.keys(N).length===0)continue;x.update(N,M,this.imageAtlas&&this.imageAtlas.patternPositions||{});const Q=h&&h.style&&h.style.getLayer(v);Q&&(this.queryPadding=Math.max(this.queryPadding,Q.queryRadius(x)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<C.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(i){this.symbolFadeHoldUntil=C.now()+i}setDependencies(i,h){const p={};for(const v of h)p[v]=!0;this.dependencies[i]=p}hasDependency(i,h){for(const p of i){const v=this.dependencies[p];if(v){for(const x of h)if(v[x])return!0}}return!1}}class Pt{constructor(i,h){this.max=i,this.onRemove=h,this.reset()}reset(){for(const i in this.data)for(const h of this.data[i])h.timeout&&clearTimeout(h.timeout),this.onRemove(h.value);return this.data={},this.order=[],this}add(i,h,p){const v=i.wrapped().key;this.data[v]===void 0&&(this.data[v]=[]);const x={value:h,timeout:void 0};if(p!==void 0&&(x.timeout=setTimeout((()=>{this.remove(i,x)}),p)),this.data[v].push(x),this.order.push(v),this.order.length>this.max){const L=this._getAndRemoveByKey(this.order[0]);L&&this.onRemove(L)}return this}has(i){return i.wrapped().key in this.data}getAndRemove(i){return this.has(i)?this._getAndRemoveByKey(i.wrapped().key):null}_getAndRemoveByKey(i){const h=this.data[i].shift();return h.timeout&&clearTimeout(h.timeout),this.data[i].length===0&&delete this.data[i],this.order.splice(this.order.indexOf(i),1),h.value}getByKey(i){const h=this.data[i];return h?h[0].value:null}get(i){return this.has(i)?this.data[i.wrapped().key][0].value:null}remove(i,h){if(!this.has(i))return this;const p=i.wrapped().key,v=h===void 0?0:this.data[p].indexOf(h),x=this.data[p][v];return this.data[p].splice(v,1),x.timeout&&clearTimeout(x.timeout),this.data[p].length===0&&delete this.data[p],this.onRemove(x.value),this.order.splice(this.order.indexOf(p),1),this}setMaxSize(i){for(this.max=i;this.order.length>this.max;){const h=this._getAndRemoveByKey(this.order[0]);h&&this.onRemove(h)}return this}filter(i){const h=[];for(const p in this.data)for(const v of this.data[p])i(v.value)||h.push(v);for(const p of h)this.remove(p.value.tileID,p)}}class Zt{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(i,h,p){const v=String(h);if(this.stateChanges[i]=this.stateChanges[i]||{},this.stateChanges[i][v]=this.stateChanges[i][v]||{},l.e(this.stateChanges[i][v],p),this.deletedStates[i]===null){this.deletedStates[i]={};for(const x in this.state[i])x!==v&&(this.deletedStates[i][x]=null)}else if(this.deletedStates[i]&&this.deletedStates[i][v]===null){this.deletedStates[i][v]={};for(const x in this.state[i][v])p[x]||(this.deletedStates[i][v][x]=null)}else for(const x in p)this.deletedStates[i]&&this.deletedStates[i][v]&&this.deletedStates[i][v][x]===null&&delete this.deletedStates[i][v][x]}removeFeatureState(i,h,p){if(this.deletedStates[i]===null)return;const v=String(h);if(this.deletedStates[i]=this.deletedStates[i]||{},p&&h!==void 0)this.deletedStates[i][v]!==null&&(this.deletedStates[i][v]=this.deletedStates[i][v]||{},this.deletedStates[i][v][p]=null);else if(h!==void 0)if(this.stateChanges[i]&&this.stateChanges[i][v])for(p in this.deletedStates[i][v]={},this.stateChanges[i][v])this.deletedStates[i][v][p]=null;else this.deletedStates[i][v]=null;else this.deletedStates[i]=null}getState(i,h){const p=String(h),v=l.e({},(this.state[i]||{})[p],(this.stateChanges[i]||{})[p]);if(this.deletedStates[i]===null)return{};if(this.deletedStates[i]){const x=this.deletedStates[i][h];if(x===null)return{};for(const L in x)delete v[L]}return v}initializeTileState(i,h){i.setFeatureState(this.state,h)}coalesceChanges(i,h){const p={};for(const v in this.stateChanges){this.state[v]=this.state[v]||{};const x={};for(const L in this.stateChanges[v])this.state[v][L]||(this.state[v][L]={}),l.e(this.state[v][L],this.stateChanges[v][L]),x[L]=this.state[v][L];p[v]=x}for(const v in this.deletedStates){this.state[v]=this.state[v]||{};const x={};if(this.deletedStates[v]===null)for(const L in this.state[v])x[L]={},this.state[v][L]={};else for(const L in this.deletedStates[v]){if(this.deletedStates[v][L]===null)this.state[v][L]={};else for(const M of Object.keys(this.deletedStates[v][L]))delete this.state[v][L][M];x[L]=this.state[v][L]}p[v]=p[v]||{},l.e(p[v],x)}if(this.stateChanges={},this.deletedStates={},Object.keys(p).length!==0)for(const v in i)i[v].setFeatureState(p,h)}}class Gt extends l.E{constructor(i,h,p){super(),this.id=i,this.dispatcher=p,this.on("data",(v=>this._dataHandler(v))),this.on("dataloading",(()=>{this._sourceErrored=!1})),this.on("error",(()=>{this._sourceErrored=this._source.loaded()})),this._source=((v,x,L,M)=>{const N=new(yn(x.type))(v,x,L,M);if(N.id!==v)throw new Error(`Expected Source id to be ${v} instead of ${N.id}`);return N})(i,h,p,this),this._tiles={},this._cache=new Pt(0,(v=>this._unloadTile(v))),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new Zt,this._didEmitContent=!1,this._updated=!1}onAdd(i){this.map=i,this._maxTileCacheSize=i?i._maxTileCacheSize:null,this._maxTileCacheZoomLevels=i?i._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(i)}onRemove(i){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(i)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const i in this._tiles){const h=this._tiles[i];if(h.state!=="loaded"&&h.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const i=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,i&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(i,h,p){return l._(this,void 0,void 0,(function*(){try{yield this._source.loadTile(i),this._tileLoaded(i,h,p)}catch(v){i.state="errored",v.status!==404?this._source.fire(new l.j(v,{tile:i})):this.update(this.transform,this.terrain)}}))}_unloadTile(i){this._source.unloadTile&&this._source.unloadTile(i)}_abortTile(i){this._source.abortTile&&this._source.abortTile(i),this._source.fire(new l.k("dataabort",{tile:i,coord:i.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(i){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const h in this._tiles){const p=this._tiles[h];p.upload(i),p.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map((i=>i.tileID)).sort(Zr).map((i=>i.key))}getRenderableIds(i){const h=[];for(const p in this._tiles)this._isIdRenderable(p,i)&&h.push(this._tiles[p]);return i?h.sort(((p,v)=>{const x=p.tileID,L=v.tileID,M=new l.P(x.canonical.x,x.canonical.y)._rotate(this.transform.angle),N=new l.P(L.canonical.x,L.canonical.y)._rotate(this.transform.angle);return x.overscaledZ-L.overscaledZ||N.y-M.y||N.x-M.x})).map((p=>p.tileID.key)):h.map((p=>p.tileID)).sort(Zr).map((p=>p.key))}hasRenderableParent(i){const h=this.findLoadedParent(i,0);return!!h&&this._isIdRenderable(h.tileID.key)}_isIdRenderable(i,h){return this._tiles[i]&&this._tiles[i].hasData()&&!this._coveredTiles[i]&&(h||!this._tiles[i].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const i in this._tiles)this._tiles[i].state!=="errored"&&this._reloadTile(i,"reloading")}}_reloadTile(i,h){return l._(this,void 0,void 0,(function*(){const p=this._tiles[i];p&&(p.state!=="loading"&&(p.state=h),yield this._loadTile(p,i,h))}))}_tileLoaded(i,h,p){i.timeAdded=C.now(),p==="expired"&&(i.refreshedUponExpiration=!0),this._setTileReloadTimer(h,i),this.getSource().type==="raster-dem"&&i.dem&&this._backfillDEM(i),this._state.initializeTileState(i,this.map?this.map.painter:null),i.aborted||this._source.fire(new l.k("data",{dataType:"source",tile:i,coord:i.tileID}))}_backfillDEM(i){const h=this.getRenderableIds();for(let v=0;v<h.length;v++){const x=h[v];if(i.neighboringTiles&&i.neighboringTiles[x]){const L=this.getTileByID(x);p(i,L),p(L,i)}}function p(v,x){v.needsHillshadePrepare=!0,v.needsTerrainPrepare=!0;let L=x.tileID.canonical.x-v.tileID.canonical.x;const M=x.tileID.canonical.y-v.tileID.canonical.y,N=Math.pow(2,v.tileID.canonical.z),Q=x.tileID.key;L===0&&M===0||Math.abs(M)>1||(Math.abs(L)>1&&(Math.abs(L+N)===1?L+=N:Math.abs(L-N)===1&&(L-=N)),x.dem&&v.dem&&(v.dem.backfillBorder(x.dem,L,M),v.neighboringTiles&&v.neighboringTiles[Q]&&(v.neighboringTiles[Q].backfilled=!0)))}}getTile(i){return this.getTileByID(i.key)}getTileByID(i){return this._tiles[i]}_retainLoadedChildren(i,h,p,v){for(const x in this._tiles){let L=this._tiles[x];if(v[x]||!L.hasData()||L.tileID.overscaledZ<=h||L.tileID.overscaledZ>p)continue;let M=L.tileID;for(;L&&L.tileID.overscaledZ>h+1;){const Q=L.tileID.scaledTo(L.tileID.overscaledZ-1);L=this._tiles[Q.key],L&&L.hasData()&&(M=Q)}let N=M;for(;N.overscaledZ>h;)if(N=N.scaledTo(N.overscaledZ-1),i[N.key]){v[M.key]=M;break}}}findLoadedParent(i,h){if(i.key in this._loadedParentTiles){const p=this._loadedParentTiles[i.key];return p&&p.tileID.overscaledZ>=h?p:null}for(let p=i.overscaledZ-1;p>=h;p--){const v=i.scaledTo(p),x=this._getLoadedTile(v);if(x)return x}}findLoadedSibling(i){return this._getLoadedTile(i)}_getLoadedTile(i){const h=this._tiles[i.key];return h&&h.hasData()?h:this._cache.getByKey(i.wrapped().key)}updateCacheSize(i){const h=Math.ceil(i.width/this._source.tileSize)+1,p=Math.ceil(i.height/this._source.tileSize)+1,v=Math.floor(h*p*(this._maxTileCacheZoomLevels===null?l.a.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),x=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,v):v;this._cache.setMaxSize(x)}handleWrapJump(i){const h=Math.round((i-(this._prevLng===void 0?i:this._prevLng))/360);if(this._prevLng=i,h){const p={};for(const v in this._tiles){const x=this._tiles[v];x.tileID=x.tileID.unwrapTo(x.tileID.wrap+h),p[x.tileID.key]=x}this._tiles=p;for(const v in this._timers)clearTimeout(this._timers[v]),delete this._timers[v];for(const v in this._tiles)this._setTileReloadTimer(v,this._tiles[v])}}_updateCoveredAndRetainedTiles(i,h,p,v,x,L){const M={},N={},Q=Object.keys(i),G=C.now();for(const $ of Q){const ee=i[$],ne=this._tiles[$];if(!ne||ne.fadeEndTime!==0&&ne.fadeEndTime<=G)continue;const ce=this.findLoadedParent(ee,h),ge=this.findLoadedSibling(ee),Se=ce||ge||null;Se&&(this._addTile(Se.tileID),M[Se.tileID.key]=Se.tileID),N[$]=ee}this._retainLoadedChildren(N,v,p,i);for(const $ in M)i[$]||(this._coveredTiles[$]=!0,i[$]=M[$]);if(L){const $={},ee={};for(const ne of x)this._tiles[ne.key].hasData()?$[ne.key]=ne:ee[ne.key]=ne;for(const ne in ee){const ce=ee[ne].children(this._source.maxzoom);this._tiles[ce[0].key]&&this._tiles[ce[1].key]&&this._tiles[ce[2].key]&&this._tiles[ce[3].key]&&($[ce[0].key]=i[ce[0].key]=ce[0],$[ce[1].key]=i[ce[1].key]=ce[1],$[ce[2].key]=i[ce[2].key]=ce[2],$[ce[3].key]=i[ce[3].key]=ce[3],delete ee[ne])}for(const ne in ee){const ce=ee[ne],ge=this.findLoadedParent(ce,this._source.minzoom),Se=this.findLoadedSibling(ce),xe=ge||Se||null;if(xe){$[xe.tileID.key]=i[xe.tileID.key]=xe.tileID;for(const Qe in $)$[Qe].isChildOf(xe.tileID)&&delete $[Qe]}}for(const ne in this._tiles)$[ne]||(this._coveredTiles[ne]=!0)}}update(i,h){if(!this._sourceLoaded||this._paused)return;let p;this.transform=i,this.terrain=h,this.updateCacheSize(i),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?p=i.getVisibleUnwrappedCoordinates(this._source.tileID).map((G=>new l.S(G.canonical.z,G.wrap,G.canonical.z,G.canonical.x,G.canonical.y))):(p=i.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:h}),this._source.hasTile&&(p=p.filter((G=>this._source.hasTile(G))))):p=[];const v=i.coveringZoomLevel(this._source),x=Math.max(v-Gt.maxOverzooming,this._source.minzoom),L=Math.max(v+Gt.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const G={};for(const $ of p)if($.canonical.z>this._source.minzoom){const ee=$.scaledTo($.canonical.z-1);G[ee.key]=ee;const ne=$.scaledTo(Math.max(this._source.minzoom,Math.min($.canonical.z,5)));G[ne.key]=ne}p=p.concat(Object.values(G))}const M=p.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,M&&this.fire(new l.k("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const N=this._updateRetainedTiles(p,v);_r(this._source.type)&&this._updateCoveredAndRetainedTiles(N,x,L,v,p,h);for(const G in N)this._tiles[G].clearFadeHold();const Q=l.ab(this._tiles,N);for(const G of Q){const $=this._tiles[G];$.hasSymbolBuckets&&!$.holdingForFade()?$.setHoldDuration(this.map._fadeDuration):$.hasSymbolBuckets&&!$.symbolFadeFinished()||this._removeTile(G)}this._updateLoadedParentTileCache(),this._updateLoadedSiblingTileCache()}releaseSymbolFadeTiles(){for(const i in this._tiles)this._tiles[i].holdingForFade()&&this._removeTile(i)}_updateRetainedTiles(i,h){var p;const v={},x={},L=Math.max(h-Gt.maxOverzooming,this._source.minzoom),M=Math.max(h+Gt.maxUnderzooming,this._source.minzoom),N={};for(const Q of i){const G=this._addTile(Q);v[Q.key]=Q,G.hasData()||h<this._source.maxzoom&&(N[Q.key]=Q)}this._retainLoadedChildren(N,h,M,v);for(const Q of i){let G=this._tiles[Q.key];if(G.hasData())continue;if(h+1>this._source.maxzoom){const ee=Q.children(this._source.maxzoom)[0],ne=this.getTile(ee);if(ne&&ne.hasData()){v[ee.key]=ee;continue}}else{const ee=Q.children(this._source.maxzoom);if(v[ee[0].key]&&v[ee[1].key]&&v[ee[2].key]&&v[ee[3].key])continue}let $=G.wasRequested();for(let ee=Q.overscaledZ-1;ee>=L;--ee){const ne=Q.scaledTo(ee);if(x[ne.key])break;if(x[ne.key]=!0,G=this.getTile(ne),!G&&$&&(G=this._addTile(ne)),G){const ce=G.hasData();if((ce||!(!((p=this.map)===null||p===void 0)&&p.cancelPendingTileRequestsWhileZooming)||$)&&(v[ne.key]=ne),$=G.wasRequested(),ce)break}}}return v}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const i in this._tiles){const h=[];let p,v=this._tiles[i].tileID;for(;v.overscaledZ>0;){if(v.key in this._loadedParentTiles){p=this._loadedParentTiles[v.key];break}h.push(v.key);const x=v.scaledTo(v.overscaledZ-1);if(p=this._getLoadedTile(x),p)break;v=x}for(const x of h)this._loadedParentTiles[x]=p}}_updateLoadedSiblingTileCache(){this._loadedSiblingTiles={};for(const i in this._tiles){const h=this._tiles[i].tileID,p=this._getLoadedTile(h);this._loadedSiblingTiles[h.key]=p}}_addTile(i){let h=this._tiles[i.key];if(h)return h;h=this._cache.getAndRemove(i),h&&(this._setTileReloadTimer(i.key,h),h.tileID=i,this._state.initializeTileState(h,this.map?this.map.painter:null),this._cacheTimers[i.key]&&(clearTimeout(this._cacheTimers[i.key]),delete this._cacheTimers[i.key],this._setTileReloadTimer(i.key,h)));const p=h;return h||(h=new ri(i,this._source.tileSize*i.overscaleFactor()),this._loadTile(h,i.key,h.state)),h.uses++,this._tiles[i.key]=h,p||this._source.fire(new l.k("dataloading",{tile:h,coord:h.tileID,dataType:"source"})),h}_setTileReloadTimer(i,h){i in this._timers&&(clearTimeout(this._timers[i]),delete this._timers[i]);const p=h.getExpiryTimeout();p&&(this._timers[i]=setTimeout((()=>{this._reloadTile(i,"expired"),delete this._timers[i]}),p))}_removeTile(i){const h=this._tiles[i];h&&(h.uses--,delete this._tiles[i],this._timers[i]&&(clearTimeout(this._timers[i]),delete this._timers[i]),h.uses>0||(h.hasData()&&h.state!=="reloading"?this._cache.add(h.tileID,h,h.getExpiryTimeout()):(h.aborted=!0,this._abortTile(h),this._unloadTile(h))))}_dataHandler(i){const h=i.sourceDataType;i.dataType==="source"&&h==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&i.dataType==="source"&&h==="content"&&(this.reload(),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const i in this._tiles)this._removeTile(i);this._cache.reset()}tilesIn(i,h,p){const v=[],x=this.transform;if(!x)return v;const L=p?x.getCameraQueryGeometry(i):i,M=i.map((ce=>x.pointCoordinate(ce,this.terrain))),N=L.map((ce=>x.pointCoordinate(ce,this.terrain))),Q=this.getIds();let G=1/0,$=1/0,ee=-1/0,ne=-1/0;for(const ce of N)G=Math.min(G,ce.x),$=Math.min($,ce.y),ee=Math.max(ee,ce.x),ne=Math.max(ne,ce.y);for(let ce=0;ce<Q.length;ce++){const ge=this._tiles[Q[ce]];if(ge.holdingForFade())continue;const Se=ge.tileID,xe=Math.pow(2,x.zoom-ge.tileID.overscaledZ),Qe=h*ge.queryPadding*l.X/ge.tileSize/xe,Te=[Se.getTilePoint(new l.Z(G,$)),Se.getTilePoint(new l.Z(ee,ne))];if(Te[0].x-Qe<l.X&&Te[0].y-Qe<l.X&&Te[1].x+Qe>=0&&Te[1].y+Qe>=0){const Xe=M.map((at=>Se.getTilePoint(at))),Ge=N.map((at=>Se.getTilePoint(at)));v.push({tile:ge,tileID:Se,queryGeometry:Xe,cameraQueryGeometry:Ge,scale:xe})}}return v}getVisibleCoordinates(i){const h=this.getRenderableIds(i).map((p=>this._tiles[p].tileID));for(const p of h)p.posMatrix=this.transform.calculatePosMatrix(p.toUnwrapped());return h}hasTransition(){if(this._source.hasTransition())return!0;if(_r(this._source.type)){const i=C.now();for(const h in this._tiles)if(this._tiles[h].fadeEndTime>=i)return!0}return!1}setFeatureState(i,h,p){this._state.updateState(i=i||"_geojsonTileLayer",h,p)}removeFeatureState(i,h,p){this._state.removeFeatureState(i=i||"_geojsonTileLayer",h,p)}getFeatureState(i,h){return this._state.getState(i=i||"_geojsonTileLayer",h)}setDependencies(i,h,p){const v=this._tiles[i];v&&v.setDependencies(h,p)}reloadTilesForDependencies(i,h){for(const p in this._tiles)this._tiles[p].hasDependency(i,h)&&this._reloadTile(p,"reloading");this._cache.filter((p=>!p.hasDependency(i,h)))}}function Zr(_,i){const h=Math.abs(2*_.wrap)-+(_.wrap<0),p=Math.abs(2*i.wrap)-+(i.wrap<0);return _.overscaledZ-i.overscaledZ||p-h||i.canonical.y-_.canonical.y||i.canonical.x-_.canonical.x}function _r(_){return _==="raster"||_==="image"||_==="video"}Gt.maxOverzooming=10,Gt.maxUnderzooming=3;class sr{constructor(i,h){this.reset(i,h)}reset(i,h){this.points=i||[],this._distances=[0];for(let p=1;p<this.points.length;p++)this._distances[p]=this._distances[p-1]+this.points[p].dist(this.points[p-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(h||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(i){if(this.points.length===1)return this.points[0];i=l.ac(i,0,1);let h=1,p=this._distances[h];const v=i*this.paddedLength+this.padding;for(;p<v&&h<this._distances.length;)p=this._distances[++h];const x=h-1,L=this._distances[x],M=p-L,N=M>0?(v-L)/M:0;return this.points[x].mult(1-N).add(this.points[h].mult(N))}}function Lr(_,i){let h=!0;return _==="always"||_!=="never"&&i!=="never"||(h=!1),h}class zr{constructor(i,h,p){const v=this.boxCells=[],x=this.circleCells=[];this.xCellCount=Math.ceil(i/p),this.yCellCount=Math.ceil(h/p);for(let L=0;L<this.xCellCount*this.yCellCount;L++)v.push([]),x.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=i,this.height=h,this.xScale=this.xCellCount/i,this.yScale=this.yCellCount/h,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(i,h,p,v,x){this._forEachCell(h,p,v,x,this._insertBoxCell,this.boxUid++),this.boxKeys.push(i),this.bboxes.push(h),this.bboxes.push(p),this.bboxes.push(v),this.bboxes.push(x)}insertCircle(i,h,p,v){this._forEachCell(h-v,p-v,h+v,p+v,this._insertCircleCell,this.circleUid++),this.circleKeys.push(i),this.circles.push(h),this.circles.push(p),this.circles.push(v)}_insertBoxCell(i,h,p,v,x,L){this.boxCells[x].push(L)}_insertCircleCell(i,h,p,v,x,L){this.circleCells[x].push(L)}_query(i,h,p,v,x,L,M){if(p<0||i>this.width||v<0||h>this.height)return[];const N=[];if(i<=0&&h<=0&&this.width<=p&&this.height<=v){if(x)return[{key:null,x1:i,y1:h,x2:p,y2:v}];for(let Q=0;Q<this.boxKeys.length;Q++)N.push({key:this.boxKeys[Q],x1:this.bboxes[4*Q],y1:this.bboxes[4*Q+1],x2:this.bboxes[4*Q+2],y2:this.bboxes[4*Q+3]});for(let Q=0;Q<this.circleKeys.length;Q++){const G=this.circles[3*Q],$=this.circles[3*Q+1],ee=this.circles[3*Q+2];N.push({key:this.circleKeys[Q],x1:G-ee,y1:$-ee,x2:G+ee,y2:$+ee})}}else this._forEachCell(i,h,p,v,this._queryCell,N,{hitTest:x,overlapMode:L,seenUids:{box:{},circle:{}}},M);return N}query(i,h,p,v){return this._query(i,h,p,v,!1,null)}hitTest(i,h,p,v,x,L){return this._query(i,h,p,v,!0,x,L).length>0}hitTestCircle(i,h,p,v,x){const L=i-p,M=i+p,N=h-p,Q=h+p;if(M<0||L>this.width||Q<0||N>this.height)return!1;const G=[];return this._forEachCell(L,N,M,Q,this._queryCellCircle,G,{hitTest:!0,overlapMode:v,circle:{x:i,y:h,radius:p},seenUids:{box:{},circle:{}}},x),G.length>0}_queryCell(i,h,p,v,x,L,M,N){const{seenUids:Q,hitTest:G,overlapMode:$}=M,ee=this.boxCells[x];if(ee!==null){const ce=this.bboxes;for(const ge of ee)if(!Q.box[ge]){Q.box[ge]=!0;const Se=4*ge,xe=this.boxKeys[ge];if(i<=ce[Se+2]&&h<=ce[Se+3]&&p>=ce[Se+0]&&v>=ce[Se+1]&&(!N||N(xe))&&(!G||!Lr($,xe.overlapMode))&&(L.push({key:xe,x1:ce[Se],y1:ce[Se+1],x2:ce[Se+2],y2:ce[Se+3]}),G))return!0}}const ne=this.circleCells[x];if(ne!==null){const ce=this.circles;for(const ge of ne)if(!Q.circle[ge]){Q.circle[ge]=!0;const Se=3*ge,xe=this.circleKeys[ge];if(this._circleAndRectCollide(ce[Se],ce[Se+1],ce[Se+2],i,h,p,v)&&(!N||N(xe))&&(!G||!Lr($,xe.overlapMode))){const Qe=ce[Se],Te=ce[Se+1],Xe=ce[Se+2];if(L.push({key:xe,x1:Qe-Xe,y1:Te-Xe,x2:Qe+Xe,y2:Te+Xe}),G)return!0}}}return!1}_queryCellCircle(i,h,p,v,x,L,M,N){const{circle:Q,seenUids:G,overlapMode:$}=M,ee=this.boxCells[x];if(ee!==null){const ce=this.bboxes;for(const ge of ee)if(!G.box[ge]){G.box[ge]=!0;const Se=4*ge,xe=this.boxKeys[ge];if(this._circleAndRectCollide(Q.x,Q.y,Q.radius,ce[Se+0],ce[Se+1],ce[Se+2],ce[Se+3])&&(!N||N(xe))&&!Lr($,xe.overlapMode))return L.push(!0),!0}}const ne=this.circleCells[x];if(ne!==null){const ce=this.circles;for(const ge of ne)if(!G.circle[ge]){G.circle[ge]=!0;const Se=3*ge,xe=this.circleKeys[ge];if(this._circlesCollide(ce[Se],ce[Se+1],ce[Se+2],Q.x,Q.y,Q.radius)&&(!N||N(xe))&&!Lr($,xe.overlapMode))return L.push(!0),!0}}}_forEachCell(i,h,p,v,x,L,M,N){const Q=this._convertToXCellCoord(i),G=this._convertToYCellCoord(h),$=this._convertToXCellCoord(p),ee=this._convertToYCellCoord(v);for(let ne=Q;ne<=$;ne++)for(let ce=G;ce<=ee;ce++)if(x.call(this,i,h,p,v,this.xCellCount*ce+ne,L,M,N))return}_convertToXCellCoord(i){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(i*this.xScale)))}_convertToYCellCoord(i){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(i*this.yScale)))}_circlesCollide(i,h,p,v,x,L){const M=v-i,N=x-h,Q=p+L;return Q*Q>M*M+N*N}_circleAndRectCollide(i,h,p,v,x,L,M){const N=(L-v)/2,Q=Math.abs(i-(v+N));if(Q>N+p)return!1;const G=(M-x)/2,$=Math.abs(h-(x+G));if($>G+p)return!1;if(Q<=N||$<=G)return!0;const ee=Q-N,ne=$-G;return ee*ee+ne*ne<=p*p}}function kn(_,i,h,p,v){const x=l.H();return i?(l.K(x,x,[1/v,1/v,1]),h||l.ad(x,x,p.angle)):l.L(x,p.labelPlaneMatrix,_),x}function Xr(_,i,h,p,v){if(i){const x=l.ae(_);return l.K(x,x,[v,v,1]),h||l.ad(x,x,-p.angle),x}return p.glCoordMatrix}function Me(_,i,h,p){let v;p?(v=[_,i,p(_,i),1],l.af(v,v,h)):(v=[_,i,0,1],Wr(v,v,h));const x=v[3];return{point:new l.P(v[0]/x,v[1]/x),signedDistanceFromCamera:x,isOccluded:!1}}function le(_,i){return .5+_/i*.5}function ue(_,i){return _.x>=-i[0]&&_.x<=i[0]&&_.y>=-i[1]&&_.y<=i[1]}function we(_,i,h,p,v,x,L,M,N,Q,G,$,ee,ne,ce){const ge=p?_.textSizeData:_.iconSizeData,Se=l.ag(ge,h.transform.zoom),xe=[256/h.width*2+1,256/h.height*2+1],Qe=p?_.text.dynamicLayoutVertexArray:_.icon.dynamicLayoutVertexArray;Qe.clear();const Te=_.lineVertexArray,Xe=p?_.text.placedSymbolArray:_.icon.placedSymbolArray,Ge=h.transform.width/h.transform.height;let at=!1;for(let wt=0;wt<Xe.length;wt++){const St=Xe.get(wt);if(St.hidden||St.writingMode===l.ah.vertical&&!at){dr(St.numGlyphs,Qe);continue}at=!1;const _t=Me(St.anchorX,St.anchorY,i,ce);if(!ue(_t.point,xe)){dr(St.numGlyphs,Qe);continue}const gt=le(h.transform.cameraToCenterDistance,_t.signedDistanceFromCamera),Nt=l.ai(ge,Se,St),Et=L?Nt/gt:Nt*gt,zt={getElevation:ce,labelPlaneMatrix:v,lineVertexArray:Te,pitchWithMap:L,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},projection:Q,tileAnchorPoint:new l.P(St.anchorX,St.anchorY),unwrappedTileID:G,width:$,height:ee,translation:ne},tr=qe(zt,St,Et,!1,M,i,x,_.glyphOffsetArray,Qe,Ge,N);at=tr.useVertical,(tr.notEnoughRoom||at||tr.needsFlipping&&qe(zt,St,Et,!0,M,i,x,_.glyphOffsetArray,Qe,Ge,N).notEnoughRoom)&&dr(St.numGlyphs,Qe)}p?_.text.dynamicLayoutVertexBuffer.updateData(Qe):_.icon.dynamicLayoutVertexBuffer.updateData(Qe)}function Re(_,i,h,p,v,x,L,M){const N=x.glyphStartIndex+x.numGlyphs,Q=x.lineStartIndex,G=x.lineStartIndex+x.lineLength,$=i.getoffsetX(x.glyphStartIndex),ee=i.getoffsetX(N-1),ne=Qt(_*$,h,p,v,x.segment,Q,G,M,L);if(!ne)return null;const ce=Qt(_*ee,h,p,v,x.segment,Q,G,M,L);return ce?M.projectionCache.anyProjectionOccluded?null:{first:ne,last:ce}:null}function et(_,i,h,p){return _===l.ah.horizontal&&Math.abs(h.y-i.y)>Math.abs(h.x-i.x)*p?{useVertical:!0}:(_===l.ah.vertical?i.y<h.y:i.x>h.x)?{needsFlipping:!0}:null}function qe(_,i,h,p,v,x,L,M,N,Q,G){const $=h/24,ee=i.lineOffsetX*$,ne=i.lineOffsetY*$;let ce;if(i.numGlyphs>1){const ge=i.glyphStartIndex+i.numGlyphs,Se=i.lineStartIndex,xe=i.lineStartIndex+i.lineLength,Qe=Re($,M,ee,ne,p,i,G,_);if(!Qe)return{notEnoughRoom:!0};const Te=Me(Qe.first.point.x,Qe.first.point.y,L,_.getElevation).point,Xe=Me(Qe.last.point.x,Qe.last.point.y,L,_.getElevation).point;if(v&&!p){const Ge=et(i.writingMode,Te,Xe,Q);if(Ge)return Ge}ce=[Qe.first];for(let Ge=i.glyphStartIndex+1;Ge<ge-1;Ge++)ce.push(Qt($*M.getoffsetX(Ge),ee,ne,p,i.segment,Se,xe,_,G));ce.push(Qe.last)}else{if(v&&!p){const Se=Me(_.tileAnchorPoint.x,_.tileAnchorPoint.y,x,_.getElevation).point,xe=i.lineStartIndex+i.segment+1,Qe=new l.P(_.lineVertexArray.getx(xe),_.lineVertexArray.gety(xe)),Te=Me(Qe.x,Qe.y,x,_.getElevation),Xe=Te.signedDistanceFromCamera>0?Te.point:(function(at,wt,St,_t,gt,Nt){return lt(at,wt,St,1,gt,Nt)})(_.tileAnchorPoint,Qe,Se,0,x,_),Ge=et(i.writingMode,Se,Xe,Q);if(Ge)return Ge}const ge=Qt($*M.getoffsetX(i.glyphStartIndex),ee,ne,p,i.segment,i.lineStartIndex,i.lineStartIndex+i.lineLength,_,G);if(!ge||_.projectionCache.anyProjectionOccluded)return{notEnoughRoom:!0};ce=[ge]}for(const ge of ce)l.aj(N,ge.point,ge.angle);return{}}function lt(_,i,h,p,v,x){const L=_.add(_.sub(i)._unit()),M=v!==void 0?Me(L.x,L.y,v,x.getElevation).point:yt(L.x,L.y,x).point,N=h.sub(M);return h.add(N._mult(p/N.mag()))}function We(_,i,h){const p=i.projectionCache;if(p.projections[_])return p.projections[_];const v=new l.P(i.lineVertexArray.getx(_),i.lineVertexArray.gety(_)),x=yt(v.x,v.y,i);if(x.signedDistanceFromCamera>0)return p.projections[_]=x.point,p.anyProjectionOccluded=p.anyProjectionOccluded||x.isOccluded,x.point;const L=_-h.direction;return(function(M,N,Q,G,$){return lt(M,N,Q,G,void 0,$)})(h.distanceFromAnchor===0?i.tileAnchorPoint:new l.P(i.lineVertexArray.getx(L),i.lineVertexArray.gety(L)),v,h.previousVertex,h.absOffsetX-h.distanceFromAnchor+1,i)}function yt(_,i,h){const p=_+h.translation[0],v=i+h.translation[1];let x;return!h.pitchWithMap&&h.projection.useSpecialProjectionForSymbols?(x=h.projection.projectTileCoordinates(p,v,h.unwrappedTileID,h.getElevation),x.point.x=(.5*x.point.x+.5)*h.width,x.point.y=(.5*-x.point.y+.5)*h.height):(x=Me(p,v,h.labelPlaneMatrix,h.getElevation),x.isOccluded=!1),x}function Mt(_,i,h){return _._unit()._perp()._mult(i*h)}function ft(_,i,h,p,v,x,L,M,N){if(M.projectionCache.offsets[_])return M.projectionCache.offsets[_];const Q=h.add(i);if(_+N.direction<p||_+N.direction>=v)return M.projectionCache.offsets[_]=Q,Q;const G=We(_+N.direction,M,N),$=Mt(G.sub(h),L,N.direction),ee=h.add($),ne=G.add($);return M.projectionCache.offsets[_]=l.ak(x,Q,ee,ne)||Q,M.projectionCache.offsets[_]}function Qt(_,i,h,p,v,x,L,M,N){const Q=p?_-i:_+i;let G=Q>0?1:-1,$=0;p&&(G*=-1,$=Math.PI),G<0&&($+=Math.PI);let ee,ne=G>0?x+v:x+v+1;M.projectionCache.cachedAnchorPoint?ee=M.projectionCache.cachedAnchorPoint:(ee=yt(M.tileAnchorPoint.x,M.tileAnchorPoint.y,M).point,M.projectionCache.cachedAnchorPoint=ee);let ce,ge,Se=ee,xe=ee,Qe=0,Te=0;const Xe=Math.abs(Q),Ge=[];let at;for(;Qe+Te<=Xe;){if(ne+=G,ne<x||ne>=L)return null;Qe+=Te,xe=Se,ge=ce;const _t={absOffsetX:Xe,direction:G,distanceFromAnchor:Qe,previousVertex:xe};if(Se=We(ne,M,_t),h===0)Ge.push(xe),at=Se.sub(xe);else{let gt;const Nt=Se.sub(xe);gt=Nt.mag()===0?Mt(We(ne+G,M,_t).sub(Se),h,G):Mt(Nt,h,G),ge||(ge=xe.add(gt)),ce=ft(ne,gt,Se,x,L,ge,h,M,_t),Ge.push(ge),at=ce.sub(ge)}Te=at.mag()}const wt=at._mult((Xe-Qe)/Te)._add(ge||xe),St=$+Math.atan2(Se.y-xe.y,Se.x-xe.x);return Ge.push(wt),{point:wt,angle:N?St:0,path:Ge}}const Jt=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function dr(_,i){for(let h=0;h<_;h++){const p=i.length;i.resize(p+4),i.float32.set(Jt,3*p)}}function Wr(_,i,h){const p=i[0],v=i[1];return _[0]=h[0]*p+h[4]*v+h[12],_[1]=h[1]*p+h[5]*v+h[13],_[3]=h[3]*p+h[7]*v+h[15],_}const or=100;class Or{constructor(i,h,p=new zr(i.width+200,i.height+200,25),v=new zr(i.width+200,i.height+200,25)){this.transform=i,this.mapProjection=h,this.grid=p,this.ignoredGrid=v,this.pitchFactor=Math.cos(i._pitch)*i.cameraToCenterDistance,this.screenRightBoundary=i.width+or,this.screenBottomBoundary=i.height+or,this.gridRightBoundary=i.width+200,this.gridBottomBoundary=i.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(i,h,p,v,x,L,M,N,Q,G,$){const ee=i.anchorPointX+N[0],ne=i.anchorPointY+N[1],ce=this.projectAndGetPerspectiveRatio(v,ee,ne,x,G),ge=p*ce.perspectiveRatio;let Se;if(L||M)Se=this._projectCollisionBox(i,ge,v,x,L,M,N,ce,G,$);else{const Ge=ce.point.x+($?$.x*ge:0),at=ce.point.y+($?$.y*ge:0);Se={allPointsOccluded:!1,box:[Ge+i.x1*ge,at+i.y1*ge,Ge+i.x2*ge,at+i.y2*ge]}}const[xe,Qe,Te,Xe]=Se.box;return this.mapProjection.useSpecialProjectionForSymbols&&(L?Se.allPointsOccluded:this.mapProjection.isOccluded(ee,ne,x))||ce.perspectiveRatio<this.perspectiveRatioCutoff||!this.isInsideGrid(xe,Qe,Te,Xe)||h!=="always"&&this.grid.hitTest(xe,Qe,Te,Xe,h,Q)?{box:[xe,Qe,Te,Xe],placeable:!1,offscreen:!1}:{box:[xe,Qe,Te,Xe],placeable:!0,offscreen:this.isOffscreen(xe,Qe,Te,Xe)}}placeCollisionCircles(i,h,p,v,x,L,M,N,Q,G,$,ee,ne,ce,ge,Se){const xe=[],Qe=new l.P(h.anchorX,h.anchorY),Te=this.getPerspectiveRatio(L,Qe.x,Qe.y,M,Se),Xe=($?x/Te:x*Te)/l.ap,Ge={getElevation:Se,labelPlaneMatrix:N,lineVertexArray:p,pitchWithMap:$,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},projection:this.mapProjection,tileAnchorPoint:Qe,unwrappedTileID:M,width:this.transform.width,height:this.transform.height,translation:ge},at=Re(Xe,v,h.lineOffsetX*Xe,h.lineOffsetY*Xe,!1,h,!1,Ge);let wt=!1,St=!1,_t=!0;if(at){const gt=.5*ne*Te+ce,Nt=new l.P(-100,-100),Et=new l.P(this.screenRightBoundary,this.screenBottomBoundary),zt=new sr,tr=at.first,Vt=at.last;let $t=[];for(let Ir=tr.path.length-1;Ir>=1;Ir--)$t.push(tr.path[Ir]);for(let Ir=1;Ir<Vt.path.length;Ir++)$t.push(Vt.path[Ir]);const rr=2.5*gt;if(Q){const Ir=this.projectPathToScreenSpace($t,Ge,Q);$t=Ir.some((Ur=>Ur.signedDistanceFromCamera<=0))?[]:Ir.map((Ur=>Ur.point))}let un=[];if($t.length>0){const Ir=$t[0].clone(),Ur=$t[0].clone();for(let wr=1;wr<$t.length;wr++)Ir.x=Math.min(Ir.x,$t[wr].x),Ir.y=Math.min(Ir.y,$t[wr].y),Ur.x=Math.max(Ur.x,$t[wr].x),Ur.y=Math.max(Ur.y,$t[wr].y);un=Ir.x>=Nt.x&&Ur.x<=Et.x&&Ir.y>=Nt.y&&Ur.y<=Et.y?[$t]:Ur.x<Nt.x||Ir.x>Et.x||Ur.y<Nt.y||Ir.y>Et.y?[]:l.al([$t],Nt.x,Nt.y,Et.x,Et.y)}for(const Ir of un){zt.reset(Ir,.25*gt);let Ur=0;Ur=zt.length<=.5*gt?1:Math.ceil(zt.paddedLength/rr)+1;for(let wr=0;wr<Ur;wr++){const an=wr/Math.max(Ur-1,1),jn=zt.lerp(an),Dr=jn.x+or,qn=jn.y+or;xe.push(Dr,qn,gt,0);const In=Dr-gt,sn=qn-gt,On=Dr+gt,Cn=qn+gt;if(_t=_t&&this.isOffscreen(In,sn,On,Cn),St=St||this.isInsideGrid(In,sn,On,Cn),i!=="always"&&this.grid.hitTestCircle(Dr,qn,gt,i,ee)&&(wt=!0,!G))return{circles:[],offscreen:!1,collisionDetected:wt}}}}return{circles:!G&&wt||!St||Te<this.perspectiveRatioCutoff?[]:xe,offscreen:_t,collisionDetected:wt}}projectPathToScreenSpace(i,h,p){return i.map((v=>Me(v.x,v.y,p,h.getElevation)))}queryRenderedSymbols(i){if(i.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const h=[];let p=1/0,v=1/0,x=-1/0,L=-1/0;for(const G of i){const $=new l.P(G.x+or,G.y+or);p=Math.min(p,$.x),v=Math.min(v,$.y),x=Math.max(x,$.x),L=Math.max(L,$.y),h.push($)}const M=this.grid.query(p,v,x,L).concat(this.ignoredGrid.query(p,v,x,L)),N={},Q={};for(const G of M){const $=G.key;if(N[$.bucketInstanceId]===void 0&&(N[$.bucketInstanceId]={}),N[$.bucketInstanceId][$.featureIndex])continue;const ee=[new l.P(G.x1,G.y1),new l.P(G.x2,G.y1),new l.P(G.x2,G.y2),new l.P(G.x1,G.y2)];l.am(h,ee)&&(N[$.bucketInstanceId][$.featureIndex]=!0,Q[$.bucketInstanceId]===void 0&&(Q[$.bucketInstanceId]=[]),Q[$.bucketInstanceId].push($.featureIndex))}return Q}insertCollisionBox(i,h,p,v,x,L){(p?this.ignoredGrid:this.grid).insert({bucketInstanceId:v,featureIndex:x,collisionGroupID:L,overlapMode:h},i[0],i[1],i[2],i[3])}insertCollisionCircles(i,h,p,v,x,L){const M=p?this.ignoredGrid:this.grid,N={bucketInstanceId:v,featureIndex:x,collisionGroupID:L,overlapMode:h};for(let Q=0;Q<i.length;Q+=4)M.insertCircle(N,i[Q],i[Q+1],i[Q+2])}projectAndGetPerspectiveRatio(i,h,p,v,x){let L;x?(L=[h,p,x(h,p),1],l.af(L,L,i)):(L=[h,p,0,1],Wr(L,L,i));const M=L[3];return{point:new l.P((L[0]/M+1)/2*this.transform.width+or,(-L[1]/M+1)/2*this.transform.height+or),perspectiveRatio:.5+this.transform.cameraToCenterDistance/M*.5,isOccluded:!1,signedDistanceFromCamera:M}}getPerspectiveRatio(i,h,p,v,x){const L=this.mapProjection.useSpecialProjectionForSymbols?this.mapProjection.projectTileCoordinates(h,p,v,x):Me(h,p,i,x);return .5+this.transform.cameraToCenterDistance/L.signedDistanceFromCamera*.5}isOffscreen(i,h,p,v){return p<or||i>=this.screenRightBoundary||v<or||h>this.screenBottomBoundary}isInsideGrid(i,h,p,v){return p>=0&&i<this.gridRightBoundary&&v>=0&&h<this.gridBottomBoundary}getViewportMatrix(){const i=l.an([]);return l.J(i,i,[-100,-100,0]),i}_projectCollisionBox(i,h,p,v,x,L,M,N,Q,G){let $=new l.P(1,0),ee=new l.P(0,1);const ne=new l.P(i.anchorPointX+M[0],i.anchorPointY+M[1]);if(L&&!x){const _t=this.projectAndGetPerspectiveRatio(p,ne.x+1,ne.y,v,Q).point.sub(N.point).unit(),gt=Math.atan(_t.y/_t.x)+(_t.x<0?Math.PI:0),Nt=Math.sin(gt),Et=Math.cos(gt);$=new l.P(Et,Nt),ee=new l.P(-Nt,Et)}else if(!L&&x){const _t=-this.transform.angle,gt=Math.sin(_t),Nt=Math.cos(_t);$=new l.P(Nt,gt),ee=new l.P(-gt,Nt)}let ce=N.point,ge=h;if(x){ce=ne;const _t=this.transform.zoom-Math.floor(this.transform.zoom);ge=Math.pow(2,-_t),ge*=this.mapProjection.getPitchedTextCorrection(this.transform,ne,v),G||(ge*=l.ac(.5+N.signedDistanceFromCamera/this.transform.cameraToCenterDistance*.5,0,4))}G&&(ce=ce.add($.mult(G.x*ge)).add(ee.mult(G.y*ge)));const Se=i.x1*ge,xe=i.x2*ge,Qe=(Se+xe)/2,Te=i.y1*ge,Xe=i.y2*ge,Ge=(Te+Xe)/2,at=[{offsetX:Se,offsetY:Te},{offsetX:Qe,offsetY:Te},{offsetX:xe,offsetY:Te},{offsetX:xe,offsetY:Ge},{offsetX:xe,offsetY:Xe},{offsetX:Qe,offsetY:Xe},{offsetX:Se,offsetY:Xe},{offsetX:Se,offsetY:Ge}];let wt=[];for(const{offsetX:_t,offsetY:gt}of at)wt.push(new l.P(ce.x+$.x*_t+ee.x*gt,ce.y+$.y*_t+ee.y*gt));let St=!1;if(x){const _t=wt.map((gt=>this.projectAndGetPerspectiveRatio(p,gt.x,gt.y,v,Q)));St=_t.some((gt=>!gt.isOccluded)),wt=_t.map((gt=>gt.point))}else St=!0;return{box:l.ao(wt),allPointsOccluded:!St}}}function jr(_,i,h){return i*(l.X/(_.tileSize*Math.pow(2,h-_.tileID.overscaledZ)))}class Kn{constructor(i,h,p,v){this.opacity=i?Math.max(0,Math.min(1,i.opacity+(i.placed?h:-h))):v&&p?1:0,this.placed=p}isHidden(){return this.opacity===0&&!this.placed}}class Nn{constructor(i,h,p,v,x){this.text=new Kn(i?i.text:null,h,p,x),this.icon=new Kn(i?i.icon:null,h,v,x)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class en{constructor(i,h,p){this.text=i,this.icon=h,this.skipFade=p}}class vn{constructor(){this.invProjMatrix=l.H(),this.viewportMatrix=l.H(),this.circles=[]}}class Pn{constructor(i,h,p,v,x){this.bucketInstanceId=i,this.featureIndex=h,this.sourceLayerIndex=p,this.bucketIndex=v,this.tileID=x}}class gi{constructor(i){this.crossSourceCollisions=i,this.maxGroupID=0,this.collisionGroups={}}get(i){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[i]){const h=++this.maxGroupID;this.collisionGroups[i]={ID:h,predicate:p=>p.collisionGroupID===h}}return this.collisionGroups[i]}}function ai(_,i,h,p,v){const{horizontalAlign:x,verticalAlign:L}=l.au(_);return new l.P(-(x-.5)*i+p[0]*v,-(L-.5)*h+p[1]*v)}class yi{constructor(i,h,p,v,x,L){this.transform=i.clone(),this.terrain=p,this.collisionIndex=new Or(this.transform,h),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=v,this.retainedQueryData={},this.collisionGroups=new gi(x),this.collisionCircleArrays={},this.collisionBoxArrays=new Map,this.prevPlacement=L,L&&(L.prevPlacement=void 0),this.placedOrientations={}}_getTerrainElevationFunc(i){const h=this.terrain;return h?(p,v)=>h.getElevation(i,p,v):null}getBucketParts(i,h,p,v){const x=p.getBucket(h),L=p.latestFeatureIndex;if(!x||!L||h.id!==x.layerIds[0])return;const M=p.collisionBoxArray,N=x.layers[0].layout,Q=x.layers[0].paint,G=Math.pow(2,this.transform.zoom-p.tileID.overscaledZ),$=p.tileSize/l.X,ee=p.tileID.toUnwrapped(),ne=this.transform.calculatePosMatrix(ee),ce=N.get("text-pitch-alignment")==="map",ge=N.get("text-rotation-alignment")==="map",Se=jr(p,1,this.transform.zoom),xe=this.collisionIndex.mapProjection.translatePosition(this.transform,p,Q.get("text-translate"),Q.get("text-translate-anchor")),Qe=this.collisionIndex.mapProjection.translatePosition(this.transform,p,Q.get("icon-translate"),Q.get("icon-translate-anchor")),Te=kn(ne,ce,ge,this.transform,Se);let Xe=null;if(ce){const at=Xr(ne,ce,ge,this.transform,Se);Xe=l.L([],this.transform.labelPlaneMatrix,at)}this.retainedQueryData[x.bucketInstanceId]=new Pn(x.bucketInstanceId,L,x.sourceLayerIndex,x.index,p.tileID);const Ge={bucket:x,layout:N,translationText:xe,translationIcon:Qe,posMatrix:ne,unwrappedTileID:ee,textLabelPlaneMatrix:Te,labelToScreenMatrix:Xe,scale:G,textPixelRatio:$,holdingForFade:p.holdingForFade(),collisionBoxArray:M,partiallyEvaluatedTextSize:l.ag(x.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(x.sourceID)};if(v)for(const at of x.sortKeyRanges){const{sortKey:wt,symbolInstanceStart:St,symbolInstanceEnd:_t}=at;i.push({sortKey:wt,symbolInstanceStart:St,symbolInstanceEnd:_t,parameters:Ge})}else i.push({symbolInstanceStart:0,symbolInstanceEnd:x.symbolInstances.length,parameters:Ge})}attemptAnchorPlacement(i,h,p,v,x,L,M,N,Q,G,$,ee,ne,ce,ge,Se,xe,Qe,Te){const Xe=l.aq[i.textAnchor],Ge=[i.textOffset0,i.textOffset1],at=ai(Xe,p,v,Ge,x),wt=this.collisionIndex.placeCollisionBox(h,ee,N,Q,G,M,L,Se,$.predicate,Te,at);if((!Qe||this.collisionIndex.placeCollisionBox(Qe,ee,N,Q,G,M,L,xe,$.predicate,Te,at).placeable)&&wt.placeable){let St;if(this.prevPlacement&&this.prevPlacement.variableOffsets[ne.crossTileID]&&this.prevPlacement.placements[ne.crossTileID]&&this.prevPlacement.placements[ne.crossTileID].text&&(St=this.prevPlacement.variableOffsets[ne.crossTileID].anchor),ne.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[ne.crossTileID]={textOffset:Ge,width:p,height:v,anchor:Xe,textBoxScale:x,prevAnchor:St},this.markUsedJustification(ce,Xe,ne,ge),ce.allowVerticalPlacement&&(this.markUsedOrientation(ce,ge,ne),this.placedOrientations[ne.crossTileID]=ge),{shift:at,placedGlyphBoxes:wt}}}placeLayerBucketPart(i,h,p){const{bucket:v,layout:x,translationText:L,translationIcon:M,posMatrix:N,unwrappedTileID:Q,textLabelPlaneMatrix:G,labelToScreenMatrix:$,textPixelRatio:ee,holdingForFade:ne,collisionBoxArray:ce,partiallyEvaluatedTextSize:ge,collisionGroup:Se}=i.parameters,xe=x.get("text-optional"),Qe=x.get("icon-optional"),Te=l.ar(x,"text-overlap","text-allow-overlap"),Xe=Te==="always",Ge=l.ar(x,"icon-overlap","icon-allow-overlap"),at=Ge==="always",wt=x.get("text-rotation-alignment")==="map",St=x.get("text-pitch-alignment")==="map",_t=x.get("icon-text-fit")!=="none",gt=x.get("symbol-z-order")==="viewport-y",Nt=Xe&&(at||!v.hasIconData()||Qe),Et=at&&(Xe||!v.hasTextData()||xe);!v.collisionArrays&&ce&&v.deserializeCollisionBoxes(ce);const zt=this._getTerrainElevationFunc(this.retainedQueryData[v.bucketInstanceId].tileID),tr=(Vt,$t,rr)=>{var un,Ir;if(h[Vt.crossTileID])return;if(ne)return void(this.placements[Vt.crossTileID]=new en(!1,!1,!1));let Ur=!1,wr=!1,an=!0,jn=null,Dr={box:null,placeable:!1,offscreen:null},qn={placeable:!1},In=null,sn=null,On=null,Cn=0,xi=0,ki=0;$t.textFeatureIndex?Cn=$t.textFeatureIndex:Vt.useRuntimeCollisionCircles&&(Cn=Vt.featureIndex),$t.verticalTextFeatureIndex&&(xi=$t.verticalTextFeatureIndex);const Gn=$t.textBox;if(Gn){const gr=ni=>{let Wn=l.ah.horizontal;if(v.allowVerticalPlacement&&!ni&&this.prevPlacement){const $n=this.prevPlacement.placedOrientations[Vt.crossTileID];$n&&(this.placedOrientations[Vt.crossTileID]=$n,Wn=$n,this.markUsedOrientation(v,Wn,Vt))}return Wn},vr=(ni,Wn)=>{if(v.allowVerticalPlacement&&Vt.numVerticalGlyphVertices>0&&$t.verticalTextBox){for(const $n of v.writingModes)if($n===l.ah.vertical?(Dr=Wn(),qn=Dr):Dr=ni(),Dr&&Dr.placeable)break}else Dr=ni()},xn=Vt.textAnchorOffsetStartIndex,Ii=Vt.textAnchorOffsetEndIndex;if(Ii===xn){const ni=(Wn,$n)=>{const cn=this.collisionIndex.placeCollisionBox(Wn,Te,ee,N,Q,St,wt,L,Se.predicate,zt);return cn&&cn.placeable&&(this.markUsedOrientation(v,$n,Vt),this.placedOrientations[Vt.crossTileID]=$n),cn};vr((()=>ni(Gn,l.ah.horizontal)),(()=>{const Wn=$t.verticalTextBox;return v.allowVerticalPlacement&&Vt.numVerticalGlyphVertices>0&&Wn?ni(Wn,l.ah.vertical):{box:null,offscreen:null}})),gr(Dr&&Dr.placeable)}else{let ni=l.aq[(Ir=(un=this.prevPlacement)===null||un===void 0?void 0:un.variableOffsets[Vt.crossTileID])===null||Ir===void 0?void 0:Ir.anchor];const Wn=(cn,Rs,rA)=>{const Zn=cn.x2-cn.x1,Yc=cn.y2-cn.y1,Uh=Vt.textBoxScale,bc=_t&&Ge==="never"?Rs:null;let Ja=null,Bf=Te==="never"?1:2,Qu="never";ni&&Bf++;for(let uu=0;uu<Bf;uu++){for(let cu=xn;cu<Ii;cu++){const ta=v.textAnchorOffsets.get(cu);if(ni&&ta.textAnchor!==ni)continue;const li=this.attemptAnchorPlacement(ta,cn,Zn,Yc,Uh,wt,St,ee,N,Q,Se,Qu,Vt,v,rA,L,M,bc,zt);if(li&&(Ja=li.placedGlyphBoxes,Ja&&Ja.placeable))return Ur=!0,jn=li.shift,Ja}ni?ni=null:Qu=Te}return p&&!Ja&&(Ja={box:this.collisionIndex.placeCollisionBox(Gn,"always",ee,N,Q,St,wt,L,Se.predicate,zt,new l.P(0,0)).box,offscreen:!1,placeable:!1}),Ja};vr((()=>Wn(Gn,$t.iconBox,l.ah.horizontal)),(()=>{const cn=$t.verticalTextBox;return v.allowVerticalPlacement&&(!Dr||!Dr.placeable)&&Vt.numVerticalGlyphVertices>0&&cn?Wn(cn,$t.verticalIconBox,l.ah.vertical):{box:null,occluded:!0,offscreen:null}})),Dr&&(Ur=Dr.placeable,an=Dr.offscreen);const $n=gr(Dr&&Dr.placeable);if(!Ur&&this.prevPlacement){const cn=this.prevPlacement.variableOffsets[Vt.crossTileID];cn&&(this.variableOffsets[Vt.crossTileID]=cn,this.markUsedJustification(v,cn.anchor,Vt,$n))}}}if(In=Dr,Ur=In&&In.placeable,an=In&&In.offscreen,Vt.useRuntimeCollisionCircles){const gr=v.text.placedSymbolArray.get(Vt.centerJustifiedTextSymbolIndex),vr=l.ai(v.textSizeData,ge,gr),xn=x.get("text-padding");sn=this.collisionIndex.placeCollisionCircles(Te,gr,v.lineVertexArray,v.glyphOffsetArray,vr,N,Q,G,$,p,St,Se.predicate,Vt.collisionCircleDiameter,xn,L,zt),sn.circles.length&&sn.collisionDetected&&!p&&l.w("Collisions detected, but collision boxes are not shown"),Ur=Xe||sn.circles.length>0&&!sn.collisionDetected,an=an&&sn.offscreen}if($t.iconFeatureIndex&&(ki=$t.iconFeatureIndex),$t.iconBox){const gr=vr=>this.collisionIndex.placeCollisionBox(vr,Ge,ee,N,Q,St,wt,M,Se.predicate,zt,_t&&jn?jn:void 0);qn&&qn.placeable&&$t.verticalIconBox?(On=gr($t.verticalIconBox),wr=On.placeable):(On=gr($t.iconBox),wr=On.placeable),an=an&&On.offscreen}const fn=xe||Vt.numHorizontalGlyphVertices===0&&Vt.numVerticalGlyphVertices===0,wa=Qe||Vt.numIconVertices===0;fn||wa?wa?fn||(wr=wr&&Ur):Ur=wr&&Ur:wr=Ur=wr&&Ur;const Ti=wr&&On.placeable;if(Ur&&In.placeable&&this.collisionIndex.insertCollisionBox(In.box,Te,x.get("text-ignore-placement"),v.bucketInstanceId,qn&&qn.placeable&&xi?xi:Cn,Se.ID),Ti&&this.collisionIndex.insertCollisionBox(On.box,Ge,x.get("icon-ignore-placement"),v.bucketInstanceId,ki,Se.ID),sn&&Ur&&this.collisionIndex.insertCollisionCircles(sn.circles,Te,x.get("text-ignore-placement"),v.bucketInstanceId,Cn,Se.ID),p&&this.storeCollisionData(v.bucketInstanceId,rr,$t,In,On,sn),Vt.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(v.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[Vt.crossTileID]=new en(Ur||Nt,wr||Et,an||v.justReloaded),h[Vt.crossTileID]=!0};if(gt){if(i.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const Vt=v.getSortedSymbolIndexes(this.transform.angle);for(let $t=Vt.length-1;$t>=0;--$t){const rr=Vt[$t];tr(v.symbolInstances.get(rr),v.collisionArrays[rr],rr)}}else for(let Vt=i.symbolInstanceStart;Vt<i.symbolInstanceEnd;Vt++)tr(v.symbolInstances.get(Vt),v.collisionArrays[Vt],Vt);if(p&&v.bucketInstanceId in this.collisionCircleArrays){const Vt=this.collisionCircleArrays[v.bucketInstanceId];l.as(Vt.invProjMatrix,N),Vt.viewportMatrix=this.collisionIndex.getViewportMatrix()}v.justReloaded=!1}storeCollisionData(i,h,p,v,x,L){if(p.textBox||p.iconBox){let M,N;this.collisionBoxArrays.has(i)?M=this.collisionBoxArrays.get(i):(M=new Map,this.collisionBoxArrays.set(i,M)),M.has(h)?N=M.get(h):(N={text:null,icon:null},M.set(h,N)),p.textBox&&(N.text=v.box),p.iconBox&&(N.icon=x.box)}if(L){let M=this.collisionCircleArrays[i];M===void 0&&(M=this.collisionCircleArrays[i]=new vn);for(let N=0;N<L.circles.length;N+=4)M.circles.push(L.circles[N+0]),M.circles.push(L.circles[N+1]),M.circles.push(L.circles[N+2]),M.circles.push(L.collisionDetected?1:0)}}markUsedJustification(i,h,p,v){let x;x=v===l.ah.vertical?p.verticalPlacedTextSymbolIndex:{left:p.leftJustifiedTextSymbolIndex,center:p.centerJustifiedTextSymbolIndex,right:p.rightJustifiedTextSymbolIndex}[l.at(h)];const L=[p.leftJustifiedTextSymbolIndex,p.centerJustifiedTextSymbolIndex,p.rightJustifiedTextSymbolIndex,p.verticalPlacedTextSymbolIndex];for(const M of L)M>=0&&(i.text.placedSymbolArray.get(M).crossTileID=x>=0&&M!==x?0:p.crossTileID)}markUsedOrientation(i,h,p){const v=h===l.ah.horizontal||h===l.ah.horizontalOnly?h:0,x=h===l.ah.vertical?h:0,L=[p.leftJustifiedTextSymbolIndex,p.centerJustifiedTextSymbolIndex,p.rightJustifiedTextSymbolIndex];for(const M of L)i.text.placedSymbolArray.get(M).placedOrientation=v;p.verticalPlacedTextSymbolIndex&&(i.text.placedSymbolArray.get(p.verticalPlacedTextSymbolIndex).placedOrientation=x)}commit(i){this.commitTime=i,this.zoomAtLastRecencyCheck=this.transform.zoom;const h=this.prevPlacement;let p=!1;this.prevZoomAdjustment=h?h.zoomAdjustment(this.transform.zoom):0;const v=h?h.symbolFadeChange(i):1,x=h?h.opacities:{},L=h?h.variableOffsets:{},M=h?h.placedOrientations:{};for(const N in this.placements){const Q=this.placements[N],G=x[N];G?(this.opacities[N]=new Nn(G,v,Q.text,Q.icon),p=p||Q.text!==G.text.placed||Q.icon!==G.icon.placed):(this.opacities[N]=new Nn(null,v,Q.text,Q.icon,Q.skipFade),p=p||Q.text||Q.icon)}for(const N in x){const Q=x[N];if(!this.opacities[N]){const G=new Nn(Q,v,!1,!1);G.isHidden()||(this.opacities[N]=G,p=p||Q.text.placed||Q.icon.placed)}}for(const N in L)this.variableOffsets[N]||!this.opacities[N]||this.opacities[N].isHidden()||(this.variableOffsets[N]=L[N]);for(const N in M)this.placedOrientations[N]||!this.opacities[N]||this.opacities[N].isHidden()||(this.placedOrientations[N]=M[N]);if(h&&h.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");p?this.lastPlacementChangeTime=i:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=h?h.lastPlacementChangeTime:i)}updateLayerOpacities(i,h){const p={};for(const v of h){const x=v.getBucket(i);x&&v.latestFeatureIndex&&i.id===x.layerIds[0]&&this.updateBucketOpacities(x,v.tileID,p,v.collisionBoxArray)}}updateBucketOpacities(i,h,p,v){i.hasTextData()&&(i.text.opacityVertexArray.clear(),i.text.hasVisibleVertices=!1),i.hasIconData()&&(i.icon.opacityVertexArray.clear(),i.icon.hasVisibleVertices=!1),i.hasIconCollisionBoxData()&&i.iconCollisionBox.collisionVertexArray.clear(),i.hasTextCollisionBoxData()&&i.textCollisionBox.collisionVertexArray.clear();const x=i.layers[0],L=x.layout,M=new Nn(null,0,!1,!1,!0),N=L.get("text-allow-overlap"),Q=L.get("icon-allow-overlap"),G=x._unevaluatedLayout.hasValue("text-variable-anchor")||x._unevaluatedLayout.hasValue("text-variable-anchor-offset"),$=L.get("text-rotation-alignment")==="map",ee=L.get("text-pitch-alignment")==="map",ne=L.get("icon-text-fit")!=="none",ce=new Nn(null,0,N&&(Q||!i.hasIconData()||L.get("icon-optional")),Q&&(N||!i.hasTextData()||L.get("text-optional")),!0);!i.collisionArrays&&v&&(i.hasIconCollisionBoxData()||i.hasTextCollisionBoxData())&&i.deserializeCollisionBoxes(v);const ge=(xe,Qe,Te)=>{for(let Xe=0;Xe<Qe/4;Xe++)xe.opacityVertexArray.emplaceBack(Te);xe.hasVisibleVertices=xe.hasVisibleVertices||Te!==ll},Se=this.collisionBoxArrays.get(i.bucketInstanceId);for(let xe=0;xe<i.symbolInstances.length;xe++){const Qe=i.symbolInstances.get(xe),{numHorizontalGlyphVertices:Te,numVerticalGlyphVertices:Xe,crossTileID:Ge}=Qe;let at=this.opacities[Ge];p[Ge]?at=M:at||(at=ce,this.opacities[Ge]=at),p[Ge]=!0;const wt=Qe.numIconVertices>0,St=this.placedOrientations[Qe.crossTileID],_t=St===l.ah.vertical,gt=St===l.ah.horizontal||St===l.ah.horizontalOnly;if(Te>0||Xe>0){const Et=Qa(at.text);ge(i.text,Te,_t?ll:Et),ge(i.text,Xe,gt?ll:Et);const zt=at.text.isHidden();[Qe.rightJustifiedTextSymbolIndex,Qe.centerJustifiedTextSymbolIndex,Qe.leftJustifiedTextSymbolIndex].forEach(($t=>{$t>=0&&(i.text.placedSymbolArray.get($t).hidden=zt||_t?1:0)})),Qe.verticalPlacedTextSymbolIndex>=0&&(i.text.placedSymbolArray.get(Qe.verticalPlacedTextSymbolIndex).hidden=zt||gt?1:0);const tr=this.variableOffsets[Qe.crossTileID];tr&&this.markUsedJustification(i,tr.anchor,Qe,St);const Vt=this.placedOrientations[Qe.crossTileID];Vt&&(this.markUsedJustification(i,"left",Qe,Vt),this.markUsedOrientation(i,Vt,Qe))}if(wt){const Et=Qa(at.icon),zt=!(ne&&Qe.verticalPlacedIconSymbolIndex&&_t);Qe.placedIconSymbolIndex>=0&&(ge(i.icon,Qe.numIconVertices,zt?Et:ll),i.icon.placedSymbolArray.get(Qe.placedIconSymbolIndex).hidden=at.icon.isHidden()),Qe.verticalPlacedIconSymbolIndex>=0&&(ge(i.icon,Qe.numVerticalIconVertices,zt?ll:Et),i.icon.placedSymbolArray.get(Qe.verticalPlacedIconSymbolIndex).hidden=at.icon.isHidden())}const Nt=Se&&Se.has(xe)?Se.get(xe):{text:null,icon:null};if(i.hasIconCollisionBoxData()||i.hasTextCollisionBoxData()){const Et=i.collisionArrays[xe];if(Et){let zt=new l.P(0,0);if(Et.textBox||Et.verticalTextBox){let tr=!0;if(G){const Vt=this.variableOffsets[Ge];Vt?(zt=ai(Vt.anchor,Vt.width,Vt.height,Vt.textOffset,Vt.textBoxScale),$&&zt._rotate(ee?this.transform.angle:-this.transform.angle)):tr=!1}if(Et.textBox||Et.verticalTextBox){let Vt;Et.textBox&&(Vt=_t),Et.verticalTextBox&&(Vt=gt),_o(i.textCollisionBox.collisionVertexArray,at.text.placed,!tr||Vt,Nt.text,zt.x,zt.y)}}if(Et.iconBox||Et.verticalIconBox){const tr=!!(!gt&&Et.verticalIconBox);let Vt;Et.iconBox&&(Vt=tr),Et.verticalIconBox&&(Vt=!tr),_o(i.iconCollisionBox.collisionVertexArray,at.icon.placed,Vt,Nt.icon,ne?zt.x:0,ne?zt.y:0)}}}}if(i.sortFeatures(this.transform.angle),this.retainedQueryData[i.bucketInstanceId]&&(this.retainedQueryData[i.bucketInstanceId].featureSortOrder=i.featureSortOrder),i.hasTextData()&&i.text.opacityVertexBuffer&&i.text.opacityVertexBuffer.updateData(i.text.opacityVertexArray),i.hasIconData()&&i.icon.opacityVertexBuffer&&i.icon.opacityVertexBuffer.updateData(i.icon.opacityVertexArray),i.hasIconCollisionBoxData()&&i.iconCollisionBox.collisionVertexBuffer&&i.iconCollisionBox.collisionVertexBuffer.updateData(i.iconCollisionBox.collisionVertexArray),i.hasTextCollisionBoxData()&&i.textCollisionBox.collisionVertexBuffer&&i.textCollisionBox.collisionVertexBuffer.updateData(i.textCollisionBox.collisionVertexArray),i.text.opacityVertexArray.length!==i.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${i.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${i.text.layoutVertexArray.length}) / 4`);if(i.icon.opacityVertexArray.length!==i.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${i.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${i.icon.layoutVertexArray.length}) / 4`);if(i.bucketInstanceId in this.collisionCircleArrays){const xe=this.collisionCircleArrays[i.bucketInstanceId];i.placementInvProjMatrix=xe.invProjMatrix,i.placementViewportMatrix=xe.viewportMatrix,i.collisionCircleArray=xe.circles,delete this.collisionCircleArrays[i.bucketInstanceId]}}symbolFadeChange(i){return this.fadeDuration===0?1:(i-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(i){return Math.max(0,(this.transform.zoom-i)/1.5)}hasTransitions(i){return this.stale||i-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(i,h){const p=this.zoomAtLastRecencyCheck===h?1-this.zoomAdjustment(h):1;return this.zoomAtLastRecencyCheck=h,this.commitTime+this.fadeDuration*p>i}setStale(){this.stale=!0}}function _o(_,i,h,p,v,x){p&&p.length!==0||(p=[0,0,0,0]);const L=p[0]-or,M=p[1]-or,N=p[2]-or,Q=p[3]-or;_.emplaceBack(i?1:0,h?1:0,v||0,x||0,L,M),_.emplaceBack(i?1:0,h?1:0,v||0,x||0,N,M),_.emplaceBack(i?1:0,h?1:0,v||0,x||0,N,Q),_.emplaceBack(i?1:0,h?1:0,v||0,x||0,L,Q)}const wn=Math.pow(2,25),Ui=Math.pow(2,24),eu=Math.pow(2,17),vi=Math.pow(2,16),Mi=Math.pow(2,9),Vl=Math.pow(2,8),Za=Math.pow(2,1);function Qa(_){if(_.opacity===0&&!_.placed)return 0;if(_.opacity===1&&_.placed)return 4294967295;const i=_.placed?1:0,h=Math.floor(127*_.opacity);return h*wn+i*Ui+h*eu+i*vi+h*Mi+i*Vl+h*Za+i}const ll=0;function Al(){return{isOccluded:(_,i,h)=>!1,getPitchedTextCorrection:(_,i,h)=>1,get useSpecialProjectionForSymbols(){return!1},projectTileCoordinates(_,i,h,p){throw new Error("Not implemented.")},translatePosition:(_,i,h,p)=>(function(v,x,L,M,N=!1){if(!L[0]&&!L[1])return[0,0];const Q=N?M==="map"?v.angle:0:M==="viewport"?-v.angle:0;if(Q){const G=Math.sin(Q),$=Math.cos(Q);L=[L[0]*$-L[1]*G,L[0]*G+L[1]*$]}return[N?L[0]:jr(x,L[0],v.zoom),N?L[1]:jr(x,L[1],v.zoom)]})(_,i,h,p),getCircleRadiusCorrection:_=>1}}class Vn{constructor(i){this._sortAcrossTiles=i.layout.get("symbol-z-order")!=="viewport-y"&&!i.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(i,h,p,v,x){const L=this._bucketParts;for(;this._currentTileIndex<i.length;)if(h.getBucketParts(L,v,i[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,x())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,L.sort(((M,N)=>M.sortKey-N.sortKey)));this._currentPartIndex<L.length;)if(h.placeLayerBucketPart(L[this._currentPartIndex],this._seenCrossTileIDs,p),this._currentPartIndex++,x())return!0;return!1}}class Gs{constructor(i,h,p,v,x,L,M,N){this.placement=new yi(i,Al(),h,L,M,N),this._currentPlacementIndex=p.length-1,this._forceFullPlacement=v,this._showCollisionBoxes=x,this._done=!1}isDone(){return this._done}continuePlacement(i,h,p){const v=C.now(),x=()=>!this._forceFullPlacement&&C.now()-v>2;for(;this._currentPlacementIndex>=0;){const L=h[i[this._currentPlacementIndex]],M=this.placement.collisionIndex.transform.zoom;if(L.type==="symbol"&&(!L.minzoom||L.minzoom<=M)&&(!L.maxzoom||L.maxzoom>M)){if(this._inProgressLayer||(this._inProgressLayer=new Vn(L)),this._inProgressLayer.continuePlacement(p[L.source],this.placement,this._showCollisionBoxes,L,x))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(i){return this.placement.commit(i),this.placement}}const Wi=512/l.X/2;class $r{constructor(i,h,p){this.tileID=i,this.bucketInstanceId=p,this._symbolsByKey={};const v=new Map;for(let x=0;x<h.length;x++){const L=h.get(x),M=L.key,N=v.get(M);N?N.push(L):v.set(M,[L])}for(const[x,L]of v){const M={positions:L.map((N=>({x:Math.floor(N.anchorX*Wi),y:Math.floor(N.anchorY*Wi)}))),crossTileIDs:L.map((N=>N.crossTileID))};if(M.positions.length>128){const N=new l.av(M.positions.length,16,Uint16Array);for(const{x:Q,y:G}of M.positions)N.add(Q,G);N.finish(),delete M.positions,M.index=N}this._symbolsByKey[x]=M}}getScaledCoordinates(i,h){const{x:p,y:v,z:x}=this.tileID.canonical,{x:L,y:M,z:N}=h.canonical,Q=Wi/Math.pow(2,N-x),G=(M*l.X+i.anchorY)*Q,$=v*l.X*Wi;return{x:Math.floor((L*l.X+i.anchorX)*Q-p*l.X*Wi),y:Math.floor(G-$)}}findMatches(i,h,p){const v=this.tileID.canonical.z<h.canonical.z?1:Math.pow(2,this.tileID.canonical.z-h.canonical.z);for(let x=0;x<i.length;x++){const L=i.get(x);if(L.crossTileID)continue;const M=this._symbolsByKey[L.key];if(!M)continue;const N=this.getScaledCoordinates(L,h);if(M.index){const Q=M.index.range(N.x-v,N.y-v,N.x+v,N.y+v).sort();for(const G of Q){const $=M.crossTileIDs[G];if(!p[$]){p[$]=!0,L.crossTileID=$;break}}}else if(M.positions)for(let Q=0;Q<M.positions.length;Q++){const G=M.positions[Q],$=M.crossTileIDs[Q];if(Math.abs(G.x-N.x)<=v&&Math.abs(G.y-N.y)<=v&&!p[$]){p[$]=!0,L.crossTileID=$;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map((({crossTileIDs:i})=>i))}}class vA{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Aa{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(i){const h=Math.round((i-this.lng)/360);if(h!==0)for(const p in this.indexes){const v=this.indexes[p],x={};for(const L in v){const M=v[L];M.tileID=M.tileID.unwrapTo(M.tileID.wrap+h),x[M.tileID.key]=M}this.indexes[p]=x}this.lng=i}addBucket(i,h,p){if(this.indexes[i.overscaledZ]&&this.indexes[i.overscaledZ][i.key]){if(this.indexes[i.overscaledZ][i.key].bucketInstanceId===h.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(i.overscaledZ,this.indexes[i.overscaledZ][i.key])}for(let x=0;x<h.symbolInstances.length;x++)h.symbolInstances.get(x).crossTileID=0;this.usedCrossTileIDs[i.overscaledZ]||(this.usedCrossTileIDs[i.overscaledZ]={});const v=this.usedCrossTileIDs[i.overscaledZ];for(const x in this.indexes){const L=this.indexes[x];if(Number(x)>i.overscaledZ)for(const M in L){const N=L[M];N.tileID.isChildOf(i)&&N.findMatches(h.symbolInstances,i,v)}else{const M=L[i.scaledTo(Number(x)).key];M&&M.findMatches(h.symbolInstances,i,v)}}for(let x=0;x<h.symbolInstances.length;x++){const L=h.symbolInstances.get(x);L.crossTileID||(L.crossTileID=p.generate(),v[L.crossTileID]=!0)}return this.indexes[i.overscaledZ]===void 0&&(this.indexes[i.overscaledZ]={}),this.indexes[i.overscaledZ][i.key]=new $r(i,h.symbolInstances,h.bucketInstanceId),!0}removeBucketCrossTileIDs(i,h){for(const p of h.getCrossTileIDsLists())for(const v of p)delete this.usedCrossTileIDs[i][v]}removeStaleBuckets(i){let h=!1;for(const p in this.indexes){const v=this.indexes[p];for(const x in v)i[v[x].bucketInstanceId]||(this.removeBucketCrossTileIDs(p,v[x]),delete v[x],h=!0)}return h}}class ul{constructor(){this.layerIndexes={},this.crossTileIDs=new vA,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(i,h,p){let v=this.layerIndexes[i.id];v===void 0&&(v=this.layerIndexes[i.id]=new Aa);let x=!1;const L={};v.handleWrapJump(p);for(const M of h){const N=M.getBucket(i);N&&i.id===N.layerIds[0]&&(N.bucketInstanceId||(N.bucketInstanceId=++this.maxBucketInstanceId),v.addBucket(M.tileID,N,this.crossTileIDs)&&(x=!0),L[N.bucketInstanceId]=!0)}return v.removeStaleBuckets(L)&&(x=!0),x}pruneUnusedLayers(i){const h={};i.forEach((p=>{h[p]=!0}));for(const p in this.layerIndexes)h[p]||delete this.layerIndexes[p]}}const As=(_,i)=>l.t(_,i&&i.filter((h=>h.identifier!=="source.canvas"))),us=l.aw();class ji extends l.E{constructor(i,h={}){super(),this._rtlPluginLoaded=()=>{for(const p in this.sourceCaches){const v=this.sourceCaches[p].getSource().type;v!=="vector"&&v!=="geojson"||this.sourceCaches[p].reload()}},this.map=i,this.dispatcher=new pt(Ke(),i._getMapId()),this.dispatcher.registerMessageHandler("GG",((p,v)=>this.getGlyphs(p,v))),this.dispatcher.registerMessageHandler("GI",((p,v)=>this.getImages(p,v))),this.imageManager=new Le,this.imageManager.setEventedParent(this),this.glyphManager=new Ne(i._requestManager,h.localIdeographFontFamily),this.lineAtlas=new ye(256,512),this.crossTileSymbolIndex=new ul,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new l.ax,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("SR",l.ay()),fr().on(Lt,this._rtlPluginLoaded),this.on("data",(p=>{if(p.dataType!=="source"||p.sourceDataType!=="metadata")return;const v=this.sourceCaches[p.sourceId];if(!v)return;const x=v.getSource();if(x&&x.vectorLayerIds)for(const L in this._layers){const M=this._layers[L];M.source===x.id&&this._validateLayer(M)}}))}loadURL(i,h={},p){this.fire(new l.k("dataloading",{dataType:"style"})),h.validate=typeof h.validate!="boolean"||h.validate;const v=this.map._requestManager.transformRequest(i,"Style");this._loadStyleRequest=new AbortController;const x=this._loadStyleRequest;l.h(v,this._loadStyleRequest).then((L=>{this._loadStyleRequest=null,this._load(L.data,h,p)})).catch((L=>{this._loadStyleRequest=null,L&&!x.signal.aborted&&this.fire(new l.j(L))}))}loadJSON(i,h={},p){this.fire(new l.k("dataloading",{dataType:"style"})),this._frameRequest=new AbortController,C.frameAsync(this._frameRequest).then((()=>{this._frameRequest=null,h.validate=h.validate!==!1,this._load(i,h,p)})).catch((()=>{}))}loadEmpty(){this.fire(new l.k("dataloading",{dataType:"style"})),this._load(us,{validate:!1})}_load(i,h,p){var v;const x=h.transformStyle?h.transformStyle(p,i):i;if(!h.validate||!As(this,l.u(x))){this._loaded=!0,this.stylesheet=x;for(const L in x.sources)this.addSource(L,x.sources[L],{validate:!1});x.sprite?this._loadSprite(x.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(x.glyphs),this._createLayers(),this.light=new ot(this.stylesheet.light),this.sky=new re(this.stylesheet.sky),this.map.setTerrain((v=this.stylesheet.terrain)!==null&&v!==void 0?v:null),this.fire(new l.k("data",{dataType:"style"})),this.fire(new l.k("style.load"))}}_createLayers(){const i=l.az(this.stylesheet.layers);this.dispatcher.broadcast("SL",i),this._order=i.map((h=>h.id)),this._layers={},this._serializedLayers=null;for(const h of i){const p=l.aA(h);p.setEventedParent(this,{layer:{id:h.id}}),this._layers[h.id]=p}}_loadSprite(i,h=!1,p=void 0){let v;this.imageManager.setLoaded(!1),this._spriteRequest=new AbortController,(function(x,L,M,N){return l._(this,void 0,void 0,(function*(){const Q=me(x),G=M>1?"@2x":"",$={},ee={};for(const{id:ne,url:ce}of Q){const ge=L.transformRequest(He(ce,G,".json"),"SpriteJSON");$[ne]=l.h(ge,N);const Se=L.transformRequest(He(ce,G,".png"),"SpriteImage");ee[ne]=W.getImage(Se,N)}return yield Promise.all([...Object.values($),...Object.values(ee)]),(function(ne,ce){return l._(this,void 0,void 0,(function*(){const ge={};for(const Se in ne){ge[Se]={};const xe=C.getImageCanvasContext((yield ce[Se]).data),Qe=(yield ne[Se]).data;for(const Te in Qe){const{width:Xe,height:Ge,x:at,y:wt,sdf:St,pixelRatio:_t,stretchX:gt,stretchY:Nt,content:Et,textFitWidth:zt,textFitHeight:tr}=Qe[Te];ge[Se][Te]={data:null,pixelRatio:_t,sdf:St,stretchX:gt,stretchY:Nt,content:Et,textFitWidth:zt,textFitHeight:tr,spriteData:{width:Xe,height:Ge,x:at,y:wt,context:xe}}}}return ge}))})($,ee)}))})(i,this.map._requestManager,this.map.getPixelRatio(),this._spriteRequest).then((x=>{if(this._spriteRequest=null,x)for(const L in x){this._spritesImagesIds[L]=[];const M=this._spritesImagesIds[L]?this._spritesImagesIds[L].filter((N=>!(N in x))):[];for(const N of M)this.imageManager.removeImage(N),this._changedImages[N]=!0;for(const N in x[L]){const Q=L==="default"?N:`${L}:${N}`;this._spritesImagesIds[L].push(Q),Q in this.imageManager.images?this.imageManager.updateImage(Q,x[L][N],!1):this.imageManager.addImage(Q,x[L][N]),h&&(this._changedImages[Q]=!0)}}})).catch((x=>{this._spriteRequest=null,v=x,this.fire(new l.j(v))})).finally((()=>{this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),h&&(this._changed=!0),this.dispatcher.broadcast("SI",this._availableImages),this.fire(new l.k("data",{dataType:"style"})),p&&p(v)}))}_unloadSprite(){for(const i of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(i),this._changedImages[i]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new l.k("data",{dataType:"style"}))}_validateLayer(i){const h=this.sourceCaches[i.source];if(!h)return;const p=i.sourceLayer;if(!p)return;const v=h.getSource();(v.type==="geojson"||v.vectorLayerIds&&v.vectorLayerIds.indexOf(p)===-1)&&this.fire(new l.j(new Error(`Source layer "${p}" does not exist on source "${v.id}" as specified by style layer "${i.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const i in this.sourceCaches)if(!this.sourceCaches[i].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(i,h=!1){const p=this._serializedAllLayers();if(!i||i.length===0)return Object.values(h?l.aB(p):p);const v=[];for(const x of i)if(p[x]){const L=h?l.aB(p[x]):p[x];v.push(L)}return v}_serializedAllLayers(){let i=this._serializedLayers;if(i)return i;i=this._serializedLayers={};const h=Object.keys(this._layers);for(const p of h){const v=this._layers[p];v.type!=="custom"&&(i[p]=v.serialize())}return i}hasTransitions(){if(this.light&&this.light.hasTransition()||this.sky&&this.sky.hasTransition())return!0;for(const i in this.sourceCaches)if(this.sourceCaches[i].hasTransition())return!0;for(const i in this._layers)if(this._layers[i].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(i){if(!this._loaded)return;const h=this._changed;if(h){const v=Object.keys(this._updatedLayers),x=Object.keys(this._removedLayers);(v.length||x.length)&&this._updateWorkerLayers(v,x);for(const L in this._updatedSources){const M=this._updatedSources[L];if(M==="reload")this._reloadSource(L);else{if(M!=="clear")throw new Error(`Invalid action ${M}`);this._clearSource(L)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const L in this._updatedPaintProps)this._layers[L].updateTransitions(i);this.light.updateTransitions(i),this.sky.updateTransitions(i),this._resetUpdates()}const p={};for(const v in this.sourceCaches){const x=this.sourceCaches[v];p[v]=x.used,x.used=!1}for(const v of this._order){const x=this._layers[v];x.recalculate(i,this._availableImages),!x.isHidden(i.zoom)&&x.source&&(this.sourceCaches[x.source].used=!0)}for(const v in p){const x=this.sourceCaches[v];!!p[v]!=!!x.used&&x.fire(new l.k("data",{sourceDataType:"visibility",dataType:"source",sourceId:v}))}this.light.recalculate(i),this.sky.recalculate(i),this.z=i.zoom,h&&this.fire(new l.k("data",{dataType:"style"}))}_updateTilesForChangedImages(){const i=Object.keys(this._changedImages);if(i.length){for(const h in this.sourceCaches)this.sourceCaches[h].reloadTilesForDependencies(["icons","patterns"],i);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const i in this.sourceCaches)this.sourceCaches[i].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(i,h){this.dispatcher.broadcast("UL",{layers:this._serializeByIds(i,!1),removedIds:h})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(i,h={}){var p;this._checkLoaded();const v=this.serialize();if(i=h.transformStyle?h.transformStyle(v,i):i,((p=h.validate)===null||p===void 0||p)&&As(this,l.u(i)))return!1;(i=l.aB(i)).layers=l.az(i.layers);const x=l.aC(v,i),L=this._getOperationsToPerform(x);if(L.unimplemented.length>0)throw new Error(`Unimplemented: ${L.unimplemented.join(", ")}.`);if(L.operations.length===0)return!1;for(const M of L.operations)M();return this.stylesheet=i,this._serializedLayers=null,!0}_getOperationsToPerform(i){const h=[],p=[];for(const v of i)switch(v.command){case"setCenter":case"setZoom":case"setBearing":case"setPitch":continue;case"addLayer":h.push((()=>this.addLayer.apply(this,v.args)));break;case"removeLayer":h.push((()=>this.removeLayer.apply(this,v.args)));break;case"setPaintProperty":h.push((()=>this.setPaintProperty.apply(this,v.args)));break;case"setLayoutProperty":h.push((()=>this.setLayoutProperty.apply(this,v.args)));break;case"setFilter":h.push((()=>this.setFilter.apply(this,v.args)));break;case"addSource":h.push((()=>this.addSource.apply(this,v.args)));break;case"removeSource":h.push((()=>this.removeSource.apply(this,v.args)));break;case"setLayerZoomRange":h.push((()=>this.setLayerZoomRange.apply(this,v.args)));break;case"setLight":h.push((()=>this.setLight.apply(this,v.args)));break;case"setGeoJSONSourceData":h.push((()=>this.setGeoJSONSourceData.apply(this,v.args)));break;case"setGlyphs":h.push((()=>this.setGlyphs.apply(this,v.args)));break;case"setSprite":h.push((()=>this.setSprite.apply(this,v.args)));break;case"setSky":h.push((()=>this.setSky.apply(this,v.args)));break;case"setTerrain":h.push((()=>this.map.setTerrain.apply(this,v.args)));break;case"setTransition":h.push((()=>{}));break;default:p.push(v.command)}return{operations:h,unimplemented:p}}addImage(i,h){if(this.getImage(i))return this.fire(new l.j(new Error(`An image named "${i}" already exists.`)));this.imageManager.addImage(i,h),this._afterImageUpdated(i)}updateImage(i,h){this.imageManager.updateImage(i,h)}getImage(i){return this.imageManager.getImage(i)}removeImage(i){if(!this.getImage(i))return this.fire(new l.j(new Error(`An image named "${i}" does not exist.`)));this.imageManager.removeImage(i),this._afterImageUpdated(i)}_afterImageUpdated(i){this._availableImages=this.imageManager.listImages(),this._changedImages[i]=!0,this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new l.k("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(i,h,p={}){if(this._checkLoaded(),this.sourceCaches[i]!==void 0)throw new Error(`Source "${i}" already exists.`);if(!h.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(h).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(h.type)>=0&&this._validate(l.u.source,`sources.${i}`,h,null,p))return;this.map&&this.map._collectResourceTiming&&(h.collectResourceTiming=!0);const v=this.sourceCaches[i]=new Gt(i,h,this.dispatcher);v.style=this,v.setEventedParent(this,(()=>({isSourceLoaded:v.loaded(),source:v.serialize(),sourceId:i}))),v.onAdd(this.map),this._changed=!0}removeSource(i){if(this._checkLoaded(),this.sourceCaches[i]===void 0)throw new Error("There is no source with this ID");for(const p in this._layers)if(this._layers[p].source===i)return this.fire(new l.j(new Error(`Source "${i}" cannot be removed while layer "${p}" is using it.`)));const h=this.sourceCaches[i];delete this.sourceCaches[i],delete this._updatedSources[i],h.fire(new l.k("data",{sourceDataType:"metadata",dataType:"source",sourceId:i})),h.setEventedParent(null),h.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(i,h){if(this._checkLoaded(),this.sourceCaches[i]===void 0)throw new Error(`There is no source with this ID=${i}`);const p=this.sourceCaches[i].getSource();if(p.type!=="geojson")throw new Error(`geojsonSource.type is ${p.type}, which is !== 'geojson`);p.setData(h),this._changed=!0}getSource(i){return this.sourceCaches[i]&&this.sourceCaches[i].getSource()}addLayer(i,h,p={}){this._checkLoaded();const v=i.id;if(this.getLayer(v))return void this.fire(new l.j(new Error(`Layer "${v}" already exists on this map.`)));let x;if(i.type==="custom"){if(As(this,l.aD(i)))return;x=l.aA(i)}else{if("source"in i&&typeof i.source=="object"&&(this.addSource(v,i.source),i=l.aB(i),i=l.e(i,{source:v})),this._validate(l.u.layer,`layers.${v}`,i,{arrayIndex:-1},p))return;x=l.aA(i),this._validateLayer(x),x.setEventedParent(this,{layer:{id:v}})}const L=h?this._order.indexOf(h):this._order.length;if(h&&L===-1)this.fire(new l.j(new Error(`Cannot add layer "${v}" before non-existing layer "${h}".`)));else{if(this._order.splice(L,0,v),this._layerOrderChanged=!0,this._layers[v]=x,this._removedLayers[v]&&x.source&&x.type!=="custom"){const M=this._removedLayers[v];delete this._removedLayers[v],M.type!==x.type?this._updatedSources[x.source]="clear":(this._updatedSources[x.source]="reload",this.sourceCaches[x.source].pause())}this._updateLayer(x),x.onAdd&&x.onAdd(this.map)}}moveLayer(i,h){if(this._checkLoaded(),this._changed=!0,!this._layers[i])return void this.fire(new l.j(new Error(`The layer '${i}' does not exist in the map's style and cannot be moved.`)));if(i===h)return;const p=this._order.indexOf(i);this._order.splice(p,1);const v=h?this._order.indexOf(h):this._order.length;h&&v===-1?this.fire(new l.j(new Error(`Cannot move layer "${i}" before non-existing layer "${h}".`))):(this._order.splice(v,0,i),this._layerOrderChanged=!0)}removeLayer(i){this._checkLoaded();const h=this._layers[i];if(!h)return void this.fire(new l.j(new Error(`Cannot remove non-existing layer "${i}".`)));h.setEventedParent(null);const p=this._order.indexOf(i);this._order.splice(p,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[i]=h,delete this._layers[i],this._serializedLayers&&delete this._serializedLayers[i],delete this._updatedLayers[i],delete this._updatedPaintProps[i],h.onRemove&&h.onRemove(this.map)}getLayer(i){return this._layers[i]}getLayersOrder(){return[...this._order]}hasLayer(i){return i in this._layers}setLayerZoomRange(i,h,p){this._checkLoaded();const v=this.getLayer(i);v?v.minzoom===h&&v.maxzoom===p||(h!=null&&(v.minzoom=h),p!=null&&(v.maxzoom=p),this._updateLayer(v)):this.fire(new l.j(new Error(`Cannot set the zoom range of non-existing layer "${i}".`)))}setFilter(i,h,p={}){this._checkLoaded();const v=this.getLayer(i);if(v){if(!l.aE(v.filter,h))return h==null?(v.filter=void 0,void this._updateLayer(v)):void(this._validate(l.u.filter,`layers.${v.id}.filter`,h,null,p)||(v.filter=l.aB(h),this._updateLayer(v)))}else this.fire(new l.j(new Error(`Cannot filter non-existing layer "${i}".`)))}getFilter(i){return l.aB(this.getLayer(i).filter)}setLayoutProperty(i,h,p,v={}){this._checkLoaded();const x=this.getLayer(i);x?l.aE(x.getLayoutProperty(h),p)||(x.setLayoutProperty(h,p,v),this._updateLayer(x)):this.fire(new l.j(new Error(`Cannot style non-existing layer "${i}".`)))}getLayoutProperty(i,h){const p=this.getLayer(i);if(p)return p.getLayoutProperty(h);this.fire(new l.j(new Error(`Cannot get style of non-existing layer "${i}".`)))}setPaintProperty(i,h,p,v={}){this._checkLoaded();const x=this.getLayer(i);x?l.aE(x.getPaintProperty(h),p)||(x.setPaintProperty(h,p,v)&&this._updateLayer(x),this._changed=!0,this._updatedPaintProps[i]=!0,this._serializedLayers=null):this.fire(new l.j(new Error(`Cannot style non-existing layer "${i}".`)))}getPaintProperty(i,h){return this.getLayer(i).getPaintProperty(h)}setFeatureState(i,h){this._checkLoaded();const p=i.source,v=i.sourceLayer,x=this.sourceCaches[p];if(x===void 0)return void this.fire(new l.j(new Error(`The source '${p}' does not exist in the map's style.`)));const L=x.getSource().type;L==="geojson"&&v?this.fire(new l.j(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):L!=="vector"||v?(i.id===void 0&&this.fire(new l.j(new Error("The feature id parameter must be provided."))),x.setFeatureState(v,i.id,h)):this.fire(new l.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(i,h){this._checkLoaded();const p=i.source,v=this.sourceCaches[p];if(v===void 0)return void this.fire(new l.j(new Error(`The source '${p}' does not exist in the map's style.`)));const x=v.getSource().type,L=x==="vector"?i.sourceLayer:void 0;x!=="vector"||L?h&&typeof i.id!="string"&&typeof i.id!="number"?this.fire(new l.j(new Error("A feature id is required to remove its specific state property."))):v.removeFeatureState(L,i.id,h):this.fire(new l.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(i){this._checkLoaded();const h=i.source,p=i.sourceLayer,v=this.sourceCaches[h];if(v!==void 0)return v.getSource().type!=="vector"||p?(i.id===void 0&&this.fire(new l.j(new Error("The feature id parameter must be provided."))),v.getFeatureState(p,i.id)):void this.fire(new l.j(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new l.j(new Error(`The source '${h}' does not exist in the map's style.`)))}getTransition(){return l.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const i=l.aF(this.sourceCaches,(x=>x.serialize())),h=this._serializeByIds(this._order,!0),p=this.map.getTerrain()||void 0,v=this.stylesheet;return l.aG({version:v.version,name:v.name,metadata:v.metadata,light:v.light,sky:v.sky,center:v.center,zoom:v.zoom,bearing:v.bearing,pitch:v.pitch,sprite:v.sprite,glyphs:v.glyphs,transition:v.transition,sources:i,layers:h,terrain:p},(x=>x!==void 0))}_updateLayer(i){this._updatedLayers[i.id]=!0,i.source&&!this._updatedSources[i.source]&&this.sourceCaches[i.source].getSource().type!=="raster"&&(this._updatedSources[i.source]="reload",this.sourceCaches[i.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(i){const h=L=>this._layers[L].type==="fill-extrusion",p={},v=[];for(let L=this._order.length-1;L>=0;L--){const M=this._order[L];if(h(M)){p[M]=L;for(const N of i){const Q=N[M];if(Q)for(const G of Q)v.push(G)}}}v.sort(((L,M)=>M.intersectionZ-L.intersectionZ));const x=[];for(let L=this._order.length-1;L>=0;L--){const M=this._order[L];if(h(M))for(let N=v.length-1;N>=0;N--){const Q=v[N].feature;if(p[Q.layer.id]<L)break;x.push(Q),v.pop()}else for(const N of i){const Q=N[M];if(Q)for(const G of Q)x.push(G.feature)}}return x}queryRenderedFeatures(i,h,p){h&&h.filter&&this._validate(l.u.filter,"queryRenderedFeatures.filter",h.filter,null,h);const v={};if(h&&h.layers){if(!Array.isArray(h.layers))return this.fire(new l.j(new Error("parameters.layers must be an Array."))),[];for(const M of h.layers){const N=this._layers[M];if(!N)return this.fire(new l.j(new Error(`The layer '${M}' does not exist in the map's style and cannot be queried for features.`))),[];v[N.source]=!0}}const x=[];h.availableImages=this._availableImages;const L=this._serializedAllLayers();for(const M in this.sourceCaches)h.layers&&!v[M]||x.push(qt(this.sourceCaches[M],this._layers,L,i,h,p));return this.placement&&x.push((function(M,N,Q,G,$,ee,ne){const ce={},ge=ee.queryRenderedSymbols(G),Se=[];for(const xe of Object.keys(ge).map(Number))Se.push(ne[xe]);Se.sort(Xt);for(const xe of Se){const Qe=xe.featureIndex.lookupSymbolFeatures(ge[xe.bucketInstanceId],N,xe.bucketIndex,xe.sourceLayerIndex,$.filter,$.layers,$.availableImages,M);for(const Te in Qe){const Xe=ce[Te]=ce[Te]||[],Ge=Qe[Te];Ge.sort(((at,wt)=>{const St=xe.featureSortOrder;if(St){const _t=St.indexOf(at.featureIndex);return St.indexOf(wt.featureIndex)-_t}return wt.featureIndex-at.featureIndex}));for(const at of Ge)Xe.push(at)}}for(const xe in ce)ce[xe].forEach((Qe=>{const Te=Qe.feature,Xe=Q[M[xe].source].getFeatureState(Te.layer["source-layer"],Te.id);Te.source=Te.layer.source,Te.layer["source-layer"]&&(Te.sourceLayer=Te.layer["source-layer"]),Te.state=Xe}));return ce})(this._layers,L,this.sourceCaches,i,h,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(x)}querySourceFeatures(i,h){h&&h.filter&&this._validate(l.u.filter,"querySourceFeatures.filter",h.filter,null,h);const p=this.sourceCaches[i];return p?(function(v,x){const L=v.getRenderableIds().map((Q=>v.getTileByID(Q))),M=[],N={};for(let Q=0;Q<L.length;Q++){const G=L[Q],$=G.tileID.canonical.key;N[$]||(N[$]=!0,G.querySourceFeatures(M,x))}return M})(p,h):[]}getLight(){return this.light.getLight()}setLight(i,h={}){this._checkLoaded();const p=this.light.getLight();let v=!1;for(const L in i)if(!l.aE(i[L],p[L])){v=!0;break}if(!v)return;const x={now:C.now(),transition:l.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(i,h),this.light.updateTransitions(x)}getSky(){var i;return(i=this.stylesheet)===null||i===void 0?void 0:i.sky}setSky(i,h={}){const p=this.getSky();let v=!1;if(!i&&!p)return;if(i&&!p)v=!0;else if(!i&&p)v=!0;else for(const L in i)if(!l.aE(i[L],p[L])){v=!0;break}if(!v)return;const x={now:C.now(),transition:l.e({duration:300,delay:0},this.stylesheet.transition)};this.stylesheet.sky=i,this.sky.setSky(i,h),this.sky.updateTransitions(x)}_validate(i,h,p,v,x={}){return(!x||x.validate!==!1)&&As(this,i.call(l.u,l.e({key:h,style:this.serialize(),value:p,styleSpec:l.v},v)))}_remove(i=!0){this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null),fr().off(Lt,this._rtlPluginLoaded);for(const h in this._layers)this._layers[h].setEventedParent(null);for(const h in this.sourceCaches){const p=this.sourceCaches[h];p.setEventedParent(null),p.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),i&&this.dispatcher.broadcast("RM",void 0),this.dispatcher.remove(i)}_clearSource(i){this.sourceCaches[i].clearTiles()}_reloadSource(i){this.sourceCaches[i].resume(),this.sourceCaches[i].reload()}_updateSources(i){for(const h in this.sourceCaches)this.sourceCaches[h].update(i,this.map.terrain)}_generateCollisionBoxes(){for(const i in this.sourceCaches)this._reloadSource(i)}_updatePlacement(i,h,p,v,x=!1){let L=!1,M=!1;const N={};for(const Q of this._order){const G=this._layers[Q];if(G.type!=="symbol")continue;if(!N[G.source]){const ee=this.sourceCaches[G.source];N[G.source]=ee.getRenderableIds(!0).map((ne=>ee.getTileByID(ne))).sort(((ne,ce)=>ce.tileID.overscaledZ-ne.tileID.overscaledZ||(ne.tileID.isLessThan(ce.tileID)?-1:1)))}const $=this.crossTileSymbolIndex.addLayer(G,N[G.source],i.center.lng);L=L||$}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((x=x||this._layerOrderChanged||p===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(C.now(),i.zoom))&&(this.pauseablePlacement=new Gs(i,this.map.terrain,this._order,x,h,p,v,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,N),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(C.now()),M=!0),L&&this.pauseablePlacement.placement.setStale()),M||L)for(const Q of this._order){const G=this._layers[Q];G.type==="symbol"&&this.placement.updateLayerOpacities(G,N[G.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(C.now())}_releaseSymbolFadeTiles(){for(const i in this.sourceCaches)this.sourceCaches[i].releaseSymbolFadeTiles()}getImages(i,h){return l._(this,void 0,void 0,(function*(){const p=yield this.imageManager.getImages(h.icons);this._updateTilesForChangedImages();const v=this.sourceCaches[h.source];return v&&v.setDependencies(h.tileID.key,h.type,h.icons),p}))}getGlyphs(i,h){return l._(this,void 0,void 0,(function*(){const p=yield this.glyphManager.getGlyphs(h.stacks),v=this.sourceCaches[h.source];return v&&v.setDependencies(h.tileID.key,h.type,[""]),p}))}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(i,h={}){this._checkLoaded(),i&&this._validate(l.u.glyphs,"glyphs",i,null,h)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=i,this.glyphManager.entries={},this.glyphManager.setURL(i))}addSprite(i,h,p={},v){this._checkLoaded();const x=[{id:i,url:h}],L=[...me(this.stylesheet.sprite),...x];this._validate(l.u.sprite,"sprite",L,null,p)||(this.stylesheet.sprite=L,this._loadSprite(x,!0,v))}removeSprite(i){this._checkLoaded();const h=me(this.stylesheet.sprite);if(h.find((p=>p.id===i))){if(this._spritesImagesIds[i])for(const p of this._spritesImagesIds[i])this.imageManager.removeImage(p),this._changedImages[p]=!0;h.splice(h.findIndex((p=>p.id===i)),1),this.stylesheet.sprite=h.length>0?h:void 0,delete this._spritesImagesIds[i],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new l.k("data",{dataType:"style"}))}else this.fire(new l.j(new Error(`Sprite "${i}" doesn't exists on this map.`)))}getSprite(){return me(this.stylesheet.sprite)}setSprite(i,h={},p){this._checkLoaded(),i&&this._validate(l.u.sprite,"sprite",i,null,h)||(this.stylesheet.sprite=i,i?this._loadSprite(i,!0,p):(this._unloadSprite(),p&&p(null)))}}var ui=l.Y([{name:"a_pos",type:"Int16",components:2}]);const $s={prelude:Ln(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}`),background:Ln(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:Ln(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:Ln(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);float antialiased_blur=v_data.z;float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}float antialiasblur=-max(1.0/u_device_pixel_ratio/(radius+stroke_width),blur);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:Ln("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:Ln(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,get_elevation(floor(a_pos*0.5)),1);gl_Position=u_matrix*pos;}`),heatmapTexture:Ln(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:Ln("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_anchor_pos;attribute vec2 a_placed;attribute vec2 a_box_real;uniform mat4 u_matrix;uniform vec2 u_pixel_extrude_scale;varying float v_placed;varying float v_notUsed;vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_matrix*vec4(posInTile,elevation,1.0);}void main() {gl_Position=projectTileWithElevation(a_anchor_pos,get_elevation(a_anchor_pos));gl_Position.xy=((a_box_real+0.5)*u_pixel_extrude_scale*2.0-1.0)*vec2(1.0,-1.0)*gl_Position.w;if (gl_Position.z/gl_Position.w < 1.1) {gl_Position.z=0.5;}v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:Ln("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:Ln("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:Ln(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),fillOutline:Ln(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillOutlinePattern:Ln(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillPattern:Ln(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:Ln(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:Ln(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:Ln(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Ln(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:Ln(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:Ln(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:Ln(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:Ln(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:Ln(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:Ln(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;varying vec2 v_tex;varying float v_fade_opacity;vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_matrix*vec4(posInTile,elevation,1.0);}
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}gl_Position=finalPos;v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:Ln(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_translation;uniform float u_pitched_scale;varying vec2 v_data0;varying vec3 v_data1;vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_matrix*vec4(posInTile,elevation,1.0);}
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:Ln(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;varying vec4 v_data0;varying vec4 v_data1;vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_matrix*vec4(posInTile,elevation,1.0);}
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:Ln("uniform sampler2D u_texture;uniform vec4 u_fog_color;uniform vec4 u_horizon_color;uniform float u_fog_ground_blend;uniform float u_fog_ground_blend_opacity;uniform float u_horizon_fog_blend;varying vec2 v_texture_pos;varying float v_fog_depth;const float gamma=2.2;vec4 gammaToLinear(vec4 color) {return pow(color,vec4(gamma));}vec4 linearToGamma(vec4 color) {return pow(color,vec4(1.0/gamma));}void main() {vec4 surface_color=texture2D(u_texture,v_texture_pos);if (v_fog_depth > u_fog_ground_blend) {vec4 surface_color_linear=gammaToLinear(surface_color);float blend_color=smoothstep(0.0,1.0,max((v_fog_depth-u_horizon_fog_blend)/(1.0-u_horizon_fog_blend),0.0));vec4 fog_horizon_color_linear=mix(gammaToLinear(u_fog_color),gammaToLinear(u_horizon_color),blend_color);float factor_fog=max(v_fog_depth-u_fog_ground_blend,0.0)/(1.0-u_fog_ground_blend);gl_FragColor=linearToGamma(mix(surface_color_linear,fog_horizon_color_linear,pow(factor_fog,2.0)*u_fog_ground_blend_opacity));} else {gl_FragColor=surface_color;}}","attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform mat4 u_fog_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;varying float v_fog_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=u_matrix*vec4(a_pos3d.xy,ele-ele_delta,1.0);vec4 pos=u_fog_matrix*vec4(a_pos3d.xy,ele,1.0);v_fog_depth=pos.z/pos.w*0.5+0.5;}"),terrainDepth:Ln("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}","attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying float v_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;gl_Position=u_matrix*vec4(a_pos3d.xy,ele-ele_delta,1.0);v_depth=gl_Position.z/gl_Position.w;}"),terrainCoords:Ln("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}","attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=u_matrix*vec4(a_pos3d.xy,ele-ele_delta,1.0);}"),sky:Ln("uniform vec4 u_sky_color;uniform vec4 u_horizon_color;uniform float u_horizon;uniform float u_sky_horizon_blend;void main() {float y=gl_FragCoord.y;if (y > u_horizon) {float blend=y-u_horizon;if (blend < u_sky_horizon_blend) {gl_FragColor=mix(u_sky_color,u_horizon_color,pow(1.0-blend/u_sky_horizon_blend,2.0));} else {gl_FragColor=u_sky_color;}}}","attribute vec2 a_pos;void main() {gl_Position=vec4(a_pos,1.0,1.0);}")};function Ln(_,i){const h=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,p=i.match(/attribute ([\w]+) ([\w]+)/g),v=_.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),x=i.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),L=x?x.concat(v):v,M={};return{fragmentSource:_=_.replace(h,((N,Q,G,$,ee)=>(M[ee]=!0,Q==="define"?`
#ifndef HAS_UNIFORM_u_${ee}
varying ${G} ${$} ${ee};
#else
uniform ${G} ${$} u_${ee};
#endif
`:`
#ifdef HAS_UNIFORM_u_${ee}
    ${G} ${$} ${ee} = u_${ee};
#endif
`))),vertexSource:i=i.replace(h,((N,Q,G,$,ee)=>{const ne=$==="float"?"vec2":"vec4",ce=ee.match(/color/)?"color":ne;return M[ee]?Q==="define"?`
#ifndef HAS_UNIFORM_u_${ee}
uniform lowp float u_${ee}_t;
attribute ${G} ${ne} a_${ee};
varying ${G} ${$} ${ee};
#else
uniform ${G} ${$} u_${ee};
#endif
`:ce==="vec4"?`
#ifndef HAS_UNIFORM_u_${ee}
    ${ee} = a_${ee};
#else
    ${G} ${$} ${ee} = u_${ee};
#endif
`:`
#ifndef HAS_UNIFORM_u_${ee}
    ${ee} = unpack_mix_${ce}(a_${ee}, u_${ee}_t);
#else
    ${G} ${$} ${ee} = u_${ee};
#endif
`:Q==="define"?`
#ifndef HAS_UNIFORM_u_${ee}
uniform lowp float u_${ee}_t;
attribute ${G} ${ne} a_${ee};
#else
uniform ${G} ${$} u_${ee};
#endif
`:ce==="vec4"?`
#ifndef HAS_UNIFORM_u_${ee}
    ${G} ${$} ${ee} = a_${ee};
#else
    ${G} ${$} ${ee} = u_${ee};
#endif
`:`
#ifndef HAS_UNIFORM_u_${ee}
    ${G} ${$} ${ee} = unpack_mix_${ce}(a_${ee}, u_${ee}_t);
#else
    ${G} ${$} ${ee} = u_${ee};
#endif
`})),staticAttributes:p,staticUniforms:L}}class tu{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(i,h,p,v,x,L,M,N,Q){this.context=i;let G=this.boundPaintVertexBuffers.length!==v.length;for(let $=0;!G&&$<v.length;$++)this.boundPaintVertexBuffers[$]!==v[$]&&(G=!0);!this.vao||this.boundProgram!==h||this.boundLayoutVertexBuffer!==p||G||this.boundIndexBuffer!==x||this.boundVertexOffset!==L||this.boundDynamicVertexBuffer!==M||this.boundDynamicVertexBuffer2!==N||this.boundDynamicVertexBuffer3!==Q?this.freshBind(h,p,v,x,L,M,N,Q):(i.bindVertexArray.set(this.vao),M&&M.bind(),x&&x.dynamicDraw&&x.bind(),N&&N.bind(),Q&&Q.bind())}freshBind(i,h,p,v,x,L,M,N){const Q=i.numAttributes,G=this.context,$=G.gl;this.vao&&this.destroy(),this.vao=G.createVertexArray(),G.bindVertexArray.set(this.vao),this.boundProgram=i,this.boundLayoutVertexBuffer=h,this.boundPaintVertexBuffers=p,this.boundIndexBuffer=v,this.boundVertexOffset=x,this.boundDynamicVertexBuffer=L,this.boundDynamicVertexBuffer2=M,this.boundDynamicVertexBuffer3=N,h.enableAttributes($,i);for(const ee of p)ee.enableAttributes($,i);L&&L.enableAttributes($,i),M&&M.enableAttributes($,i),N&&N.enableAttributes($,i),h.bind(),h.setVertexAttribPointers($,i,x);for(const ee of p)ee.bind(),ee.setVertexAttribPointers($,i,x);L&&(L.bind(),L.setVertexAttribPointers($,i,x)),v&&v.bind(),M&&(M.bind(),M.setVertexAttribPointers($,i,x)),N&&(N.bind(),N.setVertexAttribPointers($,i,x)),G.currentNumAttributes=Q}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}const Ra=(_,i,h,p,v)=>({u_matrix:_,u_texture:0,u_ele_delta:i,u_fog_matrix:h,u_fog_color:p?p.properties.get("fog-color"):l.aM.white,u_fog_ground_blend:p?p.properties.get("fog-ground-blend"):1,u_fog_ground_blend_opacity:p?p.calculateFogBlendOpacity(v):0,u_horizon_color:p?p.properties.get("horizon-color"):l.aM.white,u_horizon_fog_blend:p?p.properties.get("horizon-fog-blend"):1});function cl(_){const i=[];for(let h=0;h<_.length;h++){if(_[h]===null)continue;const p=_[h].split(" ");i.push(p.pop())}return i}class ru{constructor(i,h,p,v,x,L){const M=i.gl;this.program=M.createProgram();const N=cl(h.staticAttributes),Q=p?p.getBinderAttributes():[],G=N.concat(Q),$=$s.prelude.staticUniforms?cl($s.prelude.staticUniforms):[],ee=h.staticUniforms?cl(h.staticUniforms):[],ne=p?p.getBinderUniforms():[],ce=$.concat(ee).concat(ne),ge=[];for(const at of ce)ge.indexOf(at)<0&&ge.push(at);const Se=p?p.defines():[];x&&Se.push("#define OVERDRAW_INSPECTOR;"),L&&Se.push("#define TERRAIN3D;");const xe=Se.concat($s.prelude.fragmentSource,h.fragmentSource).join(`
`),Qe=Se.concat($s.prelude.vertexSource,h.vertexSource).join(`
`),Te=M.createShader(M.FRAGMENT_SHADER);if(M.isContextLost())return void(this.failedToCreate=!0);if(M.shaderSource(Te,xe),M.compileShader(Te),!M.getShaderParameter(Te,M.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${M.getShaderInfoLog(Te)}`);M.attachShader(this.program,Te);const Xe=M.createShader(M.VERTEX_SHADER);if(M.isContextLost())return void(this.failedToCreate=!0);if(M.shaderSource(Xe,Qe),M.compileShader(Xe),!M.getShaderParameter(Xe,M.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${M.getShaderInfoLog(Xe)}`);M.attachShader(this.program,Xe),this.attributes={};const Ge={};this.numAttributes=G.length;for(let at=0;at<this.numAttributes;at++)G[at]&&(M.bindAttribLocation(this.program,at,G[at]),this.attributes[G[at]]=at);if(M.linkProgram(this.program),!M.getProgramParameter(this.program,M.LINK_STATUS))throw new Error(`Program failed to link: ${M.getProgramInfoLog(this.program)}`);M.deleteShader(Xe),M.deleteShader(Te);for(let at=0;at<ge.length;at++){const wt=ge[at];if(wt&&!Ge[wt]){const St=M.getUniformLocation(this.program,wt);St&&(Ge[wt]=St)}}this.fixedUniforms=v(i,Ge),this.terrainUniforms=((at,wt)=>({u_depth:new l.aH(at,wt.u_depth),u_terrain:new l.aH(at,wt.u_terrain),u_terrain_dim:new l.aI(at,wt.u_terrain_dim),u_terrain_matrix:new l.aJ(at,wt.u_terrain_matrix),u_terrain_unpack:new l.aK(at,wt.u_terrain_unpack),u_terrain_exaggeration:new l.aI(at,wt.u_terrain_exaggeration)}))(i,Ge),this.binderUniforms=p?p.getUniforms(i,Ge):[]}draw(i,h,p,v,x,L,M,N,Q,G,$,ee,ne,ce,ge,Se,xe,Qe){const Te=i.gl;if(this.failedToCreate)return;if(i.program.set(this.program),i.setDepthMode(p),i.setStencilMode(v),i.setColorMode(x),i.setCullFace(L),N){i.activeTexture.set(Te.TEXTURE2),Te.bindTexture(Te.TEXTURE_2D,N.depthTexture),i.activeTexture.set(Te.TEXTURE3),Te.bindTexture(Te.TEXTURE_2D,N.texture);for(const Ge in this.terrainUniforms)this.terrainUniforms[Ge].set(N[Ge])}for(const Ge in this.fixedUniforms)this.fixedUniforms[Ge].set(M[Ge]);ge&&ge.setUniforms(i,this.binderUniforms,ne,{zoom:ce});let Xe=0;switch(h){case Te.LINES:Xe=2;break;case Te.TRIANGLES:Xe=3;break;case Te.LINE_STRIP:Xe=1}for(const Ge of ee.get()){const at=Ge.vaos||(Ge.vaos={});(at[Q]||(at[Q]=new tu)).bind(i,this,G,ge?ge.getPaintVertexBuffers():[],$,Ge.vertexOffset,Se,xe,Qe),Te.drawElements(h,Ge.primitiveLength*Xe,Te.UNSIGNED_SHORT,Ge.primitiveOffset*Xe*2)}}}function Fs(_,i,h){const p=1/jr(h,1,i.transform.tileZoom),v=Math.pow(2,h.tileID.overscaledZ),x=h.tileSize*Math.pow(2,i.transform.tileZoom)/v,L=x*(h.tileID.canonical.x+h.tileID.wrap*v),M=x*h.tileID.canonical.y;return{u_image:0,u_texsize:h.imageAtlasTexture.size,u_scale:[p,_.fromScale,_.toScale],u_fade:_.t,u_pixel_coord_upper:[L>>16,M>>16],u_pixel_coord_lower:[65535&L,65535&M]}}const Ro=(_,i,h,p)=>{const v=i.style.light,x=v.properties.get("position"),L=[x.x,x.y,x.z],M=(function(){var Q=new l.A(9);return l.A!=Float32Array&&(Q[1]=0,Q[2]=0,Q[3]=0,Q[5]=0,Q[6]=0,Q[7]=0),Q[0]=1,Q[4]=1,Q[8]=1,Q})();v.properties.get("anchor")==="viewport"&&(function(Q,G){var $=Math.sin(G),ee=Math.cos(G);Q[0]=ee,Q[1]=$,Q[2]=0,Q[3]=-$,Q[4]=ee,Q[5]=0,Q[6]=0,Q[7]=0,Q[8]=1})(M,-i.transform.angle),(function(Q,G,$){var ee=G[0],ne=G[1],ce=G[2];Q[0]=ee*$[0]+ne*$[3]+ce*$[6],Q[1]=ee*$[1]+ne*$[4]+ce*$[7],Q[2]=ee*$[2]+ne*$[5]+ce*$[8]})(L,L,M);const N=v.properties.get("color");return{u_matrix:_,u_lightpos:L,u_lightintensity:v.properties.get("intensity"),u_lightcolor:[N.r,N.g,N.b],u_vertical_gradient:+h,u_opacity:p}},nu=(_,i,h,p,v,x,L)=>l.e(Ro(_,i,h,p),Fs(x,i,L),{u_height_factor:-Math.pow(2,v.overscaledZ)/L.tileSize/8}),ql=_=>({u_matrix:_}),Fu=(_,i,h,p)=>l.e(ql(_),Fs(h,i,p)),hc=(_,i)=>({u_matrix:_,u_world:i}),fc=(_,i,h,p,v)=>l.e(Fu(_,i,h,p),{u_world:v}),Ls=(_,i,h,p)=>{const v=_.transform;let x,L;if(p.paint.get("circle-pitch-alignment")==="map"){const M=jr(h,1,v.zoom);x=!0,L=[M,M]}else x=!1,L=v.pixelsToGLUnits;return{u_camera_to_center_distance:v.cameraToCenterDistance,u_scale_with_map:+(p.paint.get("circle-pitch-scale")==="map"),u_matrix:_.translatePosMatrix(i.posMatrix,h,p.paint.get("circle-translate"),p.paint.get("circle-translate-anchor")),u_pitch_with_map:+x,u_device_pixel_ratio:_.pixelRatio,u_extrude_scale:L}},za=(_,i,h)=>({u_matrix:_,u_inv_matrix:i,u_camera_to_center_distance:h.cameraToCenterDistance,u_viewport_size:[h.width,h.height]}),Xs=(_,i,h=1)=>({u_matrix:_,u_color:i,u_overlay:0,u_overlay_scale:h}),ua=_=>({u_matrix:_}),Yi=(_,i,h,p)=>({u_matrix:_,u_extrude_scale:jr(i,1,h),u_intensity:p}),Vr=(_,i,h,p)=>{const v=l.H();l.aP(v,0,_.width,_.height,0,0,1);const x=_.context.gl;return{u_matrix:v,u_world:[x.drawingBufferWidth,x.drawingBufferHeight],u_image:h,u_color_ramp:p,u_opacity:i.paint.get("heatmap-opacity")}};function iu(_,i){const h=Math.pow(2,i.canonical.z),p=i.canonical.y;return[new l.Z(0,p/h).toLngLat().lat,new l.Z(0,(p+1)/h).toLngLat().lat]}const _A=(_,i,h,p)=>{const v=_.transform;return{u_matrix:bA(_,i,h,p),u_ratio:1/jr(i,1,v.zoom),u_device_pixel_ratio:_.pixelRatio,u_units_to_pixels:[1/v.pixelsToGLUnits[0],1/v.pixelsToGLUnits[1]]}},dc=(_,i,h,p,v)=>l.e(_A(_,i,h,v),{u_image:0,u_image_height:p}),Ea=(_,i,h,p,v)=>{const x=_.transform,L=Lu(i,x);return{u_matrix:bA(_,i,h,v),u_texsize:i.imageAtlasTexture.size,u_ratio:1/jr(i,1,x.zoom),u_device_pixel_ratio:_.pixelRatio,u_image:0,u_scale:[L,p.fromScale,p.toScale],u_fade:p.t,u_units_to_pixels:[1/x.pixelsToGLUnits[0],1/x.pixelsToGLUnits[1]]}},ja=(_,i,h,p,v,x)=>{const L=_.lineAtlas,M=Lu(i,_.transform),N=h.layout.get("line-cap")==="round",Q=L.getDash(p.from,N),G=L.getDash(p.to,N),$=Q.width*v.fromScale,ee=G.width*v.toScale;return l.e(_A(_,i,h,x),{u_patternscale_a:[M/$,-Q.height/2],u_patternscale_b:[M/ee,-G.height/2],u_sdfgamma:L.width/(256*Math.min($,ee)*_.pixelRatio)/2,u_image:0,u_tex_y_a:Q.y,u_tex_y_b:G.y,u_mix:v.t})};function Lu(_,i){return 1/jr(_,1,i.tileZoom)}function bA(_,i,h,p){return _.translatePosMatrix(p?p.posMatrix:i.tileID.posMatrix,i,h.paint.get("line-translate"),h.paint.get("line-translate-anchor"))}const Zs=(_,i,h,p,v)=>{return{u_matrix:_,u_tl_parent:i,u_scale_parent:h,u_buffer_scale:1,u_fade_t:p.mix,u_opacity:p.opacity*v.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:v.paint.get("raster-brightness-min"),u_brightness_high:v.paint.get("raster-brightness-max"),u_saturation_factor:(L=v.paint.get("raster-saturation"),L>0?1-1/(1.001-L):-L),u_contrast_factor:(x=v.paint.get("raster-contrast"),x>0?1/(1-x):1+x),u_spin_weights:au(v.paint.get("raster-hue-rotate"))};var x,L};function au(_){_*=Math.PI/180;const i=Math.sin(_),h=Math.cos(_);return[(2*h+1)/3,(-Math.sqrt(3)*i-h+1)/3,(Math.sqrt(3)*i-h+1)/3]}const zo=(_,i,h,p,v,x,L,M,N,Q,G,$,ee,ne)=>{const ce=L.transform;return{u_is_size_zoom_constant:+(_==="constant"||_==="source"),u_is_size_feature_constant:+(_==="constant"||_==="camera"),u_size_t:i?i.uSizeT:0,u_size:i?i.uSize:0,u_camera_to_center_distance:ce.cameraToCenterDistance,u_pitch:ce.pitch/360*2*Math.PI,u_rotate_symbol:+h,u_aspect_ratio:ce.width/ce.height,u_fade_change:L.options.fadeDuration?L.symbolFadeChange:1,u_matrix:M,u_label_plane_matrix:N,u_coord_matrix:Q,u_is_text:+$,u_pitch_with_map:+p,u_is_along_line:v,u_is_variable_anchor:x,u_texsize:ee,u_texture:0,u_translation:G,u_pitched_scale:ne}},wA=(_,i,h,p,v,x,L,M,N,Q,G,$,ee,ne,ce)=>{const ge=L.transform;return l.e(zo(_,i,h,p,v,x,L,M,N,Q,G,$,ee,ce),{u_gamma_scale:p?Math.cos(ge._pitch)*ge.cameraToCenterDistance:1,u_device_pixel_ratio:L.pixelRatio,u_is_halo:1})},Us=(_,i,h,p,v,x,L,M,N,Q,G,$,ee,ne)=>l.e(wA(_,i,h,p,v,x,L,M,N,Q,G,!0,$,!0,ne),{u_texsize_icon:ee,u_texture_icon:1}),Gl=(_,i,h)=>({u_matrix:_,u_opacity:i,u_color:h}),xA=(_,i,h,p,v,x)=>l.e((function(L,M,N,Q){const G=N.imageManager.getPattern(L.from.toString()),$=N.imageManager.getPattern(L.to.toString()),{width:ee,height:ne}=N.imageManager.getPixelSize(),ce=Math.pow(2,Q.tileID.overscaledZ),ge=Q.tileSize*Math.pow(2,N.transform.tileZoom)/ce,Se=ge*(Q.tileID.canonical.x+Q.tileID.wrap*ce),xe=ge*Q.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:G.tl,u_pattern_br_a:G.br,u_pattern_tl_b:$.tl,u_pattern_br_b:$.br,u_texsize:[ee,ne],u_mix:M.t,u_pattern_size_a:G.displaySize,u_pattern_size_b:$.displaySize,u_scale_a:M.fromScale,u_scale_b:M.toScale,u_tile_units_to_pixels:1/jr(Q,1,N.transform.tileZoom),u_pixel_coord_upper:[Se>>16,xe>>16],u_pixel_coord_lower:[65535&Se,65535&xe]}})(p,x,h,v),{u_matrix:_,u_opacity:i}),ca={fillExtrusion:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix),u_lightpos:new l.aN(_,i.u_lightpos),u_lightintensity:new l.aI(_,i.u_lightintensity),u_lightcolor:new l.aN(_,i.u_lightcolor),u_vertical_gradient:new l.aI(_,i.u_vertical_gradient),u_opacity:new l.aI(_,i.u_opacity)}),fillExtrusionPattern:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix),u_lightpos:new l.aN(_,i.u_lightpos),u_lightintensity:new l.aI(_,i.u_lightintensity),u_lightcolor:new l.aN(_,i.u_lightcolor),u_vertical_gradient:new l.aI(_,i.u_vertical_gradient),u_height_factor:new l.aI(_,i.u_height_factor),u_image:new l.aH(_,i.u_image),u_texsize:new l.aO(_,i.u_texsize),u_pixel_coord_upper:new l.aO(_,i.u_pixel_coord_upper),u_pixel_coord_lower:new l.aO(_,i.u_pixel_coord_lower),u_scale:new l.aN(_,i.u_scale),u_fade:new l.aI(_,i.u_fade),u_opacity:new l.aI(_,i.u_opacity)}),fill:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix)}),fillPattern:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix),u_image:new l.aH(_,i.u_image),u_texsize:new l.aO(_,i.u_texsize),u_pixel_coord_upper:new l.aO(_,i.u_pixel_coord_upper),u_pixel_coord_lower:new l.aO(_,i.u_pixel_coord_lower),u_scale:new l.aN(_,i.u_scale),u_fade:new l.aI(_,i.u_fade)}),fillOutline:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix),u_world:new l.aO(_,i.u_world)}),fillOutlinePattern:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix),u_world:new l.aO(_,i.u_world),u_image:new l.aH(_,i.u_image),u_texsize:new l.aO(_,i.u_texsize),u_pixel_coord_upper:new l.aO(_,i.u_pixel_coord_upper),u_pixel_coord_lower:new l.aO(_,i.u_pixel_coord_lower),u_scale:new l.aN(_,i.u_scale),u_fade:new l.aI(_,i.u_fade)}),circle:(_,i)=>({u_camera_to_center_distance:new l.aI(_,i.u_camera_to_center_distance),u_scale_with_map:new l.aH(_,i.u_scale_with_map),u_pitch_with_map:new l.aH(_,i.u_pitch_with_map),u_extrude_scale:new l.aO(_,i.u_extrude_scale),u_device_pixel_ratio:new l.aI(_,i.u_device_pixel_ratio),u_matrix:new l.aJ(_,i.u_matrix)}),collisionBox:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix),u_pixel_extrude_scale:new l.aO(_,i.u_pixel_extrude_scale)}),collisionCircle:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix),u_inv_matrix:new l.aJ(_,i.u_inv_matrix),u_camera_to_center_distance:new l.aI(_,i.u_camera_to_center_distance),u_viewport_size:new l.aO(_,i.u_viewport_size)}),debug:(_,i)=>({u_color:new l.aL(_,i.u_color),u_matrix:new l.aJ(_,i.u_matrix),u_overlay:new l.aH(_,i.u_overlay),u_overlay_scale:new l.aI(_,i.u_overlay_scale)}),clippingMask:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix)}),heatmap:(_,i)=>({u_extrude_scale:new l.aI(_,i.u_extrude_scale),u_intensity:new l.aI(_,i.u_intensity),u_matrix:new l.aJ(_,i.u_matrix)}),heatmapTexture:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix),u_world:new l.aO(_,i.u_world),u_image:new l.aH(_,i.u_image),u_color_ramp:new l.aH(_,i.u_color_ramp),u_opacity:new l.aI(_,i.u_opacity)}),hillshade:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix),u_image:new l.aH(_,i.u_image),u_latrange:new l.aO(_,i.u_latrange),u_light:new l.aO(_,i.u_light),u_shadow:new l.aL(_,i.u_shadow),u_highlight:new l.aL(_,i.u_highlight),u_accent:new l.aL(_,i.u_accent)}),hillshadePrepare:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix),u_image:new l.aH(_,i.u_image),u_dimension:new l.aO(_,i.u_dimension),u_zoom:new l.aI(_,i.u_zoom),u_unpack:new l.aK(_,i.u_unpack)}),line:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix),u_ratio:new l.aI(_,i.u_ratio),u_device_pixel_ratio:new l.aI(_,i.u_device_pixel_ratio),u_units_to_pixels:new l.aO(_,i.u_units_to_pixels)}),lineGradient:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix),u_ratio:new l.aI(_,i.u_ratio),u_device_pixel_ratio:new l.aI(_,i.u_device_pixel_ratio),u_units_to_pixels:new l.aO(_,i.u_units_to_pixels),u_image:new l.aH(_,i.u_image),u_image_height:new l.aI(_,i.u_image_height)}),linePattern:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix),u_texsize:new l.aO(_,i.u_texsize),u_ratio:new l.aI(_,i.u_ratio),u_device_pixel_ratio:new l.aI(_,i.u_device_pixel_ratio),u_image:new l.aH(_,i.u_image),u_units_to_pixels:new l.aO(_,i.u_units_to_pixels),u_scale:new l.aN(_,i.u_scale),u_fade:new l.aI(_,i.u_fade)}),lineSDF:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix),u_ratio:new l.aI(_,i.u_ratio),u_device_pixel_ratio:new l.aI(_,i.u_device_pixel_ratio),u_units_to_pixels:new l.aO(_,i.u_units_to_pixels),u_patternscale_a:new l.aO(_,i.u_patternscale_a),u_patternscale_b:new l.aO(_,i.u_patternscale_b),u_sdfgamma:new l.aI(_,i.u_sdfgamma),u_image:new l.aH(_,i.u_image),u_tex_y_a:new l.aI(_,i.u_tex_y_a),u_tex_y_b:new l.aI(_,i.u_tex_y_b),u_mix:new l.aI(_,i.u_mix)}),raster:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix),u_tl_parent:new l.aO(_,i.u_tl_parent),u_scale_parent:new l.aI(_,i.u_scale_parent),u_buffer_scale:new l.aI(_,i.u_buffer_scale),u_fade_t:new l.aI(_,i.u_fade_t),u_opacity:new l.aI(_,i.u_opacity),u_image0:new l.aH(_,i.u_image0),u_image1:new l.aH(_,i.u_image1),u_brightness_low:new l.aI(_,i.u_brightness_low),u_brightness_high:new l.aI(_,i.u_brightness_high),u_saturation_factor:new l.aI(_,i.u_saturation_factor),u_contrast_factor:new l.aI(_,i.u_contrast_factor),u_spin_weights:new l.aN(_,i.u_spin_weights)}),symbolIcon:(_,i)=>({u_is_size_zoom_constant:new l.aH(_,i.u_is_size_zoom_constant),u_is_size_feature_constant:new l.aH(_,i.u_is_size_feature_constant),u_size_t:new l.aI(_,i.u_size_t),u_size:new l.aI(_,i.u_size),u_camera_to_center_distance:new l.aI(_,i.u_camera_to_center_distance),u_pitch:new l.aI(_,i.u_pitch),u_rotate_symbol:new l.aH(_,i.u_rotate_symbol),u_aspect_ratio:new l.aI(_,i.u_aspect_ratio),u_fade_change:new l.aI(_,i.u_fade_change),u_matrix:new l.aJ(_,i.u_matrix),u_label_plane_matrix:new l.aJ(_,i.u_label_plane_matrix),u_coord_matrix:new l.aJ(_,i.u_coord_matrix),u_is_text:new l.aH(_,i.u_is_text),u_pitch_with_map:new l.aH(_,i.u_pitch_with_map),u_is_along_line:new l.aH(_,i.u_is_along_line),u_is_variable_anchor:new l.aH(_,i.u_is_variable_anchor),u_texsize:new l.aO(_,i.u_texsize),u_texture:new l.aH(_,i.u_texture),u_translation:new l.aO(_,i.u_translation),u_pitched_scale:new l.aI(_,i.u_pitched_scale)}),symbolSDF:(_,i)=>({u_is_size_zoom_constant:new l.aH(_,i.u_is_size_zoom_constant),u_is_size_feature_constant:new l.aH(_,i.u_is_size_feature_constant),u_size_t:new l.aI(_,i.u_size_t),u_size:new l.aI(_,i.u_size),u_camera_to_center_distance:new l.aI(_,i.u_camera_to_center_distance),u_pitch:new l.aI(_,i.u_pitch),u_rotate_symbol:new l.aH(_,i.u_rotate_symbol),u_aspect_ratio:new l.aI(_,i.u_aspect_ratio),u_fade_change:new l.aI(_,i.u_fade_change),u_matrix:new l.aJ(_,i.u_matrix),u_label_plane_matrix:new l.aJ(_,i.u_label_plane_matrix),u_coord_matrix:new l.aJ(_,i.u_coord_matrix),u_is_text:new l.aH(_,i.u_is_text),u_pitch_with_map:new l.aH(_,i.u_pitch_with_map),u_is_along_line:new l.aH(_,i.u_is_along_line),u_is_variable_anchor:new l.aH(_,i.u_is_variable_anchor),u_texsize:new l.aO(_,i.u_texsize),u_texture:new l.aH(_,i.u_texture),u_gamma_scale:new l.aI(_,i.u_gamma_scale),u_device_pixel_ratio:new l.aI(_,i.u_device_pixel_ratio),u_is_halo:new l.aH(_,i.u_is_halo),u_translation:new l.aO(_,i.u_translation),u_pitched_scale:new l.aI(_,i.u_pitched_scale)}),symbolTextAndIcon:(_,i)=>({u_is_size_zoom_constant:new l.aH(_,i.u_is_size_zoom_constant),u_is_size_feature_constant:new l.aH(_,i.u_is_size_feature_constant),u_size_t:new l.aI(_,i.u_size_t),u_size:new l.aI(_,i.u_size),u_camera_to_center_distance:new l.aI(_,i.u_camera_to_center_distance),u_pitch:new l.aI(_,i.u_pitch),u_rotate_symbol:new l.aH(_,i.u_rotate_symbol),u_aspect_ratio:new l.aI(_,i.u_aspect_ratio),u_fade_change:new l.aI(_,i.u_fade_change),u_matrix:new l.aJ(_,i.u_matrix),u_label_plane_matrix:new l.aJ(_,i.u_label_plane_matrix),u_coord_matrix:new l.aJ(_,i.u_coord_matrix),u_is_text:new l.aH(_,i.u_is_text),u_pitch_with_map:new l.aH(_,i.u_pitch_with_map),u_is_along_line:new l.aH(_,i.u_is_along_line),u_is_variable_anchor:new l.aH(_,i.u_is_variable_anchor),u_texsize:new l.aO(_,i.u_texsize),u_texsize_icon:new l.aO(_,i.u_texsize_icon),u_texture:new l.aH(_,i.u_texture),u_texture_icon:new l.aH(_,i.u_texture_icon),u_gamma_scale:new l.aI(_,i.u_gamma_scale),u_device_pixel_ratio:new l.aI(_,i.u_device_pixel_ratio),u_is_halo:new l.aH(_,i.u_is_halo),u_translation:new l.aO(_,i.u_translation),u_pitched_scale:new l.aI(_,i.u_pitched_scale)}),background:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix),u_opacity:new l.aI(_,i.u_opacity),u_color:new l.aL(_,i.u_color)}),backgroundPattern:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix),u_opacity:new l.aI(_,i.u_opacity),u_image:new l.aH(_,i.u_image),u_pattern_tl_a:new l.aO(_,i.u_pattern_tl_a),u_pattern_br_a:new l.aO(_,i.u_pattern_br_a),u_pattern_tl_b:new l.aO(_,i.u_pattern_tl_b),u_pattern_br_b:new l.aO(_,i.u_pattern_br_b),u_texsize:new l.aO(_,i.u_texsize),u_mix:new l.aI(_,i.u_mix),u_pattern_size_a:new l.aO(_,i.u_pattern_size_a),u_pattern_size_b:new l.aO(_,i.u_pattern_size_b),u_scale_a:new l.aI(_,i.u_scale_a),u_scale_b:new l.aI(_,i.u_scale_b),u_pixel_coord_upper:new l.aO(_,i.u_pixel_coord_upper),u_pixel_coord_lower:new l.aO(_,i.u_pixel_coord_lower),u_tile_units_to_pixels:new l.aI(_,i.u_tile_units_to_pixels)}),terrain:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix),u_texture:new l.aH(_,i.u_texture),u_ele_delta:new l.aI(_,i.u_ele_delta),u_fog_matrix:new l.aJ(_,i.u_fog_matrix),u_fog_color:new l.aL(_,i.u_fog_color),u_fog_ground_blend:new l.aI(_,i.u_fog_ground_blend),u_fog_ground_blend_opacity:new l.aI(_,i.u_fog_ground_blend_opacity),u_horizon_color:new l.aL(_,i.u_horizon_color),u_horizon_fog_blend:new l.aI(_,i.u_horizon_fog_blend)}),terrainDepth:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix),u_ele_delta:new l.aI(_,i.u_ele_delta)}),terrainCoords:(_,i)=>({u_matrix:new l.aJ(_,i.u_matrix),u_texture:new l.aH(_,i.u_texture),u_terrain_coords_id:new l.aI(_,i.u_terrain_coords_id),u_ele_delta:new l.aI(_,i.u_ele_delta)}),sky:(_,i)=>({u_sky_color:new l.aL(_,i.u_sky_color),u_horizon_color:new l.aL(_,i.u_horizon_color),u_horizon:new l.aI(_,i.u_horizon),u_sky_horizon_blend:new l.aI(_,i.u_sky_horizon_blend)})};class ga{constructor(i,h,p){this.context=i;const v=i.gl;this.buffer=v.createBuffer(),this.dynamicDraw=!!p,this.context.unbindVAO(),i.bindElementBuffer.set(this.buffer),v.bufferData(v.ELEMENT_ARRAY_BUFFER,h.arrayBuffer,this.dynamicDraw?v.DYNAMIC_DRAW:v.STATIC_DRAW),this.dynamicDraw||delete h.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(i){const h=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),h.bufferSubData(h.ELEMENT_ARRAY_BUFFER,0,i.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const bo={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class jo{constructor(i,h,p,v){this.length=h.length,this.attributes=p,this.itemSize=h.bytesPerElement,this.dynamicDraw=v,this.context=i;const x=i.gl;this.buffer=x.createBuffer(),i.bindVertexBuffer.set(this.buffer),x.bufferData(x.ARRAY_BUFFER,h.arrayBuffer,this.dynamicDraw?x.DYNAMIC_DRAW:x.STATIC_DRAW),this.dynamicDraw||delete h.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(i){if(i.length!==this.length)throw new Error(`Length of new data is ${i.length}, which doesn't match current length of ${this.length}`);const h=this.context.gl;this.bind(),h.bufferSubData(h.ARRAY_BUFFER,0,i.arrayBuffer)}enableAttributes(i,h){for(let p=0;p<this.attributes.length;p++){const v=h.attributes[this.attributes[p].name];v!==void 0&&i.enableVertexAttribArray(v)}}setVertexAttribPointers(i,h,p){for(let v=0;v<this.attributes.length;v++){const x=this.attributes[v],L=h.attributes[x.name];L!==void 0&&i.vertexAttribPointer(L,x.components,i[bo[x.type]],!1,this.itemSize,x.offset+this.itemSize*(p||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const wo=new WeakMap;function Ms(_){var i;if(wo.has(_))return wo.get(_);{const h=(i=_.getParameter(_.VERSION))===null||i===void 0?void 0:i.startsWith("WebGL 2.0");return wo.set(_,h),h}}class _n{constructor(i){this.gl=i.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(i){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class xo extends _n{getDefault(){return l.aM.transparent}set(i){const h=this.current;(i.r!==h.r||i.g!==h.g||i.b!==h.b||i.a!==h.a||this.dirty)&&(this.gl.clearColor(i.r,i.g,i.b,i.a),this.current=i,this.dirty=!1)}}class su extends _n{getDefault(){return 1}set(i){(i!==this.current||this.dirty)&&(this.gl.clearDepth(i),this.current=i,this.dirty=!1)}}class hl extends _n{getDefault(){return 0}set(i){(i!==this.current||this.dirty)&&(this.gl.clearStencil(i),this.current=i,this.dirty=!1)}}class $l extends _n{getDefault(){return[!0,!0,!0,!0]}set(i){const h=this.current;(i[0]!==h[0]||i[1]!==h[1]||i[2]!==h[2]||i[3]!==h[3]||this.dirty)&&(this.gl.colorMask(i[0],i[1],i[2],i[3]),this.current=i,this.dirty=!1)}}class fl extends _n{getDefault(){return!0}set(i){(i!==this.current||this.dirty)&&(this.gl.depthMask(i),this.current=i,this.dirty=!1)}}class qc extends _n{getDefault(){return 255}set(i){(i!==this.current||this.dirty)&&(this.gl.stencilMask(i),this.current=i,this.dirty=!1)}}class dl extends _n{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(i){const h=this.current;(i.func!==h.func||i.ref!==h.ref||i.mask!==h.mask||this.dirty)&&(this.gl.stencilFunc(i.func,i.ref,i.mask),this.current=i,this.dirty=!1)}}class Uu extends _n{getDefault(){const i=this.gl;return[i.KEEP,i.KEEP,i.KEEP]}set(i){const h=this.current;(i[0]!==h[0]||i[1]!==h[1]||i[2]!==h[2]||this.dirty)&&(this.gl.stencilOp(i[0],i[1],i[2]),this.current=i,this.dirty=!1)}}class V extends _n{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const h=this.gl;i?h.enable(h.STENCIL_TEST):h.disable(h.STENCIL_TEST),this.current=i,this.dirty=!1}}class fe extends _n{getDefault(){return[0,1]}set(i){const h=this.current;(i[0]!==h[0]||i[1]!==h[1]||this.dirty)&&(this.gl.depthRange(i[0],i[1]),this.current=i,this.dirty=!1)}}class ze extends _n{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const h=this.gl;i?h.enable(h.DEPTH_TEST):h.disable(h.DEPTH_TEST),this.current=i,this.dirty=!1}}class rt extends _n{getDefault(){return this.gl.LESS}set(i){(i!==this.current||this.dirty)&&(this.gl.depthFunc(i),this.current=i,this.dirty=!1)}}class ut extends _n{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const h=this.gl;i?h.enable(h.BLEND):h.disable(h.BLEND),this.current=i,this.dirty=!1}}class Ot extends _n{getDefault(){const i=this.gl;return[i.ONE,i.ZERO]}set(i){const h=this.current;(i[0]!==h[0]||i[1]!==h[1]||this.dirty)&&(this.gl.blendFunc(i[0],i[1]),this.current=i,this.dirty=!1)}}class Ht extends _n{getDefault(){return l.aM.transparent}set(i){const h=this.current;(i.r!==h.r||i.g!==h.g||i.b!==h.b||i.a!==h.a||this.dirty)&&(this.gl.blendColor(i.r,i.g,i.b,i.a),this.current=i,this.dirty=!1)}}class yr extends _n{getDefault(){return this.gl.FUNC_ADD}set(i){(i!==this.current||this.dirty)&&(this.gl.blendEquation(i),this.current=i,this.dirty=!1)}}class br extends _n{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const h=this.gl;i?h.enable(h.CULL_FACE):h.disable(h.CULL_FACE),this.current=i,this.dirty=!1}}class tn extends _n{getDefault(){return this.gl.BACK}set(i){(i!==this.current||this.dirty)&&(this.gl.cullFace(i),this.current=i,this.dirty=!1)}}class An extends _n{getDefault(){return this.gl.CCW}set(i){(i!==this.current||this.dirty)&&(this.gl.frontFace(i),this.current=i,this.dirty=!1)}}class zn extends _n{getDefault(){return null}set(i){(i!==this.current||this.dirty)&&(this.gl.useProgram(i),this.current=i,this.dirty=!1)}}class Pi extends _n{getDefault(){return this.gl.TEXTURE0}set(i){(i!==this.current||this.dirty)&&(this.gl.activeTexture(i),this.current=i,this.dirty=!1)}}class Hi extends _n{getDefault(){const i=this.gl;return[0,0,i.drawingBufferWidth,i.drawingBufferHeight]}set(i){const h=this.current;(i[0]!==h[0]||i[1]!==h[1]||i[2]!==h[2]||i[3]!==h[3]||this.dirty)&&(this.gl.viewport(i[0],i[1],i[2],i[3]),this.current=i,this.dirty=!1)}}class si extends _n{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const h=this.gl;h.bindFramebuffer(h.FRAMEBUFFER,i),this.current=i,this.dirty=!1}}class ha extends _n{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const h=this.gl;h.bindRenderbuffer(h.RENDERBUFFER,i),this.current=i,this.dirty=!1}}class Ki extends _n{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const h=this.gl;h.bindTexture(h.TEXTURE_2D,i),this.current=i,this.dirty=!1}}class Ta extends _n{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const h=this.gl;h.bindBuffer(h.ARRAY_BUFFER,i),this.current=i,this.dirty=!1}}class Bo extends _n{getDefault(){return null}set(i){const h=this.gl;h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,i),this.current=i,this.dirty=!1}}class ya extends _n{getDefault(){return null}set(i){var h;if(i===this.current&&!this.dirty)return;const p=this.gl;Ms(p)?p.bindVertexArray(i):(h=p.getExtension("OES_vertex_array_object"))===null||h===void 0||h.bindVertexArrayOES(i),this.current=i,this.dirty=!1}}class Ho extends _n{getDefault(){return 4}set(i){if(i===this.current&&!this.dirty)return;const h=this.gl;h.pixelStorei(h.UNPACK_ALIGNMENT,i),this.current=i,this.dirty=!1}}class ou extends _n{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const h=this.gl;h.pixelStorei(h.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i),this.current=i,this.dirty=!1}}class BA extends _n{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const h=this.gl;h.pixelStorei(h.UNPACK_FLIP_Y_WEBGL,i),this.current=i,this.dirty=!1}}class Ws extends _n{constructor(i,h){super(i),this.context=i,this.parent=h}getDefault(){return null}}class Ys extends Ws{setDirty(){this.dirty=!0}set(i){if(i===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const h=this.gl;h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,i,0),this.current=i,this.dirty=!1}}class Js extends Ws{set(i){if(i===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const h=this.gl;h.framebufferRenderbuffer(h.FRAMEBUFFER,h.DEPTH_ATTACHMENT,h.RENDERBUFFER,i),this.current=i,this.dirty=!1}}class Ko extends Ws{set(i){if(i===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const h=this.gl;h.framebufferRenderbuffer(h.FRAMEBUFFER,h.DEPTH_STENCIL_ATTACHMENT,h.RENDERBUFFER,i),this.current=i,this.dirty=!1}}class Ia{constructor(i,h,p,v,x){this.context=i,this.width=h,this.height=p;const L=i.gl,M=this.framebuffer=L.createFramebuffer();if(this.colorAttachment=new Ys(i,M),v)this.depthAttachment=x?new Ko(i,M):new Js(i,M);else if(x)throw new Error("Stencil cannot be set without depth");if(L.checkFramebufferStatus(L.FRAMEBUFFER)!==L.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){const i=this.context.gl,h=this.colorAttachment.get();if(h&&i.deleteTexture(h),this.depthAttachment){const p=this.depthAttachment.get();p&&i.deleteRenderbuffer(p)}i.deleteFramebuffer(this.framebuffer)}}class ei{constructor(i,h,p){this.blendFunction=i,this.blendColor=h,this.mask=p}}ei.Replace=[1,0],ei.disabled=new ei(ei.Replace,l.aM.transparent,[!1,!1,!1,!1]),ei.unblended=new ei(ei.Replace,l.aM.transparent,[!0,!0,!0,!0]),ei.alphaBlended=new ei([1,771],l.aM.transparent,[!0,!0,!0,!0]);class CA{constructor(i){var h,p;if(this.gl=i,this.clearColor=new xo(this),this.clearDepth=new su(this),this.clearStencil=new hl(this),this.colorMask=new $l(this),this.depthMask=new fl(this),this.stencilMask=new qc(this),this.stencilFunc=new dl(this),this.stencilOp=new Uu(this),this.stencilTest=new V(this),this.depthRange=new fe(this),this.depthTest=new ze(this),this.depthFunc=new rt(this),this.blend=new ut(this),this.blendFunc=new Ot(this),this.blendColor=new Ht(this),this.blendEquation=new yr(this),this.cullFace=new br(this),this.cullFaceSide=new tn(this),this.frontFace=new An(this),this.program=new zn(this),this.activeTexture=new Pi(this),this.viewport=new Hi(this),this.bindFramebuffer=new si(this),this.bindRenderbuffer=new ha(this),this.bindTexture=new Ki(this),this.bindVertexBuffer=new Ta(this),this.bindElementBuffer=new Bo(this),this.bindVertexArray=new ya(this),this.pixelStoreUnpack=new Ho(this),this.pixelStoreUnpackPremultiplyAlpha=new ou(this),this.pixelStoreUnpackFlipY=new BA(this),this.extTextureFilterAnisotropic=i.getExtension("EXT_texture_filter_anisotropic")||i.getExtension("MOZ_EXT_texture_filter_anisotropic")||i.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=i.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=i.getParameter(i.MAX_TEXTURE_SIZE),Ms(i)){this.HALF_FLOAT=i.HALF_FLOAT;const v=i.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(h=i.RGBA16F)!==null&&h!==void 0?h:v?.RGBA16F_EXT,this.RGB16F=(p=i.RGB16F)!==null&&p!==void 0?p:v?.RGB16F_EXT,i.getExtension("EXT_color_buffer_float")}else{i.getExtension("EXT_color_buffer_half_float"),i.getExtension("OES_texture_half_float_linear");const v=i.getExtension("OES_texture_half_float");this.HALF_FLOAT=v?.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(i,h){return new ga(this,i,h)}createVertexBuffer(i,h,p){return new jo(this,i,h,p)}createRenderbuffer(i,h,p){const v=this.gl,x=v.createRenderbuffer();return this.bindRenderbuffer.set(x),v.renderbufferStorage(v.RENDERBUFFER,i,h,p),this.bindRenderbuffer.set(null),x}createFramebuffer(i,h,p,v){return new Ia(this,i,h,p,v)}clear({color:i,depth:h,stencil:p}){const v=this.gl;let x=0;i&&(x|=v.COLOR_BUFFER_BIT,this.clearColor.set(i),this.colorMask.set([!0,!0,!0,!0])),h!==void 0&&(x|=v.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(h),this.depthMask.set(!0)),p!==void 0&&(x|=v.STENCIL_BUFFER_BIT,this.clearStencil.set(p),this.stencilMask.set(255)),v.clear(x)}setCullFace(i){i.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(i.mode),this.frontFace.set(i.frontFace))}setDepthMode(i){i.func!==this.gl.ALWAYS||i.mask?(this.depthTest.set(!0),this.depthFunc.set(i.func),this.depthMask.set(i.mask),this.depthRange.set(i.range)):this.depthTest.set(!1)}setStencilMode(i){i.test.func!==this.gl.ALWAYS||i.mask?(this.stencilTest.set(!0),this.stencilMask.set(i.mask),this.stencilOp.set([i.fail,i.depthFail,i.pass]),this.stencilFunc.set({func:i.test.func,ref:i.ref,mask:i.test.mask})):this.stencilTest.set(!1)}setColorMode(i){l.aE(i.blendFunction,ei.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(i.blendFunction),this.blendColor.set(i.blendColor)),this.colorMask.set(i.mask)}createVertexArray(){var i;return Ms(this.gl)?this.gl.createVertexArray():(i=this.gl.getExtension("OES_vertex_array_object"))===null||i===void 0?void 0:i.createVertexArrayOES()}deleteVertexArray(i){var h;return Ms(this.gl)?this.gl.deleteVertexArray(i):(h=this.gl.getExtension("OES_vertex_array_object"))===null||h===void 0?void 0:h.deleteVertexArrayOES(i)}unbindVAO(){this.bindVertexArray.set(null)}}class ln{constructor(i,h,p){this.func=i,this.mask=h,this.range=p}}ln.ReadOnly=!1,ln.ReadWrite=!0,ln.disabled=new ln(519,ln.ReadOnly,[0,1]);const eo=7680;class mn{constructor(i,h,p,v,x,L){this.test=i,this.ref=h,this.mask=p,this.fail=v,this.depthFail=x,this.pass=L}}mn.disabled=new mn({func:519,mask:0},0,0,eo,eo,eo);class Tn{constructor(i,h,p){this.enable=i,this.mode=h,this.frontFace=p}}let Co;function Xl(_,i,h,p,v){const x=_.context,L=x.gl,M=_.useProgram("collisionBox"),N=[];let Q=0,G=0;for(let xe=0;xe<p.length;xe++){const Qe=p[xe],Te=i.getTile(Qe).getBucket(h);if(!Te)continue;const Xe=v?Te.textCollisionBox:Te.iconCollisionBox,Ge=Te.collisionCircleArray;if(Ge.length>0){const at=l.H();l.aQ(at,Te.placementInvProjMatrix,_.transform.glCoordMatrix),l.aQ(at,at,Te.placementViewportMatrix),N.push({circleArray:Ge,circleOffset:G,transform:Qe.posMatrix,invTransform:at,coord:Qe}),Q+=Ge.length/4,G=Q}Xe&&M.draw(x,L.LINES,ln.disabled,mn.disabled,_.colorModeForRenderPass(),Tn.disabled,{u_matrix:Qe.posMatrix,u_pixel_extrude_scale:[1/($=_.transform).width,1/$.height]},_.style.map.terrain&&_.style.map.terrain.getTerrainData(Qe),h.id,Xe.layoutVertexBuffer,Xe.indexBuffer,Xe.segments,null,_.transform.zoom,null,null,Xe.collisionVertexBuffer)}var $;if(!v||!N.length)return;const ee=_.useProgram("collisionCircle"),ne=new l.aR;ne.resize(4*Q),ne._trim();let ce=0;for(const xe of N)for(let Qe=0;Qe<xe.circleArray.length/4;Qe++){const Te=4*Qe,Xe=xe.circleArray[Te+0],Ge=xe.circleArray[Te+1],at=xe.circleArray[Te+2],wt=xe.circleArray[Te+3];ne.emplace(ce++,Xe,Ge,at,wt,0),ne.emplace(ce++,Xe,Ge,at,wt,1),ne.emplace(ce++,Xe,Ge,at,wt,2),ne.emplace(ce++,Xe,Ge,at,wt,3)}(!Co||Co.length<2*Q)&&(Co=(function(xe){const Qe=2*xe,Te=new l.aT;Te.resize(Qe),Te._trim();for(let Xe=0;Xe<Qe;Xe++){const Ge=6*Xe;Te.uint16[Ge+0]=4*Xe+0,Te.uint16[Ge+1]=4*Xe+1,Te.uint16[Ge+2]=4*Xe+2,Te.uint16[Ge+3]=4*Xe+2,Te.uint16[Ge+4]=4*Xe+3,Te.uint16[Ge+5]=4*Xe+0}return Te})(Q));const ge=x.createIndexBuffer(Co,!0),Se=x.createVertexBuffer(ne,l.aS.members,!0);for(const xe of N){const Qe=za(xe.transform,xe.invTransform,_.transform);ee.draw(x,L.TRIANGLES,ln.disabled,mn.disabled,_.colorModeForRenderPass(),Tn.disabled,Qe,_.style.map.terrain&&_.style.map.terrain.getTerrainData(xe.coord),h.id,Se,ge,l.a0.simpleSegment(0,2*xe.circleOffset,xe.circleArray.length,xe.circleArray.length/2),null,_.transform.zoom,null,null,null)}Se.destroy(),ge.destroy()}Tn.disabled=new Tn(!1,1029,2305),Tn.backCCW=new Tn(!0,1029,2305);const Ha=l.an(new Float32Array(16));function to(_,i,h,p,v,x){const{horizontalAlign:L,verticalAlign:M}=l.au(_);return new l.P((-(L-.5)*i/v+p[0])*x,(-(M-.5)*h/v+p[1])*x)}function cs(_,i,h,p,v,x){const L=i.tileAnchorPoint.add(new l.P(i.translation[0],i.translation[1]));if(i.pitchWithMap){let M=p.mult(x);h||(M=M.rotate(-v));const N=L.add(M);return Me(N.x,N.y,i.labelPlaneMatrix,i.getElevation).point}if(h){const M=yt(i.tileAnchorPoint.x+1,i.tileAnchorPoint.y,i).point.sub(_),N=Math.atan(M.y/M.x)+(M.x<0?Math.PI:0);return _.add(p.rotate(N))}return _.add(p)}function pl(_,i,h,p,v,x,L,M,N,Q,G,$,ee,ne){const ce=_.text.placedSymbolArray,ge=_.text.dynamicLayoutVertexArray,Se=_.icon.dynamicLayoutVertexArray,xe={};ge.clear();for(let Qe=0;Qe<ce.length;Qe++){const Te=ce.get(Qe),Xe=Te.hidden||!Te.crossTileID||_.allowVerticalPlacement&&!Te.placedOrientation?null:p[Te.crossTileID];if(Xe){const Ge=new l.P(Te.anchorX,Te.anchorY),at={getElevation:ne,width:v.width,height:v.height,labelPlaneMatrix:x,pitchWithMap:h,projection:G,tileAnchorPoint:Ge,translation:$,unwrappedTileID:ee},wt=h?Me(Ge.x,Ge.y,L,ne):yt(Ge.x,Ge.y,at),St=le(v.cameraToCenterDistance,wt.signedDistanceFromCamera);let _t=l.ai(_.textSizeData,N,Te)*St/l.ap;h&&(_t*=_.tilePixelRatio/M);const{width:gt,height:Nt,anchor:Et,textOffset:zt,textBoxScale:tr}=Xe,Vt=to(Et,gt,Nt,zt,tr,_t),$t=G.getPitchedTextCorrection(v,Ge.add(new l.P($[0],$[1])),ee),rr=cs(wt.point,at,i,Vt,v.angle,$t),un=_.allowVerticalPlacement&&Te.placedOrientation===l.ah.vertical?Math.PI/2:0;for(let Ir=0;Ir<Te.numGlyphs;Ir++)l.aj(ge,rr,un);Q&&Te.associatedIconIndex>=0&&(xe[Te.associatedIconIndex]={shiftedAnchor:rr,angle:un})}else dr(Te.numGlyphs,ge)}if(Q){Se.clear();const Qe=_.icon.placedSymbolArray;for(let Te=0;Te<Qe.length;Te++){const Xe=Qe.get(Te);if(Xe.hidden)dr(Xe.numGlyphs,Se);else{const Ge=xe[Te];if(Ge)for(let at=0;at<Xe.numGlyphs;at++)l.aj(Se,Ge.shiftedAnchor,Ge.angle);else dr(Xe.numGlyphs,Se)}}_.icon.dynamicLayoutVertexBuffer.updateData(Se)}_.text.dynamicLayoutVertexBuffer.updateData(ge)}function Vi(_,i,h){return h.iconsInText&&i?"symbolTextAndIcon":_?"symbolSDF":"symbolIcon"}function ml(_,i,h,p,v,x,L,M,N,Q,G,$){const ee=_.context,ne=ee.gl,ce=_.transform,ge=Al(),Se=M==="map",xe=N==="map",Qe=M!=="viewport"&&h.layout.get("symbol-placement")!=="point",Te=Se&&!xe&&!Qe,Xe=!xe&&Qe,Ge=!h.layout.get("symbol-sort-key").isConstant();let at=!1;const wt=_.depthModeForSublayer(0,ln.ReadOnly),St=h._unevaluatedLayout.hasValue("text-variable-anchor")||h._unevaluatedLayout.hasValue("text-variable-anchor-offset"),_t=[],gt=ge.getCircleRadiusCorrection(ce);for(const Nt of p){const Et=i.getTile(Nt),zt=Et.getBucket(h);if(!zt)continue;const tr=v?zt.text:zt.icon;if(!tr||!tr.segments.get().length||!tr.hasVisibleVertices)continue;const Vt=tr.programConfigurations.get(h.id),$t=v||zt.sdfIcons,rr=v?zt.textSizeData:zt.iconSizeData,un=xe||ce.pitch!==0,Ir=_.useProgram(Vi($t,v,zt),Vt),Ur=l.ag(rr,ce.zoom),wr=_.style.map.terrain&&_.style.map.terrain.getTerrainData(Nt);let an,jn,Dr,qn,In=[0,0],sn=null;if(v)jn=Et.glyphAtlasTexture,Dr=ne.LINEAR,an=Et.glyphAtlasTexture.size,zt.iconsInText&&(In=Et.imageAtlasTexture.size,sn=Et.imageAtlasTexture,qn=un||_.options.rotating||_.options.zooming||rr.kind==="composite"||rr.kind==="camera"?ne.LINEAR:ne.NEAREST);else{const cn=h.layout.get("icon-size").constantOr(0)!==1||zt.iconsNeedLinear;jn=Et.imageAtlasTexture,Dr=$t||_.options.rotating||_.options.zooming||cn||un?ne.LINEAR:ne.NEAREST,an=Et.imageAtlasTexture.size}const On=jr(Et,1,_.transform.zoom),Cn=Xe?Nt.posMatrix:Ha,xi=kn(Cn,xe,Se,_.transform,On),ki=Xr(Cn,xe,Se,_.transform,On),Gn=Xr(Nt.posMatrix,xe,Se,_.transform,On),fn=ge.translatePosition(_.transform,Et,x,L),wa=St&&zt.hasTextData(),Ti=h.layout.get("icon-text-fit")!=="none"&&wa&&zt.hasIconData();if(Qe){const cn=_.style.map.terrain?(rA,Zn)=>_.style.map.terrain.getElevation(Nt,rA,Zn):null,Rs=h.layout.get("text-rotation-alignment")==="map";we(zt,Nt.posMatrix,_,v,xi,Gn,xe,Q,Rs,ge,Nt.toUnwrapped(),ce.width,ce.height,fn,cn)}const gr=Nt.posMatrix,vr=v&&St||Ti,xn=Qe||vr?Ha:xi,Ii=ki,ni=$t&&h.paint.get(v?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let Wn;Wn=$t?zt.iconsInText?Us(rr.kind,Ur,Te,xe,Qe,vr,_,gr,xn,Ii,fn,an,In,gt):wA(rr.kind,Ur,Te,xe,Qe,vr,_,gr,xn,Ii,fn,v,an,!0,gt):zo(rr.kind,Ur,Te,xe,Qe,vr,_,gr,xn,Ii,fn,v,an,gt);const $n={program:Ir,buffers:tr,uniformValues:Wn,atlasTexture:jn,atlasTextureIcon:sn,atlasInterpolation:Dr,atlasInterpolationIcon:qn,isSDF:$t,hasHalo:ni};if(Ge&&zt.canOverlap){at=!0;const cn=tr.segments.get();for(const Rs of cn)_t.push({segments:new l.a0([Rs]),sortKey:Rs.sortKey,state:$n,terrainData:wr})}else _t.push({segments:tr.segments,sortKey:0,state:$n,terrainData:wr})}at&&_t.sort(((Nt,Et)=>Nt.sortKey-Et.sortKey));for(const Nt of _t){const Et=Nt.state;if(ee.activeTexture.set(ne.TEXTURE0),Et.atlasTexture.bind(Et.atlasInterpolation,ne.CLAMP_TO_EDGE),Et.atlasTextureIcon&&(ee.activeTexture.set(ne.TEXTURE1),Et.atlasTextureIcon&&Et.atlasTextureIcon.bind(Et.atlasInterpolationIcon,ne.CLAMP_TO_EDGE)),Et.isSDF){const zt=Et.uniformValues;Et.hasHalo&&(zt.u_is_halo=1,Wa(Et.buffers,Nt.segments,h,_,Et.program,wt,G,$,zt,Nt.terrainData)),zt.u_is_halo=0}Wa(Et.buffers,Nt.segments,h,_,Et.program,wt,G,$,Et.uniformValues,Nt.terrainData)}}function Wa(_,i,h,p,v,x,L,M,N,Q){const G=p.context;v.draw(G,G.gl.TRIANGLES,x,L,M,Tn.disabled,N,Q,h.id,_.layoutVertexBuffer,_.indexBuffer,i,h.paint,p.transform.zoom,_.programConfigurations.get(h.id),_.dynamicLayoutVertexBuffer,_.opacityVertexBuffer)}function Ka(_,i,h,p){const v=_.context,x=v.gl,L=mn.disabled,M=new ei([x.ONE,x.ONE],l.aM.transparent,[!0,!0,!0,!0]),N=i.getBucket(h);if(!N)return;const Q=p.key;let G=h.heatmapFbos.get(Q);G||(G=Ps(v,i.tileSize,i.tileSize),h.heatmapFbos.set(Q,G)),v.bindFramebuffer.set(G.framebuffer),v.viewport.set([0,0,i.tileSize,i.tileSize]),v.clear({color:l.aM.transparent});const $=N.programConfigurations.get(h.id),ee=_.useProgram("heatmap",$),ne=_.style.map.terrain.getTerrainData(p);ee.draw(v,x.TRIANGLES,ln.disabled,L,M,Tn.disabled,Yi(p.posMatrix,i,_.transform.zoom,h.paint.get("heatmap-intensity")),ne,h.id,N.layoutVertexBuffer,N.indexBuffer,N.segments,h.paint,_.transform.zoom,$)}function Ya(_,i,h){const p=_.context,v=p.gl;p.setColorMode(_.colorModeForRenderPass());const x=ro(p,i),L=h.key,M=i.heatmapFbos.get(L);M&&(p.activeTexture.set(v.TEXTURE0),v.bindTexture(v.TEXTURE_2D,M.colorAttachment.get()),p.activeTexture.set(v.TEXTURE1),x.bind(v.LINEAR,v.CLAMP_TO_EDGE),_.useProgram("heatmapTexture").draw(p,v.TRIANGLES,ln.disabled,mn.disabled,_.colorModeForRenderPass(),Tn.disabled,Vr(_,i,0,1),null,i.id,_.rasterBoundsBuffer,_.quadTriangleIndexBuffer,_.rasterBoundsSegments,i.paint,_.transform.zoom),M.destroy(),i.heatmapFbos.delete(L))}function Ps(_,i,h){var p,v;const x=_.gl,L=x.createTexture();x.bindTexture(x.TEXTURE_2D,L),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_S,x.CLAMP_TO_EDGE),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_T,x.CLAMP_TO_EDGE),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MIN_FILTER,x.LINEAR),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MAG_FILTER,x.LINEAR);const M=(p=_.HALF_FLOAT)!==null&&p!==void 0?p:x.UNSIGNED_BYTE,N=(v=_.RGBA16F)!==null&&v!==void 0?v:x.RGBA;x.texImage2D(x.TEXTURE_2D,0,N,i,h,0,x.RGBA,M,null);const Q=_.createFramebuffer(i,h,!1,!1);return Q.colorAttachment.set(L),Q}function ro(_,i){return i.colorRampTexture||(i.colorRampTexture=new se(_,i.colorRamp,_.gl.RGBA)),i.colorRampTexture}function Vo(_,i,h,p,v){if(!h||!p||!p.imageAtlas)return;const x=p.imageAtlas.patternPositions;let L=x[h.to.toString()],M=x[h.from.toString()];if(!L&&M&&(L=M),!M&&L&&(M=L),!L||!M){const N=v.getPaintProperty(i);L=x[N],M=x[N]}L&&M&&_.setConstantPatternPositions(L,M)}function gl(_,i,h,p,v,x,L){const M=_.context.gl,N="fill-pattern",Q=h.paint.get(N),G=Q&&Q.constantOr(1),$=h.getCrossfadeParameters();let ee,ne,ce,ge,Se;L?(ne=G&&!h.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",ee=M.LINES):(ne=G?"fillPattern":"fill",ee=M.TRIANGLES);const xe=Q.constantOr(null);for(const Qe of p){const Te=i.getTile(Qe);if(G&&!Te.patternsLoaded())continue;const Xe=Te.getBucket(h);if(!Xe)continue;const Ge=Xe.programConfigurations.get(h.id),at=_.useProgram(ne,Ge),wt=_.style.map.terrain&&_.style.map.terrain.getTerrainData(Qe);G&&(_.context.activeTexture.set(M.TEXTURE0),Te.imageAtlasTexture.bind(M.LINEAR,M.CLAMP_TO_EDGE),Ge.updatePaintBuffers($)),Vo(Ge,N,xe,Te,h);const St=wt?Qe:null,_t=_.translatePosMatrix(St?St.posMatrix:Qe.posMatrix,Te,h.paint.get("fill-translate"),h.paint.get("fill-translate-anchor"));if(L){ge=Xe.indexBuffer2,Se=Xe.segments2;const gt=[M.drawingBufferWidth,M.drawingBufferHeight];ce=ne==="fillOutlinePattern"&&G?fc(_t,_,$,Te,gt):hc(_t,gt)}else ge=Xe.indexBuffer,Se=Xe.segments,ce=G?Fu(_t,_,$,Te):ql(_t);at.draw(_.context,ee,v,_.stencilModeForClipping(Qe),x,Tn.disabled,ce,wt,h.id,Xe.layoutVertexBuffer,ge,Se,h.paint,_.transform.zoom,Ge)}}function Si(_,i,h,p,v,x,L){const M=_.context,N=M.gl,Q="fill-extrusion-pattern",G=h.paint.get(Q),$=G.constantOr(1),ee=h.getCrossfadeParameters(),ne=h.paint.get("fill-extrusion-opacity"),ce=G.constantOr(null);for(const ge of p){const Se=i.getTile(ge),xe=Se.getBucket(h);if(!xe)continue;const Qe=_.style.map.terrain&&_.style.map.terrain.getTerrainData(ge),Te=xe.programConfigurations.get(h.id),Xe=_.useProgram($?"fillExtrusionPattern":"fillExtrusion",Te);$&&(_.context.activeTexture.set(N.TEXTURE0),Se.imageAtlasTexture.bind(N.LINEAR,N.CLAMP_TO_EDGE),Te.updatePaintBuffers(ee)),Vo(Te,Q,ce,Se,h);const Ge=_.translatePosMatrix(ge.posMatrix,Se,h.paint.get("fill-extrusion-translate"),h.paint.get("fill-extrusion-translate-anchor")),at=h.paint.get("fill-extrusion-vertical-gradient"),wt=$?nu(Ge,_,at,ne,ge,ee,Se):Ro(Ge,_,at,ne);Xe.draw(M,M.gl.TRIANGLES,v,x,L,Tn.backCCW,wt,Qe,h.id,xe.layoutVertexBuffer,xe.indexBuffer,xe.segments,h.paint,_.transform.zoom,Te,_.style.map.terrain&&xe.centroidVertexBuffer)}}function Zl(_,i,h,p,v,x,L){const M=_.context,N=M.gl,Q=h.fbo;if(!Q)return;const G=_.useProgram("hillshade"),$=_.style.map.terrain&&_.style.map.terrain.getTerrainData(i);M.activeTexture.set(N.TEXTURE0),N.bindTexture(N.TEXTURE_2D,Q.colorAttachment.get()),G.draw(M,N.TRIANGLES,v,x,L,Tn.disabled,((ee,ne,ce,ge)=>{const Se=ce.paint.get("hillshade-shadow-color"),xe=ce.paint.get("hillshade-highlight-color"),Qe=ce.paint.get("hillshade-accent-color");let Te=ce.paint.get("hillshade-illumination-direction")*(Math.PI/180);ce.paint.get("hillshade-illumination-anchor")==="viewport"&&(Te-=ee.transform.angle);const Xe=!ee.options.moving;return{u_matrix:ge?ge.posMatrix:ee.transform.calculatePosMatrix(ne.tileID.toUnwrapped(),Xe),u_image:0,u_latrange:iu(0,ne.tileID),u_light:[ce.paint.get("hillshade-exaggeration"),Te],u_shadow:Se,u_highlight:xe,u_accent:Qe}})(_,h,p,$?i:null),$,p.id,_.rasterBoundsBuffer,_.quadTriangleIndexBuffer,_.rasterBoundsSegments)}function hs(_,i,h,p,v,x){const L=_.context,M=L.gl,N=i.dem;if(N&&N.data){const Q=N.dim,G=N.stride,$=N.getPixels();if(L.activeTexture.set(M.TEXTURE1),L.pixelStoreUnpackPremultiplyAlpha.set(!1),i.demTexture=i.demTexture||_.getTileTexture(G),i.demTexture){const ne=i.demTexture;ne.update($,{premultiply:!1}),ne.bind(M.NEAREST,M.CLAMP_TO_EDGE)}else i.demTexture=new se(L,$,M.RGBA,{premultiply:!1}),i.demTexture.bind(M.NEAREST,M.CLAMP_TO_EDGE);L.activeTexture.set(M.TEXTURE0);let ee=i.fbo;if(!ee){const ne=new se(L,{width:Q,height:Q,data:null},M.RGBA);ne.bind(M.LINEAR,M.CLAMP_TO_EDGE),ee=i.fbo=L.createFramebuffer(Q,Q,!0,!1),ee.colorAttachment.set(ne.texture)}L.bindFramebuffer.set(ee.framebuffer),L.viewport.set([0,0,Q,Q]),_.useProgram("hillshadePrepare").draw(L,M.TRIANGLES,p,v,x,Tn.disabled,((ne,ce)=>{const ge=ce.stride,Se=l.H();return l.aP(Se,0,l.X,-l.X,0,0,1),l.J(Se,Se,[0,-l.X,0]),{u_matrix:Se,u_image:1,u_dimension:[ge,ge],u_zoom:ne.overscaledZ,u_unpack:ce.getUnpackVector()}})(i.tileID,N),null,h.id,_.rasterBoundsBuffer,_.quadTriangleIndexBuffer,_.rasterBoundsSegments),i.needsHillshadePrepare=!1}}function qo(_,i,h,p,v,x){const L=p.paint.get("raster-fade-duration");if(!x&&L>0){const M=C.now(),N=(M-_.timeAdded)/L,Q=i?(M-i.timeAdded)/L:-1,G=h.getSource(),$=v.coveringZoomLevel({tileSize:G.tileSize,roundZoom:G.roundZoom}),ee=!i||Math.abs(i.tileID.overscaledZ-$)>Math.abs(_.tileID.overscaledZ-$),ne=ee&&_.refreshedUponExpiration?1:l.ac(ee?N:1-Q,0,1);return _.refreshedUponExpiration&&N>=1&&(_.refreshedUponExpiration=!1),i?{opacity:1,mix:1-ne}:{opacity:ne,mix:0}}return{opacity:1,mix:0}}const va=new l.aM(1,0,0,1),dn=new l.aM(0,1,0,1),Wl=new l.aM(0,0,1,1),Mu=new l.aM(1,0,1,1),yl=new l.aM(0,1,1,1);function Os(_,i,h,p){vl(_,0,i+h/2,_.transform.width,h,p)}function Go(_,i,h,p){vl(_,i-h/2,0,h,_.transform.height,p)}function vl(_,i,h,p,v,x){const L=_.context,M=L.gl;M.enable(M.SCISSOR_TEST),M.scissor(i*_.pixelRatio,h*_.pixelRatio,p*_.pixelRatio,v*_.pixelRatio),L.clear({color:x}),M.disable(M.SCISSOR_TEST)}function Ds(_,i,h){const p=_.context,v=p.gl,x=h.posMatrix,L=_.useProgram("debug"),M=ln.disabled,N=mn.disabled,Q=_.colorModeForRenderPass(),G="$debug",$=_.style.map.terrain&&_.style.map.terrain.getTerrainData(h);p.activeTexture.set(v.TEXTURE0);const ee=i.getTileByID(h.key).latestRawTileData,ne=Math.floor((ee&&ee.byteLength||0)/1024),ce=i.getTile(h).tileSize,ge=512/Math.min(ce,512)*(h.overscaledZ/_.transform.zoom)*.5;let Se=h.canonical.toString();h.overscaledZ!==h.canonical.z&&(Se+=` => ${h.overscaledZ}`),(function(xe,Qe){xe.initDebugOverlayCanvas();const Te=xe.debugOverlayCanvas,Xe=xe.context.gl,Ge=xe.debugOverlayCanvas.getContext("2d");Ge.clearRect(0,0,Te.width,Te.height),Ge.shadowColor="white",Ge.shadowBlur=2,Ge.lineWidth=1.5,Ge.strokeStyle="white",Ge.textBaseline="top",Ge.font="bold 36px Open Sans, sans-serif",Ge.fillText(Qe,5,5),Ge.strokeText(Qe,5,5),xe.debugOverlayTexture.update(Te),xe.debugOverlayTexture.bind(Xe.LINEAR,Xe.CLAMP_TO_EDGE)})(_,`${Se} ${ne}kB`),L.draw(p,v.TRIANGLES,M,N,ei.alphaBlended,Tn.disabled,Xs(x,l.aM.transparent,ge),null,G,_.debugBuffer,_.quadTriangleIndexBuffer,_.debugSegments),L.draw(p,v.LINE_STRIP,M,N,Q,Tn.disabled,Xs(x,l.aM.red),$,G,_.debugBuffer,_.tileBorderIndexBuffer,_.debugSegments)}function _l(_,i,h){const p=_.context,v=p.gl,x=_.colorModeForRenderPass(),L=new ln(v.LEQUAL,ln.ReadWrite,_.depthRangeFor3D),M=_.useProgram("terrain"),N=i.getTerrainMesh();p.bindFramebuffer.set(null),p.viewport.set([0,0,_.width,_.height]);for(const Q of h){const G=_.renderToTexture.getTexture(Q),$=i.getTerrainData(Q.tileID);p.activeTexture.set(v.TEXTURE0),v.bindTexture(v.TEXTURE_2D,G.texture);const ee=_.transform.calculatePosMatrix(Q.tileID.toUnwrapped()),ne=i.getMeshFrameDelta(_.transform.zoom),ce=_.transform.calculateFogMatrix(Q.tileID.toUnwrapped()),ge=Ra(ee,ne,ce,_.style.sky,_.transform.pitch);M.draw(p,v.TRIANGLES,L,mn.disabled,x,Tn.backCCW,ge,$,"terrain",N.vertexBuffer,N.indexBuffer,N.segments)}}class _a{constructor(i,h,p){this.vertexBuffer=i,this.indexBuffer=h,this.segments=p}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.vertexBuffer=null,this.indexBuffer=null,this.segments=null}}class fs{constructor(i,h){this.context=new CA(i),this.transform=h,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:l.an(new Float64Array(16)),renderTime:0},this.setup(),this.numSublayers=Gt.maxUnderzooming+Gt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new ul}resize(i,h,p){if(this.width=Math.floor(i*p),this.height=Math.floor(h*p),this.pixelRatio=p,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const v of this.style._order)this.style._layers[v].resize()}setup(){const i=this.context,h=new l.aX;h.emplaceBack(0,0),h.emplaceBack(l.X,0),h.emplaceBack(0,l.X),h.emplaceBack(l.X,l.X),this.tileExtentBuffer=i.createVertexBuffer(h,ui.members),this.tileExtentSegments=l.a0.simpleSegment(0,0,4,2);const p=new l.aX;p.emplaceBack(0,0),p.emplaceBack(l.X,0),p.emplaceBack(0,l.X),p.emplaceBack(l.X,l.X),this.debugBuffer=i.createVertexBuffer(p,ui.members),this.debugSegments=l.a0.simpleSegment(0,0,4,5);const v=new l.$;v.emplaceBack(0,0,0,0),v.emplaceBack(l.X,0,l.X,0),v.emplaceBack(0,l.X,0,l.X),v.emplaceBack(l.X,l.X,l.X,l.X),this.rasterBoundsBuffer=i.createVertexBuffer(v,Tr.members),this.rasterBoundsSegments=l.a0.simpleSegment(0,0,4,2);const x=new l.aX;x.emplaceBack(0,0),x.emplaceBack(1,0),x.emplaceBack(0,1),x.emplaceBack(1,1),this.viewportBuffer=i.createVertexBuffer(x,ui.members),this.viewportSegments=l.a0.simpleSegment(0,0,4,2);const L=new l.aZ;L.emplaceBack(0),L.emplaceBack(1),L.emplaceBack(3),L.emplaceBack(2),L.emplaceBack(0),this.tileBorderIndexBuffer=i.createIndexBuffer(L);const M=new l.aY;M.emplaceBack(0,1,2),M.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=i.createIndexBuffer(M);const N=this.context.gl;this.stencilClearMode=new mn({func:N.ALWAYS,mask:0},0,255,N.ZERO,N.ZERO,N.ZERO)}clearStencil(){const i=this.context,h=i.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const p=l.H();l.aP(p,0,this.width,this.height,0,0,1),l.K(p,p,[h.drawingBufferWidth,h.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(i,h.TRIANGLES,ln.disabled,this.stencilClearMode,ei.disabled,Tn.disabled,ua(p),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(i,h){if(this.currentStencilSource===i.source||!i.isTileClipped()||!h||!h.length)return;this.currentStencilSource=i.source;const p=this.context,v=p.gl;this.nextStencilID+h.length>256&&this.clearStencil(),p.setColorMode(ei.disabled),p.setDepthMode(ln.disabled);const x=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const L of h){const M=this._tileClippingMaskIDs[L.key]=this.nextStencilID++,N=this.style.map.terrain&&this.style.map.terrain.getTerrainData(L);x.draw(p,v.TRIANGLES,ln.disabled,new mn({func:v.ALWAYS,mask:0},M,255,v.KEEP,v.KEEP,v.REPLACE),ei.disabled,Tn.disabled,ua(L.posMatrix),N,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const i=this.nextStencilID++,h=this.context.gl;return new mn({func:h.NOTEQUAL,mask:255},i,255,h.KEEP,h.KEEP,h.REPLACE)}stencilModeForClipping(i){const h=this.context.gl;return new mn({func:h.EQUAL,mask:255},this._tileClippingMaskIDs[i.key],0,h.KEEP,h.KEEP,h.REPLACE)}stencilConfigForOverlap(i){const h=this.context.gl,p=i.sort(((L,M)=>M.overscaledZ-L.overscaledZ)),v=p[p.length-1].overscaledZ,x=p[0].overscaledZ-v+1;if(x>1){this.currentStencilSource=void 0,this.nextStencilID+x>256&&this.clearStencil();const L={};for(let M=0;M<x;M++)L[M+v]=new mn({func:h.GEQUAL,mask:255},M+this.nextStencilID,255,h.KEEP,h.KEEP,h.REPLACE);return this.nextStencilID+=x,[L,p]}return[{[v]:mn.disabled},p]}colorModeForRenderPass(){const i=this.context.gl;return this._showOverdrawInspector?new ei([i.CONSTANT_COLOR,i.ONE],new l.aM(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?ei.unblended:ei.alphaBlended}depthModeForSublayer(i,h,p){if(!this.opaquePassEnabledForLayer())return ln.disabled;const v=1-((1+this.currentLayer)*this.numSublayers+i)*this.depthEpsilon;return new ln(p||this.context.gl.LEQUAL,h,[v,v])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(i,h){this.style=i,this.options=h,this.lineAtlas=i.lineAtlas,this.imageManager=i.imageManager,this.glyphManager=i.glyphManager,this.symbolFadeChange=i.placement.symbolFadeChange(C.now()),this.imageManager.beginFrame();const p=this.style._order,v=this.style.sourceCaches,x={},L={},M={};for(const N in v){const Q=v[N];Q.used&&Q.prepare(this.context),x[N]=Q.getVisibleCoordinates(),L[N]=x[N].slice().reverse(),M[N]=Q.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let N=0;N<p.length;N++)if(this.style._layers[p[N]].is3D()){this.opaquePassCutoff=N;break}this.maybeDrawDepthAndCoords(!1),this.renderToTexture&&(this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0),this.renderPass="offscreen";for(const N of p){const Q=this.style._layers[N];if(!Q.hasOffscreenPass()||Q.isHidden(this.transform.zoom))continue;const G=L[Q.source];(Q.type==="custom"||G.length)&&this.renderLayer(this,v[Q.source],Q,G)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:h.showOverdrawInspector?l.aM.black:l.aM.transparent,depth:1}),this.clearStencil(),this.style.sky&&(function(N,Q){const G=N.context,$=G.gl,ee=((xe,Qe,Te)=>({u_sky_color:xe.properties.get("sky-color"),u_horizon_color:xe.properties.get("horizon-color"),u_horizon:(Qe.height/2+Qe.getHorizon())*Te,u_sky_horizon_blend:xe.properties.get("sky-horizon-blend")*Qe.height/2*Te}))(Q,N.style.map.transform,N.pixelRatio),ne=new ln($.LEQUAL,ln.ReadWrite,[0,1]),ce=mn.disabled,ge=N.colorModeForRenderPass(),Se=N.useProgram("sky");if(!Q.mesh){const xe=new l.aX;xe.emplaceBack(-1,-1),xe.emplaceBack(1,-1),xe.emplaceBack(1,1),xe.emplaceBack(-1,1);const Qe=new l.aY;Qe.emplaceBack(0,1,2),Qe.emplaceBack(0,2,3),Q.mesh=new _a(G.createVertexBuffer(xe,ui.members),G.createIndexBuffer(Qe),l.a0.simpleSegment(0,0,xe.length,Qe.length))}Se.draw(G,$.TRIANGLES,ne,ce,ge,Tn.disabled,ee,void 0,"sky",Q.mesh.vertexBuffer,Q.mesh.indexBuffer,Q.mesh.segments)})(this,this.style.sky),this._showOverdrawInspector=h.showOverdrawInspector,this.depthRangeFor3D=[0,1-(i._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=p.length-1;this.currentLayer>=0;this.currentLayer--){const N=this.style._layers[p[this.currentLayer]],Q=v[N.source],G=x[N.source];this._renderTileClippingMasks(N,G),this.renderLayer(this,Q,N,G)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<p.length;this.currentLayer++){const N=this.style._layers[p[this.currentLayer]],Q=v[N.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(N))continue;const G=(N.type==="symbol"?M:L)[N.source];this._renderTileClippingMasks(N,x[N.source]),this.renderLayer(this,Q,N,G)}if(this.options.showTileBoundaries){const N=(function(Q,G){let $=null;const ee=Object.values(Q._layers).flatMap((Se=>Se.source&&!Se.isHidden(G)?[Q.sourceCaches[Se.source]]:[])),ne=ee.filter((Se=>Se.getSource().type==="vector")),ce=ee.filter((Se=>Se.getSource().type!=="vector")),ge=Se=>{(!$||$.getSource().maxzoom<Se.getSource().maxzoom)&&($=Se)};return ne.forEach((Se=>ge(Se))),$||ce.forEach((Se=>ge(Se))),$})(this.style,this.transform.zoom);N&&(function(Q,G,$){for(let ee=0;ee<$.length;ee++)Ds(Q,G,$[ee])})(this,N,N.getVisibleCoordinates())}this.options.showPadding&&(function(N){const Q=N.transform.padding;Os(N,N.transform.height-(Q.top||0),3,va),Os(N,Q.bottom||0,3,dn),Go(N,Q.left||0,3,Wl),Go(N,N.transform.width-(Q.right||0),3,Mu);const G=N.transform.centerPoint;(function($,ee,ne,ce){vl($,ee-1,ne-10,2,20,ce),vl($,ee-10,ne-1,20,2,ce)})(N,G.x,N.transform.height-G.y,yl)})(this),this.context.setDefault()}maybeDrawDepthAndCoords(i){if(!this.style||!this.style.map||!this.style.map.terrain)return;const h=this.terrainFacilitator.matrix,p=this.transform.modelViewProjectionMatrix;let v=this.terrainFacilitator.dirty;v||(v=i?!l.a_(h,p):!l.a$(h,p)),v||(v=this.style.map.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime).length>0),v&&(l.b0(h,p),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,(function(x,L){const M=x.context,N=M.gl,Q=ei.unblended,G=new ln(N.LEQUAL,ln.ReadWrite,[0,1]),$=L.getTerrainMesh(),ee=L.sourceCache.getRenderableTiles(),ne=x.useProgram("terrainDepth");M.bindFramebuffer.set(L.getFramebuffer("depth").framebuffer),M.viewport.set([0,0,x.width/devicePixelRatio,x.height/devicePixelRatio]),M.clear({color:l.aM.transparent,depth:1});for(const ce of ee){const ge=L.getTerrainData(ce.tileID),Se={u_matrix:x.transform.calculatePosMatrix(ce.tileID.toUnwrapped()),u_ele_delta:L.getMeshFrameDelta(x.transform.zoom)};ne.draw(M,N.TRIANGLES,G,mn.disabled,Q,Tn.backCCW,Se,ge,"terrain",$.vertexBuffer,$.indexBuffer,$.segments)}M.bindFramebuffer.set(null),M.viewport.set([0,0,x.width,x.height])})(this,this.style.map.terrain),(function(x,L){const M=x.context,N=M.gl,Q=ei.unblended,G=new ln(N.LEQUAL,ln.ReadWrite,[0,1]),$=L.getTerrainMesh(),ee=L.getCoordsTexture(),ne=L.sourceCache.getRenderableTiles(),ce=x.useProgram("terrainCoords");M.bindFramebuffer.set(L.getFramebuffer("coords").framebuffer),M.viewport.set([0,0,x.width/devicePixelRatio,x.height/devicePixelRatio]),M.clear({color:l.aM.transparent,depth:1}),L.coordsIndex=[];for(const ge of ne){const Se=L.getTerrainData(ge.tileID);M.activeTexture.set(N.TEXTURE0),N.bindTexture(N.TEXTURE_2D,ee.texture);const xe={u_matrix:x.transform.calculatePosMatrix(ge.tileID.toUnwrapped()),u_terrain_coords_id:(255-L.coordsIndex.length)/255,u_texture:0,u_ele_delta:L.getMeshFrameDelta(x.transform.zoom)};ce.draw(M,N.TRIANGLES,G,mn.disabled,Q,Tn.backCCW,xe,Se,"terrain",$.vertexBuffer,$.indexBuffer,$.segments),L.coordsIndex.push(ge.tileID.key)}M.bindFramebuffer.set(null),M.viewport.set([0,0,x.width,x.height])})(this,this.style.map.terrain))}renderLayer(i,h,p,v){if(!p.isHidden(this.transform.zoom)&&(p.type==="background"||p.type==="custom"||(v||[]).length))switch(this.id=p.id,p.type){case"symbol":(function(x,L,M,N,Q){if(x.renderPass!=="translucent")return;const G=mn.disabled,$=x.colorModeForRenderPass();(M._unevaluatedLayout.hasValue("text-variable-anchor")||M._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&(function(ee,ne,ce,ge,Se,xe,Qe,Te,Xe){const Ge=ne.transform,at=Al(),wt=Se==="map",St=xe==="map";for(const _t of ee){const gt=ge.getTile(_t),Nt=gt.getBucket(ce);if(!Nt||!Nt.text||!Nt.text.segments.get().length)continue;const Et=l.ag(Nt.textSizeData,Ge.zoom),zt=jr(gt,1,ne.transform.zoom),tr=kn(_t.posMatrix,St,wt,ne.transform,zt),Vt=ce.layout.get("icon-text-fit")!=="none"&&Nt.hasIconData();if(Et){const $t=Math.pow(2,Ge.zoom-gt.tileID.overscaledZ),rr=ne.style.map.terrain?(Ir,Ur)=>ne.style.map.terrain.getElevation(_t,Ir,Ur):null,un=at.translatePosition(Ge,gt,Qe,Te);pl(Nt,wt,St,Xe,Ge,tr,_t.posMatrix,$t,Et,Vt,at,un,_t.toUnwrapped(),rr)}}})(N,x,M,L,M.layout.get("text-rotation-alignment"),M.layout.get("text-pitch-alignment"),M.paint.get("text-translate"),M.paint.get("text-translate-anchor"),Q),M.paint.get("icon-opacity").constantOr(1)!==0&&ml(x,L,M,N,!1,M.paint.get("icon-translate"),M.paint.get("icon-translate-anchor"),M.layout.get("icon-rotation-alignment"),M.layout.get("icon-pitch-alignment"),M.layout.get("icon-keep-upright"),G,$),M.paint.get("text-opacity").constantOr(1)!==0&&ml(x,L,M,N,!0,M.paint.get("text-translate"),M.paint.get("text-translate-anchor"),M.layout.get("text-rotation-alignment"),M.layout.get("text-pitch-alignment"),M.layout.get("text-keep-upright"),G,$),L.map.showCollisionBoxes&&(Xl(x,L,M,N,!0),Xl(x,L,M,N,!1))})(i,h,p,v,this.style.placement.variableOffsets);break;case"circle":(function(x,L,M,N){if(x.renderPass!=="translucent")return;const Q=M.paint.get("circle-opacity"),G=M.paint.get("circle-stroke-width"),$=M.paint.get("circle-stroke-opacity"),ee=!M.layout.get("circle-sort-key").isConstant();if(Q.constantOr(1)===0&&(G.constantOr(1)===0||$.constantOr(1)===0))return;const ne=x.context,ce=ne.gl,ge=x.depthModeForSublayer(0,ln.ReadOnly),Se=mn.disabled,xe=x.colorModeForRenderPass(),Qe=[];for(let Te=0;Te<N.length;Te++){const Xe=N[Te],Ge=L.getTile(Xe),at=Ge.getBucket(M);if(!at)continue;const wt=at.programConfigurations.get(M.id),St=x.useProgram("circle",wt),_t=at.layoutVertexBuffer,gt=at.indexBuffer,Nt=x.style.map.terrain&&x.style.map.terrain.getTerrainData(Xe),Et={programConfiguration:wt,program:St,layoutVertexBuffer:_t,indexBuffer:gt,uniformValues:Ls(x,Xe,Ge,M),terrainData:Nt};if(ee){const zt=at.segments.get();for(const tr of zt)Qe.push({segments:new l.a0([tr]),sortKey:tr.sortKey,state:Et})}else Qe.push({segments:at.segments,sortKey:0,state:Et})}ee&&Qe.sort(((Te,Xe)=>Te.sortKey-Xe.sortKey));for(const Te of Qe){const{programConfiguration:Xe,program:Ge,layoutVertexBuffer:at,indexBuffer:wt,uniformValues:St,terrainData:_t}=Te.state;Ge.draw(ne,ce.TRIANGLES,ge,Se,xe,Tn.disabled,St,_t,M.id,at,wt,Te.segments,M.paint,x.transform.zoom,Xe)}})(i,h,p,v);break;case"heatmap":(function(x,L,M,N){if(M.paint.get("heatmap-opacity")===0)return;const Q=x.context;if(x.style.map.terrain){for(const G of N){const $=L.getTile(G);L.hasRenderableParent(G)||(x.renderPass==="offscreen"?Ka(x,$,M,G):x.renderPass==="translucent"&&Ya(x,M,G))}Q.viewport.set([0,0,x.width,x.height])}else x.renderPass==="offscreen"?(function(G,$,ee,ne){const ce=G.context,ge=ce.gl,Se=mn.disabled,xe=new ei([ge.ONE,ge.ONE],l.aM.transparent,[!0,!0,!0,!0]);(function(Qe,Te,Xe){const Ge=Qe.gl;Qe.activeTexture.set(Ge.TEXTURE1),Qe.viewport.set([0,0,Te.width/4,Te.height/4]);let at=Xe.heatmapFbos.get(l.aU);at?(Ge.bindTexture(Ge.TEXTURE_2D,at.colorAttachment.get()),Qe.bindFramebuffer.set(at.framebuffer)):(at=Ps(Qe,Te.width/4,Te.height/4),Xe.heatmapFbos.set(l.aU,at))})(ce,G,ee),ce.clear({color:l.aM.transparent});for(let Qe=0;Qe<ne.length;Qe++){const Te=ne[Qe];if($.hasRenderableParent(Te))continue;const Xe=$.getTile(Te),Ge=Xe.getBucket(ee);if(!Ge)continue;const at=Ge.programConfigurations.get(ee.id),wt=G.useProgram("heatmap",at),{zoom:St}=G.transform;wt.draw(ce,ge.TRIANGLES,ln.disabled,Se,xe,Tn.disabled,Yi(Te.posMatrix,Xe,St,ee.paint.get("heatmap-intensity")),null,ee.id,Ge.layoutVertexBuffer,Ge.indexBuffer,Ge.segments,ee.paint,G.transform.zoom,at)}ce.viewport.set([0,0,G.width,G.height])})(x,L,M,N):x.renderPass==="translucent"&&(function(G,$){const ee=G.context,ne=ee.gl;ee.setColorMode(G.colorModeForRenderPass());const ce=$.heatmapFbos.get(l.aU);ce&&(ee.activeTexture.set(ne.TEXTURE0),ne.bindTexture(ne.TEXTURE_2D,ce.colorAttachment.get()),ee.activeTexture.set(ne.TEXTURE1),ro(ee,$).bind(ne.LINEAR,ne.CLAMP_TO_EDGE),G.useProgram("heatmapTexture").draw(ee,ne.TRIANGLES,ln.disabled,mn.disabled,G.colorModeForRenderPass(),Tn.disabled,Vr(G,$,0,1),null,$.id,G.viewportBuffer,G.quadTriangleIndexBuffer,G.viewportSegments,$.paint,G.transform.zoom))})(x,M)})(i,h,p,v);break;case"line":(function(x,L,M,N){if(x.renderPass!=="translucent")return;const Q=M.paint.get("line-opacity"),G=M.paint.get("line-width");if(Q.constantOr(1)===0||G.constantOr(1)===0)return;const $=x.depthModeForSublayer(0,ln.ReadOnly),ee=x.colorModeForRenderPass(),ne=M.paint.get("line-dasharray"),ce=M.paint.get("line-pattern"),ge=ce.constantOr(1),Se=M.paint.get("line-gradient"),xe=M.getCrossfadeParameters(),Qe=ge?"linePattern":ne?"lineSDF":Se?"lineGradient":"line",Te=x.context,Xe=Te.gl;let Ge=!0;for(const at of N){const wt=L.getTile(at);if(ge&&!wt.patternsLoaded())continue;const St=wt.getBucket(M);if(!St)continue;const _t=St.programConfigurations.get(M.id),gt=x.context.program.get(),Nt=x.useProgram(Qe,_t),Et=Ge||Nt.program!==gt,zt=x.style.map.terrain&&x.style.map.terrain.getTerrainData(at),tr=ce.constantOr(null);if(tr&&wt.imageAtlas){const rr=wt.imageAtlas,un=rr.patternPositions[tr.to.toString()],Ir=rr.patternPositions[tr.from.toString()];un&&Ir&&_t.setConstantPatternPositions(un,Ir)}const Vt=zt?at:null,$t=ge?Ea(x,wt,M,xe,Vt):ne?ja(x,wt,M,ne,xe,Vt):Se?dc(x,wt,M,St.lineClipsArray.length,Vt):_A(x,wt,M,Vt);if(ge)Te.activeTexture.set(Xe.TEXTURE0),wt.imageAtlasTexture.bind(Xe.LINEAR,Xe.CLAMP_TO_EDGE),_t.updatePaintBuffers(xe);else if(ne&&(Et||x.lineAtlas.dirty))Te.activeTexture.set(Xe.TEXTURE0),x.lineAtlas.bind(Te);else if(Se){const rr=St.gradients[M.id];let un=rr.texture;if(M.gradientVersion!==rr.version){let Ir=256;if(M.stepInterpolant){const Ur=L.getSource().maxzoom,wr=at.canonical.z===Ur?Math.ceil(1<<x.transform.maxZoom-at.canonical.z):1;Ir=l.ac(l.aV(St.maxLineLength/l.X*1024*wr),256,Te.maxTextureSize)}rr.gradient=l.aW({expression:M.gradientExpression(),evaluationKey:"lineProgress",resolution:Ir,image:rr.gradient||void 0,clips:St.lineClipsArray}),rr.texture?rr.texture.update(rr.gradient):rr.texture=new se(Te,rr.gradient,Xe.RGBA),rr.version=M.gradientVersion,un=rr.texture}Te.activeTexture.set(Xe.TEXTURE0),un.bind(M.stepInterpolant?Xe.NEAREST:Xe.LINEAR,Xe.CLAMP_TO_EDGE)}Nt.draw(Te,Xe.TRIANGLES,$,x.stencilModeForClipping(at),ee,Tn.disabled,$t,zt,M.id,St.layoutVertexBuffer,St.indexBuffer,St.segments,M.paint,x.transform.zoom,_t,St.layoutVertexBuffer2),Ge=!1}})(i,h,p,v);break;case"fill":(function(x,L,M,N){const Q=M.paint.get("fill-color"),G=M.paint.get("fill-opacity");if(G.constantOr(1)===0)return;const $=x.colorModeForRenderPass(),ee=M.paint.get("fill-pattern"),ne=x.opaquePassEnabledForLayer()&&!ee.constantOr(1)&&Q.constantOr(l.aM.transparent).a===1&&G.constantOr(0)===1?"opaque":"translucent";if(x.renderPass===ne){const ce=x.depthModeForSublayer(1,x.renderPass==="opaque"?ln.ReadWrite:ln.ReadOnly);gl(x,L,M,N,ce,$,!1)}if(x.renderPass==="translucent"&&M.paint.get("fill-antialias")){const ce=x.depthModeForSublayer(M.getPaintProperty("fill-outline-color")?2:0,ln.ReadOnly);gl(x,L,M,N,ce,$,!0)}})(i,h,p,v);break;case"fill-extrusion":(function(x,L,M,N){const Q=M.paint.get("fill-extrusion-opacity");if(Q!==0&&x.renderPass==="translucent"){const G=new ln(x.context.gl.LEQUAL,ln.ReadWrite,x.depthRangeFor3D);if(Q!==1||M.paint.get("fill-extrusion-pattern").constantOr(1))Si(x,L,M,N,G,mn.disabled,ei.disabled),Si(x,L,M,N,G,x.stencilModeFor3D(),x.colorModeForRenderPass());else{const $=x.colorModeForRenderPass();Si(x,L,M,N,G,mn.disabled,$)}}})(i,h,p,v);break;case"hillshade":(function(x,L,M,N){if(x.renderPass!=="offscreen"&&x.renderPass!=="translucent")return;const Q=x.context,G=x.depthModeForSublayer(0,ln.ReadOnly),$=x.colorModeForRenderPass(),[ee,ne]=x.renderPass==="translucent"?x.stencilConfigForOverlap(N):[{},N];for(const ce of ne){const ge=L.getTile(ce);ge.needsHillshadePrepare!==void 0&&ge.needsHillshadePrepare&&x.renderPass==="offscreen"?hs(x,ge,M,G,mn.disabled,$):x.renderPass==="translucent"&&Zl(x,ce,ge,M,G,ee[ce.overscaledZ],$)}Q.viewport.set([0,0,x.width,x.height])})(i,h,p,v);break;case"raster":(function(x,L,M,N){if(x.renderPass!=="translucent"||M.paint.get("raster-opacity")===0||!N.length)return;const Q=x.context,G=Q.gl,$=L.getSource(),ee=x.useProgram("raster"),ne=x.colorModeForRenderPass(),[ce,ge]=$ instanceof Br?[{},N]:x.stencilConfigForOverlap(N),Se=ge[ge.length-1].overscaledZ,xe=!x.options.moving;for(const Qe of ge){const Te=x.depthModeForSublayer(Qe.overscaledZ-Se,M.paint.get("raster-opacity")===1?ln.ReadWrite:ln.ReadOnly,G.LESS),Xe=L.getTile(Qe);Xe.registerFadeDuration(M.paint.get("raster-fade-duration"));const Ge=L.findLoadedParent(Qe,0),at=L.findLoadedSibling(Qe),wt=qo(Xe,Ge||at||null,L,M,x.transform,x.style.map.terrain);let St,_t;const gt=M.paint.get("raster-resampling")==="nearest"?G.NEAREST:G.LINEAR;Q.activeTexture.set(G.TEXTURE0),Xe.texture.bind(gt,G.CLAMP_TO_EDGE,G.LINEAR_MIPMAP_NEAREST),Q.activeTexture.set(G.TEXTURE1),Ge?(Ge.texture.bind(gt,G.CLAMP_TO_EDGE,G.LINEAR_MIPMAP_NEAREST),St=Math.pow(2,Ge.tileID.overscaledZ-Xe.tileID.overscaledZ),_t=[Xe.tileID.canonical.x*St%1,Xe.tileID.canonical.y*St%1]):Xe.texture.bind(gt,G.CLAMP_TO_EDGE,G.LINEAR_MIPMAP_NEAREST),Xe.texture.useMipmap&&Q.extTextureFilterAnisotropic&&x.transform.pitch>20&&G.texParameterf(G.TEXTURE_2D,Q.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,Q.extTextureFilterAnisotropicMax);const Nt=x.style.map.terrain&&x.style.map.terrain.getTerrainData(Qe),Et=Nt?Qe:null,zt=Et?Et.posMatrix:x.transform.calculatePosMatrix(Qe.toUnwrapped(),xe),tr=Zs(zt,_t||[0,0],St||1,wt,M);$ instanceof Br?ee.draw(Q,G.TRIANGLES,Te,mn.disabled,ne,Tn.disabled,tr,Nt,M.id,$.boundsBuffer,x.quadTriangleIndexBuffer,$.boundsSegments):ee.draw(Q,G.TRIANGLES,Te,ce[Qe.overscaledZ],ne,Tn.disabled,tr,Nt,M.id,x.rasterBoundsBuffer,x.quadTriangleIndexBuffer,x.rasterBoundsSegments)}})(i,h,p,v);break;case"background":(function(x,L,M,N){const Q=M.paint.get("background-color"),G=M.paint.get("background-opacity");if(G===0)return;const $=x.context,ee=$.gl,ne=x.transform,ce=ne.tileSize,ge=M.paint.get("background-pattern");if(x.isPatternMissing(ge))return;const Se=!ge&&Q.a===1&&G===1&&x.opaquePassEnabledForLayer()?"opaque":"translucent";if(x.renderPass!==Se)return;const xe=mn.disabled,Qe=x.depthModeForSublayer(0,Se==="opaque"?ln.ReadWrite:ln.ReadOnly),Te=x.colorModeForRenderPass(),Xe=x.useProgram(ge?"backgroundPattern":"background"),Ge=N||ne.coveringTiles({tileSize:ce,terrain:x.style.map.terrain});ge&&($.activeTexture.set(ee.TEXTURE0),x.imageManager.bind(x.context));const at=M.getCrossfadeParameters();for(const wt of Ge){const St=N?wt.posMatrix:x.transform.calculatePosMatrix(wt.toUnwrapped()),_t=ge?xA(St,G,x,ge,{tileID:wt,tileSize:ce},at):Gl(St,G,Q),gt=x.style.map.terrain&&x.style.map.terrain.getTerrainData(wt);Xe.draw($,ee.TRIANGLES,Qe,xe,Te,Tn.disabled,_t,gt,M.id,x.tileExtentBuffer,x.quadTriangleIndexBuffer,x.tileExtentSegments)}})(i,0,p,v);break;case"custom":(function(x,L,M){const N=x.context,Q=M.implementation;if(x.renderPass==="offscreen"){const G=Q.prerender;G&&(x.setCustomLayerDefaults(),N.setColorMode(x.colorModeForRenderPass()),G.call(Q,N.gl,x.transform.customLayerMatrix()),N.setDirty(),x.setBaseState())}else if(x.renderPass==="translucent"){x.setCustomLayerDefaults(),N.setColorMode(x.colorModeForRenderPass()),N.setStencilMode(mn.disabled);const G=Q.renderingMode==="3d"?new ln(x.context.gl.LEQUAL,ln.ReadWrite,x.depthRangeFor3D):x.depthModeForSublayer(0,ln.ReadOnly);N.setDepthMode(G),Q.render(N.gl,x.transform.customLayerMatrix(),{farZ:x.transform.farZ,nearZ:x.transform.nearZ,fov:x.transform._fov,modelViewProjectionMatrix:x.transform.modelViewProjectionMatrix,projectionMatrix:x.transform.projectionMatrix}),N.setDirty(),x.setBaseState(),N.bindFramebuffer.set(null)}})(i,0,p)}}translatePosMatrix(i,h,p,v,x){if(!p[0]&&!p[1])return i;const L=x?v==="map"?this.transform.angle:0:v==="viewport"?-this.transform.angle:0;if(L){const Q=Math.sin(L),G=Math.cos(L);p=[p[0]*G-p[1]*Q,p[0]*Q+p[1]*G]}const M=[x?p[0]:jr(h,p[0],this.transform.zoom),x?p[1]:jr(h,p[1],this.transform.zoom),0],N=new Float32Array(16);return l.J(N,i,M),N}saveTileTexture(i){const h=this._tileTextures[i.size[0]];h?h.push(i):this._tileTextures[i.size[0]]=[i]}getTileTexture(i){const h=this._tileTextures[i];return h&&h.length>0?h.pop():null}isPatternMissing(i){if(!i)return!1;if(!i.from||!i.to)return!0;const h=this.imageManager.getPattern(i.from.toString()),p=this.imageManager.getPattern(i.to.toString());return!h||!p}useProgram(i,h){this.cache=this.cache||{};const p=i+(h?h.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.map.terrain?"/terrain":"");return this.cache[p]||(this.cache[p]=new ru(this.context,$s[i],h,ca[i],this._showOverdrawInspector,this.style.map.terrain)),this.cache[p]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const i=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(i.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new se(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){const{drawingBufferWidth:i,drawingBufferHeight:h}=this.context.gl;return this.width!==i||this.height!==h}}class Un{constructor(i,h){this.points=i,this.planes=h}static fromInvProjectionMatrix(i,h,p){const v=Math.pow(2,p),x=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((M=>{const N=1/(M=l.af([],M,i))[3]/h*v;return l.b1(M,M,[N,N,1/M[3],N])})),L=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map((M=>{const N=(function(ee,ne){var ce=ne[0],ge=ne[1],Se=ne[2],xe=ce*ce+ge*ge+Se*Se;return xe>0&&(xe=1/Math.sqrt(xe)),ee[0]=ne[0]*xe,ee[1]=ne[1]*xe,ee[2]=ne[2]*xe,ee})([],(function(ee,ne,ce){var ge=ne[0],Se=ne[1],xe=ne[2],Qe=ce[0],Te=ce[1],Xe=ce[2];return ee[0]=Se*Xe-xe*Te,ee[1]=xe*Qe-ge*Xe,ee[2]=ge*Te-Se*Qe,ee})([],Be([],x[M[0]],x[M[1]]),Be([],x[M[2]],x[M[1]]))),Q=-((G=N)[0]*($=x[M[1]])[0]+G[1]*$[1]+G[2]*$[2]);var G,$;return N.concat(Q)}));return new Un(x,L)}}class Bn{constructor(i,h){this.min=i,this.max=h,this.center=(function(p,v,x){return p[0]=.5*v[0],p[1]=.5*v[1],p[2]=.5*v[2],p})([],(function(p,v,x){return p[0]=v[0]+x[0],p[1]=v[1]+x[1],p[2]=v[2]+x[2],p})([],this.min,this.max))}quadrant(i){const h=[i%2==0,i<2],p=Ae(this.min),v=Ae(this.max);for(let x=0;x<h.length;x++)p[x]=h[x]?this.min[x]:this.center[x],v[x]=h[x]?this.center[x]:this.max[x];return v[2]=this.max[2],new Bn(p,v)}distanceX(i){return Math.max(Math.min(this.max[0],i[0]),this.min[0])-i[0]}distanceY(i){return Math.max(Math.min(this.max[1],i[1]),this.min[1])-i[1]}intersects(i){const h=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let p=!0;for(let v=0;v<i.planes.length;v++){const x=i.planes[v];let L=0;for(let M=0;M<h.length;M++)l.b2(x,h[M])>=0&&L++;if(L===0)return 0;L!==h.length&&(p=!1)}if(p)return 2;for(let v=0;v<3;v++){let x=Number.MAX_VALUE,L=-Number.MAX_VALUE;for(let M=0;M<i.points.length;M++){const N=i.points[M][v]-this.min[v];x=Math.min(x,N),L=Math.max(L,N)}if(L<0||x>this.max[v]-this.min[v])return 0}return 1}}class Xn{constructor(i=0,h=0,p=0,v=0){if(isNaN(i)||i<0||isNaN(h)||h<0||isNaN(p)||p<0||isNaN(v)||v<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=i,this.bottom=h,this.left=p,this.right=v}interpolate(i,h,p){return h.top!=null&&i.top!=null&&(this.top=l.y.number(i.top,h.top,p)),h.bottom!=null&&i.bottom!=null&&(this.bottom=l.y.number(i.bottom,h.bottom,p)),h.left!=null&&i.left!=null&&(this.left=l.y.number(i.left,h.left,p)),h.right!=null&&i.right!=null&&(this.right=l.y.number(i.right,h.right,p)),this}getCenter(i,h){const p=l.ac((this.left+i-this.right)/2,0,i),v=l.ac((this.top+h-this.bottom)/2,0,h);return new l.P(p,v)}equals(i){return this.top===i.top&&this.bottom===i.bottom&&this.left===i.left&&this.right===i.right}clone(){return new Xn(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}const Oi=85.051129;class ds{constructor(i,h,p,v,x){this.tileSize=512,this._renderWorldCopies=x===void 0||!!x,this._minZoom=i||0,this._maxZoom=h||22,this._minPitch=p??0,this._maxPitch=v??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new l.N(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new Xn,this._posMatrixCache={},this._alignedPosMatrixCache={},this._fogMatrixCache={},this.minElevationForCurrentTile=0}clone(){const i=new ds(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return i.apply(this),i}apply(i){this.tileSize=i.tileSize,this.latRange=i.latRange,this.lngRange=i.lngRange,this.width=i.width,this.height=i.height,this._center=i._center,this._elevation=i._elevation,this.minElevationForCurrentTile=i.minElevationForCurrentTile,this.zoom=i.zoom,this.angle=i.angle,this._fov=i._fov,this._pitch=i._pitch,this._unmodified=i._unmodified,this._edgeInsets=i._edgeInsets.clone(),this._calcMatrices()}get minZoom(){return this._minZoom}set minZoom(i){this._minZoom!==i&&(this._minZoom=i,this.zoom=Math.max(this.zoom,i))}get maxZoom(){return this._maxZoom}set maxZoom(i){this._maxZoom!==i&&(this._maxZoom=i,this.zoom=Math.min(this.zoom,i))}get minPitch(){return this._minPitch}set minPitch(i){this._minPitch!==i&&(this._minPitch=i,this.pitch=Math.max(this.pitch,i))}get maxPitch(){return this._maxPitch}set maxPitch(i){this._maxPitch!==i&&(this._maxPitch=i,this.pitch=Math.min(this.pitch,i))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(i){i===void 0?i=!0:i===null&&(i=!1),this._renderWorldCopies=i}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new l.P(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(i){const h=-l.b3(i,-180,180)*Math.PI/180;this.angle!==h&&(this._unmodified=!1,this.angle=h,this._calcMatrices(),this.rotationMatrix=(function(){var p=new l.A(4);return l.A!=Float32Array&&(p[1]=0,p[2]=0),p[0]=1,p[3]=1,p})(),(function(p,v,x){var L=v[0],M=v[1],N=v[2],Q=v[3],G=Math.sin(x),$=Math.cos(x);p[0]=L*$+N*G,p[1]=M*$+Q*G,p[2]=L*-G+N*$,p[3]=M*-G+Q*$})(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(i){const h=l.ac(i,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==h&&(this._unmodified=!1,this._pitch=h,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(i){i=Math.max(.01,Math.min(60,i)),this._fov!==i&&(this._unmodified=!1,this._fov=i/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(i){const h=Math.min(Math.max(i,this.minZoom),this.maxZoom);this._zoom!==h&&(this._unmodified=!1,this._zoom=h,this.tileZoom=Math.max(0,Math.floor(h)),this.scale=this.zoomScale(h),this._constrain(),this._calcMatrices())}get center(){return this._center}set center(i){i.lat===this._center.lat&&i.lng===this._center.lng||(this._unmodified=!1,this._center=i,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(i){i!==this._elevation&&(this._elevation=i,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(i){this._edgeInsets.equals(i)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,i,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(i){return this._edgeInsets.equals(i)}interpolatePadding(i,h,p){this._unmodified=!1,this._edgeInsets.interpolate(i,h,p),this._constrain(),this._calcMatrices()}coveringZoomLevel(i){const h=(i.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/i.tileSize));return Math.max(0,h)}getVisibleUnwrappedCoordinates(i){const h=[new l.b4(0,i)];if(this._renderWorldCopies){const p=this.pointCoordinate(new l.P(0,0)),v=this.pointCoordinate(new l.P(this.width,0)),x=this.pointCoordinate(new l.P(this.width,this.height)),L=this.pointCoordinate(new l.P(0,this.height)),M=Math.floor(Math.min(p.x,v.x,x.x,L.x)),N=Math.floor(Math.max(p.x,v.x,x.x,L.x)),Q=1;for(let G=M-Q;G<=N+Q;G++)G!==0&&h.push(new l.b4(G,i))}return h}coveringTiles(i){var h,p;let v=this.coveringZoomLevel(i);const x=v;if(i.minzoom!==void 0&&v<i.minzoom)return[];i.maxzoom!==void 0&&v>i.maxzoom&&(v=i.maxzoom);const L=this.pointCoordinate(this.getCameraPoint()),M=l.Z.fromLngLat(this.center),N=Math.pow(2,v),Q=[N*L.x,N*L.y,0],G=[N*M.x,N*M.y,0],$=Un.fromInvProjectionMatrix(this.invModelViewProjectionMatrix,this.worldSize,v);let ee=i.minzoom||0;!i.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(ee=v);const ne=i.terrain?2/Math.min(this.tileSize,i.tileSize)*this.tileSize:3,ce=Te=>({aabb:new Bn([Te*N,0,0],[(Te+1)*N,N,0]),zoom:0,x:0,y:0,wrap:Te,fullyVisible:!1}),ge=[],Se=[],xe=v,Qe=i.reparseOverscaled?x:v;if(this._renderWorldCopies)for(let Te=1;Te<=3;Te++)ge.push(ce(-Te)),ge.push(ce(Te));for(ge.push(ce(0));ge.length>0;){const Te=ge.pop(),Xe=Te.x,Ge=Te.y;let at=Te.fullyVisible;if(!at){const Nt=Te.aabb.intersects($);if(Nt===0)continue;at=Nt===2}const wt=i.terrain?Q:G,St=Te.aabb.distanceX(wt),_t=Te.aabb.distanceY(wt),gt=Math.max(Math.abs(St),Math.abs(_t));if(Te.zoom===xe||gt>ne+(1<<xe-Te.zoom)-2&&Te.zoom>=ee){const Nt=xe-Te.zoom,Et=Q[0]-.5-(Xe<<Nt),zt=Q[1]-.5-(Ge<<Nt);Se.push({tileID:new l.S(Te.zoom===xe?Qe:Te.zoom,Te.wrap,Te.zoom,Xe,Ge),distanceSq:Fe([G[0]-.5-Xe,G[1]-.5-Ge]),tileDistanceToCamera:Math.sqrt(Et*Et+zt*zt)})}else for(let Nt=0;Nt<4;Nt++){const Et=(Xe<<1)+Nt%2,zt=(Ge<<1)+(Nt>>1),tr=Te.zoom+1;let Vt=Te.aabb.quadrant(Nt);if(i.terrain){const $t=new l.S(tr,Te.wrap,tr,Et,zt),rr=i.terrain.getMinMaxElevation($t),un=(h=rr.minElevation)!==null&&h!==void 0?h:this.elevation,Ir=(p=rr.maxElevation)!==null&&p!==void 0?p:this.elevation;Vt=new Bn([Vt.min[0],Vt.min[1],un],[Vt.max[0],Vt.max[1],Ir])}ge.push({aabb:Vt,zoom:tr,x:Et,y:zt,wrap:Te.wrap,fullyVisible:at})}}return Se.sort(((Te,Xe)=>Te.distanceSq-Xe.distanceSq)).map((Te=>Te.tileID))}resize(i,h){this.width=i,this.height=h,this.pixelsToGLUnits=[2/i,-2/h],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(i){return Math.pow(2,i)}scaleZoom(i){return Math.log(i)/Math.LN2}project(i){const h=l.ac(i.lat,-85.051129,Oi);return new l.P(l.O(i.lng)*this.worldSize,l.Q(h)*this.worldSize)}unproject(i){return new l.Z(i.x/this.worldSize,i.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(i){const h=this.elevation,p=Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter,v=this.pointLocation(this.centerPoint,i),x=i.getElevationForLngLatZoom(v,this.tileZoom);if(!(this.elevation-x))return;const L=p+h-x,M=Math.cos(this._pitch)*this.cameraToCenterDistance/L/l.b5(1,v.lat),N=this.scaleZoom(M/this.tileSize);this._elevation=x,this._center=v,this.zoom=N}setLocationAtPoint(i,h){const p=this.pointCoordinate(h),v=this.pointCoordinate(this.centerPoint),x=this.locationCoordinate(i),L=new l.Z(x.x-(p.x-v.x),x.y-(p.y-v.y));this.center=this.coordinateLocation(L),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(i,h){return h?this.coordinatePoint(this.locationCoordinate(i),h.getElevationForLngLatZoom(i,this.tileZoom),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(i))}pointLocation(i,h){return this.coordinateLocation(this.pointCoordinate(i,h))}locationCoordinate(i){return l.Z.fromLngLat(i)}coordinateLocation(i){return i&&i.toLngLat()}pointCoordinate(i,h){if(h){const ee=h.pointCoordinate(i);if(ee!=null)return ee}const p=[i.x,i.y,0,1],v=[i.x,i.y,1,1];l.af(p,p,this.pixelMatrixInverse),l.af(v,v,this.pixelMatrixInverse);const x=p[3],L=v[3],M=p[1]/x,N=v[1]/L,Q=p[2]/x,G=v[2]/L,$=Q===G?0:(0-Q)/(G-Q);return new l.Z(l.y.number(p[0]/x,v[0]/L,$)/this.worldSize,l.y.number(M,N,$)/this.worldSize)}coordinatePoint(i,h=0,p=this.pixelMatrix){const v=[i.x*this.worldSize,i.y*this.worldSize,h,1];return l.af(v,v,p),new l.P(v[0]/v[3],v[1]/v[3])}getBounds(){const i=Math.max(0,this.height/2-this.getHorizon());return new Ye().extend(this.pointLocation(new l.P(0,i))).extend(this.pointLocation(new l.P(this.width,i))).extend(this.pointLocation(new l.P(this.width,this.height))).extend(this.pointLocation(new l.P(0,this.height)))}getMaxBounds(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new Ye([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(i){i?(this.lngRange=[i.getWest(),i.getEast()],this.latRange=[i.getSouth(),i.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-85.051129,Oi])}calculateTileMatrix(i){const h=i.canonical,p=this.worldSize/this.zoomScale(h.z),v=h.x+Math.pow(2,h.z)*i.wrap,x=l.an(new Float64Array(16));return l.J(x,x,[v*p,h.y*p,0]),l.K(x,x,[p/l.X,p/l.X,1]),x}calculatePosMatrix(i,h=!1){const p=i.key,v=h?this._alignedPosMatrixCache:this._posMatrixCache;if(v[p])return v[p];const x=this.calculateTileMatrix(i);return l.L(x,h?this.alignedModelViewProjectionMatrix:this.modelViewProjectionMatrix,x),v[p]=new Float32Array(x),v[p]}calculateFogMatrix(i){const h=i.key,p=this._fogMatrixCache;if(p[h])return p[h];const v=this.calculateTileMatrix(i);return l.L(v,this.fogMatrix,v),p[h]=new Float32Array(v),p[h]}customLayerMatrix(){return this.mercatorMatrix.slice()}getConstrained(i,h){h=l.ac(+h,this.minZoom,this.maxZoom);const p={center:new l.N(i.lng,i.lat),zoom:h};let v=this.lngRange;if(!this._renderWorldCopies&&v===null){const Te=179.9999999999;v=[-Te,Te]}const x=this.tileSize*this.zoomScale(p.zoom);let L=0,M=x,N=0,Q=x,G=0,$=0;const{x:ee,y:ne}=this.size;if(this.latRange){const Te=this.latRange;L=l.Q(Te[1])*x,M=l.Q(Te[0])*x,M-L<ne&&(G=ne/(M-L))}v&&(N=l.b3(l.O(v[0])*x,0,x),Q=l.b3(l.O(v[1])*x,0,x),Q<N&&(Q+=x),Q-N<ee&&($=ee/(Q-N)));const{x:ce,y:ge}=this.project.call({worldSize:x},i);let Se,xe;const Qe=Math.max($||0,G||0);if(Qe){const Te=new l.P($?(Q+N)/2:ce,G?(M+L)/2:ge);return p.center=this.unproject.call({worldSize:x},Te).wrap(),p.zoom+=this.scaleZoom(Qe),p}if(this.latRange){const Te=ne/2;ge-Te<L&&(xe=L+Te),ge+Te>M&&(xe=M-Te)}if(v){const Te=(N+Q)/2;let Xe=ce;this._renderWorldCopies&&(Xe=l.b3(ce,Te-x/2,Te+x/2));const Ge=ee/2;Xe-Ge<N&&(Se=N+Ge),Xe+Ge>Q&&(Se=Q-Ge)}if(Se!==void 0||xe!==void 0){const Te=new l.P(Se??ce,xe??ge);p.center=this.unproject.call({worldSize:x},Te).wrap()}return p}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const i=this._unmodified,{center:h,zoom:p}=this.getConstrained(this.center,this.zoom);this.center=h,this.zoom=p,this._unmodified=i,this._constraining=!1}_calcMatrices(){if(!this.height)return;const i=this.centerOffset,h=this.point.x,p=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=l.b5(1,this.center.lat)*this.worldSize;let v=l.an(new Float64Array(16));l.K(v,v,[this.width/2,-this.height/2,1]),l.J(v,v,[1,-1,0]),this.labelPlaneMatrix=v,v=l.an(new Float64Array(16)),l.K(v,v,[1,-1,1]),l.J(v,v,[-1,-1,0]),l.K(v,v,[2/this.width,2/this.height,1]),this.glCoordMatrix=v;const x=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch),L=Math.min(this.elevation,this.minElevationForCurrentTile),M=x-L*this._pixelPerMeter/Math.cos(this._pitch),N=L<0?M:x,Q=Math.PI/2+this._pitch,G=this._fov*(.5+i.y/this.height),$=Math.sin(G)*N/Math.sin(l.ac(Math.PI-Q-G,.01,Math.PI-.01)),ee=this.getHorizon(),ne=2*Math.atan(ee/this.cameraToCenterDistance)*(.5+i.y/(2*ee)),ce=Math.sin(ne)*N/Math.sin(l.ac(Math.PI-Q-ne,.01,Math.PI-.01)),ge=Math.min($,ce);this.farZ=1.01*(Math.cos(Math.PI/2-this._pitch)*ge+N),this.nearZ=this.height/50,v=new Float64Array(16),l.b6(v,this._fov,this.width/this.height,this.nearZ,this.farZ),v[8]=2*-i.x/this.width,v[9]=2*i.y/this.height,this.projectionMatrix=l.ae(v),l.K(v,v,[1,-1,1]),l.J(v,v,[0,0,-this.cameraToCenterDistance]),l.b7(v,v,this._pitch),l.ad(v,v,this.angle),l.J(v,v,[-h,-p,0]),this.mercatorMatrix=l.K([],v,[this.worldSize,this.worldSize,this.worldSize]),l.K(v,v,[1,1,this._pixelPerMeter]),this.pixelMatrix=l.L(new Float64Array(16),this.labelPlaneMatrix,v),l.J(v,v,[0,0,-this.elevation]),this.modelViewProjectionMatrix=v,this.invModelViewProjectionMatrix=l.as([],v),this.fogMatrix=new Float64Array(16),l.b6(this.fogMatrix,this._fov,this.width/this.height,x,this.farZ),this.fogMatrix[8]=2*-i.x/this.width,this.fogMatrix[9]=2*i.y/this.height,l.K(this.fogMatrix,this.fogMatrix,[1,-1,1]),l.J(this.fogMatrix,this.fogMatrix,[0,0,-this.cameraToCenterDistance]),l.b7(this.fogMatrix,this.fogMatrix,this._pitch),l.ad(this.fogMatrix,this.fogMatrix,this.angle),l.J(this.fogMatrix,this.fogMatrix,[-h,-p,0]),l.K(this.fogMatrix,this.fogMatrix,[1,1,this._pixelPerMeter]),l.J(this.fogMatrix,this.fogMatrix,[0,0,-this.elevation]),this.pixelMatrix3D=l.L(new Float64Array(16),this.labelPlaneMatrix,v);const Se=this.width%2/2,xe=this.height%2/2,Qe=Math.cos(this.angle),Te=Math.sin(this.angle),Xe=h-Math.round(h)+Qe*Se+Te*xe,Ge=p-Math.round(p)+Qe*xe+Te*Se,at=new Float64Array(v);if(l.J(at,at,[Xe>.5?Xe-1:Xe,Ge>.5?Ge-1:Ge,0]),this.alignedModelViewProjectionMatrix=at,v=l.as(new Float64Array(16),this.pixelMatrix),!v)throw new Error("failed to invert matrix");this.pixelMatrixInverse=v,this._posMatrixCache={},this._alignedPosMatrixCache={},this._fogMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;const i=this.pointCoordinate(new l.P(0,0)),h=[i.x*this.worldSize,i.y*this.worldSize,0,1];return l.af(h,h,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){const i=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new l.P(0,i))}getCameraQueryGeometry(i){const h=this.getCameraPoint();if(i.length===1)return[i[0],h];{let p=h.x,v=h.y,x=h.x,L=h.y;for(const M of i)p=Math.min(p,M.x),v=Math.min(v,M.y),x=Math.max(x,M.x),L=Math.max(L,M.y);return[new l.P(p,v),new l.P(x,v),new l.P(x,L),new l.P(p,L),new l.P(p,v)]}}lngLatToCameraDepth(i,h){const p=this.locationCoordinate(i),v=[p.x*this.worldSize,p.y*this.worldSize,h,1];return l.af(v,v,this.modelViewProjectionMatrix),v[2]/v[3]}}function ps(_,i){let h,p=!1,v=null,x=null;const L=()=>{v=null,p&&(_.apply(x,h),v=setTimeout(L,i),p=!1)};return(...M)=>(p=!0,x=this,h=M,v||L(),v)}class bl{constructor(i){this._getCurrentHash=()=>{const h=window.location.hash.replace("#","");if(this._hashName){let p;return h.split("&").map((v=>v.split("="))).forEach((v=>{v[0]===this._hashName&&(p=v)})),(p&&p[1]||"").split("/")}return h.split("/")},this._onHashChange=()=>{const h=this._getCurrentHash();if(h.length>=3&&!h.some((p=>isNaN(p)))){const p=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(h[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+h[2],+h[1]],zoom:+h[0],bearing:p,pitch:+(h[4]||0)}),!0}return!1},this._updateHashUnthrottled=()=>{const h=window.location.href.replace(/(#.*)?$/,this.getHashString());window.history.replaceState(window.history.state,null,h)},this._removeHash=()=>{const h=this._getCurrentHash();if(h.length===0)return;const p=h.join("/");let v=p;v.split("&").length>0&&(v=v.split("&")[0]),this._hashName&&(v=`${this._hashName}=${p}`);let x=window.location.hash.replace(v,"");x.startsWith("#&")?x=x.slice(0,1)+x.slice(2):x==="#"&&(x="");let L=window.location.href.replace(/(#.+)?$/,x);L=L.replace("&&","&"),window.history.replaceState(window.history.state,null,L)},this._updateHash=ps(this._updateHashUnthrottled,300),this._hashName=i&&encodeURIComponent(i)}addTo(i){return this._map=i,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),this._removeHash(),delete this._map,this}getHashString(i){const h=this._map.getCenter(),p=Math.round(100*this._map.getZoom())/100,v=Math.ceil((p*Math.LN2+Math.log(512/360/.5))/Math.LN10),x=Math.pow(10,v),L=Math.round(h.lng*x)/x,M=Math.round(h.lat*x)/x,N=this._map.getBearing(),Q=this._map.getPitch();let G="";if(G+=i?`/${L}/${M}/${p}`:`${p}/${M}/${L}`,(N||Q)&&(G+="/"+Math.round(10*N)/10),Q&&(G+=`/${Math.round(Q)}`),this._hashName){const $=this._hashName;let ee=!1;const ne=window.location.hash.slice(1).split("&").map((ce=>{const ge=ce.split("=")[0];return ge===$?(ee=!0,`${ge}=${G}`):ce})).filter((ce=>ce));return ee||ne.push(`${$}=${G}`),`#${ne.join("&")}`}return`#${G}`}}const SA={linearity:.3,easing:l.b8(0,0,.3,1)},pc=l.e({deceleration:2500,maxSpeed:1400},SA),bf=l.e({deceleration:20,maxSpeed:1400},SA),Fh=l.e({deceleration:1e3,maxSpeed:360},SA),mc=l.e({deceleration:1e3,maxSpeed:90},SA);class gc{constructor(i){this._map=i,this.clear()}clear(){this._inertiaBuffer=[]}record(i){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:C.now(),settings:i})}_drainInertiaBuffer(){const i=this._inertiaBuffer,h=C.now();for(;i.length>0&&h-i[0].time>160;)i.shift()}_onMoveEnd(i){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const h={zoom:0,bearing:0,pitch:0,pan:new l.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:x}of this._inertiaBuffer)h.zoom+=x.zoomDelta||0,h.bearing+=x.bearingDelta||0,h.pitch+=x.pitchDelta||0,x.panDelta&&h.pan._add(x.panDelta),x.around&&(h.around=x.around),x.pinchAround&&(h.pinchAround=x.pinchAround);const p=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,v={};if(h.pan.mag()){const x=$o(h.pan.mag(),p,l.e({},pc,i||{}));v.offset=h.pan.mult(x.amount/h.pan.mag()),v.center=this._map.transform.center,lu(v,x)}if(h.zoom){const x=$o(h.zoom,p,bf);v.zoom=this._map.transform.zoom+x.amount,lu(v,x)}if(h.bearing){const x=$o(h.bearing,p,Fh);v.bearing=this._map.transform.bearing+l.ac(x.amount,-179,179),lu(v,x)}if(h.pitch){const x=$o(h.pitch,p,mc);v.pitch=this._map.transform.pitch+x.amount,lu(v,x)}if(v.zoom||v.bearing){const x=h.pinchAround===void 0?h.around:h.pinchAround;v.around=x?this._map.unproject(x):this._map.getCenter()}return this.clear(),l.e(v,{noMoveStart:!0})}}function lu(_,i){(!_.duration||_.duration<i.duration)&&(_.duration=i.duration,_.easing=i.easing)}function $o(_,i,h){const{maxSpeed:p,linearity:v,deceleration:x}=h,L=l.ac(_*v/(i/1e3),-p,p),M=Math.abs(L)/(x*v);return{easing:h.easing,duration:1e3*M,amount:L*(M/2)}}class oi extends l.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(i,h,p,v={}){const x=F.mousePos(h.getCanvas(),p),L=h.unproject(x);super(i,l.e({point:x,lngLat:L,originalEvent:p},v)),this._defaultPrevented=!1,this.target=h}}class Xo extends l.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(i,h,p){const v=i==="touchend"?p.changedTouches:p.touches,x=F.touchPos(h.getCanvasContainer(),v),L=x.map((N=>h.unproject(N))),M=x.reduce(((N,Q,G,$)=>N.add(Q.div($.length))),new l.P(0,0));super(i,{points:x,point:M,lngLats:L,lngLat:h.unproject(M),originalEvent:p}),this._defaultPrevented=!1}}class ks extends l.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(i,h,p){super(i,{originalEvent:p}),this._defaultPrevented=!1}}class EA{constructor(i,h){this._map=i,this._clickTolerance=h.clickTolerance}reset(){delete this._mousedownPos}wheel(i){return this._firePreventable(new ks(i.type,this._map,i))}mousedown(i,h){return this._mousedownPos=h,this._firePreventable(new oi(i.type,this._map,i))}mouseup(i){this._map.fire(new oi(i.type,this._map,i))}click(i,h){this._mousedownPos&&this._mousedownPos.dist(h)>=this._clickTolerance||this._map.fire(new oi(i.type,this._map,i))}dblclick(i){return this._firePreventable(new oi(i.type,this._map,i))}mouseover(i){this._map.fire(new oi(i.type,this._map,i))}mouseout(i){this._map.fire(new oi(i.type,this._map,i))}touchstart(i){return this._firePreventable(new Xo(i.type,this._map,i))}touchmove(i){this._map.fire(new Xo(i.type,this._map,i))}touchend(i){this._map.fire(new Xo(i.type,this._map,i))}touchcancel(i){this._map.fire(new Xo(i.type,this._map,i))}_firePreventable(i){if(this._map.fire(i),i.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class _i{constructor(i){this._map=i}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(i){this._map.fire(new oi(i.type,this._map,i))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new oi("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(i){this._delayContextMenu?this._contextMenuEvent=i:this._ignoreContextMenu||this._map.fire(new oi(i.type,this._map,i)),this._map.listens("contextmenu")&&i.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class ms{constructor(i){this._map=i}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(i){return this.transform.pointLocation(l.P.convert(i),this._map.terrain)}}class Va{constructor(i,h){this._map=i,this._tr=new ms(i),this._el=i.getCanvasContainer(),this._container=i.getContainer(),this._clickTolerance=h.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(i,h){this.isEnabled()&&i.shiftKey&&i.button===0&&(F.disableDrag(),this._startPos=this._lastPos=h,this._active=!0)}mousemoveWindow(i,h){if(!this._active)return;const p=h;if(this._lastPos.equals(p)||!this._box&&p.dist(this._startPos)<this._clickTolerance)return;const v=this._startPos;this._lastPos=p,this._box||(this._box=F.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",i));const x=Math.min(v.x,p.x),L=Math.max(v.x,p.x),M=Math.min(v.y,p.y),N=Math.max(v.y,p.y);F.setTransform(this._box,`translate(${x}px,${M}px)`),this._box.style.width=L-x+"px",this._box.style.height=N-M+"px"}mouseupWindow(i,h){if(!this._active||i.button!==0)return;const p=this._startPos,v=h;if(this.reset(),F.suppressClick(),p.x!==v.x||p.y!==v.y)return this._map.fire(new l.k("boxzoomend",{originalEvent:i})),{cameraAnimation:x=>x.fitScreenCoordinates(p,v,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",i)}keydown(i){this._active&&i.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",i))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(F.remove(this._box),this._box=null),F.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(i,h){return this._map.fire(new l.k(i,{originalEvent:h}))}}function TA(_,i){if(_.length!==i.length)throw new Error(`The number of touches and points are not equal - touches ${_.length}, points ${i.length}`);const h={};for(let p=0;p<_.length;p++)h[_[p].identifier]=i[p];return h}class Zo{constructor(i){this.reset(),this.numTouches=i.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(i,h,p){(this.centroid||p.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=i.timeStamp),p.length===this.numTouches&&(this.centroid=(function(v){const x=new l.P(0,0);for(const L of v)x._add(L);return x.div(v.length)})(h),this.touches=TA(p,h)))}touchmove(i,h,p){if(this.aborted||!this.centroid)return;const v=TA(p,h);for(const x in this.touches){const L=v[x];(!L||L.dist(this.touches[x])>30)&&(this.aborted=!0)}}touchend(i,h,p){if((!this.centroid||i.timeStamp-this.startTime>500)&&(this.aborted=!0),p.length===0){const v=!this.aborted&&this.centroid;if(this.reset(),v)return v}}}class IA{constructor(i){this.singleTap=new Zo(i),this.numTaps=i.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(i,h,p){this.singleTap.touchstart(i,h,p)}touchmove(i,h,p){this.singleTap.touchmove(i,h,p)}touchend(i,h,p){const v=this.singleTap.touchend(i,h,p);if(v){const x=i.timeStamp-this.lastTime<500,L=!this.lastTap||this.lastTap.dist(v)<30;if(x&&L||this.reset(),this.count++,this.lastTime=i.timeStamp,this.lastTap=v,this.count===this.numTaps)return this.reset(),v}}}class Ji{constructor(i){this._tr=new ms(i),this._zoomIn=new IA({numTouches:1,numTaps:2}),this._zoomOut=new IA({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(i,h,p){this._zoomIn.touchstart(i,h,p),this._zoomOut.touchstart(i,h,p)}touchmove(i,h,p){this._zoomIn.touchmove(i,h,p),this._zoomOut.touchmove(i,h,p)}touchend(i,h,p){const v=this._zoomIn.touchend(i,h,p),x=this._zoomOut.touchend(i,h,p),L=this._tr;return v?(this._active=!0,i.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:M=>M.easeTo({duration:300,zoom:L.zoom+1,around:L.unproject(v)},{originalEvent:i})}):x?(this._active=!0,i.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:M=>M.easeTo({duration:300,zoom:L.zoom-1,around:L.unproject(x)},{originalEvent:i})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class bi{constructor(i){this._enabled=!!i.enable,this._moveStateManager=i.moveStateManager,this._clickTolerance=i.clickTolerance||1,this._moveFunction=i.move,this._activateOnStart=!!i.activateOnStart,i.assignEvents(this),this.reset()}reset(i){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(i)}_move(...i){const h=this._moveFunction(...i);if(h.bearingDelta||h.pitchDelta||h.around||h.panDelta)return this._active=!0,h}dragStart(i,h){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(i)&&(this._moveStateManager.startMove(i),this._lastPoint=h.length?h[0]:h,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(i,h){if(!this.isEnabled())return;const p=this._lastPoint;if(!p)return;if(i.preventDefault(),!this._moveStateManager.isValidMoveEvent(i))return void this.reset(i);const v=h.length?h[0]:h;return!this._moved&&v.dist(p)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=v,this._move(p,v))}dragEnd(i){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(i)&&(this._moved&&F.suppressClick(),this.reset(i))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const Pu={0:1,2:2};class ba{constructor(i){this._correctEvent=i.checkCorrectEvent}startMove(i){const h=F.mouseButton(i);this._eventButton=h}endMove(i){delete this._eventButton}isValidStartEvent(i){return this._correctEvent(i)}isValidMoveEvent(i){return!(function(h,p){const v=Pu[p];return h.buttons===void 0||(h.buttons&v)!==v})(i,this._eventButton)}isValidEndEvent(i){return F.mouseButton(i)===this._eventButton}}class Ou{constructor(){this._firstTouch=void 0}_isOneFingerTouch(i){return i.targetTouches.length===1}_isSameTouchEvent(i){return i.targetTouches[0].identifier===this._firstTouch}startMove(i){this._firstTouch=i.targetTouches[0].identifier}endMove(i){delete this._firstTouch}isValidStartEvent(i){return this._isOneFingerTouch(i)}isValidMoveEvent(i){return this._isOneFingerTouch(i)&&this._isSameTouchEvent(i)}isValidEndEvent(i){return this._isOneFingerTouch(i)&&this._isSameTouchEvent(i)}}const gs=_=>{_.mousedown=_.dragStart,_.mousemoveWindow=_.dragMove,_.mouseup=_.dragEnd,_.contextmenu=i=>{i.preventDefault()}},Au=({enable:_,clickTolerance:i,bearingDegreesPerPixelMoved:h=.8})=>{const p=new ba({checkCorrectEvent:v=>F.mouseButton(v)===0&&v.ctrlKey||F.mouseButton(v)===2});return new bi({clickTolerance:i,move:(v,x)=>({bearingDelta:(x.x-v.x)*h}),moveStateManager:p,enable:_,assignEvents:gs})},FA=({enable:_,clickTolerance:i,pitchDegreesPerPixelMoved:h=-.5})=>{const p=new ba({checkCorrectEvent:v=>F.mouseButton(v)===0&&v.ctrlKey||F.mouseButton(v)===2});return new bi({clickTolerance:i,move:(v,x)=>({pitchDelta:(x.y-v.y)*h}),moveStateManager:p,enable:_,assignEvents:gs})};class Ns{constructor(i,h){this._clickTolerance=i.clickTolerance||1,this._map=h,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new l.P(0,0)}_shouldBePrevented(i){return i<(this._map.cooperativeGestures.isEnabled()?2:1)}touchstart(i,h,p){return this._calculateTransform(i,h,p)}touchmove(i,h,p){if(this._active){if(!this._shouldBePrevented(p.length))return i.preventDefault(),this._calculateTransform(i,h,p);this._map.cooperativeGestures.notifyGestureBlocked("touch_pan",i)}}touchend(i,h,p){this._calculateTransform(i,h,p),this._active&&this._shouldBePrevented(p.length)&&this.reset()}touchcancel(){this.reset()}_calculateTransform(i,h,p){p.length>0&&(this._active=!0);const v=TA(p,h),x=new l.P(0,0),L=new l.P(0,0);let M=0;for(const Q in v){const G=v[Q],$=this._touches[Q];$&&(x._add(G),L._add(G.sub($)),M++,v[Q]=G)}if(this._touches=v,this._shouldBePrevented(M)||!L.mag())return;const N=L.div(M);return this._sum._add(N),this._sum.mag()<this._clickTolerance?void 0:{around:x.div(M),panDelta:N}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class LA{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(i,h,p){this._firstTwoTouches||p.length<2||(this._firstTwoTouches=[p[0].identifier,p[1].identifier],this._start([h[0],h[1]]))}touchmove(i,h,p){if(!this._firstTwoTouches)return;i.preventDefault();const[v,x]=this._firstTwoTouches,L=UA(p,h,v),M=UA(p,h,x);if(!L||!M)return;const N=this._aroundCenter?null:L.add(M).div(2);return this._move([L,M],N,i)}touchend(i,h,p){if(!this._firstTwoTouches)return;const[v,x]=this._firstTwoTouches,L=UA(p,h,v),M=UA(p,h,x);L&&M||(this._active&&F.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(i){this._enabled=!0,this._aroundCenter=!!i&&i.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}}function UA(_,i,h){for(let p=0;p<_.length;p++)if(_[p].identifier===h)return i[p]}function MA(_,i){return Math.log(_/i)/Math.LN2}class Du extends LA{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(i){this._startDistance=this._distance=i[0].dist(i[1])}_move(i,h){const p=this._distance;if(this._distance=i[0].dist(i[1]),this._active||!(Math.abs(MA(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:MA(this._distance,p),pinchAround:h}}}function Qs(_,i){return 180*_.angleWith(i)/Math.PI}class PA extends LA{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(i){this._startVector=this._vector=i[0].sub(i[1]),this._minDiameter=i[0].dist(i[1])}_move(i,h,p){const v=this._vector;if(this._vector=i[0].sub(i[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Qs(this._vector,v),pinchAround:h}}_isBelowThreshold(i){this._minDiameter=Math.min(this._minDiameter,i.mag());const h=25/(Math.PI*this._minDiameter)*360,p=Qs(i,this._startVector);return Math.abs(p)<h}}function wl(_){return Math.abs(_.y)>Math.abs(_.x)}class OA extends LA{constructor(i){super(),this._currentTouchCount=0,this._map=i}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(i,h,p){super.touchstart(i,h,p),this._currentTouchCount=p.length}_start(i){this._lastPoints=i,wl(i[0].sub(i[1]))&&(this._valid=!1)}_move(i,h,p){if(this._map.cooperativeGestures.isEnabled()&&this._currentTouchCount<3)return;const v=i[0].sub(this._lastPoints[0]),x=i[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(v,x,p.timeStamp),this._valid?(this._lastPoints=i,this._active=!0,{pitchDelta:(v.y+x.y)/2*-.5}):void 0}gestureBeginsVertically(i,h,p){if(this._valid!==void 0)return this._valid;const v=i.mag()>=2,x=h.mag()>=2;if(!v&&!x)return;if(!v||!x)return this._firstMove===void 0&&(this._firstMove=p),p-this._firstMove<100&&void 0;const L=i.y>0==h.y>0;return wl(i)&&wl(h)&&L}}const ku={panStep:100,bearingStep:15,pitchStep:10};class Di{constructor(i){this._tr=new ms(i);const h=ku;this._panStep=h.panStep,this._bearingStep=h.bearingStep,this._pitchStep=h.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(i){if(i.altKey||i.ctrlKey||i.metaKey)return;let h=0,p=0,v=0,x=0,L=0;switch(i.keyCode){case 61:case 107:case 171:case 187:h=1;break;case 189:case 109:case 173:h=-1;break;case 37:i.shiftKey?p=-1:(i.preventDefault(),x=-1);break;case 39:i.shiftKey?p=1:(i.preventDefault(),x=1);break;case 38:i.shiftKey?v=1:(i.preventDefault(),L=-1);break;case 40:i.shiftKey?v=-1:(i.preventDefault(),L=1);break;default:return}return this._rotationDisabled&&(p=0,v=0),{cameraAnimation:M=>{const N=this._tr;M.easeTo({duration:300,easeId:"keyboardHandler",easing:ea,zoom:h?Math.round(N.zoom)+h*(i.shiftKey?2:1):N.zoom,bearing:N.bearing+p*this._bearingStep,pitch:N.pitch+v*this._pitchStep,offset:[-x*this._panStep,-L*this._panStep],center:N.center},{originalEvent:i})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function ea(_){return _*(2-_)}const xl=4.000244140625;class qi{constructor(i,h){this._onTimeout=p=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(p)},this._map=i,this._tr=new ms(i),this._triggerRenderFrame=h,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222}setZoomRate(i){this._defaultZoomRate=i}setWheelZoomRate(i){this._wheelZoomRate=i}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(i){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!i&&i.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}_shouldBePrevented(i){return!!this._map.cooperativeGestures.isEnabled()&&!(i.ctrlKey||this._map.cooperativeGestures.isBypassed(i))}wheel(i){if(!this.isEnabled())return;if(this._shouldBePrevented(i))return void this._map.cooperativeGestures.notifyGestureBlocked("wheel_zoom",i);let h=i.deltaMode===WheelEvent.DOM_DELTA_LINE?40*i.deltaY:i.deltaY;const p=C.now(),v=p-(this._lastWheelEventTime||0);this._lastWheelEventTime=p,h!==0&&h%xl==0?this._type="wheel":h!==0&&Math.abs(h)<4?this._type="trackpad":v>400?(this._type=null,this._lastValue=h,this._timeout=setTimeout(this._onTimeout,40,i)):this._type||(this._type=Math.abs(v*h)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,h+=this._lastValue)),i.shiftKey&&h&&(h/=4),this._type&&(this._lastWheelEvent=i,this._delta-=h,this._active||this._start(i)),i.preventDefault()}_start(i){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const h=F.mousePos(this._map.getCanvas(),i),p=this._tr;this._around=h.y>p.transform.height/2-p.transform.getHorizon()?l.N.convert(this._aroundCenter?p.center:p.unproject(h)):l.N.convert(p.center),this._aroundPoint=p.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const i=this._tr.transform;if(this._delta!==0){const N=this._type==="wheel"&&Math.abs(this._delta)>xl?this._wheelZoomRate:this._defaultZoomRate;let Q=2/(1+Math.exp(-Math.abs(this._delta*N)));this._delta<0&&Q!==0&&(Q=1/Q);const G=typeof this._targetZoom=="number"?i.zoomScale(this._targetZoom):i.scale;this._targetZoom=Math.min(i.maxZoom,Math.max(i.minZoom,i.scaleZoom(G*Q))),this._type==="wheel"&&(this._startZoom=i.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const h=typeof this._targetZoom=="number"?this._targetZoom:i.zoom,p=this._startZoom,v=this._easing;let x,L=!1;const M=C.now()-this._lastWheelEventTime;if(this._type==="wheel"&&p&&v&&M){const N=Math.min(M/200,1),Q=v(N);x=l.y.number(p,h,Q),N<1?this._frameId||(this._frameId=!0):L=!0}else x=h,L=!0;return this._active=!0,L&&(this._active=!1,this._finishTimeout=setTimeout((()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout}),200)),{noInertia:!0,needsRenderFrame:!L,zoomDelta:x-i.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(i){let h=l.b9;if(this._prevEase){const p=this._prevEase,v=(C.now()-p.start)/p.duration,x=p.easing(v+.01)-p.easing(v),L=.27/Math.sqrt(x*x+1e-4)*.01,M=Math.sqrt(.0729-L*L);h=l.b8(L,M,.25,1)}return this._prevEase={start:C.now(),duration:i,easing:h},h}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class Fa{constructor(i,h){this._clickZoom=i,this._tapZoom=h}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class no{constructor(i){this._tr=new ms(i),this.reset()}reset(){this._active=!1}dblclick(i,h){return i.preventDefault(),{cameraAnimation:p=>{p.easeTo({duration:300,zoom:this._tr.zoom+(i.shiftKey?-1:1),around:this._tr.unproject(h)},{originalEvent:i})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class wf{constructor(){this._tap=new IA({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(i,h,p){if(!this._swipePoint)if(this._tapTime){const v=h[0],x=i.timeStamp-this._tapTime<500,L=this._tapPoint.dist(v)<30;x&&L?p.length>0&&(this._swipePoint=v,this._swipeTouch=p[0].identifier):this.reset()}else this._tap.touchstart(i,h,p)}touchmove(i,h,p){if(this._tapTime){if(this._swipePoint){if(p[0].identifier!==this._swipeTouch)return;const v=h[0],x=v.y-this._swipePoint.y;return this._swipePoint=v,i.preventDefault(),this._active=!0,{zoomDelta:x/128}}}else this._tap.touchmove(i,h,p)}touchend(i,h,p){if(this._tapTime)this._swipePoint&&p.length===0&&this.reset();else{const v=this._tap.touchend(i,h,p);v&&(this._tapTime=i.timeStamp,this._tapPoint=v)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Gc{constructor(i,h,p){this._el=i,this._mousePan=h,this._touchPan=p}enable(i){this._inertiaOptions=i||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class yc{constructor(i,h,p){this._pitchWithRotate=i.pitchWithRotate,this._mouseRotate=h,this._mousePitch=p}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class $c{constructor(i,h,p,v){this._el=i,this._touchZoom=h,this._touchRotate=p,this._tapDragZoom=v,this._rotationDisabled=!1,this._enabled=!0}enable(i){this._touchZoom.enable(i),this._rotationDisabled||this._touchRotate.enable(i),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}class Gi{constructor(i,h){this._bypassKey=navigator.userAgent.indexOf("Mac")!==-1?"metaKey":"ctrlKey",this._map=i,this._options=h,this._enabled=!1}isActive(){return!1}reset(){}_setupUI(){if(this._container)return;const i=this._map.getCanvasContainer();i.classList.add("maplibregl-cooperative-gestures"),this._container=F.create("div","maplibregl-cooperative-gesture-screen",i);let h=this._map._getUIString("CooperativeGesturesHandler.WindowsHelpText");this._bypassKey==="metaKey"&&(h=this._map._getUIString("CooperativeGesturesHandler.MacHelpText"));const p=this._map._getUIString("CooperativeGesturesHandler.MobileHelpText"),v=document.createElement("div");v.className="maplibregl-desktop-message",v.textContent=h,this._container.appendChild(v);const x=document.createElement("div");x.className="maplibregl-mobile-message",x.textContent=p,this._container.appendChild(x),this._container.setAttribute("aria-hidden","true")}_destroyUI(){this._container&&(F.remove(this._container),this._map.getCanvasContainer().classList.remove("maplibregl-cooperative-gestures")),delete this._container}enable(){this._setupUI(),this._enabled=!0}disable(){this._enabled=!1,this._destroyUI()}isEnabled(){return this._enabled}isBypassed(i){return i[this._bypassKey]}notifyGestureBlocked(i,h){this._enabled&&(this._map.fire(new l.k("cooperativegestureprevented",{gestureType:i,originalEvent:h})),this._container.classList.add("maplibregl-show"),setTimeout((()=>{this._container.classList.remove("maplibregl-show")}),100))}}const Mn=_=>_.zoom||_.drag||_.pitch||_.rotate;class Rt extends l.k{}function La(_){return _.panDelta&&_.panDelta.mag()||_.zoomDelta||_.bearingDelta||_.pitchDelta}class Ei{constructor(i,h){this.handleWindowEvent=v=>{this.handleEvent(v,`${v.type}Window`)},this.handleEvent=(v,x)=>{if(v.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const L=v.type==="renderFrame"?void 0:v,M={needsRenderFrame:!1},N={},Q={},G=v.touches,$=G?this._getMapTouches(G):void 0,ee=$?F.touchPos(this._map.getCanvas(),$):F.mousePos(this._map.getCanvas(),v);for(const{handlerName:ge,handler:Se,allowed:xe}of this._handlers){if(!Se.isEnabled())continue;let Qe;this._blockedByActive(Q,xe,ge)?Se.reset():Se[x||v.type]&&(Qe=Se[x||v.type](v,ee,$),this.mergeHandlerResult(M,N,Qe,ge,L),Qe&&Qe.needsRenderFrame&&this._triggerRenderFrame()),(Qe||Se.isActive())&&(Q[ge]=Se)}const ne={};for(const ge in this._previousActiveHandlers)Q[ge]||(ne[ge]=L);this._previousActiveHandlers=Q,(Object.keys(ne).length||La(M))&&(this._changes.push([M,N,ne]),this._triggerRenderFrame()),(Object.keys(Q).length||La(M))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:ce}=M;ce&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],ce(this._map))},this._map=i,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new gc(i),this._bearingSnap=h.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(h);const p=this._el;this._listeners=[[p,"touchstart",{passive:!0}],[p,"touchmove",{passive:!1}],[p,"touchend",void 0],[p,"touchcancel",void 0],[p,"mousedown",void 0],[p,"mousemove",void 0],[p,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[p,"mouseover",void 0],[p,"mouseout",void 0],[p,"dblclick",void 0],[p,"click",void 0],[p,"keydown",{capture:!1}],[p,"keyup",void 0],[p,"wheel",{passive:!1}],[p,"contextmenu",void 0],[window,"blur",void 0]];for(const[v,x,L]of this._listeners)F.addEventListener(v,x,v===document?this.handleWindowEvent:this.handleEvent,L)}destroy(){for(const[i,h,p]of this._listeners)F.removeEventListener(i,h,i===document?this.handleWindowEvent:this.handleEvent,p)}_addDefaultHandlers(i){const h=this._map,p=h.getCanvasContainer();this._add("mapEvent",new EA(h,i));const v=h.boxZoom=new Va(h,i);this._add("boxZoom",v),i.interactive&&i.boxZoom&&v.enable();const x=h.cooperativeGestures=new Gi(h,i.cooperativeGestures);this._add("cooperativeGestures",x),i.cooperativeGestures&&x.enable();const L=new Ji(h),M=new no(h);h.doubleClickZoom=new Fa(M,L),this._add("tapZoom",L),this._add("clickZoom",M),i.interactive&&i.doubleClickZoom&&h.doubleClickZoom.enable();const N=new wf;this._add("tapDragZoom",N);const Q=h.touchPitch=new OA(h);this._add("touchPitch",Q),i.interactive&&i.touchPitch&&h.touchPitch.enable(i.touchPitch);const G=Au(i),$=FA(i);h.dragRotate=new yc(i,G,$),this._add("mouseRotate",G,["mousePitch"]),this._add("mousePitch",$,["mouseRotate"]),i.interactive&&i.dragRotate&&h.dragRotate.enable();const ee=(({enable:Qe,clickTolerance:Te})=>{const Xe=new ba({checkCorrectEvent:Ge=>F.mouseButton(Ge)===0&&!Ge.ctrlKey});return new bi({clickTolerance:Te,move:(Ge,at)=>({around:at,panDelta:at.sub(Ge)}),activateOnStart:!0,moveStateManager:Xe,enable:Qe,assignEvents:gs})})(i),ne=new Ns(i,h);h.dragPan=new Gc(p,ee,ne),this._add("mousePan",ee),this._add("touchPan",ne,["touchZoom","touchRotate"]),i.interactive&&i.dragPan&&h.dragPan.enable(i.dragPan);const ce=new PA,ge=new Du;h.touchZoomRotate=new $c(p,ge,ce,N),this._add("touchRotate",ce,["touchPan","touchZoom"]),this._add("touchZoom",ge,["touchPan","touchRotate"]),i.interactive&&i.touchZoomRotate&&h.touchZoomRotate.enable(i.touchZoomRotate);const Se=h.scrollZoom=new qi(h,(()=>this._triggerRenderFrame()));this._add("scrollZoom",Se,["mousePan"]),i.interactive&&i.scrollZoom&&h.scrollZoom.enable(i.scrollZoom);const xe=h.keyboard=new Di(h);this._add("keyboard",xe),i.interactive&&i.keyboard&&h.keyboard.enable(),this._add("blockableMapEvent",new _i(h))}_add(i,h,p){this._handlers.push({handlerName:i,handler:h,allowed:p}),this._handlersById[i]=h}stop(i){if(!this._updatingCamera){for(const{handler:h}of this._handlers)h.reset();this._inertia.clear(),this._fireEvents({},{},i),this._changes=[]}}isActive(){for(const{handler:i}of this._handlers)if(i.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Mn(this._eventsInProgress)||this.isZooming()}_blockedByActive(i,h,p){for(const v in i)if(v!==p&&(!h||h.indexOf(v)<0))return!0;return!1}_getMapTouches(i){const h=[];for(const p of i)this._el.contains(p.target)&&h.push(p);return h}mergeHandlerResult(i,h,p,v,x){if(!p)return;l.e(i,p);const L={handlerName:v,originalEvent:p.originalEvent||x};p.zoomDelta!==void 0&&(h.zoom=L),p.panDelta!==void 0&&(h.drag=L),p.pitchDelta!==void 0&&(h.pitch=L),p.bearingDelta!==void 0&&(h.rotate=L)}_applyChanges(){const i={},h={},p={};for(const[v,x,L]of this._changes)v.panDelta&&(i.panDelta=(i.panDelta||new l.P(0,0))._add(v.panDelta)),v.zoomDelta&&(i.zoomDelta=(i.zoomDelta||0)+v.zoomDelta),v.bearingDelta&&(i.bearingDelta=(i.bearingDelta||0)+v.bearingDelta),v.pitchDelta&&(i.pitchDelta=(i.pitchDelta||0)+v.pitchDelta),v.around!==void 0&&(i.around=v.around),v.pinchAround!==void 0&&(i.pinchAround=v.pinchAround),v.noInertia&&(i.noInertia=v.noInertia),l.e(h,x),l.e(p,L);this._updateMapTransform(i,h,p),this._changes=[]}_updateMapTransform(i,h,p){const v=this._map,x=v._getTransformForUpdate(),L=v.terrain;if(!(La(i)||L&&this._terrainMovement))return this._fireEvents(h,p,!0);let{panDelta:M,zoomDelta:N,bearingDelta:Q,pitchDelta:G,around:$,pinchAround:ee}=i;ee!==void 0&&($=ee),v._stop(!0),$=$||v.transform.centerPoint;const ne=x.pointLocation(M?$.sub(M):$);Q&&(x.bearing+=Q),G&&(x.pitch+=G),N&&(x.zoom+=N),L?this._terrainMovement||!h.drag&&!h.zoom?h.drag&&this._terrainMovement?x.center=x.pointLocation(x.centerPoint.sub(M)):x.setLocationAtPoint(ne,$):(this._terrainMovement=!0,this._map._elevationFreeze=!0,x.setLocationAtPoint(ne,$)):x.setLocationAtPoint(ne,$),v._applyUpdatedTransform(x),this._map._update(),i.noInertia||this._inertia.record(i),this._fireEvents(h,p,!0)}_fireEvents(i,h,p){const v=Mn(this._eventsInProgress),x=Mn(i),L={};for(const $ in i){const{originalEvent:ee}=i[$];this._eventsInProgress[$]||(L[`${$}start`]=ee),this._eventsInProgress[$]=i[$]}!v&&x&&this._fireEvent("movestart",x.originalEvent);for(const $ in L)this._fireEvent($,L[$]);x&&this._fireEvent("move",x.originalEvent);for(const $ in i){const{originalEvent:ee}=i[$];this._fireEvent($,ee)}const M={};let N;for(const $ in this._eventsInProgress){const{handlerName:ee,originalEvent:ne}=this._eventsInProgress[$];this._handlersById[ee].isActive()||(delete this._eventsInProgress[$],N=h[ee]||ne,M[`${$}end`]=N)}for(const $ in M)this._fireEvent($,M[$]);const Q=Mn(this._eventsInProgress),G=(v||x)&&!Q;if(G&&this._terrainMovement){this._map._elevationFreeze=!1,this._terrainMovement=!1;const $=this._map._getTransformForUpdate();$.recalculateZoom(this._map.terrain),this._map._applyUpdatedTransform($)}if(p&&G){this._updatingCamera=!0;const $=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),ee=ne=>ne!==0&&-this._bearingSnap<ne&&ne<this._bearingSnap;!$||!$.essential&&C.prefersReducedMotion?(this._map.fire(new l.k("moveend",{originalEvent:N})),ee(this._map.getBearing())&&this._map.resetNorth()):(ee($.bearing||this._map.getBearing())&&($.bearing=0),$.freezeElevation=!0,this._map.easeTo($,{originalEvent:N})),this._updatingCamera=!1}}_fireEvent(i,h){this._map.fire(new l.k(i,h?{originalEvent:h}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add((i=>{delete this._frameId,this.handleEvent(new Rt("renderFrame",{timeStamp:i})),this._applyChanges()}))}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class So extends l.E{constructor(i,h){super(),this._renderFrameCallback=()=>{const p=Math.min((C.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(p)),p<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=i,this._bearingSnap=h.bearingSnap,this.on("moveend",(()=>{delete this._requestedCameraState}))}getCenter(){return new l.N(this.transform.center.lng,this.transform.center.lat)}setCenter(i,h){return this.jumpTo({center:i},h)}panBy(i,h,p){return i=l.P.convert(i).mult(-1),this.panTo(this.transform.center,l.e({offset:i},h),p)}panTo(i,h,p){return this.easeTo(l.e({center:i},h),p)}getZoom(){return this.transform.zoom}setZoom(i,h){return this.jumpTo({zoom:i},h),this}zoomTo(i,h,p){return this.easeTo(l.e({zoom:i},h),p)}zoomIn(i,h){return this.zoomTo(this.getZoom()+1,i,h),this}zoomOut(i,h){return this.zoomTo(this.getZoom()-1,i,h),this}getBearing(){return this.transform.bearing}setBearing(i,h){return this.jumpTo({bearing:i},h),this}getPadding(){return this.transform.padding}setPadding(i,h){return this.jumpTo({padding:i},h),this}rotateTo(i,h,p){return this.easeTo(l.e({bearing:i},h),p)}resetNorth(i,h){return this.rotateTo(0,l.e({duration:1e3},i),h),this}resetNorthPitch(i,h){return this.easeTo(l.e({bearing:0,pitch:0,duration:1e3},i),h),this}snapToNorth(i,h){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(i,h):this}getPitch(){return this.transform.pitch}setPitch(i,h){return this.jumpTo({pitch:i},h),this}cameraForBounds(i,h){i=Ye.convert(i).adjustAntiMeridian();const p=h&&h.bearing||0;return this._cameraForBoxAndBearing(i.getNorthWest(),i.getSouthEast(),p,h)}_cameraForBoxAndBearing(i,h,p,v){const x={top:0,bottom:0,right:0,left:0};if(typeof(v=l.e({padding:x,offset:[0,0],maxZoom:this.transform.maxZoom},v)).padding=="number"){const Nt=v.padding;v.padding={top:Nt,bottom:Nt,right:Nt,left:Nt}}v.padding=l.e(x,v.padding);const L=this.transform,M=L.padding,N=new Ye(i,h),Q=L.project(N.getNorthWest()),G=L.project(N.getNorthEast()),$=L.project(N.getSouthEast()),ee=L.project(N.getSouthWest()),ne=l.ba(-p),ce=Q.rotate(ne),ge=G.rotate(ne),Se=$.rotate(ne),xe=ee.rotate(ne),Qe=new l.P(Math.max(ce.x,ge.x,xe.x,Se.x),Math.max(ce.y,ge.y,xe.y,Se.y)),Te=new l.P(Math.min(ce.x,ge.x,xe.x,Se.x),Math.min(ce.y,ge.y,xe.y,Se.y)),Xe=Qe.sub(Te),Ge=(L.width-(M.left+M.right+v.padding.left+v.padding.right))/Xe.x,at=(L.height-(M.top+M.bottom+v.padding.top+v.padding.bottom))/Xe.y;if(at<0||Ge<0)return void l.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const wt=Math.min(L.scaleZoom(L.scale*Math.min(Ge,at)),v.maxZoom),St=l.P.convert(v.offset),_t=new l.P((v.padding.left-v.padding.right)/2,(v.padding.top-v.padding.bottom)/2).rotate(l.ba(p)),gt=St.add(_t).mult(L.scale/L.zoomScale(wt));return{center:L.unproject(Q.add($).div(2).sub(gt)),zoom:wt,bearing:p}}fitBounds(i,h,p){return this._fitInternal(this.cameraForBounds(i,h),h,p)}fitScreenCoordinates(i,h,p,v,x){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(l.P.convert(i)),this.transform.pointLocation(l.P.convert(h)),p,v),v,x)}_fitInternal(i,h,p){return i?(delete(h=l.e(i,h)).padding,h.linear?this.easeTo(h,p):this.flyTo(h,p)):this}jumpTo(i,h){this.stop();const p=this._getTransformForUpdate();let v=!1,x=!1,L=!1;return"zoom"in i&&p.zoom!==+i.zoom&&(v=!0,p.zoom=+i.zoom),i.center!==void 0&&(p.center=l.N.convert(i.center)),"bearing"in i&&p.bearing!==+i.bearing&&(x=!0,p.bearing=+i.bearing),"pitch"in i&&p.pitch!==+i.pitch&&(L=!0,p.pitch=+i.pitch),i.padding==null||p.isPaddingEqual(i.padding)||(p.padding=i.padding),this._applyUpdatedTransform(p),this.fire(new l.k("movestart",h)).fire(new l.k("move",h)),v&&this.fire(new l.k("zoomstart",h)).fire(new l.k("zoom",h)).fire(new l.k("zoomend",h)),x&&this.fire(new l.k("rotatestart",h)).fire(new l.k("rotate",h)).fire(new l.k("rotateend",h)),L&&this.fire(new l.k("pitchstart",h)).fire(new l.k("pitch",h)).fire(new l.k("pitchend",h)),this.fire(new l.k("moveend",h))}calculateCameraOptionsFromTo(i,h,p,v=0){const x=l.Z.fromLngLat(i,h),L=l.Z.fromLngLat(p,v),M=L.x-x.x,N=L.y-x.y,Q=L.z-x.z,G=Math.hypot(M,N,Q);if(G===0)throw new Error("Can't calculate camera options with same From and To");const $=Math.hypot(M,N),ee=this.transform.scaleZoom(this.transform.cameraToCenterDistance/G/this.transform.tileSize),ne=180*Math.atan2(M,-N)/Math.PI;let ce=180*Math.acos($/G)/Math.PI;return ce=Q<0?90-ce:90+ce,{center:L.toLngLat(),zoom:ee,pitch:ce,bearing:ne}}easeTo(i,h){var p;this._stop(!1,i.easeId),((i=l.e({offset:[0,0],duration:500,easing:l.b9},i)).animate===!1||!i.essential&&C.prefersReducedMotion)&&(i.duration=0);const v=this._getTransformForUpdate(),x=v.zoom,L=v.bearing,M=v.pitch,N=v.padding,Q="bearing"in i?this._normalizeBearing(i.bearing,L):L,G="pitch"in i?+i.pitch:M,$="padding"in i?i.padding:v.padding,ee=l.P.convert(i.offset);let ne=v.centerPoint.add(ee);const ce=v.pointLocation(ne),{center:ge,zoom:Se}=v.getConstrained(l.N.convert(i.center||ce),(p=i.zoom)!==null&&p!==void 0?p:x);this._normalizeCenter(ge,v);const xe=v.project(ce),Qe=v.project(ge).sub(xe),Te=v.zoomScale(Se-x);let Xe,Ge;i.around&&(Xe=l.N.convert(i.around),Ge=v.locationPoint(Xe));const at={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||Se!==x,this._rotating=this._rotating||L!==Q,this._pitching=this._pitching||G!==M,this._padding=!v.isPaddingEqual($),this._easeId=i.easeId,this._prepareEase(h,i.noMoveStart,at),this.terrain&&this._prepareElevation(ge),this._ease((wt=>{if(this._zooming&&(v.zoom=l.y.number(x,Se,wt)),this._rotating&&(v.bearing=l.y.number(L,Q,wt)),this._pitching&&(v.pitch=l.y.number(M,G,wt)),this._padding&&(v.interpolatePadding(N,$,wt),ne=v.centerPoint.add(ee)),this.terrain&&!i.freezeElevation&&this._updateElevation(wt),Xe)v.setLocationAtPoint(Xe,Ge);else{const St=v.zoomScale(v.zoom-x),_t=Se>x?Math.min(2,Te):Math.max(.5,Te),gt=Math.pow(_t,1-wt),Nt=v.unproject(xe.add(Qe.mult(wt*gt)).mult(St));v.setLocationAtPoint(v.renderWorldCopies?Nt.wrap():Nt,ne)}this._applyUpdatedTransform(v),this._fireMoveEvents(h)}),(wt=>{this.terrain&&i.freezeElevation&&this._finalizeElevation(),this._afterEase(h,wt)}),i),this}_prepareEase(i,h,p={}){this._moving=!0,h||p.moving||this.fire(new l.k("movestart",i)),this._zooming&&!p.zooming&&this.fire(new l.k("zoomstart",i)),this._rotating&&!p.rotating&&this.fire(new l.k("rotatestart",i)),this._pitching&&!p.pitching&&this.fire(new l.k("pitchstart",i))}_prepareElevation(i){this._elevationCenter=i,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(i,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(i){this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);const h=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(i<1&&h!==this._elevationTarget){const p=this._elevationTarget-this._elevationStart;this._elevationStart+=i*(p-(h-(p*i+this._elevationStart))/(1-i)),this._elevationTarget=h}this.transform.elevation=l.y.number(this._elevationStart,this._elevationTarget,i)}_finalizeElevation(){this._elevationFreeze=!1,this.transform.recalculateZoom(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate||this.terrain?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_elevateCameraIfInsideTerrain(i){const h=i.getCameraPosition(),p=this.terrain.getElevationForLngLatZoom(h.lngLat,i.zoom);if(h.altitude<p){const v=this.calculateCameraOptionsFromTo(h.lngLat,p,i.center,i.elevation);return{pitch:v.pitch,zoom:v.zoom}}return{}}_applyUpdatedTransform(i){const h=[];if(this.terrain&&h.push((v=>this._elevateCameraIfInsideTerrain(v))),this.transformCameraUpdate&&h.push((v=>this.transformCameraUpdate(v))),!h.length)return;const p=i.clone();for(const v of h){const x=p.clone(),{center:L,zoom:M,pitch:N,bearing:Q,elevation:G}=v(x);L&&(x.center=L),M!==void 0&&(x.zoom=M),N!==void 0&&(x.pitch=N),Q!==void 0&&(x.bearing=Q),G!==void 0&&(x.elevation=G),p.apply(x)}this.transform.apply(p)}_fireMoveEvents(i){this.fire(new l.k("move",i)),this._zooming&&this.fire(new l.k("zoom",i)),this._rotating&&this.fire(new l.k("rotate",i)),this._pitching&&this.fire(new l.k("pitch",i))}_afterEase(i,h){if(this._easeId&&h&&this._easeId===h)return;delete this._easeId;const p=this._zooming,v=this._rotating,x=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,p&&this.fire(new l.k("zoomend",i)),v&&this.fire(new l.k("rotateend",i)),x&&this.fire(new l.k("pitchend",i)),this.fire(new l.k("moveend",i))}flyTo(i,h){var p;if(!i.essential&&C.prefersReducedMotion){const $t=l.M(i,["center","zoom","bearing","pitch","around"]);return this.jumpTo($t,h)}this.stop(),i=l.e({offset:[0,0],speed:1.2,curve:1.42,easing:l.b9},i);const v=this._getTransformForUpdate(),x=v.zoom,L=v.bearing,M=v.pitch,N=v.padding,Q="bearing"in i?this._normalizeBearing(i.bearing,L):L,G="pitch"in i?+i.pitch:M,$="padding"in i?i.padding:v.padding,ee=l.P.convert(i.offset);let ne=v.centerPoint.add(ee);const ce=v.pointLocation(ne),{center:ge,zoom:Se}=v.getConstrained(l.N.convert(i.center||ce),(p=i.zoom)!==null&&p!==void 0?p:x);this._normalizeCenter(ge,v);const xe=v.zoomScale(Se-x),Qe=v.project(ce),Te=v.project(ge).sub(Qe);let Xe=i.curve;const Ge=Math.max(v.width,v.height),at=Ge/xe,wt=Te.mag();if("minZoom"in i){const $t=l.ac(Math.min(i.minZoom,x,Se),v.minZoom,v.maxZoom),rr=Ge/v.zoomScale($t-x);Xe=Math.sqrt(rr/wt*2)}const St=Xe*Xe;function _t($t){const rr=(at*at-Ge*Ge+($t?-1:1)*St*St*wt*wt)/(2*($t?at:Ge)*St*wt);return Math.log(Math.sqrt(rr*rr+1)-rr)}function gt($t){return(Math.exp($t)-Math.exp(-$t))/2}function Nt($t){return(Math.exp($t)+Math.exp(-$t))/2}const Et=_t(!1);let zt=function($t){return Nt(Et)/Nt(Et+Xe*$t)},tr=function($t){return Ge*((Nt(Et)*(gt(rr=Et+Xe*$t)/Nt(rr))-gt(Et))/St)/wt;var rr},Vt=(_t(!0)-Et)/Xe;if(Math.abs(wt)<1e-6||!isFinite(Vt)){if(Math.abs(Ge-at)<1e-6)return this.easeTo(i,h);const $t=at<Ge?-1:1;Vt=Math.abs(Math.log(at/Ge))/Xe,tr=()=>0,zt=rr=>Math.exp($t*Xe*rr)}return i.duration="duration"in i?+i.duration:1e3*Vt/("screenSpeed"in i?+i.screenSpeed/Xe:+i.speed),i.maxDuration&&i.duration>i.maxDuration&&(i.duration=0),this._zooming=!0,this._rotating=L!==Q,this._pitching=G!==M,this._padding=!v.isPaddingEqual($),this._prepareEase(h,!1),this.terrain&&this._prepareElevation(ge),this._ease(($t=>{const rr=$t*Vt,un=1/zt(rr);v.zoom=$t===1?Se:x+v.scaleZoom(un),this._rotating&&(v.bearing=l.y.number(L,Q,$t)),this._pitching&&(v.pitch=l.y.number(M,G,$t)),this._padding&&(v.interpolatePadding(N,$,$t),ne=v.centerPoint.add(ee)),this.terrain&&!i.freezeElevation&&this._updateElevation($t);const Ir=$t===1?ge:v.unproject(Qe.add(Te.mult(tr(rr))).mult(un));v.setLocationAtPoint(v.renderWorldCopies?Ir.wrap():Ir,ne),this._applyUpdatedTransform(v),this._fireMoveEvents(h)}),(()=>{this.terrain&&i.freezeElevation&&this._finalizeElevation(),this._afterEase(h)}),i),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(i,h){var p;if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const v=this._onEaseEnd;delete this._onEaseEnd,v.call(this,h)}return i||(p=this.handlers)===null||p===void 0||p.stop(!1),this}_ease(i,h,p){p.animate===!1||p.duration===0?(i(1),h()):(this._easeStart=C.now(),this._easeOptions=p,this._onEaseFrame=i,this._onEaseEnd=h,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(i,h){i=l.b3(i,-180,180);const p=Math.abs(i-h);return Math.abs(i-360-h)<p&&(i-=360),Math.abs(i+360-h)<p&&(i+=360),i}_normalizeCenter(i,h){if(!h.renderWorldCopies||h.lngRange)return;const p=i.lng-h.center.lng;i.lng+=p>180?-360:p<-180?360:0}queryTerrainElevation(i){return this.terrain?this.terrain.getElevationForLngLatZoom(l.N.convert(i),this.transform.tileZoom)-this.transform.elevation:null}}const io={compact:!0,customAttribution:'<a href="https://maplibre.org/" target="_blank">MapLibre</a>'};class DA{constructor(i=io){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=h=>{!h||h.sourceDataType!=="metadata"&&h.sourceDataType!=="visibility"&&h.dataType!=="style"&&h.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=i}getDefaultPosition(){return"bottom-right"}onAdd(i){return this._map=i,this._compact=this.options.compact,this._container=F.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=F.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=F.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){F.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(i,h){const p=this._map._getUIString(`AttributionControl.${h}`);i.title=p,i.setAttribute("aria-label",p)}_updateAttributions(){if(!this._map.style)return;let i=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?i=i.concat(this.options.customAttribution.map((v=>typeof v!="string"?"":v))):typeof this.options.customAttribution=="string"&&i.push(this.options.customAttribution)),this._map.style.stylesheet){const v=this._map.style.stylesheet;this.styleOwner=v.owner,this.styleId=v.id}const h=this._map.style.sourceCaches;for(const v in h){const x=h[v];if(x.used||x.usedForTerrain){const L=x.getSource();L.attribution&&i.indexOf(L.attribution)<0&&i.push(L.attribution)}}i=i.filter((v=>String(v).trim())),i.sort(((v,x)=>v.length-x.length)),i=i.filter(((v,x)=>{for(let L=x+1;L<i.length;L++)if(i[L].indexOf(v)>=0)return!1;return!0}));const p=i.join(" | ");p!==this._attribHTML&&(this._attribHTML=p,i.length?(this._innerContainer.innerHTML=p,this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class Wo{constructor(i={}){this._updateCompact=()=>{const h=this._container.children;if(h.length){const p=h[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&p.classList.add("maplibregl-compact"):p.classList.remove("maplibregl-compact")}},this.options=i}getDefaultPosition(){return"bottom-left"}onAdd(i){this._map=i,this._compact=this.options&&this.options.compact,this._container=F.create("div","maplibregl-ctrl");const h=F.create("a","maplibregl-ctrl-logo");return h.target="_blank",h.rel="noopener nofollow",h.href="https://maplibre.org/",h.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),h.setAttribute("rel","noopener nofollow"),this._container.appendChild(h),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){F.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class Hr{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(i){const h=++this._id;return this._queue.push({callback:i,id:h,cancelled:!1}),h}remove(i){const h=this._currentlyRunning,p=h?this._queue.concat(h):this._queue;for(const v of p)if(v.id===i)return void(v.cancelled=!0)}run(i=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const h=this._currentlyRunning=this._queue;this._queue=[];for(const p of h)if(!p.cancelled&&(p.callback(i),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}var Yl=l.Y([{name:"a_pos3d",type:"Int16",components:3}]);class Lh extends l.E{constructor(i){super(),this.sourceCache=i,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,i.usedForTerrain=!0,i.tileSize=this.tileSize*2**this.deltaZoom}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(i,h){this.sourceCache.update(i,h),this._renderableTilesKeys=[];const p={};for(const v of i.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:h}))p[v.key]=!0,this._renderableTilesKeys.push(v.key),this._tiles[v.key]||(v.posMatrix=new Float64Array(16),l.aP(v.posMatrix,0,l.X,0,l.X,0,1),this._tiles[v.key]=new ri(v,this.tileSize));for(const v in this._tiles)p[v]||delete this._tiles[v]}freeRtt(i){for(const h in this._tiles){const p=this._tiles[h];(!i||p.tileID.equals(i)||p.tileID.isChildOf(i)||i.isChildOf(p.tileID))&&(p.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map((i=>this.getTileByID(i)))}getTileByID(i){return this._tiles[i]}getTerrainCoords(i){const h={};for(const p of this._renderableTilesKeys){const v=this._tiles[p].tileID;if(v.canonical.equals(i.canonical)){const x=i.clone();x.posMatrix=new Float64Array(16),l.aP(x.posMatrix,0,l.X,0,l.X,0,1),h[p]=x}else if(v.canonical.isChildOf(i.canonical)){const x=i.clone();x.posMatrix=new Float64Array(16);const L=v.canonical.z-i.canonical.z,M=v.canonical.x-(v.canonical.x>>L<<L),N=v.canonical.y-(v.canonical.y>>L<<L),Q=l.X>>L;l.aP(x.posMatrix,0,Q,0,Q,0,1),l.J(x.posMatrix,x.posMatrix,[-M*Q,-N*Q,0]),h[p]=x}else if(i.canonical.isChildOf(v.canonical)){const x=i.clone();x.posMatrix=new Float64Array(16);const L=i.canonical.z-v.canonical.z,M=i.canonical.x-(i.canonical.x>>L<<L),N=i.canonical.y-(i.canonical.y>>L<<L),Q=l.X>>L;l.aP(x.posMatrix,0,l.X,0,l.X,0,1),l.J(x.posMatrix,x.posMatrix,[M*Q,N*Q,0]),l.K(x.posMatrix,x.posMatrix,[1/2**L,1/2**L,0]),h[p]=x}}return h}getSourceTile(i,h){const p=this.sourceCache._source;let v=i.overscaledZ-this.deltaZoom;if(v>p.maxzoom&&(v=p.maxzoom),v<p.minzoom)return null;this._sourceTileCache[i.key]||(this._sourceTileCache[i.key]=i.scaledTo(v).key);let x=this.sourceCache.getTileByID(this._sourceTileCache[i.key]);if((!x||!x.dem)&&h)for(;v>=p.minzoom&&(!x||!x.dem);)x=this.sourceCache.getTileByID(i.scaledTo(v--).key);return x}tilesAfterTime(i=Date.now()){return Object.values(this._tiles).filter((h=>h.timeAdded>=i))}}class kA{constructor(i,h,p){this.painter=i,this.sourceCache=new Lh(h),this.options=p,this.exaggeration=typeof p.exaggeration=="number"?p.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(i,h,p,v=l.X){var x;if(!(h>=0&&h<v&&p>=0&&p<v))return 0;const L=this.getTerrainData(i),M=(x=L.tile)===null||x===void 0?void 0:x.dem;if(!M)return 0;const N=(function(ce,ge,Se){var xe=ge[0],Qe=ge[1];return ce[0]=Se[0]*xe+Se[4]*Qe+Se[12],ce[1]=Se[1]*xe+Se[5]*Qe+Se[13],ce})([],[h/v*l.X,p/v*l.X],L.u_terrain_matrix),Q=[N[0]*M.dim,N[1]*M.dim],G=Math.floor(Q[0]),$=Math.floor(Q[1]),ee=Q[0]-G,ne=Q[1]-$;return M.get(G,$)*(1-ee)*(1-ne)+M.get(G+1,$)*ee*(1-ne)+M.get(G,$+1)*(1-ee)*ne+M.get(G+1,$+1)*ee*ne}getElevationForLngLatZoom(i,h){if(!l.bb(h,i.wrap()))return 0;const{tileID:p,mercatorX:v,mercatorY:x}=this._getOverscaledTileIDFromLngLatZoom(i,h);return this.getElevation(p,v%l.X,x%l.X,l.X)}getElevation(i,h,p,v=l.X){return this.getDEMElevation(i,h,p,v)*this.exaggeration}getTerrainData(i){if(!this._emptyDemTexture){const v=this.painter.context,x=new l.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new se(v,x,v.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new se(v,new l.R({width:1,height:1}),v.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(v.gl.NEAREST,v.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=l.an([])}const h=this.sourceCache.getSourceTile(i,!0);if(h&&h.dem&&(!h.demTexture||h.needsTerrainPrepare)){const v=this.painter.context;h.demTexture=this.painter.getTileTexture(h.dem.stride),h.demTexture?h.demTexture.update(h.dem.getPixels(),{premultiply:!1}):h.demTexture=new se(v,h.dem.getPixels(),v.gl.RGBA,{premultiply:!1}),h.demTexture.bind(v.gl.NEAREST,v.gl.CLAMP_TO_EDGE),h.needsTerrainPrepare=!1}const p=h&&h+h.tileID.key+i.key;if(p&&!this._demMatrixCache[p]){const v=this.sourceCache.sourceCache._source.maxzoom;let x=i.canonical.z-h.tileID.canonical.z;i.overscaledZ>i.canonical.z&&(i.canonical.z>=v?x=i.canonical.z-v:l.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const L=i.canonical.x-(i.canonical.x>>x<<x),M=i.canonical.y-(i.canonical.y>>x<<x),N=l.bc(new Float64Array(16),[1/(l.X<<x),1/(l.X<<x),0]);l.J(N,N,[L*l.X,M*l.X,0]),this._demMatrixCache[i.key]={matrix:N,coord:i}}return{u_depth:2,u_terrain:3,u_terrain_dim:h&&h.dem&&h.dem.dim||1,u_terrain_matrix:p?this._demMatrixCache[i.key].matrix:this._emptyDemMatrix,u_terrain_unpack:h&&h.dem&&h.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(h&&h.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:h}}getFramebuffer(i){const h=this.painter,p=h.width/devicePixelRatio,v=h.height/devicePixelRatio;return!this._fbo||this._fbo.width===p&&this._fbo.height===v||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new se(h.context,{width:p,height:v,data:null},h.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(h.context.gl.NEAREST,h.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new se(h.context,{width:p,height:v,data:null},h.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(h.context.gl.NEAREST,h.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=h.context.createFramebuffer(p,v,!0,!1),this._fbo.depthAttachment.set(h.context.createRenderbuffer(h.context.gl.DEPTH_COMPONENT16,p,v))),this._fbo.colorAttachment.set(i==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const i=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const h=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let x=0,L=0;x<this._coordsTextureSize;x++)for(let M=0;M<this._coordsTextureSize;M++,L+=4)h[L+0]=255&M,h[L+1]=255&x,h[L+2]=M>>8<<4|x>>8,h[L+3]=0;const p=new l.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(h.buffer)),v=new se(i,p,i.gl.RGBA,{premultiply:!1});return v.bind(i.gl.NEAREST,i.gl.CLAMP_TO_EDGE),this._coordsTexture=v,v}pointCoordinate(i){this.painter.maybeDrawDepthAndCoords(!0);const h=new Uint8Array(4),p=this.painter.context,v=p.gl,x=Math.round(i.x*this.painter.pixelRatio/devicePixelRatio),L=Math.round(i.y*this.painter.pixelRatio/devicePixelRatio),M=Math.round(this.painter.height/devicePixelRatio);p.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),v.readPixels(x,M-L-1,1,1,v.RGBA,v.UNSIGNED_BYTE,h),p.bindFramebuffer.set(null);const N=h[0]+(h[2]>>4<<8),Q=h[1]+((15&h[2])<<8),G=this.coordsIndex[255-h[3]],$=G&&this.sourceCache.getTileByID(G);if(!$)return null;const ee=this._coordsTextureSize,ne=(1<<$.tileID.canonical.z)*ee;return new l.Z(($.tileID.canonical.x*ee+N)/ne+$.tileID.wrap,($.tileID.canonical.y*ee+Q)/ne,this.getElevation($.tileID,N,Q,ee))}depthAtPoint(i){const h=new Uint8Array(4),p=this.painter.context,v=p.gl;return p.bindFramebuffer.set(this.getFramebuffer("depth").framebuffer),v.readPixels(i.x,this.painter.height/devicePixelRatio-i.y-1,1,1,v.RGBA,v.UNSIGNED_BYTE,h),p.bindFramebuffer.set(null),(h[0]/16777216+h[1]/65536+h[2]/256+h[3])/256}getTerrainMesh(){if(this._mesh)return this._mesh;const i=this.painter.context,h=new l.bd,p=new l.aY,v=this.meshSize,x=l.X/v,L=v*v;for(let $=0;$<=v;$++)for(let ee=0;ee<=v;ee++)h.emplaceBack(ee*x,$*x,0);for(let $=0;$<L;$+=v+1)for(let ee=0;ee<v;ee++)p.emplaceBack(ee+$,v+ee+$+1,v+ee+$+2),p.emplaceBack(ee+$,v+ee+$+2,ee+$+1);const M=h.length,N=M+2*(v+1);for(const $ of[0,1])for(let ee=0;ee<=v;ee++)for(const ne of[0,1])h.emplaceBack(ee*x,$*l.X,ne);for(let $=0;$<2*v;$+=2)p.emplaceBack(N+$,N+$+1,N+$+3),p.emplaceBack(N+$,N+$+3,N+$+2),p.emplaceBack(M+$,M+$+3,M+$+1),p.emplaceBack(M+$,M+$+2,M+$+3);const Q=h.length,G=Q+2*(v+1);for(const $ of[0,1])for(let ee=0;ee<=v;ee++)for(const ne of[0,1])h.emplaceBack($*l.X,ee*x,ne);for(let $=0;$<2*v;$+=2)p.emplaceBack(Q+$,Q+$+1,Q+$+3),p.emplaceBack(Q+$,Q+$+3,Q+$+2),p.emplaceBack(G+$,G+$+3,G+$+1),p.emplaceBack(G+$,G+$+2,G+$+3);return this._mesh=new _a(i.createVertexBuffer(h,Yl.members),i.createIndexBuffer(p),l.a0.simpleSegment(0,0,h.length,p.length)),this._mesh}getMeshFrameDelta(i){return 2*Math.PI*l.be/Math.pow(2,i)/5}getMinTileElevationForLngLatZoom(i,h){var p;const{tileID:v}=this._getOverscaledTileIDFromLngLatZoom(i,h);return(p=this.getMinMaxElevation(v).minElevation)!==null&&p!==void 0?p:0}getMinMaxElevation(i){const h=this.getTerrainData(i).tile,p={minElevation:null,maxElevation:null};return h&&h.dem&&(p.minElevation=h.dem.min*this.exaggeration,p.maxElevation=h.dem.max*this.exaggeration),p}_getOverscaledTileIDFromLngLatZoom(i,h){const p=l.Z.fromLngLat(i.wrap()),v=(1<<h)*l.X,x=p.x*v,L=p.y*v,M=Math.floor(x/l.X),N=Math.floor(L/l.X);return{tileID:new l.S(h,0,h,M,N),mercatorX:x,mercatorY:L}}}class Xc{constructor(i,h,p){this._context=i,this._size=h,this._tileSize=p,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const i of this._objects)i.texture.destroy(),i.fbo.destroy()}_createObject(i){const h=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),p=new se(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return p.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),h.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),h.colorAttachment.set(p.texture),{id:i,fbo:h,texture:p,stamp:-1,inUse:!1}}getObjectForId(i){return this._objects[i]}useObject(i){i.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter((h=>i.id!==h)),this._recentlyUsed.push(i.id)}stampObject(i){i.stamp=++this._stamp}getOrCreateFreeObject(){for(const h of this._recentlyUsed)if(!this._objects[h].inUse)return this._objects[h];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const i=this._createObject(this._objects.length);return this._objects.push(i),i}freeObject(i){i.inUse=!1}freeAllObjects(){for(const i of this._objects)this.freeObject(i)}isFull(){return!(this._objects.length<this._size)&&this._objects.some((i=>!i.inUse))===!1}}const ao={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class Yo{constructor(i,h){this.painter=i,this.terrain=h,this.pool=new Xc(i.context,30,h.sourceCache.tileSize*h.qualityFactor)}destruct(){this.pool.destruct()}getTexture(i){return this.pool.getObjectForId(i.rtt[this._stacks.length-1].id).texture}prepareForRender(i,h){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=i._order.filter((p=>!i._layers[p].isHidden(h))),this._coordsDescendingInv={};for(const p in i.sourceCaches){this._coordsDescendingInv[p]={};const v=i.sourceCaches[p].getVisibleCoordinates();for(const x of v){const L=this.terrain.sourceCache.getTerrainCoords(x);for(const M in L)this._coordsDescendingInv[p][M]||(this._coordsDescendingInv[p][M]=[]),this._coordsDescendingInv[p][M].push(L[M])}}this._coordsDescendingInvStr={};for(const p of i._order){const v=i._layers[p],x=v.source;if(ao[v.type]&&!this._coordsDescendingInvStr[x]){this._coordsDescendingInvStr[x]={};for(const L in this._coordsDescendingInv[x])this._coordsDescendingInvStr[x][L]=this._coordsDescendingInv[x][L].map((M=>M.key)).sort().join()}}for(const p of this._renderableTiles)for(const v in this._coordsDescendingInvStr){const x=this._coordsDescendingInvStr[v][p.tileID.key];x&&x!==p.rttCoords[v]&&(p.rtt=[])}}renderLayer(i){if(i.isHidden(this.painter.transform.zoom))return!1;const h=i.type,p=this.painter,v=this._renderableLayerIds[this._renderableLayerIds.length-1]===i.id;if(ao[h]&&(this._prevType&&ao[this._prevType]||this._stacks.push([]),this._prevType=h,this._stacks[this._stacks.length-1].push(i.id),!v))return!0;if(ao[this._prevType]||ao[h]&&v){this._prevType=h;const x=this._stacks.length-1,L=this._stacks[x]||[];for(const M of this._renderableTiles){if(this.pool.isFull()&&(_l(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(M),M.rtt[x]){const Q=this.pool.getObjectForId(M.rtt[x].id);if(Q.stamp===M.rtt[x].stamp){this.pool.useObject(Q);continue}}const N=this.pool.getOrCreateFreeObject();this.pool.useObject(N),this.pool.stampObject(N),M.rtt[x]={id:N.id,stamp:N.stamp},p.context.bindFramebuffer.set(N.fbo.framebuffer),p.context.clear({color:l.aM.transparent,stencil:0}),p.currentStencilSource=void 0;for(let Q=0;Q<L.length;Q++){const G=p.style._layers[L[Q]],$=G.source?this._coordsDescendingInv[G.source][M.tileID.key]:[M.tileID];p.context.viewport.set([0,0,N.fbo.width,N.fbo.height]),p._renderTileClippingMasks(G,$),p.renderLayer(p,p.style.sourceCaches[G.source],G,$),G.source&&(M.rttCoords[G.source]=this._coordsDescendingInvStr[G.source][M.tileID.key])}}return _l(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects(),ao[h]}return!1}}const Bl={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"MapLibre logo","Map.Title":"Map","Marker.Title":"Map marker","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","Popup.Close":"Close popup","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.Enable":"Enable terrain","TerrainControl.Disable":"Disable terrain","CooperativeGesturesHandler.WindowsHelpText":"Use Ctrl + scroll to zoom the map","CooperativeGesturesHandler.MacHelpText":"Use  + scroll to zoom the map","CooperativeGesturesHandler.MobileHelpText":"Use two fingers to move the map"},so=y,Nu={hash:!1,interactive:!0,bearingSnap:7,attributionControl:io,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,refreshExpiredTiles:!0,scrollZoom:!0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,trackResize:!0,center:[0,0],zoom:0,bearing:0,pitch:0,renderWorldCopies:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:l.a.MAX_TILE_CACHE_ZOOM_LEVELS,transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,clickTolerance:3,localIdeographFontFamily:"sans-serif",pitchWithRotate:!0,validateStyle:!0,maxCanvasSize:[4096,4096],cancelPendingTileRequestsWhileZooming:!0},Jl=_=>{_.touchstart=_.dragStart,_.touchmoveWindow=_.dragMove,_.touchend=_.dragEnd},NA={showCompass:!0,showZoom:!0,visualizePitch:!1};class Zc{constructor(i,h,p=!1){this.mousedown=L=>{this.startMouse(l.e({},L,{ctrlKey:!0,preventDefault:()=>L.preventDefault()}),F.mousePos(this.element,L)),F.addEventListener(window,"mousemove",this.mousemove),F.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=L=>{this.moveMouse(L,F.mousePos(this.element,L))},this.mouseup=L=>{this.mouseRotate.dragEnd(L),this.mousePitch&&this.mousePitch.dragEnd(L),this.offTemp()},this.touchstart=L=>{L.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=F.touchPos(this.element,L.targetTouches)[0],this.startTouch(L,this._startPos),F.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),F.addEventListener(window,"touchend",this.touchend))},this.touchmove=L=>{L.targetTouches.length!==1?this.reset():(this._lastPos=F.touchPos(this.element,L.targetTouches)[0],this.moveTouch(L,this._lastPos))},this.touchend=L=>{L.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),this.touchRotate.reset(),this.touchPitch&&this.touchPitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10;const v=i.dragRotate._mouseRotate.getClickTolerance(),x=i.dragRotate._mousePitch.getClickTolerance();this.element=h,this.mouseRotate=Au({clickTolerance:v,enable:!0}),this.touchRotate=(({enable:L,clickTolerance:M,bearingDegreesPerPixelMoved:N=.8})=>{const Q=new Ou;return new bi({clickTolerance:M,move:(G,$)=>({bearingDelta:($.x-G.x)*N}),moveStateManager:Q,enable:L,assignEvents:Jl})})({clickTolerance:v,enable:!0}),this.map=i,p&&(this.mousePitch=FA({clickTolerance:x,enable:!0}),this.touchPitch=(({enable:L,clickTolerance:M,pitchDegreesPerPixelMoved:N=-.5})=>{const Q=new Ou;return new bi({clickTolerance:M,move:(G,$)=>({pitchDelta:($.y-G.y)*N}),moveStateManager:Q,enable:L,assignEvents:Jl})})({clickTolerance:x,enable:!0})),F.addEventListener(h,"mousedown",this.mousedown),F.addEventListener(h,"touchstart",this.touchstart,{passive:!1}),F.addEventListener(h,"touchcancel",this.reset)}startMouse(i,h){this.mouseRotate.dragStart(i,h),this.mousePitch&&this.mousePitch.dragStart(i,h),F.disableDrag()}startTouch(i,h){this.touchRotate.dragStart(i,h),this.touchPitch&&this.touchPitch.dragStart(i,h),F.disableDrag()}moveMouse(i,h){const p=this.map,{bearingDelta:v}=this.mouseRotate.dragMove(i,h)||{};if(v&&p.setBearing(p.getBearing()+v),this.mousePitch){const{pitchDelta:x}=this.mousePitch.dragMove(i,h)||{};x&&p.setPitch(p.getPitch()+x)}}moveTouch(i,h){const p=this.map,{bearingDelta:v}=this.touchRotate.dragMove(i,h)||{};if(v&&p.setBearing(p.getBearing()+v),this.touchPitch){const{pitchDelta:x}=this.touchPitch.dragMove(i,h)||{};x&&p.setPitch(p.getPitch()+x)}}off(){const i=this.element;F.removeEventListener(i,"mousedown",this.mousedown),F.removeEventListener(i,"touchstart",this.touchstart,{passive:!1}),F.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),F.removeEventListener(window,"touchend",this.touchend),F.removeEventListener(i,"touchcancel",this.reset),this.offTemp()}offTemp(){F.enableDrag(),F.removeEventListener(window,"mousemove",this.mousemove),F.removeEventListener(window,"mouseup",this.mouseup),F.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),F.removeEventListener(window,"touchend",this.touchend)}}let fa;function pn(_,i,h){const p=new l.N(_.lng,_.lat);if(_=new l.N(_.lng,_.lat),i){const v=new l.N(_.lng-360,_.lat),x=new l.N(_.lng+360,_.lat),L=h.locationPoint(_).distSqr(i);h.locationPoint(v).distSqr(i)<L?_=v:h.locationPoint(x).distSqr(i)<L&&(_=x)}for(;Math.abs(_.lng-h.center.lng)>180;){const v=h.locationPoint(_);if(v.x>=0&&v.y>=0&&v.x<=h.width&&v.y<=h.height)break;_.lng>h.center.lng?_.lng-=360:_.lng+=360}return _.lng!==p.lng&&h.locationPoint(_).y>h.height/2-h.getHorizon()?_:p}const eA={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function vc(_,i,h){const p=_.classList;for(const v in eA)p.remove(`maplibregl-${h}-anchor-${v}`);p.add(`maplibregl-${h}-anchor-${i}`)}class Wc extends l.E{constructor(i){if(super(),this._onKeyPress=h=>{const p=h.code,v=h.charCode||h.keyCode;p!=="Space"&&p!=="Enter"&&v!==32&&v!==13||this.togglePopup()},this._onMapClick=h=>{const p=h.originalEvent.target,v=this._element;this._popup&&(p===v||v.contains(p))&&this.togglePopup()},this._update=h=>{var p;if(!this._map)return;const v=this._map.loaded()&&!this._map.isMoving();(h?.type==="terrain"||h?.type==="render"&&!v)&&this._map.once("render",this._update),this._lngLat=this._map.transform.renderWorldCopies?pn(this._lngLat,this._flatPos,this._map.transform):(p=this._lngLat)===null||p===void 0?void 0:p.wrap(),this._flatPos=this._pos=this._map.project(this._lngLat)._add(this._offset),this._map.terrain&&(this._flatPos=this._map.transform.locationPoint(this._lngLat)._add(this._offset));let x="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?x=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(x=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let L="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?L="rotateX(0deg)":this._pitchAlignment==="map"&&(L=`rotateX(${this._map.getPitch()}deg)`),this._subpixelPositioning||h&&h.type!=="moveend"||(this._pos=this._pos.round()),F.setTransform(this._element,`${eA[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${L} ${x}`),C.frameAsync(new AbortController).then((()=>{this._updateOpacity(h&&h.type==="moveend")})).catch((()=>{}))},this._onMove=h=>{if(!this._isDragging){const p=this._clickTolerance||this._map._clickTolerance;this._isDragging=h.point.dist(this._pointerdownPos)>=p}this._isDragging&&(this._pos=h.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new l.k("dragstart"))),this.fire(new l.k("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new l.k("dragend")),this._state="inactive"},this._addDragHandler=h=>{this._element.contains(h.originalEvent.target)&&(h.preventDefault(),this._positionDelta=h.point.sub(this._pos).add(this._offset),this._pointerdownPos=h.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=i&&i.anchor||"center",this._color=i&&i.color||"#3FB1CE",this._scale=i&&i.scale||1,this._draggable=i&&i.draggable||!1,this._clickTolerance=i&&i.clickTolerance||0,this._subpixelPositioning=i&&i.subpixelPositioning||!1,this._isDragging=!1,this._state="inactive",this._rotation=i&&i.rotation||0,this._rotationAlignment=i&&i.rotationAlignment||"auto",this._pitchAlignment=i&&i.pitchAlignment&&i.pitchAlignment!=="auto"?i.pitchAlignment:this._rotationAlignment,this.setOpacity(),this.setOpacity(i?.opacity,i?.opacityWhenCovered),i&&i.element)this._element=i.element,this._offset=l.P.convert(i&&i.offset||[0,0]);else{this._defaultMarker=!0,this._element=F.create("div");const h=F.createNS("http://www.w3.org/2000/svg","svg"),p=41,v=27;h.setAttributeNS(null,"display","block"),h.setAttributeNS(null,"height",`${p}px`),h.setAttributeNS(null,"width",`${v}px`),h.setAttributeNS(null,"viewBox",`0 0 ${v} ${p}`);const x=F.createNS("http://www.w3.org/2000/svg","g");x.setAttributeNS(null,"stroke","none"),x.setAttributeNS(null,"stroke-width","1"),x.setAttributeNS(null,"fill","none"),x.setAttributeNS(null,"fill-rule","evenodd");const L=F.createNS("http://www.w3.org/2000/svg","g");L.setAttributeNS(null,"fill-rule","nonzero");const M=F.createNS("http://www.w3.org/2000/svg","g");M.setAttributeNS(null,"transform","translate(3.0, 29.0)"),M.setAttributeNS(null,"fill","#000000");const N=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const xe of N){const Qe=F.createNS("http://www.w3.org/2000/svg","ellipse");Qe.setAttributeNS(null,"opacity","0.04"),Qe.setAttributeNS(null,"cx","10.5"),Qe.setAttributeNS(null,"cy","5.80029008"),Qe.setAttributeNS(null,"rx",xe.rx),Qe.setAttributeNS(null,"ry",xe.ry),M.appendChild(Qe)}const Q=F.createNS("http://www.w3.org/2000/svg","g");Q.setAttributeNS(null,"fill",this._color);const G=F.createNS("http://www.w3.org/2000/svg","path");G.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),Q.appendChild(G);const $=F.createNS("http://www.w3.org/2000/svg","g");$.setAttributeNS(null,"opacity","0.25"),$.setAttributeNS(null,"fill","#000000");const ee=F.createNS("http://www.w3.org/2000/svg","path");ee.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),$.appendChild(ee);const ne=F.createNS("http://www.w3.org/2000/svg","g");ne.setAttributeNS(null,"transform","translate(6.0, 7.0)"),ne.setAttributeNS(null,"fill","#FFFFFF");const ce=F.createNS("http://www.w3.org/2000/svg","g");ce.setAttributeNS(null,"transform","translate(8.0, 8.0)");const ge=F.createNS("http://www.w3.org/2000/svg","circle");ge.setAttributeNS(null,"fill","#000000"),ge.setAttributeNS(null,"opacity","0.25"),ge.setAttributeNS(null,"cx","5.5"),ge.setAttributeNS(null,"cy","5.5"),ge.setAttributeNS(null,"r","5.4999962");const Se=F.createNS("http://www.w3.org/2000/svg","circle");Se.setAttributeNS(null,"fill","#FFFFFF"),Se.setAttributeNS(null,"cx","5.5"),Se.setAttributeNS(null,"cy","5.5"),Se.setAttributeNS(null,"r","5.4999962"),ce.appendChild(ge),ce.appendChild(Se),L.appendChild(M),L.appendChild(Q),L.appendChild($),L.appendChild(ne),L.appendChild(ce),h.appendChild(L),h.setAttributeNS(null,"height",p*this._scale+"px"),h.setAttributeNS(null,"width",v*this._scale+"px"),this._element.appendChild(h),this._offset=l.P.convert(i&&i.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",(h=>{h.preventDefault()})),this._element.addEventListener("mousedown",(h=>{h.preventDefault()})),vc(this._element,this._anchor,"marker"),i&&i.className)for(const h of i.className.split(" "))this._element.classList.add(h);this._popup=null}addTo(i){return this.remove(),this._map=i,this._element.setAttribute("aria-label",i._getUIString("Marker.Title")),i.getCanvasContainer().appendChild(this._element),i.on("move",this._update),i.on("moveend",this._update),i.on("terrain",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("terrain",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),F.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(i){return this._lngLat=l.N.convert(i),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(i){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),i){if(!("offset"in i.options)){const v=Math.abs(13.5)/Math.SQRT2;i.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[v,-1*(38.1-13.5+v)],"bottom-right":[-v,-1*(38.1-13.5+v)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=i,this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}setSubpixelPositioning(i){return this._subpixelPositioning=i,this}getPopup(){return this._popup}togglePopup(){const i=this._popup;return this._element.style.opacity===this._opacityWhenCovered?this:i?(i.isOpen()?i.remove():(i.setLngLat(this._lngLat),i.addTo(this._map)),this):this}_updateOpacity(i=!1){var h,p;if(!(!((h=this._map)===null||h===void 0)&&h.terrain))return void(this._element.style.opacity!==this._opacity&&(this._element.style.opacity=this._opacity));if(i)this._opacityTimeout=null;else{if(this._opacityTimeout)return;this._opacityTimeout=setTimeout((()=>{this._opacityTimeout=null}),100)}const v=this._map,x=v.terrain.depthAtPoint(this._pos),L=v.terrain.getElevationForLngLatZoom(this._lngLat,v.transform.tileZoom);if(v.transform.lngLatToCameraDepth(this._lngLat,L)-x<.006)return void(this._element.style.opacity=this._opacity);const M=-this._offset.y/v.transform._pixelPerMeter,N=Math.sin(v.getPitch()*Math.PI/180)*M,Q=v.terrain.depthAtPoint(new l.P(this._pos.x,this._pos.y-this._offset.y)),G=v.transform.lngLatToCameraDepth(this._lngLat,L+N)-Q>.006;!((p=this._popup)===null||p===void 0)&&p.isOpen()&&G&&this._popup.remove(),this._element.style.opacity=G?this._opacityWhenCovered:this._opacity}getOffset(){return this._offset}setOffset(i){return this._offset=l.P.convert(i),this._update(),this}addClassName(i){this._element.classList.add(i)}removeClassName(i){this._element.classList.remove(i)}toggleClassName(i){return this._element.classList.toggle(i)}setDraggable(i){return this._draggable=!!i,this._map&&(i?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(i){return this._rotation=i||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(i){return this._rotationAlignment=i||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(i){return this._pitchAlignment=i&&i!=="auto"?i:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}setOpacity(i,h){return i===void 0&&h===void 0&&(this._opacity="1",this._opacityWhenCovered="0.2"),i!==void 0&&(this._opacity=i),h!==void 0&&(this._opacityWhenCovered=h),this._map&&this._updateOpacity(!0),this}}const xf={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let _c=0,wi=!1;const ys={maxWidth:100,unit:"metric"};function tA(_,i,h){const p=h&&h.maxWidth||100,v=_._container.clientHeight/2,x=_.unproject([0,v]),L=_.unproject([p,v]),M=x.distanceTo(L);if(h&&h.unit==="imperial"){const N=3.2808*M;N>5280?lr(i,p,N/5280,_._getUIString("ScaleControl.Miles")):lr(i,p,N,_._getUIString("ScaleControl.Feet"))}else h&&h.unit==="nautical"?lr(i,p,M/1852,_._getUIString("ScaleControl.NauticalMiles")):M>=1e3?lr(i,p,M/1e3,_._getUIString("ScaleControl.Kilometers")):lr(i,p,M,_._getUIString("ScaleControl.Meters"))}function lr(_,i,h,p){const v=(function(x){const L=Math.pow(10,`${Math.floor(x)}`.length-1);let M=x/L;return M=M>=10?10:M>=5?5:M>=3?3:M>=2?2:M>=1?1:(function(N){const Q=Math.pow(10,Math.ceil(-Math.log(N)/Math.LN10));return Math.round(N*Q)/Q})(M),L*M})(h);_.style.width=i*(v/h)+"px",_.innerHTML=`${v}&nbsp;${p}`}const Cr={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px",subpixelPositioning:!1},U=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function D(_){if(_){if(typeof _=="number"){const i=Math.round(Math.abs(_)/Math.SQRT2);return{center:new l.P(0,0),top:new l.P(0,_),"top-left":new l.P(i,i),"top-right":new l.P(-i,i),bottom:new l.P(0,-_),"bottom-left":new l.P(i,-i),"bottom-right":new l.P(-i,-i),left:new l.P(_,0),right:new l.P(-_,0)}}if(_ instanceof l.P||Array.isArray(_)){const i=l.P.convert(_);return{center:i,top:i,"top-left":i,"top-right":i,bottom:i,"bottom-left":i,"bottom-right":i,left:i,right:i}}return{center:l.P.convert(_.center||[0,0]),top:l.P.convert(_.top||[0,0]),"top-left":l.P.convert(_["top-left"]||[0,0]),"top-right":l.P.convert(_["top-right"]||[0,0]),bottom:l.P.convert(_.bottom||[0,0]),"bottom-left":l.P.convert(_["bottom-left"]||[0,0]),"bottom-right":l.P.convert(_["bottom-right"]||[0,0]),left:l.P.convert(_.left||[0,0]),right:l.P.convert(_.right||[0,0])}}return D(new l.P(0,0))}const X=y;f.AJAXError=l.bh,f.Evented=l.E,f.LngLat=l.N,f.MercatorCoordinate=l.Z,f.Point=l.P,f.addProtocol=l.bi,f.config=l.a,f.removeProtocol=l.bj,f.AttributionControl=DA,f.BoxZoomHandler=Va,f.CanvasSource=nn,f.CooperativeGesturesHandler=Gi,f.DoubleClickZoomHandler=Fa,f.DragPanHandler=Gc,f.DragRotateHandler=yc,f.EdgeInsets=Xn,f.FullscreenControl=class extends l.E{constructor(_={}){super(),this._onFullscreenChange=()=>{var i;let h=window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement;for(;!((i=h?.shadowRoot)===null||i===void 0)&&i.fullscreenElement;)h=h.shadowRoot.fullscreenElement;h===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,_&&_.container&&(_.container instanceof HTMLElement?this._container=_.container:l.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(_){return this._map=_,this._container||(this._container=this._map.getContainer()),this._controlContainer=F.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){F.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const _=this._fullscreenButton=F.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);F.create("span","maplibregl-ctrl-icon",_).setAttribute("aria-hidden","true"),_.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const _=this._getTitle();this._fullscreenButton.setAttribute("aria-label",_),this._fullscreenButton.title=_}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new l.k("fullscreenstart")),this._prevCooperativeGesturesEnabled=this._map.cooperativeGestures.isEnabled(),this._map.cooperativeGestures.disable()):(this.fire(new l.k("fullscreenend")),this._prevCooperativeGesturesEnabled&&this._map.cooperativeGestures.enable())}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},f.GeoJSONSource=ur,f.GeolocateControl=class extends l.E{constructor(_){super(),this._onSuccess=i=>{if(this._map){if(this._isOutOfMapMaxBounds(i))return this._setErrorState(),this.fire(new l.k("outofmaxbounds",i)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=i,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(i),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(i),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new l.k("geolocate",i)),this._finish()}},this._updateCamera=i=>{const h=new l.N(i.coords.longitude,i.coords.latitude),p=i.coords.accuracy,v=this._map.getBearing(),x=l.e({bearing:v},this.options.fitBoundsOptions),L=Ye.fromLngLat(h,p);this._map.fitBounds(L,x,{geolocateSource:!0})},this._updateMarker=i=>{if(i){const h=new l.N(i.coords.longitude,i.coords.latitude);this._accuracyCircleMarker.setLngLat(h).addTo(this._map),this._userLocationDotMarker.setLngLat(h).addTo(this._map),this._accuracy=i.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=i=>{if(this._map){if(this.options.trackUserLocation)if(i.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const h=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=h,this._geolocateButton.setAttribute("aria-label",h),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(i.code===3&&wi)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new l.k("error",i)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=()=>{this._map&&(this._container.addEventListener("contextmenu",(i=>i.preventDefault())),this._geolocateButton=F.create("button","maplibregl-ctrl-geolocate",this._container),F.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",this._geolocateButton.disabled=!0)},this._finishSetupUI=i=>{if(this._map){if(i===!1){l.w("Geolocation support is not available so the GeolocateControl will be disabled.");const h=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=h,this._geolocateButton.setAttribute("aria-label",h)}else{const h=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.disabled=!1,this._geolocateButton.title=h,this._geolocateButton.setAttribute("aria-label",h)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=F.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new Wc({element:this._dotElement}),this._circleElement=F.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Wc({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",(()=>this.trigger())),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(h=>{h.geolocateSource||this._watchState!=="ACTIVE_LOCK"||h.originalEvent&&h.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new l.k("trackuserlocationend")),this.fire(new l.k("userlocationlostfocus")))}))}},this.options=l.e({},xf,_)}onAdd(_){return this._map=_,this._container=F.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),(function(){return l._(this,arguments,void 0,(function*(i=!1){if(fa!==void 0&&!i)return fa;if(window.navigator.permissions===void 0)return fa=!!window.navigator.geolocation,fa;try{fa=(yield window.navigator.permissions.query({name:"geolocation"})).state!=="denied"}catch{fa=!!window.navigator.geolocation}return fa}))})().then((i=>this._finishSetupUI(i))),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),F.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,_c=0,wi=!1}_isOutOfMapMaxBounds(_){const i=this._map.getMaxBounds(),h=_.coords;return i&&(h.longitude<i.getWest()||h.longitude>i.getEast()||h.latitude<i.getSouth()||h.latitude>i.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadius(){const _=this._map.getBounds(),i=_.getSouthEast(),h=_.getNorthEast(),p=i.distanceTo(h),v=Math.ceil(this._accuracy/(p/this._map._container.clientHeight)*2);this._circleElement.style.width=`${v}px`,this._circleElement.style.height=`${v}px`}trigger(){if(!this._setup)return l.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new l.k("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":_c--,wi=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new l.k("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new l.k("trackuserlocationstart")),this.fire(new l.k("userlocationfocus"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let _;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),_c++,_c>1?(_={maximumAge:6e5,timeout:0},wi=!0):(_=this.options.positionOptions,wi=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,_)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},f.Hash=bl,f.ImageSource=Br,f.KeyboardHandler=Di,f.LngLatBounds=Ye,f.LogoControl=Wo,f.Map=class extends So{constructor(_){l.bf.mark(l.bg.create);const i=Object.assign(Object.assign({},Nu),_);if(i.minZoom!=null&&i.maxZoom!=null&&i.minZoom>i.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(i.minPitch!=null&&i.maxPitch!=null&&i.minPitch>i.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(i.minPitch!=null&&i.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(i.maxPitch!=null&&i.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new ds(i.minZoom,i.maxZoom,i.minPitch,i.maxPitch,i.renderWorldCopies),{bearingSnap:i.bearingSnap}),this._idleTriggered=!1,this._crossFadingFactor=1,this._renderTaskQueue=new Hr,this._controls=[],this._mapId=l.a4(),this._contextLost=h=>{h.preventDefault(),this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this.fire(new l.k("webglcontextlost",{originalEvent:h}))},this._contextRestored=h=>{this._setupPainter(),this.resize(),this._update(),this.fire(new l.k("webglcontextrestored",{originalEvent:h}))},this._onMapScroll=h=>{if(h.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=i.interactive,this._maxTileCacheSize=i.maxTileCacheSize,this._maxTileCacheZoomLevels=i.maxTileCacheZoomLevels,this._failIfMajorPerformanceCaveat=i.failIfMajorPerformanceCaveat===!0,this._preserveDrawingBuffer=i.preserveDrawingBuffer===!0,this._antialias=i.antialias===!0,this._trackResize=i.trackResize===!0,this._bearingSnap=i.bearingSnap,this._refreshExpiredTiles=i.refreshExpiredTiles===!0,this._fadeDuration=i.fadeDuration,this._crossSourceCollisions=i.crossSourceCollisions===!0,this._collectResourceTiming=i.collectResourceTiming===!0,this._locale=Object.assign(Object.assign({},Bl),i.locale),this._clickTolerance=i.clickTolerance,this._overridePixelRatio=i.pixelRatio,this._maxCanvasSize=i.maxCanvasSize,this.transformCameraUpdate=i.transformCameraUpdate,this.cancelPendingTileRequestsWhileZooming=i.cancelPendingTileRequestsWhileZooming===!0,this._imageQueueHandle=W.addThrottleControl((()=>this.isMoving())),this._requestManager=new ae(i.transformRequest),typeof i.container=="string"){if(this._container=document.getElementById(i.container),!this._container)throw new Error(`Container '${i.container}' not found.`)}else{if(!(i.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=i.container}if(i.maxBounds&&this.setMaxBounds(i.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",(()=>this._update(!1))).on("moveend",(()=>this._update(!1))).on("zoom",(()=>this._update(!0))).on("terrain",(()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)})).once("idle",(()=>{this._idleTriggered=!0})),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let h=!1;const p=ps((v=>{this._trackResize&&!this._removed&&(this.resize(v),this.redraw())}),50);this._resizeObserver=new ResizeObserver((v=>{h?p(v):h=!0})),this._resizeObserver.observe(this._container)}this.handlers=new Ei(this,i),this._hash=i.hash&&new bl(typeof i.hash=="string"&&i.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:i.center,zoom:i.zoom,bearing:i.bearing,pitch:i.pitch}),i.bounds&&(this.resize(),this.fitBounds(i.bounds,l.e({},i.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=i.localIdeographFontFamily,this._validateStyle=i.validateStyle,i.style&&this.setStyle(i.style,{localIdeographFontFamily:i.localIdeographFontFamily}),i.attributionControl&&this.addControl(new DA(typeof i.attributionControl=="boolean"?void 0:i.attributionControl)),i.maplibreLogo&&this.addControl(new Wo,i.logoPosition),this.on("style.load",(()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)})),this.on("data",(h=>{this._update(h.dataType==="style"),this.fire(new l.k(`${h.dataType}data`,h))})),this.on("dataloading",(h=>{this.fire(new l.k(`${h.dataType}dataloading`,h))})),this.on("dataabort",(h=>{this.fire(new l.k("sourcedataabort",h))}))}_getMapId(){return this._mapId}addControl(_,i){if(i===void 0&&(i=_.getDefaultPosition?_.getDefaultPosition():"top-right"),!_||!_.onAdd)return this.fire(new l.j(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const h=_.onAdd(this);this._controls.push(_);const p=this._controlPositions[i];return i.indexOf("bottom")!==-1?p.insertBefore(h,p.firstChild):p.appendChild(h),this}removeControl(_){if(!_||!_.onRemove)return this.fire(new l.j(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const i=this._controls.indexOf(_);return i>-1&&this._controls.splice(i,1),_.onRemove(this),this}hasControl(_){return this._controls.indexOf(_)>-1}calculateCameraOptionsFromTo(_,i,h,p){return p==null&&this.terrain&&(p=this.terrain.getElevationForLngLatZoom(h,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(_,i,h,p)}resize(_){var i;const h=this._containerDimensions(),p=h[0],v=h[1],x=this._getClampedPixelRatio(p,v);if(this._resizeCanvas(p,v,x),this.painter.resize(p,v,x),this.painter.overLimit()){const M=this.painter.context.gl;this._maxCanvasSize=[M.drawingBufferWidth,M.drawingBufferHeight];const N=this._getClampedPixelRatio(p,v);this._resizeCanvas(p,v,N),this.painter.resize(p,v,N)}this.transform.resize(p,v),(i=this._requestedCameraState)===null||i===void 0||i.resize(p,v);const L=!this._moving;return L&&(this.stop(),this.fire(new l.k("movestart",_)).fire(new l.k("move",_))),this.fire(new l.k("resize",_)),L&&this.fire(new l.k("moveend",_)),this}_getClampedPixelRatio(_,i){const{0:h,1:p}=this._maxCanvasSize,v=this.getPixelRatio(),x=_*v,L=i*v;return Math.min(x>h?h/x:1,L>p?p/L:1)*v}getPixelRatio(){var _;return(_=this._overridePixelRatio)!==null&&_!==void 0?_:devicePixelRatio}setPixelRatio(_){this._overridePixelRatio=_,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(_){return this.transform.setMaxBounds(Ye.convert(_)),this._update()}setMinZoom(_){if((_=_??-2)>=-2&&_<=this.transform.maxZoom)return this.transform.minZoom=_,this._update(),this.getZoom()<_&&this.setZoom(_),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(_){if((_=_??22)>=this.transform.minZoom)return this.transform.maxZoom=_,this._update(),this.getZoom()>_&&this.setZoom(_),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(_){if((_=_??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(_>=0&&_<=this.transform.maxPitch)return this.transform.minPitch=_,this._update(),this.getPitch()<_&&this.setPitch(_),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(_){if((_=_??60)>85)throw new Error("maxPitch must be less than or equal to 85");if(_>=this.transform.minPitch)return this.transform.maxPitch=_,this._update(),this.getPitch()>_&&this.setPitch(_),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(_){return this.transform.renderWorldCopies=_,this._update()}project(_){return this.transform.locationPoint(l.N.convert(_),this.style&&this.terrain)}unproject(_){return this.transform.pointLocation(l.P.convert(_),this.terrain)}isMoving(){var _;return this._moving||((_=this.handlers)===null||_===void 0?void 0:_.isMoving())}isZooming(){var _;return this._zooming||((_=this.handlers)===null||_===void 0?void 0:_.isZooming())}isRotating(){var _;return this._rotating||((_=this.handlers)===null||_===void 0?void 0:_.isRotating())}_createDelegatedListener(_,i,h){if(_==="mouseenter"||_==="mouseover"){let p=!1;return{layers:i,listener:h,delegates:{mousemove:x=>{const L=i.filter((N=>this.getLayer(N))),M=L.length!==0?this.queryRenderedFeatures(x.point,{layers:L}):[];M.length?p||(p=!0,h.call(this,new oi(_,this,x.originalEvent,{features:M}))):p=!1},mouseout:()=>{p=!1}}}}if(_==="mouseleave"||_==="mouseout"){let p=!1;return{layers:i,listener:h,delegates:{mousemove:L=>{const M=i.filter((N=>this.getLayer(N)));(M.length!==0?this.queryRenderedFeatures(L.point,{layers:M}):[]).length?p=!0:p&&(p=!1,h.call(this,new oi(_,this,L.originalEvent)))},mouseout:L=>{p&&(p=!1,h.call(this,new oi(_,this,L.originalEvent)))}}}}{const p=v=>{const x=i.filter((M=>this.getLayer(M))),L=x.length!==0?this.queryRenderedFeatures(v.point,{layers:x}):[];L.length&&(v.features=L,h.call(this,v),delete v.features)};return{layers:i,listener:h,delegates:{[_]:p}}}}_saveDelegatedListener(_,i){this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[_]=this._delegatedListeners[_]||[],this._delegatedListeners[_].push(i)}_removeDelegatedListener(_,i,h){if(!this._delegatedListeners||!this._delegatedListeners[_])return;const p=this._delegatedListeners[_];for(let v=0;v<p.length;v++){const x=p[v];if(x.listener===h&&x.layers.length===i.length&&x.layers.every((L=>i.includes(L)))){for(const L in x.delegates)this.off(L,x.delegates[L]);return void p.splice(v,1)}}}on(_,i,h){if(h===void 0)return super.on(_,i);const p=this._createDelegatedListener(_,typeof i=="string"?[i]:i,h);this._saveDelegatedListener(_,p);for(const v in p.delegates)this.on(v,p.delegates[v]);return this}once(_,i,h){if(h===void 0)return super.once(_,i);const p=typeof i=="string"?[i]:i,v=this._createDelegatedListener(_,p,h);for(const x in v.delegates){const L=v.delegates[x];v.delegates[x]=(...M)=>{this._removeDelegatedListener(_,p,h),L(...M)}}this._saveDelegatedListener(_,v);for(const x in v.delegates)this.once(x,v.delegates[x]);return this}off(_,i,h){return h===void 0?super.off(_,i):(this._removeDelegatedListener(_,typeof i=="string"?[i]:i,h),this)}queryRenderedFeatures(_,i){if(!this.style)return[];let h;const p=_ instanceof l.P||Array.isArray(_),v=p?_:[[0,0],[this.transform.width,this.transform.height]];if(i=i||(p?{}:_)||{},v instanceof l.P||typeof v[0]=="number")h=[l.P.convert(v)];else{const x=l.P.convert(v[0]),L=l.P.convert(v[1]);h=[x,new l.P(L.x,x.y),L,new l.P(x.x,L.y),x]}return this.style.queryRenderedFeatures(h,i,this.transform)}querySourceFeatures(_,i){return this.style.querySourceFeatures(_,i)}setStyle(_,i){return(i=l.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},i)).diff!==!1&&i.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&_?(this._diffStyle(_,i),this):(this._localIdeographFontFamily=i.localIdeographFontFamily,this._updateStyle(_,i))}setTransformRequest(_){return this._requestManager.setTransformRequest(_),this}_getUIString(_){const i=this._locale[_];if(i==null)throw new Error(`Missing UI string '${_}'`);return i}_updateStyle(_,i){if(i.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",(()=>this._updateStyle(_,i)));const h=this.style&&i.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!_)),_?(this.style=new ji(this,i||{}),this.style.setEventedParent(this,{style:this.style}),typeof _=="string"?this.style.loadURL(_,i,h):this.style.loadJSON(_,i,h),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new ji(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(_,i){if(typeof _=="string"){const h=this._requestManager.transformRequest(_,"Style");l.h(h,new AbortController).then((p=>{this._updateDiff(p.data,i)})).catch((p=>{p&&this.fire(new l.j(p))}))}else typeof _=="object"&&this._updateDiff(_,i)}_updateDiff(_,i){try{this.style.setState(_,i)&&this._update(!0)}catch(h){l.w(`Unable to perform style diff: ${h.message||h.error||h}.  Rebuilding the style from scratch.`),this._updateStyle(_,i)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():l.w("There is no style added to the map.")}addSource(_,i){return this._lazyInitEmptyStyle(),this.style.addSource(_,i),this._update(!0)}isSourceLoaded(_){const i=this.style&&this.style.sourceCaches[_];if(i!==void 0)return i.loaded();this.fire(new l.j(new Error(`There is no source with ID '${_}'`)))}setTerrain(_){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),_){const i=this.style.sourceCaches[_.source];if(!i)throw new Error(`cannot load terrain, because there exists no source with ID: ${_.source}`);this.terrain===null&&i.reload();for(const h in this.style._layers){const p=this.style._layers[h];p.type==="hillshade"&&p.source===_.source&&l.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new kA(this.painter,i,_),this.painter.renderToTexture=new Yo(this.painter,this.terrain),this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._terrainDataCallback=h=>{h.dataType==="style"?this.terrain.sourceCache.freeRtt():h.dataType==="source"&&h.tile&&(h.sourceId!==_.source||this._elevationFreeze||(this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.terrain.sourceCache.freeRtt(h.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform.minElevationForCurrentTile=0,this.transform.elevation=0;return this.fire(new l.k("terrain",{terrain:_})),this}getTerrain(){var _,i;return(i=(_=this.terrain)===null||_===void 0?void 0:_.options)!==null&&i!==void 0?i:null}areTilesLoaded(){const _=this.style&&this.style.sourceCaches;for(const i in _){const h=_[i]._tiles;for(const p in h){const v=h[p];if(v.state!=="loaded"&&v.state!=="errored")return!1}}return!0}removeSource(_){return this.style.removeSource(_),this._update(!0)}getSource(_){return this.style.getSource(_)}addImage(_,i,h={}){const{pixelRatio:p=1,sdf:v=!1,stretchX:x,stretchY:L,content:M,textFitWidth:N,textFitHeight:Q}=h;if(this._lazyInitEmptyStyle(),!(i instanceof HTMLImageElement||l.b(i))){if(i.width===void 0||i.height===void 0)return this.fire(new l.j(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:G,height:$,data:ee}=i,ne=i;return this.style.addImage(_,{data:new l.R({width:G,height:$},new Uint8Array(ee)),pixelRatio:p,stretchX:x,stretchY:L,content:M,textFitWidth:N,textFitHeight:Q,sdf:v,version:0,userImage:ne}),ne.onAdd&&ne.onAdd(this,_),this}}{const{width:G,height:$,data:ee}=C.getImageData(i);this.style.addImage(_,{data:new l.R({width:G,height:$},ee),pixelRatio:p,stretchX:x,stretchY:L,content:M,textFitWidth:N,textFitHeight:Q,sdf:v,version:0})}}updateImage(_,i){const h=this.style.getImage(_);if(!h)return this.fire(new l.j(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const p=i instanceof HTMLImageElement||l.b(i)?C.getImageData(i):i,{width:v,height:x,data:L}=p;if(v===void 0||x===void 0)return this.fire(new l.j(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(v!==h.data.width||x!==h.data.height)return this.fire(new l.j(new Error("The width and height of the updated image must be that same as the previous version of the image")));const M=!(i instanceof HTMLImageElement||l.b(i));return h.data.replace(L,M),this.style.updateImage(_,h),this}getImage(_){return this.style.getImage(_)}hasImage(_){return _?!!this.style.getImage(_):(this.fire(new l.j(new Error("Missing required image id"))),!1)}removeImage(_){this.style.removeImage(_)}loadImage(_){return W.getImage(this._requestManager.transformRequest(_,"Image"),new AbortController)}listImages(){return this.style.listImages()}addLayer(_,i){return this._lazyInitEmptyStyle(),this.style.addLayer(_,i),this._update(!0)}moveLayer(_,i){return this.style.moveLayer(_,i),this._update(!0)}removeLayer(_){return this.style.removeLayer(_),this._update(!0)}getLayer(_){return this.style.getLayer(_)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(_,i,h){return this.style.setLayerZoomRange(_,i,h),this._update(!0)}setFilter(_,i,h={}){return this.style.setFilter(_,i,h),this._update(!0)}getFilter(_){return this.style.getFilter(_)}setPaintProperty(_,i,h,p={}){return this.style.setPaintProperty(_,i,h,p),this._update(!0)}getPaintProperty(_,i){return this.style.getPaintProperty(_,i)}setLayoutProperty(_,i,h,p={}){return this.style.setLayoutProperty(_,i,h,p),this._update(!0)}getLayoutProperty(_,i){return this.style.getLayoutProperty(_,i)}setGlyphs(_,i={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(_,i),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(_,i,h={}){return this._lazyInitEmptyStyle(),this.style.addSprite(_,i,h,(p=>{p||this._update(!0)})),this}removeSprite(_){return this._lazyInitEmptyStyle(),this.style.removeSprite(_),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(_,i={}){return this._lazyInitEmptyStyle(),this.style.setSprite(_,i,(h=>{h||this._update(!0)})),this}setLight(_,i={}){return this._lazyInitEmptyStyle(),this.style.setLight(_,i),this._update(!0)}getLight(){return this.style.getLight()}setSky(_){return this._lazyInitEmptyStyle(),this.style.setSky(_),this._update(!0)}getSky(){return this.style.getSky()}setFeatureState(_,i){return this.style.setFeatureState(_,i),this._update()}removeFeatureState(_,i){return this.style.removeFeatureState(_,i),this._update()}getFeatureState(_){return this.style.getFeatureState(_)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let _=0,i=0;return this._container&&(_=this._container.clientWidth||400,i=this._container.clientHeight||300),[_,i]}_setupContainer(){const _=this._container;_.classList.add("maplibregl-map");const i=this._canvasContainer=F.create("div","maplibregl-canvas-container",_);this._interactive&&i.classList.add("maplibregl-interactive"),this._canvas=F.create("canvas","maplibregl-canvas",i),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex",this._interactive?"0":"-1"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region");const h=this._containerDimensions(),p=this._getClampedPixelRatio(h[0],h[1]);this._resizeCanvas(h[0],h[1],p);const v=this._controlContainer=F.create("div","maplibregl-control-container",_),x=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((L=>{x[L]=F.create("div",`maplibregl-ctrl-${L} `,v)})),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(_,i,h){this._canvas.width=Math.floor(h*_),this._canvas.height=Math.floor(h*i),this._canvas.style.width=`${_}px`,this._canvas.style.height=`${i}px`}_setupPainter(){const _={alpha:!0,stencil:!0,depth:!0,failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1};let i=null;this._canvas.addEventListener("webglcontextcreationerror",(p=>{i={requestedAttributes:_},p&&(i.statusMessage=p.statusMessage,i.type=p.type)}),{once:!0});const h=this._canvas.getContext("webgl2",_)||this._canvas.getContext("webgl",_);if(!h){const p="Failed to initialize WebGL";throw i?(i.message=p,new Error(JSON.stringify(i))):new Error(p)}this.painter=new fs(h,this.transform),T.testSupport(h)}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(_){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||_,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(_){return this._update(),this._renderTaskQueue.add(_)}_cancelRenderFrame(_){this._renderTaskQueue.remove(_)}_render(_){const i=this._idleTriggered?this._fadeDuration:0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(_),this._removed)return;let h=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const v=this.transform.zoom,x=C.now();this.style.zoomHistory.update(v,x);const L=new l.z(v,{now:x,fadeDuration:i,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),M=L.crossFadingFactor();M===1&&M===this._crossFadingFactor||(h=!0,this._crossFadingFactor=M),this.style.update(L)}this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._elevationFreeze||(this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform.minElevationForCurrentTile=0,this.transform.elevation=0),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,i,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:i,showPadding:this.showPadding}),this.fire(new l.k("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,l.bf.mark(l.bg.load),this.fire(new l.k("load"))),this.style&&(this.style.hasTransitions()||h)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const p=this._sourcesDirty||this._styleDirty||this._placementDirty;return p||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new l.k("idle")),!this._loaded||this._fullyLoaded||p||(this._fullyLoaded=!0,l.bf.mark(l.bg.fullLoad)),this}redraw(){return this.style&&(this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._render(0)),this}remove(){var _;this._hash&&this._hash.remove();for(const h of this._controls)h.onRemove(this);this._controls=[],this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),W.removeThrottleControl(this._imageQueueHandle),(_=this._resizeObserver)===null||_===void 0||_.disconnect();const i=this.painter.context.gl.getExtension("WEBGL_lose_context");i?.loseContext&&i.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),F.remove(this._canvasContainer),F.remove(this._controlContainer),this._container.classList.remove("maplibregl-map"),l.bf.clearMetrics(),this._removed=!0,this.fire(new l.k("remove"))}triggerRepaint(){this.style&&!this._frameRequest&&(this._frameRequest=new AbortController,C.frameAsync(this._frameRequest).then((_=>{l.bf.frame(_),this._frameRequest=null,this._render(_)})).catch((()=>{})))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(_){this._showTileBoundaries!==_&&(this._showTileBoundaries=_,this._update())}get showPadding(){return!!this._showPadding}set showPadding(_){this._showPadding!==_&&(this._showPadding=_,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(_){this._showCollisionBoxes!==_&&(this._showCollisionBoxes=_,_?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(_){this._showOverdrawInspector!==_&&(this._showOverdrawInspector=_,this._update())}get repaint(){return!!this._repaint}set repaint(_){this._repaint!==_&&(this._repaint=_,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(_){this._vertices=_,this._update()}get version(){return so}getCameraTargetElevation(){return this.transform.elevation}},f.MapMouseEvent=oi,f.MapTouchEvent=Xo,f.MapWheelEvent=ks,f.Marker=Wc,f.NavigationControl=class{constructor(_){this._updateZoomButtons=()=>{const i=this._map.getZoom(),h=i===this._map.getMaxZoom(),p=i===this._map.getMinZoom();this._zoomInButton.disabled=h,this._zoomOutButton.disabled=p,this._zoomInButton.setAttribute("aria-disabled",h.toString()),this._zoomOutButton.setAttribute("aria-disabled",p.toString())},this._rotateCompassArrow=()=>{const i=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=i},this._setButtonTitle=(i,h)=>{const p=this._map._getUIString(`NavigationControl.${h}`);i.title=p,i.setAttribute("aria-label",p)},this.options=l.e({},NA,_),this._container=F.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",(i=>i.preventDefault())),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",(i=>this._map.zoomIn({},{originalEvent:i}))),F.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",(i=>this._map.zoomOut({},{originalEvent:i}))),F.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",(i=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:i}):this._map.resetNorth({},{originalEvent:i})})),this._compassIcon=F.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(_){return this._map=_,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Zc(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){F.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(_,i){const h=F.create("button",_,this._container);return h.type="button",h.addEventListener("click",i),h}},f.Popup=class extends l.E{constructor(_){super(),this.remove=()=>(this._content&&F.remove(this._content),this._container&&(F.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),this._map._canvasContainer.classList.remove("maplibregl-track-pointer"),delete this._map,this.fire(new l.k("close"))),this),this._onMouseUp=i=>{this._update(i.point)},this._onMouseMove=i=>{this._update(i.point)},this._onDrag=i=>{this._update(i.point)},this._update=i=>{var h;if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=F.create("div","maplibregl-popup",this._map.getContainer()),this._tip=F.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const M of this.options.className.split(" "))this._container.classList.add(M);this._closeButton&&this._closeButton.setAttribute("aria-label",this._map._getUIString("Popup.Close")),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._lngLat=this._map.transform.renderWorldCopies&&!this._trackPointer?pn(this._lngLat,this._flatPos,this._map.transform):(h=this._lngLat)===null||h===void 0?void 0:h.wrap(),this._trackPointer&&!i)return;const p=this._flatPos=this._pos=this._trackPointer&&i?i:this._map.project(this._lngLat);this._map.terrain&&(this._flatPos=this._trackPointer&&i?i:this._map.transform.locationPoint(this._lngLat));let v=this.options.anchor;const x=D(this.options.offset);if(!v){const M=this._container.offsetWidth,N=this._container.offsetHeight;let Q;Q=p.y+x.bottom.y<N?["top"]:p.y>this._map.transform.height-N?["bottom"]:[],p.x<M/2?Q.push("left"):p.x>this._map.transform.width-M/2&&Q.push("right"),v=Q.length===0?"bottom":Q.join("-")}let L=p.add(x[v]);this.options.subpixelPositioning||(L=L.round()),F.setTransform(this._container,`${eA[v]} translate(${L.x}px,${L.y}px)`),vc(this._container,v,"popup")},this._onClose=()=>{this.remove()},this.options=l.e(Object.create(Cr),_)}addTo(_){return this._map&&this.remove(),this._map=_,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new l.k("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(_){return this._lngLat=l.N.convert(_),this._pos=null,this._flatPos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._flatPos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(_){return this.setDOMContent(document.createTextNode(_))}setHTML(_){const i=document.createDocumentFragment(),h=document.createElement("body");let p;for(h.innerHTML=_;p=h.firstChild,p;)i.appendChild(p);return this.setDOMContent(i)}getMaxWidth(){var _;return(_=this._container)===null||_===void 0?void 0:_.style.maxWidth}setMaxWidth(_){return this.options.maxWidth=_,this._update(),this}setDOMContent(_){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=F.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(_),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(_){return this._container&&this._container.classList.add(_),this}removeClassName(_){return this._container&&this._container.classList.remove(_),this}setOffset(_){return this.options.offset=_,this._update(),this}toggleClassName(_){if(this._container)return this._container.classList.toggle(_)}setSubpixelPositioning(_){this.options.subpixelPositioning=_}_createCloseButton(){this.options.closeButton&&(this._closeButton=F.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const _=this._container.querySelector(U);_&&_.focus()}},f.RasterDEMTileSource=nr,f.RasterTileSource=It,f.ScaleControl=class{constructor(_){this._onMove=()=>{tA(this._map,this._container,this.options)},this.setUnit=i=>{this.options.unit=i,tA(this._map,this._container,this.options)},this.options=Object.assign(Object.assign({},ys),_)}getDefaultPosition(){return"bottom-left"}onAdd(_){return this._map=_,this._container=F.create("div","maplibregl-ctrl maplibregl-ctrl-scale",_.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){F.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},f.ScrollZoomHandler=qi,f.Style=ji,f.TerrainControl=class{constructor(_){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"))},this.options=_}onAdd(_){return this._map=_,this._container=F.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=F.create("button","maplibregl-ctrl-terrain",this._container),F.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){F.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},f.TwoFingersTouchPitchHandler=OA,f.TwoFingersTouchRotateHandler=PA,f.TwoFingersTouchZoomHandler=Du,f.TwoFingersTouchZoomRotateHandler=$c,f.VectorTileSource=Er,f.VideoSource=rn,f.addSourceType=(_,i)=>l._(void 0,void 0,void 0,(function*(){if(yn(_))throw new Error(`A source type called "${_}" already exists.`);((h,p)=>{Jr[h]=p})(_,i)})),f.clearPrewarmedResources=function(){const _=Je;_&&(_.isPreloaded()&&_.numActive()===1?(_.release(Ie),Je=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},f.getMaxParallelImageRequests=function(){return l.a.MAX_PARALLEL_IMAGE_REQUESTS},f.getRTLTextPluginStatus=function(){return fr().getRTLTextPluginStatus()},f.getVersion=function(){return X},f.getWorkerCount=function(){return ke.workerCount},f.getWorkerUrl=function(){return l.a.WORKER_URL},f.importScriptInWorkers=function(_){return Ct().broadcast("IS",_)},f.prewarm=function(){Ke().acquire(Ie)},f.setMaxParallelImageRequests=function(_){l.a.MAX_PARALLEL_IMAGE_REQUESTS=_},f.setRTLTextPlugin=function(_,i){return fr().setRTLTextPlugin(_,i)},f.setWorkerCount=function(_){ke.workerCount=_},f.setWorkerUrl=function(_){l.a.WORKER_URL=_}}));var A=r;return A}))})(U1)),U1.exports}var mN=pN();const Dv=Sh(mN);var bu=63710088e-1,HL={centimeters:bu*100,centimetres:bu*100,degrees:360/(2*Math.PI),feet:bu*3.28084,inches:bu*39.37,kilometers:bu/1e3,kilometres:bu/1e3,meters:bu,metres:bu,miles:bu/1609.344,millimeters:bu*1e3,millimetres:bu*1e3,nauticalmiles:bu/1852,radians:1,yards:bu*1.0936};function ab(e,t,r={}){const n={type:"Feature"};return(r.id===0||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function Y2(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!eE(e[0])||!eE(e[1]))throw new Error("coordinates must contain numbers");return ab({type:"Point",coordinates:e},t,r)}function gN(e,t,r={}){for(const s of e){if(s.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(s[s.length-1].length!==s[0].length)throw new Error("First and last Position are not equivalent.");for(let A=0;A<s[s.length-1].length;A++)if(s[s.length-1][A]!==s[0][A])throw new Error("First and last Position are not equivalent.")}return ab({type:"Polygon",coordinates:e},t,r)}function yN(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return ab({type:"LineString",coordinates:e},t,r)}function vN(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function _N(e,t,r={}){return ab({type:"MultiPoint",coordinates:e},t,r)}function bN(e,t="kilometers"){const r=HL[t];if(!r)throw new Error(t+" units is invalid");return e*r}function wN(e,t="kilometers"){const r=HL[t];if(!r)throw new Error(t+" units is invalid");return e/r}function JS(e){return e%(2*Math.PI)*180/Math.PI}function mp(e){return e%360*Math.PI/180}function eE(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}function $1(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if(e.type==="Feature"&&e.geometry!==null&&e.geometry.type==="Point")return[...e.geometry.coordinates];if(e.type==="Point")return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function xN(e){return e.type==="Feature"?e.geometry:e}function BN(e,t,r,n={}){const s=$1(e),A=mp(s[0]),f=mp(s[1]),l=mp(r),y=wN(t,n.units),b=Math.asin(Math.sin(f)*Math.cos(y)+Math.cos(f)*Math.sin(y)*Math.cos(l)),w=A+Math.atan2(Math.sin(l)*Math.sin(y)*Math.cos(f),Math.cos(y)-Math.sin(f)*Math.sin(b)),C=JS(w),F=JS(b);return s[2]!==void 0?Y2([C,F,s[2]],n.properties):Y2([C,F],n.properties)}function KL(e,t,r={}){var n=$1(e),s=$1(t),A=mp(s[1]-n[1]),f=mp(s[0]-n[0]),l=mp(n[1]),y=mp(s[1]),b=Math.pow(Math.sin(A/2),2)+Math.pow(Math.sin(f/2),2)*Math.cos(l)*Math.cos(y);return bN(2*Math.atan2(Math.sqrt(b),Math.sqrt(1-b)),r.units)}function VL(e,t,r){if(e!==null)for(var n,s,A,f,l,y,b,w=0,C=0,F,T=e.type,j=T==="FeatureCollection",k=T==="Feature",H=j?e.features.length:1,K=0;K<H;K++){b=j?e.features[K].geometry:k?e.geometry:e,F=b?b.type==="GeometryCollection":!1,l=F?b.geometries.length:1;for(var Y=0;Y<l;Y++){var W=0,ae=0;if(f=F?b.geometries[Y]:b,f!==null){y=f.coordinates;var Ae=f.type;switch(w=0,Ae){case null:break;case"Point":if(t(y,C,K,W,ae)===!1)return!1;C++,W++;break;case"LineString":case"MultiPoint":for(n=0;n<y.length;n++){if(t(y[n],C,K,W,ae)===!1)return!1;C++,Ae==="MultiPoint"&&W++}Ae==="LineString"&&W++;break;case"Polygon":case"MultiLineString":for(n=0;n<y.length;n++){for(s=0;s<y[n].length-w;s++){if(t(y[n][s],C,K,W,ae)===!1)return!1;C++}Ae==="MultiLineString"&&W++,Ae==="Polygon"&&ae++}Ae==="Polygon"&&W++;break;case"MultiPolygon":for(n=0;n<y.length;n++){for(ae=0,s=0;s<y[n].length;s++){for(A=0;A<y[n][s].length-w;A++){if(t(y[n][s][A],C,K,W,ae)===!1)return!1;C++}ae++}W++}break;case"GeometryCollection":for(n=0;n<f.geometries.length;n++)if(VL(f.geometries[n],t)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function CN(e,t){if(e.type==="Feature")t(e,0);else if(e.type==="FeatureCollection")for(var r=0;r<e.features.length&&t(e.features[r],r)!==!1;r++);}function tE(e,t){var r,n,s,A,f,l,y,b,w,C,F=0,T=e.type==="FeatureCollection",j=e.type==="Feature",k=T?e.features.length:1;for(r=0;r<k;r++){for(l=T?e.features[r].geometry:j?e.geometry:e,b=T?e.features[r].properties:j?e.properties:{},w=T?e.features[r].bbox:j?e.bbox:void 0,C=T?e.features[r].id:j?e.id:void 0,y=l?l.type==="GeometryCollection":!1,f=y?l.geometries.length:1,s=0;s<f;s++){if(A=y?l.geometries[s]:l,A===null){if(t(null,F,b,w,C)===!1)return!1;continue}switch(A.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(t(A,F,b,w,C)===!1)return!1;break}case"GeometryCollection":{for(n=0;n<A.geometries.length;n++)if(t(A.geometries[n],F,b,w,C)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}F++}}const rf=11102230246251565e-32,Ol=134217729,SN=(3+8*rf)*rf;function Tw(e,t,r,n,s){let A,f,l,y,b=t[0],w=n[0],C=0,F=0;w>b==w>-b?(A=b,b=t[++C]):(A=w,w=n[++F]);let T=0;if(C<e&&F<r)for(w>b==w>-b?(f=b+A,l=A-(f-b),b=t[++C]):(f=w+A,l=A-(f-w),w=n[++F]),A=f,l!==0&&(s[T++]=l);C<e&&F<r;)w>b==w>-b?(f=A+b,y=f-A,l=A-(f-y)+(b-y),b=t[++C]):(f=A+w,y=f-A,l=A-(f-y)+(w-y),w=n[++F]),A=f,l!==0&&(s[T++]=l);for(;C<e;)f=A+b,y=f-A,l=A-(f-y)+(b-y),b=t[++C],A=f,l!==0&&(s[T++]=l);for(;F<r;)f=A+w,y=f-A,l=A-(f-y)+(w-y),w=n[++F],A=f,l!==0&&(s[T++]=l);return(A!==0||T===0)&&(s[T++]=A),T}function EN(e,t){let r=t[0];for(let n=1;n<e;n++)r+=t[n];return r}function cy(e){return new Float64Array(e)}const TN=(3+16*rf)*rf,IN=(2+12*rf)*rf,FN=(9+64*rf)*rf*rf,gm=cy(4),rE=cy(8),nE=cy(12),iE=cy(16),hA=cy(4);function LN(e,t,r,n,s,A,f){let l,y,b,w,C,F,T,j,k,H,K,Y,W,ae,Ae,pe,Be,Fe;const me=e-s,He=r-s,se=t-A,de=n-A;ae=me*de,F=Ol*me,T=F-(F-me),j=me-T,F=Ol*de,k=F-(F-de),H=de-k,Ae=j*H-(ae-T*k-j*k-T*H),pe=se*He,F=Ol*se,T=F-(F-se),j=se-T,F=Ol*He,k=F-(F-He),H=He-k,Be=j*H-(pe-T*k-j*k-T*H),K=Ae-Be,C=Ae-K,gm[0]=Ae-(K+C)+(C-Be),Y=ae+K,C=Y-ae,W=ae-(Y-C)+(K-C),K=W-pe,C=W-K,gm[1]=W-(K+C)+(C-pe),Fe=Y+K,C=Fe-Y,gm[2]=Y-(Fe-C)+(K-C),gm[3]=Fe;let Le=EN(4,gm),Ue=IN*f;if(Le>=Ue||-Le>=Ue||(C=e-me,l=e-(me+C)+(C-s),C=r-He,b=r-(He+C)+(C-s),C=t-se,y=t-(se+C)+(C-A),C=n-de,w=n-(de+C)+(C-A),l===0&&y===0&&b===0&&w===0)||(Ue=FN*f+SN*Math.abs(Le),Le+=me*w+de*l-(se*b+He*y),Le>=Ue||-Le>=Ue))return Le;ae=l*de,F=Ol*l,T=F-(F-l),j=l-T,F=Ol*de,k=F-(F-de),H=de-k,Ae=j*H-(ae-T*k-j*k-T*H),pe=y*He,F=Ol*y,T=F-(F-y),j=y-T,F=Ol*He,k=F-(F-He),H=He-k,Be=j*H-(pe-T*k-j*k-T*H),K=Ae-Be,C=Ae-K,hA[0]=Ae-(K+C)+(C-Be),Y=ae+K,C=Y-ae,W=ae-(Y-C)+(K-C),K=W-pe,C=W-K,hA[1]=W-(K+C)+(C-pe),Fe=Y+K,C=Fe-Y,hA[2]=Y-(Fe-C)+(K-C),hA[3]=Fe;const nt=Tw(4,gm,4,hA,rE);ae=me*w,F=Ol*me,T=F-(F-me),j=me-T,F=Ol*w,k=F-(F-w),H=w-k,Ae=j*H-(ae-T*k-j*k-T*H),pe=se*b,F=Ol*se,T=F-(F-se),j=se-T,F=Ol*b,k=F-(F-b),H=b-k,Be=j*H-(pe-T*k-j*k-T*H),K=Ae-Be,C=Ae-K,hA[0]=Ae-(K+C)+(C-Be),Y=ae+K,C=Y-ae,W=ae-(Y-C)+(K-C),K=W-pe,C=W-K,hA[1]=W-(K+C)+(C-pe),Fe=Y+K,C=Fe-Y,hA[2]=Y-(Fe-C)+(K-C),hA[3]=Fe;const Oe=Tw(nt,rE,4,hA,nE);ae=l*w,F=Ol*l,T=F-(F-l),j=l-T,F=Ol*w,k=F-(F-w),H=w-k,Ae=j*H-(ae-T*k-j*k-T*H),pe=y*b,F=Ol*y,T=F-(F-y),j=y-T,F=Ol*b,k=F-(F-b),H=b-k,Be=j*H-(pe-T*k-j*k-T*H),K=Ae-Be,C=Ae-K,hA[0]=Ae-(K+C)+(C-Be),Y=ae+K,C=Y-ae,W=ae-(Y-C)+(K-C),K=W-pe,C=W-K,hA[1]=W-(K+C)+(C-pe),Fe=Y+K,C=Fe-Y,hA[2]=Y-(Fe-C)+(K-C),hA[3]=Fe;const Ne=Tw(Oe,nE,4,hA,iE);return iE[Ne-1]}function UN(e,t,r,n,s,A){const f=(t-A)*(r-s),l=(e-s)*(n-A),y=f-l,b=Math.abs(f+l);return Math.abs(y)>=TN*b?y:-LN(e,t,r,n,s,A,b)}function MN(e,t){var r,n,s=0,A,f,l,y,b,w,C,F=e[0],T=e[1],j=t.length;for(r=0;r<j;r++){n=0;var k=t[r],H=k.length-1;if(w=k[0],w[0]!==k[H][0]&&w[1]!==k[H][1])throw new Error("First and last coordinates in a ring must be the same");for(f=w[0]-F,l=w[1]-T,n;n<H;n++){if(C=k[n+1],y=C[0]-F,b=C[1]-T,l===0&&b===0){if(y<=0&&f>=0||f<=0&&y>=0)return 0}else if(b>=0&&l<=0||b<=0&&l>=0){if(A=UN(f,y,l,b,0,0),A===0)return 0;(A>0&&b>0&&l<=0||A<0&&b<=0&&l>0)&&s++}w=C,l=b,f=y}}return s%2!==0}function aE(e,t,r={}){if(!e)throw new Error("point is required");if(!t)throw new Error("polygon is required");const n=$1(e),s=xN(t),A=s.type,f=t.bbox;let l=s.coordinates;if(f&&PN(n,f)===!1)return!1;A==="Polygon"&&(l=[l]);let y=!1;for(var b=0;b<l.length;++b){const w=MN(n,l[b]);if(w===0)return!r.ignoreBoundary;w&&(y=!0)}return y}function PN(e,t){return t[0]<=e[0]&&t[1]<=e[1]&&t[2]>=e[0]&&t[3]>=e[1]}function ON(e,t,r={}){const n=r.steps||64,s=r.properties?r.properties:!Array.isArray(e)&&e.type==="Feature"&&e.properties?e.properties:{},A=[];for(let f=0;f<n;f++)A.push(BN(e,t,f*-360/n,r).geometry.coordinates);return A.push(A[0]),gN([A],s)}function DN(e,t){const r=[];return CN(e,function(n){let s=!1;if(n.geometry.type==="Point")tE(t,function(f){aE(n,f)&&(s=!0)}),s&&r.push(n);else if(n.geometry.type==="MultiPoint"){var A=[];tE(t,function(f){VL(n,function(l){aE(l,f)&&(s=!0,A.push(l))})}),s&&r.push(_N(A,n.properties))}else throw new Error("Input geometry must be a Point or MultiPoint")}),vN(r)}function qL(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=qL(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function zi(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=qL(e))&&(n&&(n+=" "),n+=t);return n}var kN=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function P5(e){if(typeof e!="string")return!1;var t=kN;return t.includes(e)}var NN=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],QN=new Set(NN);function GL(e){return typeof e!="string"?!1:QN.has(e)}function $L(e){return typeof e=="string"&&e.startsWith("data-")}function Nc(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(GL(r)||$L(r))&&(t[r]=e[r]);return t}function hy(e){if(e==null)return null;if(te.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Nc(t)}return typeof e=="object"&&!Array.isArray(e)?Nc(e):null}function mA(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(GL(r)||$L(r)||P5(r))&&(t[r]=e[r]);return t}function RN(e){return e==null?null:te.isValidElement(e)?mA(e.props):typeof e=="object"&&!Array.isArray(e)?mA(e):null}var zN=["children","width","height","viewBox","className","style","title","desc"];function J2(){return J2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},J2.apply(null,arguments)}function jN(e,t){if(e==null)return{};var r,n,s=HN(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function HN(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var O5=te.forwardRef((e,t)=>{var{children:r,width:n,height:s,viewBox:A,className:f,style:l,title:y,desc:b}=e,w=jN(e,zN),C=A||{width:n,height:s,x:0,y:0},F=zi("recharts-surface",f);return te.createElement("svg",J2({},mA(w),{className:F,width:n,height:s,style:l,viewBox:"".concat(C.x," ").concat(C.y," ").concat(C.width," ").concat(C.height),ref:t}),te.createElement("title",null,y),te.createElement("desc",null,b),r)}),KN=["children","className"];function eB(){return eB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eB.apply(null,arguments)}function VN(e,t){if(e==null)return{};var r,n,s=qN(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function qN(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var sc=te.forwardRef((e,t)=>{var{children:r,className:n}=e,s=VN(e,KN),A=zi("recharts-layer",n);return te.createElement("g",eB({className:A},mA(s),{ref:t}),r)}),D5=zL(),XL=te.createContext(null),GN=()=>te.useContext(XL);function pa(e){return function(){return e}}const ZL=Math.cos,X1=Math.sin,jc=Math.sqrt,Z1=Math.PI,sb=2*Z1,tB=Math.PI,rB=2*tB,up=1e-6,$N=rB-up;function WL(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function XN(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return WL;const r=10**t;return function(n){this._+=n[0];for(let s=1,A=n.length;s<A;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class ZN{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?WL:XN(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,A,f){this._append`C${+t},${+r},${+n},${+s},${this._x1=+A},${this._y1=+f}`}arcTo(t,r,n,s,A){if(t=+t,r=+r,n=+n,s=+s,A=+A,A<0)throw new Error(`negative radius: ${A}`);let f=this._x1,l=this._y1,y=n-t,b=s-r,w=f-t,C=l-r,F=w*w+C*C;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(F>up)if(!(Math.abs(C*y-b*w)>up)||!A)this._append`L${this._x1=t},${this._y1=r}`;else{let T=n-f,j=s-l,k=y*y+b*b,H=T*T+j*j,K=Math.sqrt(k),Y=Math.sqrt(F),W=A*Math.tan((tB-Math.acos((k+F-H)/(2*K*Y)))/2),ae=W/Y,Ae=W/K;Math.abs(ae-1)>up&&this._append`L${t+ae*w},${r+ae*C}`,this._append`A${A},${A},0,0,${+(C*T>w*j)},${this._x1=t+Ae*y},${this._y1=r+Ae*b}`}}arc(t,r,n,s,A,f){if(t=+t,r=+r,n=+n,f=!!f,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),y=n*Math.sin(s),b=t+l,w=r+y,C=1^f,F=f?s-A:A-s;this._x1===null?this._append`M${b},${w}`:(Math.abs(this._x1-b)>up||Math.abs(this._y1-w)>up)&&this._append`L${b},${w}`,n&&(F<0&&(F=F%rB+rB),F>$N?this._append`A${n},${n},0,1,${C},${t-l},${r-y}A${n},${n},0,1,${C},${this._x1=b},${this._y1=w}`:F>up&&this._append`A${n},${n},0,${+(F>=tB)},${C},${this._x1=t+n*Math.cos(A)},${this._y1=r+n*Math.sin(A)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function k5(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new ZN(t)}function N5(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function YL(e){this._context=e}YL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ob(e){return new YL(e)}function JL(e){return e[0]}function eU(e){return e[1]}function tU(e,t){var r=pa(!0),n=null,s=ob,A=null,f=k5(l);e=typeof e=="function"?e:e===void 0?JL:pa(e),t=typeof t=="function"?t:t===void 0?eU:pa(t);function l(y){var b,w=(y=N5(y)).length,C,F=!1,T;for(n==null&&(A=s(T=f())),b=0;b<=w;++b)!(b<w&&r(C=y[b],b,y))===F&&((F=!F)?A.lineStart():A.lineEnd()),F&&A.point(+e(C,b,y),+t(C,b,y));if(T)return A=null,T+""||null}return l.x=function(y){return arguments.length?(e=typeof y=="function"?y:pa(+y),l):e},l.y=function(y){return arguments.length?(t=typeof y=="function"?y:pa(+y),l):t},l.defined=function(y){return arguments.length?(r=typeof y=="function"?y:pa(!!y),l):r},l.curve=function(y){return arguments.length?(s=y,n!=null&&(A=s(n)),l):s},l.context=function(y){return arguments.length?(y==null?n=A=null:A=s(n=y),l):n},l}function kv(e,t,r){var n=null,s=pa(!0),A=null,f=ob,l=null,y=k5(b);e=typeof e=="function"?e:e===void 0?JL:pa(+e),t=typeof t=="function"?t:pa(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?eU:pa(+r);function b(C){var F,T,j,k=(C=N5(C)).length,H,K=!1,Y,W=new Array(k),ae=new Array(k);for(A==null&&(l=f(Y=y())),F=0;F<=k;++F){if(!(F<k&&s(H=C[F],F,C))===K)if(K=!K)T=F,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),j=F-1;j>=T;--j)l.point(W[j],ae[j]);l.lineEnd(),l.areaEnd()}K&&(W[F]=+e(H,F,C),ae[F]=+t(H,F,C),l.point(n?+n(H,F,C):W[F],r?+r(H,F,C):ae[F]))}if(Y)return l=null,Y+""||null}function w(){return tU().defined(s).curve(f).context(A)}return b.x=function(C){return arguments.length?(e=typeof C=="function"?C:pa(+C),n=null,b):e},b.x0=function(C){return arguments.length?(e=typeof C=="function"?C:pa(+C),b):e},b.x1=function(C){return arguments.length?(n=C==null?null:typeof C=="function"?C:pa(+C),b):n},b.y=function(C){return arguments.length?(t=typeof C=="function"?C:pa(+C),r=null,b):t},b.y0=function(C){return arguments.length?(t=typeof C=="function"?C:pa(+C),b):t},b.y1=function(C){return arguments.length?(r=C==null?null:typeof C=="function"?C:pa(+C),b):r},b.lineX0=b.lineY0=function(){return w().x(e).y(t)},b.lineY1=function(){return w().x(e).y(r)},b.lineX1=function(){return w().x(n).y(t)},b.defined=function(C){return arguments.length?(s=typeof C=="function"?C:pa(!!C),b):s},b.curve=function(C){return arguments.length?(f=C,A!=null&&(l=f(A)),b):f},b.context=function(C){return arguments.length?(C==null?A=l=null:l=f(A=C),b):A},b}class rU{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function WN(e){return new rU(e,!0)}function YN(e){return new rU(e,!1)}const Q5={draw(e,t){const r=jc(t/Z1);e.moveTo(r,0),e.arc(0,0,r,0,sb)}},JN={draw(e,t){const r=jc(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},nU=jc(1/3),eQ=nU*2,tQ={draw(e,t){const r=jc(t/eQ),n=r*nU;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},rQ={draw(e,t){const r=jc(t),n=-r/2;e.rect(n,n,r,r)}},nQ=.8908130915292852,iU=X1(Z1/10)/X1(7*Z1/10),iQ=X1(sb/10)*iU,aQ=-ZL(sb/10)*iU,sQ={draw(e,t){const r=jc(t*nQ),n=iQ*r,s=aQ*r;e.moveTo(0,-r),e.lineTo(n,s);for(let A=1;A<5;++A){const f=sb*A/5,l=ZL(f),y=X1(f);e.lineTo(y*r,-l*r),e.lineTo(l*n-y*s,y*n+l*s)}e.closePath()}},Iw=jc(3),oQ={draw(e,t){const r=-jc(t/(Iw*3));e.moveTo(0,r*2),e.lineTo(-Iw*r,-r),e.lineTo(Iw*r,-r),e.closePath()}},Wu=-.5,Yu=jc(3)/2,nB=1/jc(12),lQ=(nB/2+1)*3,AQ={draw(e,t){const r=jc(t/lQ),n=r/2,s=r*nB,A=n,f=r*nB+r,l=-A,y=f;e.moveTo(n,s),e.lineTo(A,f),e.lineTo(l,y),e.lineTo(Wu*n-Yu*s,Yu*n+Wu*s),e.lineTo(Wu*A-Yu*f,Yu*A+Wu*f),e.lineTo(Wu*l-Yu*y,Yu*l+Wu*y),e.lineTo(Wu*n+Yu*s,Wu*s-Yu*n),e.lineTo(Wu*A+Yu*f,Wu*f-Yu*A),e.lineTo(Wu*l+Yu*y,Wu*y-Yu*l),e.closePath()}};function uQ(e,t){let r=null,n=k5(s);e=typeof e=="function"?e:pa(e||Q5),t=typeof t=="function"?t:pa(t===void 0?64:+t);function s(){let A;if(r||(r=A=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),A)return r=null,A+""||null}return s.type=function(A){return arguments.length?(e=typeof A=="function"?A:pa(A),s):e},s.size=function(A){return arguments.length?(t=typeof A=="function"?A:pa(+A),s):t},s.context=function(A){return arguments.length?(r=A??null,s):r},s}function W1(){}function Y1(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function aU(e){this._context=e}aU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Y1(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Y1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function cQ(e){return new aU(e)}function sU(e){this._context=e}sU.prototype={areaStart:W1,areaEnd:W1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Y1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function hQ(e){return new sU(e)}function oU(e){this._context=e}oU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Y1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function fQ(e){return new oU(e)}function lU(e){this._context=e}lU.prototype={areaStart:W1,areaEnd:W1,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function dQ(e){return new lU(e)}function sE(e){return e<0?-1:1}function oE(e,t,r){var n=e._x1-e._x0,s=t-e._x1,A=(e._y1-e._y0)/(n||s<0&&-0),f=(r-e._y1)/(s||n<0&&-0),l=(A*s+f*n)/(n+s);return(sE(A)+sE(f))*Math.min(Math.abs(A),Math.abs(f),.5*Math.abs(l))||0}function lE(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Fw(e,t,r){var n=e._x0,s=e._y0,A=e._x1,f=e._y1,l=(A-n)/3;e._context.bezierCurveTo(n+l,s+l*t,A-l,f-l*r,A,f)}function J1(e){this._context=e}J1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Fw(this,this._t0,lE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Fw(this,lE(this,r=oE(this,e,t)),r);break;default:Fw(this,this._t0,r=oE(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function AU(e){this._context=new uU(e)}(AU.prototype=Object.create(J1.prototype)).point=function(e,t){J1.prototype.point.call(this,t,e)};function uU(e){this._context=e}uU.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,A){this._context.bezierCurveTo(t,e,n,r,A,s)}};function pQ(e){return new J1(e)}function mQ(e){return new AU(e)}function cU(e){this._context=e}cU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=AE(e),s=AE(t),A=0,f=1;f<r;++A,++f)this._context.bezierCurveTo(n[0][A],s[0][A],n[1][A],s[1][A],e[f],t[f]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function AE(e){var t,r=e.length-1,n,s=new Array(r),A=new Array(r),f=new Array(r);for(s[0]=0,A[0]=2,f[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,A[t]=4,f[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,A[r-1]=7,f[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/A[t-1],A[t]-=n,f[t]-=n*f[t-1];for(s[r-1]=f[r-1]/A[r-1],t=r-2;t>=0;--t)s[t]=(f[t]-s[t+1])/A[t];for(A[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)A[t]=2*e[t+1]-s[t+1];return[s,A]}function gQ(e){return new cU(e)}function lb(e,t){this._context=e,this._t=t}lb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function yQ(e){return new lb(e,.5)}function vQ(e){return new lb(e,0)}function _Q(e){return new lb(e,1)}function qm(e,t){if((f=e.length)>1)for(var r=1,n,s,A=e[t[0]],f,l=A.length;r<f;++r)for(s=A,A=e[t[r]],n=0;n<l;++n)A[n][1]+=A[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function iB(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function bQ(e,t){return e[t]}function wQ(e){const t=[];return t.key=e,t}function xQ(){var e=pa([]),t=iB,r=qm,n=bQ;function s(A){var f=Array.from(e.apply(this,arguments),wQ),l,y=f.length,b=-1,w;for(const C of A)for(l=0,++b;l<y;++l)(f[l][b]=[0,+n(C,f[l].key,b,A)]).data=C;for(l=0,w=N5(t(f));l<y;++l)f[w[l]].index=l;return r(f,w),f}return s.keys=function(A){return arguments.length?(e=typeof A=="function"?A:pa(Array.from(A)),s):e},s.value=function(A){return arguments.length?(n=typeof A=="function"?A:pa(+A),s):n},s.order=function(A){return arguments.length?(t=A==null?iB:typeof A=="function"?A:pa(Array.from(A)),s):t},s.offset=function(A){return arguments.length?(r=A??qm,s):r},s}function BQ(e,t){if((n=e.length)>0){for(var r,n,s=0,A=e[0].length,f;s<A;++s){for(f=r=0;r<n;++r)f+=e[r][s][1]||0;if(f)for(r=0;r<n;++r)e[r][s][1]/=f}qm(e,t)}}function CQ(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,A=n.length;r<A;++r){for(var f=0,l=0;f<s;++f)l+=e[f][r][1]||0;n[r][1]+=n[r][0]=-l/2}qm(e,t)}}function SQ(e,t){if(!(!((f=e.length)>0)||!((A=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,A,f;n<A;++n){for(var l=0,y=0,b=0;l<f;++l){for(var w=e[t[l]],C=w[n][1]||0,F=w[n-1][1]||0,T=(C-F)/2,j=0;j<l;++j){var k=e[t[j]],H=k[n][1]||0,K=k[n-1][1]||0;T+=H-K}y+=C,b+=T*C}s[n-1][1]+=s[n-1][0]=r,y&&(r-=b/y)}s[n-1][1]+=s[n-1][0]=r,qm(e,t)}}var Lw={},Uw={},uE;function EQ(){return uE||(uE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(Uw)),Uw}var Mw={},cE;function hU(){return cE||(cE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Mw)),Mw}var Pw={},hE;function R5(){return hE||(hE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(Pw)),Pw}var Ow={},Dw={},fE;function TQ(){return fE||(fE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(Dw)),Dw}var dE;function z5(){return dE||(dE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TQ(),r=R5();function n(s){if(Array.isArray(s))return s.map(r.toKey);if(typeof s=="symbol")return[s];s=t.toString(s);const A=[],f=s.length;if(f===0)return A;let l=0,y="",b="",w=!1;for(s.charCodeAt(0)===46&&(A.push(""),l++);l<f;){const C=s[l];b?C==="\\"&&l+1<f?(l++,y+=s[l]):C===b?b="":y+=C:w?C==='"'||C==="'"?b=C:C==="]"?(w=!1,A.push(y),y=""):y+=C:C==="["?(w=!0,y&&(A.push(y),y="")):C==="."?y&&(A.push(y),y=""):y+=C,l++}return y&&A.push(y),A}e.toPath=n})(Ow)),Ow}var pE;function j5(){return pE||(pE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EQ(),r=hU(),n=R5(),s=z5();function A(l,y,b){if(l==null)return b;switch(typeof y){case"string":{if(t.isUnsafeProperty(y))return b;const w=l[y];return w===void 0?r.isDeepKey(y)?A(l,s.toPath(y),b):b:w}case"number":case"symbol":{typeof y=="number"&&(y=n.toKey(y));const w=l[y];return w===void 0?b:w}default:{if(Array.isArray(y))return f(l,y,b);if(Object.is(y?.valueOf(),-0)?y="-0":y=String(y),t.isUnsafeProperty(y))return b;const w=l[y];return w===void 0?b:w}}}function f(l,y,b){if(y.length===0)return b;let w=l;for(let C=0;C<y.length;C++){if(w==null||t.isUnsafeProperty(y[C]))return b;w=w[y[C]]}return w===void 0?b:w}e.get=A})(Lw)),Lw}var kw,mE;function IQ(){return mE||(mE=1,kw=j5().get),kw}var FQ=IQ();const Gm=Sh(FQ);var ZA=e=>e===0?0:e>0?1:-1,Qc=e=>typeof e=="number"&&e!=+e,of=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Qr=e=>(typeof e=="number"||e instanceof Number)&&!Qc(e),wh=e=>Qr(e)||typeof e=="string",LQ=0,K0=e=>{var t=++LQ;return"".concat(e||"").concat(t)},Rc=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Qr(t)&&typeof t!="string")return n;var A;if(of(t)){if(r==null)return n;var f=t.indexOf("%");A=r*parseFloat(t.slice(0,f))/100}else A=+t;return Qc(A)&&(A=n),s&&r!=null&&A>r&&(A=r),A},fU=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function ls(e,t,r){return Qr(e)&&Qr(t)?e+r*(t-e):t}function dU(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Gm(n,t))===r)}var Na=e=>e===null||typeof e>"u",fy=e=>Na(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function UQ(e){return e!=null}function dy(){}var MQ=["type","size","sizeType"];function aB(){return aB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aB.apply(null,arguments)}function gE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function yE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gE(Object(r),!0).forEach(function(n){PQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PQ(e,t,r){return(t=OQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OQ(e){var t=DQ(e,"string");return typeof t=="symbol"?t:t+""}function DQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kQ(e,t){if(e==null)return{};var r,n,s=NQ(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function NQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var pU={symbolCircle:Q5,symbolCross:JN,symbolDiamond:tQ,symbolSquare:rQ,symbolStar:sQ,symbolTriangle:oQ,symbolWye:AQ},QQ=Math.PI/180,RQ=e=>{var t="symbol".concat(fy(e));return pU[t]||Q5},zQ=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*QQ;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},jQ=(e,t)=>{pU["symbol".concat(fy(e))]=t},H5=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,s=kQ(e,MQ),A=yE(yE({},s),{},{type:t,size:r,sizeType:n}),f="circle";typeof t=="string"&&(f=t);var l=()=>{var F=RQ(f),T=uQ().type(F).size(zQ(r,n,f)),j=T();if(j!==null)return j},{className:y,cx:b,cy:w}=A,C=mA(A);return Qr(b)&&Qr(w)&&Qr(r)?te.createElement("path",aB({},C,{className:zi("recharts-symbols",y),transform:"translate(".concat(b,", ").concat(w,")"),d:l()})):null};H5.registerSymbol=jQ;var mU=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,K5=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(te.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(s=>{P5(s)&&(n[s]=(A=>r[s](r,A)))}),n},HQ=(e,t,r)=>n=>(e(t,r,n),null),Ab=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(s=>{var A=e[s];P5(s)&&typeof A=="function"&&(n||(n={}),n[s]=HQ(A,t,r))}),n};function vE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function KQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vE(Object(r),!0).forEach(function(n){VQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VQ(e,t,r){return(t=qQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qQ(e){var t=GQ(e,"string");return typeof t=="symbol"?t:t+""}function GQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ol(e,t){var r=KQ({},e),n=t,s=Object.keys(t),A=s.reduce((f,l)=>(f[l]===void 0&&n[l]!==void 0&&(f[l]=n[l]),f),r);return A}function e_(){return e_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e_.apply(null,arguments)}function _E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function $Q(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_E(Object(r),!0).forEach(function(n){XQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_E(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XQ(e,t,r){return(t=ZQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZQ(e){var t=WQ(e,"string");return typeof t=="symbol"?t:t+""}function WQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ec=32,YQ={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function JQ(e){var{data:t,iconType:r,inactiveColor:n}=e,s=ec/2,A=ec/6,f=ec/3,l=t.inactive?n:t.color,y=r??t.type;if(y==="none")return null;if(y==="plainline"){var b;return te.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:(b=t.payload)===null||b===void 0?void 0:b.strokeDasharray,x1:0,y1:s,x2:ec,y2:s,className:"recharts-legend-icon"})}if(y==="line")return te.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(s,"h").concat(f,`
            A`).concat(A,",").concat(A,",0,1,1,").concat(2*f,",").concat(s,`
            H`).concat(ec,"M").concat(2*f,",").concat(s,`
            A`).concat(A,",").concat(A,",0,1,1,").concat(f,",").concat(s),className:"recharts-legend-icon"});if(y==="rect")return te.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(ec/8,"h").concat(ec,"v").concat(ec*3/4,"h").concat(-ec,"z"),className:"recharts-legend-icon"});if(te.isValidElement(t.legendIcon)){var w=$Q({},t);return delete w.legendIcon,te.cloneElement(t.legendIcon,w)}return te.createElement(H5,{fill:l,cx:s,cy:s,size:ec,sizeType:"diameter",type:y})}function e8(e){var{payload:t,iconSize:r,layout:n,formatter:s,inactiveColor:A,iconType:f}=e,l={x:0,y:0,width:ec,height:ec},y={display:n==="horizontal"?"inline-block":"block",marginRight:10},b={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((w,C)=>{var F=w.formatter||s,T=zi({"recharts-legend-item":!0,["legend-item-".concat(C)]:!0,inactive:w.inactive});if(w.type==="none")return null;var j=w.inactive?A:w.color,k=F?F(w.value,w,C):w.value;return te.createElement("li",e_({className:T,style:y,key:"legend-item-".concat(C)},Ab(e,w,C)),te.createElement(O5,{width:r,height:r,viewBox:l,style:b,"aria-label":"".concat(k," legend icon")},te.createElement(JQ,{data:w,iconType:f,inactiveColor:A})),te.createElement("span",{className:"recharts-legend-item-text",style:{color:j}},k))})}var t8=e=>{var t=ol(e,YQ),{payload:r,layout:n,align:s}=t;if(!r||!r.length)return null;var A={padding:0,margin:0,textAlign:n==="horizontal"?s:"left"};return te.createElement("ul",{className:"recharts-default-legend",style:A},te.createElement(e8,e_({},t,{payload:r})))},Nw={},Qw={},bE;function r8(){return bE||(bE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const s=new Map;for(let A=0;A<r.length;A++){const f=r[A],l=n(f);s.has(l)||s.set(l,f)}return Array.from(s.values())}e.uniqBy=t})(Qw)),Qw}var Rw={},wE;function gU(){return wE||(wE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Rw)),Rw}var zw={},jw={},Hw={},xE;function n8(){return xE||(xE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(Hw)),Hw}var BE;function V5(){return BE||(BE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=n8();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(jw)),jw}var Kw={},CE;function i8(){return CE||(CE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(Kw)),Kw}var SE;function a8(){return SE||(SE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=V5(),r=i8();function n(s){return r.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=n})(zw)),zw}var Vw={},qw={},EE;function s8(){return EE||(EE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=j5();function r(n){return function(s){return t.get(s,n)}}e.property=r})(qw)),qw}var Gw={},$w={},Xw={},Zw={},TE;function yU(){return TE||(TE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Zw)),Zw}var Ww={},IE;function vU(){return IE||(IE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Ww)),Ww}var Yw={},FE;function _U(){return FE||(FE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(Yw)),Yw}var LE;function o8(){return LE||(LE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yU(),r=vU(),n=_U();function s(w,C,F){return typeof F!="function"?s(w,C,()=>{}):A(w,C,function T(j,k,H,K,Y,W){const ae=F(j,k,H,K,Y,W);return ae!==void 0?!!ae:A(j,k,T,W)},new Map)}function A(w,C,F,T){if(C===w)return!0;switch(typeof C){case"object":return f(w,C,F,T);case"function":return Object.keys(C).length>0?A(w,{...C},F,T):n.eq(w,C);default:return t.isObject(w)?typeof C=="string"?C==="":!0:n.eq(w,C)}}function f(w,C,F,T){if(C==null)return!0;if(Array.isArray(C))return y(w,C,F,T);if(C instanceof Map)return l(w,C,F,T);if(C instanceof Set)return b(w,C,F,T);const j=Object.keys(C);if(w==null)return j.length===0;if(j.length===0)return!0;if(T?.has(C))return T.get(C)===w;T?.set(C,w);try{for(let k=0;k<j.length;k++){const H=j[k];if(!r.isPrimitive(w)&&!(H in w)||C[H]===void 0&&w[H]!==void 0||C[H]===null&&w[H]!==null||!F(w[H],C[H],H,w,C,T))return!1}return!0}finally{T?.delete(C)}}function l(w,C,F,T){if(C.size===0)return!0;if(!(w instanceof Map))return!1;for(const[j,k]of C.entries()){const H=w.get(j);if(F(H,k,j,w,C,T)===!1)return!1}return!0}function y(w,C,F,T){if(C.length===0)return!0;if(!Array.isArray(w))return!1;const j=new Set;for(let k=0;k<C.length;k++){const H=C[k];let K=!1;for(let Y=0;Y<w.length;Y++){if(j.has(Y))continue;const W=w[Y];let ae=!1;if(F(W,H,k,w,C,T)&&(ae=!0),ae){j.add(Y),K=!0;break}}if(!K)return!1}return!0}function b(w,C,F,T){return C.size===0?!0:w instanceof Set?y([...w],[...C],F,T):!1}e.isMatchWith=s,e.isSetMatch=b})(Xw)),Xw}var UE;function bU(){return UE||(UE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=o8();function r(n,s){return t.isMatchWith(n,s,()=>{})}e.isMatch=r})($w)),$w}var Jw={},ex={},tx={},ME;function l8(){return ME||(ME=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(tx)),tx}var rx={},PE;function wU(){return PE||(PE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(rx)),rx}var nx={},OE;function xU(){return OE||(OE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",s="[object Boolean]",A="[object Arguments]",f="[object Symbol]",l="[object Date]",y="[object Map]",b="[object Set]",w="[object Array]",C="[object Function]",F="[object ArrayBuffer]",T="[object Object]",j="[object Error]",k="[object DataView]",H="[object Uint8Array]",K="[object Uint8ClampedArray]",Y="[object Uint16Array]",W="[object Uint32Array]",ae="[object BigUint64Array]",Ae="[object Int8Array]",pe="[object Int16Array]",Be="[object Int32Array]",Fe="[object BigInt64Array]",me="[object Float32Array]",He="[object Float64Array]";e.argumentsTag=A,e.arrayBufferTag=F,e.arrayTag=w,e.bigInt64ArrayTag=Fe,e.bigUint64ArrayTag=ae,e.booleanTag=s,e.dataViewTag=k,e.dateTag=l,e.errorTag=j,e.float32ArrayTag=me,e.float64ArrayTag=He,e.functionTag=C,e.int16ArrayTag=pe,e.int32ArrayTag=Be,e.int8ArrayTag=Ae,e.mapTag=y,e.numberTag=n,e.objectTag=T,e.regexpTag=t,e.setTag=b,e.stringTag=r,e.symbolTag=f,e.uint16ArrayTag=Y,e.uint32ArrayTag=W,e.uint8ArrayTag=H,e.uint8ClampedArrayTag=K})(nx)),nx}var ix={},DE;function A8(){return DE||(DE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(ix)),ix}var kE;function BU(){return kE||(kE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l8(),r=wU(),n=xU(),s=vU(),A=A8();function f(w,C){return l(w,void 0,w,new Map,C)}function l(w,C,F,T=new Map,j=void 0){const k=j?.(w,C,F,T);if(k!==void 0)return k;if(s.isPrimitive(w))return w;if(T.has(w))return T.get(w);if(Array.isArray(w)){const H=new Array(w.length);T.set(w,H);for(let K=0;K<w.length;K++)H[K]=l(w[K],K,F,T,j);return Object.hasOwn(w,"index")&&(H.index=w.index),Object.hasOwn(w,"input")&&(H.input=w.input),H}if(w instanceof Date)return new Date(w.getTime());if(w instanceof RegExp){const H=new RegExp(w.source,w.flags);return H.lastIndex=w.lastIndex,H}if(w instanceof Map){const H=new Map;T.set(w,H);for(const[K,Y]of w)H.set(K,l(Y,K,F,T,j));return H}if(w instanceof Set){const H=new Set;T.set(w,H);for(const K of w)H.add(l(K,void 0,F,T,j));return H}if(typeof Buffer<"u"&&Buffer.isBuffer(w))return w.subarray();if(A.isTypedArray(w)){const H=new(Object.getPrototypeOf(w)).constructor(w.length);T.set(w,H);for(let K=0;K<w.length;K++)H[K]=l(w[K],K,F,T,j);return H}if(w instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&w instanceof SharedArrayBuffer)return w.slice(0);if(w instanceof DataView){const H=new DataView(w.buffer.slice(0),w.byteOffset,w.byteLength);return T.set(w,H),y(H,w,F,T,j),H}if(typeof File<"u"&&w instanceof File){const H=new File([w],w.name,{type:w.type});return T.set(w,H),y(H,w,F,T,j),H}if(typeof Blob<"u"&&w instanceof Blob){const H=new Blob([w],{type:w.type});return T.set(w,H),y(H,w,F,T,j),H}if(w instanceof Error){const H=new w.constructor;return T.set(w,H),H.message=w.message,H.name=w.name,H.stack=w.stack,H.cause=w.cause,y(H,w,F,T,j),H}if(w instanceof Boolean){const H=new Boolean(w.valueOf());return T.set(w,H),y(H,w,F,T,j),H}if(w instanceof Number){const H=new Number(w.valueOf());return T.set(w,H),y(H,w,F,T,j),H}if(w instanceof String){const H=new String(w.valueOf());return T.set(w,H),y(H,w,F,T,j),H}if(typeof w=="object"&&b(w)){const H=Object.create(Object.getPrototypeOf(w));return T.set(w,H),y(H,w,F,T,j),H}return w}function y(w,C,F=w,T,j){const k=[...Object.keys(C),...t.getSymbols(C)];for(let H=0;H<k.length;H++){const K=k[H],Y=Object.getOwnPropertyDescriptor(w,K);(Y==null||Y.writable)&&(w[K]=l(C[K],K,F,T,j))}}function b(w){switch(r.getTag(w)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=f,e.cloneDeepWithImpl=l,e.copyProperties=y})(ex)),ex}var NE;function u8(){return NE||(NE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BU();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(Jw)),Jw}var QE;function c8(){return QE||(QE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bU(),r=u8();function n(s){return s=r.cloneDeep(s),A=>t.isMatch(A,s)}e.matches=n})(Gw)),Gw}var ax={},sx={},ox={},RE;function h8(){return RE||(RE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BU(),r=xU();function n(s,A){return t.cloneDeepWith(s,(f,l,y,b)=>{const w=A?.(f,l,y,b);if(w!==void 0)return w;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case r.numberTag:case r.stringTag:case r.booleanTag:{const C=new s.constructor(s?.valueOf());return t.copyProperties(C,s),C}case r.argumentsTag:{const C={};return t.copyProperties(C,s),C.length=s.length,C[Symbol.iterator]=s[Symbol.iterator],C}default:return}})}e.cloneDeepWith=n})(ox)),ox}var zE;function f8(){return zE||(zE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=h8();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(sx)),sx}var lx={},Ax={},jE;function CU(){return jE||(jE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,s=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<s;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Ax)),Ax}var ux={},HE;function d8(){return HE||(HE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wU();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(ux)),ux}var KE;function p8(){return KE||(KE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hU(),r=CU(),n=d8(),s=z5();function A(f,l){let y;if(Array.isArray(l)?y=l:typeof l=="string"&&t.isDeepKey(l)&&f?.[l]==null?y=s.toPath(l):y=[l],y.length===0)return!1;let b=f;for(let w=0;w<y.length;w++){const C=y[w];if((b==null||!Object.hasOwn(b,C))&&!((Array.isArray(b)||n.isArguments(b))&&r.isIndex(C)&&C<b.length))return!1;b=b[C]}return!0}e.has=A})(lx)),lx}var VE;function m8(){return VE||(VE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bU(),r=R5(),n=f8(),s=j5(),A=p8();function f(l,y){switch(typeof l){case"object":{Object.is(l?.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return y=n.cloneDeep(y),function(b){const w=s.get(b,l);return w===void 0?A.has(b,l):y===void 0?w===void 0:t.isMatch(w,y)}}e.matchesProperty=f})(ax)),ax}var qE;function g8(){return qE||(qE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gU(),r=s8(),n=c8(),s=m8();function A(f){if(f==null)return t.identity;switch(typeof f){case"function":return f;case"object":return Array.isArray(f)&&f.length===2?s.matchesProperty(f[0],f[1]):n.matches(f);case"string":case"symbol":case"number":return r.property(f)}}e.iteratee=A})(Vw)),Vw}var GE;function y8(){return GE||(GE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=r8(),r=gU(),n=a8(),s=g8();function A(f,l=r.identity){return n.isArrayLikeObject(f)?t.uniqBy(Array.from(f),s.iteratee(l)):[]}e.uniqBy=A})(Nw)),Nw}var cx,$E;function v8(){return $E||($E=1,cx=y8().uniqBy),cx}var _8=v8();const XE=Sh(_8);function SU(e,t,r){return t===!0?XE(e,r):typeof t=="function"?XE(e,t):e}var hx={exports:{}},fx={},dx={exports:{}},px={};var ZE;function b8(){if(ZE)return px;ZE=1;var e=ng();function t(C,F){return C===F&&(C!==0||1/C===1/F)||C!==C&&F!==F}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,s=e.useEffect,A=e.useLayoutEffect,f=e.useDebugValue;function l(C,F){var T=F(),j=n({inst:{value:T,getSnapshot:F}}),k=j[0].inst,H=j[1];return A(function(){k.value=T,k.getSnapshot=F,y(k)&&H({inst:k})},[C,T,F]),s(function(){return y(k)&&H({inst:k}),C(function(){y(k)&&H({inst:k})})},[C]),f(T),T}function y(C){var F=C.getSnapshot;C=C.value;try{var T=F();return!r(C,T)}catch{return!0}}function b(C,F){return F()}var w=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?b:l;return px.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:w,px}var WE;function w8(){return WE||(WE=1,dx.exports=b8()),dx.exports}var YE;function x8(){if(YE)return fx;YE=1;var e=ng(),t=w8();function r(b,w){return b===w&&(b!==0||1/b===1/w)||b!==b&&w!==w}var n=typeof Object.is=="function"?Object.is:r,s=t.useSyncExternalStore,A=e.useRef,f=e.useEffect,l=e.useMemo,y=e.useDebugValue;return fx.useSyncExternalStoreWithSelector=function(b,w,C,F,T){var j=A(null);if(j.current===null){var k={hasValue:!1,value:null};j.current=k}else k=j.current;j=l(function(){function K(pe){if(!Y){if(Y=!0,W=pe,pe=F(pe),T!==void 0&&k.hasValue){var Be=k.value;if(T(Be,pe))return ae=Be}return ae=pe}if(Be=ae,n(W,pe))return Be;var Fe=F(pe);return T!==void 0&&T(Be,Fe)?(W=pe,Be):(W=pe,ae=Fe)}var Y=!1,W,ae,Ae=C===void 0?null:C;return[function(){return K(w())},Ae===null?void 0:function(){return K(Ae())}]},[w,C,F,T]);var H=s(b,j[0],j[1]);return f(function(){k.hasValue=!0,k.value=H},[H]),y(H),H},fx}var JE;function B8(){return JE||(JE=1,hx.exports=x8()),hx.exports}var C8=B8(),q5=te.createContext(null),S8=e=>e,$a=()=>{var e=te.useContext(q5);return e?e.store.dispatch:S8},M1=()=>{},E8=()=>M1,T8=(e,t)=>e===t;function Kr(e){var t=te.useContext(q5);return C8.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:E8,t?t.store.getState:M1,t?t.store.getState:M1,t?e:M1,T8)}function I8(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function F8(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function L8(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var e4=e=>Array.isArray(e)?e:[e];function U8(e){const t=Array.isArray(e[0])?e[0]:e;return L8(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function M8(e,t){const r=[],{length:n}=e;for(let s=0;s<n;s++)r.push(e[s].apply(null,t));return r}var P8=class{constructor(e){this.value=e}deref(){return this.value}},O8=typeof WeakRef<"u"?WeakRef:P8,D8=0,t4=1;function Nv(){return{s:D8,v:void 0,o:null,p:null}}function EU(e,t={}){let r=Nv();const{resultEqualityCheck:n}=t;let s,A=0;function f(){let l=r;const{length:y}=arguments;for(let C=0,F=y;C<F;C++){const T=arguments[C];if(typeof T=="function"||typeof T=="object"&&T!==null){let j=l.o;j===null&&(l.o=j=new WeakMap);const k=j.get(T);k===void 0?(l=Nv(),j.set(T,l)):l=k}else{let j=l.p;j===null&&(l.p=j=new Map);const k=j.get(T);k===void 0?(l=Nv(),j.set(T,l)):l=k}}const b=l;let w;if(l.s===t4)w=l.v;else if(w=e.apply(null,arguments),A++,n){const C=s?.deref?.()??s;C!=null&&n(C,w)&&(w=C,A!==0&&A--),s=typeof w=="object"&&w!==null||typeof w=="function"?new O8(w):w}return b.s=t4,b.v=w,w}return f.clearCache=()=>{r=Nv(),f.resetResultsCount()},f.resultsCount=()=>A,f.resetResultsCount=()=>{A=0},f}function k8(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...s)=>{let A=0,f=0,l,y={},b=s.pop();typeof b=="object"&&(y=b,b=s.pop()),I8(b,`createSelector expects an output function after the inputs, but received: [${typeof b}]`);const w={...r,...y},{memoize:C,memoizeOptions:F=[],argsMemoize:T=EU,argsMemoizeOptions:j=[]}=w,k=e4(F),H=e4(j),K=U8(s),Y=C(function(){return A++,b.apply(null,arguments)},...k),W=T(function(){f++;const Ae=M8(K,arguments);return l=Y.apply(null,Ae),l},...H);return Object.assign(W,{resultFunc:b,memoizedResultFunc:Y,dependencies:K,dependencyRecomputations:()=>f,resetDependencyRecomputations:()=>{f=0},lastResult:()=>l,recomputations:()=>A,resetRecomputations:()=>{A=0},memoize:C,argsMemoize:T})};return Object.assign(n,{withTypes:()=>n}),n}var Tt=k8(EU),N8=Object.assign((e,t=Tt)=>{F8(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(A=>e[A]);return t(n,(...A)=>A.reduce((f,l,y)=>(f[r[y]]=l,f),{}))},{withTypes:()=>N8}),mx={},gx={},yx={},r4;function Q8(){return r4||(r4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,s,A)=>{if(n!==s){const f=t(n),l=t(s);if(f===l&&f===0){if(n<s)return A==="desc"?1:-1;if(n>s)return A==="desc"?-1:1}return A==="desc"?l-f:f-l}return 0};e.compareValues=r})(yx)),yx}var vx={},_x={},n4;function TU(){return n4||(n4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(_x)),_x}var i4;function R8(){return i4||(i4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TU(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function s(A,f){return Array.isArray(A)?!1:typeof A=="number"||typeof A=="boolean"||A==null||t.isSymbol(A)?!0:typeof A=="string"&&(n.test(A)||!r.test(A))||f!=null&&Object.hasOwn(f,A)}e.isKey=s})(vx)),vx}var a4;function z8(){return a4||(a4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Q8(),r=R8(),n=z5();function s(A,f,l,y){if(A==null)return[];l=y?void 0:l,Array.isArray(A)||(A=Object.values(A)),Array.isArray(f)||(f=f==null?[null]:[f]),f.length===0&&(f=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(T=>String(T));const b=(T,j)=>{let k=T;for(let H=0;H<j.length&&k!=null;++H)k=k[j[H]];return k},w=(T,j)=>j==null||T==null?j:typeof T=="object"&&"key"in T?Object.hasOwn(j,T.key)?j[T.key]:b(j,T.path):typeof T=="function"?T(j):Array.isArray(T)?b(j,T):typeof j=="object"?j[T]:j,C=f.map(T=>(Array.isArray(T)&&T.length===1&&(T=T[0]),T==null||typeof T=="function"||Array.isArray(T)||r.isKey(T)?T:{key:T,path:n.toPath(T)}));return A.map(T=>({original:T,criteria:C.map(j=>w(j,T))})).slice().sort((T,j)=>{for(let k=0;k<C.length;k++){const H=t.compareValues(T.criteria[k],j.criteria[k],l[k]);if(H!==0)return H}return 0}).map(T=>T.original)}e.orderBy=s})(gx)),gx}var bx={},s4;function j8(){return s4||(s4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const s=[],A=Math.floor(n),f=(l,y)=>{for(let b=0;b<l.length;b++){const w=l[b];Array.isArray(w)&&y<A?f(w,y+1):s.push(w)}};return f(r,0),s}e.flatten=t})(bx)),bx}var wx={},o4;function IU(){return o4||(o4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CU(),r=V5(),n=yU(),s=_U();function A(f,l,y){return n.isObject(y)&&(typeof l=="number"&&r.isArrayLike(y)&&t.isIndex(l)&&l<y.length||typeof l=="string"&&l in y)?s.eq(y[l],f):!1}e.isIterateeCall=A})(wx)),wx}var l4;function H8(){return l4||(l4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z8(),r=j8(),n=IU();function s(A,...f){const l=f.length;return l>1&&n.isIterateeCall(A,f[0],f[1])?f=[]:l>2&&n.isIterateeCall(f[0],f[1],f[2])&&(f=[f[0]]),t.orderBy(A,r.flatten(f),["asc"])}e.sortBy=s})(mx)),mx}var xx,A4;function K8(){return A4||(A4=1,xx=H8().sortBy),xx}var V8=K8();const ub=Sh(V8);var FU=e=>e.legend.settings,q8=e=>e.legend.size,G8=e=>e.legend.payload,$8=Tt([G8,FU],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?ub(n,r):n});function X8(){return Kr($8)}var Qv=1;function LU(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=te.useState({height:0,left:0,top:0,width:0}),n=te.useCallback(s=>{if(s!=null){var A=s.getBoundingClientRect(),f={height:A.height,left:A.left,top:A.top,width:A.width};(Math.abs(f.height-t.height)>Qv||Math.abs(f.left-t.left)>Qv||Math.abs(f.top-t.top)>Qv||Math.abs(f.width-t.width)>Qv)&&r({height:f.height,left:f.left,top:f.top,width:f.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function nl(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Z8=typeof Symbol=="function"&&Symbol.observable||"@@observable",u4=Z8,Bx=()=>Math.random().toString(36).substring(7).split("").join("."),W8={INIT:`@@redux/INIT${Bx()}`,REPLACE:`@@redux/REPLACE${Bx()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Bx()}`},t_=W8;function G5(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function UU(e,t,r){if(typeof e!="function")throw new Error(nl(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(nl(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(nl(1));return r(UU)(e,t)}let n=e,s=t,A=new Map,f=A,l=0,y=!1;function b(){f===A&&(f=new Map,A.forEach((H,K)=>{f.set(K,H)}))}function w(){if(y)throw new Error(nl(3));return s}function C(H){if(typeof H!="function")throw new Error(nl(4));if(y)throw new Error(nl(5));let K=!0;b();const Y=l++;return f.set(Y,H),function(){if(K){if(y)throw new Error(nl(6));K=!1,b(),f.delete(Y),A=null}}}function F(H){if(!G5(H))throw new Error(nl(7));if(typeof H.type>"u")throw new Error(nl(8));if(typeof H.type!="string")throw new Error(nl(17));if(y)throw new Error(nl(9));try{y=!0,s=n(s,H)}finally{y=!1}return(A=f).forEach(Y=>{Y()}),H}function T(H){if(typeof H!="function")throw new Error(nl(10));n=H,F({type:t_.REPLACE})}function j(){const H=C;return{subscribe(K){if(typeof K!="object"||K===null)throw new Error(nl(11));function Y(){const ae=K;ae.next&&ae.next(w())}return Y(),{unsubscribe:H(Y)}},[u4](){return this}}}return F({type:t_.INIT}),{dispatch:F,subscribe:C,getState:w,replaceReducer:T,[u4]:j}}function Y8(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:t_.INIT})>"u")throw new Error(nl(12));if(typeof r(void 0,{type:t_.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(nl(13))})}function MU(e){const t=Object.keys(e),r={};for(let A=0;A<t.length;A++){const f=t[A];typeof e[f]=="function"&&(r[f]=e[f])}const n=Object.keys(r);let s;try{Y8(r)}catch(A){s=A}return function(f={},l){if(s)throw s;let y=!1;const b={};for(let w=0;w<n.length;w++){const C=n[w],F=r[C],T=f[C],j=F(T,l);if(typeof j>"u")throw l&&l.type,new Error(nl(14));b[C]=j,y=y||j!==T}return y=y||n.length!==Object.keys(f).length,y?b:f}}function r_(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function J8(...e){return t=>(r,n)=>{const s=t(r,n);let A=()=>{throw new Error(nl(15))};const f={getState:s.getState,dispatch:(y,...b)=>A(y,...b)},l=e.map(y=>y(f));return A=r_(...l)(s.dispatch),{...s,dispatch:A}}}function PU(e){return G5(e)&&"type"in e&&typeof e.type=="string"}var OU=Symbol.for("immer-nothing"),c4=Symbol.for("immer-draftable"),gA=Symbol.for("immer-state");function Pc(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Su=Object,$m=Su.getPrototypeOf,n_="constructor",cb="prototype",sB="configurable",i_="enumerable",P1="writable",V0="value",lf=e=>!!e&&!!e[gA];function xh(e){return e?DU(e)||hb(e)||!!e[c4]||!!e[n_]?.[c4]||fb(e)||db(e):!1}var eR=Su[cb][n_].toString(),h4=new WeakMap;function DU(e){if(!e||!$5(e))return!1;const t=$m(e);if(t===null||t===Su[cb])return!0;const r=Su.hasOwnProperty.call(t,n_)&&t[n_];if(r===Object)return!0;if(!Fm(r))return!1;let n=h4.get(r);return n===void 0&&(n=Function.toString.call(r),h4.set(r,n)),n===eR}function py(e,t,r=!0){my(e)===0?(r?Reflect.ownKeys(e):Su.keys(e)).forEach(s=>{t(s,e[s],e)}):e.forEach((n,s)=>t(s,n,e))}function my(e){const t=e[gA];return t?t.type_:hb(e)?1:fb(e)?2:db(e)?3:0}var f4=(e,t,r=my(e))=>r===2?e.has(t):Su[cb].hasOwnProperty.call(e,t),oB=(e,t,r=my(e))=>r===2?e.get(t):e[t],a_=(e,t,r,n=my(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function tR(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var hb=Array.isArray,fb=e=>e instanceof Map,db=e=>e instanceof Set,$5=e=>typeof e=="object",Fm=e=>typeof e=="function",Cx=e=>typeof e=="boolean",Zh=e=>e.copy_||e.base_,X5=e=>e.modified_?e.copy_:e.base_;function lB(e,t){if(fb(e))return new Map(e);if(db(e))return new Set(e);if(hb(e))return Array[cb].slice.call(e);const r=DU(e);if(t===!0||t==="class_only"&&!r){const n=Su.getOwnPropertyDescriptors(e);delete n[gA];let s=Reflect.ownKeys(n);for(let A=0;A<s.length;A++){const f=s[A],l=n[f];l[P1]===!1&&(l[P1]=!0,l[sB]=!0),(l.get||l.set)&&(n[f]={[sB]:!0,[P1]:!0,[i_]:l[i_],[V0]:e[f]})}return Su.create($m(e),n)}else{const n=$m(e);if(n!==null&&r)return{...e};const s=Su.create(n);return Su.assign(s,e)}}function Z5(e,t=!1){return pb(e)||lf(e)||(my(e)>1&&Su.defineProperties(e,{set:Rv,add:Rv,clear:Rv,delete:Rv}),Su.freeze(e),t&&py(e,(r,n)=>{Z5(n,!0)},!1)),e}function rR(){Pc(2)}var Rv={[V0]:rR};function pb(e){return e===null||!$5(e)?!0:Su.isFrozen(e)}var s_="MapSet",AB="Patches",kU={};function Xm(e){const t=kU[e];return t||Pc(0,e),t}var nR=e=>!!kU[e],q0,NU=()=>q0,iR=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:nR(s_)?Xm(s_):void 0});function d4(e,t){t&&(e.patchPlugin_=Xm(AB),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function uB(e){cB(e),e.drafts_.forEach(aR),e.drafts_=null}function cB(e){e===q0&&(q0=e.parent_)}var p4=e=>q0=iR(q0,e);function aR(e){const t=e[gA];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function m4(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[gA].modified_&&(uB(t),Pc(4)),xh(e)&&(e=g4(t,e));const{patchPlugin_:s}=t;s&&s.generateReplacementPatches_(r[gA].base_,e,t)}else e=g4(t,r);return sR(t,e,!0),uB(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==OU?e:void 0}function g4(e,t){if(pb(t))return t;const r=t[gA];if(!r)return W5(t,e.handledSet_,e);if(!mb(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);zU(r,e)}return r.copy_}function sR(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Z5(t,r)}function QU(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var mb=(e,t)=>e.scope_===t,oR=[];function RU(e,t,r,n){const s=Zh(e),A=e.type_;if(n!==void 0&&oB(s,n,A)===t){a_(s,n,r,A);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;py(s,(y,b)=>{if(lf(b)){const w=l.get(b)||[];w.push(y),l.set(b,w)}})}const f=e.draftLocations_.get(t)??oR;for(const l of f)a_(s,l,r,A)}function lR(e,t,r){e.callbacks_.push(function(s){const A=t;if(!A||!mb(A,s))return;s.mapSetPlugin_?.fixSetContents(A);const f=X5(A);RU(e,A.draft_??A,f,r),zU(A,s)})}function zU(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||(e.assigned_?.size??0)>0)){const{patchPlugin_:n}=t;if(n){const s=n.getPath(e);s&&n.generatePatches_(e,s,t)}QU(e)}}function AR(e,t,r){const{scope_:n}=e;if(lf(r)){const s=r[gA];mb(s,n)&&s.callbacks_.push(function(){O1(e);const f=X5(s);RU(e,r,f,t)})}else xh(r)&&e.callbacks_.push(function(){const A=Zh(e);oB(A,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&W5(oB(e.copy_,t,e.type_),n.handledSet_,n)})}function W5(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||lf(e)||t.has(e)||!xh(e)||pb(e)||(t.add(e),py(e,(n,s)=>{if(lf(s)){const A=s[gA];if(mb(A,r)){const f=X5(A);a_(e,n,f,e.type_),QU(A)}}else xh(s)&&W5(s,t,r)})),e}function uR(e,t){const r=hb(e),n={type_:r?1:0,scope_:t?t.scope_:NU(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let s=n,A=Y5;r&&(s=[n],A=G0);const{revoke:f,proxy:l}=Proxy.revocable(s,A);return n.draft_=l,n.revoke_=f,[l,n]}var Y5={get(e,t){if(t===gA)return e;const r=Zh(e);if(!f4(r,t,e.type_))return cR(e,r,t);const n=r[t];if(e.finalized_||!xh(n))return n;if(n===Sx(e.base_,t)){O1(e);const s=e.type_===1?+t:t,A=fB(e.scope_,n,e,s);return e.copy_[s]=A}return n},has(e,t){return t in Zh(e)},ownKeys(e){return Reflect.ownKeys(Zh(e))},set(e,t,r){const n=jU(Zh(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const s=Sx(Zh(e),t),A=s?.[gA];if(A&&A.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(tR(r,s)&&(r!==void 0||f4(e.base_,t,e.type_)))return!0;O1(e),hB(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),AR(e,t,r)),!0},deleteProperty(e,t){return O1(e),Sx(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),hB(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Zh(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[P1]:!0,[sB]:e.type_!==1||t!=="length",[i_]:n[i_],[V0]:r[t]}},defineProperty(){Pc(11)},getPrototypeOf(e){return $m(e.base_)},setPrototypeOf(){Pc(12)}},G0={};py(Y5,(e,t)=>{G0[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});G0.deleteProperty=function(e,t){return G0.set.call(this,e,t,void 0)};G0.set=function(e,t,r){return Y5.set.call(this,e[0],t,r,e[0])};function Sx(e,t){const r=e[gA];return(r?Zh(r):e)[t]}function cR(e,t,r){const n=jU(t,r);return n?V0 in n?n[V0]:n.get?.call(e.draft_):void 0}function jU(e,t){if(!(t in e))return;let r=$m(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=$m(r)}}function hB(e){e.modified_||(e.modified_=!0,e.parent_&&hB(e.parent_))}function O1(e){e.copy_||(e.assigned_=new Map,e.copy_=lB(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var hR=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,s)=>{if(Fm(r)&&!Fm(n)){const f=n;n=r;const l=this;return function(b=f,...w){return l.produce(b,C=>n.call(this,C,...w))}}Fm(n)||Pc(6),s!==void 0&&!Fm(s)&&Pc(7);let A;if(xh(r)){const f=p4(this),l=fB(f,r,void 0);let y=!0;try{A=n(l),y=!1}finally{y?uB(f):cB(f)}return d4(f,s),m4(A,f)}else if(!r||!$5(r)){if(A=n(r),A===void 0&&(A=r),A===OU&&(A=void 0),this.autoFreeze_&&Z5(A,!0),s){const f=[],l=[];Xm(AB).generateReplacementPatches_(r,A,{patches_:f,inversePatches_:l}),s(f,l)}return A}else Pc(1,r)},this.produceWithPatches=(r,n)=>{if(Fm(r))return(l,...y)=>this.produceWithPatches(l,b=>r(b,...y));let s,A;return[this.produce(r,n,(l,y)=>{s=l,A=y}),s,A]},Cx(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Cx(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Cx(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){xh(t)||Pc(8),lf(t)&&(t=kc(t));const r=p4(this),n=fB(r,t,void 0);return n[gA].isManual_=!0,cB(r),n}finishDraft(t,r){const n=t&&t[gA];(!n||!n.isManual_)&&Pc(9);const{scope_:s}=n;return d4(s,r),m4(void 0,s)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const A=r[n];if(A.path.length===0&&A.op==="replace"){t=A.value;break}}n>-1&&(r=r.slice(n+1));const s=Xm(AB).applyPatches_;return lf(t)?s(t,r):this.produce(t,A=>s(A,r))}};function fB(e,t,r,n){const[s,A]=fb(t)?Xm(s_).proxyMap_(t,r):db(t)?Xm(s_).proxySet_(t,r):uR(t,r);return(r?.scope_??NU()).drafts_.push(s),A.callbacks_=r?.callbacks_??[],A.key_=n,r&&n!==void 0?lR(r,A,n):A.callbacks_.push(function(y){y.mapSetPlugin_?.fixSetContents(A);const{patchPlugin_:b}=y;A.modified_&&b&&b.generatePatches_(A,[],y)}),s}function kc(e){return lf(e)||Pc(10,e),HU(e)}function HU(e){if(!xh(e)||pb(e))return e;const t=e[gA];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=lB(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=lB(e,!0);return py(r,(s,A)=>{a_(r,s,HU(A))},n),t&&(t.finalized_=!1),r}var fR=new hR,KU=fR.produce;function VU(e){return({dispatch:r,getState:n})=>s=>A=>typeof A=="function"?A(r,n,e):s(A)}var dR=VU(),pR=VU,mR=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?r_:r_.apply(null,arguments)};function oc(e,t){function r(...n){if(t){let s=t(...n);if(!s)throw new Error(Tu(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>PU(n)&&n.type===e,r}var qU=class E0 extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,E0.prototype)}static get[Symbol.species](){return E0}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new E0(...t[0].concat(this)):new E0(...t.concat(this))}};function y4(e){return xh(e)?KU(e,()=>{}):e}function zv(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function gR(e){return typeof e=="boolean"}var yR=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:s=!0,actionCreatorCheck:A=!0}=t??{};let f=new qU;return r&&(gR(r)?f.push(dR):f.push(pR(r.extraArgument))),f},GU="RTK_autoBatch",Da=()=>e=>({payload:e,meta:{[GU]:!0}}),v4=e=>t=>{setTimeout(t,e)},$U=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let s=!0,A=!1,f=!1;const l=new Set,y=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:v4(10):e.type==="callback"?e.queueNotification:v4(e.timeout),b=()=>{f=!1,A&&(A=!1,l.forEach(w=>w()))};return Object.assign({},n,{subscribe(w){const C=()=>s&&w(),F=n.subscribe(C);return l.add(w),()=>{F(),l.delete(w)}},dispatch(w){try{return s=!w?.meta?.[GU],A=!s,A&&(f||(f=!0,y(b))),n.dispatch(w)}finally{s=!0}}})},vR=e=>function(r){const{autoBatch:n=!0}=r??{};let s=new qU(e);return n&&s.push($U(typeof n=="object"?n:void 0)),s};function _R(e){const t=yR(),{reducer:r=void 0,middleware:n,devTools:s=!0,preloadedState:A=void 0,enhancers:f=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(G5(r))l=MU(r);else throw new Error(Tu(1));let y;typeof n=="function"?y=n(t):y=t();let b=r_;s&&(b=mR({trace:!1,...typeof s=="object"&&s}));const w=J8(...y),C=vR(w);let F=typeof f=="function"?f(C):C();const T=b(...F);return UU(l,A,T)}function XU(e){const t={},r=[];let n;const s={addCase(A,f){const l=typeof A=="string"?A:A.type;if(!l)throw new Error(Tu(28));if(l in t)throw new Error(Tu(29));return t[l]=f,s},addAsyncThunk(A,f){return f.pending&&(t[A.pending.type]=f.pending),f.rejected&&(t[A.rejected.type]=f.rejected),f.fulfilled&&(t[A.fulfilled.type]=f.fulfilled),f.settled&&r.push({matcher:A.settled,reducer:f.settled}),s},addMatcher(A,f){return r.push({matcher:A,reducer:f}),s},addDefaultCase(A){return n=A,s}};return e(s),[t,r,n]}function bR(e){return typeof e=="function"}function wR(e,t){let[r,n,s]=XU(t),A;if(bR(e))A=()=>y4(e());else{const l=y4(e);A=()=>l}function f(l=A(),y){let b=[r[y.type],...n.filter(({matcher:w})=>w(y)).map(({reducer:w})=>w)];return b.filter(w=>!!w).length===0&&(b=[s]),b.reduce((w,C)=>{if(C)if(lf(w)){const T=C(w,y);return T===void 0?w:T}else{if(xh(w))return KU(w,F=>C(F,y));{const F=C(w,y);if(F===void 0){if(w===null)return w;throw Error("A case reducer on a non-draftable value must not return undefined")}return F}}return w},l)}return f.getInitialState=A,f}var xR="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",BR=(e=21)=>{let t="",r=e;for(;r--;)t+=xR[Math.random()*64|0];return t},CR=Symbol.for("rtk-slice-createasyncthunk");function SR(e,t){return`${e}/${t}`}function ER({creators:e}={}){const t=e?.asyncThunk?.[CR];return function(n){const{name:s,reducerPath:A=s}=n;if(!s)throw new Error(Tu(11));const f=(typeof n.reducers=="function"?n.reducers(IR()):n.reducers)||{},l=Object.keys(f),y={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},b={addCase(W,ae){const Ae=typeof W=="string"?W:W.type;if(!Ae)throw new Error(Tu(12));if(Ae in y.sliceCaseReducersByType)throw new Error(Tu(13));return y.sliceCaseReducersByType[Ae]=ae,b},addMatcher(W,ae){return y.sliceMatchers.push({matcher:W,reducer:ae}),b},exposeAction(W,ae){return y.actionCreators[W]=ae,b},exposeCaseReducer(W,ae){return y.sliceCaseReducersByName[W]=ae,b}};l.forEach(W=>{const ae=f[W],Ae={reducerName:W,type:SR(s,W),createNotation:typeof n.reducers=="function"};LR(ae)?MR(Ae,ae,b,t):FR(Ae,ae,b)});function w(){const[W={},ae=[],Ae=void 0]=typeof n.extraReducers=="function"?XU(n.extraReducers):[n.extraReducers],pe={...W,...y.sliceCaseReducersByType};return wR(n.initialState,Be=>{for(let Fe in pe)Be.addCase(Fe,pe[Fe]);for(let Fe of y.sliceMatchers)Be.addMatcher(Fe.matcher,Fe.reducer);for(let Fe of ae)Be.addMatcher(Fe.matcher,Fe.reducer);Ae&&Be.addDefaultCase(Ae)})}const C=W=>W,F=new Map,T=new WeakMap;let j;function k(W,ae){return j||(j=w()),j(W,ae)}function H(){return j||(j=w()),j.getInitialState()}function K(W,ae=!1){function Ae(Be){let Fe=Be[W];return typeof Fe>"u"&&ae&&(Fe=zv(T,Ae,H)),Fe}function pe(Be=C){const Fe=zv(F,ae,()=>new WeakMap);return zv(Fe,Be,()=>{const me={};for(const[He,se]of Object.entries(n.selectors??{}))me[He]=TR(se,Be,()=>zv(T,Be,H),ae);return me})}return{reducerPath:W,getSelectors:pe,get selectors(){return pe(Ae)},selectSlice:Ae}}const Y={name:s,reducer:k,actions:y.actionCreators,caseReducers:y.sliceCaseReducersByName,getInitialState:H,...K(A),injectInto(W,{reducerPath:ae,...Ae}={}){const pe=ae??A;return W.inject({reducerPath:pe,reducer:k},Ae),{...Y,...K(pe,!0)}}};return Y}}function TR(e,t,r,n){function s(A,...f){let l=t(A);return typeof l>"u"&&n&&(l=r()),e(l,...f)}return s.unwrapped=e,s}var YA=ER();function IR(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function FR({type:e,reducerName:t,createNotation:r},n,s){let A,f;if("reducer"in n){if(r&&!UR(n))throw new Error(Tu(17));A=n.reducer,f=n.prepare}else A=n;s.addCase(e,A).exposeCaseReducer(t,A).exposeAction(t,f?oc(e,f):oc(e))}function LR(e){return e._reducerDefinitionType==="asyncThunk"}function UR(e){return e._reducerDefinitionType==="reducerWithPrepare"}function MR({type:e,reducerName:t},r,n,s){if(!s)throw new Error(Tu(18));const{payloadCreator:A,fulfilled:f,pending:l,rejected:y,settled:b,options:w}=r,C=s(e,A,w);n.exposeAction(t,C),f&&n.addCase(C.fulfilled,f),l&&n.addCase(C.pending,l),y&&n.addCase(C.rejected,y),b&&n.addMatcher(C.settled,b),n.exposeCaseReducer(t,{fulfilled:f||jv,pending:l||jv,rejected:y||jv,settled:b||jv})}function jv(){}var PR="task",ZU="listener",WU="completed",J5="cancelled",OR=`task-${J5}`,DR=`task-${WU}`,dB=`${ZU}-${J5}`,kR=`${ZU}-${WU}`,gb=class{constructor(e){this.code=e,this.message=`${PR} ${J5} (reason: ${e})`}name="TaskAbortError";message},eC=(e,t)=>{if(typeof e!="function")throw new TypeError(Tu(32))},o_=()=>{},YU=(e,t=o_)=>(e.catch(t),e),JU=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),bp=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},wp=e=>{if(e.aborted){const{reason:t}=e;throw new gb(t)}};function eM(e,t){let r=o_;return new Promise((n,s)=>{const A=()=>s(new gb(e.reason));if(e.aborted){A();return}r=JU(e,A),t.finally(()=>r()).then(n,s)}).finally(()=>{r=o_})}var NR=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof gb?"cancelled":"rejected",error:r}}finally{t?.()}},l_=e=>t=>YU(eM(e,t).then(r=>(wp(e),r))),tM=e=>{const t=l_(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Qm}=Object,_4={},yb="listenerMiddleware",QR=(e,t)=>{const r=n=>JU(e,()=>bp(n,e.reason));return(n,s)=>{eC(n);const A=new AbortController;r(A);const f=NR(async()=>{wp(e),wp(A.signal);const l=await n({pause:l_(A.signal),delay:tM(A.signal),signal:A.signal});return wp(A.signal),l},()=>bp(A,DR));return s?.autoJoin&&t.push(f.catch(o_)),{result:l_(e)(f),cancel(){bp(A,OR)}}}},RR=(e,t)=>{const r=async(n,s)=>{wp(t);let A=()=>{};const l=[new Promise((y,b)=>{let w=e({predicate:n,effect:(C,F)=>{F.unsubscribe(),y([C,F.getState(),F.getOriginalState()])}});A=()=>{w(),b()}})];s!=null&&l.push(new Promise(y=>setTimeout(y,s,null)));try{const y=await eM(t,Promise.race(l));return wp(t),y}finally{A()}};return(n,s)=>YU(r(n,s))},rM=e=>{let{type:t,actionCreator:r,matcher:n,predicate:s,effect:A}=e;if(t)s=oc(t).match;else if(r)t=r.type,s=r.match;else if(n)s=n;else if(!s)throw new Error(Tu(21));return eC(A),{predicate:s,type:t,effect:A}},nM=Qm(e=>{const{type:t,predicate:r,effect:n}=rM(e);return{id:BR(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Tu(22))}}},{withTypes:()=>nM}),b4=(e,t)=>{const{type:r,effect:n,predicate:s}=rM(t);return Array.from(e.values()).find(A=>(typeof r=="string"?A.type===r:A.predicate===s)&&A.effect===n)},pB=e=>{e.pending.forEach(t=>{bp(t,dB)})},zR=(e,t)=>()=>{for(const r of t.keys())pB(r);e.clear()},w4=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},iM=Qm(oc(`${yb}/add`),{withTypes:()=>iM}),jR=oc(`${yb}/removeAll`),aM=Qm(oc(`${yb}/remove`),{withTypes:()=>aM}),HR=(...e)=>{console.error(`${yb}/error`,...e)},gy=(e={})=>{const t=new Map,r=new Map,n=T=>{const j=r.get(T)??0;r.set(T,j+1)},s=T=>{const j=r.get(T)??1;j===1?r.delete(T):r.set(T,j-1)},{extra:A,onError:f=HR}=e;eC(f);const l=T=>(T.unsubscribe=()=>t.delete(T.id),t.set(T.id,T),j=>{T.unsubscribe(),j?.cancelActive&&pB(T)}),y=T=>{const j=b4(t,T)??nM(T);return l(j)};Qm(y,{withTypes:()=>y});const b=T=>{const j=b4(t,T);return j&&(j.unsubscribe(),T.cancelActive&&pB(j)),!!j};Qm(b,{withTypes:()=>b});const w=async(T,j,k,H)=>{const K=new AbortController,Y=RR(y,K.signal),W=[];try{T.pending.add(K),n(T),await Promise.resolve(T.effect(j,Qm({},k,{getOriginalState:H,condition:(ae,Ae)=>Y(ae,Ae).then(Boolean),take:Y,delay:tM(K.signal),pause:l_(K.signal),extra:A,signal:K.signal,fork:QR(K.signal,W),unsubscribe:T.unsubscribe,subscribe:()=>{t.set(T.id,T)},cancelActiveListeners:()=>{T.pending.forEach((ae,Ae,pe)=>{ae!==K&&(bp(ae,dB),pe.delete(ae))})},cancel:()=>{bp(K,dB),T.pending.delete(K)},throwIfCancelled:()=>{wp(K.signal)}})))}catch(ae){ae instanceof gb||w4(f,ae,{raisedBy:"effect"})}finally{await Promise.all(W),bp(K,kR),s(T),T.pending.delete(K)}},C=zR(t,r);return{middleware:T=>j=>k=>{if(!PU(k))return j(k);if(iM.match(k))return y(k.payload);if(jR.match(k)){C();return}if(aM.match(k))return b(k.payload);let H=T.getState();const K=()=>{if(H===_4)throw new Error(Tu(23));return H};let Y;try{if(Y=j(k),t.size>0){const W=T.getState(),ae=Array.from(t.values());for(const Ae of ae){let pe=!1;try{pe=Ae.predicate(k,W,H)}catch(Be){pe=!1,w4(f,Be,{raisedBy:"predicate"})}pe&&w(Ae,k,T,K)}}}finally{H=_4}return Y},startListening:y,stopListening:b,clearListeners:C}};function Tu(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var KR={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},sM=YA({name:"chartLayout",initialState:KR,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,s,A;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(s=t.payload.bottom)!==null&&s!==void 0?s:0,e.margin.left=(A=t.payload.left)!==null&&A!==void 0?A:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:VR,setLayout:qR,setChartSize:GR,setScale:$R}=sM.actions,XR=sM.reducer;function oM(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function x4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Om(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x4(Object(r),!0).forEach(function(n){ZR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZR(e,t,r){return(t=WR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WR(e){var t=YR(e,"string");return typeof t=="symbol"?t:t+""}function YR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function po(e,t,r){return Na(e)||Na(t)?r:wh(t)?Gm(e,t,r):typeof t=="function"?t(e):r}var JR=(e,t,r)=>{if(t&&r){var{width:n,height:s}=r,{align:A,verticalAlign:f,layout:l}=t;if((l==="vertical"||l==="horizontal"&&f==="middle")&&A!=="center"&&Qr(e[A]))return Om(Om({},e),{},{[A]:e[A]+(n||0)});if((l==="horizontal"||l==="vertical"&&A==="center")&&f!=="middle"&&Qr(e[f]))return Om(Om({},e),{},{[f]:e[f]+(s||0)})}return e},xd=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",lM=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var s,A,f=e.map(l=>(l.coordinate===t&&(s=!0),l.coordinate===r&&(A=!0),l.coordinate));return s||f.push(t),A||f.push(r),f},AM=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:s,range:A,scale:f,realScaleType:l,isCategorical:y,categoricalDomain:b,tickCount:w,ticks:C,niceTicks:F,axisType:T}=e;if(!f)return null;var j=l==="scaleBand"&&f.bandwidth?f.bandwidth()/2:2,k=s==="category"&&f.bandwidth?f.bandwidth()/j:0;if(k=T==="angleAxis"&&A&&A.length>=2?ZA(A[0]-A[1])*2*k:k,C||F){var H=(C||F||[]).map((K,Y)=>{var W=n?n.indexOf(K):K;return{coordinate:f(W)+k,value:K,offset:k,index:Y}});return H.filter(K=>!Qc(K.coordinate))}return y&&b?b.map((K,Y)=>({coordinate:f(K)+k,value:K,index:Y,offset:k})):f.ticks&&w!=null?f.ticks(w).map((K,Y)=>({coordinate:f(K)+k,value:K,offset:k,index:Y})):f.domain().map((K,Y)=>({coordinate:f(K)+k,value:n?n[K]:K,index:Y,offset:k}))},B4=1e-4,ez=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),s=Math.min(n[0],n[1])-B4,A=Math.max(n[0],n[1])+B4,f=e(t[0]),l=e(t[r-1]);(f<s||f>A||l<s||l>A)&&e.domain([t[0],t[r-1]])}},tz=(e,t)=>{if(!t||t.length!==2||!Qr(t[0])||!Qr(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),s=[e[0],e[1]];return(!Qr(e[0])||e[0]<r)&&(s[0]=r),(!Qr(e[1])||e[1]>n)&&(s[1]=n),s[0]>n&&(s[0]=n),s[1]<r&&(s[1]=r),s},rz=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,A=0,f=0;f<t;++f){var l=Qc(e[f][r][1])?e[f][r][0]:e[f][r][1];l>=0?(e[f][r][0]=s,e[f][r][1]=s+l,s=e[f][r][1]):(e[f][r][0]=A,e[f][r][1]=A+l,A=e[f][r][1])}},nz=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,A=0;A<t;++A){var f=Qc(e[A][r][1])?e[A][r][0]:e[A][r][1];f>=0?(e[A][r][0]=s,e[A][r][1]=s+f,s=e[A][r][1]):(e[A][r][0]=0,e[A][r][1]=0)}},iz={sign:rz,expand:BQ,none:qm,silhouette:CQ,wiggle:SQ,positive:nz},az=(e,t,r)=>{var n=iz[r],s=xQ().keys(t).value((A,f)=>Number(po(A,f,0))).order(iB).offset(n);return s(e)};function sz(e){return e==null?void 0:String(e)}function C4(e){var{axis:t,ticks:r,bandSize:n,entry:s,index:A,dataKey:f}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Na(s[t.dataKey])){var l=dU(r,"value",s[t.dataKey]);if(l)return l.coordinate+n/2}return r[A]?r[A].coordinate+n/2:null}var y=po(s,Na(f)?t.dataKey:f);return Na(y)?null:t.scale(y)}var S4=e=>{var{axis:t,ticks:r,offset:n,bandSize:s,entry:A,index:f}=e;if(t.type==="category")return r[f]?r[f].coordinate+n:null;var l=po(A,t.dataKey,t.scale.domain()[f]);return Na(l)?null:t.scale(l)-s/2+n},oz=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return n<=0&&s>=0?0:s<0?s:n}return r[0]},lz=e=>{var t=e.flat(2).filter(Qr);return[Math.min(...t),Math.max(...t)]},Az=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],uz=(e,t,r)=>{if(e!=null)return Az(Object.keys(e).reduce((n,s)=>{var A=e[s],{stackedData:f}=A,l=f.reduce((y,b)=>{var w=oM(b,t,r),C=lz(w);return[Math.min(y[0],C[0]),Math.max(y[1],C[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},E4=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,T4=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Zm=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var s=ub(t,w=>w.coordinate),A=1/0,f=1,l=s.length;f<l;f++){var y=s[f],b=s[f-1];A=Math.min((y.coordinate||0)-(b.coordinate||0),A)}return A===1/0?0:A}return r?void 0:0};function I4(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:s,name:A}=e;return Om(Om({},t),{},{dataKey:r,payload:n,value:s,name:A})}function vb(e,t){if(e)return String(e);if(typeof t=="string")return t}var cz=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},hz=(e,t)=>t==="centric"?e.angle:e.radius,pf=e=>e.layout.width,mf=e=>e.layout.height,fz=e=>e.layout.scale,uM=e=>e.layout.margin,_b=Tt(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),bb=Tt(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),dz="data-recharts-item-index",pz="data-recharts-item-data-key",yy=60;function F4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Hv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F4(Object(r),!0).forEach(function(n){mz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mz(e,t,r){return(t=gz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gz(e){var t=yz(e,"string");return typeof t=="symbol"?t:t+""}function yz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vz=e=>e.brush.height;function _z(e){var t=bb(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var s=typeof n.width=="number"?n.width:yy;return r+s}return r},0)}function bz(e){var t=bb(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var s=typeof n.width=="number"?n.width:yy;return r+s}return r},0)}function wz(e){var t=_b(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function xz(e){var t=_b(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var No=Tt([pf,mf,uM,vz,_z,bz,wz,xz,FU,q8],(e,t,r,n,s,A,f,l,y,b)=>{var w={left:(r.left||0)+s,right:(r.right||0)+A},C={top:(r.top||0)+f,bottom:(r.bottom||0)+l},F=Hv(Hv({},C),w),T=F.bottom;F.bottom+=n,F=JR(F,y,b);var j=e-F.left-F.right,k=t-F.top-F.bottom;return Hv(Hv({brushBottom:T},F),{},{width:Math.max(j,0),height:Math.max(k,0)})}),Bz=Tt(No,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),tC=Tt(pf,mf,(e,t)=>({x:0,y:0,width:e,height:t})),Cz=te.createContext(null),Kl=()=>te.useContext(Cz)!=null,wb=e=>e.brush,xb=Tt([wb,No,uM],(e,t,r)=>({height:e.height,x:Qr(e.x)?e.x:t.left,y:Qr(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:Qr(e.width)?e.width:t.width})),Ex={},Tx={},Ix={},L4;function Sz(){return L4||(L4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:s,edges:A}={}){let f,l=null;const y=A!=null&&A.includes("leading"),b=A==null||A.includes("trailing"),w=()=>{l!==null&&(r.apply(f,l),f=void 0,l=null)},C=()=>{b&&w(),k()};let F=null;const T=()=>{F!=null&&clearTimeout(F),F=setTimeout(()=>{F=null,C()},n)},j=()=>{F!==null&&(clearTimeout(F),F=null)},k=()=>{j(),f=void 0,l=null},H=()=>{w()},K=function(...Y){if(s?.aborted)return;f=this,l=Y;const W=F==null;T(),y&&W&&w()};return K.schedule=T,K.cancel=k,K.flush=H,s?.addEventListener("abort",k,{once:!0}),K}e.debounce=t})(Ix)),Ix}var U4;function Ez(){return U4||(U4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Sz();function r(n,s=0,A={}){typeof A!="object"&&(A={});const{leading:f=!1,trailing:l=!0,maxWait:y}=A,b=Array(2);f&&(b[0]="leading"),l&&(b[1]="trailing");let w,C=null;const F=t.debounce(function(...k){w=n.apply(this,k),C=null},s,{edges:b}),T=function(...k){return y!=null&&(C===null&&(C=Date.now()),Date.now()-C>=y)?(w=n.apply(this,k),C=Date.now(),F.cancel(),F.schedule(),w):(F.apply(this,k),w)},j=()=>(F.flush(),w);return T.cancel=F.cancel,T.flush=j,T}e.debounce=r})(Tx)),Tx}var M4;function Tz(){return M4||(M4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ez();function r(n,s=0,A={}){const{leading:f=!0,trailing:l=!0}=A;return t.debounce(n,s,{leading:f,maxWait:s,trailing:l})}e.throttle=r})(Ex)),Ex}var Fx,P4;function Iz(){return P4||(P4=1,Fx=Tz().throttle),Fx}var Fz=Iz();const Lz=Sh(Fz);var A_=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),A=2;A<n;A++)s[A-2]=arguments[A];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=0;console.warn(r.replace(/%s/g,()=>s[f++]))}},cM=(e,t,r)=>{var{width:n="100%",height:s="100%",aspect:A,maxHeight:f}=r,l=of(n)?e:Number(n),y=of(s)?t:Number(s);return A&&A>0&&(l?y=l/A:y&&(l=y*A),f&&y!=null&&y>f&&(y=f)),{calculatedWidth:l,calculatedHeight:y}},Uz={width:0,height:0,overflow:"visible"},Mz={width:0,overflowX:"visible"},Pz={height:0,overflowY:"visible"},Oz={},Dz=e=>{var{width:t,height:r}=e,n=of(t),s=of(r);return n&&s?Uz:n?Mz:s?Pz:Oz};function kz(e){var{width:t,height:r,aspect:n}=e,s=t,A=r;return s===void 0&&A===void 0?(s="100%",A="100%"):s===void 0?s=n&&n>0?void 0:"100%":A===void 0&&(A=n&&n>0?void 0:"100%"),{width:s,height:A}}function Is(e){return Number.isFinite(e)}function Bh(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function mB(){return mB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mB.apply(null,arguments)}function O4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function D4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O4(Object(r),!0).forEach(function(n){Nz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nz(e,t,r){return(t=Qz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qz(e){var t=Rz(e,"string");return typeof t=="symbol"?t:t+""}function Rz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hM=te.createContext({width:-1,height:-1});function zz(e){return Bh(e.width)&&Bh(e.height)}function fM(e){var{children:t,width:r,height:n}=e,s=te.useMemo(()=>({width:r,height:n}),[r,n]);return zz(s)?te.createElement(hM.Provider,{value:s},t):null}var rC=()=>te.useContext(hM),jz=te.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:s,height:A,minWidth:f=0,minHeight:l,maxHeight:y,children:b,debounce:w=0,id:C,className:F,onResize:T,style:j={}}=e,k=te.useRef(null),H=te.useRef();H.current=T,te.useImperativeHandle(t,()=>k.current);var[K,Y]=te.useState({containerWidth:n.width,containerHeight:n.height}),W=te.useCallback((Fe,me)=>{Y(He=>{var se=Math.round(Fe),de=Math.round(me);return He.containerWidth===se&&He.containerHeight===de?He:{containerWidth:se,containerHeight:de}})},[]);te.useEffect(()=>{if(k.current==null||typeof ResizeObserver>"u")return dy;var Fe=de=>{var Le,{width:Ue,height:nt}=de[0].contentRect;W(Ue,nt),(Le=H.current)===null||Le===void 0||Le.call(H,Ue,nt)};w>0&&(Fe=Lz(Fe,w,{trailing:!0,leading:!1}));var me=new ResizeObserver(Fe),{width:He,height:se}=k.current.getBoundingClientRect();return W(He,se),me.observe(k.current),()=>{me.disconnect()}},[W,w]);var{containerWidth:ae,containerHeight:Ae}=K;A_(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:pe,calculatedHeight:Be}=cM(ae,Ae,{width:s,height:A,aspect:r,maxHeight:y});return A_(pe!=null&&pe>0||Be!=null&&Be>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,pe,Be,s,A,f,l,r),te.createElement("div",{id:C?"".concat(C):void 0,className:zi("recharts-responsive-container",F),style:D4(D4({},j),{},{width:s,height:A,minWidth:f,minHeight:l,maxHeight:y}),ref:k},te.createElement("div",{style:Dz({width:s,height:A})},te.createElement(fM,{width:pe,height:Be},b)))}),u_=te.forwardRef((e,t)=>{var r=rC();if(Bh(r.width)&&Bh(r.height))return e.children;var{width:n,height:s}=kz({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:A,calculatedHeight:f}=cM(void 0,void 0,{width:n,height:s,aspect:e.aspect,maxHeight:e.maxHeight});return Qr(A)&&Qr(f)?te.createElement(fM,{width:A,height:f},e.children):te.createElement(jz,mB({},e,{width:n,height:s,ref:t}))});function dM(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Bb=()=>{var e,t=Kl(),r=Kr(Bz),n=Kr(xb),s=(e=Kr(wb))===null||e===void 0?void 0:e.padding;return!t||!n||!s?r:{width:n.width-s.left-s.right,height:n.height-s.top-s.bottom,x:s.left,y:s.top}},Hz={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},pM=()=>{var e;return(e=Kr(No))!==null&&e!==void 0?e:Hz},nC=()=>Kr(pf),iC=()=>Kr(mf),Kz=()=>Kr(e=>e.layout.margin),Ci=e=>e.layout.layoutType,vy=()=>Kr(Ci),Vz=()=>{var e=vy();return e!==void 0},Cb=e=>{var t=$a(),r=Kl(),{width:n,height:s}=e,A=rC(),f=n,l=s;return A&&(f=A.width>0?A.width:n,l=A.height>0?A.height:s),te.useEffect(()=>{!r&&Bh(f)&&Bh(l)&&t(GR({width:f,height:l}))},[t,r,f,l]),null},mM=Symbol.for("immer-nothing"),k4=Symbol.for("immer-draftable"),Iu=Symbol.for("immer-state");function Oc(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var $0=Object.getPrototypeOf;function Wm(e){return!!e&&!!e[Iu]}function Tp(e){return e?gM(e)||Array.isArray(e)||!!e[k4]||!!e.constructor?.[k4]||_y(e)||Eb(e):!1}var qz=Object.prototype.constructor.toString(),N4=new WeakMap;function gM(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=N4.get(r);return n===void 0&&(n=Function.toString.call(r),N4.set(r,n)),n===qz}function c_(e,t,r=!0){Sb(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(s=>{t(s,e[s],e)}):e.forEach((n,s)=>t(s,n,e))}function Sb(e){const t=e[Iu];return t?t.type_:Array.isArray(e)?1:_y(e)?2:Eb(e)?3:0}function gB(e,t){return Sb(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function yM(e,t,r){const n=Sb(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function Gz(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function _y(e){return e instanceof Map}function Eb(e){return e instanceof Set}function cp(e){return e.copy_||e.base_}function yB(e,t){if(_y(e))return new Map(e);if(Eb(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=gM(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Iu];let s=Reflect.ownKeys(n);for(let A=0;A<s.length;A++){const f=s[A],l=n[f];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[f]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[f]})}return Object.create($0(e),n)}else{const n=$0(e);if(n!==null&&r)return{...e};const s=Object.create(n);return Object.assign(s,e)}}function aC(e,t=!1){return Tb(e)||Wm(e)||!Tp(e)||(Sb(e)>1&&Object.defineProperties(e,{set:Kv,add:Kv,clear:Kv,delete:Kv}),Object.freeze(e),t&&Object.values(e).forEach(r=>aC(r,!0))),e}function $z(){Oc(2)}var Kv={value:$z};function Tb(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var Xz={};function Ip(e){const t=Xz[e];return t||Oc(0,e),t}var X0;function vM(){return X0}function Zz(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Q4(e,t){t&&(Ip("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function vB(e){_B(e),e.drafts_.forEach(Wz),e.drafts_=null}function _B(e){e===X0&&(X0=e.parent_)}function R4(e){return X0=Zz(X0,e)}function Wz(e){const t=e[Iu];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function z4(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Iu].modified_&&(vB(t),Oc(4)),Tp(e)&&(e=h_(t,e),t.parent_||f_(t,e)),t.patches_&&Ip("Patches").generateReplacementPatches_(r[Iu].base_,e,t.patches_,t.inversePatches_)):e=h_(t,r,[]),vB(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==mM?e:void 0}function h_(e,t,r){if(Tb(t))return t;const n=e.immer_.shouldUseStrictIteration(),s=t[Iu];if(!s)return c_(t,(A,f)=>j4(e,s,t,A,f,r),n),t;if(s.scope_!==e)return t;if(!s.modified_)return f_(e,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const A=s.copy_;let f=A,l=!1;s.type_===3&&(f=new Set(A),A.clear(),l=!0),c_(f,(y,b)=>j4(e,s,A,y,b,r,l),n),f_(e,A,!1),r&&e.patches_&&Ip("Patches").generatePatches_(s,r,e.patches_,e.inversePatches_)}return s.copy_}function j4(e,t,r,n,s,A,f){if(s==null||typeof s!="object"&&!f)return;const l=Tb(s);if(!(l&&!f)){if(Wm(s)){const y=A&&t&&t.type_!==3&&!gB(t.assigned_,n)?A.concat(n):void 0,b=h_(e,s,y);if(yM(r,n,b),Wm(b))e.canAutoFreeze_=!1;else return}else f&&r.add(s);if(Tp(s)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===s&&l)return;h_(e,s),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(_y(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&f_(e,s)}}}function f_(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&aC(t,r)}function Yz(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:vM(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=n,A=sC;r&&(s=[n],A=Z0);const{revoke:f,proxy:l}=Proxy.revocable(s,A);return n.draft_=l,n.revoke_=f,l}var sC={get(e,t){if(t===Iu)return e;const r=cp(e);if(!gB(r,t))return Jz(e,r,t);const n=r[t];return e.finalized_||!Tp(n)?n:n===Lx(e.base_,t)?(Ux(e),e.copy_[t]=wB(n,e)):n},has(e,t){return t in cp(e)},ownKeys(e){return Reflect.ownKeys(cp(e))},set(e,t,r){const n=_M(cp(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const s=Lx(cp(e),t),A=s?.[Iu];if(A&&A.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(Gz(r,s)&&(r!==void 0||gB(e.base_,t)))return!0;Ux(e),bB(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Lx(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Ux(e),bB(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=cp(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Oc(11)},getPrototypeOf(e){return $0(e.base_)},setPrototypeOf(){Oc(12)}},Z0={};c_(sC,(e,t)=>{Z0[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Z0.deleteProperty=function(e,t){return Z0.set.call(this,e,t,void 0)};Z0.set=function(e,t,r){return sC.set.call(this,e[0],t,r,e[0])};function Lx(e,t){const r=e[Iu];return(r?cp(r):e)[t]}function Jz(e,t,r){const n=_M(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function _M(e,t){if(!(t in e))return;let r=$0(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=$0(r)}}function bB(e){e.modified_||(e.modified_=!0,e.parent_&&bB(e.parent_))}function Ux(e){e.copy_||(e.copy_=yB(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var ej=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const A=r;r=t;const f=this;return function(y=A,...b){return f.produce(y,w=>r.call(this,w,...b))}}typeof r!="function"&&Oc(6),n!==void 0&&typeof n!="function"&&Oc(7);let s;if(Tp(t)){const A=R4(this),f=wB(t,void 0);let l=!0;try{s=r(f),l=!1}finally{l?vB(A):_B(A)}return Q4(A,n),z4(s,A)}else if(!t||typeof t!="object"){if(s=r(t),s===void 0&&(s=t),s===mM&&(s=void 0),this.autoFreeze_&&aC(s,!0),n){const A=[],f=[];Ip("Patches").generateReplacementPatches_(t,s,A,f),n(A,f)}return s}else Oc(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(f,...l)=>this.produceWithPatches(f,y=>t(y,...l));let n,s;return[this.produce(t,r,(f,l)=>{n=f,s=l}),n,s]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Tp(e)||Oc(8),Wm(e)&&(e=tj(e));const t=R4(this),r=wB(e,void 0);return r[Iu].isManual_=!0,_B(t),r}finishDraft(e,t){const r=e&&e[Iu];(!r||!r.isManual_)&&Oc(9);const{scope_:n}=r;return Q4(n,t),z4(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const s=t[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(t=t.slice(r+1));const n=Ip("Patches").applyPatches_;return Wm(e)?n(e,t):this.produce(e,s=>n(s,t))}};function wB(e,t){const r=_y(e)?Ip("MapSet").proxyMap_(e,t):Eb(e)?Ip("MapSet").proxySet_(e,t):Yz(e,t);return(t?t.scope_:vM()).drafts_.push(r),r}function tj(e){return Wm(e)||Oc(10,e),bM(e)}function bM(e){if(!Tp(e)||Tb(e))return e;const t=e[Iu];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=yB(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=yB(e,!0);return c_(r,(s,A)=>{yM(r,s,bM(A))},n),t&&(t.finalized_=!1),r}var rj=new ej;rj.produce;var nj={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},wM=YA({name:"legend",initialState:nj,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Da()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,s=kc(e).payload.indexOf(r);s>-1&&(e.payload[s]=n)},prepare:Da()},removeLegendPayload:{reducer(e,t){var r=kc(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Da()}}}),{setLegendSize:H4,setLegendSettings:ij,addLegendPayload:aj,replaceLegendPayload:sj,removeLegendPayload:oj}=wM.actions,lj=wM.reducer,Aj=["contextPayload"];function xB(){return xB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xB.apply(null,arguments)}function K4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ym(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K4(Object(r),!0).forEach(function(n){uj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uj(e,t,r){return(t=cj(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cj(e){var t=hj(e,"string");return typeof t=="symbol"?t:t+""}function hj(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fj(e,t){if(e==null)return{};var r,n,s=dj(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function dj(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function pj(e){return e.value}function mj(e){var{contextPayload:t}=e,r=fj(e,Aj),n=SU(t,e.payloadUniqBy,pj),s=Ym(Ym({},r),{},{payload:n});return te.isValidElement(e.content)?te.cloneElement(e.content,s):typeof e.content=="function"?te.createElement(e.content,s):te.createElement(t8,s)}function gj(e,t,r,n,s,A){var{layout:f,align:l,verticalAlign:y}=t,b,w;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&f==="vertical"?b={left:((n||0)-A.width)/2}:b=l==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(y==="middle"?w={top:((s||0)-A.height)/2}:w=y==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Ym(Ym({},b),w)}function yj(e){var t=$a();return te.useEffect(()=>{t(ij(e))},[t,e]),null}function vj(e){var t=$a();return te.useEffect(()=>(t(H4(e)),()=>{t(H4({width:0,height:0}))}),[t,e]),null}function _j(e,t,r,n){return e==="vertical"&&Qr(t)?{height:t}:e==="horizontal"?{width:r||n}:null}var bj={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function oC(e){var t=ol(e,bj),r=X8(),n=GN(),s=Kz(),{width:A,height:f,wrapperStyle:l,portal:y}=t,[b,w]=LU([r]),C=nC(),F=iC();if(C==null||F==null)return null;var T=C-(s?.left||0)-(s?.right||0),j=_j(t.layout,f,A,T),k=y?l:Ym(Ym({position:"absolute",width:j?.width||A||"auto",height:j?.height||f||"auto"},gj(l,t,s,C,F,b)),l),H=y??n;if(H==null||r==null)return null;var K=te.createElement("div",{className:"recharts-legend-wrapper",style:k,ref:w},te.createElement(yj,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!y&&te.createElement(vj,{width:b.width,height:b.height}),te.createElement(mj,xB({},t,j,{margin:s,chartWidth:C,chartHeight:F,contextPayload:r})));return D5.createPortal(K,H)}oC.displayName="Legend";function BB(){return BB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},BB.apply(null,arguments)}function V4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Mx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V4(Object(r),!0).forEach(function(n){wj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wj(e,t,r){return(t=xj(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xj(e){var t=Bj(e,"string");return typeof t=="symbol"?t:t+""}function Bj(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cj(e){return Array.isArray(e)&&wh(e[0])&&wh(e[1])?e.join(" ~ "):e}var Sj=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:s={},payload:A,formatter:f,itemSorter:l,wrapperClassName:y,labelClassName:b,label:w,labelFormatter:C,accessibilityLayer:F=!1}=e,T=()=>{if(A&&A.length){var Ae={padding:0,margin:0},pe=(l?ub(A,l):A).map((Be,Fe)=>{if(Be.type==="none")return null;var me=Be.formatter||f||Cj,{value:He,name:se}=Be,de=He,Le=se;if(me){var Ue=me(He,se,Be,Fe,A);if(Array.isArray(Ue))[de,Le]=Ue;else if(Ue!=null)de=Ue;else return null}var nt=Mx({display:"block",paddingTop:4,paddingBottom:4,color:Be.color||"#000"},n);return te.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Fe),style:nt},wh(Le)?te.createElement("span",{className:"recharts-tooltip-item-name"},Le):null,wh(Le)?te.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,te.createElement("span",{className:"recharts-tooltip-item-value"},de),te.createElement("span",{className:"recharts-tooltip-item-unit"},Be.unit||""))});return te.createElement("ul",{className:"recharts-tooltip-item-list",style:Ae},pe)}return null},j=Mx({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),k=Mx({margin:0},s),H=!Na(w),K=H?w:"",Y=zi("recharts-default-tooltip",y),W=zi("recharts-tooltip-label",b);H&&C&&A!==void 0&&A!==null&&(K=C(w,A));var ae=F?{role:"status","aria-live":"assertive"}:{};return te.createElement("div",BB({className:Y,style:j},ae),te.createElement("p",{className:W,style:k},te.isValidElement(K)?K:"".concat(K)),T())},f0="recharts-tooltip-wrapper",Ej={visibility:"hidden"};function Tj(e){var{coordinate:t,translateX:r,translateY:n}=e;return zi(f0,{["".concat(f0,"-right")]:Qr(r)&&t&&Qr(t.x)&&r>=t.x,["".concat(f0,"-left")]:Qr(r)&&t&&Qr(t.x)&&r<t.x,["".concat(f0,"-bottom")]:Qr(n)&&t&&Qr(t.y)&&n>=t.y,["".concat(f0,"-top")]:Qr(n)&&t&&Qr(t.y)&&n<t.y})}function q4(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:s,position:A,reverseDirection:f,tooltipDimension:l,viewBox:y,viewBoxDimension:b}=e;if(A&&Qr(A[n]))return A[n];var w=r[n]-l-(s>0?s:0),C=r[n]+s;if(t[n])return f[n]?w:C;var F=y[n];if(F==null)return 0;if(f[n]){var T=w,j=F;return T<j?Math.max(C,F):Math.max(w,F)}if(b==null)return 0;var k=C+l,H=F+b;return k>H?Math.max(w,F):Math.max(C,F)}function Ij(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Fj(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:s,reverseDirection:A,tooltipBox:f,useTranslate3d:l,viewBox:y}=e,b,w,C;return f.height>0&&f.width>0&&r?(w=q4({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:A,tooltipDimension:f.width,viewBox:y,viewBoxDimension:y.width}),C=q4({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:A,tooltipDimension:f.height,viewBox:y,viewBoxDimension:y.height}),b=Ij({translateX:w,translateY:C,useTranslate3d:l})):b=Ej,{cssProperties:b,cssClasses:Tj({translateX:w,translateY:C,coordinate:r})}}function G4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Vv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G4(Object(r),!0).forEach(function(n){CB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CB(e,t,r){return(t=Lj(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lj(e){var t=Uj(e,"string");return typeof t=="symbol"?t:t+""}function Uj(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Mj extends te.PureComponent{constructor(){super(...arguments),CB(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),CB(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,s,A;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(s=(A=this.props.coordinate)===null||A===void 0?void 0:A.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:s,children:A,coordinate:f,hasPayload:l,isAnimationActive:y,offset:b,position:w,reverseDirection:C,useTranslate3d:F,viewBox:T,wrapperStyle:j,lastBoundingBox:k,innerRef:H,hasPortalFromProps:K}=this.props,{cssClasses:Y,cssProperties:W}=Fj({allowEscapeViewBox:r,coordinate:f,offsetTopLeft:b,position:w,reverseDirection:C,tooltipBox:{height:k.height,width:k.width},useTranslate3d:F,viewBox:T}),ae=K?{}:Vv(Vv({transition:y&&t?"transform ".concat(n,"ms ").concat(s):void 0},W),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),Ae=Vv(Vv({},ae),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},j);return te.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:Y,style:Ae,ref:H},A)}}var Pj=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),ig={devToolsEnabled:!1,isSsr:Pj()},xM=()=>{var e;return(e=Kr(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function SB(){return SB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},SB.apply(null,arguments)}function $4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function X4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$4(Object(r),!0).forEach(function(n){Oj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oj(e,t,r){return(t=Dj(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dj(e){var t=kj(e,"string");return typeof t=="symbol"?t:t+""}function kj(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Z4={curveBasisClosed:hQ,curveBasisOpen:fQ,curveBasis:cQ,curveBumpX:WN,curveBumpY:YN,curveLinearClosed:dQ,curveLinear:ob,curveMonotoneX:pQ,curveMonotoneY:mQ,curveNatural:gQ,curveStep:yQ,curveStepAfter:_Q,curveStepBefore:vQ},d_=e=>Is(e.x)&&Is(e.y),W4=e=>e.base!=null&&d_(e.base)&&d_(e),d0=e=>e.x,p0=e=>e.y,Nj=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(fy(e));return(r==="curveMonotone"||r==="curveBump")&&t?Z4["".concat(r).concat(t==="vertical"?"Y":"X")]:Z4[r]||ob},Qj=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:s,connectNulls:A=!1}=e,f=Nj(t,s),l=A?r.filter(d_):r,y;if(Array.isArray(n)){var b=r.map((T,j)=>X4(X4({},T),{},{base:n[j]}));s==="vertical"?y=kv().y(p0).x1(d0).x0(T=>T.base.x):y=kv().x(d0).y1(p0).y0(T=>T.base.y);var w=y.defined(W4).curve(f),C=A?b.filter(W4):b;return w(C)}s==="vertical"&&Qr(n)?y=kv().y(p0).x1(d0).x0(n):Qr(n)?y=kv().x(d0).y1(p0).y0(n):y=tU().x(d0).y(p0);var F=y.defined(d_).curve(f);return F(l)},BM=e=>{var{className:t,points:r,path:n,pathRef:s}=e;if((!r||!r.length)&&!n)return null;var A=r&&r.length?Qj(e):n;return te.createElement("path",SB({},Nc(e),K5(e),{className:zi("recharts-curve",t),d:A===null?void 0:A,ref:s}))},Rj=["x","y","top","left","width","height","className"];function EB(){return EB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},EB.apply(null,arguments)}function Y4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function zj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y4(Object(r),!0).forEach(function(n){jj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jj(e,t,r){return(t=Hj(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hj(e){var t=Kj(e,"string");return typeof t=="symbol"?t:t+""}function Kj(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vj(e,t){if(e==null)return{};var r,n,s=qj(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function qj(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Gj=(e,t,r,n,s,A)=>"M".concat(e,",").concat(s,"v").concat(n,"M").concat(A,",").concat(t,"h").concat(r),$j=e=>{var{x:t=0,y:r=0,top:n=0,left:s=0,width:A=0,height:f=0,className:l}=e,y=Vj(e,Rj),b=zj({x:t,y:r,top:n,left:s,width:A,height:f},y);return!Qr(t)||!Qr(r)||!Qr(A)||!Qr(f)||!Qr(n)||!Qr(s)?null:te.createElement("path",EB({},mA(b),{className:zi("recharts-cross",l),d:Gj(t,r,A,f,n,s)}))};function Xj(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function J4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function e3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J4(Object(r),!0).forEach(function(n){Zj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zj(e,t,r){return(t=Wj(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wj(e){var t=Yj(e,"string");return typeof t=="symbol"?t:t+""}function Yj(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jj=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),CM=(e,t,r)=>e.map(n=>"".concat(Jj(n)," ").concat(t,"ms ").concat(r)).join(","),eH=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(s=>n.includes(s))),W0=(e,t)=>Object.keys(t).reduce((r,n)=>e3(e3({},r),{},{[n]:e(n,t[n])}),{});function t3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ho(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t3(Object(r),!0).forEach(function(n){tH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tH(e,t,r){return(t=rH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rH(e){var t=nH(e,"string");return typeof t=="symbol"?t:t+""}function nH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var p_=(e,t,r)=>e+(t-e)*r,TB=e=>{var{from:t,to:r}=e;return t!==r},SM=(e,t,r)=>{var n=W0((s,A)=>{if(TB(A)){var[f,l]=e(A.from,A.to,A.velocity);return ho(ho({},A),{},{from:f,velocity:l})}return A},t);return r<1?W0((s,A)=>TB(A)?ho(ho({},A),{},{velocity:p_(A.velocity,n[s].velocity,r),from:p_(A.from,n[s].from,r)}):A,t):SM(e,n,r-1)};function iH(e,t,r,n,s,A){var f,l=n.reduce((F,T)=>ho(ho({},F),{},{[T]:{from:e[T],velocity:0,to:t[T]}}),{}),y=()=>W0((F,T)=>T.from,l),b=()=>!Object.values(l).filter(TB).length,w=null,C=F=>{f||(f=F);var T=F-f,j=T/r.dt;l=SM(r,l,j),s(ho(ho(ho({},e),t),y())),f=F,b()||(w=A.setTimeout(C))};return()=>(w=A.setTimeout(C),()=>{var F;(F=w)===null||F===void 0||F()})}function aH(e,t,r,n,s,A,f){var l=null,y=s.reduce((C,F)=>ho(ho({},C),{},{[F]:[e[F],t[F]]}),{}),b,w=C=>{b||(b=C);var F=(C-b)/n,T=W0((k,H)=>p_(...H,r(F)),y);if(A(ho(ho(ho({},e),t),T)),F<1)l=f.setTimeout(w);else{var j=W0((k,H)=>p_(...H,r(1)),y);A(ho(ho(ho({},e),t),j))}};return()=>(l=f.setTimeout(w),()=>{var C;(C=l)===null||C===void 0||C()})}const sH=(e,t,r,n,s,A)=>{var f=eH(e,t);return r==null?()=>(s(ho(ho({},e),t)),()=>{}):r.isStepper===!0?iH(e,t,r,f,s,A):aH(e,t,r,n,f,s,A)};var m_=1e-4,EM=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],TM=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),r3=(e,t)=>r=>{var n=EM(e,t);return TM(n,r)},oH=(e,t)=>r=>{var n=EM(e,t),s=[...n.map((A,f)=>A*f).slice(1),0];return TM(s,r)},lH=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var s,A=r[0].split("(");if(A[0]==="cubic-bezier"&&((s=A[1])===null||s===void 0?void 0:s.split(")")[0].split(",").length)===4){var f=A[1].split(")")[0].split(",").map(l=>parseFloat(l));return[f[0],f[1],f[2],f[3]]}}}return r.length===4?r:[0,0,1,1]},AH=(e,t,r,n)=>{var s=r3(e,r),A=r3(t,n),f=oH(e,r),l=b=>b>1?1:b<0?0:b,y=b=>{for(var w=b>1?1:b,C=w,F=0;F<8;++F){var T=s(C)-w,j=f(C);if(Math.abs(T-w)<m_||j<m_)return A(C);C=l(C-T/j)}return A(C)};return y.isStepper=!1,y},n3=function(){return AH(...lH(...arguments))},uH=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:s=17}=t,A=(f,l,y)=>{var b=-(f-l)*r,w=y*n,C=y+(b-w)*s/1e3,F=y*s/1e3+f;return Math.abs(F-l)<m_&&Math.abs(C)<m_?[l,0]:[F,C]};return A.isStepper=!0,A.dt=s,A},cH=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return n3(e);case"spring":return uH();default:if(e.split("(")[0]==="cubic-bezier")return n3(e)}return typeof e=="function"?e:null};function hH(e){var t,r=()=>null,n=!1,s=null,A=f=>{if(!n){if(Array.isArray(f)){if(!f.length)return;var l=f,[y,...b]=l;if(typeof y=="number"){s=e.setTimeout(A.bind(null,b),y);return}A(y),s=e.setTimeout(A.bind(null,b));return}typeof f=="string"&&(t=f,r(t)),typeof f=="object"&&(t=f,r(t)),typeof f=="function"&&f()}};return{stop:()=>{n=!0},start:f=>{n=!1,s&&(s(),s=null),A(f)},subscribe:f=>(r=f,()=>{r=()=>null}),getTimeoutController:()=>e}}class fH{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),s=null,A=f=>{f-n>=r?t(f):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(A))};return s=requestAnimationFrame(A),()=>{s!=null&&cancelAnimationFrame(s)}}}function dH(){return hH(new fH)}var pH=te.createContext(dH);function mH(e,t){var r=te.useContext(pH);return te.useMemo(()=>t??r(e),[e,t,r])}var gH={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},i3={t:0},Px={t:1};function Ib(e){var t=ol(e,gH),{isActive:r,canBegin:n,duration:s,easing:A,begin:f,onAnimationEnd:l,onAnimationStart:y,children:b}=t,w=r==="auto"?!ig.isSsr:r,C=mH(t.animationId,t.animationManager),[F,T]=te.useState(w?i3:Px),j=te.useRef(null);return te.useEffect(()=>{w||T(Px)},[w]),te.useEffect(()=>{if(!w||!n)return dy;var k=sH(i3,Px,cH(A),s,T,C.getTimeoutController()),H=()=>{j.current=k()};return C.start([y,f,H,s,l]),()=>{C.stop(),j.current&&j.current(),l()}},[w,n,s,A,f,y,l,C]),b(F.t)}function Fb(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=te.useRef(K0(t)),n=te.useRef(e);return n.current!==e&&(r.current=K0(t),n.current=e),r.current}var yH=["radius"],vH=["radius"];function a3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function s3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a3(Object(r),!0).forEach(function(n){_H(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _H(e,t,r){return(t=bH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bH(e){var t=wH(e,"string");return typeof t=="symbol"?t:t+""}function wH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function g_(){return g_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g_.apply(null,arguments)}function o3(e,t){if(e==null)return{};var r,n,s=xH(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function xH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var l3=(e,t,r,n,s)=>{var A=Math.min(Math.abs(r)/2,Math.abs(n)/2),f=n>=0?1:-1,l=r>=0?1:-1,y=n>=0&&r>=0||n<0&&r<0?1:0,b;if(A>0&&s instanceof Array){for(var w=[0,0,0,0],C=0,F=4;C<F;C++)w[C]=s[C]>A?A:s[C];b="M".concat(e,",").concat(t+f*w[0]),w[0]>0&&(b+="A ".concat(w[0],",").concat(w[0],",0,0,").concat(y,",").concat(e+l*w[0],",").concat(t)),b+="L ".concat(e+r-l*w[1],",").concat(t),w[1]>0&&(b+="A ".concat(w[1],",").concat(w[1],",0,0,").concat(y,`,
        `).concat(e+r,",").concat(t+f*w[1])),b+="L ".concat(e+r,",").concat(t+n-f*w[2]),w[2]>0&&(b+="A ".concat(w[2],",").concat(w[2],",0,0,").concat(y,`,
        `).concat(e+r-l*w[2],",").concat(t+n)),b+="L ".concat(e+l*w[3],",").concat(t+n),w[3]>0&&(b+="A ".concat(w[3],",").concat(w[3],",0,0,").concat(y,`,
        `).concat(e,",").concat(t+n-f*w[3])),b+="Z"}else if(A>0&&s===+s&&s>0){var T=Math.min(A,s);b="M ".concat(e,",").concat(t+f*T,`
            A `).concat(T,",").concat(T,",0,0,").concat(y,",").concat(e+l*T,",").concat(t,`
            L `).concat(e+r-l*T,",").concat(t,`
            A `).concat(T,",").concat(T,",0,0,").concat(y,",").concat(e+r,",").concat(t+f*T,`
            L `).concat(e+r,",").concat(t+n-f*T,`
            A `).concat(T,",").concat(T,",0,0,").concat(y,",").concat(e+r-l*T,",").concat(t+n,`
            L `).concat(e+l*T,",").concat(t+n,`
            A `).concat(T,",").concat(T,",0,0,").concat(y,",").concat(e,",").concat(t+n-f*T," Z")}else b="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return b},A3={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},IM=e=>{var t=ol(e,A3),r=te.useRef(null),[n,s]=te.useState(-1);te.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var Ne=r.current.getTotalLength();Ne&&s(Ne)}catch{}},[]);var{x:A,y:f,width:l,height:y,radius:b,className:w}=t,{animationEasing:C,animationDuration:F,animationBegin:T,isAnimationActive:j,isUpdateAnimationActive:k}=t,H=te.useRef(l),K=te.useRef(y),Y=te.useRef(A),W=te.useRef(f),ae=te.useMemo(()=>({x:A,y:f,width:l,height:y,radius:b}),[A,f,l,y,b]),Ae=Fb(ae,"rectangle-");if(A!==+A||f!==+f||l!==+l||y!==+y||l===0||y===0)return null;var pe=zi("recharts-rectangle",w);if(!k){var Be=mA(t),{radius:Fe}=Be,me=o3(Be,yH);return te.createElement("path",g_({},me,{radius:typeof b=="number"?b:void 0,className:pe,d:l3(A,f,l,y,b)}))}var He=H.current,se=K.current,de=Y.current,Le=W.current,Ue="0px ".concat(n===-1?1:n,"px"),nt="".concat(n,"px 0px"),Oe=CM(["strokeDasharray"],F,typeof C=="string"?C:A3.animationEasing);return te.createElement(Ib,{animationId:Ae,key:Ae,canBegin:n>0,duration:F,easing:C,isActive:k,begin:T},Ne=>{var Ve=ls(He,l,Ne),De=ls(se,y,Ne),ot=ls(de,A,Ne),be=ls(Le,f,Ne);r.current&&(H.current=Ve,K.current=De,Y.current=ot,W.current=be);var re;j?Ne>0?re={transition:Oe,strokeDasharray:nt}:re={strokeDasharray:Ue}:re={strokeDasharray:nt};var ye=mA(t),{radius:Ie}=ye,ke=o3(ye,vH);return te.createElement("path",g_({},ke,{radius:typeof b=="number"?b:void 0,className:pe,d:l3(ot,be,Ve,De,b),ref:r,style:s3(s3({},re),t.style)}))})};function u3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function c3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u3(Object(r),!0).forEach(function(n){BH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BH(e,t,r){return(t=CH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CH(e){var t=SH(e,"string");return typeof t=="symbol"?t:t+""}function SH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var y_=Math.PI/180,EH=e=>e*180/Math.PI,al=(e,t,r,n)=>({x:e+Math.cos(-y_*n)*r,y:t+Math.sin(-y_*n)*r}),TH=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},IH=(e,t)=>{var{x:r,y:n}=e,{x:s,y:A}=t;return Math.sqrt((r-s)**2+(n-A)**2)},FH=(e,t)=>{var{x:r,y:n}=e,{cx:s,cy:A}=t,f=IH({x:r,y:n},{x:s,y:A});if(f<=0)return{radius:f,angle:0};var l=(r-s)/f,y=Math.acos(l);return n>A&&(y=2*Math.PI-y),{radius:f,angle:EH(y),angleInRadian:y}},LH=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),s=Math.floor(r/360),A=Math.min(n,s);return{startAngle:t-A*360,endAngle:r-A*360}},UH=(e,t)=>{var{startAngle:r,endAngle:n}=t,s=Math.floor(r/360),A=Math.floor(n/360),f=Math.min(s,A);return e+f*360},MH=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:s,angle:A}=FH({x:r,y:n},t),{innerRadius:f,outerRadius:l}=t;if(s<f||s>l||s===0)return null;var{startAngle:y,endAngle:b}=LH(t),w=A,C;if(y<=b){for(;w>b;)w-=360;for(;w<y;)w+=360;C=w>=y&&w<=b}else{for(;w>y;)w-=360;for(;w<b;)w+=360;C=w>=b&&w<=y}return C?c3(c3({},t),{},{radius:s,angle:UH(w,t)}):null};function FM(e){var{cx:t,cy:r,radius:n,startAngle:s,endAngle:A}=e,f=al(t,r,n,s),l=al(t,r,n,A);return{points:[f,l],cx:t,cy:r,radius:n,startAngle:s,endAngle:A}}function IB(){return IB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},IB.apply(null,arguments)}var PH=(e,t)=>{var r=ZA(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},qv=e=>{var{cx:t,cy:r,radius:n,angle:s,sign:A,isExternal:f,cornerRadius:l,cornerIsExternal:y}=e,b=l*(f?1:-1)+n,w=Math.asin(l/b)/y_,C=y?s:s+A*w,F=al(t,r,b,C),T=al(t,r,n,C),j=y?s-A*w:s,k=al(t,r,b*Math.cos(w*y_),j);return{center:F,circleTangency:T,lineTangency:k,theta:w}},LM=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:A,endAngle:f}=e,l=PH(A,f),y=A+l,b=al(t,r,s,A),w=al(t,r,s,y),C="M ".concat(b.x,",").concat(b.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(A>y),`,
    `).concat(w.x,",").concat(w.y,`
  `);if(n>0){var F=al(t,r,n,A),T=al(t,r,n,y);C+="L ".concat(T.x,",").concat(T.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(A<=y),`,
            `).concat(F.x,",").concat(F.y," Z")}else C+="L ".concat(t,",").concat(r," Z");return C},OH=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,cornerRadius:A,forceCornerRadius:f,cornerIsExternal:l,startAngle:y,endAngle:b}=e,w=ZA(b-y),{circleTangency:C,lineTangency:F,theta:T}=qv({cx:t,cy:r,radius:s,angle:y,sign:w,cornerRadius:A,cornerIsExternal:l}),{circleTangency:j,lineTangency:k,theta:H}=qv({cx:t,cy:r,radius:s,angle:b,sign:-w,cornerRadius:A,cornerIsExternal:l}),K=l?Math.abs(y-b):Math.abs(y-b)-T-H;if(K<0)return f?"M ".concat(F.x,",").concat(F.y,`
        a`).concat(A,",").concat(A,",0,0,1,").concat(A*2,`,0
        a`).concat(A,",").concat(A,",0,0,1,").concat(-A*2,`,0
      `):LM({cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:y,endAngle:b});var Y="M ".concat(F.x,",").concat(F.y,`
    A`).concat(A,",").concat(A,",0,0,").concat(+(w<0),",").concat(C.x,",").concat(C.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(K>180),",").concat(+(w<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(A,",").concat(A,",0,0,").concat(+(w<0),",").concat(k.x,",").concat(k.y,`
  `);if(n>0){var{circleTangency:W,lineTangency:ae,theta:Ae}=qv({cx:t,cy:r,radius:n,angle:y,sign:w,isExternal:!0,cornerRadius:A,cornerIsExternal:l}),{circleTangency:pe,lineTangency:Be,theta:Fe}=qv({cx:t,cy:r,radius:n,angle:b,sign:-w,isExternal:!0,cornerRadius:A,cornerIsExternal:l}),me=l?Math.abs(y-b):Math.abs(y-b)-Ae-Fe;if(me<0&&A===0)return"".concat(Y,"L").concat(t,",").concat(r,"Z");Y+="L".concat(Be.x,",").concat(Be.y,`
      A`).concat(A,",").concat(A,",0,0,").concat(+(w<0),",").concat(pe.x,",").concat(pe.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(me>180),",").concat(+(w>0),",").concat(W.x,",").concat(W.y,`
      A`).concat(A,",").concat(A,",0,0,").concat(+(w<0),",").concat(ae.x,",").concat(ae.y,"Z")}else Y+="L".concat(t,",").concat(r,"Z");return Y},DH={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},UM=e=>{var t=ol(e,DH),{cx:r,cy:n,innerRadius:s,outerRadius:A,cornerRadius:f,forceCornerRadius:l,cornerIsExternal:y,startAngle:b,endAngle:w,className:C}=t;if(A<s||b===w)return null;var F=zi("recharts-sector",C),T=A-s,j=Rc(f,T,0,!0),k;return j>0&&Math.abs(b-w)<360?k=OH({cx:r,cy:n,innerRadius:s,outerRadius:A,cornerRadius:Math.min(j,T/2),forceCornerRadius:l,cornerIsExternal:y,startAngle:b,endAngle:w}):k=LM({cx:r,cy:n,innerRadius:s,outerRadius:A,startAngle:b,endAngle:w}),te.createElement("path",IB({},mA(t),{className:F,d:k}))};function kH(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(mU(t)){if(e==="centric"){var{cx:n,cy:s,innerRadius:A,outerRadius:f,angle:l}=t,y=al(n,s,A,l),b=al(n,s,f,l);return[{x:y.x,y:y.y},{x:b.x,y:b.y}]}return FM(t)}}var Ox={},Dx={},kx={},h3;function NH(){return h3||(h3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TU();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(kx)),kx}var f3;function QH(){return f3||(f3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NH();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(Dx)),Dx}var d3;function RH(){return d3||(d3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IU(),r=QH();function n(s,A,f){f&&typeof f!="number"&&t.isIterateeCall(s,A,f)&&(A=f=void 0),s=r.toFinite(s),A===void 0?(A=s,s=0):A=r.toFinite(A),f=f===void 0?s<A?1:-1:r.toFinite(f);const l=Math.max(Math.ceil((A-s)/(f||1)),0),y=new Array(l);for(let b=0;b<l;b++)y[b]=s,s+=f;return y}e.range=n})(Ox)),Ox}var Nx,p3;function zH(){return p3||(p3=1,Nx=RH().range),Nx}var jH=zH();const MM=Sh(jH);function pd(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function HH(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function lC(e){let t,r,n;e.length!==2?(t=pd,r=(l,y)=>pd(e(l),y),n=(l,y)=>e(l)-y):(t=e===pd||e===HH?e:KH,r=e,n=e);function s(l,y,b=0,w=l.length){if(b<w){if(t(y,y)!==0)return w;do{const C=b+w>>>1;r(l[C],y)<0?b=C+1:w=C}while(b<w)}return b}function A(l,y,b=0,w=l.length){if(b<w){if(t(y,y)!==0)return w;do{const C=b+w>>>1;r(l[C],y)<=0?b=C+1:w=C}while(b<w)}return b}function f(l,y,b=0,w=l.length){const C=s(l,y,b,w-1);return C>b&&n(l[C-1],y)>-n(l[C],y)?C-1:C}return{left:s,center:f,right:A}}function KH(){return 0}function PM(e){return e===null?NaN:+e}function*VH(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const qH=lC(pd),by=qH.right;lC(PM).center;class m3 extends Map{constructor(t,r=XH){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(g3(this,t))}has(t){return super.has(g3(this,t))}set(t,r){return super.set(GH(this,t),r)}delete(t){return super.delete($H(this,t))}}function g3({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function GH({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function $H({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function XH(e){return e!==null&&typeof e=="object"?e.valueOf():e}function ZH(e=pd){if(e===pd)return OM;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function OM(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const WH=Math.sqrt(50),YH=Math.sqrt(10),JH=Math.sqrt(2);function v_(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),A=n/Math.pow(10,s),f=A>=WH?10:A>=YH?5:A>=JH?2:1;let l,y,b;return s<0?(b=Math.pow(10,-s)/f,l=Math.round(e*b),y=Math.round(t*b),l/b<e&&++l,y/b>t&&--y,b=-b):(b=Math.pow(10,s)*f,l=Math.round(e/b),y=Math.round(t/b),l*b<e&&++l,y*b>t&&--y),y<l&&.5<=r&&r<2?v_(e,t,r*2):[l,y,b]}function FB(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,A,f]=n?v_(t,e,r):v_(e,t,r);if(!(A>=s))return[];const l=A-s+1,y=new Array(l);if(n)if(f<0)for(let b=0;b<l;++b)y[b]=(A-b)/-f;else for(let b=0;b<l;++b)y[b]=(A-b)*f;else if(f<0)for(let b=0;b<l;++b)y[b]=(s+b)/-f;else for(let b=0;b<l;++b)y[b]=(s+b)*f;return y}function LB(e,t,r){return t=+t,e=+e,r=+r,v_(e,t,r)[2]}function UB(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?LB(t,e,r):LB(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function y3(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function v3(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function DM(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?OM:ZH(s);n>r;){if(n-r>600){const y=n-r+1,b=t-r+1,w=Math.log(y),C=.5*Math.exp(2*w/3),F=.5*Math.sqrt(w*C*(y-C)/y)*(b-y/2<0?-1:1),T=Math.max(r,Math.floor(t-b*C/y+F)),j=Math.min(n,Math.floor(t+(y-b)*C/y+F));DM(e,t,T,j,s)}const A=e[t];let f=r,l=n;for(m0(e,r,t),s(e[n],A)>0&&m0(e,r,n);f<l;){for(m0(e,f,l),++f,--l;s(e[f],A)<0;)++f;for(;s(e[l],A)>0;)--l}s(e[r],A)===0?m0(e,r,l):(++l,m0(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function m0(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function e7(e,t,r){if(e=Float64Array.from(VH(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return v3(e);if(t>=1)return y3(e);var n,s=(n-1)*t,A=Math.floor(s),f=y3(DM(e,A).subarray(0,A+1)),l=v3(e.subarray(A+1));return f+(l-f)*(s-A)}}function t7(e,t,r=PM){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,A=Math.floor(s),f=+r(e[A],A,e),l=+r(e[A+1],A+1,e);return f+(l-f)*(s-A)}}function r7(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,A=new Array(s);++n<s;)A[n]=e+n*r;return A}function uc(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function gf(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const MB=Symbol("implicit");function AC(){var e=new m3,t=[],r=[],n=MB;function s(A){let f=e.get(A);if(f===void 0){if(n!==MB)return n;e.set(A,f=t.push(A)-1)}return r[f%r.length]}return s.domain=function(A){if(!arguments.length)return t.slice();t=[],e=new m3;for(const f of A)e.has(f)||e.set(f,t.push(f)-1);return s},s.range=function(A){return arguments.length?(r=Array.from(A),s):r.slice()},s.unknown=function(A){return arguments.length?(n=A,s):n},s.copy=function(){return AC(t,r).unknown(n)},uc.apply(s,arguments),s}function uC(){var e=AC().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,A,f,l=!1,y=0,b=0,w=.5;delete e.unknown;function C(){var F=t().length,T=s<n,j=T?s:n,k=T?n:s;A=(k-j)/Math.max(1,F-y+b*2),l&&(A=Math.floor(A)),j+=(k-j-A*(F-y))*w,f=A*(1-y),l&&(j=Math.round(j),f=Math.round(f));var H=r7(F).map(function(K){return j+A*K});return r(T?H.reverse():H)}return e.domain=function(F){return arguments.length?(t(F),C()):t()},e.range=function(F){return arguments.length?([n,s]=F,n=+n,s=+s,C()):[n,s]},e.rangeRound=function(F){return[n,s]=F,n=+n,s=+s,l=!0,C()},e.bandwidth=function(){return f},e.step=function(){return A},e.round=function(F){return arguments.length?(l=!!F,C()):l},e.padding=function(F){return arguments.length?(y=Math.min(1,b=+F),C()):y},e.paddingInner=function(F){return arguments.length?(y=Math.min(1,F),C()):y},e.paddingOuter=function(F){return arguments.length?(b=+F,C()):b},e.align=function(F){return arguments.length?(w=Math.max(0,Math.min(1,F)),C()):w},e.copy=function(){return uC(t(),[n,s]).round(l).paddingInner(y).paddingOuter(b).align(w)},uc.apply(C(),arguments)}function kM(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return kM(t())},e}function n7(){return kM(uC.apply(null,arguments).paddingInner(1))}function cC(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function NM(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function wy(){}var Y0=.7,__=1/Y0,Rm="\\s*([+-]?\\d+)\\s*",J0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",bh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",i7=/^#([0-9a-f]{3,8})$/,a7=new RegExp(`^rgb\\(${Rm},${Rm},${Rm}\\)$`),s7=new RegExp(`^rgb\\(${bh},${bh},${bh}\\)$`),o7=new RegExp(`^rgba\\(${Rm},${Rm},${Rm},${J0}\\)$`),l7=new RegExp(`^rgba\\(${bh},${bh},${bh},${J0}\\)$`),A7=new RegExp(`^hsl\\(${J0},${bh},${bh}\\)$`),u7=new RegExp(`^hsla\\(${J0},${bh},${bh},${J0}\\)$`),_3={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};cC(wy,ey,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:b3,formatHex:b3,formatHex8:c7,formatHsl:h7,formatRgb:w3,toString:w3});function b3(){return this.rgb().formatHex()}function c7(){return this.rgb().formatHex8()}function h7(){return QM(this).formatHsl()}function w3(){return this.rgb().formatRgb()}function ey(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=i7.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?x3(t):r===3?new WA(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Gv(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Gv(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=a7.exec(e))?new WA(t[1],t[2],t[3],1):(t=s7.exec(e))?new WA(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=o7.exec(e))?Gv(t[1],t[2],t[3],t[4]):(t=l7.exec(e))?Gv(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=A7.exec(e))?S3(t[1],t[2]/100,t[3]/100,1):(t=u7.exec(e))?S3(t[1],t[2]/100,t[3]/100,t[4]):_3.hasOwnProperty(e)?x3(_3[e]):e==="transparent"?new WA(NaN,NaN,NaN,0):null}function x3(e){return new WA(e>>16&255,e>>8&255,e&255,1)}function Gv(e,t,r,n){return n<=0&&(e=t=r=NaN),new WA(e,t,r,n)}function f7(e){return e instanceof wy||(e=ey(e)),e?(e=e.rgb(),new WA(e.r,e.g,e.b,e.opacity)):new WA}function PB(e,t,r,n){return arguments.length===1?f7(e):new WA(e,t,r,n??1)}function WA(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}cC(WA,PB,NM(wy,{brighter(e){return e=e==null?__:Math.pow(__,e),new WA(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Y0:Math.pow(Y0,e),new WA(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new WA(xp(this.r),xp(this.g),xp(this.b),b_(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:B3,formatHex:B3,formatHex8:d7,formatRgb:C3,toString:C3}));function B3(){return`#${gp(this.r)}${gp(this.g)}${gp(this.b)}`}function d7(){return`#${gp(this.r)}${gp(this.g)}${gp(this.b)}${gp((isNaN(this.opacity)?1:this.opacity)*255)}`}function C3(){const e=b_(this.opacity);return`${e===1?"rgb(":"rgba("}${xp(this.r)}, ${xp(this.g)}, ${xp(this.b)}${e===1?")":`, ${e})`}`}function b_(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function xp(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function gp(e){return e=xp(e),(e<16?"0":"")+e.toString(16)}function S3(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Dc(e,t,r,n)}function QM(e){if(e instanceof Dc)return new Dc(e.h,e.s,e.l,e.opacity);if(e instanceof wy||(e=ey(e)),!e)return new Dc;if(e instanceof Dc)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),A=Math.max(t,r,n),f=NaN,l=A-s,y=(A+s)/2;return l?(t===A?f=(r-n)/l+(r<n)*6:r===A?f=(n-t)/l+2:f=(t-r)/l+4,l/=y<.5?A+s:2-A-s,f*=60):l=y>0&&y<1?0:f,new Dc(f,l,y,e.opacity)}function p7(e,t,r,n){return arguments.length===1?QM(e):new Dc(e,t,r,n??1)}function Dc(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}cC(Dc,p7,NM(wy,{brighter(e){return e=e==null?__:Math.pow(__,e),new Dc(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Y0:Math.pow(Y0,e),new Dc(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new WA(Qx(e>=240?e-240:e+120,s,n),Qx(e,s,n),Qx(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new Dc(E3(this.h),$v(this.s),$v(this.l),b_(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=b_(this.opacity);return`${e===1?"hsl(":"hsla("}${E3(this.h)}, ${$v(this.s)*100}%, ${$v(this.l)*100}%${e===1?")":`, ${e})`}`}}));function E3(e){return e=(e||0)%360,e<0?e+360:e}function $v(e){return Math.max(0,Math.min(1,e||0))}function Qx(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const hC=e=>()=>e;function m7(e,t){return function(r){return e+r*t}}function g7(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function y7(e){return(e=+e)==1?RM:function(t,r){return r-t?g7(t,r,e):hC(isNaN(t)?r:t)}}function RM(e,t){var r=t-e;return r?m7(e,r):hC(isNaN(e)?t:e)}const T3=(function e(t){var r=y7(t);function n(s,A){var f=r((s=PB(s)).r,(A=PB(A)).r),l=r(s.g,A.g),y=r(s.b,A.b),b=RM(s.opacity,A.opacity);return function(w){return s.r=f(w),s.g=l(w),s.b=y(w),s.opacity=b(w),s+""}}return n.gamma=e,n})(1);function v7(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(A){for(s=0;s<r;++s)n[s]=e[s]*(1-A)+t[s]*A;return n}}function _7(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function b7(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),A=new Array(r),f;for(f=0;f<n;++f)s[f]=ag(e[f],t[f]);for(;f<r;++f)A[f]=t[f];return function(l){for(f=0;f<n;++f)A[f]=s[f](l);return A}}function w7(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function w_(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function x7(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=ag(e[s],t[s]):n[s]=t[s];return function(A){for(s in r)n[s]=r[s](A);return n}}var OB=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Rx=new RegExp(OB.source,"g");function B7(e){return function(){return e}}function C7(e){return function(t){return e(t)+""}}function S7(e,t){var r=OB.lastIndex=Rx.lastIndex=0,n,s,A,f=-1,l=[],y=[];for(e=e+"",t=t+"";(n=OB.exec(e))&&(s=Rx.exec(t));)(A=s.index)>r&&(A=t.slice(r,A),l[f]?l[f]+=A:l[++f]=A),(n=n[0])===(s=s[0])?l[f]?l[f]+=s:l[++f]=s:(l[++f]=null,y.push({i:f,x:w_(n,s)})),r=Rx.lastIndex;return r<t.length&&(A=t.slice(r),l[f]?l[f]+=A:l[++f]=A),l.length<2?y[0]?C7(y[0].x):B7(t):(t=y.length,function(b){for(var w=0,C;w<t;++w)l[(C=y[w]).i]=C.x(b);return l.join("")})}function ag(e,t){var r=typeof t,n;return t==null||r==="boolean"?hC(t):(r==="number"?w_:r==="string"?(n=ey(t))?(t=n,T3):S7:t instanceof ey?T3:t instanceof Date?w7:_7(t)?v7:Array.isArray(t)?b7:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?x7:w_)(e,t)}function fC(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function E7(e,t){t===void 0&&(t=e,e=ag);for(var r=0,n=t.length-1,s=t[0],A=new Array(n<0?0:n);r<n;)A[r]=e(s,s=t[++r]);return function(f){var l=Math.max(0,Math.min(n-1,Math.floor(f*=n)));return A[l](f-l)}}function T7(e){return function(){return e}}function x_(e){return+e}var I3=[0,1];function pA(e){return e}function DB(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:T7(isNaN(t)?NaN:.5)}function I7(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function F7(e,t,r){var n=e[0],s=e[1],A=t[0],f=t[1];return s<n?(n=DB(s,n),A=r(f,A)):(n=DB(n,s),A=r(A,f)),function(l){return A(n(l))}}function L7(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),A=new Array(n),f=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++f<n;)s[f]=DB(e[f],e[f+1]),A[f]=r(t[f],t[f+1]);return function(l){var y=by(e,l,1,n)-1;return A[y](s[y](l))}}function xy(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Lb(){var e=I3,t=I3,r=ag,n,s,A,f=pA,l,y,b;function w(){var F=Math.min(e.length,t.length);return f!==pA&&(f=I7(e[0],e[F-1])),l=F>2?L7:F7,y=b=null,C}function C(F){return F==null||isNaN(F=+F)?A:(y||(y=l(e.map(n),t,r)))(n(f(F)))}return C.invert=function(F){return f(s((b||(b=l(t,e.map(n),w_)))(F)))},C.domain=function(F){return arguments.length?(e=Array.from(F,x_),w()):e.slice()},C.range=function(F){return arguments.length?(t=Array.from(F),w()):t.slice()},C.rangeRound=function(F){return t=Array.from(F),r=fC,w()},C.clamp=function(F){return arguments.length?(f=F?!0:pA,w()):f!==pA},C.interpolate=function(F){return arguments.length?(r=F,w()):r},C.unknown=function(F){return arguments.length?(A=F,C):A},function(F,T){return n=F,s=T,w()}}function dC(){return Lb()(pA,pA)}function U7(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function B_(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Jm(e){return e=B_(Math.abs(e)),e?e[1]:NaN}function M7(e,t){return function(r,n){for(var s=r.length,A=[],f=0,l=e[0],y=0;s>0&&l>0&&(y+l+1>n&&(l=Math.max(1,n-y)),A.push(r.substring(s-=l,s+l)),!((y+=l+1)>n));)l=e[f=(f+1)%e.length];return A.reverse().join(t)}}function P7(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var O7=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ty(e){if(!(t=O7.exec(e)))throw new Error("invalid format: "+e);var t;return new pC({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ty.prototype=pC.prototype;function pC(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}pC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function D7(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var zM;function k7(e,t){var r=B_(e,t);if(!r)return e+"";var n=r[0],s=r[1],A=s-(zM=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,f=n.length;return A===f?n:A>f?n+new Array(A-f+1).join("0"):A>0?n.slice(0,A)+"."+n.slice(A):"0."+new Array(1-A).join("0")+B_(e,Math.max(0,t+A-1))[0]}function F3(e,t){var r=B_(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const L3={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:U7,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>F3(e*100,t),r:F3,s:k7,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function U3(e){return e}var M3=Array.prototype.map,P3=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function N7(e){var t=e.grouping===void 0||e.thousands===void 0?U3:M7(M3.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",A=e.numerals===void 0?U3:P7(M3.call(e.numerals,String)),f=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",y=e.nan===void 0?"NaN":e.nan+"";function b(C){C=ty(C);var F=C.fill,T=C.align,j=C.sign,k=C.symbol,H=C.zero,K=C.width,Y=C.comma,W=C.precision,ae=C.trim,Ae=C.type;Ae==="n"?(Y=!0,Ae="g"):L3[Ae]||(W===void 0&&(W=12),ae=!0,Ae="g"),(H||F==="0"&&T==="=")&&(H=!0,F="0",T="=");var pe=k==="$"?r:k==="#"&&/[boxX]/.test(Ae)?"0"+Ae.toLowerCase():"",Be=k==="$"?n:/[%p]/.test(Ae)?f:"",Fe=L3[Ae],me=/[defgprs%]/.test(Ae);W=W===void 0?6:/[gprs]/.test(Ae)?Math.max(1,Math.min(21,W)):Math.max(0,Math.min(20,W));function He(se){var de=pe,Le=Be,Ue,nt,Oe;if(Ae==="c")Le=Fe(se)+Le,se="";else{se=+se;var Ne=se<0||1/se<0;if(se=isNaN(se)?y:Fe(Math.abs(se),W),ae&&(se=D7(se)),Ne&&+se==0&&j!=="+"&&(Ne=!1),de=(Ne?j==="("?j:l:j==="-"||j==="("?"":j)+de,Le=(Ae==="s"?P3[8+zM/3]:"")+Le+(Ne&&j==="("?")":""),me){for(Ue=-1,nt=se.length;++Ue<nt;)if(Oe=se.charCodeAt(Ue),48>Oe||Oe>57){Le=(Oe===46?s+se.slice(Ue+1):se.slice(Ue))+Le,se=se.slice(0,Ue);break}}}Y&&!H&&(se=t(se,1/0));var Ve=de.length+se.length+Le.length,De=Ve<K?new Array(K-Ve+1).join(F):"";switch(Y&&H&&(se=t(De+se,De.length?K-Le.length:1/0),De=""),T){case"<":se=de+se+Le+De;break;case"=":se=de+De+se+Le;break;case"^":se=De.slice(0,Ve=De.length>>1)+de+se+Le+De.slice(Ve);break;default:se=De+de+se+Le;break}return A(se)}return He.toString=function(){return C+""},He}function w(C,F){var T=b((C=ty(C),C.type="f",C)),j=Math.max(-8,Math.min(8,Math.floor(Jm(F)/3)))*3,k=Math.pow(10,-j),H=P3[8+j/3];return function(K){return T(k*K)+H}}return{format:b,formatPrefix:w}}var Xv,mC,jM;Q7({thousands:",",grouping:[3],currency:["$",""]});function Q7(e){return Xv=N7(e),mC=Xv.format,jM=Xv.formatPrefix,Xv}function R7(e){return Math.max(0,-Jm(Math.abs(e)))}function z7(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Jm(t)/3)))*3-Jm(Math.abs(e)))}function j7(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Jm(t)-Jm(e))+1}function HM(e,t,r,n){var s=UB(e,t,r),A;switch(n=ty(n??",f"),n.type){case"s":{var f=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(A=z7(s,f))&&(n.precision=A),jM(n,f)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(A=j7(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=A-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(A=R7(s))&&(n.precision=A-(n.type==="%")*2);break}}return mC(n)}function Bd(e){var t=e.domain;return e.ticks=function(r){var n=t();return FB(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return HM(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,A=n.length-1,f=n[s],l=n[A],y,b,w=10;for(l<f&&(b=f,f=l,l=b,b=s,s=A,A=b);w-- >0;){if(b=LB(f,l,r),b===y)return n[s]=f,n[A]=l,t(n);if(b>0)f=Math.floor(f/b)*b,l=Math.ceil(l/b)*b;else if(b<0)f=Math.ceil(f*b)/b,l=Math.floor(l*b)/b;else break;y=b}return e},e}function KM(){var e=dC();return e.copy=function(){return xy(e,KM())},uc.apply(e,arguments),Bd(e)}function VM(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,x_),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return VM(e).unknown(t)},e=arguments.length?Array.from(e,x_):[0,1],Bd(r)}function qM(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],A=e[n],f;return A<s&&(f=r,r=n,n=f,f=s,s=A,A=f),e[r]=t.floor(s),e[n]=t.ceil(A),e}function O3(e){return Math.log(e)}function D3(e){return Math.exp(e)}function H7(e){return-Math.log(-e)}function K7(e){return-Math.exp(-e)}function V7(e){return isFinite(e)?+("1e"+e):e<0?0:e}function q7(e){return e===10?V7:e===Math.E?Math.exp:t=>Math.pow(e,t)}function G7(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function k3(e){return(t,r)=>-e(-t,r)}function gC(e){const t=e(O3,D3),r=t.domain;let n=10,s,A;function f(){return s=G7(n),A=q7(n),r()[0]<0?(s=k3(s),A=k3(A),e(H7,K7)):e(O3,D3),t}return t.base=function(l){return arguments.length?(n=+l,f()):n},t.domain=function(l){return arguments.length?(r(l),f()):r()},t.ticks=l=>{const y=r();let b=y[0],w=y[y.length-1];const C=w<b;C&&([b,w]=[w,b]);let F=s(b),T=s(w),j,k;const H=l==null?10:+l;let K=[];if(!(n%1)&&T-F<H){if(F=Math.floor(F),T=Math.ceil(T),b>0){for(;F<=T;++F)for(j=1;j<n;++j)if(k=F<0?j/A(-F):j*A(F),!(k<b)){if(k>w)break;K.push(k)}}else for(;F<=T;++F)for(j=n-1;j>=1;--j)if(k=F>0?j/A(-F):j*A(F),!(k<b)){if(k>w)break;K.push(k)}K.length*2<H&&(K=FB(b,w,H))}else K=FB(F,T,Math.min(T-F,H)).map(A);return C?K.reverse():K},t.tickFormat=(l,y)=>{if(l==null&&(l=10),y==null&&(y=n===10?"s":","),typeof y!="function"&&(!(n%1)&&(y=ty(y)).precision==null&&(y.trim=!0),y=mC(y)),l===1/0)return y;const b=Math.max(1,n*l/t.ticks().length);return w=>{let C=w/A(Math.round(s(w)));return C*n<n-.5&&(C*=n),C<=b?y(w):""}},t.nice=()=>r(qM(r(),{floor:l=>A(Math.floor(s(l))),ceil:l=>A(Math.ceil(s(l)))})),t}function GM(){const e=gC(Lb()).domain([1,10]);return e.copy=()=>xy(e,GM()).base(e.base()),uc.apply(e,arguments),e}function N3(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Q3(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function yC(e){var t=1,r=e(N3(t),Q3(t));return r.constant=function(n){return arguments.length?e(N3(t=+n),Q3(t)):t},Bd(r)}function $M(){var e=yC(Lb());return e.copy=function(){return xy(e,$M()).constant(e.constant())},uc.apply(e,arguments)}function R3(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function $7(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function X7(e){return e<0?-e*e:e*e}function vC(e){var t=e(pA,pA),r=1;function n(){return r===1?e(pA,pA):r===.5?e($7,X7):e(R3(r),R3(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},Bd(t)}function _C(){var e=vC(Lb());return e.copy=function(){return xy(e,_C()).exponent(e.exponent())},uc.apply(e,arguments),e}function Z7(){return _C.apply(null,arguments).exponent(.5)}function z3(e){return Math.sign(e)*e*e}function W7(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function XM(){var e=dC(),t=[0,1],r=!1,n;function s(A){var f=W7(e(A));return isNaN(f)?n:r?Math.round(f):f}return s.invert=function(A){return e.invert(z3(A))},s.domain=function(A){return arguments.length?(e.domain(A),s):e.domain()},s.range=function(A){return arguments.length?(e.range((t=Array.from(A,x_)).map(z3)),s):t.slice()},s.rangeRound=function(A){return s.range(A).round(!0)},s.round=function(A){return arguments.length?(r=!!A,s):r},s.clamp=function(A){return arguments.length?(e.clamp(A),s):e.clamp()},s.unknown=function(A){return arguments.length?(n=A,s):n},s.copy=function(){return XM(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},uc.apply(s,arguments),Bd(s)}function ZM(){var e=[],t=[],r=[],n;function s(){var f=0,l=Math.max(1,t.length);for(r=new Array(l-1);++f<l;)r[f-1]=t7(e,f/l);return A}function A(f){return f==null||isNaN(f=+f)?n:t[by(r,f)]}return A.invertExtent=function(f){var l=t.indexOf(f);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},A.domain=function(f){if(!arguments.length)return e.slice();e=[];for(let l of f)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(pd),s()},A.range=function(f){return arguments.length?(t=Array.from(f),s()):t.slice()},A.unknown=function(f){return arguments.length?(n=f,A):n},A.quantiles=function(){return r.slice()},A.copy=function(){return ZM().domain(e).range(t).unknown(n)},uc.apply(A,arguments)}function WM(){var e=0,t=1,r=1,n=[.5],s=[0,1],A;function f(y){return y!=null&&y<=y?s[by(n,y,0,r)]:A}function l(){var y=-1;for(n=new Array(r);++y<r;)n[y]=((y+1)*t-(y-r)*e)/(r+1);return f}return f.domain=function(y){return arguments.length?([e,t]=y,e=+e,t=+t,l()):[e,t]},f.range=function(y){return arguments.length?(r=(s=Array.from(y)).length-1,l()):s.slice()},f.invertExtent=function(y){var b=s.indexOf(y);return b<0?[NaN,NaN]:b<1?[e,n[0]]:b>=r?[n[r-1],t]:[n[b-1],n[b]]},f.unknown=function(y){return arguments.length&&(A=y),f},f.thresholds=function(){return n.slice()},f.copy=function(){return WM().domain([e,t]).range(s).unknown(A)},uc.apply(Bd(f),arguments)}function YM(){var e=[.5],t=[0,1],r,n=1;function s(A){return A!=null&&A<=A?t[by(e,A,0,n)]:r}return s.domain=function(A){return arguments.length?(e=Array.from(A),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(A){return arguments.length?(t=Array.from(A),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(A){var f=t.indexOf(A);return[e[f-1],e[f]]},s.unknown=function(A){return arguments.length?(r=A,s):r},s.copy=function(){return YM().domain(e).range(t).unknown(r)},uc.apply(s,arguments)}const zx=new Date,jx=new Date;function mo(e,t,r,n){function s(A){return e(A=arguments.length===0?new Date:new Date(+A)),A}return s.floor=A=>(e(A=new Date(+A)),A),s.ceil=A=>(e(A=new Date(A-1)),t(A,1),e(A),A),s.round=A=>{const f=s(A),l=s.ceil(A);return A-f<l-A?f:l},s.offset=(A,f)=>(t(A=new Date(+A),f==null?1:Math.floor(f)),A),s.range=(A,f,l)=>{const y=[];if(A=s.ceil(A),l=l==null?1:Math.floor(l),!(A<f)||!(l>0))return y;let b;do y.push(b=new Date(+A)),t(A,l),e(A);while(b<A&&A<f);return y},s.filter=A=>mo(f=>{if(f>=f)for(;e(f),!A(f);)f.setTime(f-1)},(f,l)=>{if(f>=f)if(l<0)for(;++l<=0;)for(;t(f,-1),!A(f););else for(;--l>=0;)for(;t(f,1),!A(f););}),r&&(s.count=(A,f)=>(zx.setTime(+A),jx.setTime(+f),e(zx),e(jx),Math.floor(r(zx,jx))),s.every=A=>(A=Math.floor(A),!isFinite(A)||!(A>0)?null:A>1?s.filter(n?f=>n(f)%A===0:f=>s.count(0,f)%A===0):s)),s}const C_=mo(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);C_.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?mo(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):C_);C_.range;const ef=1e3,nc=ef*60,tf=nc*60,Af=tf*24,bC=Af*7,j3=Af*30,Hx=Af*365,yp=mo(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ef)},(e,t)=>(t-e)/ef,e=>e.getUTCSeconds());yp.range;const wC=mo(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ef)},(e,t)=>{e.setTime(+e+t*nc)},(e,t)=>(t-e)/nc,e=>e.getMinutes());wC.range;const xC=mo(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*nc)},(e,t)=>(t-e)/nc,e=>e.getUTCMinutes());xC.range;const BC=mo(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ef-e.getMinutes()*nc)},(e,t)=>{e.setTime(+e+t*tf)},(e,t)=>(t-e)/tf,e=>e.getHours());BC.range;const CC=mo(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*tf)},(e,t)=>(t-e)/tf,e=>e.getUTCHours());CC.range;const By=mo(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*nc)/Af,e=>e.getDate()-1);By.range;const Ub=mo(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Af,e=>e.getUTCDate()-1);Ub.range;const JM=mo(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Af,e=>Math.floor(e/Af));JM.range;function Dp(e){return mo(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*nc)/bC)}const Mb=Dp(0),S_=Dp(1),Y7=Dp(2),J7=Dp(3),eg=Dp(4),e9=Dp(5),t9=Dp(6);Mb.range;S_.range;Y7.range;J7.range;eg.range;e9.range;t9.range;function kp(e){return mo(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/bC)}const Pb=kp(0),E_=kp(1),r9=kp(2),n9=kp(3),tg=kp(4),i9=kp(5),a9=kp(6);Pb.range;E_.range;r9.range;n9.range;tg.range;i9.range;a9.range;const SC=mo(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());SC.range;const EC=mo(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());EC.range;const uf=mo(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());uf.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:mo(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});uf.range;const cf=mo(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());cf.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:mo(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});cf.range;function eP(e,t,r,n,s,A){const f=[[yp,1,ef],[yp,5,5*ef],[yp,15,15*ef],[yp,30,30*ef],[A,1,nc],[A,5,5*nc],[A,15,15*nc],[A,30,30*nc],[s,1,tf],[s,3,3*tf],[s,6,6*tf],[s,12,12*tf],[n,1,Af],[n,2,2*Af],[r,1,bC],[t,1,j3],[t,3,3*j3],[e,1,Hx]];function l(b,w,C){const F=w<b;F&&([b,w]=[w,b]);const T=C&&typeof C.range=="function"?C:y(b,w,C),j=T?T.range(b,+w+1):[];return F?j.reverse():j}function y(b,w,C){const F=Math.abs(w-b)/C,T=lC(([,,H])=>H).right(f,F);if(T===f.length)return e.every(UB(b/Hx,w/Hx,C));if(T===0)return C_.every(Math.max(UB(b,w,C),1));const[j,k]=f[F/f[T-1][2]<f[T][2]/F?T-1:T];return j.every(k)}return[l,y]}const[s9,o9]=eP(cf,EC,Pb,JM,CC,xC),[l9,A9]=eP(uf,SC,Mb,By,BC,wC);function Kx(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Vx(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function g0(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function u9(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,A=e.days,f=e.shortDays,l=e.months,y=e.shortMonths,b=y0(s),w=v0(s),C=y0(A),F=v0(A),T=y0(f),j=v0(f),k=y0(l),H=v0(l),K=y0(y),Y=v0(y),W={a:Ne,A:Ve,b:De,B:ot,c:null,d:$3,e:$3,f:M9,g:H9,G:V9,H:F9,I:L9,j:U9,L:tP,m:P9,M:O9,p:be,q:re,Q:W3,s:Y3,S:D9,u:k9,U:N9,V:Q9,w:R9,W:z9,x:null,X:null,y:j9,Y:K9,Z:q9,"%":Z3},ae={a:ye,A:Ie,b:ke,B:$e,c:null,d:X3,e:X3,f:Z9,g:sK,G:lK,H:G9,I:$9,j:X9,L:nP,m:W9,M:Y9,p:Je,q:mt,Q:W3,s:Y3,S:J9,u:eK,U:tK,V:rK,w:nK,W:iK,x:null,X:null,y:aK,Y:oK,Z:AK,"%":Z3},Ae={a:He,A:se,b:de,B:Le,c:Ue,d:q3,e:q3,f:S9,g:V3,G:K3,H:G3,I:G3,j:w9,L:C9,m:b9,M:x9,p:me,q:_9,Q:T9,s:I9,S:B9,u:p9,U:m9,V:g9,w:d9,W:y9,x:nt,X:Oe,y:V3,Y:K3,Z:v9,"%":E9};W.x=pe(r,W),W.X=pe(n,W),W.c=pe(t,W),ae.x=pe(r,ae),ae.X=pe(n,ae),ae.c=pe(t,ae);function pe(Ke,pt){return function(Ct){var ct=[],qt=-1,Xt=0,Pe=Ke.length,Ye,Rr,Er;for(Ct instanceof Date||(Ct=new Date(+Ct));++qt<Pe;)Ke.charCodeAt(qt)===37&&(ct.push(Ke.slice(Xt,qt)),(Rr=H3[Ye=Ke.charAt(++qt)])!=null?Ye=Ke.charAt(++qt):Rr=Ye==="e"?" ":"0",(Er=pt[Ye])&&(Ye=Er(Ct,Rr)),ct.push(Ye),Xt=qt+1);return ct.push(Ke.slice(Xt,qt)),ct.join("")}}function Be(Ke,pt){return function(Ct){var ct=g0(1900,void 0,1),qt=Fe(ct,Ke,Ct+="",0),Xt,Pe;if(qt!=Ct.length)return null;if("Q"in ct)return new Date(ct.Q);if("s"in ct)return new Date(ct.s*1e3+("L"in ct?ct.L:0));if(pt&&!("Z"in ct)&&(ct.Z=0),"p"in ct&&(ct.H=ct.H%12+ct.p*12),ct.m===void 0&&(ct.m="q"in ct?ct.q:0),"V"in ct){if(ct.V<1||ct.V>53)return null;"w"in ct||(ct.w=1),"Z"in ct?(Xt=Vx(g0(ct.y,0,1)),Pe=Xt.getUTCDay(),Xt=Pe>4||Pe===0?E_.ceil(Xt):E_(Xt),Xt=Ub.offset(Xt,(ct.V-1)*7),ct.y=Xt.getUTCFullYear(),ct.m=Xt.getUTCMonth(),ct.d=Xt.getUTCDate()+(ct.w+6)%7):(Xt=Kx(g0(ct.y,0,1)),Pe=Xt.getDay(),Xt=Pe>4||Pe===0?S_.ceil(Xt):S_(Xt),Xt=By.offset(Xt,(ct.V-1)*7),ct.y=Xt.getFullYear(),ct.m=Xt.getMonth(),ct.d=Xt.getDate()+(ct.w+6)%7)}else("W"in ct||"U"in ct)&&("w"in ct||(ct.w="u"in ct?ct.u%7:"W"in ct?1:0),Pe="Z"in ct?Vx(g0(ct.y,0,1)).getUTCDay():Kx(g0(ct.y,0,1)).getDay(),ct.m=0,ct.d="W"in ct?(ct.w+6)%7+ct.W*7-(Pe+5)%7:ct.w+ct.U*7-(Pe+6)%7);return"Z"in ct?(ct.H+=ct.Z/100|0,ct.M+=ct.Z%100,Vx(ct)):Kx(ct)}}function Fe(Ke,pt,Ct,ct){for(var qt=0,Xt=pt.length,Pe=Ct.length,Ye,Rr;qt<Xt;){if(ct>=Pe)return-1;if(Ye=pt.charCodeAt(qt++),Ye===37){if(Ye=pt.charAt(qt++),Rr=Ae[Ye in H3?pt.charAt(qt++):Ye],!Rr||(ct=Rr(Ke,Ct,ct))<0)return-1}else if(Ye!=Ct.charCodeAt(ct++))return-1}return ct}function me(Ke,pt,Ct){var ct=b.exec(pt.slice(Ct));return ct?(Ke.p=w.get(ct[0].toLowerCase()),Ct+ct[0].length):-1}function He(Ke,pt,Ct){var ct=T.exec(pt.slice(Ct));return ct?(Ke.w=j.get(ct[0].toLowerCase()),Ct+ct[0].length):-1}function se(Ke,pt,Ct){var ct=C.exec(pt.slice(Ct));return ct?(Ke.w=F.get(ct[0].toLowerCase()),Ct+ct[0].length):-1}function de(Ke,pt,Ct){var ct=K.exec(pt.slice(Ct));return ct?(Ke.m=Y.get(ct[0].toLowerCase()),Ct+ct[0].length):-1}function Le(Ke,pt,Ct){var ct=k.exec(pt.slice(Ct));return ct?(Ke.m=H.get(ct[0].toLowerCase()),Ct+ct[0].length):-1}function Ue(Ke,pt,Ct){return Fe(Ke,t,pt,Ct)}function nt(Ke,pt,Ct){return Fe(Ke,r,pt,Ct)}function Oe(Ke,pt,Ct){return Fe(Ke,n,pt,Ct)}function Ne(Ke){return f[Ke.getDay()]}function Ve(Ke){return A[Ke.getDay()]}function De(Ke){return y[Ke.getMonth()]}function ot(Ke){return l[Ke.getMonth()]}function be(Ke){return s[+(Ke.getHours()>=12)]}function re(Ke){return 1+~~(Ke.getMonth()/3)}function ye(Ke){return f[Ke.getUTCDay()]}function Ie(Ke){return A[Ke.getUTCDay()]}function ke(Ke){return y[Ke.getUTCMonth()]}function $e(Ke){return l[Ke.getUTCMonth()]}function Je(Ke){return s[+(Ke.getUTCHours()>=12)]}function mt(Ke){return 1+~~(Ke.getUTCMonth()/3)}return{format:function(Ke){var pt=pe(Ke+="",W);return pt.toString=function(){return Ke},pt},parse:function(Ke){var pt=Be(Ke+="",!1);return pt.toString=function(){return Ke},pt},utcFormat:function(Ke){var pt=pe(Ke+="",ae);return pt.toString=function(){return Ke},pt},utcParse:function(Ke){var pt=Be(Ke+="",!0);return pt.toString=function(){return Ke},pt}}}var H3={"-":"",_:" ",0:"0"},Qo=/^\s*\d+/,c9=/^%/,h9=/[\\^$*+?|[\]().{}]/g;function mi(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",A=s.length;return n+(A<r?new Array(r-A+1).join(t)+s:s)}function f9(e){return e.replace(h9,"\\$&")}function y0(e){return new RegExp("^(?:"+e.map(f9).join("|")+")","i")}function v0(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function d9(e,t,r){var n=Qo.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function p9(e,t,r){var n=Qo.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function m9(e,t,r){var n=Qo.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function g9(e,t,r){var n=Qo.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function y9(e,t,r){var n=Qo.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function K3(e,t,r){var n=Qo.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function V3(e,t,r){var n=Qo.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function v9(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function _9(e,t,r){var n=Qo.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function b9(e,t,r){var n=Qo.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function q3(e,t,r){var n=Qo.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function w9(e,t,r){var n=Qo.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function G3(e,t,r){var n=Qo.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function x9(e,t,r){var n=Qo.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function B9(e,t,r){var n=Qo.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function C9(e,t,r){var n=Qo.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function S9(e,t,r){var n=Qo.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function E9(e,t,r){var n=c9.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function T9(e,t,r){var n=Qo.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function I9(e,t,r){var n=Qo.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function $3(e,t){return mi(e.getDate(),t,2)}function F9(e,t){return mi(e.getHours(),t,2)}function L9(e,t){return mi(e.getHours()%12||12,t,2)}function U9(e,t){return mi(1+By.count(uf(e),e),t,3)}function tP(e,t){return mi(e.getMilliseconds(),t,3)}function M9(e,t){return tP(e,t)+"000"}function P9(e,t){return mi(e.getMonth()+1,t,2)}function O9(e,t){return mi(e.getMinutes(),t,2)}function D9(e,t){return mi(e.getSeconds(),t,2)}function k9(e){var t=e.getDay();return t===0?7:t}function N9(e,t){return mi(Mb.count(uf(e)-1,e),t,2)}function rP(e){var t=e.getDay();return t>=4||t===0?eg(e):eg.ceil(e)}function Q9(e,t){return e=rP(e),mi(eg.count(uf(e),e)+(uf(e).getDay()===4),t,2)}function R9(e){return e.getDay()}function z9(e,t){return mi(S_.count(uf(e)-1,e),t,2)}function j9(e,t){return mi(e.getFullYear()%100,t,2)}function H9(e,t){return e=rP(e),mi(e.getFullYear()%100,t,2)}function K9(e,t){return mi(e.getFullYear()%1e4,t,4)}function V9(e,t){var r=e.getDay();return e=r>=4||r===0?eg(e):eg.ceil(e),mi(e.getFullYear()%1e4,t,4)}function q9(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+mi(t/60|0,"0",2)+mi(t%60,"0",2)}function X3(e,t){return mi(e.getUTCDate(),t,2)}function G9(e,t){return mi(e.getUTCHours(),t,2)}function $9(e,t){return mi(e.getUTCHours()%12||12,t,2)}function X9(e,t){return mi(1+Ub.count(cf(e),e),t,3)}function nP(e,t){return mi(e.getUTCMilliseconds(),t,3)}function Z9(e,t){return nP(e,t)+"000"}function W9(e,t){return mi(e.getUTCMonth()+1,t,2)}function Y9(e,t){return mi(e.getUTCMinutes(),t,2)}function J9(e,t){return mi(e.getUTCSeconds(),t,2)}function eK(e){var t=e.getUTCDay();return t===0?7:t}function tK(e,t){return mi(Pb.count(cf(e)-1,e),t,2)}function iP(e){var t=e.getUTCDay();return t>=4||t===0?tg(e):tg.ceil(e)}function rK(e,t){return e=iP(e),mi(tg.count(cf(e),e)+(cf(e).getUTCDay()===4),t,2)}function nK(e){return e.getUTCDay()}function iK(e,t){return mi(E_.count(cf(e)-1,e),t,2)}function aK(e,t){return mi(e.getUTCFullYear()%100,t,2)}function sK(e,t){return e=iP(e),mi(e.getUTCFullYear()%100,t,2)}function oK(e,t){return mi(e.getUTCFullYear()%1e4,t,4)}function lK(e,t){var r=e.getUTCDay();return e=r>=4||r===0?tg(e):tg.ceil(e),mi(e.getUTCFullYear()%1e4,t,4)}function AK(){return"+0000"}function Z3(){return"%"}function W3(e){return+e}function Y3(e){return Math.floor(+e/1e3)}var ym,aP,sP;uK({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function uK(e){return ym=u9(e),aP=ym.format,ym.parse,sP=ym.utcFormat,ym.utcParse,ym}function cK(e){return new Date(e)}function hK(e){return e instanceof Date?+e:+new Date(+e)}function TC(e,t,r,n,s,A,f,l,y,b){var w=dC(),C=w.invert,F=w.domain,T=b(".%L"),j=b(":%S"),k=b("%I:%M"),H=b("%I %p"),K=b("%a %d"),Y=b("%b %d"),W=b("%B"),ae=b("%Y");function Ae(pe){return(y(pe)<pe?T:l(pe)<pe?j:f(pe)<pe?k:A(pe)<pe?H:n(pe)<pe?s(pe)<pe?K:Y:r(pe)<pe?W:ae)(pe)}return w.invert=function(pe){return new Date(C(pe))},w.domain=function(pe){return arguments.length?F(Array.from(pe,hK)):F().map(cK)},w.ticks=function(pe){var Be=F();return e(Be[0],Be[Be.length-1],pe??10)},w.tickFormat=function(pe,Be){return Be==null?Ae:b(Be)},w.nice=function(pe){var Be=F();return(!pe||typeof pe.range!="function")&&(pe=t(Be[0],Be[Be.length-1],pe??10)),pe?F(qM(Be,pe)):w},w.copy=function(){return xy(w,TC(e,t,r,n,s,A,f,l,y,b))},w}function fK(){return uc.apply(TC(l9,A9,uf,SC,Mb,By,BC,wC,yp,aP).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function dK(){return uc.apply(TC(s9,o9,cf,EC,Pb,Ub,CC,xC,yp,sP).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ob(){var e=0,t=1,r,n,s,A,f=pA,l=!1,y;function b(C){return C==null||isNaN(C=+C)?y:f(s===0?.5:(C=(A(C)-r)*s,l?Math.max(0,Math.min(1,C)):C))}b.domain=function(C){return arguments.length?([e,t]=C,r=A(e=+e),n=A(t=+t),s=r===n?0:1/(n-r),b):[e,t]},b.clamp=function(C){return arguments.length?(l=!!C,b):l},b.interpolator=function(C){return arguments.length?(f=C,b):f};function w(C){return function(F){var T,j;return arguments.length?([T,j]=F,f=C(T,j),b):[f(0),f(1)]}}return b.range=w(ag),b.rangeRound=w(fC),b.unknown=function(C){return arguments.length?(y=C,b):y},function(C){return A=C,r=C(e),n=C(t),s=r===n?0:1/(n-r),b}}function Cd(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function oP(){var e=Bd(Ob()(pA));return e.copy=function(){return Cd(e,oP())},gf.apply(e,arguments)}function lP(){var e=gC(Ob()).domain([1,10]);return e.copy=function(){return Cd(e,lP()).base(e.base())},gf.apply(e,arguments)}function AP(){var e=yC(Ob());return e.copy=function(){return Cd(e,AP()).constant(e.constant())},gf.apply(e,arguments)}function IC(){var e=vC(Ob());return e.copy=function(){return Cd(e,IC()).exponent(e.exponent())},gf.apply(e,arguments)}function pK(){return IC.apply(null,arguments).exponent(.5)}function uP(){var e=[],t=pA;function r(n){if(n!=null&&!isNaN(n=+n))return t((by(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(pd),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,A)=>e7(e,A/n))},r.copy=function(){return uP(t).domain(e)},gf.apply(r,arguments)}function Db(){var e=0,t=.5,r=1,n=1,s,A,f,l,y,b=pA,w,C=!1,F;function T(k){return isNaN(k=+k)?F:(k=.5+((k=+w(k))-A)*(n*k<n*A?l:y),b(C?Math.max(0,Math.min(1,k)):k))}T.domain=function(k){return arguments.length?([e,t,r]=k,s=w(e=+e),A=w(t=+t),f=w(r=+r),l=s===A?0:.5/(A-s),y=A===f?0:.5/(f-A),n=A<s?-1:1,T):[e,t,r]},T.clamp=function(k){return arguments.length?(C=!!k,T):C},T.interpolator=function(k){return arguments.length?(b=k,T):b};function j(k){return function(H){var K,Y,W;return arguments.length?([K,Y,W]=H,b=E7(k,[K,Y,W]),T):[b(0),b(.5),b(1)]}}return T.range=j(ag),T.rangeRound=j(fC),T.unknown=function(k){return arguments.length?(F=k,T):F},function(k){return w=k,s=k(e),A=k(t),f=k(r),l=s===A?0:.5/(A-s),y=A===f?0:.5/(f-A),n=A<s?-1:1,T}}function cP(){var e=Bd(Db()(pA));return e.copy=function(){return Cd(e,cP())},gf.apply(e,arguments)}function hP(){var e=gC(Db()).domain([.1,1,10]);return e.copy=function(){return Cd(e,hP()).base(e.base())},gf.apply(e,arguments)}function fP(){var e=yC(Db());return e.copy=function(){return Cd(e,fP()).constant(e.constant())},gf.apply(e,arguments)}function FC(){var e=vC(Db());return e.copy=function(){return Cd(e,FC()).exponent(e.exponent())},gf.apply(e,arguments)}function mK(){return FC.apply(null,arguments).exponent(.5)}const T0=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:uC,scaleDiverging:cP,scaleDivergingLog:hP,scaleDivergingPow:FC,scaleDivergingSqrt:mK,scaleDivergingSymlog:fP,scaleIdentity:VM,scaleImplicit:MB,scaleLinear:KM,scaleLog:GM,scaleOrdinal:AC,scalePoint:n7,scalePow:_C,scaleQuantile:ZM,scaleQuantize:WM,scaleRadial:XM,scaleSequential:oP,scaleSequentialLog:lP,scaleSequentialPow:IC,scaleSequentialQuantile:uP,scaleSequentialSqrt:pK,scaleSequentialSymlog:AP,scaleSqrt:Z7,scaleSymlog:$M,scaleThreshold:YM,scaleTime:fK,scaleUtc:dK,tickFormat:HM},Symbol.toStringTag,{value:"Module"}));var Sd=e=>e.chartData,gK=Tt([Sd],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),kb=(e,t,r,n)=>n?gK(e):Sd(e);function yd(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Is(t)&&Is(r))return!0}return!1}function J3(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function dP(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,s,A;if(Is(r))s=r;else if(typeof r=="function")return;if(Is(n))A=n;else if(typeof n=="function")return;var f=[s,A];if(yd(f))return f}}function yK(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(yd(n))return J3(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[s,A]=e,f,l;if(s==="auto")t!=null&&(f=Math.min(...t));else if(Qr(s))f=s;else if(typeof s=="function")try{t!=null&&(f=s(t?.[0]))}catch{}else if(typeof s=="string"&&E4.test(s)){var y=E4.exec(s);if(y==null||t==null)f=void 0;else{var b=+y[1];f=t[0]-b}}else f=t?.[0];if(A==="auto")t!=null&&(l=Math.max(...t));else if(Qr(A))l=A;else if(typeof A=="function")try{t!=null&&(l=A(t?.[1]))}catch{}else if(typeof A=="string"&&T4.test(A)){var w=T4.exec(A);if(w==null||t==null)l=void 0;else{var C=+w[1];l=t[1]+C}}else l=t?.[1];var F=[f,l];if(yd(F))return t==null?F:J3(F,t,r)}}}var sg=1e9,vK={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},UC,ka=!0,lc="[DecimalError] ",Bp=lc+"Invalid argument: ",LC=lc+"Exponent out of range: ",og=Math.floor,hp=Math.pow,_K=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Cu,Oo=1e7,Ca=7,pP=9007199254740991,T_=og(pP/Ca),Sr={};Sr.absoluteValue=Sr.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Sr.comparedTo=Sr.cmp=function(e){var t,r,n,s,A=this;if(e=new A.constructor(e),A.s!==e.s)return A.s||-e.s;if(A.e!==e.e)return A.e>e.e^A.s<0?1:-1;for(n=A.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(A.d[t]!==e.d[t])return A.d[t]>e.d[t]^A.s<0?1:-1;return n===s?0:n>s^A.s<0?1:-1};Sr.decimalPlaces=Sr.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ca;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Sr.dividedBy=Sr.div=function(e){return nf(this,new this.constructor(e))};Sr.dividedToIntegerBy=Sr.idiv=function(e){var t=this,r=t.constructor;return la(nf(t,new r(e),0,1),r.precision)};Sr.equals=Sr.eq=function(e){return!this.cmp(e)};Sr.exponent=function(){return qs(this)};Sr.greaterThan=Sr.gt=function(e){return this.cmp(e)>0};Sr.greaterThanOrEqualTo=Sr.gte=function(e){return this.cmp(e)>=0};Sr.isInteger=Sr.isint=function(){return this.e>this.d.length-2};Sr.isNegative=Sr.isneg=function(){return this.s<0};Sr.isPositive=Sr.ispos=function(){return this.s>0};Sr.isZero=function(){return this.s===0};Sr.lessThan=Sr.lt=function(e){return this.cmp(e)<0};Sr.lessThanOrEqualTo=Sr.lte=function(e){return this.cmp(e)<1};Sr.logarithm=Sr.log=function(e){var t,r=this,n=r.constructor,s=n.precision,A=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Cu))throw Error(lc+"NaN");if(r.s<1)throw Error(lc+(r.s?"NaN":"-Infinity"));return r.eq(Cu)?new n(0):(ka=!1,t=nf(ry(r,A),ry(e,A),A),ka=!0,la(t,s))};Sr.minus=Sr.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?yP(t,e):mP(t,(e.s=-e.s,e))};Sr.modulo=Sr.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(lc+"NaN");return r.s?(ka=!1,t=nf(r,e,0,1).times(e),ka=!0,r.minus(t)):la(new n(r),s)};Sr.naturalExponential=Sr.exp=function(){return gP(this)};Sr.naturalLogarithm=Sr.ln=function(){return ry(this)};Sr.negated=Sr.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Sr.plus=Sr.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?mP(t,e):yP(t,(e.s=-e.s,e))};Sr.precision=Sr.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Bp+e);if(t=qs(s)+1,n=s.d.length-1,r=n*Ca+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Sr.squareRoot=Sr.sqrt=function(){var e,t,r,n,s,A,f,l=this,y=l.constructor;if(l.s<1){if(!l.s)return new y(0);throw Error(lc+"NaN")}for(e=qs(l),ka=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=vh(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=og((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new y(t)):n=new y(s.toString()),r=y.precision,s=f=r+3;;)if(A=n,n=A.plus(nf(l,A,f+2)).times(.5),vh(A.d).slice(0,f)===(t=vh(n.d)).slice(0,f)){if(t=t.slice(f-3,f+1),s==f&&t=="4999"){if(la(A,r+1,0),A.times(A).eq(l)){n=A;break}}else if(t!="9999")break;f+=4}return ka=!0,la(n,r)};Sr.times=Sr.mul=function(e){var t,r,n,s,A,f,l,y,b,w=this,C=w.constructor,F=w.d,T=(e=new C(e)).d;if(!w.s||!e.s)return new C(0);for(e.s*=w.s,r=w.e+e.e,y=F.length,b=T.length,y<b&&(A=F,F=T,T=A,f=y,y=b,b=f),A=[],f=y+b,n=f;n--;)A.push(0);for(n=b;--n>=0;){for(t=0,s=y+n;s>n;)l=A[s]+T[n]*F[s-n-1]+t,A[s--]=l%Oo|0,t=l/Oo|0;A[s]=(A[s]+t)%Oo|0}for(;!A[--f];)A.pop();return t?++r:A.shift(),e.d=A,e.e=r,ka?la(e,C.precision):e};Sr.toDecimalPlaces=Sr.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ch(e,0,sg),t===void 0?t=n.rounding:Ch(t,0,8),la(r,e+qs(r)+1,t))};Sr.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=Fp(n,!0):(Ch(e,0,sg),t===void 0?t=s.rounding:Ch(t,0,8),n=la(new s(n),e+1,t),r=Fp(n,!0,e+1)),r};Sr.toFixed=function(e,t){var r,n,s=this,A=s.constructor;return e===void 0?Fp(s):(Ch(e,0,sg),t===void 0?t=A.rounding:Ch(t,0,8),n=la(new A(s),e+qs(s)+1,t),r=Fp(n.abs(),!1,e+qs(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};Sr.toInteger=Sr.toint=function(){var e=this,t=e.constructor;return la(new t(e),qs(e)+1,t.rounding)};Sr.toNumber=function(){return+this};Sr.toPower=Sr.pow=function(e){var t,r,n,s,A,f,l=this,y=l.constructor,b=12,w=+(e=new y(e));if(!e.s)return new y(Cu);if(l=new y(l),!l.s){if(e.s<1)throw Error(lc+"Infinity");return l}if(l.eq(Cu))return l;if(n=y.precision,e.eq(Cu))return la(l,n);if(t=e.e,r=e.d.length-1,f=t>=r,A=l.s,f){if((r=w<0?-w:w)<=pP){for(s=new y(Cu),t=Math.ceil(n/Ca+4),ka=!1;r%2&&(s=s.times(l),tT(s.d,t)),r=og(r/2),r!==0;)l=l.times(l),tT(l.d,t);return ka=!0,e.s<0?new y(Cu).div(s):la(s,n)}}else if(A<0)throw Error(lc+"NaN");return A=A<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,ka=!1,s=e.times(ry(l,n+b)),ka=!0,s=gP(s),s.s=A,s};Sr.toPrecision=function(e,t){var r,n,s=this,A=s.constructor;return e===void 0?(r=qs(s),n=Fp(s,r<=A.toExpNeg||r>=A.toExpPos)):(Ch(e,1,sg),t===void 0?t=A.rounding:Ch(t,0,8),s=la(new A(s),e,t),r=qs(s),n=Fp(s,e<=r||r<=A.toExpNeg,e)),n};Sr.toSignificantDigits=Sr.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ch(e,1,sg),t===void 0?t=n.rounding:Ch(t,0,8)),la(new n(r),e,t)};Sr.toString=Sr.valueOf=Sr.val=Sr.toJSON=Sr[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=qs(e),r=e.constructor;return Fp(e,t<=r.toExpNeg||t>=r.toExpPos)};function mP(e,t){var r,n,s,A,f,l,y,b,w=e.constructor,C=w.precision;if(!e.s||!t.s)return t.s||(t=new w(e)),ka?la(t,C):t;if(y=e.d,b=t.d,f=e.e,s=t.e,y=y.slice(),A=f-s,A){for(A<0?(n=y,A=-A,l=b.length):(n=b,s=f,l=y.length),f=Math.ceil(C/Ca),l=f>l?f+1:l+1,A>l&&(A=l,n.length=1),n.reverse();A--;)n.push(0);n.reverse()}for(l=y.length,A=b.length,l-A<0&&(A=l,n=b,b=y,y=n),r=0;A;)r=(y[--A]=y[A]+b[A]+r)/Oo|0,y[A]%=Oo;for(r&&(y.unshift(r),++s),l=y.length;y[--l]==0;)y.pop();return t.d=y,t.e=s,ka?la(t,C):t}function Ch(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Bp+e)}function vh(e){var t,r,n,s=e.length-1,A="",f=e[0];if(s>0){for(A+=f,t=1;t<s;t++)n=e[t]+"",r=Ca-n.length,r&&(A+=od(r)),A+=n;f=e[t],n=f+"",r=Ca-n.length,r&&(A+=od(r))}else if(f===0)return"0";for(;f%10===0;)f/=10;return A+f}var nf=(function(){function e(n,s){var A,f=0,l=n.length;for(n=n.slice();l--;)A=n[l]*s+f,n[l]=A%Oo|0,f=A/Oo|0;return f&&n.unshift(f),n}function t(n,s,A,f){var l,y;if(A!=f)y=A>f?1:-1;else for(l=y=0;l<A;l++)if(n[l]!=s[l]){y=n[l]>s[l]?1:-1;break}return y}function r(n,s,A){for(var f=0;A--;)n[A]-=f,f=n[A]<s[A]?1:0,n[A]=f*Oo+n[A]-s[A];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,A,f){var l,y,b,w,C,F,T,j,k,H,K,Y,W,ae,Ae,pe,Be,Fe,me=n.constructor,He=n.s==s.s?1:-1,se=n.d,de=s.d;if(!n.s)return new me(n);if(!s.s)throw Error(lc+"Division by zero");for(y=n.e-s.e,Be=de.length,Ae=se.length,T=new me(He),j=T.d=[],b=0;de[b]==(se[b]||0);)++b;if(de[b]>(se[b]||0)&&--y,A==null?Y=A=me.precision:f?Y=A+(qs(n)-qs(s))+1:Y=A,Y<0)return new me(0);if(Y=Y/Ca+2|0,b=0,Be==1)for(w=0,de=de[0],Y++;(b<Ae||w)&&Y--;b++)W=w*Oo+(se[b]||0),j[b]=W/de|0,w=W%de|0;else{for(w=Oo/(de[0]+1)|0,w>1&&(de=e(de,w),se=e(se,w),Be=de.length,Ae=se.length),ae=Be,k=se.slice(0,Be),H=k.length;H<Be;)k[H++]=0;Fe=de.slice(),Fe.unshift(0),pe=de[0],de[1]>=Oo/2&&++pe;do w=0,l=t(de,k,Be,H),l<0?(K=k[0],Be!=H&&(K=K*Oo+(k[1]||0)),w=K/pe|0,w>1?(w>=Oo&&(w=Oo-1),C=e(de,w),F=C.length,H=k.length,l=t(C,k,F,H),l==1&&(w--,r(C,Be<F?Fe:de,F))):(w==0&&(l=w=1),C=de.slice()),F=C.length,F<H&&C.unshift(0),r(k,C,H),l==-1&&(H=k.length,l=t(de,k,Be,H),l<1&&(w++,r(k,Be<H?Fe:de,H))),H=k.length):l===0&&(w++,k=[0]),j[b++]=w,l&&k[0]?k[H++]=se[ae]||0:(k=[se[ae]],H=1);while((ae++<Ae||k[0]!==void 0)&&Y--)}return j[0]||j.shift(),T.e=y,la(T,f?A+qs(T)+1:A)}})();function gP(e,t){var r,n,s,A,f,l,y=0,b=0,w=e.constructor,C=w.precision;if(qs(e)>16)throw Error(LC+qs(e));if(!e.s)return new w(Cu);for(ka=!1,l=C,f=new w(.03125);e.abs().gte(.1);)e=e.times(f),b+=5;for(n=Math.log(hp(2,b))/Math.LN10*2+5|0,l+=n,r=s=A=new w(Cu),w.precision=l;;){if(s=la(s.times(e),l),r=r.times(++y),f=A.plus(nf(s,r,l)),vh(f.d).slice(0,l)===vh(A.d).slice(0,l)){for(;b--;)A=la(A.times(A),l);return w.precision=C,t==null?(ka=!0,la(A,C)):A}A=f}}function qs(e){for(var t=e.e*Ca,r=e.d[0];r>=10;r/=10)t++;return t}function qx(e,t,r){if(t>e.LN10.sd())throw ka=!0,r&&(e.precision=r),Error(lc+"LN10 precision limit exceeded");return la(new e(e.LN10),t)}function od(e){for(var t="";e--;)t+="0";return t}function ry(e,t){var r,n,s,A,f,l,y,b,w,C=1,F=10,T=e,j=T.d,k=T.constructor,H=k.precision;if(T.s<1)throw Error(lc+(T.s?"NaN":"-Infinity"));if(T.eq(Cu))return new k(0);if(t==null?(ka=!1,b=H):b=t,T.eq(10))return t==null&&(ka=!0),qx(k,b);if(b+=F,k.precision=b,r=vh(j),n=r.charAt(0),A=qs(T),Math.abs(A)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)T=T.times(e),r=vh(T.d),n=r.charAt(0),C++;A=qs(T),n>1?(T=new k("0."+r),A++):T=new k(n+"."+r.slice(1))}else return y=qx(k,b+2,H).times(A+""),T=ry(new k(n+"."+r.slice(1)),b-F).plus(y),k.precision=H,t==null?(ka=!0,la(T,H)):T;for(l=f=T=nf(T.minus(Cu),T.plus(Cu),b),w=la(T.times(T),b),s=3;;){if(f=la(f.times(w),b),y=l.plus(nf(f,new k(s),b)),vh(y.d).slice(0,b)===vh(l.d).slice(0,b))return l=l.times(2),A!==0&&(l=l.plus(qx(k,b+2,H).times(A+""))),l=nf(l,new k(C),b),k.precision=H,t==null?(ka=!0,la(l,H)):l;l=y,s+=2}}function eT(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=og(r/Ca),e.d=[],n=(r+1)%Ca,r<0&&(n+=Ca),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=Ca;n<s;)e.d.push(+t.slice(n,n+=Ca));t=t.slice(n),n=Ca-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),ka&&(e.e>T_||e.e<-T_))throw Error(LC+r)}else e.s=0,e.e=0,e.d=[0];return e}function la(e,t,r){var n,s,A,f,l,y,b,w,C=e.d;for(f=1,A=C[0];A>=10;A/=10)f++;if(n=t-f,n<0)n+=Ca,s=t,b=C[w=0];else{if(w=Math.ceil((n+1)/Ca),A=C.length,w>=A)return e;for(b=A=C[w],f=1;A>=10;A/=10)f++;n%=Ca,s=n-Ca+f}if(r!==void 0&&(A=hp(10,f-s-1),l=b/A%10|0,y=t<0||C[w+1]!==void 0||b%A,y=r<4?(l||y)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||y||r==6&&(n>0?s>0?b/hp(10,f-s):0:C[w-1])%10&1||r==(e.s<0?8:7))),t<1||!C[0])return y?(A=qs(e),C.length=1,t=t-A-1,C[0]=hp(10,(Ca-t%Ca)%Ca),e.e=og(-t/Ca)||0):(C.length=1,C[0]=e.e=e.s=0),e;if(n==0?(C.length=w,A=1,w--):(C.length=w+1,A=hp(10,Ca-n),C[w]=s>0?(b/hp(10,f-s)%hp(10,s)|0)*A:0),y)for(;;)if(w==0){(C[0]+=A)==Oo&&(C[0]=1,++e.e);break}else{if(C[w]+=A,C[w]!=Oo)break;C[w--]=0,A=1}for(n=C.length;C[--n]===0;)C.pop();if(ka&&(e.e>T_||e.e<-T_))throw Error(LC+qs(e));return e}function yP(e,t){var r,n,s,A,f,l,y,b,w,C,F=e.constructor,T=F.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new F(e),ka?la(t,T):t;if(y=e.d,C=t.d,n=t.e,b=e.e,y=y.slice(),f=b-n,f){for(w=f<0,w?(r=y,f=-f,l=C.length):(r=C,n=b,l=y.length),s=Math.max(Math.ceil(T/Ca),l)+2,f>s&&(f=s,r.length=1),r.reverse(),s=f;s--;)r.push(0);r.reverse()}else{for(s=y.length,l=C.length,w=s<l,w&&(l=s),s=0;s<l;s++)if(y[s]!=C[s]){w=y[s]<C[s];break}f=0}for(w&&(r=y,y=C,C=r,t.s=-t.s),l=y.length,s=C.length-l;s>0;--s)y[l++]=0;for(s=C.length;s>f;){if(y[--s]<C[s]){for(A=s;A&&y[--A]===0;)y[A]=Oo-1;--y[A],y[s]+=Oo}y[s]-=C[s]}for(;y[--l]===0;)y.pop();for(;y[0]===0;y.shift())--n;return y[0]?(t.d=y,t.e=n,ka?la(t,T):t):new F(0)}function Fp(e,t,r){var n,s=qs(e),A=vh(e.d),f=A.length;return t?(r&&(n=r-f)>0?A=A.charAt(0)+"."+A.slice(1)+od(n):f>1&&(A=A.charAt(0)+"."+A.slice(1)),A=A+(s<0?"e":"e+")+s):s<0?(A="0."+od(-s-1)+A,r&&(n=r-f)>0&&(A+=od(n))):s>=f?(A+=od(s+1-f),r&&(n=r-s-1)>0&&(A=A+"."+od(n))):((n=s+1)<f&&(A=A.slice(0,n)+"."+A.slice(n)),r&&(n=r-f)>0&&(s+1===f&&(A+="."),A+=od(n))),e.s<0?"-"+A:A}function tT(e,t){if(e.length>t)return e.length=t,!0}function vP(e){var t,r,n;function s(A){var f=this;if(!(f instanceof s))return new s(A);if(f.constructor=s,A instanceof s){f.s=A.s,f.e=A.e,f.d=(A=A.d)?A.slice():A;return}if(typeof A=="number"){if(A*0!==0)throw Error(Bp+A);if(A>0)f.s=1;else if(A<0)A=-A,f.s=-1;else{f.s=0,f.e=0,f.d=[0];return}if(A===~~A&&A<1e7){f.e=0,f.d=[A];return}return eT(f,A.toString())}else if(typeof A!="string")throw Error(Bp+A);if(A.charCodeAt(0)===45?(A=A.slice(1),f.s=-1):f.s=1,_K.test(A))eT(f,A);else throw Error(Bp+A)}if(s.prototype=Sr,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=vP,s.config=s.set=bK,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function bK(e){if(!e||typeof e!="object")throw Error(lc+"Object expected");var t,r,n,s=["precision",1,sg,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(og(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(Bp+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Bp+r+": "+n);return this}var UC=vP(vK);Cu=new UC(1);const Qi=UC;var wK=e=>e,_P={},bP=e=>e===_P,rT=e=>function t(){return arguments.length===0||arguments.length===1&&bP(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},wP=(e,t)=>e===1?t:rT(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];var A=n.filter(f=>f!==_P).length;return A>=e?t(...n):wP(e-A,rT(function(){for(var f=arguments.length,l=new Array(f),y=0;y<f;y++)l[y]=arguments[y];var b=n.map(w=>bP(w)?l.shift():w);return t(...b,...l)}))}),xK=e=>wP(e.length,e),kB=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},BK=xK((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),CK=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return wK;var s=r.reverse(),A=s[0],f=s.slice(1);return function(){return f.reduce((l,y)=>y(l),A(...arguments))}},NB=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function xP(e){var t;return e===0?t=1:t=Math.floor(new Qi(e).abs().log(10).toNumber())+1,t}function BP(e,t,r){for(var n=new Qi(e),s=0,A=[];n.lt(t)&&s<1e5;)A.push(n.toNumber()),n=n.add(r),s++;return A}var CP=e=>{var[t,r]=e,[n,s]=[t,r];return t>r&&([n,s]=[r,t]),[n,s]},SP=(e,t,r)=>{if(e.lte(0))return new Qi(0);var n=xP(e.toNumber()),s=new Qi(10).pow(n),A=e.div(s),f=n!==1?.05:.1,l=new Qi(Math.ceil(A.div(f).toNumber())).add(r).mul(f),y=l.mul(s);return t?new Qi(y.toNumber()):new Qi(Math.ceil(y.toNumber()))},SK=(e,t,r)=>{var n=new Qi(1),s=new Qi(e);if(!s.isint()&&r){var A=Math.abs(e);A<1?(n=new Qi(10).pow(xP(e)-1),s=new Qi(Math.floor(s.div(n).toNumber())).mul(n)):A>1&&(s=new Qi(Math.floor(e)))}else e===0?s=new Qi(Math.floor((t-1)/2)):r||(s=new Qi(Math.floor(e)));var f=Math.floor((t-1)/2),l=CK(BK(y=>s.add(new Qi(y-f).mul(n)).toNumber()),kB);return l(0,t)},EP=function(t,r,n,s){var A=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Qi(0),tickMin:new Qi(0),tickMax:new Qi(0)};var f=SP(new Qi(r).sub(t).div(n-1),s,A),l;t<=0&&r>=0?l=new Qi(0):(l=new Qi(t).add(r).div(2),l=l.sub(new Qi(l).mod(f)));var y=Math.ceil(l.sub(t).div(f).toNumber()),b=Math.ceil(new Qi(r).sub(l).div(f).toNumber()),w=y+b+1;return w>n?EP(t,r,n,s,A+1):(w<n&&(b=r>0?b+(n-w):b,y=r>0?y:y+(n-w)),{step:f,tickMin:l.sub(new Qi(y).mul(f)),tickMax:l.add(new Qi(b).mul(f))})},EK=function(t){var[r,n]=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,f=Math.max(s,2),[l,y]=CP([r,n]);if(l===-1/0||y===1/0){var b=y===1/0?[l,...kB(0,s-1).map(()=>1/0)]:[...kB(0,s-1).map(()=>-1/0),y];return r>n?NB(b):b}if(l===y)return SK(l,s,A);var{step:w,tickMin:C,tickMax:F}=EP(l,y,f,A,0),T=BP(C,F.add(new Qi(.1).mul(w)),w);return r>n?NB(T):T},TK=function(t,r){var[n,s]=t,A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[f,l]=CP([n,s]);if(f===-1/0||l===1/0)return[n,s];if(f===l)return[f];var y=Math.max(r,2),b=SP(new Qi(l).sub(f).div(y-1),A,0),w=[...BP(new Qi(f),new Qi(l),b),l];return A===!1&&(w=w.map(C=>Math.round(C))),n>s?NB(w):w},TP=e=>e.rootProps.maxBarSize,IK=e=>e.rootProps.barGap,IP=e=>e.rootProps.barCategoryGap,FK=e=>e.rootProps.barSize,Nb=e=>e.rootProps.stackOffset,FP=e=>e.rootProps.reverseStackOrder,MC=e=>e.options.chartName,PC=e=>e.rootProps.syncId,LP=e=>e.rootProps.syncMethod,OC=e=>e.options.eventEmitter,ko={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Yh={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Bu={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Qb=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},LK={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Yh.angleAxisId,includeHidden:!1,name:void 0,reversed:Yh.reversed,scale:Yh.scale,tick:Yh.tick,tickCount:void 0,ticks:void 0,type:Yh.type,unit:void 0},UK={allowDataOverflow:Bu.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Bu.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Bu.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Bu.scale,tick:Bu.tick,tickCount:Bu.tickCount,ticks:void 0,type:Bu.type,unit:void 0},MK={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Yh.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Yh.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Yh.scale,tick:Yh.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},PK={allowDataOverflow:Bu.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Bu.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Bu.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Bu.scale,tick:Bu.tick,tickCount:Bu.tickCount,ticks:void 0,type:"category",unit:void 0},DC=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?MK:LK,kC=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?PK:UK,Rb=e=>e.polarOptions,NC=Tt([pf,mf,No],TH),UP=Tt([Rb,NC],(e,t)=>{if(e!=null)return Rc(e.innerRadius,t,0)}),MP=Tt([Rb,NC],(e,t)=>{if(e!=null)return Rc(e.outerRadius,t,t*.8)}),OK=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},PP=Tt([Rb],OK);Tt([DC,PP],Qb);var OP=Tt([NC,UP,MP],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});Tt([kC,OP],Qb);var DP=Tt([Ci,Rb,UP,MP,pf,mf],(e,t,r,n,s,A)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:f,cy:l,startAngle:y,endAngle:b}=t;return{cx:Rc(f,s,s/2),cy:Rc(l,A,A/2),innerRadius:r,outerRadius:n,startAngle:y,endAngle:b,clockWise:!1}}}),go=(e,t)=>t,zb=(e,t,r)=>r;function QC(e){return e?.id}function kP(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:s,dataKey:A}=r,f=new Map;return e.forEach(l=>{var y,b=(y=l.data)!==null&&y!==void 0?y:n;if(!(b==null||b.length===0)){var w=QC(l);b.forEach((C,F)=>{var T=A==null||s?F:String(po(C,A,null)),j=po(C,l.dataKey,0),k;f.has(T)?k=f.get(T):k={},Object.assign(k,{[w]:j}),f.set(T,k)})}}),Array.from(f.values())}function jb(e){return e.stackId!=null&&e.dataKey!=null}var Hb=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Kb(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function DK(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var yo=e=>{var t=Ci(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},lg=e=>e.tooltip.settings.axisId;function nT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function I_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nT(Object(r),!0).forEach(function(n){kK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kK(e,t,r){return(t=NK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NK(e){var t=QK(e,"string");return typeof t=="symbol"?t:t+""}function QK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QB=[0,"auto"],Mo={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},NP=(e,t)=>e.cartesianAxis.xAxis[t],yf=(e,t)=>{var r=NP(e,t);return r??Mo},Po={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:QB,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:yy},QP=(e,t)=>e.cartesianAxis.yAxis[t],vf=(e,t)=>{var r=QP(e,t);return r??Po},RK={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},RC=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??RK},yA=(e,t,r)=>{switch(t){case"xAxis":return yf(e,r);case"yAxis":return vf(e,r);case"zAxis":return RC(e,r);case"angleAxis":return DC(e,r);case"radiusAxis":return kC(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},zK=(e,t,r)=>{switch(t){case"xAxis":return yf(e,r);case"yAxis":return vf(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Cy=(e,t,r)=>{switch(t){case"xAxis":return yf(e,r);case"yAxis":return vf(e,r);case"angleAxis":return DC(e,r);case"radiusAxis":return kC(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},RP=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function zP(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Vb=e=>e.graphicalItems.cartesianItems,jK=Tt([go,zb],zP),jP=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),Sy=Tt([Vb,yA,jK],jP,{memoizeOptions:{resultEqualityCheck:Kb}}),HP=Tt([Sy],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(jb)),KP=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),HK=Tt([Sy],KP),VP=e=>e.map(t=>t.data).filter(Boolean).flat(1),KK=Tt([Sy],VP,{memoizeOptions:{resultEqualityCheck:Kb}}),qP=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:s}=t;return e.length>0?e:r.slice(n,s+1)},zC=Tt([KK,kb],qP),GP=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:po(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(s=>({value:po(s,n)}))):e.map(n=>({value:n})),qb=Tt([zC,yA,Sy],GP);function $P(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function D1(e){if(wh(e)||e instanceof Date){var t=Number(e);if(Is(t))return t}}function iT(e){if(Array.isArray(e)){var t=[D1(e[0]),D1(e[1])];return yd(t)?t:void 0}var r=D1(e);if(r!=null)return[r,r]}function hf(e){return e.map(D1).filter(UQ)}function VK(e,t,r){return!r||typeof t!="number"||Qc(t)?[]:r.length?hf(r.flatMap(n=>{var s=po(e,n.dataKey),A,f;if(Array.isArray(s)?[A,f]=s:A=f=s,!(!Is(A)||!Is(f)))return[t-A,t+f]})):[]}var vo=e=>{var t=yo(e),r=lg(e);return Cy(e,t,r)},Ey=Tt([vo],e=>e?.dataKey),qK=Tt([HP,kb,vo],kP),XP=(e,t,r,n)=>{var s={},A=t.reduce((f,l)=>(l.stackId==null||(f[l.stackId]==null&&(f[l.stackId]=[]),f[l.stackId].push(l)),f),s);return Object.fromEntries(Object.entries(A).map(f=>{var[l,y]=f,b=n?[...y].reverse():y,w=b.map(QC);return[l,{stackedData:az(e,w,r),graphicalItems:b}]}))},RB=Tt([qK,HP,Nb,FP],XP),ZP=(e,t,r,n)=>{var{dataStartIndex:s,dataEndIndex:A}=t;if(n==null&&r!=="zAxis"){var f=uz(e,s,A);if(!(f!=null&&f[0]===0&&f[1]===0))return f}},GK=Tt([yA],e=>e.allowDataOverflow),jC=e=>{var t;if(e==null||!("domain"in e))return QB;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=hf(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:QB},WP=Tt([yA],jC),YP=Tt([WP,GK],dP),$K=Tt([RB,Sd,go,YP],ZP,{memoizeOptions:{resultEqualityCheck:Hb}}),HC=e=>e.errorBars,XK=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>$P(r,n)),F_=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r.filter(Boolean);if(s.length!==0){var A=s.flat(),f=Math.min(...A),l=Math.max(...A);return[f,l]}},JP=(e,t,r,n,s)=>{var A,f;if(r.length>0&&e.forEach(l=>{r.forEach(y=>{var b,w,C=(b=n[y.id])===null||b===void 0?void 0:b.filter(K=>$P(s,K)),F=po(l,(w=t.dataKey)!==null&&w!==void 0?w:y.dataKey),T=VK(l,F,C);if(T.length>=2){var j=Math.min(...T),k=Math.max(...T);(A==null||j<A)&&(A=j),(f==null||k>f)&&(f=k)}var H=iT(F);H!=null&&(A=A==null?H[0]:Math.min(A,H[0]),f=f==null?H[1]:Math.max(f,H[1]))})}),t?.dataKey!=null&&e.forEach(l=>{var y=iT(po(l,t.dataKey));y!=null&&(A=A==null?y[0]:Math.min(A,y[0]),f=f==null?y[1]:Math.max(f,y[1]))}),Is(A)&&Is(f))return[A,f]},ZK=Tt([zC,yA,HK,HC,go],JP,{memoizeOptions:{resultEqualityCheck:Hb}});function WK(e){var{value:t}=e;if(wh(t)||t instanceof Date)return t}var YK=(e,t,r)=>{var n=e.map(WK).filter(s=>s!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&fU(n))?MM(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},eO=e=>e.referenceElements.dots,Ag=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),JK=Tt([eO,go,zb],Ag),tO=e=>e.referenceElements.areas,eV=Tt([tO,go,zb],Ag),rO=e=>e.referenceElements.lines,tV=Tt([rO,go,zb],Ag),nO=(e,t)=>{var r=hf(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},rV=Tt(JK,go,nO),iO=(e,t)=>{var r=hf(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},nV=Tt([eV,go],iO);function iV(e){var t;if(e.x!=null)return hf([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:hf(r)}function aV(e){var t;if(e.y!=null)return hf([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:hf(r)}var aO=(e,t)=>{var r=e.flatMap(n=>t==="xAxis"?iV(n):aV(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},sV=Tt([tV,go],aO),oV=Tt(rV,sV,nV,(e,t,r)=>F_(e,r,t)),sO=(e,t,r,n,s,A,f,l)=>{if(r!=null)return r;var y=f==="vertical"&&l==="xAxis"||f==="horizontal"&&l==="yAxis",b=y?F_(n,A,s):F_(A,s);return yK(t,b,e.allowDataOverflow)},lV=Tt([yA,WP,YP,$K,ZK,oV,Ci,go],sO,{memoizeOptions:{resultEqualityCheck:Hb}}),AV=[0,1],oO=(e,t,r,n,s,A,f)=>{if(!((e==null||r==null||r.length===0)&&f===void 0)){var{dataKey:l,type:y}=e,b=xd(t,A);if(b&&l==null){var w;return MM(0,(w=r?.length)!==null&&w!==void 0?w:0)}return y==="category"?YK(n,e,b):s==="expand"?AV:f}},KC=Tt([yA,Ci,zC,qb,Nb,go,lV],oO),lO=(e,t,r,n,s)=>{if(e!=null){var{scale:A,type:f}=e;if(A==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":f==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":f==="category"?"band":"linear";if(typeof A=="string"){var l="scale".concat(fy(A));return l in T0?l:"point"}}},Ty=Tt([yA,Ci,RP,MC,go],lO);function uV(e){if(e!=null){if(e in T0)return T0[e]();var t="scale".concat(fy(e));if(t in T0)return T0[t]()}}function VC(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var s=uV(t);if(s!=null){var A=s.domain(r).range(n);return ez(A),A}}}var AO=(e,t,r)=>{var n=jC(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&yd(e))return EK(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&yd(e))return TK(e,t.tickCount,t.allowDecimals)}},qC=Tt([KC,Cy,Ty],AO),uO=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&yd(t)&&Array.isArray(r)&&r.length>0){var s=t[0],A=r[0],f=t[1],l=r[r.length-1];return[Math.min(s,A),Math.max(f,l)]}return t},cV=Tt([yA,KC,qC,go],uO),hV=Tt(qb,yA,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(hf(e.map(l=>l.value))).sort((l,y)=>l-y);if(n.length<2)return 1/0;var s=n[n.length-1]-n[0];if(s===0)return 1/0;for(var A=0;A<n.length-1;A++){var f=n[A+1]-n[A];r=Math.min(r,f)}return r/s}}),cO=Tt(hV,Ci,IP,No,(e,t,r,n)=>n,(e,t,r,n,s)=>{if(!Is(e))return 0;var A=t==="vertical"?n.height:n.width;if(s==="gap")return e*A/2;if(s==="no-gap"){var f=Rc(r,e*A),l=e*A/2;return l-f-(l-f)/A*f}return 0}),fV=(e,t)=>{var r=yf(e,t);return r==null||typeof r.padding!="string"?0:cO(e,"xAxis",t,r.padding)},dV=(e,t)=>{var r=vf(e,t);return r==null||typeof r.padding!="string"?0:cO(e,"yAxis",t,r.padding)},pV=Tt(yf,fV,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((r=s.left)!==null&&r!==void 0?r:0)+t,right:((n=s.right)!==null&&n!==void 0?n:0)+t}}),mV=Tt(vf,dV,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((r=s.top)!==null&&r!==void 0?r:0)+t,bottom:((n=s.bottom)!==null&&n!==void 0?n:0)+t}}),gV=Tt([No,pV,xb,wb,(e,t,r)=>r],(e,t,r,n,s)=>{var{padding:A}=n;return s?[A.left,r.width-A.right]:[e.left+t.left,e.left+e.width-t.right]}),yV=Tt([No,Ci,mV,xb,wb,(e,t,r)=>r],(e,t,r,n,s,A)=>{var{padding:f}=s;return A?[n.height-f.bottom,f.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Iy=(e,t,r,n)=>{var s;switch(t){case"xAxis":return gV(e,r,n);case"yAxis":return yV(e,r,n);case"zAxis":return(s=RC(e,r))===null||s===void 0?void 0:s.range;case"angleAxis":return PP(e);case"radiusAxis":return OP(e,r);default:return}},hO=Tt([yA,Iy],Qb),ug=Tt([yA,Ty,cV,hO],VC);Tt([Sy,HC,go],XK);function fO(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Gb=(e,t)=>t,$b=(e,t,r)=>r,vV=Tt(_b,Gb,$b,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(fO)),_V=Tt(bb,Gb,$b,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(fO)),dO=(e,t)=>({width:e.width,height:t.height}),bV=(e,t)=>{var r=typeof t.width=="number"?t.width:yy;return{width:r,height:e.height}},pO=Tt(No,yf,dO),wV=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},xV=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},BV=Tt(mf,No,vV,Gb,$b,(e,t,r,n,s)=>{var A={},f;return r.forEach(l=>{var y=dO(t,l);f==null&&(f=wV(t,n,e));var b=n==="top"&&!s||n==="bottom"&&s;A[l.id]=f-Number(b)*y.height,f+=(b?-1:1)*y.height}),A}),CV=Tt(pf,No,_V,Gb,$b,(e,t,r,n,s)=>{var A={},f;return r.forEach(l=>{var y=bV(t,l);f==null&&(f=xV(t,n,e));var b=n==="left"&&!s||n==="right"&&s;A[l.id]=f-Number(b)*y.width,f+=(b?-1:1)*y.width}),A}),SV=(e,t)=>{var r=yf(e,t);if(r!=null)return BV(e,r.orientation,r.mirror)},EV=Tt([No,yf,SV,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var s=r?.[n];return s==null?{x:e.left,y:0}:{x:e.left,y:s}}}),TV=(e,t)=>{var r=vf(e,t);if(r!=null)return CV(e,r.orientation,r.mirror)},IV=Tt([No,vf,TV,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var s=r?.[n];return s==null?{x:0,y:e.top}:{x:s,y:e.top}}}),mO=Tt(No,vf,(e,t)=>{var r=typeof t.width=="number"?t.width:yy;return{width:r,height:e.height}}),aT=(e,t,r)=>{switch(t){case"xAxis":return pO(e,r).width;case"yAxis":return mO(e,r).height;default:return}},gO=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:s,type:A,dataKey:f}=r,l=xd(e,n),y=t.map(b=>b.value);if(f&&l&&A==="category"&&s&&fU(y))return y}},GC=Tt([Ci,qb,yA,go],gO),yO=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:s,scale:A}=r,f=xd(e,n);if(f&&(s==="number"||A!=="auto"))return t.map(l=>l.value)}},$C=Tt([Ci,qb,Cy,go],yO),sT=Tt([Ci,zK,Ty,ug,GC,$C,Iy,qC,go],(e,t,r,n,s,A,f,l,y)=>{if(t!=null){var b=xd(e,y);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:y,categoricalDomain:A,duplicateDomain:s,isCategorical:b,niceTicks:l,range:f,realScaleType:r,scale:n}}}),FV=(e,t,r,n,s,A,f,l,y)=>{if(!(t==null||n==null)){var b=xd(e,y),{type:w,ticks:C,tickCount:F}=t,T=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,j=w==="category"&&n.bandwidth?n.bandwidth()/T:0;j=y==="angleAxis"&&A!=null&&A.length>=2?ZA(A[0]-A[1])*2*j:j;var k=C||s;if(k){var H=k.map((K,Y)=>{var W=f?f.indexOf(K):K;return{index:Y,coordinate:n(W)+j,value:K,offset:j}});return H.filter(K=>Is(K.coordinate))}return b&&l?l.map((K,Y)=>({coordinate:n(K)+j,value:K,index:Y,offset:j})).filter(K=>Is(K.coordinate)):n.ticks?n.ticks(F).map(K=>({coordinate:n(K)+j,value:K,offset:j})):n.domain().map((K,Y)=>({coordinate:n(K)+j,value:f?f[K]:K,index:Y,offset:j}))}},vO=Tt([Ci,Cy,Ty,ug,qC,Iy,GC,$C,go],FV),LV=(e,t,r,n,s,A,f)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=xd(e,f),{tickCount:y}=t,b=0;return b=f==="angleAxis"&&n?.length>=2?ZA(n[0]-n[1])*2*b:b,l&&A?A.map((w,C)=>({coordinate:r(w)+b,value:w,index:C,offset:b})):r.ticks?r.ticks(y).map(w=>({coordinate:r(w)+b,value:w,offset:b})):r.domain().map((w,C)=>({coordinate:r(w)+b,value:s?s[w]:w,index:C,offset:b}))}},vd=Tt([Ci,Cy,ug,Iy,GC,$C,go],LV),_d=Tt(yA,ug,(e,t)=>{if(!(e==null||t==null))return I_(I_({},e),{},{scale:t})}),UV=Tt([yA,Ty,KC,hO],VC);Tt((e,t,r)=>RC(e,r),UV,(e,t)=>{if(!(e==null||t==null))return I_(I_({},e),{},{scale:t})});var MV=Tt([Ci,_b,bb],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),_O=e=>e.options.defaultTooltipEventType,bO=e=>e.options.validateTooltipEventTypes;function wO(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function XC(e,t){var r=_O(e),n=bO(e);return wO(t,r,n)}function PV(e){return Kr(t=>XC(t,e))}var xO=(e,t)=>{var r,n=Number(t);if(!(Qc(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},OV=e=>e.tooltip.settings,ud={active:!1,index:null,dataKey:void 0,coordinate:void 0},DV={itemInteraction:{click:ud,hover:ud},axisInteraction:{click:ud,hover:ud},keyboardInteraction:ud,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},BO=YA({name:"tooltip",initialState:DV,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Da()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,s=kc(e).tooltipItemPayloads.indexOf(r);s>-1&&(e.tooltipItemPayloads[s]=n)},prepare:Da()},removeTooltipEntrySettings:{reducer(e,t){var r=kc(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Da()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:kV,replaceTooltipEntrySettings:NV,removeTooltipEntrySettings:QV,setTooltipSettingsState:RV,setActiveMouseOverItemIndex:CO,mouseLeaveItem:zV,mouseLeaveChart:SO,setActiveClickItemIndex:jV,setMouseOverAxisIndex:EO,setMouseClickAxisIndex:HV,setSyncInteraction:zB,setKeyboardInteraction:jB}=BO.actions,KV=BO.reducer;function oT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Zv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oT(Object(r),!0).forEach(function(n){VV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VV(e,t,r){return(t=qV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qV(e){var t=GV(e,"string");return typeof t=="symbol"?t:t+""}function GV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $V(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function XV(e){return e.index!=null}var TO=(e,t,r,n)=>{if(t==null)return ud;var s=$V(e,t,r);if(s==null)return ud;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var A=e.settings.active===!0;if(XV(s)){if(A)return Zv(Zv({},s),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return Zv(Zv({},ud),{},{coordinate:s.coordinate})};function ZV(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function WV(e,t){var r=ZV(e),n=t[0],s=t[1];if(r===void 0)return!1;var A=Math.min(n,s),f=Math.max(n,s);return r>=A&&r<=f}function YV(e,t,r){if(r==null||t==null)return!0;var n=po(e,t);return n==null||!yd(r)?!0:WV(n,r)}var ZC=(e,t,r,n)=>{var s=e?.index;if(s==null)return null;var A=Number(s);if(!Is(A))return s;var f=0,l=1/0;t.length>0&&(l=t.length-1);var y=Math.max(f,Math.min(A,l)),b=t[y];return b==null||YV(b,r,n)?String(y):null},IO=(e,t,r,n,s,A,f,l)=>{if(!(A==null||l==null)){var y=f[0],b=y==null?void 0:l(y.positions,A);if(b!=null)return b;var w=s?.[Number(A)];if(w)switch(r){case"horizontal":return{x:w.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:w.coordinate}}}},FO=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;return r==="hover"?s=e.itemInteraction.hover.dataKey:s=e.itemInteraction.click.dataKey,s==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(A=>{var f;return((f=A.settings)===null||f===void 0?void 0:f.dataKey)===s})},Fy=e=>e.options.tooltipPayloadSearcher,cg=e=>e.tooltip;function lT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function AT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lT(Object(r),!0).forEach(function(n){JV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JV(e,t,r){return(t=eq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eq(e){var t=tq(e,"string");return typeof t=="symbol"?t:t+""}function tq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rq(e,t){return e??t}var LO=(e,t,r,n,s,A,f)=>{if(!(t==null||A==null)){var{chartData:l,computedData:y,dataStartIndex:b,dataEndIndex:w}=r,C=[];return e.reduce((F,T)=>{var j,{dataDefinedOnItem:k,settings:H}=T,K=rq(k,l),Y=Array.isArray(K)?oM(K,b,w):K,W=(j=H?.dataKey)!==null&&j!==void 0?j:n,ae=H?.nameKey,Ae;if(n&&Array.isArray(Y)&&!Array.isArray(Y[0])&&f==="axis"?Ae=dU(Y,n,s):Ae=A(Y,t,y,ae),Array.isArray(Ae))Ae.forEach(Be=>{var Fe=AT(AT({},H),{},{name:Be.name,unit:Be.unit,color:void 0,fill:void 0});F.push(I4({tooltipEntrySettings:Fe,dataKey:Be.dataKey,payload:Be.payload,value:po(Be.payload,Be.dataKey),name:Be.name}))});else{var pe;F.push(I4({tooltipEntrySettings:H,dataKey:W,payload:Ae,value:po(Ae,W),name:(pe=po(Ae,ae))!==null&&pe!==void 0?pe:H?.name}))}return F},C)}},WC=Tt([vo,Ci,RP,MC,yo],lO),nq=Tt([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),iq=Tt([yo,lg],zP),Ly=Tt([nq,vo,iq],jP,{memoizeOptions:{resultEqualityCheck:Kb}}),aq=Tt([Ly],e=>e.filter(jb)),sq=Tt([Ly],VP,{memoizeOptions:{resultEqualityCheck:Kb}}),hg=Tt([sq,Sd],qP),oq=Tt([aq,Sd,vo],kP),YC=Tt([hg,vo,Ly],GP),UO=Tt([vo],jC),lq=Tt([vo],e=>e.allowDataOverflow),MO=Tt([UO,lq],dP),Aq=Tt([Ly],e=>e.filter(jb)),uq=Tt([oq,Aq,Nb,FP],XP),cq=Tt([uq,Sd,yo,MO],ZP),hq=Tt([Ly],KP),fq=Tt([hg,vo,hq,HC,yo],JP,{memoizeOptions:{resultEqualityCheck:Hb}}),dq=Tt([eO,yo,lg],Ag),pq=Tt([dq,yo],nO),mq=Tt([tO,yo,lg],Ag),gq=Tt([mq,yo],iO),yq=Tt([rO,yo,lg],Ag),vq=Tt([yq,yo],aO),_q=Tt([pq,vq,gq],F_),bq=Tt([vo,UO,MO,cq,fq,_q,Ci,yo],sO),Uy=Tt([vo,Ci,hg,YC,Nb,yo,bq],oO),wq=Tt([Uy,vo,WC],AO),xq=Tt([vo,Uy,wq,yo],uO),PO=e=>{var t=yo(e),r=lg(e),n=!1;return Iy(e,t,r,n)},OO=Tt([vo,PO],Qb),DO=Tt([vo,WC,xq,OO],VC),Bq=Tt([Ci,YC,vo,yo],gO),Cq=Tt([Ci,YC,vo,yo],yO),Sq=(e,t,r,n,s,A,f,l)=>{if(t){var{type:y}=t,b=xd(e,l);if(n){var w=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,C=y==="category"&&n.bandwidth?n.bandwidth()/w:0;return C=l==="angleAxis"&&s!=null&&s?.length>=2?ZA(s[0]-s[1])*2*C:C,b&&f?f.map((F,T)=>({coordinate:n(F)+C,value:F,index:T,offset:C})):n.domain().map((F,T)=>({coordinate:n(F)+C,value:A?A[F]:F,index:T,offset:C}))}}},_f=Tt([Ci,vo,WC,DO,PO,Bq,Cq,yo],Sq),JC=Tt([_O,bO,OV],(e,t,r)=>wO(r.shared,e,t)),kO=e=>e.tooltip.settings.trigger,eS=e=>e.tooltip.settings.defaultIndex,Xb=Tt([cg,JC,kO,eS],TO),Lp=Tt([Xb,hg,Ey,Uy],ZC),NO=Tt([_f,Lp],xO),QO=Tt([Xb],e=>{if(e)return e.dataKey}),RO=Tt([cg,JC,kO,eS],FO),Eq=Tt([pf,mf,Ci,No,_f,eS,RO,Fy],IO),Tq=Tt([Xb,Eq],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Iq=Tt([Xb],e=>e.active),Fq=Tt([RO,Lp,Sd,Ey,NO,Fy,JC],LO),Lq=Tt([Fq],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function uT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function cT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uT(Object(r),!0).forEach(function(n){Uq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uq(e,t,r){return(t=Mq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mq(e){var t=Pq(e,"string");return typeof t=="symbol"?t:t+""}function Pq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Oq=()=>Kr(vo),Dq=()=>{var e=Oq(),t=Kr(_f),r=Kr(DO);return Zm(!e||!r?void 0:cT(cT({},e),{},{scale:r}),t)};function hT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function vm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hT(Object(r),!0).forEach(function(n){kq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kq(e,t,r){return(t=Nq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nq(e){var t=Qq(e,"string");return typeof t=="symbol"?t:t+""}function Qq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rq=(e,t,r,n)=>{var s=t.find(A=>A&&A.index===r);if(s){if(e==="horizontal")return{x:s.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:s.coordinate}}return{x:0,y:0}},zq=(e,t,r,n)=>{var s=t.find(b=>b&&b.index===r);if(s){if(e==="centric"){var A=s.coordinate,{radius:f}=n;return vm(vm(vm({},n),al(n.cx,n.cy,f,A)),{},{angle:A,radius:f})}var l=s.coordinate,{angle:y}=n;return vm(vm(vm({},n),al(n.cx,n.cy,l,y)),{},{angle:y,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function jq(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var zO=(e,t,r,n,s)=>{var A,f=-1,l=(A=t?.length)!==null&&A!==void 0?A:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var y=0;y<l;y++){var b=y>0?r[y-1].coordinate:r[l-1].coordinate,w=r[y].coordinate,C=y>=l-1?r[0].coordinate:r[y+1].coordinate,F=void 0;if(ZA(w-b)!==ZA(C-w)){var T=[];if(ZA(C-w)===ZA(s[1]-s[0])){F=C;var j=w+s[1]-s[0];T[0]=Math.min(j,(j+b)/2),T[1]=Math.max(j,(j+b)/2)}else{F=b;var k=C+s[1]-s[0];T[0]=Math.min(w,(k+w)/2),T[1]=Math.max(w,(k+w)/2)}var H=[Math.min(w,(F+w)/2),Math.max(w,(F+w)/2)];if(e>H[0]&&e<=H[1]||e>=T[0]&&e<=T[1]){({index:f}=r[y]);break}}else{var K=Math.min(b,C),Y=Math.max(b,C);if(e>(K+w)/2&&e<=(Y+w)/2){({index:f}=r[y]);break}}}else if(t){for(var W=0;W<l;W++)if(W===0&&e<=(t[W].coordinate+t[W+1].coordinate)/2||W>0&&W<l-1&&e>(t[W].coordinate+t[W-1].coordinate)/2&&e<=(t[W].coordinate+t[W+1].coordinate)/2||W===l-1&&e>(t[W].coordinate+t[W-1].coordinate)/2){({index:f}=t[W]);break}}return f},Hq=()=>Kr(MC),tS=(e,t)=>t,jO=(e,t,r)=>r,rS=(e,t,r,n)=>n,Kq=Tt(_f,e=>ub(e,t=>t.coordinate)),nS=Tt([cg,tS,jO,rS],TO),iS=Tt([nS,hg,Ey,Uy],ZC),Vq=(e,t,r)=>{if(t!=null){var n=cg(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},HO=Tt([cg,tS,jO,rS],FO),L_=Tt([pf,mf,Ci,No,_f,rS,HO,Fy],IO),qq=Tt([nS,L_],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),KO=Tt([_f,iS],xO),Gq=Tt([HO,iS,Sd,Ey,KO,Fy,tS],LO),$q=Tt([nS,iS],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),Xq=(e,t,r,n,s,A,f)=>{if(!(!e||!r||!n||!s)&&jq(e,f)){var l=cz(e,t),y=zO(l,A,s,r,n),b=Rq(t,s,y,e);return{activeIndex:String(y),activeCoordinate:b}}},Zq=(e,t,r,n,s,A,f)=>{if(!(!e||!n||!s||!A||!r)){var l=MH(e,r);if(l){var y=hz(l,t),b=zO(y,f,A,n,s),w=zq(t,A,b,l);return{activeIndex:String(b),activeCoordinate:w}}}},Wq=(e,t,r,n,s,A,f,l)=>{if(!(!e||!t||!n||!s||!A))return t==="horizontal"||t==="vertical"?Xq(e,t,n,s,A,f,l):Zq(e,t,r,n,s,A,f)},Yq=Tt(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElementId:n.elementId}}),Jq=Tt(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(ko)),r=Array.from(new Set(t));return r.sort((n,s)=>n-s)},{memoizeOptions:{resultEqualityCheck:DK}});function fT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function dT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fT(Object(r),!0).forEach(function(n){eG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eG(e,t,r){return(t=tG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tG(e){var t=rG(e,"string");return typeof t=="symbol"?t:t+""}function rG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nG={},iG={zIndexMap:Object.values(ko).reduce((e,t)=>dT(dT({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),nG)},aG=new Set(Object.values(ko));function sG(e){return aG.has(e)}var VO=YA({name:"zIndex",initialState:iG,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Da()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!sG(r)&&delete e.zIndexMap[r])},prepare:Da()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:n,isPanorama:s}=t.payload;e.zIndexMap[r]?s?e.zIndexMap[r].panoramaElementId=n:e.zIndexMap[r].elementId=n:e.zIndexMap[r]={consumers:0,elementId:s?void 0:n,panoramaElementId:s?n:void 0}},prepare:Da()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:Da()}}}),{registerZIndexPortal:oG,unregisterZIndexPortal:lG,registerZIndexPortalId:AG,unregisterZIndexPortalId:uG}=VO.actions,cG=VO.reducer;function cc(e){var{zIndex:t,children:r}=e,n=Vz(),s=n&&t!==void 0&&t!==0,A=Kl(),f=$a();te.useLayoutEffect(()=>s?(f(oG({zIndex:t})),()=>{f(lG({zIndex:t}))}):dy,[f,t,s]);var l=Kr(b=>Yq(b,t,A));if(!s)return r;if(!l)return null;var y=document.getElementById(l);return y?D5.createPortal(r,y):null}function HB(){return HB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},HB.apply(null,arguments)}function pT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Wv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pT(Object(r),!0).forEach(function(n){hG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hG(e,t,r){return(t=fG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fG(e){var t=dG(e,"string");return typeof t=="symbol"?t:t+""}function dG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pG(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return te.isValidElement(t)?te.cloneElement(t,n):te.createElement(r,n)}function mG(e){var t,{coordinate:r,payload:n,index:s,offset:A,tooltipAxisBandSize:f,layout:l,cursor:y,tooltipEventType:b,chartName:w}=e,C=r,F=n,T=s;if(!y||!C||w!=="ScatterChart"&&b!=="axis")return null;var j,k,H;if(w==="ScatterChart")j=C,k=$j,H=ko.cursorLine;else if(w==="BarChart")j=Xj(l,C,A,f),k=IM,H=ko.cursorRectangle;else if(l==="radial"&&mU(C)){var{cx:K,cy:Y,radius:W,startAngle:ae,endAngle:Ae}=FM(C);j={cx:K,cy:Y,startAngle:ae,endAngle:Ae,innerRadius:W,outerRadius:W},k=UM,H=ko.cursorLine}else j={points:kH(l,C,A)},k=BM,H=ko.cursorLine;var pe=typeof y=="object"&&"className"in y?y.className:void 0,Be=Wv(Wv(Wv(Wv({stroke:"#ccc",pointerEvents:"none"},A),j),hy(y)),{},{payload:F,payloadIndex:T,className:zi("recharts-tooltip-cursor",pe)});return te.createElement(cc,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:H},te.createElement(pG,{cursor:y,cursorComp:k,cursorProps:Be}))}function gG(e){var t=Dq(),r=pM(),n=vy(),s=Hq();return t==null||r==null||n==null||s==null?null:te.createElement(mG,HB({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:s}))}var qO=te.createContext(null),yG=()=>te.useContext(qO),Gx={exports:{}},mT;function vG(){return mT||(mT=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(y,b,w){this.fn=y,this.context=b,this.once=w||!1}function A(y,b,w,C,F){if(typeof w!="function")throw new TypeError("The listener must be a function");var T=new s(w,C||y,F),j=r?r+b:b;return y._events[j]?y._events[j].fn?y._events[j]=[y._events[j],T]:y._events[j].push(T):(y._events[j]=T,y._eventsCount++),y}function f(y,b){--y._eventsCount===0?y._events=new n:delete y._events[b]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var b=[],w,C;if(this._eventsCount===0)return b;for(C in w=this._events)t.call(w,C)&&b.push(r?C.slice(1):C);return Object.getOwnPropertySymbols?b.concat(Object.getOwnPropertySymbols(w)):b},l.prototype.listeners=function(b){var w=r?r+b:b,C=this._events[w];if(!C)return[];if(C.fn)return[C.fn];for(var F=0,T=C.length,j=new Array(T);F<T;F++)j[F]=C[F].fn;return j},l.prototype.listenerCount=function(b){var w=r?r+b:b,C=this._events[w];return C?C.fn?1:C.length:0},l.prototype.emit=function(b,w,C,F,T,j){var k=r?r+b:b;if(!this._events[k])return!1;var H=this._events[k],K=arguments.length,Y,W;if(H.fn){switch(H.once&&this.removeListener(b,H.fn,void 0,!0),K){case 1:return H.fn.call(H.context),!0;case 2:return H.fn.call(H.context,w),!0;case 3:return H.fn.call(H.context,w,C),!0;case 4:return H.fn.call(H.context,w,C,F),!0;case 5:return H.fn.call(H.context,w,C,F,T),!0;case 6:return H.fn.call(H.context,w,C,F,T,j),!0}for(W=1,Y=new Array(K-1);W<K;W++)Y[W-1]=arguments[W];H.fn.apply(H.context,Y)}else{var ae=H.length,Ae;for(W=0;W<ae;W++)switch(H[W].once&&this.removeListener(b,H[W].fn,void 0,!0),K){case 1:H[W].fn.call(H[W].context);break;case 2:H[W].fn.call(H[W].context,w);break;case 3:H[W].fn.call(H[W].context,w,C);break;case 4:H[W].fn.call(H[W].context,w,C,F);break;default:if(!Y)for(Ae=1,Y=new Array(K-1);Ae<K;Ae++)Y[Ae-1]=arguments[Ae];H[W].fn.apply(H[W].context,Y)}}return!0},l.prototype.on=function(b,w,C){return A(this,b,w,C,!1)},l.prototype.once=function(b,w,C){return A(this,b,w,C,!0)},l.prototype.removeListener=function(b,w,C,F){var T=r?r+b:b;if(!this._events[T])return this;if(!w)return f(this,T),this;var j=this._events[T];if(j.fn)j.fn===w&&(!F||j.once)&&(!C||j.context===C)&&f(this,T);else{for(var k=0,H=[],K=j.length;k<K;k++)(j[k].fn!==w||F&&!j[k].once||C&&j[k].context!==C)&&H.push(j[k]);H.length?this._events[T]=H.length===1?H[0]:H:f(this,T)}return this},l.prototype.removeAllListeners=function(b){var w;return b?(w=r?r+b:b,this._events[w]&&f(this,w)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(Gx)),Gx.exports}var _G=vG();const bG=Sh(_G);var ny=new bG,KB="recharts.syncEvent.tooltip",gT="recharts.syncEvent.brush";function GO(e,t){if(t){var r=Number.parseInt(t,10);if(!Qc(r))return e?.[r]}}var wG={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},$O=YA({name:"options",initialState:wG,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),xG=$O.reducer,{createEventEmitter:BG}=$O.actions;function CG(e){return e.tooltip.syncInteraction}var SG={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},XO=YA({name:"chartData",initialState:SG,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:yT,setDataStartEndIndexes:EG,setComputedData:Kle}=XO.actions,TG=XO.reducer,IG=["x","y"];function vT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function _m(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vT(Object(r),!0).forEach(function(n){FG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FG(e,t,r){return(t=LG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LG(e){var t=UG(e,"string");return typeof t=="symbol"?t:t+""}function UG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MG(e,t){if(e==null)return{};var r,n,s=PG(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function PG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function OG(){var e=Kr(PC),t=Kr(OC),r=$a(),n=Kr(LP),s=Kr(_f),A=vy(),f=Bb(),l=Kr(y=>y.rootProps.className);te.useEffect(()=>{if(e==null)return dy;var y=(b,w,C)=>{if(t!==C&&e===b){if(n==="index"){var F;if(f&&w!==null&&w!==void 0&&(F=w.payload)!==null&&F!==void 0&&F.coordinate&&w.payload.sourceViewBox){var T=w.payload.coordinate,{x:j,y:k}=T,H=MG(T,IG),{x:K,y:Y,width:W,height:ae}=w.payload.sourceViewBox,Ae=_m(_m({},H),{},{x:f.x+(W?(j-K)/W:0)*f.width,y:f.y+(ae?(k-Y)/ae:0)*f.height});r(_m(_m({},w),{},{payload:_m(_m({},w.payload),{},{coordinate:Ae})}))}else r(w);return}if(s!=null){var pe;if(typeof n=="function"){var Be={activeTooltipIndex:w.payload.index==null?void 0:Number(w.payload.index),isTooltipActive:w.payload.active,activeIndex:w.payload.index==null?void 0:Number(w.payload.index),activeLabel:w.payload.label,activeDataKey:w.payload.dataKey,activeCoordinate:w.payload.coordinate},Fe=n(s,Be);pe=s[Fe]}else n==="value"&&(pe=s.find(Oe=>String(Oe.value)===w.payload.label));var{coordinate:me}=w.payload;if(pe==null||w.payload.active===!1||me==null||f==null){r(zB({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:He,y:se}=me,de=Math.min(He,f.x+f.width),Le=Math.min(se,f.y+f.height),Ue={x:A==="horizontal"?pe.coordinate:de,y:A==="horizontal"?Le:pe.coordinate},nt=zB({active:w.payload.active,coordinate:Ue,dataKey:w.payload.dataKey,index:String(pe.index),label:w.payload.label,sourceViewBox:w.payload.sourceViewBox});r(nt)}}};return ny.on(KB,y),()=>{ny.off(KB,y)}},[l,r,t,e,n,s,A,f])}function DG(){var e=Kr(PC),t=Kr(OC),r=$a();te.useEffect(()=>{if(e==null)return dy;var n=(s,A,f)=>{t!==f&&e===s&&r(EG(A))};return ny.on(gT,n),()=>{ny.off(gT,n)}},[r,t,e])}function kG(){var e=$a();te.useEffect(()=>{e(BG())},[e]),OG(),DG()}function NG(e,t,r,n,s,A){var f=Kr(T=>Vq(T,e,t)),l=Kr(OC),y=Kr(PC),b=Kr(LP),w=Kr(CG),C=w?.active,F=Bb();te.useEffect(()=>{if(!C&&y!=null&&l!=null){var T=zB({active:A,coordinate:r,dataKey:f,index:s,label:typeof n=="number"?String(n):n,sourceViewBox:F});ny.emit(KB,y,T,l)}},[C,r,f,s,n,l,y,b,A,F])}function _T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function bT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_T(Object(r),!0).forEach(function(n){QG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_T(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QG(e,t,r){return(t=RG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RG(e){var t=zG(e,"string");return typeof t=="symbol"?t:t+""}function zG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jG(e){return e.dataKey}function HG(e,t){return te.isValidElement(e)?te.cloneElement(e,t):typeof e=="function"?te.createElement(e,t):te.createElement(Sj,t)}var wT=[],KG={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!ig.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function U_(e){var t,r,n=ol(e,KG),{active:s,allowEscapeViewBox:A,animationDuration:f,animationEasing:l,content:y,filterNull:b,isAnimationActive:w,offset:C,payloadUniqBy:F,position:T,reverseDirection:j,useTranslate3d:k,wrapperStyle:H,cursor:K,shared:Y,trigger:W,defaultIndex:ae,portal:Ae,axisId:pe}=n,Be=$a(),Fe=typeof ae=="number"?String(ae):ae;te.useEffect(()=>{Be(RV({shared:Y,trigger:W,axisId:pe,active:s,defaultIndex:Fe}))},[Be,Y,W,pe,s,Fe]);var me=Bb(),He=xM(),se=PV(Y),{activeIndex:de,isActive:Le}=(t=Kr(Je=>$q(Je,se,W,Fe)))!==null&&t!==void 0?t:{},Ue=Kr(Je=>Gq(Je,se,W,Fe)),nt=Kr(Je=>KO(Je,se,W,Fe)),Oe=Kr(Je=>qq(Je,se,W,Fe)),Ne=Ue,Ve=yG(),De=(r=s??Le)!==null&&r!==void 0?r:!1,[ot,be]=LU([Ne,De]),re=se==="axis"?nt:void 0;NG(se,W,Oe,re,de,De);var ye=Ae??Ve;if(ye==null||me==null||se==null)return null;var Ie=Ne??wT;De||(Ie=wT),b&&Ie.length&&(Ie=SU(Ie.filter(Je=>Je.value!=null&&(Je.hide!==!0||n.includeHidden)),F,jG));var ke=Ie.length>0,$e=te.createElement(Mj,{allowEscapeViewBox:A,animationDuration:f,animationEasing:l,isAnimationActive:w,active:De,coordinate:Oe,hasPayload:ke,offset:C,position:T,reverseDirection:j,useTranslate3d:k,viewBox:me,wrapperStyle:H,lastBoundingBox:ot,innerRef:be,hasPortalFromProps:!!Ae},HG(y,bT(bT({},n),{},{payload:Ie,label:re,active:De,activeIndex:de,coordinate:Oe,accessibilityLayer:He})));return te.createElement(te.Fragment,null,D5.createPortal($e,ye),De&&te.createElement(gG,{cursor:K,tooltipEventType:se,coordinate:Oe,payload:Ie,index:de}))}var aS=e=>null;aS.displayName="Cell";function VG(e,t,r){return(t=qG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qG(e){var t=GG(e,"string");return typeof t=="symbol"?t:t+""}function GG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class $G{constructor(t){VG(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function xT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function XG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xT(Object(r),!0).forEach(function(n){ZG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZG(e,t,r){return(t=WG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WG(e){var t=YG(e,"string");return typeof t=="symbol"?t:t+""}function YG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JG={cacheSize:2e3,enableCache:!0},ZO=XG({},JG),BT=new $G(ZO.cacheSize),e$={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},CT="recharts_measurement_span";function t$(e,t){var r=t.fontSize||"",n=t.fontFamily||"",s=t.fontWeight||"",A=t.fontStyle||"",f=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(s,"|").concat(A,"|").concat(f,"|").concat(l)}var ST=(e,t)=>{try{var r=document.getElementById(CT);r||(r=document.createElement("span"),r.setAttribute("id",CT),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,e$,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},D0=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ig.isSsr)return{width:0,height:0};if(!ZO.enableCache)return ST(t,r);var n=t$(t,r),s=BT.get(n);if(s)return s;var A=ST(t,r);return BT.set(n,A),A},ET=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,TT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,r$=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,n$=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,WO={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},i$=Object.keys(WO),Dm="NaN";function a$(e,t){return e*WO[t]}class $A{static parse(t){var r,[,n,s]=(r=n$.exec(t))!==null&&r!==void 0?r:[];return new $A(parseFloat(n),s??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Qc(t)&&(this.unit=""),r!==""&&!r$.test(r)&&(this.num=NaN,this.unit=""),i$.includes(r)&&(this.num=a$(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new $A(NaN,""):new $A(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new $A(NaN,""):new $A(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new $A(NaN,""):new $A(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new $A(NaN,""):new $A(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Qc(this.num)}}function YO(e){if(e.includes(Dm))return Dm;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,s,A]=(r=ET.exec(t))!==null&&r!==void 0?r:[],f=$A.parse(n??""),l=$A.parse(A??""),y=s==="*"?f.multiply(l):f.divide(l);if(y.isNaN())return Dm;t=t.replace(ET,y.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var b,[,w,C,F]=(b=TT.exec(t))!==null&&b!==void 0?b:[],T=$A.parse(w??""),j=$A.parse(F??""),k=C==="+"?T.add(j):T.subtract(j);if(k.isNaN())return Dm;t=t.replace(TT,k.toString())}return t}var IT=/\(([^()]*)\)/;function s$(e){for(var t=e,r;(r=IT.exec(t))!=null;){var[,n]=r;t=t.replace(IT,YO(n))}return t}function o$(e){var t=e.replace(/\s+/g,"");return t=s$(t),t=YO(t),t}function l$(e){try{return o$(e)}catch{return Dm}}function $x(e){var t=l$(e.slice(5,-1));return t===Dm?"":t}var A$=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],u$=["dx","dy","angle","className","breakAll"];function VB(){return VB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},VB.apply(null,arguments)}function FT(e,t){if(e==null)return{};var r,n,s=c$(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function c$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var JO=/[ \f\n\r\t\v\u2028\u2029]+/,e6=e=>{var{children:t,breakAll:r,style:n}=e;try{var s=[];Na(t)||(r?s=t.toString().split(""):s=t.toString().split(JO));var A=s.map(l=>({word:l,width:D0(l,n).width})),f=r?0:D0("",n).width;return{wordsWithComputedWidth:A,spaceWidth:f}}catch{return null}};function h$(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var t6=(e,t,r,n)=>e.reduce((s,A)=>{var{word:f,width:l}=A,y=s[s.length-1];if(y&&l!=null&&(t==null||n||y.width+l+r<Number(t)))y.words.push(f),y.width+=l+r;else{var b={words:[f],width:l};s.push(b)}return s},[]),r6=e=>e.reduce((t,r)=>t.width>r.width?t:r),f$="",LT=(e,t,r,n,s,A,f,l)=>{var y=e.slice(0,t),b=e6({breakAll:r,style:n,children:y+f$});if(!b)return[!1,[]];var w=t6(b.wordsWithComputedWidth,A,f,l),C=w.length>s||r6(w).width>Number(A);return[C,w]},d$=(e,t,r,n,s)=>{var{maxLines:A,children:f,style:l,breakAll:y}=e,b=Qr(A),w=String(f),C=t6(t,n,r,s);if(!b||s)return C;var F=C.length>A||r6(C).width>Number(n);if(!F)return C;for(var T=0,j=w.length-1,k=0,H;T<=j&&k<=w.length-1;){var K=Math.floor((T+j)/2),Y=K-1,[W,ae]=LT(w,Y,y,l,A,n,r,s),[Ae]=LT(w,K,y,l,A,n,r,s);if(!W&&!Ae&&(T=K+1),W&&Ae&&(j=K-1),!W&&Ae){H=ae;break}k++}return H||C},UT=e=>{var t=Na(e)?[]:e.toString().split(JO);return[{words:t,width:void 0}]},p$=e=>{var{width:t,scaleToFit:r,children:n,style:s,breakAll:A,maxLines:f}=e;if((t||r)&&!ig.isSsr){var l,y,b=e6({breakAll:A,children:n,style:s});if(b){var{wordsWithComputedWidth:w,spaceWidth:C}=b;l=w,y=C}else return UT(n);return d$({breakAll:A,children:n,maxLines:f,style:s},l,y,t,!!r)}return UT(n)},n6="#808080",m$={angle:0,breakAll:!1,capHeight:"0.71em",fill:n6,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},sS=te.forwardRef((e,t)=>{var r=ol(e,m$),{x:n,y:s,lineHeight:A,capHeight:f,fill:l,scaleToFit:y,textAnchor:b,verticalAnchor:w}=r,C=FT(r,A$),F=te.useMemo(()=>p$({breakAll:C.breakAll,children:C.children,maxLines:C.maxLines,scaleToFit:y,style:C.style,width:C.width}),[C.breakAll,C.children,C.maxLines,y,C.style,C.width]),{dx:T,dy:j,angle:k,className:H,breakAll:K}=C,Y=FT(C,u$);if(!wh(n)||!wh(s)||F.length===0)return null;var W=Number(n)+(Qr(T)?T:0),ae=Number(s)+(Qr(j)?j:0);if(!Is(W)||!Is(ae))return null;var Ae;switch(w){case"start":Ae=$x("calc(".concat(f,")"));break;case"middle":Ae=$x("calc(".concat((F.length-1)/2," * -").concat(A," + (").concat(f," / 2))"));break;default:Ae=$x("calc(".concat(F.length-1," * -").concat(A,")"));break}var pe=[];if(y){var Be=F[0].width,{width:Fe}=C;pe.push("scale(".concat(Qr(Fe)&&Qr(Be)?Fe/Be:1,")"))}return k&&pe.push("rotate(".concat(k,", ").concat(W,", ").concat(ae,")")),pe.length&&(Y.transform=pe.join(" ")),te.createElement("text",VB({},mA(Y),{ref:t,x:W,y:ae,className:zi("recharts-text",H),textAnchor:b,fill:l.includes("url")?n6:l}),F.map((me,He)=>{var se=me.words.join(K?"":" ");return te.createElement("tspan",{x:W,dy:He===0?Ae:A,key:"".concat(se,"-").concat(He)},se)}))});sS.displayName="Text";var g$=["labelRef"];function y$(e,t){if(e==null)return{};var r,n,s=v$(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function v$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function MT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Bs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MT(Object(r),!0).forEach(function(n){_$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _$(e,t,r){return(t=b$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b$(e){var t=w$(e,"string");return typeof t=="symbol"?t:t+""}function w$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jh(){return Jh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jh.apply(null,arguments)}var i6=te.createContext(null),x$=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:s,width:A,height:f,children:l}=e,y=te.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:s,width:A,height:f}),[t,r,n,s,A,f]);return te.createElement(i6.Provider,{value:y},l)},a6=()=>{var e=te.useContext(i6),t=Bb();return e||dM(t)},B$=te.createContext(null),C$=()=>{var e=te.useContext(B$),t=Kr(DP);return e||t},S$=e=>{var{value:t,formatter:r}=e,n=Na(e.children)?t:e.children;return typeof r=="function"?r(n):n},oS=e=>e!=null&&typeof e=="function",E$=(e,t)=>{var r=ZA(t-e),n=Math.min(Math.abs(t-e),360);return r*n},T$=(e,t,r,n,s)=>{var{offset:A,className:f}=e,{cx:l,cy:y,innerRadius:b,outerRadius:w,startAngle:C,endAngle:F,clockWise:T}=s,j=(b+w)/2,k=E$(C,F),H=k>=0?1:-1,K,Y;switch(t){case"insideStart":K=C+H*A,Y=T;break;case"insideEnd":K=F-H*A,Y=!T;break;case"end":K=F+H*A,Y=T;break;default:throw new Error("Unsupported position ".concat(t))}Y=k<=0?Y:!Y;var W=al(l,y,j,K),ae=al(l,y,j,K+(Y?1:-1)*359),Ae="M".concat(W.x,",").concat(W.y,`
    A`).concat(j,",").concat(j,",0,1,").concat(Y?0:1,`,
    `).concat(ae.x,",").concat(ae.y),pe=Na(e.id)?K0("recharts-radial-line-"):e.id;return te.createElement("text",Jh({},n,{dominantBaseline:"central",className:zi("recharts-radial-bar-label",f)}),te.createElement("defs",null,te.createElement("path",{id:pe,d:Ae})),te.createElement("textPath",{xlinkHref:"#".concat(pe)},r))},I$=(e,t,r)=>{var{cx:n,cy:s,innerRadius:A,outerRadius:f,startAngle:l,endAngle:y}=e,b=(l+y)/2;if(r==="outside"){var{x:w,y:C}=al(n,s,f+t,b);return{x:w,y:C,textAnchor:w>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"end"};var F=(A+f)/2,{x:T,y:j}=al(n,s,F,b);return{x:T,y:j,textAnchor:"middle",verticalAnchor:"middle"}},qB=e=>"cx"in e&&Qr(e.cx),F$=(e,t)=>{var{parentViewBox:r,offset:n,position:s}=e,A;r!=null&&!qB(r)&&(A=r);var{x:f,y:l,upperWidth:y,lowerWidth:b,height:w}=t,C=f,F=f+(y-b)/2,T=(C+F)/2,j=(y+b)/2,k=C+y/2,H=w>=0?1:-1,K=H*n,Y=H>0?"end":"start",W=H>0?"start":"end",ae=y>=0?1:-1,Ae=ae*n,pe=ae>0?"end":"start",Be=ae>0?"start":"end";if(s==="top"){var Fe={x:C+y/2,y:l-K,textAnchor:"middle",verticalAnchor:Y};return Bs(Bs({},Fe),A?{height:Math.max(l-A.y,0),width:y}:{})}if(s==="bottom"){var me={x:F+b/2,y:l+w+K,textAnchor:"middle",verticalAnchor:W};return Bs(Bs({},me),A?{height:Math.max(A.y+A.height-(l+w),0),width:b}:{})}if(s==="left"){var He={x:T-Ae,y:l+w/2,textAnchor:pe,verticalAnchor:"middle"};return Bs(Bs({},He),A?{width:Math.max(He.x-A.x,0),height:w}:{})}if(s==="right"){var se={x:T+j+Ae,y:l+w/2,textAnchor:Be,verticalAnchor:"middle"};return Bs(Bs({},se),A?{width:Math.max(A.x+A.width-se.x,0),height:w}:{})}var de=A?{width:j,height:w}:{};return s==="insideLeft"?Bs({x:T+Ae,y:l+w/2,textAnchor:Be,verticalAnchor:"middle"},de):s==="insideRight"?Bs({x:T+j-Ae,y:l+w/2,textAnchor:pe,verticalAnchor:"middle"},de):s==="insideTop"?Bs({x:C+y/2,y:l+K,textAnchor:"middle",verticalAnchor:W},de):s==="insideBottom"?Bs({x:F+b/2,y:l+w-K,textAnchor:"middle",verticalAnchor:Y},de):s==="insideTopLeft"?Bs({x:C+Ae,y:l+K,textAnchor:Be,verticalAnchor:W},de):s==="insideTopRight"?Bs({x:C+y-Ae,y:l+K,textAnchor:pe,verticalAnchor:W},de):s==="insideBottomLeft"?Bs({x:F+Ae,y:l+w-K,textAnchor:Be,verticalAnchor:Y},de):s==="insideBottomRight"?Bs({x:F+b-Ae,y:l+w-K,textAnchor:pe,verticalAnchor:Y},de):s&&typeof s=="object"&&(Qr(s.x)||of(s.x))&&(Qr(s.y)||of(s.y))?Bs({x:f+Rc(s.x,j),y:l+Rc(s.y,w),textAnchor:"end",verticalAnchor:"end"},de):Bs({x:k,y:l+w/2,textAnchor:"middle",verticalAnchor:"middle"},de)},L$={angle:0,offset:5,zIndex:ko.label,position:"middle",textBreakAll:!1};function ld(e){var t=ol(e,L$),{viewBox:r,position:n,value:s,children:A,content:f,className:l="",textBreakAll:y,labelRef:b}=t,w=C$(),C=a6(),F=n==="center"?C:w??C,T,j,k;if(r==null?T=F:qB(r)?T=r:T=dM(r),!T||Na(s)&&Na(A)&&!te.isValidElement(f)&&typeof f!="function")return null;var H=Bs(Bs({},t),{},{viewBox:T});if(te.isValidElement(f)){var{labelRef:K}=H,Y=y$(H,g$);return te.cloneElement(f,Y)}if(typeof f=="function"){if(j=te.createElement(f,H),te.isValidElement(j))return j}else j=S$(t);var W=mA(t);if(qB(T)){if(n==="insideStart"||n==="insideEnd"||n==="end")return T$(t,n,j,W,T);k=I$(T,t.offset,t.position)}else k=F$(t,T);return te.createElement(cc,{zIndex:t.zIndex},te.createElement(sS,Jh({ref:b,className:zi("recharts-label",l)},W,k,{textAnchor:h$(W.textAnchor)?W.textAnchor:k.textAnchor,breakAll:y}),j))}ld.displayName="Label";var U$=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?te.createElement(ld,Jh({key:"label-implicit"},n)):wh(e)?te.createElement(ld,Jh({key:"label-implicit",value:e},n)):te.isValidElement(e)?e.type===ld?te.cloneElement(e,Bs({key:"label-implicit"},n)):te.createElement(ld,Jh({key:"label-implicit",content:e},n)):oS(e)?te.createElement(ld,Jh({key:"label-implicit",content:e},n)):e&&typeof e=="object"?te.createElement(ld,Jh({},e,{key:"label-implicit"},n)):null};function M$(e){var{label:t,labelRef:r}=e,n=a6();return U$(t,n,r)||null}var Xx={},Zx={},PT;function P$(){return PT||(PT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(Zx)),Zx}var Wx={},OT;function O$(){return OT||(OT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(Wx)),Wx}var DT;function D$(){return DT||(DT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=P$(),r=O$(),n=V5();function s(A){if(n.isArrayLike(A))return t.last(r.toArray(A))}e.last=s})(Xx)),Xx}var Yx,kT;function k$(){return kT||(kT=1,Yx=D$().last),Yx}var N$=k$();const Q$=Sh(N$);var R$=["valueAccessor"],z$=["dataKey","clockWise","id","textBreakAll","zIndex"];function M_(){return M_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M_.apply(null,arguments)}function NT(e,t){if(e==null)return{};var r,n,s=j$(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function j$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var H$=e=>Array.isArray(e.value)?Q$(e.value):e.value,s6=te.createContext(void 0),o6=s6.Provider,l6=te.createContext(void 0);l6.Provider;function K$(){return te.useContext(s6)}function V$(){return te.useContext(l6)}function k1(e){var{valueAccessor:t=H$}=e,r=NT(e,R$),{dataKey:n,clockWise:s,id:A,textBreakAll:f,zIndex:l}=r,y=NT(r,z$),b=K$(),w=V$(),C=b||w;return!C||!C.length?null:te.createElement(cc,{zIndex:l??ko.label},te.createElement(sc,{className:"recharts-label-list"},C.map((F,T)=>{var j,k=Na(n)?t(F,T):po(F&&F.payload,n),H=Na(A)?{}:{id:"".concat(A,"-").concat(T)};return te.createElement(ld,M_({key:"label-".concat(T)},mA(F),y,H,{fill:(j=r.fill)!==null&&j!==void 0?j:F.fill,parentViewBox:F.parentViewBox,value:k,textBreakAll:f,viewBox:F.viewBox,index:T,zIndex:0}))})))}k1.displayName="LabelList";function A6(e){var{label:t}=e;return t?t===!0?te.createElement(k1,{key:"labelList-implicit"}):te.isValidElement(t)||oS(t)?te.createElement(k1,{key:"labelList-implicit",content:t}):typeof t=="object"?te.createElement(k1,M_({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function GB(){return GB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},GB.apply(null,arguments)}var u6=e=>{var{cx:t,cy:r,r:n,className:s}=e,A=zi("recharts-dot",s);return Qr(t)&&Qr(r)&&Qr(n)?te.createElement("circle",GB({},Nc(e),K5(e),{className:A,cx:t,cy:r,r:n})):null},q$={radiusAxis:{},angleAxis:{}},c6=YA({name:"polarAxis",initialState:q$,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Vle,removeRadiusAxis:qle,addAngleAxis:Gle,removeAngleAxis:$le}=c6.actions,G$=c6.reducer,Jx={exports:{}},Xi={};var QT;function $$(){if(QT)return Xi;QT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),f=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),b=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),F=Symbol.for("react.view_transition"),T=Symbol.for("react.client.reference");function j(k){if(typeof k=="object"&&k!==null){var H=k.$$typeof;switch(H){case e:switch(k=k.type,k){case r:case s:case n:case y:case b:case F:return k;default:switch(k=k&&k.$$typeof,k){case f:case l:case C:case w:return k;case A:return k;default:return H}}case t:return H}}}return Xi.ContextConsumer=A,Xi.ContextProvider=f,Xi.Element=e,Xi.ForwardRef=l,Xi.Fragment=r,Xi.Lazy=C,Xi.Memo=w,Xi.Portal=t,Xi.Profiler=s,Xi.StrictMode=n,Xi.Suspense=y,Xi.SuspenseList=b,Xi.isContextConsumer=function(k){return j(k)===A},Xi.isContextProvider=function(k){return j(k)===f},Xi.isElement=function(k){return typeof k=="object"&&k!==null&&k.$$typeof===e},Xi.isForwardRef=function(k){return j(k)===l},Xi.isFragment=function(k){return j(k)===r},Xi.isLazy=function(k){return j(k)===C},Xi.isMemo=function(k){return j(k)===w},Xi.isPortal=function(k){return j(k)===t},Xi.isProfiler=function(k){return j(k)===s},Xi.isStrictMode=function(k){return j(k)===n},Xi.isSuspense=function(k){return j(k)===y},Xi.isSuspenseList=function(k){return j(k)===b},Xi.isValidElementType=function(k){return typeof k=="string"||typeof k=="function"||k===r||k===s||k===n||k===y||k===b||typeof k=="object"&&k!==null&&(k.$$typeof===C||k.$$typeof===w||k.$$typeof===f||k.$$typeof===A||k.$$typeof===l||k.$$typeof===T||k.getModuleId!==void 0)},Xi.typeOf=j,Xi}var RT;function X$(){return RT||(RT=1,Jx.exports=$$()),Jx.exports}var Z$=X$(),zT=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",jT=null,e2=null,h6=e=>{if(e===jT&&Array.isArray(e2))return e2;var t=[];return te.Children.forEach(e,r=>{Na(r)||(Z$.isFragment(r)?t=t.concat(h6(r.props.children)):t.push(r))}),e2=t,jT=e,t};function W$(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(s=>zT(s)):n=[zT(t)],h6(e).forEach(s=>{var A=Gm(s,"type.displayName")||Gm(s,"type.name");A&&n.indexOf(A)!==-1&&r.push(s)}),r}var f6=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,t2={},HT;function Y$(){return HT||(HT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(t2)),t2}var r2,KT;function J$(){return KT||(KT=1,r2=Y$().isPlainObject),r2}var eX=J$();const tX=Sh(eX);function VT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function qT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VT(Object(r),!0).forEach(function(n){rX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rX(e,t,r){return(t=nX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nX(e){var t=iX(e,"string");return typeof t=="symbol"?t:t+""}function iX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P_(){return P_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P_.apply(null,arguments)}var GT=(e,t,r,n,s)=>{var A=r-n,f;return f="M ".concat(e,",").concat(t),f+="L ".concat(e+r,",").concat(t),f+="L ".concat(e+r-A/2,",").concat(t+s),f+="L ".concat(e+r-A/2-n,",").concat(t+s),f+="L ".concat(e,",").concat(t," Z"),f},aX={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},sX=e=>{var t=ol(e,aX),{x:r,y:n,upperWidth:s,lowerWidth:A,height:f,className:l}=t,{animationEasing:y,animationDuration:b,animationBegin:w,isUpdateAnimationActive:C}=t,F=te.useRef(null),[T,j]=te.useState(-1),k=te.useRef(s),H=te.useRef(A),K=te.useRef(f),Y=te.useRef(r),W=te.useRef(n),ae=Fb(e,"trapezoid-");if(te.useEffect(()=>{if(F.current&&F.current.getTotalLength)try{var Ue=F.current.getTotalLength();Ue&&j(Ue)}catch{}},[]),r!==+r||n!==+n||s!==+s||A!==+A||f!==+f||s===0&&A===0||f===0)return null;var Ae=zi("recharts-trapezoid",l);if(!C)return te.createElement("g",null,te.createElement("path",P_({},mA(t),{className:Ae,d:GT(r,n,s,A,f)})));var pe=k.current,Be=H.current,Fe=K.current,me=Y.current,He=W.current,se="0px ".concat(T===-1?1:T,"px"),de="".concat(T,"px 0px"),Le=CM(["strokeDasharray"],b,y);return te.createElement(Ib,{animationId:ae,key:ae,canBegin:T>0,duration:b,easing:y,isActive:C,begin:w},Ue=>{var nt=ls(pe,s,Ue),Oe=ls(Be,A,Ue),Ne=ls(Fe,f,Ue),Ve=ls(me,r,Ue),De=ls(He,n,Ue);F.current&&(k.current=nt,H.current=Oe,K.current=Ne,Y.current=Ve,W.current=De);var ot=Ue>0?{transition:Le,strokeDasharray:de}:{strokeDasharray:se};return te.createElement("path",P_({},mA(t),{className:Ae,d:GT(Ve,De,nt,Oe,Ne),ref:F,style:qT(qT({},ot),t.style)}))})},oX=["option","shapeType","propTransformer","activeClassName"];function lX(e,t){if(e==null)return{};var r,n,s=AX(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function AX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function $T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function O_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$T(Object(r),!0).forEach(function(n){uX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$T(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uX(e,t,r){return(t=cX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cX(e){var t=hX(e,"string");return typeof t=="symbol"?t:t+""}function hX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fX(e,t){return O_(O_({},t),e)}function dX(e,t){return e==="symbols"}function XT(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return te.createElement(IM,r);case"trapezoid":return te.createElement(sX,r);case"sector":return te.createElement(UM,r);case"symbols":if(dX(t))return te.createElement(H5,r);break;case"curve":return te.createElement(BM,r);default:return null}}function pX(e){return te.isValidElement(e)?e.props:e}function d6(e){var{option:t,shapeType:r,propTransformer:n=fX,activeClassName:s="recharts-active-shape"}=e,A=lX(e,oX),f;if(te.isValidElement(t))f=te.cloneElement(t,O_(O_({},A),pX(t)));else if(typeof t=="function")f=t(A);else if(tX(t)&&typeof t!="boolean"){var l=n(t,A);f=te.createElement(XT,{shapeType:r,elementProps:l})}else{var y=A;f=te.createElement(XT,{shapeType:r,elementProps:y})}return A.isActive?te.createElement(sc,{className:s},f):f}var p6=(e,t)=>{var r=$a();return(n,s)=>A=>{e?.(n,s,A),r(CO({activeIndex:String(s),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},m6=e=>{var t=$a();return(r,n)=>s=>{e?.(r,n,s),t(zV())}},g6=(e,t)=>{var r=$a();return(n,s)=>A=>{e?.(n,s,A),r(jV({activeIndex:String(s),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function y6(e){var{tooltipEntrySettings:t}=e,r=$a(),n=Kl(),s=te.useRef(null);return te.useLayoutEffect(()=>{n||(s.current===null?r(kV(t)):s.current!==t&&r(NV({prev:s.current,next:t})),s.current=t)},[t,r,n]),te.useLayoutEffect(()=>()=>{s.current&&(r(QV(s.current)),s.current=null)},[r]),null}function v6(e){var{legendPayload:t}=e,r=$a(),n=Kl(),s=te.useRef(null);return te.useLayoutEffect(()=>{n||(s.current===null?r(aj(t)):s.current!==t&&r(sj({prev:s.current,next:t})),s.current=t)},[r,n,t]),te.useLayoutEffect(()=>()=>{s.current&&(r(oj(s.current)),s.current=null)},[r]),null}var n2,mX=()=>{var[e]=te.useState(()=>K0("uid-"));return e},gX=(n2=oN.useId)!==null&&n2!==void 0?n2:mX;function _6(e,t){var r=gX();return t||(e?"".concat(e,"-").concat(r):r)}var yX=te.createContext(void 0),b6=e=>{var{id:t,type:r,children:n}=e,s=_6("recharts-".concat(r),t);return te.createElement(yX.Provider,{value:s},n(s))},vX={cartesianItems:[],polarItems:[]},w6=YA({name:"graphicalItems",initialState:vX,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Da()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,s=kc(e).cartesianItems.indexOf(r);s>-1&&(e.cartesianItems[s]=n)},prepare:Da()},removeCartesianGraphicalItem:{reducer(e,t){var r=kc(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Da()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Da()},removePolarGraphicalItem:{reducer(e,t){var r=kc(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Da()}}}),{addCartesianGraphicalItem:_X,replaceCartesianGraphicalItem:bX,removeCartesianGraphicalItem:wX,addPolarGraphicalItem:Xle,removePolarGraphicalItem:Zle}=w6.actions,xX=w6.reducer,BX=e=>{var t=$a(),r=te.useRef(null);return te.useLayoutEffect(()=>{r.current===null?t(_X(e)):r.current!==e&&t(bX({prev:r.current,next:e})),r.current=e},[t,e]),te.useLayoutEffect(()=>()=>{r.current&&(t(wX(r.current)),r.current=null)},[t]),null},x6=te.memo(BX),CX=["points"];function ZT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function i2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZT(Object(r),!0).forEach(function(n){SX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SX(e,t,r){return(t=EX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EX(e){var t=TX(e,"string");return typeof t=="symbol"?t:t+""}function TX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function D_(){return D_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},D_.apply(null,arguments)}function IX(e,t){if(e==null)return{};var r,n,s=FX(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function FX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function LX(e){var{option:t,dotProps:r,className:n}=e;if(te.isValidElement(t))return te.cloneElement(t,r);if(typeof t=="function")return t(r);var s=zi(n,typeof t!="boolean"?t.className:""),A=r??{},{points:f}=A,l=IX(A,CX);return te.createElement(u6,D_({},l,{className:s}))}function UX(e,t){return e==null?!1:t?!0:e.length===1}function MX(e){var{points:t,dot:r,className:n,dotClassName:s,dataKey:A,baseProps:f,needClip:l,clipPathId:y,zIndex:b=ko.scatter}=e;if(!UX(t,r))return null;var w=f6(r),C=RN(r),F=t.map((j,k)=>{var H,K,Y=i2(i2(i2({r:3},f),C),{},{index:k,cx:(H=j.x)!==null&&H!==void 0?H:void 0,cy:(K=j.y)!==null&&K!==void 0?K:void 0,dataKey:A,value:j.value,payload:j.payload,points:t});return te.createElement(LX,{key:"dot-".concat(k),option:r,dotProps:Y,className:s})}),T={};return l&&y!=null&&(T.clipPath="url(#clipPath-".concat(w?"":"dots-").concat(y,")")),te.createElement(cc,{zIndex:b},te.createElement(sc,D_({className:n},T),F))}function WT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function YT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WT(Object(r),!0).forEach(function(n){PX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PX(e,t,r){return(t=OX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OX(e){var t=DX(e,"string");return typeof t=="symbol"?t:t+""}function DX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kX={xAxis:{},yAxis:{},zAxis:{}},B6=YA({name:"cartesianAxis",initialState:kX,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Da()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Da()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Da()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Da()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Da()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Da()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Da()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Da()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Da()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,s=e.yAxis[r];if(s){var A=s.widthHistory||[];if(A.length===3&&A[0]===A[2]&&n===A[1]&&n!==s.width&&Math.abs(n-A[0])<=1)return;var f=[...A,n].slice(-3);e.yAxis[r]=YT(YT({},e.yAxis[r]),{},{width:n,widthHistory:f})}}}}),{addXAxis:NX,replaceXAxis:QX,removeXAxis:RX,addYAxis:zX,replaceYAxis:jX,removeYAxis:HX,addZAxis:Wle,replaceZAxis:Yle,removeZAxis:Jle,updateYAxisWidth:KX}=B6.actions,VX=B6.reducer,qX=Tt([No],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),GX=Tt([qX,pf,mf],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),lS=()=>Kr(GX),$X=()=>Kr(Lq);function JT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function a2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JT(Object(r),!0).forEach(function(n){XX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XX(e,t,r){return(t=ZX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZX(e){var t=WX(e,"string");return typeof t=="symbol"?t:t+""}function WX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YX=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:s,dataKey:A,clipPath:f}=e;if(s===!1||t.x==null||t.y==null)return null;var l={index:r,dataKey:A,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},y=a2(a2(a2({},l),hy(s)),K5(s)),b;return te.isValidElement(s)?b=te.cloneElement(s,y):typeof s=="function"?b=s(y):b=te.createElement(u6,y),te.createElement(sc,{className:"recharts-active-dot",clipPath:f},b)};function JX(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:s,clipPath:A,zIndex:f=ko.activeDot}=e,l=Kr(Lp),y=$X();if(t==null||y==null)return null;var b=t.find(w=>y.includes(w.payload));return Na(b)?null:te.createElement(cc,{zIndex:f},te.createElement(YX,{point:b,childIndex:Number(l),mainColor:r,dataKey:s,activeDot:n,clipPath:A}))}var eZ="Invariant failed";function tZ(e,t){throw new Error(eZ)}var rZ=["x","y"];function $B(){return $B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$B.apply(null,arguments)}function eI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function _0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eI(Object(r),!0).forEach(function(n){nZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nZ(e,t,r){return(t=iZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iZ(e){var t=aZ(e,"string");return typeof t=="symbol"?t:t+""}function aZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sZ(e,t){if(e==null)return{};var r,n,s=oZ(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function oZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function lZ(e,t){var{x:r,y:n}=e,s=sZ(e,rZ),A="".concat(r),f=parseInt(A,10),l="".concat(n),y=parseInt(l,10),b="".concat(t.height||s.height),w=parseInt(b,10),C="".concat(t.width||s.width),F=parseInt(C,10);return _0(_0(_0(_0(_0({},t),s),f?{x:f}:{}),y?{y}:{}),{},{height:w,width:F,name:t.name,radius:t.radius})}function k_(e){return te.createElement(d6,$B({shapeType:"rectangle",propTransformer:lZ,activeClassName:"recharts-active-bar"},e))}var AZ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,s)=>{if(Qr(t))return t;var A=Qr(n)||Na(n);return A?t(n,s):(A||tZ(),r)}},uZ={},C6=YA({name:"errorBars",initialState:uZ,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:s}=t.payload;e[r]&&(e[r]=e[r].map(A=>A.dataKey===n.dataKey&&A.direction===n.direction?s:A))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(s=>s.dataKey!==n.dataKey||s.direction!==n.direction))}}}),{addErrorBar:eAe,replaceErrorBar:tAe,removeErrorBar:rAe}=C6.actions,cZ=C6.reducer,hZ=["children"];function fZ(e,t){if(e==null)return{};var r,n,s=dZ(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function dZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var pZ={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},mZ=te.createContext(pZ);function S6(e){var{children:t}=e,r=fZ(e,hZ);return te.createElement(mZ.Provider,{value:r},t)}function AS(e,t){var r,n,s=Kr(b=>yf(b,e)),A=Kr(b=>vf(b,t)),f=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:Mo.allowDataOverflow,l=(n=A?.allowDataOverflow)!==null&&n!==void 0?n:Po.allowDataOverflow,y=f||l;return{needClip:y,needClipX:f,needClipY:l}}function E6(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,s=lS(),{needClipX:A,needClipY:f,needClip:l}=AS(t,r);if(!l||!s)return null;var{x:y,y:b,width:w,height:C}=s;return te.createElement("clipPath",{id:"clipPath-".concat(n)},te.createElement("rect",{x:A?y:y-w/2,y:f?b:b-C/2,width:A?w:w*2,height:f?C:C*2}))}function gZ(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Is(e.zIndex)?e.zIndex:t}var s2={exports:{}},o2={};var tI;function yZ(){if(tI)return o2;tI=1;var e=ng();function t(y,b){return y===b&&(y!==0||1/y===1/b)||y!==y&&b!==b}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,s=e.useRef,A=e.useEffect,f=e.useMemo,l=e.useDebugValue;return o2.useSyncExternalStoreWithSelector=function(y,b,w,C,F){var T=s(null);if(T.current===null){var j={hasValue:!1,value:null};T.current=j}else j=T.current;T=f(function(){function H(Ae){if(!K){if(K=!0,Y=Ae,Ae=C(Ae),F!==void 0&&j.hasValue){var pe=j.value;if(F(pe,Ae))return W=pe}return W=Ae}if(pe=W,r(Y,Ae))return pe;var Be=C(Ae);return F!==void 0&&F(pe,Be)?(Y=Ae,pe):(Y=Ae,W=Be)}var K=!1,Y,W,ae=w===void 0?null:w;return[function(){return H(b())},ae===null?void 0:function(){return H(ae())}]},[b,w,C,F]);var k=n(y,T[0],T[1]);return A(function(){j.hasValue=!0,j.value=k},[k]),l(k),k},o2}var rI;function vZ(){return rI||(rI=1,s2.exports=yZ()),s2.exports}vZ();function _Z(e){e()}function bZ(){let e=null,t=null;return{clear(){e=null,t=null},notify(){_Z(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const s=t={callback:r,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!n||e===null||(n=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var nI={notify(){},get:()=>[]};function wZ(e,t){let r,n=nI,s=0,A=!1;function f(k){w();const H=n.subscribe(k);let K=!1;return()=>{K||(K=!0,H(),C())}}function l(){n.notify()}function y(){j.onStateChange&&j.onStateChange()}function b(){return A}function w(){s++,r||(r=e.subscribe(y),n=bZ())}function C(){s--,r&&s===0&&(r(),r=void 0,n.clear(),n=nI)}function F(){A||(A=!0,w())}function T(){A&&(A=!1,C())}const j={addNestedSub:f,notifyNestedSubs:l,handleChangeWrapper:y,isSubscribed:b,trySubscribe:F,tryUnsubscribe:T,getListeners:()=>n};return j}var xZ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",BZ=xZ(),CZ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",SZ=CZ(),EZ=()=>BZ||SZ?te.useLayoutEffect:te.useEffect,TZ=EZ();function iI(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function IZ(e,t){if(iI(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let s=0;s<r.length;s++)if(!Object.prototype.hasOwnProperty.call(t,r[s])||!iI(e[r[s]],t[r[s]]))return!1;return!0}var FZ=Symbol.for("react-redux-context"),LZ=typeof globalThis<"u"?globalThis:{};function UZ(){if(!te.createContext)return{};const e=LZ[FZ]??=new Map;let t=e.get(te.createContext);return t||(t=te.createContext(null),e.set(te.createContext,t)),t}var MZ=UZ();function PZ(e){const{children:t,context:r,serverState:n,store:s}=e,A=te.useMemo(()=>{const y=wZ(s);return{store:s,subscription:y,getServerState:n?()=>n:void 0}},[s,n]),f=te.useMemo(()=>s.getState(),[s]);TZ(()=>{const{subscription:y}=A;return y.onStateChange=y.notifyNestedSubs,y.trySubscribe(),f!==s.getState()&&y.notifyNestedSubs(),()=>{y.tryUnsubscribe(),y.onStateChange=void 0}},[A,f]);const l=r||MZ;return te.createElement(l.Provider,{value:A},t)}var OZ=PZ,DZ=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function kZ(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Zb(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(DZ.has(n)){if(e[n]==null&&t[n]==null)continue;if(!IZ(e[n],t[n]))return!1}else if(!kZ(e[n],t[n]))return!1;return!0}var NZ=["onMouseEnter","onMouseLeave","onClick"],QZ=["value","background","tooltipPosition"],RZ=["id"],zZ=["onMouseEnter","onClick","onMouseLeave"];function ff(){return ff=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ff.apply(null,arguments)}function aI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function dA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aI(Object(r),!0).forEach(function(n){jZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jZ(e,t,r){return(t=HZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HZ(e){var t=KZ(e,"string");return typeof t=="symbol"?t:t+""}function KZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N_(e,t){if(e==null)return{};var r,n,s=VZ(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function VZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var qZ=e=>{var{dataKey:t,name:r,fill:n,legendType:s,hide:A}=e;return[{inactive:A,dataKey:t,type:s,color:n,value:vb(r,t),payload:e}]},GZ=te.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:s,name:A,hide:f,unit:l,tooltipType:y}=e,b={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:s,dataKey:t,nameKey:void 0,name:vb(A,t),hide:f,type:y,color:s,unit:l}};return te.createElement(y6,{tooltipEntrySettings:b})});function $Z(e){var t=Kr(Lp),{data:r,dataKey:n,background:s,allOtherBarProps:A}=e,{onMouseEnter:f,onMouseLeave:l,onClick:y}=A,b=N_(A,NZ),w=p6(f,n),C=m6(l),F=g6(y,n);if(!s||r==null)return null;var T=hy(s);return te.createElement(cc,{zIndex:gZ(s,ko.barBackground)},r.map((j,k)=>{var{value:H,background:K,tooltipPosition:Y}=j,W=N_(j,QZ);if(!K)return null;var ae=w(j,k),Ae=C(j,k),pe=F(j,k),Be=dA(dA(dA(dA(dA({option:s,isActive:String(k)===t},W),{},{fill:"#eee"},K),T),Ab(b,j,k)),{},{onMouseEnter:ae,onMouseLeave:Ae,onClick:pe,dataKey:n,index:k,className:"recharts-bar-background-rectangle"});return te.createElement(k_,ff({key:"background-bar-".concat(k)},Be))}))}function XZ(e){var{showLabels:t,children:r,rects:n}=e,s=n?.map(A=>{var f={x:A.x,y:A.y,width:A.width,lowerWidth:A.width,upperWidth:A.width,height:A.height};return dA(dA({},f),{},{value:A.value,payload:A.payload,parentViewBox:A.parentViewBox,viewBox:f,fill:A.fill})});return te.createElement(o6,{value:t?s:void 0},r)}function ZZ(e){var{shape:t,activeBar:r,baseProps:n,entry:s,index:A,dataKey:f}=e,l=Kr(Lp),y=Kr(QO),b=r&&String(A)===l&&(y==null||f===y),w=b?r:t;return b?te.createElement(cc,{zIndex:ko.activeBar},te.createElement(k_,ff({},n,{name:String(n.name)},s,{isActive:b,option:w,index:A,dataKey:f}))):te.createElement(k_,ff({},n,{name:String(n.name)},s,{isActive:b,option:w,index:A,dataKey:f}))}function WZ(e){var{shape:t,baseProps:r,entry:n,index:s,dataKey:A}=e;return te.createElement(k_,ff({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:s,dataKey:A}))}function YZ(e){var t,{data:r,props:n}=e,s=(t=Nc(n))!==null&&t!==void 0?t:{},{id:A}=s,f=N_(s,RZ),{shape:l,dataKey:y,activeBar:b}=n,{onMouseEnter:w,onClick:C,onMouseLeave:F}=n,T=N_(n,zZ),j=p6(w,y),k=m6(F),H=g6(C,y);return r?te.createElement(te.Fragment,null,r.map((K,Y)=>te.createElement(sc,ff({key:"rectangle-".concat(K?.x,"-").concat(K?.y,"-").concat(K?.value,"-").concat(Y),className:"recharts-bar-rectangle"},Ab(T,K,Y),{onMouseEnter:j(K,Y),onMouseLeave:k(K,Y),onClick:H(K,Y)}),b?te.createElement(ZZ,{shape:l,activeBar:b,baseProps:f,entry:K,index:Y,dataKey:y}):te.createElement(WZ,{shape:l,baseProps:f,entry:K,index:Y,dataKey:y})))):null}function JZ(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:s,isAnimationActive:A,animationBegin:f,animationDuration:l,animationEasing:y,onAnimationEnd:b,onAnimationStart:w}=t,C=r.current,F=Fb(t,"recharts-bar-"),[T,j]=te.useState(!1),k=!T,H=te.useCallback(()=>{typeof b=="function"&&b(),j(!1)},[b]),K=te.useCallback(()=>{typeof w=="function"&&w(),j(!0)},[w]);return te.createElement(XZ,{showLabels:k,rects:n},te.createElement(Ib,{animationId:F,begin:f,duration:l,isActive:A,easing:y,onAnimationEnd:H,onAnimationStart:K,key:F},Y=>{var W=Y===1?n:n?.map((ae,Ae)=>{var pe=C&&C[Ae];if(pe)return dA(dA({},ae),{},{x:ls(pe.x,ae.x,Y),y:ls(pe.y,ae.y,Y),width:ls(pe.width,ae.width,Y),height:ls(pe.height,ae.height,Y)});if(s==="horizontal"){var Be=ls(0,ae.height,Y),Fe=ls(ae.stackedBarStart,ae.y,Y);return dA(dA({},ae),{},{y:Fe,height:Be})}var me=ls(0,ae.width,Y),He=ls(ae.stackedBarStart,ae.x,Y);return dA(dA({},ae),{},{width:me,x:He})});return Y>0&&(r.current=W??null),W==null?null:te.createElement(sc,null,te.createElement(YZ,{props:t,data:W}))}),te.createElement(A6,{label:t.label}),t.children)}function eW(e){var t=te.useRef(null);return te.createElement(JZ,{previousRectanglesRef:t,props:e})}var T6=0,tW=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:po(e,t)}};class rW extends te.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:s,xAxisId:A,yAxisId:f,needClip:l,background:y,id:b}=this.props;if(t||r==null)return null;var w=zi("recharts-bar",s),C=b;return te.createElement(sc,{className:w,id:b},l&&te.createElement("defs",null,te.createElement(E6,{clipPathId:C,xAxisId:A,yAxisId:f})),te.createElement(sc,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(C,")"):void 0},te.createElement($Z,{data:r,dataKey:n,background:y,allOtherBarProps:this.props}),te.createElement(eW,this.props)))}}var nW={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:T6,xAxisId:0,yAxisId:0,zIndex:ko.bar};function iW(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:s,minPointSize:A,activeBar:f,animationBegin:l,animationDuration:y,animationEasing:b,isAnimationActive:w}=e,{needClip:C}=AS(t,r),F=vy(),T=Kl(),j=W$(e.children,aS),k=Kr(Y=>UW(Y,t,r,T,e.id,j));if(F!=="vertical"&&F!=="horizontal")return null;var H,K=k?.[0];return K==null||K.height==null||K.width==null?H=0:H=F==="vertical"?K.height/2:K.width/2,te.createElement(S6,{xAxisId:t,yAxisId:r,data:k,dataPointFormatter:tW,errorBarOffset:H},te.createElement(rW,ff({},e,{layout:F,needClip:C,data:k,xAxisId:t,yAxisId:r,hide:n,legendType:s,minPointSize:A,activeBar:f,animationBegin:l,animationDuration:y,animationEasing:b,isAnimationActive:w})))}function aW(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:s,bandSize:A,xAxis:f,yAxis:l,xAxisTicks:y,yAxisTicks:b,stackedData:w,displayedData:C,offset:F,cells:T,parentViewBox:j,dataStartIndex:k}=e,H=t==="horizontal"?l:f,K=w?H.scale.domain():null,Y=oz({numericAxis:H}),W=H.scale(Y);return C.map((ae,Ae)=>{var pe,Be,Fe,me,He,se;w?pe=tz(w[Ae+k],K):(pe=po(ae,r),Array.isArray(pe)||(pe=[Y,pe]));var de=AZ(n,T6)(pe[1],Ae);if(t==="horizontal"){var Le,[Ue,nt]=[l.scale(pe[0]),l.scale(pe[1])];Be=S4({axis:f,ticks:y,bandSize:A,offset:s.offset,entry:ae,index:Ae}),Fe=(Le=nt??Ue)!==null&&Le!==void 0?Le:void 0,me=s.size;var Oe=Ue-nt;if(He=Qc(Oe)?0:Oe,se={x:Be,y:F.top,width:me,height:F.height},Math.abs(de)>0&&Math.abs(He)<Math.abs(de)){var Ne=ZA(He||de)*(Math.abs(de)-Math.abs(He));Fe-=Ne,He+=Ne}}else{var[Ve,De]=[f.scale(pe[0]),f.scale(pe[1])];if(Be=Ve,Fe=S4({axis:l,ticks:b,bandSize:A,offset:s.offset,entry:ae,index:Ae}),me=De-Ve,He=s.size,se={x:F.left,y:Fe,width:F.width,height:He},Math.abs(de)>0&&Math.abs(me)<Math.abs(de)){var ot=ZA(me||de)*(Math.abs(de)-Math.abs(me));me+=ot}}if(Be==null||Fe==null||me==null||He==null)return null;var be=dA(dA({},ae),{},{stackedBarStart:W,x:Be,y:Fe,width:me,height:He,value:w?pe:pe[1],payload:ae,background:se,tooltipPosition:{x:Be+me/2,y:Fe+He/2},parentViewBox:j},T&&T[Ae]&&T[Ae].props);return be}).filter(Boolean)}function sW(e){var t=ol(e,nW),r=Kl();return te.createElement(b6,{id:t.id,type:"bar"},n=>te.createElement(te.Fragment,null,te.createElement(v6,{legendPayload:qZ(t)}),te.createElement(GZ,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),te.createElement(x6,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:sz(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),te.createElement(cc,{zIndex:t.zIndex},te.createElement(iW,ff({},t,{id:n})))))}var I6=te.memo(sW,Zb);I6.displayName="Bar";function sI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Yv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sI(Object(r),!0).forEach(function(n){oW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oW(e,t,r){return(t=lW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lW(e){var t=AW(e,"string");return typeof t=="symbol"?t:t+""}function AW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uW=(e,t)=>t,cW=(e,t,r)=>r,hW=(e,t,r,n)=>n,fW=(e,t,r,n,s)=>s,My=Tt([Vb,fW],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),dW=Tt([My],e=>e?.maxBarSize),pW=(e,t,r,n,s,A)=>A,oI=(e,t,r)=>{var n=r??e;if(!Na(n))return Rc(n,t,0)},mW=Tt([Ci,Vb,uW,cW,hW],(e,t,r,n,s)=>t.filter(A=>e==="horizontal"?A.xAxisId===r:A.yAxisId===n).filter(A=>A.isPanorama===s).filter(A=>A.hide===!1).filter(A=>A.type==="bar")),gW=(e,t,r,n)=>{var s=Ci(e);return s==="horizontal"?RB(e,"yAxis",r,n):RB(e,"xAxis",t,n)},yW=(e,t,r)=>{var n=Ci(e);return n==="horizontal"?aT(e,"xAxis",t):aT(e,"yAxis",r)},vW=(e,t,r)=>{var n={},s=e.filter(jb),A=e.filter(b=>b.stackId==null),f=s.reduce((b,w)=>(b[w.stackId]||(b[w.stackId]=[]),b[w.stackId].push(w),b),n),l=Object.entries(f).map(b=>{var[w,C]=b,F=C.map(j=>j.dataKey),T=oI(t,r,C[0].barSize);return{stackId:w,dataKeys:F,barSize:T}}),y=A.map(b=>{var w=[b.dataKey].filter(F=>F!=null),C=oI(t,r,b.barSize);return{stackId:void 0,dataKeys:w,barSize:C}});return[...l,...y]},_W=Tt([mW,FK,yW],vW),bW=(e,t,r,n,s)=>{var A,f,l=My(e,t,r,n,s);if(l!=null){var y=Ci(e),b=TP(e),{maxBarSize:w}=l,C=Na(w)?b:w,F,T;return y==="horizontal"?(F=_d(e,"xAxis",t,n),T=vd(e,"xAxis",t,n)):(F=_d(e,"yAxis",r,n),T=vd(e,"yAxis",r,n)),(A=(f=Zm(F,T,!0))!==null&&f!==void 0?f:C)!==null&&A!==void 0?A:0}},F6=(e,t,r,n)=>{var s=Ci(e),A,f;return s==="horizontal"?(A=_d(e,"xAxis",t,n),f=vd(e,"xAxis",t,n)):(A=_d(e,"yAxis",r,n),f=vd(e,"yAxis",r,n)),Zm(A,f)};function wW(e,t,r,n,s){var A=n.length;if(!(A<1)){var f=Rc(e,r,0,!0),l,y=[];if(Is(n[0].barSize)){var b=!1,w=r/A,C=n.reduce((K,Y)=>K+(Y.barSize||0),0);C+=(A-1)*f,C>=r&&(C-=(A-1)*f,f=0),C>=r&&w>0&&(b=!0,w*=.9,C=A*w);var F=(r-C)/2>>0,T={offset:F-f,size:0};l=n.reduce((K,Y)=>{var W,ae={stackId:Y.stackId,dataKeys:Y.dataKeys,position:{offset:T.offset+T.size+f,size:b?w:(W=Y.barSize)!==null&&W!==void 0?W:0}},Ae=[...K,ae];return T=Ae[Ae.length-1].position,Ae},y)}else{var j=Rc(t,r,0,!0);r-2*j-(A-1)*f<=0&&(f=0);var k=(r-2*j-(A-1)*f)/A;k>1&&(k>>=0);var H=Is(s)?Math.min(k,s):k;l=n.reduce((K,Y,W)=>[...K,{stackId:Y.stackId,dataKeys:Y.dataKeys,position:{offset:j+(k+f)*W+(k-H)/2,size:H}}],y)}return l}}var xW=(e,t,r,n,s,A,f)=>{var l=Na(f)?t:f,y=wW(r,n,s!==A?s:A,e,l);return s!==A&&y!=null&&(y=y.map(b=>Yv(Yv({},b),{},{position:Yv(Yv({},b.position),{},{offset:b.position.offset-s/2})}))),y},BW=Tt([_W,TP,IK,IP,bW,F6,dW],xW),CW=(e,t,r,n)=>_d(e,"xAxis",t,n),SW=(e,t,r,n)=>_d(e,"yAxis",r,n),EW=(e,t,r,n)=>vd(e,"xAxis",t,n),TW=(e,t,r,n)=>vd(e,"yAxis",r,n),IW=Tt([BW,My],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),FW=(e,t)=>{var r=QC(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var s=e[n];if(s){var{stackedData:A}=s;if(A)return A.find(f=>f.key===r)}}}},LW=Tt([gW,My],FW),UW=Tt([No,tC,CW,SW,EW,TW,IW,Ci,kb,F6,LW,My,pW],(e,t,r,n,s,A,f,l,y,b,w,C,F)=>{var{chartData:T,dataStartIndex:j,dataEndIndex:k}=y;if(!(C==null||f==null||t==null||l!=="horizontal"&&l!=="vertical"||r==null||n==null||s==null||A==null||b==null)){var{data:H}=C,K;if(H!=null&&H.length>0?K=H:K=T?.slice(j,k+1),K!=null)return aW({layout:l,barSettings:C,pos:f,parentViewBox:t,bandSize:b,xAxis:r,yAxis:n,xAxisTicks:s,yAxisTicks:A,stackedData:w,displayedData:K,offset:e,cells:F,dataStartIndex:j})}}),MW=e=>{var{chartData:t}=e,r=$a(),n=Kl();return te.useEffect(()=>n?()=>{}:(r(yT(t)),()=>{r(yT(void 0))}),[t,r,n]),null},lI={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},L6=YA({name:"brush",initialState:lI,reducers:{setBrushSettings(e,t){return t.payload==null?lI:t.payload}}}),{setBrushSettings:nAe}=L6.actions,PW=L6.reducer;function OW(e,t,r){return(t=DW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DW(e){var t=kW(e,"string");return typeof t=="symbol"?t:t+""}function kW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class uS{static create(t){return new uS(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var A=this.bandwidth?this.bandwidth():0;return this.scale(t)+A}default:return this.scale(t)}if(r){var f=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+f}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],s=r[r.length-1];return n<=s?t>=n&&t<=s:t>=s&&t<=n}}OW(uS,"EPS",1e-4);function NW(e){return(e%180+180)%180}var QW=function(t){var{width:r,height:n}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,A=NW(s),f=A*Math.PI/180,l=Math.atan(n/r),y=f>l&&f<Math.PI-l?n/Math.sin(f):r/Math.cos(f);return Math.abs(y)},RW={dots:[],areas:[],lines:[]},U6=YA({name:"referenceElements",initialState:RW,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=kc(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=kc(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=kc(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:iAe,removeDot:aAe,addArea:sAe,removeArea:oAe,addLine:lAe,removeLine:AAe}=U6.actions,zW=U6.reducer,jW=te.createContext(void 0),HW=e=>{var{children:t}=e,[r]=te.useState("".concat(K0("recharts"),"-clip")),n=lS();if(n==null)return null;var{x:s,y:A,width:f,height:l}=n;return te.createElement(jW.Provider,{value:r},te.createElement("defs",null,te.createElement("clipPath",{id:r},te.createElement("rect",{x:s,y:A,height:l,width:f}))),t)};function M6(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r}function KW(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return QW(n,r)}function VW(e,t,r){var n=r==="width",{x:s,y:A,width:f,height:l}=e;return t===1?{start:n?s:A,end:n?s+f:A+l}:{start:n?s+f:A+l,end:n?s:A}}function Q_(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var A=r();return e*(t-e*A/2-n)>=0&&e*(t+e*A/2-s)<=0}function qW(e,t){return M6(e,t+1)}function GW(e,t,r,n,s){for(var A=(n||[]).slice(),{start:f,end:l}=t,y=0,b=1,w=f,C=function(){var j=n?.[y];if(j===void 0)return{v:M6(n,b)};var k=y,H,K=()=>(H===void 0&&(H=r(j,k)),H),Y=j.coordinate,W=y===0||Q_(e,Y,K,w,l);W||(y=0,w=f,b+=1),W&&(w=Y+e*(K()/2+s),y+=b)},F;b<=A.length;)if(F=C(),F)return F.v;return[]}function AI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function zl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AI(Object(r),!0).forEach(function(n){$W(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $W(e,t,r){return(t=XW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XW(e){var t=ZW(e,"string");return typeof t=="symbol"?t:t+""}function ZW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WW(e,t,r,n,s){for(var A=(n||[]).slice(),f=A.length,{start:l}=t,{end:y}=t,b=function(F){var T=A[F],j,k=()=>(j===void 0&&(j=r(T,F)),j);if(F===f-1){var H=e*(T.coordinate+e*k()/2-y);A[F]=T=zl(zl({},T),{},{tickCoord:H>0?T.coordinate-H*e:T.coordinate})}else A[F]=T=zl(zl({},T),{},{tickCoord:T.coordinate});if(T.tickCoord!=null){var K=Q_(e,T.tickCoord,k,l,y);K&&(y=T.tickCoord-e*(k()/2+s),A[F]=zl(zl({},T),{},{isShow:!0}))}},w=f-1;w>=0;w--)b(w);return A}function YW(e,t,r,n,s,A){var f=(n||[]).slice(),l=f.length,{start:y,end:b}=t;if(A){var w=n[l-1],C=r(w,l-1),F=e*(w.coordinate+e*C/2-b);if(f[l-1]=w=zl(zl({},w),{},{tickCoord:F>0?w.coordinate-F*e:w.coordinate}),w.tickCoord!=null){var T=Q_(e,w.tickCoord,()=>C,y,b);T&&(b=w.tickCoord-e*(C/2+s),f[l-1]=zl(zl({},w),{},{isShow:!0}))}}for(var j=A?l-1:l,k=function(Y){var W=f[Y],ae,Ae=()=>(ae===void 0&&(ae=r(W,Y)),ae);if(Y===0){var pe=e*(W.coordinate-e*Ae()/2-y);f[Y]=W=zl(zl({},W),{},{tickCoord:pe<0?W.coordinate-pe*e:W.coordinate})}else f[Y]=W=zl(zl({},W),{},{tickCoord:W.coordinate});if(W.tickCoord!=null){var Be=Q_(e,W.tickCoord,Ae,y,b);Be&&(y=W.tickCoord+e*(Ae()/2+s),f[Y]=zl(zl({},W),{},{isShow:!0}))}},H=0;H<j;H++)k(H);return f}function cS(e,t,r){var{tick:n,ticks:s,viewBox:A,minTickGap:f,orientation:l,interval:y,tickFormatter:b,unit:w,angle:C}=e;if(!s||!s.length||!n)return[];if(Qr(y)||ig.isSsr){var F;return(F=qW(s,Qr(y)?y:0))!==null&&F!==void 0?F:[]}var T=[],j=l==="top"||l==="bottom"?"width":"height",k=w&&j==="width"?D0(w,{fontSize:t,letterSpacing:r}):{width:0,height:0},H=(W,ae)=>{var Ae=typeof b=="function"?b(W.value,ae):W.value;return j==="width"?KW(D0(Ae,{fontSize:t,letterSpacing:r}),k,C):D0(Ae,{fontSize:t,letterSpacing:r})[j]},K=s.length>=2?ZA(s[1].coordinate-s[0].coordinate):1,Y=VW(A,K,j);return y==="equidistantPreserveStart"?GW(K,Y,H,s,f):(y==="preserveStart"||y==="preserveStartEnd"?T=YW(K,Y,H,s,f,y==="preserveStartEnd"):T=WW(K,Y,H,s,f),T.filter(W=>W.isShow))}var JW=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:s=0,tickMargin:A=0}=e,f=0;if(t){Array.from(t).forEach(w=>{if(w){var C=w.getBoundingClientRect();C.width>f&&(f=C.width)}});var l=r?r.getBoundingClientRect().width:0,y=s+A,b=f+y+l+(r?n:0);return Math.round(b)}return 0},eY=["axisLine","width","height","className","hide","ticks","axisType"];function tY(e,t){if(e==null)return{};var r,n,s=rY(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function rY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Up(){return Up=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Up.apply(null,arguments)}function uI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ks(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uI(Object(r),!0).forEach(function(n){nY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nY(e,t,r){return(t=iY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iY(e){var t=aY(e,"string");return typeof t=="symbol"?t:t+""}function aY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var af={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:ko.axis};function sY(e){var{x:t,y:r,width:n,height:s,orientation:A,mirror:f,axisLine:l,otherSvgProps:y}=e;if(!l)return null;var b=Ks(Ks(Ks({},y),Nc(l)),{},{fill:"none"});if(A==="top"||A==="bottom"){var w=+(A==="top"&&!f||A==="bottom"&&f);b=Ks(Ks({},b),{},{x1:t,y1:r+w*s,x2:t+n,y2:r+w*s})}else{var C=+(A==="left"&&!f||A==="right"&&f);b=Ks(Ks({},b),{},{x1:t+C*n,y1:r,x2:t+C*n,y2:r+s})}return te.createElement("line",Up({},b,{className:zi("recharts-cartesian-axis-line",Gm(l,"className"))}))}function oY(e,t,r,n,s,A,f,l,y){var b,w,C,F,T,j,k=l?-1:1,H=e.tickSize||f,K=Qr(e.tickCoord)?e.tickCoord:e.coordinate;switch(A){case"top":b=w=e.coordinate,F=r+ +!l*s,C=F-k*H,j=C-k*y,T=K;break;case"left":C=F=e.coordinate,w=t+ +!l*n,b=w-k*H,T=b-k*y,j=K;break;case"right":C=F=e.coordinate,w=t+ +l*n,b=w+k*H,T=b+k*y,j=K;break;default:b=w=e.coordinate,F=r+ +l*s,C=F+k*H,j=C+k*y,T=K;break}return{line:{x1:b,y1:C,x2:w,y2:F},tick:{x:T,y:j}}}function lY(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function AY(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function uY(e){var{option:t,tickProps:r,value:n}=e,s,A=zi(r.className,"recharts-cartesian-axis-tick-value");if(te.isValidElement(t))s=te.cloneElement(t,Ks(Ks({},r),{},{className:A}));else if(typeof t=="function")s=t(Ks(Ks({},r),{},{className:A}));else{var f="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(f=zi(f,t?.className)),s=te.createElement(sS,Up({},r,{className:f}),n)}return s}var cY=te.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:s,stroke:A,tickFormatter:f,unit:l,padding:y,tickTextProps:b,orientation:w,mirror:C,x:F,y:T,width:j,height:k,tickSize:H,tickMargin:K,fontSize:Y,letterSpacing:W,getTicksConfig:ae,events:Ae,axisType:pe}=e,Be=cS(Ks(Ks({},ae),{},{ticks:r}),Y,W),Fe=lY(w,C),me=AY(w,C),He=Nc(ae),se=hy(n),de={};typeof s=="object"&&(de=s);var Le=Ks(Ks({},He),{},{fill:"none"},de),Ue=Be.map(Ne=>Ks({entry:Ne},oY(Ne,F,T,j,k,w,H,C,K))),nt=Ue.map(Ne=>{var{entry:Ve,line:De}=Ne;return te.createElement(sc,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(Ve.value,"-").concat(Ve.coordinate,"-").concat(Ve.tickCoord)},s&&te.createElement("line",Up({},Le,De,{className:zi("recharts-cartesian-axis-tick-line",Gm(s,"className"))})))}),Oe=Ue.map((Ne,Ve)=>{var{entry:De,tick:ot}=Ne,be=Ks(Ks(Ks(Ks({textAnchor:Fe,verticalAnchor:me},He),{},{stroke:"none",fill:A},se),ot),{},{index:Ve,payload:De,visibleTicksCount:Be.length,tickFormatter:f,padding:y},b);return te.createElement(sc,Up({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(De.value,"-").concat(De.coordinate,"-").concat(De.tickCoord)},Ab(Ae,De,Ve)),n&&te.createElement(uY,{option:n,tickProps:be,value:"".concat(typeof f=="function"?f(De.value,Ve):De.value).concat(l||"")}))});return te.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(pe,"-ticks")},Oe.length>0&&te.createElement(cc,{zIndex:ko.label},te.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(pe,"-tick-labels"),ref:t},Oe)),nt.length>0&&te.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(pe,"-tick-lines")},nt))}),hY=te.forwardRef((e,t)=>{var{axisLine:r,width:n,height:s,className:A,hide:f,ticks:l,axisType:y}=e,b=tY(e,eY),[w,C]=te.useState(""),[F,T]=te.useState(""),j=te.useRef(null);te.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var H;return JW({ticks:j.current,label:(H=e.labelRef)===null||H===void 0?void 0:H.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var k=te.useCallback(H=>{if(H){var K=H.getElementsByClassName("recharts-cartesian-axis-tick-value");j.current=K;var Y=K[0];if(Y){var W=window.getComputedStyle(Y),ae=W.fontSize,Ae=W.letterSpacing;(ae!==w||Ae!==F)&&(C(ae),T(Ae))}}},[w,F]);return f||n!=null&&n<=0||s!=null&&s<=0?null:te.createElement(cc,{zIndex:e.zIndex},te.createElement(sc,{className:zi("recharts-cartesian-axis",A)},te.createElement(sY,{x:e.x,y:e.y,width:n,height:s,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Nc(e)}),te.createElement(cY,{ref:k,axisType:y,events:b,fontSize:w,getTicksConfig:e,height:e.height,letterSpacing:F,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),te.createElement(x$,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},te.createElement(M$,{label:e.label,labelRef:e.labelRef}),e.children)))}),hS=te.forwardRef((e,t)=>{var r=ol(e,af);return te.createElement(hY,Up({},r,{ref:t}))});hS.displayName="CartesianAxis";var fY=["x1","y1","x2","y2","key"],dY=["offset"],pY=["xAxisId","yAxisId"],mY=["xAxisId","yAxisId"];function cI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Hl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cI(Object(r),!0).forEach(function(n){gY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gY(e,t,r){return(t=yY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yY(e){var t=vY(e,"string");return typeof t=="symbol"?t:t+""}function vY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vp(){return vp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vp.apply(null,arguments)}function R_(e,t){if(e==null)return{};var r,n,s=_Y(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function _Y(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var bY=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:s,width:A,height:f,ry:l}=e;return te.createElement("rect",{x:n,y:s,ry:l,width:A,height:f,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function P6(e){var{option:t,lineItemProps:r}=e,n;if(te.isValidElement(t))n=te.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var s,{x1:A,y1:f,x2:l,y2:y,key:b}=r,w=R_(r,fY),C=(s=Nc(w))!==null&&s!==void 0?s:{},{offset:F}=C,T=R_(C,dY);n=te.createElement("line",vp({},T,{x1:A,y1:f,x2:l,y2:y,fill:"none",key:b}))}return n}function wY(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:s}=e;if(!n||!s||!s.length)return null;var{xAxisId:A,yAxisId:f}=e,l=R_(e,pY),y=s.map((b,w)=>{var C=Hl(Hl({},l),{},{x1:t,y1:b,x2:t+r,y2:b,key:"line-".concat(w),index:w});return te.createElement(P6,{key:"line-".concat(w),option:n,lineItemProps:C})});return te.createElement("g",{className:"recharts-cartesian-grid-horizontal"},y)}function xY(e){var{y:t,height:r,vertical:n=!0,verticalPoints:s}=e;if(!n||!s||!s.length)return null;var{xAxisId:A,yAxisId:f}=e,l=R_(e,mY),y=s.map((b,w)=>{var C=Hl(Hl({},l),{},{x1:b,y1:t,x2:b,y2:t+r,key:"line-".concat(w),index:w});return te.createElement(P6,{option:n,lineItemProps:C,key:"line-".concat(w)})});return te.createElement("g",{className:"recharts-cartesian-grid-vertical"},y)}function BY(e){var{horizontalFill:t,fillOpacity:r,x:n,y:s,width:A,height:f,horizontalPoints:l,horizontal:y=!0}=e;if(!y||!t||!t.length||l==null)return null;var b=l.map(C=>Math.round(C+s-s)).sort((C,F)=>C-F);s!==b[0]&&b.unshift(0);var w=b.map((C,F)=>{var T=!b[F+1],j=T?s+f-C:b[F+1]-C;if(j<=0)return null;var k=F%t.length;return te.createElement("rect",{key:"react-".concat(F),y:C,x:n,height:j,width:A,stroke:"none",fill:t[k],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return te.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},w)}function CY(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:s,y:A,width:f,height:l,verticalPoints:y}=e;if(!t||!r||!r.length)return null;var b=y.map(C=>Math.round(C+s-s)).sort((C,F)=>C-F);s!==b[0]&&b.unshift(0);var w=b.map((C,F)=>{var T=!b[F+1],j=T?s+f-C:b[F+1]-C;if(j<=0)return null;var k=F%r.length;return te.createElement("rect",{key:"react-".concat(F),x:C,y:A,width:j,height:l,stroke:"none",fill:r[k],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return te.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},w)}var SY=(e,t)=>{var{xAxis:r,width:n,height:s,offset:A}=e;return lM(cS(Hl(Hl(Hl({},af),r),{},{ticks:AM(r),viewBox:{x:0,y:0,width:n,height:s}})),A.left,A.left+A.width,t)},EY=(e,t)=>{var{yAxis:r,width:n,height:s,offset:A}=e;return lM(cS(Hl(Hl(Hl({},af),r),{},{ticks:AM(r),viewBox:{x:0,y:0,width:n,height:s}})),A.top,A.top+A.height,t)},TY={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:ko.grid};function fS(e){var t=nC(),r=iC(),n=pM(),s=Hl(Hl({},ol(e,TY)),{},{x:Qr(e.x)?e.x:n.left,y:Qr(e.y)?e.y:n.top,width:Qr(e.width)?e.width:n.width,height:Qr(e.height)?e.height:n.height}),{xAxisId:A,yAxisId:f,x:l,y,width:b,height:w,syncWithTicks:C,horizontalValues:F,verticalValues:T}=s,j=Kl(),k=Kr(me=>sT(me,"xAxis",A,j)),H=Kr(me=>sT(me,"yAxis",f,j));if(!Bh(b)||!Bh(w)||!Qr(l)||!Qr(y))return null;var K=s.verticalCoordinatesGenerator||SY,Y=s.horizontalCoordinatesGenerator||EY,{horizontalPoints:W,verticalPoints:ae}=s;if((!W||!W.length)&&typeof Y=="function"){var Ae=F&&F.length,pe=Y({yAxis:H?Hl(Hl({},H),{},{ticks:Ae?F:H.ticks}):void 0,width:t??b,height:r??w,offset:n},Ae?!0:C);A_(Array.isArray(pe),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof pe,"]")),Array.isArray(pe)&&(W=pe)}if((!ae||!ae.length)&&typeof K=="function"){var Be=T&&T.length,Fe=K({xAxis:k?Hl(Hl({},k),{},{ticks:Be?T:k.ticks}):void 0,width:t??b,height:r??w,offset:n},Be?!0:C);A_(Array.isArray(Fe),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof Fe,"]")),Array.isArray(Fe)&&(ae=Fe)}return te.createElement(cc,{zIndex:s.zIndex},te.createElement("g",{className:"recharts-cartesian-grid"},te.createElement(bY,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),te.createElement(BY,vp({},s,{horizontalPoints:W})),te.createElement(CY,vp({},s,{verticalPoints:ae})),te.createElement(wY,vp({},s,{offset:n,horizontalPoints:W,xAxis:k,yAxis:H})),te.createElement(xY,vp({},s,{offset:n,verticalPoints:ae,xAxis:k,yAxis:H}))))}fS.displayName="CartesianGrid";var O6=(e,t,r,n)=>_d(e,"xAxis",t,n),D6=(e,t,r,n)=>vd(e,"xAxis",t,n),k6=(e,t,r,n)=>_d(e,"yAxis",r,n),N6=(e,t,r,n)=>vd(e,"yAxis",r,n),IY=Tt([Ci,O6,k6,D6,N6],(e,t,r,n,s)=>xd(e,"xAxis")?Zm(t,n,!1):Zm(r,s,!1)),FY=(e,t,r,n,s)=>s;function LY(e){return e.type==="line"}var UY=Tt([Vb,FY],(e,t)=>e.filter(LY).find(r=>r.id===t)),MY=Tt([Ci,O6,k6,D6,N6,UY,IY,kb],(e,t,r,n,s,A,f,l)=>{var{chartData:y,dataStartIndex:b,dataEndIndex:w}=l;if(!(A==null||t==null||r==null||n==null||s==null||n.length===0||s.length===0||f==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:C,data:F}=A,T;if(F!=null&&F.length>0?T=F:T=y?.slice(b,w+1),T!=null)return eJ({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:s,dataKey:C,bandSize:f,displayedData:T})}});function PY(e){var t=hy(e),r=3,n=2;if(t!=null){var{r:s,strokeWidth:A}=t,f=Number(s),l=Number(A);return(Number.isNaN(f)||f<0)&&(f=r),(Number.isNaN(l)||l<0)&&(l=n),{r:f,strokeWidth:l}}return{r,strokeWidth:n}}var OY=["id"],DY=["type","layout","connectNulls","needClip","shape"],kY=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function iy(){return iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iy.apply(null,arguments)}function hI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function yh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hI(Object(r),!0).forEach(function(n){NY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NY(e,t,r){return(t=QY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QY(e){var t=RY(e,"string");return typeof t=="symbol"?t:t+""}function RY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dS(e,t){if(e==null)return{};var r,n,s=zY(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function zY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var jY=e=>{var{dataKey:t,name:r,stroke:n,legendType:s,hide:A}=e;return[{inactive:A,dataKey:t,type:s,color:n,value:vb(r,t),payload:e}]},HY=te.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:s,fill:A,name:f,hide:l,unit:y,tooltipType:b}=e,w={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:s,fill:A,dataKey:t,nameKey:void 0,name:vb(f,t),hide:l,type:b,color:n,unit:y}};return te.createElement(y6,{tooltipEntrySettings:w})}),Q6=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function KY(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],s=0;s<t;++s)n=[...n,...r];return n}var VY=(e,t,r)=>{var n=r.reduce((C,F)=>C+F);if(!n)return Q6(t,e);for(var s=Math.floor(e/n),A=e%n,f=t-e,l=[],y=0,b=0;y<r.length;b+=r[y],++y)if(b+r[y]>A){l=[...r.slice(0,y),A-b];break}var w=l.length%2===0?[0,f]:[f];return[...KY(r,s),...l,...w].map(C=>"".concat(C,"px")).join(", ")};function qY(e){var{clipPathId:t,points:r,props:n}=e,{dot:s,dataKey:A,needClip:f}=n,{id:l}=n,y=dS(n,OY),b=Nc(y);return te.createElement(MX,{points:r,dot:s,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:A,baseProps:b,needClip:f,clipPathId:t})}function GY(e){var{showLabels:t,children:r,points:n}=e,s=te.useMemo(()=>n?.map(A=>{var f,l,y={x:(f=A.x)!==null&&f!==void 0?f:0,y:(l=A.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return yh(yh({},y),{},{value:A.value,payload:A.payload,viewBox:y,parentViewBox:void 0,fill:void 0})}),[n]);return te.createElement(o6,{value:t?s:void 0},r)}function fI(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:s,props:A}=e,{type:f,layout:l,connectNulls:y,needClip:b,shape:w}=A,C=dS(A,DY),F=yh(yh({},mA(C)),{},{fill:"none",className:"recharts-line-curve",clipPath:b?"url(#clipPath-".concat(t,")"):void 0,points:n,type:f,layout:l,connectNulls:y,strokeDasharray:s??A.strokeDasharray});return te.createElement(te.Fragment,null,n?.length>1&&te.createElement(d6,iy({shapeType:"curve",option:w},F,{pathRef:r})),te.createElement(qY,{points:n,clipPathId:t,props:A}))}function $Y(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function XY(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:s,longestAnimatedLengthRef:A}=e,{points:f,strokeDasharray:l,isAnimationActive:y,animationBegin:b,animationDuration:w,animationEasing:C,animateNewValues:F,width:T,height:j,onAnimationEnd:k,onAnimationStart:H}=r,K=s.current,Y=Fb(f,"recharts-line-"),W=te.useRef(Y),[ae,Ae]=te.useState(!1),pe=!ae,Be=te.useCallback(()=>{typeof k=="function"&&k(),Ae(!1)},[k]),Fe=te.useCallback(()=>{typeof H=="function"&&H(),Ae(!0)},[H]),me=$Y(n.current),He=te.useRef(0);W.current!==Y&&(He.current=A.current,W.current=Y);var se=He.current;return te.createElement(GY,{points:f,showLabels:pe},r.children,te.createElement(Ib,{animationId:Y,begin:b,duration:w,isActive:y,easing:C,onAnimationEnd:Be,onAnimationStart:Fe,key:Y},de=>{var Le=ls(se,me+se,de),Ue=Math.min(Le,me),nt;if(y)if(l){var Oe="".concat(l).split(/[,\s]+/gim).map(De=>parseFloat(De));nt=VY(Ue,me,Oe)}else nt=Q6(me,Ue);else nt=l==null?void 0:String(l);if(de>0&&me>0&&(s.current=f,A.current=Math.max(A.current,Ue)),K){var Ne=K.length/f.length,Ve=de===1?f:f.map((De,ot)=>{var be=Math.floor(ot*Ne);if(K[be]){var re=K[be];return yh(yh({},De),{},{x:ls(re.x,De.x,de),y:ls(re.y,De.y,de)})}return F?yh(yh({},De),{},{x:ls(T*2,De.x,de),y:ls(j/2,De.y,de)}):yh(yh({},De),{},{x:De.x,y:De.y})});return s.current=Ve,te.createElement(fI,{props:r,points:Ve,clipPathId:t,pathRef:n,strokeDasharray:nt})}return te.createElement(fI,{props:r,points:f,clipPathId:t,pathRef:n,strokeDasharray:nt})}),te.createElement(A6,{label:r.label}))}function ZY(e){var{clipPathId:t,props:r}=e,n=te.useRef(null),s=te.useRef(0),A=te.useRef(null);return te.createElement(XY,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:s,pathRef:A})}var WY=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:po(e.payload,t)}};class YY extends te.Component{render(){var{hide:t,dot:r,points:n,className:s,xAxisId:A,yAxisId:f,top:l,left:y,width:b,height:w,id:C,needClip:F,zIndex:T}=this.props;if(t)return null;var j=zi("recharts-line",s),k=C,{r:H,strokeWidth:K}=PY(r),Y=f6(r),W=H*2+K,ae=F?"url(#clipPath-".concat(Y?"":"dots-").concat(k,")"):void 0;return te.createElement(cc,{zIndex:T},te.createElement(sc,{className:j},F&&te.createElement("defs",null,te.createElement(E6,{clipPathId:k,xAxisId:A,yAxisId:f}),!Y&&te.createElement("clipPath",{id:"clipPath-dots-".concat(k)},te.createElement("rect",{x:y-W/2,y:l-W/2,width:b+W,height:w+W}))),te.createElement(S6,{xAxisId:A,yAxisId:f,data:n,dataPointFormatter:WY,errorBarOffset:0},te.createElement(ZY,{props:this.props,clipPathId:k}))),te.createElement(JX,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:ae}))}}var R6={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:ko.line,type:"linear"};function JY(e){var t=ol(e,R6),{activeDot:r,animateNewValues:n,animationBegin:s,animationDuration:A,animationEasing:f,connectNulls:l,dot:y,hide:b,isAnimationActive:w,label:C,legendType:F,xAxisId:T,yAxisId:j,id:k}=t,H=dS(t,kY),{needClip:K}=AS(T,j),Y=lS(),W=vy(),ae=Kl(),Ae=Kr(He=>MY(He,T,j,ae,k));if(W!=="horizontal"&&W!=="vertical"||Ae==null||Y==null)return null;var{height:pe,width:Be,x:Fe,y:me}=Y;return te.createElement(YY,iy({},H,{id:k,connectNulls:l,dot:y,activeDot:r,animateNewValues:n,animationBegin:s,animationDuration:A,animationEasing:f,isAnimationActive:w,hide:b,label:C,legendType:F,xAxisId:T,yAxisId:j,points:Ae,layout:W,height:pe,width:Be,left:Fe,top:me,needClip:K}))}function eJ(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:s,yAxisTicks:A,dataKey:f,bandSize:l,displayedData:y}=e;return y.map((b,w)=>{var C=po(b,f);if(t==="horizontal"){var F=C4({axis:r,ticks:s,bandSize:l,entry:b,index:w}),T=Na(C)?null:n.scale(C);return{x:F,y:T,value:C,payload:b}}var j=Na(C)?null:r.scale(C),k=C4({axis:n,ticks:A,bandSize:l,entry:b,index:w});return j==null||k==null?null:{x:j,y:k,value:C,payload:b}}).filter(Boolean)}function tJ(e){var t=ol(e,R6),r=Kl();return te.createElement(b6,{id:t.id,type:"line"},n=>te.createElement(te.Fragment,null,te.createElement(v6,{legendPayload:jY(t)}),te.createElement(HY,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),te.createElement(x6,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),te.createElement(JY,iy({},t,{id:n}))))}var Wb=te.memo(tJ,Zb);Wb.displayName="Line";var rJ=["domain","range"],nJ=["domain","range"];function dI(e,t){if(e==null)return{};var r,n,s=iJ(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function iJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function pI(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function z6(e,t){if(e===t)return!0;var{domain:r,range:n}=e,s=dI(e,rJ),{domain:A,range:f}=t,l=dI(t,nJ);return!pI(r,A)||!pI(n,f)?!1:Zb(s,l)}var aJ=["dangerouslySetInnerHTML","ticks"],sJ=["id"];function XB(){return XB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},XB.apply(null,arguments)}function mI(e,t){if(e==null)return{};var r,n,s=oJ(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function oJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function lJ(e){var t=$a(),r=te.useRef(null);return te.useLayoutEffect(()=>{r.current===null?t(NX(e)):r.current!==e&&t(QX({prev:r.current,next:e})),r.current=e},[e,t]),te.useLayoutEffect(()=>()=>{r.current&&(t(RX(r.current)),r.current=null)},[t]),null}var AJ=e=>{var{xAxisId:t,className:r}=e,n=Kr(tC),s=Kl(),A="xAxis",f=Kr(H=>ug(H,A,t,s)),l=Kr(H=>vO(H,A,t,s)),y=Kr(H=>pO(H,t)),b=Kr(H=>EV(H,t)),w=Kr(H=>NP(H,t));if(y==null||b==null||w==null)return null;var{dangerouslySetInnerHTML:C,ticks:F}=e,T=mI(e,aJ),{id:j}=w,k=mI(w,sJ);return te.createElement(hS,XB({},T,k,{scale:f,x:b.x,y:b.y,width:y.width,height:y.height,className:zi("recharts-".concat(A," ").concat(A),r),viewBox:n,ticks:l,axisType:A}))},uJ={allowDataOverflow:Mo.allowDataOverflow,allowDecimals:Mo.allowDecimals,allowDuplicatedCategory:Mo.allowDuplicatedCategory,angle:Mo.angle,axisLine:af.axisLine,height:Mo.height,hide:!1,includeHidden:Mo.includeHidden,interval:Mo.interval,minTickGap:Mo.minTickGap,mirror:Mo.mirror,orientation:Mo.orientation,padding:Mo.padding,reversed:Mo.reversed,scale:Mo.scale,tick:Mo.tick,tickCount:Mo.tickCount,tickLine:af.tickLine,tickSize:af.tickSize,type:Mo.type,xAxisId:0},cJ=e=>{var t=ol(e,uJ);return te.createElement(te.Fragment,null,te.createElement(lJ,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),te.createElement(AJ,t))},ay=te.memo(cJ,z6);ay.displayName="XAxis";var hJ=["dangerouslySetInnerHTML","ticks"],fJ=["id"];function ZB(){return ZB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ZB.apply(null,arguments)}function gI(e,t){if(e==null)return{};var r,n,s=dJ(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function dJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function pJ(e){var t=$a(),r=te.useRef(null);return te.useLayoutEffect(()=>{r.current===null?t(zX(e)):r.current!==e&&t(jX({prev:r.current,next:e})),r.current=e},[e,t]),te.useLayoutEffect(()=>()=>{r.current&&(t(HX(r.current)),r.current=null)},[t]),null}var mJ=e=>{var{yAxisId:t,className:r,width:n,label:s}=e,A=te.useRef(null),f=te.useRef(null),l=Kr(tC),y=Kl(),b=$a(),w="yAxis",C=Kr(Ae=>ug(Ae,w,t,y)),F=Kr(Ae=>mO(Ae,t)),T=Kr(Ae=>IV(Ae,t)),j=Kr(Ae=>vO(Ae,w,t,y)),k=Kr(Ae=>QP(Ae,t));if(te.useLayoutEffect(()=>{if(!(n!=="auto"||!F||oS(s)||te.isValidElement(s)||k==null)){var Ae=A.current;if(Ae){var pe=Ae.getCalculatedWidth();Math.round(F.width)!==Math.round(pe)&&b(KX({id:t,width:pe}))}}},[j,F,b,s,t,n,k]),F==null||T==null||k==null)return null;var{dangerouslySetInnerHTML:H,ticks:K}=e,Y=gI(e,hJ),{id:W}=k,ae=gI(k,fJ);return te.createElement(hS,ZB({},Y,ae,{ref:A,labelRef:f,scale:C,x:T.x,y:T.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:F.width,height:F.height,className:zi("recharts-".concat(w," ").concat(w),r),viewBox:l,ticks:j,axisType:w}))},gJ={allowDataOverflow:Po.allowDataOverflow,allowDecimals:Po.allowDecimals,allowDuplicatedCategory:Po.allowDuplicatedCategory,angle:Po.angle,axisLine:af.axisLine,hide:!1,includeHidden:Po.includeHidden,interval:Po.interval,minTickGap:Po.minTickGap,mirror:Po.mirror,orientation:Po.orientation,padding:Po.padding,reversed:Po.reversed,scale:Po.scale,tick:Po.tick,tickCount:Po.tickCount,tickLine:af.tickLine,tickSize:af.tickSize,type:Po.type,width:Po.width,yAxisId:0},yJ=e=>{var t=ol(e,gJ);return te.createElement(te.Fragment,null,te.createElement(pJ,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),te.createElement(mJ,t))},z_=te.memo(yJ,z6);z_.displayName="YAxis";var vJ=(e,t)=>t,pS=Tt([vJ,Ci,DP,yo,OO,_f,Kq,No],Wq),mS=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},j6=oc("mouseClick"),H6=gy();H6.startListening({actionCreator:j6,effect:(e,t)=>{var r=e.payload,n=pS(t.getState(),mS(r));n?.activeIndex!=null&&t.dispatch(HV({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var WB=oc("mouseMove"),K6=gy(),Jv=null;K6.startListening({actionCreator:WB,effect:(e,t)=>{var r=e.payload;Jv!==null&&cancelAnimationFrame(Jv);var n=mS(r);Jv=requestAnimationFrame(()=>{var s=t.getState(),A=XC(s,s.tooltip.settings.shared);if(A==="axis"){var f=pS(s,n);f?.activeIndex!=null?t.dispatch(EO({activeIndex:f.activeIndex,activeDataKey:void 0,activeCoordinate:f.activeCoordinate})):t.dispatch(SO())}Jv=null})}});var yI={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},V6=YA({name:"rootProps",initialState:yI,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:yI.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),_J=V6.reducer,{updateOptions:bJ}=V6.actions,q6=YA({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:uAe}=q6.actions,wJ=q6.reducer,G6=oc("keyDown"),$6=oc("focus"),gS=gy();gS.startListening({actionCreator:G6,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip,A=e.payload;if(!(A!=="ArrowRight"&&A!=="ArrowLeft"&&A!=="Enter")){var f=ZC(s,hg(r),Ey(r),Uy(r)),l=f==null?-1:Number(f);if(!(!Number.isFinite(l)||l<0)){var y=_f(r);if(A==="Enter"){var b=L_(r,"axis","hover",String(s.index));t.dispatch(jB({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:b}));return}var w=MV(r),C=w==="left-to-right"?1:-1,F=A==="ArrowRight"?1:-1,T=l+F*C;if(!(y==null||T>=y.length||T<0)){var j=L_(r,"axis","hover",String(T));t.dispatch(jB({active:!0,activeIndex:T.toString(),activeDataKey:void 0,activeCoordinate:j}))}}}}}});gS.startListening({actionCreator:$6,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip;if(!s.active&&s.index==null){var A="0",f=L_(r,"axis","hover",String(A));t.dispatch(jB({activeDataKey:void 0,active:!0,activeIndex:A,activeCoordinate:f}))}}}});var Ju=oc("externalEvent"),X6=gy(),l2=new Map;X6.startListening({actionCreator:Ju,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var s=n.type,A=l2.get(s);A!==void 0&&cancelAnimationFrame(A);var f=requestAnimationFrame(()=>{try{var l=t.getState(),y={activeCoordinate:Tq(l),activeDataKey:QO(l),activeIndex:Lp(l),activeLabel:NO(l),activeTooltipIndex:Lp(l),isTooltipActive:Iq(l)};r(y,n)}finally{l2.delete(s)}});l2.set(s,f)}}});var xJ=Tt([cg],e=>e.tooltipItemPayloads),BJ=Tt([xJ,Fy,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var s=e.find(l=>l.settings.dataKey===n);if(s!=null){var{positions:A}=s;if(A!=null){var f=t(A,r);return f}}}),Z6=oc("touchMove"),W6=gy();W6.startListening({actionCreator:Z6,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),s=XC(n,n.tooltip.settings.shared);if(s==="axis"){var A=pS(n,mS({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));A?.activeIndex!=null&&t.dispatch(EO({activeIndex:A.activeIndex,activeDataKey:void 0,activeCoordinate:A.activeCoordinate}))}else if(s==="item"){var f,l=r.touches[0];if(document.elementFromPoint==null)return;var y=document.elementFromPoint(l.clientX,l.clientY);if(!y||!y.getAttribute)return;var b=y.getAttribute(dz),w=(f=y.getAttribute(pz))!==null&&f!==void 0?f:void 0,C=BJ(t.getState(),b,w);t.dispatch(CO({activeDataKey:w,activeIndex:b,activeCoordinate:C}))}}}});var CJ=MU({brush:PW,cartesianAxis:VX,chartData:TG,errorBars:cZ,graphicalItems:xX,layout:XR,legend:lj,options:xG,polarAxis:G$,polarOptions:wJ,referenceElements:zW,rootProps:_J,tooltip:KV,zIndex:cG}),SJ=function(t){return _R({reducer:CJ,preloadedState:t,middleware:r=>{var n;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((n="es6")!==null&&n!==void 0?n:"")}).concat([H6.middleware,K6.middleware,gS.middleware,X6.middleware,W6.middleware])},enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat($U({type:"raf"}))},devTools:ig.devToolsEnabled})};function EJ(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,s=Kl(),A=te.useRef(null);if(s)return r;A.current==null&&(A.current=SJ(t));var f=q5;return te.createElement(OZ,{context:f,store:A.current},r)}function TJ(e){var{layout:t,margin:r}=e,n=$a(),s=Kl();return te.useEffect(()=>{s||(n(qR(t)),n(VR(r)))},[n,s,t,r]),null}var IJ=te.memo(TJ,Zb);function FJ(e){var t=$a();return te.useEffect(()=>{t(bJ(e))},[t,e]),null}function vI(e){var{zIndex:t,isPanorama:r}=e,n=r?"recharts-zindex-panorama-":"recharts-zindex-",s=_6("".concat(n).concat(t)),A=$a();return te.useLayoutEffect(()=>(A(AG({zIndex:t,elementId:s,isPanorama:r})),()=>{A(uG({zIndex:t,isPanorama:r}))}),[A,t,s,r]),te.createElement("g",{id:s})}function _I(e){var{children:t,isPanorama:r}=e,n=Kr(Jq);if(!n||n.length===0)return t;var s=n.filter(f=>f<0),A=n.filter(f=>f>0);return te.createElement(te.Fragment,null,s.map(f=>te.createElement(vI,{key:f,zIndex:f,isPanorama:r})),t,A.map(f=>te.createElement(vI,{key:f,zIndex:f,isPanorama:r})))}var LJ=["children"];function UJ(e,t){if(e==null)return{};var r,n,s=MJ(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function MJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function j_(){return j_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j_.apply(null,arguments)}var PJ={width:"100%",height:"100%",display:"block"},OJ=te.forwardRef((e,t)=>{var r=nC(),n=iC(),s=xM();if(!Bh(r)||!Bh(n))return null;var{children:A,otherAttributes:f,title:l,desc:y}=e,b,w;return f!=null&&(typeof f.tabIndex=="number"?b=f.tabIndex:b=s?0:void 0,typeof f.role=="string"?w=f.role:w=s?"application":void 0),te.createElement(O5,j_({},f,{title:l,desc:y,role:w,tabIndex:b,width:r,height:n,style:PJ,ref:t}),A)}),DJ=e=>{var{children:t}=e,r=Kr(xb);if(!r)return null;var{width:n,height:s,y:A,x:f}=r;return te.createElement(O5,{width:n,height:s,x:f,y:A},t)},bI=te.forwardRef((e,t)=>{var{children:r}=e,n=UJ(e,LJ),s=Kl();return s?te.createElement(DJ,null,te.createElement(_I,{isPanorama:!0},r)):te.createElement(OJ,j_({ref:t},n),te.createElement(_I,{isPanorama:!1},r))});function kJ(){var e=$a(),[t,r]=te.useState(null),n=Kr(fz);return te.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),A=s.width/t.offsetWidth;Is(A)&&A!==n&&e($R(A))}},[t,e,n]),r}function wI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function NJ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wI(Object(r),!0).forEach(function(n){QJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QJ(e,t,r){return(t=RJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RJ(e){var t=zJ(e,"string");return typeof t=="symbol"?t:t+""}function zJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mp(){return Mp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mp.apply(null,arguments)}var jJ=()=>(kG(),null);function H_(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var HJ=te.forwardRef((e,t)=>{var r,n,s=te.useRef(null),[A,f]=te.useState({containerWidth:H_((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:H_((n=e.style)===null||n===void 0?void 0:n.height)}),l=te.useCallback((b,w)=>{f(C=>{var F=Math.round(b),T=Math.round(w);return C.containerWidth===F&&C.containerHeight===T?C:{containerWidth:F,containerHeight:T}})},[]),y=te.useCallback(b=>{if(typeof t=="function"&&t(b),b!=null&&typeof ResizeObserver<"u"){var{width:w,height:C}=b.getBoundingClientRect();l(w,C);var F=j=>{var{width:k,height:H}=j[0].contentRect;l(k,H)},T=new ResizeObserver(F);T.observe(b),s.current=T}},[t,l]);return te.useEffect(()=>()=>{var b=s.current;b?.disconnect()},[l]),te.createElement(te.Fragment,null,te.createElement(Cb,{width:A.containerWidth,height:A.containerHeight}),te.createElement("div",Mp({ref:y},e)))}),KJ=te.forwardRef((e,t)=>{var{width:r,height:n}=e,[s,A]=te.useState({containerWidth:H_(r),containerHeight:H_(n)}),f=te.useCallback((y,b)=>{A(w=>{var C=Math.round(y),F=Math.round(b);return w.containerWidth===C&&w.containerHeight===F?w:{containerWidth:C,containerHeight:F}})},[]),l=te.useCallback(y=>{if(typeof t=="function"&&t(y),y!=null){var{width:b,height:w}=y.getBoundingClientRect();f(b,w)}},[t,f]);return te.createElement(te.Fragment,null,te.createElement(Cb,{width:s.containerWidth,height:s.containerHeight}),te.createElement("div",Mp({ref:l},e)))}),VJ=te.forwardRef((e,t)=>{var{width:r,height:n}=e;return te.createElement(te.Fragment,null,te.createElement(Cb,{width:r,height:n}),te.createElement("div",Mp({ref:t},e)))}),qJ=te.forwardRef((e,t)=>{var{width:r,height:n}=e;return of(r)||of(n)?te.createElement(KJ,Mp({},e,{ref:t})):te.createElement(VJ,Mp({},e,{ref:t}))});function GJ(e){return e===!0?HJ:qJ}var $J=te.forwardRef((e,t)=>{var{children:r,className:n,height:s,onClick:A,onContextMenu:f,onDoubleClick:l,onMouseDown:y,onMouseEnter:b,onMouseLeave:w,onMouseMove:C,onMouseUp:F,onTouchEnd:T,onTouchMove:j,onTouchStart:k,style:H,width:K,responsive:Y,dispatchTouchEvents:W=!0}=e,ae=te.useRef(null),Ae=$a(),[pe,Be]=te.useState(null),[Fe,me]=te.useState(null),He=kJ(),se=rC(),de=se?.width>0?se.width:K,Le=se?.height>0?se.height:s,Ue=te.useCallback(Ke=>{He(Ke),typeof t=="function"&&t(Ke),Be(Ke),me(Ke),Ke!=null&&(ae.current=Ke)},[He,t,Be,me]),nt=te.useCallback(Ke=>{Ae(j6(Ke)),Ae(Ju({handler:A,reactEvent:Ke}))},[Ae,A]),Oe=te.useCallback(Ke=>{Ae(WB(Ke)),Ae(Ju({handler:b,reactEvent:Ke}))},[Ae,b]),Ne=te.useCallback(Ke=>{Ae(SO()),Ae(Ju({handler:w,reactEvent:Ke}))},[Ae,w]),Ve=te.useCallback(Ke=>{Ae(WB(Ke)),Ae(Ju({handler:C,reactEvent:Ke}))},[Ae,C]),De=te.useCallback(()=>{Ae($6())},[Ae]),ot=te.useCallback(Ke=>{Ae(G6(Ke.key))},[Ae]),be=te.useCallback(Ke=>{Ae(Ju({handler:f,reactEvent:Ke}))},[Ae,f]),re=te.useCallback(Ke=>{Ae(Ju({handler:l,reactEvent:Ke}))},[Ae,l]),ye=te.useCallback(Ke=>{Ae(Ju({handler:y,reactEvent:Ke}))},[Ae,y]),Ie=te.useCallback(Ke=>{Ae(Ju({handler:F,reactEvent:Ke}))},[Ae,F]),ke=te.useCallback(Ke=>{Ae(Ju({handler:k,reactEvent:Ke}))},[Ae,k]),$e=te.useCallback(Ke=>{W&&Ae(Z6(Ke)),Ae(Ju({handler:j,reactEvent:Ke}))},[Ae,W,j]),Je=te.useCallback(Ke=>{Ae(Ju({handler:T,reactEvent:Ke}))},[Ae,T]),mt=GJ(Y);return te.createElement(qO.Provider,{value:pe},te.createElement(XL.Provider,{value:Fe},te.createElement(mt,{width:de??H?.width,height:Le??H?.height,className:zi("recharts-wrapper",n),style:NJ({position:"relative",cursor:"default",width:de,height:Le},H),onClick:nt,onContextMenu:be,onDoubleClick:re,onFocus:De,onKeyDown:ot,onMouseDown:ye,onMouseEnter:Oe,onMouseLeave:Ne,onMouseMove:Ve,onMouseUp:Ie,onTouchEnd:Je,onTouchMove:$e,onTouchStart:ke,ref:Ue},te.createElement(jJ,null),r)))}),XJ=["width","height","responsive","children","className","style","compact","title","desc"];function ZJ(e,t){if(e==null)return{};var r,n,s=WJ(e,t);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);for(n=0;n<A.length;n++)r=A[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function WJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var YJ=te.forwardRef((e,t)=>{var{width:r,height:n,responsive:s,children:A,className:f,style:l,compact:y,title:b,desc:w}=e,C=ZJ(e,XJ),F=Nc(C);return y?te.createElement(te.Fragment,null,te.createElement(Cb,{width:r,height:n}),te.createElement(bI,{otherAttributes:F,title:b,desc:w},A)):te.createElement($J,{className:f,style:l,width:r,height:n,responsive:s??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},te.createElement(bI,{otherAttributes:F,title:b,desc:w,ref:t},te.createElement(HW,null,A)))});function YB(){return YB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},YB.apply(null,arguments)}var JJ={top:5,right:5,bottom:5,left:5},eee={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:JJ,reverseStackOrder:!1,syncMethod:"index",responsive:!1},Y6=te.forwardRef(function(t,r){var n,s=ol(t.categoricalChartProps,eee),{chartName:A,defaultTooltipEventType:f,validateTooltipEventTypes:l,tooltipPayloadSearcher:y,categoricalChartProps:b}=t,w={chartName:A,defaultTooltipEventType:f,validateTooltipEventTypes:l,tooltipPayloadSearcher:y,eventEmitter:void 0};return te.createElement(EJ,{preloadedState:{options:w},reduxStoreName:(n=b.id)!==null&&n!==void 0?n:A},te.createElement(MW,{chartData:b.data}),te.createElement(IJ,{layout:s.layout,margin:s.margin}),te.createElement(FJ,{baseValue:s.baseValue,accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className,reverseStackOrder:s.reverseStackOrder}),te.createElement(YJ,YB({},s,{ref:r})))}),tee=["axis"],yS=te.forwardRef((e,t)=>te.createElement(Y6,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:tee,tooltipPayloadSearcher:GO,categoricalChartProps:e,ref:t})),ree=["axis","item"],nee=te.forwardRef((e,t)=>te.createElement(Y6,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:ree,tooltipPayloadSearcher:GO,categoricalChartProps:e,ref:t}));function iee({history:e,color:t}){if(!e||e.length===0)return null;const r=e.map(A=>({name:A.year,value:A.value})),n=Math.min(...r.map(A=>A.value)),s=Math.max(...r.map(A=>A.value));return _e.jsxs("div",{className:"w-full h-24 mt-1",children:[" ",_e.jsx(u_,{width:"100%",height:"100%",children:_e.jsxs(yS,{data:r,margin:{top:5,right:5,bottom:0,left:5},children:[_e.jsx(ay,{dataKey:"name",tick:{fill:"#64748b",fontSize:9,fontWeight:600},axisLine:!1,tickLine:!1,dy:5,interval:"preserveStartEnd"}),_e.jsx(z_,{domain:[n*.9,s*1.1],hide:!0}),_e.jsx(U_,{contentStyle:{backgroundColor:"rgba(15, 23, 42, 0.8)",backdropFilter:"blur(4px)",borderColor:"rgba(255,255,255,0.1)",borderRadius:"8px",fontSize:"10px",color:"#fff",padding:"4px 8px"},itemStyle:{color:t||"#22d3ee",padding:0},formatter:A=>[`${A} t`,""],labelStyle:{display:"none"},cursor:{stroke:"#fff",strokeWidth:1,strokeDasharray:"3 3",opacity:.3}}),_e.jsx(Wb,{type:"monotone",dataKey:"value",stroke:t||"#22d3ee",strokeWidth:2,dot:{r:2,fill:"#0f172a",stroke:t||"#22d3ee",strokeWidth:1.5},activeDot:{r:4,fill:t||"#22d3ee"}})]})})]})}var aee={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const see=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Xa=(e,t)=>{const r=te.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:A=2,absoluteStrokeWidth:f,className:l="",children:y,...b},w)=>te.createElement("svg",{ref:w,...aee,width:s,height:s,stroke:n,strokeWidth:f?Number(A)*24/Number(s):A,className:["lucide",`lucide-${see(e)}`,l].join(" "),...b},[...t.map(([C,F])=>te.createElement(C,F)),...Array.isArray(y)?y:[y]]));return r.displayName=`${e}`,r};const oee=Xa("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);const xI=Xa("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);const lee=Xa("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const Aee=Xa("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const J6=Xa("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const eD=Xa("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const BI=Xa("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const K_=Xa("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const uee=Xa("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);const cee=Xa("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const hee=Xa("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);const fee=Xa("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);const vS=Xa("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);const dee=Xa("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const _S=Xa("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const CI=Xa("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);const pee=Xa("MousePointer2",[["path",{d:"m4 4 7.07 17 2.51-7.39L21 11.07z",key:"1vqm48"}]]);const tD=Xa("ScanEye",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["path",{d:"M5 12s2.5-5 7-5 7 5 7 5-2.5 5-7 5-7-5-7-5",key:"nhuolu"}]]);const rD=Xa("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const mee=Xa("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);const bS=Xa("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);const wS=Xa("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const xS=Xa("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),gee=te.forwardRef(function({mapData:t,onLocationSelect:r,flyToLocation:n,radius:s,highlightedName:A,highlightedIds:f},l){const y=te.useRef(null);te.useImperativeHandle(l,()=>({resetViewForExport:()=>w.current?(y.current={pitch:w.current.getPitch(),bearing:w.current.getBearing()},w.current.jumpTo({pitch:0,bearing:0}),w.current.triggerRepaint(),new Promise(De=>{const ot=()=>{w.current.off("idle",ot),setTimeout(De,300)};w.current.on("idle",ot),setTimeout(De,1200)})):Promise.resolve(),restoreView:()=>{!w.current||!y.current||(w.current.setPitch(y.current.pitch),w.current.setBearing(y.current.bearing),y.current=null)}}),[]);const b=te.useRef(null),w=te.useRef(null),C=te.useRef(null),F=te.useRef(null),T=te.useRef(null),j=te.useRef({mapData:t,radius:s,onLocationSelect:r});te.useEffect(()=>{j.current={mapData:t,radius:s,onLocationSelect:r}},[t,s,r]);const[k,H]=te.useState(!1),[K,Y]=te.useState(null),[W,ae]=te.useState(null),[Ae,pe]=te.useState(!1),[Be,Fe]=te.useState(2024),[me,He]=te.useState({range1:!0,range2:!0,range3:!0,range4:!0,range5:!0}),se=te.useRef(Ae);te.useEffect(()=>{se.current=Ae},[Ae]),te.useEffect(()=>{if(!W||!w.current||!T.current)return;const De=()=>{if(!W||!T.current)return;const ot=w.current.project(W.lngLat);T.current.style.transform=`translate(${ot.x}px, ${ot.y}px)`};return De(),w.current.on("move",De),w.current.on("moveend",De),()=>{w.current&&(w.current.off("move",De),w.current.off("moveend",De))}},[W]);const de=te.useCallback(()=>{if(!w.current||w.current.getSource("retc-source"))return;const De=w.current.getStyle().layers;let ot;for(const be of De)if(be.type==="symbol"){ot=be.id;break}w.current.addSource("buffer-source",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),w.current.addSource("connections-source",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),w.current.addSource("retc-source",{type:"geojson",data:{type:"FeatureCollection",features:[]},cluster:!0,clusterMaxZoom:10,clusterRadius:30}),w.current.addLayer({id:"buffer-fill",type:"fill",source:"buffer-source",paint:{"fill-color":"#10b981","fill-opacity":.1}},ot),w.current.addLayer({id:"buffer-line",type:"line",source:"buffer-source",paint:{"line-color":"#34d399","line-width":2,"line-dasharray":[2,2]}},ot),w.current.addLayer({id:"cluster-glow-outer",type:"circle",source:"retc-source",filter:["has","point_count"],paint:{"circle-color":"#06b6d4","circle-radius":["step",["get","point_count"],30,100,40,500,55],"circle-opacity":.15,"circle-blur":1}},ot),w.current.addLayer({id:"cluster-glow-mid",type:"circle",source:"retc-source",filter:["has","point_count"],paint:{"circle-color":"#22d3ee","circle-radius":["step",["get","point_count"],22,100,28,500,38],"circle-opacity":.25,"circle-blur":.5}},ot),w.current.addLayer({id:"clusters",type:"circle",source:"retc-source",filter:["has","point_count"],paint:{"circle-color":"#0891b2","circle-radius":["step",["get","point_count"],14,100,18,500,24],"circle-stroke-width":2,"circle-stroke-color":"rgba(255, 255, 255, 0.4)"}},ot),w.current.addLayer({id:"cluster-core",type:"circle",source:"retc-source",filter:["has","point_count"],paint:{"circle-color":"#ffffff","circle-radius":["step",["get","point_count"],3,100,5,500,7],"circle-opacity":.6,"circle-blur":.3}},ot),w.current.addLayer({id:"cluster-count",type:"symbol",source:"retc-source",filter:["has","point_count"],layout:{"text-field":"{point_count_abbreviated}","text-font":["Open Sans Bold","Arial Unicode MS Bold"],"text-size":["step",["get","point_count"],10,100,12,500,14]},paint:{"text-color":"#ffffff","text-halo-color":"rgba(0, 0, 0, 0.5)","text-halo-width":1}}),w.current.addLayer({id:"connections-line",type:"line",source:"connections-source",layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#22d3ee","line-width":1.5,"line-opacity":.4,"line-dasharray":[1,3]}},ot),w.current.addLayer({id:"connections-label",type:"symbol",source:"connections-source",layout:{"text-field":["get","distLabel"],"symbol-placement":"line-center","text-size":12,"text-font":["Open Sans Bold","Arial Unicode MS Bold"],"text-offset":[0,-.8],"text-allow-overlap":!1,"text-ignore-placement":!1,"text-padding":5},paint:{"text-color":"rgba(255, 255, 255, 0.9)","text-halo-color":"#0f172a","text-halo-width":2,"text-opacity":.8}}),w.current.addLayer({id:"retc-points-hitbox",type:"circle",source:"retc-source",filter:["!",["has","point_count"]],paint:{"circle-color":"transparent","circle-radius":15}}),w.current.addLayer({id:"retc-pulse",type:"circle",source:"retc-source",filter:["all",["!",["has","point_count"]],["in","id_vu",""]],paint:{"circle-color":"#f43f5e","circle-radius":12,"circle-opacity":0,"circle-blur":.4}},ot),w.current.addLayer({id:"retc-highlight",type:"circle",source:"retc-source",filter:["all",["!",["has","point_count"]],["==","name",""]],paint:{"circle-color":"transparent","circle-radius":8,"circle-stroke-width":3,"circle-stroke-color":"#fbbf24","circle-opacity":1}},ot),w.current.addLayer({id:"retc-glow",type:"circle",source:"retc-source",filter:["!",["has","point_count"]],paint:{"circle-color":["step",["get","total_tonnage"],"#22c55e",30,"#84cc16",170,"#eab308",550,"#f97316",1700,"#ef4444"],"circle-radius":7,"circle-opacity":.25,"circle-blur":.5}},ot),w.current.addLayer({id:"retc-points",type:"circle",source:"retc-source",filter:["!",["has","point_count"]],paint:{"circle-color":["step",["get","total_tonnage"],"#22c55e",30,"#84cc16",170,"#eab308",550,"#f97316",1700,"#ef4444"],"circle-radius":4,"circle-stroke-width":1,"circle-stroke-color":"rgba(255,255,255,0.5)"}},ot),j.current.mapData&&w.current.getSource("retc-source").setData(j.current.mapData)},[]);te.useEffect(()=>{if(!w.current)return w.current=new Dv.Map({container:b.current,style:"https://basemaps.cartocdn.com/gl/dark-matter-gl-style/style.json",center:[-70.6483,-33.4569],zoom:12,attributionControl:!1,doubleClickZoom:!0,preserveDrawingBuffer:!0,maxPitch:0,pitchWithRotate:!1}),w.current.addControl(new Dv.NavigationControl({showCompass:!1}),"bottom-right"),w.current.on("load",()=>{de(),H(!0),Ue()}),w.current.on("click",De=>{const ot=j.current,be=w.current.queryRenderedFeatures(De.point,{layers:["clusters"]});if(be.length>0){const ye=be[0].properties.cluster_id;w.current.getSource("retc-source").getClusterExpansionZoom(ye,(Ie,ke)=>{Ie||w.current.easeTo({center:be[0].geometry.coordinates,zoom:ke+.5})});return}const re=w.current.queryRenderedFeatures(De.point,{layers:["retc-points-hitbox"]});if(re.length>0){const ye=re[0],Ie=ye.geometry.coordinates.slice();let ke=ye.properties.history;if(typeof ke=="string")try{ke=JSON.parse(ke)}catch{}ae({lngLat:Ie,properties:ye.properties,history:ke}),w.current.flyTo({center:Ie,speed:.5}),pe(!1)}else se.current&&(ae(null),Oe(De.lngLat.lng,De.lngLat.lat),Le(De.lngLat.lng,De.lngLat.lat,ot.radius||3,ot.mapData),ot.onLocationSelect&&ot.onLocationSelect(De.lngLat))}),w.current.on("mouseenter","clusters",()=>w.current.getCanvas().style.cursor="pointer"),w.current.on("mouseleave","clusters",()=>nt()),w.current.on("mouseenter","retc-points-hitbox",()=>w.current.getCanvas().style.cursor="pointer"),w.current.on("mouseleave","retc-points-hitbox",()=>nt()),()=>{F.current&&cancelAnimationFrame(F.current)}},[]),te.useEffect(()=>{k&&w.current&&w.current.getLayer("retc-highlight")&&(A?w.current.setFilter("retc-highlight",["==","name",A]):w.current.setFilter("retc-highlight",["==","name",""]))},[A,k]);const Le=(De,ot,be,re)=>{if(!w.current)return;const ye=[De,ot],ke=ON(ye,be,{steps:64,units:"kilometers"});if(w.current.getSource("buffer-source")&&w.current.getSource("buffer-source").setData(ke),re&&re.features){const $e=DN(re,ke),Je=$e.features.map(Ct=>Ct.properties.id_vu);w.current.getLayer("retc-pulse")&&(Je.length>0?w.current.setFilter("retc-pulse",["in","id_vu",...Je]):w.current.setFilter("retc-pulse",["in","id_vu","NonExistentID"]));const pt={type:"FeatureCollection",features:$e.features.map(Ct=>{const ct=KL(ye,Ct.geometry.coordinates,{units:"kilometers"});return{feature:Ct,dist:ct}}).sort((Ct,ct)=>Ct.dist-ct.dist).slice(0,5).map(({feature:Ct,dist:ct})=>{const qt=yN([ye,Ct.geometry.coordinates]);return qt.properties={distLabel:`${ct.toFixed(2)} km`},qt})};w.current.getSource("connections-source")&&w.current.getSource("connections-source").setData(pt)}},Ue=De=>{if(De||(De=performance.now()),w.current&&w.current.getLayer("retc-pulse")){const ot=(Math.sin(De/500)+1)/2*.6+.2,be=15+Math.sin(De/500)*3;!isNaN(ot)&&!isNaN(be)&&(w.current.setPaintProperty("retc-pulse","circle-opacity",ot),w.current.setPaintProperty("retc-pulse","circle-radius",be))}F.current=requestAnimationFrame(Ue)},nt=De=>{w.current&&(w.current.getCanvas().style.cursor=Ae?"crosshair":"")};te.useEffect(()=>{nt()},[Ae]),te.useEffect(()=>{k&&t&&w.current.getSource("retc-source")&&w.current.getSource("retc-source").setData(t)},[t,k]),te.useEffect(()=>{k&&K&&s&&Le(K.lng,K.lat,s,t)},[s,K,k,t]),te.useEffect(()=>{if(!k||!w.current)return;const De=`tonnage_${Be}`,ot=["step",["get",De],"#3b82f6",30,"#8b5cf6",170,"#d946ef",550,"#f97316",1700,"#dc2626"],be=["step",["get",De],3,30,4,170,5,550,7,1700,10],re=["step",["get",De],5,30,6,170,8,550,10,1700,14],ye=[];me.range1&&ye.push(["<",["get",De],30]),me.range2&&ye.push(["all",[">=",["get",De],30],["<",["get",De],170]]),me.range3&&ye.push(["all",[">=",["get",De],170],["<",["get",De],550]]),me.range4&&ye.push(["all",[">=",["get",De],550],["<",["get",De],1700]]),me.range5&&ye.push([">=",["get",De],1700]);const Ie=ye.length>0?["all",["!",["has","point_count"]],["any",...ye]]:["all",["!",["has","point_count"]],!1];if(w.current.getLayer("retc-points")){if(w.current.setPaintProperty("retc-points","circle-color",ot),f&&f.length>0){const ke=f.map(String),$e=["in",["get","id_vu"],["literal",ke]];w.current.setPaintProperty("retc-points","circle-stroke-color","#ffffff"),w.current.setPaintProperty("retc-points","circle-stroke-width",["case",$e,3,0])}else w.current.setPaintProperty("retc-points","circle-stroke-width",0);w.current.setPaintProperty("retc-points","circle-radius",be),w.current.setFilter("retc-points",Ie)}w.current.getLayer("retc-glow")&&(w.current.setPaintProperty("retc-glow","circle-color",ot),w.current.setPaintProperty("retc-glow","circle-radius",re),w.current.setFilter("retc-glow",Ie)),w.current.getLayer("retc-points-hitbox")&&w.current.setFilter("retc-points-hitbox",Ie)},[Be,k,me,f]),te.useEffect(()=>{if(k&&n){const{lng:De,lat:ot}=n;w.current.flyTo({center:[De,ot],zoom:13.5}),Y({lng:De,lat:ot}),C.current?C.current.setLngLat([De,ot]):C.current=new Dv.Marker({color:"#f43f5e"}).setLngLat([De,ot]).addTo(w.current),Le(De,ot,s||3,t),ae(null),pe(!0)}},[n,k]);const Oe=(De,ot)=>{Y({lng:De,lat:ot}),C.current?C.current.setLngLat([De,ot]):C.current=new Dv.Marker({color:"#f43f5e"}).setLngLat([De,ot]).addTo(w.current),Le(De,ot,s||3,t),r({lng:De,lat:ot})},Ne=De=>{De.stopPropagation(),ae(null)},Ve=()=>{pe(!Ae)};return _e.jsxs("div",{ref:b,className:"w-full h-screen absolute top-0 left-0",children:[_e.jsx("button",{onClick:Ve,className:`absolute top-20 right-4 z-10 p-2.5 rounded-lg shadow-xl border transition-all duration-300 group ${Ae?"bg-emerald-500 border-emerald-400 text-white shadow-emerald-500/20":"bg-slate-900/90 backdrop-blur border-slate-600 text-slate-400 hover:text-white hover:border-slate-500"}`,title:"Activar modo anlisis",children:_e.jsx(tD,{size:20,className:Ae?"animate-pulse":""})}),_e.jsxs("div",{className:"absolute bottom-20 md:bottom-6 left-2 md:left-4 z-10 bg-slate-900/90 backdrop-blur-md border border-white/10 rounded-xl p-2 md:p-3 shadow-xl max-w-[170px] md:max-w-[200px]",children:[_e.jsxs("div",{className:"mb-2 pb-2 border-b border-white/10",children:[_e.jsx("p",{className:"text-[7px] md:text-[8px] text-slate-500 uppercase tracking-wider font-bold mb-1",children:"Seleccionar ao de datos"}),_e.jsx("div",{className:"flex gap-1",children:[2021,2022,2023,2024].map(De=>_e.jsx("button",{onClick:()=>Fe(De),className:`text-[9px] md:text-[10px] font-bold px-1.5 md:px-2 py-0.5 md:py-1 rounded transition-all ${Be===De?"bg-cyan-500 text-white shadow-lg shadow-cyan-500/30":"bg-slate-800 text-slate-400 hover:bg-slate-700 hover:text-white"}`,children:De},De))})]}),_e.jsxs("p",{className:"text-[7px] md:text-[8px] text-slate-500 uppercase tracking-wider font-bold mb-1.5",children:["Filtrar por toneladas (",Be,")"]}),_e.jsxs("div",{className:"flex flex-col gap-1 md:gap-1.5",children:[_e.jsxs("button",{onClick:()=>He(De=>({...De,range1:!De.range1})),className:`flex items-center gap-1.5 md:gap-2 w-full text-left transition-opacity ${me.range1?"opacity-100":"opacity-40"}`,children:[_e.jsx("div",{className:"w-1.5 h-1.5 md:w-2 md:h-2 rounded-full bg-blue-500 border border-white/30 shrink-0"}),_e.jsx("span",{className:"text-[9px] md:text-[10px] text-slate-300",children:"< 30 ton"})]}),_e.jsxs("button",{onClick:()=>He(De=>({...De,range2:!De.range2})),className:`flex items-center gap-1.5 md:gap-2 w-full text-left transition-opacity ${me.range2?"opacity-100":"opacity-40"}`,children:[_e.jsx("div",{className:"w-2 h-2 md:w-2.5 md:h-2.5 rounded-full bg-violet-500 border border-white/30 shrink-0"}),_e.jsx("span",{className:"text-[9px] md:text-[10px] text-slate-300",children:"30-170 ton"})]}),_e.jsxs("button",{onClick:()=>He(De=>({...De,range3:!De.range3})),className:`flex items-center gap-1.5 md:gap-2 w-full text-left transition-opacity ${me.range3?"opacity-100":"opacity-40"}`,children:[_e.jsx("div",{className:"w-2.5 h-2.5 md:w-3 md:h-3 rounded-full bg-fuchsia-500 border border-white/30 shrink-0"}),_e.jsx("span",{className:"text-[9px] md:text-[10px] text-slate-300",children:"170-550 ton"})]}),_e.jsxs("button",{onClick:()=>He(De=>({...De,range4:!De.range4})),className:`flex items-center gap-1.5 md:gap-2 w-full text-left transition-opacity ${me.range4?"opacity-100":"opacity-40"}`,children:[_e.jsx("div",{className:"w-3 h-3 md:w-3.5 md:h-3.5 rounded-full bg-orange-500 border border-white/30 shrink-0"}),_e.jsx("span",{className:"text-[9px] md:text-[10px] text-slate-300",children:"550-1.7k ton"})]}),_e.jsxs("button",{onClick:()=>He(De=>({...De,range5:!De.range5})),className:`flex items-center gap-1.5 md:gap-2 w-full text-left transition-opacity ${me.range5?"opacity-100":"opacity-40"}`,children:[_e.jsx("div",{className:"w-4 h-4 md:w-5 md:h-5 rounded-full bg-red-600 border border-white/30 shrink-0"}),_e.jsx("span",{className:"text-[9px] md:text-[10px] text-slate-300",children:"> 1.7k ton"})]})]}),_e.jsx("div",{className:"hidden md:block mt-2 pt-2 border-t border-white/5",children:_e.jsxs("div",{className:"flex items-center gap-2",children:[_e.jsx("div",{className:"w-3 h-3 rounded-full bg-cyan-600 border border-white/30"}),_e.jsx("span",{className:"text-[10px] text-slate-400",children:"Cluster (agrupados)"})]})})]}),W&&_e.jsx("div",{ref:T,className:"absolute top-0 left-0 z-50 pointer-events-none will-change-transform",children:_e.jsxs("div",{className:"transform -translate-x-1/2 -translate-y-[105%]",children:[_e.jsxs("div",{className:"w-60 p-3 bg-slate-950/70 backdrop-blur-xl border border-white/10 rounded-2xl shadow-2xl shadow-black/50 pointer-events-auto relative transition-all animate-in fade-in zoom-in-95 slide-in-from-bottom-2",children:[_e.jsx("button",{onClick:Ne,className:"absolute -top-2 -right-2 bg-slate-800 text-slate-400 hover:text-white hover:bg-rose-500 rounded-full p-1 border border-slate-700 shadow-lg transition-all",children:_e.jsx(xS,{size:12})}),_e.jsxs("div",{className:"mb-1",children:[_e.jsx("h3",{className:"font-bold text-slate-100 text-xs leading-tight mb-0.5 pr-2",children:W.properties.name}),_e.jsx("span",{className:"inline-block px-1.5 py-0.5 rounded bg-white/5 border border-white/5 text-[9px] font-bold text-cyan-400 tracking-wide uppercase mb-1",children:W.properties.category}),_e.jsxs("div",{className:"mt-1 mb-1 p-1 bg-black/20 rounded border border-white/5 text-[8px] text-slate-300 font-medium leading-tight max-h-[40px] overflow-y-auto scrollbar-thin scrollbar-thumb-slate-600 scrollbar-track-transparent",children:[_e.jsx("span",{className:"text-slate-500 mr-1",children:"Residuos:"}),W.properties.residues||"Sin detalle"]})]}),_e.jsxs("div",{className:"relative",children:[_e.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-white/10 to-transparent"}),_e.jsx(iee,{history:W.history,color:"#22d3ee"})]})]}),_e.jsx("div",{className:"w-0 h-0 border-l-[6px] border-l-transparent border-r-[6px] border-r-transparent border-t-[6px] border-t-slate-900/80 absolute left-1/2 -translate-x-1/2 bottom-[-6px] blur-[1px]"})]})})]})});function yee({onSelectLocation:e}){const[t,r]=te.useState(""),[n,s]=te.useState([]),[A,f]=te.useState(!1),l=te.useRef(null);te.useEffect(()=>{const w=setTimeout(()=>{t.length>4?y(t):s([])},800);return()=>clearTimeout(w)},[t]);const y=async w=>{f(!0);try{const C=`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(w)}&countrycodes=cl&addressdetails=1&limit=5`,T=await(await fetch(C)).json();s(T)}catch(C){console.error("Error buscando:",C)}f(!1)},b=w=>{const C=parseFloat(w.lat),F=parseFloat(w.lon),T=w.address.road?`${w.address.road} ${w.address.house_number||""}, ${w.address.city||w.address.town||""}`:w.display_name.split(",")[0];r(T),s([]),e({lng:F,lat:C})};return _e.jsxs("div",{ref:l,className:"relative w-full max-w-md z-50 shadow-2xl",children:[_e.jsxs("div",{className:"relative group",children:[_e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:_e.jsx(rD,{className:"h-5 w-5 text-slate-400 group-focus-within:text-emerald-400 transition-colors"})}),_e.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-3 border border-slate-600 rounded-xl leading-5 bg-slate-800 text-slate-100 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-500 sm:text-sm transition-all",placeholder:"Ej: Alameda 1340, Santiago",value:t,onChange:w=>r(w.target.value)}),A&&_e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:_e.jsx(dee,{className:"animate-spin h-4 w-4 text-emerald-500"})})]}),n.length>0&&_e.jsx("ul",{className:"absolute mt-2 w-full bg-slate-800 border border-slate-600 rounded-xl shadow-2xl max-h-60 overflow-auto z-50 divide-y divide-slate-700",children:n.map((w,C)=>_e.jsxs("li",{onClick:()=>b(w),className:"cursor-pointer hover:bg-slate-700 p-3 transition-colors flex items-start gap-3",children:[_e.jsx(_S,{className:"h-4 w-4 text-emerald-400 mt-1 shrink-0"}),_e.jsxs("div",{children:[_e.jsxs("p",{className:"text-sm font-medium text-slate-200",children:[w.address?.road||w.display_name.split(",")[0]," ",w.address?.house_number]}),_e.jsx("p",{className:"text-xs text-slate-400 truncate w-64",children:w.display_name})]})]},C))})]})}function vee({isOpen:e,onClose:t,onStartTutorial:r}){return e?_e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm animate-in fade-in duration-300",children:_e.jsxs("div",{className:"bg-slate-900 border border-white/10 rounded-2xl shadow-2xl max-w-lg w-full max-h-[85vh] flex flex-col overflow-hidden animate-in zoom-in-95 duration-300",children:[_e.jsxs("div",{className:"relative p-6 pb-4 border-b border-white/10 bg-gradient-to-r from-cyan-500/10 to-violet-500/10",children:[_e.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-slate-400 hover:text-white transition-colors",children:_e.jsx(xS,{size:20})}),_e.jsx("h1",{className:"text-xl font-bold text-white mb-1",children:" HuellaRETC"}),_e.jsx("p",{className:"text-sm text-slate-400",children:"Mapa de Generadores Industriales de Residuos"})]}),_e.jsxs("div",{className:"p-6 overflow-y-auto flex-1 space-y-4",children:[_e.jsx("div",{className:"bg-cyan-500/10 border border-cyan-500/20 rounded-xl p-4",children:_e.jsxs("p",{className:"text-sm text-slate-300 leading-relaxed",children:["Visualiza ",_e.jsx("span",{className:"text-cyan-400 font-bold",children:"11,444 establecimientos industriales"})," que generan residuos no peligrosos en Chile, con datos oficiales del",_e.jsx("span",{className:"text-cyan-400 font-bold",children:" RETC (Registro de Emisiones y Transferencia de Contaminantes) (2021-2024)"}),"."]})}),_e.jsxs("div",{className:"space-y-3",children:[_e.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-emerald-400 to-cyan-400 bg-clip-text text-transparent",children:"Bienvenido a HuellaRETC"}),_e.jsxs("div",{className:"flex gap-3 items-start",children:[_e.jsx("div",{className:"p-2 bg-violet-500/20 rounded-lg shrink-0",children:_e.jsx(Aee,{size:16,className:"text-violet-400"})}),_e.jsx("div",{children:_e.jsx("p",{className:"text-sm font-semibold text-white",children:"Selector de Ao"})})]}),_e.jsxs("div",{className:"flex gap-3 items-start",children:[_e.jsx("div",{className:"p-2 bg-fuchsia-500/20 rounded-lg shrink-0",children:_e.jsx(hee,{size:16,className:"text-fuchsia-400"})}),_e.jsxs("div",{children:[_e.jsx("p",{className:"text-sm font-semibold text-white",children:"Filtro por Tonelaje"}),_e.jsx("p",{className:"text-xs text-slate-400",children:"Filtra los puntos segn rangos de toneladas generadas."})]})]}),_e.jsxs("div",{className:"flex gap-3 items-start",children:[_e.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg shrink-0",children:_e.jsx(pee,{size:16,className:"text-emerald-400"})}),_e.jsxs("div",{children:[_e.jsx("p",{className:"text-sm font-semibold text-white",children:"Modo Anlisis"}),_e.jsx("p",{className:"text-xs text-slate-400",children:"Activa el botn de escaneo y haz clic en el mapa para analizar industrias cercanas."})]})]}),_e.jsxs("div",{className:"flex gap-3 items-start",children:[_e.jsx("div",{className:"p-2 bg-orange-500/20 rounded-lg shrink-0",children:_e.jsx(_S,{size:16,className:"text-orange-400"})}),_e.jsxs("div",{children:[_e.jsx("p",{className:"text-sm font-semibold text-white",children:"Bsqueda de Direccin"}),_e.jsx("p",{className:"text-xs text-slate-400",children:"Busca cualquier direccin en Chile para centrar el mapa."})]})]}),_e.jsxs("div",{className:"flex gap-3 items-start",children:[_e.jsx("div",{className:"p-2 bg-rose-500/20 rounded-lg shrink-0",children:_e.jsx(lee,{size:16,className:"text-rose-400"})}),_e.jsxs("div",{children:[_e.jsx("p",{className:"text-sm font-semibold text-white",children:"Grficos Histricos"}),_e.jsx("p",{className:"text-xs text-slate-400",children:"Visualiza la tendencia del Top 5 industrias en el rea seleccionada."})]})]}),_e.jsxs("div",{className:"flex gap-3 items-start",children:[_e.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg shrink-0",children:_e.jsx(K_,{size:16,className:"text-blue-400"})}),_e.jsxs("div",{children:[_e.jsx("p",{className:"text-sm font-semibold text-white",children:"Exportar"}),_e.jsx("p",{className:"text-xs text-slate-400",children:"Descarga el mapa como imagen PNG o documento PDF."})]})]})]}),_e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4",children:[_e.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold mb-2",children:"Colores de los puntos"}),_e.jsxs("div",{className:"flex flex-wrap gap-3 text-[10px]",children:[_e.jsxs("span",{className:"flex items-center gap-1",children:[_e.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500"})," <30 ton"]}),_e.jsxs("span",{className:"flex items-center gap-1",children:[_e.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-violet-500"})," 30-170"]}),_e.jsxs("span",{className:"flex items-center gap-1",children:[_e.jsx("span",{className:"w-3 h-3 rounded-full bg-fuchsia-500"})," 170-550"]}),_e.jsxs("span",{className:"flex items-center gap-1",children:[_e.jsx("span",{className:"w-3.5 h-3.5 rounded-full bg-orange-500"})," 550-1.7k"]}),_e.jsxs("span",{className:"flex items-center gap-1",children:[_e.jsx("span",{className:"w-4 h-4 rounded-full bg-red-600"})," >1.7k"]})]})]})]}),_e.jsxs("div",{className:"p-4 border-t border-white/10 bg-slate-950/50 flex flex-col gap-3",children:[_e.jsxs("button",{onClick:r,className:"w-full py-2.5 bg-gradient-to-r from-cyan-500 to-violet-500 hover:from-cyan-400 hover:to-violet-400 text-white font-bold rounded-lg transition-all shadow-lg shadow-cyan-500/20 flex items-center justify-center gap-2",children:[_e.jsx("span",{className:"text-xl",children:""})," Ver Tutorial Rpido"]}),_e.jsx("button",{onClick:t,className:"w-full py-2 text-slate-400 hover:text-white font-semibold text-sm transition-colors",children:"Saltar y explorar el mapa"})]})]})}):null}function _ee({onClose:e}){const[t,r]=te.useState(0),n=[{title:"Buscador de Direcciones",description:"Escribe una direccin (Ej: Alameda 1340) para volar rpidamente a un lugar de inters.",positionClass:"top-16 left-1/2 -translate-x-1/2 origin-top",icon:_e.jsx(rD,{size:24,className:"text-cyan-400"})},{title:"Modo Anlisis Zonal",description:"Activa este botn para analizar un rea. Luego haz clic en el mapa para ver estadsticas de radio.",positionClass:"top-32 right-8 md:top-24 md:right-16 origin-top-right",icon:_e.jsx(tD,{size:24,className:"text-emerald-400"})},{title:"Leyenda y Filtros",description:"Usa estos controles para filtrar por ao y por cantidad de toneladas. Haz clic en los colores para filtrar!",positionClass:"bottom-44 left-8 md:bottom-32 md:left-12 origin-bottom-left",icon:_e.jsx(vS,{size:24,className:"text-violet-400"})},{title:"Exportar Reporte",description:"Genera un reporte profesional en PDF o imagen PNG de la zona que ests visualizando.",positionClass:"top-16 right-8 md:right-16 origin-top-right",icon:_e.jsx(K_,{size:24,className:"text-rose-400"})}],s=()=>{t<n.length-1?r(t+1):e()},A=()=>{t>0&&r(t-1)};return _e.jsxs("div",{className:"fixed inset-0 z-[100] bg-slate-950/80 backdrop-blur-sm animate-in fade-in duration-300",children:[_e.jsxs("button",{onClick:e,className:"absolute top-4 right-4 text-white/50 hover:text-white transition-colors",children:[_e.jsx("span",{className:"text-sm font-bold mr-2 uppercase tracking-wider",children:"Saltar tutorial"}),_e.jsx(xS,{size:24,className:"inline"})]}),_e.jsxs("div",{className:`absolute max-w-xs w-full p-5 bg-slate-900 border border-white/20 rounded-2xl shadow-2xl transition-all duration-500 ease-out ${n[t].positionClass}`,children:[_e.jsxs("div",{className:"flex items-start gap-4 mb-3",children:[_e.jsx("div",{className:"p-3 bg-white/5 rounded-xl border border-white/10 shrink-0",children:n[t].icon}),_e.jsxs("div",{children:[_e.jsxs("span",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest block mb-1",children:["Paso ",t+1," de ",n.length]}),_e.jsx("h3",{className:"text-lg font-bold text-white leading-tight",children:n[t].title})]})]}),_e.jsx("p",{className:"text-sm text-slate-300 mb-6 leading-relaxed",children:n[t].description}),_e.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-white/10",children:[_e.jsxs("button",{onClick:A,disabled:t===0,className:`flex items-center gap-1 text-sm font-bold transition-colors ${t===0?"text-slate-700 cursor-not-allowed":"text-slate-400 hover:text-white"}`,children:[_e.jsx(J6,{size:16})," Anterior"]}),_e.jsx("div",{className:"flex gap-1.5",children:n.map((f,l)=>_e.jsx("div",{className:`w-1.5 h-1.5 rounded-full transition-all ${l===t?"bg-cyan-400 w-4":"bg-slate-700"}`},l))}),_e.jsxs("button",{onClick:s,className:"flex items-center gap-1 text-sm font-bold text-cyan-400 hover:text-cyan-300 transition-colors",children:[t===n.length-1?"Finalizar":"Siguiente"," ",_e.jsx(eD,{size:16})]})]})]},t)]})}function bee({analysis:e,mapSnapshot:t}){if(!e)return null;const r=new Date().toLocaleDateString("es-CL",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),{stats:n,chartData:s}=e,A=Object.keys(s[0]||{}).filter(C=>C!=="year"),f=A.map(C=>{const F=s.reduce((j,k)=>j+(k[C]||0),0),T=s[s.length-1]?.[C]||0;return{name:C,total:F,lastValue:T}}).sort((C,F)=>F.total-C.total),l=f.slice(0,5).map((C,F)=>({name:C.name.length>20?C.name.substring(0,17)+"...":C.name,fullName:C.name,value:Math.round(C.total),fill:["#06b6d4","#8b5cf6","#ec4899","#f97316","#ef4444"][F]})).reverse(),y=f.reduce((C,F)=>C+F.total,0),b=f.length>0?y/f.length:0,w=["#06b6d4","#8b5cf6","#ec4899","#f97316","#ef4444"];return _e.jsxs("div",{className:"flex flex-col",children:[_e.jsxs("div",{id:"printable-report",className:"bg-white text-slate-800 w-[800px] min-h-[1100px] p-8 relative",children:[_e.jsxs("div",{className:"flex justify-between items-end border-b-2 border-cyan-500 pb-3 mb-5",children:[_e.jsxs("div",{children:[_e.jsx("h1",{className:"text-2xl font-bold text-slate-900 flex items-center gap-2",children:" HuellaRETC"}),_e.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Informe de Anlisis Territorial"})]}),_e.jsxs("div",{className:"text-right",children:[_e.jsx("p",{className:"text-xs font-bold text-slate-700 capitalize",children:r}),_e.jsx("p",{className:"text-[10px] text-slate-400",children:"Datos Oficiales RETC"})]})]}),_e.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-5",children:[_e.jsxs("div",{className:"bg-gradient-to-br from-cyan-500 to-cyan-600 p-4 rounded-xl text-white",children:[_e.jsx("p",{className:"text-[10px] uppercase opacity-80 font-semibold",children:"Total Industrias"}),_e.jsx("p",{className:"text-3xl font-black",children:n.count}),_e.jsxs("p",{className:"text-[10px] opacity-70",children:["Radio ",n.radius,"km"]})]}),_e.jsxs("div",{className:`bg-gradient-to-br ${n.trend>0?"from-rose-500 to-rose-600":"from-emerald-500 to-emerald-600"} p-4 rounded-xl text-white`,children:[_e.jsx("p",{className:"text-[10px] uppercase opacity-80 font-semibold",children:"Tendencia"}),_e.jsxs("div",{className:"flex items-center gap-1",children:[n.trend>0?_e.jsx(wS,{size:20}):_e.jsx(bS,{size:20}),_e.jsxs("span",{className:"text-3xl font-black",children:[Math.abs(n.trend).toFixed(1),"%"]})]}),_e.jsx("p",{className:"text-[10px] opacity-70",children:"2021-2024"})]}),_e.jsxs("div",{className:"bg-gradient-to-br from-violet-500 to-violet-600 p-4 rounded-xl text-white",children:[_e.jsx("p",{className:"text-[10px] uppercase opacity-80 font-semibold",children:"Total Generado"}),_e.jsx("p",{className:"text-2xl font-black",children:Math.round(y).toLocaleString("es-CL")}),_e.jsx("p",{className:"text-[10px] opacity-70",children:"toneladas"})]})]}),_e.jsxs("div",{className:"w-full h-[320px] bg-slate-100 rounded-xl overflow-hidden border border-slate-200 mb-5 relative",children:[t?_e.jsx("img",{src:t,alt:"Mapa del sector",className:"w-full h-full object-cover"}):_e.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-400",children:"Capturando mapa..."}),_e.jsx("div",{className:"absolute bottom-3 left-3 bg-white/90 backdrop-blur px-2 py-1 rounded-lg border border-slate-200 shadow-sm",children:_e.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] font-bold text-slate-600",children:[_e.jsx(_S,{size:12,className:"text-rose-500"}),_e.jsxs("span",{children:["Zona de Anlisis (",n.radius," km)"]})]})})]}),_e.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 border border-slate-100 mb-5",children:[_e.jsx("p",{className:"text-xs text-slate-400 uppercase font-bold mb-2",children:"Resumen del Anlisis"}),_e.jsxs("p",{className:"text-sm text-slate-600 leading-relaxed",children:["La zona analizada presenta ",_e.jsxs("strong",{children:[n.count," establecimientos"]})," reportando al RETC. La tendencia observada en el periodo 2021-2024 es ",_e.jsx("strong",{children:n.trend>0?"al alza":"a la baja"}),", lo que indica ",n.trend>0?"un incremento":"una disminucin"," en la carga ambiental de la zona. El promedio por empresa es de ",_e.jsxs("strong",{children:[Math.round(b).toLocaleString("es-CL")," toneladas"]}),"."]})]}),_e.jsxs("div",{className:"mb-4",children:[_e.jsxs("h2",{className:"text-sm font-bold text-slate-800 mb-2 flex items-center gap-2",children:[_e.jsx(vS,{size:14,className:"text-slate-500"}),"Principales Generadores (Top 5)"]}),_e.jsx("div",{className:"overflow-hidden rounded-lg border border-slate-200",children:_e.jsxs("table",{className:"w-full text-xs",children:[_e.jsx("thead",{className:"bg-slate-50 text-slate-600 font-semibold border-b border-slate-200",children:_e.jsxs("tr",{children:[_e.jsx("th",{className:"px-3 py-2 text-left",children:"Empresa"}),_e.jsx("th",{className:"px-3 py-2 text-right",children:"Total (t)"}),_e.jsx("th",{className:"px-3 py-2 text-right",children:"ltimo Ao (t)"})]})}),_e.jsx("tbody",{className:"divide-y divide-slate-100",children:f.slice(0,5).map((C,F)=>_e.jsxs("tr",{className:"bg-white",children:[_e.jsx("td",{className:"px-3 py-2 font-medium text-slate-800",children:C.name}),_e.jsx("td",{className:"px-3 py-2 text-right text-slate-600 font-mono",children:Math.round(C.total).toLocaleString("es-CL")}),_e.jsx("td",{className:"px-3 py-2 text-right text-slate-600 font-mono",children:Math.round(C.lastValue).toLocaleString("es-CL")})]},F))})]})})]}),_e.jsxs("div",{className:"border-t border-slate-200 pt-3 flex justify-between items-center text-[10px] text-slate-400 mt-auto",children:[_e.jsx("p",{children:"HuellaRETC - Monitor Ambiental"}),_e.jsxs("p",{className:"flex items-center gap-1",children:[_e.jsx(BI,{size:10})," Fuente: RETC"]}),_e.jsx("p",{className:"font-semibold",children:"Pgina 1 de 2"})]})]}),_e.jsxs("div",{id:"printable-report-page2",className:"bg-white text-slate-800 w-[800px] min-h-[1100px] p-8 relative",children:[_e.jsxs("div",{className:"flex justify-between items-end border-b-2 border-violet-500 pb-3 mb-5",children:[_e.jsxs("div",{children:[_e.jsxs("h1",{className:"text-xl font-bold text-slate-900 flex items-center gap-2",children:[_e.jsx(xI,{className:"text-violet-500",size:24}),"Anlisis Grfico"]}),_e.jsx("p",{className:"text-slate-500 text-xs mt-1",children:"Visualizacin de datos del rea seleccionada"})]}),_e.jsxs("div",{className:"flex items-center gap-3",children:[_e.jsxs("div",{className:"text-right",children:[_e.jsx("p",{className:"text-[10px] text-slate-400",children:"Radio"}),_e.jsxs("p",{className:"text-sm font-bold text-violet-600",children:[n.radius," km"]})]}),_e.jsxs("div",{className:"text-right",children:[_e.jsx("p",{className:"text-[10px] text-slate-400",children:"Empresas"}),_e.jsx("p",{className:"text-sm font-bold text-slate-800",children:n.count})]})]})]}),_e.jsxs("div",{className:"bg-slate-50 rounded-xl p-5 border border-slate-100 mb-5",children:[_e.jsxs("h3",{className:"text-sm font-bold text-slate-800 mb-4 flex items-center gap-2",children:[_e.jsx(xI,{size:16,className:"text-cyan-500"}),"Ranking Top 5 Generadores (Toneladas Acumuladas)"]}),_e.jsx("div",{style:{width:"100%",height:200},children:_e.jsx(u_,{children:_e.jsxs(nee,{data:l,layout:"vertical",margin:{top:5,right:30,left:10,bottom:5},children:[_e.jsx(ay,{type:"number",tick:{fontSize:10,fill:"#64748b"},tickFormatter:C=>C.toLocaleString("es-CL")}),_e.jsx(z_,{dataKey:"name",type:"category",width:100,tick:{fontSize:9,fill:"#334155"}}),_e.jsx(U_,{formatter:C=>[`${C.toLocaleString("es-CL")} t`,"Total"],labelFormatter:(C,F)=>F[0]?.payload?.fullName||C,contentStyle:{backgroundColor:"#1e293b",border:"none",borderRadius:8,color:"white",fontSize:11}}),_e.jsx(I6,{dataKey:"value",radius:[0,6,6,0],children:l.map((C,F)=>_e.jsx(aS,{fill:C.fill},`cell-${F}`))})]})})})]}),_e.jsxs("div",{className:"bg-slate-50 rounded-xl p-5 border border-slate-100 mb-5",children:[_e.jsxs("h3",{className:"text-sm font-bold text-slate-800 mb-4 flex items-center gap-2",children:[_e.jsx(oee,{size:16,className:"text-violet-500"}),"Evolucin Temporal (2021-2024)"]}),_e.jsx("div",{style:{width:"100%",height:220},children:_e.jsx(u_,{children:_e.jsxs(yS,{data:s,margin:{top:5,right:30,left:10,bottom:5},children:[_e.jsx(fS,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),_e.jsx(ay,{dataKey:"year",tick:{fontSize:11,fill:"#64748b"}}),_e.jsx(z_,{tick:{fontSize:10,fill:"#64748b"},tickFormatter:C=>C>1e3?`${(C/1e3).toFixed(0)}k`:C}),_e.jsx(U_,{contentStyle:{backgroundColor:"#1e293b",border:"none",borderRadius:8,color:"white",fontSize:11},formatter:C=>[`${Math.round(C).toLocaleString("es-CL")} t`]}),_e.jsx(oC,{wrapperStyle:{fontSize:9}}),A.slice(0,5).map((C,F)=>_e.jsx(Wb,{type:"monotone",dataKey:C,name:C.length>18?C.substring(0,15)+"...":C,stroke:w[F],strokeWidth:2.5,dot:{fill:w[F],strokeWidth:0,r:4},activeDot:{r:6}},C))]})})})]}),_e.jsxs("div",{className:"bg-gradient-to-r from-slate-800 to-slate-900 rounded-xl p-5 text-white mb-5",children:[_e.jsx("h3",{className:"text-sm font-bold mb-3 flex items-center gap-2",children:" Insights Clave"}),_e.jsxs("div",{className:"grid grid-cols-3 gap-3 text-xs",children:[_e.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[_e.jsx("p",{className:"text-cyan-300 font-semibold mb-1",children:"Mayor Generador"}),_e.jsx("p",{className:"text-white/90 text-[11px]",children:f[0]?.name||"N/A"}),_e.jsxs("p",{className:"text-[10px] text-white/60 mt-1",children:[Math.round(f[0]?.total||0).toLocaleString("es-CL")," t"]})]}),_e.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[_e.jsx("p",{className:"text-violet-300 font-semibold mb-1",children:"Concentracin Top 5"}),_e.jsxs("p",{className:"text-white/90",children:[n.regionalTotal>0?(n.top5Total/n.regionalTotal*100).toFixed(1):0,"%"]}),_e.jsxs("p",{className:"text-[10px] text-white/60 mt-1",children:["del total de ",n.regionalName||"la regin"]})]}),_e.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[_e.jsx("p",{className:`${n.trend>0?"text-rose-300":"text-emerald-300"} font-semibold mb-1`,children:"Proyeccin"}),_e.jsx("p",{className:"text-white/90",children:n.trend>0?"Carga creciente":"Mejora ambiental"}),_e.jsx("p",{className:"text-[10px] text-white/60 mt-1",children:"Tendencia histrica"})]})]})]}),_e.jsxs("div",{className:"border-t border-slate-200 pt-3 flex justify-between items-center text-[10px] text-slate-400 mt-auto",children:[_e.jsx("p",{children:"HuellaRETC - Monitor Ambiental"}),_e.jsxs("p",{className:"flex items-center gap-1",children:[_e.jsx(BI,{size:10})," Fuente: RETC"]}),_e.jsx("p",{className:"font-semibold",children:"Pgina 2 de 2"})]})]})]})}const wee=(e,t,r=3)=>{if(!t||!e)return null;const n=Y2([e.lng,e.lat]),s=t.features.map(Y=>{const W=KL(n,Y,{units:"kilometers"});return{...Y,properties:{...Y.properties,distance:W}}}),A=s.filter(Y=>Y.properties.distance<=r),f=A.sort((Y,W)=>{const ae=Y.properties.history.reduce((pe,Be)=>pe+Be.value,0);return W.properties.history.reduce((pe,Be)=>pe+Be.value,0)-ae}).slice(0,5),l=f.map(Y=>Y.properties.name),b=[2021,2022,2023,2024].map(Y=>{const W={year:Y.toString()};return f.forEach(ae=>{const Ae=ae.properties.history.find(pe=>pe.year===Y);W[ae.properties.name]=Ae?Ae.value:0}),W}),w=A.reduce((Y,W)=>Y+(W.properties.history.find(ae=>ae.year===2021)?.value||0),0),C=A.reduce((Y,W)=>Y+(W.properties.history.find(ae=>ae.year===2024)?.value||0),0);let F=0;w>0&&(F=(C-w)/w*100);const T=s.sort((Y,W)=>Y.properties.distance-W.properties.distance)[0],j=T?.properties?.region||null;let k=0,H=j;j&&t.features.forEach(Y=>{if(Y.properties.region===j){const W=Y.properties.history?.reduce((ae,Ae)=>ae+Ae.value,0)||0;k+=W}});const K=f.reduce((Y,W)=>Y+W.properties.history.reduce((ae,Ae)=>ae+Ae.value,0),0);return{stats:{count:A.length,trend:F,radius:r,regionalTotal:k,regionalName:H,top5Total:K},chartData:b,lineKeys:l,nearest:T,topIds:f.map(Y=>Y.properties.id_vu)}},SI=["#10b981","#3b82f6","#f59e0b","#ec4899","#8b5cf6","#06b6d4"],xee=({active:e,payload:t,label:r})=>{if(e&&t&&t.length){const n=[...t].sort((s,A)=>A.value-s.value);return _e.jsxs("div",{className:"bg-slate-950/80 backdrop-blur-md border border-white/10 p-2.5 rounded-lg shadow-xl min-w-[140px]",children:[_e.jsxs("p",{className:"text-xs font-bold text-slate-200 mb-1.5 border-b border-white/10 pb-1",children:["Ao ",r]}),_e.jsx("div",{className:"flex flex-col gap-1",children:n.map((s,A)=>_e.jsxs("div",{className:"flex items-center justify-between gap-3 text-[10px]",children:[_e.jsxs("div",{className:"flex items-center gap-1.5 overflow-hidden",children:[_e.jsx("span",{className:"w-1.5 h-1.5 rounded-full shrink-0 shadow-[0_0_5px_currentColor]",style:{backgroundColor:s.color,color:s.color}}),_e.jsx("span",{className:"text-slate-400 truncate max-w-[80px]",title:s.name,children:s.name})]}),_e.jsxs("span",{className:"font-mono font-medium text-white tabular-nums",children:[s.value," t"]})]},A))})]})}return null};function Bee({data:e,keys:t,onHoverHighlight:r}){return!e||e.length===0||!t||t.length===0?_e.jsx("div",{className:"h-40 flex items-center justify-center border border-dashed border-slate-700 rounded-lg bg-slate-800/30",children:_e.jsx("p",{className:"text-slate-500 text-xs",children:"Sin datos."})}):_e.jsx("div",{className:"w-full h-64 mt-2 select-none",children:_e.jsx(u_,{width:"100%",height:"100%",children:_e.jsxs(yS,{data:e,margin:{top:10,right:10,left:10,bottom:0},children:[_e.jsx(fS,{strokeDasharray:"3 3",stroke:"#334155",vertical:!1,opacity:.5}),_e.jsx(ay,{dataKey:"year",tick:{fill:"#64748b",fontSize:10},axisLine:!1,tickLine:!1,dy:10,interval:0,padding:{left:20,right:20}}),_e.jsx(U_,{content:_e.jsx(xee,{}),cursor:{stroke:"#fff",strokeWidth:1,strokeDasharray:"4 4",opacity:.3}}),_e.jsx(oC,{wrapperStyle:{fontSize:"10px",paddingTop:"10px",opacity:.8,cursor:"pointer"},iconType:"circle",iconSize:8,onMouseEnter:n=>r(n.dataKey),onMouseLeave:()=>r(null)}),t.map((n,s)=>_e.jsx(Wb,{type:"monotone",dataKey:n,stroke:SI[s%SI.length],strokeWidth:2,dot:!1,activeDot:{r:4,strokeWidth:0,fill:"#fff"},connectNulls:!0,animationDuration:1e3},n))]})})})}function Cee({analysis:e}){const t=te.useMemo(()=>{if(!e)return null;const{count:s,trend:A,topIndustry:f}=e.stats,l=A>10,y=A<0,b=f?`Principal rubro: ${f}.`:"";let w="",C="",F="neutral",T=CI;return s===0?(w="Sin actividad industrial",C="No se detectan generadores de residuos registrados en el radio seleccionado.",F="success",T=mee):l?(w="Alerta: Residuos en alza",C=`Zona con ${s} industrias. Se registra un aumento del ${A.toFixed(1)}% en generacin de residuos los ltimos aos. ${b}`,F="warning",T=wS):y?(w="Mejora: Residuos a la baja",C=`Zona con ${s} industrias, pero con tendencia positiva: la generacin ha cado un ${Math.abs(A).toFixed(1)}% recientemente. ${b}`,F="success",T=bS):(w="Actividad estable",C=`Zona con actividad moderada (${s} industrias). La generacin de residuos se mantiene estable (${A>0?"+":""}${A.toFixed(1)}%) en el periodo. ${b}`,F="neutral",T=CI),{title:w,description:C,tone:F,Icon:T,trendVal:A}},[e]);if(!t)return null;const n={warning:{text:"text-rose-100",badgeText:"text-rose-400",badgeBg:"bg-rose-500/10 border-rose-500/20",bg:"from-rose-500 to-orange-500"},success:{text:"text-emerald-100",badgeText:"text-emerald-400",badgeBg:"bg-emerald-500/10 border-emerald-500/20",bg:"from-emerald-500 to-teal-500"},neutral:{text:"text-slate-100",badgeText:"text-blue-400",badgeBg:"bg-blue-500/10 border-blue-500/20",bg:"from-blue-500 to-indigo-500"}}[t.tone];return _e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50 shadow-sm relative overflow-hidden group hover:border-slate-600 transition-colors",children:[_e.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 bg-gradient-to-br opacity-10 blur-2xl rounded-full -translate-y-1/2 translate-x-1/2 ${n.bg}`}),_e.jsxs("div",{className:"relative z-10",children:[_e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[_e.jsx("div",{className:"flex items-center gap-2",children:_e.jsx("span",{className:"font-bold text-slate-400 text-[10px] uppercase tracking-widest",children:"INFORME GENERADO"})}),t.tone!=="neutral"&&t.trendVal!==void 0&&_e.jsxs("div",{className:`flex items-center gap-1.5 text-xs font-bold px-2.5 py-1 rounded-full border ${n.badgeBg} ${n.badgeText}`,children:[_e.jsx(t.Icon,{size:14,strokeWidth:2.5}),_e.jsxs("span",{children:[Math.abs(t.trendVal).toFixed(1),"%"]})]})]}),_e.jsx("h4",{className:`text-base font-bold mb-1.5 leading-tight ${n.text}`,children:t.title}),_e.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:t.description})]})]})}var JB=function(e,t){return JB=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},JB(e,t)};function Hc(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");JB(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var e5=function(){return e5=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var A in r)Object.prototype.hasOwnProperty.call(r,A)&&(t[A]=r[A])}return t},e5.apply(this,arguments)};function fA(e,t,r,n){function s(A){return A instanceof r?A:new r(function(f){f(A)})}return new(r||(r=Promise))(function(A,f){function l(w){try{b(n.next(w))}catch(C){f(C)}}function y(w){try{b(n.throw(w))}catch(C){f(C)}}function b(w){w.done?A(w.value):s(w.value).then(l,y)}b((n=n.apply(e,[])).next())})}function Rl(e,t){var r={label:0,sent:function(){if(A[0]&1)throw A[1];return A[1]},trys:[],ops:[]},n,s,A,f;return f={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function l(b){return function(w){return y([b,w])}}function y(b){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(A=b[0]&2?s.return:b[0]?s.throw||((A=s.return)&&A.call(s),0):s.next)&&!(A=A.call(s,b[1])).done)return A;switch(s=0,A&&(b=[b[0]&2,A.value]),b[0]){case 0:case 1:A=b;break;case 4:return r.label++,{value:b[1],done:!1};case 5:r.label++,s=b[1],b=[0];continue;case 7:b=r.ops.pop(),r.trys.pop();continue;default:if(A=r.trys,!(A=A.length>0&&A[A.length-1])&&(b[0]===6||b[0]===2)){r=0;continue}if(b[0]===3&&(!A||b[1]>A[0]&&b[1]<A[3])){r.label=b[1];break}if(b[0]===6&&r.label<A[1]){r.label=A[1],A=b;break}if(A&&r.label<A[2]){r.label=A[2],r.ops.push(b);break}A[2]&&r.ops.pop(),r.trys.pop();continue}b=t.call(e,r)}catch(w){b=[6,w],s=0}finally{n=A=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}}function e1(e,t,r){if(arguments.length===2)for(var n=0,s=t.length,A;n<s;n++)(A||!(n in t))&&(A||(A=Array.prototype.slice.call(t,0,n)),A[n]=t[n]);return e.concat(A||t)}var df=(function(){function e(t,r,n,s){this.left=t,this.top=r,this.width=n,this.height=s}return e.prototype.add=function(t,r,n,s){return new e(this.left+t,this.top+r,this.width+n,this.height+s)},e.fromClientRect=function(t,r){return new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height)},e.fromDOMRectList=function(t,r){var n=Array.from(r).find(function(s){return s.width!==0});return n?new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e})(),Yb=function(e,t){return df.fromClientRect(e,t.getBoundingClientRect())},See=function(e){var t=e.body,r=e.documentElement;if(!t||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(t.scrollWidth,r.scrollWidth),Math.max(t.offsetWidth,r.offsetWidth),Math.max(t.clientWidth,r.clientWidth)),s=Math.max(Math.max(t.scrollHeight,r.scrollHeight),Math.max(t.offsetHeight,r.offsetHeight),Math.max(t.clientHeight,r.clientHeight));return new df(0,0,n,s)},Jb=function(e){for(var t=[],r=0,n=e.length;r<n;){var s=e.charCodeAt(r++);if(s>=55296&&s<=56319&&r<n){var A=e.charCodeAt(r++);(A&64512)===56320?t.push(((s&1023)<<10)+(A&1023)+65536):(t.push(s),r--)}else t.push(s)}return t},Cs=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],s=-1,A="";++s<r;){var f=e[s];f<=65535?n.push(f):(f-=65536,n.push((f>>10)+55296,f%1024+56320)),(s+1===r||n.length>16384)&&(A+=String.fromCharCode.apply(String,n),n.length=0)}return A},EI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Eee=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var t1=0;t1<EI.length;t1++)Eee[EI.charCodeAt(t1)]=t1;var TI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",I0=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var r1=0;r1<TI.length;r1++)I0[TI.charCodeAt(r1)]=r1;var Tee=function(e){var t=e.length*.75,r=e.length,n,s=0,A,f,l,y;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var b=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),w=Array.isArray(b)?b:new Uint8Array(b);for(n=0;n<r;n+=4)A=I0[e.charCodeAt(n)],f=I0[e.charCodeAt(n+1)],l=I0[e.charCodeAt(n+2)],y=I0[e.charCodeAt(n+3)],w[s++]=A<<2|f>>4,w[s++]=(f&15)<<4|l>>2,w[s++]=(l&3)<<6|y&63;return b},Iee=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},Fee=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},Cp=5,BS=11,A2=2,Lee=BS-Cp,nD=65536>>Cp,Uee=1<<Cp,u2=Uee-1,Mee=1024>>Cp,Pee=nD+Mee,Oee=Pee,Dee=32,kee=Oee+Dee,Nee=65536>>BS,Qee=1<<Lee,Ree=Qee-1,II=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},zee=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},jee=function(e,t){var r=Tee(e),n=Array.isArray(r)?Fee(r):new Uint32Array(r),s=Array.isArray(r)?Iee(r):new Uint16Array(r),A=24,f=II(s,A/2,n[4]/2),l=n[5]===2?II(s,(A+n[4])/2):zee(n,Math.ceil((A+n[4])/4));return new Hee(n[0],n[1],n[2],n[3],f,l)},Hee=(function(){function e(t,r,n,s,A,f){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=s,this.index=A,this.data=f}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>Cp],r=(r<<A2)+(t&u2),this.data[r];if(t<=65535)return r=this.index[nD+(t-55296>>Cp)],r=(r<<A2)+(t&u2),this.data[r];if(t<this.highStart)return r=kee-Nee+(t>>BS),r=this.index[r],r+=t>>Cp&Ree,r=this.index[r],r=(r<<A2)+(t&u2),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e})(),FI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Kee=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var n1=0;n1<FI.length;n1++)Kee[FI.charCodeAt(n1)]=n1;var Vee="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",LI=50,qee=1,iD=2,aD=3,Gee=4,$ee=5,UI=7,sD=8,MI=9,cd=10,t5=11,PI=12,r5=13,Xee=14,F0=15,n5=16,i1=17,b0=18,Zee=19,OI=20,i5=21,w0=22,c2=23,bm=24,xu=25,L0=26,U0=27,wm=28,Wee=29,dp=30,Yee=31,a1=32,s1=33,a5=34,s5=35,o5=36,sy=37,l5=38,N1=39,Q1=40,h2=41,oD=42,Jee=43,ete=[9001,65288],lD="!",Jn="",o1="",A5=jee(Vee),qh=[dp,o5],u5=[qee,iD,aD,$ee],AD=[cd,sD],DI=[U0,L0],tte=u5.concat(AD),kI=[l5,N1,Q1,a5,s5],rte=[F0,r5],nte=function(e,t){t===void 0&&(t="strict");var r=[],n=[],s=[];return e.forEach(function(A,f){var l=A5.get(A);if(l>LI?(s.push(!0),l-=LI):s.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(A)!==-1)return n.push(f),r.push(n5);if(l===Gee||l===t5){if(f===0)return n.push(f),r.push(dp);var y=r[f-1];return tte.indexOf(y)===-1?(n.push(n[f-1]),r.push(y)):(n.push(f),r.push(dp))}if(n.push(f),l===Yee)return r.push(t==="strict"?i5:sy);if(l===oD||l===Wee)return r.push(dp);if(l===Jee)return A>=131072&&A<=196605||A>=196608&&A<=262141?r.push(sy):r.push(dp);r.push(l)}),[n,r,s]},f2=function(e,t,r,n){var s=n[r];if(Array.isArray(e)?e.indexOf(s)!==-1:e===s)for(var A=r;A<=n.length;){A++;var f=n[A];if(f===t)return!0;if(f!==cd)break}if(s===cd)for(var A=r;A>0;){A--;var l=n[A];if(Array.isArray(e)?e.indexOf(l)!==-1:e===l)for(var y=r;y<=n.length;){y++;var f=n[y];if(f===t)return!0;if(f!==cd)break}if(l!==cd)break}return!1},NI=function(e,t){for(var r=e;r>=0;){var n=t[r];if(n===cd)r--;else return n}return 0},ite=function(e,t,r,n,s){if(r[n]===0)return Jn;var A=n-1;if(Array.isArray(s)&&s[A]===!0)return Jn;var f=A-1,l=A+1,y=t[A],b=f>=0?t[f]:0,w=t[l];if(y===iD&&w===aD)return Jn;if(u5.indexOf(y)!==-1)return lD;if(u5.indexOf(w)!==-1||AD.indexOf(w)!==-1)return Jn;if(NI(A,t)===sD)return o1;if(A5.get(e[A])===t5||(y===a1||y===s1)&&A5.get(e[l])===t5||y===UI||w===UI||y===MI||[cd,r5,F0].indexOf(y)===-1&&w===MI||[i1,b0,Zee,bm,wm].indexOf(w)!==-1||NI(A,t)===w0||f2(c2,w0,A,t)||f2([i1,b0],i5,A,t)||f2(PI,PI,A,t))return Jn;if(y===cd)return o1;if(y===c2||w===c2)return Jn;if(w===n5||y===n5)return o1;if([r5,F0,i5].indexOf(w)!==-1||y===Xee||b===o5&&rte.indexOf(y)!==-1||y===wm&&w===o5||w===OI||qh.indexOf(w)!==-1&&y===xu||qh.indexOf(y)!==-1&&w===xu||y===U0&&[sy,a1,s1].indexOf(w)!==-1||[sy,a1,s1].indexOf(y)!==-1&&w===L0||qh.indexOf(y)!==-1&&DI.indexOf(w)!==-1||DI.indexOf(y)!==-1&&qh.indexOf(w)!==-1||[U0,L0].indexOf(y)!==-1&&(w===xu||[w0,F0].indexOf(w)!==-1&&t[l+1]===xu)||[w0,F0].indexOf(y)!==-1&&w===xu||y===xu&&[xu,wm,bm].indexOf(w)!==-1)return Jn;if([xu,wm,bm,i1,b0].indexOf(w)!==-1)for(var C=A;C>=0;){var F=t[C];if(F===xu)return Jn;if([wm,bm].indexOf(F)!==-1)C--;else break}if([U0,L0].indexOf(w)!==-1)for(var C=[i1,b0].indexOf(y)!==-1?f:A;C>=0;){var F=t[C];if(F===xu)return Jn;if([wm,bm].indexOf(F)!==-1)C--;else break}if(l5===y&&[l5,N1,a5,s5].indexOf(w)!==-1||[N1,a5].indexOf(y)!==-1&&[N1,Q1].indexOf(w)!==-1||[Q1,s5].indexOf(y)!==-1&&w===Q1||kI.indexOf(y)!==-1&&[OI,L0].indexOf(w)!==-1||kI.indexOf(w)!==-1&&y===U0||qh.indexOf(y)!==-1&&qh.indexOf(w)!==-1||y===bm&&qh.indexOf(w)!==-1||qh.concat(xu).indexOf(y)!==-1&&w===w0&&ete.indexOf(e[l])===-1||qh.concat(xu).indexOf(w)!==-1&&y===b0)return Jn;if(y===h2&&w===h2){for(var T=r[A],j=1;T>0&&(T--,t[T]===h2);)j++;if(j%2!==0)return Jn}return y===a1&&w===s1?Jn:o1},ate=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var r=nte(e,t.lineBreak),n=r[0],s=r[1],A=r[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(s=s.map(function(l){return[xu,dp,oD].indexOf(l)!==-1?sy:l}));var f=t.wordBreak==="keep-all"?A.map(function(l,y){return l&&e[y]>=19968&&e[y]<=40959}):void 0;return[n,s,f]},ste=(function(){function e(t,r,n,s){this.codePoints=t,this.required=r===lD,this.start=n,this.end=s}return e.prototype.slice=function(){return Cs.apply(void 0,this.codePoints.slice(this.start,this.end))},e})(),ote=function(e,t){var r=Jb(e),n=ate(r,t),s=n[0],A=n[1],f=n[2],l=r.length,y=0,b=0;return{next:function(){if(b>=l)return{done:!0,value:null};for(var w=Jn;b<l&&(w=ite(r,A,s,++b,f))===Jn;);if(w!==Jn||b===l){var C=new ste(r,w,y,b);return y=b,{value:C,done:!1}}return{done:!0,value:null}}}},lte=1,Ate=2,Py=4,QI=8,V_=10,RI=47,k0=92,ute=9,cte=32,l1=34,x0=61,hte=35,fte=36,dte=37,A1=39,u1=40,B0=41,pte=95,XA=45,mte=33,gte=60,yte=62,vte=64,_te=91,bte=93,wte=61,xte=123,c1=63,Bte=125,zI=124,Cte=126,Ste=128,jI=65533,d2=42,_p=43,Ete=44,Tte=58,Ite=59,oy=46,Fte=0,Lte=8,Ute=11,Mte=14,Pte=31,Ote=127,ph=-1,uD=48,cD=97,hD=101,Dte=102,kte=117,Nte=122,fD=65,dD=69,pD=70,Qte=85,Rte=90,jl=function(e){return e>=uD&&e<=57},zte=function(e){return e>=55296&&e<=57343},xm=function(e){return jl(e)||e>=fD&&e<=pD||e>=cD&&e<=Dte},jte=function(e){return e>=cD&&e<=Nte},Hte=function(e){return e>=fD&&e<=Rte},Kte=function(e){return jte(e)||Hte(e)},Vte=function(e){return e>=Ste},h1=function(e){return e===V_||e===ute||e===cte},q_=function(e){return Kte(e)||Vte(e)||e===pte},HI=function(e){return q_(e)||jl(e)||e===XA},qte=function(e){return e>=Fte&&e<=Lte||e===Ute||e>=Mte&&e<=Pte||e===Ote},Ad=function(e,t){return e!==k0?!1:t!==V_},f1=function(e,t,r){return e===XA?q_(t)||Ad(t,r):q_(e)?!0:!!(e===k0&&Ad(e,t))},p2=function(e,t,r){return e===_p||e===XA?jl(t)?!0:t===oy&&jl(r):jl(e===oy?t:e)},Gte=function(e){var t=0,r=1;(e[t]===_p||e[t]===XA)&&(e[t]===XA&&(r=-1),t++);for(var n=[];jl(e[t]);)n.push(e[t++]);var s=n.length?parseInt(Cs.apply(void 0,n),10):0;e[t]===oy&&t++;for(var A=[];jl(e[t]);)A.push(e[t++]);var f=A.length,l=f?parseInt(Cs.apply(void 0,A),10):0;(e[t]===dD||e[t]===hD)&&t++;var y=1;(e[t]===_p||e[t]===XA)&&(e[t]===XA&&(y=-1),t++);for(var b=[];jl(e[t]);)b.push(e[t++]);var w=b.length?parseInt(Cs.apply(void 0,b),10):0;return r*(s+l*Math.pow(10,-f))*Math.pow(10,y*w)},$te={type:2},Xte={type:3},Zte={type:4},Wte={type:13},Yte={type:8},Jte={type:21},ere={type:9},tre={type:10},rre={type:11},nre={type:12},ire={type:14},d1={type:23},are={type:1},sre={type:25},ore={type:24},lre={type:26},Are={type:27},ure={type:28},cre={type:29},hre={type:31},c5={type:32},mD=(function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat(Jb(t))},e.prototype.read=function(){for(var t=[],r=this.consumeToken();r!==c5;)t.push(r),r=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case l1:return this.consumeStringToken(l1);case hte:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),s=this.peekCodePoint(2);if(HI(r)||Ad(n,s)){var A=f1(r,n,s)?Ate:lte,f=this.consumeName();return{type:5,value:f,flags:A}}break;case fte:if(this.peekCodePoint(0)===x0)return this.consumeCodePoint(),Wte;break;case A1:return this.consumeStringToken(A1);case u1:return $te;case B0:return Xte;case d2:if(this.peekCodePoint(0)===x0)return this.consumeCodePoint(),ire;break;case _p:if(p2(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case Ete:return Zte;case XA:var l=t,y=this.peekCodePoint(0),b=this.peekCodePoint(1);if(p2(l,y,b))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(f1(l,y,b))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(y===XA&&b===yte)return this.consumeCodePoint(),this.consumeCodePoint(),ore;break;case oy:if(p2(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case RI:if(this.peekCodePoint(0)===d2)for(this.consumeCodePoint();;){var w=this.consumeCodePoint();if(w===d2&&(w=this.consumeCodePoint(),w===RI))return this.consumeToken();if(w===ph)return this.consumeToken()}break;case Tte:return lre;case Ite:return Are;case gte:if(this.peekCodePoint(0)===mte&&this.peekCodePoint(1)===XA&&this.peekCodePoint(2)===XA)return this.consumeCodePoint(),this.consumeCodePoint(),sre;break;case vte:var C=this.peekCodePoint(0),F=this.peekCodePoint(1),T=this.peekCodePoint(2);if(f1(C,F,T)){var f=this.consumeName();return{type:7,value:f}}break;case _te:return ure;case k0:if(Ad(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case bte:return cre;case wte:if(this.peekCodePoint(0)===x0)return this.consumeCodePoint(),Yte;break;case xte:return rre;case Bte:return nre;case kte:case Qte:var j=this.peekCodePoint(0),k=this.peekCodePoint(1);return j===_p&&(xm(k)||k===c1)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case zI:if(this.peekCodePoint(0)===x0)return this.consumeCodePoint(),ere;if(this.peekCodePoint(0)===zI)return this.consumeCodePoint(),Jte;break;case Cte:if(this.peekCodePoint(0)===x0)return this.consumeCodePoint(),tre;break;case ph:return c5}return h1(t)?(this.consumeWhiteSpace(),hre):jl(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):q_(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:Cs(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],r=this.consumeCodePoint();xm(r)&&t.length<6;)t.push(r),r=this.consumeCodePoint();for(var n=!1;r===c1&&t.length<6;)t.push(r),r=this.consumeCodePoint(),n=!0;if(n){var s=parseInt(Cs.apply(void 0,t.map(function(y){return y===c1?uD:y})),16),A=parseInt(Cs.apply(void 0,t.map(function(y){return y===c1?pD:y})),16);return{type:30,start:s,end:A}}var f=parseInt(Cs.apply(void 0,t),16);if(this.peekCodePoint(0)===XA&&xm(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var l=[];xm(r)&&l.length<6;)l.push(r),r=this.consumeCodePoint();var A=parseInt(Cs.apply(void 0,l),16);return{type:30,start:f,end:A}}else return{type:30,start:f,end:f}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===u1?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===u1?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===ph)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===A1||r===l1){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===ph||this.peekCodePoint(0)===B0)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),d1)}for(;;){var s=this.consumeCodePoint();if(s===ph||s===B0)return{type:22,value:Cs.apply(void 0,t)};if(h1(s))return this.consumeWhiteSpace(),this.peekCodePoint(0)===ph||this.peekCodePoint(0)===B0?(this.consumeCodePoint(),{type:22,value:Cs.apply(void 0,t)}):(this.consumeBadUrlRemnants(),d1);if(s===l1||s===A1||s===u1||qte(s))return this.consumeBadUrlRemnants(),d1;if(s===k0)if(Ad(s,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),d1;else t.push(s)}},e.prototype.consumeWhiteSpace=function(){for(;h1(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===B0||t===ph)return;Ad(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var r=5e4,n="";t>0;){var s=Math.min(r,t);n+=Cs.apply(void 0,this._value.splice(0,s)),t-=s}return this._value.shift(),n},e.prototype.consumeStringToken=function(t){var r="",n=0;do{var s=this._value[n];if(s===ph||s===void 0||s===t)return r+=this.consumeStringSlice(n),{type:0,value:r};if(s===V_)return this._value.splice(0,n),are;if(s===k0){var A=this._value[n+1];A!==ph&&A!==void 0&&(A===V_?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):Ad(s,A)&&(r+=this.consumeStringSlice(n),r+=Cs(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},e.prototype.consumeNumber=function(){var t=[],r=Py,n=this.peekCodePoint(0);for((n===_p||n===XA)&&t.push(this.consumeCodePoint());jl(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0);var s=this.peekCodePoint(1);if(n===oy&&jl(s))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=QI;jl(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0),s=this.peekCodePoint(1);var A=this.peekCodePoint(2);if((n===dD||n===hD)&&((s===_p||s===XA)&&jl(A)||jl(s)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=QI;jl(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[Gte(t),r]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),r=t[0],n=t[1],s=this.peekCodePoint(0),A=this.peekCodePoint(1),f=this.peekCodePoint(2);if(f1(s,A,f)){var l=this.consumeName();return{type:15,number:r,flags:n,unit:l}}return s===dte?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(xm(t)){for(var r=Cs(t);xm(this.peekCodePoint(0))&&r.length<6;)r+=Cs(this.consumeCodePoint());h1(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||zte(n)||n>1114111?jI:n}return t===ph?jI:t},e.prototype.consumeName=function(){for(var t="";;){var r=this.consumeCodePoint();if(HI(r))t+=Cs(r);else if(Ad(r,this.peekCodePoint(0)))t+=Cs(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),t}},e})(),gD=(function(){function e(t){this._tokens=t}return e.create=function(t){var r=new mD;return r.write(t),new e(r.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var r=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var r=this.consumeComponentValue();if(r.type===32)return t;t.push(r),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var r={type:t,values:[]},n=this.consumeToken();;){if(n.type===32||dre(n,t))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var r={name:t.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?c5:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e})(),Oy=function(e){return e.type===15},fg=function(e){return e.type===17},Zi=function(e){return e.type===20},fre=function(e){return e.type===0},h5=function(e,t){return Zi(e)&&e.value===t},yD=function(e){return e.type!==31},rg=function(e){return e.type!==31&&e.type!==4},Eh=function(e){var t=[],r=[];return e.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&t.push(r),t},dre=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},bd=function(e){return e.type===17||e.type===15},Vs=function(e){return e.type===16||bd(e)},vD=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},sl={type:17,number:0,flags:Py},CS={type:16,number:50,flags:Py},hd={type:16,number:100,flags:Py},M0=function(e,t,r){var n=e[0],s=e[1];return[ma(n,t),ma(typeof s<"u"?s:n,r)]},ma=function(e,t){if(e.type===16)return e.number/100*t;if(Oy(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},_D="deg",bD="grad",wD="rad",xD="turn",ew={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case _D:return Math.PI*t.number/180;case bD:return Math.PI/200*t.number;case wD:return t.number;case xD:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},BD=function(e){return e.type===15&&(e.unit===_D||e.unit===bD||e.unit===wD||e.unit===xD)},CD=function(e){var t=e.filter(Zi).map(function(r){return r.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[sl,sl];case"to top":case"bottom":return ic(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[sl,hd];case"to right":case"left":return ic(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[hd,hd];case"to bottom":case"top":return ic(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[hd,sl];case"to left":case"right":return ic(270)}return 0},ic=function(e){return Math.PI*e/180},md={name:"color",parse:function(e,t){if(t.type===18){var r=pre[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return r(e,t.values)}if(t.type===5){if(t.value.length===3){var n=t.value.substring(0,1),s=t.value.substring(1,2),A=t.value.substring(2,3);return fd(parseInt(n+n,16),parseInt(s+s,16),parseInt(A+A,16),1)}if(t.value.length===4){var n=t.value.substring(0,1),s=t.value.substring(1,2),A=t.value.substring(2,3),f=t.value.substring(3,4);return fd(parseInt(n+n,16),parseInt(s+s,16),parseInt(A+A,16),parseInt(f+f,16)/255)}if(t.value.length===6){var n=t.value.substring(0,2),s=t.value.substring(2,4),A=t.value.substring(4,6);return fd(parseInt(n,16),parseInt(s,16),parseInt(A,16),1)}if(t.value.length===8){var n=t.value.substring(0,2),s=t.value.substring(2,4),A=t.value.substring(4,6),f=t.value.substring(6,8);return fd(parseInt(n,16),parseInt(s,16),parseInt(A,16),parseInt(f,16)/255)}}if(t.type===20){var l=sf[t.value.toUpperCase()];if(typeof l<"u")return l}return sf.TRANSPARENT}},gd=function(e){return(255&e)===0},Uo=function(e){var t=255&e,r=255&e>>8,n=255&e>>16,s=255&e>>24;return t<255?"rgba("+s+","+n+","+r+","+t/255+")":"rgb("+s+","+n+","+r+")"},fd=function(e,t,r,n){return(e<<24|t<<16|r<<8|Math.round(n*255)<<0)>>>0},KI=function(e,t){if(e.type===17)return e.number;if(e.type===16){var r=t===3?1:255;return t===3?e.number/100*r:Math.round(e.number/100*r)}return 0},VI=function(e,t){var r=t.filter(rg);if(r.length===3){var n=r.map(KI),s=n[0],A=n[1],f=n[2];return fd(s,A,f,1)}if(r.length===4){var l=r.map(KI),s=l[0],A=l[1],f=l[2],y=l[3];return fd(s,A,f,y)}return 0};function m2(e,t,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(t-e)*r*6+e:r<1/2?t:r<2/3?(t-e)*6*(2/3-r)+e:e}var qI=function(e,t){var r=t.filter(rg),n=r[0],s=r[1],A=r[2],f=r[3],l=(n.type===17?ic(n.number):ew.parse(e,n))/(Math.PI*2),y=Vs(s)?s.number/100:0,b=Vs(A)?A.number/100:0,w=typeof f<"u"&&Vs(f)?ma(f,1):1;if(y===0)return fd(b*255,b*255,b*255,1);var C=b<=.5?b*(y+1):b+y-b*y,F=b*2-C,T=m2(F,C,l+1/3),j=m2(F,C,l),k=m2(F,C,l-1/3);return fd(T*255,j*255,k*255,w)},pre={hsl:qI,hsla:qI,rgb:VI,rgba:VI},N0=function(e,t){return md.parse(e,gD.create(t).parseComponentValue())},sf={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},mre={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(Zi(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},gre={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},tw=function(e,t){var r=md.parse(e,t[0]),n=t[1];return n&&Vs(n)?{color:r,stop:n}:{color:r,stop:null}},GI=function(e,t){var r=e[0],n=e[e.length-1];r.stop===null&&(r.stop=sl),n.stop===null&&(n.stop=hd);for(var s=[],A=0,f=0;f<e.length;f++){var l=e[f].stop;if(l!==null){var y=ma(l,t);y>A?s.push(y):s.push(A),A=y}else s.push(null)}for(var b=null,f=0;f<s.length;f++){var w=s[f];if(w===null)b===null&&(b=f);else if(b!==null){for(var C=f-b,F=s[b-1],T=(w-F)/(C+1),j=1;j<=C;j++)s[b+j-1]=T*j;b=null}}return e.map(function(k,H){var K=k.color;return{color:K,stop:Math.max(Math.min(1,s[H]/t),0)}})},yre=function(e,t,r){var n=t/2,s=r/2,A=ma(e[0],t)-n,f=s-ma(e[1],r);return(Math.atan2(f,A)+Math.PI*2)%(Math.PI*2)},vre=function(e,t,r){var n=typeof e=="number"?e:yre(e,t,r),s=Math.abs(t*Math.sin(n))+Math.abs(r*Math.cos(n)),A=t/2,f=r/2,l=s/2,y=Math.sin(n-Math.PI/2)*l,b=Math.cos(n-Math.PI/2)*l;return[s,A-b,A+b,f-y,f+y]},Mc=function(e,t){return Math.sqrt(e*e+t*t)},$I=function(e,t,r,n,s){var A=[[0,0],[0,t],[e,0],[e,t]];return A.reduce(function(f,l){var y=l[0],b=l[1],w=Mc(r-y,n-b);return(s?w<f.optimumDistance:w>f.optimumDistance)?{optimumCorner:l,optimumDistance:w}:f},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},_re=function(e,t,r,n,s){var A=0,f=0;switch(e.size){case 0:e.shape===0?A=f=Math.min(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-s)):e.shape===1&&(A=Math.min(Math.abs(t),Math.abs(t-n)),f=Math.min(Math.abs(r),Math.abs(r-s)));break;case 2:if(e.shape===0)A=f=Math.min(Mc(t,r),Mc(t,r-s),Mc(t-n,r),Mc(t-n,r-s));else if(e.shape===1){var l=Math.min(Math.abs(r),Math.abs(r-s))/Math.min(Math.abs(t),Math.abs(t-n)),y=$I(n,s,t,r,!0),b=y[0],w=y[1];A=Mc(b-t,(w-r)/l),f=l*A}break;case 1:e.shape===0?A=f=Math.max(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-s)):e.shape===1&&(A=Math.max(Math.abs(t),Math.abs(t-n)),f=Math.max(Math.abs(r),Math.abs(r-s)));break;case 3:if(e.shape===0)A=f=Math.max(Mc(t,r),Mc(t,r-s),Mc(t-n,r),Mc(t-n,r-s));else if(e.shape===1){var l=Math.max(Math.abs(r),Math.abs(r-s))/Math.max(Math.abs(t),Math.abs(t-n)),C=$I(n,s,t,r,!1),b=C[0],w=C[1];A=Mc(b-t,(w-r)/l),f=l*A}break}return Array.isArray(e.size)&&(A=ma(e.size[0],n),f=e.size.length===2?ma(e.size[1],s):A),[A,f]},bre=function(e,t){var r=ic(180),n=[];return Eh(t).forEach(function(s,A){if(A===0){var f=s[0];if(f.type===20&&f.value==="to"){r=CD(s);return}else if(BD(f)){r=ew.parse(e,f);return}}var l=tw(e,s);n.push(l)}),{angle:r,stops:n,type:1}},p1=function(e,t){var r=ic(180),n=[];return Eh(t).forEach(function(s,A){if(A===0){var f=s[0];if(f.type===20&&["top","left","right","bottom"].indexOf(f.value)!==-1){r=CD(s);return}else if(BD(f)){r=(ew.parse(e,f)+ic(270))%ic(360);return}}var l=tw(e,s);n.push(l)}),{angle:r,stops:n,type:1}},wre=function(e,t){var r=ic(180),n=[],s=1,A=0,f=3,l=[];return Eh(t).forEach(function(y,b){var w=y[0];if(b===0){if(Zi(w)&&w.value==="linear"){s=1;return}else if(Zi(w)&&w.value==="radial"){s=2;return}}if(w.type===18){if(w.name==="from"){var C=md.parse(e,w.values[0]);n.push({stop:sl,color:C})}else if(w.name==="to"){var C=md.parse(e,w.values[0]);n.push({stop:hd,color:C})}else if(w.name==="color-stop"){var F=w.values.filter(rg);if(F.length===2){var C=md.parse(e,F[1]),T=F[0];fg(T)&&n.push({stop:{type:16,number:T.number*100,flags:T.flags},color:C})}}}}),s===1?{angle:(r+ic(180))%ic(360),stops:n,type:s}:{size:f,shape:A,stops:n,position:l,type:s}},SD="closest-side",ED="farthest-side",TD="closest-corner",ID="farthest-corner",FD="circle",LD="ellipse",UD="cover",MD="contain",xre=function(e,t){var r=0,n=3,s=[],A=[];return Eh(t).forEach(function(f,l){var y=!0;if(l===0){var b=!1;y=f.reduce(function(C,F){if(b)if(Zi(F))switch(F.value){case"center":return A.push(CS),C;case"top":case"left":return A.push(sl),C;case"right":case"bottom":return A.push(hd),C}else(Vs(F)||bd(F))&&A.push(F);else if(Zi(F))switch(F.value){case FD:return r=0,!1;case LD:return r=1,!1;case"at":return b=!0,!1;case SD:return n=0,!1;case UD:case ED:return n=1,!1;case MD:case TD:return n=2,!1;case ID:return n=3,!1}else if(bd(F)||Vs(F))return Array.isArray(n)||(n=[]),n.push(F),!1;return C},y)}if(y){var w=tw(e,f);s.push(w)}}),{size:n,shape:r,stops:s,position:A,type:2}},m1=function(e,t){var r=0,n=3,s=[],A=[];return Eh(t).forEach(function(f,l){var y=!0;if(l===0?y=f.reduce(function(w,C){if(Zi(C))switch(C.value){case"center":return A.push(CS),!1;case"top":case"left":return A.push(sl),!1;case"right":case"bottom":return A.push(hd),!1}else if(Vs(C)||bd(C))return A.push(C),!1;return w},y):l===1&&(y=f.reduce(function(w,C){if(Zi(C))switch(C.value){case FD:return r=0,!1;case LD:return r=1,!1;case MD:case SD:return n=0,!1;case ED:return n=1,!1;case TD:return n=2,!1;case UD:case ID:return n=3,!1}else if(bd(C)||Vs(C))return Array.isArray(n)||(n=[]),n.push(C),!1;return w},y)),y){var b=tw(e,f);s.push(b)}}),{size:n,shape:r,stops:s,position:A,type:2}},Bre=function(e){return e.type===1},Cre=function(e){return e.type===2},SS={name:"image",parse:function(e,t){if(t.type===22){var r={url:t.value,type:0};return e.cache.addImage(t.value),r}if(t.type===18){var n=PD[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return n(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function Sre(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!PD[e.name])}var PD={"linear-gradient":bre,"-moz-linear-gradient":p1,"-ms-linear-gradient":p1,"-o-linear-gradient":p1,"-webkit-linear-gradient":p1,"radial-gradient":xre,"-moz-radial-gradient":m1,"-ms-radial-gradient":m1,"-o-radial-gradient":m1,"-webkit-radial-gradient":m1,"-webkit-gradient":wre},Ere={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t.filter(function(n){return rg(n)&&Sre(n)}).map(function(n){return SS.parse(e,n)})}},Tre={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(Zi(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Ire={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return Eh(t).map(function(r){return r.filter(Vs)}).map(vD)}},Fre={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return Eh(t).map(function(r){return r.filter(Zi).map(function(n){return n.value}).join(" ")}).map(Lre)}},Lre=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},zm;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(zm||(zm={}));var Ure={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return Eh(t).map(function(r){return r.filter(Mre)})}},Mre=function(e){return Zi(e)||Vs(e)},rw=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Pre=rw("top"),Ore=rw("right"),Dre=rw("bottom"),kre=rw("left"),nw=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,r){return vD(r.filter(Vs))}}},Nre=nw("top-left"),Qre=nw("top-right"),Rre=nw("bottom-right"),zre=nw("bottom-left"),iw=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},jre=iw("top"),Hre=iw("right"),Kre=iw("bottom"),Vre=iw("left"),aw=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,r){return Oy(r)?r.number:0}}},qre=aw("top"),Gre=aw("right"),$re=aw("bottom"),Xre=aw("left"),Zre={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Wre={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},Yre={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(Zi).reduce(function(r,n){return r|Jre(n.value)},0)}},Jre=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},ene={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},tne={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},G_;(function(e){e.NORMAL="normal",e.STRICT="strict"})(G_||(G_={}));var rne={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return G_.STRICT;case"normal":default:return G_.NORMAL}}},nne={name:"line-height",initialValue:"normal",prefix:!1,type:4},XI=function(e,t){return Zi(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:Vs(e)?ma(e,t):t},ine={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:SS.parse(e,t)}},ane={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},f5={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},sw=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},sne=sw("top"),one=sw("right"),lne=sw("bottom"),Ane=sw("left"),une={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(Zi).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},cne={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},ow=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},hne=ow("top"),fne=ow("right"),dne=ow("bottom"),pne=ow("left"),mne={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},gne={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},yne={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&h5(t[0],"none")?[]:Eh(t).map(function(r){for(var n={color:sf.TRANSPARENT,offsetX:sl,offsetY:sl,blur:sl},s=0,A=0;A<r.length;A++){var f=r[A];bd(f)?(s===0?n.offsetX=f:s===1?n.offsetY=f:n.blur=f,s++):n.color=md.parse(e,f)}return n})}},vne={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},_ne={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var r=xne[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return r(t.values)}return null}},bne=function(e){var t=e.filter(function(r){return r.type===17}).map(function(r){return r.number});return t.length===6?t:null},wne=function(e){var t=e.filter(function(y){return y.type===17}).map(function(y){return y.number}),r=t[0],n=t[1];t[2],t[3];var s=t[4],A=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var f=t[12],l=t[13];return t[14],t[15],t.length===16?[r,n,s,A,f,l]:null},xne={matrix:bne,matrix3d:wne},ZI={type:16,number:50,flags:Py},Bne=[ZI,ZI],Cne={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var r=t.filter(Vs);return r.length!==2?Bne:[r[0],r[1]]}},Sne={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Q0;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(Q0||(Q0={}));var Ene={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return Q0.BREAK_ALL;case"keep-all":return Q0.KEEP_ALL;case"normal":default:return Q0.NORMAL}}},Tne={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(fg(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},OD={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},Ine={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return fg(t)?t.number:1}},Fne={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Lne={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(Zi).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},Une={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var r=[],n=[];return t.forEach(function(s){switch(s.type){case 20:case 0:r.push(s.value);break;case 17:r.push(s.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(s){return s.indexOf(" ")===-1?s:"'"+s+"'"})}},Mne={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Pne={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(fg(t))return t.number;if(Zi(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},One={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(Zi).map(function(r){return r.value})}},Dne={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},fo=function(e,t){return(e&t)!==0},kne={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t}},Nne={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;for(var n=[],s=t.filter(yD),A=0;A<s.length;A++){var f=s[A],l=s[A+1];if(f.type===20){var y=l&&fg(l)?l.number:1;n.push({counter:f.value,increment:y})}}return n}},Qne={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var r=[],n=t.filter(yD),s=0;s<n.length;s++){var A=n[s],f=n[s+1];if(Zi(A)&&A.value!=="none"){var l=f&&fg(f)?f.number:0;r.push({counter:A.value,reset:l})}}return r}},Rne={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(Oy).map(function(r){return OD.parse(e,r)})}},zne={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;var n=[],s=t.filter(fre);if(s.length%2!==0)return null;for(var A=0;A<s.length;A+=2){var f=s[A].value,l=s[A+1].value;n.push({open:f,close:l})}return n}},WI=function(e,t,r){if(!e)return"";var n=e[Math.min(t,e.length-1)];return n?r?n.open:n.close:""},jne={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&h5(t[0],"none")?[]:Eh(t).map(function(r){for(var n={color:255,offsetX:sl,offsetY:sl,blur:sl,spread:sl,inset:!1},s=0,A=0;A<r.length;A++){var f=r[A];h5(f,"inset")?n.inset=!0:bd(f)?(s===0?n.offsetX=f:s===1?n.offsetY=f:s===2?n.blur=f:n.spread=f,s++):n.color=md.parse(e,f)}return n})}},Hne={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var r=[0,1,2],n=[];return t.filter(Zi).forEach(function(s){switch(s.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(s){n.indexOf(s)===-1&&n.push(s)}),n}},Kne={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Vne={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Oy(t)?t.number:0}},qne=(function(){function e(t,r){var n,s;this.animationDuration=xr(t,Rne,r.animationDuration),this.backgroundClip=xr(t,mre,r.backgroundClip),this.backgroundColor=xr(t,gre,r.backgroundColor),this.backgroundImage=xr(t,Ere,r.backgroundImage),this.backgroundOrigin=xr(t,Tre,r.backgroundOrigin),this.backgroundPosition=xr(t,Ire,r.backgroundPosition),this.backgroundRepeat=xr(t,Fre,r.backgroundRepeat),this.backgroundSize=xr(t,Ure,r.backgroundSize),this.borderTopColor=xr(t,Pre,r.borderTopColor),this.borderRightColor=xr(t,Ore,r.borderRightColor),this.borderBottomColor=xr(t,Dre,r.borderBottomColor),this.borderLeftColor=xr(t,kre,r.borderLeftColor),this.borderTopLeftRadius=xr(t,Nre,r.borderTopLeftRadius),this.borderTopRightRadius=xr(t,Qre,r.borderTopRightRadius),this.borderBottomRightRadius=xr(t,Rre,r.borderBottomRightRadius),this.borderBottomLeftRadius=xr(t,zre,r.borderBottomLeftRadius),this.borderTopStyle=xr(t,jre,r.borderTopStyle),this.borderRightStyle=xr(t,Hre,r.borderRightStyle),this.borderBottomStyle=xr(t,Kre,r.borderBottomStyle),this.borderLeftStyle=xr(t,Vre,r.borderLeftStyle),this.borderTopWidth=xr(t,qre,r.borderTopWidth),this.borderRightWidth=xr(t,Gre,r.borderRightWidth),this.borderBottomWidth=xr(t,$re,r.borderBottomWidth),this.borderLeftWidth=xr(t,Xre,r.borderLeftWidth),this.boxShadow=xr(t,jne,r.boxShadow),this.color=xr(t,Zre,r.color),this.direction=xr(t,Wre,r.direction),this.display=xr(t,Yre,r.display),this.float=xr(t,ene,r.cssFloat),this.fontFamily=xr(t,Une,r.fontFamily),this.fontSize=xr(t,Mne,r.fontSize),this.fontStyle=xr(t,Dne,r.fontStyle),this.fontVariant=xr(t,One,r.fontVariant),this.fontWeight=xr(t,Pne,r.fontWeight),this.letterSpacing=xr(t,tne,r.letterSpacing),this.lineBreak=xr(t,rne,r.lineBreak),this.lineHeight=xr(t,nne,r.lineHeight),this.listStyleImage=xr(t,ine,r.listStyleImage),this.listStylePosition=xr(t,ane,r.listStylePosition),this.listStyleType=xr(t,f5,r.listStyleType),this.marginTop=xr(t,sne,r.marginTop),this.marginRight=xr(t,one,r.marginRight),this.marginBottom=xr(t,lne,r.marginBottom),this.marginLeft=xr(t,Ane,r.marginLeft),this.opacity=xr(t,Ine,r.opacity);var A=xr(t,une,r.overflow);this.overflowX=A[0],this.overflowY=A[A.length>1?1:0],this.overflowWrap=xr(t,cne,r.overflowWrap),this.paddingTop=xr(t,hne,r.paddingTop),this.paddingRight=xr(t,fne,r.paddingRight),this.paddingBottom=xr(t,dne,r.paddingBottom),this.paddingLeft=xr(t,pne,r.paddingLeft),this.paintOrder=xr(t,Hne,r.paintOrder),this.position=xr(t,gne,r.position),this.textAlign=xr(t,mne,r.textAlign),this.textDecorationColor=xr(t,Fne,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=xr(t,Lne,(s=r.textDecorationLine)!==null&&s!==void 0?s:r.textDecoration),this.textShadow=xr(t,yne,r.textShadow),this.textTransform=xr(t,vne,r.textTransform),this.transform=xr(t,_ne,r.transform),this.transformOrigin=xr(t,Cne,r.transformOrigin),this.visibility=xr(t,Sne,r.visibility),this.webkitTextStrokeColor=xr(t,Kne,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=xr(t,Vne,r.webkitTextStrokeWidth),this.wordBreak=xr(t,Ene,r.wordBreak),this.zIndex=xr(t,Tne,r.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return gd(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return fo(this.display,4)||fo(this.display,33554432)||fo(this.display,268435456)||fo(this.display,536870912)||fo(this.display,67108864)||fo(this.display,134217728)},e})(),Gne=(function(){function e(t,r){this.content=xr(t,kne,r.content),this.quotes=xr(t,zne,r.quotes)}return e})(),YI=(function(){function e(t,r){this.counterIncrement=xr(t,Nne,r.counterIncrement),this.counterReset=xr(t,Qne,r.counterReset)}return e})(),xr=function(e,t,r){var n=new mD,s=r!==null&&typeof r<"u"?r.toString():t.initialValue;n.write(s);var A=new gD(n.read());switch(t.type){case 2:var f=A.parseComponentValue();return t.parse(e,Zi(f)?f.value:t.initialValue);case 0:return t.parse(e,A.parseComponentValue());case 1:return t.parse(e,A.parseComponentValues());case 4:return A.parseComponentValue();case 3:switch(t.format){case"angle":return ew.parse(e,A.parseComponentValue());case"color":return md.parse(e,A.parseComponentValue());case"image":return SS.parse(e,A.parseComponentValue());case"length":var l=A.parseComponentValue();return bd(l)?l:sl;case"length-percentage":var y=A.parseComponentValue();return Vs(y)?y:sl;case"time":return OD.parse(e,A.parseComponentValue())}break}},$ne="data-html2canvas-debug",Xne=function(e){var t=e.getAttribute($ne);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},d5=function(e,t){var r=Xne(e);return r===1||t===r},Th=(function(){function e(t,r){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,d5(r,3))debugger;this.styles=new qne(t,window.getComputedStyle(r,null)),g5(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=Yb(this.context,r),d5(r,4)&&(this.flags|=16)}return e})(),Zne="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",JI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",P0=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var g1=0;g1<JI.length;g1++)P0[JI.charCodeAt(g1)]=g1;var Wne=function(e){var t=e.length*.75,r=e.length,n,s=0,A,f,l,y;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var b=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),w=Array.isArray(b)?b:new Uint8Array(b);for(n=0;n<r;n+=4)A=P0[e.charCodeAt(n)],f=P0[e.charCodeAt(n+1)],l=P0[e.charCodeAt(n+2)],y=P0[e.charCodeAt(n+3)],w[s++]=A<<2|f>>4,w[s++]=(f&15)<<4|l>>2,w[s++]=(l&3)<<6|y&63;return b},Yne=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},Jne=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},Sp=5,ES=11,g2=2,eie=ES-Sp,DD=65536>>Sp,tie=1<<Sp,y2=tie-1,rie=1024>>Sp,nie=DD+rie,iie=nie,aie=32,sie=iie+aie,oie=65536>>ES,lie=1<<eie,Aie=lie-1,eF=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},uie=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},cie=function(e,t){var r=Wne(e),n=Array.isArray(r)?Jne(r):new Uint32Array(r),s=Array.isArray(r)?Yne(r):new Uint16Array(r),A=24,f=eF(s,A/2,n[4]/2),l=n[5]===2?eF(s,(A+n[4])/2):uie(n,Math.ceil((A+n[4])/4));return new hie(n[0],n[1],n[2],n[3],f,l)},hie=(function(){function e(t,r,n,s,A,f){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=s,this.index=A,this.data=f}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>Sp],r=(r<<g2)+(t&y2),this.data[r];if(t<=65535)return r=this.index[DD+(t-55296>>Sp)],r=(r<<g2)+(t&y2),this.data[r];if(t<this.highStart)return r=sie-oie+(t>>ES),r=this.index[r],r+=t>>Sp&Aie,r=this.index[r],r=(r<<g2)+(t&y2),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e})(),tF="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fie=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var y1=0;y1<tF.length;y1++)fie[tF.charCodeAt(y1)]=y1;var die=1,v2=2,_2=3,rF=4,nF=5,pie=7,iF=8,b2=9,w2=10,aF=11,sF=12,oF=13,lF=14,x2=15,mie=function(e){for(var t=[],r=0,n=e.length;r<n;){var s=e.charCodeAt(r++);if(s>=55296&&s<=56319&&r<n){var A=e.charCodeAt(r++);(A&64512)===56320?t.push(((s&1023)<<10)+(A&1023)+65536):(t.push(s),r--)}else t.push(s)}return t},gie=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],s=-1,A="";++s<r;){var f=e[s];f<=65535?n.push(f):(f-=65536,n.push((f>>10)+55296,f%1024+56320)),(s+1===r||n.length>16384)&&(A+=String.fromCharCode.apply(String,n),n.length=0)}return A},yie=cie(Zne),tc="",B2="",vie=function(e){return yie.get(e)},_ie=function(e,t,r){var n=r-2,s=t[n],A=t[r-1],f=t[r];if(A===v2&&f===_2)return tc;if(A===v2||A===_2||A===rF||f===v2||f===_2||f===rF)return B2;if(A===iF&&[iF,b2,aF,sF].indexOf(f)!==-1||(A===aF||A===b2)&&(f===b2||f===w2)||(A===sF||A===w2)&&f===w2||f===oF||f===nF||f===pie||A===die)return tc;if(A===oF&&f===lF){for(;s===nF;)s=t[--n];if(s===lF)return tc}if(A===x2&&f===x2){for(var l=0;s===x2;)l++,s=t[--n];if(l%2===0)return tc}return B2},bie=function(e){var t=mie(e),r=t.length,n=0,s=0,A=t.map(vie);return{next:function(){if(n>=r)return{done:!0,value:null};for(var f=tc;n<r&&(f=_ie(t,A,++n))===tc;);if(f!==tc||n===r){var l=gie.apply(null,t.slice(s,n));return s=n,{value:l,done:!1}}return{done:!0,value:null}}}},wie=function(e){for(var t=bie(e),r=[],n;!(n=t.next()).done;)n.value&&r.push(n.value.slice());return r},xie=function(e){var t=123;if(e.createRange){var r=e.createRange();if(r.getBoundingClientRect){var n=e.createElement("boundtest");n.style.height=t+"px",n.style.display="block",e.body.appendChild(n),r.selectNode(n);var s=r.getBoundingClientRect(),A=Math.round(s.height);if(e.body.removeChild(n),A===t)return!0}}return!1},Bie=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var r=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=t.firstChild,s=Jb(n.data).map(function(y){return Cs(y)}),A=0,f={},l=s.every(function(y,b){r.setStart(n,A),r.setEnd(n,A+y.length);var w=r.getBoundingClientRect();A+=y.length;var C=w.x>f.x||w.y>f.y;return f=w,b===0?!0:C});return e.body.removeChild(t),l},Cie=function(){return typeof new Image().crossOrigin<"u"},Sie=function(){return typeof new XMLHttpRequest().responseType=="string"},Eie=function(e){var t=new Image,r=e.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(t,0,0),r.toDataURL()}catch{return!1}return!0},AF=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},Tie=function(e){var t=e.createElement("canvas"),r=100;t.width=r,t.height=r;var n=t.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var s=new Image,A=t.toDataURL();s.src=A;var f=p5(r,r,0,0,s);return n.fillStyle="red",n.fillRect(0,0,r,r),uF(f).then(function(l){n.drawImage(l,0,0);var y=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var b=e.createElement("div");return b.style.backgroundImage="url("+A+")",b.style.height=r+"px",AF(y)?uF(p5(r,r,0,0,b)):Promise.reject(!1)}).then(function(l){return n.drawImage(l,0,0),AF(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},p5=function(e,t,r,n,s){var A="http://www.w3.org/2000/svg",f=document.createElementNS(A,"svg"),l=document.createElementNS(A,"foreignObject");return f.setAttributeNS(null,"width",e.toString()),f.setAttributeNS(null,"height",t.toString()),l.setAttributeNS(null,"width","100%"),l.setAttributeNS(null,"height","100%"),l.setAttributeNS(null,"x",r.toString()),l.setAttributeNS(null,"y",n.toString()),l.setAttributeNS(null,"externalResourcesRequired","true"),f.appendChild(l),l.appendChild(s),f},uF=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){return t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},il={get SUPPORT_RANGE_BOUNDS(){var e=xie(document);return Object.defineProperty(il,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=il.SUPPORT_RANGE_BOUNDS&&Bie(document);return Object.defineProperty(il,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=Eie(document);return Object.defineProperty(il,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?Tie(document):Promise.resolve(!1);return Object.defineProperty(il,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=Cie();return Object.defineProperty(il,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=Sie();return Object.defineProperty(il,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(il,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(il,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},R0=(function(){function e(t,r){this.text=t,this.bounds=r}return e})(),Iie=function(e,t,r,n){var s=Uie(t,r),A=[],f=0;return s.forEach(function(l){if(r.textDecorationLine.length||l.trim().length>0)if(il.SUPPORT_RANGE_BOUNDS){var y=cF(n,f,l.length).getClientRects();if(y.length>1){var b=TS(l),w=0;b.forEach(function(F){A.push(new R0(F,df.fromDOMRectList(e,cF(n,w+f,F.length).getClientRects()))),w+=F.length})}else A.push(new R0(l,df.fromDOMRectList(e,y)))}else{var C=n.splitText(l.length);A.push(new R0(l,Fie(e,n))),n=C}else il.SUPPORT_RANGE_BOUNDS||(n=n.splitText(l.length));f+=l.length}),A},Fie=function(e,t){var r=t.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(t.cloneNode(!0));var s=t.parentNode;if(s){s.replaceChild(n,t);var A=Yb(e,n);return n.firstChild&&s.replaceChild(n.firstChild,n),A}}return df.EMPTY},cF=function(e,t,r){var n=e.ownerDocument;if(!n)throw new Error("Node has no owner document");var s=n.createRange();return s.setStart(e,t),s.setEnd(e,t+r),s},TS=function(e){if(il.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(r){return r.segment})}return wie(e)},Lie=function(e,t){if(il.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(e)).map(function(n){return n.segment})}return Pie(e,t)},Uie=function(e,t){return t.letterSpacing!==0?TS(e):Lie(e,t)},Mie=[32,160,4961,65792,65793,4153,4241],Pie=function(e,t){for(var r=ote(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),n=[],s,A=function(){if(s.value){var f=s.value.slice(),l=Jb(f),y="";l.forEach(function(b){Mie.indexOf(b)===-1?y+=Cs(b):(y.length&&n.push(y),n.push(Cs(b)),y="")}),y.length&&n.push(y)}};!(s=r.next()).done;)A();return n},Oie=(function(){function e(t,r,n){this.text=Die(r.data,n.textTransform),this.textBounds=Iie(t,this.text,n,r)}return e})(),Die=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(kie,Nie);case 2:return e.toUpperCase();default:return e}},kie=/(^|\s|:|-|\(|\))([a-z])/g,Nie=function(e,t,r){return e.length>0?t+r.toUpperCase():e},kD=(function(e){Hc(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.src=n.currentSrc||n.src,s.intrinsicWidth=n.naturalWidth,s.intrinsicHeight=n.naturalHeight,s.context.cache.addImage(s.src),s}return t})(Th),ND=(function(e){Hc(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.canvas=n,s.intrinsicWidth=n.width,s.intrinsicHeight=n.height,s}return t})(Th),QD=(function(e){Hc(t,e);function t(r,n){var s=e.call(this,r,n)||this,A=new XMLSerializer,f=Yb(r,n);return n.setAttribute("width",f.width+"px"),n.setAttribute("height",f.height+"px"),s.svg="data:image/svg+xml,"+encodeURIComponent(A.serializeToString(n)),s.intrinsicWidth=n.width.baseVal.value,s.intrinsicHeight=n.height.baseVal.value,s.context.cache.addImage(s.svg),s}return t})(Th),RD=(function(e){Hc(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.value=n.value,s}return t})(Th),m5=(function(e){Hc(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.start=n.start,s.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,s}return t})(Th),Qie=[{type:15,flags:0,unit:"px",number:3}],Rie=[{type:16,flags:0,number:50}],zie=function(e){return e.width>e.height?new df(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new df(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},jie=function(e){var t=e.type===Hie?new Array(e.value.length+1).join(""):e.value;return t.length===0?e.placeholder||"":t},$_="checkbox",X_="radio",Hie="password",hF=707406591,IS=(function(e){Hc(t,e);function t(r,n){var s=e.call(this,r,n)||this;switch(s.type=n.type.toLowerCase(),s.checked=n.checked,s.value=jie(n),(s.type===$_||s.type===X_)&&(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=zie(s.bounds)),s.type){case $_:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=Qie;break;case X_:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=Rie;break}return s}return t})(Th),zD=(function(e){Hc(t,e);function t(r,n){var s=e.call(this,r,n)||this,A=n.options[n.selectedIndex||0];return s.value=A&&A.text||"",s}return t})(Th),jD=(function(e){Hc(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.value=n.value,s}return t})(Th),HD=(function(e){Hc(t,e);function t(r,n){var s=e.call(this,r,n)||this;s.src=n.src,s.width=parseInt(n.width,10)||0,s.height=parseInt(n.height,10)||0,s.backgroundColor=s.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){s.tree=VD(r,n.contentWindow.document.documentElement);var A=n.contentWindow.document.documentElement?N0(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):sf.TRANSPARENT,f=n.contentWindow.document.body?N0(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):sf.TRANSPARENT;s.backgroundColor=gd(A)?gd(f)?s.styles.backgroundColor:f:A}}catch{}return s}return t})(Th),Kie=["OL","UL","MENU"],R1=function(e,t,r,n){for(var s=t.firstChild,A=void 0;s;s=A)if(A=s.nextSibling,qD(s)&&s.data.trim().length>0)r.textNodes.push(new Oie(e,s,r.styles));else if(km(s))if(ZD(s)&&s.assignedNodes)s.assignedNodes().forEach(function(l){return R1(e,l,r,n)});else{var f=KD(e,s);f.styles.isVisible()&&(Vie(s,f,n)?f.flags|=4:qie(f.styles)&&(f.flags|=2),Kie.indexOf(s.tagName)!==-1&&(f.flags|=8),r.elements.push(f),s.slot,s.shadowRoot?R1(e,s.shadowRoot,f,n):!Z_(s)&&!GD(s)&&!W_(s)&&R1(e,s,f,n))}},KD=function(e,t){return y5(t)?new kD(e,t):$D(t)?new ND(e,t):GD(t)?new QD(e,t):Gie(t)?new RD(e,t):$ie(t)?new m5(e,t):Xie(t)?new IS(e,t):W_(t)?new zD(e,t):Z_(t)?new jD(e,t):XD(t)?new HD(e,t):new Th(e,t)},VD=function(e,t){var r=KD(e,t);return r.flags|=4,R1(e,t,r,r),r},Vie=function(e,t,r){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||FS(e)&&r.styles.isTransparent()},qie=function(e){return e.isPositioned()||e.isFloating()},qD=function(e){return e.nodeType===Node.TEXT_NODE},km=function(e){return e.nodeType===Node.ELEMENT_NODE},g5=function(e){return km(e)&&typeof e.style<"u"&&!z1(e)},z1=function(e){return typeof e.className=="object"},Gie=function(e){return e.tagName==="LI"},$ie=function(e){return e.tagName==="OL"},Xie=function(e){return e.tagName==="INPUT"},Zie=function(e){return e.tagName==="HTML"},GD=function(e){return e.tagName==="svg"},FS=function(e){return e.tagName==="BODY"},$D=function(e){return e.tagName==="CANVAS"},fF=function(e){return e.tagName==="VIDEO"},y5=function(e){return e.tagName==="IMG"},XD=function(e){return e.tagName==="IFRAME"},dF=function(e){return e.tagName==="STYLE"},Wie=function(e){return e.tagName==="SCRIPT"},Z_=function(e){return e.tagName==="TEXTAREA"},W_=function(e){return e.tagName==="SELECT"},ZD=function(e){return e.tagName==="SLOT"},pF=function(e){return e.tagName.indexOf("-")>0},Yie=(function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(t){var r=this.counters[t];return r&&r.length?r[r.length-1]:1},e.prototype.getCounterValues=function(t){var r=this.counters[t];return r||[]},e.prototype.pop=function(t){var r=this;t.forEach(function(n){return r.counters[n].pop()})},e.prototype.parse=function(t){var r=this,n=t.counterIncrement,s=t.counterReset,A=!0;n!==null&&n.forEach(function(l){var y=r.counters[l.counter];y&&l.increment!==0&&(A=!1,y.length||y.push(1),y[Math.max(0,y.length-1)]+=l.increment)});var f=[];return A&&s.forEach(function(l){var y=r.counters[l.counter];f.push(l.counter),y||(y=r.counters[l.counter]=[]),y.push(l.reset)}),f},e})(),mF={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},gF={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Jie={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},eae={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Bm=function(e,t,r,n,s,A){return e<t||e>r?ly(e,s,A.length>0):n.integers.reduce(function(f,l,y){for(;e>=l;)e-=l,f+=n.values[y];return f},"")+A},WD=function(e,t,r,n){var s="";do r||e--,s=n(e)+s,e/=t;while(e*t>=t);return s},xs=function(e,t,r,n,s){var A=r-t+1;return(e<0?"-":"")+(WD(Math.abs(e),A,n,function(f){return Cs(Math.floor(f%A)+t)})+s)},Ap=function(e,t,r){r===void 0&&(r=". ");var n=t.length;return WD(Math.abs(e),n,!1,function(s){return t[Math.floor(s%n)]})+r},Lm=1,ad=2,sd=4,O0=8,Gh=function(e,t,r,n,s,A){if(e<-9999||e>9999)return ly(e,4,s.length>0);var f=Math.abs(e),l=s;if(f===0)return t[0]+l;for(var y=0;f>0&&y<=4;y++){var b=f%10;b===0&&fo(A,Lm)&&l!==""?l=t[b]+l:b>1||b===1&&y===0||b===1&&y===1&&fo(A,ad)||b===1&&y===1&&fo(A,sd)&&e>100||b===1&&y>1&&fo(A,O0)?l=t[b]+(y>0?r[y-1]:"")+l:b===1&&y>0&&(l=r[y-1]+l),f=Math.floor(f/10)}return(e<0?n:"")+l},yF="",vF="",_F="",C2="",ly=function(e,t,r){var n=r?". ":"",s=r?"":"",A=r?", ":"",f=r?" ":"";switch(t){case 0:return""+f;case 1:return""+f;case 2:return""+f;case 5:var l=xs(e,48,57,!0,n);return l.length<4?"0"+l:l;case 4:return Ap(e,"",s);case 6:return Bm(e,1,3999,mF,3,n).toLowerCase();case 7:return Bm(e,1,3999,mF,3,n);case 8:return xs(e,945,969,!1,n);case 9:return xs(e,97,122,!1,n);case 10:return xs(e,65,90,!1,n);case 11:return xs(e,1632,1641,!0,n);case 12:case 49:return Bm(e,1,9999,gF,3,n);case 35:return Bm(e,1,9999,gF,3,n).toLowerCase();case 13:return xs(e,2534,2543,!0,n);case 14:case 30:return xs(e,6112,6121,!0,n);case 15:return Ap(e,"",s);case 16:return Ap(e,"",s);case 17:case 48:return Gh(e,"",yF,"",s,ad|sd|O0);case 47:return Gh(e,"",vF,"",s,Lm|ad|sd|O0);case 42:return Gh(e,"",yF,"",s,ad|sd|O0);case 41:return Gh(e,"",vF,"",s,Lm|ad|sd|O0);case 26:return Gh(e,"","",_F,s,0);case 25:return Gh(e,"","",_F,s,Lm|ad|sd);case 31:return Gh(e,"","",C2,A,Lm|ad|sd);case 33:return Gh(e,"","",C2,A,0);case 32:return Gh(e,"","",C2,A,Lm|ad|sd);case 18:return xs(e,2406,2415,!0,n);case 20:return Bm(e,1,19999,eae,3,n);case 21:return xs(e,2790,2799,!0,n);case 22:return xs(e,2662,2671,!0,n);case 22:return Bm(e,1,10999,Jie,3,n);case 23:return Ap(e,"");case 24:return Ap(e,"");case 27:return xs(e,3302,3311,!0,n);case 28:return Ap(e,"",s);case 29:return Ap(e,"",s);case 34:return xs(e,3792,3801,!0,n);case 37:return xs(e,6160,6169,!0,n);case 38:return xs(e,4160,4169,!0,n);case 39:return xs(e,2918,2927,!0,n);case 40:return xs(e,1776,1785,!0,n);case 43:return xs(e,3046,3055,!0,n);case 44:return xs(e,3174,3183,!0,n);case 45:return xs(e,3664,3673,!0,n);case 46:return xs(e,3872,3881,!0,n);case 3:default:return xs(e,48,57,!0,n)}},YD="data-html2canvas-ignore",bF=(function(){function e(t,r,n){if(this.context=t,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new Yie,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(t,r){var n=this,s=tae(t,r);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var A=t.defaultView.pageXOffset,f=t.defaultView.pageYOffset,l=s.contentWindow,y=l.document,b=iae(s).then(function(){return fA(n,void 0,void 0,function(){var w,C;return Rl(this,function(F){switch(F.label){case 0:return this.scrolledElements.forEach(lae),l&&(l.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(l.scrollY!==r.top||l.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-r.left,l.scrollY-r.top,0,0))),w=this.options.onclone,C=this.clonedReferenceElement,typeof C>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:y.fonts&&y.fonts.ready?[4,y.fonts.ready]:[3,2];case 1:F.sent(),F.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,nae(y)]:[3,4];case 3:F.sent(),F.label=4;case 4:return typeof w=="function"?[2,Promise.resolve().then(function(){return w(y,C)}).then(function(){return s})]:[2,s]}})})});return y.open(),y.write(sae(document.doctype)+"<html></html>"),oae(this.referenceElement.ownerDocument,A,f),y.replaceChild(y.adoptNode(this.documentElement),y.documentElement),y.close(),b},e.prototype.createElementClone=function(t){if(d5(t,2))debugger;if($D(t))return this.createCanvasClone(t);if(fF(t))return this.createVideoClone(t);if(dF(t))return this.createStyleClone(t);var r=t.cloneNode(!1);return y5(r)&&(y5(t)&&t.currentSrc&&t.currentSrc!==t.src&&(r.src=t.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),pF(r)?this.createCustomElementClone(r):r},e.prototype.createCustomElementClone=function(t){var r=document.createElement("html2canvascustomelement");return S2(t.style,r),r},e.prototype.createStyleClone=function(t){try{var r=t.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(A,f){return f&&typeof f.cssText=="string"?A+f.cssText:A},""),s=t.cloneNode(!1);return s.textContent=n,s}}catch(A){if(this.context.logger.error("Unable to access cssRules property",A),A.name!=="SecurityError")throw A}return t.cloneNode(!1)},e.prototype.createCanvasClone=function(t){var r;if(this.options.inlineImages&&t.ownerDocument){var n=t.ownerDocument.createElement("img");try{return n.src=t.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var s=t.cloneNode(!1);try{s.width=t.width,s.height=t.height;var A=t.getContext("2d"),f=s.getContext("2d");if(f)if(!this.options.allowTaint&&A)f.putImageData(A.getImageData(0,0,t.width,t.height),0,0);else{var l=(r=t.getContext("webgl2"))!==null&&r!==void 0?r:t.getContext("webgl");if(l){var y=l.getContextAttributes();y?.preserveDrawingBuffer===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}f.drawImage(t,0,0)}return s}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return s},e.prototype.createVideoClone=function(t){var r=t.ownerDocument.createElement("canvas");r.width=t.offsetWidth,r.height=t.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(t,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var s=t.ownerDocument.createElement("canvas");return s.width=t.offsetWidth,s.height=t.offsetHeight,s},e.prototype.appendChildNode=function(t,r,n){(!km(r)||!Wie(r)&&!r.hasAttribute(YD)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!km(r)||!dF(r))&&t.appendChild(this.cloneNode(r,n))},e.prototype.cloneChildNodes=function(t,r,n){for(var s=this,A=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;A;A=A.nextSibling)if(km(A)&&ZD(A)&&typeof A.assignedNodes=="function"){var f=A.assignedNodes();f.length&&f.forEach(function(l){return s.appendChildNode(r,l,n)})}else this.appendChildNode(r,A,n)},e.prototype.cloneNode=function(t,r){if(qD(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var n=t.ownerDocument.defaultView;if(n&&km(t)&&(g5(t)||z1(t))){var s=this.createElementClone(t);s.style.transitionProperty="none";var A=n.getComputedStyle(t),f=n.getComputedStyle(t,":before"),l=n.getComputedStyle(t,":after");this.referenceElement===t&&g5(s)&&(this.clonedReferenceElement=s),FS(s)&&cae(s);var y=this.counters.parse(new YI(this.context,A)),b=this.resolvePseudoContent(t,s,f,z0.BEFORE);pF(t)&&(r=!0),fF(t)||this.cloneChildNodes(t,s,r),b&&s.insertBefore(b,s.firstChild);var w=this.resolvePseudoContent(t,s,l,z0.AFTER);return w&&s.appendChild(w),this.counters.pop(y),(A&&(this.options.copyStyles||z1(t))&&!XD(t)||r)&&S2(A,s),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([s,t.scrollLeft,t.scrollTop]),(Z_(t)||W_(t))&&(Z_(s)||W_(s))&&(s.value=t.value),s}return t.cloneNode(!1)},e.prototype.resolvePseudoContent=function(t,r,n,s){var A=this;if(n){var f=n.content,l=r.ownerDocument;if(!(!l||!f||f==="none"||f==="-moz-alt-content"||n.display==="none")){this.counters.parse(new YI(this.context,n));var y=new Gne(this.context,n),b=l.createElement("html2canvaspseudoelement");S2(n,b),y.content.forEach(function(C){if(C.type===0)b.appendChild(l.createTextNode(C.value));else if(C.type===22){var F=l.createElement("img");F.src=C.value,F.style.opacity="1",b.appendChild(F)}else if(C.type===18){if(C.name==="attr"){var T=C.values.filter(Zi);T.length&&b.appendChild(l.createTextNode(t.getAttribute(T[0].value)||""))}else if(C.name==="counter"){var j=C.values.filter(rg),k=j[0],H=j[1];if(k&&Zi(k)){var K=A.counters.getCounterValue(k.value),Y=H&&Zi(H)?f5.parse(A.context,H.value):3;b.appendChild(l.createTextNode(ly(K,Y,!1)))}}else if(C.name==="counters"){var W=C.values.filter(rg),k=W[0],ae=W[1],H=W[2];if(k&&Zi(k)){var Ae=A.counters.getCounterValues(k.value),pe=H&&Zi(H)?f5.parse(A.context,H.value):3,Be=ae&&ae.type===0?ae.value:"",Fe=Ae.map(function(se){return ly(se,pe,!1)}).join(Be);b.appendChild(l.createTextNode(Fe))}}}else if(C.type===20)switch(C.value){case"open-quote":b.appendChild(l.createTextNode(WI(y.quotes,A.quoteDepth++,!0)));break;case"close-quote":b.appendChild(l.createTextNode(WI(y.quotes,--A.quoteDepth,!1)));break;default:b.appendChild(l.createTextNode(C.value))}}),b.className=v5+" "+_5;var w=s===z0.BEFORE?" "+v5:" "+_5;return z1(r)?r.className.baseValue+=w:r.className+=w,b}}},e.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},e})(),z0;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(z0||(z0={}));var tae=function(e,t){var r=e.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=t.width.toString(),r.height=t.height.toString(),r.scrolling="no",r.setAttribute(YD,"true"),e.body.appendChild(r),r},rae=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},nae=function(e){return Promise.all([].slice.call(e.images,0).map(rae))},iae=function(e){return new Promise(function(t,r){var n=e.contentWindow;if(!n)return r("No window assigned for iframe");var s=n.document;n.onload=e.onload=function(){n.onload=e.onload=null;var A=setInterval(function(){s.body.childNodes.length>0&&s.readyState==="complete"&&(clearInterval(A),t(e))},50)}})},aae=["all","d","content"],S2=function(e,t){for(var r=e.length-1;r>=0;r--){var n=e.item(r);aae.indexOf(n)===-1&&t.style.setProperty(n,e.getPropertyValue(n))}return t},sae=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},oae=function(e,t,r){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||r!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,r)},lae=function(e){var t=e[0],r=e[1],n=e[2];t.scrollLeft=r,t.scrollTop=n},Aae=":before",uae=":after",v5="___html2canvas___pseudoelement_before",_5="___html2canvas___pseudoelement_after",wF=`{
    content: "" !important;
    display: none !important;
}`,cae=function(e){hae(e,"."+v5+Aae+wF+`
         .`+_5+uae+wF)},hae=function(e,t){var r=e.ownerDocument;if(r){var n=r.createElement("style");n.textContent=t,e.appendChild(n)}},JD=(function(){function e(){}return e.getOrigin=function(t){var r=e._link;return r?(r.href=t,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e})(),fae=(function(){function e(t,r){this.context=t,this._options=r,this._cache={}}return e.prototype.addImage=function(t){var r=Promise.resolve();return this.has(t)||(T2(t)||gae(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),r},e.prototype.match=function(t){return this._cache[t]},e.prototype.loadImage=function(t){return fA(this,void 0,void 0,function(){var r,n,s,A,f=this;return Rl(this,function(l){switch(l.label){case 0:return r=JD.isSameOrigin(t),n=!E2(t)&&this._options.useCORS===!0&&il.SUPPORT_CORS_IMAGES&&!r,s=!E2(t)&&!r&&!T2(t)&&typeof this._options.proxy=="string"&&il.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!E2(t)&&!T2(t)&&!s&&!n?[2]:(A=t,s?[4,this.proxy(A)]:[3,2]);case 1:A=l.sent(),l.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(y,b){var w=new Image;w.onload=function(){return y(w)},w.onerror=b,(yae(A)||n)&&(w.crossOrigin="anonymous"),w.src=A,w.complete===!0&&setTimeout(function(){return y(w)},500),f._options.imageTimeout>0&&setTimeout(function(){return b("Timed out ("+f._options.imageTimeout+"ms) loading image")},f._options.imageTimeout)})];case 3:return[2,l.sent()]}})})},e.prototype.has=function(t){return typeof this._cache[t]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(t){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var s=t.substring(0,256);return new Promise(function(A,f){var l=il.SUPPORT_RESPONSE_TYPE?"blob":"text",y=new XMLHttpRequest;y.onload=function(){if(y.status===200)if(l==="text")A(y.response);else{var C=new FileReader;C.addEventListener("load",function(){return A(C.result)},!1),C.addEventListener("error",function(F){return f(F)},!1),C.readAsDataURL(y.response)}else f("Failed to proxy resource "+s+" with status code "+y.status)},y.onerror=f;var b=n.indexOf("?")>-1?"&":"?";if(y.open("GET",""+n+b+"url="+encodeURIComponent(t)+"&responseType="+l),l!=="text"&&y instanceof XMLHttpRequest&&(y.responseType=l),r._options.imageTimeout){var w=r._options.imageTimeout;y.timeout=w,y.ontimeout=function(){return f("Timed out ("+w+"ms) proxying "+s)}}y.send()})},e})(),dae=/^data:image\/svg\+xml/i,pae=/^data:image\/.*;base64,/i,mae=/^data:image\/.*/i,gae=function(e){return il.SUPPORT_SVG_DRAWING||!vae(e)},E2=function(e){return mae.test(e)},yae=function(e){return pae.test(e)},T2=function(e){return e.substr(0,4)==="blob"},vae=function(e){return e.substr(-3).toLowerCase()==="svg"||dae.test(e)},mr=(function(){function e(t,r){this.type=0,this.x=t,this.y=r}return e.prototype.add=function(t,r){return new e(this.x+t,this.y+r)},e})(),Cm=function(e,t,r){return new mr(e.x+(t.x-e.x)*r,e.y+(t.y-e.y)*r)},v1=(function(){function e(t,r,n,s){this.type=1,this.start=t,this.startControl=r,this.endControl=n,this.end=s}return e.prototype.subdivide=function(t,r){var n=Cm(this.start,this.startControl,t),s=Cm(this.startControl,this.endControl,t),A=Cm(this.endControl,this.end,t),f=Cm(n,s,t),l=Cm(s,A,t),y=Cm(f,l,t);return r?new e(this.start,n,f,y):new e(y,l,A,this.end)},e.prototype.add=function(t,r){return new e(this.start.add(t,r),this.startControl.add(t,r),this.endControl.add(t,r),this.end.add(t,r))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e})(),rc=function(e){return e.type===1},_ae=(function(){function e(t){var r=t.styles,n=t.bounds,s=M0(r.borderTopLeftRadius,n.width,n.height),A=s[0],f=s[1],l=M0(r.borderTopRightRadius,n.width,n.height),y=l[0],b=l[1],w=M0(r.borderBottomRightRadius,n.width,n.height),C=w[0],F=w[1],T=M0(r.borderBottomLeftRadius,n.width,n.height),j=T[0],k=T[1],H=[];H.push((A+y)/n.width),H.push((j+C)/n.width),H.push((f+k)/n.height),H.push((b+F)/n.height);var K=Math.max.apply(Math,H);K>1&&(A/=K,f/=K,y/=K,b/=K,C/=K,F/=K,j/=K,k/=K);var Y=n.width-y,W=n.height-F,ae=n.width-C,Ae=n.height-k,pe=r.borderTopWidth,Be=r.borderRightWidth,Fe=r.borderBottomWidth,me=r.borderLeftWidth,He=ma(r.paddingTop,t.bounds.width),se=ma(r.paddingRight,t.bounds.width),de=ma(r.paddingBottom,t.bounds.width),Le=ma(r.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=A>0||f>0?Pa(n.left+me/3,n.top+pe/3,A-me/3,f-pe/3,Li.TOP_LEFT):new mr(n.left+me/3,n.top+pe/3),this.topRightBorderDoubleOuterBox=A>0||f>0?Pa(n.left+Y,n.top+pe/3,y-Be/3,b-pe/3,Li.TOP_RIGHT):new mr(n.left+n.width-Be/3,n.top+pe/3),this.bottomRightBorderDoubleOuterBox=C>0||F>0?Pa(n.left+ae,n.top+W,C-Be/3,F-Fe/3,Li.BOTTOM_RIGHT):new mr(n.left+n.width-Be/3,n.top+n.height-Fe/3),this.bottomLeftBorderDoubleOuterBox=j>0||k>0?Pa(n.left+me/3,n.top+Ae,j-me/3,k-Fe/3,Li.BOTTOM_LEFT):new mr(n.left+me/3,n.top+n.height-Fe/3),this.topLeftBorderDoubleInnerBox=A>0||f>0?Pa(n.left+me*2/3,n.top+pe*2/3,A-me*2/3,f-pe*2/3,Li.TOP_LEFT):new mr(n.left+me*2/3,n.top+pe*2/3),this.topRightBorderDoubleInnerBox=A>0||f>0?Pa(n.left+Y,n.top+pe*2/3,y-Be*2/3,b-pe*2/3,Li.TOP_RIGHT):new mr(n.left+n.width-Be*2/3,n.top+pe*2/3),this.bottomRightBorderDoubleInnerBox=C>0||F>0?Pa(n.left+ae,n.top+W,C-Be*2/3,F-Fe*2/3,Li.BOTTOM_RIGHT):new mr(n.left+n.width-Be*2/3,n.top+n.height-Fe*2/3),this.bottomLeftBorderDoubleInnerBox=j>0||k>0?Pa(n.left+me*2/3,n.top+Ae,j-me*2/3,k-Fe*2/3,Li.BOTTOM_LEFT):new mr(n.left+me*2/3,n.top+n.height-Fe*2/3),this.topLeftBorderStroke=A>0||f>0?Pa(n.left+me/2,n.top+pe/2,A-me/2,f-pe/2,Li.TOP_LEFT):new mr(n.left+me/2,n.top+pe/2),this.topRightBorderStroke=A>0||f>0?Pa(n.left+Y,n.top+pe/2,y-Be/2,b-pe/2,Li.TOP_RIGHT):new mr(n.left+n.width-Be/2,n.top+pe/2),this.bottomRightBorderStroke=C>0||F>0?Pa(n.left+ae,n.top+W,C-Be/2,F-Fe/2,Li.BOTTOM_RIGHT):new mr(n.left+n.width-Be/2,n.top+n.height-Fe/2),this.bottomLeftBorderStroke=j>0||k>0?Pa(n.left+me/2,n.top+Ae,j-me/2,k-Fe/2,Li.BOTTOM_LEFT):new mr(n.left+me/2,n.top+n.height-Fe/2),this.topLeftBorderBox=A>0||f>0?Pa(n.left,n.top,A,f,Li.TOP_LEFT):new mr(n.left,n.top),this.topRightBorderBox=y>0||b>0?Pa(n.left+Y,n.top,y,b,Li.TOP_RIGHT):new mr(n.left+n.width,n.top),this.bottomRightBorderBox=C>0||F>0?Pa(n.left+ae,n.top+W,C,F,Li.BOTTOM_RIGHT):new mr(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=j>0||k>0?Pa(n.left,n.top+Ae,j,k,Li.BOTTOM_LEFT):new mr(n.left,n.top+n.height),this.topLeftPaddingBox=A>0||f>0?Pa(n.left+me,n.top+pe,Math.max(0,A-me),Math.max(0,f-pe),Li.TOP_LEFT):new mr(n.left+me,n.top+pe),this.topRightPaddingBox=y>0||b>0?Pa(n.left+Math.min(Y,n.width-Be),n.top+pe,Y>n.width+Be?0:Math.max(0,y-Be),Math.max(0,b-pe),Li.TOP_RIGHT):new mr(n.left+n.width-Be,n.top+pe),this.bottomRightPaddingBox=C>0||F>0?Pa(n.left+Math.min(ae,n.width-me),n.top+Math.min(W,n.height-Fe),Math.max(0,C-Be),Math.max(0,F-Fe),Li.BOTTOM_RIGHT):new mr(n.left+n.width-Be,n.top+n.height-Fe),this.bottomLeftPaddingBox=j>0||k>0?Pa(n.left+me,n.top+Math.min(Ae,n.height-Fe),Math.max(0,j-me),Math.max(0,k-Fe),Li.BOTTOM_LEFT):new mr(n.left+me,n.top+n.height-Fe),this.topLeftContentBox=A>0||f>0?Pa(n.left+me+Le,n.top+pe+He,Math.max(0,A-(me+Le)),Math.max(0,f-(pe+He)),Li.TOP_LEFT):new mr(n.left+me+Le,n.top+pe+He),this.topRightContentBox=y>0||b>0?Pa(n.left+Math.min(Y,n.width+me+Le),n.top+pe+He,Y>n.width+me+Le?0:y-me+Le,b-(pe+He),Li.TOP_RIGHT):new mr(n.left+n.width-(Be+se),n.top+pe+He),this.bottomRightContentBox=C>0||F>0?Pa(n.left+Math.min(ae,n.width-(me+Le)),n.top+Math.min(W,n.height+pe+He),Math.max(0,C-(Be+se)),F-(Fe+de),Li.BOTTOM_RIGHT):new mr(n.left+n.width-(Be+se),n.top+n.height-(Fe+de)),this.bottomLeftContentBox=j>0||k>0?Pa(n.left+me+Le,n.top+Ae,Math.max(0,j-(me+Le)),k-(Fe+de),Li.BOTTOM_LEFT):new mr(n.left+me+Le,n.top+n.height-(Fe+de))}return e})(),Li;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Li||(Li={}));var Pa=function(e,t,r,n,s){var A=4*((Math.sqrt(2)-1)/3),f=r*A,l=n*A,y=e+r,b=t+n;switch(s){case Li.TOP_LEFT:return new v1(new mr(e,b),new mr(e,b-l),new mr(y-f,t),new mr(y,t));case Li.TOP_RIGHT:return new v1(new mr(e,t),new mr(e+f,t),new mr(y,b-l),new mr(y,b));case Li.BOTTOM_RIGHT:return new v1(new mr(y,t),new mr(y,t+l),new mr(e+f,b),new mr(e,b));case Li.BOTTOM_LEFT:default:return new v1(new mr(y,b),new mr(y-f,b),new mr(e,t+l),new mr(e,t))}},Y_=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},bae=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},J_=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},wae=(function(){function e(t,r,n){this.offsetX=t,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return e})(),_1=(function(){function e(t,r){this.path=t,this.target=r,this.type=1}return e})(),xae=(function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e})(),Bae=function(e){return e.type===0},ek=function(e){return e.type===1},Cae=function(e){return e.type===2},xF=function(e,t){return e.length===t.length?e.some(function(r,n){return r===t[n]}):!1},Sae=function(e,t,r,n,s){return e.map(function(A,f){switch(f){case 0:return A.add(t,r);case 1:return A.add(t+n,r);case 2:return A.add(t+n,r+s);case 3:return A.add(t,r+s)}return A})},tk=(function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e})(),rk=(function(){function e(t,r){if(this.container=t,this.parent=r,this.effects=[],this.curves=new _ae(this.container),this.container.styles.opacity<1&&this.effects.push(new xae(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,s=this.container.bounds.top+this.container.styles.transformOrigin[1].number,A=this.container.styles.transform;this.effects.push(new wae(n,s,A))}if(this.container.styles.overflowX!==0){var f=Y_(this.curves),l=J_(this.curves);xF(f,l)?this.effects.push(new _1(f,6)):(this.effects.push(new _1(f,2)),this.effects.push(new _1(l,4)))}}return e.prototype.getEffects=function(t){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,s=this.effects.slice(0);n;){var A=n.effects.filter(function(y){return!ek(y)});if(r||n.container.styles.position!==0||!n.parent){if(s.unshift.apply(s,A),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var f=Y_(n.curves),l=J_(n.curves);xF(f,l)||s.unshift(new _1(l,6))}}else s.unshift.apply(s,A);n=n.parent}return s.filter(function(y){return fo(y.target,t)})},e})(),b5=function(e,t,r,n){e.container.elements.forEach(function(s){var A=fo(s.flags,4),f=fo(s.flags,2),l=new rk(s,e);fo(s.styles.display,2048)&&n.push(l);var y=fo(s.flags,8)?[]:n;if(A||f){var b=A||s.styles.isPositioned()?r:t,w=new tk(l);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var C=s.styles.zIndex.order;if(C<0){var F=0;b.negativeZIndex.some(function(j,k){return C>j.element.container.styles.zIndex.order?(F=k,!1):F>0}),b.negativeZIndex.splice(F,0,w)}else if(C>0){var T=0;b.positiveZIndex.some(function(j,k){return C>=j.element.container.styles.zIndex.order?(T=k+1,!1):T>0}),b.positiveZIndex.splice(T,0,w)}else b.zeroOrAutoZIndexOrTransformedOrOpacity.push(w)}else s.styles.isFloating()?b.nonPositionedFloats.push(w):b.nonPositionedInlineLevel.push(w);b5(l,w,A?w:r,y)}else s.styles.isInlineLevel()?t.inlineLevel.push(l):t.nonInlineLevel.push(l),b5(l,t,r,y);fo(s.flags,8)&&nk(s,y)})},nk=function(e,t){for(var r=e instanceof m5?e.start:1,n=e instanceof m5?e.reversed:!1,s=0;s<t.length;s++){var A=t[s];A.container instanceof RD&&typeof A.container.value=="number"&&A.container.value!==0&&(r=A.container.value),A.listValue=ly(r,A.container.styles.listStyleType,!0),r+=n?-1:1}},Eae=function(e){var t=new rk(e,null),r=new tk(t),n=[];return b5(t,r,r,n),nk(t.container,n),r},BF=function(e,t){switch(t){case 0:return ac(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return ac(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return ac(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return ac(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},Tae=function(e,t){switch(t){case 0:return ac(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return ac(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return ac(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return ac(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},Iae=function(e,t){switch(t){case 0:return ac(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return ac(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return ac(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return ac(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},Fae=function(e,t){switch(t){case 0:return b1(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return b1(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return b1(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return b1(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},b1=function(e,t){var r=[];return rc(e)?r.push(e.subdivide(.5,!1)):r.push(e),rc(t)?r.push(t.subdivide(.5,!0)):r.push(t),r},ac=function(e,t,r,n){var s=[];return rc(e)?s.push(e.subdivide(.5,!1)):s.push(e),rc(r)?s.push(r.subdivide(.5,!0)):s.push(r),rc(n)?s.push(n.subdivide(.5,!0).reverse()):s.push(n),rc(t)?s.push(t.subdivide(.5,!1).reverse()):s.push(t),s},ik=function(e){var t=e.bounds,r=e.styles;return t.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},eb=function(e){var t=e.styles,r=e.bounds,n=ma(t.paddingLeft,r.width),s=ma(t.paddingRight,r.width),A=ma(t.paddingTop,r.width),f=ma(t.paddingBottom,r.width);return r.add(n+t.borderLeftWidth,A+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+n+s),-(t.borderTopWidth+t.borderBottomWidth+A+f))},Lae=function(e,t){return e===0?t.bounds:e===2?eb(t):ik(t)},Uae=function(e,t){return e===0?t.bounds:e===2?eb(t):ik(t)},I2=function(e,t,r){var n=Lae(Um(e.styles.backgroundOrigin,t),e),s=Uae(Um(e.styles.backgroundClip,t),e),A=Mae(Um(e.styles.backgroundSize,t),r,n),f=A[0],l=A[1],y=M0(Um(e.styles.backgroundPosition,t),n.width-f,n.height-l),b=Pae(Um(e.styles.backgroundRepeat,t),y,A,n,s),w=Math.round(n.left+y[0]),C=Math.round(n.top+y[1]);return[b,w,C,f,l]},Sm=function(e){return Zi(e)&&e.value===zm.AUTO},w1=function(e){return typeof e=="number"},Mae=function(e,t,r){var n=t[0],s=t[1],A=t[2],f=e[0],l=e[1];if(!f)return[0,0];if(Vs(f)&&l&&Vs(l))return[ma(f,r.width),ma(l,r.height)];var y=w1(A);if(Zi(f)&&(f.value===zm.CONTAIN||f.value===zm.COVER)){if(w1(A)){var b=r.width/r.height;return b<A!=(f.value===zm.COVER)?[r.width,r.width/A]:[r.height*A,r.height]}return[r.width,r.height]}var w=w1(n),C=w1(s),F=w||C;if(Sm(f)&&(!l||Sm(l))){if(w&&C)return[n,s];if(!y&&!F)return[r.width,r.height];if(F&&y){var T=w?n:s*A,j=C?s:n/A;return[T,j]}var k=w?n:r.width,H=C?s:r.height;return[k,H]}if(y){var K=0,Y=0;return Vs(f)?K=ma(f,r.width):Vs(l)&&(Y=ma(l,r.height)),Sm(f)?K=Y*A:(!l||Sm(l))&&(Y=K/A),[K,Y]}var W=null,ae=null;if(Vs(f)?W=ma(f,r.width):l&&Vs(l)&&(ae=ma(l,r.height)),W!==null&&(!l||Sm(l))&&(ae=w&&C?W/n*s:r.height),ae!==null&&Sm(f)&&(W=w&&C?ae/s*n:r.width),W!==null&&ae!==null)return[W,ae];throw new Error("Unable to calculate background-size for element")},Um=function(e,t){var r=e[t];return typeof r>"u"?e[0]:r},Pae=function(e,t,r,n,s){var A=t[0],f=t[1],l=r[0],y=r[1];switch(e){case 2:return[new mr(Math.round(n.left),Math.round(n.top+f)),new mr(Math.round(n.left+n.width),Math.round(n.top+f)),new mr(Math.round(n.left+n.width),Math.round(y+n.top+f)),new mr(Math.round(n.left),Math.round(y+n.top+f))];case 3:return[new mr(Math.round(n.left+A),Math.round(n.top)),new mr(Math.round(n.left+A+l),Math.round(n.top)),new mr(Math.round(n.left+A+l),Math.round(n.height+n.top)),new mr(Math.round(n.left+A),Math.round(n.height+n.top))];case 1:return[new mr(Math.round(n.left+A),Math.round(n.top+f)),new mr(Math.round(n.left+A+l),Math.round(n.top+f)),new mr(Math.round(n.left+A+l),Math.round(n.top+f+y)),new mr(Math.round(n.left+A),Math.round(n.top+f+y))];default:return[new mr(Math.round(s.left),Math.round(s.top)),new mr(Math.round(s.left+s.width),Math.round(s.top)),new mr(Math.round(s.left+s.width),Math.round(s.height+s.top)),new mr(Math.round(s.left),Math.round(s.height+s.top))]}},Oae="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",CF="Hidden Text",Dae=(function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,r){var n=this._document.createElement("div"),s=this._document.createElement("img"),A=this._document.createElement("span"),f=this._document.body;n.style.visibility="hidden",n.style.fontFamily=t,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",f.appendChild(n),s.src=Oae,s.width=1,s.height=1,s.style.margin="0",s.style.padding="0",s.style.verticalAlign="baseline",A.style.fontFamily=t,A.style.fontSize=r,A.style.margin="0",A.style.padding="0",A.appendChild(this._document.createTextNode(CF)),n.appendChild(A),n.appendChild(s);var l=s.offsetTop-A.offsetTop+2;n.removeChild(A),n.appendChild(this._document.createTextNode(CF)),n.style.lineHeight="normal",s.style.verticalAlign="super";var y=s.offsetTop-n.offsetTop+2;return f.removeChild(n),{baseline:l,middle:y}},e.prototype.getMetrics=function(t,r){var n=t+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(t,r)),this._data[n]},e})(),ak=(function(){function e(t,r){this.context=t,this.options=r}return e})(),kae=1e4,Nae=(function(e){Hc(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s._activeEffects=[],s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),n.canvas||(s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px"),s.fontMetrics=new Dae(document),s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.ctx.textBaseline="bottom",s._activeEffects=[],s.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),s}return t.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(s){return n.applyEffect(s)})},t.prototype.applyEffect=function(r){this.ctx.save(),Cae(r)&&(this.ctx.globalAlpha=r.opacity),Bae(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),ek(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(r){return fA(this,void 0,void 0,function(){var n;return Rl(this,function(s){switch(s.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(r){return fA(this,void 0,void 0,function(){return Rl(this,function(n){switch(n.label){case 0:if(fo(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(r,n,s){var A=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+s);else{var f=TS(r.text);f.reduce(function(l,y){return A.ctx.fillText(y,l,r.bounds.top+s),l+A.ctx.measureText(y).width},r.bounds.left)}},t.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(f){return f==="normal"||f==="small-caps"}).join(""),s=Hae(r.fontFamily).join(", "),A=Oy(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,A,s].join(" "),s,A]},t.prototype.renderTextNode=function(r,n){return fA(this,void 0,void 0,function(){var s,A,f,l,y,b,w,C,F=this;return Rl(this,function(T){return s=this.createFontStyle(n),A=s[0],f=s[1],l=s[2],this.ctx.font=A,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",y=this.fontMetrics.getMetrics(f,l),b=y.baseline,w=y.middle,C=n.paintOrder,r.textBounds.forEach(function(j){C.forEach(function(k){switch(k){case 0:F.ctx.fillStyle=Uo(n.color),F.renderTextWithLetterSpacing(j,n.letterSpacing,b);var H=n.textShadow;H.length&&j.text.trim().length&&(H.slice(0).reverse().forEach(function(K){F.ctx.shadowColor=Uo(K.color),F.ctx.shadowOffsetX=K.offsetX.number*F.options.scale,F.ctx.shadowOffsetY=K.offsetY.number*F.options.scale,F.ctx.shadowBlur=K.blur.number,F.renderTextWithLetterSpacing(j,n.letterSpacing,b)}),F.ctx.shadowColor="",F.ctx.shadowOffsetX=0,F.ctx.shadowOffsetY=0,F.ctx.shadowBlur=0),n.textDecorationLine.length&&(F.ctx.fillStyle=Uo(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(K){switch(K){case 1:F.ctx.fillRect(j.bounds.left,Math.round(j.bounds.top+b),j.bounds.width,1);break;case 2:F.ctx.fillRect(j.bounds.left,Math.round(j.bounds.top),j.bounds.width,1);break;case 3:F.ctx.fillRect(j.bounds.left,Math.ceil(j.bounds.top+w),j.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&j.text.trim().length&&(F.ctx.strokeStyle=Uo(n.webkitTextStrokeColor),F.ctx.lineWidth=n.webkitTextStrokeWidth,F.ctx.lineJoin=window.chrome?"miter":"round",F.ctx.strokeText(j.text,j.bounds.left,j.bounds.top+b)),F.ctx.strokeStyle="",F.ctx.lineWidth=0,F.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(r,n,s){if(s&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var A=eb(r),f=J_(n);this.path(f),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(s,0,0,r.intrinsicWidth,r.intrinsicHeight,A.left,A.top,A.width,A.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(r){return fA(this,void 0,void 0,function(){var n,s,A,f,l,y,Y,Y,b,w,C,F,ae,T,j,Ae,k,H,K,Y,W,ae,Ae;return Rl(this,function(pe){switch(pe.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,s=r.curves,A=n.styles,f=0,l=n.textNodes,pe.label=1;case 1:return f<l.length?(y=l[f],[4,this.renderTextNode(y,A)]):[3,4];case 2:pe.sent(),pe.label=3;case 3:return f++,[3,1];case 4:if(!(n instanceof kD))return[3,8];pe.label=5;case 5:return pe.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return Y=pe.sent(),this.renderReplacedElement(n,s,Y),[3,8];case 7:return pe.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof ND&&this.renderReplacedElement(n,s,n.canvas),!(n instanceof QD))return[3,12];pe.label=9;case 9:return pe.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return Y=pe.sent(),this.renderReplacedElement(n,s,Y),[3,12];case 11:return pe.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof HD&&n.tree?(b=new t(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,b.render(n.tree)]):[3,14];case 13:w=pe.sent(),n.width&&n.height&&this.ctx.drawImage(w,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),pe.label=14;case 14:if(n instanceof IS&&(C=Math.min(n.bounds.width,n.bounds.height),n.type===$_?n.checked&&(this.ctx.save(),this.path([new mr(n.bounds.left+C*.39363,n.bounds.top+C*.79),new mr(n.bounds.left+C*.16,n.bounds.top+C*.5549),new mr(n.bounds.left+C*.27347,n.bounds.top+C*.44071),new mr(n.bounds.left+C*.39694,n.bounds.top+C*.5649),new mr(n.bounds.left+C*.72983,n.bounds.top+C*.23),new mr(n.bounds.left+C*.84,n.bounds.top+C*.34085),new mr(n.bounds.left+C*.39363,n.bounds.top+C*.79)]),this.ctx.fillStyle=Uo(hF),this.ctx.fill(),this.ctx.restore()):n.type===X_&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+C/2,n.bounds.top+C/2,C/4,0,Math.PI*2,!0),this.ctx.fillStyle=Uo(hF),this.ctx.fill(),this.ctx.restore())),Qae(n)&&n.value.length){switch(F=this.createFontStyle(A),ae=F[0],T=F[1],j=this.fontMetrics.getMetrics(ae,T).baseline,this.ctx.font=ae,this.ctx.fillStyle=Uo(A.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=zae(n.styles.textAlign),Ae=eb(n),k=0,n.styles.textAlign){case 1:k+=Ae.width/2;break;case 2:k+=Ae.width;break}H=Ae.add(k,0,0,-Ae.height/2+1),this.ctx.save(),this.path([new mr(Ae.left,Ae.top),new mr(Ae.left+Ae.width,Ae.top),new mr(Ae.left+Ae.width,Ae.top+Ae.height),new mr(Ae.left,Ae.top+Ae.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new R0(n.value,H),A.letterSpacing,j),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!fo(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(K=n.styles.listStyleImage,K.type!==0)return[3,18];Y=void 0,W=K.url,pe.label=15;case 15:return pe.trys.push([15,17,,18]),[4,this.context.cache.match(W)];case 16:return Y=pe.sent(),this.ctx.drawImage(Y,n.bounds.left-(Y.width+10),n.bounds.top),[3,18];case 17:return pe.sent(),this.context.logger.error("Error loading list-style-image "+W),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(ae=this.createFontStyle(A)[0],this.ctx.font=ae,this.ctx.fillStyle=Uo(A.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",Ae=new df(n.bounds.left,n.bounds.top+ma(n.styles.paddingTop,n.bounds.width),n.bounds.width,XI(A.lineHeight,A.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new R0(r.listValue,Ae),A.letterSpacing,XI(A.lineHeight,A.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),pe.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(r){return fA(this,void 0,void 0,function(){var n,s,K,A,f,K,l,y,K,b,w,K,C,F,K,T,j,K,k,H,K;return Rl(this,function(Y){switch(Y.label){case 0:if(fo(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:Y.sent(),n=0,s=r.negativeZIndex,Y.label=2;case 2:return n<s.length?(K=s[n],[4,this.renderStack(K)]):[3,5];case 3:Y.sent(),Y.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:Y.sent(),A=0,f=r.nonInlineLevel,Y.label=7;case 7:return A<f.length?(K=f[A],[4,this.renderNode(K)]):[3,10];case 8:Y.sent(),Y.label=9;case 9:return A++,[3,7];case 10:l=0,y=r.nonPositionedFloats,Y.label=11;case 11:return l<y.length?(K=y[l],[4,this.renderStack(K)]):[3,14];case 12:Y.sent(),Y.label=13;case 13:return l++,[3,11];case 14:b=0,w=r.nonPositionedInlineLevel,Y.label=15;case 15:return b<w.length?(K=w[b],[4,this.renderStack(K)]):[3,18];case 16:Y.sent(),Y.label=17;case 17:return b++,[3,15];case 18:C=0,F=r.inlineLevel,Y.label=19;case 19:return C<F.length?(K=F[C],[4,this.renderNode(K)]):[3,22];case 20:Y.sent(),Y.label=21;case 21:return C++,[3,19];case 22:T=0,j=r.zeroOrAutoZIndexOrTransformedOrOpacity,Y.label=23;case 23:return T<j.length?(K=j[T],[4,this.renderStack(K)]):[3,26];case 24:Y.sent(),Y.label=25;case 25:return T++,[3,23];case 26:k=0,H=r.positiveZIndex,Y.label=27;case 27:return k<H.length?(K=H[k],[4,this.renderStack(K)]):[3,30];case 28:Y.sent(),Y.label=29;case 29:return k++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},t.prototype.formatPath=function(r){var n=this;r.forEach(function(s,A){var f=rc(s)?s.start:s;A===0?n.ctx.moveTo(f.x,f.y):n.ctx.lineTo(f.x,f.y),rc(s)&&n.ctx.bezierCurveTo(s.startControl.x,s.startControl.y,s.endControl.x,s.endControl.y,s.end.x,s.end.y)})},t.prototype.renderRepeat=function(r,n,s,A){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(s,A),this.ctx.fill(),this.ctx.translate(-s,-A)},t.prototype.resizeImage=function(r,n,s){var A;if(r.width===n&&r.height===s)return r;var f=(A=this.canvas.ownerDocument)!==null&&A!==void 0?A:document,l=f.createElement("canvas");l.width=Math.max(1,n),l.height=Math.max(1,s);var y=l.getContext("2d");return y.drawImage(r,0,0,r.width,r.height,0,0,n,s),l},t.prototype.renderBackgroundImage=function(r){return fA(this,void 0,void 0,function(){var n,s,A,f,l,y;return Rl(this,function(b){switch(b.label){case 0:n=r.styles.backgroundImage.length-1,s=function(w){var C,F,T,He,Oe,Ne,Le,Ue,Fe,j,He,Oe,Ne,Le,Ue,k,H,K,Y,W,ae,Ae,pe,Be,Fe,me,He,se,de,Le,Ue,nt,Oe,Ne,Ve,De,ot,be,re,ye,Ie,ke;return Rl(this,function($e){switch($e.label){case 0:if(w.type!==0)return[3,5];C=void 0,F=w.url,$e.label=1;case 1:return $e.trys.push([1,3,,4]),[4,A.context.cache.match(F)];case 2:return C=$e.sent(),[3,4];case 3:return $e.sent(),A.context.logger.error("Error loading background-image "+F),[3,4];case 4:return C&&(T=I2(r,n,[C.width,C.height,C.width/C.height]),He=T[0],Oe=T[1],Ne=T[2],Le=T[3],Ue=T[4],Fe=A.ctx.createPattern(A.resizeImage(C,Le,Ue),"repeat"),A.renderRepeat(He,Fe,Oe,Ne)),[3,6];case 5:Bre(w)?(j=I2(r,n,[null,null,null]),He=j[0],Oe=j[1],Ne=j[2],Le=j[3],Ue=j[4],k=vre(w.angle,Le,Ue),H=k[0],K=k[1],Y=k[2],W=k[3],ae=k[4],Ae=document.createElement("canvas"),Ae.width=Le,Ae.height=Ue,pe=Ae.getContext("2d"),Be=pe.createLinearGradient(K,W,Y,ae),GI(w.stops,H).forEach(function(Je){return Be.addColorStop(Je.stop,Uo(Je.color))}),pe.fillStyle=Be,pe.fillRect(0,0,Le,Ue),Le>0&&Ue>0&&(Fe=A.ctx.createPattern(Ae,"repeat"),A.renderRepeat(He,Fe,Oe,Ne))):Cre(w)&&(me=I2(r,n,[null,null,null]),He=me[0],se=me[1],de=me[2],Le=me[3],Ue=me[4],nt=w.position.length===0?[CS]:w.position,Oe=ma(nt[0],Le),Ne=ma(nt[nt.length-1],Ue),Ve=_re(w,Oe,Ne,Le,Ue),De=Ve[0],ot=Ve[1],De>0&&ot>0&&(be=A.ctx.createRadialGradient(se+Oe,de+Ne,0,se+Oe,de+Ne,De),GI(w.stops,De*2).forEach(function(Je){return be.addColorStop(Je.stop,Uo(Je.color))}),A.path(He),A.ctx.fillStyle=be,De!==ot?(re=r.bounds.left+.5*r.bounds.width,ye=r.bounds.top+.5*r.bounds.height,Ie=ot/De,ke=1/Ie,A.ctx.save(),A.ctx.translate(re,ye),A.ctx.transform(1,0,0,Ie,0,0),A.ctx.translate(-re,-ye),A.ctx.fillRect(se,ke*(de-ye)+ye,Le,Ue*ke),A.ctx.restore()):A.ctx.fill())),$e.label=6;case 6:return n--,[2]}})},A=this,f=0,l=r.styles.backgroundImage.slice(0).reverse(),b.label=1;case 1:return f<l.length?(y=l[f],[5,s(y)]):[3,4];case 2:b.sent(),b.label=3;case 3:return f++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(r,n,s){return fA(this,void 0,void 0,function(){return Rl(this,function(A){return this.path(BF(s,n)),this.ctx.fillStyle=Uo(r),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(r,n,s,A){return fA(this,void 0,void 0,function(){var f,l;return Rl(this,function(y){switch(y.label){case 0:return n<3?[4,this.renderSolidBorder(r,s,A)]:[3,2];case 1:return y.sent(),[2];case 2:return f=Tae(A,s),this.path(f),this.ctx.fillStyle=Uo(r),this.ctx.fill(),l=Iae(A,s),this.path(l),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(r){return fA(this,void 0,void 0,function(){var n,s,A,f,l,y,b,w,C=this;return Rl(this,function(F){switch(F.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,s=!gd(n.backgroundColor)||n.backgroundImage.length,A=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],f=Rae(Um(n.backgroundClip,0),r.curves),s||n.boxShadow.length?(this.ctx.save(),this.path(f),this.ctx.clip(),gd(n.backgroundColor)||(this.ctx.fillStyle=Uo(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:F.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(T){C.ctx.save();var j=Y_(r.curves),k=T.inset?0:kae,H=Sae(j,-k+(T.inset?1:-1)*T.spread.number,(T.inset?1:-1)*T.spread.number,T.spread.number*(T.inset?-2:2),T.spread.number*(T.inset?-2:2));T.inset?(C.path(j),C.ctx.clip(),C.mask(H)):(C.mask(j),C.ctx.clip(),C.path(H)),C.ctx.shadowOffsetX=T.offsetX.number+k,C.ctx.shadowOffsetY=T.offsetY.number,C.ctx.shadowColor=Uo(T.color),C.ctx.shadowBlur=T.blur.number,C.ctx.fillStyle=T.inset?Uo(T.color):"rgba(0,0,0,1)",C.ctx.fill(),C.ctx.restore()}),F.label=2;case 2:l=0,y=0,b=A,F.label=3;case 3:return y<b.length?(w=b[y],w.style!==0&&!gd(w.color)&&w.width>0?w.style!==2?[3,5]:[4,this.renderDashedDottedBorder(w.color,w.width,l,r.curves,2)]:[3,11]):[3,13];case 4:return F.sent(),[3,11];case 5:return w.style!==3?[3,7]:[4,this.renderDashedDottedBorder(w.color,w.width,l,r.curves,3)];case 6:return F.sent(),[3,11];case 7:return w.style!==4?[3,9]:[4,this.renderDoubleBorder(w.color,w.width,l,r.curves)];case 8:return F.sent(),[3,11];case 9:return[4,this.renderSolidBorder(w.color,l,r.curves)];case 10:F.sent(),F.label=11;case 11:l++,F.label=12;case 12:return y++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(r,n,s,A,f){return fA(this,void 0,void 0,function(){var l,y,b,w,C,F,T,j,k,H,K,Y,W,ae,Ae,pe,Ae,pe;return Rl(this,function(Be){return this.ctx.save(),l=Fae(A,s),y=BF(A,s),f===2&&(this.path(y),this.ctx.clip()),rc(y[0])?(b=y[0].start.x,w=y[0].start.y):(b=y[0].x,w=y[0].y),rc(y[1])?(C=y[1].end.x,F=y[1].end.y):(C=y[1].x,F=y[1].y),s===0||s===2?T=Math.abs(b-C):T=Math.abs(w-F),this.ctx.beginPath(),f===3?this.formatPath(l):this.formatPath(y.slice(0,2)),j=n<3?n*3:n*2,k=n<3?n*2:n,f===3&&(j=n,k=n),H=!0,T<=j*2?H=!1:T<=j*2+k?(K=T/(2*j+k),j*=K,k*=K):(Y=Math.floor((T+k)/(j+k)),W=(T-Y*j)/(Y-1),ae=(T-(Y+1)*j)/Y,k=ae<=0||Math.abs(k-W)<Math.abs(k-ae)?W:ae),H&&(f===3?this.ctx.setLineDash([0,j+k]):this.ctx.setLineDash([j,k])),f===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=Uo(r),this.ctx.stroke(),this.ctx.setLineDash([]),f===2&&(rc(y[0])&&(Ae=y[3],pe=y[0],this.ctx.beginPath(),this.formatPath([new mr(Ae.end.x,Ae.end.y),new mr(pe.start.x,pe.start.y)]),this.ctx.stroke()),rc(y[1])&&(Ae=y[1],pe=y[2],this.ctx.beginPath(),this.formatPath([new mr(Ae.end.x,Ae.end.y),new mr(pe.start.x,pe.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(r){return fA(this,void 0,void 0,function(){var n;return Rl(this,function(s){switch(s.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Uo(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=Eae(r),[4,this.renderStack(n)];case 1:return s.sent(),this.applyEffects([]),[2,this.canvas]}})})},t})(ak),Qae=function(e){return e instanceof jD||e instanceof zD?!0:e instanceof IS&&e.type!==X_&&e.type!==$_},Rae=function(e,t){switch(e){case 0:return Y_(t);case 2:return bae(t);case 1:default:return J_(t)}},zae=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},jae=["-apple-system","system-ui"],Hae=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return jae.indexOf(t)===-1}):e},Kae=(function(e){Hc(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),s.options=n,s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px",s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),s}return t.prototype.render=function(r){return fA(this,void 0,void 0,function(){var n,s;return Rl(this,function(A){switch(A.label){case 0:return n=p5(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,Vae(n)];case 1:return s=A.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Uo(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(s,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t})(ak),Vae=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},qae=(function(){function e(t){var r=t.id,n=t.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,e1([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,e1([this.id,this.getTime()+"ms"],t))},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,e1([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,e1([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.instances={},e})(),Gae=(function(){function e(t,r){var n;this.windowBounds=r,this.instanceName="#"+e.instanceCount++,this.logger=new qae({id:this.instanceName,enabled:t.logging}),this.cache=(n=t.cache)!==null&&n!==void 0?n:new fae(this,t)}return e.instanceCount=1,e})(),w5=function(e,t){return t===void 0&&(t={}),$ae(e,t)};typeof window<"u"&&JD.setContext(window);var $ae=function(e,t){return fA(void 0,void 0,void 0,function(){var r,n,s,A,f,l,y,b,w,C,F,T,j,k,H,K,Y,W,ae,Ae,Be,pe,Be,Fe,me,He,se,de,Le,Ue,nt,Oe,Ne,Ve,De,ot,be,re,ye,Ie;return Rl(this,function(ke){switch(ke.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=e.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return s={allowTaint:(Fe=t.allowTaint)!==null&&Fe!==void 0?Fe:!1,imageTimeout:(me=t.imageTimeout)!==null&&me!==void 0?me:15e3,proxy:t.proxy,useCORS:(He=t.useCORS)!==null&&He!==void 0?He:!1},A=e5({logging:(se=t.logging)!==null&&se!==void 0?se:!0,cache:t.cache},s),f={windowWidth:(de=t.windowWidth)!==null&&de!==void 0?de:n.innerWidth,windowHeight:(Le=t.windowHeight)!==null&&Le!==void 0?Le:n.innerHeight,scrollX:(Ue=t.scrollX)!==null&&Ue!==void 0?Ue:n.pageXOffset,scrollY:(nt=t.scrollY)!==null&&nt!==void 0?nt:n.pageYOffset},l=new df(f.scrollX,f.scrollY,f.windowWidth,f.windowHeight),y=new Gae(A,l),b=(Oe=t.foreignObjectRendering)!==null&&Oe!==void 0?Oe:!1,w={allowTaint:(Ne=t.allowTaint)!==null&&Ne!==void 0?Ne:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:b,copyStyles:b},y.logger.debug("Starting document clone with size "+l.width+"x"+l.height+" scrolled to "+-l.left+","+-l.top),C=new bF(y,e,w),F=C.clonedReferenceElement,F?[4,C.toIFrame(r,l)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return T=ke.sent(),j=FS(F)||Zie(F)?See(F.ownerDocument):Yb(y,F),k=j.width,H=j.height,K=j.left,Y=j.top,W=Xae(y,F,t.backgroundColor),ae={canvas:t.canvas,backgroundColor:W,scale:(De=(Ve=t.scale)!==null&&Ve!==void 0?Ve:n.devicePixelRatio)!==null&&De!==void 0?De:1,x:((ot=t.x)!==null&&ot!==void 0?ot:0)+K,y:((be=t.y)!==null&&be!==void 0?be:0)+Y,width:(re=t.width)!==null&&re!==void 0?re:Math.ceil(k),height:(ye=t.height)!==null&&ye!==void 0?ye:Math.ceil(H)},b?(y.logger.debug("Document cloned, using foreign object rendering"),Be=new Kae(y,ae),[4,Be.render(F)]):[3,3];case 2:return Ae=ke.sent(),[3,5];case 3:return y.logger.debug("Document cloned, element located at "+K+","+Y+" with size "+k+"x"+H+" using computed rendering"),y.logger.debug("Starting DOM parsing"),pe=VD(y,F),W===pe.styles.backgroundColor&&(pe.styles.backgroundColor=sf.TRANSPARENT),y.logger.debug("Starting renderer for element at "+ae.x+","+ae.y+" with size "+ae.width+"x"+ae.height),Be=new Nae(y,ae),[4,Be.render(pe)];case 4:Ae=ke.sent(),ke.label=5;case 5:return(!((Ie=t.removeContainer)!==null&&Ie!==void 0)||Ie)&&(bF.destroy(T)||y.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),y.logger.debug("Finished rendering"),[2,Ae]}})})},Xae=function(e,t,r){var n=t.ownerDocument,s=n.documentElement?N0(e,getComputedStyle(n.documentElement).backgroundColor):sf.TRANSPARENT,A=n.body?N0(e,getComputedStyle(n.body).backgroundColor):sf.TRANSPARENT,f=typeof r=="string"?N0(e,r):r===null?sf.TRANSPARENT:4294967295;return t===n.documentElement?gd(s)?gd(A)?f:A:s:f};const Zae=Object.freeze(Object.defineProperty({__proto__:null,default:w5},Symbol.toStringTag,{value:"Module"})),Wae="modulepreload",Yae=function(e){return"/retc-map/"+e},SF={},F2=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){let y=function(b){return Promise.all(b.map(w=>Promise.resolve(w).then(C=>({status:"fulfilled",value:C}),C=>({status:"rejected",reason:C}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),l=f?.nonce||f?.getAttribute("nonce");s=y(r.map(b=>{if(b=Yae(b),b in SF)return;SF[b]=!0;const w=b.endsWith(".css"),C=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${b}"]${C}`))return;const F=document.createElement("link");if(F.rel=w?"stylesheet":Wae,w||(F.as="script"),F.crossOrigin="",F.href=b,l&&F.setAttribute("nonce",l),document.head.appendChild(F),w)return new Promise((T,j)=>{F.addEventListener("load",T),F.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${b}`)))})}))}function A(f){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=f,window.dispatchEvent(l),!l.defaultPrevented)throw f}return s.then(f=>{for(const l of f||[])l.status==="rejected"&&A(l.reason);return t().catch(A)})};function Ri(e){"@babel/helpers - typeof";return Ri=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ri(e)}var zc=Uint8Array,Eu=Uint16Array,LS=Int32Array,US=new zc([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),MS=new zc([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),EF=new zc([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),sk=function(e,t){for(var r=new Eu(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var s=new LS(r[30]),n=1;n<30;++n)for(var A=r[n];A<r[n+1];++A)s[A]=A-r[n]<<5|n;return{b:r,r:s}},ok=sk(US,2),Jae=ok.b,x5=ok.r;Jae[28]=258,x5[258]=28;var ese=sk(MS,0),TF=ese.r,B5=new Eu(32768);for(var Sa=0;Sa<32768;++Sa){var nd=(Sa&43690)>>1|(Sa&21845)<<1;nd=(nd&52428)>>2|(nd&13107)<<2,nd=(nd&61680)>>4|(nd&3855)<<4,B5[Sa]=((nd&65280)>>8|(nd&255)<<8)>>1}var j0=(function(e,t,r){for(var n=e.length,s=0,A=new Eu(t);s<n;++s)e[s]&&++A[e[s]-1];var f=new Eu(t);for(s=1;s<t;++s)f[s]=f[s-1]+A[s-1]<<1;var l;if(r){l=new Eu(1<<t);var y=15-t;for(s=0;s<n;++s)if(e[s])for(var b=s<<4|e[s],w=t-e[s],C=f[e[s]-1]++<<w,F=C|(1<<w)-1;C<=F;++C)l[B5[C]>>y]=b}else for(l=new Eu(n),s=0;s<n;++s)e[s]&&(l[s]=B5[f[e[s]-1]++]>>15-e[s]);return l}),Pp=new zc(288);for(var Sa=0;Sa<144;++Sa)Pp[Sa]=8;for(var Sa=144;Sa<256;++Sa)Pp[Sa]=9;for(var Sa=256;Sa<280;++Sa)Pp[Sa]=7;for(var Sa=280;Sa<288;++Sa)Pp[Sa]=8;var tb=new zc(32);for(var Sa=0;Sa<32;++Sa)tb[Sa]=5;var tse=j0(Pp,9,0),rse=j0(tb,5,0),lk=function(e){return(e+7)/8|0},nse=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new zc(e.subarray(t,r))},$h=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},C0=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},L2=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var s=r.length,A=r.slice();if(!s)return{t:uk,l:0};if(s==1){var f=new zc(r[0].s+1);return f[r[0].s]=1,{t:f,l:1}}r.sort(function(Ae,pe){return Ae.f-pe.f}),r.push({s:-1,f:25001});var l=r[0],y=r[1],b=0,w=1,C=2;for(r[0]={s:-1,f:l.f+y.f,l,r:y};w!=s-1;)l=r[r[b].f<r[C].f?b++:C++],y=r[b!=w&&r[b].f<r[C].f?b++:C++],r[w++]={s:-1,f:l.f+y.f,l,r:y};for(var F=A[0].s,n=1;n<s;++n)A[n].s>F&&(F=A[n].s);var T=new Eu(F+1),j=C5(r[w-1],T,0);if(j>t){var n=0,k=0,H=j-t,K=1<<H;for(A.sort(function(pe,Be){return T[Be.s]-T[pe.s]||pe.f-Be.f});n<s;++n){var Y=A[n].s;if(T[Y]>t)k+=K-(1<<j-T[Y]),T[Y]=t;else break}for(k>>=H;k>0;){var W=A[n].s;T[W]<t?k-=1<<t-T[W]++-1:++n}for(;n>=0&&k;--n){var ae=A[n].s;T[ae]==t&&(--T[ae],++k)}j=t}return{t:new zc(T),l:j}},C5=function(e,t,r){return e.s==-1?Math.max(C5(e.l,t,r+1),C5(e.r,t,r+1)):t[e.s]=r},IF=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Eu(++t),n=0,s=e[0],A=1,f=function(y){r[n++]=y},l=1;l<=t;++l)if(e[l]==s&&l!=t)++A;else{if(!s&&A>2){for(;A>138;A-=138)f(32754);A>2&&(f(A>10?A-11<<5|28690:A-3<<5|12305),A=0)}else if(A>3){for(f(s),--A;A>6;A-=6)f(8304);A>2&&(f(A-3<<5|8208),A=0)}for(;A--;)f(s);A=1,s=e[l]}return{c:r.subarray(0,n),n:t}},S0=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},Ak=function(e,t,r){var n=r.length,s=lk(t+2);e[s]=n&255,e[s+1]=n>>8,e[s+2]=e[s]^255,e[s+3]=e[s+1]^255;for(var A=0;A<n;++A)e[s+A+4]=r[A];return(s+4+n)*8},FF=function(e,t,r,n,s,A,f,l,y,b,w){$h(t,w++,r),++s[256];for(var C=L2(s,15),F=C.t,T=C.l,j=L2(A,15),k=j.t,H=j.l,K=IF(F),Y=K.c,W=K.n,ae=IF(k),Ae=ae.c,pe=ae.n,Be=new Eu(19),Fe=0;Fe<Y.length;++Fe)++Be[Y[Fe]&31];for(var Fe=0;Fe<Ae.length;++Fe)++Be[Ae[Fe]&31];for(var me=L2(Be,7),He=me.t,se=me.l,de=19;de>4&&!He[EF[de-1]];--de);var Le=b+5<<3,Ue=S0(s,Pp)+S0(A,tb)+f,nt=S0(s,F)+S0(A,k)+f+14+3*de+S0(Be,He)+2*Be[16]+3*Be[17]+7*Be[18];if(y>=0&&Le<=Ue&&Le<=nt)return Ak(t,w,e.subarray(y,y+b));var Oe,Ne,Ve,De;if($h(t,w,1+(nt<Ue)),w+=2,nt<Ue){Oe=j0(F,T,0),Ne=F,Ve=j0(k,H,0),De=k;var ot=j0(He,se,0);$h(t,w,W-257),$h(t,w+5,pe-1),$h(t,w+10,de-4),w+=14;for(var Fe=0;Fe<de;++Fe)$h(t,w+3*Fe,He[EF[Fe]]);w+=3*de;for(var be=[Y,Ae],re=0;re<2;++re)for(var ye=be[re],Fe=0;Fe<ye.length;++Fe){var Ie=ye[Fe]&31;$h(t,w,ot[Ie]),w+=He[Ie],Ie>15&&($h(t,w,ye[Fe]>>5&127),w+=ye[Fe]>>12)}}else Oe=tse,Ne=Pp,Ve=rse,De=tb;for(var Fe=0;Fe<l;++Fe){var ke=n[Fe];if(ke>255){var Ie=ke>>18&31;C0(t,w,Oe[Ie+257]),w+=Ne[Ie+257],Ie>7&&($h(t,w,ke>>23&31),w+=US[Ie]);var $e=ke&31;C0(t,w,Ve[$e]),w+=De[$e],$e>3&&(C0(t,w,ke>>5&8191),w+=MS[$e])}else C0(t,w,Oe[ke]),w+=Ne[ke]}return C0(t,w,Oe[256]),w+Ne[256]},ise=new LS([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),uk=new zc(0),ase=function(e,t,r,n,s,A){var f=A.z||e.length,l=new zc(n+f+5*(1+Math.ceil(f/7e3))+s),y=l.subarray(n,l.length-s),b=A.l,w=(A.r||0)&7;if(t){w&&(y[0]=A.r>>3);for(var C=ise[t-1],F=C>>13,T=C&8191,j=(1<<r)-1,k=A.p||new Eu(32768),H=A.h||new Eu(j+1),K=Math.ceil(r/3),Y=2*K,W=function(Xt){return(e[Xt]^e[Xt+1]<<K^e[Xt+2]<<Y)&j},ae=new LS(25e3),Ae=new Eu(288),pe=new Eu(32),Be=0,Fe=0,me=A.i||0,He=0,se=A.w||0,de=0;me+2<f;++me){var Le=W(me),Ue=me&32767,nt=H[Le];if(k[Ue]=nt,H[Le]=Ue,se<=me){var Oe=f-me;if((Be>7e3||He>24576)&&(Oe>423||!b)){w=FF(e,y,0,ae,Ae,pe,Fe,He,de,me-de,w),He=Be=Fe=0,de=me;for(var Ne=0;Ne<286;++Ne)Ae[Ne]=0;for(var Ne=0;Ne<30;++Ne)pe[Ne]=0}var Ve=2,De=0,ot=T,be=Ue-nt&32767;if(Oe>2&&Le==W(me-be))for(var re=Math.min(F,Oe)-1,ye=Math.min(32767,me),Ie=Math.min(258,Oe);be<=ye&&--ot&&Ue!=nt;){if(e[me+Ve]==e[me+Ve-be]){for(var ke=0;ke<Ie&&e[me+ke]==e[me+ke-be];++ke);if(ke>Ve){if(Ve=ke,De=be,ke>re)break;for(var $e=Math.min(be,ke-2),Je=0,Ne=0;Ne<$e;++Ne){var mt=me-be+Ne&32767,Ke=k[mt],pt=mt-Ke&32767;pt>Je&&(Je=pt,nt=mt)}}}Ue=nt,nt=k[Ue],be+=Ue-nt&32767}if(De){ae[He++]=268435456|x5[Ve]<<18|TF[De];var Ct=x5[Ve]&31,ct=TF[De]&31;Fe+=US[Ct]+MS[ct],++Ae[257+Ct],++pe[ct],se=me+Ve,++Be}else ae[He++]=e[me],++Ae[e[me]]}}for(me=Math.max(me,se);me<f;++me)ae[He++]=e[me],++Ae[e[me]];w=FF(e,y,b,ae,Ae,pe,Fe,He,de,me-de,w),b||(A.r=w&7|y[w/8|0]<<3,w-=7,A.h=H,A.p=k,A.i=me,A.w=se)}else{for(var me=A.w||0;me<f+b;me+=65535){var qt=me+65535;qt>=f&&(y[w/8|0]=b,qt=f),w=Ak(y,w+1,e.subarray(me,qt))}A.i=f}return nse(l,0,n+lk(w)+s)},ck=function(){var e=1,t=0;return{p:function(r){for(var n=e,s=t,A=r.length|0,f=0;f!=A;){for(var l=Math.min(f+2655,A);f<l;++f)s+=n+=r[f];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}e=n,t=s},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},sse=function(e,t,r,n,s){if(!s&&(s={l:1},t.dictionary)){var A=t.dictionary.subarray(-32768),f=new zc(A.length+e.length);f.set(A),f.set(e,A.length),e=f,s.w=A.length}return ase(e,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,s)},hk=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},ose=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var s=ck();s.p(t.dictionary),hk(e,2,s.d())}};function S5(e,t){t||(t={});var r=ck();r.p(e);var n=sse(e,t,t.dictionary?6:2,4);return ose(n,t),hk(n,n.length-4,r.d()),n}var lse=typeof TextDecoder<"u"&&new TextDecoder,Ase=0;try{lse.decode(uk,{stream:!0}),Ase=1}catch{}function use(e){if(Array.isArray(e))return e}function cse(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,A,f,l=[],y=!0,b=!1;try{if(A=(r=r.call(e)).next,t!==0)for(;!(y=(n=A.call(r)).done)&&(l.push(n.value),l.length!==t);y=!0);}catch(w){b=!0,s=w}finally{try{if(!y&&r.return!=null&&(f=r.return(),Object(f)!==f))return}finally{if(b)throw s}}return l}}function LF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function hse(e,t){if(e){if(typeof e=="string")return LF(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?LF(e,t):void 0}}function fse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UF(e,t){return use(e)||cse(e,t)||hse(e,t)||fse()}function MF(e,t="utf8"){return new TextDecoder(t).decode(e)}const dse=new TextEncoder;function pse(e){return dse.encode(e)}const mse=1024*8,gse=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),U2={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class PS{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(t=mse,r={}){let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const s=r.offset?r.offset>>>0:0,A=t.byteLength-s;let f=s;(ArrayBuffer.isView(t)||t instanceof PS)&&(t.byteLength!==t.buffer.byteLength&&(f=t.byteOffset+s),t=t.buffer),n?this.lastWrittenByte=A:this.lastWrittenByte=0,this.buffer=t,this.length=A,this.byteLength=A,this.byteOffset=f,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,f,A),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,s=new Uint8Array(n);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=U2[r].BYTES_PER_ELEMENT*t,s=this.byteOffset+this.offset,A=this.buffer.slice(s,s+n);if(this.littleEndian===gse&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(s,s+n));l.reverse();const y=new U2[r](l.buffer);return this.offset+=n,y.reverse(),y}const f=new U2[r](A);return this.offset+=n,f}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return MF(this.readBytes(t))}decodeText(t=1,r="utf8"){return MF(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(pse(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function dg(e){let t=e.length;for(;--t>=0;)e[t]=0}const yse=3,vse=258,fk=29,_se=256,bse=_se+1+fk,dk=30,wse=512,xse=new Array((bse+2)*2);dg(xse);const Bse=new Array(dk*2);dg(Bse);const Cse=new Array(wse);dg(Cse);const Sse=new Array(vse-yse+1);dg(Sse);const Ese=new Array(fk);dg(Ese);const Tse=new Array(dk);dg(Tse);const Ise=(e,t,r,n)=>{let s=e&65535|0,A=e>>>16&65535|0,f=0;for(;r!==0;){f=r>2e3?2e3:r,r-=f;do s=s+t[n++]|0,A=A+s|0;while(--f);s%=65521,A%=65521}return s|A<<16|0};var E5=Ise;const Fse=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},Lse=new Uint32Array(Fse()),Use=(e,t,r,n)=>{const s=Lse,A=n+r;e^=-1;for(let f=n;f<A;f++)e=e>>>8^s[(e^t[f])&255];return e^-1};var mh=Use,T5={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},pk={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const Mse=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var Pse=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)Mse(r,n)&&(e[n]=r[n])}}return e},Ose=e=>{let t=0;for(let n=0,s=e.length;n<s;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,s=0,A=e.length;n<A;n++){let f=e[n];r.set(f,s),s+=f.length}return r},mk={assign:Pse,flattenChunks:Ose};let gk=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{gk=!1}const Ay=new Uint8Array(256);for(let e=0;e<256;e++)Ay[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Ay[254]=Ay[254]=1;var Dse=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,s,A,f=e.length,l=0;for(s=0;s<f;s++)r=e.charCodeAt(s),(r&64512)===55296&&s+1<f&&(n=e.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(l),A=0,s=0;A<l;s++)r=e.charCodeAt(s),(r&64512)===55296&&s+1<f&&(n=e.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),r<128?t[A++]=r:r<2048?(t[A++]=192|r>>>6,t[A++]=128|r&63):r<65536?(t[A++]=224|r>>>12,t[A++]=128|r>>>6&63,t[A++]=128|r&63):(t[A++]=240|r>>>18,t[A++]=128|r>>>12&63,t[A++]=128|r>>>6&63,t[A++]=128|r&63);return t};const kse=(e,t)=>{if(t<65534&&e.subarray&&gk)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var Nse=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,s;const A=new Array(r*2);for(s=0,n=0;n<r;){let f=e[n++];if(f<128){A[s++]=f;continue}let l=Ay[f];if(l>4){A[s++]=65533,n+=l-1;continue}for(f&=l===2?31:l===3?15:7;l>1&&n<r;)f=f<<6|e[n++]&63,l--;if(l>1){A[s++]=65533;continue}f<65536?A[s++]=f:(f-=65536,A[s++]=55296|f>>10&1023,A[s++]=56320|f&1023)}return kse(A,s)},Qse=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+Ay[e[r]]>t?r:t},I5={string2buf:Dse,buf2string:Nse,utf8border:Qse};function Rse(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zse=Rse;const x1=16209,jse=16191;var Hse=function(t,r){let n,s,A,f,l,y,b,w,C,F,T,j,k,H,K,Y,W,ae,Ae,pe,Be,Fe,me,He;const se=t.state;n=t.next_in,me=t.input,s=n+(t.avail_in-5),A=t.next_out,He=t.output,f=A-(r-t.avail_out),l=A+(t.avail_out-257),y=se.dmax,b=se.wsize,w=se.whave,C=se.wnext,F=se.window,T=se.hold,j=se.bits,k=se.lencode,H=se.distcode,K=(1<<se.lenbits)-1,Y=(1<<se.distbits)-1;e:do{j<15&&(T+=me[n++]<<j,j+=8,T+=me[n++]<<j,j+=8),W=k[T&K];t:for(;;){if(ae=W>>>24,T>>>=ae,j-=ae,ae=W>>>16&255,ae===0)He[A++]=W&65535;else if(ae&16){Ae=W&65535,ae&=15,ae&&(j<ae&&(T+=me[n++]<<j,j+=8),Ae+=T&(1<<ae)-1,T>>>=ae,j-=ae),j<15&&(T+=me[n++]<<j,j+=8,T+=me[n++]<<j,j+=8),W=H[T&Y];r:for(;;){if(ae=W>>>24,T>>>=ae,j-=ae,ae=W>>>16&255,ae&16){if(pe=W&65535,ae&=15,j<ae&&(T+=me[n++]<<j,j+=8,j<ae&&(T+=me[n++]<<j,j+=8)),pe+=T&(1<<ae)-1,pe>y){t.msg="invalid distance too far back",se.mode=x1;break e}if(T>>>=ae,j-=ae,ae=A-f,pe>ae){if(ae=pe-ae,ae>w&&se.sane){t.msg="invalid distance too far back",se.mode=x1;break e}if(Be=0,Fe=F,C===0){if(Be+=b-ae,ae<Ae){Ae-=ae;do He[A++]=F[Be++];while(--ae);Be=A-pe,Fe=He}}else if(C<ae){if(Be+=b+C-ae,ae-=C,ae<Ae){Ae-=ae;do He[A++]=F[Be++];while(--ae);if(Be=0,C<Ae){ae=C,Ae-=ae;do He[A++]=F[Be++];while(--ae);Be=A-pe,Fe=He}}}else if(Be+=C-ae,ae<Ae){Ae-=ae;do He[A++]=F[Be++];while(--ae);Be=A-pe,Fe=He}for(;Ae>2;)He[A++]=Fe[Be++],He[A++]=Fe[Be++],He[A++]=Fe[Be++],Ae-=3;Ae&&(He[A++]=Fe[Be++],Ae>1&&(He[A++]=Fe[Be++]))}else{Be=A-pe;do He[A++]=He[Be++],He[A++]=He[Be++],He[A++]=He[Be++],Ae-=3;while(Ae>2);Ae&&(He[A++]=He[Be++],Ae>1&&(He[A++]=He[Be++]))}}else if((ae&64)===0){W=H[(W&65535)+(T&(1<<ae)-1)];continue r}else{t.msg="invalid distance code",se.mode=x1;break e}break}}else if((ae&64)===0){W=k[(W&65535)+(T&(1<<ae)-1)];continue t}else if(ae&32){se.mode=jse;break e}else{t.msg="invalid literal/length code",se.mode=x1;break e}break}}while(n<s&&A<l);Ae=j>>3,n-=Ae,j-=Ae<<3,T&=(1<<j)-1,t.next_in=n,t.next_out=A,t.avail_in=n<s?5+(s-n):5-(n-s),t.avail_out=A<l?257+(l-A):257-(A-l),se.hold=T,se.bits=j};const Em=15,PF=852,OF=592,DF=0,M2=1,kF=2,Kse=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Vse=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),qse=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Gse=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),$se=(e,t,r,n,s,A,f,l)=>{const y=l.bits;let b=0,w=0,C=0,F=0,T=0,j=0,k=0,H=0,K=0,Y=0,W,ae,Ae,pe,Be,Fe=null,me;const He=new Uint16Array(Em+1),se=new Uint16Array(Em+1);let de=null,Le,Ue,nt;for(b=0;b<=Em;b++)He[b]=0;for(w=0;w<n;w++)He[t[r+w]]++;for(T=y,F=Em;F>=1&&He[F]===0;F--);if(T>F&&(T=F),F===0)return s[A++]=1<<24|64<<16|0,s[A++]=1<<24|64<<16|0,l.bits=1,0;for(C=1;C<F&&He[C]===0;C++);for(T<C&&(T=C),H=1,b=1;b<=Em;b++)if(H<<=1,H-=He[b],H<0)return-1;if(H>0&&(e===DF||F!==1))return-1;for(se[1]=0,b=1;b<Em;b++)se[b+1]=se[b]+He[b];for(w=0;w<n;w++)t[r+w]!==0&&(f[se[t[r+w]]++]=w);if(e===DF?(Fe=de=f,me=20):e===M2?(Fe=Kse,de=Vse,me=257):(Fe=qse,de=Gse,me=0),Y=0,w=0,b=C,Be=A,j=T,k=0,Ae=-1,K=1<<T,pe=K-1,e===M2&&K>PF||e===kF&&K>OF)return 1;for(;;){Le=b-k,f[w]+1<me?(Ue=0,nt=f[w]):f[w]>=me?(Ue=de[f[w]-me],nt=Fe[f[w]-me]):(Ue=96,nt=0),W=1<<b-k,ae=1<<j,C=ae;do ae-=W,s[Be+(Y>>k)+ae]=Le<<24|Ue<<16|nt|0;while(ae!==0);for(W=1<<b-1;Y&W;)W>>=1;if(W!==0?(Y&=W-1,Y+=W):Y=0,w++,--He[b]===0){if(b===F)break;b=t[r+f[w]]}if(b>T&&(Y&pe)!==Ae){for(k===0&&(k=T),Be+=C,j=b-k,H=1<<j;j+k<F&&(H-=He[j+k],!(H<=0));)j++,H<<=1;if(K+=1<<j,e===M2&&K>PF||e===kF&&K>OF)return 1;Ae=Y&pe,s[Ae]=T<<24|j<<16|Be-A|0}}return Y!==0&&(s[Be+Y]=b-k<<24|64<<16|0),l.bits=T,0};var H0=$se;const Xse=0,yk=1,vk=2,{Z_FINISH:NF,Z_BLOCK:Zse,Z_TREES:B1,Z_OK:Op,Z_STREAM_END:Wse,Z_NEED_DICT:Yse,Z_STREAM_ERROR:Ac,Z_DATA_ERROR:_k,Z_MEM_ERROR:bk,Z_BUF_ERROR:Jse,Z_DEFLATED:QF}=pk,lw=16180,RF=16181,zF=16182,jF=16183,HF=16184,KF=16185,VF=16186,qF=16187,GF=16188,$F=16189,rb=16190,Xh=16191,P2=16192,XF=16193,O2=16194,ZF=16195,WF=16196,YF=16197,JF=16198,C1=16199,S1=16200,eL=16201,tL=16202,rL=16203,nL=16204,iL=16205,D2=16206,aL=16207,sL=16208,Oa=16209,wk=16210,xk=16211,eoe=852,toe=592,roe=15,noe=roe,oL=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function ioe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Np=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<lw||t.mode>xk?1:0},Bk=e=>{if(Np(e))return Ac;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=lw,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(eoe),t.distcode=t.distdyn=new Int32Array(toe),t.sane=1,t.back=-1,Op},Ck=e=>{if(Np(e))return Ac;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Bk(e)},Sk=(e,t)=>{let r;if(Np(e))return Ac;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Ac:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,Ck(e))},Ek=(e,t)=>{if(!e)return Ac;const r=new ioe;e.state=r,r.strm=e,r.window=null,r.mode=lw;const n=Sk(e,t);return n!==Op&&(e.state=null),n},aoe=e=>Ek(e,noe);let lL=!0,k2,N2;const soe=e=>{if(lL){k2=new Int32Array(512),N2=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(H0(yk,e.lens,0,288,k2,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;H0(vk,e.lens,0,32,N2,0,e.work,{bits:5}),lL=!1}e.lencode=k2,e.lenbits=9,e.distcode=N2,e.distbits=5},Tk=(e,t,r,n)=>{let s;const A=e.state;return A.window===null&&(A.wsize=1<<A.wbits,A.wnext=0,A.whave=0,A.window=new Uint8Array(A.wsize)),n>=A.wsize?(A.window.set(t.subarray(r-A.wsize,r),0),A.wnext=0,A.whave=A.wsize):(s=A.wsize-A.wnext,s>n&&(s=n),A.window.set(t.subarray(r-n,r-n+s),A.wnext),n-=s,n?(A.window.set(t.subarray(r-n,r),0),A.wnext=n,A.whave=A.wsize):(A.wnext+=s,A.wnext===A.wsize&&(A.wnext=0),A.whave<A.wsize&&(A.whave+=s))),0},ooe=(e,t)=>{let r,n,s,A,f,l,y,b,w,C,F,T,j,k,H=0,K,Y,W,ae,Ae,pe,Be,Fe;const me=new Uint8Array(4);let He,se;const de=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Np(e)||!e.output||!e.input&&e.avail_in!==0)return Ac;r=e.state,r.mode===Xh&&(r.mode=P2),f=e.next_out,s=e.output,y=e.avail_out,A=e.next_in,n=e.input,l=e.avail_in,b=r.hold,w=r.bits,C=l,F=y,Fe=Op;e:for(;;)switch(r.mode){case lw:if(r.wrap===0){r.mode=P2;break}for(;w<16;){if(l===0)break e;l--,b+=n[A++]<<w,w+=8}if(r.wrap&2&&b===35615){r.wbits===0&&(r.wbits=15),r.check=0,me[0]=b&255,me[1]=b>>>8&255,r.check=mh(r.check,me,2,0),b=0,w=0,r.mode=RF;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((b&255)<<8)+(b>>8))%31){e.msg="incorrect header check",r.mode=Oa;break}if((b&15)!==QF){e.msg="unknown compression method",r.mode=Oa;break}if(b>>>=4,w-=4,Be=(b&15)+8,r.wbits===0&&(r.wbits=Be),Be>15||Be>r.wbits){e.msg="invalid window size",r.mode=Oa;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=b&512?$F:Xh,b=0,w=0;break;case RF:for(;w<16;){if(l===0)break e;l--,b+=n[A++]<<w,w+=8}if(r.flags=b,(r.flags&255)!==QF){e.msg="unknown compression method",r.mode=Oa;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=Oa;break}r.head&&(r.head.text=b>>8&1),r.flags&512&&r.wrap&4&&(me[0]=b&255,me[1]=b>>>8&255,r.check=mh(r.check,me,2,0)),b=0,w=0,r.mode=zF;case zF:for(;w<32;){if(l===0)break e;l--,b+=n[A++]<<w,w+=8}r.head&&(r.head.time=b),r.flags&512&&r.wrap&4&&(me[0]=b&255,me[1]=b>>>8&255,me[2]=b>>>16&255,me[3]=b>>>24&255,r.check=mh(r.check,me,4,0)),b=0,w=0,r.mode=jF;case jF:for(;w<16;){if(l===0)break e;l--,b+=n[A++]<<w,w+=8}r.head&&(r.head.xflags=b&255,r.head.os=b>>8),r.flags&512&&r.wrap&4&&(me[0]=b&255,me[1]=b>>>8&255,r.check=mh(r.check,me,2,0)),b=0,w=0,r.mode=HF;case HF:if(r.flags&1024){for(;w<16;){if(l===0)break e;l--,b+=n[A++]<<w,w+=8}r.length=b,r.head&&(r.head.extra_len=b),r.flags&512&&r.wrap&4&&(me[0]=b&255,me[1]=b>>>8&255,r.check=mh(r.check,me,2,0)),b=0,w=0}else r.head&&(r.head.extra=null);r.mode=KF;case KF:if(r.flags&1024&&(T=r.length,T>l&&(T=l),T&&(r.head&&(Be=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(A,A+T),Be)),r.flags&512&&r.wrap&4&&(r.check=mh(r.check,n,T,A)),l-=T,A+=T,r.length-=T),r.length))break e;r.length=0,r.mode=VF;case VF:if(r.flags&2048){if(l===0)break e;T=0;do Be=n[A+T++],r.head&&Be&&r.length<65536&&(r.head.name+=String.fromCharCode(Be));while(Be&&T<l);if(r.flags&512&&r.wrap&4&&(r.check=mh(r.check,n,T,A)),l-=T,A+=T,Be)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=qF;case qF:if(r.flags&4096){if(l===0)break e;T=0;do Be=n[A+T++],r.head&&Be&&r.length<65536&&(r.head.comment+=String.fromCharCode(Be));while(Be&&T<l);if(r.flags&512&&r.wrap&4&&(r.check=mh(r.check,n,T,A)),l-=T,A+=T,Be)break e}else r.head&&(r.head.comment=null);r.mode=GF;case GF:if(r.flags&512){for(;w<16;){if(l===0)break e;l--,b+=n[A++]<<w,w+=8}if(r.wrap&4&&b!==(r.check&65535)){e.msg="header crc mismatch",r.mode=Oa;break}b=0,w=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Xh;break;case $F:for(;w<32;){if(l===0)break e;l--,b+=n[A++]<<w,w+=8}e.adler=r.check=oL(b),b=0,w=0,r.mode=rb;case rb:if(r.havedict===0)return e.next_out=f,e.avail_out=y,e.next_in=A,e.avail_in=l,r.hold=b,r.bits=w,Yse;e.adler=r.check=1,r.mode=Xh;case Xh:if(t===Zse||t===B1)break e;case P2:if(r.last){b>>>=w&7,w-=w&7,r.mode=D2;break}for(;w<3;){if(l===0)break e;l--,b+=n[A++]<<w,w+=8}switch(r.last=b&1,b>>>=1,w-=1,b&3){case 0:r.mode=XF;break;case 1:if(soe(r),r.mode=C1,t===B1){b>>>=2,w-=2;break e}break;case 2:r.mode=WF;break;case 3:e.msg="invalid block type",r.mode=Oa}b>>>=2,w-=2;break;case XF:for(b>>>=w&7,w-=w&7;w<32;){if(l===0)break e;l--,b+=n[A++]<<w,w+=8}if((b&65535)!==(b>>>16^65535)){e.msg="invalid stored block lengths",r.mode=Oa;break}if(r.length=b&65535,b=0,w=0,r.mode=O2,t===B1)break e;case O2:r.mode=ZF;case ZF:if(T=r.length,T){if(T>l&&(T=l),T>y&&(T=y),T===0)break e;s.set(n.subarray(A,A+T),f),l-=T,A+=T,y-=T,f+=T,r.length-=T;break}r.mode=Xh;break;case WF:for(;w<14;){if(l===0)break e;l--,b+=n[A++]<<w,w+=8}if(r.nlen=(b&31)+257,b>>>=5,w-=5,r.ndist=(b&31)+1,b>>>=5,w-=5,r.ncode=(b&15)+4,b>>>=4,w-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=Oa;break}r.have=0,r.mode=YF;case YF:for(;r.have<r.ncode;){for(;w<3;){if(l===0)break e;l--,b+=n[A++]<<w,w+=8}r.lens[de[r.have++]]=b&7,b>>>=3,w-=3}for(;r.have<19;)r.lens[de[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,He={bits:r.lenbits},Fe=H0(Xse,r.lens,0,19,r.lencode,0,r.work,He),r.lenbits=He.bits,Fe){e.msg="invalid code lengths set",r.mode=Oa;break}r.have=0,r.mode=JF;case JF:for(;r.have<r.nlen+r.ndist;){for(;H=r.lencode[b&(1<<r.lenbits)-1],K=H>>>24,Y=H>>>16&255,W=H&65535,!(K<=w);){if(l===0)break e;l--,b+=n[A++]<<w,w+=8}if(W<16)b>>>=K,w-=K,r.lens[r.have++]=W;else{if(W===16){for(se=K+2;w<se;){if(l===0)break e;l--,b+=n[A++]<<w,w+=8}if(b>>>=K,w-=K,r.have===0){e.msg="invalid bit length repeat",r.mode=Oa;break}Be=r.lens[r.have-1],T=3+(b&3),b>>>=2,w-=2}else if(W===17){for(se=K+3;w<se;){if(l===0)break e;l--,b+=n[A++]<<w,w+=8}b>>>=K,w-=K,Be=0,T=3+(b&7),b>>>=3,w-=3}else{for(se=K+7;w<se;){if(l===0)break e;l--,b+=n[A++]<<w,w+=8}b>>>=K,w-=K,Be=0,T=11+(b&127),b>>>=7,w-=7}if(r.have+T>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=Oa;break}for(;T--;)r.lens[r.have++]=Be}}if(r.mode===Oa)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=Oa;break}if(r.lenbits=9,He={bits:r.lenbits},Fe=H0(yk,r.lens,0,r.nlen,r.lencode,0,r.work,He),r.lenbits=He.bits,Fe){e.msg="invalid literal/lengths set",r.mode=Oa;break}if(r.distbits=6,r.distcode=r.distdyn,He={bits:r.distbits},Fe=H0(vk,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,He),r.distbits=He.bits,Fe){e.msg="invalid distances set",r.mode=Oa;break}if(r.mode=C1,t===B1)break e;case C1:r.mode=S1;case S1:if(l>=6&&y>=258){e.next_out=f,e.avail_out=y,e.next_in=A,e.avail_in=l,r.hold=b,r.bits=w,Hse(e,F),f=e.next_out,s=e.output,y=e.avail_out,A=e.next_in,n=e.input,l=e.avail_in,b=r.hold,w=r.bits,r.mode===Xh&&(r.back=-1);break}for(r.back=0;H=r.lencode[b&(1<<r.lenbits)-1],K=H>>>24,Y=H>>>16&255,W=H&65535,!(K<=w);){if(l===0)break e;l--,b+=n[A++]<<w,w+=8}if(Y&&(Y&240)===0){for(ae=K,Ae=Y,pe=W;H=r.lencode[pe+((b&(1<<ae+Ae)-1)>>ae)],K=H>>>24,Y=H>>>16&255,W=H&65535,!(ae+K<=w);){if(l===0)break e;l--,b+=n[A++]<<w,w+=8}b>>>=ae,w-=ae,r.back+=ae}if(b>>>=K,w-=K,r.back+=K,r.length=W,Y===0){r.mode=iL;break}if(Y&32){r.back=-1,r.mode=Xh;break}if(Y&64){e.msg="invalid literal/length code",r.mode=Oa;break}r.extra=Y&15,r.mode=eL;case eL:if(r.extra){for(se=r.extra;w<se;){if(l===0)break e;l--,b+=n[A++]<<w,w+=8}r.length+=b&(1<<r.extra)-1,b>>>=r.extra,w-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=tL;case tL:for(;H=r.distcode[b&(1<<r.distbits)-1],K=H>>>24,Y=H>>>16&255,W=H&65535,!(K<=w);){if(l===0)break e;l--,b+=n[A++]<<w,w+=8}if((Y&240)===0){for(ae=K,Ae=Y,pe=W;H=r.distcode[pe+((b&(1<<ae+Ae)-1)>>ae)],K=H>>>24,Y=H>>>16&255,W=H&65535,!(ae+K<=w);){if(l===0)break e;l--,b+=n[A++]<<w,w+=8}b>>>=ae,w-=ae,r.back+=ae}if(b>>>=K,w-=K,r.back+=K,Y&64){e.msg="invalid distance code",r.mode=Oa;break}r.offset=W,r.extra=Y&15,r.mode=rL;case rL:if(r.extra){for(se=r.extra;w<se;){if(l===0)break e;l--,b+=n[A++]<<w,w+=8}r.offset+=b&(1<<r.extra)-1,b>>>=r.extra,w-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=Oa;break}r.mode=nL;case nL:if(y===0)break e;if(T=F-y,r.offset>T){if(T=r.offset-T,T>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=Oa;break}T>r.wnext?(T-=r.wnext,j=r.wsize-T):j=r.wnext-T,T>r.length&&(T=r.length),k=r.window}else k=s,j=f-r.offset,T=r.length;T>y&&(T=y),y-=T,r.length-=T;do s[f++]=k[j++];while(--T);r.length===0&&(r.mode=S1);break;case iL:if(y===0)break e;s[f++]=r.length,y--,r.mode=S1;break;case D2:if(r.wrap){for(;w<32;){if(l===0)break e;l--,b|=n[A++]<<w,w+=8}if(F-=y,e.total_out+=F,r.total+=F,r.wrap&4&&F&&(e.adler=r.check=r.flags?mh(r.check,s,F,f-F):E5(r.check,s,F,f-F)),F=y,r.wrap&4&&(r.flags?b:oL(b))!==r.check){e.msg="incorrect data check",r.mode=Oa;break}b=0,w=0}r.mode=aL;case aL:if(r.wrap&&r.flags){for(;w<32;){if(l===0)break e;l--,b+=n[A++]<<w,w+=8}if(r.wrap&4&&b!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=Oa;break}b=0,w=0}r.mode=sL;case sL:Fe=Wse;break e;case Oa:Fe=_k;break e;case wk:return bk;case xk:default:return Ac}return e.next_out=f,e.avail_out=y,e.next_in=A,e.avail_in=l,r.hold=b,r.bits=w,(r.wsize||F!==e.avail_out&&r.mode<Oa&&(r.mode<D2||t!==NF))&&Tk(e,e.output,e.next_out,F-e.avail_out),C-=e.avail_in,F-=e.avail_out,e.total_in+=C,e.total_out+=F,r.total+=F,r.wrap&4&&F&&(e.adler=r.check=r.flags?mh(r.check,s,F,e.next_out-F):E5(r.check,s,F,e.next_out-F)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Xh?128:0)+(r.mode===C1||r.mode===O2?256:0),(C===0&&F===0||t===NF)&&Fe===Op&&(Fe=Jse),Fe},loe=e=>{if(Np(e))return Ac;let t=e.state;return t.window&&(t.window=null),e.state=null,Op},Aoe=(e,t)=>{if(Np(e))return Ac;const r=e.state;return(r.wrap&2)===0?Ac:(r.head=t,t.done=!1,Op)},uoe=(e,t)=>{const r=t.length;let n,s,A;return Np(e)||(n=e.state,n.wrap!==0&&n.mode!==rb)?Ac:n.mode===rb&&(s=1,s=E5(s,t,r,0),s!==n.check)?_k:(A=Tk(e,t,r,r),A?(n.mode=wk,bk):(n.havedict=1,Op))};var coe=Ck,hoe=Sk,foe=Bk,doe=aoe,poe=Ek,moe=ooe,goe=loe,yoe=Aoe,voe=uoe,_oe="pako inflate (from Nodeca project)",Wh={inflateReset:coe,inflateReset2:hoe,inflateResetKeep:foe,inflateInit:doe,inflateInit2:poe,inflate:moe,inflateEnd:goe,inflateGetHeader:yoe,inflateSetDictionary:voe,inflateInfo:_oe};function boe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var woe=boe;const Ik=Object.prototype.toString,{Z_NO_FLUSH:xoe,Z_FINISH:Boe,Z_OK:uy,Z_STREAM_END:Q2,Z_NEED_DICT:R2,Z_STREAM_ERROR:Coe,Z_DATA_ERROR:AL,Z_MEM_ERROR:Soe}=pk;function Dy(e){this.options=mk.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zse,this.strm.avail_out=0;let r=Wh.inflateInit2(this.strm,t.windowBits);if(r!==uy)throw new Error(T5[r]);if(this.header=new woe,Wh.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=I5.string2buf(t.dictionary):Ik.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=Wh.inflateSetDictionary(this.strm,t.dictionary),r!==uy)))throw new Error(T5[r])}Dy.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,s=this.options.dictionary;let A,f,l;if(this.ended)return!1;for(t===~~t?f=t:f=t===!0?Boe:xoe,Ik.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),A=Wh.inflate(r,f),A===R2&&s&&(A=Wh.inflateSetDictionary(r,s),A===uy?A=Wh.inflate(r,f):A===AL&&(A=R2));r.avail_in>0&&A===Q2&&r.state.wrap>0&&e[r.next_in]!==0;)Wh.inflateReset(r),A=Wh.inflate(r,f);switch(A){case Coe:case AL:case R2:case Soe:return this.onEnd(A),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||A===Q2))if(this.options.to==="string"){let y=I5.utf8border(r.output,r.next_out),b=r.next_out-y,w=I5.buf2string(r.output,y);r.next_out=b,r.avail_out=n-b,b&&r.output.set(r.output.subarray(y,y+b),0),this.onData(w)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(A===uy&&l===0)){if(A===Q2)return A=Wh.inflateEnd(this.strm),this.onEnd(A),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Dy.prototype.onData=function(e){this.chunks.push(e)};Dy.prototype.onEnd=function(e){e===uy&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=mk.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Eoe(e,t){const r=new Dy(t);if(r.push(e),r.err)throw r.msg||T5[r.err];return r.result}var Toe=Dy,Ioe=Eoe,Foe={Inflate:Toe,inflate:Ioe};const{Inflate:Loe,inflate:Uoe}=Foe;var uL=Loe,Moe=Uoe;const Fk=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;Fk[e]=t}const cL=4294967295;function Poe(e,t,r){let n=e;for(let s=0;s<r;s++)n=Fk[(n^t[s])&255]^n>>>8;return n}function Ooe(e,t){return(Poe(cL,e,t)^cL)>>>0}function hL(e,t,r){const n=e.readUint32(),s=Ooe(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(s!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${s}`)}function Lk(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function Uk(e,t,r,n){let s=0;for(;s<n;s++)t[s]=e[s];for(;s<r;s++)t[s]=e[s]+t[s-n]&255}function Mk(e,t,r,n){let s=0;if(r.length===0)for(;s<n;s++)t[s]=e[s];else for(;s<n;s++)t[s]=e[s]+r[s]&255}function Pk(e,t,r,n,s){let A=0;if(r.length===0){for(;A<s;A++)t[A]=e[A];for(;A<n;A++)t[A]=e[A]+(t[A-s]>>1)&255}else{for(;A<s;A++)t[A]=e[A]+(r[A]>>1)&255;for(;A<n;A++)t[A]=e[A]+(t[A-s]+r[A]>>1)&255}}function Ok(e,t,r,n,s){let A=0;if(r.length===0){for(;A<s;A++)t[A]=e[A];for(;A<n;A++)t[A]=e[A]+t[A-s]&255}else{for(;A<s;A++)t[A]=e[A]+r[A]&255;for(;A<n;A++)t[A]=e[A]+Doe(t[A-s],r[A],r[A-s])&255}}function Doe(e,t,r){const n=e+t-r,s=Math.abs(n-e),A=Math.abs(n-t),f=Math.abs(n-r);return s<=A&&s<=f?e:A<=f?t:r}function koe(e,t,r,n,s,A){switch(e){case 0:Lk(t,r,s);break;case 1:Uk(t,r,s,A);break;case 2:Mk(t,r,n,s);break;case 3:Pk(t,r,n,s,A);break;case 4:Ok(t,r,n,s,A);break;default:throw new Error(`Unsupported filter: ${e}`)}}const Noe=new Uint16Array([255]),Qoe=new Uint8Array(Noe.buffer),Roe=Qoe[0]===255;function zoe(e){const{data:t,width:r,height:n,channels:s,depth:A}=e,f=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(A/8)*s,y=new Uint8Array(n*r*l);let b=0;for(let w=0;w<7;w++){const C=f[w],F=Math.ceil((r-C.x)/C.xStep),T=Math.ceil((n-C.y)/C.yStep);if(F<=0||T<=0)continue;const j=F*l,k=new Uint8Array(j);for(let H=0;H<T;H++){const K=t[b++],Y=t.subarray(b,b+j);b+=j;const W=new Uint8Array(j);koe(K,Y,W,k,j,l),k.set(W);for(let ae=0;ae<F;ae++){const Ae=C.x+ae*C.xStep,pe=C.y+H*C.yStep;if(!(Ae>=r||pe>=n))for(let Be=0;Be<l;Be++)y[(pe*r+Ae)*l+Be]=W[ae*l+Be]}}}if(A===16){const w=new Uint16Array(y.buffer);if(Roe)for(let C=0;C<w.length;C++)w[C]=joe(w[C]);return w}else return y}function joe(e){return(e&255)<<8|e>>8&255}const Hoe=new Uint16Array([255]),Koe=new Uint8Array(Hoe.buffer),Voe=Koe[0]===255,qoe=new Uint8Array(0);function fL(e){const{data:t,width:r,height:n,channels:s,depth:A}=e,f=Math.ceil(A/8)*s,l=Math.ceil(A/8*s*r),y=new Uint8Array(n*l);let b=qoe,w=0,C,F;for(let T=0;T<n;T++){switch(C=t.subarray(w+1,w+1+l),F=y.subarray(T*l,(T+1)*l),t[w]){case 0:Lk(C,F,l);break;case 1:Uk(C,F,l,f);break;case 2:Mk(C,F,b,l);break;case 3:Pk(C,F,b,l,f);break;case 4:Ok(C,F,b,l,f);break;default:throw new Error(`Unsupported filter: ${t[w]}`)}b=F,w+=l+1}if(A===16){const T=new Uint16Array(y.buffer);if(Voe)for(let j=0;j<T.length;j++)T[j]=Goe(T[j]);return T}else return y}function Goe(e){return(e&255)<<8|e>>8&255}const j1=Uint8Array.of(137,80,78,71,13,10,26,10);function dL(e){if(!$oe(e.readBytes(j1.length)))throw new Error("wrong PNG signature")}function $oe(e){if(e.length<j1.length)return!1;for(let t=0;t<j1.length;t++)if(e[t]!==j1[t])return!1;return!0}const Xoe="tEXt",Zoe=0,Dk=new TextDecoder("latin1");function Woe(e){if(Joe(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const Yoe=/^[\u0000-\u00FF]*$/;function Joe(e){if(!Yoe.test(e))throw new Error("invalid latin1 text")}function ele(e,t,r){const n=kk(t);e[n]=tle(t,r-n.length-1)}function kk(e){for(e.mark();e.readByte()!==Zoe;);const t=e.offset;e.reset();const r=Dk.decode(e.readBytes(t-e.offset-1));return e.skip(1),Woe(r),r}function tle(e,t){return Dk.decode(e.readBytes(t))}const wu={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},z2={UNKNOWN:-1,DEFLATE:0},pL={UNKNOWN:-1,ADAPTIVE:0},j2={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},E1={NONE:0,BACKGROUND:1,PREVIOUS:2},H2={SOURCE:0,OVER:1};class rle extends PS{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(t,r={}){super(t);const{checkCrc:n=!1}=r;this._checkCrc=n,this._inflator=new uL,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=z2.UNKNOWN,this._filterMethod=pL.UNKNOWN,this._interlaceMethod=j2.UNKNOWN,this._colorType=wu.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(dL(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeChunk(t,r)}return this.decodeImage(),this._png}decodeApng(){for(dL(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(t,r)}return this.decodeApngImage(),this._apng}decodeChunk(t,r){const n=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case Xoe:ele(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-n!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?hL(this,t+4,r):this.skip(4)}decodeApngChunk(t,r){const n=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,r),this.offset=n+t;break}if(this.offset-n!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?hL(this,t+4,r):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=nle(this.readUint8());const r=this.readUint8();this._colorType=r;let n;switch(r){case wu.GREYSCALE:n=1;break;case wu.TRUECOLOUR:n=3;break;case wu.INDEXED_COLOUR:n=1;break;case wu.GREYSCALE_ALPHA:n=2;break;case wu.TRUECOLOUR_ALPHA:n=4;break;case wu.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==z2.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const r=t/3;this._hasPalette=!0;const n=[];this._palette=n;for(let s=0;s<r;s++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const r=t,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let r=t,n=this.offset+this.byteOffset;if(n+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case wu.GREYSCALE:case wu.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let r=0;r<t/2;r++)this._transparency[r]=this.readUint16();break}case wu.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let r=0;for(;r<t;r++){const n=this.readByte();this._palette[r].push(n)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case wu.UNKNOWN:case wu.GREYSCALE_ALPHA:case wu.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const r=kk(this),n=this.readUint8();if(n!==z2.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const s=this.readBytes(t-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:Moe(s)}}decodepHYs(){const t=this.readUint32(),r=this.readUint32(),n=this.readByte();this._png.resolution={x:t,y:r,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const r={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(t);if(n){if(n.data=fL({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)r.data=n.data;else{const s=this._apng.frames.at(t-1);this.disposeFrame(n,s,r),this.addFrameDataToCanvas(r,n)}this._apng.frames.push(r)}}return this._apng}disposeFrame(t,r,n){switch(t.disposeOp){case E1.NONE:break;case E1.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let A=0;A<this._png.width;A++){const f=(s*t.width+A)*this._png.channels;for(let l=0;l<this._png.channels;l++)n.data[f+l]=0}break;case E1.PREVIOUS:n.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,r){const n=1<<this._png.depth,s=(A,f)=>{const l=((A+r.yOffset)*this._png.width+r.xOffset+f)*this._png.channels,y=(A*r.width+f)*this._png.channels;return{index:l,frameIndex:y}};switch(r.blendOp){case H2.SOURCE:for(let A=0;A<r.height;A++)for(let f=0;f<r.width;f++){const{index:l,frameIndex:y}=s(A,f);for(let b=0;b<this._png.channels;b++)t.data[l+b]=r.data[y+b]}break;case H2.OVER:for(let A=0;A<r.height;A++)for(let f=0;f<r.width;f++){const{index:l,frameIndex:y}=s(A,f);for(let b=0;b<this._png.channels;b++){const w=r.data[y+this._png.channels-1]/n,C=b%(this._png.channels-1)===0?1:r.data[y+b],F=Math.floor(w*C+(1-w)*t.data[l+b]);t.data[l+b]+=F}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==pL.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===j2.NO_INTERLACE)this._png.data=fL({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===j2.ADAM7)this._png.data=zoe({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,r=this._frames.at(-1);r?r.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:E1.NONE,blendOp:H2.SOURCE,data:t}),this._inflator=new uL,this._writingDataChunks=!1}}function nle(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var mL;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(mL||(mL={}));function ile(e,t){return new rle(e,t).decode()}var gn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function K2(){gn.console&&typeof gn.console.log=="function"&&gn.console.log.apply(gn.console,arguments)}var oa={log:K2,warn:function(e){gn.console&&(typeof gn.console.warn=="function"?gn.console.warn.apply(gn.console,arguments):K2.call(null,arguments))},error:function(e){gn.console&&(typeof gn.console.error=="function"?gn.console.error.apply(gn.console,arguments):K2(e))}};function V2(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){fp(n.response,t,r)},n.onerror=function(){oa.error("could not download file")},n.send()}function gL(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function T1(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var fp=gn.saveAs||((typeof window>"u"?"undefined":Ri(window))!=="object"||window!==gn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=gn.URL||gn.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?gL(s.href)?V2(e,t,r):T1(s,s.target="_blank"):T1(s)):(s.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){T1(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(gL(e))V2(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){T1(n)})}else navigator.msSaveOrOpenBlob((function(s,A){return A===void 0?A={autoBom:!1}:Ri(A)!=="object"&&(oa.warn("Deprecated: Expected third argument to be a object"),A={autoBom:!A}),A.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s})(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return V2(e,t,r);var s=e.type==="application/octet-stream",A=/constructor/i.test(gn.HTMLElement)||gn.safari,f=/CriOS\/[\d]+/.test(navigator.userAgent);if((f||s&&A)&&(typeof FileReader>"u"?"undefined":Ri(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var w=l.result;w=f?w:w.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=w:location=w,n=null},l.readAsDataURL(e)}else{var y=gn.URL||gn.webkitURL,b=y.createObjectURL(e);n?n.location=b:location.href=b,n=null,setTimeout(function(){y.revokeObjectURL(b)},4e4)}});function Nk(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var s=r[n].re,A=r[n].process,f=s.exec(e);f&&(t=A(f),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),y=this.g.toString(16),b=this.b.toString(16);return l.length==1&&(l="0"+l),y.length==1&&(y="0"+y),b.length==1&&(b="0"+b),"#"+l+y+b}}var H1=gn.atob.bind(gn),yL=gn.btoa.bind(gn);function q2(e,t){var r=e[0],n=e[1],s=e[2],A=e[3];r=Dl(r,n,s,A,t[0],7,-680876936),A=Dl(A,r,n,s,t[1],12,-389564586),s=Dl(s,A,r,n,t[2],17,606105819),n=Dl(n,s,A,r,t[3],22,-1044525330),r=Dl(r,n,s,A,t[4],7,-176418897),A=Dl(A,r,n,s,t[5],12,1200080426),s=Dl(s,A,r,n,t[6],17,-1473231341),n=Dl(n,s,A,r,t[7],22,-45705983),r=Dl(r,n,s,A,t[8],7,1770035416),A=Dl(A,r,n,s,t[9],12,-1958414417),s=Dl(s,A,r,n,t[10],17,-42063),n=Dl(n,s,A,r,t[11],22,-1990404162),r=Dl(r,n,s,A,t[12],7,1804603682),A=Dl(A,r,n,s,t[13],12,-40341101),s=Dl(s,A,r,n,t[14],17,-1502002290),r=kl(r,n=Dl(n,s,A,r,t[15],22,1236535329),s,A,t[1],5,-165796510),A=kl(A,r,n,s,t[6],9,-1069501632),s=kl(s,A,r,n,t[11],14,643717713),n=kl(n,s,A,r,t[0],20,-373897302),r=kl(r,n,s,A,t[5],5,-701558691),A=kl(A,r,n,s,t[10],9,38016083),s=kl(s,A,r,n,t[15],14,-660478335),n=kl(n,s,A,r,t[4],20,-405537848),r=kl(r,n,s,A,t[9],5,568446438),A=kl(A,r,n,s,t[14],9,-1019803690),s=kl(s,A,r,n,t[3],14,-187363961),n=kl(n,s,A,r,t[8],20,1163531501),r=kl(r,n,s,A,t[13],5,-1444681467),A=kl(A,r,n,s,t[2],9,-51403784),s=kl(s,A,r,n,t[7],14,1735328473),r=Nl(r,n=kl(n,s,A,r,t[12],20,-1926607734),s,A,t[5],4,-378558),A=Nl(A,r,n,s,t[8],11,-2022574463),s=Nl(s,A,r,n,t[11],16,1839030562),n=Nl(n,s,A,r,t[14],23,-35309556),r=Nl(r,n,s,A,t[1],4,-1530992060),A=Nl(A,r,n,s,t[4],11,1272893353),s=Nl(s,A,r,n,t[7],16,-155497632),n=Nl(n,s,A,r,t[10],23,-1094730640),r=Nl(r,n,s,A,t[13],4,681279174),A=Nl(A,r,n,s,t[0],11,-358537222),s=Nl(s,A,r,n,t[3],16,-722521979),n=Nl(n,s,A,r,t[6],23,76029189),r=Nl(r,n,s,A,t[9],4,-640364487),A=Nl(A,r,n,s,t[12],11,-421815835),s=Nl(s,A,r,n,t[15],16,530742520),r=Ql(r,n=Nl(n,s,A,r,t[2],23,-995338651),s,A,t[0],6,-198630844),A=Ql(A,r,n,s,t[7],10,1126891415),s=Ql(s,A,r,n,t[14],15,-1416354905),n=Ql(n,s,A,r,t[5],21,-57434055),r=Ql(r,n,s,A,t[12],6,1700485571),A=Ql(A,r,n,s,t[3],10,-1894986606),s=Ql(s,A,r,n,t[10],15,-1051523),n=Ql(n,s,A,r,t[1],21,-2054922799),r=Ql(r,n,s,A,t[8],6,1873313359),A=Ql(A,r,n,s,t[15],10,-30611744),s=Ql(s,A,r,n,t[6],15,-1560198380),n=Ql(n,s,A,r,t[13],21,1309151649),r=Ql(r,n,s,A,t[4],6,-145523070),A=Ql(A,r,n,s,t[11],10,-1120210379),s=Ql(s,A,r,n,t[2],15,718787259),n=Ql(n,s,A,r,t[9],21,-343485551),e[0]=dd(r,e[0]),e[1]=dd(n,e[1]),e[2]=dd(s,e[2]),e[3]=dd(A,e[3])}function Aw(e,t,r,n,s,A){return t=dd(dd(t,e),dd(n,A)),dd(t<<s|t>>>32-s,r)}function Dl(e,t,r,n,s,A,f){return Aw(t&r|~t&n,e,t,s,A,f)}function kl(e,t,r,n,s,A,f){return Aw(t&n|r&~n,e,t,s,A,f)}function Nl(e,t,r,n,s,A,f){return Aw(t^r^n,e,t,s,A,f)}function Ql(e,t,r,n,s,A,f){return Aw(r^(t|~n),e,t,s,A,f)}function Qk(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)q2(n,ale(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(q2(n,s),t=0;t<16;t++)s[t]=0;return s[14]=8*r,q2(n,s),n}function ale(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var vL="0123456789abcdef".split("");function sle(e){for(var t="",r=0;r<4;r++)t+=vL[e>>8*r+4&15]+vL[e>>8*r&15];return t}function ole(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function F5(e){return Qk(e).map(ole).join("")}var lle=(function(e){for(var t=0;t<e.length;t++)e[t]=sle(e[t]);return e.join("")})(Qk("hello"))!="5d41402abc4b2a76b9719d911017c592";function dd(e,t){if(lle){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}function L5(e,t){var r,n,s,A;if(e!==r){for(var f=(s=e,A=1+(256/e.length|0),new Array(A+1).join(s)),l=[],y=0;y<256;y++)l[y]=y;var b=0;for(y=0;y<256;y++){var w=l[y];b=(b+w+f.charCodeAt(y))%256,l[y]=l[b],l[b]=w}r=e,n=l}else l=n;var C=t.length,F=0,T=0,j="";for(y=0;y<C;y++)T=(T+(w=l[F=(F+1)%256]))%256,l[F]=l[T],l[T]=w,f=l[(l[F]+l[T])%256],j+=String.fromCharCode(t.charCodeAt(y)^f);return j}var _L={print:4,modify:8,copy:16,"annot-forms":32};function Mm(e,t,r,n){this.v=1,this.r=2;var s=192;e.forEach(function(l){if(_L.perm!==void 0)throw new Error("Invalid permission: "+l);s+=_L[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var A=(t+this.padding).substr(0,32),f=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(A,f),this.P=-(1+(255^s)),this.encryptionKey=F5(A+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=L5(this.encryptionKey,this.padding)}function Pm(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var s=e.charCodeAt(n);t+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):e[n]}return t}function bL(e){if(Ri(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,s){if(s=s||!1,typeof r!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var A=Math.random().toString(35);return t[r][A]=[n,!!s],A},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var A in t[r]){var f=t[r][A];try{f[0].apply(e,n)}catch(l){gn.console&&oa.error("jsPDF PubSub Error",l.message,l)}f[1]&&s.push(A)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function nb(e){if(!(this instanceof nb))return new nb(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function Rk(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function pp(e,t,r,n,s){if(!(this instanceof pp))return new pp(e,t,r,n,s);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,Rk.call(this,n,s)}function Nm(e,t,r,n,s){if(!(this instanceof Nm))return new Nm(e,t,r,n,s);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,Rk.call(this,n,s)}function Gr(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],A=arguments[3],f=[],l=1,y=16,b="S",w=null;Ri(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,s=e.format||s,A=e.compress||e.compressPdf||A,(w=e.encryption||null)!==null&&(w.userPassword=w.userPassword||"",w.ownerPassword=w.ownerPassword||"",w.userPermissions=w.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(y=e.floatPrecision),b=e.defaultPathOperation||"S"),f=e.filters||(A===!0?["FlateEncode"]:f),n=n||"mm",r=(""+(r||"P")).toLowerCase();var C=e.putOnlyUsedFonts||!1,F={},T={internal:{},__private__:{}};T.__private__.PubSub=bL;var j="1.3",k=T.__private__.getPdfVersion=function(){return j};T.__private__.setPdfVersion=function(V){j=V};var H={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};T.__private__.getPageFormats=function(){return H};var K=T.__private__.getPageFormat=function(V){return H[V]};s=s||"a4";var Y="compat",W="advanced",ae=Y;function Ae(){this.saveGraphicsState(),Pe(new qe(Pr,0,0,-Pr,0,dl()*Pr).toString()+" cm"),this.setFontSize(this.getFontSize()/Pr),b="n",ae=W}function pe(){this.restoreGraphicsState(),b="S",ae=Y}var Be=T.__private__.combineFontStyleAndFontWeight=function(V,fe){if(V=="bold"&&fe=="normal"||V=="bold"&&fe==400||V=="normal"&&fe=="italic"||V=="bold"&&fe=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return fe&&(V=fe==400||fe==="normal"?V==="italic"?"italic":"normal":fe!=700&&fe!=="bold"||V!=="normal"?(fe==700?"bold":fe)+""+V:"bold"),V};T.advancedAPI=function(V){var fe=ae===Y;return fe&&Ae.call(this),typeof V!="function"||(V(this),fe&&pe.call(this)),this},T.compatAPI=function(V){var fe=ae===W;return fe&&pe.call(this),typeof V!="function"||(V(this),fe&&Ae.call(this)),this},T.isAdvancedAPI=function(){return ae===W};var Fe,me=function(V){if(ae!==W)throw new Error(V+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},He=T.roundToPrecision=T.__private__.roundToPrecision=function(V,fe){var ze=t||fe;if(isNaN(V)||isNaN(ze))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return V.toFixed(ze).replace(/0+$/,"")};Fe=T.hpf=T.__private__.hpf=typeof y=="number"?function(V){if(isNaN(V))throw new Error("Invalid argument passed to jsPDF.hpf");return He(V,y)}:y==="smart"?function(V){if(isNaN(V))throw new Error("Invalid argument passed to jsPDF.hpf");return He(V,V>-1&&V<1?16:5)}:function(V){if(isNaN(V))throw new Error("Invalid argument passed to jsPDF.hpf");return He(V,16)};var se=T.f2=T.__private__.f2=function(V){if(isNaN(V))throw new Error("Invalid argument passed to jsPDF.f2");return He(V,2)},de=T.__private__.f3=function(V){if(isNaN(V))throw new Error("Invalid argument passed to jsPDF.f3");return He(V,3)},Le=T.scale=T.__private__.scale=function(V){if(isNaN(V))throw new Error("Invalid argument passed to jsPDF.scale");return ae===Y?V*Pr:ae===W?V:void 0},Ue=function(V){return Le((function(fe){return ae===Y?dl()-fe:ae===W?fe:void 0})(V))};T.__private__.setPrecision=T.setPrecision=function(V){typeof parseInt(V,10)=="number"&&(t=parseInt(V,10))};var nt,Oe="00000000000000000000000000000000",Ne=T.__private__.getFileId=function(){return Oe},Ve=T.__private__.setFileId=function(V){return Oe=V!==void 0&&/^[a-fA-F0-9]{32}$/.test(V)?V.toUpperCase():Oe.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),w!==null&&(ji=new Mm(w.userPermissions,w.userPassword,w.ownerPassword,Oe)),Oe};T.setFileId=function(V){return Ve(V),this},T.getFileId=function(){return Ne()};var De=T.__private__.convertDateToPDFDate=function(V){var fe=V.getTimezoneOffset(),ze=fe<0?"+":"-",rt=Math.floor(Math.abs(fe/60)),ut=Math.abs(fe%60),Ot=[ze,Ie(rt),"'",Ie(ut),"'"].join("");return["D:",V.getFullYear(),Ie(V.getMonth()+1),Ie(V.getDate()),Ie(V.getHours()),Ie(V.getMinutes()),Ie(V.getSeconds()),Ot].join("")},ot=T.__private__.convertPDFDateToDate=function(V){var fe=parseInt(V.substr(2,4),10),ze=parseInt(V.substr(6,2),10)-1,rt=parseInt(V.substr(8,2),10),ut=parseInt(V.substr(10,2),10),Ot=parseInt(V.substr(12,2),10),Ht=parseInt(V.substr(14,2),10);return new Date(fe,ze,rt,ut,Ot,Ht,0)},be=T.__private__.setCreationDate=function(V){var fe;if(V===void 0&&(V=new Date),V instanceof Date)fe=De(V);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(V))throw new Error("Invalid argument passed to jsPDF.setCreationDate");fe=V}return nt=fe},re=T.__private__.getCreationDate=function(V){var fe=nt;return V==="jsDate"&&(fe=ot(nt)),fe};T.setCreationDate=function(V){return be(V),this},T.getCreationDate=function(V){return re(V)};var ye,Ie=T.__private__.padd2=function(V){return("0"+parseInt(V)).slice(-2)},ke=T.__private__.padd2Hex=function(V){return("00"+(V=V.toString())).substr(V.length)},$e=0,Je=[],mt=[],Ke=0,pt=[],Ct=[],ct=!1,qt=mt;T.__private__.setCustomOutputDestination=function(V){ct=!0,qt=V};var Xt=function(V){ct||(qt=V)};T.__private__.resetCustomOutputDestination=function(){ct=!1,qt=mt};var Pe=T.__private__.out=function(V){return V=V.toString(),Ke+=V.length+1,qt.push(V),qt},Ye=T.__private__.write=function(V){return Pe(arguments.length===1?V.toString():Array.prototype.join.call(arguments," "))},Rr=T.__private__.getArrayBuffer=function(V){for(var fe=V.length,ze=new ArrayBuffer(fe),rt=new Uint8Array(ze);fe--;)rt[fe]=V.charCodeAt(fe);return ze},Er=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];T.__private__.getStandardFonts=function(){return Er};var It=e.fontSize||16;T.__private__.setFontSize=T.setFontSize=function(V){return It=ae===W?V/Pr:V,this};var nr,ur=T.__private__.getFontSize=T.getFontSize=function(){return ae===Y?It:It*Pr},Tr=e.R2L||!1;T.__private__.setR2L=T.setR2L=function(V){return Tr=V,this},T.__private__.getR2L=T.getR2L=function(){return Tr};var Br,rn=T.__private__.setZoomMode=function(V){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(V))nr=V;else if(isNaN(V)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(V)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+V+'" is not recognized.');nr=V}else nr=parseInt(V,10)};T.__private__.getZoomMode=function(){return nr};var nn,Jr=T.__private__.setPageMode=function(V){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(V)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+V+'" is not recognized.');Br=V};T.__private__.getPageMode=function(){return Br};var yn=T.__private__.setLayoutMode=function(V){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(V)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+V+'" is not recognized.');nn=V};T.__private__.getLayoutMode=function(){return nn},T.__private__.setDisplayMode=T.setDisplayMode=function(V,fe,ze){return rn(V),yn(fe),Jr(ze),this};var Lt={title:"",subject:"",author:"",keywords:"",creator:""};T.__private__.getDocumentProperty=function(V){if(Object.keys(Lt).indexOf(V)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Lt[V]},T.__private__.getDocumentProperties=function(){return Lt},T.__private__.setDocumentProperties=T.setProperties=T.setDocumentProperties=function(V){for(var fe in Lt)Lt.hasOwnProperty(fe)&&V[fe]&&(Lt[fe]=V[fe]);return this},T.__private__.setDocumentProperty=function(V,fe){if(Object.keys(Lt).indexOf(V)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Lt[V]=fe};var cr,Pr,fr,ri,Pt,Zt={},Gt={},Zr=[],_r={},sr={},Lr={},zr={},kn=null,Xr=0,Me=[],le=new bL(T),ue=e.hotfixes||[],we={},Re={},et=[],qe=function V(fe,ze,rt,ut,Ot,Ht){if(!(this instanceof V))return new V(fe,ze,rt,ut,Ot,Ht);isNaN(fe)&&(fe=1),isNaN(ze)&&(ze=0),isNaN(rt)&&(rt=0),isNaN(ut)&&(ut=1),isNaN(Ot)&&(Ot=0),isNaN(Ht)&&(Ht=0),this._matrix=[fe,ze,rt,ut,Ot,Ht]};Object.defineProperty(qe.prototype,"sx",{get:function(){return this._matrix[0]},set:function(V){this._matrix[0]=V}}),Object.defineProperty(qe.prototype,"shy",{get:function(){return this._matrix[1]},set:function(V){this._matrix[1]=V}}),Object.defineProperty(qe.prototype,"shx",{get:function(){return this._matrix[2]},set:function(V){this._matrix[2]=V}}),Object.defineProperty(qe.prototype,"sy",{get:function(){return this._matrix[3]},set:function(V){this._matrix[3]=V}}),Object.defineProperty(qe.prototype,"tx",{get:function(){return this._matrix[4]},set:function(V){this._matrix[4]=V}}),Object.defineProperty(qe.prototype,"ty",{get:function(){return this._matrix[5]},set:function(V){this._matrix[5]=V}}),Object.defineProperty(qe.prototype,"a",{get:function(){return this._matrix[0]},set:function(V){this._matrix[0]=V}}),Object.defineProperty(qe.prototype,"b",{get:function(){return this._matrix[1]},set:function(V){this._matrix[1]=V}}),Object.defineProperty(qe.prototype,"c",{get:function(){return this._matrix[2]},set:function(V){this._matrix[2]=V}}),Object.defineProperty(qe.prototype,"d",{get:function(){return this._matrix[3]},set:function(V){this._matrix[3]=V}}),Object.defineProperty(qe.prototype,"e",{get:function(){return this._matrix[4]},set:function(V){this._matrix[4]=V}}),Object.defineProperty(qe.prototype,"f",{get:function(){return this._matrix[5]},set:function(V){this._matrix[5]=V}}),Object.defineProperty(qe.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(qe.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(qe.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(qe.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),qe.prototype.join=function(V){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(Fe).join(V)},qe.prototype.multiply=function(V){var fe=V.sx*this.sx+V.shy*this.shx,ze=V.sx*this.shy+V.shy*this.sy,rt=V.shx*this.sx+V.sy*this.shx,ut=V.shx*this.shy+V.sy*this.sy,Ot=V.tx*this.sx+V.ty*this.shx+this.tx,Ht=V.tx*this.shy+V.ty*this.sy+this.ty;return new qe(fe,ze,rt,ut,Ot,Ht)},qe.prototype.decompose=function(){var V=this.sx,fe=this.shy,ze=this.shx,rt=this.sy,ut=this.tx,Ot=this.ty,Ht=Math.sqrt(V*V+fe*fe),yr=(V/=Ht)*ze+(fe/=Ht)*rt;ze-=V*yr,rt-=fe*yr;var br=Math.sqrt(ze*ze+rt*rt);return yr/=br,V*(rt/=br)<fe*(ze/=br)&&(V=-V,fe=-fe,yr=-yr,Ht=-Ht),{scale:new qe(Ht,0,0,br,0,0),translate:new qe(1,0,0,1,ut,Ot),rotate:new qe(V,fe,-fe,V,0,0),skew:new qe(1,0,yr,1,0,0)}},qe.prototype.toString=function(V){return this.join(" ")},qe.prototype.inversed=function(){var V=this.sx,fe=this.shy,ze=this.shx,rt=this.sy,ut=this.tx,Ot=this.ty,Ht=1/(V*rt-fe*ze),yr=rt*Ht,br=-fe*Ht,tn=-ze*Ht,An=V*Ht;return new qe(yr,br,tn,An,-yr*ut-tn*Ot,-br*ut-An*Ot)},qe.prototype.applyToPoint=function(V){var fe=V.x*this.sx+V.y*this.shx+this.tx,ze=V.x*this.shy+V.y*this.sy+this.ty;return new bo(fe,ze)},qe.prototype.applyToRectangle=function(V){var fe=this.applyToPoint(V),ze=this.applyToPoint(new bo(V.x+V.w,V.y+V.h));return new jo(fe.x,fe.y,ze.x-fe.x,ze.y-fe.y)},qe.prototype.clone=function(){var V=this.sx,fe=this.shy,ze=this.shx,rt=this.sy,ut=this.tx,Ot=this.ty;return new qe(V,fe,ze,rt,ut,Ot)},T.Matrix=qe;var lt=T.matrixMult=function(V,fe){return fe.multiply(V)},We=new qe(1,0,0,1,0,0);T.unitMatrix=T.identityMatrix=We;var yt=function(V,fe){if(!sr[V]){var ze=(fe instanceof pp?"Sh":"P")+(Object.keys(_r).length+1).toString(10);fe.id=ze,sr[V]=ze,_r[ze]=fe,le.publish("addPattern",fe)}};T.ShadingPattern=pp,T.TilingPattern=Nm,T.addShadingPattern=function(V,fe){return me("addShadingPattern()"),yt(V,fe),this},T.beginTilingPattern=function(V){me("beginTilingPattern()"),Ms(V.boundingBox[0],V.boundingBox[1],V.boundingBox[2]-V.boundingBox[0],V.boundingBox[3]-V.boundingBox[1],V.matrix)},T.endTilingPattern=function(V,fe){me("endTilingPattern()"),fe.stream=Ct[ye].join(`
`),yt(V,fe),le.publish("endTilingPattern",fe),et.pop().restore()};var Mt,ft=T.__private__.newObject=function(){var V=Qt();return Jt(V,!0),V},Qt=T.__private__.newObjectDeferred=function(){return $e++,Je[$e]=function(){return Ke},$e},Jt=function(V,fe){return fe=typeof fe=="boolean"&&fe,Je[V]=Ke,fe&&Pe(V+" 0 obj"),V},dr=T.__private__.newAdditionalObject=function(){var V={objId:Qt(),content:""};return pt.push(V),V},Wr=Qt(),or=Qt(),Or=T.__private__.decodeColorString=function(V){var fe=V.split(" ");if(fe.length!==2||fe[1]!=="g"&&fe[1]!=="G")fe.length!==5||fe[4]!=="k"&&fe[4]!=="K"||(fe=[(1-fe[0])*(1-fe[3]),(1-fe[1])*(1-fe[3]),(1-fe[2])*(1-fe[3]),"r"]);else{var ze=parseFloat(fe[0]);fe=[ze,ze,ze,"r"]}for(var rt="#",ut=0;ut<3;ut++)rt+=("0"+Math.floor(255*parseFloat(fe[ut])).toString(16)).slice(-2);return rt},jr=T.__private__.encodeColorString=function(V){var fe;typeof V=="string"&&(V={ch1:V});var ze=V.ch1,rt=V.ch2,ut=V.ch3,Ot=V.ch4,Ht=V.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ze=="string"&&ze.charAt(0)!=="#"){var yr=new Nk(ze);if(yr.ok)ze=yr.toHex();else if(!/^\d*\.?\d*$/.test(ze))throw new Error('Invalid color "'+ze+'" passed to jsPDF.encodeColorString.')}if(typeof ze=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ze)&&(ze="#"+ze[1]+ze[1]+ze[2]+ze[2]+ze[3]+ze[3]),typeof ze=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ze)){var br=parseInt(ze.substr(1),16);ze=br>>16&255,rt=br>>8&255,ut=255&br}if(rt===void 0||Ot===void 0&&ze===rt&&rt===ut)fe=typeof ze=="string"?ze+" "+Ht[0]:V.precision===2?se(ze/255)+" "+Ht[0]:de(ze/255)+" "+Ht[0];else if(Ot===void 0||Ri(Ot)==="object"){if(Ot&&!isNaN(Ot.a)&&Ot.a===0)return["1.","1.","1.",Ht[1]].join(" ");fe=typeof ze=="string"?[ze,rt,ut,Ht[1]].join(" "):V.precision===2?[se(ze/255),se(rt/255),se(ut/255),Ht[1]].join(" "):[de(ze/255),de(rt/255),de(ut/255),Ht[1]].join(" ")}else fe=typeof ze=="string"?[ze,rt,ut,Ot,Ht[2]].join(" "):V.precision===2?[se(ze),se(rt),se(ut),se(Ot),Ht[2]].join(" "):[de(ze),de(rt),de(ut),de(Ot),Ht[2]].join(" ");return fe},Kn=T.__private__.getFilters=function(){return f},Nn=T.__private__.putStream=function(V){var fe=(V=V||{}).data||"",ze=V.filters||Kn(),rt=V.alreadyAppliedFilters||[],ut=V.addLength1||!1,Ot=fe.length,Ht=V.objectId,yr=function(ha){return ha};if(w!==null&&Ht===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");w!==null&&(yr=ji.encryptor(Ht,0));var br={};ze===!0&&(ze=["FlateEncode"]);var tn=V.additionalKeyValues||[],An=(br=Gr.API.processDataByFilters!==void 0?Gr.API.processDataByFilters(fe,ze):{data:fe,reverseChain:[]}).reverseChain+(Array.isArray(rt)?rt.join(" "):rt.toString());if(br.data.length!==0&&(tn.push({key:"Length",value:br.data.length}),ut===!0&&tn.push({key:"Length1",value:Ot})),An.length!=0)if(An.split("/").length-1==1)tn.push({key:"Filter",value:An});else{tn.push({key:"Filter",value:"["+An+"]"});for(var zn=0;zn<tn.length;zn+=1)if(tn[zn].key==="DecodeParms"){for(var Pi=[],Hi=0;Hi<br.reverseChain.split("/").length-1;Hi+=1)Pi.push("null");Pi.push(tn[zn].value),tn[zn].value="["+Pi.join(" ")+"]"}}Pe("<<");for(var si=0;si<tn.length;si++)Pe("/"+tn[si].key+" "+tn[si].value);Pe(">>"),br.data.length!==0&&(Pe("stream"),Pe(yr(br.data)),Pe("endstream"))},en=T.__private__.putPage=function(V){var fe=V.number,ze=V.data,rt=V.objId,ut=V.contentsObjId;Jt(rt,!0),Pe("<</Type /Page"),Pe("/Parent "+V.rootDictionaryObjId+" 0 R"),Pe("/Resources "+V.resourceDictionaryObjId+" 0 R"),Pe("/MediaBox ["+parseFloat(Fe(V.mediaBox.bottomLeftX))+" "+parseFloat(Fe(V.mediaBox.bottomLeftY))+" "+Fe(V.mediaBox.topRightX)+" "+Fe(V.mediaBox.topRightY)+"]"),V.cropBox!==null&&Pe("/CropBox ["+Fe(V.cropBox.bottomLeftX)+" "+Fe(V.cropBox.bottomLeftY)+" "+Fe(V.cropBox.topRightX)+" "+Fe(V.cropBox.topRightY)+"]"),V.bleedBox!==null&&Pe("/BleedBox ["+Fe(V.bleedBox.bottomLeftX)+" "+Fe(V.bleedBox.bottomLeftY)+" "+Fe(V.bleedBox.topRightX)+" "+Fe(V.bleedBox.topRightY)+"]"),V.trimBox!==null&&Pe("/TrimBox ["+Fe(V.trimBox.bottomLeftX)+" "+Fe(V.trimBox.bottomLeftY)+" "+Fe(V.trimBox.topRightX)+" "+Fe(V.trimBox.topRightY)+"]"),V.artBox!==null&&Pe("/ArtBox ["+Fe(V.artBox.bottomLeftX)+" "+Fe(V.artBox.bottomLeftY)+" "+Fe(V.artBox.topRightX)+" "+Fe(V.artBox.topRightY)+"]"),typeof V.userUnit=="number"&&V.userUnit!==1&&Pe("/UserUnit "+V.userUnit),le.publish("putPage",{objId:rt,pageContext:Me[fe],pageNumber:fe,page:ze}),Pe("/Contents "+ut+" 0 R"),Pe(">>"),Pe("endobj");var Ot=ze.join(`
`);return ae===W&&(Ot+=`
Q`),Jt(ut,!0),Nn({data:Ot,filters:Kn(),objectId:ut}),Pe("endobj"),rt},vn=T.__private__.putPages=function(){var V,fe,ze=[];for(V=1;V<=Xr;V++)Me[V].objId=Qt(),Me[V].contentsObjId=Qt();for(V=1;V<=Xr;V++)ze.push(en({number:V,data:Ct[V],objId:Me[V].objId,contentsObjId:Me[V].contentsObjId,mediaBox:Me[V].mediaBox,cropBox:Me[V].cropBox,bleedBox:Me[V].bleedBox,trimBox:Me[V].trimBox,artBox:Me[V].artBox,userUnit:Me[V].userUnit,rootDictionaryObjId:Wr,resourceDictionaryObjId:or}));Jt(Wr,!0),Pe("<</Type /Pages");var rt="/Kids [";for(fe=0;fe<Xr;fe++)rt+=ze[fe]+" 0 R ";Pe(rt+"]"),Pe("/Count "+Xr),Pe(">>"),Pe("endobj"),le.publish("postPutPages")},Pn=function(V){le.publish("putFont",{font:V,out:Pe,newObject:ft,putStream:Nn}),V.isAlreadyPutted!==!0&&(V.objectNumber=ft(),Pe("<<"),Pe("/Type /Font"),Pe("/BaseFont /"+Pm(V.postScriptName)),Pe("/Subtype /Type1"),typeof V.encoding=="string"&&Pe("/Encoding /"+V.encoding),Pe("/FirstChar 32"),Pe("/LastChar 255"),Pe(">>"),Pe("endobj"))},gi=function(V){V.objectNumber=ft();var fe=[];fe.push({key:"Type",value:"/XObject"}),fe.push({key:"Subtype",value:"/Form"}),fe.push({key:"BBox",value:"["+[Fe(V.x),Fe(V.y),Fe(V.x+V.width),Fe(V.y+V.height)].join(" ")+"]"}),fe.push({key:"Matrix",value:"["+V.matrix.toString()+"]"});var ze=V.pages[1].join(`
`);Nn({data:ze,additionalKeyValues:fe,objectId:V.objectNumber}),Pe("endobj")},ai=function(V,fe){fe||(fe=21);var ze=ft(),rt=(function(Ht,yr){var br,tn=[],An=1/(yr-1);for(br=0;br<1;br+=An)tn.push(br);if(tn.push(1),Ht[0].offset!=0){var zn={offset:0,color:Ht[0].color};Ht.unshift(zn)}if(Ht[Ht.length-1].offset!=1){var Pi={offset:1,color:Ht[Ht.length-1].color};Ht.push(Pi)}for(var Hi="",si=0,ha=0;ha<tn.length;ha++){for(br=tn[ha];br>Ht[si+1].offset;)si++;var Ki=Ht[si].offset,Ta=(br-Ki)/(Ht[si+1].offset-Ki),Bo=Ht[si].color,ya=Ht[si+1].color;Hi+=ke(Math.round((1-Ta)*Bo[0]+Ta*ya[0]).toString(16))+ke(Math.round((1-Ta)*Bo[1]+Ta*ya[1]).toString(16))+ke(Math.round((1-Ta)*Bo[2]+Ta*ya[2]).toString(16))}return Hi.trim()})(V.colors,fe),ut=[];ut.push({key:"FunctionType",value:"0"}),ut.push({key:"Domain",value:"[0.0 1.0]"}),ut.push({key:"Size",value:"["+fe+"]"}),ut.push({key:"BitsPerSample",value:"8"}),ut.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ut.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Nn({data:rt,additionalKeyValues:ut,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ze}),Pe("endobj"),V.objectNumber=ft(),Pe("<< /ShadingType "+V.type),Pe("/ColorSpace /DeviceRGB");var Ot="/Coords ["+Fe(parseFloat(V.coords[0]))+" "+Fe(parseFloat(V.coords[1]))+" ";V.type===2?Ot+=Fe(parseFloat(V.coords[2]))+" "+Fe(parseFloat(V.coords[3])):Ot+=Fe(parseFloat(V.coords[2]))+" "+Fe(parseFloat(V.coords[3]))+" "+Fe(parseFloat(V.coords[4]))+" "+Fe(parseFloat(V.coords[5])),Pe(Ot+="]"),V.matrix&&Pe("/Matrix ["+V.matrix.toString()+"]"),Pe("/Function "+ze+" 0 R"),Pe("/Extend [true true]"),Pe(">>"),Pe("endobj")},yi=function(V,fe){var ze=Qt(),rt=ft();fe.push({resourcesOid:ze,objectOid:rt}),V.objectNumber=rt;var ut=[];ut.push({key:"Type",value:"/Pattern"}),ut.push({key:"PatternType",value:"1"}),ut.push({key:"PaintType",value:"1"}),ut.push({key:"TilingType",value:"1"}),ut.push({key:"BBox",value:"["+V.boundingBox.map(Fe).join(" ")+"]"}),ut.push({key:"XStep",value:Fe(V.xStep)}),ut.push({key:"YStep",value:Fe(V.yStep)}),ut.push({key:"Resources",value:ze+" 0 R"}),V.matrix&&ut.push({key:"Matrix",value:"["+V.matrix.toString()+"]"}),Nn({data:V.stream,additionalKeyValues:ut,objectId:V.objectNumber}),Pe("endobj")},_o=function(V){for(var fe in V.objectNumber=ft(),Pe("<<"),V)switch(fe){case"opacity":Pe("/ca "+se(V[fe]));break;case"stroke-opacity":Pe("/CA "+se(V[fe]))}Pe(">>"),Pe("endobj")},wn=function(V){Jt(V.resourcesOid,!0),Pe("<<"),Pe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var fe in Pe("/Font <<"),Zt)Zt.hasOwnProperty(fe)&&(C===!1||C===!0&&F.hasOwnProperty(fe))&&Pe("/"+fe+" "+Zt[fe].objectNumber+" 0 R");Pe(">>")})(),(function(){if(Object.keys(_r).length>0){for(var fe in Pe("/Shading <<"),_r)_r.hasOwnProperty(fe)&&_r[fe]instanceof pp&&_r[fe].objectNumber>=0&&Pe("/"+fe+" "+_r[fe].objectNumber+" 0 R");le.publish("putShadingPatternDict"),Pe(">>")}})(),(function(fe){if(Object.keys(_r).length>0){for(var ze in Pe("/Pattern <<"),_r)_r.hasOwnProperty(ze)&&_r[ze]instanceof T.TilingPattern&&_r[ze].objectNumber>=0&&_r[ze].objectNumber<fe&&Pe("/"+ze+" "+_r[ze].objectNumber+" 0 R");le.publish("putTilingPatternDict"),Pe(">>")}})(V.objectOid),(function(){if(Object.keys(Lr).length>0){var fe;for(fe in Pe("/ExtGState <<"),Lr)Lr.hasOwnProperty(fe)&&Lr[fe].objectNumber>=0&&Pe("/"+fe+" "+Lr[fe].objectNumber+" 0 R");le.publish("putGStateDict"),Pe(">>")}})(),(function(){for(var fe in Pe("/XObject <<"),we)we.hasOwnProperty(fe)&&we[fe].objectNumber>=0&&Pe("/"+fe+" "+we[fe].objectNumber+" 0 R");le.publish("putXobjectDict"),Pe(">>")})(),Pe(">>"),Pe("endobj")},Ui=function(V){Gt[V.fontName]=Gt[V.fontName]||{},Gt[V.fontName][V.fontStyle]=V.id},eu=function(V,fe,ze,rt,ut){var Ot={id:"F"+(Object.keys(Zt).length+1).toString(10),postScriptName:V,fontName:fe,fontStyle:ze,encoding:rt,isStandardFont:ut||!1,metadata:{}};return le.publish("addFont",{font:Ot,instance:this}),Zt[Ot.id]=Ot,Ui(Ot),Ot.id},vi=T.__private__.pdfEscape=T.pdfEscape=function(V,fe){return(function(ze,rt){var ut,Ot,Ht,yr,br,tn,An,zn,Pi;if(Ht=(rt=rt||{}).sourceEncoding||"Unicode",br=rt.outputEncoding,(rt.autoencode||br)&&Zt[cr].metadata&&Zt[cr].metadata[Ht]&&Zt[cr].metadata[Ht].encoding&&(yr=Zt[cr].metadata[Ht].encoding,!br&&Zt[cr].encoding&&(br=Zt[cr].encoding),!br&&yr.codePages&&(br=yr.codePages[0]),typeof br=="string"&&(br=yr[br]),br)){for(An=!1,tn=[],ut=0,Ot=ze.length;ut<Ot;ut++)(zn=br[ze.charCodeAt(ut)])?tn.push(String.fromCharCode(zn)):tn.push(ze[ut]),tn[ut].charCodeAt(0)>>8&&(An=!0);ze=tn.join("")}for(ut=ze.length;An===void 0&&ut!==0;)ze.charCodeAt(ut-1)>>8&&(An=!0),ut--;if(!An)return ze;for(tn=rt.noBOM?[]:[254,255],ut=0,Ot=ze.length;ut<Ot;ut++){if((Pi=(zn=ze.charCodeAt(ut))>>8)>>8)throw new Error("Character at position "+ut+" of string '"+ze+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");tn.push(Pi),tn.push(zn-(Pi<<8))}return String.fromCharCode.apply(void 0,tn)})(V,fe).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Mi=T.__private__.beginPage=function(V){Ct[++Xr]=[],Me[Xr]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(V[0]),topRightY:Number(V[1])}},Qa(Xr),Xt(Ct[ye])},Vl=function(V,fe){var ze,rt,ut;switch(r=fe||r,typeof V=="string"&&(ze=K(V.toLowerCase()),Array.isArray(ze)&&(rt=ze[0],ut=ze[1])),Array.isArray(V)&&(rt=V[0]*Pr,ut=V[1]*Pr),isNaN(rt)&&(rt=s[0],ut=s[1]),(rt>14400||ut>14400)&&(oa.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),rt=Math.min(14400,rt),ut=Math.min(14400,ut)),s=[rt,ut],r.substr(0,1)){case"l":ut>rt&&(s=[ut,rt]);break;case"p":rt>ut&&(s=[ut,rt])}Mi(s),Vr(ua),Pe(Zs),xA!==0&&Pe(xA+" J"),ca!==0&&Pe(ca+" j"),le.publish("addPage",{pageNumber:Xr})},Za=function(V){V>0&&V<=Xr&&(Ct.splice(V,1),Me.splice(V,1),Xr--,ye>Xr&&(ye=Xr),this.setPage(ye))},Qa=function(V){V>0&&V<=Xr&&(ye=V)},ll=T.__private__.getNumberOfPages=T.getNumberOfPages=function(){return Ct.length-1},Al=function(V,fe,ze){var rt,ut=void 0;return ze=ze||{},V=V!==void 0?V:Zt[cr].fontName,fe=fe!==void 0?fe:Zt[cr].fontStyle,rt=V.toLowerCase(),Gt[rt]!==void 0&&Gt[rt][fe]!==void 0?ut=Gt[rt][fe]:Gt[V]!==void 0&&Gt[V][fe]!==void 0?ut=Gt[V][fe]:ze.disableWarning===!1&&oa.warn("Unable to look up font label for font '"+V+"', '"+fe+"'. Refer to getFontList() for available fonts."),ut||ze.noFallback||(ut=Gt.times[fe])==null&&(ut=Gt.times.normal),ut},Vn=T.__private__.putInfo=function(){var V=ft(),fe=function(rt){return rt};for(var ze in w!==null&&(fe=ji.encryptor(V,0)),Pe("<<"),Pe("/Producer ("+vi(fe("jsPDF "+Gr.version))+")"),Lt)Lt.hasOwnProperty(ze)&&Lt[ze]&&Pe("/"+ze.substr(0,1).toUpperCase()+ze.substr(1)+" ("+vi(fe(Lt[ze]))+")");Pe("/CreationDate ("+vi(fe(nt))+")"),Pe(">>"),Pe("endobj")},Gs=T.__private__.putCatalog=function(V){var fe=(V=V||{}).rootDictionaryObjId||Wr;switch(ft(),Pe("<<"),Pe("/Type /Catalog"),Pe("/Pages "+fe+" 0 R"),nr||(nr="fullwidth"),nr){case"fullwidth":Pe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Pe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Pe("/OpenAction [3 0 R /Fit]");break;case"original":Pe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ze=""+nr;ze.substr(ze.length-1)==="%"&&(nr=parseInt(nr)/100),typeof nr=="number"&&Pe("/OpenAction [3 0 R /XYZ null null "+se(nr)+"]")}switch(nn||(nn="continuous"),nn){case"continuous":Pe("/PageLayout /OneColumn");break;case"single":Pe("/PageLayout /SinglePage");break;case"two":case"twoleft":Pe("/PageLayout /TwoColumnLeft");break;case"tworight":Pe("/PageLayout /TwoColumnRight")}Br&&Pe("/PageMode /"+Br),le.publish("putCatalog"),Pe(">>"),Pe("endobj")},Wi=T.__private__.putTrailer=function(){Pe("trailer"),Pe("<<"),Pe("/Size "+($e+1)),Pe("/Root "+$e+" 0 R"),Pe("/Info "+($e-1)+" 0 R"),w!==null&&Pe("/Encrypt "+ji.oid+" 0 R"),Pe("/ID [ <"+Oe+"> <"+Oe+"> ]"),Pe(">>")},$r=T.__private__.putHeader=function(){Pe("%PDF-"+j),Pe("%")},vA=T.__private__.putXRef=function(){var V="0000000000";Pe("xref"),Pe("0 "+($e+1)),Pe("0000000000 65535 f ");for(var fe=1;fe<=$e;fe++)typeof Je[fe]=="function"?Pe((V+Je[fe]()).slice(-10)+" 00000 n "):Je[fe]!==void 0?Pe((V+Je[fe]).slice(-10)+" 00000 n "):Pe("0000000000 00000 n ")},Aa=T.__private__.buildDocument=function(){var V;$e=0,Ke=0,mt=[],Je=[],pt=[],Wr=Qt(),or=Qt(),Xt(mt),le.publish("buildDocument"),$r(),vn(),(function(){le.publish("putAdditionalObjects");for(var ze=0;ze<pt.length;ze++){var rt=pt[ze];Jt(rt.objId,!0),Pe(rt.content),Pe("endobj")}le.publish("postPutAdditionalObjects")})(),V=[],(function(){for(var ze in Zt)Zt.hasOwnProperty(ze)&&(C===!1||C===!0&&F.hasOwnProperty(ze))&&Pn(Zt[ze])})(),(function(){var ze;for(ze in Lr)Lr.hasOwnProperty(ze)&&_o(Lr[ze])})(),(function(){for(var ze in we)we.hasOwnProperty(ze)&&gi(we[ze])})(),(function(ze){var rt;for(rt in _r)_r.hasOwnProperty(rt)&&(_r[rt]instanceof pp?ai(_r[rt]):_r[rt]instanceof Nm&&yi(_r[rt],ze))})(V),le.publish("putResources"),V.forEach(wn),wn({resourcesOid:or,objectOid:Number.MAX_SAFE_INTEGER}),le.publish("postPutResources"),w!==null&&(ji.oid=ft(),Pe("<<"),Pe("/Filter /Standard"),Pe("/V "+ji.v),Pe("/R "+ji.r),Pe("/U <"+ji.toHexString(ji.U)+">"),Pe("/O <"+ji.toHexString(ji.O)+">"),Pe("/P "+ji.P),Pe(">>"),Pe("endobj")),Vn(),Gs();var fe=Ke;return vA(),Wi(),Pe("startxref"),Pe(""+fe),Pe("%%EOF"),Xt(Ct[ye]),mt.join(`
`)},ul=T.__private__.getBlob=function(V){return new Blob([Rr(V)],{type:"application/pdf"})},As=T.output=T.__private__.output=(Mt=function(V,fe){switch(typeof(fe=fe||{})=="string"?fe={filename:fe}:fe.filename=fe.filename||"generated.pdf",V){case void 0:return Aa();case"save":T.save(fe.filename);break;case"arraybuffer":return Rr(Aa());case"blob":return ul(Aa());case"bloburi":case"bloburl":if(gn.URL!==void 0&&typeof gn.URL.createObjectURL=="function")return gn.URL&&gn.URL.createObjectURL(ul(Aa()))||void 0;oa.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ze="",rt=Aa();try{ze=yL(rt)}catch{ze=yL(unescape(encodeURIComponent(rt)))}return"data:application/pdf;filename="+fe.filename+";base64,"+ze;case"pdfobjectnewwindow":if(Object.prototype.toString.call(gn)==="[object Window]"){var ut="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ot=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';fe.pdfObjectUrl&&(ut=fe.pdfObjectUrl,Ot="");var Ht='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ut+'"'+Ot+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(fe)+");<\/script></body></html>",yr=gn.open();return yr!==null&&yr.document.write(Ht),yr}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(gn)==="[object Window]"){var br='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(fe.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+fe.filename+'" width="500px" height="400px" /></body></html>',tn=gn.open();if(tn!==null){tn.document.write(br);var An=this;tn.document.documentElement.querySelector("#pdfViewer").onload=function(){tn.document.title=fe.filename,tn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(An.output("bloburl"))}}return tn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(gn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var zn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",fe)+'"></iframe></body></html>',Pi=gn.open();if(Pi!==null&&(Pi.document.write(zn),Pi.document.title=fe.filename),Pi||typeof safari>"u")return Pi;break;case"datauri":case"dataurl":return gn.document.location.href=this.output("datauristring",fe);default:return null}},Mt.foo=function(){try{return Mt.apply(this,arguments)}catch(ze){var V=ze.stack||"";~V.indexOf(" at ")&&(V=V.split(" at ")[1]);var fe="Error in function "+V.split(`
`)[0].split("<")[0]+": "+ze.message;if(!gn.console)throw new Error(fe);gn.console.error(fe,ze),gn.alert&&alert(fe)}},Mt.foo.bar=Mt,Mt.foo),us=function(V){return Array.isArray(ue)===!0&&ue.indexOf(V)>-1};switch(n){case"pt":Pr=1;break;case"mm":Pr=72/25.4;break;case"cm":Pr=72/2.54;break;case"in":Pr=72;break;case"px":Pr=us("px_scaling")==1?.75:96/72;break;case"pc":case"em":Pr=12;break;case"ex":Pr=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Pr=n}var ji=null;be(),Ve();var ui=T.__private__.getPageInfo=T.getPageInfo=function(V){if(isNaN(V)||V%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Me[V].objId,pageNumber:V,pageContext:Me[V]}},$s=T.__private__.getPageInfoByObjId=function(V){if(isNaN(V)||V%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var fe in Me)if(Me[fe].objId===V)break;return ui(fe)},Ln=T.__private__.getCurrentPageInfo=T.getCurrentPageInfo=function(){return{objId:Me[ye].objId,pageNumber:ye,pageContext:Me[ye]}};T.addPage=function(){return Vl.apply(this,arguments),this},T.setPage=function(){return Qa.apply(this,arguments),Xt.call(this,Ct[ye]),this},T.insertPage=function(V){return this.addPage(),this.movePage(ye,V),this},T.movePage=function(V,fe){var ze,rt;if(V>fe){ze=Ct[V],rt=Me[V];for(var ut=V;ut>fe;ut--)Ct[ut]=Ct[ut-1],Me[ut]=Me[ut-1];Ct[fe]=ze,Me[fe]=rt,this.setPage(fe)}else if(V<fe){ze=Ct[V],rt=Me[V];for(var Ot=V;Ot<fe;Ot++)Ct[Ot]=Ct[Ot+1],Me[Ot]=Me[Ot+1];Ct[fe]=ze,Me[fe]=rt,this.setPage(fe)}return this},T.deletePage=function(){return Za.apply(this,arguments),this},T.__private__.text=T.text=function(V,fe,ze,rt,ut){var Ot,Ht,yr,br,tn,An,zn,Pi,Hi,si=(rt=rt||{}).scope||this;if(typeof V=="number"&&typeof fe=="number"&&(typeof ze=="string"||Array.isArray(ze))){var ha=ze;ze=fe,fe=V,V=ha}if(arguments[3]instanceof qe==0?(yr=arguments[4],br=arguments[5],Ri(zn=arguments[3])==="object"&&zn!==null||(typeof yr=="string"&&(br=yr,yr=null),typeof zn=="string"&&(br=zn,zn=null),typeof zn=="number"&&(yr=zn,zn=null),rt={flags:zn,angle:yr,align:br})):(me("The transform parameter of text() with a Matrix value"),Hi=ut),isNaN(fe)||isNaN(ze)||V==null)throw new Error("Invalid arguments passed to jsPDF.text");if(V.length===0)return si;var Ki,Ta="",Bo=typeof rt.lineHeightFactor=="number"?rt.lineHeightFactor:Xs,ya=si.internal.scaleFactor;function Ho(Un){return Un=Un.split("	").join(Array(rt.TabLen||9).join(" ")),vi(Un,zn)}function ou(Un){for(var Bn,Xn=Un.concat(),Oi=[],ds=Xn.length;ds--;)typeof(Bn=Xn.shift())=="string"?Oi.push(Bn):Array.isArray(Un)&&(Bn.length===1||Bn[1]===void 0&&Bn[2]===void 0)?Oi.push(Bn[0]):Oi.push([Bn[0],Bn[1],Bn[2]]);return Oi}function BA(Un,Bn){var Xn;if(typeof Un=="string")Xn=Bn(Un)[0];else if(Array.isArray(Un)){for(var Oi,ds,ps=Un.concat(),bl=[],SA=ps.length;SA--;)typeof(Oi=ps.shift())=="string"?bl.push(Bn(Oi)[0]):Array.isArray(Oi)&&typeof Oi[0]=="string"&&(ds=Bn(Oi[0],Oi[1],Oi[2]),bl.push([ds[0],ds[1],ds[2]]));Xn=bl}return Xn}var Ws=!1,Ys=!0;if(typeof V=="string")Ws=!0;else if(Array.isArray(V)){var Js=V.concat();Ht=[];for(var Ko,Ia=Js.length;Ia--;)(typeof(Ko=Js.shift())!="string"||Array.isArray(Ko)&&typeof Ko[0]!="string")&&(Ys=!1);Ws=Ys}if(Ws===!1)throw new Error('Type of text must be string or Array. "'+V+'" is not recognized.');typeof V=="string"&&(V=V.match(/[\r?\n]/)?V.split(/\r\n|\r|\n/g):[V]);var ei=It/si.internal.scaleFactor,CA=ei*(Bo-1);switch(rt.baseline){case"bottom":ze-=CA;break;case"top":ze+=ei-CA;break;case"hanging":ze+=ei-2*CA;break;case"middle":ze+=ei/2-CA}if((An=rt.maxWidth||0)>0&&(typeof V=="string"?V=si.splitTextToSize(V,An):Object.prototype.toString.call(V)==="[object Array]"&&(V=V.reduce(function(Un,Bn){return Un.concat(si.splitTextToSize(Bn,An))},[]))),Ot={text:V,x:fe,y:ze,options:rt,mutex:{pdfEscape:vi,activeFontKey:cr,fonts:Zt,activeFontSize:It}},le.publish("preProcessText",Ot),V=Ot.text,yr=(rt=Ot.options).angle,Hi instanceof qe==0&&yr&&typeof yr=="number"){yr*=Math.PI/180,rt.rotationDirection===0&&(yr=-yr),ae===W&&(yr=-yr);var ln=Math.cos(yr),eo=Math.sin(yr);Hi=new qe(ln,eo,-eo,ln,0,0)}else yr&&yr instanceof qe&&(Hi=yr);ae!==W||Hi||(Hi=We),(tn=rt.charSpace||Us)!==void 0&&(Ta+=Fe(Le(tn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Pi=rt.horizontalScale)!==void 0&&(Ta+=Fe(100*Pi)+` Tz
`),rt.lang;var mn=-1,Tn=rt.renderingMode!==void 0?rt.renderingMode:rt.stroke,Co=si.internal.getCurrentPageInfo().pageContext;switch(Tn){case 0:case!1:case"fill":mn=0;break;case 1:case!0:case"stroke":mn=1;break;case 2:case"fillThenStroke":mn=2;break;case 3:case"invisible":mn=3;break;case 4:case"fillAndAddForClipping":mn=4;break;case 5:case"strokeAndAddPathForClipping":mn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":mn=6;break;case 7:case"addToPathForClipping":mn=7}var Xl=Co.usedRenderingMode!==void 0?Co.usedRenderingMode:-1;mn!==-1?Ta+=mn+` Tr
`:Xl!==-1&&(Ta+=`0 Tr
`),mn!==-1&&(Co.usedRenderingMode=mn),br=rt.align||"left";var Ha,to=It*Bo,cs=si.internal.pageSize.getWidth(),pl=Zt[cr];tn=rt.charSpace||Us,An=rt.maxWidth||0,zn=Object.assign({autoencode:!0,noBOM:!0},rt.flags);var Vi=[],ml=function(Un){return si.getStringUnitWidth(Un,{font:pl,charSpace:tn,fontSize:It,doKerning:!1})*It/ya};if(Object.prototype.toString.call(V)==="[object Array]"){var Wa;Ht=ou(V),br!=="left"&&(Ha=Ht.map(ml));var Ka,Ya=0;if(br==="right"){fe-=Ha[0],V=[],Ia=Ht.length;for(var Ps=0;Ps<Ia;Ps++)Ps===0?(Ka=Ea(fe),Wa=ja(ze)):(Ka=Le(Ya-Ha[Ps]),Wa=-to),V.push([Ht[Ps],Ka,Wa]),Ya=Ha[Ps]}else if(br==="center"){fe-=Ha[0]/2,V=[],Ia=Ht.length;for(var ro=0;ro<Ia;ro++)ro===0?(Ka=Ea(fe),Wa=ja(ze)):(Ka=Le((Ya-Ha[ro])/2),Wa=-to),V.push([Ht[ro],Ka,Wa]),Ya=Ha[ro]}else if(br==="left"){V=[],Ia=Ht.length;for(var Vo=0;Vo<Ia;Vo++)V.push(Ht[Vo])}else if(br==="justify"&&pl.encoding==="Identity-H"){V=[],Ia=Ht.length,An=An!==0?An:cs;for(var gl=0,Si=0;Si<Ia;Si++)if(Wa=Si===0?ja(ze):-to,Ka=Si===0?Ea(fe):gl,Si<Ia-1){var Zl=Le((An-Ha[Si])/(Ht[Si].split(" ").length-1)),hs=Ht[Si].split(" ");V.push([hs[0]+" ",Ka,Wa]),gl=0;for(var qo=1;qo<hs.length;qo++){var va=(ml(hs[qo-1]+" "+hs[qo])-ml(hs[qo]))*ya+Zl;qo==hs.length-1?V.push([hs[qo],va,0]):V.push([hs[qo]+" ",va,0]),gl-=va}}else V.push([Ht[Si],Ka,Wa]);V.push(["",gl,0])}else{if(br!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(V=[],Ia=Ht.length,An=An!==0?An:cs,Si=0;Si<Ia;Si++){Wa=Si===0?ja(ze):-to,Ka=Si===0?Ea(fe):0;var dn=Ht[Si].split(" ").length-1,Wl=dn>0?(An-Ha[Si])/dn:0;Si<Ia-1?Vi.push(Fe(Le(Wl))):Vi.push(0),V.push([Ht[Si],Ka,Wa])}}}(typeof rt.R2L=="boolean"?rt.R2L:Tr)===!0&&(V=BA(V,function(Un,Bn,Xn){return[Un.split("").reverse().join(""),Bn,Xn]})),Ot={text:V,x:fe,y:ze,options:rt,mutex:{pdfEscape:vi,activeFontKey:cr,fonts:Zt,activeFontSize:It}},le.publish("postProcessText",Ot),V=Ot.text,Ki=Ot.mutex.isHex||!1;var Mu=Zt[cr].encoding;Mu!=="WinAnsiEncoding"&&Mu!=="StandardEncoding"||(V=BA(V,function(Un,Bn,Xn){return[Ho(Un),Bn,Xn]})),Ht=ou(V),V=[];for(var yl,Os,Go,vl=Array.isArray(Ht[0])?1:0,Ds="",_l=function(Un,Bn,Xn){var Oi="";return Xn instanceof qe?(Xn=typeof rt.angle=="number"?lt(Xn,new qe(1,0,0,1,Un,Bn)):lt(new qe(1,0,0,1,Un,Bn),Xn),ae===W&&(Xn=lt(new qe(1,0,0,-1,0,0),Xn)),Oi=Xn.join(" ")+` Tm
`):Oi=Fe(Un)+" "+Fe(Bn)+` Td
`,Oi},_a=0;_a<Ht.length;_a++){switch(Ds="",vl){case 1:Go=(Ki?"<":"(")+Ht[_a][0]+(Ki?">":")"),yl=parseFloat(Ht[_a][1]),Os=parseFloat(Ht[_a][2]);break;case 0:Go=(Ki?"<":"(")+Ht[_a]+(Ki?">":")"),yl=Ea(fe),Os=ja(ze)}Vi!==void 0&&Vi[_a]!==void 0&&(Ds=Vi[_a]+` Tw
`),_a===0?V.push(Ds+_l(yl,Os,Hi)+Go):vl===0?V.push(Ds+Go):vl===1&&V.push(Ds+_l(yl,Os,Hi)+Go)}V=vl===0?V.join(` Tj
T* `):V.join(` Tj
`),V+=` Tj
`;var fs=`BT
/`;return fs+=cr+" "+It+` Tf
`,fs+=Fe(It*Bo)+` TL
`,fs+=zo+`
`,fs+=Ta,fs+=V,Pe(fs+="ET"),F[cr]=!0,si};var tu=T.__private__.clip=T.clip=function(V){return Pe(V==="evenodd"?"W*":"W"),this};T.clipEvenOdd=function(){return tu("evenodd")},T.__private__.discardPath=T.discardPath=function(){return Pe("n"),this};var Ra=T.__private__.isValidStyle=function(V){var fe=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(V)!==-1&&(fe=!0),fe};T.__private__.setDefaultPathOperation=T.setDefaultPathOperation=function(V){return Ra(V)&&(b=V),this};var cl=T.__private__.getStyle=T.getStyle=function(V){var fe=b;switch(V){case"D":case"S":fe="S";break;case"F":fe="f";break;case"FD":case"DF":fe="B";break;case"f":case"f*":case"B":case"B*":fe=V}return fe},ru=T.close=function(){return Pe("h"),this};T.stroke=function(){return Pe("S"),this},T.fill=function(V){return Fs("f",V),this},T.fillEvenOdd=function(V){return Fs("f*",V),this},T.fillStroke=function(V){return Fs("B",V),this},T.fillStrokeEvenOdd=function(V){return Fs("B*",V),this};var Fs=function(V,fe){Ri(fe)==="object"?ql(fe,V):Pe(V)},Ro=function(V){V===null||ae===W&&V===void 0||(V=cl(V),Pe(V))};function nu(V,fe,ze,rt,ut){var Ot=new Nm(fe||this.boundingBox,ze||this.xStep,rt||this.yStep,this.gState,ut||this.matrix);Ot.stream=this.stream;var Ht=V+"$$"+this.cloneIndex+++"$$";return yt(Ht,Ot),Ot}var ql=function(V,fe){var ze=sr[V.key],rt=_r[ze];if(rt instanceof pp)Pe("q"),Pe(Fu(fe)),rt.gState&&T.setGState(rt.gState),Pe(V.matrix.toString()+" cm"),Pe("/"+ze+" sh"),Pe("Q");else if(rt instanceof Nm){var ut=new qe(1,0,0,-1,0,dl());V.matrix&&(ut=ut.multiply(V.matrix||We),ze=nu.call(rt,V.key,V.boundingBox,V.xStep,V.yStep,ut).id),Pe("q"),Pe("/Pattern cs"),Pe("/"+ze+" scn"),rt.gState&&T.setGState(rt.gState),Pe(fe),Pe("Q")}},Fu=function(V){switch(V){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},hc=T.moveTo=function(V,fe){return Pe(Fe(Le(V))+" "+Fe(Ue(fe))+" m"),this},fc=T.lineTo=function(V,fe){return Pe(Fe(Le(V))+" "+Fe(Ue(fe))+" l"),this},Ls=T.curveTo=function(V,fe,ze,rt,ut,Ot){return Pe([Fe(Le(V)),Fe(Ue(fe)),Fe(Le(ze)),Fe(Ue(rt)),Fe(Le(ut)),Fe(Ue(Ot)),"c"].join(" ")),this};T.__private__.line=T.line=function(V,fe,ze,rt,ut){if(isNaN(V)||isNaN(fe)||isNaN(ze)||isNaN(rt)||!Ra(ut))throw new Error("Invalid arguments passed to jsPDF.line");return ae===Y?this.lines([[ze-V,rt-fe]],V,fe,[1,1],ut||"S"):this.lines([[ze-V,rt-fe]],V,fe,[1,1]).stroke()},T.__private__.lines=T.lines=function(V,fe,ze,rt,ut,Ot){var Ht,yr,br,tn,An,zn,Pi,Hi,si,ha,Ki,Ta;if(typeof V=="number"&&(Ta=ze,ze=fe,fe=V,V=Ta),rt=rt||[1,1],Ot=Ot||!1,isNaN(fe)||isNaN(ze)||!Array.isArray(V)||!Array.isArray(rt)||!Ra(ut)||typeof Ot!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(hc(fe,ze),Ht=rt[0],yr=rt[1],tn=V.length,ha=fe,Ki=ze,br=0;br<tn;br++)(An=V[br]).length===2?(ha=An[0]*Ht+ha,Ki=An[1]*yr+Ki,fc(ha,Ki)):(zn=An[0]*Ht+ha,Pi=An[1]*yr+Ki,Hi=An[2]*Ht+ha,si=An[3]*yr+Ki,ha=An[4]*Ht+ha,Ki=An[5]*yr+Ki,Ls(zn,Pi,Hi,si,ha,Ki));return Ot&&ru(),Ro(ut),this},T.path=function(V){for(var fe=0;fe<V.length;fe++){var ze=V[fe],rt=ze.c;switch(ze.op){case"m":hc(rt[0],rt[1]);break;case"l":fc(rt[0],rt[1]);break;case"c":Ls.apply(this,rt);break;case"h":ru()}}return this},T.__private__.rect=T.rect=function(V,fe,ze,rt,ut){if(isNaN(V)||isNaN(fe)||isNaN(ze)||isNaN(rt)||!Ra(ut))throw new Error("Invalid arguments passed to jsPDF.rect");return ae===Y&&(rt=-rt),Pe([Fe(Le(V)),Fe(Ue(fe)),Fe(Le(ze)),Fe(Le(rt)),"re"].join(" ")),Ro(ut),this},T.__private__.triangle=T.triangle=function(V,fe,ze,rt,ut,Ot,Ht){if(isNaN(V)||isNaN(fe)||isNaN(ze)||isNaN(rt)||isNaN(ut)||isNaN(Ot)||!Ra(Ht))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ze-V,rt-fe],[ut-ze,Ot-rt],[V-ut,fe-Ot]],V,fe,[1,1],Ht,!0),this},T.__private__.roundedRect=T.roundedRect=function(V,fe,ze,rt,ut,Ot,Ht){if(isNaN(V)||isNaN(fe)||isNaN(ze)||isNaN(rt)||isNaN(ut)||isNaN(Ot)||!Ra(Ht))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var yr=4/3*(Math.SQRT2-1);return ut=Math.min(ut,.5*ze),Ot=Math.min(Ot,.5*rt),this.lines([[ze-2*ut,0],[ut*yr,0,ut,Ot-Ot*yr,ut,Ot],[0,rt-2*Ot],[0,Ot*yr,-ut*yr,Ot,-ut,Ot],[2*ut-ze,0],[-ut*yr,0,-ut,-Ot*yr,-ut,-Ot],[0,2*Ot-rt],[0,-Ot*yr,ut*yr,-Ot,ut,-Ot]],V+ut,fe,[1,1],Ht,!0),this},T.__private__.ellipse=T.ellipse=function(V,fe,ze,rt,ut){if(isNaN(V)||isNaN(fe)||isNaN(ze)||isNaN(rt)||!Ra(ut))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ot=4/3*(Math.SQRT2-1)*ze,Ht=4/3*(Math.SQRT2-1)*rt;return hc(V+ze,fe),Ls(V+ze,fe-Ht,V+Ot,fe-rt,V,fe-rt),Ls(V-Ot,fe-rt,V-ze,fe-Ht,V-ze,fe),Ls(V-ze,fe+Ht,V-Ot,fe+rt,V,fe+rt),Ls(V+Ot,fe+rt,V+ze,fe+Ht,V+ze,fe),Ro(ut),this},T.__private__.circle=T.circle=function(V,fe,ze,rt){if(isNaN(V)||isNaN(fe)||isNaN(ze)||!Ra(rt))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(V,fe,ze,ze,rt)},T.setFont=function(V,fe,ze){return ze&&(fe=Be(fe,ze)),cr=Al(V,fe,{disableWarning:!1}),this};var za=T.__private__.getFont=T.getFont=function(){return Zt[Al.apply(T,arguments)]};T.__private__.getFontList=T.getFontList=function(){var V,fe,ze={};for(V in Gt)if(Gt.hasOwnProperty(V))for(fe in ze[V]=[],Gt[V])Gt[V].hasOwnProperty(fe)&&ze[V].push(fe);return ze},T.addFont=function(V,fe,ze,rt,ut){var Ot=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ot.indexOf(arguments[3])!==-1?ut=arguments[3]:arguments[3]&&Ot.indexOf(arguments[3])==-1&&(ze=Be(ze,rt)),eu.call(this,V,fe,ze,ut=ut||"Identity-H")};var Xs,ua=e.lineWidth||.200025,Yi=T.__private__.getLineWidth=T.getLineWidth=function(){return ua},Vr=T.__private__.setLineWidth=T.setLineWidth=function(V){return ua=V,Pe(Fe(Le(V))+" w"),this};T.__private__.setLineDash=Gr.API.setLineDash=Gr.API.setLineDashPattern=function(V,fe){if(V=V||[],fe=fe||0,isNaN(fe)||!Array.isArray(V))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return V=V.map(function(ze){return Fe(Le(ze))}).join(" "),fe=Fe(Le(fe)),Pe("["+V+"] "+fe+" d"),this};var iu=T.__private__.getLineHeight=T.getLineHeight=function(){return It*Xs};T.__private__.getLineHeight=T.getLineHeight=function(){return It*Xs};var _A=T.__private__.setLineHeightFactor=T.setLineHeightFactor=function(V){return typeof(V=V||1.15)=="number"&&(Xs=V),this},dc=T.__private__.getLineHeightFactor=T.getLineHeightFactor=function(){return Xs};_A(e.lineHeight);var Ea=T.__private__.getHorizontalCoordinate=function(V){return Le(V)},ja=T.__private__.getVerticalCoordinate=function(V){return ae===W?V:Me[ye].mediaBox.topRightY-Me[ye].mediaBox.bottomLeftY-Le(V)},Lu=T.__private__.getHorizontalCoordinateString=T.getHorizontalCoordinateString=function(V){return Fe(Ea(V))},bA=T.__private__.getVerticalCoordinateString=T.getVerticalCoordinateString=function(V){return Fe(ja(V))},Zs=e.strokeColor||"0 G";T.__private__.getStrokeColor=T.getDrawColor=function(){return Or(Zs)},T.__private__.setStrokeColor=T.setDrawColor=function(V,fe,ze,rt){return Zs=jr({ch1:V,ch2:fe,ch3:ze,ch4:rt,pdfColorType:"draw",precision:2}),Pe(Zs),this};var au=e.fillColor||"0 g";T.__private__.getFillColor=T.getFillColor=function(){return Or(au)},T.__private__.setFillColor=T.setFillColor=function(V,fe,ze,rt){return au=jr({ch1:V,ch2:fe,ch3:ze,ch4:rt,pdfColorType:"fill",precision:2}),Pe(au),this};var zo=e.textColor||"0 g",wA=T.__private__.getTextColor=T.getTextColor=function(){return Or(zo)};T.__private__.setTextColor=T.setTextColor=function(V,fe,ze,rt){return zo=jr({ch1:V,ch2:fe,ch3:ze,ch4:rt,pdfColorType:"text",precision:3}),this};var Us=e.charSpace,Gl=T.__private__.getCharSpace=T.getCharSpace=function(){return parseFloat(Us||0)};T.__private__.setCharSpace=T.setCharSpace=function(V){if(isNaN(V))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Us=V,this};var xA=0;T.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},T.__private__.setLineCap=T.setLineCap=function(V){var fe=T.CapJoinStyles[V];if(fe===void 0)throw new Error("Line cap style of '"+V+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return xA=fe,Pe(fe+" J"),this};var ca=0;T.__private__.setLineJoin=T.setLineJoin=function(V){var fe=T.CapJoinStyles[V];if(fe===void 0)throw new Error("Line join style of '"+V+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ca=fe,Pe(fe+" j"),this},T.__private__.setLineMiterLimit=T.__private__.setMiterLimit=T.setLineMiterLimit=T.setMiterLimit=function(V){if(V=V||0,isNaN(V))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Pe(Fe(Le(V))+" M"),this},T.GState=nb,T.setGState=function(V){(V=typeof V=="string"?Lr[zr[V]]:ga(null,V)).equals(kn)||(Pe("/"+V.id+" gs"),kn=V)};var ga=function(V,fe){if(!V||!zr[V]){var ze=!1;for(var rt in Lr)if(Lr.hasOwnProperty(rt)&&Lr[rt].equals(fe)){ze=!0;break}if(ze)fe=Lr[rt];else{var ut="GS"+(Object.keys(Lr).length+1).toString(10);Lr[ut]=fe,fe.id=ut}return V&&(zr[V]=fe.id),le.publish("addGState",fe),fe}};T.addGState=function(V,fe){return ga(V,fe),this},T.saveGraphicsState=function(){return Pe("q"),Zr.push({key:cr,size:It,color:zo}),this},T.restoreGraphicsState=function(){Pe("Q");var V=Zr.pop();return cr=V.key,It=V.size,zo=V.color,kn=null,this},T.setCurrentTransformationMatrix=function(V){return Pe(V.toString()+" cm"),this},T.comment=function(V){return Pe("#"+V),this};var bo=function(V,fe){var ze=V||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ze},set:function(Ot){isNaN(Ot)||(ze=parseFloat(Ot))}});var rt=fe||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return rt},set:function(Ot){isNaN(Ot)||(rt=parseFloat(Ot))}});var ut="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ut},set:function(Ot){ut=Ot.toString()}}),this},jo=function(V,fe,ze,rt){bo.call(this,V,fe),this.type="rect";var ut=ze||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ut},set:function(Ht){isNaN(Ht)||(ut=parseFloat(Ht))}});var Ot=rt||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ot},set:function(Ht){isNaN(Ht)||(Ot=parseFloat(Ht))}}),this},wo=function(){this.page=Xr,this.currentPage=ye,this.pages=Ct.slice(0),this.pagesContext=Me.slice(0),this.x=fr,this.y=ri,this.matrix=Pt,this.width=xo(ye),this.height=hl(ye),this.outputDestination=qt,this.id="",this.objectNumber=-1};wo.prototype.restore=function(){Xr=this.page,ye=this.currentPage,Me=this.pagesContext,Ct=this.pages,fr=this.x,ri=this.y,Pt=this.matrix,su(ye,this.width),$l(ye,this.height),qt=this.outputDestination};var Ms=function(V,fe,ze,rt,ut){et.push(new wo),Xr=ye=0,Ct=[],fr=V,ri=fe,Pt=ut,Mi([ze,rt])};for(var _n in T.beginFormObject=function(V,fe,ze,rt,ut){return Ms(V,fe,ze,rt,ut),this},T.endFormObject=function(V){return(function(fe){if(Re[fe])et.pop().restore();else{var ze=new wo,rt="Xo"+(Object.keys(we).length+1).toString(10);ze.id=rt,Re[fe]=rt,we[rt]=ze,le.publish("addFormObject",ze),et.pop().restore()}})(V),this},T.doFormObject=function(V,fe){var ze=we[Re[V]];return Pe("q"),Pe(fe.toString()+" cm"),Pe("/"+ze.id+" Do"),Pe("Q"),this},T.getFormObject=function(V){var fe=we[Re[V]];return{x:fe.x,y:fe.y,width:fe.width,height:fe.height,matrix:fe.matrix}},T.save=function(V,fe){return V=V||"generated.pdf",(fe=fe||{}).returnPromise=fe.returnPromise||!1,fe.returnPromise===!1?(fp(ul(Aa()),V),typeof fp.unload=="function"&&gn.setTimeout&&setTimeout(fp.unload,911),this):new Promise(function(ze,rt){try{var ut=fp(ul(Aa()),V);typeof fp.unload=="function"&&gn.setTimeout&&setTimeout(fp.unload,911),ze(ut)}catch(Ot){rt(Ot.message)}})},Gr.API)Gr.API.hasOwnProperty(_n)&&(_n==="events"&&Gr.API.events.length?(function(V,fe){var ze,rt,ut;for(ut=fe.length-1;ut!==-1;ut--)ze=fe[ut][0],rt=fe[ut][1],V.subscribe.apply(V,[ze].concat(typeof rt=="function"?[rt]:rt))})(le,Gr.API.events):T[_n]=Gr.API[_n]);function xo(V){return Me[V].mediaBox.topRightX-Me[V].mediaBox.bottomLeftX}function su(V,fe){Me[V].mediaBox.topRightX=fe+Me[V].mediaBox.bottomLeftX}function hl(V){return Me[V].mediaBox.topRightY-Me[V].mediaBox.bottomLeftY}function $l(V,fe){Me[V].mediaBox.topRightY=fe+Me[V].mediaBox.bottomLeftY}var fl=T.getPageWidth=function(V){return xo(V=V||ye)/Pr},qc=T.setPageWidth=function(V,fe){su(V,fe*Pr)},dl=T.getPageHeight=function(V){return hl(V=V||ye)/Pr},Uu=T.setPageHeight=function(V,fe){$l(V,fe*Pr)};return T.internal={pdfEscape:vi,getStyle:cl,getFont:za,getFontSize:ur,getCharSpace:Gl,getTextColor:wA,getLineHeight:iu,getLineHeightFactor:dc,getLineWidth:Yi,write:Ye,getHorizontalCoordinate:Ea,getVerticalCoordinate:ja,getCoordinateString:Lu,getVerticalCoordinateString:bA,collections:{},newObject:ft,newAdditionalObject:dr,newObjectDeferred:Qt,newObjectDeferredBegin:Jt,getFilters:Kn,putStream:Nn,events:le,scaleFactor:Pr,pageSize:{getWidth:function(){return fl(ye)},setWidth:function(V){qc(ye,V)},getHeight:function(){return dl(ye)},setHeight:function(V){Uu(ye,V)}},encryptionOptions:w,encryption:ji,getEncryptor:function(V){return w!==null?ji.encryptor(V,0):function(fe){return fe}},output:As,getNumberOfPages:ll,get pages(){return Ct},out:Pe,f2:se,f3:de,getPageInfo:ui,getPageInfoByObjId:$s,getCurrentPageInfo:Ln,getPDFVersion:k,Point:bo,Rectangle:jo,Matrix:qe,hasHotfix:us},Object.defineProperty(T.internal.pageSize,"width",{get:function(){return fl(ye)},set:function(V){qc(ye,V)},enumerable:!0,configurable:!0}),Object.defineProperty(T.internal.pageSize,"height",{get:function(){return dl(ye)},set:function(V){Uu(ye,V)},enumerable:!0,configurable:!0}),(function(V){for(var fe=0,ze=Er.length;fe<ze;fe++){var rt=eu.call(this,V[fe][0],V[fe][1],V[fe][2],Er[fe][3],!0);C===!1&&(F[rt]=!0);var ut=V[fe][0].split("-");Ui({id:rt,fontName:ut[0],fontStyle:ut[1]||""})}le.publish("addFonts",{fonts:Zt,dictionary:Gt})}).call(T,Er),cr="F1",Vl(s,r),le.publish("initialized"),T}Mm.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Mm.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Mm.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Mm.prototype.processOwnerPassword=function(e,t){return L5(F5(t).substr(0,5),e)},Mm.prototype.encryptor=function(e,t){var r=F5(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return L5(r,n)}},nb.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Ri(e)!==Ri(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Gr.API={events:[]},Gr.version="3.0.4";var os=Gr.API,OS=1,Qp=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Tm=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},En=function(e){return e.toFixed(2)},id=function(e){return e.toFixed(5)};os.__acroform__={};var JA=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},wL=function(e){return e*OS},gh=function(e){var t=new jk,r=Mr.internal.getHeight(e)||0,n=Mr.internal.getWidth(e)||0;return t.BBox=[0,0,Number(En(n)),Number(En(r))],t},Ale=os.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},ule=os.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},cle=os.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Ss=os.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return cle(e,t-1)},Es=os.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Ale(e,t-1)},Ts=os.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return ule(e,t-1)},hle=os.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,s=e[0],A=e[1],f=e[2],l=e[3],y={};return y.lowerLeft_X=r(s)||0,y.lowerLeft_Y=n(A+l)||0,y.upperRight_X=r(s+f)||0,y.upperRight_Y=n(A)||0,[Number(En(y.lowerLeft_X)),Number(En(y.lowerLeft_Y)),Number(En(y.upperRight_X)),Number(En(y.upperRight_Y))]},fle=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=U5(e,r),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+En(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var A=gh(e);return A.scope=e.scope,A.stream=t.join(`
`),A}},U5=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map(function(se){return se.split(`
`)}):s.map(function(se){return[se]});var A=r,f=Mr.internal.getHeight(e)||0;f=f<0?-f:f;var l=Mr.internal.getWidth(e)||0;l=l<0?-l:l;var y=function(se,de,Le){if(se+1<s.length){var Ue=de+" "+s[se+1][0];return I1(Ue,e,Le).width<=l-4}return!1};A++;e:for(;A>0;){t="",A--;var b,w,C=I1("3",e,A).height,F=e.multiline?f-A:(f-C)/2,T=F+=2,j=0,k=0,H=0;if(A<=0){t=`(...) Tj
`,t+="% Width of Text: "+I1(t,e,A=12).width+", FieldWidth:"+l+`
`;break}for(var K="",Y=0,W=0;W<s.length;W++)if(s.hasOwnProperty(W)){var ae=!1;if(s[W].length!==1&&H!==s[W].length-1){if((C+2)*(Y+2)+2>f)continue e;K+=s[W][H],ae=!0,k=W,W--}else{K=(K+=s[W][H]+" ").substr(K.length-1)==" "?K.substr(0,K.length-1):K;var Ae=parseInt(W),pe=y(Ae,K,A),Be=W>=s.length-1;if(pe&&!Be){K+=" ",H=0;continue}if(pe||Be){if(Be)k=Ae;else if(e.multiline&&(C+2)*(Y+2)+2>f)continue e}else{if(!e.multiline||(C+2)*(Y+2)+2>f)continue e;k=Ae}}for(var Fe="",me=j;me<=k;me++){var He=s[me];if(e.multiline){if(me===k){Fe+=He[H]+" ",H=(H+1)%He.length;continue}if(me===j){Fe+=He[He.length-1]+" ";continue}}Fe+=He[0]+" "}switch(Fe=Fe.substr(Fe.length-1)==" "?Fe.substr(0,Fe.length-1):Fe,w=I1(Fe,e,A).width,e.textAlign){case"right":b=l-w-2;break;case"center":b=(l-w)/2;break;default:b=2}t+=En(b)+" "+En(T)+` Td
`,t+="("+Qp(Fe)+`) Tj
`,t+=-En(b)+` 0 Td
`,T=-(A+2),w=0,j=ae?k:k+1,Y++,K=""}break}return n.text=t,n.fontSize=A,n},I1=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:s}},dle={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},ple=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},mle=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Kc.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(dle)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");OS=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new Hk,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var A=n[s];A.objId=void 0,A.hasAnnotation&&ple(A,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,s){var A=!n;for(var f in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(f)){var l=n[f],y=[],b=l.Rect;if(l.Rect&&(l.Rect=hle(l.Rect,s)),s.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Mr.createDefaultAppearanceStream(l),Ri(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(y=l.getKeyValueListForStream()),l.Rect=b,l.hasAppearanceStream&&!l.appearanceStreamContent){var w=fle(l);y.push({key:"AP",value:"<</N "+w+">>"}),s.internal.acroformPlugin.xForms.push(w)}if(l.appearanceStreamContent){var C="";for(var F in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(F)){var T=l.appearanceStreamContent[F];if(C+="/"+F+" ",C+="<<",Object.keys(T).length>=1||Array.isArray(T)){for(var f in T)if(T.hasOwnProperty(f)){var j=T[f];typeof j=="function"&&(j=j.call(s,l)),C+="/"+f+" "+j+" ",s.internal.acroformPlugin.xForms.indexOf(j)>=0||s.internal.acroformPlugin.xForms.push(j)}}else typeof(j=T)=="function"&&(j=j.call(s,l)),C+="/"+f+" "+j,s.internal.acroformPlugin.xForms.indexOf(j)>=0||s.internal.acroformPlugin.xForms.push(j);C+=">>"}y.push({key:"AP",value:`<<
`+C+">>"})}s.internal.putStream({additionalKeyValues:y,objectId:l.objId}),s.internal.out("endobj")}A&&(function(k,H){for(var K in k)if(k.hasOwnProperty(K)){var Y=K,W=k[K];H.internal.newObjectDeferredBegin(W.objId,!0),Ri(W)==="object"&&typeof W.putStream=="function"&&W.putStream(),delete k[Y]}})(s.internal.acroformPlugin.xForms,s)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},zk=os.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(f){return f};if(Array.isArray(e)){for(var s="[",A=0;A<e.length;A++)switch(A!==0&&(s+=" "),Ri(e[A])){case"boolean":case"number":case"object":s+=e[A].toString();break;case"string":e[A].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),s+="("+Qp(n(e[A].toString()))+")"):s+=e[A].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},G2=function(e,t,r){var n=function(s){return s};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+Qp(n(e))+")"},_h=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};_h.prototype.toString=function(){return this.objId+" 0 R"},_h.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},_h.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(A){return A!="content"&&A!="appearanceStreamContent"&&A!="scope"&&A!="objId"&&A.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],s=this[n];s&&(Array.isArray(s)?e.push({key:n,value:zk(s,this.objId,this.scope)}):s instanceof _h?(s.scope=this.scope,e.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:n,value:s}))}return e};var jk=function(){_h.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};JA(jk,_h);var Hk=function(){_h.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Qp(r(e))+")"}},set:function(r){e=r}})};JA(Hk,_h);var Kc=function e(){_h.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(K){if(isNaN(K))throw new Error('Invalid value "'+K+'" for attribute F supplied.');t=K}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ss(t,3)},set:function(K){K?this.F=Es(t,3):this.F=Ts(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(K){if(isNaN(K))throw new Error('Invalid value "'+K+'" for attribute Ff supplied.');r=K}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(K){n=K!==void 0?K:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(K){n[0]=K}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(K){n[1]=K}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(K){n[2]=K}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(K){n[3]=K}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(K){switch(K){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=K;break;default:throw new Error('Invalid value "'+K+'" for attribute FT supplied.')}}});var A=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!A||A.length<1){if(this instanceof ib)return;A="FieldObject"+e.FieldNum++}var K=function(Y){return Y};return this.scope&&(K=this.scope.internal.getEncryptor(this.objId)),"("+Qp(K(A))+")"},set:function(K){A=K.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return A},set:function(K){A=K}});var f="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return f},set:function(K){f=K}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(K){l=K}});var y=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return y},set:function(K){y=K}});var b=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return b===void 0?50/OS:b},set:function(K){b=K}});var w="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return w},set:function(K){w=K}});var C="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!C||this instanceof ib||this instanceof Ep))return G2(C,this.objId,this.scope)},set:function(K){K=K.toString(),C=K}});var F=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(F)return this instanceof Do==0?G2(F,this.objId,this.scope):F},set:function(K){K=K.toString(),F=this instanceof Do==0?K.substr(0,1)==="("?Tm(K.substr(1,K.length-2)):Tm(K):K}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Do==1?Tm(F.substr(1,F.length-1)):F},set:function(K){K=K.toString(),F=this instanceof Do==1?"/"+K:K}});var T=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(T)return T},set:function(K){this.V=K}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(T)return this instanceof Do==0?G2(T,this.objId,this.scope):T},set:function(K){K=K.toString(),T=this instanceof Do==0?K.substr(0,1)==="("?Tm(K.substr(1,K.length-2)):Tm(K):K}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Do==1?Tm(T.substr(1,T.length-1)):T},set:function(K){K=K.toString(),T=this instanceof Do==1?"/"+K:K}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var j,k=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return k},set:function(K){K=!!K,k=K}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(j)return j},set:function(K){j=K}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,1)},set:function(K){K?this.Ff=Es(this.Ff,1):this.Ff=Ts(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,2)},set:function(K){K?this.Ff=Es(this.Ff,2):this.Ff=Ts(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,3)},set:function(K){K?this.Ff=Es(this.Ff,3):this.Ff=Ts(this.Ff,3)}});var H=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(H!==null)return H},set:function(K){if([0,1,2].indexOf(K)===-1)throw new Error('Invalid value "'+K+'" for attribute Q supplied.');H=K}}),Object.defineProperty(this,"textAlign",{get:function(){var K;switch(H){case 0:default:K="left";break;case 1:K="center";break;case 2:K="right"}return K},configurable:!0,enumerable:!0,set:function(K){switch(K){case"right":case 2:H=2;break;case"center":case 1:H=1;break;default:H=0}}})};JA(Kc,_h);var jm=function(){Kc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return zk(t,this.objId,this.scope)},set:function(r){var n,s;s=[],typeof(n=r)=="string"&&(s=(function(A,f,l){l||(l=1);for(var y,b=[];y=f.exec(A);)b.push(y[l]);return b})(n,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,18)},set:function(r){r?this.Ff=Es(this.Ff,18):this.Ff=Ts(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Es(this.Ff,19):this.Ff=Ts(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,20)},set:function(r){r?(this.Ff=Es(this.Ff,20),t.sort()):this.Ff=Ts(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,22)},set:function(r){r?this.Ff=Es(this.Ff,22):this.Ff=Ts(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,23)},set:function(r){r?this.Ff=Es(this.Ff,23):this.Ff=Ts(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,27)},set:function(r){r?this.Ff=Es(this.Ff,27):this.Ff=Ts(this.Ff,27)}}),this.hasAppearanceStream=!1};JA(jm,Kc);var Hm=function(){jm.call(this),this.fontName="helvetica",this.combo=!1};JA(Hm,jm);var Km=function(){Hm.call(this),this.combo=!0};JA(Km,Hm);var K1=function(){Km.call(this),this.edit=!0};JA(K1,Km);var Do=function(){Kc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,15)},set:function(r){r?this.Ff=Es(this.Ff,15):this.Ff=Ts(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,16)},set:function(r){r?this.Ff=Es(this.Ff,16):this.Ff=Ts(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,17)},set:function(r){r?this.Ff=Es(this.Ff,17):this.Ff=Ts(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,26)},set:function(r){r?this.Ff=Es(this.Ff,26):this.Ff=Ts(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(A){return A};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,s=[];for(n in s.push("<<"),t)s.push("/"+n+" ("+Qp(r(t[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(r){Ri(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};JA(Do,Kc);var V1=function(){Do.call(this),this.pushButton=!0};JA(V1,Do);var Vm=function(){Do.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};JA(Vm,Do);var ib=function(){var e,t;Kc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(l){return l};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var A,f=[];for(A in f.push("<<"),n)f.push("/"+A+" ("+Qp(s(n[A]))+")");return f.push(">>"),f.join(`
`)},set:function(s){Ri(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(s){r="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Mr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};JA(ib,Kc),Vm.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Vm.prototype.createOption=function(e){var t=new ib;return t.Parent=this,t.optionName=e,this.Kids.push(t),gle.call(this.scope,t),t};var q1=function(){Do.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Mr.CheckBox.createAppearanceStream()};JA(q1,Do);var Ep=function(){Kc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,13)},set:function(t){t?this.Ff=Es(this.Ff,13):this.Ff=Ts(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,21)},set:function(t){t?this.Ff=Es(this.Ff,21):this.Ff=Ts(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,23)},set:function(t){t?this.Ff=Es(this.Ff,23):this.Ff=Ts(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,24)},set:function(t){t?this.Ff=Es(this.Ff,24):this.Ff=Ts(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,25)},set:function(t){t?this.Ff=Es(this.Ff,25):this.Ff=Ts(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,26)},set:function(t){t?this.Ff=Es(this.Ff,26):this.Ff=Ts(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};JA(Ep,Kc);var G1=function(){Ep.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,14)},set:function(e){e?this.Ff=Es(this.Ff,14):this.Ff=Ts(this.Ff,14)}}),this.password=!0};JA(G1,Ep);var Mr={CheckBox:{createAppearanceStream:function(){return{N:{On:Mr.CheckBox.YesNormal},D:{On:Mr.CheckBox.YesPushDown,Off:Mr.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=gh(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),A=U5(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+En(Mr.internal.getWidth(e))+" "+En(Mr.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+En(A.fontSize)+" Tf "+s),r.push("BT"),r.push(A.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=gh(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),s=[],A=Mr.internal.getHeight(e),f=Mr.internal.getWidth(e),l=U5(e,e.caption);return s.push("1 g"),s.push("0 0 "+En(f)+" "+En(A)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+En(f-1)+" "+En(A-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+r+" "+En(l.fontSize)+" Tf "+n),s.push(l.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=gh(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+En(Mr.internal.getWidth(e))+" "+En(Mr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Mr.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Mr.RadioButton.Circle.YesNormal,t.D[e]=Mr.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=gh(e);t.scope=e.scope;var r=[],n=Mr.internal.getWidth(e)<=Mr.internal.getHeight(e)?Mr.internal.getWidth(e)/4:Mr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Mr.internal.Bezier_C,A=Number((n*s).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+id(Mr.internal.getWidth(e)/2)+" "+id(Mr.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+A+" "+A+" "+n+" 0 "+n+" c"),r.push("-"+A+" "+n+" -"+n+" "+A+" -"+n+" 0 c"),r.push("-"+n+" -"+A+" -"+A+" -"+n+" 0 -"+n+" c"),r.push(A+" -"+n+" "+n+" -"+A+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=gh(e);t.scope=e.scope;var r=[],n=Mr.internal.getWidth(e)<=Mr.internal.getHeight(e)?Mr.internal.getWidth(e)/4:Mr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),A=Number((s*Mr.internal.Bezier_C).toFixed(5)),f=Number((n*Mr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+id(Mr.internal.getWidth(e)/2)+" "+id(Mr.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+A+" "+A+" "+s+" 0 "+s+" c"),r.push("-"+A+" "+s+" -"+s+" "+A+" -"+s+" 0 c"),r.push("-"+s+" -"+A+" -"+A+" -"+s+" 0 -"+s+" c"),r.push(A+" -"+s+" "+s+" -"+A+" "+s+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+id(Mr.internal.getWidth(e)/2)+" "+id(Mr.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+f+" "+f+" "+n+" 0 "+n+" c"),r.push("-"+f+" "+n+" -"+n+" "+f+" -"+n+" 0 c"),r.push("-"+n+" -"+f+" -"+f+" -"+n+" 0 -"+n+" c"),r.push(f+" -"+n+" "+n+" -"+f+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=gh(e);t.scope=e.scope;var r=[],n=Mr.internal.getWidth(e)<=Mr.internal.getHeight(e)?Mr.internal.getWidth(e)/4:Mr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),A=Number((s*Mr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+id(Mr.internal.getWidth(e)/2)+" "+id(Mr.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+A+" "+A+" "+s+" 0 "+s+" c"),r.push("-"+A+" "+s+" -"+s+" "+A+" -"+s+" 0 c"),r.push("-"+s+" -"+A+" -"+A+" -"+s+" 0 -"+s+" c"),r.push(A+" -"+s+" "+s+" -"+A+" "+s+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Mr.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Mr.RadioButton.Cross.YesNormal,t.D[e]=Mr.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=gh(e);t.scope=e.scope;var r=[],n=Mr.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+En(Mr.internal.getWidth(e)-2)+" "+En(Mr.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(En(n.x1.x)+" "+En(n.x1.y)+" m"),r.push(En(n.x2.x)+" "+En(n.x2.y)+" l"),r.push(En(n.x4.x)+" "+En(n.x4.y)+" m"),r.push(En(n.x3.x)+" "+En(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=gh(e);t.scope=e.scope;var r=Mr.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+En(Mr.internal.getWidth(e))+" "+En(Mr.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+En(Mr.internal.getWidth(e)-2)+" "+En(Mr.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(En(r.x1.x)+" "+En(r.x1.y)+" m"),n.push(En(r.x2.x)+" "+En(r.x2.y)+" l"),n.push(En(r.x4.x)+" "+En(r.x4.y)+" m"),n.push(En(r.x3.x)+" "+En(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=gh(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+En(Mr.internal.getWidth(e))+" "+En(Mr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Mr.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Mr.internal.getWidth(e),r=Mr.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Mr.internal.getWidth=function(e){var t=0;return Ri(e)==="object"&&(t=wL(e.Rect[2])),t},Mr.internal.getHeight=function(e){var t=0;return Ri(e)==="object"&&(t=wL(e.Rect[3])),t};var gle=os.addField=function(e){if(mle(this,e),!(e instanceof Kc))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};os.AcroFormChoiceField=jm,os.AcroFormListBox=Hm,os.AcroFormComboBox=Km,os.AcroFormEditBox=K1,os.AcroFormButton=Do,os.AcroFormPushButton=V1,os.AcroFormRadioButton=Vm,os.AcroFormCheckBox=q1,os.AcroFormTextField=Ep,os.AcroFormPasswordField=G1,os.AcroFormAppearance=Mr,os.AcroForm={ChoiceField:jm,ListBox:Hm,ComboBox:Km,EditBox:K1,Button:Do,PushButton:V1,RadioButton:Vm,CheckBox:q1,TextField:Ep,PasswordField:G1,Appearance:Mr},Gr.AcroForm={ChoiceField:jm,ListBox:Hm,ComboBox:Km,EditBox:K1,Button:Do,PushButton:V1,RadioButton:Vm,CheckBox:q1,TextField:Ep,PasswordField:G1,Appearance:Mr};Gr.AcroForm;function Kk(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=e.__addimage__.getImageFileTypeByImageData=function(se,de){var Le,Ue,nt,Oe,Ne,Ve=r;if((de=de||r)==="RGBA"||se.data!==void 0&&se.data instanceof Uint8ClampedArray&&"height"in se&&"width"in se)return"RGBA";if(pe(se))for(Ne in n)for(nt=n[Ne],Le=0;Le<nt.length;Le+=1){for(Oe=!0,Ue=0;Ue<nt[Le].length;Ue+=1)if(nt[Le][Ue]!==void 0&&nt[Le][Ue]!==se[Ue]){Oe=!1;break}if(Oe===!0){Ve=Ne;break}}else for(Ne in n)for(nt=n[Ne],Le=0;Le<nt.length;Le+=1){for(Oe=!0,Ue=0;Ue<nt[Le].length;Ue+=1)if(nt[Le][Ue]!==void 0&&nt[Le][Ue]!==se.charCodeAt(Ue)){Oe=!1;break}if(Oe===!0){Ve=Ne;break}}return Ve===r&&de!==r&&(Ve=de),Ve},A=function se(de){for(var Le=this.internal.write,Ue=this.internal.putStream,nt=(0,this.internal.getFilters)();nt.indexOf("FlateEncode")!==-1;)nt.splice(nt.indexOf("FlateEncode"),1);de.objectId=this.internal.newObject();var Oe=[];if(Oe.push({key:"Type",value:"/XObject"}),Oe.push({key:"Subtype",value:"/Image"}),Oe.push({key:"Width",value:de.width}),Oe.push({key:"Height",value:de.height}),de.colorSpace===K.INDEXED?Oe.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(de.palette.length/3-1)+" "+("sMask"in de&&de.sMask!==void 0?de.objectId+2:de.objectId+1)+" 0 R]"}):(Oe.push({key:"ColorSpace",value:"/"+de.colorSpace}),de.colorSpace===K.DEVICE_CMYK&&Oe.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Oe.push({key:"BitsPerComponent",value:de.bitsPerComponent}),"decodeParameters"in de&&de.decodeParameters!==void 0&&Oe.push({key:"DecodeParms",value:"<<"+de.decodeParameters+">>"}),"transparency"in de&&Array.isArray(de.transparency)&&de.transparency.length>0){for(var Ne="",Ve=0,De=de.transparency.length;Ve<De;Ve++)Ne+=de.transparency[Ve]+" "+de.transparency[Ve]+" ";Oe.push({key:"Mask",value:"["+Ne+"]"})}de.sMask!==void 0&&Oe.push({key:"SMask",value:de.objectId+1+" 0 R"});var ot=de.filter!==void 0?["/"+de.filter]:void 0;if(Ue({data:de.data,additionalKeyValues:Oe,alreadyAppliedFilters:ot,objectId:de.objectId}),Le("endobj"),"sMask"in de&&de.sMask!==void 0){var be,re=(be=de.sMaskBitsPerComponent)!==null&&be!==void 0?be:de.bitsPerComponent,ye={width:de.width,height:de.height,colorSpace:"DeviceGray",bitsPerComponent:re,data:de.sMask};"filter"in de&&(ye.decodeParameters="/Predictor ".concat(de.predictor," /Colors 1 /BitsPerComponent ").concat(re," /Columns ").concat(de.width),ye.filter=de.filter),se.call(this,ye)}if(de.colorSpace===K.INDEXED){var Ie=this.internal.newObject();Ue({data:Fe(new Uint8Array(de.palette)),objectId:Ie}),Le("endobj")}},f=function(){var se=this.internal.collections[t+"images"];for(var de in se)A.call(this,se[de])},l=function(){var se,de=this.internal.collections[t+"images"],Le=this.internal.write;for(var Ue in de)Le("/I"+(se=de[Ue]).index,se.objectId,"0","R")},y=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",f),this.internal.events.subscribe("putXobjectDict",l))},b=function(){var se=this.internal.collections[t+"images"];return y.call(this),se},w=function(){return Object.keys(this.internal.collections[t+"images"]).length},C=function(se){return typeof e["process"+se.toUpperCase()]=="function"},F=function(se){return Ri(se)==="object"&&se.nodeType===1},T=function(se,de){if(se.nodeName==="IMG"&&se.hasAttribute("src")){var Le=""+se.getAttribute("src");if(Le.indexOf("data:image/")===0)return H1(unescape(Le).split("base64,").pop());var Ue=e.loadFile(Le,!0);if(Ue!==void 0)return Ue}if(se.nodeName==="CANVAS"){if(se.width===0||se.height===0)throw new Error("Given canvas must have data. Canvas width: "+se.width+", height: "+se.height);var nt;switch(de){case"PNG":nt="image/png";break;case"WEBP":nt="image/webp";break;default:nt="image/jpeg"}return H1(se.toDataURL(nt,1).split("base64,").pop())}},j=function(se){var de=this.internal.collections[t+"images"];if(de){for(var Le in de)if(se===de[Le].alias)return de[Le]}},k=function(se,de,Le){return se||de||(se=-96,de=-96),se<0&&(se=-1*Le.width*72/se/this.internal.scaleFactor),de<0&&(de=-1*Le.height*72/de/this.internal.scaleFactor),se===0&&(se=de*Le.width/Le.height),de===0&&(de=se*Le.height/Le.width),[se,de]},H=function(se,de,Le,Ue,nt,Oe){var Ne=k.call(this,Le,Ue,nt),Ve=this.internal.getCoordinateString,De=this.internal.getVerticalCoordinateString,ot=b.call(this);if(Le=Ne[0],Ue=Ne[1],ot[nt.index]=nt,Oe){Oe*=Math.PI/180;var be=Math.cos(Oe),re=Math.sin(Oe),ye=function(ke){return ke.toFixed(4)},Ie=[ye(be),ye(re),ye(-1*re),ye(be),0,0,"cm"]}this.internal.write("q"),Oe?(this.internal.write([1,"0","0",1,Ve(se),De(de+Ue),"cm"].join(" ")),this.internal.write(Ie.join(" ")),this.internal.write([Ve(Le),"0","0",Ve(Ue),"0","0","cm"].join(" "))):this.internal.write([Ve(Le),"0","0",Ve(Ue),Ve(se),De(de+Ue),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+nt.index+" Do"),this.internal.write("Q")},K=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var Y=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},W=e.__addimage__.sHashCode=function(se){var de,Le,Ue=0;if(typeof se=="string")for(Le=se.length,de=0;de<Le;de++)Ue=(Ue<<5)-Ue+se.charCodeAt(de),Ue|=0;else if(pe(se))for(Le=se.byteLength/2,de=0;de<Le;de++)Ue=(Ue<<5)-Ue+se[de],Ue|=0;return Ue},ae=e.__addimage__.validateStringAsBase64=function(se){(se=se||"").toString().trim();var de=!0;return se.length===0&&(de=!1),se.length%4!=0&&(de=!1),/^[A-Za-z0-9+/]+$/.test(se.substr(0,se.length-2))===!1&&(de=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(se.substr(-2))===!1&&(de=!1),de},Ae=e.__addimage__.extractImageFromDataUrl=function(se){if(se==null||!(se=se.trim()).startsWith("data:"))return null;var de=se.indexOf(",");return de<0?null:se.substring(0,de).trim().endsWith("base64")?se.substring(de+1):null};e.__addimage__.isArrayBuffer=function(se){return se instanceof ArrayBuffer};var pe=e.__addimage__.isArrayBufferView=function(se){return se instanceof Int8Array||se instanceof Uint8Array||se instanceof Uint8ClampedArray||se instanceof Int16Array||se instanceof Uint16Array||se instanceof Int32Array||se instanceof Uint32Array||se instanceof Float32Array||se instanceof Float64Array},Be=e.__addimage__.binaryStringToUint8Array=function(se){for(var de=se.length,Le=new Uint8Array(de),Ue=0;Ue<de;Ue++)Le[Ue]=se.charCodeAt(Ue);return Le},Fe=e.__addimage__.arrayBufferToBinaryString=function(se){for(var de="",Le=pe(se)?se:new Uint8Array(se),Ue=0;Ue<Le.length;Ue+=8192)de+=String.fromCharCode.apply(null,Le.subarray(Ue,Ue+8192));return de};e.addImage=function(){var se,de,Le,Ue,nt,Oe,Ne,Ve,De;if(typeof arguments[1]=="number"?(de=r,Le=arguments[1],Ue=arguments[2],nt=arguments[3],Oe=arguments[4],Ne=arguments[5],Ve=arguments[6],De=arguments[7]):(de=arguments[1],Le=arguments[2],Ue=arguments[3],nt=arguments[4],Oe=arguments[5],Ne=arguments[6],Ve=arguments[7],De=arguments[8]),Ri(se=arguments[0])==="object"&&!F(se)&&"imageData"in se){var ot=se;se=ot.imageData,de=ot.format||de||r,Le=ot.x||Le||0,Ue=ot.y||Ue||0,nt=ot.w||ot.width||nt,Oe=ot.h||ot.height||Oe,Ne=ot.alias||Ne,Ve=ot.compression||Ve,De=ot.rotation||ot.angle||De}var be=this.internal.getFilters();if(Ve===void 0&&be.indexOf("FlateEncode")!==-1&&(Ve="SLOW"),isNaN(Le)||isNaN(Ue))throw new Error("Invalid coordinates passed to jsPDF.addImage");y.call(this);var re=me.call(this,se,de,Ne,Ve);return H.call(this,Le,Ue,nt,Oe,re,De),this};var me=function(se,de,Le,Ue){var nt,Oe,Ne;if(typeof se=="string"&&s(se)===r){se=unescape(se);var Ve=He(se,!1);(Ve!==""||(Ve=e.loadFile(se,!0))!==void 0)&&(se=Ve)}if(F(se)&&(se=T(se,de)),de=s(se,de),!C(de))throw new Error("addImage does not support files of type '"+de+"', please ensure that a plugin for '"+de+"' support is added.");if(((Ne=Le)==null||Ne.length===0)&&(Le=(function(De){return typeof De=="string"||pe(De)?W(De):pe(De.data)?W(De.data):null})(se)),(nt=j.call(this,Le))||(se instanceof Uint8Array||de==="RGBA"||(Oe=se,se=Be(se)),nt=this["process"+de.toUpperCase()](se,w.call(this),Le,(function(De){return De&&typeof De=="string"&&(De=De.toUpperCase()),De in e.image_compression?De:Y.NONE})(Ue),Oe)),!nt)throw new Error("An unknown error occurred whilst processing the image.");return nt},He=e.__addimage__.convertBase64ToBinaryString=function(se,de){de=typeof de!="boolean"||de;var Le,Ue="";if(typeof se=="string"){var nt;Le=(nt=Ae(se))!==null&&nt!==void 0?nt:se;try{Ue=H1(Le)}catch(Oe){if(de)throw ae(Le)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Oe.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Ue};e.getImageProperties=function(se){var de,Le,Ue="";if(F(se)&&(se=T(se)),typeof se=="string"&&s(se)===r&&((Ue=He(se,!1))===""&&(Ue=e.loadFile(se)||""),se=Ue),Le=s(se),!C(Le))throw new Error("addImage does not support files of type '"+Le+"', please ensure that a plugin for '"+Le+"' support is added.");if(se instanceof Uint8Array||(se=Be(se)),!(de=this["process"+Le.toUpperCase()](se)))throw new Error("An unknown error occurred whilst processing the image");return de.fileType=Le,de}})(Gr.API),(function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Gr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,s,A,f=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,y=this.internal.getPageInfoByObjId(r.objId),b=r.pageContext.annotations,w=!1,C=0;C<b.length&&!w;C++)switch((n=b[C]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(w=!0);break;case"reference":case"text":case"freetext":w=!0}if(w!=0){this.internal.write("/Annots [");for(var F=0;F<b.length;F++){n=b[F];var T=this.internal.pdfEscape,j=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var k=this.internal.newAdditionalObject(),H=this.internal.newAdditionalObject(),K=this.internal.getEncryptor(k.objId),Y=n.title||"Note";A="<</Type /Annot /Subtype /Text "+(s="/Rect ["+f(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+f(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+T(K(n.contents))+")",A+=" /Popup "+H.objId+" 0 R",A+=" /P "+y.objId+" 0 R",A+=" /T ("+T(K(Y))+") >>",k.content=A;var W=k.objId+" 0 R";A="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+f(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+f(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+W,n.open&&(A+=" /Open true"),A+=" >>",H.content=A,this.internal.write(k.objId,"0 R",H.objId,"0 R");break;case"freetext":s="/Rect ["+f(n.bounds.x)+" "+l(n.bounds.y)+" "+f(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var ae=n.color||"#000000";A="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+T(j(n.contents))+")",A+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+ae+")",A+=" /Border [0 0 0]",A+=" >>",this.internal.write(A);break;case"link":if(n.options.name){var Ae=this.annotations._nameMap[n.options.name];n.options.pageNumber=Ae.page,n.options.top=Ae.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",A="",n.options.url)A="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+T(j(n.options.url))+") >>";else if(n.options.pageNumber)switch(A="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":A+=" /Fit]";break;case"FitH":A+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,A+=" /FitV "+n.options.left+"]";break;default:var pe=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),A+=" /XYZ "+n.options.left+" "+pe+" "+n.options.zoom+"]"}A!=""&&(A+=" >>",this.internal.write(A))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,s,A,f){var l=this.internal.getCurrentPageInfo(),y=this.internal.getCoordinateString,b=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:y(r),y:b(n),w:y(r+s),h:b(n+A)},options:f,type:"link"})},e.textWithLink=function(r,n,s,A){var f,l,y=this.getTextWidth(r),b=this.internal.getLineHeight()/this.internal.scaleFactor;if(A.maxWidth!==void 0){l=A.maxWidth;var w=this.splitTextToSize(r,l).length;f=Math.ceil(b*w)}else l=y,f=b;return this.text(r,n,s,A),s+=.2*b,A.align==="center"&&(n-=y/2),A.align==="right"&&(n-=y),this.link(n,s-b,l,f,A),y},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(Gr.API),(function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var A=e.__arabicParser__.isInArabicSubstitutionA=function(k){return t[k.charCodeAt(0)]!==void 0},f=e.__arabicParser__.isArabicLetter=function(k){return typeof k=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(k)},l=e.__arabicParser__.isArabicEndLetter=function(k){return f(k)&&A(k)&&t[k.charCodeAt(0)].length<=2},y=e.__arabicParser__.isArabicAlfLetter=function(k){return f(k)&&s.indexOf(k.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(k){return f(k)&&A(k)&&t[k.charCodeAt(0)].length>=1};var b=e.__arabicParser__.arabicLetterHasFinalForm=function(k){return f(k)&&A(k)&&t[k.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(k){return f(k)&&A(k)&&t[k.charCodeAt(0)].length>=3};var w=e.__arabicParser__.arabicLetterHasMedialForm=function(k){return f(k)&&A(k)&&t[k.charCodeAt(0)].length==4},C=e.__arabicParser__.resolveLigatures=function(k){var H=0,K=r,Y="",W=0;for(H=0;H<k.length;H+=1)K[k.charCodeAt(H)]!==void 0?(W++,typeof(K=K[k.charCodeAt(H)])=="number"&&(Y+=String.fromCharCode(K),K=r,W=0),H===k.length-1&&(K=r,Y+=k.charAt(H-(W-1)),H-=W-1,W=0)):(K=r,Y+=k.charAt(H-W),H-=W,W=0);return Y};e.__arabicParser__.isArabicDiacritic=function(k){return k!==void 0&&n[k.charCodeAt(0)]!==void 0};var F=e.__arabicParser__.getCorrectForm=function(k,H,K){return f(k)?A(k)===!1?-1:!b(k)||!f(H)&&!f(K)||!f(K)&&l(H)||l(k)&&!f(H)||l(k)&&y(H)||l(k)&&l(H)?0:w(k)&&f(H)&&!l(H)&&f(K)&&b(K)?3:l(k)||!f(K)?1:2:-1},T=function(k){var H=0,K=0,Y=0,W="",ae="",Ae="",pe=(k=k||"").split("\\s+"),Be=[];for(H=0;H<pe.length;H+=1){for(Be.push(""),K=0;K<pe[H].length;K+=1)W=pe[H][K],ae=pe[H][K-1],Ae=pe[H][K+1],f(W)?(Y=F(W,ae,Ae),Be[H]+=Y!==-1?String.fromCharCode(t[W.charCodeAt(0)][Y]):W):Be[H]+=W;Be[H]=C(Be[H])}return Be.join(" ")},j=e.__arabicParser__.processArabic=e.processArabic=function(){var k,H=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,K=[];if(Array.isArray(H)){var Y=0;for(K=[],Y=0;Y<H.length;Y+=1)Array.isArray(H[Y])?K.push([T(H[Y][0]),H[Y][1],H[Y][2]]):K.push([T(H[Y])]);k=K}else k=T(H);return typeof arguments[0]=="string"?k:(arguments[0].text=k,arguments[0])};e.events.push(["preProcessText",j])})(Gr.API),Gr.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var A=[];Object.defineProperty(this,"childNodes",{get:function(){return A},set:function(l){A=l}});var f={};Object.defineProperty(this,"style",{get:function(){return f},set:function(l){f=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var s;if((r=r||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(Gr.API),(function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new A,this.internal.__cell__.pages=1},A=function(){var y=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return y},set:function(k){y=k}});var b=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return b},set:function(k){b=k}});var w=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return w},set:function(k){w=k}});var C=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return C},set:function(k){C=k}});var F=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return F},set:function(k){F=k}});var T=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return T},set:function(k){T=k}});var j=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return j},set:function(k){j=k}}),this};A.prototype.clone=function(){return new A(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},A.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(y){return n.call(this),this.internal.__cell__.headerFunction=typeof y=="function"?y:void 0,this},e.getTextDimensions=function(y,b){n.call(this);var w=(b=b||{}).fontSize||this.getFontSize(),C=b.font||this.getFont(),F=b.scaleFactor||this.internal.scaleFactor,T=0,j=0,k=0,H=this;if(!Array.isArray(y)&&typeof y!="string"){if(typeof y!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");y=String(y)}var K=b.maxWidth;K>0?typeof y=="string"?y=this.splitTextToSize(y,K):Object.prototype.toString.call(y)==="[object Array]"&&(y=y.reduce(function(W,ae){return W.concat(H.splitTextToSize(ae,K))},[])):y=Array.isArray(y)?y:[y];for(var Y=0;Y<y.length;Y++)T<(k=this.getStringUnitWidth(y[Y],{font:C})*w)&&(T=k);return T!==0&&(j=y.length),{w:T/=F,h:Math.max((j*w*this.getLineHeightFactor()-w*(this.getLineHeightFactor()-1))/F,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var y=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new A(y.left,y.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var f=e.cell=function(){var y;y=arguments[0]instanceof A?arguments[0]:new A(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var b=this.internal.__cell__.lastCell,w=this.internal.__cell__.padding,C=this.internal.__cell__.margins||t,F=this.internal.__cell__.tableHeaderRow,T=this.internal.__cell__.printHeaders;return b.lineNumber!==void 0&&(b.lineNumber===y.lineNumber?(y.x=(b.x||0)+(b.width||0),y.y=b.y||0):b.y+b.height+y.height+C.bottom>this.getPageHeight()?(this.cellAddPage(),y.y=C.top,T&&F&&(this.printHeaderRow(y.lineNumber,!0),y.y+=F[0].height)):y.y=b.y+b.height||y.y),y.text[0]!==void 0&&(this.rect(y.x,y.y,y.width,y.height,r===!0?"FD":void 0),y.align==="right"?this.text(y.text,y.x+y.width-w,y.y+w,{align:"right",baseline:"top"}):y.align==="center"?this.text(y.text,y.x+y.width/2,y.y+w,{align:"center",baseline:"top",maxWidth:y.width-w-w}):this.text(y.text,y.x+w,y.y+w,{align:"left",baseline:"top",maxWidth:y.width-w-w})),this.internal.__cell__.lastCell=y,this};e.table=function(y,b,w,C,F){if(n.call(this),!w)throw new Error("No data for PDF table.");var T,j,k,H,K=[],Y=[],W=[],ae={},Ae={},pe=[],Be=[],Fe=(F=F||{}).autoSize||!1,me=F.printHeaders!==!1,He=F.css&&F.css["font-size"]!==void 0?16*F.css["font-size"]:F.fontSize||12,se=F.margins||Object.assign({width:this.getPageWidth()},t),de=typeof F.padding=="number"?F.padding:3,Le=F.headerBackgroundColor||"#c8c8c8",Ue=F.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=me,this.internal.__cell__.margins=se,this.internal.__cell__.table_font_size=He,this.internal.__cell__.padding=de,this.internal.__cell__.headerBackgroundColor=Le,this.internal.__cell__.headerTextColor=Ue,this.setFontSize(He),C==null)Y=K=Object.keys(w[0]),W=K.map(function(){return"left"});else if(Array.isArray(C)&&Ri(C[0])==="object")for(K=C.map(function(ot){return ot.name}),Y=C.map(function(ot){return ot.prompt||ot.name||""}),W=C.map(function(ot){return ot.align||"left"}),T=0;T<C.length;T+=1)Ae[C[T].name]=.7499990551181103*C[T].width;else Array.isArray(C)&&typeof C[0]=="string"&&(Y=K=C,W=K.map(function(){return"left"}));if(Fe||Array.isArray(C)&&typeof C[0]=="string")for(T=0;T<K.length;T+=1){for(ae[H=K[T]]=w.map(function(ot){return ot[H]}),this.setFont(void 0,"bold"),pe.push(this.getTextDimensions(Y[T],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),j=ae[H],this.setFont(void 0,"normal"),k=0;k<j.length;k+=1)pe.push(this.getTextDimensions(j[k],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Ae[H]=Math.max.apply(null,pe)+de+de,pe=[]}if(me){var nt={};for(T=0;T<K.length;T+=1)nt[K[T]]={},nt[K[T]].text=Y[T],nt[K[T]].align=W[T];var Oe=l.call(this,nt,Ae);Be=K.map(function(ot){return new A(y,b,Ae[ot],Oe,nt[ot].text,void 0,nt[ot].align)}),this.setTableHeaderRow(Be),this.printHeaderRow(1,!1)}var Ne=C.reduce(function(ot,be){return ot[be.name]=be.align,ot},{});for(T=0;T<w.length;T+=1){"rowStart"in F&&F.rowStart instanceof Function&&F.rowStart({row:T,data:w[T]},this);var Ve=l.call(this,w[T],Ae);for(k=0;k<K.length;k+=1){var De=w[T][K[k]];"cellStart"in F&&F.cellStart instanceof Function&&F.cellStart({row:T,col:k,data:De},this),f.call(this,new A(y,b,Ae[K[k]],Ve,De,T+2,Ne[K[k]]))}}return this.internal.__cell__.table_x=y,this.internal.__cell__.table_y=b,this};var l=function(y,b){var w=this.internal.__cell__.padding,C=this.internal.__cell__.table_font_size,F=this.internal.scaleFactor;return Object.keys(y).map(function(T){var j=y[T];return this.splitTextToSize(j.hasOwnProperty("text")?j.text:j,b[T]-w-w)},this).map(function(T){return this.getLineHeightFactor()*T.length*C/F+w+w},this).reduce(function(T,j){return Math.max(T,j)},0)};e.setTableHeaderRow=function(y){n.call(this),this.internal.__cell__.tableHeaderRow=y},e.printHeaderRow=function(y,b){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var w;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var C=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new A(C[0],C[1],C[2],C[3],void 0,-1)}this.setFont(void 0,"bold");for(var F=[],T=0;T<this.internal.__cell__.tableHeaderRow.length;T+=1){w=this.internal.__cell__.tableHeaderRow[T].clone(),b&&(w.y=this.internal.__cell__.margins.top||0,F.push(w)),w.lineNumber=y;var j=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),f.call(this,w),this.setTextColor(j)}F.length>0&&this.setTableHeaderRow(F),this.setFont(void 0,"normal"),r=!1}})(Gr.API);var Vk={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},qk=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],M5=Kk(qk),Gk=[100,200,300,400,500,600,700,800,900],yle=Kk(Gk);function $2(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=(function(A){return Vk[A=A||"normal"]?A:"normal"})(e.style),n=(function(A){return A?typeof A=="number"?A>=100&&A<=900&&A%100==0?A:400:/^\d00$/.test(A)?parseInt(A):A==="bold"?700:400:400})(e.weight),s=(function(A){return typeof M5[A=A||"normal"]=="number"?A:"normal"})(e.stretch);return{family:t,style:r,weight:n,stretch:s,src:e.src||[],ref:e.ref||{name:t,style:[s,r,n].join(" ")}}}function xL(e,t,r,n){var s;for(s=r;s>=0&&s<t.length;s+=n)if(e[t[s]])return e[t[s]];for(s=r;s>=0&&s<t.length;s-=n)if(e[t[s]])return e[t[s]]}var vle={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},BL={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function CL(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function SL(e){return e.trimLeft()}function _le(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function ble(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var F1,EL,TL,Im,L1,IL,FL,LL,X2=["times"];function UL(e,t,r,n,s){var A=4,f=PL;switch(s){case Gr.API.image_compression.FAST:A=1,f=ML;break;case Gr.API.image_compression.MEDIUM:A=6,f=OL;break;case Gr.API.image_compression.SLOW:A=9,f=DL}e=(function(y,b,w,C){for(var F,T=y.length/b,j=new Uint8Array(y.length+T),k=[wle,ML,PL,OL,DL],H=0;H<T;H+=1){var K=H*b,Y=y.subarray(K,K+b);if(C)j.set(C(Y,w,F),K+H);else{for(var W=k.length,ae=[],Ae=0;Ae<W;Ae+=1)ae[Ae]=k[Ae](Y,w,F);var pe=Ble(ae.concat());j.set(ae[pe],K+H)}F=Y}return j})(e,t,Math.ceil(r*n/8),f);var l=S5(e,{level:A});return Gr.API.__addimage__.arrayBufferToBinaryString(l)}function wle(e){var t=Array.apply([],e);return t.unshift(0),t}function ML(e,t){var r=e.length,n=[];n[0]=1;for(var s=0;s<r;s+=1){var A=e[s-t]||0;n[s+1]=e[s]-A+256&255}return n}function PL(e,t,r){var n=e.length,s=[];s[0]=2;for(var A=0;A<n;A+=1){var f=r&&r[A]||0;s[A+1]=e[A]-f+256&255}return s}function OL(e,t,r){var n=e.length,s=[];s[0]=3;for(var A=0;A<n;A+=1){var f=e[A-t]||0,l=r&&r[A]||0;s[A+1]=e[A]+256-(f+l>>>1)&255}return s}function DL(e,t,r){var n=e.length,s=[];s[0]=4;for(var A=0;A<n;A+=1){var f=xle(e[A-t]||0,r&&r[A]||0,r&&r[A-t]||0);s[A+1]=e[A]-f+256&255}return s}function xle(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),s=Math.abs(e-r),A=Math.abs(e+t-r-r);return n<=s&&n<=A?e:s<=A?t:r}function Ble(e){var t=e.map(function(r){return r.reduce(function(n,s){return n+Math.abs(s)},0)});return t.indexOf(Math.min.apply(null,t))}function Z2(e,t,r){var n=t*r,s=Math.floor(n/8),A=16-(n-8*s+r),f=(1<<r)-1;return $k(e,s)>>A&f}function kL(e,t,r,n){var s=r*n,A=Math.floor(s/8),f=16-(s-8*A+n),l=(1<<n)-1,y=(t&l)<<f;(function(b,w,C){if(w+1<b.byteLength)b.setUint16(w,C,!1);else{var F=C>>8&255;b.setUint8(w,F)}})(e,A,$k(e,A)&~(l<<f)&65535|y)}function $k(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function Cle(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,s=e[t++],A=s>>7,f=1<<1+(7&s);e[t++],e[t++];var l=null,y=null;A&&(l=t,y=f,t+=3*f);var b=!0,w=[],C=0,F=null,T=0,j=null;for(this.width=r,this.height=n;b&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,j=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((se=e[t++])>=0))throw Error("Invalid block size");if(se===0)break;t+=se}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var k=e[t++];C=e[t++]|e[t++]<<8,F=e[t++],1&k||(F=null),T=k>>2&7,t++;break;case 254:for(;;){if(!((se=e[t++])>=0))throw Error("Invalid block size");if(se===0)break;t+=se}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var H=e[t++]|e[t++]<<8,K=e[t++]|e[t++]<<8,Y=e[t++]|e[t++]<<8,W=e[t++]|e[t++]<<8,ae=e[t++],Ae=ae>>6&1,pe=1<<1+(7&ae),Be=l,Fe=y,me=!1;ae>>7&&(me=!0,Be=t,Fe=pe,t+=3*pe);var He=t;for(t++;;){var se;if(!((se=e[t++])>=0))throw Error("Invalid block size");if(se===0)break;t+=se}w.push({x:H,y:K,width:Y,height:W,has_local_palette:me,palette_offset:Be,palette_size:Fe,data_offset:He,data_length:t-He,transparent_index:F,interlaced:!!Ae,delay:C,disposal:T});break;case 59:b=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return w.length},this.loopCount=function(){return j},this.frameInfo=function(de){if(de<0||de>=w.length)throw new Error("Frame index out of range.");return w[de]},this.decodeAndBlitFrameBGRA=function(de,Le){var Ue=this.frameInfo(de),nt=Ue.width*Ue.height,Oe=new Uint8Array(nt);NL(e,Ue.data_offset,Oe,nt);var Ne=Ue.palette_offset,Ve=Ue.transparent_index;Ve===null&&(Ve=256);var De=Ue.width,ot=r-De,be=De,re=4*(Ue.y*r+Ue.x),ye=4*((Ue.y+Ue.height)*r+Ue.x),Ie=re,ke=4*ot;Ue.interlaced===!0&&(ke+=4*r*7);for(var $e=8,Je=0,mt=Oe.length;Je<mt;++Je){var Ke=Oe[Je];if(be===0&&(be=De,(Ie+=ke)>=ye&&(ke=4*ot+4*r*($e-1),Ie=re+(De+ot)*($e<<1),$e>>=1)),Ke===Ve)Ie+=4;else{var pt=e[Ne+3*Ke],Ct=e[Ne+3*Ke+1],ct=e[Ne+3*Ke+2];Le[Ie++]=ct,Le[Ie++]=Ct,Le[Ie++]=pt,Le[Ie++]=255}--be}},this.decodeAndBlitFrameRGBA=function(de,Le){var Ue=this.frameInfo(de),nt=Ue.width*Ue.height,Oe=new Uint8Array(nt);NL(e,Ue.data_offset,Oe,nt);var Ne=Ue.palette_offset,Ve=Ue.transparent_index;Ve===null&&(Ve=256);var De=Ue.width,ot=r-De,be=De,re=4*(Ue.y*r+Ue.x),ye=4*((Ue.y+Ue.height)*r+Ue.x),Ie=re,ke=4*ot;Ue.interlaced===!0&&(ke+=4*r*7);for(var $e=8,Je=0,mt=Oe.length;Je<mt;++Je){var Ke=Oe[Je];if(be===0&&(be=De,(Ie+=ke)>=ye&&(ke=4*ot+4*r*($e-1),Ie=re+(De+ot)*($e<<1),$e>>=1)),Ke===Ve)Ie+=4;else{var pt=e[Ne+3*Ke],Ct=e[Ne+3*Ke+1],ct=e[Ne+3*Ke+2];Le[Ie++]=pt,Le[Ie++]=Ct,Le[Ie++]=ct,Le[Ie++]=255}--be}}}function NL(e,t,r,n){for(var s=e[t++],A=1<<s,f=A+1,l=f+1,y=s+1,b=(1<<y)-1,w=0,C=0,F=0,T=e[t++],j=new Int32Array(4096),k=null;;){for(;w<16&&T!==0;)C|=e[t++]<<w,w+=8,T===1?T=e[t++]:--T;if(w<y)break;var H=C&b;if(C>>=y,w-=y,H!==A){if(H===f)break;for(var K=H<l?H:k,Y=0,W=K;W>A;)W=j[W]>>8,++Y;var ae=W;if(F+Y+(K!==H?1:0)>n)return void oa.log("Warning, gif stream longer than expected.");r[F++]=ae;var Ae=F+=Y;for(K!==H&&(r[F++]=ae),W=K;Y--;)W=j[W],r[--Ae]=255&W,W>>=8;k!==null&&l<4096&&(j[l++]=k<<8|ae,l>=b+1&&y<12&&(++y,b=b<<1|1)),k=H}else l=f+1,b=(1<<(y=s+1))-1,k=null}return F!==n&&oa.log("Warning, gif stream shorter than expected."),r}function W2(e){var t,r,n,s,A,f=Math.floor,l=new Array(64),y=new Array(64),b=new Array(64),w=new Array(64),C=new Array(65535),F=new Array(65535),T=new Array(64),j=new Array(64),k=[],H=0,K=7,Y=new Array(64),W=new Array(64),ae=new Array(64),Ae=new Array(256),pe=new Array(2048),Be=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Fe=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],me=[0,1,2,3,4,5,6,7,8,9,10,11],He=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],se=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],de=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Le=[0,1,2,3,4,5,6,7,8,9,10,11],Ue=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],nt=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Oe(re,ye){for(var Ie=0,ke=0,$e=new Array,Je=1;Je<=16;Je++){for(var mt=1;mt<=re[Je];mt++)$e[ye[ke]]=[],$e[ye[ke]][0]=Ie,$e[ye[ke]][1]=Je,ke++,Ie++;Ie*=2}return $e}function Ne(re){for(var ye=re[0],Ie=re[1]-1;Ie>=0;)ye&1<<Ie&&(H|=1<<K),Ie--,--K<0&&(H==255?(Ve(255),Ve(0)):Ve(H),K=7,H=0)}function Ve(re){k.push(re)}function De(re){Ve(re>>8&255),Ve(255&re)}function ot(re,ye,Ie,ke,$e){for(var Je,mt=$e[0],Ke=$e[240],pt=(function(It,nr){var ur,Tr,Br,rn,nn,Jr,yn,Lt,cr,Pr,fr=0;for(cr=0;cr<8;++cr){ur=It[fr],Tr=It[fr+1],Br=It[fr+2],rn=It[fr+3],nn=It[fr+4],Jr=It[fr+5],yn=It[fr+6];var ri=ur+(Lt=It[fr+7]),Pt=ur-Lt,Zt=Tr+yn,Gt=Tr-yn,Zr=Br+Jr,_r=Br-Jr,sr=rn+nn,Lr=rn-nn,zr=ri+sr,kn=ri-sr,Xr=Zt+Zr,Me=Zt-Zr;It[fr]=zr+Xr,It[fr+4]=zr-Xr;var le=.707106781*(Me+kn);It[fr+2]=kn+le,It[fr+6]=kn-le;var ue=.382683433*((zr=Lr+_r)-(Me=Gt+Pt)),we=.5411961*zr+ue,Re=1.306562965*Me+ue,et=.707106781*(Xr=_r+Gt),qe=Pt+et,lt=Pt-et;It[fr+5]=lt+we,It[fr+3]=lt-we,It[fr+1]=qe+Re,It[fr+7]=qe-Re,fr+=8}for(fr=0,cr=0;cr<8;++cr){ur=It[fr],Tr=It[fr+8],Br=It[fr+16],rn=It[fr+24],nn=It[fr+32],Jr=It[fr+40],yn=It[fr+48];var We=ur+(Lt=It[fr+56]),yt=ur-Lt,Mt=Tr+yn,ft=Tr-yn,Qt=Br+Jr,Jt=Br-Jr,dr=rn+nn,Wr=rn-nn,or=We+dr,Or=We-dr,jr=Mt+Qt,Kn=Mt-Qt;It[fr]=or+jr,It[fr+32]=or-jr;var Nn=.707106781*(Kn+Or);It[fr+16]=Or+Nn,It[fr+48]=Or-Nn;var en=.382683433*((or=Wr+Jt)-(Kn=ft+yt)),vn=.5411961*or+en,Pn=1.306562965*Kn+en,gi=.707106781*(jr=Jt+ft),ai=yt+gi,yi=yt-gi;It[fr+40]=yi+vn,It[fr+24]=yi-vn,It[fr+8]=ai+Pn,It[fr+56]=ai-Pn,fr++}for(cr=0;cr<64;++cr)Pr=It[cr]*nr[cr],T[cr]=Pr>0?Pr+.5|0:Pr-.5|0;return T})(re,ye),Ct=0;Ct<64;++Ct)j[Be[Ct]]=pt[Ct];var ct=j[0]-Ie;Ie=j[0],ct==0?Ne(ke[0]):(Ne(ke[F[Je=32767+ct]]),Ne(C[Je]));for(var qt=63;qt>0&&j[qt]==0;)qt--;if(qt==0)return Ne(mt),Ie;for(var Xt,Pe=1;Pe<=qt;){for(var Ye=Pe;j[Pe]==0&&Pe<=qt;)++Pe;var Rr=Pe-Ye;if(Rr>=16){Xt=Rr>>4;for(var Er=1;Er<=Xt;++Er)Ne(Ke);Rr&=15}Je=32767+j[Pe],Ne($e[(Rr<<4)+F[Je]]),Ne(C[Je]),Pe++}return qt!=63&&Ne(mt),Ie}function be(re){re=Math.min(Math.max(re,1),100),A!=re&&((function(ye){for(var Ie=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ke=0;ke<64;ke++){var $e=f((Ie[ke]*ye+50)/100);$e=Math.min(Math.max($e,1),255),l[Be[ke]]=$e}for(var Je=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],mt=0;mt<64;mt++){var Ke=f((Je[mt]*ye+50)/100);Ke=Math.min(Math.max(Ke,1),255),y[Be[mt]]=Ke}for(var pt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ct=0,ct=0;ct<8;ct++)for(var qt=0;qt<8;qt++)b[Ct]=1/(l[Be[Ct]]*pt[ct]*pt[qt]*8),w[Ct]=1/(y[Be[Ct]]*pt[ct]*pt[qt]*8),Ct++})(re<50?Math.floor(5e3/re):Math.floor(200-2*re)),A=re)}this.encode=function(re,ye){ye&&be(ye),k=new Array,H=0,K=7,De(65496),De(65504),De(16),Ve(74),Ve(70),Ve(73),Ve(70),Ve(0),Ve(1),Ve(1),Ve(0),De(1),De(1),Ve(0),Ve(0),(function(){De(65499),De(132),Ve(0);for(var Tr=0;Tr<64;Tr++)Ve(l[Tr]);Ve(1);for(var Br=0;Br<64;Br++)Ve(y[Br])})(),(function(Tr,Br){De(65472),De(17),Ve(8),De(Br),De(Tr),Ve(3),Ve(1),Ve(17),Ve(0),Ve(2),Ve(17),Ve(1),Ve(3),Ve(17),Ve(1)})(re.width,re.height),(function(){De(65476),De(418),Ve(0);for(var Tr=0;Tr<16;Tr++)Ve(Fe[Tr+1]);for(var Br=0;Br<=11;Br++)Ve(me[Br]);Ve(16);for(var rn=0;rn<16;rn++)Ve(He[rn+1]);for(var nn=0;nn<=161;nn++)Ve(se[nn]);Ve(1);for(var Jr=0;Jr<16;Jr++)Ve(de[Jr+1]);for(var yn=0;yn<=11;yn++)Ve(Le[yn]);Ve(17);for(var Lt=0;Lt<16;Lt++)Ve(Ue[Lt+1]);for(var cr=0;cr<=161;cr++)Ve(nt[cr])})(),De(65498),De(12),Ve(3),Ve(1),Ve(0),Ve(2),Ve(17),Ve(3),Ve(17),Ve(0),Ve(63),Ve(0);var Ie=0,ke=0,$e=0;H=0,K=7,this.encode.displayName="_encode_";for(var Je,mt,Ke,pt,Ct,ct,qt,Xt,Pe,Ye=re.data,Rr=re.width,Er=re.height,It=4*Rr,nr=0;nr<Er;){for(Je=0;Je<It;){for(Ct=It*nr+Je,qt=-1,Xt=0,Pe=0;Pe<64;Pe++)ct=Ct+(Xt=Pe>>3)*It+(qt=4*(7&Pe)),nr+Xt>=Er&&(ct-=It*(nr+1+Xt-Er)),Je+qt>=It&&(ct-=Je+qt-It+4),mt=Ye[ct++],Ke=Ye[ct++],pt=Ye[ct++],Y[Pe]=(pe[mt]+pe[Ke+256|0]+pe[pt+512|0]>>16)-128,W[Pe]=(pe[mt+768|0]+pe[Ke+1024|0]+pe[pt+1280|0]>>16)-128,ae[Pe]=(pe[mt+1280|0]+pe[Ke+1536|0]+pe[pt+1792|0]>>16)-128;Ie=ot(Y,b,Ie,t,n),ke=ot(W,w,ke,r,s),$e=ot(ae,w,$e,r,s),Je+=32}nr+=8}if(K>=0){var ur=[];ur[1]=K+1,ur[0]=(1<<K+1)-1,Ne(ur)}return De(65497),new Uint8Array(k)},e=e||50,(function(){for(var re=String.fromCharCode,ye=0;ye<256;ye++)Ae[ye]=re(ye)})(),t=Oe(Fe,me),r=Oe(de,Le),n=Oe(He,se),s=Oe(Ue,nt),(function(){for(var re=1,ye=2,Ie=1;Ie<=15;Ie++){for(var ke=re;ke<ye;ke++)F[32767+ke]=Ie,C[32767+ke]=[],C[32767+ke][1]=Ie,C[32767+ke][0]=ke;for(var $e=-(ye-1);$e<=-re;$e++)F[32767+$e]=Ie,C[32767+$e]=[],C[32767+$e][1]=Ie,C[32767+$e][0]=ye-1+$e;re<<=1,ye<<=1}})(),(function(){for(var re=0;re<256;re++)pe[re]=19595*re,pe[re+256|0]=38470*re,pe[re+512|0]=7471*re+32768,pe[re+768|0]=-11059*re,pe[re+1024|0]=-21709*re,pe[re+1280|0]=32768*re+8421375,pe[re+1536|0]=-27439*re,pe[re+1792|0]=-5329*re})(),be(e)}function Uc(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function QL(e){function t(me){if(!me)throw Error("assert :P")}function r(me,He,se){for(var de=0;4>de;de++)if(me[He+de]!=se.charCodeAt(de))return!0;return!1}function n(me,He,se,de,Le){for(var Ue=0;Ue<Le;Ue++)me[He+Ue]=se[de+Ue]}function s(me,He,se,de){for(var Le=0;Le<de;Le++)me[He+Le]=se}function A(me){return new Int32Array(me)}function f(me,He){for(var se=[],de=0;de<me;de++)se.push(new He);return se}function l(me,He){var se=[];return(function de(Le,Ue,nt){for(var Oe=nt[Ue],Ne=0;Ne<Oe&&(Le.push(nt.length>Ue+1?[]:new He),!(nt.length<Ue+1));Ne++)de(Le[Ne],Ue+1,nt)})(se,0,me),se}var y=function(){var me=this;function He(U,D){for(var X=1<<D-1>>>0;U&X;)X>>>=1;return X?(U&X-1)+X:U}function se(U,D,X,_,i){t(!(_%X));do U[D+(_-=X)]=i;while(0<_)}function de(U,D,X,_,i){if(t(2328>=i),512>=i)var h=A(512);else if((h=A(i))==null)return 0;return(function(p,v,x,L,M,N){var Q,G,$=v,ee=1<<x,ne=A(16),ce=A(16);for(t(M!=0),t(L!=null),t(p!=null),t(0<x),G=0;G<M;++G){if(15<L[G])return 0;++ne[L[G]]}if(ne[0]==M)return 0;for(ce[1]=0,Q=1;15>Q;++Q){if(ne[Q]>1<<Q)return 0;ce[Q+1]=ce[Q]+ne[Q]}for(G=0;G<M;++G)Q=L[G],0<L[G]&&(N[ce[Q]++]=G);if(ce[15]==1)return(L=new Le).g=0,L.value=N[0],se(p,$,1,ee,L),ee;var ge,Se=-1,xe=ee-1,Qe=0,Te=1,Xe=1,Ge=1<<x;for(G=0,Q=1,M=2;Q<=x;++Q,M<<=1){if(Te+=Xe<<=1,0>(Xe-=ne[Q]))return 0;for(;0<ne[Q];--ne[Q])(L=new Le).g=Q,L.value=N[G++],se(p,$+Qe,M,Ge,L),Qe=He(Qe,Q)}for(Q=x+1,M=2;15>=Q;++Q,M<<=1){if(Te+=Xe<<=1,0>(Xe-=ne[Q]))return 0;for(;0<ne[Q];--ne[Q]){if(L=new Le,(Qe&xe)!=Se){for($+=Ge,ge=1<<(Se=Q)-x;15>Se&&!(0>=(ge-=ne[Se]));)++Se,ge<<=1;ee+=Ge=1<<(ge=Se-x),p[v+(Se=Qe&xe)].g=ge+x,p[v+Se].value=$-v-Se}L.g=Q-x,L.value=N[G++],se(p,$+(Qe>>x),M,Ge,L),Qe=He(Qe,Q)}}return Te!=2*ce[15]-1?0:ee})(U,D,X,_,i,h)}function Le(){this.value=this.g=0}function Ue(){this.value=this.g=0}function nt(){this.G=f(5,Le),this.H=A(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=f(ml,Ue)}function Oe(U,D,X,_){t(U!=null),t(D!=null),t(2147483648>_),U.Ca=254,U.I=0,U.b=-8,U.Ka=0,U.oa=D,U.pa=X,U.Jd=D,U.Yc=X+_,U.Zc=4<=_?X+_-4+1:X,mt(U)}function Ne(U,D){for(var X=0;0<D--;)X|=pt(U,128)<<D;return X}function Ve(U,D){var X=Ne(U,D);return Ke(U)?-X:X}function De(U,D,X,_){var i,h=0;for(t(U!=null),t(D!=null),t(4294967288>_),U.Sb=_,U.Ra=0,U.u=0,U.h=0,4<_&&(_=4),i=0;i<_;++i)h+=D[X+i]<<8*i;U.Ra=h,U.bb=_,U.oa=D,U.pa=X}function ot(U){for(;8<=U.u&&U.bb<U.Sb;)U.Ra>>>=8,U.Ra+=U.oa[U.pa+U.bb]<<Ya-8>>>0,++U.bb,U.u-=8;ke(U)&&(U.h=1,U.u=0)}function be(U,D){if(t(0<=D),!U.h&&D<=Ka){var X=Ie(U)&Wa[D];return U.u+=D,ot(U),X}return U.h=1,U.u=0}function re(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function ye(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Ie(U){return U.Ra>>>(U.u&Ya-1)>>>0}function ke(U){return t(U.bb<=U.Sb),U.h||U.bb==U.Sb&&U.u>Ya}function $e(U,D){U.u=D,U.h=ke(U)}function Je(U){U.u>=Ps&&(t(U.u>=Ps),ot(U))}function mt(U){t(U!=null&&U.oa!=null),U.pa<U.Zc?(U.I=(U.oa[U.pa++]|U.I<<8)>>>0,U.b+=8):(t(U!=null&&U.oa!=null),U.pa<U.Yc?(U.b+=8,U.I=U.oa[U.pa++]|U.I<<8):U.Ka?U.b=0:(U.I<<=8,U.b+=8,U.Ka=1))}function Ke(U){return Ne(U,1)}function pt(U,D){var X=U.Ca;0>U.b&&mt(U);var _=U.b,i=X*D>>>8,h=(U.I>>>_>i)+0;for(h?(X-=i,U.I-=i+1<<_>>>0):X=i+1,_=X,i=0;256<=_;)i+=8,_>>=8;return _=7^i+ro[_],U.b-=_,U.Ca=(X<<_)-1,h}function Ct(U,D,X){U[D+0]=X>>24&255,U[D+1]=X>>16&255,U[D+2]=X>>8&255,U[D+3]=255&X}function ct(U,D){return U[D+0]|U[D+1]<<8}function qt(U,D){return ct(U,D)|U[D+2]<<16}function Xt(U,D){return ct(U,D)|ct(U,D+2)<<16}function Pe(U,D){var X=1<<D;return t(U!=null),t(0<D),U.X=A(X),U.X==null?0:(U.Mb=32-D,U.Xa=D,1)}function Ye(U,D){t(U!=null),t(D!=null),t(U.Xa==D.Xa),n(D.X,0,U.X,0,1<<D.Xa)}function Rr(){this.X=[],this.Xa=this.Mb=0}function Er(U,D,X,_){t(X!=null),t(_!=null);var i=X[0],h=_[0];return i==0&&(i=(U*h+D/2)/D),h==0&&(h=(D*i+U/2)/U),0>=i||0>=h?0:(X[0]=i,_[0]=h,1)}function It(U,D){return U+(1<<D)-1>>>D}function nr(U,D){return((4278255360&U)+(4278255360&D)>>>0&4278255360)+((16711935&U)+(16711935&D)>>>0&16711935)>>>0}function ur(U,D){me[D]=function(X,_,i,h,p,v,x){var L;for(L=0;L<p;++L){var M=me[U](v[x+L-1],i,h+L);v[x+L]=nr(X[_+L],M)}}}function Tr(){this.ud=this.hd=this.jd=0}function Br(U,D){return((4278124286&(U^D))>>>1)+(U&D)>>>0}function rn(U){return 0<=U&&256>U?U:0>U?0:255<U?255:void 0}function nn(U,D){return rn(U+(U-D+.5>>1))}function Jr(U,D,X){return Math.abs(D-X)-Math.abs(U-X)}function yn(U,D,X,_,i,h,p){for(_=h[p-1],X=0;X<i;++X)h[p+X]=_=nr(U[D+X],_)}function Lt(U,D,X,_,i){var h;for(h=0;h<X;++h){var p=U[D+h],v=p>>8&255,x=16711935&(x=(x=16711935&p)+((v<<16)+v));_[i+h]=(4278255360&p)+x>>>0}}function cr(U,D){D.jd=255&U,D.hd=U>>8&255,D.ud=U>>16&255}function Pr(U,D,X,_,i,h){var p;for(p=0;p<_;++p){var v=D[X+p],x=v>>>8,L=v,M=255&(M=(M=v>>>16)+((U.jd<<24>>24)*(x<<24>>24)>>>5));L=255&(L=(L+=(U.hd<<24>>24)*(x<<24>>24)>>>5)+((U.ud<<24>>24)*(M<<24>>24)>>>5)),i[h+p]=(4278255360&v)+(M<<16)+L}}function fr(U,D,X,_,i){me[D]=function(h,p,v,x,L,M,N,Q,G){for(x=N;x<Q;++x)for(N=0;N<G;++N)L[M++]=i(v[_(h[p++])])},me[U]=function(h,p,v,x,L,M,N){var Q=8>>h.b,G=h.Ea,$=h.K[0],ee=h.w;if(8>Q)for(h=(1<<h.b)-1,ee=(1<<Q)-1;p<v;++p){var ne,ce=0;for(ne=0;ne<G;++ne)ne&h||(ce=_(x[L++])),M[N++]=i($[ce&ee]),ce>>=Q}else me["VP8LMapColor"+X](x,L,$,ee,M,N,p,v,G)}}function ri(U,D,X,_,i){for(X=D+X;D<X;){var h=U[D++];_[i++]=h>>16&255,_[i++]=h>>8&255,_[i++]=255&h}}function Pt(U,D,X,_,i){for(X=D+X;D<X;){var h=U[D++];_[i++]=h>>16&255,_[i++]=h>>8&255,_[i++]=255&h,_[i++]=h>>24&255}}function Zt(U,D,X,_,i){for(X=D+X;D<X;){var h=(p=U[D++])>>16&240|p>>12&15,p=240&p|p>>28&15;_[i++]=h,_[i++]=p}}function Gt(U,D,X,_,i){for(X=D+X;D<X;){var h=(p=U[D++])>>16&248|p>>13&7,p=p>>5&224|p>>3&31;_[i++]=h,_[i++]=p}}function Zr(U,D,X,_,i){for(X=D+X;D<X;){var h=U[D++];_[i++]=255&h,_[i++]=h>>8&255,_[i++]=h>>16&255}}function _r(U,D,X,_,i,h){if(h==0)for(X=D+X;D<X;)Ct(_,((h=U[D++])[0]>>24|h[1]>>8&65280|h[2]<<8&16711680|h[3]<<24)>>>0),i+=32;else n(_,i,U,D,X)}function sr(U,D){me[D][0]=me[U+"0"],me[D][1]=me[U+"1"],me[D][2]=me[U+"2"],me[D][3]=me[U+"3"],me[D][4]=me[U+"4"],me[D][5]=me[U+"5"],me[D][6]=me[U+"6"],me[D][7]=me[U+"7"],me[D][8]=me[U+"8"],me[D][9]=me[U+"9"],me[D][10]=me[U+"10"],me[D][11]=me[U+"11"],me[D][12]=me[U+"12"],me[D][13]=me[U+"13"],me[D][14]=me[U+"0"],me[D][15]=me[U+"0"]}function Lr(U){return U==LA||U==UA||U==MA||U==Du}function zr(){this.eb=[],this.size=this.A=this.fb=0}function kn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Xr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new zr,this.f.kb=new kn,this.sd=null}function Me(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function le(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ue(U){return alert("todo:WebPSamplerProcessPlane"),U.T}function we(U,D){var X=U.T,_=D.ba.f.RGBA,i=_.eb,h=_.fb+U.ka*_.A,p=Hr[D.ba.S],v=U.y,x=U.O,L=U.f,M=U.N,N=U.ea,Q=U.W,G=D.cc,$=D.dc,ee=D.Mc,ne=D.Nc,ce=U.ka,ge=U.ka+U.T,Se=U.U,xe=Se+1>>1;for(ce==0?p(v,x,null,null,L,M,N,Q,L,M,N,Q,i,h,null,null,Se):(p(D.ec,D.fc,v,x,G,$,ee,ne,L,M,N,Q,i,h-_.A,i,h,Se),++X);ce+2<ge;ce+=2)G=L,$=M,ee=N,ne=Q,M+=U.Rc,Q+=U.Rc,h+=2*_.A,p(v,(x+=2*U.fa)-U.fa,v,x,G,$,ee,ne,L,M,N,Q,i,h-_.A,i,h,Se);return x+=U.fa,U.j+ge<U.o?(n(D.ec,D.fc,v,x,Se),n(D.cc,D.dc,L,M,xe),n(D.Mc,D.Nc,N,Q,xe),X--):1&ge||p(v,x,null,null,L,M,N,Q,L,M,N,Q,i,h+_.A,null,null,Se),X}function Re(U,D,X){var _=U.F,i=[U.J];if(_!=null){var h=U.U,p=D.ba.S,v=p==Au||p==MA;D=D.ba.f.RGBA;var x=[0],L=U.ka;x[0]=U.T,U.Kb&&(L==0?--x[0]:(--L,i[0]-=U.width),U.j+U.ka+U.T==U.o&&(x[0]=U.o-U.j-L));var M=D.eb;L=D.fb+L*D.A,U=Xo(_,i[0],U.width,h,x,M,L+(v?0:3),D.A),t(X==x),U&&Lr(p)&&$o(M,L,v,h,x,D.A)}return 0}function et(U){var D=U.ma,X=D.ba.S,_=11>X,i=X==ba||X==gs||X==Au||X==FA||X==12||Lr(X);if(D.memory=null,D.Ib=null,D.Jb=null,D.Nd=null,!cs(D.Oa,U,i?11:12))return 0;if(i&&Lr(X)&&ou(),U.da)alert("todo:use_scaling");else{if(_){if(D.Ib=ue,U.Kb){if(X=U.U+1>>1,D.memory=A(U.U+2*X),D.memory==null)return 0;D.ec=D.memory,D.fc=0,D.cc=D.ec,D.dc=D.fc+U.U,D.Mc=D.cc,D.Nc=D.dc+X,D.Ib=we,ou()}}else alert("todo:EmitYUV");i&&(D.Jb=Re,_&&ya())}if(_&&!fa){for(U=0;256>U;++U)pn[U]=89858*(U-128)+Nu>>so,Wc[U]=-22014*(U-128)+Nu,vc[U]=-45773*(U-128),eA[U]=113618*(U-128)+Nu>>so;for(U=Jl;U<NA;++U)D=76283*(U-16)+Nu>>so,xf[U-Jl]=Vn(D,255),_c[U-Jl]=Vn(D+8>>4,15);fa=1}return 1}function qe(U){var D=U.ma,X=U.U,_=U.T;return t(!(1&U.ka)),0>=X||0>=_?0:(X=D.Ib(U,D),D.Jb!=null&&D.Jb(U,D,X),D.Dc+=X,1)}function lt(U){U.ma.memory=null}function We(U,D,X,_){return be(U,8)!=47?0:(D[0]=be(U,14)+1,X[0]=be(U,14)+1,_[0]=be(U,1),be(U,3)!=0?0:!U.h)}function yt(U,D){if(4>U)return U+1;var X=U-2>>1;return(2+(1&U)<<X)+be(D,X)+1}function Mt(U,D){return 120<D?D-120:1<=(X=((X=Di[D-1])>>4)*U+(8-(15&X)))?X:1;var X}function ft(U,D,X){var _=Ie(X),i=U[D+=255&_].g-8;return 0<i&&($e(X,X.u+8),_=Ie(X),D+=U[D].value,D+=_&(1<<i)-1),$e(X,X.u+U[D].g),U[D].value}function Qt(U,D,X){return X.g+=U.g,X.value+=U.value<<D>>>0,t(8>=X.g),U.g}function Jt(U,D,X){var _=U.xc;return t((D=_==0?0:U.vc[U.md*(X>>_)+(D>>_)])<U.Wb),U.Ya[D]}function dr(U,D,X,_){var i=U.ab,h=U.c*D,p=U.C;D=p+D;var v=X,x=_;for(_=U.Ta,X=U.Ua;0<i--;){var L=U.gc[i],M=p,N=D,Q=v,G=x,$=(x=_,v=X,L.Ea);switch(t(M<N),t(N<=L.nc),L.hc){case 2:Si(Q,G,(N-M)*$,x,v);break;case 0:var ee=M,ne=N,ce=x,ge=v,Se=(Ge=L).Ea;ee==0&&(Vo(Q,G,null,null,1,ce,ge),yn(Q,G+1,0,0,Se-1,ce,ge+1),G+=Se,ge+=Se,++ee);for(var xe=1<<Ge.b,Qe=xe-1,Te=It(Se,Ge.b),Xe=Ge.K,Ge=Ge.w+(ee>>Ge.b)*Te;ee<ne;){var at=Xe,wt=Ge,St=1;for(gl(Q,G,ce,ge-Se,1,ce,ge);St<Se;){var _t=(St&~Qe)+xe;_t>Se&&(_t=Se),(0,dn[at[wt++]>>8&15])(Q,G+ +St,ce,ge+St-Se,_t-St,ce,ge+St),St=_t}G+=Se,ge+=Se,++ee&Qe||(Ge+=Te)}N!=L.nc&&n(x,v-$,x,v+(N-M-1)*$,$);break;case 1:for($=Q,ne=G,Se=(Q=L.Ea)-(ge=Q&~(ce=(G=1<<L.b)-1)),ee=It(Q,L.b),xe=L.K,L=L.w+(M>>L.b)*ee;M<N;){for(Qe=xe,Te=L,Xe=new Tr,Ge=ne+ge,at=ne+Q;ne<Ge;)cr(Qe[Te++],Xe),Wl(Xe,$,ne,G,x,v),ne+=G,v+=G;ne<at&&(cr(Qe[Te++],Xe),Wl(Xe,$,ne,Se,x,v),ne+=Se,v+=Se),++M&ce||(L+=ee)}break;case 3:if(Q==x&&G==v&&0<L.b){for(ne=x,Q=$=v+(N-M)*$-(ge=(N-M)*It(L.Ea,L.b)),G=x,ce=v,ee=[],ge=(Se=ge)-1;0<=ge;--ge)ee[ge]=G[ce+ge];for(ge=Se-1;0<=ge;--ge)ne[Q+ge]=ee[ge];Zl(L,M,N,x,$,x,v)}else Zl(L,M,N,Q,G,x,v)}v=_,x=X}x!=X&&n(_,X,v,x,h)}function Wr(U,D){var X=U.V,_=U.Ba+U.c*U.C,i=D-U.C;if(t(D<=U.l.o),t(16>=i),0<i){var h=U.l,p=U.Ta,v=U.Ua,x=h.width;if(dr(U,i,X,_),i=v=[v],t((X=U.C)<(_=D)),t(h.v<h.va),_>h.o&&(_=h.o),X<h.j){var L=h.j-X;X=h.j,i[0]+=L*x}if(X>=_?X=0:(i[0]+=4*h.v,h.ka=X-h.j,h.U=h.va-h.v,h.T=_-X,X=1),X){if(v=v[0],11>(X=U.ca).S){var M=X.f.RGBA,N=(_=X.S,i=h.U,h=h.T,L=M.eb,M.A),Q=h;for(M=M.fb+U.Ma*M.A;0<Q--;){var G=p,$=v,ee=i,ne=L,ce=M;switch(_){case Pu:Mu(G,$,ee,ne,ce);break;case ba:yl(G,$,ee,ne,ce);break;case LA:yl(G,$,ee,ne,ce),$o(ne,ce,0,ee,1,0);break;case Ou:vl(G,$,ee,ne,ce);break;case gs:_r(G,$,ee,ne,ce,1);break;case UA:_r(G,$,ee,ne,ce,1),$o(ne,ce,0,ee,1,0);break;case Au:_r(G,$,ee,ne,ce,0);break;case MA:_r(G,$,ee,ne,ce,0),$o(ne,ce,1,ee,1,0);break;case FA:Os(G,$,ee,ne,ce);break;case Du:Os(G,$,ee,ne,ce),oi(ne,ce,ee,1,0);break;case Ns:Go(G,$,ee,ne,ce);break;default:t(0)}v+=x,M+=N}U.Ma+=h}else alert("todo:EmitRescaledRowsYUVA");t(U.Ma<=X.height)}}U.C=D,t(U.C<=U.i)}function or(U){var D;if(0<U.ua)return 0;for(D=0;D<U.Wb;++D){var X=U.Ya[D].G,_=U.Ya[D].H;if(0<X[1][_[1]+0].g||0<X[2][_[2]+0].g||0<X[3][_[3]+0].g)return 0}return 1}function Or(U,D,X,_,i,h){if(U.Z!=0){var p=U.qd,v=U.rd;for(t(Wo[U.Z]!=null);D<X;++D)Wo[U.Z](p,v,_,i,_,i,h),p=_,v=i,i+=h;U.qd=p,U.rd=v}}function jr(U,D){var X=U.l.ma,_=X.Z==0||X.Z==1?U.l.j:U.C;if(_=U.C<_?_:U.C,t(D<=U.l.o),D>_){var i=U.l.width,h=X.ca,p=X.tb+i*_,v=U.V,x=U.Ba+U.c*_,L=U.gc;t(U.ab==1),t(L[0].hc==3),qo(L[0],_,D,v,x,h,p),Or(X,_,D,h,p,i)}U.C=U.Ma=D}function Kn(U,D,X,_,i,h,p){var v=U.$/_,x=U.$%_,L=U.m,M=U.s,N=X+U.$,Q=N;i=X+_*i;var G=X+_*h,$=280+M.ua,ee=U.Pb?v:16777216,ne=0<M.ua?M.Wa:null,ce=M.wc,ge=N<G?Jt(M,x,v):null;t(U.C<h),t(G<=i);var Se=!1;e:for(;;){for(;Se||N<G;){var xe=0;if(v>=ee){var Qe=N-X;t((ee=U).Pb),ee.wd=ee.m,ee.xd=Qe,0<ee.s.ua&&Ye(ee.s.Wa,ee.s.vb),ee=v+xl}if(x&ce||(ge=Jt(M,x,v)),t(ge!=null),ge.Qb&&(D[N]=ge.qb,Se=!0),!Se)if(Je(L),ge.jc){xe=L,Qe=D;var Te=N,Xe=ge.pd[Ie(xe)&ml-1];t(ge.jc),256>Xe.g?($e(xe,xe.u+Xe.g),Qe[Te]=Xe.value,xe=0):($e(xe,xe.u+Xe.g-256),t(256<=Xe.value),xe=Xe.value),xe==0&&(Se=!0)}else xe=ft(ge.G[0],ge.H[0],L);if(L.h)break;if(Se||256>xe){if(!Se)if(ge.nd)D[N]=(ge.qb|xe<<8)>>>0;else{if(Je(L),Se=ft(ge.G[1],ge.H[1],L),Je(L),Qe=ft(ge.G[2],ge.H[2],L),Te=ft(ge.G[3],ge.H[3],L),L.h)break;D[N]=(Te<<24|Se<<16|xe<<8|Qe)>>>0}if(Se=!1,++N,++x>=_&&(x=0,++v,p!=null&&v<=h&&!(v%16)&&p(U,v),ne!=null))for(;Q<N;)xe=D[Q++],ne.X[(506832829*xe&4294967295)>>>ne.Mb]=xe}else if(280>xe){if(xe=yt(xe-256,L),Qe=ft(ge.G[4],ge.H[4],L),Je(L),Qe=Mt(_,Qe=yt(Qe,L)),L.h)break;if(N-X<Qe||i-N<xe)break e;for(Te=0;Te<xe;++Te)D[N+Te]=D[N+Te-Qe];for(N+=xe,x+=xe;x>=_;)x-=_,++v,p!=null&&v<=h&&!(v%16)&&p(U,v);if(t(N<=i),x&ce&&(ge=Jt(M,x,v)),ne!=null)for(;Q<N;)xe=D[Q++],ne.X[(506832829*xe&4294967295)>>>ne.Mb]=xe}else{if(!(xe<$))break e;for(Se=xe-280,t(ne!=null);Q<N;)xe=D[Q++],ne.X[(506832829*xe&4294967295)>>>ne.Mb]=xe;xe=N,t(!(Se>>>(Qe=ne).Xa)),D[xe]=Qe.X[Se],Se=!0}Se||t(L.h==ke(L))}if(U.Pb&&L.h&&N<i)t(U.m.h),U.a=5,U.m=U.wd,U.$=U.xd,0<U.s.ua&&Ye(U.s.vb,U.s.Wa);else{if(L.h)break e;p?.(U,v>h?h:v),U.a=0,U.$=N-X}return 1}return U.a=3,0}function Nn(U){t(U!=null),U.vc=null,U.yc=null,U.Ya=null;var D=U.Wa;D!=null&&(D.X=null),U.vb=null,t(U!=null)}function en(){var U=new tn;return U==null?null:(U.a=0,U.xb=DA,sr("Predictor","VP8LPredictors"),sr("Predictor","VP8LPredictors_C"),sr("PredictorAdd","VP8LPredictorsAdd"),sr("PredictorAdd","VP8LPredictorsAdd_C"),Si=Lt,Wl=Pr,Mu=ri,yl=Pt,Os=Zt,Go=Gt,vl=Zr,me.VP8LMapColor32b=hs,me.VP8LMapColor8b=va,U)}function vn(U,D,X,_,i){var h=1,p=[U],v=[D],x=_.m,L=_.s,M=null,N=0;e:for(;;){if(X)for(;h&&be(x,1);){var Q=p,G=v,$=_,ee=1,ne=$.m,ce=$.gc[$.ab],ge=be(ne,2);if($.Oc&1<<ge)h=0;else{switch($.Oc|=1<<ge,ce.hc=ge,ce.Ea=Q[0],ce.nc=G[0],ce.K=[null],++$.ab,t(4>=$.ab),ge){case 0:case 1:ce.b=be(ne,3)+2,ee=vn(It(ce.Ea,ce.b),It(ce.nc,ce.b),0,$,ce.K),ce.K=ce.K[0];break;case 3:var Se,xe=be(ne,8)+1,Qe=16<xe?0:4<xe?1:2<xe?2:3;if(Q[0]=It(ce.Ea,Qe),ce.b=Qe,Se=ee=vn(xe,1,0,$,ce.K)){var Te,Xe=xe,Ge=ce,at=1<<(8>>Ge.b),wt=A(at);if(wt==null)Se=0;else{var St=Ge.K[0],_t=Ge.w;for(wt[0]=Ge.K[0][0],Te=1;Te<1*Xe;++Te)wt[Te]=nr(St[_t+Te],wt[Te-1]);for(;Te<4*at;++Te)wt[Te]=0;Ge.K[0]=null,Ge.K[0]=wt,Se=1}}ee=Se;break;case 2:break;default:t(0)}h=ee}}if(p=p[0],v=v[0],h&&be(x,1)&&!(h=1<=(N=be(x,4))&&11>=N)){_.a=3;break e}var gt;if(gt=h)t:{var Nt,Et,zt,tr=_,Vt=p,$t=v,rr=N,un=X,Ir=tr.m,Ur=tr.s,wr=[null],an=1,jn=0,Dr=ea[rr];r:for(;;){if(un&&be(Ir,1)){var qn=be(Ir,3)+2,In=It(Vt,qn),sn=It($t,qn),On=In*sn;if(!vn(In,sn,0,tr,wr))break r;for(wr=wr[0],Ur.xc=qn,Nt=0;Nt<On;++Nt){var Cn=wr[Nt]>>8&65535;wr[Nt]=Cn,Cn>=an&&(an=Cn+1)}}if(Ir.h)break r;for(Et=0;5>Et;++Et){var xi=wl[Et];!Et&&0<rr&&(xi+=1<<rr),jn<xi&&(jn=xi)}var ki=f(an*Dr,Le),Gn=an,fn=f(Gn,nt);if(fn==null)var wa=null;else t(65536>=Gn),wa=fn;var Ti=A(jn);if(wa==null||Ti==null||ki==null){tr.a=1;break r}var gr=ki;for(Nt=zt=0;Nt<an;++Nt){var vr=wa[Nt],xn=vr.G,Ii=vr.H,ni=0,Wn=1,$n=0;for(Et=0;5>Et;++Et){xi=wl[Et],xn[Et]=gr,Ii[Et]=zt,!Et&&0<rr&&(xi+=1<<rr);i:{var cn,Rs=xi,rA=tr,Zn=Ti,Yc=gr,Uh=zt,bc=0,Ja=rA.m,Bf=be(Ja,1);if(s(Zn,0,0,Rs),Bf){var Qu=be(Ja,1)+1,uu=be(Ja,1),cu=be(Ja,uu==0?1:8);Zn[cu]=1,Qu==2&&(Zn[cu=be(Ja,8)]=1);var ta=1}else{var li=A(19),nA=be(Ja,4)+4;if(19<nA){rA.a=3;var iA=0;break i}for(cn=0;cn<nA;++cn)li[ku[cn]]=be(Ja,3);var wc=void 0,Ru=void 0,QA=rA,Jc=li,RA=Rs,hu=Zn,Cl=0,qa=QA.m,zA=8,Cf=f(128,Le);n:for(;de(Cf,0,7,Jc,19);){if(be(qa,1)){var zu=2+2*be(qa,3);if((wc=2+be(qa,zu))>RA)break n}else wc=RA;for(Ru=0;Ru<RA&&wc--;){Je(qa);var Ed=Cf[0+(127&Ie(qa))];$e(qa,qa.u+Ed.g);var fu=Ed.value;if(16>fu)hu[Ru++]=fu,fu!=0&&(zA=fu);else{var ra=fu==16,Sf=fu-16,Td=PA[Sf],du=be(qa,Qs[Sf])+Td;if(Ru+du>RA)break n;for(var ju=ra?zA:0;0<du--;)hu[Ru++]=ju}}Cl=1;break n}Cl||(QA.a=3),ta=Cl}(ta=ta&&!Ja.h)&&(bc=de(Yc,Uh,8,Zn,Rs)),ta&&bc!=0?iA=bc:(rA.a=3,iA=0)}if(iA==0)break r;if(Wn&&OA[Et]==1&&(Wn=gr[zt].g==0),ni+=gr[zt].g,zt+=iA,3>=Et){var jA,eh=Ti[0];for(jA=1;jA<xi;++jA)Ti[jA]>eh&&(eh=Ti[jA]);$n+=eh}}if(vr.nd=Wn,vr.Qb=0,Wn&&(vr.qb=(xn[3][Ii[3]+0].value<<24|xn[1][Ii[1]+0].value<<16|xn[2][Ii[2]+0].value)>>>0,ni==0&&256>xn[0][Ii[0]+0].value&&(vr.Qb=1,vr.qb+=xn[0][Ii[0]+0].value<<8)),vr.jc=!vr.Qb&&6>$n,vr.jc){var th,HA=vr;for(th=0;th<ml;++th){var KA=th,pu=HA.pd[KA],rh=HA.G[0][HA.H[0]+KA];256<=rh.value?(pu.g=rh.g+256,pu.value=rh.value):(pu.g=0,pu.value=0,KA>>=Qt(rh,8,pu),KA>>=Qt(HA.G[1][HA.H[1]+KA],16,pu),KA>>=Qt(HA.G[2][HA.H[2]+KA],0,pu),Qt(HA.G[3][HA.H[3]+KA],24,pu))}}}Ur.vc=wr,Ur.Wb=an,Ur.Ya=wa,Ur.yc=ki,gt=1;break t}gt=0}if(!(h=gt)){_.a=3;break e}if(0<N){if(L.ua=1<<N,!Pe(L.Wa,N)){_.a=1,h=0;break e}}else L.ua=0;var Ef=_,mu=p,Id=v,xc=Ef.s,aA=xc.xc;if(Ef.c=mu,Ef.i=Id,xc.md=It(mu,aA),xc.wc=aA==0?-1:(1<<aA)-1,X){_.xb=io;break e}if((M=A(p*v))==null){_.a=1,h=0;break e}h=(h=Kn(_,M,0,p,v,v,null))&&!x.h;break e}return h?(i!=null?i[0]=M:(t(M==null),t(X)),_.$=0,X||Nn(L)):Nn(L),h}function Pn(U,D){var X=U.c*U.i,_=X+D+16*D;return t(U.c<=D),U.V=A(_),U.V==null?(U.Ta=null,U.Ua=0,U.a=1,0):(U.Ta=U.V,U.Ua=U.Ba+X+D,1)}function gi(U,D){var X=U.C,_=D-X,i=U.V,h=U.Ba+U.c*X;for(t(D<=U.l.o);0<_;){var p=16<_?16:_,v=U.l.ma,x=U.l.width,L=x*p,M=v.ca,N=v.tb+x*X,Q=U.Ta,G=U.Ua;dr(U,p,i,h),ks(Q,G,M,N,L),Or(v,X,X+p,M,N,x),_-=p,i+=p*U.c,X+=p}t(X==D),U.C=U.Ma=D}function ai(){this.ub=this.yd=this.td=this.Rb=0}function yi(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function _o(){this.Fb=this.Bb=this.Cb=0,this.Zb=A(4),this.Lb=A(4)}function wn(){this.Yb=(function(){var U=[];return(function D(X,_,i){for(var h=i[_],p=0;p<h&&(X.push(i.length>_+1?[]:0),!(i.length<_+1));p++)D(X[p],_+1,i)})(U,0,[3,11]),U})()}function Ui(){this.jb=A(3),this.Wc=l([4,8],wn),this.Xc=l([4,17],wn)}function eu(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new A(4),this.od=new A(4)}function vi(){this.ld=this.La=this.dd=this.tc=0}function Mi(){this.Na=this.la=0}function Vl(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Za(){this.ad=A(384),this.Za=0,this.Ob=A(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Qa(){this.uc=this.M=this.Nb=0,this.wa=Array(new vi),this.Y=0,this.ya=Array(new Za),this.aa=0,this.l=new Gs}function ll(){this.y=A(16),this.f=A(8),this.ea=A(8)}function Al(){this.cb=this.a=0,this.sc="",this.m=new re,this.Od=new ai,this.Kc=new yi,this.ed=new eu,this.Qa=new _o,this.Ic=this.$c=this.Aa=0,this.D=new Qa,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=f(8,re),this.ia=0,this.pb=f(4,Vl),this.Pa=new Ui,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ll),this.Hd=0,this.rb=Array(new Mi),this.sb=0,this.wa=Array(new vi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Za),this.L=this.aa=0,this.gd=l([4,2],vi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Vn(U,D){return 0>U?0:U>D?D:U}function Gs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Wi(){var U=new Al;return U!=null&&(U.a=0,U.sc="OK",U.cb=0,U.Xb=0,no||(no=ul)),U}function $r(U,D,X){return U.a==0&&(U.a=D,U.sc=X,U.cb=0),0}function vA(U,D,X){return 3<=X&&U[D+0]==157&&U[D+1]==1&&U[D+2]==42}function Aa(U,D){if(U==null)return 0;if(U.a=0,U.sc="OK",D==null)return $r(U,2,"null VP8Io passed to VP8GetHeaders()");var X=D.data,_=D.w,i=D.ha;if(4>i)return $r(U,7,"Truncated header.");var h=X[_+0]|X[_+1]<<8|X[_+2]<<16,p=U.Od;if(p.Rb=!(1&h),p.td=h>>1&7,p.yd=h>>4&1,p.ub=h>>5,3<p.td)return $r(U,3,"Incorrect keyframe parameters.");if(!p.yd)return $r(U,4,"Frame not displayable.");_+=3,i-=3;var v=U.Kc;if(p.Rb){if(7>i)return $r(U,7,"cannot parse picture header");if(!vA(X,_,i))return $r(U,3,"Bad code word");v.c=16383&(X[_+4]<<8|X[_+3]),v.Td=X[_+4]>>6,v.i=16383&(X[_+6]<<8|X[_+5]),v.Ud=X[_+6]>>6,_+=7,i-=7,U.za=v.c+15>>4,U.Ub=v.i+15>>4,D.width=v.c,D.height=v.i,D.Da=0,D.j=0,D.v=0,D.va=D.width,D.o=D.height,D.da=0,D.ib=D.width,D.hb=D.height,D.U=D.width,D.T=D.height,s((h=U.Pa).jb,0,255,h.jb.length),t((h=U.Qa)!=null),h.Cb=0,h.Bb=0,h.Fb=1,s(h.Zb,0,0,h.Zb.length),s(h.Lb,0,0,h.Lb)}if(p.ub>i)return $r(U,7,"bad partition length");Oe(h=U.m,X,_,p.ub),_+=p.ub,i-=p.ub,p.Rb&&(v.Ld=Ke(h),v.Kd=Ke(h)),v=U.Qa;var x,L=U.Pa;if(t(h!=null),t(v!=null),v.Cb=Ke(h),v.Cb){if(v.Bb=Ke(h),Ke(h)){for(v.Fb=Ke(h),x=0;4>x;++x)v.Zb[x]=Ke(h)?Ve(h,7):0;for(x=0;4>x;++x)v.Lb[x]=Ke(h)?Ve(h,6):0}if(v.Bb)for(x=0;3>x;++x)L.jb[x]=Ke(h)?Ne(h,8):255}else v.Bb=0;if(h.Ka)return $r(U,3,"cannot parse segment header");if((v=U.ed).zd=Ke(h),v.Tb=Ne(h,6),v.wb=Ne(h,3),v.Pc=Ke(h),v.Pc&&Ke(h)){for(L=0;4>L;++L)Ke(h)&&(v.vd[L]=Ve(h,6));for(L=0;4>L;++L)Ke(h)&&(v.od[L]=Ve(h,6))}if(U.L=v.Tb==0?0:v.zd?1:2,h.Ka)return $r(U,3,"cannot parse filter header");var M=i;if(i=x=_,_=x+M,v=M,U.Xb=(1<<Ne(U.m,2))-1,M<3*(L=U.Xb))X=7;else{for(x+=3*L,v-=3*L,M=0;M<L;++M){var N=X[i+0]|X[i+1]<<8|X[i+2]<<16;N>v&&(N=v),Oe(U.Jc[+M],X,x,N),x+=N,v-=N,i+=3}Oe(U.Jc[+L],X,x,v),X=x<_?0:5}if(X!=0)return $r(U,X,"cannot parse partitions");for(X=Ne(x=U.m,7),i=Ke(x)?Ve(x,4):0,_=Ke(x)?Ve(x,4):0,v=Ke(x)?Ve(x,4):0,L=Ke(x)?Ve(x,4):0,x=Ke(x)?Ve(x,4):0,M=U.Qa,N=0;4>N;++N){if(M.Cb){var Q=M.Zb[N];M.Fb||(Q+=X)}else{if(0<N){U.pb[N]=U.pb[0];continue}Q=X}var G=U.pb[N];G.Sc[0]=qi[Vn(Q+i,127)],G.Sc[1]=Fa[Vn(Q+0,127)],G.Eb[0]=2*qi[Vn(Q+_,127)],G.Eb[1]=101581*Fa[Vn(Q+v,127)]>>16,8>G.Eb[1]&&(G.Eb[1]=8),G.Qc[0]=qi[Vn(Q+L,117)],G.Qc[1]=Fa[Vn(Q+x,127)],G.lc=Q+x}if(!p.Rb)return $r(U,4,"Not a key frame.");for(Ke(h),p=U.Pa,X=0;4>X;++X){for(i=0;8>i;++i)for(_=0;3>_;++_)for(v=0;11>v;++v)L=pt(h,Mn[X][i][_][v])?Ne(h,8):$c[X][i][_][v],p.Wc[X][i].Yb[_][v]=L;for(i=0;17>i;++i)p.Xc[X][i]=p.Wc[X][Rt[i]]}return U.kc=Ke(h),U.kc&&(U.Bd=Ne(h,8)),U.cb=1}function ul(U,D,X,_,i,h,p){var v=D[i].Yb[X];for(X=0;16>i;++i){if(!pt(U,v[X+0]))return i;for(;!pt(U,v[X+1]);)if(v=D[++i].Yb[0],X=0,i==16)return 16;var x=D[i+1].Yb;if(pt(U,v[X+2])){var L=U,M=0;if(pt(L,(Q=v)[(N=X)+3]))if(pt(L,Q[N+6])){for(v=0,N=2*(M=pt(L,Q[N+8]))+(Q=pt(L,Q[N+9+M])),M=0,Q=wf[N];Q[v];++v)M+=M+pt(L,Q[v]);M+=3+(8<<N)}else pt(L,Q[N+7])?(M=7+2*pt(L,165),M+=pt(L,145)):M=5+pt(L,159);else M=pt(L,Q[N+4])?3+pt(L,Q[N+5]):2;v=x[2]}else M=1,v=x[1];x=p+Gc[i],0>(L=U).b&&mt(L);var N,Q=L.b,G=(N=L.Ca>>1)-(L.I>>Q)>>31;--L.b,L.Ca+=G,L.Ca|=1,L.I-=(N+1&G)<<Q,h[x]=((M^G)-G)*_[(0<i)+0]}return 16}function As(U){var D=U.rb[U.sb-1];D.la=0,D.Na=0,s(U.zc,0,0,U.zc.length),U.ja=0}function us(U,D,X,_,i){i=U[D+X+32*_]+(i>>3),U[D+X+32*_]=-256&i?0>i?0:255:i}function ji(U,D,X,_,i,h){us(U,D,0,X,_+i),us(U,D,1,X,_+h),us(U,D,2,X,_-h),us(U,D,3,X,_-i)}function ui(U){return(20091*U>>16)+U}function $s(U,D,X,_){var i,h=0,p=A(16);for(i=0;4>i;++i){var v=U[D+0]+U[D+8],x=U[D+0]-U[D+8],L=(35468*U[D+4]>>16)-ui(U[D+12]),M=ui(U[D+4])+(35468*U[D+12]>>16);p[h+0]=v+M,p[h+1]=x+L,p[h+2]=x-L,p[h+3]=v-M,h+=4,D++}for(i=h=0;4>i;++i)v=(U=p[h+0]+4)+p[h+8],x=U-p[h+8],L=(35468*p[h+4]>>16)-ui(p[h+12]),us(X,_,0,0,v+(M=ui(p[h+4])+(35468*p[h+12]>>16))),us(X,_,1,0,x+L),us(X,_,2,0,x-L),us(X,_,3,0,v-M),h++,_+=32}function Ln(U,D,X,_){var i=U[D+0]+4,h=35468*U[D+4]>>16,p=ui(U[D+4]),v=35468*U[D+1]>>16;ji(X,_,0,i+p,U=ui(U[D+1]),v),ji(X,_,1,i+h,U,v),ji(X,_,2,i-h,U,v),ji(X,_,3,i-p,U,v)}function tu(U,D,X,_,i){$s(U,D,X,_),i&&$s(U,D+16,X,_+4)}function Ra(U,D,X,_){_l(U,D+0,X,_,1),_l(U,D+32,X,_+128,1)}function cl(U,D,X,_){var i;for(U=U[D+0]+4,i=0;4>i;++i)for(D=0;4>D;++D)us(X,_,D,i,U)}function ru(U,D,X,_){U[D+0]&&Un(U,D+0,X,_),U[D+16]&&Un(U,D+16,X,_+4),U[D+32]&&Un(U,D+32,X,_+128),U[D+48]&&Un(U,D+48,X,_+128+4)}function Fs(U,D,X,_){var i,h=A(16);for(i=0;4>i;++i){var p=U[D+0+i]+U[D+12+i],v=U[D+4+i]+U[D+8+i],x=U[D+4+i]-U[D+8+i],L=U[D+0+i]-U[D+12+i];h[0+i]=p+v,h[8+i]=p-v,h[4+i]=L+x,h[12+i]=L-x}for(i=0;4>i;++i)p=(U=h[0+4*i]+3)+h[3+4*i],v=h[1+4*i]+h[2+4*i],x=h[1+4*i]-h[2+4*i],L=U-h[3+4*i],X[_+0]=p+v>>3,X[_+16]=L+x>>3,X[_+32]=p-v>>3,X[_+48]=L-x>>3,_+=64}function Ro(U,D,X){var _,i=D-32,h=Ji,p=255-U[i-1];for(_=0;_<X;++_){var v,x=h,L=p+U[D-1];for(v=0;v<X;++v)U[D+v]=x[L+U[i+v]];D+=32}}function nu(U,D){Ro(U,D,4)}function ql(U,D){Ro(U,D,8)}function Fu(U,D){Ro(U,D,16)}function hc(U,D){var X;for(X=0;16>X;++X)n(U,D+32*X,U,D-32,16)}function fc(U,D){var X;for(X=16;0<X;--X)s(U,D,U[D-1],16),D+=32}function Ls(U,D,X){var _;for(_=0;16>_;++_)s(D,X+32*_,U,16)}function za(U,D){var X,_=16;for(X=0;16>X;++X)_+=U[D-1+32*X]+U[D+X-32];Ls(_>>5,U,D)}function Xs(U,D){var X,_=8;for(X=0;16>X;++X)_+=U[D-1+32*X];Ls(_>>4,U,D)}function ua(U,D){var X,_=8;for(X=0;16>X;++X)_+=U[D+X-32];Ls(_>>4,U,D)}function Yi(U,D){Ls(128,U,D)}function Vr(U,D,X){return U+2*D+X+2>>2}function iu(U,D){var X,_=D-32;for(_=new Uint8Array([Vr(U[_-1],U[_+0],U[_+1]),Vr(U[_+0],U[_+1],U[_+2]),Vr(U[_+1],U[_+2],U[_+3]),Vr(U[_+2],U[_+3],U[_+4])]),X=0;4>X;++X)n(U,D+32*X,_,0,_.length)}function _A(U,D){var X=U[D-1],_=U[D-1+32],i=U[D-1+64],h=U[D-1+96];Ct(U,D+0,16843009*Vr(U[D-1-32],X,_)),Ct(U,D+32,16843009*Vr(X,_,i)),Ct(U,D+64,16843009*Vr(_,i,h)),Ct(U,D+96,16843009*Vr(i,h,h))}function dc(U,D){var X,_=4;for(X=0;4>X;++X)_+=U[D+X-32]+U[D-1+32*X];for(_>>=3,X=0;4>X;++X)s(U,D+32*X,_,4)}function Ea(U,D){var X=U[D-1+0],_=U[D-1+32],i=U[D-1+64],h=U[D-1-32],p=U[D+0-32],v=U[D+1-32],x=U[D+2-32],L=U[D+3-32];U[D+0+96]=Vr(_,i,U[D-1+96]),U[D+1+96]=U[D+0+64]=Vr(X,_,i),U[D+2+96]=U[D+1+64]=U[D+0+32]=Vr(h,X,_),U[D+3+96]=U[D+2+64]=U[D+1+32]=U[D+0+0]=Vr(p,h,X),U[D+3+64]=U[D+2+32]=U[D+1+0]=Vr(v,p,h),U[D+3+32]=U[D+2+0]=Vr(x,v,p),U[D+3+0]=Vr(L,x,v)}function ja(U,D){var X=U[D+1-32],_=U[D+2-32],i=U[D+3-32],h=U[D+4-32],p=U[D+5-32],v=U[D+6-32],x=U[D+7-32];U[D+0+0]=Vr(U[D+0-32],X,_),U[D+1+0]=U[D+0+32]=Vr(X,_,i),U[D+2+0]=U[D+1+32]=U[D+0+64]=Vr(_,i,h),U[D+3+0]=U[D+2+32]=U[D+1+64]=U[D+0+96]=Vr(i,h,p),U[D+3+32]=U[D+2+64]=U[D+1+96]=Vr(h,p,v),U[D+3+64]=U[D+2+96]=Vr(p,v,x),U[D+3+96]=Vr(v,x,x)}function Lu(U,D){var X=U[D-1+0],_=U[D-1+32],i=U[D-1+64],h=U[D-1-32],p=U[D+0-32],v=U[D+1-32],x=U[D+2-32],L=U[D+3-32];U[D+0+0]=U[D+1+64]=h+p+1>>1,U[D+1+0]=U[D+2+64]=p+v+1>>1,U[D+2+0]=U[D+3+64]=v+x+1>>1,U[D+3+0]=x+L+1>>1,U[D+0+96]=Vr(i,_,X),U[D+0+64]=Vr(_,X,h),U[D+0+32]=U[D+1+96]=Vr(X,h,p),U[D+1+32]=U[D+2+96]=Vr(h,p,v),U[D+2+32]=U[D+3+96]=Vr(p,v,x),U[D+3+32]=Vr(v,x,L)}function bA(U,D){var X=U[D+0-32],_=U[D+1-32],i=U[D+2-32],h=U[D+3-32],p=U[D+4-32],v=U[D+5-32],x=U[D+6-32],L=U[D+7-32];U[D+0+0]=X+_+1>>1,U[D+1+0]=U[D+0+64]=_+i+1>>1,U[D+2+0]=U[D+1+64]=i+h+1>>1,U[D+3+0]=U[D+2+64]=h+p+1>>1,U[D+0+32]=Vr(X,_,i),U[D+1+32]=U[D+0+96]=Vr(_,i,h),U[D+2+32]=U[D+1+96]=Vr(i,h,p),U[D+3+32]=U[D+2+96]=Vr(h,p,v),U[D+3+64]=Vr(p,v,x),U[D+3+96]=Vr(v,x,L)}function Zs(U,D){var X=U[D-1+0],_=U[D-1+32],i=U[D-1+64],h=U[D-1+96];U[D+0+0]=X+_+1>>1,U[D+2+0]=U[D+0+32]=_+i+1>>1,U[D+2+32]=U[D+0+64]=i+h+1>>1,U[D+1+0]=Vr(X,_,i),U[D+3+0]=U[D+1+32]=Vr(_,i,h),U[D+3+32]=U[D+1+64]=Vr(i,h,h),U[D+3+64]=U[D+2+64]=U[D+0+96]=U[D+1+96]=U[D+2+96]=U[D+3+96]=h}function au(U,D){var X=U[D-1+0],_=U[D-1+32],i=U[D-1+64],h=U[D-1+96],p=U[D-1-32],v=U[D+0-32],x=U[D+1-32],L=U[D+2-32];U[D+0+0]=U[D+2+32]=X+p+1>>1,U[D+0+32]=U[D+2+64]=_+X+1>>1,U[D+0+64]=U[D+2+96]=i+_+1>>1,U[D+0+96]=h+i+1>>1,U[D+3+0]=Vr(v,x,L),U[D+2+0]=Vr(p,v,x),U[D+1+0]=U[D+3+32]=Vr(X,p,v),U[D+1+32]=U[D+3+64]=Vr(_,X,p),U[D+1+64]=U[D+3+96]=Vr(i,_,X),U[D+1+96]=Vr(h,i,_)}function zo(U,D){var X;for(X=0;8>X;++X)n(U,D+32*X,U,D-32,8)}function wA(U,D){var X;for(X=0;8>X;++X)s(U,D,U[D-1],8),D+=32}function Us(U,D,X){var _;for(_=0;8>_;++_)s(D,X+32*_,U,8)}function Gl(U,D){var X,_=8;for(X=0;8>X;++X)_+=U[D+X-32]+U[D-1+32*X];Us(_>>4,U,D)}function xA(U,D){var X,_=4;for(X=0;8>X;++X)_+=U[D+X-32];Us(_>>3,U,D)}function ca(U,D){var X,_=4;for(X=0;8>X;++X)_+=U[D-1+32*X];Us(_>>3,U,D)}function ga(U,D){Us(128,U,D)}function bo(U,D,X){var _=U[D-X],i=U[D+0],h=3*(i-_)+Zo[1020+U[D-2*X]-U[D+X]],p=IA[112+(h+4>>3)];U[D-X]=Ji[255+_+IA[112+(h+3>>3)]],U[D+0]=Ji[255+i-p]}function jo(U,D,X,_){var i=U[D+0],h=U[D+X];return bi[255+U[D-2*X]-U[D-X]]>_||bi[255+h-i]>_}function wo(U,D,X,_){return 4*bi[255+U[D-X]-U[D+0]]+bi[255+U[D-2*X]-U[D+X]]<=_}function Ms(U,D,X,_,i){var h=U[D-3*X],p=U[D-2*X],v=U[D-X],x=U[D+0],L=U[D+X],M=U[D+2*X],N=U[D+3*X];return 4*bi[255+v-x]+bi[255+p-L]>_?0:bi[255+U[D-4*X]-h]<=i&&bi[255+h-p]<=i&&bi[255+p-v]<=i&&bi[255+N-M]<=i&&bi[255+M-L]<=i&&bi[255+L-x]<=i}function _n(U,D,X,_){var i=2*_+1;for(_=0;16>_;++_)wo(U,D+_,X,i)&&bo(U,D+_,X)}function xo(U,D,X,_){var i=2*_+1;for(_=0;16>_;++_)wo(U,D+_*X,1,i)&&bo(U,D+_*X,1)}function su(U,D,X,_){var i;for(i=3;0<i;--i)_n(U,D+=4*X,X,_)}function hl(U,D,X,_){var i;for(i=3;0<i;--i)xo(U,D+=4,X,_)}function $l(U,D,X,_,i,h,p,v){for(h=2*h+1;0<i--;){if(Ms(U,D,X,h,p))if(jo(U,D,X,v))bo(U,D,X);else{var x=U,L=D,M=X,N=x[L-2*M],Q=x[L-M],G=x[L+0],$=x[L+M],ee=x[L+2*M],ne=27*(ge=Zo[1020+3*(G-Q)+Zo[1020+N-$]])+63>>7,ce=18*ge+63>>7,ge=9*ge+63>>7;x[L-3*M]=Ji[255+x[L-3*M]+ge],x[L-2*M]=Ji[255+N+ce],x[L-M]=Ji[255+Q+ne],x[L+0]=Ji[255+G-ne],x[L+M]=Ji[255+$-ce],x[L+2*M]=Ji[255+ee-ge]}D+=_}}function fl(U,D,X,_,i,h,p,v){for(h=2*h+1;0<i--;){if(Ms(U,D,X,h,p))if(jo(U,D,X,v))bo(U,D,X);else{var x=U,L=D,M=X,N=x[L-M],Q=x[L+0],G=x[L+M],$=IA[112+(4+(ee=3*(Q-N))>>3)],ee=IA[112+(ee+3>>3)],ne=$+1>>1;x[L-2*M]=Ji[255+x[L-2*M]+ne],x[L-M]=Ji[255+N+ee],x[L+0]=Ji[255+Q-$],x[L+M]=Ji[255+G-ne]}D+=_}}function qc(U,D,X,_,i,h){$l(U,D,X,1,16,_,i,h)}function dl(U,D,X,_,i,h){$l(U,D,1,X,16,_,i,h)}function Uu(U,D,X,_,i,h){var p;for(p=3;0<p;--p)fl(U,D+=4*X,X,1,16,_,i,h)}function V(U,D,X,_,i,h){var p;for(p=3;0<p;--p)fl(U,D+=4,1,X,16,_,i,h)}function fe(U,D,X,_,i,h,p,v){$l(U,D,i,1,8,h,p,v),$l(X,_,i,1,8,h,p,v)}function ze(U,D,X,_,i,h,p,v){$l(U,D,1,i,8,h,p,v),$l(X,_,1,i,8,h,p,v)}function rt(U,D,X,_,i,h,p,v){fl(U,D+4*i,i,1,8,h,p,v),fl(X,_+4*i,i,1,8,h,p,v)}function ut(U,D,X,_,i,h,p,v){fl(U,D+4,1,i,8,h,p,v),fl(X,_+4,1,i,8,h,p,v)}function Ot(){this.ba=new Xr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new le,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ht(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function yr(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function br(){this.ua=0,this.Wa=new Rr,this.vb=new Rr,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new nt,this.yc=new Le}function tn(){this.xb=this.a=0,this.l=new Gs,this.ca=new Xr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new ye,this.Pb=0,this.wd=new ye,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new br,this.ab=0,this.gc=f(4,yr),this.Oc=0}function An(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Gs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function zn(U,D,X,_,i,h,p){for(U=U==null?0:U[D+0],D=0;D<p;++D)i[h+D]=U+X[_+D]&255,U=i[h+D]}function Pi(U,D,X,_,i,h,p){var v;if(U==null)zn(null,null,X,_,i,h,p);else for(v=0;v<p;++v)i[h+v]=U[D+v]+X[_+v]&255}function Hi(U,D,X,_,i,h,p){if(U==null)zn(null,null,X,_,i,h,p);else{var v,x=U[D+0],L=x,M=x;for(v=0;v<p;++v)L=M+(x=U[D+v])-L,M=X[_+v]+(-256&L?0>L?0:255:L)&255,L=x,i[h+v]=M}}function si(U,D,X,_){var i=D.width,h=D.o;if(t(U!=null&&D!=null),0>X||0>=_||X+_>h)return null;if(!U.Cc){if(U.ga==null){var p;if(U.ga=new An,(p=U.ga==null)||(p=D.width*D.o,t(U.Gb.length==0),U.Gb=A(p),U.Uc=0,U.Gb==null?p=0:(U.mb=U.Gb,U.nb=U.Uc,U.rc=null,p=1),p=!p),!p){p=U.ga;var v=U.Fa,x=U.P,L=U.qc,M=U.mb,N=U.nb,Q=x+1,G=L-1,$=p.l;if(t(v!=null&&M!=null&&D!=null),Wo[0]=null,Wo[1]=zn,Wo[2]=Pi,Wo[3]=Hi,p.ca=M,p.tb=N,p.c=D.width,p.i=D.height,t(0<p.c&&0<p.i),1>=L)D=0;else if(p.$a=3&v[x+0],p.Z=v[x+0]>>2&3,p.Lc=v[x+0]>>4&3,x=v[x+0]>>6&3,0>p.$a||1<p.$a||4<=p.Z||1<p.Lc||x)D=0;else if($.put=qe,$.ac=et,$.bc=lt,$.ma=p,$.width=D.width,$.height=D.height,$.Da=D.Da,$.v=D.v,$.va=D.va,$.j=D.j,$.o=D.o,p.$a)e:{t(p.$a==1),D=en();t:for(;;){if(D==null){D=0;break e}if(t(p!=null),p.mc=D,D.c=p.c,D.i=p.i,D.l=p.l,D.l.ma=p,D.l.width=p.c,D.l.height=p.i,D.a=0,De(D.m,v,Q,G),!vn(p.c,p.i,1,D,null)||(D.ab==1&&D.gc[0].hc==3&&or(D.s)?(p.ic=1,v=D.c*D.i,D.Ta=null,D.Ua=0,D.V=A(v),D.Ba=0,D.V==null?(D.a=1,D=0):D=1):(p.ic=0,D=Pn(D,p.c)),!D))break t;D=1;break e}p.mc=null,D=0}else D=G>=p.c*p.i;p=!D}if(p)return null;U.ga.Lc!=1?U.Ga=0:_=h-X}t(U.ga!=null),t(X+_<=h);e:{if(D=(v=U.ga).c,h=v.l.o,v.$a==0){if(Q=U.rc,G=U.Vc,$=U.Fa,x=U.P+1+X*D,L=U.mb,M=U.nb+X*D,t(x<=U.P+U.qc),v.Z!=0)for(t(Wo[v.Z]!=null),p=0;p<_;++p)Wo[v.Z](Q,G,$,x,L,M,D),Q=L,G=M,M+=D,x+=D;else for(p=0;p<_;++p)n(L,M,$,x,D),Q=L,G=M,M+=D,x+=D;U.rc=Q,U.Vc=G}else{if(t(v.mc!=null),D=X+_,t((p=v.mc)!=null),t(D<=p.i),p.C>=D)D=1;else if(v.ic||ya(),v.ic){v=p.V,Q=p.Ba,G=p.c;var ee=p.i,ne=($=1,x=p.$/G,L=p.$%G,M=p.m,N=p.s,p.$),ce=G*ee,ge=G*D,Se=N.wc,xe=ne<ge?Jt(N,L,x):null;t(ne<=ce),t(D<=ee),t(or(N));t:for(;;){for(;!M.h&&ne<ge;){if(L&Se||(xe=Jt(N,L,x)),t(xe!=null),Je(M),256>(ee=ft(xe.G[0],xe.H[0],M)))v[Q+ne]=ee,++ne,++L>=G&&(L=0,++x<=D&&!(x%16)&&jr(p,x));else{if(!(280>ee)){$=0;break t}ee=yt(ee-256,M);var Qe,Te=ft(xe.G[4],xe.H[4],M);if(Je(M),!(ne>=(Te=Mt(G,Te=yt(Te,M)))&&ce-ne>=ee)){$=0;break t}for(Qe=0;Qe<ee;++Qe)v[Q+ne+Qe]=v[Q+ne+Qe-Te];for(ne+=ee,L+=ee;L>=G;)L-=G,++x<=D&&!(x%16)&&jr(p,x);ne<ge&&L&Se&&(xe=Jt(N,L,x))}t(M.h==ke(M))}jr(p,x>D?D:x);break t}!$||M.h&&ne<ce?($=0,p.a=M.h?5:3):p.$=ne,D=$}else D=Kn(p,p.V,p.Ba,p.c,p.i,D,gi);if(!D){_=0;break e}}X+_>=h&&(U.Cc=1),_=1}if(!_)return null;if(U.Cc&&((_=U.ga)!=null&&(_.mc=null),U.ga=null,0<U.Ga))return alert("todo:WebPDequantizeLevels"),null}return U.nb+X*i}function ha(U,D,X,_,i,h){for(;0<i--;){var p,v=U,x=D+(X?1:0),L=U,M=D+(X?0:3);for(p=0;p<_;++p){var N=L[M+4*p];N!=255&&(N*=32897,v[x+4*p+0]=v[x+4*p+0]*N>>23,v[x+4*p+1]=v[x+4*p+1]*N>>23,v[x+4*p+2]=v[x+4*p+2]*N>>23)}D+=h}}function Ki(U,D,X,_,i){for(;0<_--;){var h;for(h=0;h<X;++h){var p=U[D+2*h+0],v=15&(L=U[D+2*h+1]),x=4369*v,L=(240&L|L>>4)*x>>16;U[D+2*h+0]=(240&p|p>>4)*x>>16&240|(15&p|p<<4)*x>>16>>4&15,U[D+2*h+1]=240&L|v}D+=i}}function Ta(U,D,X,_,i,h,p,v){var x,L,M=255;for(L=0;L<i;++L){for(x=0;x<_;++x){var N=U[D+x];h[p+4*x]=N,M&=N}D+=X,p+=v}return M!=255}function Bo(U,D,X,_,i){var h;for(h=0;h<i;++h)X[_+h]=U[D+h]>>8}function ya(){$o=ha,oi=Ki,Xo=Ta,ks=Bo}function Ho(U,D,X){me[U]=function(_,i,h,p,v,x,L,M,N,Q,G,$,ee,ne,ce,ge,Se){var xe,Qe=Se-1>>1,Te=v[x+0]|L[M+0]<<16,Xe=N[Q+0]|G[$+0]<<16;t(_!=null);var Ge=3*Te+Xe+131074>>2;for(D(_[i+0],255&Ge,Ge>>16,ee,ne),h!=null&&(Ge=3*Xe+Te+131074>>2,D(h[p+0],255&Ge,Ge>>16,ce,ge)),xe=1;xe<=Qe;++xe){var at=v[x+xe]|L[M+xe]<<16,wt=N[Q+xe]|G[$+xe]<<16,St=Te+at+Xe+wt+524296,_t=St+2*(at+Xe)>>3;Ge=_t+Te>>1,Te=(St=St+2*(Te+wt)>>3)+at>>1,D(_[i+2*xe-1],255&Ge,Ge>>16,ee,ne+(2*xe-1)*X),D(_[i+2*xe-0],255&Te,Te>>16,ee,ne+(2*xe-0)*X),h!=null&&(Ge=St+Xe>>1,Te=_t+wt>>1,D(h[p+2*xe-1],255&Ge,Ge>>16,ce,ge+(2*xe-1)*X),D(h[p+2*xe+0],255&Te,Te>>16,ce,ge+(2*xe+0)*X)),Te=at,Xe=wt}1&Se||(Ge=3*Te+Xe+131074>>2,D(_[i+Se-1],255&Ge,Ge>>16,ee,ne+(Se-1)*X),h!=null&&(Ge=3*Xe+Te+131074>>2,D(h[p+Se-1],255&Ge,Ge>>16,ce,ge+(Se-1)*X)))}}function ou(){Hr[Pu]=Yl,Hr[ba]=kA,Hr[Ou]=Lh,Hr[gs]=Xc,Hr[Au]=ao,Hr[FA]=Yo,Hr[Ns]=Bl,Hr[LA]=kA,Hr[UA]=Xc,Hr[MA]=ao,Hr[Du]=Yo}function BA(U){return U&-16384?0>U?0:255:U>>Zc}function Ws(U,D){return BA((19077*U>>8)+(26149*D>>8)-14234)}function Ys(U,D,X){return BA((19077*U>>8)-(6419*D>>8)-(13320*X>>8)+8708)}function Js(U,D){return BA((19077*U>>8)+(33050*D>>8)-17685)}function Ko(U,D,X,_,i){_[i+0]=Ws(U,X),_[i+1]=Ys(U,D,X),_[i+2]=Js(U,D)}function Ia(U,D,X,_,i){_[i+0]=Js(U,D),_[i+1]=Ys(U,D,X),_[i+2]=Ws(U,X)}function ei(U,D,X,_,i){var h=Ys(U,D,X);D=h<<3&224|Js(U,D)>>3,_[i+0]=248&Ws(U,X)|h>>5,_[i+1]=D}function CA(U,D,X,_,i){var h=240&Js(U,D)|15;_[i+0]=240&Ws(U,X)|Ys(U,D,X)>>4,_[i+1]=h}function ln(U,D,X,_,i){_[i+0]=255,Ko(U,D,X,_,i+1)}function eo(U,D,X,_,i){Ia(U,D,X,_,i),_[i+3]=255}function mn(U,D,X,_,i){Ko(U,D,X,_,i),_[i+3]=255}function Tn(U,D,X){me[U]=function(_,i,h,p,v,x,L,M,N){for(var Q=M+(-2&N)*X;M!=Q;)D(_[i+0],h[p+0],v[x+0],L,M),D(_[i+1],h[p+0],v[x+0],L,M+X),i+=2,++p,++x,M+=2*X;1&N&&D(_[i+0],h[p+0],v[x+0],L,M)}}function Co(U,D,X){return X==0?U==0?D==0?6:5:D==0?4:0:X}function Xl(U,D,X,_,i){switch(U>>>30){case 3:_l(D,X,_,i,0);break;case 2:_a(D,X,_,i);break;case 1:Un(D,X,_,i)}}function Ha(U,D){var X,_,i=D.M,h=D.Nb,p=U.oc,v=U.pc+40,x=U.oc,L=U.pc+584,M=U.oc,N=U.pc+600;for(X=0;16>X;++X)p[v+32*X-1]=129;for(X=0;8>X;++X)x[L+32*X-1]=129,M[N+32*X-1]=129;for(0<i?p[v-1-32]=x[L-1-32]=M[N-1-32]=129:(s(p,v-32-1,127,21),s(x,L-32-1,127,9),s(M,N-32-1,127,9)),_=0;_<U.za;++_){var Q=D.ya[D.aa+_];if(0<_){for(X=-1;16>X;++X)n(p,v+32*X-4,p,v+32*X+12,4);for(X=-1;8>X;++X)n(x,L+32*X-4,x,L+32*X+4,4),n(M,N+32*X-4,M,N+32*X+4,4)}var G=U.Gd,$=U.Hd+_,ee=Q.ad,ne=Q.Hc;if(0<i&&(n(p,v-32,G[$].y,0,16),n(x,L-32,G[$].f,0,8),n(M,N-32,G[$].ea,0,8)),Q.Za){var ce=p,ge=v-32+16;for(0<i&&(_>=U.za-1?s(ce,ge,G[$].y[15],4):n(ce,ge,G[$+1].y,0,4)),X=0;4>X;X++)ce[ge+128+X]=ce[ge+256+X]=ce[ge+384+X]=ce[ge+0+X];for(X=0;16>X;++X,ne<<=2)ce=p,ge=v+wi[X],Ei[Q.Ob[X]](ce,ge),Xl(ne,ee,16*+X,ce,ge)}else if(ce=Co(_,i,Q.Ob[0]),La[ce](p,v),ne!=0)for(X=0;16>X;++X,ne<<=2)Xl(ne,ee,16*+X,p,v+wi[X]);for(X=Q.Gc,ce=Co(_,i,Q.Dd),So[ce](x,L),So[ce](M,N),ne=ee,ce=x,ge=L,255&(Q=0|X)&&(170&Q?fs(ne,256,ce,ge):Bn(ne,256,ce,ge)),Q=M,ne=N,255&(X>>=8)&&(170&X?fs(ee,320,Q,ne):Bn(ee,320,Q,ne)),i<U.Ub-1&&(n(G[$].y,0,p,v+480,16),n(G[$].f,0,x,L+224,8),n(G[$].ea,0,M,N+224,8)),X=8*h*U.B,G=U.sa,$=U.ta+16*_+16*h*U.R,ee=U.qa,Q=U.ra+8*_+X,ne=U.Ha,ce=U.Ia+8*_+X,X=0;16>X;++X)n(G,$+X*U.R,p,v+32*X,16);for(X=0;8>X;++X)n(ee,Q+X*U.B,x,L+32*X,8),n(ne,ce+X*U.B,M,N+32*X,8)}}function to(U,D,X,_,i,h,p,v,x){var L=[0],M=[0],N=0,Q=x!=null?x.kd:0,G=x??new Ht;if(U==null||12>X)return 7;G.data=U,G.w=D,G.ha=X,D=[D],X=[X],G.gb=[G.gb];e:{var $=D,ee=X,ne=G.gb;if(t(U!=null),t(ee!=null),t(ne!=null),ne[0]=0,12<=ee[0]&&!r(U,$[0],"RIFF")){if(r(U,$[0]+8,"WEBP")){ne=3;break e}var ce=Xt(U,$[0]+4);if(12>ce||4294967286<ce){ne=3;break e}if(Q&&ce>ee[0]-8){ne=7;break e}ne[0]=ce,$[0]+=12,ee[0]-=12}ne=0}if(ne!=0)return ne;for(ce=0<G.gb[0],X=X[0];;){e:{var ge=U;ee=D,ne=X;var Se=L,xe=M,Qe=$=[0];if((Ge=N=[N])[0]=0,8>ne[0])ne=7;else{if(!r(ge,ee[0],"VP8X")){if(Xt(ge,ee[0]+4)!=10){ne=3;break e}if(18>ne[0]){ne=7;break e}var Te=Xt(ge,ee[0]+8),Xe=1+qt(ge,ee[0]+12);if(2147483648<=Xe*(ge=1+qt(ge,ee[0]+15))){ne=3;break e}Qe!=null&&(Qe[0]=Te),Se!=null&&(Se[0]=Xe),xe!=null&&(xe[0]=ge),ee[0]+=18,ne[0]-=18,Ge[0]=1}ne=0}}if(N=N[0],$=$[0],ne!=0)return ne;if(ee=!!(2&$),!ce&&N)return 3;if(h!=null&&(h[0]=!!(16&$)),p!=null&&(p[0]=ee),v!=null&&(v[0]=0),p=L[0],$=M[0],N&&ee&&x==null){ne=0;break}if(4>X){ne=7;break}if(ce&&N||!ce&&!N&&!r(U,D[0],"ALPH")){X=[X],G.na=[G.na],G.P=[G.P],G.Sa=[G.Sa];e:{Te=U,ne=D,ce=X;var Ge=G.gb;Se=G.na,xe=G.P,Qe=G.Sa,Xe=22,t(Te!=null),t(ce!=null),ge=ne[0];var at=ce[0];for(t(Se!=null),t(Qe!=null),Se[0]=null,xe[0]=null,Qe[0]=0;;){if(ne[0]=ge,ce[0]=at,8>at){ne=7;break e}var wt=Xt(Te,ge+4);if(4294967286<wt){ne=3;break e}var St=8+wt+1&-2;if(Xe+=St,0<Ge&&Xe>Ge){ne=3;break e}if(!r(Te,ge,"VP8 ")||!r(Te,ge,"VP8L")){ne=0;break e}if(at[0]<St){ne=7;break e}r(Te,ge,"ALPH")||(Se[0]=Te,xe[0]=ge+8,Qe[0]=wt),ge+=St,at-=St}}if(X=X[0],G.na=G.na[0],G.P=G.P[0],G.Sa=G.Sa[0],ne!=0)break}X=[X],G.Ja=[G.Ja],G.xa=[G.xa];e:if(Ge=U,ne=D,ce=X,Se=G.gb[0],xe=G.Ja,Qe=G.xa,Te=ne[0],ge=!r(Ge,Te,"VP8 "),Xe=!r(Ge,Te,"VP8L"),t(Ge!=null),t(ce!=null),t(xe!=null),t(Qe!=null),8>ce[0])ne=7;else{if(ge||Xe){if(Ge=Xt(Ge,Te+4),12<=Se&&Ge>Se-12){ne=3;break e}if(Q&&Ge>ce[0]-8){ne=7;break e}xe[0]=Ge,ne[0]+=8,ce[0]-=8,Qe[0]=Xe}else Qe[0]=5<=ce[0]&&Ge[Te+0]==47&&!(Ge[Te+4]>>5),xe[0]=ce[0];ne=0}if(X=X[0],G.Ja=G.Ja[0],G.xa=G.xa[0],D=D[0],ne!=0)break;if(4294967286<G.Ja)return 3;if(v==null||ee||(v[0]=G.xa?2:1),p=[p],$=[$],G.xa){if(5>X){ne=7;break}v=p,Q=$,ee=h,U==null||5>X?U=0:5<=X&&U[D+0]==47&&!(U[D+4]>>5)?(ce=[0],Ge=[0],Se=[0],De(xe=new ye,U,D,X),We(xe,ce,Ge,Se)?(v!=null&&(v[0]=ce[0]),Q!=null&&(Q[0]=Ge[0]),ee!=null&&(ee[0]=Se[0]),U=1):U=0):U=0}else{if(10>X){ne=7;break}v=$,U==null||10>X||!vA(U,D+3,X-3)?U=0:(Q=U[D+0]|U[D+1]<<8|U[D+2]<<16,ee=16383&(U[D+7]<<8|U[D+6]),U=16383&(U[D+9]<<8|U[D+8]),1&Q||3<(Q>>1&7)||!(Q>>4&1)||Q>>5>=G.Ja||!ee||!U?U=0:(p&&(p[0]=ee),v&&(v[0]=U),U=1))}if(!U||(p=p[0],$=$[0],N&&(L[0]!=p||M[0]!=$)))return 3;x!=null&&(x[0]=G,x.offset=D-x.w,t(4294967286>D-x.w),t(x.offset==x.ha-X));break}return ne==0||ne==7&&N&&x==null?(h!=null&&(h[0]|=G.na!=null&&0<G.na.length),_!=null&&(_[0]=p),i!=null&&(i[0]=$),0):ne}function cs(U,D,X){var _=D.width,i=D.height,h=0,p=0,v=_,x=i;if(D.Da=U!=null&&0<U.Da,D.Da&&(v=U.cd,x=U.bd,h=U.v,p=U.j,11>X||(h&=-2,p&=-2),0>h||0>p||0>=v||0>=x||h+v>_||p+x>i))return 0;if(D.v=h,D.j=p,D.va=h+v,D.o=p+x,D.U=v,D.T=x,D.da=U!=null&&0<U.da,D.da){if(!Er(v,x,X=[U.ib],h=[U.hb]))return 0;D.ib=X[0],D.hb=h[0]}return D.ob=U!=null&&U.ob,D.Kb=U==null||!U.Sd,D.da&&(D.ob=D.ib<3*_/4&&D.hb<3*i/4,D.Kb=0),1}function pl(U){if(U==null)return 2;if(11>U.S){var D=U.f.RGBA;D.fb+=(U.height-1)*D.A,D.A=-D.A}else D=U.f.kb,U=U.height,D.O+=(U-1)*D.fa,D.fa=-D.fa,D.N+=(U-1>>1)*D.Ab,D.Ab=-D.Ab,D.W+=(U-1>>1)*D.Db,D.Db=-D.Db,D.F!=null&&(D.J+=(U-1)*D.lb,D.lb=-D.lb);return 0}function Vi(U,D,X,_){if(_==null||0>=U||0>=D)return 2;if(X!=null){if(X.Da){var i=X.cd,h=X.bd,p=-2&X.v,v=-2&X.j;if(0>p||0>v||0>=i||0>=h||p+i>U||v+h>D)return 2;U=i,D=h}if(X.da){if(!Er(U,D,i=[X.ib],h=[X.hb]))return 2;U=i[0],D=h[0]}}_.width=U,_.height=D;e:{var x=_.width,L=_.height;if(U=_.S,0>=x||0>=L||!(U>=Pu&&13>U))U=2;else{if(0>=_.Rd&&_.sd==null){p=h=i=D=0;var M=(v=x*Cr[U])*L;if(11>U||(h=(L+1)/2*(D=(x+1)/2),U==12&&(p=(i=x)*L)),(L=A(M+2*h+p))==null){U=1;break e}_.sd=L,11>U?((x=_.f.RGBA).eb=L,x.fb=0,x.A=v,x.size=M):((x=_.f.kb).y=L,x.O=0,x.fa=v,x.Fd=M,x.f=L,x.N=0+M,x.Ab=D,x.Cd=h,x.ea=L,x.W=0+M+h,x.Db=D,x.Ed=h,U==12&&(x.F=L,x.J=0+M+2*h),x.Tc=p,x.lb=i)}if(D=1,i=_.S,h=_.width,p=_.height,i>=Pu&&13>i)if(11>i)U=_.f.RGBA,D&=(v=Math.abs(U.A))*(p-1)+h<=U.size,D&=v>=h*Cr[i],D&=U.eb!=null;else{U=_.f.kb,v=(h+1)/2,M=(p+1)/2,x=Math.abs(U.fa),L=Math.abs(U.Ab);var N=Math.abs(U.Db),Q=Math.abs(U.lb),G=Q*(p-1)+h;D&=x*(p-1)+h<=U.Fd,D&=L*(M-1)+v<=U.Cd,D=(D&=N*(M-1)+v<=U.Ed)&x>=h&L>=v&N>=v,D&=U.y!=null,D&=U.f!=null,D&=U.ea!=null,i==12&&(D&=Q>=h,D&=G<=U.Tc,D&=U.F!=null)}else D=0;U=D?0:2}}return U!=0||X!=null&&X.fd&&(U=pl(_)),U}var ml=64,Wa=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ka=24,Ya=32,Ps=8,ro=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ur("Predictor0","PredictorAdd0"),me.Predictor0=function(){return 4278190080},me.Predictor1=function(U){return U},me.Predictor2=function(U,D,X){return D[X+0]},me.Predictor3=function(U,D,X){return D[X+1]},me.Predictor4=function(U,D,X){return D[X-1]},me.Predictor5=function(U,D,X){return Br(Br(U,D[X+1]),D[X+0])},me.Predictor6=function(U,D,X){return Br(U,D[X-1])},me.Predictor7=function(U,D,X){return Br(U,D[X+0])},me.Predictor8=function(U,D,X){return Br(D[X-1],D[X+0])},me.Predictor9=function(U,D,X){return Br(D[X+0],D[X+1])},me.Predictor10=function(U,D,X){return Br(Br(U,D[X-1]),Br(D[X+0],D[X+1]))},me.Predictor11=function(U,D,X){var _=D[X+0];return 0>=Jr(_>>24&255,U>>24&255,(D=D[X-1])>>24&255)+Jr(_>>16&255,U>>16&255,D>>16&255)+Jr(_>>8&255,U>>8&255,D>>8&255)+Jr(255&_,255&U,255&D)?_:U},me.Predictor12=function(U,D,X){var _=D[X+0];return(rn((U>>24&255)+(_>>24&255)-((D=D[X-1])>>24&255))<<24|rn((U>>16&255)+(_>>16&255)-(D>>16&255))<<16|rn((U>>8&255)+(_>>8&255)-(D>>8&255))<<8|rn((255&U)+(255&_)-(255&D)))>>>0},me.Predictor13=function(U,D,X){var _=D[X-1];return(nn((U=Br(U,D[X+0]))>>24&255,_>>24&255)<<24|nn(U>>16&255,_>>16&255)<<16|nn(U>>8&255,_>>8&255)<<8|nn(255&U,255&_))>>>0};var Vo=me.PredictorAdd0;me.PredictorAdd1=yn,ur("Predictor2","PredictorAdd2"),ur("Predictor3","PredictorAdd3"),ur("Predictor4","PredictorAdd4"),ur("Predictor5","PredictorAdd5"),ur("Predictor6","PredictorAdd6"),ur("Predictor7","PredictorAdd7"),ur("Predictor8","PredictorAdd8"),ur("Predictor9","PredictorAdd9"),ur("Predictor10","PredictorAdd10"),ur("Predictor11","PredictorAdd11"),ur("Predictor12","PredictorAdd12"),ur("Predictor13","PredictorAdd13");var gl=me.PredictorAdd2;fr("ColorIndexInverseTransform","MapARGB","32b",function(U){return U>>8&255},function(U){return U}),fr("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(U){return U},function(U){return U>>8&255});var Si,Zl=me.ColorIndexInverseTransform,hs=me.MapARGB,qo=me.VP8LColorIndexInverseTransformAlpha,va=me.MapAlpha,dn=me.VP8LPredictorsAdd=[];dn.length=16,(me.VP8LPredictors=[]).length=16,(me.VP8LPredictorsAdd_C=[]).length=16,(me.VP8LPredictors_C=[]).length=16;var Wl,Mu,yl,Os,Go,vl,Ds,_l,_a,fs,Un,Bn,Xn,Oi,ds,ps,bl,SA,pc,bf,Fh,mc,gc,lu,$o,oi,Xo,ks,EA=A(511),_i=A(2041),ms=A(225),Va=A(767),TA=0,Zo=_i,IA=ms,Ji=Va,bi=EA,Pu=0,ba=1,Ou=2,gs=3,Au=4,FA=5,Ns=6,LA=7,UA=8,MA=9,Du=10,Qs=[2,3,7],PA=[3,3,11],wl=[280,256,256,256,40],OA=[0,1,1,1,0],ku=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Di=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],ea=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],xl=8,qi=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Fa=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],no=null,wf=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Gc=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],yc=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],$c=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Gi=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Mn=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Rt=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],La=[],Ei=[],So=[],io=1,DA=2,Wo=[],Hr=[];Ho("UpsampleRgbLinePair",Ko,3),Ho("UpsampleBgrLinePair",Ia,3),Ho("UpsampleRgbaLinePair",mn,4),Ho("UpsampleBgraLinePair",eo,4),Ho("UpsampleArgbLinePair",ln,4),Ho("UpsampleRgba4444LinePair",CA,2),Ho("UpsampleRgb565LinePair",ei,2);var Yl=me.UpsampleRgbLinePair,Lh=me.UpsampleBgrLinePair,kA=me.UpsampleRgbaLinePair,Xc=me.UpsampleBgraLinePair,ao=me.UpsampleArgbLinePair,Yo=me.UpsampleRgba4444LinePair,Bl=me.UpsampleRgb565LinePair,so=16,Nu=1<<so-1,Jl=-227,NA=482,Zc=6,fa=0,pn=A(256),eA=A(256),vc=A(256),Wc=A(256),xf=A(NA-Jl),_c=A(NA-Jl);Tn("YuvToRgbRow",Ko,3),Tn("YuvToBgrRow",Ia,3),Tn("YuvToRgbaRow",mn,4),Tn("YuvToBgraRow",eo,4),Tn("YuvToArgbRow",ln,4),Tn("YuvToRgba4444Row",CA,2),Tn("YuvToRgb565Row",ei,2);var wi=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ys=[0,2,8],tA=[8,7,6,4,4,2,2,2,1,1,1,1],lr=1;this.WebPDecodeRGBA=function(U,D,X,_,i){var h=ba,p=new Ot,v=new Xr;p.ba=v,v.S=h,v.width=[v.width],v.height=[v.height];var x=v.width,L=v.height,M=new Me;if(M==null||U==null)var N=2;else t(M!=null),N=to(U,D,X,M.width,M.height,M.Pd,M.Qd,M.format,null);if(N!=0?x=0:(x!=null&&(x[0]=M.width[0]),L!=null&&(L[0]=M.height[0]),x=1),x){v.width=v.width[0],v.height=v.height[0],_!=null&&(_[0]=v.width),i!=null&&(i[0]=v.height);e:{if(_=new Gs,(i=new Ht).data=U,i.w=D,i.ha=X,i.kd=1,D=[0],t(i!=null),((U=to(i.data,i.w,i.ha,null,null,null,D,null,i))==0||U==7)&&D[0]&&(U=4),(D=U)==0){if(t(p!=null),_.data=i.data,_.w=i.w+i.offset,_.ha=i.ha-i.offset,_.put=qe,_.ac=et,_.bc=lt,_.ma=p,i.xa){if((U=en())==null){p=1;break e}if((function(Q,G){var $=[0],ee=[0],ne=[0];t:for(;;){if(Q==null)return 0;if(G==null)return Q.a=2,0;if(Q.l=G,Q.a=0,De(Q.m,G.data,G.w,G.ha),!We(Q.m,$,ee,ne)){Q.a=3;break t}if(Q.xb=DA,G.width=$[0],G.height=ee[0],!vn($[0],ee[0],1,Q,null))break t;return 1}return t(Q.a!=0),0})(U,_)){if(_=(D=Vi(_.width,_.height,p.Oa,p.ba))==0){t:{_=U;r:for(;;){if(_==null){_=0;break t}if(t(_.s.yc!=null),t(_.s.Ya!=null),t(0<_.s.Wb),t((X=_.l)!=null),t((i=X.ma)!=null),_.xb!=0){if(_.ca=i.ba,_.tb=i.tb,t(_.ca!=null),!cs(i.Oa,X,gs)){_.a=2;break r}if(!Pn(_,X.width)||X.da)break r;if((X.da||Lr(_.ca.S))&&ya(),11>_.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),_.ca.f.kb.F!=null&&ya()),_.Pb&&0<_.s.ua&&_.s.vb.X==null&&!Pe(_.s.vb,_.s.Wa.Xa)){_.a=1;break r}_.xb=0}if(!Kn(_,_.V,_.Ba,_.c,_.i,X.o,Wr))break r;i.Dc=_.Ma,_=1;break t}t(_.a!=0),_=0}_=!_}_&&(D=U.a)}else D=U.a}else{if((U=new Wi)==null){p=1;break e}if(U.Fa=i.na,U.P=i.P,U.qc=i.Sa,Aa(U,_)){if((D=Vi(_.width,_.height,p.Oa,p.ba))==0){if(U.Aa=0,X=p.Oa,t((i=U)!=null),X!=null){if(0<(x=0>(x=X.Md)?0:100<x?255:255*x/100)){for(L=M=0;4>L;++L)12>(N=i.pb[L]).lc&&(N.ia=x*tA[0>N.lc?0:N.lc]>>3),M|=N.ia;M&&(alert("todo:VP8InitRandom"),i.ia=1)}i.Ga=X.Id,100<i.Ga?i.Ga=100:0>i.Ga&&(i.Ga=0)}(function(Q,G){if(Q==null)return 0;if(G==null)return $r(Q,2,"NULL VP8Io parameter in VP8Decode().");if(!Q.cb&&!Aa(Q,G))return 0;if(t(Q.cb),G.ac==null||G.ac(G)){G.ob&&(Q.L=0);var $=ys[Q.L];if(Q.L==2?(Q.yb=0,Q.zb=0):(Q.yb=G.v-$>>4,Q.zb=G.j-$>>4,0>Q.yb&&(Q.yb=0),0>Q.zb&&(Q.zb=0)),Q.Va=G.o+15+$>>4,Q.Hb=G.va+15+$>>4,Q.Hb>Q.za&&(Q.Hb=Q.za),Q.Va>Q.Ub&&(Q.Va=Q.Ub),0<Q.L){var ee=Q.ed;for($=0;4>$;++$){var ne;if(Q.Qa.Cb){var ce=Q.Qa.Lb[$];Q.Qa.Fb||(ce+=ee.Tb)}else ce=ee.Tb;for(ne=0;1>=ne;++ne){var ge=Q.gd[$][ne],Se=ce;if(ee.Pc&&(Se+=ee.vd[0],ne&&(Se+=ee.od[0])),0<(Se=0>Se?0:63<Se?63:Se)){var xe=Se;0<ee.wb&&(xe=4<ee.wb?xe>>2:xe>>1)>9-ee.wb&&(xe=9-ee.wb),1>xe&&(xe=1),ge.dd=xe,ge.tc=2*Se+xe,ge.ld=40<=Se?2:15<=Se?1:0}else ge.tc=0;ge.La=ne}}}$=0}else $r(Q,6,"Frame setup failed"),$=Q.a;if($=$==0){if($){Q.$c=0,0<Q.Aa||(Q.Ic=lr);t:{$=Q.Ic,ee=4*(xe=Q.za);var Qe=32*xe,Te=xe+1,Xe=0<Q.L?xe*(0<Q.Aa?2:1):0,Ge=(Q.Aa==2?2:1)*xe;if((ge=ee+832+(ne=3*(16*$+ys[Q.L])/2*Qe)+(ce=Q.Fa!=null&&0<Q.Fa.length?Q.Kc.c*Q.Kc.i:0))!=ge)$=0;else{if(ge>Q.Vb){if(Q.Vb=0,Q.Ec=A(ge),Q.Fc=0,Q.Ec==null){$=$r(Q,1,"no memory during frame initialization.");break t}Q.Vb=ge}ge=Q.Ec,Se=Q.Fc,Q.Ac=ge,Q.Bc=Se,Se+=ee,Q.Gd=f(Qe,ll),Q.Hd=0,Q.rb=f(Te+1,Mi),Q.sb=1,Q.wa=Xe?f(Xe,vi):null,Q.Y=0,Q.D.Nb=0,Q.D.wa=Q.wa,Q.D.Y=Q.Y,0<Q.Aa&&(Q.D.Y+=xe),t(!0),Q.oc=ge,Q.pc=Se,Se+=832,Q.ya=f(Ge,Za),Q.aa=0,Q.D.ya=Q.ya,Q.D.aa=Q.aa,Q.Aa==2&&(Q.D.aa+=xe),Q.R=16*xe,Q.B=8*xe,xe=(Qe=ys[Q.L])*Q.R,Qe=Qe/2*Q.B,Q.sa=ge,Q.ta=Se+xe,Q.qa=Q.sa,Q.ra=Q.ta+16*$*Q.R+Qe,Q.Ha=Q.qa,Q.Ia=Q.ra+8*$*Q.B+Qe,Q.$c=0,Se+=ne,Q.mb=ce?ge:null,Q.nb=ce?Se:null,t(Se+ce<=Q.Fc+Q.Vb),As(Q),s(Q.Ac,Q.Bc,0,ee),$=1}}if($){if(G.ka=0,G.y=Q.sa,G.O=Q.ta,G.f=Q.qa,G.N=Q.ra,G.ea=Q.Ha,G.Vd=Q.Ia,G.fa=Q.R,G.Rc=Q.B,G.F=null,G.J=0,!TA){for($=-255;255>=$;++$)EA[255+$]=0>$?-$:$;for($=-1020;1020>=$;++$)_i[1020+$]=-128>$?-128:127<$?127:$;for($=-112;112>=$;++$)ms[112+$]=-16>$?-16:15<$?15:$;for($=-255;510>=$;++$)Va[255+$]=0>$?0:255<$?255:$;TA=1}Ds=Fs,_l=tu,fs=Ra,Un=cl,Bn=ru,_a=Ln,Xn=qc,Oi=dl,ds=fe,ps=ze,bl=Uu,SA=V,pc=rt,bf=ut,Fh=_n,mc=xo,gc=su,lu=hl,Ei[0]=dc,Ei[1]=nu,Ei[2]=iu,Ei[3]=_A,Ei[4]=Ea,Ei[5]=Lu,Ei[6]=ja,Ei[7]=bA,Ei[8]=au,Ei[9]=Zs,La[0]=za,La[1]=Fu,La[2]=hc,La[3]=fc,La[4]=Xs,La[5]=ua,La[6]=Yi,So[0]=Gl,So[1]=ql,So[2]=zo,So[3]=wA,So[4]=ca,So[5]=xA,So[6]=ga,$=1}else $=0}$&&($=(function(at,wt){for(at.M=0;at.M<at.Va;++at.M){var St,_t=at.Jc[at.M&at.Xb],gt=at.m,Nt=at;for(St=0;St<Nt.za;++St){var Et=gt,zt=Nt,tr=zt.Ac,Vt=zt.Bc+4*St,$t=zt.zc,rr=zt.ya[zt.aa+St];if(zt.Qa.Bb?rr.$b=pt(Et,zt.Pa.jb[0])?2+pt(Et,zt.Pa.jb[2]):pt(Et,zt.Pa.jb[1]):rr.$b=0,zt.kc&&(rr.Ad=pt(Et,zt.Bd)),rr.Za=!pt(Et,145)+0,rr.Za){var un=rr.Ob,Ir=0;for(zt=0;4>zt;++zt){var Ur,wr=$t[0+zt];for(Ur=0;4>Ur;++Ur){wr=Gi[tr[Vt+Ur]][wr];for(var an=yc[pt(Et,wr[0])];0<an;)an=yc[2*an+pt(Et,wr[an])];wr=-an,tr[Vt+Ur]=wr}n(un,Ir,tr,Vt,4),Ir+=4,$t[0+zt]=wr}}else wr=pt(Et,156)?pt(Et,128)?1:3:pt(Et,163)?2:0,rr.Ob[0]=wr,s(tr,Vt,wr,4),s($t,0,wr,4);rr.Dd=pt(Et,142)?pt(Et,114)?pt(Et,183)?1:3:2:0}if(Nt.m.Ka)return $r(at,7,"Premature end-of-partition0 encountered.");for(;at.ja<at.za;++at.ja){if(Nt=_t,Et=(gt=at).rb[gt.sb-1],tr=gt.rb[gt.sb+gt.ja],St=gt.ya[gt.aa+gt.ja],Vt=gt.kc?St.Ad:0)Et.la=tr.la=0,St.Za||(Et.Na=tr.Na=0),St.Hc=0,St.Gc=0,St.ia=0;else{var jn,Dr;if(Et=tr,tr=Nt,Vt=gt.Pa.Xc,$t=gt.ya[gt.aa+gt.ja],rr=gt.pb[$t.$b],zt=$t.ad,un=0,Ir=gt.rb[gt.sb-1],wr=Ur=0,s(zt,un,0,384),$t.Za)var qn=0,In=Vt[3];else{an=A(16);var sn=Et.Na+Ir.Na;if(sn=no(tr,Vt[1],sn,rr.Eb,0,an,0),Et.Na=Ir.Na=(0<sn)+0,1<sn)Ds(an,0,zt,un);else{var On=an[0]+3>>3;for(an=0;256>an;an+=16)zt[un+an]=On}qn=1,In=Vt[0]}var Cn=15&Et.la,xi=15&Ir.la;for(an=0;4>an;++an){var ki=1&xi;for(On=Dr=0;4>On;++On)Cn=Cn>>1|(ki=(sn=no(tr,In,sn=ki+(1&Cn),rr.Sc,qn,zt,un))>qn)<<7,Dr=Dr<<2|(3<sn?3:1<sn?2:zt[un+0]!=0),un+=16;Cn>>=4,xi=xi>>1|ki<<7,Ur=(Ur<<8|Dr)>>>0}for(In=Cn,qn=xi>>4,jn=0;4>jn;jn+=2){for(Dr=0,Cn=Et.la>>4+jn,xi=Ir.la>>4+jn,an=0;2>an;++an){for(ki=1&xi,On=0;2>On;++On)sn=ki+(1&Cn),Cn=Cn>>1|(ki=0<(sn=no(tr,Vt[2],sn,rr.Qc,0,zt,un)))<<3,Dr=Dr<<2|(3<sn?3:1<sn?2:zt[un+0]!=0),un+=16;Cn>>=2,xi=xi>>1|ki<<5}wr|=Dr<<4*jn,In|=Cn<<4<<jn,qn|=(240&xi)<<jn}Et.la=In,Ir.la=qn,$t.Hc=Ur,$t.Gc=wr,$t.ia=43690&wr?0:rr.ia,Vt=!(Ur|wr)}if(0<gt.L&&(gt.wa[gt.Y+gt.ja]=gt.gd[St.$b][St.Za],gt.wa[gt.Y+gt.ja].La|=!Vt),Nt.Ka)return $r(at,7,"Premature end-of-file encountered.")}if(As(at),gt=wt,Nt=1,St=(_t=at).D,Et=0<_t.L&&_t.M>=_t.zb&&_t.M<=_t.Va,_t.Aa==0)t:{if(St.M=_t.M,St.uc=Et,Ha(_t,St),Nt=1,St=(Dr=_t.D).Nb,Et=(wr=ys[_t.L])*_t.R,tr=wr/2*_t.B,an=16*St*_t.R,On=8*St*_t.B,Vt=_t.sa,$t=_t.ta-Et+an,rr=_t.qa,zt=_t.ra-tr+On,un=_t.Ha,Ir=_t.Ia-tr+On,xi=(Cn=Dr.M)==0,Ur=Cn>=_t.Va-1,_t.Aa==2&&Ha(_t,Dr),Dr.uc)for(ki=(sn=_t).D.M,t(sn.D.uc),Dr=sn.yb;Dr<sn.Hb;++Dr){qn=Dr,In=ki;var Gn=(fn=($n=sn).D).Nb;jn=$n.R;var fn=fn.wa[fn.Y+qn],wa=$n.sa,Ti=$n.ta+16*Gn*jn+16*qn,gr=fn.dd,vr=fn.tc;if(vr!=0)if(t(3<=vr),$n.L==1)0<qn&&mc(wa,Ti,jn,vr+4),fn.La&&lu(wa,Ti,jn,vr),0<In&&Fh(wa,Ti,jn,vr+4),fn.La&&gc(wa,Ti,jn,vr);else{var xn=$n.B,Ii=$n.qa,ni=$n.ra+8*Gn*xn+8*qn,Wn=$n.Ha,$n=$n.Ia+8*Gn*xn+8*qn;Gn=fn.ld,0<qn&&(Oi(wa,Ti,jn,vr+4,gr,Gn),ps(Ii,ni,Wn,$n,xn,vr+4,gr,Gn)),fn.La&&(SA(wa,Ti,jn,vr,gr,Gn),bf(Ii,ni,Wn,$n,xn,vr,gr,Gn)),0<In&&(Xn(wa,Ti,jn,vr+4,gr,Gn),ds(Ii,ni,Wn,$n,xn,vr+4,gr,Gn)),fn.La&&(bl(wa,Ti,jn,vr,gr,Gn),pc(Ii,ni,Wn,$n,xn,vr,gr,Gn))}}if(_t.ia&&alert("todo:DitherRow"),gt.put!=null){if(Dr=16*Cn,Cn=16*(Cn+1),xi?(gt.y=_t.sa,gt.O=_t.ta+an,gt.f=_t.qa,gt.N=_t.ra+On,gt.ea=_t.Ha,gt.W=_t.Ia+On):(Dr-=wr,gt.y=Vt,gt.O=$t,gt.f=rr,gt.N=zt,gt.ea=un,gt.W=Ir),Ur||(Cn-=wr),Cn>gt.o&&(Cn=gt.o),gt.F=null,gt.J=null,_t.Fa!=null&&0<_t.Fa.length&&Dr<Cn&&(gt.J=si(_t,gt,Dr,Cn-Dr),gt.F=_t.mb,gt.F==null&&gt.F.length==0)){Nt=$r(_t,3,"Could not decode alpha data.");break t}Dr<gt.j&&(wr=gt.j-Dr,Dr=gt.j,t(!(1&wr)),gt.O+=_t.R*wr,gt.N+=_t.B*(wr>>1),gt.W+=_t.B*(wr>>1),gt.F!=null&&(gt.J+=gt.width*wr)),Dr<Cn&&(gt.O+=gt.v,gt.N+=gt.v>>1,gt.W+=gt.v>>1,gt.F!=null&&(gt.J+=gt.v),gt.ka=Dr-gt.j,gt.U=gt.va-gt.v,gt.T=Cn-Dr,Nt=gt.put(gt))}St+1!=_t.Ic||Ur||(n(_t.sa,_t.ta-Et,Vt,$t+16*_t.R,Et),n(_t.qa,_t.ra-tr,rr,zt+8*_t.B,tr),n(_t.Ha,_t.Ia-tr,un,Ir+8*_t.B,tr))}if(!Nt)return $r(at,6,"Output aborted.")}return 1})(Q,G)),G.bc!=null&&G.bc(G),$&=1}return $?(Q.cb=0,$):0})(U,_)||(D=U.a)}}else D=U.a}D==0&&p.Oa!=null&&p.Oa.fd&&(D=pl(p.ba))}p=D}h=p!=0?null:11>h?v.f.RGBA.eb:v.f.kb.y}else h=null;return h};var Cr=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function b(me,He){for(var se="",de=0;de<4;de++)se+=String.fromCharCode(me[He++]);return se}function w(me,He){return me[He+0]|me[He+1]<<8}function C(me,He){return(me[He+0]|me[He+1]<<8|me[He+2]<<16)>>>0}function F(me,He){return(me[He+0]|me[He+1]<<8|me[He+2]<<16|me[He+3]<<24)>>>0}new y;var T=[0],j=[0],k=[],H=new y,K=e,Y=(function(me,He){var se={},de=0,Le=!1,Ue=0,nt=0;if(se.frames=[],!(function(re,ye){for(var Ie=0;Ie<4;Ie++)if(re[ye+Ie]!="RIFF".charCodeAt(Ie))return!0;return!1})(me,He)){for(F(me,He+=4),He+=8;He<me.length;){var Oe=b(me,He),Ne=F(me,He+=4);He+=4;var Ve=Ne+(1&Ne);switch(Oe){case"VP8 ":case"VP8L":se.frames[de]===void 0&&(se.frames[de]={}),(be=se.frames[de]).src_off=Le?nt:He-8,be.src_size=Ue+Ne+8,de++,Le&&(Le=!1,Ue=0,nt=0);break;case"VP8X":(be=se.header={}).feature_flags=me[He];var De=He+4;be.canvas_width=1+C(me,De),De+=3,be.canvas_height=1+C(me,De),De+=3;break;case"ALPH":Le=!0,Ue=Ve+8,nt=He-8;break;case"ANIM":(be=se.header).bgcolor=F(me,He),De=He+4,be.loop_count=w(me,De),De+=2;break;case"ANMF":var ot,be;(be=se.frames[de]={}).offset_x=2*C(me,He),He+=3,be.offset_y=2*C(me,He),He+=3,be.width=1+C(me,He),He+=3,be.height=1+C(me,He),He+=3,be.duration=C(me,He),He+=3,ot=me[He++],be.dispose=1&ot,be.blend=ot>>1&1}Oe!="ANMF"&&(He+=Ve)}return se}})(K,0);Y.response=K,Y.rgbaoutput=!0,Y.dataurl=!1;var W=Y.header?Y.header:null,ae=Y.frames?Y.frames:null;if(W){W.loop_counter=W.loop_count,T=[W.canvas_height],j=[W.canvas_width];for(var Ae=0;Ae<ae.length&&ae[Ae].blend!=0;Ae++);}var pe=ae[0],Be=H.WebPDecodeRGBA(K,pe.src_off,pe.src_size,j,T);pe.rgba=Be,pe.imgwidth=j[0],pe.imgheight=T[0];for(var Fe=0;Fe<j[0]*T[0]*4;Fe++)k[Fe]=Be[Fe];return this.width=j,this.height=T,this.data=k,this}(function(e){var t,r,n,s,A,f,l,y,b,w=function(re){return re=re||{},this.isStrokeTransparent=re.isStrokeTransparent||!1,this.strokeOpacity=re.strokeOpacity||1,this.strokeStyle=re.strokeStyle||"#000000",this.fillStyle=re.fillStyle||"#000000",this.isFillTransparent=re.isFillTransparent||!1,this.fillOpacity=re.fillOpacity||1,this.font=re.font||"10px sans-serif",this.textBaseline=re.textBaseline||"alphabetic",this.textAlign=re.textAlign||"left",this.lineWidth=re.lineWidth||1,this.lineJoin=re.lineJoin||"miter",this.lineCap=re.lineCap||"butt",this.path=re.path||[],this.transform=re.transform!==void 0?re.transform.clone():new y,this.globalCompositeOperation=re.globalCompositeOperation||"normal",this.globalAlpha=re.globalAlpha||1,this.clip_path=re.clip_path||[],this.currentPoint=re.currentPoint||new f,this.miterLimit=re.miterLimit||10,this.lastPoint=re.lastPoint||new f,this.lineDashOffset=re.lineDashOffset||0,this.lineDash=re.lineDash||[],this.margin=re.margin||[0,0,0,0],this.prevPageLastElemOffset=re.prevPageLastElemOffset||0,this.ignoreClearRect=typeof re.ignoreClearRect!="boolean"||re.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new C(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,A=this.internal.getVerticalCoordinate,f=this.internal.Point,l=this.internal.Rectangle,y=this.internal.Matrix,b=new w}]);var C=function(re){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var ye=re;Object.defineProperty(this,"pdf",{get:function(){return ye}});var Ie=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Ie},set:function(Pe){Ie=!!Pe}});var ke=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ke},set:function(Pe){ke=!!Pe}});var $e=0;Object.defineProperty(this,"posX",{get:function(){return $e},set:function(Pe){isNaN(Pe)||($e=Pe)}});var Je=0;Object.defineProperty(this,"posY",{get:function(){return Je},set:function(Pe){isNaN(Pe)||(Je=Pe)}}),Object.defineProperty(this,"margin",{get:function(){return b.margin},set:function(Pe){var Ye;typeof Pe=="number"?Ye=[Pe,Pe,Pe,Pe]:((Ye=new Array(4))[0]=Pe[0],Ye[1]=Pe.length>=2?Pe[1]:Ye[0],Ye[2]=Pe.length>=3?Pe[2]:Ye[0],Ye[3]=Pe.length>=4?Pe[3]:Ye[1]),b.margin=Ye}});var mt=!1;Object.defineProperty(this,"autoPaging",{get:function(){return mt},set:function(Pe){mt=Pe}});var Ke=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ke},set:function(Pe){Ke=Pe}});var pt=[];Object.defineProperty(this,"pageBreaks",{get:function(){return pt},set:function(Pe){pt=Pe}}),Object.defineProperty(this,"ctx",{get:function(){return b},set:function(Pe){Pe instanceof w&&(b=Pe)}}),Object.defineProperty(this,"path",{get:function(){return b.path},set:function(Pe){b.path=Pe}});var Ct=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ct},set:function(Pe){Ct=Pe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Pe){var Ye;Ye=F(Pe),this.ctx.fillStyle=Ye.style,this.ctx.isFillTransparent=Ye.a===0,this.ctx.fillOpacity=Ye.a,this.pdf.setFillColor(Ye.r,Ye.g,Ye.b,{a:Ye.a}),this.pdf.setTextColor(Ye.r,Ye.g,Ye.b,{a:Ye.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Pe){var Ye=F(Pe);this.ctx.strokeStyle=Ye.style,this.ctx.isStrokeTransparent=Ye.a===0,this.ctx.strokeOpacity=Ye.a,Ye.a===0?this.pdf.setDrawColor(255,255,255):(Ye.a,this.pdf.setDrawColor(Ye.r,Ye.g,Ye.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Pe){["butt","round","square"].indexOf(Pe)!==-1&&(this.ctx.lineCap=Pe,this.pdf.setLineCap(Pe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Pe){isNaN(Pe)||(this.ctx.lineWidth=Pe,this.pdf.setLineWidth(Pe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Pe){["bevel","round","miter"].indexOf(Pe)!==-1&&(this.ctx.lineJoin=Pe,this.pdf.setLineJoin(Pe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Pe){isNaN(Pe)||(this.ctx.miterLimit=Pe,this.pdf.setMiterLimit(Pe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Pe){this.ctx.textBaseline=Pe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Pe){["right","end","center","left","start"].indexOf(Pe)!==-1&&(this.ctx.textAlign=Pe)}});var ct=null,qt=null,Xt=null;Object.defineProperty(this,"fontFaces",{get:function(){return Xt},set:function(Pe){ct=null,qt=null,Xt=Pe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Pe){var Ye;if(this.ctx.font=Pe,(Ye=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(Pe))!==null){var Rr=Ye[1];Ye[2];var Er=Ye[3],It=Ye[4];Ye[5];var nr=Ye[6],ur=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(It)[2];It=Math.floor(ur==="px"?parseFloat(It)*this.pdf.internal.scaleFactor:ur==="em"?parseFloat(It)*this.pdf.getFontSize():parseFloat(It)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(It);var Tr=(function(fr){var ri,Pt,Zt=[],Gt=fr.trim();if(Gt==="")return X2;if(Gt in BL)return[BL[Gt]];for(;Gt!=="";){switch(Pt=null,ri=(Gt=SL(Gt)).charAt(0)){case'"':case"'":Pt=_le(Gt.substring(1),ri);break;default:Pt=ble(Gt)}if(Pt===null||(Zt.push(Pt[0]),(Gt=SL(Pt[1]))!==""&&Gt.charAt(0)!==","))return X2;Gt=Gt.replace(/^,/,"")}return Zt})(nr);if(this.fontFaces){var Br=(function(fr,ri){var Pt=fr.getFontList(),Zt=JSON.stringify(Pt);if(ct===null||qt!==Zt){var Gt=(function(Zr){var _r=[];return Object.keys(Zr).forEach(function(sr){Zr[sr].forEach(function(Lr){var zr=null;switch(Lr){case"bold":zr={family:sr,weight:"bold"};break;case"italic":zr={family:sr,style:"italic"};break;case"bolditalic":zr={family:sr,weight:"bold",style:"italic"};break;case"":case"normal":zr={family:sr}}zr!==null&&(zr.ref={name:sr,style:Lr},_r.push(zr))})}),_r})(Pt);ct=(function(Zr){for(var _r={},sr=0;sr<Zr.length;++sr){var Lr=$2(Zr[sr]),zr=Lr.family,kn=Lr.stretch,Xr=Lr.style,Me=Lr.weight;_r[zr]=_r[zr]||{},_r[zr][kn]=_r[zr][kn]||{},_r[zr][kn][Xr]=_r[zr][kn][Xr]||{},_r[zr][kn][Xr][Me]=Lr}return _r})(Gt.concat(ri)),qt=Zt}return ct})(this.pdf,this.fontFaces),rn=Tr.map(function(fr){return{family:fr,stretch:"normal",weight:Er,style:Rr}}),nn=(function(fr,ri,Pt){for(var Zt=(Pt=Pt||{}).defaultFontFamily||"times",Gt=Object.assign({},vle,Pt.genericFontFamilies||{}),Zr=null,_r=null,sr=0;sr<ri.length;++sr)if(Gt[(Zr=$2(ri[sr])).family]&&(Zr.family=Gt[Zr.family]),fr.hasOwnProperty(Zr.family)){_r=fr[Zr.family];break}if(!(_r=_r||fr[Zt]))throw new Error("Could not find a font-family for the rule '"+CL(Zr)+"' and default family '"+Zt+"'.");if(_r=(function(Lr,zr){if(zr[Lr])return zr[Lr];var kn=M5[Lr],Xr=kn<=M5.normal?-1:1,Me=xL(zr,qk,kn,Xr);if(!Me)throw new Error("Could not find a matching font-stretch value for "+Lr);return Me})(Zr.stretch,_r),_r=(function(Lr,zr){if(zr[Lr])return zr[Lr];for(var kn=Vk[Lr],Xr=0;Xr<kn.length;++Xr)if(zr[kn[Xr]])return zr[kn[Xr]];throw new Error("Could not find a matching font-style for "+Lr)})(Zr.style,_r),!(_r=(function(Lr,zr){if(zr[Lr])return zr[Lr];if(Lr===400&&zr[500])return zr[500];if(Lr===500&&zr[400])return zr[400];var kn=yle[Lr],Xr=xL(zr,Gk,kn,Lr<400?-1:1);if(!Xr)throw new Error("Could not find a matching font-weight for value "+Lr);return Xr})(Zr.weight,_r)))throw new Error("Failed to resolve a font for the rule '"+CL(Zr)+"'.");return _r})(Br,rn);this.pdf.setFont(nn.ref.name,nn.ref.style)}else{var Jr="";(Er==="bold"||parseInt(Er,10)>=700||Rr==="bold")&&(Jr="bold"),Rr==="italic"&&(Jr+="italic"),Jr.length===0&&(Jr="normal");for(var yn="",Lt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},cr=0;cr<Tr.length;cr++){if(this.pdf.internal.getFont(Tr[cr],Jr,{noFallback:!0,disableWarning:!0})!==void 0){yn=Tr[cr];break}if(Jr==="bolditalic"&&this.pdf.internal.getFont(Tr[cr],"bold",{noFallback:!0,disableWarning:!0})!==void 0)yn=Tr[cr],Jr="bold";else if(this.pdf.internal.getFont(Tr[cr],"normal",{noFallback:!0,disableWarning:!0})!==void 0){yn=Tr[cr],Jr="normal";break}}if(yn===""){for(var Pr=0;Pr<Tr.length;Pr++)if(Lt[Tr[Pr]]){yn=Lt[Tr[Pr]];break}}yn=yn===""?"Times":yn,this.pdf.setFont(yn,Jr)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Pe){this.ctx.globalCompositeOperation=Pe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Pe){this.ctx.globalAlpha=Pe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Pe){this.ctx.lineDashOffset=Pe,be.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Pe){this.ctx.lineDash=Pe,be.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Pe){this.ctx.ignoreClearRect=!!Pe}})};C.prototype.setLineDash=function(re){this.lineDash=re},C.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},C.prototype.fill=function(){ae.call(this,"fill",!1)},C.prototype.stroke=function(){ae.call(this,"stroke",!1)},C.prototype.beginPath=function(){this.path=[{type:"begin"}]},C.prototype.moveTo=function(re,ye){if(isNaN(re)||isNaN(ye))throw oa.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Ie=this.ctx.transform.applyToPoint(new f(re,ye));this.path.push({type:"mt",x:Ie.x,y:Ie.y}),this.ctx.lastPoint=new f(re,ye)},C.prototype.closePath=function(){var re=new f(0,0),ye=0;for(ye=this.path.length-1;ye!==-1;ye--)if(this.path[ye].type==="begin"&&Ri(this.path[ye+1])==="object"&&typeof this.path[ye+1].x=="number"){re=new f(this.path[ye+1].x,this.path[ye+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new f(re.x,re.y)},C.prototype.lineTo=function(re,ye){if(isNaN(re)||isNaN(ye))throw oa.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Ie=this.ctx.transform.applyToPoint(new f(re,ye));this.path.push({type:"lt",x:Ie.x,y:Ie.y}),this.ctx.lastPoint=new f(Ie.x,Ie.y)},C.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),ae.call(this,null,!0)},C.prototype.quadraticCurveTo=function(re,ye,Ie,ke){if(isNaN(Ie)||isNaN(ke)||isNaN(re)||isNaN(ye))throw oa.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var $e=this.ctx.transform.applyToPoint(new f(Ie,ke)),Je=this.ctx.transform.applyToPoint(new f(re,ye));this.path.push({type:"qct",x1:Je.x,y1:Je.y,x:$e.x,y:$e.y}),this.ctx.lastPoint=new f($e.x,$e.y)},C.prototype.bezierCurveTo=function(re,ye,Ie,ke,$e,Je){if(isNaN($e)||isNaN(Je)||isNaN(re)||isNaN(ye)||isNaN(Ie)||isNaN(ke))throw oa.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var mt=this.ctx.transform.applyToPoint(new f($e,Je)),Ke=this.ctx.transform.applyToPoint(new f(re,ye)),pt=this.ctx.transform.applyToPoint(new f(Ie,ke));this.path.push({type:"bct",x1:Ke.x,y1:Ke.y,x2:pt.x,y2:pt.y,x:mt.x,y:mt.y}),this.ctx.lastPoint=new f(mt.x,mt.y)},C.prototype.arc=function(re,ye,Ie,ke,$e,Je){if(isNaN(re)||isNaN(ye)||isNaN(Ie)||isNaN(ke)||isNaN($e))throw oa.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Je=!!Je,!this.ctx.transform.isIdentity){var mt=this.ctx.transform.applyToPoint(new f(re,ye));re=mt.x,ye=mt.y;var Ke=this.ctx.transform.applyToPoint(new f(0,Ie)),pt=this.ctx.transform.applyToPoint(new f(0,0));Ie=Math.sqrt(Math.pow(Ke.x-pt.x,2)+Math.pow(Ke.y-pt.y,2))}Math.abs($e-ke)>=2*Math.PI&&(ke=0,$e=2*Math.PI),this.path.push({type:"arc",x:re,y:ye,radius:Ie,startAngle:ke,endAngle:$e,counterclockwise:Je})},C.prototype.arcTo=function(re,ye,Ie,ke,$e){throw new Error("arcTo not implemented.")},C.prototype.rect=function(re,ye,Ie,ke){if(isNaN(re)||isNaN(ye)||isNaN(Ie)||isNaN(ke))throw oa.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(re,ye),this.lineTo(re+Ie,ye),this.lineTo(re+Ie,ye+ke),this.lineTo(re,ye+ke),this.lineTo(re,ye),this.lineTo(re+Ie,ye),this.lineTo(re,ye)},C.prototype.fillRect=function(re,ye,Ie,ke){if(isNaN(re)||isNaN(ye)||isNaN(Ie)||isNaN(ke))throw oa.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!T.call(this)){var $e={};this.lineCap!=="butt"&&($e.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&($e.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(re,ye,Ie,ke),this.fill(),$e.hasOwnProperty("lineCap")&&(this.lineCap=$e.lineCap),$e.hasOwnProperty("lineJoin")&&(this.lineJoin=$e.lineJoin)}},C.prototype.strokeRect=function(re,ye,Ie,ke){if(isNaN(re)||isNaN(ye)||isNaN(Ie)||isNaN(ke))throw oa.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");j.call(this)||(this.beginPath(),this.rect(re,ye,Ie,ke),this.stroke())},C.prototype.clearRect=function(re,ye,Ie,ke){if(isNaN(re)||isNaN(ye)||isNaN(Ie)||isNaN(ke))throw oa.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(re,ye,Ie,ke))},C.prototype.save=function(re){re=typeof re!="boolean"||re;for(var ye=this.pdf.internal.getCurrentPageInfo().pageNumber,Ie=0;Ie<this.pdf.internal.getNumberOfPages();Ie++)this.pdf.setPage(Ie+1),this.pdf.internal.out("q");if(this.pdf.setPage(ye),re){this.ctx.fontSize=this.pdf.internal.getFontSize();var ke=new w(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ke}},C.prototype.restore=function(re){re=typeof re!="boolean"||re;for(var ye=this.pdf.internal.getCurrentPageInfo().pageNumber,Ie=0;Ie<this.pdf.internal.getNumberOfPages();Ie++)this.pdf.setPage(Ie+1),this.pdf.internal.out("Q");this.pdf.setPage(ye),re&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},C.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var F=function(re){var ye,Ie,ke,$e;if(re.isCanvasGradient===!0&&(re=re.getColor()),!re)return{r:0,g:0,b:0,a:0,style:re};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(re))ye=0,Ie=0,ke=0,$e=0;else{var Je=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(re);if(Je!==null)ye=parseInt(Je[1]),Ie=parseInt(Je[2]),ke=parseInt(Je[3]),$e=1;else if((Je=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(re))!==null)ye=parseInt(Je[1]),Ie=parseInt(Je[2]),ke=parseInt(Je[3]),$e=parseFloat(Je[4]);else{if($e=1,typeof re=="string"&&re.charAt(0)!=="#"){var mt=new Nk(re);re=mt.ok?mt.toHex():"#000000"}re.length===4?(ye=re.substring(1,2),ye+=ye,Ie=re.substring(2,3),Ie+=Ie,ke=re.substring(3,4),ke+=ke):(ye=re.substring(1,3),Ie=re.substring(3,5),ke=re.substring(5,7)),ye=parseInt(ye,16),Ie=parseInt(Ie,16),ke=parseInt(ke,16)}}return{r:ye,g:Ie,b:ke,a:$e,style:re}},T=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},j=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};C.prototype.fillText=function(re,ye,Ie,ke){if(isNaN(ye)||isNaN(Ie)||typeof re!="string")throw oa.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ke=isNaN(ke)?void 0:ke,!T.call(this)){var $e=Ve(this.ctx.transform.rotation),Je=this.ctx.transform.scaleX;de.call(this,{text:re,x:ye,y:Ie,scale:Je,angle:$e,align:this.textAlign,maxWidth:ke})}},C.prototype.strokeText=function(re,ye,Ie,ke){if(isNaN(ye)||isNaN(Ie)||typeof re!="string")throw oa.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!j.call(this)){ke=isNaN(ke)?void 0:ke;var $e=Ve(this.ctx.transform.rotation),Je=this.ctx.transform.scaleX;de.call(this,{text:re,x:ye,y:Ie,scale:Je,renderingMode:"stroke",angle:$e,align:this.textAlign,maxWidth:ke})}},C.prototype.measureText=function(re){if(typeof re!="string")throw oa.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var ye=this.pdf,Ie=this.pdf.internal.scaleFactor,ke=ye.internal.getFontSize(),$e=ye.getStringUnitWidth(re)*ke/ye.internal.scaleFactor;return new function(Je){var mt=(Je=Je||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return mt}}),this}({width:$e*=Math.round(96*Ie/72*1e4)/1e4})},C.prototype.scale=function(re,ye){if(isNaN(re)||isNaN(ye))throw oa.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Ie=new y(re,0,0,ye,0,0);this.ctx.transform=this.ctx.transform.multiply(Ie)},C.prototype.rotate=function(re){if(isNaN(re))throw oa.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var ye=new y(Math.cos(re),Math.sin(re),-Math.sin(re),Math.cos(re),0,0);this.ctx.transform=this.ctx.transform.multiply(ye)},C.prototype.translate=function(re,ye){if(isNaN(re)||isNaN(ye))throw oa.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Ie=new y(1,0,0,1,re,ye);this.ctx.transform=this.ctx.transform.multiply(Ie)},C.prototype.transform=function(re,ye,Ie,ke,$e,Je){if(isNaN(re)||isNaN(ye)||isNaN(Ie)||isNaN(ke)||isNaN($e)||isNaN(Je))throw oa.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var mt=new y(re,ye,Ie,ke,$e,Je);this.ctx.transform=this.ctx.transform.multiply(mt)},C.prototype.setTransform=function(re,ye,Ie,ke,$e,Je){re=isNaN(re)?1:re,ye=isNaN(ye)?0:ye,Ie=isNaN(Ie)?0:Ie,ke=isNaN(ke)?1:ke,$e=isNaN($e)?0:$e,Je=isNaN(Je)?0:Je,this.ctx.transform=new y(re,ye,Ie,ke,$e,Je)};var k=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};C.prototype.drawImage=function(re,ye,Ie,ke,$e,Je,mt,Ke,pt){var Ct=this.pdf.getImageProperties(re),ct=1,qt=1,Xt=1,Pe=1;ke!==void 0&&Ke!==void 0&&(Xt=Ke/ke,Pe=pt/$e,ct=Ct.width/ke*Ke/ke,qt=Ct.height/$e*pt/$e),Je===void 0&&(Je=ye,mt=Ie,ye=0,Ie=0),ke!==void 0&&Ke===void 0&&(Ke=ke,pt=$e),ke===void 0&&Ke===void 0&&(Ke=Ct.width,pt=Ct.height);var Ye=this.ctx.transform.decompose(),Rr=Ve(Ye.rotate.shx),Er=new y,It=(Er=(Er=(Er=Er.multiply(Ye.translate)).multiply(Ye.skew)).multiply(Ye.scale)).applyToRectangle(new l(Je-ye*Xt,mt-Ie*Pe,ke*ct,$e*qt));if(this.autoPaging){for(var nr,ur=H.call(this,It),Tr=[],Br=0;Br<ur.length;Br+=1)Tr.indexOf(ur[Br])===-1&&Tr.push(ur[Br]);W(Tr);for(var rn=Tr[0],nn=Tr[Tr.length-1],Jr=rn;Jr<nn+1;Jr++){this.pdf.setPage(Jr);var yn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Lt=Jr===1?this.posY+this.margin[0]:this.margin[0],cr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Pr=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],fr=Jr===1?0:cr+(Jr-2)*Pr;if(this.ctx.clip_path.length!==0){var ri=this.path;nr=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Y(nr,this.posX+this.margin[3],-fr+Lt+this.ctx.prevPageLastElemOffset),Ae.call(this,"fill",!0),this.path=ri}var Pt=JSON.parse(JSON.stringify(It));Pt=Y([Pt],this.posX+this.margin[3],-fr+Lt+this.ctx.prevPageLastElemOffset)[0];var Zt=(Jr>rn||Jr<nn)&&k.call(this);Zt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],yn,Pr,null).clip().discardPath()),this.pdf.addImage(re,"JPEG",Pt.x,Pt.y,Pt.w,Pt.h,null,null,Rr),Zt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(re,"JPEG",It.x,It.y,It.w,It.h,null,null,Rr)};var H=function(re,ye,Ie){var ke=[];ye=ye||this.pdf.internal.pageSize.width,Ie=Ie||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var $e=this.posY+this.ctx.prevPageLastElemOffset;switch(re.type){default:case"mt":case"lt":ke.push(Math.floor((re.y+$e)/Ie)+1);break;case"arc":ke.push(Math.floor((re.y+$e-re.radius)/Ie)+1),ke.push(Math.floor((re.y+$e+re.radius)/Ie)+1);break;case"qct":var Je=De(this.ctx.lastPoint.x,this.ctx.lastPoint.y,re.x1,re.y1,re.x,re.y);ke.push(Math.floor((Je.y+$e)/Ie)+1),ke.push(Math.floor((Je.y+Je.h+$e)/Ie)+1);break;case"bct":var mt=ot(this.ctx.lastPoint.x,this.ctx.lastPoint.y,re.x1,re.y1,re.x2,re.y2,re.x,re.y);ke.push(Math.floor((mt.y+$e)/Ie)+1),ke.push(Math.floor((mt.y+mt.h+$e)/Ie)+1);break;case"rect":ke.push(Math.floor((re.y+$e)/Ie)+1),ke.push(Math.floor((re.y+re.h+$e)/Ie)+1)}for(var Ke=0;Ke<ke.length;Ke+=1)for(;this.pdf.internal.getNumberOfPages()<ke[Ke];)K.call(this);return ke},K=function(){var re=this.fillStyle,ye=this.strokeStyle,Ie=this.font,ke=this.lineCap,$e=this.lineWidth,Je=this.lineJoin;this.pdf.addPage(),this.fillStyle=re,this.strokeStyle=ye,this.font=Ie,this.lineCap=ke,this.lineWidth=$e,this.lineJoin=Je},Y=function(re,ye,Ie){for(var ke=0;ke<re.length;ke++)switch(re[ke].type){case"bct":re[ke].x2+=ye,re[ke].y2+=Ie;case"qct":re[ke].x1+=ye,re[ke].y1+=Ie;default:re[ke].x+=ye,re[ke].y+=Ie}return re},W=function(re){return re.sort(function(ye,Ie){return ye-Ie})},ae=function(re,ye){var Ie=this.fillStyle,ke=this.strokeStyle,$e=this.lineCap,Je=this.lineWidth,mt=Math.abs(Je*this.ctx.transform.scaleX),Ke=this.lineJoin;if(this.autoPaging){for(var pt,Ct,ct=JSON.parse(JSON.stringify(this.path)),qt=JSON.parse(JSON.stringify(this.path)),Xt=[],Pe=0;Pe<qt.length;Pe++)if(qt[Pe].x!==void 0)for(var Ye=H.call(this,qt[Pe]),Rr=0;Rr<Ye.length;Rr+=1)Xt.indexOf(Ye[Rr])===-1&&Xt.push(Ye[Rr]);for(var Er=0;Er<Xt.length;Er++)for(;this.pdf.internal.getNumberOfPages()<Xt[Er];)K.call(this);W(Xt);for(var It=Xt[0],nr=Xt[Xt.length-1],ur=It;ur<nr+1;ur++){this.pdf.setPage(ur),this.fillStyle=Ie,this.strokeStyle=ke,this.lineCap=$e,this.lineWidth=mt,this.lineJoin=Ke;var Tr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Br=ur===1?this.posY+this.margin[0]:this.margin[0],rn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],nn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Jr=ur===1?0:rn+(ur-2)*nn;if(this.ctx.clip_path.length!==0){var yn=this.path;pt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Y(pt,this.posX+this.margin[3],-Jr+Br+this.ctx.prevPageLastElemOffset),Ae.call(this,re,!0),this.path=yn}if(Ct=JSON.parse(JSON.stringify(ct)),this.path=Y(Ct,this.posX+this.margin[3],-Jr+Br+this.ctx.prevPageLastElemOffset),ye===!1||ur===0){var Lt=(ur>It||ur<nr)&&k.call(this);Lt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Tr,nn,null).clip().discardPath()),Ae.call(this,re,ye),Lt&&this.pdf.restoreGraphicsState()}this.lineWidth=Je}this.path=ct}else this.lineWidth=mt,Ae.call(this,re,ye),this.lineWidth=Je},Ae=function(re,ye){if((re!=="stroke"||ye||!j.call(this))&&(re==="stroke"||ye||!T.call(this))){for(var Ie,ke,$e=[],Je=this.path,mt=0;mt<Je.length;mt++){var Ke=Je[mt];switch(Ke.type){case"begin":$e.push({begin:!0});break;case"close":$e.push({close:!0});break;case"mt":$e.push({start:Ke,deltas:[],abs:[]});break;case"lt":var pt=$e.length;if(Je[mt-1]&&!isNaN(Je[mt-1].x)&&(Ie=[Ke.x-Je[mt-1].x,Ke.y-Je[mt-1].y],pt>0)){for(;pt>=0;pt--)if($e[pt-1].close!==!0&&$e[pt-1].begin!==!0){$e[pt-1].deltas.push(Ie),$e[pt-1].abs.push(Ke);break}}break;case"bct":Ie=[Ke.x1-Je[mt-1].x,Ke.y1-Je[mt-1].y,Ke.x2-Je[mt-1].x,Ke.y2-Je[mt-1].y,Ke.x-Je[mt-1].x,Ke.y-Je[mt-1].y],$e[$e.length-1].deltas.push(Ie);break;case"qct":var Ct=Je[mt-1].x+2/3*(Ke.x1-Je[mt-1].x),ct=Je[mt-1].y+2/3*(Ke.y1-Je[mt-1].y),qt=Ke.x+2/3*(Ke.x1-Ke.x),Xt=Ke.y+2/3*(Ke.y1-Ke.y),Pe=Ke.x,Ye=Ke.y;Ie=[Ct-Je[mt-1].x,ct-Je[mt-1].y,qt-Je[mt-1].x,Xt-Je[mt-1].y,Pe-Je[mt-1].x,Ye-Je[mt-1].y],$e[$e.length-1].deltas.push(Ie);break;case"arc":$e.push({deltas:[],abs:[],arc:!0}),Array.isArray($e[$e.length-1].abs)&&$e[$e.length-1].abs.push(Ke)}}ke=ye?null:re==="stroke"?"stroke":"fill";for(var Rr=!1,Er=0;Er<$e.length;Er++)if($e[Er].arc)for(var It=$e[Er].abs,nr=0;nr<It.length;nr++){var ur=It[nr];ur.type==="arc"?Fe.call(this,ur.x,ur.y,ur.radius,ur.startAngle,ur.endAngle,ur.counterclockwise,void 0,ye,!Rr):Le.call(this,ur.x,ur.y),Rr=!0}else if($e[Er].close===!0)this.pdf.internal.out("h"),Rr=!1;else if($e[Er].begin!==!0){var Tr=$e[Er].start.x,Br=$e[Er].start.y;Ue.call(this,$e[Er].deltas,Tr,Br),Rr=!0}ke&&me.call(this,ke),ye&&He.call(this)}},pe=function(re){var ye=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Ie=ye*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return re-Ie;case"top":return re+ye-Ie;case"hanging":return re+ye-2*Ie;case"middle":return re+ye/2-Ie;default:return re}},Be=function(re){return re+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};C.prototype.createLinearGradient=function(){var re=function(){};return re.colorStops=[],re.addColorStop=function(ye,Ie){this.colorStops.push([ye,Ie])},re.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},re.isCanvasGradient=!0,re},C.prototype.createPattern=function(){return this.createLinearGradient()},C.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Fe=function(re,ye,Ie,ke,$e,Je,mt,Ke,pt){for(var Ct=Oe.call(this,Ie,ke,$e,Je),ct=0;ct<Ct.length;ct++){var qt=Ct[ct];ct===0&&(pt?se.call(this,qt.x1+re,qt.y1+ye):Le.call(this,qt.x1+re,qt.y1+ye)),nt.call(this,re,ye,qt.x2,qt.y2,qt.x3,qt.y3,qt.x4,qt.y4)}Ke?He.call(this):me.call(this,mt)},me=function(re){switch(re){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},He=function(){this.pdf.clip(),this.pdf.discardPath()},se=function(re,ye){this.pdf.internal.out(r(re)+" "+n(ye)+" m")},de=function(re){var ye;switch(re.align){case"right":case"end":ye="right";break;case"center":ye="center";break;default:ye="left"}var Ie,ke,$e,Je=this.pdf.getTextDimensions(re.text),mt=pe.call(this,re.y),Ke=Be.call(this,mt)-Je.h,pt=this.ctx.transform.applyToPoint(new f(re.x,mt));if(this.autoPaging){var Ct=this.ctx.transform.decompose(),ct=new y;ct=(ct=(ct=ct.multiply(Ct.translate)).multiply(Ct.skew)).multiply(Ct.scale);for(var qt=this.ctx.transform.applyToRectangle(new l(re.x,mt,Je.w,Je.h)),Xt=ct.applyToRectangle(new l(re.x,Ke,Je.w,Je.h)),Pe=H.call(this,Xt),Ye=[],Rr=0;Rr<Pe.length;Rr+=1)Ye.indexOf(Pe[Rr])===-1&&Ye.push(Pe[Rr]);W(Ye);for(var Er=Ye[0],It=Ye[Ye.length-1],nr=Er;nr<It+1;nr++){this.pdf.setPage(nr);var ur=nr===1?this.posY+this.margin[0]:this.margin[0],Tr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Br=this.pdf.internal.pageSize.height-this.margin[2],rn=Br-this.margin[0],nn=this.pdf.internal.pageSize.width-this.margin[1],Jr=nn-this.margin[3],yn=nr===1?0:Tr+(nr-2)*rn;if(this.ctx.clip_path.length!==0){var Lt=this.path;Ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Y(Ie,this.posX+this.margin[3],-1*yn+ur),Ae.call(this,"fill",!0),this.path=Lt}var cr=Y([JSON.parse(JSON.stringify(Xt))],this.posX+this.margin[3],-yn+ur+this.ctx.prevPageLastElemOffset)[0];re.scale>=.01&&(ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ke*re.scale),$e=this.lineWidth,this.lineWidth=$e*re.scale);var Pr=this.autoPaging!=="text";if(Pr||cr.y+cr.h<=Br){if(Pr||cr.y>=ur&&cr.x<=nn){var fr=Pr?re.text:this.pdf.splitTextToSize(re.text,re.maxWidth||nn-cr.x)[0],ri=Y([JSON.parse(JSON.stringify(qt))],this.posX+this.margin[3],-yn+ur+this.ctx.prevPageLastElemOffset)[0],Pt=Pr&&(nr>Er||nr<It)&&k.call(this);Pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Jr,rn,null).clip().discardPath()),this.pdf.text(fr,ri.x,ri.y,{angle:re.angle,align:ye,renderingMode:re.renderingMode}),Pt&&this.pdf.restoreGraphicsState()}}else cr.y<Br&&(this.ctx.prevPageLastElemOffset+=Br-cr.y);re.scale>=.01&&(this.pdf.setFontSize(ke),this.lineWidth=$e)}}else re.scale>=.01&&(ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ke*re.scale),$e=this.lineWidth,this.lineWidth=$e*re.scale),this.pdf.text(re.text,pt.x+this.posX,pt.y+this.posY,{angle:re.angle,align:ye,renderingMode:re.renderingMode,maxWidth:re.maxWidth}),re.scale>=.01&&(this.pdf.setFontSize(ke),this.lineWidth=$e)},Le=function(re,ye,Ie,ke){Ie=Ie||0,ke=ke||0,this.pdf.internal.out(r(re+Ie)+" "+n(ye+ke)+" l")},Ue=function(re,ye,Ie){return this.pdf.lines(re,ye,Ie,null,null)},nt=function(re,ye,Ie,ke,$e,Je,mt,Ke){this.pdf.internal.out([t(s(Ie+re)),t(A(ke+ye)),t(s($e+re)),t(A(Je+ye)),t(s(mt+re)),t(A(Ke+ye)),"c"].join(" "))},Oe=function(re,ye,Ie,ke){for(var $e=2*Math.PI,Je=Math.PI/2;ye>Ie;)ye-=$e;var mt=Math.abs(Ie-ye);mt<$e&&ke&&(mt=$e-mt);for(var Ke=[],pt=ke?-1:1,Ct=ye;mt>1e-5;){var ct=Ct+pt*Math.min(mt,Je);Ke.push(Ne.call(this,re,Ct,ct)),mt-=Math.abs(ct-Ct),Ct=ct}return Ke},Ne=function(re,ye,Ie){var ke=(Ie-ye)/2,$e=re*Math.cos(ke),Je=re*Math.sin(ke),mt=$e,Ke=-Je,pt=mt*mt+Ke*Ke,Ct=pt+mt*$e+Ke*Je,ct=4/3*(Math.sqrt(2*pt*Ct)-Ct)/(mt*Je-Ke*$e),qt=mt-ct*Ke,Xt=Ke+ct*mt,Pe=qt,Ye=-Xt,Rr=ke+ye,Er=Math.cos(Rr),It=Math.sin(Rr);return{x1:re*Math.cos(ye),y1:re*Math.sin(ye),x2:qt*Er-Xt*It,y2:qt*It+Xt*Er,x3:Pe*Er-Ye*It,y3:Pe*It+Ye*Er,x4:re*Math.cos(Ie),y4:re*Math.sin(Ie)}},Ve=function(re){return 180*re/Math.PI},De=function(re,ye,Ie,ke,$e,Je){var mt=re+.5*(Ie-re),Ke=ye+.5*(ke-ye),pt=$e+.5*(Ie-$e),Ct=Je+.5*(ke-Je),ct=Math.min(re,$e,mt,pt),qt=Math.max(re,$e,mt,pt),Xt=Math.min(ye,Je,Ke,Ct),Pe=Math.max(ye,Je,Ke,Ct);return new l(ct,Xt,qt-ct,Pe-Xt)},ot=function(re,ye,Ie,ke,$e,Je,mt,Ke){var pt,Ct,ct,qt,Xt,Pe,Ye,Rr,Er,It,nr,ur,Tr,Br,rn=Ie-re,nn=ke-ye,Jr=$e-Ie,yn=Je-ke,Lt=mt-$e,cr=Ke-Je;for(Ct=0;Ct<41;Ct++)Er=(Ye=(ct=re+(pt=Ct/40)*rn)+pt*((Xt=Ie+pt*Jr)-ct))+pt*(Xt+pt*($e+pt*Lt-Xt)-Ye),It=(Rr=(qt=ye+pt*nn)+pt*((Pe=ke+pt*yn)-qt))+pt*(Pe+pt*(Je+pt*cr-Pe)-Rr),Ct==0?(nr=Er,ur=It,Tr=Er,Br=It):(nr=Math.min(nr,Er),ur=Math.min(ur,It),Tr=Math.max(Tr,Er),Br=Math.max(Br,It));return new l(Math.round(nr),Math.round(ur),Math.round(Tr-nr),Math.round(Br-ur))},be=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var re,ye,Ie=(re=this.ctx.lineDash,ye=this.ctx.lineDashOffset,JSON.stringify({lineDash:re,lineDashOffset:ye}));this.prevLineDash!==Ie&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Ie)}}})(Gr.API),(function(e){var t=function(f){var l,y,b,w,C,F,T,j,k,H;for(y=[],b=0,w=(f+=l="\0\0\0\0".slice(f.length%4||4)).length;w>b;b+=4)(C=(f.charCodeAt(b)<<24)+(f.charCodeAt(b+1)<<16)+(f.charCodeAt(b+2)<<8)+f.charCodeAt(b+3))!==0?(F=(C=((C=((C=((C=(C-(H=C%85))/85)-(k=C%85))/85)-(j=C%85))/85)-(T=C%85))/85)%85,y.push(F+33,T+33,j+33,k+33,H+33)):y.push(122);return(function(K,Y){for(var W=Y;W>0;W--)K.pop()})(y,l.length),String.fromCharCode.apply(String,y)+"~>"},r=function(f){var l,y,b,w,C,F=String,T="length",j=255,k="charCodeAt",H="slice",K="replace";for(f[H](-2),f=f[H](0,-2)[K](/\s/g,"")[K]("z","!!!!!"),b=[],w=0,C=(f+=l="uuuuu"[H](f[T]%5||5))[T];C>w;w+=5)y=52200625*(f[k](w)-33)+614125*(f[k](w+1)-33)+7225*(f[k](w+2)-33)+85*(f[k](w+3)-33)+(f[k](w+4)-33),b.push(j&y>>24,j&y>>16,j&y>>8,j&y);return(function(Y,W){for(var ae=W;ae>0;ae--)Y.pop()})(b,l[T]),F.fromCharCode.apply(F,b)},n=function(f){return f.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(f){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((f=f.replace(/\s/g,"")).indexOf(">")!==-1&&(f=f.substr(0,f.indexOf(">"))),f.length%2&&(f+="0"),l.test(f)===!1)return"";for(var y="",b=0;b<f.length;b+=2)y+=String.fromCharCode("0x"+(f[b]+f[b+1]));return y},A=function(f){for(var l=new Uint8Array(f.length),y=f.length;y--;)l[y]=f.charCodeAt(y);return(l=S5(l)).reduce(function(b,w){return b+String.fromCharCode(w)},"")};e.processDataByFilters=function(f,l){var y=0,b=f||"",w=[];for(typeof(l=l||[])=="string"&&(l=[l]),y=0;y<l.length;y+=1)switch(l[y]){case"ASCII85Decode":case"/ASCII85Decode":b=r(b),w.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":b=t(b),w.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":b=s(b),w.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":b=n(b),w.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":b=A(b),w.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[y]+'" is not implemented')}return{data:b,reverseChain:w.reverse().join(" ")}}})(Gr.API),(function(e){e.loadFile=function(t,r,n){return(function(s,A,f){A=A!==!1,f=typeof f=="function"?f:function(){};var l=void 0;try{l=(function(y,b,w){var C=new XMLHttpRequest,F=0,T=function(j){var k=j.length,H=[],K=String.fromCharCode;for(F=0;F<k;F+=1)H.push(K(255&j.charCodeAt(F)));return H.join("")};if(C.open("GET",y,!b),C.overrideMimeType("text/plain; charset=x-user-defined"),b===!1&&(C.onload=function(){C.status===200?w(T(this.responseText)):w(void 0)}),C.send(null),b&&C.status===200)return T(C.responseText)})(s,A,f)}catch{}return l})(t,r,n)},e.loadImageFile=e.loadFile})(Gr.API),(function(e){function t(){return(gn.html2canvas?Promise.resolve(gn.html2canvas):F2(()=>Promise.resolve().then(()=>Zae),void 0)).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(gn.DOMPurify?Promise.resolve(gn.DOMPurify):F2(()=>import("./purify.es-C65SP4u9.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var y=Ri(l);return y==="undefined"?"undefined":y==="string"||l instanceof String?"string":y==="number"||l instanceof Number?"number":y==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":y==="object"?"object":"unknown"},s=function(l,y){var b=document.createElement(l);for(var w in y.className&&(b.className=y.className),y.innerHTML&&y.dompurify&&(b.innerHTML=y.dompurify.sanitize(y.innerHTML)),y.style)b.style[w]=y.style[w];return b},A=function l(y,b){for(var w=y.nodeType===3?document.createTextNode(y.nodeValue):y.cloneNode(!1),C=y.firstChild;C;C=C.nextSibling)b!==!0&&C.nodeType===1&&C.nodeName==="SCRIPT"||w.appendChild(l(C,b));return y.nodeType===1&&(y.nodeName==="CANVAS"?(w.width=y.width,w.height=y.height,w.getContext("2d").drawImage(y,0,0)):y.nodeName!=="TEXTAREA"&&y.nodeName!=="SELECT"||(w.value=y.value),w.addEventListener("load",function(){w.scrollTop=y.scrollTop,w.scrollLeft=y.scrollLeft},!0)),w},f=function l(y){var b=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),w=l.convert(Promise.resolve(),b);return(w=w.setProgress(1,l,1,[l])).set(y)};(f.prototype=Object.create(Promise.prototype)).constructor=f,f.convert=function(l,y){return l.__proto__=y||f.prototype,l},f.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},f.prototype.from=function(l,y){return this.then(function(){switch(y=y||(function(b){switch(n(b)){case"string":return"string";case"element":return b.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),y){case"string":return this.then(r).then(function(b){return this.set({src:s("div",{innerHTML:l,dompurify:b})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},f.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},f.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},y=A(this.prop.src,this.opt.html2canvas.javascriptEnabled);y.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(y),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},f.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(y){var b=Object.assign({},this.opt.html2canvas);return delete b.onrendered,y(this.prop.container,b)}).then(function(y){(this.opt.html2canvas.onrendered||function(){})(y),this.prop.canvas=y,document.body.removeChild(this.prop.overlay)})},f.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(y){var b=this.opt.jsPDF,w=this.opt.fontFaces,C=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,F=Object.assign({async:!0,allowTaint:!0,scale:C,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete F.onrendered,b.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,b.context2d.posX=this.opt.x,b.context2d.posY=this.opt.y,b.context2d.margin=this.opt.margin,b.context2d.fontFaces=w,w)for(var T=0;T<w.length;++T){var j=w[T],k=j.src.find(function(H){return H.format==="truetype"});k&&b.addFont(k.url,j.ref.name,j.ref.style)}return F.windowHeight=F.windowHeight||0,F.windowHeight=F.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):F.windowHeight,b.context2d.save(!0),y(this.prop.container,F)}).then(function(y){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(y),this.prop.canvas=y,document.body.removeChild(this.prop.overlay)})},f.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},f.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},f.prototype.output=function(l,y,b){return(b=b||"pdf").toLowerCase()==="img"||b.toLowerCase()==="image"?this.outputImg(l,y):this.outputPdf(l,y)},f.prototype.outputPdf=function(l,y){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,y)})},f.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},f.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},f.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},f.prototype.set=function(l){if(n(l)!=="object")return this;var y=Object.keys(l||{}).map(function(b){if(b in f.template.prop)return function(){this.prop[b]=l[b]};switch(b){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[b]=l[b]}}},this);return this.then(function(){return this.thenList(y)})},f.prototype.get=function(l,y){return this.then(function(){var b=l in f.template.prop?this.prop[l]:this.opt[l];return y?y(b):b})},f.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},f.prototype.setPageSize=function(l){function y(b,w){return Math.floor(b*w/72*96)}return this.then(function(){(l=l||Gr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:y(l.inner.width,l.k),height:y(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},f.prototype.setProgress=function(l,y,b,w){return l!=null&&(this.progress.val=l),y!=null&&(this.progress.state=y),b!=null&&(this.progress.n=b),w!=null&&(this.progress.stack=w),this.progress.ratio=this.progress.val/this.progress.state,this},f.prototype.updateProgress=function(l,y,b,w){return this.setProgress(l?this.progress.val+l:null,y||null,b?this.progress.n+b:null,w?this.progress.stack.concat(w):null)},f.prototype.then=function(l,y){var b=this;return this.thenCore(l,y,function(w,C){return b.updateProgress(null,null,1,[w]),Promise.prototype.then.call(this,function(F){return b.updateProgress(null,w),F}).then(w,C).then(function(F){return b.updateProgress(1),F})})},f.prototype.thenCore=function(l,y,b){b=b||Promise.prototype.then;var w=this;l&&(l=l.bind(w)),y&&(y=y.bind(w));var C=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?w:f.convert(Object.assign({},w),Promise.prototype),F=b.call(C,l,y);return f.convert(F,w.__proto__)},f.prototype.thenExternal=function(l,y){return Promise.prototype.then.call(this,l,y)},f.prototype.thenList=function(l){var y=this;return l.forEach(function(b){y=y.thenCore(b)}),y},f.prototype.catch=function(l){l&&(l=l.bind(this));var y=Promise.prototype.catch.call(this,l);return f.convert(y,this)},f.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},f.prototype.error=function(l){return this.then(function(){throw new Error(l)})},f.prototype.using=f.prototype.set,f.prototype.saveAs=f.prototype.save,f.prototype.export=f.prototype.output,f.prototype.run=f.prototype.then,Gr.getPageSize=function(l,y,b){if(Ri(l)==="object"){var w=l;l=w.orientation,y=w.unit||y,b=w.format||b}y=y||"mm",b=b||"a4",l=(""+(l||"P")).toLowerCase();var C,F=(""+b).toLowerCase(),T={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(y){case"pt":C=1;break;case"mm":C=72/25.4;break;case"cm":C=72/2.54;break;case"in":C=72;break;case"px":C=.75;break;case"pc":case"em":C=12;break;case"ex":C=6;break;default:throw"Invalid unit: "+y}var j,k=0,H=0;if(T.hasOwnProperty(F))k=T[F][1]/C,H=T[F][0]/C;else try{k=b[1],H=b[0]}catch{throw new Error("Invalid format: "+b)}if(l==="p"||l==="portrait")l="p",H>k&&(j=H,H=k,k=j);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",k>H&&(j=H,H=k,k=j)}return{width:H,height:k,unit:y,k:C,orientation:l}},e.html=function(l,y){(y=y||{}).callback=y.callback||function(){},y.html2canvas=y.html2canvas||{},y.html2canvas.canvas=y.html2canvas.canvas||this.canvas,y.jsPDF=y.jsPDF||this,y.fontFaces=y.fontFaces?y.fontFaces.map($2):null;var b=new f(y);return y.worker?b:b.from(l).doCallback()}})(Gr.API),Gr.API.addJS=function(e){return TL=e,this.internal.events.subscribe("postPutResources",function(){F1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(F1+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),EL=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+TL+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){F1!==void 0&&EL!==void 0&&this.internal.out("/Names <</JavaScript "+F1+" 0 R>>")}),this},(function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=r.outline.render().split(/\r\n/),A=0;A<s.length;A++){var f=s[A],l=n.exec(f);if(l!=null){var y=l[1];r.internal.newObjectDeferredBegin(y,!1)}r.internal.write(f)}if(this.outline.createNamedDestinations){var b=this.internal.pages.length,w=[];for(A=0;A<b;A++){var C=r.internal.newObject();w.push(C);var F=r.internal.getPageInfo(A+1);r.internal.write("<< /D["+F.objId+" 0 R /XYZ null null null]>> endobj")}var T=r.internal.newObject();for(r.internal.write("<< /Names [ "),A=0;A<w.length;A++)r.internal.write("(page_"+(A+1)+")"+w[A]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+T+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,s,A){var f={title:s,options:A,children:[]};return n==null&&(n=this.root),n.children.push(f),f},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,A=0;A<n.children.length;A++){var f=n.children[A];this.objStart(f),this.line("/Title "+this.makeString(f.title)),this.line("/Parent "+this.makeRef(n)),A>0&&this.line("/Prev "+this.makeRef(n.children[A-1])),A<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[A+1])),f.children.length>0&&(this.line("/First "+this.makeRef(f.children[0])),this.line("/Last "+this.makeRef(f.children[f.children.length-1])));var l=this.count=this.count_r({count:0},f);if(l>0&&this.line("/Count "+l),f.options&&f.options.pageNumber){var y=r.internal.getPageInfo(f.options.pageNumber);this.line("/Dest ["+y.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var b=0;b<n.children.length;b++)this.renderItems(n.children[b])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,s){for(var A=0;A<s.children.length;A++)n.count++,this.count_r(n,s.children[A]);return n.count}}])})(Gr.API),(function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,s,A,f,l){var y,b=this.decode.DCT_DECODE,w=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=f||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,y=(function(C){for(var F,T=256*C.charCodeAt(4)+C.charCodeAt(5),j=C.length,k={width:0,height:0,numcomponents:1},H=4;H<j;H+=2){if(H+=T,t.indexOf(C.charCodeAt(H+1))!==-1){F=256*C.charCodeAt(H+5)+C.charCodeAt(H+6),k={width:256*C.charCodeAt(H+7)+C.charCodeAt(H+8),height:F,numcomponents:C.charCodeAt(H+9)};break}T=256*C.charCodeAt(H+2)+C.charCodeAt(H+3)}return k})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),y.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}w={data:r,width:y.width,height:y.height,colorSpace:l,bitsPerComponent:8,filter:b,index:n,alias:s}}return w}})(Gr.API),Gr.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var s,A=ile(e,{checkCrc:!0}),f=A.width,l=A.height,y=A.channels,b=A.palette,w=A.depth;s=b&&y===1?(function(Fe){for(var me=Fe.width,He=Fe.height,se=Fe.data,de=Fe.palette,Le=Fe.depth,Ue=!1,nt=[],Oe=[],Ne=void 0,Ve=!1,De=0,ot=0;ot<de.length;ot++){var be=UF(de[ot],4),re=be[0],ye=be[1],Ie=be[2],ke=be[3];nt.push(re,ye,Ie),ke!=null&&(ke===0?(De++,Oe.length<1&&Oe.push(ot)):ke<255&&(Ve=!0))}if(Ve||De>1){Ue=!0,Oe=void 0;var $e=me*He;Ne=new Uint8Array($e);for(var Je=new DataView(se.buffer),mt=0;mt<$e;mt++){var Ke=Z2(Je,mt,Le),pt=UF(de[Ke],4)[3];Ne[mt]=pt}}else De===0&&(Oe=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:Ue?8:void 0,colorBytes:se,alphaBytes:Ne,needSMask:Ue,palette:nt,mask:Oe}})(A):y===2||y===4?(function(Fe){for(var me=Fe.data,He=Fe.width,se=Fe.height,de=Fe.channels,Le=Fe.depth,Ue=de===2?"DeviceGray":"DeviceRGB",nt=de-1,Oe=He*se,Ne=nt,Ve=Oe*Ne,De=1*Oe,ot=Math.ceil(Ve*Le/8),be=Math.ceil(De*Le/8),re=new Uint8Array(ot),ye=new Uint8Array(be),Ie=new DataView(me.buffer),ke=new DataView(re.buffer),$e=new DataView(ye.buffer),Je=!1,mt=0;mt<Oe;mt++){for(var Ke=mt*de,pt=0;pt<Ne;pt++)kL(ke,Z2(Ie,Ke+pt,Le),mt*Ne+pt,Le);var Ct=Z2(Ie,Ke+Ne,Le);Ct<(1<<Le)-1&&(Je=!0),kL($e,Ct,1*mt,Le)}return{colorSpace:Ue,colorsPerPixel:nt,sMaskBitsPerComponent:Je?Le:void 0,colorBytes:re,alphaBytes:ye,needSMask:Je}})(A):(function(Fe){var me=Fe.data,He=Fe.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:He,colorsPerPixel:He==="DeviceGray"?1:3,colorBytes:me instanceof Uint16Array?(function(se){for(var de=se.length,Le=new Uint8Array(2*de),Ue=new DataView(Le.buffer,Le.byteOffset,Le.byteLength),nt=0;nt<de;nt++)Ue.setUint16(2*nt,se[nt],!1);return Le})(me):me,needSMask:!1}})(A);var C,F,T,j=s,k=j.colorSpace,H=j.colorsPerPixel,K=j.sMaskBitsPerComponent,Y=j.colorBytes,W=j.alphaBytes,ae=j.needSMask,Ae=j.palette,pe=j.mask,Be=null;return n!==Gr.API.image_compression.NONE&&typeof S5=="function"?(Be=(function(Fe){var me;switch(Fe){case Gr.API.image_compression.FAST:me=11;break;case Gr.API.image_compression.MEDIUM:me=13;break;case Gr.API.image_compression.SLOW:me=14;break;default:me=12}return me})(n),C=this.decode.FLATE_DECODE,F="/Predictor ".concat(Be," /Colors ").concat(H," /BitsPerComponent ").concat(w," /Columns ").concat(f),e=UL(Y,Math.ceil(f*H*w/8),H,w,n),ae&&(T=UL(W,Math.ceil(f*K/8),1,K,n))):(C=void 0,F=void 0,e=Y,ae&&(T=W)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(T&&this.__addimage__.isArrayBuffer(T)||this.__addimage__.isArrayBufferView(T))&&(T=this.__addimage__.arrayBufferToBinaryString(T)),{alias:r,data:e,index:t,filter:C,decodeParameters:F,transparency:pe,palette:Ae,sMask:T,predictor:Be,width:f,height:l,bitsPerComponent:w,sMaskBitsPerComponent:K,colorSpace:k}}},(function(e){e.processGIF89A=function(t,r,n,s){var A=new Cle(t),f=A.width,l=A.height,y=[];A.decodeAndBlitFrameRGBA(0,y);var b={data:y,width:f,height:l},w=new W2(100).encode(b,100);return e.processJPEG.call(this,w,r,n,s)},e.processGIF87A=e.processGIF89A})(Gr.API),Uc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),A=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:n,blue:r,quad:A}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Uc.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){oa.log("bit decode error:"+r)}},Uc.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var A=this.datav.getUint8(this.pos++,!0),f=n*this.width*4+8*s*4,l=0;l<8&&8*s+l<this.width;l++){var y=this.palette[A>>7-l&1];this.data[f+4*l]=y.blue,this.data[f+4*l+1]=y.green,this.data[f+4*l+2]=y.red,this.data[f+4*l+3]=255}r!==0&&(this.pos+=4-r)}},Uc.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<e;s++){var A=this.datav.getUint8(this.pos++,!0),f=n*this.width*4+2*s*4,l=A>>4,y=15&A,b=this.palette[l];if(this.data[f]=b.blue,this.data[f+1]=b.green,this.data[f+2]=b.red,this.data[f+3]=255,2*s+1>=this.width)break;b=this.palette[y],this.data[f+4]=b.blue,this.data[f+4+1]=b.green,this.data[f+4+2]=b.red,this.data[f+4+3]=255}t!==0&&(this.pos+=4-t)}},Uc.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),A=r*this.width*4+4*n;if(s<this.palette.length){var f=this.palette[s];this.data[A]=f.red,this.data[A+1]=f.green,this.data[A+2]=f.blue,this.data[A+3]=255}else this.data[A]=255,this.data[A+1]=255,this.data[A+2]=255,this.data[A+3]=255}e!==0&&(this.pos+=4-e)}},Uc.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var A=this.datav.getUint16(this.pos,!0);this.pos+=2;var f=(A&t)/t*255|0,l=(A>>5&t)/t*255|0,y=(A>>10&t)/t*255|0,b=A>>15?255:0,w=n*this.width*4+4*s;this.data[w]=y,this.data[w+1]=l,this.data[w+2]=f,this.data[w+3]=b}this.pos+=e}},Uc.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,A=0;A<this.width;A++){var f=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(f&t)/t*255|0,y=(f>>5&r)/r*255|0,b=(f>>11)/t*255|0,w=s*this.width*4+4*A;this.data[w]=b,this.data[w+1]=y,this.data[w+2]=l,this.data[w+3]=255}this.pos+=e}},Uc.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),A=this.datav.getUint8(this.pos++,!0),f=t*this.width*4+4*r;this.data[f]=A,this.data[f+1]=s,this.data[f+2]=n,this.data[f+3]=255}this.pos+=this.width%4}},Uc.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),A=this.datav.getUint8(this.pos++,!0),f=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=A,this.data[l+1]=s,this.data[l+2]=n,this.data[l+3]=f}},Uc.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(t,r,n,s){var A=new Uc(t,!1),f=A.width,l=A.height,y={data:A.getData(),width:f,height:l},b=new W2(100).encode(y,100);return e.processJPEG.call(this,b,r,n,s)}})(Gr.API),QL.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(t,r,n,s){var A=new QL(t),f=A.width,l=A.height,y={data:A.getData(),width:f,height:l},b=new W2(100).encode(y,100);return e.processJPEG.call(this,b,r,n,s)}})(Gr.API),Gr.API.processRGBA=function(e,t,r){for(var n=e.data,s=n.length,A=new Uint8Array(s/4*3),f=new Uint8Array(s/4),l=0,y=0,b=0;b<s;b+=4){var w=n[b],C=n[b+1],F=n[b+2],T=n[b+3];A[l++]=w,A[l++]=C,A[l++]=F,f[y++]=T}var j=this.__addimage__.arrayBufferToBinaryString(A);return{alpha:this.__addimage__.arrayBufferToBinaryString(f),data:j,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Gr.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Im=Gr.API,L1=Im.getCharWidthsArray=function(e,t){var r,n,s=(t=t||{}).font||this.internal.getFont(),A=t.fontSize||this.internal.getFontSize(),f=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:s.metadata.Unicode.widths,y=l.fof?l.fof:1,b=t.kerning?t.kerning:s.metadata.Unicode.kerning,w=b.fof?b.fof:1,C=t.doKerning!==!1,F=0,T=e.length,j=0,k=l[0]||y,H=[];for(r=0;r<T;r++)n=e.charCodeAt(r),typeof s.metadata.widthOfString=="function"?H.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+f*(1e3/A)||0)/1e3):(F=C&&Ri(b[n])==="object"&&!isNaN(parseInt(b[n][j],10))?b[n][j]/w:0,H.push((l[n]||k)/y+F)),j=n;return H},IL=Im.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return Im.processArabic&&(e=Im.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,s)/r:L1.apply(this,arguments).reduce(function(A,f){return A+f},0)},FL=function(e,t,r,n){for(var s=[],A=0,f=e.length,l=0;A!==f&&l+t[A]<r;)l+=t[A],A++;s.push(e.slice(0,A));var y=A;for(l=0;A!==f;)l+t[A]>n&&(s.push(e.slice(y,A)),l=0,y=A),l+=t[A],A++;return y!==A&&s.push(e.slice(y,A)),s},LL=function(e,t,r){r||(r={});var n,s,A,f,l,y,b,w=[],C=[w],F=r.textIndent||0,T=0,j=0,k=e.split(" "),H=L1.apply(this,[" ",r])[0];if(y=r.lineIndent===-1?k[0].length+2:r.lineIndent||0){var K=Array(y).join(" "),Y=[];k.map(function(ae){(ae=ae.split(/\s*\n/)).length>1?Y=Y.concat(ae.map(function(Ae,pe){return(pe&&Ae.length?`
`:"")+Ae})):Y.push(ae[0])}),k=Y,y=IL.apply(this,[K,r])}for(A=0,f=k.length;A<f;A++){var W=0;if(n=k[A],y&&n[0]==`
`&&(n=n.substr(1),W=1),F+T+(j=(s=L1.apply(this,[n,r])).reduce(function(ae,Ae){return ae+Ae},0))>t||W){if(j>t){for(l=FL.apply(this,[n,s,t-(F+T),t]),w.push(l.shift()),w=[l.pop()];l.length;)C.push([l.shift()]);j=s.slice(n.length-(w[0]?w[0].length:0)).reduce(function(ae,Ae){return ae+Ae},0)}else w=[n];C.push(w),F=j+y,T=H}else w.push(n),F+=T+j,T=H}return b=y?function(ae,Ae){return(Ae?K:"")+ae.join(" ")}:function(ae){return ae.join(" ")},C.map(b)},Im.splitTextToSize=function(e,t,r){var n,s=(r=r||{}).fontSize||this.internal.getFontSize(),A=(function(w){if(w.widths&&w.kerning)return{widths:w.widths,kerning:w.kerning};var C=this.internal.getFont(w.fontName,w.fontStyle),F="Unicode";return C.metadata[F]?{widths:C.metadata[F].widths||{0:1},kerning:C.metadata[F].kerning||{}}:{font:C.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var f=1*this.internal.scaleFactor*t/s;A.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,A.lineIndent=r.lineIndent;var l,y,b=[];for(l=0,y=n.length;l<y;l++)b=b.concat(LL.apply(this,[n[l],f,A]));return b},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},s={},A=0;A<16;A++)n[r[A]]=t[A],s[t[A]]=r[A];var f=function(F){return"0x"+parseInt(F,10).toString(16)},l=e.__fontmetrics__.compress=function(F){var T,j,k,H,K=["{"];for(var Y in F){if(T=F[Y],isNaN(parseInt(Y,10))?j="'"+Y+"'":(Y=parseInt(Y,10),j=(j=f(Y).slice(2)).slice(0,-1)+s[j.slice(-1)]),typeof T=="number")T<0?(k=f(T).slice(3),H="-"):(k=f(T).slice(2),H=""),k=H+k.slice(0,-1)+s[k.slice(-1)];else{if(Ri(T)!=="object")throw new Error("Don't know what to do with value type "+Ri(T)+".");k=l(T)}K.push(j+k)}return K.push("}"),K.join("")},y=e.__fontmetrics__.uncompress=function(F){if(typeof F!="string")throw new Error("Invalid argument passed to uncompress.");for(var T,j,k,H,K={},Y=1,W=K,ae=[],Ae="",pe="",Be=F.length-1,Fe=1;Fe<Be;Fe+=1)(H=F[Fe])=="'"?T?(k=T.join(""),T=void 0):T=[]:T?T.push(H):H=="{"?(ae.push([W,k]),W={},k=void 0):H=="}"?((j=ae.pop())[0][j[1]]=W,k=void 0,W=j[0]):H=="-"?Y=-1:k===void 0?n.hasOwnProperty(H)?(Ae+=n[H],k=parseInt(Ae,16)*Y,Y=1,Ae=""):Ae+=H:n.hasOwnProperty(H)?(pe+=n[H],W[k]=parseInt(pe,16)*Y,Y=1,k=void 0,pe=""):pe+=H;return K},b={codePages:["WinAnsiEncoding"],WinAnsiEncoding:y("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},w={Unicode:{Courier:b,"Courier-Bold":b,"Courier-BoldOblique":b,"Courier-Oblique":b,Helvetica:b,"Helvetica-Bold":b,"Helvetica-BoldOblique":b,"Helvetica-Oblique":b,"Times-Roman":b,"Times-Bold":b,"Times-BoldItalic":b,"Times-Italic":b}},C={Unicode:{"Courier-Oblique":y("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":y("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":y("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:y("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":y("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":y("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:y("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:y("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":y("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:y("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":y("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":y("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":y("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":y("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(F){var T=F.font,j=C.Unicode[T.postScriptName];j&&(T.metadata.Unicode={},T.metadata.Unicode.widths=j.widths,T.metadata.Unicode.kerning=j.kerning);var k=w.Unicode[T.postScriptName];k&&(T.metadata.Unicode.encoding=k,T.encoding=k.codePages[0])}])})(Gr.API),(function(e){var t=function(r){for(var n=r.length,s=new Uint8Array(n),A=0;A<n;A++)s[A]=r.charCodeAt(A);return s};e.API.events.push(["addFont",function(r){var n=void 0,s=r.font,A=r.instance;if(!s.isStandardFont){if(A===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=A.existsFileInVFS(s.postScriptName)===!1?A.loadFile(s.postScriptName):A.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(f,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(H1(l)),f.metadata=e.API.TTFFont.open(l),f.metadata.Unicode=f.metadata.Unicode||{encoding:{},kerning:{},widths:[]},f.metadata.glyIdsUsed=[0]})(s,n)}}])})(Gr),Gr.API.addSvgAsImage=function(e,t,r,n,s,A,f,l){if(isNaN(t)||isNaN(r))throw oa.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(s))throw oa.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var y=document.createElement("canvas");y.width=n,y.height=s;var b=y.getContext("2d");b.fillStyle="#fff",b.fillRect(0,0,y.width,y.height);var w={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},C=this;return(gn.canvg?Promise.resolve(gn.canvg):F2(()=>import("./index.es-gZ7GLGsv.js"),[])).catch(function(F){return Promise.reject(new Error("Could not load canvg: "+F))}).then(function(F){return F.default?F.default:F}).then(function(F){return F.fromString(b,e,w)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(F){return F.render(w)}).then(function(){C.addImage(y.toDataURL("image/jpeg",1),t,r,n,s,f,l)})},Gr.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(t,r);return this},Gr.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,s,A,f={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(f),y=[],b=0,w=0,C=0;function F(j,k){var H,K=!1;for(H=0;H<j.length;H+=1)j[H]===k&&(K=!0);return K}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(f)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var T=l.length;for(C=0;C<T;C+=1)r[l[C]].value=r[l[C]].defaultValue,r[l[C]].explicitSet=!1}if(Ri(e)==="object"){for(s in e)if(A=e[s],F(l,s)&&A!==void 0){if(r[s].type==="boolean"&&typeof A=="boolean")r[s].value=A;else if(r[s].type==="name"&&F(r[s].valueSet,A))r[s].value=A;else if(r[s].type==="integer"&&Number.isInteger(A))r[s].value=A;else if(r[s].type==="array"){for(b=0;b<A.length;b+=1)if(n=!0,A[b].length===1&&typeof A[b][0]=="number")y.push(String(A[b]-1));else if(A[b].length>1){for(w=0;w<A[b].length;w+=1)typeof A[b][w]!="number"&&(n=!1);n===!0&&y.push([A[b][0]-1,A[b][1]-1].join(" "))}r[s].value="["+y.join(" ")+"]"}else r[s].value=r[s].defaultValue;r[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var j,k=[];for(j in r)r[j].explicitSet===!0&&(r[j].type==="name"?k.push("/"+j+" /"+r[j].value):k.push("/"+j+" "+r[j].value));k.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+k.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),A=unescape(encodeURIComponent(n)),f=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),y=unescape(encodeURIComponent("</x:xmpmeta>")),b=A.length+f.length+l.length+s.length+y.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+b+" >>"),this.internal.write("stream"),this.internal.write(s+A+f+l+y),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}})(Gr.API),(function(e){var t=e.API,r=t.pdfEscape16=function(A,f){for(var l,y=f.metadata.Unicode.widths,b=["","0","00","000","0000"],w=[""],C=0,F=A.length;C<F;++C){if(l=f.metadata.characterToGlyph(A.charCodeAt(C)),f.metadata.glyIdsUsed.push(l),f.metadata.toUnicode[l]=A.charCodeAt(C),y.indexOf(l)==-1&&(y.push(l),y.push([parseInt(f.metadata.widthOfGlyph(l),10)])),l=="0")return w.join("");l=l.toString(16),w.push(b[4-l.length],l)}return w.join("")},n=function(A){var f,l,y,b,w,C,F;for(w=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,y=[],C=0,F=(l=Object.keys(A).sort(function(T,j){return T-j})).length;C<F;C++)f=l[C],y.length>=100&&(w+=`
`+y.length+` beginbfchar
`+y.join(`
`)+`
endbfchar`,y=[]),A[f]!==void 0&&A[f]!==null&&typeof A[f].toString=="function"&&(b=("0000"+A[f].toString(16)).slice(-4),f=("0000"+(+f).toString(16)).slice(-4),y.push("<"+f+"><"+b+">"));return y.length&&(w+=`
`+y.length+` beginbfchar
`+y.join(`
`)+`
endbfchar
`),w+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(A){(function(f){var l=f.font,y=f.out,b=f.newObject,w=f.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var C=l.metadata.Unicode.widths,F=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),T="",j=0;j<F.length;j++)T+=String.fromCharCode(F[j]);var k=b();w({data:T,addLength1:!0,objectId:k}),y("endobj");var H=b();w({data:n(l.metadata.toUnicode),addLength1:!0,objectId:H}),y("endobj");var K=b();y("<<"),y("/Type /FontDescriptor"),y("/FontName /"+Pm(l.fontName)),y("/FontFile2 "+k+" 0 R"),y("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),y("/Flags "+l.metadata.flags),y("/StemV "+l.metadata.stemV),y("/ItalicAngle "+l.metadata.italicAngle),y("/Ascent "+l.metadata.ascender),y("/Descent "+l.metadata.decender),y("/CapHeight "+l.metadata.capHeight),y(">>"),y("endobj");var Y=b();y("<<"),y("/Type /Font"),y("/BaseFont /"+Pm(l.fontName)),y("/FontDescriptor "+K+" 0 R"),y("/W "+e.API.PDFObject.convert(C)),y("/CIDToGIDMap /Identity"),y("/DW 1000"),y("/Subtype /CIDFontType2"),y("/CIDSystemInfo"),y("<<"),y("/Supplement 0"),y("/Registry (Adobe)"),y("/Ordering ("+l.encoding+")"),y(">>"),y(">>"),y("endobj"),l.objectNumber=b(),y("<<"),y("/Type /Font"),y("/Subtype /Type0"),y("/ToUnicode "+H+" 0 R"),y("/BaseFont /"+Pm(l.fontName)),y("/Encoding /"+l.encoding),y("/DescendantFonts ["+Y+" 0 R]"),y(">>"),y("endobj"),l.isAlreadyPutted=!0}})(A)}]),t.events.push(["putFont",function(A){(function(f){var l=f.font,y=f.out,b=f.newObject,w=f.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var C=l.metadata.rawData,F="",T=0;T<C.length;T++)F+=String.fromCharCode(C[T]);var j=b();w({data:F,addLength1:!0,objectId:j}),y("endobj");var k=b();w({data:n(l.metadata.toUnicode),addLength1:!0,objectId:k}),y("endobj");var H=b();y("<<"),y("/Descent "+l.metadata.decender),y("/CapHeight "+l.metadata.capHeight),y("/StemV "+l.metadata.stemV),y("/Type /FontDescriptor"),y("/FontFile2 "+j+" 0 R"),y("/Flags 96"),y("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),y("/FontName /"+Pm(l.fontName)),y("/ItalicAngle "+l.metadata.italicAngle),y("/Ascent "+l.metadata.ascender),y(">>"),y("endobj"),l.objectNumber=b();for(var K=0;K<l.metadata.hmtx.widths.length;K++)l.metadata.hmtx.widths[K]=parseInt(l.metadata.hmtx.widths[K]*(1e3/l.metadata.head.unitsPerEm));y("<</Subtype/TrueType/Type/Font/ToUnicode "+k+" 0 R/BaseFont/"+Pm(l.fontName)+"/FontDescriptor "+H+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),y("endobj"),l.isAlreadyPutted=!0}})(A)}]);var s=function(A){var f,l=A.text||"",y=A.x,b=A.y,w=A.options||{},C=A.mutex||{},F=C.pdfEscape,T=C.activeFontKey,j=C.fonts,k=T,H="",K=0,Y="",W=j[k].encoding;if(j[k].encoding!=="Identity-H")return{text:l,x:y,y:b,options:w,mutex:C};for(Y=l,k=T,Array.isArray(l)&&(Y=l[0]),K=0;K<Y.length;K+=1)j[k].metadata.hasOwnProperty("cmap")&&(f=j[k].metadata.cmap.unicode.codeMap[Y[K].charCodeAt(0)]),f||Y[K].charCodeAt(0)<256&&j[k].metadata.hasOwnProperty("Unicode")?H+=Y[K]:H+="";var ae="";return parseInt(k.slice(1))<14||W==="WinAnsiEncoding"?ae=F(H,k).split("").map(function(Ae){return Ae.charCodeAt(0).toString(16)}).join(""):W==="Identity-H"&&(ae=r(H,j[k])),C.isHex=!0,{text:ae,x:y,y:b,options:w,mutex:C}};t.events.push(["postProcessText",function(A){var f=A.text||"",l=[],y={text:f,x:A.x,y:A.y,options:A.options,mutex:A.mutex};if(Array.isArray(f)){var b=0;for(b=0;b<f.length;b+=1)Array.isArray(f[b])&&f[b].length===3?l.push([s(Object.assign({},y,{text:f[b][0]})).text,f[b][1],f[b][2]]):l.push(s(Object.assign({},y,{text:f[b]})).text);A.text=l}else A.text=s(Object.assign({},y,{text:f})).text}])})(Gr),(function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(Gr.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var s,A,f,l,y,b,w,C=t,F=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],T=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],j={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},k={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},H=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],K=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),Y=!1,W=0;this.__bidiEngine__={};var ae=function(se){var de=se.charCodeAt(),Le=de>>8,Ue=k[Le];return Ue!==void 0?C[256*Ue+(255&de)]:Le===252||Le===253?"AL":K.test(Le)?"L":Le===8?"R":"N"},Ae=function(se){for(var de,Le=0;Le<se.length;Le++){if((de=ae(se.charAt(Le)))==="L")return!1;if(de==="R")return!0}return!1},pe=function(se,de,Le,Ue){var nt,Oe,Ne,Ve,De=de[Ue];switch(De){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":Y=!1;break;case"N":case"AN":break;case"EN":Y&&(De="AN");break;case"AL":Y=!0,De="R";break;case"WS":case"BN":De="N";break;case"CS":Ue<1||Ue+1>=de.length||(nt=Le[Ue-1])!=="EN"&&nt!=="AN"||(Oe=de[Ue+1])!=="EN"&&Oe!=="AN"?De="N":Y&&(Oe="AN"),De=Oe===nt?Oe:"N";break;case"ES":De=(nt=Ue>0?Le[Ue-1]:"B")==="EN"&&Ue+1<de.length&&de[Ue+1]==="EN"?"EN":"N";break;case"ET":if(Ue>0&&Le[Ue-1]==="EN"){De="EN";break}if(Y){De="N";break}for(Ne=Ue+1,Ve=de.length;Ne<Ve&&de[Ne]==="ET";)Ne++;De=Ne<Ve&&de[Ne]==="EN"?"EN":"N";break;case"NSM":if(f&&!l){for(Ve=de.length,Ne=Ue+1;Ne<Ve&&de[Ne]==="NSM";)Ne++;if(Ne<Ve){var ot=se[Ue],be=ot>=1425&&ot<=2303||ot===64286;if(nt=de[Ne],be&&(nt==="R"||nt==="AL")){De="R";break}}}De=Ue<1||(nt=de[Ue-1])==="B"?"N":Le[Ue-1];break;case"B":Y=!1,s=!0,De=W;break;case"S":A=!0,De="N"}return De},Be=function(se,de,Le){var Ue=se.split("");return Le&&Fe(Ue,Le,{hiLevel:W}),Ue.reverse(),de&&de.reverse(),Ue.join("")},Fe=function(se,de,Le){var Ue,nt,Oe,Ne,Ve,De=-1,ot=se.length,be=0,re=[],ye=W?T:F,Ie=[];for(Y=!1,s=!1,A=!1,nt=0;nt<ot;nt++)Ie[nt]=ae(se[nt]);for(Oe=0;Oe<ot;Oe++){if(Ve=be,re[Oe]=pe(se,Ie,re,Oe),Ue=240&(be=ye[Ve][j[re[Oe]]]),be&=15,de[Oe]=Ne=ye[be][5],Ue>0)if(Ue===16){for(nt=De;nt<Oe;nt++)de[nt]=1;De=-1}else De=-1;if(ye[be][6])De===-1&&(De=Oe);else if(De>-1){for(nt=De;nt<Oe;nt++)de[nt]=Ne;De=-1}Ie[Oe]==="B"&&(de[Oe]=0),Le.hiLevel|=Ne}A&&(function(ke,$e,Je){for(var mt=0;mt<Je;mt++)if(ke[mt]==="S"){$e[mt]=W;for(var Ke=mt-1;Ke>=0&&ke[Ke]==="WS";Ke--)$e[Ke]=W}})(Ie,de,ot)},me=function(se,de,Le,Ue,nt){if(!(nt.hiLevel<se)){if(se===1&&W===1&&!s)return de.reverse(),void(Le&&Le.reverse());for(var Oe,Ne,Ve,De,ot=de.length,be=0;be<ot;){if(Ue[be]>=se){for(Ve=be+1;Ve<ot&&Ue[Ve]>=se;)Ve++;for(De=be,Ne=Ve-1;De<Ne;De++,Ne--)Oe=de[De],de[De]=de[Ne],de[Ne]=Oe,Le&&(Oe=Le[De],Le[De]=Le[Ne],Le[Ne]=Oe);be=Ve}be++}}},He=function(se,de,Le){var Ue=se.split(""),nt={hiLevel:W};return Le||(Le=[]),Fe(Ue,Le,nt),(function(Oe,Ne,Ve){if(Ve.hiLevel!==0&&w)for(var De,ot=0;ot<Oe.length;ot++)Ne[ot]===1&&(De=H.indexOf(Oe[ot]))>=0&&(Oe[ot]=H[De+1])})(Ue,Le,nt),me(2,Ue,de,Le,nt),me(1,Ue,de,Le,nt),Ue.join("")};return this.__bidiEngine__.doBidiReorder=function(se,de,Le){if((function(nt,Oe){if(Oe)for(var Ne=0;Ne<nt.length;Ne++)Oe[Ne]=Ne;l===void 0&&(l=Ae(nt)),b===void 0&&(b=Ae(nt))})(se,de),f||!y||b)if(f&&y&&l^b)W=l?1:0,se=Be(se,de,Le);else if(!f&&y&&b)W=l?1:0,se=He(se,de,Le),se=Be(se,de);else if(!f||l||y||b){if(f&&!y&&l^b)se=Be(se,de),l?(W=0,se=He(se,de,Le)):(W=1,se=He(se,de,Le),se=Be(se,de));else if(f&&l&&!y&&b)W=1,se=He(se,de,Le),se=Be(se,de);else if(!f&&!y&&l^b){var Ue=w;l?(W=1,se=He(se,de,Le),W=0,w=!1,se=He(se,de,Le),w=Ue):(W=0,se=He(se,de,Le),se=Be(se,de),W=1,w=!1,se=He(se,de,Le),w=Ue,se=Be(se,de))}}else W=0,se=He(se,de,Le);else W=l?1:0,se=He(se,de,Le);return se},this.__bidiEngine__.setOptions=function(se){se&&(f=se.isInputVisual,y=se.isOutputVisual,l=se.isInputRtl,b=se.isOutputRtl,w=se.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var s=n.text;n.x,n.y;var A=n.options||{};n.mutex,A.lang;var f=[];if(A.isInputVisual=typeof A.isInputVisual!="boolean"||A.isInputVisual,r.setOptions(A),Object.prototype.toString.call(s)==="[object Array]"){var l=0;for(f=[],l=0;l<s.length;l+=1)Object.prototype.toString.call(s[l])==="[object Array]"?f.push([r.doBidiReorder(s[l][0]),s[l][1],s[l][2]]):f.push([r.doBidiReorder(s[l])]);n.text=f}else n.text=r.doBidiReorder(s);r.setOptions({isInputVisual:!0})}])})(Gr),Gr.API.TTFFont=(function(){function e(t){var r;if(this.rawData=t,r=this.contents=new wd(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Rle(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Sle(this.contents),this.head=new Tle(this),this.name=new Mle(this),this.cmap=new Xk(this),this.toUnicode={},this.hhea=new Ile(this),this.maxp=new Ple(this),this.hmtx=new Ole(this),this.post=new Lle(this),this.os2=new Fle(this),this.loca=new Qle(this),this.glyf=new Dle(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,s,A;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var f,l,y,b;for(b=[],f=0,l=(y=this.bbox).length;f<l;f++)t=y[f],b.push(Math.round(t*this.scaleFactor));return b}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),32768&(r=s>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(A=this.familyClass)===1||A===2||A===3||A===4||A===5||A===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var s,A,f,l;for(f=0,A=0,l=(t=""+t).length;0<=l?A<l:A>l;A=0<=l?++A:--A)s=t.charCodeAt(A),f+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/r)||0;return f*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e})();var Vc,wd=(function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,s;for(s=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)s.push(this.writeByte(t.charCodeAt(r)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,s,A,f,l,y;return t=this.readByte(),r=this.readByte(),n=this.readByte(),s=this.readByte(),A=this.readByte(),f=this.readByte(),l=this.readByte(),y=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^A)+65536*(255^f)+256*(255^l)+(255^y)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*s+16777216*A+65536*f+256*l+y},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,s,A;for(A=[],n=0,s=t.length;n<s;n++)r=t[n],A.push(this.writeByte(r));return A},e})(),Sle=(function(){var e;function t(r){var n,s,A;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},s=0,A=this.tableCount;0<=A?s<A:s>A;s=0<=A?++s:--s)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,s,A,f,l,y,b,w,C,F,T,j,k;for(k in T=Object.keys(r).length,y=Math.log(2),C=16*Math.floor(Math.log(T)/y),f=Math.floor(C/y),w=16*T-C,(s=new wd).writeInt(this.scalarType),s.writeShort(T),s.writeShort(C),s.writeShort(f),s.writeShort(w),A=16*T,b=s.pos+A,l=null,j=[],r)for(F=r[k],s.writeString(k),s.writeInt(e(F)),s.writeInt(b),s.writeInt(F.length),j=j.concat(F),k==="head"&&(l=b),b+=F.length;b%4;)j.push(0),b++;return s.write(j),n=2981146554-e(s.data),s.pos=l+8,s.writeUInt32(n),s.data},e=function(r){var n,s,A,f;for(r=Zk.call(r);r.length%4;)r.push(0);for(A=new wd(r),s=0,n=0,f=r.length;n<f;n=n+=4)s+=A.readUInt32();return 4294967295&s},t})(),Ele={}.hasOwnProperty,Ih=function(e,t){for(var r in t)Ele.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Vc=(function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var Tle=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ih(e,Vc),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new wd).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e})(),RL=(function(){function e(t,r){var n,s,A,f,l,y,b,w,C,F,T,j,k,H,K,Y,W;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),C=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(y=0;y<256;++y)this.codeMap[y]=t.readByte();break;case 4:for(T=t.readUInt16(),F=T/2,t.pos+=6,A=(function(){var ae,Ae;for(Ae=[],y=ae=0;0<=F?ae<F:ae>F;y=0<=F?++ae:--ae)Ae.push(t.readUInt16());return Ae})(),t.pos+=2,k=(function(){var ae,Ae;for(Ae=[],y=ae=0;0<=F?ae<F:ae>F;y=0<=F?++ae:--ae)Ae.push(t.readUInt16());return Ae})(),b=(function(){var ae,Ae;for(Ae=[],y=ae=0;0<=F?ae<F:ae>F;y=0<=F?++ae:--ae)Ae.push(t.readUInt16());return Ae})(),w=(function(){var ae,Ae;for(Ae=[],y=ae=0;0<=F?ae<F:ae>F;y=0<=F?++ae:--ae)Ae.push(t.readUInt16());return Ae})(),s=(this.length-t.pos+this.offset)/2,l=(function(){var ae,Ae;for(Ae=[],y=ae=0;0<=s?ae<s:ae>s;y=0<=s?++ae:--ae)Ae.push(t.readUInt16());return Ae})(),y=K=0,W=A.length;K<W;y=++K)for(H=A[y],n=Y=j=k[y];j<=H?Y<=H:Y>=H;n=j<=H?++Y:--Y)w[y]===0?f=n+b[y]:(f=l[w[y]/2+(n-j)-(F-y)]||0)!==0&&(f+=b[y]),this.codeMap[n]=65535&f}t.pos=C}return e.encode=function(t,r){var n,s,A,f,l,y,b,w,C,F,T,j,k,H,K,Y,W,ae,Ae,pe,Be,Fe,me,He,se,de,Le,Ue,nt,Oe,Ne,Ve,De,ot,be,re,ye,Ie,ke,$e,Je,mt,Ke,pt,Ct,ct;switch(Ue=new wd,f=Object.keys(t).sort(function(qt,Xt){return qt-Xt}),r){case"macroman":for(k=0,H=(function(){var qt=[];for(j=0;j<256;++j)qt.push(0);return qt})(),Y={0:0},A={},nt=0,De=f.length;nt<De;nt++)Y[Ke=t[s=f[nt]]]==null&&(Y[Ke]=++k),A[s]={old:t[s],new:Y[t[s]]},H[s]=Y[t[s]];return Ue.writeUInt16(1),Ue.writeUInt16(0),Ue.writeUInt32(12),Ue.writeUInt16(0),Ue.writeUInt16(262),Ue.writeUInt16(0),Ue.write(H),{charMap:A,subtable:Ue.data,maxGlyphID:k+1};case"unicode":for(de=[],C=[],W=0,Y={},n={},K=b=null,Oe=0,ot=f.length;Oe<ot;Oe++)Y[Ae=t[s=f[Oe]]]==null&&(Y[Ae]=++W),n[s]={old:Ae,new:Y[Ae]},l=Y[Ae]-s,K!=null&&l===b||(K&&C.push(K),de.push(s),b=l),K=s;for(K&&C.push(K),C.push(65535),de.push(65535),He=2*(me=de.length),Fe=2*Math.pow(Math.log(me)/Math.LN2,2),F=Math.log(Fe/2)/Math.LN2,Be=2*me-Fe,y=[],pe=[],T=[],j=Ne=0,be=de.length;Ne<be;j=++Ne){if(se=de[j],w=C[j],se===65535){y.push(0),pe.push(0);break}if(se-(Le=n[se].new)>=32768)for(y.push(0),pe.push(2*(T.length+me-j)),s=Ve=se;se<=w?Ve<=w:Ve>=w;s=se<=w?++Ve:--Ve)T.push(n[s].new);else y.push(Le-se),pe.push(0)}for(Ue.writeUInt16(3),Ue.writeUInt16(1),Ue.writeUInt32(12),Ue.writeUInt16(4),Ue.writeUInt16(16+8*me+2*T.length),Ue.writeUInt16(0),Ue.writeUInt16(He),Ue.writeUInt16(Fe),Ue.writeUInt16(F),Ue.writeUInt16(Be),Je=0,re=C.length;Je<re;Je++)s=C[Je],Ue.writeUInt16(s);for(Ue.writeUInt16(0),mt=0,ye=de.length;mt<ye;mt++)s=de[mt],Ue.writeUInt16(s);for(pt=0,Ie=y.length;pt<Ie;pt++)l=y[pt],Ue.writeUInt16(l);for(Ct=0,ke=pe.length;Ct<ke;Ct++)ae=pe[Ct],Ue.writeUInt16(ae);for(ct=0,$e=T.length;ct<$e;ct++)k=T[ct],Ue.writeUInt16(k);return{charMap:n,subtable:Ue.data,maxGlyphID:W+1}}},e})(),Xk=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ih(e,Vc),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=s?n<s:n>s;n=0<=s?++n:--n)r=new RL(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,s;return r==null&&(r="macroman"),n=RL.encode(t,r),(s=new wd).writeUInt16(0),s.writeUInt16(1),n.table=s.data.concat(n.subtable),n},e})(),Ile=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ih(e,Vc),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e})(),Fle=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ih(e,Vc),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n})(),this.charRange=(function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e})(),Lle=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ih(e,Vc),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var A;for(n=t.readUInt16(),this.glyphNameIndex=[],A=0;0<=n?A<n:A>n;A=0<=n?++A:--A)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)r=t.readByte(),s.push(this.names.push(t.readString(r)));return s;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var f,l,y;for(y=[],A=f=0,l=this.file.maxp.numGlyphs;0<=l?f<l:f>l;A=0<=l?++f:--f)y.push(t.readUInt32());return y}).call(this)}},e})(),Ule=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Mle=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ih(e,Vc),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,s,A,f,l,y,b,w,C,F;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),n=[],A=0;0<=r?A<r:A>r;A=0<=r?++A:--A)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(y={},A=w=0,C=n.length;w<C;A=++w)s=n[A],t.pos=s.offset,b=t.readString(s.length),f=new Ule(b,s),y[F=s.nameID]==null&&(y[F]=[]),y[s.nameID].push(f);this.strings=y,this.copyright=y[0],this.fontFamily=y[1],this.fontSubfamily=y[2],this.uniqueSubfamily=y[3],this.fontName=y[4],this.version=y[5];try{this.postscriptName=y[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=y[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=y[7],this.manufacturer=y[8],this.designer=y[9],this.description=y[10],this.vendorUrl=y[11],this.designerUrl=y[12],this.license=y[13],this.licenseUrl=y[14],this.preferredFamily=y[15],this.preferredSubfamily=y[17],this.compatibleFull=y[18],this.sampleText=y[19]},e})(),Ple=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ih(e,Vc),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e})(),Ole=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ih(e,Vc),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,s,A,f,l,y;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var b,w;for(w=[],r=b=0;0<=s?b<s:b>s;r=0<=s?++b:--b)w.push(t.readInt16());return w})(),this.widths=(function(){var b,w,C,F;for(F=[],b=0,w=(C=this.metrics).length;b<w;b++)A=C[b],F.push(A.advance);return F}).call(this),n=this.widths[this.widths.length-1],y=[],r=f=0;0<=s?f<s:f>s;r=0<=s?++f:--f)y.push(this.widths.push(n));return y},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e})(),Zk=[].slice,Dle=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ih(e,Vc),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,s,A,f,l,y,b,w,C;return t in this.cache?this.cache[t]:(A=this.file.loca,r=this.file.contents,n=A.indexOf(t),(s=A.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,f=(l=new wd(r.read(s))).readShort(),b=l.readShort(),C=l.readShort(),y=l.readShort(),w=l.readShort(),this.cache[t]=f===-1?new Nle(l,b,C,y,w):new kle(l,f,b,C,y,w),this.cache[t]))},e.prototype.encode=function(t,r,n){var s,A,f,l,y;for(f=[],A=[],l=0,y=r.length;l<y;l++)s=t[r[l]],A.push(f.length),s&&(f=f.concat(s.encode(n)));return A.push(f.length),{table:f,offsets:A}},e})(),kle=(function(){function e(t,r,n,s,A,f){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=s,this.xMax=A,this.yMax=f,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),Nle=(function(){function e(t,r,n,s,A){var f,l;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=s,this.yMax=A,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],f=this.raw;l=f.readShort(),this.glyphOffsets.push(f.pos),this.glyphIDs.push(f.readUInt16()),32&l;)f.pos+=1&l?4:2,128&l?f.pos+=8:64&l?f.pos+=4:8&l&&(f.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new wd(Zk.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e})(),Qle=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ih(e,Vc),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,A;for(A=[],n=0,s=this.length;n<s;n+=2)A.push(2*t.readUInt16());return A}).call(this):(function(){var s,A;for(A=[],n=0,s=this.length;n<s;n+=4)A.push(t.readUInt32());return A}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),s=0,A=0,f=0;f<n.length;++f)if(n[f]=s,A<r.length&&r[A]==f){++A,n[f]=s;var l=this.offsets[f],y=this.offsets[f+1]-l;y>0&&(s+=y)}for(var b=new Array(4*n.length),w=0;w<n.length;++w)b[4*w+3]=255&n[w],b[4*w+2]=(65280&n[w])>>8,b[4*w+1]=(16711680&n[w])>>16,b[4*w]=(4278190080&n[w])>>24;return b},e})(),Rle=(function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,s,A;for(r in s=this.font.cmap.tables[0].codeMap,t={},A=this.subset)n=A[r],t[r]=s[n];return t},e.prototype.glyphsFor=function(t){var r,n,s,A,f,l,y;for(s={},f=0,l=t.length;f<l;f++)s[A=t[f]]=this.font.glyf.glyphFor(A);for(A in r=[],s)(n=s[A])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(A in y=this.glyphsFor(r))n=y[A],s[A]=n;return s},e.prototype.encode=function(t,r){var n,s,A,f,l,y,b,w,C,F,T,j,k,H,K;for(s in n=Xk.encode(this.generateCmap(),"unicode"),f=this.glyphsFor(t),T={0:0},K=n.charMap)T[(y=K[s]).old]=y.new;for(j in F=n.maxGlyphID,f)j in T||(T[j]=F++);return w=(function(Y){var W,ae;for(W in ae={},Y)ae[Y[W]]=W;return ae})(T),C=Object.keys(w).sort(function(Y,W){return Y-W}),k=(function(){var Y,W,ae;for(ae=[],Y=0,W=C.length;Y<W;Y++)l=C[Y],ae.push(w[l]);return ae})(),A=this.font.glyf.encode(f,k,T),b=this.font.loca.encode(A.offsets,k),H={cmap:this.font.cmap.raw(),glyf:A.table,loca:b,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(H["OS/2"]=this.font.os2.raw()),this.font.directory.encode(H)},e})();Gr.API.PDFObject=(function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,s,A,f;if(Array.isArray(r))return"["+(function(){var l,y,b;for(b=[],l=0,y=r.length;l<y;l++)n=r[l],b.push(t.convert(n));return b})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(s in A=["<<"],r)f=r[s],A.push("/"+s+" "+t.convert(f));return A.push(">>"),A.join(`
`)}return""+r},t})();function zle(){const[e,t]=te.useState(null),[r,n]=te.useState(null),[s,A]=te.useState(null),[f,l]=te.useState(3),[y,b]=te.useState(null),[w,C]=te.useState(!0),[F,T]=te.useState(null),[j,k]=te.useState(!0),[H,K]=te.useState(!1),[Y,W]=te.useState(!1),[ae,Ae]=te.useState(!0),[pe,Be]=te.useState(!1),[Fe,me]=te.useState(null),He=te.useRef(null);te.useEffect(()=>{const Ve="/retc-map/retc_data.geojson".replace("//","/");fetch(Ve).then(De=>De.ok?De.json():Promise.reject(De.status)).then(De=>{t(De),C(!1)}).catch(De=>{console.error(De),C(!1)})},[]),te.useEffect(()=>{r&&k(!0)},[r]);const se=(Ne,Ve)=>{e&&n(wee(Ne,e,Ve))},de=Ne=>{b(Ne),se(Ne,f)},Le=Ne=>{A(Ne),b(Ne),se(Ne,f)},Ue=Ne=>{l(Ne),y&&se(y,Ne)},nt=()=>{Ae(!1),Be(!0)},Oe=async Ne=>{if(!r){alert("Primero debes realizar un anlisis zonal.");return}W(!0),K(!1);const Ve=document.querySelector(".maplibregl-canvas");Ve&&me(Ve.toDataURL("image/png")),await new Promise(be=>setTimeout(be,600));const De=document.getElementById("printable-report"),ot=document.getElementById("printable-report-page2");if(!De){W(!1);return}try{const be={scale:2,backgroundColor:"#ffffff",logging:!1,useCORS:!0},re=await w5(De,be);let ye=null;ot&&(ye=await w5(ot,be));const Ie=new Date().toISOString().replace(/[:.]/g,"-").slice(0,19);if(Ne==="png"){const ke=document.createElement("a");if(ke.download=`HuellaRETC_Reporte_Pagina1_${Ie}.png`,ke.href=re.toDataURL("image/png"),ke.click(),ye){await new Promise(Je=>setTimeout(Je,500));const $e=document.createElement("a");$e.download=`HuellaRETC_Reporte_Pagina2_${Ie}.png`,$e.href=ye.toDataURL("image/png"),$e.click()}}else if(Ne==="pdf"){const ke=new Gr({orientation:"portrait",unit:"px",format:[re.width/2,re.height/2]});ke.addImage(re.toDataURL("image/png"),"PNG",0,0,re.width/2,re.height/2),ye&&(ke.addPage([ye.width/2,ye.height/2],"portrait"),ke.addImage(ye.toDataURL("image/png"),"PNG",0,0,ye.width/2,ye.height/2)),ke.save(`HuellaRETC_Reporte_${Ie}.pdf`)}}catch(be){console.error(be),alert("Error al generar el reporte.")}finally{me(null),W(!1)}};return _e.jsxs("div",{id:"main-container",className:"relative w-full h-screen bg-slate-900 text-slate-100 overflow-hidden font-sans",children:[_e.jsx(vee,{isOpen:ae,onClose:()=>Ae(!1),onStartTutorial:nt}),pe&&_e.jsx(_ee,{onClose:()=>Be(!1)}),_e.jsx("div",{style:{position:"absolute",left:"-9999px",top:0},children:_e.jsx(bee,{id:"printable-report",analysis:r,mapSnapshot:Fe})}),_e.jsx("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 z-20 w-[85%] max-w-sm md:px-0 no-print",children:_e.jsx(yee,{onSelectLocation:Le})}),_e.jsxs("div",{id:"export-controls",className:"absolute top-4 right-4 z-20 flex flex-col items-end",children:[_e.jsx("button",{onClick:()=>K(!H),className:"bg-slate-800 hover:bg-slate-700 text-slate-200 p-2.5 rounded-lg border border-slate-600 shadow-xl transition-all",children:_e.jsx(K_,{size:20})}),H&&_e.jsxs("div",{className:"mt-2 bg-slate-900 border border-slate-700 rounded-lg shadow-xl overflow-hidden flex flex-col animate-in fade-in slide-in-from-top-2 w-40",children:[_e.jsxs("button",{onClick:()=>Oe("png"),className:"flex items-center gap-3 px-4 py-3 hover:bg-slate-800 text-sm text-left text-slate-300 hover:text-white border-b border-slate-800",children:[_e.jsx(fee,{size:16,className:"text-emerald-400"})," ",_e.jsx("span",{children:"Imagen PNG"})]}),_e.jsxs("button",{onClick:()=>Oe("pdf"),className:"flex items-center gap-3 px-4 py-3 hover:bg-slate-800 text-sm text-left text-slate-300 hover:text-white",children:[_e.jsx(cee,{size:16,className:"text-rose-400"})," ",_e.jsx("span",{children:"Reporte PDF"})]})]})]}),Y&&_e.jsxs("div",{id:"export-overlay",className:"absolute inset-0 z-[60] bg-slate-900/90 backdrop-blur-sm flex flex-col items-center justify-center cursor-wait",children:[_e.jsx("div",{className:"animate-spin text-emerald-500 mb-4",children:_e.jsx(K_,{size:40})}),_e.jsx("p",{className:"text-xl font-bold text-white",children:"Generando captura..."})]}),_e.jsx(gee,{ref:He,mapData:e,onLocationSelect:de,flyToLocation:s,radius:f,highlightedName:F,highlightedIds:r?.topIds}),w&&_e.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-slate-900/80",children:_e.jsx("div",{className:"text-emerald-400 font-bold animate-pulse",children:"Cargando..."})}),r&&_e.jsxs("div",{className:`
            fixed z-30 transition-transform duration-300 ease-in-out shadow-2xl border-slate-700 bg-slate-900/95 backdrop-blur-md
            bottom-0 left-0 right-0 w-full rounded-t-2xl border-t border-x max-h-[45vh] flex flex-col
            md:top-20 md:bottom-6 md:left-4 md:right-auto md:w-80 md:max-h-[85vh] md:rounded-2xl md:border
            ${j?"translate-y-0 md:translate-x-0":"translate-y-[100%] md:-translate-x-[calc(100%+2rem)]"}
        `,children:[_e.jsx("div",{onClick:()=>k(!j),className:"md:hidden w-full h-6 flex items-center justify-center cursor-pointer border-b border-white/5 active:bg-white/5 shrink-0 hover:bg-white/5 transition-colors",children:_e.jsx("div",{className:"w-12 h-1 bg-slate-600 rounded-full"})}),_e.jsx("button",{onClick:()=>k(!j),className:`hidden md:flex absolute top-6 -right-8 w-8 h-10 bg-slate-800 border-y border-r border-slate-600 text-emerald-400 hover:text-white hover:bg-slate-700 rounded-r-lg shadow-lg items-center justify-center transition-opacity duration-300 no-print ${j?"opacity-100":"opacity-0 pointer-events-none"}`,children:_e.jsx(J6,{size:20})}),_e.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[_e.jsx("div",{className:"p-5 pb-0 shrink-0",children:_e.jsxs("div",{className:"flex justify-between items-start mb-4 border-b border-slate-700 pb-4",children:[_e.jsxs("div",{children:[_e.jsxs("h1",{className:"text-lg font-bold text-white leading-none flex items-center gap-2",children:[_e.jsx(vS,{size:18,className:"text-emerald-400"})," Anlisis Zonal"]}),_e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Radio de impacto"})]}),_e.jsx("div",{className:"flex bg-slate-800 rounded-lg p-1 gap-1",children:[1,3,5].map(Ne=>_e.jsxs("button",{onClick:()=>Ue(Ne),className:`text-xs font-bold px-2 py-1 rounded transition-all ${f===Ne?"bg-emerald-500 text-white shadow":"text-slate-400 hover:text-white hover:bg-slate-700"}`,children:[Ne,"km"]},Ne))})]})}),_e.jsxs("div",{className:"flex-1 overflow-y-auto overflow-x-hidden custom-scrollbar p-5 pt-0 pb-10",children:[_e.jsxs("div",{className:"mb-4 flex items-end justify-between mt-2",children:[_e.jsxs("div",{children:[_e.jsxs("div",{className:`flex items-center gap-2 text-xl font-bold ${r.stats.trend>0?"text-rose-400":"text-emerald-400"}`,children:[r.stats.trend>0?_e.jsx(wS,{size:20}):_e.jsx(bS,{size:20}),Math.abs(r.stats.trend).toFixed(1),"%"]}),_e.jsx("p",{className:"text-xs text-slate-500",children:"Variacin (5 aos)"})]}),_e.jsxs("div",{className:"text-right",children:[_e.jsx("span",{className:"text-3xl font-bold text-white block leading-none",children:r.stats.count}),_e.jsx("span",{className:"text-xs text-slate-400",children:"Industrias"})]})]}),_e.jsxs("div",{className:"mb-4 border-b border-slate-700 pb-6",children:[_e.jsx("div",{className:"flex justify-between items-center mb-1",children:_e.jsx("p",{className:"text-[10px] text-slate-400 uppercase tracking-wider font-bold",children:"Evolucin por Industria (Top 5)"})}),_e.jsx(Bee,{data:r.chartData,keys:r.lineKeys,onHoverHighlight:T})]}),_e.jsx(Cee,{analysis:r}),r.nearest&&_e.jsx("div",{className:"bg-slate-800/50 p-3 rounded-xl border border-slate-700 mt-4 mb-2",children:_e.jsxs("div",{className:"flex items-start gap-3",children:[_e.jsx("div",{className:"bg-slate-700 p-2 rounded-full mt-1 shrink-0",children:_e.jsx(uee,{size:14,className:"text-slate-300"})}),_e.jsxs("div",{className:"w-full min-w-0",children:[_e.jsx("p",{className:"font-bold text-slate-400 text-[10px] uppercase tracking-widest mb-1",children:"Referencia ms cercana"}),_e.jsx("p",{className:"font-bold text-sm text-white leading-snug break-words mb-1.5",children:r.nearest.properties.name}),_e.jsxs("div",{className:"flex flex-wrap gap-2 items-center justify-between",children:[_e.jsx("span",{className:"text-[10px] bg-cyan-900/30 px-2 py-0.5 rounded text-cyan-400 border border-cyan-800/50 font-bold tracking-wide",children:r.nearest.properties.category}),_e.jsxs("div",{className:"flex items-center gap-3",children:[_e.jsxs("span",{className:"text-[10px] text-slate-400",children:["Total 4 aos: ",_e.jsxs("strong",{className:"text-emerald-400",children:[r.nearest.properties.total_tonnage?.toLocaleString("es-CL",{maximumFractionDigits:0})," t"]})]}),_e.jsxs("span",{className:"text-xs text-slate-300 font-mono font-bold",children:[r.nearest.properties.distance.toFixed(2)," km"]})]})]})]})]})})]})]})]}),r&&!j&&_e.jsx("button",{onClick:()=>k(!0),className:"absolute left-0 top-20 md:top-20 bg-slate-900 border-r border-y border-slate-600 text-emerald-400 p-3 rounded-r-xl shadow-2xl hover:bg-slate-800 hover:text-white transition-all animate-in slide-in-from-left-2 z-20 no-print",children:_e.jsx(eD,{size:24})})]})}fN.createRoot(document.getElementById("root")).render(_e.jsx(te.StrictMode,{children:_e.jsx(zle,{})}));export{Ri as _,jle as c,Sh as g};
